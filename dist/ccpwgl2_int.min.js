!function(e,t){if("object"==typeof exports&&"object"==typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var r=t();for(var i in r)("object"==typeof exports?exports:e)[i]=r[i]}}(window,(function(){return function(e){var t={};function r(i){if(t[i])return t[i].exports;var n=t[i]={i:i,l:!1,exports:{}};return e[i].call(n.exports,n,n.exports,r),n.l=!0,n.exports}return r.m=e,r.c=t,r.d=function(e,t,i){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(r.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)r.d(i,n,function(t){return e[t]}.bind(null,n));return i},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s="./index.js")}({"../node_modules/core-js/internals/a-function.js":function(e,t){e.exports=function(e){if("function"!=typeof e)throw TypeError(String(e)+" is not a function");return e}},"../node_modules/core-js/internals/a-possible-prototype.js":function(e,t,r){var i=r("../node_modules/core-js/internals/is-object.js");e.exports=function(e){if(!i(e)&&null!==e)throw TypeError("Can't set "+String(e)+" as a prototype");return e}},"../node_modules/core-js/internals/add-to-unscopables.js":function(e,t,r){var i=r("../node_modules/core-js/internals/well-known-symbol.js"),n=r("../node_modules/core-js/internals/object-create.js"),a=r("../node_modules/core-js/internals/object-define-property.js"),o=i("unscopables"),s=Array.prototype;null==s[o]&&a.f(s,o,{configurable:!0,value:n(null)}),e.exports=function(e){s[o][e]=!0}},"../node_modules/core-js/internals/advance-string-index.js":function(e,t,r){"use strict";var i=r("../node_modules/core-js/internals/string-multibyte.js").charAt;e.exports=function(e,t,r){return t+(r?i(e,t).length:1)}},"../node_modules/core-js/internals/an-instance.js":function(e,t){e.exports=function(e,t,r){if(!(e instanceof t))throw TypeError("Incorrect "+(r?r+" ":"")+"invocation");return e}},"../node_modules/core-js/internals/an-object.js":function(e,t,r){var i=r("../node_modules/core-js/internals/is-object.js");e.exports=function(e){if(!i(e))throw TypeError(String(e)+" is not an object");return e}},"../node_modules/core-js/internals/array-buffer-native.js":function(e,t){e.exports="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof DataView},"../node_modules/core-js/internals/array-buffer-view-core.js":function(e,t,r){"use strict";var i,n=r("../node_modules/core-js/internals/array-buffer-native.js"),a=r("../node_modules/core-js/internals/descriptors.js"),o=r("../node_modules/core-js/internals/global.js"),s=r("../node_modules/core-js/internals/is-object.js"),u=r("../node_modules/core-js/internals/has.js"),l=r("../node_modules/core-js/internals/classof.js"),c=r("../node_modules/core-js/internals/create-non-enumerable-property.js"),f=r("../node_modules/core-js/internals/redefine.js"),d=r("../node_modules/core-js/internals/object-define-property.js").f,h=r("../node_modules/core-js/internals/object-get-prototype-of.js"),m=r("../node_modules/core-js/internals/object-set-prototype-of.js"),p=r("../node_modules/core-js/internals/well-known-symbol.js"),b=r("../node_modules/core-js/internals/uid.js"),v=o.Int8Array,g=v&&v.prototype,E=o.Uint8ClampedArray,y=E&&E.prototype,T=v&&h(v),S=g&&h(g),w=Object.prototype,_=w.isPrototypeOf,R=p("toStringTag"),j=b("TYPED_ARRAY_TAG"),A=n&&!!m&&"Opera"!==l(o.opera),O=!1,z={Int8Array:1,Uint8Array:1,Uint8ClampedArray:1,Int16Array:2,Uint16Array:2,Int32Array:4,Uint32Array:4,Float32Array:4,Float64Array:8},P=function(e){return s(e)&&u(z,l(e))};for(i in z)o[i]||(A=!1);if((!A||"function"!=typeof T||T===Function.prototype)&&(T=function(){throw TypeError("Incorrect invocation")},A))for(i in z)o[i]&&m(o[i],T);if((!A||!S||S===w)&&(S=T.prototype,A))for(i in z)o[i]&&m(o[i].prototype,S);if(A&&h(y)!==S&&m(y,S),a&&!u(S,R))for(i in O=!0,d(S,R,{get:function(){return s(this)?this[j]:void 0}}),z)o[i]&&c(o[i],j,i);e.exports={NATIVE_ARRAY_BUFFER_VIEWS:A,TYPED_ARRAY_TAG:O&&j,aTypedArray:function(e){if(P(e))return e;throw TypeError("Target is not a typed array")},aTypedArrayConstructor:function(e){if(m){if(_.call(T,e))return e}else for(var t in z)if(u(z,i)){var r=o[t];if(r&&(e===r||_.call(r,e)))return e}throw TypeError("Target is not a typed array constructor")},exportTypedArrayMethod:function(e,t,r){if(a){if(r)for(var i in z){var n=o[i];n&&u(n.prototype,e)&&delete n.prototype[e]}S[e]&&!r||f(S,e,r?t:A&&g[e]||t)}},exportTypedArrayStaticMethod:function(e,t,r){var i,n;if(a){if(m){if(r)for(i in z)(n=o[i])&&u(n,e)&&delete n[e];if(T[e]&&!r)return;try{return f(T,e,r?t:A&&v[e]||t)}catch(e){}}for(i in z)!(n=o[i])||n[e]&&!r||f(n,e,t)}},isView:function(e){var t=l(e);return"DataView"===t||u(z,t)},isTypedArray:P,TypedArray:T,TypedArrayPrototype:S}},"../node_modules/core-js/internals/array-buffer.js":function(e,t,r){"use strict";var i=r("../node_modules/core-js/internals/global.js"),n=r("../node_modules/core-js/internals/descriptors.js"),a=r("../node_modules/core-js/internals/array-buffer-native.js"),o=r("../node_modules/core-js/internals/create-non-enumerable-property.js"),s=r("../node_modules/core-js/internals/redefine-all.js"),u=r("../node_modules/core-js/internals/fails.js"),l=r("../node_modules/core-js/internals/an-instance.js"),c=r("../node_modules/core-js/internals/to-integer.js"),f=r("../node_modules/core-js/internals/to-length.js"),d=r("../node_modules/core-js/internals/to-index.js"),h=r("../node_modules/core-js/internals/ieee754.js"),m=r("../node_modules/core-js/internals/object-get-prototype-of.js"),p=r("../node_modules/core-js/internals/object-set-prototype-of.js"),b=r("../node_modules/core-js/internals/object-get-own-property-names.js").f,v=r("../node_modules/core-js/internals/object-define-property.js").f,g=r("../node_modules/core-js/internals/array-fill.js"),E=r("../node_modules/core-js/internals/set-to-string-tag.js"),y=r("../node_modules/core-js/internals/internal-state.js"),T=y.get,S=y.set,w=i.ArrayBuffer,_=w,R=i.DataView,j=R&&R.prototype,A=Object.prototype,O=i.RangeError,z=h.pack,P=h.unpack,x=function(e){return[255&e]},C=function(e){return[255&e,e>>8&255]},D=function(e){return[255&e,e>>8&255,e>>16&255,e>>24&255]},M=function(e){return e[3]<<24|e[2]<<16|e[1]<<8|e[0]},L=function(e){return z(e,23,4)},I=function(e){return z(e,52,8)},F=function(e,t){v(e.prototype,t,{get:function(){return T(this)[t]}})},G=function(e,t,r,i){var n=d(r),a=T(e);if(n+t>a.byteLength)throw O("Wrong index");var o=T(a.buffer).bytes,s=n+a.byteOffset,u=o.slice(s,s+t);return i?u:u.reverse()},N=function(e,t,r,i,n,a){var o=d(r),s=T(e);if(o+t>s.byteLength)throw O("Wrong index");for(var u=T(s.buffer).bytes,l=o+s.byteOffset,c=i(+n),f=0;f<t;f++)u[l+f]=c[a?f:t-f-1]};if(a){if(!u((function(){w(1)}))||!u((function(){new w(-1)}))||u((function(){return new w,new w(1.5),new w(NaN),"ArrayBuffer"!=w.name}))){for(var B,U=(_=function(e){return l(this,_),new w(d(e))}).prototype=w.prototype,V=b(w),k=0;V.length>k;)(B=V[k++])in _||o(_,B,w[B]);U.constructor=_}p&&m(j)!==A&&p(j,A);var H=new R(new _(2)),q=j.setInt8;H.setInt8(0,2147483648),H.setInt8(1,2147483649),!H.getInt8(0)&&H.getInt8(1)||s(j,{setInt8:function(e,t){q.call(this,e,t<<24>>24)},setUint8:function(e,t){q.call(this,e,t<<24>>24)}},{unsafe:!0})}else _=function(e){l(this,_,"ArrayBuffer");var t=d(e);S(this,{bytes:g.call(new Array(t),0),byteLength:t}),n||(this.byteLength=t)},R=function(e,t,r){l(this,R,"DataView"),l(e,_,"DataView");var i=T(e).byteLength,a=c(t);if(a<0||a>i)throw O("Wrong offset");if(a+(r=void 0===r?i-a:f(r))>i)throw O("Wrong length");S(this,{buffer:e,byteLength:r,byteOffset:a}),n||(this.buffer=e,this.byteLength=r,this.byteOffset=a)},n&&(F(_,"byteLength"),F(R,"buffer"),F(R,"byteLength"),F(R,"byteOffset")),s(R.prototype,{getInt8:function(e){return G(this,1,e)[0]<<24>>24},getUint8:function(e){return G(this,1,e)[0]},getInt16:function(e){var t=G(this,2,e,arguments.length>1?arguments[1]:void 0);return(t[1]<<8|t[0])<<16>>16},getUint16:function(e){var t=G(this,2,e,arguments.length>1?arguments[1]:void 0);return t[1]<<8|t[0]},getInt32:function(e){return M(G(this,4,e,arguments.length>1?arguments[1]:void 0))},getUint32:function(e){return M(G(this,4,e,arguments.length>1?arguments[1]:void 0))>>>0},getFloat32:function(e){return P(G(this,4,e,arguments.length>1?arguments[1]:void 0),23)},getFloat64:function(e){return P(G(this,8,e,arguments.length>1?arguments[1]:void 0),52)},setInt8:function(e,t){N(this,1,e,x,t)},setUint8:function(e,t){N(this,1,e,x,t)},setInt16:function(e,t){N(this,2,e,C,t,arguments.length>2?arguments[2]:void 0)},setUint16:function(e,t){N(this,2,e,C,t,arguments.length>2?arguments[2]:void 0)},setInt32:function(e,t){N(this,4,e,D,t,arguments.length>2?arguments[2]:void 0)},setUint32:function(e,t){N(this,4,e,D,t,arguments.length>2?arguments[2]:void 0)},setFloat32:function(e,t){N(this,4,e,L,t,arguments.length>2?arguments[2]:void 0)},setFloat64:function(e,t){N(this,8,e,I,t,arguments.length>2?arguments[2]:void 0)}});E(_,"ArrayBuffer"),E(R,"DataView"),e.exports={ArrayBuffer:_,DataView:R}},"../node_modules/core-js/internals/array-fill.js":function(e,t,r){"use strict";var i=r("../node_modules/core-js/internals/to-object.js"),n=r("../node_modules/core-js/internals/to-absolute-index.js"),a=r("../node_modules/core-js/internals/to-length.js");e.exports=function(e){for(var t=i(this),r=a(t.length),o=arguments.length,s=n(o>1?arguments[1]:void 0,r),u=o>2?arguments[2]:void 0,l=void 0===u?r:n(u,r);l>s;)t[s++]=e;return t}},"../node_modules/core-js/internals/array-for-each.js":function(e,t,r){"use strict";var i=r("../node_modules/core-js/internals/array-iteration.js").forEach,n=r("../node_modules/core-js/internals/array-method-is-strict.js"),a=r("../node_modules/core-js/internals/array-method-uses-to-length.js"),o=n("forEach"),s=a("forEach");e.exports=o&&s?[].forEach:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}},"../node_modules/core-js/internals/array-from.js":function(e,t,r){"use strict";var i=r("../node_modules/core-js/internals/function-bind-context.js"),n=r("../node_modules/core-js/internals/to-object.js"),a=r("../node_modules/core-js/internals/call-with-safe-iteration-closing.js"),o=r("../node_modules/core-js/internals/is-array-iterator-method.js"),s=r("../node_modules/core-js/internals/to-length.js"),u=r("../node_modules/core-js/internals/create-property.js"),l=r("../node_modules/core-js/internals/get-iterator-method.js");e.exports=function(e){var t,r,c,f,d,h,m=n(e),p="function"==typeof this?this:Array,b=arguments.length,v=b>1?arguments[1]:void 0,g=void 0!==v,E=l(m),y=0;if(g&&(v=i(v,b>2?arguments[2]:void 0,2)),null==E||p==Array&&o(E))for(r=new p(t=s(m.length));t>y;y++)h=g?v(m[y],y):m[y],u(r,y,h);else for(d=(f=E.call(m)).next,r=new p;!(c=d.call(f)).done;y++)h=g?a(f,v,[c.value,y],!0):c.value,u(r,y,h);return r.length=y,r}},"../node_modules/core-js/internals/array-includes.js":function(e,t,r){var i=r("../node_modules/core-js/internals/to-indexed-object.js"),n=r("../node_modules/core-js/internals/to-length.js"),a=r("../node_modules/core-js/internals/to-absolute-index.js"),o=function(e){return function(t,r,o){var s,u=i(t),l=n(u.length),c=a(o,l);if(e&&r!=r){for(;l>c;)if((s=u[c++])!=s)return!0}else for(;l>c;c++)if((e||c in u)&&u[c]===r)return e||c||0;return!e&&-1}};e.exports={includes:o(!0),indexOf:o(!1)}},"../node_modules/core-js/internals/array-iteration.js":function(e,t,r){var i=r("../node_modules/core-js/internals/function-bind-context.js"),n=r("../node_modules/core-js/internals/indexed-object.js"),a=r("../node_modules/core-js/internals/to-object.js"),o=r("../node_modules/core-js/internals/to-length.js"),s=r("../node_modules/core-js/internals/array-species-create.js"),u=[].push,l=function(e){var t=1==e,r=2==e,l=3==e,c=4==e,f=6==e,d=5==e||f;return function(h,m,p,b){for(var v,g,E=a(h),y=n(E),T=i(m,p,3),S=o(y.length),w=0,_=b||s,R=t?_(h,S):r?_(h,0):void 0;S>w;w++)if((d||w in y)&&(g=T(v=y[w],w,E),e))if(t)R[w]=g;else if(g)switch(e){case 3:return!0;case 5:return v;case 6:return w;case 2:u.call(R,v)}else if(c)return!1;return f?-1:l||c?c:R}};e.exports={forEach:l(0),map:l(1),filter:l(2),some:l(3),every:l(4),find:l(5),findIndex:l(6)}},"../node_modules/core-js/internals/array-last-index-of.js":function(e,t,r){"use strict";var i=r("../node_modules/core-js/internals/to-indexed-object.js"),n=r("../node_modules/core-js/internals/to-integer.js"),a=r("../node_modules/core-js/internals/to-length.js"),o=r("../node_modules/core-js/internals/array-method-is-strict.js"),s=r("../node_modules/core-js/internals/array-method-uses-to-length.js"),u=Math.min,l=[].lastIndexOf,c=!!l&&1/[1].lastIndexOf(1,-0)<0,f=o("lastIndexOf"),d=s("indexOf",{ACCESSORS:!0,1:0}),h=c||!f||!d;e.exports=h?function(e){if(c)return l.apply(this,arguments)||0;var t=i(this),r=a(t.length),o=r-1;for(arguments.length>1&&(o=u(o,n(arguments[1]))),o<0&&(o=r+o);o>=0;o--)if(o in t&&t[o]===e)return o||0;return-1}:l},"../node_modules/core-js/internals/array-method-has-species-support.js":function(e,t,r){var i=r("../node_modules/core-js/internals/fails.js"),n=r("../node_modules/core-js/internals/well-known-symbol.js"),a=r("../node_modules/core-js/internals/engine-v8-version.js"),o=n("species");e.exports=function(e){return a>=51||!i((function(){var t=[];return(t.constructor={})[o]=function(){return{foo:1}},1!==t[e](Boolean).foo}))}},"../node_modules/core-js/internals/array-method-is-strict.js":function(e,t,r){"use strict";var i=r("../node_modules/core-js/internals/fails.js");e.exports=function(e,t){var r=[][e];return!!r&&i((function(){r.call(null,t||function(){throw 1},1)}))}},"../node_modules/core-js/internals/array-method-uses-to-length.js":function(e,t,r){var i=r("../node_modules/core-js/internals/descriptors.js"),n=r("../node_modules/core-js/internals/fails.js"),a=r("../node_modules/core-js/internals/has.js"),o=Object.defineProperty,s={},u=function(e){throw e};e.exports=function(e,t){if(a(s,e))return s[e];t||(t={});var r=[][e],l=!!a(t,"ACCESSORS")&&t.ACCESSORS,c=a(t,0)?t[0]:u,f=a(t,1)?t[1]:void 0;return s[e]=!!r&&!n((function(){if(l&&!i)return!0;var e={length:-1};l?o(e,1,{enumerable:!0,get:u}):e[1]=1,r.call(e,c,f)}))}},"../node_modules/core-js/internals/array-species-create.js":function(e,t,r){var i=r("../node_modules/core-js/internals/is-object.js"),n=r("../node_modules/core-js/internals/is-array.js"),a=r("../node_modules/core-js/internals/well-known-symbol.js")("species");e.exports=function(e,t){var r;return n(e)&&("function"!=typeof(r=e.constructor)||r!==Array&&!n(r.prototype)?i(r)&&null===(r=r[a])&&(r=void 0):r=void 0),new(void 0===r?Array:r)(0===t?0:t)}},"../node_modules/core-js/internals/call-with-safe-iteration-closing.js":function(e,t,r){var i=r("../node_modules/core-js/internals/an-object.js");e.exports=function(e,t,r,n){try{return n?t(i(r)[0],r[1]):t(r)}catch(t){var a=e.return;throw void 0!==a&&i(a.call(e)),t}}},"../node_modules/core-js/internals/check-correctness-of-iteration.js":function(e,t,r){var i=r("../node_modules/core-js/internals/well-known-symbol.js")("iterator"),n=!1;try{var a=0,o={next:function(){return{done:!!a++}},return:function(){n=!0}};o[i]=function(){return this},Array.from(o,(function(){throw 2}))}catch(e){}e.exports=function(e,t){if(!t&&!n)return!1;var r=!1;try{var a={};a[i]=function(){return{next:function(){return{done:r=!0}}}},e(a)}catch(e){}return r}},"../node_modules/core-js/internals/classof-raw.js":function(e,t){var r={}.toString;e.exports=function(e){return r.call(e).slice(8,-1)}},"../node_modules/core-js/internals/classof.js":function(e,t,r){var i=r("../node_modules/core-js/internals/to-string-tag-support.js"),n=r("../node_modules/core-js/internals/classof-raw.js"),a=r("../node_modules/core-js/internals/well-known-symbol.js")("toStringTag"),o="Arguments"==n(function(){return arguments}());e.exports=i?n:function(e){var t,r,i;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(r=function(e,t){try{return e[t]}catch(e){}}(t=Object(e),a))?r:o?n(t):"Object"==(i=n(t))&&"function"==typeof t.callee?"Arguments":i}},"../node_modules/core-js/internals/copy-constructor-properties.js":function(e,t,r){var i=r("../node_modules/core-js/internals/has.js"),n=r("../node_modules/core-js/internals/own-keys.js"),a=r("../node_modules/core-js/internals/object-get-own-property-descriptor.js"),o=r("../node_modules/core-js/internals/object-define-property.js");e.exports=function(e,t){for(var r=n(t),s=o.f,u=a.f,l=0;l<r.length;l++){var c=r[l];i(e,c)||s(e,c,u(t,c))}}},"../node_modules/core-js/internals/correct-prototype-getter.js":function(e,t,r){var i=r("../node_modules/core-js/internals/fails.js");e.exports=!i((function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype}))},"../node_modules/core-js/internals/create-iterator-constructor.js":function(e,t,r){"use strict";var i=r("../node_modules/core-js/internals/iterators-core.js").IteratorPrototype,n=r("../node_modules/core-js/internals/object-create.js"),a=r("../node_modules/core-js/internals/create-property-descriptor.js"),o=r("../node_modules/core-js/internals/set-to-string-tag.js"),s=r("../node_modules/core-js/internals/iterators.js"),u=function(){return this};e.exports=function(e,t,r){var l=t+" Iterator";return e.prototype=n(i,{next:a(1,r)}),o(e,l,!1,!0),s[l]=u,e}},"../node_modules/core-js/internals/create-non-enumerable-property.js":function(e,t,r){var i=r("../node_modules/core-js/internals/descriptors.js"),n=r("../node_modules/core-js/internals/object-define-property.js"),a=r("../node_modules/core-js/internals/create-property-descriptor.js");e.exports=i?function(e,t,r){return n.f(e,t,a(1,r))}:function(e,t,r){return e[t]=r,e}},"../node_modules/core-js/internals/create-property-descriptor.js":function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},"../node_modules/core-js/internals/create-property.js":function(e,t,r){"use strict";var i=r("../node_modules/core-js/internals/to-primitive.js"),n=r("../node_modules/core-js/internals/object-define-property.js"),a=r("../node_modules/core-js/internals/create-property-descriptor.js");e.exports=function(e,t,r){var o=i(t);o in e?n.f(e,o,a(0,r)):e[o]=r}},"../node_modules/core-js/internals/define-iterator.js":function(e,t,r){"use strict";var i=r("../node_modules/core-js/internals/export.js"),n=r("../node_modules/core-js/internals/create-iterator-constructor.js"),a=r("../node_modules/core-js/internals/object-get-prototype-of.js"),o=r("../node_modules/core-js/internals/object-set-prototype-of.js"),s=r("../node_modules/core-js/internals/set-to-string-tag.js"),u=r("../node_modules/core-js/internals/create-non-enumerable-property.js"),l=r("../node_modules/core-js/internals/redefine.js"),c=r("../node_modules/core-js/internals/well-known-symbol.js"),f=r("../node_modules/core-js/internals/is-pure.js"),d=r("../node_modules/core-js/internals/iterators.js"),h=r("../node_modules/core-js/internals/iterators-core.js"),m=h.IteratorPrototype,p=h.BUGGY_SAFARI_ITERATORS,b=c("iterator"),v=function(){return this};e.exports=function(e,t,r,c,h,g,E){n(r,t,c);var y,T,S,w=function(e){if(e===h&&O)return O;if(!p&&e in j)return j[e];switch(e){case"keys":case"values":case"entries":return function(){return new r(this,e)}}return function(){return new r(this)}},_=t+" Iterator",R=!1,j=e.prototype,A=j[b]||j["@@iterator"]||h&&j[h],O=!p&&A||w(h),z="Array"==t&&j.entries||A;if(z&&(y=a(z.call(new e)),m!==Object.prototype&&y.next&&(f||a(y)===m||(o?o(y,m):"function"!=typeof y[b]&&u(y,b,v)),s(y,_,!0,!0),f&&(d[_]=v))),"values"==h&&A&&"values"!==A.name&&(R=!0,O=function(){return A.call(this)}),f&&!E||j[b]===O||u(j,b,O),d[t]=O,h)if(T={values:w("values"),keys:g?O:w("keys"),entries:w("entries")},E)for(S in T)(p||R||!(S in j))&&l(j,S,T[S]);else i({target:t,proto:!0,forced:p||R},T);return T}},"../node_modules/core-js/internals/define-well-known-symbol.js":function(e,t,r){var i=r("../node_modules/core-js/internals/path.js"),n=r("../node_modules/core-js/internals/has.js"),a=r("../node_modules/core-js/internals/well-known-symbol-wrapped.js"),o=r("../node_modules/core-js/internals/object-define-property.js").f;e.exports=function(e){var t=i.Symbol||(i.Symbol={});n(t,e)||o(t,e,{value:a.f(e)})}},"../node_modules/core-js/internals/descriptors.js":function(e,t,r){var i=r("../node_modules/core-js/internals/fails.js");e.exports=!i((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}))},"../node_modules/core-js/internals/document-create-element.js":function(e,t,r){var i=r("../node_modules/core-js/internals/global.js"),n=r("../node_modules/core-js/internals/is-object.js"),a=i.document,o=n(a)&&n(a.createElement);e.exports=function(e){return o?a.createElement(e):{}}},"../node_modules/core-js/internals/dom-iterables.js":function(e,t){e.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},"../node_modules/core-js/internals/engine-is-ios.js":function(e,t,r){var i=r("../node_modules/core-js/internals/engine-user-agent.js");e.exports=/(iphone|ipod|ipad).*applewebkit/i.test(i)},"../node_modules/core-js/internals/engine-user-agent.js":function(e,t,r){var i=r("../node_modules/core-js/internals/get-built-in.js");e.exports=i("navigator","userAgent")||""},"../node_modules/core-js/internals/engine-v8-version.js":function(e,t,r){var i,n,a=r("../node_modules/core-js/internals/global.js"),o=r("../node_modules/core-js/internals/engine-user-agent.js"),s=a.process,u=s&&s.versions,l=u&&u.v8;l?n=(i=l.split("."))[0]+i[1]:o&&(!(i=o.match(/Edge\/(\d+)/))||i[1]>=74)&&(i=o.match(/Chrome\/(\d+)/))&&(n=i[1]),e.exports=n&&+n},"../node_modules/core-js/internals/enum-bug-keys.js":function(e,t){e.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},"../node_modules/core-js/internals/export.js":function(e,t,r){var i=r("../node_modules/core-js/internals/global.js"),n=r("../node_modules/core-js/internals/object-get-own-property-descriptor.js").f,a=r("../node_modules/core-js/internals/create-non-enumerable-property.js"),o=r("../node_modules/core-js/internals/redefine.js"),s=r("../node_modules/core-js/internals/set-global.js"),u=r("../node_modules/core-js/internals/copy-constructor-properties.js"),l=r("../node_modules/core-js/internals/is-forced.js");e.exports=function(e,t){var r,c,f,d,h,m=e.target,p=e.global,b=e.stat;if(r=p?i:b?i[m]||s(m,{}):(i[m]||{}).prototype)for(c in t){if(d=t[c],f=e.noTargetGet?(h=n(r,c))&&h.value:r[c],!l(p?c:m+(b?".":"#")+c,e.forced)&&void 0!==f){if(typeof d==typeof f)continue;u(d,f)}(e.sham||f&&f.sham)&&a(d,"sham",!0),o(r,c,d,e)}}},"../node_modules/core-js/internals/fails.js":function(e,t){e.exports=function(e){try{return!!e()}catch(e){return!0}}},"../node_modules/core-js/internals/fix-regexp-well-known-symbol-logic.js":function(e,t,r){"use strict";r("../node_modules/core-js/modules/es.regexp.exec.js");var i=r("../node_modules/core-js/internals/redefine.js"),n=r("../node_modules/core-js/internals/fails.js"),a=r("../node_modules/core-js/internals/well-known-symbol.js"),o=r("../node_modules/core-js/internals/regexp-exec.js"),s=r("../node_modules/core-js/internals/create-non-enumerable-property.js"),u=a("species"),l=!n((function(){var e=/./;return e.exec=function(){var e=[];return e.groups={a:"7"},e},"7"!=="".replace(e,"$<a>")})),c="$0"==="a".replace(/./,"$0"),f=a("replace"),d=!!/./[f]&&""===/./[f]("a","$0"),h=!n((function(){var e=/(?:)/,t=e.exec;e.exec=function(){return t.apply(this,arguments)};var r="ab".split(e);return 2!==r.length||"a"!==r[0]||"b"!==r[1]}));e.exports=function(e,t,r,f){var m=a(e),p=!n((function(){var t={};return t[m]=function(){return 7},7!=""[e](t)})),b=p&&!n((function(){var t=!1,r=/a/;return"split"===e&&((r={}).constructor={},r.constructor[u]=function(){return r},r.flags="",r[m]=/./[m]),r.exec=function(){return t=!0,null},r[m](""),!t}));if(!p||!b||"replace"===e&&(!l||!c||d)||"split"===e&&!h){var v=/./[m],g=r(m,""[e],(function(e,t,r,i,n){return t.exec===o?p&&!n?{done:!0,value:v.call(t,r,i)}:{done:!0,value:e.call(r,t,i)}:{done:!1}}),{REPLACE_KEEPS_$0:c,REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE:d}),E=g[0],y=g[1];i(String.prototype,e,E),i(RegExp.prototype,m,2==t?function(e,t){return y.call(e,this,t)}:function(e){return y.call(e,this)})}f&&s(RegExp.prototype[m],"sham",!0)}},"../node_modules/core-js/internals/flatten-into-array.js":function(e,t,r){"use strict";var i=r("../node_modules/core-js/internals/is-array.js"),n=r("../node_modules/core-js/internals/to-length.js"),a=r("../node_modules/core-js/internals/function-bind-context.js"),o=function(e,t,r,s,u,l,c,f){for(var d,h=u,m=0,p=!!c&&a(c,f,3);m<s;){if(m in r){if(d=p?p(r[m],m,t):r[m],l>0&&i(d))h=o(e,t,d,n(d.length),h,l-1)-1;else{if(h>=9007199254740991)throw TypeError("Exceed the acceptable array length");e[h]=d}h++}m++}return h};e.exports=o},"../node_modules/core-js/internals/function-bind-context.js":function(e,t,r){var i=r("../node_modules/core-js/internals/a-function.js");e.exports=function(e,t,r){if(i(e),void 0===t)return e;switch(r){case 0:return function(){return e.call(t)};case 1:return function(r){return e.call(t,r)};case 2:return function(r,i){return e.call(t,r,i)};case 3:return function(r,i,n){return e.call(t,r,i,n)}}return function(){return e.apply(t,arguments)}}},"../node_modules/core-js/internals/get-built-in.js":function(e,t,r){var i=r("../node_modules/core-js/internals/path.js"),n=r("../node_modules/core-js/internals/global.js"),a=function(e){return"function"==typeof e?e:void 0};e.exports=function(e,t){return arguments.length<2?a(i[e])||a(n[e]):i[e]&&i[e][t]||n[e]&&n[e][t]}},"../node_modules/core-js/internals/get-iterator-method.js":function(e,t,r){var i=r("../node_modules/core-js/internals/classof.js"),n=r("../node_modules/core-js/internals/iterators.js"),a=r("../node_modules/core-js/internals/well-known-symbol.js")("iterator");e.exports=function(e){if(null!=e)return e[a]||e["@@iterator"]||n[i(e)]}},"../node_modules/core-js/internals/get-iterator.js":function(e,t,r){var i=r("../node_modules/core-js/internals/an-object.js"),n=r("../node_modules/core-js/internals/get-iterator-method.js");e.exports=function(e){var t=n(e);if("function"!=typeof t)throw TypeError(String(e)+" is not iterable");return i(t.call(e))}},"../node_modules/core-js/internals/global.js":function(e,t,r){(function(t){var r=function(e){return e&&e.Math==Math&&e};e.exports=r("object"==typeof globalThis&&globalThis)||r("object"==typeof window&&window)||r("object"==typeof self&&self)||r("object"==typeof t&&t)||Function("return this")()}).call(this,r("../node_modules/webpack/buildin/global.js"))},"../node_modules/core-js/internals/has.js":function(e,t){var r={}.hasOwnProperty;e.exports=function(e,t){return r.call(e,t)}},"../node_modules/core-js/internals/hidden-keys.js":function(e,t){e.exports={}},"../node_modules/core-js/internals/host-report-errors.js":function(e,t,r){var i=r("../node_modules/core-js/internals/global.js");e.exports=function(e,t){var r=i.console;r&&r.error&&(1===arguments.length?r.error(e):r.error(e,t))}},"../node_modules/core-js/internals/html.js":function(e,t,r){var i=r("../node_modules/core-js/internals/get-built-in.js");e.exports=i("document","documentElement")},"../node_modules/core-js/internals/ie8-dom-define.js":function(e,t,r){var i=r("../node_modules/core-js/internals/descriptors.js"),n=r("../node_modules/core-js/internals/fails.js"),a=r("../node_modules/core-js/internals/document-create-element.js");e.exports=!i&&!n((function(){return 7!=Object.defineProperty(a("div"),"a",{get:function(){return 7}}).a}))},"../node_modules/core-js/internals/ieee754.js":function(e,t){var r=Math.abs,i=Math.pow,n=Math.floor,a=Math.log,o=Math.LN2;e.exports={pack:function(e,t,s){var u,l,c,f=new Array(s),d=8*s-t-1,h=(1<<d)-1,m=h>>1,p=23===t?i(2,-24)-i(2,-77):0,b=e<0||0===e&&1/e<0?1:0,v=0;for((e=r(e))!=e||e===1/0?(l=e!=e?1:0,u=h):(u=n(a(e)/o),e*(c=i(2,-u))<1&&(u--,c*=2),(e+=u+m>=1?p/c:p*i(2,1-m))*c>=2&&(u++,c/=2),u+m>=h?(l=0,u=h):u+m>=1?(l=(e*c-1)*i(2,t),u+=m):(l=e*i(2,m-1)*i(2,t),u=0));t>=8;f[v++]=255&l,l/=256,t-=8);for(u=u<<t|l,d+=t;d>0;f[v++]=255&u,u/=256,d-=8);return f[--v]|=128*b,f},unpack:function(e,t){var r,n=e.length,a=8*n-t-1,o=(1<<a)-1,s=o>>1,u=a-7,l=n-1,c=e[l--],f=127&c;for(c>>=7;u>0;f=256*f+e[l],l--,u-=8);for(r=f&(1<<-u)-1,f>>=-u,u+=t;u>0;r=256*r+e[l],l--,u-=8);if(0===f)f=1-s;else{if(f===o)return r?NaN:c?-1/0:1/0;r+=i(2,t),f-=s}return(c?-1:1)*r*i(2,f-t)}}},"../node_modules/core-js/internals/indexed-object.js":function(e,t,r){var i=r("../node_modules/core-js/internals/fails.js"),n=r("../node_modules/core-js/internals/classof-raw.js"),a="".split;e.exports=i((function(){return!Object("z").propertyIsEnumerable(0)}))?function(e){return"String"==n(e)?a.call(e,""):Object(e)}:Object},"../node_modules/core-js/internals/inherit-if-required.js":function(e,t,r){var i=r("../node_modules/core-js/internals/is-object.js"),n=r("../node_modules/core-js/internals/object-set-prototype-of.js");e.exports=function(e,t,r){var a,o;return n&&"function"==typeof(a=t.constructor)&&a!==r&&i(o=a.prototype)&&o!==r.prototype&&n(e,o),e}},"../node_modules/core-js/internals/inspect-source.js":function(e,t,r){var i=r("../node_modules/core-js/internals/shared-store.js"),n=Function.toString;"function"!=typeof i.inspectSource&&(i.inspectSource=function(e){return n.call(e)}),e.exports=i.inspectSource},"../node_modules/core-js/internals/internal-state.js":function(e,t,r){var i,n,a,o=r("../node_modules/core-js/internals/native-weak-map.js"),s=r("../node_modules/core-js/internals/global.js"),u=r("../node_modules/core-js/internals/is-object.js"),l=r("../node_modules/core-js/internals/create-non-enumerable-property.js"),c=r("../node_modules/core-js/internals/has.js"),f=r("../node_modules/core-js/internals/shared-key.js"),d=r("../node_modules/core-js/internals/hidden-keys.js"),h=s.WeakMap;if(o){var m=new h,p=m.get,b=m.has,v=m.set;i=function(e,t){return v.call(m,e,t),t},n=function(e){return p.call(m,e)||{}},a=function(e){return b.call(m,e)}}else{var g=f("state");d[g]=!0,i=function(e,t){return l(e,g,t),t},n=function(e){return c(e,g)?e[g]:{}},a=function(e){return c(e,g)}}e.exports={set:i,get:n,has:a,enforce:function(e){return a(e)?n(e):i(e,{})},getterFor:function(e){return function(t){var r;if(!u(t)||(r=n(t)).type!==e)throw TypeError("Incompatible receiver, "+e+" required");return r}}}},"../node_modules/core-js/internals/is-array-iterator-method.js":function(e,t,r){var i=r("../node_modules/core-js/internals/well-known-symbol.js"),n=r("../node_modules/core-js/internals/iterators.js"),a=i("iterator"),o=Array.prototype;e.exports=function(e){return void 0!==e&&(n.Array===e||o[a]===e)}},"../node_modules/core-js/internals/is-array.js":function(e,t,r){var i=r("../node_modules/core-js/internals/classof-raw.js");e.exports=Array.isArray||function(e){return"Array"==i(e)}},"../node_modules/core-js/internals/is-forced.js":function(e,t,r){var i=r("../node_modules/core-js/internals/fails.js"),n=/#|\.prototype\./,a=function(e,t){var r=s[o(e)];return r==l||r!=u&&("function"==typeof t?i(t):!!t)},o=a.normalize=function(e){return String(e).replace(n,".").toLowerCase()},s=a.data={},u=a.NATIVE="N",l=a.POLYFILL="P";e.exports=a},"../node_modules/core-js/internals/is-object.js":function(e,t){e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},"../node_modules/core-js/internals/is-pure.js":function(e,t){e.exports=!1},"../node_modules/core-js/internals/iterate.js":function(e,t,r){var i=r("../node_modules/core-js/internals/an-object.js"),n=r("../node_modules/core-js/internals/is-array-iterator-method.js"),a=r("../node_modules/core-js/internals/to-length.js"),o=r("../node_modules/core-js/internals/function-bind-context.js"),s=r("../node_modules/core-js/internals/get-iterator-method.js"),u=r("../node_modules/core-js/internals/call-with-safe-iteration-closing.js"),l=function(e,t){this.stopped=e,this.result=t};(e.exports=function(e,t,r,c,f){var d,h,m,p,b,v,g,E=o(t,r,c?2:1);if(f)d=e;else{if("function"!=typeof(h=s(e)))throw TypeError("Target is not iterable");if(n(h)){for(m=0,p=a(e.length);p>m;m++)if((b=c?E(i(g=e[m])[0],g[1]):E(e[m]))&&b instanceof l)return b;return new l(!1)}d=h.call(e)}for(v=d.next;!(g=v.call(d)).done;)if("object"==typeof(b=u(d,E,g.value,c))&&b&&b instanceof l)return b;return new l(!1)}).stop=function(e){return new l(!0,e)}},"../node_modules/core-js/internals/iterators-core.js":function(e,t,r){"use strict";var i,n,a,o=r("../node_modules/core-js/internals/object-get-prototype-of.js"),s=r("../node_modules/core-js/internals/create-non-enumerable-property.js"),u=r("../node_modules/core-js/internals/has.js"),l=r("../node_modules/core-js/internals/well-known-symbol.js"),c=r("../node_modules/core-js/internals/is-pure.js"),f=l("iterator"),d=!1;[].keys&&("next"in(a=[].keys())?(n=o(o(a)))!==Object.prototype&&(i=n):d=!0),null==i&&(i={}),c||u(i,f)||s(i,f,(function(){return this})),e.exports={IteratorPrototype:i,BUGGY_SAFARI_ITERATORS:d}},"../node_modules/core-js/internals/iterators.js":function(e,t){e.exports={}},"../node_modules/core-js/internals/microtask.js":function(e,t,r){var i,n,a,o,s,u,l,c,f=r("../node_modules/core-js/internals/global.js"),d=r("../node_modules/core-js/internals/object-get-own-property-descriptor.js").f,h=r("../node_modules/core-js/internals/classof-raw.js"),m=r("../node_modules/core-js/internals/task.js").set,p=r("../node_modules/core-js/internals/engine-is-ios.js"),b=f.MutationObserver||f.WebKitMutationObserver,v=f.process,g=f.Promise,E="process"==h(v),y=d(f,"queueMicrotask"),T=y&&y.value;T||(i=function(){var e,t;for(E&&(e=v.domain)&&e.exit();n;){t=n.fn,n=n.next;try{t()}catch(e){throw n?o():a=void 0,e}}a=void 0,e&&e.enter()},E?o=function(){v.nextTick(i)}:b&&!p?(s=!0,u=document.createTextNode(""),new b(i).observe(u,{characterData:!0}),o=function(){u.data=s=!s}):g&&g.resolve?(l=g.resolve(void 0),c=l.then,o=function(){c.call(l,i)}):o=function(){m.call(f,i)}),e.exports=T||function(e){var t={fn:e,next:void 0};a&&(a.next=t),n||(n=t,o()),a=t}},"../node_modules/core-js/internals/native-promise-constructor.js":function(e,t,r){var i=r("../node_modules/core-js/internals/global.js");e.exports=i.Promise},"../node_modules/core-js/internals/native-symbol.js":function(e,t,r){var i=r("../node_modules/core-js/internals/fails.js");e.exports=!!Object.getOwnPropertySymbols&&!i((function(){return!String(Symbol())}))},"../node_modules/core-js/internals/native-url.js":function(e,t,r){var i=r("../node_modules/core-js/internals/fails.js"),n=r("../node_modules/core-js/internals/well-known-symbol.js"),a=r("../node_modules/core-js/internals/is-pure.js"),o=n("iterator");e.exports=!i((function(){var e=new URL("b?a=1&b=2&c=3","http://a"),t=e.searchParams,r="";return e.pathname="c%20d",t.forEach((function(e,i){t.delete("b"),r+=i+e})),a&&!e.toJSON||!t.sort||"http://a/c%20d?a=1&c=3"!==e.href||"3"!==t.get("c")||"a=1"!==String(new URLSearchParams("?a=1"))||!t[o]||"a"!==new URL("https://a@b").username||"b"!==new URLSearchParams(new URLSearchParams("a=b")).get("a")||"xn--e1aybc"!==new URL("http://тест").host||"#%D0%B1"!==new URL("http://a#б").hash||"a1c3"!==r||"x"!==new URL("http://x",void 0).host}))},"../node_modules/core-js/internals/native-weak-map.js":function(e,t,r){var i=r("../node_modules/core-js/internals/global.js"),n=r("../node_modules/core-js/internals/inspect-source.js"),a=i.WeakMap;e.exports="function"==typeof a&&/native code/.test(n(a))},"../node_modules/core-js/internals/new-promise-capability.js":function(e,t,r){"use strict";var i=r("../node_modules/core-js/internals/a-function.js"),n=function(e){var t,r;this.promise=new e((function(e,i){if(void 0!==t||void 0!==r)throw TypeError("Bad Promise constructor");t=e,r=i})),this.resolve=i(t),this.reject=i(r)};e.exports.f=function(e){return new n(e)}},"../node_modules/core-js/internals/number-parse-float.js":function(e,t,r){var i=r("../node_modules/core-js/internals/global.js"),n=r("../node_modules/core-js/internals/string-trim.js").trim,a=r("../node_modules/core-js/internals/whitespaces.js"),o=i.parseFloat,s=1/o(a+"-0")!=-1/0;e.exports=s?function(e){var t=n(String(e)),r=o(t);return 0===r&&"-"==t.charAt(0)?-0:r}:o},"../node_modules/core-js/internals/object-assign.js":function(e,t,r){"use strict";var i=r("../node_modules/core-js/internals/descriptors.js"),n=r("../node_modules/core-js/internals/fails.js"),a=r("../node_modules/core-js/internals/object-keys.js"),o=r("../node_modules/core-js/internals/object-get-own-property-symbols.js"),s=r("../node_modules/core-js/internals/object-property-is-enumerable.js"),u=r("../node_modules/core-js/internals/to-object.js"),l=r("../node_modules/core-js/internals/indexed-object.js"),c=Object.assign,f=Object.defineProperty;e.exports=!c||n((function(){if(i&&1!==c({b:1},c(f({},"a",{enumerable:!0,get:function(){f(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var e={},t={},r=Symbol();return e[r]=7,"abcdefghijklmnopqrst".split("").forEach((function(e){t[e]=e})),7!=c({},e)[r]||"abcdefghijklmnopqrst"!=a(c({},t)).join("")}))?function(e,t){for(var r=u(e),n=arguments.length,c=1,f=o.f,d=s.f;n>c;)for(var h,m=l(arguments[c++]),p=f?a(m).concat(f(m)):a(m),b=p.length,v=0;b>v;)h=p[v++],i&&!d.call(m,h)||(r[h]=m[h]);return r}:c},"../node_modules/core-js/internals/object-create.js":function(e,t,r){var i,n=r("../node_modules/core-js/internals/an-object.js"),a=r("../node_modules/core-js/internals/object-define-properties.js"),o=r("../node_modules/core-js/internals/enum-bug-keys.js"),s=r("../node_modules/core-js/internals/hidden-keys.js"),u=r("../node_modules/core-js/internals/html.js"),l=r("../node_modules/core-js/internals/document-create-element.js"),c=r("../node_modules/core-js/internals/shared-key.js"),f=c("IE_PROTO"),d=function(){},h=function(e){return"<script>"+e+"<\/script>"},m=function(){try{i=document.domain&&new ActiveXObject("htmlfile")}catch(e){}var e,t;m=i?function(e){e.write(h("")),e.close();var t=e.parentWindow.Object;return e=null,t}(i):((t=l("iframe")).style.display="none",u.appendChild(t),t.src=String("javascript:"),(e=t.contentWindow.document).open(),e.write(h("document.F=Object")),e.close(),e.F);for(var r=o.length;r--;)delete m.prototype[o[r]];return m()};s[f]=!0,e.exports=Object.create||function(e,t){var r;return null!==e?(d.prototype=n(e),r=new d,d.prototype=null,r[f]=e):r=m(),void 0===t?r:a(r,t)}},"../node_modules/core-js/internals/object-define-properties.js":function(e,t,r){var i=r("../node_modules/core-js/internals/descriptors.js"),n=r("../node_modules/core-js/internals/object-define-property.js"),a=r("../node_modules/core-js/internals/an-object.js"),o=r("../node_modules/core-js/internals/object-keys.js");e.exports=i?Object.defineProperties:function(e,t){a(e);for(var r,i=o(t),s=i.length,u=0;s>u;)n.f(e,r=i[u++],t[r]);return e}},"../node_modules/core-js/internals/object-define-property.js":function(e,t,r){var i=r("../node_modules/core-js/internals/descriptors.js"),n=r("../node_modules/core-js/internals/ie8-dom-define.js"),a=r("../node_modules/core-js/internals/an-object.js"),o=r("../node_modules/core-js/internals/to-primitive.js"),s=Object.defineProperty;t.f=i?s:function(e,t,r){if(a(e),t=o(t,!0),a(r),n)try{return s(e,t,r)}catch(e){}if("get"in r||"set"in r)throw TypeError("Accessors not supported");return"value"in r&&(e[t]=r.value),e}},"../node_modules/core-js/internals/object-get-own-property-descriptor.js":function(e,t,r){var i=r("../node_modules/core-js/internals/descriptors.js"),n=r("../node_modules/core-js/internals/object-property-is-enumerable.js"),a=r("../node_modules/core-js/internals/create-property-descriptor.js"),o=r("../node_modules/core-js/internals/to-indexed-object.js"),s=r("../node_modules/core-js/internals/to-primitive.js"),u=r("../node_modules/core-js/internals/has.js"),l=r("../node_modules/core-js/internals/ie8-dom-define.js"),c=Object.getOwnPropertyDescriptor;t.f=i?c:function(e,t){if(e=o(e),t=s(t,!0),l)try{return c(e,t)}catch(e){}if(u(e,t))return a(!n.f.call(e,t),e[t])}},"../node_modules/core-js/internals/object-get-own-property-names.js":function(e,t,r){var i=r("../node_modules/core-js/internals/object-keys-internal.js"),n=r("../node_modules/core-js/internals/enum-bug-keys.js").concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return i(e,n)}},"../node_modules/core-js/internals/object-get-own-property-symbols.js":function(e,t){t.f=Object.getOwnPropertySymbols},"../node_modules/core-js/internals/object-get-prototype-of.js":function(e,t,r){var i=r("../node_modules/core-js/internals/has.js"),n=r("../node_modules/core-js/internals/to-object.js"),a=r("../node_modules/core-js/internals/shared-key.js"),o=r("../node_modules/core-js/internals/correct-prototype-getter.js"),s=a("IE_PROTO"),u=Object.prototype;e.exports=o?Object.getPrototypeOf:function(e){return e=n(e),i(e,s)?e[s]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?u:null}},"../node_modules/core-js/internals/object-keys-internal.js":function(e,t,r){var i=r("../node_modules/core-js/internals/has.js"),n=r("../node_modules/core-js/internals/to-indexed-object.js"),a=r("../node_modules/core-js/internals/array-includes.js").indexOf,o=r("../node_modules/core-js/internals/hidden-keys.js");e.exports=function(e,t){var r,s=n(e),u=0,l=[];for(r in s)!i(o,r)&&i(s,r)&&l.push(r);for(;t.length>u;)i(s,r=t[u++])&&(~a(l,r)||l.push(r));return l}},"../node_modules/core-js/internals/object-keys.js":function(e,t,r){var i=r("../node_modules/core-js/internals/object-keys-internal.js"),n=r("../node_modules/core-js/internals/enum-bug-keys.js");e.exports=Object.keys||function(e){return i(e,n)}},"../node_modules/core-js/internals/object-property-is-enumerable.js":function(e,t,r){"use strict";var i={}.propertyIsEnumerable,n=Object.getOwnPropertyDescriptor,a=n&&!i.call({1:2},1);t.f=a?function(e){var t=n(this,e);return!!t&&t.enumerable}:i},"../node_modules/core-js/internals/object-prototype-accessors-forced.js":function(e,t,r){"use strict";var i=r("../node_modules/core-js/internals/is-pure.js"),n=r("../node_modules/core-js/internals/global.js"),a=r("../node_modules/core-js/internals/fails.js");e.exports=i||!a((function(){var e=Math.random();__defineSetter__.call(null,e,(function(){})),delete n[e]}))},"../node_modules/core-js/internals/object-set-prototype-of.js":function(e,t,r){var i=r("../node_modules/core-js/internals/an-object.js"),n=r("../node_modules/core-js/internals/a-possible-prototype.js");e.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var e,t=!1,r={};try{(e=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set).call(r,[]),t=r instanceof Array}catch(e){}return function(r,a){return i(r),n(a),t?e.call(r,a):r.__proto__=a,r}}():void 0)},"../node_modules/core-js/internals/own-keys.js":function(e,t,r){var i=r("../node_modules/core-js/internals/get-built-in.js"),n=r("../node_modules/core-js/internals/object-get-own-property-names.js"),a=r("../node_modules/core-js/internals/object-get-own-property-symbols.js"),o=r("../node_modules/core-js/internals/an-object.js");e.exports=i("Reflect","ownKeys")||function(e){var t=n.f(o(e)),r=a.f;return r?t.concat(r(e)):t}},"../node_modules/core-js/internals/path.js":function(e,t,r){var i=r("../node_modules/core-js/internals/global.js");e.exports=i},"../node_modules/core-js/internals/perform.js":function(e,t){e.exports=function(e){try{return{error:!1,value:e()}}catch(e){return{error:!0,value:e}}}},"../node_modules/core-js/internals/promise-resolve.js":function(e,t,r){var i=r("../node_modules/core-js/internals/an-object.js"),n=r("../node_modules/core-js/internals/is-object.js"),a=r("../node_modules/core-js/internals/new-promise-capability.js");e.exports=function(e,t){if(i(e),n(t)&&t.constructor===e)return t;var r=a.f(e);return(0,r.resolve)(t),r.promise}},"../node_modules/core-js/internals/redefine-all.js":function(e,t,r){var i=r("../node_modules/core-js/internals/redefine.js");e.exports=function(e,t,r){for(var n in t)i(e,n,t[n],r);return e}},"../node_modules/core-js/internals/redefine.js":function(e,t,r){var i=r("../node_modules/core-js/internals/global.js"),n=r("../node_modules/core-js/internals/create-non-enumerable-property.js"),a=r("../node_modules/core-js/internals/has.js"),o=r("../node_modules/core-js/internals/set-global.js"),s=r("../node_modules/core-js/internals/inspect-source.js"),u=r("../node_modules/core-js/internals/internal-state.js"),l=u.get,c=u.enforce,f=String(String).split("String");(e.exports=function(e,t,r,s){var u=!!s&&!!s.unsafe,l=!!s&&!!s.enumerable,d=!!s&&!!s.noTargetGet;"function"==typeof r&&("string"!=typeof t||a(r,"name")||n(r,"name",t),c(r).source=f.join("string"==typeof t?t:"")),e!==i?(u?!d&&e[t]&&(l=!0):delete e[t],l?e[t]=r:n(e,t,r)):l?e[t]=r:o(t,r)})(Function.prototype,"toString",(function(){return"function"==typeof this&&l(this).source||s(this)}))},"../node_modules/core-js/internals/regexp-exec-abstract.js":function(e,t,r){var i=r("../node_modules/core-js/internals/classof-raw.js"),n=r("../node_modules/core-js/internals/regexp-exec.js");e.exports=function(e,t){var r=e.exec;if("function"==typeof r){var a=r.call(e,t);if("object"!=typeof a)throw TypeError("RegExp exec method returned something other than an Object or null");return a}if("RegExp"!==i(e))throw TypeError("RegExp#exec called on incompatible receiver");return n.call(e,t)}},"../node_modules/core-js/internals/regexp-exec.js":function(e,t,r){"use strict";var i,n,a=r("../node_modules/core-js/internals/regexp-flags.js"),o=r("../node_modules/core-js/internals/regexp-sticky-helpers.js"),s=RegExp.prototype.exec,u=String.prototype.replace,l=s,c=(i=/a/,n=/b*/g,s.call(i,"a"),s.call(n,"a"),0!==i.lastIndex||0!==n.lastIndex),f=o.UNSUPPORTED_Y||o.BROKEN_CARET,d=void 0!==/()??/.exec("")[1];(c||d||f)&&(l=function(e){var t,r,i,n,o=this,l=f&&o.sticky,h=a.call(o),m=o.source,p=0,b=e;return l&&(-1===(h=h.replace("y","")).indexOf("g")&&(h+="g"),b=String(e).slice(o.lastIndex),o.lastIndex>0&&(!o.multiline||o.multiline&&"\n"!==e[o.lastIndex-1])&&(m="(?: "+m+")",b=" "+b,p++),r=new RegExp("^(?:"+m+")",h)),d&&(r=new RegExp("^"+m+"$(?!\\s)",h)),c&&(t=o.lastIndex),i=s.call(l?r:o,b),l?i?(i.input=i.input.slice(p),i[0]=i[0].slice(p),i.index=o.lastIndex,o.lastIndex+=i[0].length):o.lastIndex=0:c&&i&&(o.lastIndex=o.global?i.index+i[0].length:t),d&&i&&i.length>1&&u.call(i[0],r,(function(){for(n=1;n<arguments.length-2;n++)void 0===arguments[n]&&(i[n]=void 0)})),i}),e.exports=l},"../node_modules/core-js/internals/regexp-flags.js":function(e,t,r){"use strict";var i=r("../node_modules/core-js/internals/an-object.js");e.exports=function(){var e=i(this),t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.dotAll&&(t+="s"),e.unicode&&(t+="u"),e.sticky&&(t+="y"),t}},"../node_modules/core-js/internals/regexp-sticky-helpers.js":function(e,t,r){"use strict";var i=r("../node_modules/core-js/internals/fails.js");function n(e,t){return RegExp(e,t)}t.UNSUPPORTED_Y=i((function(){var e=n("a","y");return e.lastIndex=2,null!=e.exec("abcd")})),t.BROKEN_CARET=i((function(){var e=n("^r","gy");return e.lastIndex=2,null!=e.exec("str")}))},"../node_modules/core-js/internals/require-object-coercible.js":function(e,t){e.exports=function(e){if(null==e)throw TypeError("Can't call method on "+e);return e}},"../node_modules/core-js/internals/set-global.js":function(e,t,r){var i=r("../node_modules/core-js/internals/global.js"),n=r("../node_modules/core-js/internals/create-non-enumerable-property.js");e.exports=function(e,t){try{n(i,e,t)}catch(r){i[e]=t}return t}},"../node_modules/core-js/internals/set-species.js":function(e,t,r){"use strict";var i=r("../node_modules/core-js/internals/get-built-in.js"),n=r("../node_modules/core-js/internals/object-define-property.js"),a=r("../node_modules/core-js/internals/well-known-symbol.js"),o=r("../node_modules/core-js/internals/descriptors.js"),s=a("species");e.exports=function(e){var t=i(e),r=n.f;o&&t&&!t[s]&&r(t,s,{configurable:!0,get:function(){return this}})}},"../node_modules/core-js/internals/set-to-string-tag.js":function(e,t,r){var i=r("../node_modules/core-js/internals/object-define-property.js").f,n=r("../node_modules/core-js/internals/has.js"),a=r("../node_modules/core-js/internals/well-known-symbol.js")("toStringTag");e.exports=function(e,t,r){e&&!n(e=r?e:e.prototype,a)&&i(e,a,{configurable:!0,value:t})}},"../node_modules/core-js/internals/shared-key.js":function(e,t,r){var i=r("../node_modules/core-js/internals/shared.js"),n=r("../node_modules/core-js/internals/uid.js"),a=i("keys");e.exports=function(e){return a[e]||(a[e]=n(e))}},"../node_modules/core-js/internals/shared-store.js":function(e,t,r){var i=r("../node_modules/core-js/internals/global.js"),n=r("../node_modules/core-js/internals/set-global.js"),a=i["__core-js_shared__"]||n("__core-js_shared__",{});e.exports=a},"../node_modules/core-js/internals/shared.js":function(e,t,r){var i=r("../node_modules/core-js/internals/is-pure.js"),n=r("../node_modules/core-js/internals/shared-store.js");(e.exports=function(e,t){return n[e]||(n[e]=void 0!==t?t:{})})("versions",[]).push({version:"3.6.5",mode:i?"pure":"global",copyright:"© 2020 Denis Pushkarev (zloirock.ru)"})},"../node_modules/core-js/internals/species-constructor.js":function(e,t,r){var i=r("../node_modules/core-js/internals/an-object.js"),n=r("../node_modules/core-js/internals/a-function.js"),a=r("../node_modules/core-js/internals/well-known-symbol.js")("species");e.exports=function(e,t){var r,o=i(e).constructor;return void 0===o||null==(r=i(o)[a])?t:n(r)}},"../node_modules/core-js/internals/string-multibyte.js":function(e,t,r){var i=r("../node_modules/core-js/internals/to-integer.js"),n=r("../node_modules/core-js/internals/require-object-coercible.js"),a=function(e){return function(t,r){var a,o,s=String(n(t)),u=i(r),l=s.length;return u<0||u>=l?e?"":void 0:(a=s.charCodeAt(u))<55296||a>56319||u+1===l||(o=s.charCodeAt(u+1))<56320||o>57343?e?s.charAt(u):a:e?s.slice(u,u+2):o-56320+(a-55296<<10)+65536}};e.exports={codeAt:a(!1),charAt:a(!0)}},"../node_modules/core-js/internals/string-pad-webkit-bug.js":function(e,t,r){var i=r("../node_modules/core-js/internals/engine-user-agent.js");e.exports=/Version\/10\.\d+(\.\d+)?( Mobile\/\w+)? Safari\//.test(i)},"../node_modules/core-js/internals/string-pad.js":function(e,t,r){var i=r("../node_modules/core-js/internals/to-length.js"),n=r("../node_modules/core-js/internals/string-repeat.js"),a=r("../node_modules/core-js/internals/require-object-coercible.js"),o=Math.ceil,s=function(e){return function(t,r,s){var u,l,c=String(a(t)),f=c.length,d=void 0===s?" ":String(s),h=i(r);return h<=f||""==d?c:(u=h-f,(l=n.call(d,o(u/d.length))).length>u&&(l=l.slice(0,u)),e?c+l:l+c)}};e.exports={start:s(!1),end:s(!0)}},"../node_modules/core-js/internals/string-punycode-to-ascii.js":function(e,t,r){"use strict";var i=/[^\0-\u007E]/,n=/[.\u3002\uFF0E\uFF61]/g,a="Overflow: input needs wider integers to process",o=Math.floor,s=String.fromCharCode,u=function(e){return e+22+75*(e<26)},l=function(e,t,r){var i=0;for(e=r?o(e/700):e>>1,e+=o(e/t);e>455;i+=36)e=o(e/35);return o(i+36*e/(e+38))},c=function(e){var t,r,i=[],n=(e=function(e){for(var t=[],r=0,i=e.length;r<i;){var n=e.charCodeAt(r++);if(n>=55296&&n<=56319&&r<i){var a=e.charCodeAt(r++);56320==(64512&a)?t.push(((1023&n)<<10)+(1023&a)+65536):(t.push(n),r--)}else t.push(n)}return t}(e)).length,c=128,f=0,d=72;for(t=0;t<e.length;t++)(r=e[t])<128&&i.push(s(r));var h=i.length,m=h;for(h&&i.push("-");m<n;){var p=2147483647;for(t=0;t<e.length;t++)(r=e[t])>=c&&r<p&&(p=r);var b=m+1;if(p-c>o((2147483647-f)/b))throw RangeError(a);for(f+=(p-c)*b,c=p,t=0;t<e.length;t++){if((r=e[t])<c&&++f>2147483647)throw RangeError(a);if(r==c){for(var v=f,g=36;;g+=36){var E=g<=d?1:g>=d+26?26:g-d;if(v<E)break;var y=v-E,T=36-E;i.push(s(u(E+y%T))),v=o(y/T)}i.push(s(u(v))),d=l(f,b,m==h),f=0,++m}}++f,++c}return i.join("")};e.exports=function(e){var t,r,a=[],o=e.toLowerCase().replace(n,".").split(".");for(t=0;t<o.length;t++)r=o[t],a.push(i.test(r)?"xn--"+c(r):r);return a.join(".")}},"../node_modules/core-js/internals/string-repeat.js":function(e,t,r){"use strict";var i=r("../node_modules/core-js/internals/to-integer.js"),n=r("../node_modules/core-js/internals/require-object-coercible.js");e.exports="".repeat||function(e){var t=String(n(this)),r="",a=i(e);if(a<0||a==1/0)throw RangeError("Wrong number of repetitions");for(;a>0;(a>>>=1)&&(t+=t))1&a&&(r+=t);return r}},"../node_modules/core-js/internals/string-trim-forced.js":function(e,t,r){var i=r("../node_modules/core-js/internals/fails.js"),n=r("../node_modules/core-js/internals/whitespaces.js");e.exports=function(e){return i((function(){return!!n[e]()||"​᠎"!="​᠎"[e]()||n[e].name!==e}))}},"../node_modules/core-js/internals/string-trim.js":function(e,t,r){var i=r("../node_modules/core-js/internals/require-object-coercible.js"),n="["+r("../node_modules/core-js/internals/whitespaces.js")+"]",a=RegExp("^"+n+n+"*"),o=RegExp(n+n+"*$"),s=function(e){return function(t){var r=String(i(t));return 1&e&&(r=r.replace(a,"")),2&e&&(r=r.replace(o,"")),r}};e.exports={start:s(1),end:s(2),trim:s(3)}},"../node_modules/core-js/internals/task.js":function(e,t,r){var i,n,a,o=r("../node_modules/core-js/internals/global.js"),s=r("../node_modules/core-js/internals/fails.js"),u=r("../node_modules/core-js/internals/classof-raw.js"),l=r("../node_modules/core-js/internals/function-bind-context.js"),c=r("../node_modules/core-js/internals/html.js"),f=r("../node_modules/core-js/internals/document-create-element.js"),d=r("../node_modules/core-js/internals/engine-is-ios.js"),h=o.location,m=o.setImmediate,p=o.clearImmediate,b=o.process,v=o.MessageChannel,g=o.Dispatch,E=0,y={},T=function(e){if(y.hasOwnProperty(e)){var t=y[e];delete y[e],t()}},S=function(e){return function(){T(e)}},w=function(e){T(e.data)},_=function(e){o.postMessage(e+"",h.protocol+"//"+h.host)};m&&p||(m=function(e){for(var t=[],r=1;arguments.length>r;)t.push(arguments[r++]);return y[++E]=function(){("function"==typeof e?e:Function(e)).apply(void 0,t)},i(E),E},p=function(e){delete y[e]},"process"==u(b)?i=function(e){b.nextTick(S(e))}:g&&g.now?i=function(e){g.now(S(e))}:v&&!d?(a=(n=new v).port2,n.port1.onmessage=w,i=l(a.postMessage,a,1)):!o.addEventListener||"function"!=typeof postMessage||o.importScripts||s(_)||"file:"===h.protocol?i="onreadystatechange"in f("script")?function(e){c.appendChild(f("script")).onreadystatechange=function(){c.removeChild(this),T(e)}}:function(e){setTimeout(S(e),0)}:(i=_,o.addEventListener("message",w,!1))),e.exports={set:m,clear:p}},"../node_modules/core-js/internals/to-absolute-index.js":function(e,t,r){var i=r("../node_modules/core-js/internals/to-integer.js"),n=Math.max,a=Math.min;e.exports=function(e,t){var r=i(e);return r<0?n(r+t,0):a(r,t)}},"../node_modules/core-js/internals/to-index.js":function(e,t,r){var i=r("../node_modules/core-js/internals/to-integer.js"),n=r("../node_modules/core-js/internals/to-length.js");e.exports=function(e){if(void 0===e)return 0;var t=i(e),r=n(t);if(t!==r)throw RangeError("Wrong length or index");return r}},"../node_modules/core-js/internals/to-indexed-object.js":function(e,t,r){var i=r("../node_modules/core-js/internals/indexed-object.js"),n=r("../node_modules/core-js/internals/require-object-coercible.js");e.exports=function(e){return i(n(e))}},"../node_modules/core-js/internals/to-integer.js":function(e,t){var r=Math.ceil,i=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?i:r)(e)}},"../node_modules/core-js/internals/to-length.js":function(e,t,r){var i=r("../node_modules/core-js/internals/to-integer.js"),n=Math.min;e.exports=function(e){return e>0?n(i(e),9007199254740991):0}},"../node_modules/core-js/internals/to-object.js":function(e,t,r){var i=r("../node_modules/core-js/internals/require-object-coercible.js");e.exports=function(e){return Object(i(e))}},"../node_modules/core-js/internals/to-offset.js":function(e,t,r){var i=r("../node_modules/core-js/internals/to-positive-integer.js");e.exports=function(e,t){var r=i(e);if(r%t)throw RangeError("Wrong offset");return r}},"../node_modules/core-js/internals/to-positive-integer.js":function(e,t,r){var i=r("../node_modules/core-js/internals/to-integer.js");e.exports=function(e){var t=i(e);if(t<0)throw RangeError("The argument can't be less than 0");return t}},"../node_modules/core-js/internals/to-primitive.js":function(e,t,r){var i=r("../node_modules/core-js/internals/is-object.js");e.exports=function(e,t){if(!i(e))return e;var r,n;if(t&&"function"==typeof(r=e.toString)&&!i(n=r.call(e)))return n;if("function"==typeof(r=e.valueOf)&&!i(n=r.call(e)))return n;if(!t&&"function"==typeof(r=e.toString)&&!i(n=r.call(e)))return n;throw TypeError("Can't convert object to primitive value")}},"../node_modules/core-js/internals/to-string-tag-support.js":function(e,t,r){var i={};i[r("../node_modules/core-js/internals/well-known-symbol.js")("toStringTag")]="z",e.exports="[object z]"===String(i)},"../node_modules/core-js/internals/typed-array-constructor.js":function(e,t,r){"use strict";var i=r("../node_modules/core-js/internals/export.js"),n=r("../node_modules/core-js/internals/global.js"),a=r("../node_modules/core-js/internals/descriptors.js"),o=r("../node_modules/core-js/internals/typed-array-constructors-require-wrappers.js"),s=r("../node_modules/core-js/internals/array-buffer-view-core.js"),u=r("../node_modules/core-js/internals/array-buffer.js"),l=r("../node_modules/core-js/internals/an-instance.js"),c=r("../node_modules/core-js/internals/create-property-descriptor.js"),f=r("../node_modules/core-js/internals/create-non-enumerable-property.js"),d=r("../node_modules/core-js/internals/to-length.js"),h=r("../node_modules/core-js/internals/to-index.js"),m=r("../node_modules/core-js/internals/to-offset.js"),p=r("../node_modules/core-js/internals/to-primitive.js"),b=r("../node_modules/core-js/internals/has.js"),v=r("../node_modules/core-js/internals/classof.js"),g=r("../node_modules/core-js/internals/is-object.js"),E=r("../node_modules/core-js/internals/object-create.js"),y=r("../node_modules/core-js/internals/object-set-prototype-of.js"),T=r("../node_modules/core-js/internals/object-get-own-property-names.js").f,S=r("../node_modules/core-js/internals/typed-array-from.js"),w=r("../node_modules/core-js/internals/array-iteration.js").forEach,_=r("../node_modules/core-js/internals/set-species.js"),R=r("../node_modules/core-js/internals/object-define-property.js"),j=r("../node_modules/core-js/internals/object-get-own-property-descriptor.js"),A=r("../node_modules/core-js/internals/internal-state.js"),O=r("../node_modules/core-js/internals/inherit-if-required.js"),z=A.get,P=A.set,x=R.f,C=j.f,D=Math.round,M=n.RangeError,L=u.ArrayBuffer,I=u.DataView,F=s.NATIVE_ARRAY_BUFFER_VIEWS,G=s.TYPED_ARRAY_TAG,N=s.TypedArray,B=s.TypedArrayPrototype,U=s.aTypedArrayConstructor,V=s.isTypedArray,k=function(e,t){for(var r=0,i=t.length,n=new(U(e))(i);i>r;)n[r]=t[r++];return n},H=function(e,t){x(e,t,{get:function(){return z(this)[t]}})},q=function(e){var t;return e instanceof L||"ArrayBuffer"==(t=v(e))||"SharedArrayBuffer"==t},W=function(e,t){return V(e)&&"symbol"!=typeof t&&t in e&&String(+t)==String(t)},Y=function(e,t){return W(e,t=p(t,!0))?c(2,e[t]):C(e,t)},X=function(e,t,r){return!(W(e,t=p(t,!0))&&g(r)&&b(r,"value"))||b(r,"get")||b(r,"set")||r.configurable||b(r,"writable")&&!r.writable||b(r,"enumerable")&&!r.enumerable?x(e,t,r):(e[t]=r.value,e)};a?(F||(j.f=Y,R.f=X,H(B,"buffer"),H(B,"byteOffset"),H(B,"byteLength"),H(B,"length")),i({target:"Object",stat:!0,forced:!F},{getOwnPropertyDescriptor:Y,defineProperty:X}),e.exports=function(e,t,r){var a=e.match(/\d+$/)[0]/8,s=e+(r?"Clamped":"")+"Array",u="get"+e,c="set"+e,p=n[s],b=p,v=b&&b.prototype,R={},j=function(e,t){x(e,t,{get:function(){return function(e,t){var r=z(e);return r.view[u](t*a+r.byteOffset,!0)}(this,t)},set:function(e){return function(e,t,i){var n=z(e);r&&(i=(i=D(i))<0?0:i>255?255:255&i),n.view[c](t*a+n.byteOffset,i,!0)}(this,t,e)},enumerable:!0})};F?o&&(b=t((function(e,t,r,i){return l(e,b,s),O(g(t)?q(t)?void 0!==i?new p(t,m(r,a),i):void 0!==r?new p(t,m(r,a)):new p(t):V(t)?k(b,t):S.call(b,t):new p(h(t)),e,b)})),y&&y(b,N),w(T(p),(function(e){e in b||f(b,e,p[e])})),b.prototype=v):(b=t((function(e,t,r,i){l(e,b,s);var n,o,u,c=0,f=0;if(g(t)){if(!q(t))return V(t)?k(b,t):S.call(b,t);n=t,f=m(r,a);var p=t.byteLength;if(void 0===i){if(p%a)throw M("Wrong length");if((o=p-f)<0)throw M("Wrong length")}else if((o=d(i)*a)+f>p)throw M("Wrong length");u=o/a}else u=h(t),n=new L(o=u*a);for(P(e,{buffer:n,byteOffset:f,byteLength:o,length:u,view:new I(n)});c<u;)j(e,c++)})),y&&y(b,N),v=b.prototype=E(B)),v.constructor!==b&&f(v,"constructor",b),G&&f(v,G,s),R[s]=b,i({global:!0,forced:b!=p,sham:!F},R),"BYTES_PER_ELEMENT"in b||f(b,"BYTES_PER_ELEMENT",a),"BYTES_PER_ELEMENT"in v||f(v,"BYTES_PER_ELEMENT",a),_(s)}):e.exports=function(){}},"../node_modules/core-js/internals/typed-array-constructors-require-wrappers.js":function(e,t,r){var i=r("../node_modules/core-js/internals/global.js"),n=r("../node_modules/core-js/internals/fails.js"),a=r("../node_modules/core-js/internals/check-correctness-of-iteration.js"),o=r("../node_modules/core-js/internals/array-buffer-view-core.js").NATIVE_ARRAY_BUFFER_VIEWS,s=i.ArrayBuffer,u=i.Int8Array;e.exports=!o||!n((function(){u(1)}))||!n((function(){new u(-1)}))||!a((function(e){new u,new u(null),new u(1.5),new u(e)}),!0)||n((function(){return 1!==new u(new s(2),1,void 0).length}))},"../node_modules/core-js/internals/typed-array-from.js":function(e,t,r){var i=r("../node_modules/core-js/internals/to-object.js"),n=r("../node_modules/core-js/internals/to-length.js"),a=r("../node_modules/core-js/internals/get-iterator-method.js"),o=r("../node_modules/core-js/internals/is-array-iterator-method.js"),s=r("../node_modules/core-js/internals/function-bind-context.js"),u=r("../node_modules/core-js/internals/array-buffer-view-core.js").aTypedArrayConstructor;e.exports=function(e){var t,r,l,c,f,d,h=i(e),m=arguments.length,p=m>1?arguments[1]:void 0,b=void 0!==p,v=a(h);if(null!=v&&!o(v))for(d=(f=v.call(h)).next,h=[];!(c=d.call(f)).done;)h.push(c.value);for(b&&m>2&&(p=s(p,arguments[2],2)),r=n(h.length),l=new(u(this))(r),t=0;r>t;t++)l[t]=b?p(h[t],t):h[t];return l}},"../node_modules/core-js/internals/uid.js":function(e,t){var r=0,i=Math.random();e.exports=function(e){return"Symbol("+String(void 0===e?"":e)+")_"+(++r+i).toString(36)}},"../node_modules/core-js/internals/use-symbol-as-uid.js":function(e,t,r){var i=r("../node_modules/core-js/internals/native-symbol.js");e.exports=i&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},"../node_modules/core-js/internals/well-known-symbol-wrapped.js":function(e,t,r){var i=r("../node_modules/core-js/internals/well-known-symbol.js");t.f=i},"../node_modules/core-js/internals/well-known-symbol.js":function(e,t,r){var i=r("../node_modules/core-js/internals/global.js"),n=r("../node_modules/core-js/internals/shared.js"),a=r("../node_modules/core-js/internals/has.js"),o=r("../node_modules/core-js/internals/uid.js"),s=r("../node_modules/core-js/internals/native-symbol.js"),u=r("../node_modules/core-js/internals/use-symbol-as-uid.js"),l=n("wks"),c=i.Symbol,f=u?c:c&&c.withoutSetter||o;e.exports=function(e){return a(l,e)||(s&&a(c,e)?l[e]=c[e]:l[e]=f("Symbol."+e)),l[e]}},"../node_modules/core-js/internals/whitespaces.js":function(e,t){e.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},"../node_modules/core-js/modules/es.array-buffer.constructor.js":function(e,t,r){"use strict";var i=r("../node_modules/core-js/internals/export.js"),n=r("../node_modules/core-js/internals/global.js"),a=r("../node_modules/core-js/internals/array-buffer.js"),o=r("../node_modules/core-js/internals/set-species.js"),s=a.ArrayBuffer;i({global:!0,forced:n.ArrayBuffer!==s},{ArrayBuffer:s}),o("ArrayBuffer")},"../node_modules/core-js/modules/es.array-buffer.slice.js":function(e,t,r){"use strict";var i=r("../node_modules/core-js/internals/export.js"),n=r("../node_modules/core-js/internals/fails.js"),a=r("../node_modules/core-js/internals/array-buffer.js"),o=r("../node_modules/core-js/internals/an-object.js"),s=r("../node_modules/core-js/internals/to-absolute-index.js"),u=r("../node_modules/core-js/internals/to-length.js"),l=r("../node_modules/core-js/internals/species-constructor.js"),c=a.ArrayBuffer,f=a.DataView,d=c.prototype.slice;i({target:"ArrayBuffer",proto:!0,unsafe:!0,forced:n((function(){return!new c(2).slice(1,void 0).byteLength}))},{slice:function(e,t){if(void 0!==d&&void 0===t)return d.call(o(this),e);for(var r=o(this).byteLength,i=s(e,r),n=s(void 0===t?r:t,r),a=new(l(this,c))(u(n-i)),h=new f(this),m=new f(a),p=0;i<n;)m.setUint8(p++,h.getUint8(i++));return a}})},"../node_modules/core-js/modules/es.array.flat-map.js":function(e,t,r){"use strict";var i=r("../node_modules/core-js/internals/export.js"),n=r("../node_modules/core-js/internals/flatten-into-array.js"),a=r("../node_modules/core-js/internals/to-object.js"),o=r("../node_modules/core-js/internals/to-length.js"),s=r("../node_modules/core-js/internals/a-function.js"),u=r("../node_modules/core-js/internals/array-species-create.js");i({target:"Array",proto:!0},{flatMap:function(e){var t,r=a(this),i=o(r.length);return s(e),(t=u(r,0)).length=n(t,r,r,i,0,1,e,arguments.length>1?arguments[1]:void 0),t}})},"../node_modules/core-js/modules/es.array.flat.js":function(e,t,r){"use strict";var i=r("../node_modules/core-js/internals/export.js"),n=r("../node_modules/core-js/internals/flatten-into-array.js"),a=r("../node_modules/core-js/internals/to-object.js"),o=r("../node_modules/core-js/internals/to-length.js"),s=r("../node_modules/core-js/internals/to-integer.js"),u=r("../node_modules/core-js/internals/array-species-create.js");i({target:"Array",proto:!0},{flat:function(){var e=arguments.length?arguments[0]:void 0,t=a(this),r=o(t.length),i=u(t,0);return i.length=n(i,t,t,r,0,void 0===e?1:s(e)),i}})},"../node_modules/core-js/modules/es.array.index-of.js":function(e,t,r){"use strict";var i=r("../node_modules/core-js/internals/export.js"),n=r("../node_modules/core-js/internals/array-includes.js").indexOf,a=r("../node_modules/core-js/internals/array-method-is-strict.js"),o=r("../node_modules/core-js/internals/array-method-uses-to-length.js"),s=[].indexOf,u=!!s&&1/[1].indexOf(1,-0)<0,l=a("indexOf"),c=o("indexOf",{ACCESSORS:!0,1:0});i({target:"Array",proto:!0,forced:u||!l||!c},{indexOf:function(e){return u?s.apply(this,arguments)||0:n(this,e,arguments.length>1?arguments[1]:void 0)}})},"../node_modules/core-js/modules/es.array.iterator.js":function(e,t,r){"use strict";var i=r("../node_modules/core-js/internals/to-indexed-object.js"),n=r("../node_modules/core-js/internals/add-to-unscopables.js"),a=r("../node_modules/core-js/internals/iterators.js"),o=r("../node_modules/core-js/internals/internal-state.js"),s=r("../node_modules/core-js/internals/define-iterator.js"),u=o.set,l=o.getterFor("Array Iterator");e.exports=s(Array,"Array",(function(e,t){u(this,{type:"Array Iterator",target:i(e),index:0,kind:t})}),(function(){var e=l(this),t=e.target,r=e.kind,i=e.index++;return!t||i>=t.length?(e.target=void 0,{value:void 0,done:!0}):"keys"==r?{value:i,done:!1}:"values"==r?{value:t[i],done:!1}:{value:[i,t[i]],done:!1}}),"values"),a.Arguments=a.Array,n("keys"),n("values"),n("entries")},"../node_modules/core-js/modules/es.array.last-index-of.js":function(e,t,r){var i=r("../node_modules/core-js/internals/export.js"),n=r("../node_modules/core-js/internals/array-last-index-of.js");i({target:"Array",proto:!0,forced:n!==[].lastIndexOf},{lastIndexOf:n})},"../node_modules/core-js/modules/es.array.reverse.js":function(e,t,r){"use strict";var i=r("../node_modules/core-js/internals/export.js"),n=r("../node_modules/core-js/internals/is-array.js"),a=[].reverse,o=[1,2];i({target:"Array",proto:!0,forced:String(o)===String(o.reverse())},{reverse:function(){return n(this)&&(this.length=this.length),a.call(this)}})},"../node_modules/core-js/modules/es.array.slice.js":function(e,t,r){"use strict";var i=r("../node_modules/core-js/internals/export.js"),n=r("../node_modules/core-js/internals/is-object.js"),a=r("../node_modules/core-js/internals/is-array.js"),o=r("../node_modules/core-js/internals/to-absolute-index.js"),s=r("../node_modules/core-js/internals/to-length.js"),u=r("../node_modules/core-js/internals/to-indexed-object.js"),l=r("../node_modules/core-js/internals/create-property.js"),c=r("../node_modules/core-js/internals/well-known-symbol.js"),f=r("../node_modules/core-js/internals/array-method-has-species-support.js"),d=r("../node_modules/core-js/internals/array-method-uses-to-length.js"),h=f("slice"),m=d("slice",{ACCESSORS:!0,0:0,1:2}),p=c("species"),b=[].slice,v=Math.max;i({target:"Array",proto:!0,forced:!h||!m},{slice:function(e,t){var r,i,c,f=u(this),d=s(f.length),h=o(e,d),m=o(void 0===t?d:t,d);if(a(f)&&("function"!=typeof(r=f.constructor)||r!==Array&&!a(r.prototype)?n(r)&&null===(r=r[p])&&(r=void 0):r=void 0,r===Array||void 0===r))return b.call(f,h,m);for(i=new(void 0===r?Array:r)(v(m-h,0)),c=0;h<m;h++,c++)h in f&&l(i,c,f[h]);return i.length=c,i}})},"../node_modules/core-js/modules/es.array.sort.js":function(e,t,r){"use strict";var i=r("../node_modules/core-js/internals/export.js"),n=r("../node_modules/core-js/internals/a-function.js"),a=r("../node_modules/core-js/internals/to-object.js"),o=r("../node_modules/core-js/internals/fails.js"),s=r("../node_modules/core-js/internals/array-method-is-strict.js"),u=[],l=u.sort,c=o((function(){u.sort(void 0)})),f=o((function(){u.sort(null)})),d=s("sort");i({target:"Array",proto:!0,forced:c||!f||!d},{sort:function(e){return void 0===e?l.call(a(this)):l.call(a(this),n(e))}})},"../node_modules/core-js/modules/es.array.splice.js":function(e,t,r){"use strict";var i=r("../node_modules/core-js/internals/export.js"),n=r("../node_modules/core-js/internals/to-absolute-index.js"),a=r("../node_modules/core-js/internals/to-integer.js"),o=r("../node_modules/core-js/internals/to-length.js"),s=r("../node_modules/core-js/internals/to-object.js"),u=r("../node_modules/core-js/internals/array-species-create.js"),l=r("../node_modules/core-js/internals/create-property.js"),c=r("../node_modules/core-js/internals/array-method-has-species-support.js"),f=r("../node_modules/core-js/internals/array-method-uses-to-length.js"),d=c("splice"),h=f("splice",{ACCESSORS:!0,0:0,1:2}),m=Math.max,p=Math.min;i({target:"Array",proto:!0,forced:!d||!h},{splice:function(e,t){var r,i,c,f,d,h,b=s(this),v=o(b.length),g=n(e,v),E=arguments.length;if(0===E?r=i=0:1===E?(r=0,i=v-g):(r=E-2,i=p(m(a(t),0),v-g)),v+r-i>9007199254740991)throw TypeError("Maximum allowed length exceeded");for(c=u(b,i),f=0;f<i;f++)(d=g+f)in b&&l(c,f,b[d]);if(c.length=i,r<i){for(f=g;f<v-i;f++)h=f+r,(d=f+i)in b?b[h]=b[d]:delete b[h];for(f=v;f>v-i+r;f--)delete b[f-1]}else if(r>i)for(f=v-i;f>g;f--)h=f+r-1,(d=f+i-1)in b?b[h]=b[d]:delete b[h];for(f=0;f<r;f++)b[f+g]=arguments[f+2];return b.length=v-i+r,c}})},"../node_modules/core-js/modules/es.array.unscopables.flat-map.js":function(e,t,r){r("../node_modules/core-js/internals/add-to-unscopables.js")("flatMap")},"../node_modules/core-js/modules/es.array.unscopables.flat.js":function(e,t,r){r("../node_modules/core-js/internals/add-to-unscopables.js")("flat")},"../node_modules/core-js/modules/es.math.hypot.js":function(e,t,r){var i=r("../node_modules/core-js/internals/export.js"),n=Math.hypot,a=Math.abs,o=Math.sqrt;i({target:"Math",stat:!0,forced:!!n&&n(1/0,NaN)!==1/0},{hypot:function(e,t){for(var r,i,n=0,s=0,u=arguments.length,l=0;s<u;)l<(r=a(arguments[s++]))?(n=n*(i=l/r)*i+1,l=r):n+=r>0?(i=r/l)*i:r;return l===1/0?1/0:l*o(n)}})},"../node_modules/core-js/modules/es.number.parse-float.js":function(e,t,r){var i=r("../node_modules/core-js/internals/export.js"),n=r("../node_modules/core-js/internals/number-parse-float.js");i({target:"Number",stat:!0,forced:Number.parseFloat!=n},{parseFloat:n})},"../node_modules/core-js/modules/es.object.define-getter.js":function(e,t,r){"use strict";var i=r("../node_modules/core-js/internals/export.js"),n=r("../node_modules/core-js/internals/descriptors.js"),a=r("../node_modules/core-js/internals/object-prototype-accessors-forced.js"),o=r("../node_modules/core-js/internals/to-object.js"),s=r("../node_modules/core-js/internals/a-function.js"),u=r("../node_modules/core-js/internals/object-define-property.js");n&&i({target:"Object",proto:!0,forced:a},{__defineGetter__:function(e,t){u.f(o(this),e,{get:s(t),enumerable:!0,configurable:!0})}})},"../node_modules/core-js/modules/es.object.define-setter.js":function(e,t,r){"use strict";var i=r("../node_modules/core-js/internals/export.js"),n=r("../node_modules/core-js/internals/descriptors.js"),a=r("../node_modules/core-js/internals/object-prototype-accessors-forced.js"),o=r("../node_modules/core-js/internals/to-object.js"),s=r("../node_modules/core-js/internals/a-function.js"),u=r("../node_modules/core-js/internals/object-define-property.js");n&&i({target:"Object",proto:!0,forced:a},{__defineSetter__:function(e,t){u.f(o(this),e,{set:s(t),enumerable:!0,configurable:!0})}})},"../node_modules/core-js/modules/es.object.from-entries.js":function(e,t,r){var i=r("../node_modules/core-js/internals/export.js"),n=r("../node_modules/core-js/internals/iterate.js"),a=r("../node_modules/core-js/internals/create-property.js");i({target:"Object",stat:!0},{fromEntries:function(e){var t={};return n(e,(function(e,r){a(t,e,r)}),void 0,!0),t}})},"../node_modules/core-js/modules/es.object.lookup-getter.js":function(e,t,r){"use strict";var i=r("../node_modules/core-js/internals/export.js"),n=r("../node_modules/core-js/internals/descriptors.js"),a=r("../node_modules/core-js/internals/object-prototype-accessors-forced.js"),o=r("../node_modules/core-js/internals/to-object.js"),s=r("../node_modules/core-js/internals/to-primitive.js"),u=r("../node_modules/core-js/internals/object-get-prototype-of.js"),l=r("../node_modules/core-js/internals/object-get-own-property-descriptor.js").f;n&&i({target:"Object",proto:!0,forced:a},{__lookupGetter__:function(e){var t,r=o(this),i=s(e,!0);do{if(t=l(r,i))return t.get}while(r=u(r))}})},"../node_modules/core-js/modules/es.object.lookup-setter.js":function(e,t,r){"use strict";var i=r("../node_modules/core-js/internals/export.js"),n=r("../node_modules/core-js/internals/descriptors.js"),a=r("../node_modules/core-js/internals/object-prototype-accessors-forced.js"),o=r("../node_modules/core-js/internals/to-object.js"),s=r("../node_modules/core-js/internals/to-primitive.js"),u=r("../node_modules/core-js/internals/object-get-prototype-of.js"),l=r("../node_modules/core-js/internals/object-get-own-property-descriptor.js").f;n&&i({target:"Object",proto:!0,forced:a},{__lookupSetter__:function(e){var t,r=o(this),i=s(e,!0);do{if(t=l(r,i))return t.set}while(r=u(r))}})},"../node_modules/core-js/modules/es.promise.finally.js":function(e,t,r){"use strict";var i=r("../node_modules/core-js/internals/export.js"),n=r("../node_modules/core-js/internals/is-pure.js"),a=r("../node_modules/core-js/internals/native-promise-constructor.js"),o=r("../node_modules/core-js/internals/fails.js"),s=r("../node_modules/core-js/internals/get-built-in.js"),u=r("../node_modules/core-js/internals/species-constructor.js"),l=r("../node_modules/core-js/internals/promise-resolve.js"),c=r("../node_modules/core-js/internals/redefine.js");i({target:"Promise",proto:!0,real:!0,forced:!!a&&o((function(){a.prototype.finally.call({then:function(){}},(function(){}))}))},{finally:function(e){var t=u(this,s("Promise")),r="function"==typeof e;return this.then(r?function(r){return l(t,e()).then((function(){return r}))}:e,r?function(r){return l(t,e()).then((function(){throw r}))}:e)}}),n||"function"!=typeof a||a.prototype.finally||c(a.prototype,"finally",s("Promise").prototype.finally)},"../node_modules/core-js/modules/es.promise.js":function(e,t,r){"use strict";var i,n,a,o,s=r("../node_modules/core-js/internals/export.js"),u=r("../node_modules/core-js/internals/is-pure.js"),l=r("../node_modules/core-js/internals/global.js"),c=r("../node_modules/core-js/internals/get-built-in.js"),f=r("../node_modules/core-js/internals/native-promise-constructor.js"),d=r("../node_modules/core-js/internals/redefine.js"),h=r("../node_modules/core-js/internals/redefine-all.js"),m=r("../node_modules/core-js/internals/set-to-string-tag.js"),p=r("../node_modules/core-js/internals/set-species.js"),b=r("../node_modules/core-js/internals/is-object.js"),v=r("../node_modules/core-js/internals/a-function.js"),g=r("../node_modules/core-js/internals/an-instance.js"),E=r("../node_modules/core-js/internals/classof-raw.js"),y=r("../node_modules/core-js/internals/inspect-source.js"),T=r("../node_modules/core-js/internals/iterate.js"),S=r("../node_modules/core-js/internals/check-correctness-of-iteration.js"),w=r("../node_modules/core-js/internals/species-constructor.js"),_=r("../node_modules/core-js/internals/task.js").set,R=r("../node_modules/core-js/internals/microtask.js"),j=r("../node_modules/core-js/internals/promise-resolve.js"),A=r("../node_modules/core-js/internals/host-report-errors.js"),O=r("../node_modules/core-js/internals/new-promise-capability.js"),z=r("../node_modules/core-js/internals/perform.js"),P=r("../node_modules/core-js/internals/internal-state.js"),x=r("../node_modules/core-js/internals/is-forced.js"),C=r("../node_modules/core-js/internals/well-known-symbol.js"),D=r("../node_modules/core-js/internals/engine-v8-version.js"),M=C("species"),L="Promise",I=P.get,F=P.set,G=P.getterFor(L),N=f,B=l.TypeError,U=l.document,V=l.process,k=c("fetch"),H=O.f,q=H,W="process"==E(V),Y=!!(U&&U.createEvent&&l.dispatchEvent),X=x(L,(function(){if(!(y(N)!==String(N))){if(66===D)return!0;if(!W&&"function"!=typeof PromiseRejectionEvent)return!0}if(u&&!N.prototype.finally)return!0;if(D>=51&&/native code/.test(N))return!1;var e=N.resolve(1),t=function(e){e((function(){}),(function(){}))};return(e.constructor={})[M]=t,!(e.then((function(){}))instanceof t)})),K=X||!S((function(e){N.all(e).catch((function(){}))})),Q=function(e){var t;return!(!b(e)||"function"!=typeof(t=e.then))&&t},Z=function(e,t,r){if(!t.notified){t.notified=!0;var i=t.reactions;R((function(){for(var n=t.value,a=1==t.state,o=0;i.length>o;){var s,u,l,c=i[o++],f=a?c.ok:c.fail,d=c.resolve,h=c.reject,m=c.domain;try{f?(a||(2===t.rejection&&te(e,t),t.rejection=1),!0===f?s=n:(m&&m.enter(),s=f(n),m&&(m.exit(),l=!0)),s===c.promise?h(B("Promise-chain cycle")):(u=Q(s))?u.call(s,d,h):d(s)):h(n)}catch(e){m&&!l&&m.exit(),h(e)}}t.reactions=[],t.notified=!1,r&&!t.rejection&&J(e,t)}))}},$=function(e,t,r){var i,n;Y?((i=U.createEvent("Event")).promise=t,i.reason=r,i.initEvent(e,!1,!0),l.dispatchEvent(i)):i={promise:t,reason:r},(n=l["on"+e])?n(i):"unhandledrejection"===e&&A("Unhandled promise rejection",r)},J=function(e,t){_.call(l,(function(){var r,i=t.value;if(ee(t)&&(r=z((function(){W?V.emit("unhandledRejection",i,e):$("unhandledrejection",e,i)})),t.rejection=W||ee(t)?2:1,r.error))throw r.value}))},ee=function(e){return 1!==e.rejection&&!e.parent},te=function(e,t){_.call(l,(function(){W?V.emit("rejectionHandled",e):$("rejectionhandled",e,t.value)}))},re=function(e,t,r,i){return function(n){e(t,r,n,i)}},ie=function(e,t,r,i){t.done||(t.done=!0,i&&(t=i),t.value=r,t.state=2,Z(e,t,!0))},ne=function(e,t,r,i){if(!t.done){t.done=!0,i&&(t=i);try{if(e===r)throw B("Promise can't be resolved itself");var n=Q(r);n?R((function(){var i={done:!1};try{n.call(r,re(ne,e,i,t),re(ie,e,i,t))}catch(r){ie(e,i,r,t)}})):(t.value=r,t.state=1,Z(e,t,!1))}catch(r){ie(e,{done:!1},r,t)}}};X&&(N=function(e){g(this,N,L),v(e),i.call(this);var t=I(this);try{e(re(ne,this,t),re(ie,this,t))}catch(e){ie(this,t,e)}},(i=function(e){F(this,{type:L,done:!1,notified:!1,parent:!1,reactions:[],rejection:!1,state:0,value:void 0})}).prototype=h(N.prototype,{then:function(e,t){var r=G(this),i=H(w(this,N));return i.ok="function"!=typeof e||e,i.fail="function"==typeof t&&t,i.domain=W?V.domain:void 0,r.parent=!0,r.reactions.push(i),0!=r.state&&Z(this,r,!1),i.promise},catch:function(e){return this.then(void 0,e)}}),n=function(){var e=new i,t=I(e);this.promise=e,this.resolve=re(ne,e,t),this.reject=re(ie,e,t)},O.f=H=function(e){return e===N||e===a?new n(e):q(e)},u||"function"!=typeof f||(o=f.prototype.then,d(f.prototype,"then",(function(e,t){var r=this;return new N((function(e,t){o.call(r,e,t)})).then(e,t)}),{unsafe:!0}),"function"==typeof k&&s({global:!0,enumerable:!0,forced:!0},{fetch:function(e){return j(N,k.apply(l,arguments))}}))),s({global:!0,wrap:!0,forced:X},{Promise:N}),m(N,L,!1,!0),p(L),a=c(L),s({target:L,stat:!0,forced:X},{reject:function(e){var t=H(this);return t.reject.call(void 0,e),t.promise}}),s({target:L,stat:!0,forced:u||X},{resolve:function(e){return j(u&&this===a?N:this,e)}}),s({target:L,stat:!0,forced:K},{all:function(e){var t=this,r=H(t),i=r.resolve,n=r.reject,a=z((function(){var r=v(t.resolve),a=[],o=0,s=1;T(e,(function(e){var u=o++,l=!1;a.push(void 0),s++,r.call(t,e).then((function(e){l||(l=!0,a[u]=e,--s||i(a))}),n)})),--s||i(a)}));return a.error&&n(a.value),r.promise},race:function(e){var t=this,r=H(t),i=r.reject,n=z((function(){var n=v(t.resolve);T(e,(function(e){n.call(t,e).then(r.resolve,i)}))}));return n.error&&i(n.value),r.promise}})},"../node_modules/core-js/modules/es.regexp.exec.js":function(e,t,r){"use strict";var i=r("../node_modules/core-js/internals/export.js"),n=r("../node_modules/core-js/internals/regexp-exec.js");i({target:"RegExp",proto:!0,forced:/./.exec!==n},{exec:n})},"../node_modules/core-js/modules/es.string.iterator.js":function(e,t,r){"use strict";var i=r("../node_modules/core-js/internals/string-multibyte.js").charAt,n=r("../node_modules/core-js/internals/internal-state.js"),a=r("../node_modules/core-js/internals/define-iterator.js"),o=n.set,s=n.getterFor("String Iterator");a(String,"String",(function(e){o(this,{type:"String Iterator",string:String(e),index:0})}),(function(){var e,t=s(this),r=t.string,n=t.index;return n>=r.length?{value:void 0,done:!0}:(e=i(r,n),t.index+=e.length,{value:e,done:!1})}))},"../node_modules/core-js/modules/es.string.pad-end.js":function(e,t,r){"use strict";var i=r("../node_modules/core-js/internals/export.js"),n=r("../node_modules/core-js/internals/string-pad.js").end;i({target:"String",proto:!0,forced:r("../node_modules/core-js/internals/string-pad-webkit-bug.js")},{padEnd:function(e){return n(this,e,arguments.length>1?arguments[1]:void 0)}})},"../node_modules/core-js/modules/es.string.pad-start.js":function(e,t,r){"use strict";var i=r("../node_modules/core-js/internals/export.js"),n=r("../node_modules/core-js/internals/string-pad.js").start;i({target:"String",proto:!0,forced:r("../node_modules/core-js/internals/string-pad-webkit-bug.js")},{padStart:function(e){return n(this,e,arguments.length>1?arguments[1]:void 0)}})},"../node_modules/core-js/modules/es.string.replace.js":function(e,t,r){"use strict";var i=r("../node_modules/core-js/internals/fix-regexp-well-known-symbol-logic.js"),n=r("../node_modules/core-js/internals/an-object.js"),a=r("../node_modules/core-js/internals/to-object.js"),o=r("../node_modules/core-js/internals/to-length.js"),s=r("../node_modules/core-js/internals/to-integer.js"),u=r("../node_modules/core-js/internals/require-object-coercible.js"),l=r("../node_modules/core-js/internals/advance-string-index.js"),c=r("../node_modules/core-js/internals/regexp-exec-abstract.js"),f=Math.max,d=Math.min,h=Math.floor,m=/\$([$&'`]|\d\d?|<[^>]*>)/g,p=/\$([$&'`]|\d\d?)/g;i("replace",2,(function(e,t,r,i){var b=i.REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE,v=i.REPLACE_KEEPS_$0,g=b?"$":"$0";return[function(r,i){var n=u(this),a=null==r?void 0:r[e];return void 0!==a?a.call(r,n,i):t.call(String(n),r,i)},function(e,i){if(!b&&v||"string"==typeof i&&-1===i.indexOf(g)){var a=r(t,e,this,i);if(a.done)return a.value}var u=n(e),h=String(this),m="function"==typeof i;m||(i=String(i));var p=u.global;if(p){var y=u.unicode;u.lastIndex=0}for(var T=[];;){var S=c(u,h);if(null===S)break;if(T.push(S),!p)break;""===String(S[0])&&(u.lastIndex=l(h,o(u.lastIndex),y))}for(var w,_="",R=0,j=0;j<T.length;j++){S=T[j];for(var A=String(S[0]),O=f(d(s(S.index),h.length),0),z=[],P=1;P<S.length;P++)z.push(void 0===(w=S[P])?w:String(w));var x=S.groups;if(m){var C=[A].concat(z,O,h);void 0!==x&&C.push(x);var D=String(i.apply(void 0,C))}else D=E(A,h,O,z,x,i);O>=R&&(_+=h.slice(R,O)+D,R=O+A.length)}return _+h.slice(R)}];function E(e,r,i,n,o,s){var u=i+e.length,l=n.length,c=p;return void 0!==o&&(o=a(o),c=m),t.call(s,c,(function(t,a){var s;switch(a.charAt(0)){case"$":return"$";case"&":return e;case"`":return r.slice(0,i);case"'":return r.slice(u);case"<":s=o[a.slice(1,-1)];break;default:var c=+a;if(0===c)return t;if(c>l){var f=h(c/10);return 0===f?t:f<=l?void 0===n[f-1]?a.charAt(1):n[f-1]+a.charAt(1):t}s=n[c-1]}return void 0===s?"":s}))}}))},"../node_modules/core-js/modules/es.string.trim-end.js":function(e,t,r){"use strict";var i=r("../node_modules/core-js/internals/export.js"),n=r("../node_modules/core-js/internals/string-trim.js").end,a=r("../node_modules/core-js/internals/string-trim-forced.js")("trimEnd"),o=a?function(){return n(this)}:"".trimEnd;i({target:"String",proto:!0,forced:a},{trimEnd:o,trimRight:o})},"../node_modules/core-js/modules/es.string.trim-start.js":function(e,t,r){"use strict";var i=r("../node_modules/core-js/internals/export.js"),n=r("../node_modules/core-js/internals/string-trim.js").start,a=r("../node_modules/core-js/internals/string-trim-forced.js")("trimStart"),o=a?function(){return n(this)}:"".trimStart;i({target:"String",proto:!0,forced:a},{trimStart:o,trimLeft:o})},"../node_modules/core-js/modules/es.string.trim.js":function(e,t,r){"use strict";var i=r("../node_modules/core-js/internals/export.js"),n=r("../node_modules/core-js/internals/string-trim.js").trim;i({target:"String",proto:!0,forced:r("../node_modules/core-js/internals/string-trim-forced.js")("trim")},{trim:function(){return n(this)}})},"../node_modules/core-js/modules/es.symbol.async-iterator.js":function(e,t,r){r("../node_modules/core-js/internals/define-well-known-symbol.js")("asyncIterator")},"../node_modules/core-js/modules/es.symbol.description.js":function(e,t,r){"use strict";var i=r("../node_modules/core-js/internals/export.js"),n=r("../node_modules/core-js/internals/descriptors.js"),a=r("../node_modules/core-js/internals/global.js"),o=r("../node_modules/core-js/internals/has.js"),s=r("../node_modules/core-js/internals/is-object.js"),u=r("../node_modules/core-js/internals/object-define-property.js").f,l=r("../node_modules/core-js/internals/copy-constructor-properties.js"),c=a.Symbol;if(n&&"function"==typeof c&&(!("description"in c.prototype)||void 0!==c().description)){var f={},d=function(){var e=arguments.length<1||void 0===arguments[0]?void 0:String(arguments[0]),t=this instanceof d?new c(e):void 0===e?c():c(e);return""===e&&(f[t]=!0),t};l(d,c);var h=d.prototype=c.prototype;h.constructor=d;var m=h.toString,p="Symbol(test)"==String(c("test")),b=/^Symbol\((.*)\)[^)]+$/;u(h,"description",{configurable:!0,get:function(){var e=s(this)?this.valueOf():this,t=m.call(e);if(o(f,e))return"";var r=p?t.slice(7,-1):t.replace(b,"$1");return""===r?void 0:r}}),i({global:!0,forced:!0},{Symbol:d})}},"../node_modules/core-js/modules/es.typed-array.float32-array.js":function(e,t,r){r("../node_modules/core-js/internals/typed-array-constructor.js")("Float32",(function(e){return function(t,r,i){return e(this,t,r,i)}}))},"../node_modules/core-js/modules/es.typed-array.float64-array.js":function(e,t,r){r("../node_modules/core-js/internals/typed-array-constructor.js")("Float64",(function(e){return function(t,r,i){return e(this,t,r,i)}}))},"../node_modules/core-js/modules/es.typed-array.from.js":function(e,t,r){"use strict";var i=r("../node_modules/core-js/internals/typed-array-constructors-require-wrappers.js");(0,r("../node_modules/core-js/internals/array-buffer-view-core.js").exportTypedArrayStaticMethod)("from",r("../node_modules/core-js/internals/typed-array-from.js"),i)},"../node_modules/core-js/modules/es.typed-array.int16-array.js":function(e,t,r){r("../node_modules/core-js/internals/typed-array-constructor.js")("Int16",(function(e){return function(t,r,i){return e(this,t,r,i)}}))},"../node_modules/core-js/modules/es.typed-array.int32-array.js":function(e,t,r){r("../node_modules/core-js/internals/typed-array-constructor.js")("Int32",(function(e){return function(t,r,i){return e(this,t,r,i)}}))},"../node_modules/core-js/modules/es.typed-array.int8-array.js":function(e,t,r){r("../node_modules/core-js/internals/typed-array-constructor.js")("Int8",(function(e){return function(t,r,i){return e(this,t,r,i)}}))},"../node_modules/core-js/modules/es.typed-array.of.js":function(e,t,r){"use strict";var i=r("../node_modules/core-js/internals/array-buffer-view-core.js"),n=r("../node_modules/core-js/internals/typed-array-constructors-require-wrappers.js"),a=i.aTypedArrayConstructor;(0,i.exportTypedArrayStaticMethod)("of",(function(){for(var e=0,t=arguments.length,r=new(a(this))(t);t>e;)r[e]=arguments[e++];return r}),n)},"../node_modules/core-js/modules/es.typed-array.uint16-array.js":function(e,t,r){r("../node_modules/core-js/internals/typed-array-constructor.js")("Uint16",(function(e){return function(t,r,i){return e(this,t,r,i)}}))},"../node_modules/core-js/modules/es.typed-array.uint32-array.js":function(e,t,r){r("../node_modules/core-js/internals/typed-array-constructor.js")("Uint32",(function(e){return function(t,r,i){return e(this,t,r,i)}}))},"../node_modules/core-js/modules/es.typed-array.uint8-array.js":function(e,t,r){r("../node_modules/core-js/internals/typed-array-constructor.js")("Uint8",(function(e){return function(t,r,i){return e(this,t,r,i)}}))},"../node_modules/core-js/modules/es.typed-array.uint8-clamped-array.js":function(e,t,r){r("../node_modules/core-js/internals/typed-array-constructor.js")("Uint8",(function(e){return function(t,r,i){return e(this,t,r,i)}}),!0)},"../node_modules/core-js/modules/web.dom-collections.for-each.js":function(e,t,r){var i=r("../node_modules/core-js/internals/global.js"),n=r("../node_modules/core-js/internals/dom-iterables.js"),a=r("../node_modules/core-js/internals/array-for-each.js"),o=r("../node_modules/core-js/internals/create-non-enumerable-property.js");for(var s in n){var u=i[s],l=u&&u.prototype;if(l&&l.forEach!==a)try{o(l,"forEach",a)}catch(e){l.forEach=a}}},"../node_modules/core-js/modules/web.dom-collections.iterator.js":function(e,t,r){var i=r("../node_modules/core-js/internals/global.js"),n=r("../node_modules/core-js/internals/dom-iterables.js"),a=r("../node_modules/core-js/modules/es.array.iterator.js"),o=r("../node_modules/core-js/internals/create-non-enumerable-property.js"),s=r("../node_modules/core-js/internals/well-known-symbol.js"),u=s("iterator"),l=s("toStringTag"),c=a.values;for(var f in n){var d=i[f],h=d&&d.prototype;if(h){if(h[u]!==c)try{o(h,u,c)}catch(e){h[u]=c}if(h[l]||o(h,l,f),n[f])for(var m in a)if(h[m]!==a[m])try{o(h,m,a[m])}catch(e){h[m]=a[m]}}}},"../node_modules/core-js/modules/web.immediate.js":function(e,t,r){var i=r("../node_modules/core-js/internals/export.js"),n=r("../node_modules/core-js/internals/global.js"),a=r("../node_modules/core-js/internals/task.js");i({global:!0,bind:!0,enumerable:!0,forced:!n.setImmediate||!n.clearImmediate},{setImmediate:a.set,clearImmediate:a.clear})},"../node_modules/core-js/modules/web.queue-microtask.js":function(e,t,r){var i=r("../node_modules/core-js/internals/export.js"),n=r("../node_modules/core-js/internals/global.js"),a=r("../node_modules/core-js/internals/microtask.js"),o=r("../node_modules/core-js/internals/classof-raw.js"),s=n.process,u="process"==o(s);i({global:!0,enumerable:!0,noTargetGet:!0},{queueMicrotask:function(e){var t=u&&s.domain;a(t?t.bind(e):e)}})},"../node_modules/core-js/modules/web.url-search-params.js":function(e,t,r){"use strict";r("../node_modules/core-js/modules/es.array.iterator.js");var i=r("../node_modules/core-js/internals/export.js"),n=r("../node_modules/core-js/internals/get-built-in.js"),a=r("../node_modules/core-js/internals/native-url.js"),o=r("../node_modules/core-js/internals/redefine.js"),s=r("../node_modules/core-js/internals/redefine-all.js"),u=r("../node_modules/core-js/internals/set-to-string-tag.js"),l=r("../node_modules/core-js/internals/create-iterator-constructor.js"),c=r("../node_modules/core-js/internals/internal-state.js"),f=r("../node_modules/core-js/internals/an-instance.js"),d=r("../node_modules/core-js/internals/has.js"),h=r("../node_modules/core-js/internals/function-bind-context.js"),m=r("../node_modules/core-js/internals/classof.js"),p=r("../node_modules/core-js/internals/an-object.js"),b=r("../node_modules/core-js/internals/is-object.js"),v=r("../node_modules/core-js/internals/object-create.js"),g=r("../node_modules/core-js/internals/create-property-descriptor.js"),E=r("../node_modules/core-js/internals/get-iterator.js"),y=r("../node_modules/core-js/internals/get-iterator-method.js"),T=r("../node_modules/core-js/internals/well-known-symbol.js"),S=n("fetch"),w=n("Headers"),_=T("iterator"),R=c.set,j=c.getterFor("URLSearchParams"),A=c.getterFor("URLSearchParamsIterator"),O=/\+/g,z=Array(4),P=function(e){return z[e-1]||(z[e-1]=RegExp("((?:%[\\da-f]{2}){"+e+"})","gi"))},x=function(e){try{return decodeURIComponent(e)}catch(t){return e}},C=function(e){var t=e.replace(O," "),r=4;try{return decodeURIComponent(t)}catch(e){for(;r;)t=t.replace(P(r--),x);return t}},D=/[!'()~]|%20/g,M={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+"},L=function(e){return M[e]},I=function(e){return encodeURIComponent(e).replace(D,L)},F=function(e,t){if(t)for(var r,i,n=t.split("&"),a=0;a<n.length;)(r=n[a++]).length&&(i=r.split("="),e.push({key:C(i.shift()),value:C(i.join("="))}))},G=function(e){this.entries.length=0,F(this.entries,e)},N=function(e,t){if(e<t)throw TypeError("Not enough arguments")},B=l((function(e,t){R(this,{type:"URLSearchParamsIterator",iterator:E(j(e).entries),kind:t})}),"Iterator",(function(){var e=A(this),t=e.kind,r=e.iterator.next(),i=r.value;return r.done||(r.value="keys"===t?i.key:"values"===t?i.value:[i.key,i.value]),r})),U=function(){f(this,U,"URLSearchParams");var e,t,r,i,n,a,o,s,u,l=arguments.length>0?arguments[0]:void 0,c=this,h=[];if(R(c,{type:"URLSearchParams",entries:h,updateURL:function(){},updateSearchParams:G}),void 0!==l)if(b(l))if("function"==typeof(e=y(l)))for(r=(t=e.call(l)).next;!(i=r.call(t)).done;){if((o=(a=(n=E(p(i.value))).next).call(n)).done||(s=a.call(n)).done||!a.call(n).done)throw TypeError("Expected sequence with length 2");h.push({key:o.value+"",value:s.value+""})}else for(u in l)d(l,u)&&h.push({key:u,value:l[u]+""});else F(h,"string"==typeof l?"?"===l.charAt(0)?l.slice(1):l:l+"")},V=U.prototype;s(V,{append:function(e,t){N(arguments.length,2);var r=j(this);r.entries.push({key:e+"",value:t+""}),r.updateURL()},delete:function(e){N(arguments.length,1);for(var t=j(this),r=t.entries,i=e+"",n=0;n<r.length;)r[n].key===i?r.splice(n,1):n++;t.updateURL()},get:function(e){N(arguments.length,1);for(var t=j(this).entries,r=e+"",i=0;i<t.length;i++)if(t[i].key===r)return t[i].value;return null},getAll:function(e){N(arguments.length,1);for(var t=j(this).entries,r=e+"",i=[],n=0;n<t.length;n++)t[n].key===r&&i.push(t[n].value);return i},has:function(e){N(arguments.length,1);for(var t=j(this).entries,r=e+"",i=0;i<t.length;)if(t[i++].key===r)return!0;return!1},set:function(e,t){N(arguments.length,1);for(var r,i=j(this),n=i.entries,a=!1,o=e+"",s=t+"",u=0;u<n.length;u++)(r=n[u]).key===o&&(a?n.splice(u--,1):(a=!0,r.value=s));a||n.push({key:o,value:s}),i.updateURL()},sort:function(){var e,t,r,i=j(this),n=i.entries,a=n.slice();for(n.length=0,r=0;r<a.length;r++){for(e=a[r],t=0;t<r;t++)if(n[t].key>e.key){n.splice(t,0,e);break}t===r&&n.push(e)}i.updateURL()},forEach:function(e){for(var t,r=j(this).entries,i=h(e,arguments.length>1?arguments[1]:void 0,3),n=0;n<r.length;)i((t=r[n++]).value,t.key,this)},keys:function(){return new B(this,"keys")},values:function(){return new B(this,"values")},entries:function(){return new B(this,"entries")}},{enumerable:!0}),o(V,_,V.entries),o(V,"toString",(function(){for(var e,t=j(this).entries,r=[],i=0;i<t.length;)e=t[i++],r.push(I(e.key)+"="+I(e.value));return r.join("&")}),{enumerable:!0}),u(U,"URLSearchParams"),i({global:!0,forced:!a},{URLSearchParams:U}),a||"function"!=typeof S||"function"!=typeof w||i({global:!0,enumerable:!0,forced:!0},{fetch:function(e){var t,r,i,n=[e];return arguments.length>1&&(b(t=arguments[1])&&(r=t.body,"URLSearchParams"===m(r)&&((i=t.headers?new w(t.headers):new w).has("content-type")||i.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"),t=v(t,{body:g(0,String(r)),headers:g(0,i)}))),n.push(t)),S.apply(this,n)}}),e.exports={URLSearchParams:U,getState:j}},"../node_modules/core-js/modules/web.url.js":function(e,t,r){"use strict";r("../node_modules/core-js/modules/es.string.iterator.js");var i,n=r("../node_modules/core-js/internals/export.js"),a=r("../node_modules/core-js/internals/descriptors.js"),o=r("../node_modules/core-js/internals/native-url.js"),s=r("../node_modules/core-js/internals/global.js"),u=r("../node_modules/core-js/internals/object-define-properties.js"),l=r("../node_modules/core-js/internals/redefine.js"),c=r("../node_modules/core-js/internals/an-instance.js"),f=r("../node_modules/core-js/internals/has.js"),d=r("../node_modules/core-js/internals/object-assign.js"),h=r("../node_modules/core-js/internals/array-from.js"),m=r("../node_modules/core-js/internals/string-multibyte.js").codeAt,p=r("../node_modules/core-js/internals/string-punycode-to-ascii.js"),b=r("../node_modules/core-js/internals/set-to-string-tag.js"),v=r("../node_modules/core-js/modules/web.url-search-params.js"),g=r("../node_modules/core-js/internals/internal-state.js"),E=s.URL,y=v.URLSearchParams,T=v.getState,S=g.set,w=g.getterFor("URL"),_=Math.floor,R=Math.pow,j=/[A-Za-z]/,A=/[\d+-.A-Za-z]/,O=/\d/,z=/^(0x|0X)/,P=/^[0-7]+$/,x=/^\d+$/,C=/^[\dA-Fa-f]+$/,D=/[\u0000\u0009\u000A\u000D #%/:?@[\\]]/,M=/[\u0000\u0009\u000A\u000D #/:?@[\\]]/,L=/^[\u0000-\u001F ]+|[\u0000-\u001F ]+$/g,I=/[\u0009\u000A\u000D]/g,F=function(e,t){var r,i,n;if("["==t.charAt(0)){if("]"!=t.charAt(t.length-1))return"Invalid host";if(!(r=N(t.slice(1,-1))))return"Invalid host";e.host=r}else if(Y(e)){if(t=p(t),D.test(t))return"Invalid host";if(null===(r=G(t)))return"Invalid host";e.host=r}else{if(M.test(t))return"Invalid host";for(r="",i=h(t),n=0;n<i.length;n++)r+=q(i[n],U);e.host=r}},G=function(e){var t,r,i,n,a,o,s,u=e.split(".");if(u.length&&""==u[u.length-1]&&u.pop(),(t=u.length)>4)return e;for(r=[],i=0;i<t;i++){if(""==(n=u[i]))return e;if(a=10,n.length>1&&"0"==n.charAt(0)&&(a=z.test(n)?16:8,n=n.slice(8==a?1:2)),""===n)o=0;else{if(!(10==a?x:8==a?P:C).test(n))return e;o=parseInt(n,a)}r.push(o)}for(i=0;i<t;i++)if(o=r[i],i==t-1){if(o>=R(256,5-t))return null}else if(o>255)return null;for(s=r.pop(),i=0;i<r.length;i++)s+=r[i]*R(256,3-i);return s},N=function(e){var t,r,i,n,a,o,s,u=[0,0,0,0,0,0,0,0],l=0,c=null,f=0,d=function(){return e.charAt(f)};if(":"==d()){if(":"!=e.charAt(1))return;f+=2,c=++l}for(;d();){if(8==l)return;if(":"!=d()){for(t=r=0;r<4&&C.test(d());)t=16*t+parseInt(d(),16),f++,r++;if("."==d()){if(0==r)return;if(f-=r,l>6)return;for(i=0;d();){if(n=null,i>0){if(!("."==d()&&i<4))return;f++}if(!O.test(d()))return;for(;O.test(d());){if(a=parseInt(d(),10),null===n)n=a;else{if(0==n)return;n=10*n+a}if(n>255)return;f++}u[l]=256*u[l]+n,2!=++i&&4!=i||l++}if(4!=i)return;break}if(":"==d()){if(f++,!d())return}else if(d())return;u[l++]=t}else{if(null!==c)return;f++,c=++l}}if(null!==c)for(o=l-c,l=7;0!=l&&o>0;)s=u[l],u[l--]=u[c+o-1],u[c+--o]=s;else if(8!=l)return;return u},B=function(e){var t,r,i,n;if("number"==typeof e){for(t=[],r=0;r<4;r++)t.unshift(e%256),e=_(e/256);return t.join(".")}if("object"==typeof e){for(t="",i=function(e){for(var t=null,r=1,i=null,n=0,a=0;a<8;a++)0!==e[a]?(n>r&&(t=i,r=n),i=null,n=0):(null===i&&(i=a),++n);return n>r&&(t=i,r=n),t}(e),r=0;r<8;r++)n&&0===e[r]||(n&&(n=!1),i===r?(t+=r?":":"::",n=!0):(t+=e[r].toString(16),r<7&&(t+=":")));return"["+t+"]"}return e},U={},V=d({},U,{" ":1,'"':1,"<":1,">":1,"`":1}),k=d({},V,{"#":1,"?":1,"{":1,"}":1}),H=d({},k,{"/":1,":":1,";":1,"=":1,"@":1,"[":1,"\\":1,"]":1,"^":1,"|":1}),q=function(e,t){var r=m(e,0);return r>32&&r<127&&!f(t,e)?e:encodeURIComponent(e)},W={ftp:21,file:null,http:80,https:443,ws:80,wss:443},Y=function(e){return f(W,e.scheme)},X=function(e){return""!=e.username||""!=e.password},K=function(e){return!e.host||e.cannotBeABaseURL||"file"==e.scheme},Q=function(e,t){var r;return 2==e.length&&j.test(e.charAt(0))&&(":"==(r=e.charAt(1))||!t&&"|"==r)},Z=function(e){var t;return e.length>1&&Q(e.slice(0,2))&&(2==e.length||"/"===(t=e.charAt(2))||"\\"===t||"?"===t||"#"===t)},$=function(e){var t=e.path,r=t.length;!r||"file"==e.scheme&&1==r&&Q(t[0],!0)||t.pop()},J=function(e){return"."===e||"%2e"===e.toLowerCase()},ee={},te={},re={},ie={},ne={},ae={},oe={},se={},ue={},le={},ce={},fe={},de={},he={},me={},pe={},be={},ve={},ge={},Ee={},ye={},Te=function(e,t,r,n){var a,o,s,u,l,c=r||ee,d=0,m="",p=!1,b=!1,v=!1;for(r||(e.scheme="",e.username="",e.password="",e.host=null,e.port=null,e.path=[],e.query=null,e.fragment=null,e.cannotBeABaseURL=!1,t=t.replace(L,"")),t=t.replace(I,""),a=h(t);d<=a.length;){switch(o=a[d],c){case ee:if(!o||!j.test(o)){if(r)return"Invalid scheme";c=re;continue}m+=o.toLowerCase(),c=te;break;case te:if(o&&(A.test(o)||"+"==o||"-"==o||"."==o))m+=o.toLowerCase();else{if(":"!=o){if(r)return"Invalid scheme";m="",c=re,d=0;continue}if(r&&(Y(e)!=f(W,m)||"file"==m&&(X(e)||null!==e.port)||"file"==e.scheme&&!e.host))return;if(e.scheme=m,r)return void(Y(e)&&W[e.scheme]==e.port&&(e.port=null));m="","file"==e.scheme?c=he:Y(e)&&n&&n.scheme==e.scheme?c=ie:Y(e)?c=se:"/"==a[d+1]?(c=ne,d++):(e.cannotBeABaseURL=!0,e.path.push(""),c=ge)}break;case re:if(!n||n.cannotBeABaseURL&&"#"!=o)return"Invalid scheme";if(n.cannotBeABaseURL&&"#"==o){e.scheme=n.scheme,e.path=n.path.slice(),e.query=n.query,e.fragment="",e.cannotBeABaseURL=!0,c=ye;break}c="file"==n.scheme?he:ae;continue;case ie:if("/"!=o||"/"!=a[d+1]){c=ae;continue}c=ue,d++;break;case ne:if("/"==o){c=le;break}c=ve;continue;case ae:if(e.scheme=n.scheme,o==i)e.username=n.username,e.password=n.password,e.host=n.host,e.port=n.port,e.path=n.path.slice(),e.query=n.query;else if("/"==o||"\\"==o&&Y(e))c=oe;else if("?"==o)e.username=n.username,e.password=n.password,e.host=n.host,e.port=n.port,e.path=n.path.slice(),e.query="",c=Ee;else{if("#"!=o){e.username=n.username,e.password=n.password,e.host=n.host,e.port=n.port,e.path=n.path.slice(),e.path.pop(),c=ve;continue}e.username=n.username,e.password=n.password,e.host=n.host,e.port=n.port,e.path=n.path.slice(),e.query=n.query,e.fragment="",c=ye}break;case oe:if(!Y(e)||"/"!=o&&"\\"!=o){if("/"!=o){e.username=n.username,e.password=n.password,e.host=n.host,e.port=n.port,c=ve;continue}c=le}else c=ue;break;case se:if(c=ue,"/"!=o||"/"!=m.charAt(d+1))continue;d++;break;case ue:if("/"!=o&&"\\"!=o){c=le;continue}break;case le:if("@"==o){p&&(m="%40"+m),p=!0,s=h(m);for(var g=0;g<s.length;g++){var E=s[g];if(":"!=E||v){var y=q(E,H);v?e.password+=y:e.username+=y}else v=!0}m=""}else if(o==i||"/"==o||"?"==o||"#"==o||"\\"==o&&Y(e)){if(p&&""==m)return"Invalid authority";d-=h(m).length+1,m="",c=ce}else m+=o;break;case ce:case fe:if(r&&"file"==e.scheme){c=pe;continue}if(":"!=o||b){if(o==i||"/"==o||"?"==o||"#"==o||"\\"==o&&Y(e)){if(Y(e)&&""==m)return"Invalid host";if(r&&""==m&&(X(e)||null!==e.port))return;if(u=F(e,m))return u;if(m="",c=be,r)return;continue}"["==o?b=!0:"]"==o&&(b=!1),m+=o}else{if(""==m)return"Invalid host";if(u=F(e,m))return u;if(m="",c=de,r==fe)return}break;case de:if(!O.test(o)){if(o==i||"/"==o||"?"==o||"#"==o||"\\"==o&&Y(e)||r){if(""!=m){var T=parseInt(m,10);if(T>65535)return"Invalid port";e.port=Y(e)&&T===W[e.scheme]?null:T,m=""}if(r)return;c=be;continue}return"Invalid port"}m+=o;break;case he:if(e.scheme="file","/"==o||"\\"==o)c=me;else{if(!n||"file"!=n.scheme){c=ve;continue}if(o==i)e.host=n.host,e.path=n.path.slice(),e.query=n.query;else if("?"==o)e.host=n.host,e.path=n.path.slice(),e.query="",c=Ee;else{if("#"!=o){Z(a.slice(d).join(""))||(e.host=n.host,e.path=n.path.slice(),$(e)),c=ve;continue}e.host=n.host,e.path=n.path.slice(),e.query=n.query,e.fragment="",c=ye}}break;case me:if("/"==o||"\\"==o){c=pe;break}n&&"file"==n.scheme&&!Z(a.slice(d).join(""))&&(Q(n.path[0],!0)?e.path.push(n.path[0]):e.host=n.host),c=ve;continue;case pe:if(o==i||"/"==o||"\\"==o||"?"==o||"#"==o){if(!r&&Q(m))c=ve;else if(""==m){if(e.host="",r)return;c=be}else{if(u=F(e,m))return u;if("localhost"==e.host&&(e.host=""),r)return;m="",c=be}continue}m+=o;break;case be:if(Y(e)){if(c=ve,"/"!=o&&"\\"!=o)continue}else if(r||"?"!=o)if(r||"#"!=o){if(o!=i&&(c=ve,"/"!=o))continue}else e.fragment="",c=ye;else e.query="",c=Ee;break;case ve:if(o==i||"/"==o||"\\"==o&&Y(e)||!r&&("?"==o||"#"==o)){if(".."===(l=(l=m).toLowerCase())||"%2e."===l||".%2e"===l||"%2e%2e"===l?($(e),"/"==o||"\\"==o&&Y(e)||e.path.push("")):J(m)?"/"==o||"\\"==o&&Y(e)||e.path.push(""):("file"==e.scheme&&!e.path.length&&Q(m)&&(e.host&&(e.host=""),m=m.charAt(0)+":"),e.path.push(m)),m="","file"==e.scheme&&(o==i||"?"==o||"#"==o))for(;e.path.length>1&&""===e.path[0];)e.path.shift();"?"==o?(e.query="",c=Ee):"#"==o&&(e.fragment="",c=ye)}else m+=q(o,k);break;case ge:"?"==o?(e.query="",c=Ee):"#"==o?(e.fragment="",c=ye):o!=i&&(e.path[0]+=q(o,U));break;case Ee:r||"#"!=o?o!=i&&("'"==o&&Y(e)?e.query+="%27":e.query+="#"==o?"%23":q(o,U)):(e.fragment="",c=ye);break;case ye:o!=i&&(e.fragment+=q(o,V))}d++}},Se=function(e){var t,r,i=c(this,Se,"URL"),n=arguments.length>1?arguments[1]:void 0,o=String(e),s=S(i,{type:"URL"});if(void 0!==n)if(n instanceof Se)t=w(n);else if(r=Te(t={},String(n)))throw TypeError(r);if(r=Te(s,o,null,t))throw TypeError(r);var u=s.searchParams=new y,l=T(u);l.updateSearchParams(s.query),l.updateURL=function(){s.query=String(u)||null},a||(i.href=_e.call(i),i.origin=Re.call(i),i.protocol=je.call(i),i.username=Ae.call(i),i.password=Oe.call(i),i.host=ze.call(i),i.hostname=Pe.call(i),i.port=xe.call(i),i.pathname=Ce.call(i),i.search=De.call(i),i.searchParams=Me.call(i),i.hash=Le.call(i))},we=Se.prototype,_e=function(){var e=w(this),t=e.scheme,r=e.username,i=e.password,n=e.host,a=e.port,o=e.path,s=e.query,u=e.fragment,l=t+":";return null!==n?(l+="//",X(e)&&(l+=r+(i?":"+i:"")+"@"),l+=B(n),null!==a&&(l+=":"+a)):"file"==t&&(l+="//"),l+=e.cannotBeABaseURL?o[0]:o.length?"/"+o.join("/"):"",null!==s&&(l+="?"+s),null!==u&&(l+="#"+u),l},Re=function(){var e=w(this),t=e.scheme,r=e.port;if("blob"==t)try{return new URL(t.path[0]).origin}catch(e){return"null"}return"file"!=t&&Y(e)?t+"://"+B(e.host)+(null!==r?":"+r:""):"null"},je=function(){return w(this).scheme+":"},Ae=function(){return w(this).username},Oe=function(){return w(this).password},ze=function(){var e=w(this),t=e.host,r=e.port;return null===t?"":null===r?B(t):B(t)+":"+r},Pe=function(){var e=w(this).host;return null===e?"":B(e)},xe=function(){var e=w(this).port;return null===e?"":String(e)},Ce=function(){var e=w(this),t=e.path;return e.cannotBeABaseURL?t[0]:t.length?"/"+t.join("/"):""},De=function(){var e=w(this).query;return e?"?"+e:""},Me=function(){return w(this).searchParams},Le=function(){var e=w(this).fragment;return e?"#"+e:""},Ie=function(e,t){return{get:e,set:t,configurable:!0,enumerable:!0}};if(a&&u(we,{href:Ie(_e,(function(e){var t=w(this),r=String(e),i=Te(t,r);if(i)throw TypeError(i);T(t.searchParams).updateSearchParams(t.query)})),origin:Ie(Re),protocol:Ie(je,(function(e){var t=w(this);Te(t,String(e)+":",ee)})),username:Ie(Ae,(function(e){var t=w(this),r=h(String(e));if(!K(t)){t.username="";for(var i=0;i<r.length;i++)t.username+=q(r[i],H)}})),password:Ie(Oe,(function(e){var t=w(this),r=h(String(e));if(!K(t)){t.password="";for(var i=0;i<r.length;i++)t.password+=q(r[i],H)}})),host:Ie(ze,(function(e){var t=w(this);t.cannotBeABaseURL||Te(t,String(e),ce)})),hostname:Ie(Pe,(function(e){var t=w(this);t.cannotBeABaseURL||Te(t,String(e),fe)})),port:Ie(xe,(function(e){var t=w(this);K(t)||(""==(e=String(e))?t.port=null:Te(t,e,de))})),pathname:Ie(Ce,(function(e){var t=w(this);t.cannotBeABaseURL||(t.path=[],Te(t,e+"",be))})),search:Ie(De,(function(e){var t=w(this);""==(e=String(e))?t.query=null:("?"==e.charAt(0)&&(e=e.slice(1)),t.query="",Te(t,e,Ee)),T(t.searchParams).updateSearchParams(t.query)})),searchParams:Ie(Me),hash:Ie(Le,(function(e){var t=w(this);""!=(e=String(e))?("#"==e.charAt(0)&&(e=e.slice(1)),t.fragment="",Te(t,e,ye)):t.fragment=null}))}),l(we,"toJSON",(function(){return _e.call(this)}),{enumerable:!0}),l(we,"toString",(function(){return _e.call(this)}),{enumerable:!0}),E){var Fe=E.createObjectURL,Ge=E.revokeObjectURL;Fe&&l(Se,"createObjectURL",(function(e){return Fe.apply(E,arguments)})),Ge&&l(Se,"revokeObjectURL",(function(e){return Ge.apply(E,arguments)}))}b(Se,"URL"),n({global:!0,forced:!o,sham:!a},{URL:Se})},"../node_modules/core-js/modules/web.url.to-json.js":function(e,t,r){"use strict";r("../node_modules/core-js/internals/export.js")({target:"URL",proto:!0,enumerable:!0},{toJSON:function(){return URL.prototype.toString.call(this)}})},"../node_modules/gl-matrix/lib/gl-matrix.js":function(e,t,r){"use strict";r.r(t);var i=r("../node_modules/gl-matrix/lib/gl-matrix/common.js");r.d(t,"glMatrix",(function(){return i}));var n=r("../node_modules/gl-matrix/lib/gl-matrix/mat2.js");r.d(t,"mat2",(function(){return n}));var a=r("../node_modules/gl-matrix/lib/gl-matrix/mat2d.js");r.d(t,"mat2d",(function(){return a}));var o=r("../node_modules/gl-matrix/lib/gl-matrix/mat3.js");r.d(t,"mat3",(function(){return o}));var s=r("../node_modules/gl-matrix/lib/gl-matrix/mat4.js");r.d(t,"mat4",(function(){return s}));var u=r("../node_modules/gl-matrix/lib/gl-matrix/quat.js");r.d(t,"quat",(function(){return u}));var l=r("../node_modules/gl-matrix/lib/gl-matrix/quat2.js");r.d(t,"quat2",(function(){return l}));var c=r("../node_modules/gl-matrix/lib/gl-matrix/vec2.js");r.d(t,"vec2",(function(){return c}));var f=r("../node_modules/gl-matrix/lib/gl-matrix/vec3.js");r.d(t,"vec3",(function(){return f}));var d=r("../node_modules/gl-matrix/lib/gl-matrix/vec4.js");r.d(t,"vec4",(function(){return d}))},"../node_modules/gl-matrix/lib/gl-matrix/common.js":function(e,t,r){"use strict";r.r(t),r.d(t,"EPSILON",(function(){return i})),r.d(t,"ARRAY_TYPE",(function(){return n})),r.d(t,"RANDOM",(function(){return a})),r.d(t,"setMatrixArrayType",(function(){return o})),r.d(t,"toRadian",(function(){return u})),r.d(t,"equals",(function(){return l}));var i=1e-6,n="undefined"!=typeof Float32Array?Float32Array:Array,a=Math.random;function o(e){n=e}var s=Math.PI/180;function u(e){return e*s}function l(e,t){return Math.abs(e-t)<=i*Math.max(1,Math.abs(e),Math.abs(t))}},"../node_modules/gl-matrix/lib/gl-matrix/mat2.js":function(e,t,r){"use strict";r.r(t),r.d(t,"create",(function(){return n})),r.d(t,"clone",(function(){return a})),r.d(t,"copy",(function(){return o})),r.d(t,"identity",(function(){return s})),r.d(t,"fromValues",(function(){return u})),r.d(t,"set",(function(){return l})),r.d(t,"transpose",(function(){return c})),r.d(t,"invert",(function(){return f})),r.d(t,"adjoint",(function(){return d})),r.d(t,"determinant",(function(){return h})),r.d(t,"multiply",(function(){return m})),r.d(t,"rotate",(function(){return p})),r.d(t,"scale",(function(){return b})),r.d(t,"fromRotation",(function(){return v})),r.d(t,"fromScaling",(function(){return g})),r.d(t,"str",(function(){return E})),r.d(t,"frob",(function(){return y})),r.d(t,"LDU",(function(){return T})),r.d(t,"add",(function(){return S})),r.d(t,"subtract",(function(){return w})),r.d(t,"exactEquals",(function(){return _})),r.d(t,"equals",(function(){return R})),r.d(t,"multiplyScalar",(function(){return j})),r.d(t,"multiplyScalarAndAdd",(function(){return A})),r.d(t,"mul",(function(){return O})),r.d(t,"sub",(function(){return z}));var i=r("../node_modules/gl-matrix/lib/gl-matrix/common.js");function n(){var e=new i.ARRAY_TYPE(4);return i.ARRAY_TYPE!=Float32Array&&(e[1]=0,e[2]=0),e[0]=1,e[3]=1,e}function a(e){var t=new i.ARRAY_TYPE(4);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t}function o(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e}function s(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=1,e}function u(e,t,r,n){var a=new i.ARRAY_TYPE(4);return a[0]=e,a[1]=t,a[2]=r,a[3]=n,a}function l(e,t,r,i,n){return e[0]=t,e[1]=r,e[2]=i,e[3]=n,e}function c(e,t){if(e===t){var r=t[1];e[1]=t[2],e[2]=r}else e[0]=t[0],e[1]=t[2],e[2]=t[1],e[3]=t[3];return e}function f(e,t){var r=t[0],i=t[1],n=t[2],a=t[3],o=r*a-n*i;return o?(o=1/o,e[0]=a*o,e[1]=-i*o,e[2]=-n*o,e[3]=r*o,e):null}function d(e,t){var r=t[0];return e[0]=t[3],e[1]=-t[1],e[2]=-t[2],e[3]=r,e}function h(e){return e[0]*e[3]-e[2]*e[1]}function m(e,t,r){var i=t[0],n=t[1],a=t[2],o=t[3],s=r[0],u=r[1],l=r[2],c=r[3];return e[0]=i*s+a*u,e[1]=n*s+o*u,e[2]=i*l+a*c,e[3]=n*l+o*c,e}function p(e,t,r){var i=t[0],n=t[1],a=t[2],o=t[3],s=Math.sin(r),u=Math.cos(r);return e[0]=i*u+a*s,e[1]=n*u+o*s,e[2]=i*-s+a*u,e[3]=n*-s+o*u,e}function b(e,t,r){var i=t[0],n=t[1],a=t[2],o=t[3],s=r[0],u=r[1];return e[0]=i*s,e[1]=n*s,e[2]=a*u,e[3]=o*u,e}function v(e,t){var r=Math.sin(t),i=Math.cos(t);return e[0]=i,e[1]=r,e[2]=-r,e[3]=i,e}function g(e,t){return e[0]=t[0],e[1]=0,e[2]=0,e[3]=t[1],e}function E(e){return"mat2("+e[0]+", "+e[1]+", "+e[2]+", "+e[3]+")"}function y(e){return Math.sqrt(Math.pow(e[0],2)+Math.pow(e[1],2)+Math.pow(e[2],2)+Math.pow(e[3],2))}function T(e,t,r,i){return e[2]=i[2]/i[0],r[0]=i[0],r[1]=i[1],r[3]=i[3]-e[2]*r[1],[e,t,r]}function S(e,t,r){return e[0]=t[0]+r[0],e[1]=t[1]+r[1],e[2]=t[2]+r[2],e[3]=t[3]+r[3],e}function w(e,t,r){return e[0]=t[0]-r[0],e[1]=t[1]-r[1],e[2]=t[2]-r[2],e[3]=t[3]-r[3],e}function _(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===t[3]}function R(e,t){var r=e[0],n=e[1],a=e[2],o=e[3],s=t[0],u=t[1],l=t[2],c=t[3];return Math.abs(r-s)<=i.EPSILON*Math.max(1,Math.abs(r),Math.abs(s))&&Math.abs(n-u)<=i.EPSILON*Math.max(1,Math.abs(n),Math.abs(u))&&Math.abs(a-l)<=i.EPSILON*Math.max(1,Math.abs(a),Math.abs(l))&&Math.abs(o-c)<=i.EPSILON*Math.max(1,Math.abs(o),Math.abs(c))}function j(e,t,r){return e[0]=t[0]*r,e[1]=t[1]*r,e[2]=t[2]*r,e[3]=t[3]*r,e}function A(e,t,r,i){return e[0]=t[0]+r[0]*i,e[1]=t[1]+r[1]*i,e[2]=t[2]+r[2]*i,e[3]=t[3]+r[3]*i,e}var O=m,z=w},"../node_modules/gl-matrix/lib/gl-matrix/mat2d.js":function(e,t,r){"use strict";r.r(t),r.d(t,"create",(function(){return n})),r.d(t,"clone",(function(){return a})),r.d(t,"copy",(function(){return o})),r.d(t,"identity",(function(){return s})),r.d(t,"fromValues",(function(){return u})),r.d(t,"set",(function(){return l})),r.d(t,"invert",(function(){return c})),r.d(t,"determinant",(function(){return f})),r.d(t,"multiply",(function(){return d})),r.d(t,"rotate",(function(){return h})),r.d(t,"scale",(function(){return m})),r.d(t,"translate",(function(){return p})),r.d(t,"fromRotation",(function(){return b})),r.d(t,"fromScaling",(function(){return v})),r.d(t,"fromTranslation",(function(){return g})),r.d(t,"str",(function(){return E})),r.d(t,"frob",(function(){return y})),r.d(t,"add",(function(){return T})),r.d(t,"subtract",(function(){return S})),r.d(t,"multiplyScalar",(function(){return w})),r.d(t,"multiplyScalarAndAdd",(function(){return _})),r.d(t,"exactEquals",(function(){return R})),r.d(t,"equals",(function(){return j})),r.d(t,"mul",(function(){return A})),r.d(t,"sub",(function(){return O}));var i=r("../node_modules/gl-matrix/lib/gl-matrix/common.js");function n(){var e=new i.ARRAY_TYPE(6);return i.ARRAY_TYPE!=Float32Array&&(e[1]=0,e[2]=0,e[4]=0,e[5]=0),e[0]=1,e[3]=1,e}function a(e){var t=new i.ARRAY_TYPE(6);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t}function o(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e}function s(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=1,e[4]=0,e[5]=0,e}function u(e,t,r,n,a,o){var s=new i.ARRAY_TYPE(6);return s[0]=e,s[1]=t,s[2]=r,s[3]=n,s[4]=a,s[5]=o,s}function l(e,t,r,i,n,a,o){return e[0]=t,e[1]=r,e[2]=i,e[3]=n,e[4]=a,e[5]=o,e}function c(e,t){var r=t[0],i=t[1],n=t[2],a=t[3],o=t[4],s=t[5],u=r*a-i*n;return u?(u=1/u,e[0]=a*u,e[1]=-i*u,e[2]=-n*u,e[3]=r*u,e[4]=(n*s-a*o)*u,e[5]=(i*o-r*s)*u,e):null}function f(e){return e[0]*e[3]-e[1]*e[2]}function d(e,t,r){var i=t[0],n=t[1],a=t[2],o=t[3],s=t[4],u=t[5],l=r[0],c=r[1],f=r[2],d=r[3],h=r[4],m=r[5];return e[0]=i*l+a*c,e[1]=n*l+o*c,e[2]=i*f+a*d,e[3]=n*f+o*d,e[4]=i*h+a*m+s,e[5]=n*h+o*m+u,e}function h(e,t,r){var i=t[0],n=t[1],a=t[2],o=t[3],s=t[4],u=t[5],l=Math.sin(r),c=Math.cos(r);return e[0]=i*c+a*l,e[1]=n*c+o*l,e[2]=i*-l+a*c,e[3]=n*-l+o*c,e[4]=s,e[5]=u,e}function m(e,t,r){var i=t[0],n=t[1],a=t[2],o=t[3],s=t[4],u=t[5],l=r[0],c=r[1];return e[0]=i*l,e[1]=n*l,e[2]=a*c,e[3]=o*c,e[4]=s,e[5]=u,e}function p(e,t,r){var i=t[0],n=t[1],a=t[2],o=t[3],s=t[4],u=t[5],l=r[0],c=r[1];return e[0]=i,e[1]=n,e[2]=a,e[3]=o,e[4]=i*l+a*c+s,e[5]=n*l+o*c+u,e}function b(e,t){var r=Math.sin(t),i=Math.cos(t);return e[0]=i,e[1]=r,e[2]=-r,e[3]=i,e[4]=0,e[5]=0,e}function v(e,t){return e[0]=t[0],e[1]=0,e[2]=0,e[3]=t[1],e[4]=0,e[5]=0,e}function g(e,t){return e[0]=1,e[1]=0,e[2]=0,e[3]=1,e[4]=t[0],e[5]=t[1],e}function E(e){return"mat2d("+e[0]+", "+e[1]+", "+e[2]+", "+e[3]+", "+e[4]+", "+e[5]+")"}function y(e){return Math.sqrt(Math.pow(e[0],2)+Math.pow(e[1],2)+Math.pow(e[2],2)+Math.pow(e[3],2)+Math.pow(e[4],2)+Math.pow(e[5],2)+1)}function T(e,t,r){return e[0]=t[0]+r[0],e[1]=t[1]+r[1],e[2]=t[2]+r[2],e[3]=t[3]+r[3],e[4]=t[4]+r[4],e[5]=t[5]+r[5],e}function S(e,t,r){return e[0]=t[0]-r[0],e[1]=t[1]-r[1],e[2]=t[2]-r[2],e[3]=t[3]-r[3],e[4]=t[4]-r[4],e[5]=t[5]-r[5],e}function w(e,t,r){return e[0]=t[0]*r,e[1]=t[1]*r,e[2]=t[2]*r,e[3]=t[3]*r,e[4]=t[4]*r,e[5]=t[5]*r,e}function _(e,t,r,i){return e[0]=t[0]+r[0]*i,e[1]=t[1]+r[1]*i,e[2]=t[2]+r[2]*i,e[3]=t[3]+r[3]*i,e[4]=t[4]+r[4]*i,e[5]=t[5]+r[5]*i,e}function R(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===t[3]&&e[4]===t[4]&&e[5]===t[5]}function j(e,t){var r=e[0],n=e[1],a=e[2],o=e[3],s=e[4],u=e[5],l=t[0],c=t[1],f=t[2],d=t[3],h=t[4],m=t[5];return Math.abs(r-l)<=i.EPSILON*Math.max(1,Math.abs(r),Math.abs(l))&&Math.abs(n-c)<=i.EPSILON*Math.max(1,Math.abs(n),Math.abs(c))&&Math.abs(a-f)<=i.EPSILON*Math.max(1,Math.abs(a),Math.abs(f))&&Math.abs(o-d)<=i.EPSILON*Math.max(1,Math.abs(o),Math.abs(d))&&Math.abs(s-h)<=i.EPSILON*Math.max(1,Math.abs(s),Math.abs(h))&&Math.abs(u-m)<=i.EPSILON*Math.max(1,Math.abs(u),Math.abs(m))}var A=d,O=S},"../node_modules/gl-matrix/lib/gl-matrix/mat3.js":function(e,t,r){"use strict";r.r(t),r.d(t,"create",(function(){return n})),r.d(t,"fromMat4",(function(){return a})),r.d(t,"clone",(function(){return o})),r.d(t,"copy",(function(){return s})),r.d(t,"fromValues",(function(){return u})),r.d(t,"set",(function(){return l})),r.d(t,"identity",(function(){return c})),r.d(t,"transpose",(function(){return f})),r.d(t,"invert",(function(){return d})),r.d(t,"adjoint",(function(){return h})),r.d(t,"determinant",(function(){return m})),r.d(t,"multiply",(function(){return p})),r.d(t,"translate",(function(){return b})),r.d(t,"rotate",(function(){return v})),r.d(t,"scale",(function(){return g})),r.d(t,"fromTranslation",(function(){return E})),r.d(t,"fromRotation",(function(){return y})),r.d(t,"fromScaling",(function(){return T})),r.d(t,"fromMat2d",(function(){return S})),r.d(t,"fromQuat",(function(){return w})),r.d(t,"normalFromMat4",(function(){return _})),r.d(t,"projection",(function(){return R})),r.d(t,"str",(function(){return j})),r.d(t,"frob",(function(){return A})),r.d(t,"add",(function(){return O})),r.d(t,"subtract",(function(){return z})),r.d(t,"multiplyScalar",(function(){return P})),r.d(t,"multiplyScalarAndAdd",(function(){return x})),r.d(t,"exactEquals",(function(){return C})),r.d(t,"equals",(function(){return D})),r.d(t,"mul",(function(){return M})),r.d(t,"sub",(function(){return L}));var i=r("../node_modules/gl-matrix/lib/gl-matrix/common.js");function n(){var e=new i.ARRAY_TYPE(9);return i.ARRAY_TYPE!=Float32Array&&(e[1]=0,e[2]=0,e[3]=0,e[5]=0,e[6]=0,e[7]=0),e[0]=1,e[4]=1,e[8]=1,e}function a(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[4],e[4]=t[5],e[5]=t[6],e[6]=t[8],e[7]=t[9],e[8]=t[10],e}function o(e){var t=new i.ARRAY_TYPE(9);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t}function s(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e}function u(e,t,r,n,a,o,s,u,l){var c=new i.ARRAY_TYPE(9);return c[0]=e,c[1]=t,c[2]=r,c[3]=n,c[4]=a,c[5]=o,c[6]=s,c[7]=u,c[8]=l,c}function l(e,t,r,i,n,a,o,s,u,l){return e[0]=t,e[1]=r,e[2]=i,e[3]=n,e[4]=a,e[5]=o,e[6]=s,e[7]=u,e[8]=l,e}function c(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=1,e[5]=0,e[6]=0,e[7]=0,e[8]=1,e}function f(e,t){if(e===t){var r=t[1],i=t[2],n=t[5];e[1]=t[3],e[2]=t[6],e[3]=r,e[5]=t[7],e[6]=i,e[7]=n}else e[0]=t[0],e[1]=t[3],e[2]=t[6],e[3]=t[1],e[4]=t[4],e[5]=t[7],e[6]=t[2],e[7]=t[5],e[8]=t[8];return e}function d(e,t){var r=t[0],i=t[1],n=t[2],a=t[3],o=t[4],s=t[5],u=t[6],l=t[7],c=t[8],f=c*o-s*l,d=-c*a+s*u,h=l*a-o*u,m=r*f+i*d+n*h;return m?(m=1/m,e[0]=f*m,e[1]=(-c*i+n*l)*m,e[2]=(s*i-n*o)*m,e[3]=d*m,e[4]=(c*r-n*u)*m,e[5]=(-s*r+n*a)*m,e[6]=h*m,e[7]=(-l*r+i*u)*m,e[8]=(o*r-i*a)*m,e):null}function h(e,t){var r=t[0],i=t[1],n=t[2],a=t[3],o=t[4],s=t[5],u=t[6],l=t[7],c=t[8];return e[0]=o*c-s*l,e[1]=n*l-i*c,e[2]=i*s-n*o,e[3]=s*u-a*c,e[4]=r*c-n*u,e[5]=n*a-r*s,e[6]=a*l-o*u,e[7]=i*u-r*l,e[8]=r*o-i*a,e}function m(e){var t=e[0],r=e[1],i=e[2],n=e[3],a=e[4],o=e[5],s=e[6],u=e[7],l=e[8];return t*(l*a-o*u)+r*(-l*n+o*s)+i*(u*n-a*s)}function p(e,t,r){var i=t[0],n=t[1],a=t[2],o=t[3],s=t[4],u=t[5],l=t[6],c=t[7],f=t[8],d=r[0],h=r[1],m=r[2],p=r[3],b=r[4],v=r[5],g=r[6],E=r[7],y=r[8];return e[0]=d*i+h*o+m*l,e[1]=d*n+h*s+m*c,e[2]=d*a+h*u+m*f,e[3]=p*i+b*o+v*l,e[4]=p*n+b*s+v*c,e[5]=p*a+b*u+v*f,e[6]=g*i+E*o+y*l,e[7]=g*n+E*s+y*c,e[8]=g*a+E*u+y*f,e}function b(e,t,r){var i=t[0],n=t[1],a=t[2],o=t[3],s=t[4],u=t[5],l=t[6],c=t[7],f=t[8],d=r[0],h=r[1];return e[0]=i,e[1]=n,e[2]=a,e[3]=o,e[4]=s,e[5]=u,e[6]=d*i+h*o+l,e[7]=d*n+h*s+c,e[8]=d*a+h*u+f,e}function v(e,t,r){var i=t[0],n=t[1],a=t[2],o=t[3],s=t[4],u=t[5],l=t[6],c=t[7],f=t[8],d=Math.sin(r),h=Math.cos(r);return e[0]=h*i+d*o,e[1]=h*n+d*s,e[2]=h*a+d*u,e[3]=h*o-d*i,e[4]=h*s-d*n,e[5]=h*u-d*a,e[6]=l,e[7]=c,e[8]=f,e}function g(e,t,r){var i=r[0],n=r[1];return e[0]=i*t[0],e[1]=i*t[1],e[2]=i*t[2],e[3]=n*t[3],e[4]=n*t[4],e[5]=n*t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e}function E(e,t){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=1,e[5]=0,e[6]=t[0],e[7]=t[1],e[8]=1,e}function y(e,t){var r=Math.sin(t),i=Math.cos(t);return e[0]=i,e[1]=r,e[2]=0,e[3]=-r,e[4]=i,e[5]=0,e[6]=0,e[7]=0,e[8]=1,e}function T(e,t){return e[0]=t[0],e[1]=0,e[2]=0,e[3]=0,e[4]=t[1],e[5]=0,e[6]=0,e[7]=0,e[8]=1,e}function S(e,t){return e[0]=t[0],e[1]=t[1],e[2]=0,e[3]=t[2],e[4]=t[3],e[5]=0,e[6]=t[4],e[7]=t[5],e[8]=1,e}function w(e,t){var r=t[0],i=t[1],n=t[2],a=t[3],o=r+r,s=i+i,u=n+n,l=r*o,c=i*o,f=i*s,d=n*o,h=n*s,m=n*u,p=a*o,b=a*s,v=a*u;return e[0]=1-f-m,e[3]=c-v,e[6]=d+b,e[1]=c+v,e[4]=1-l-m,e[7]=h-p,e[2]=d-b,e[5]=h+p,e[8]=1-l-f,e}function _(e,t){var r=t[0],i=t[1],n=t[2],a=t[3],o=t[4],s=t[5],u=t[6],l=t[7],c=t[8],f=t[9],d=t[10],h=t[11],m=t[12],p=t[13],b=t[14],v=t[15],g=r*s-i*o,E=r*u-n*o,y=r*l-a*o,T=i*u-n*s,S=i*l-a*s,w=n*l-a*u,_=c*p-f*m,R=c*b-d*m,j=c*v-h*m,A=f*b-d*p,O=f*v-h*p,z=d*v-h*b,P=g*z-E*O+y*A+T*j-S*R+w*_;return P?(P=1/P,e[0]=(s*z-u*O+l*A)*P,e[1]=(u*j-o*z-l*R)*P,e[2]=(o*O-s*j+l*_)*P,e[3]=(n*O-i*z-a*A)*P,e[4]=(r*z-n*j+a*R)*P,e[5]=(i*j-r*O-a*_)*P,e[6]=(p*w-b*S+v*T)*P,e[7]=(b*y-m*w-v*E)*P,e[8]=(m*S-p*y+v*g)*P,e):null}function R(e,t,r){return e[0]=2/t,e[1]=0,e[2]=0,e[3]=0,e[4]=-2/r,e[5]=0,e[6]=-1,e[7]=1,e[8]=1,e}function j(e){return"mat3("+e[0]+", "+e[1]+", "+e[2]+", "+e[3]+", "+e[4]+", "+e[5]+", "+e[6]+", "+e[7]+", "+e[8]+")"}function A(e){return Math.sqrt(Math.pow(e[0],2)+Math.pow(e[1],2)+Math.pow(e[2],2)+Math.pow(e[3],2)+Math.pow(e[4],2)+Math.pow(e[5],2)+Math.pow(e[6],2)+Math.pow(e[7],2)+Math.pow(e[8],2))}function O(e,t,r){return e[0]=t[0]+r[0],e[1]=t[1]+r[1],e[2]=t[2]+r[2],e[3]=t[3]+r[3],e[4]=t[4]+r[4],e[5]=t[5]+r[5],e[6]=t[6]+r[6],e[7]=t[7]+r[7],e[8]=t[8]+r[8],e}function z(e,t,r){return e[0]=t[0]-r[0],e[1]=t[1]-r[1],e[2]=t[2]-r[2],e[3]=t[3]-r[3],e[4]=t[4]-r[4],e[5]=t[5]-r[5],e[6]=t[6]-r[6],e[7]=t[7]-r[7],e[8]=t[8]-r[8],e}function P(e,t,r){return e[0]=t[0]*r,e[1]=t[1]*r,e[2]=t[2]*r,e[3]=t[3]*r,e[4]=t[4]*r,e[5]=t[5]*r,e[6]=t[6]*r,e[7]=t[7]*r,e[8]=t[8]*r,e}function x(e,t,r,i){return e[0]=t[0]+r[0]*i,e[1]=t[1]+r[1]*i,e[2]=t[2]+r[2]*i,e[3]=t[3]+r[3]*i,e[4]=t[4]+r[4]*i,e[5]=t[5]+r[5]*i,e[6]=t[6]+r[6]*i,e[7]=t[7]+r[7]*i,e[8]=t[8]+r[8]*i,e}function C(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===t[3]&&e[4]===t[4]&&e[5]===t[5]&&e[6]===t[6]&&e[7]===t[7]&&e[8]===t[8]}function D(e,t){var r=e[0],n=e[1],a=e[2],o=e[3],s=e[4],u=e[5],l=e[6],c=e[7],f=e[8],d=t[0],h=t[1],m=t[2],p=t[3],b=t[4],v=t[5],g=t[6],E=t[7],y=t[8];return Math.abs(r-d)<=i.EPSILON*Math.max(1,Math.abs(r),Math.abs(d))&&Math.abs(n-h)<=i.EPSILON*Math.max(1,Math.abs(n),Math.abs(h))&&Math.abs(a-m)<=i.EPSILON*Math.max(1,Math.abs(a),Math.abs(m))&&Math.abs(o-p)<=i.EPSILON*Math.max(1,Math.abs(o),Math.abs(p))&&Math.abs(s-b)<=i.EPSILON*Math.max(1,Math.abs(s),Math.abs(b))&&Math.abs(u-v)<=i.EPSILON*Math.max(1,Math.abs(u),Math.abs(v))&&Math.abs(l-g)<=i.EPSILON*Math.max(1,Math.abs(l),Math.abs(g))&&Math.abs(c-E)<=i.EPSILON*Math.max(1,Math.abs(c),Math.abs(E))&&Math.abs(f-y)<=i.EPSILON*Math.max(1,Math.abs(f),Math.abs(y))}var M=p,L=z},"../node_modules/gl-matrix/lib/gl-matrix/mat4.js":function(e,t,r){"use strict";r.r(t),r.d(t,"create",(function(){return n})),r.d(t,"clone",(function(){return a})),r.d(t,"copy",(function(){return o})),r.d(t,"fromValues",(function(){return s})),r.d(t,"set",(function(){return u})),r.d(t,"identity",(function(){return l})),r.d(t,"transpose",(function(){return c})),r.d(t,"invert",(function(){return f})),r.d(t,"adjoint",(function(){return d})),r.d(t,"determinant",(function(){return h})),r.d(t,"multiply",(function(){return m})),r.d(t,"translate",(function(){return p})),r.d(t,"scale",(function(){return b})),r.d(t,"rotate",(function(){return v})),r.d(t,"rotateX",(function(){return g})),r.d(t,"rotateY",(function(){return E})),r.d(t,"rotateZ",(function(){return y})),r.d(t,"fromTranslation",(function(){return T})),r.d(t,"fromScaling",(function(){return S})),r.d(t,"fromRotation",(function(){return w})),r.d(t,"fromXRotation",(function(){return _})),r.d(t,"fromYRotation",(function(){return R})),r.d(t,"fromZRotation",(function(){return j})),r.d(t,"fromRotationTranslation",(function(){return A})),r.d(t,"fromQuat2",(function(){return O})),r.d(t,"getTranslation",(function(){return z})),r.d(t,"getScaling",(function(){return P})),r.d(t,"getRotation",(function(){return x})),r.d(t,"fromRotationTranslationScale",(function(){return C})),r.d(t,"fromRotationTranslationScaleOrigin",(function(){return D})),r.d(t,"fromQuat",(function(){return M})),r.d(t,"frustum",(function(){return L})),r.d(t,"perspective",(function(){return I})),r.d(t,"perspectiveFromFieldOfView",(function(){return F})),r.d(t,"ortho",(function(){return G})),r.d(t,"lookAt",(function(){return N})),r.d(t,"targetTo",(function(){return B})),r.d(t,"str",(function(){return U})),r.d(t,"frob",(function(){return V})),r.d(t,"add",(function(){return k})),r.d(t,"subtract",(function(){return H})),r.d(t,"multiplyScalar",(function(){return q})),r.d(t,"multiplyScalarAndAdd",(function(){return W})),r.d(t,"exactEquals",(function(){return Y})),r.d(t,"equals",(function(){return X})),r.d(t,"mul",(function(){return K})),r.d(t,"sub",(function(){return Q}));var i=r("../node_modules/gl-matrix/lib/gl-matrix/common.js");function n(){var e=new i.ARRAY_TYPE(16);return i.ARRAY_TYPE!=Float32Array&&(e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[11]=0,e[12]=0,e[13]=0,e[14]=0),e[0]=1,e[5]=1,e[10]=1,e[15]=1,e}function a(e){var t=new i.ARRAY_TYPE(16);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t}function o(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e}function s(e,t,r,n,a,o,s,u,l,c,f,d,h,m,p,b){var v=new i.ARRAY_TYPE(16);return v[0]=e,v[1]=t,v[2]=r,v[3]=n,v[4]=a,v[5]=o,v[6]=s,v[7]=u,v[8]=l,v[9]=c,v[10]=f,v[11]=d,v[12]=h,v[13]=m,v[14]=p,v[15]=b,v}function u(e,t,r,i,n,a,o,s,u,l,c,f,d,h,m,p,b){return e[0]=t,e[1]=r,e[2]=i,e[3]=n,e[4]=a,e[5]=o,e[6]=s,e[7]=u,e[8]=l,e[9]=c,e[10]=f,e[11]=d,e[12]=h,e[13]=m,e[14]=p,e[15]=b,e}function l(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function c(e,t){if(e===t){var r=t[1],i=t[2],n=t[3],a=t[6],o=t[7],s=t[11];e[1]=t[4],e[2]=t[8],e[3]=t[12],e[4]=r,e[6]=t[9],e[7]=t[13],e[8]=i,e[9]=a,e[11]=t[14],e[12]=n,e[13]=o,e[14]=s}else e[0]=t[0],e[1]=t[4],e[2]=t[8],e[3]=t[12],e[4]=t[1],e[5]=t[5],e[6]=t[9],e[7]=t[13],e[8]=t[2],e[9]=t[6],e[10]=t[10],e[11]=t[14],e[12]=t[3],e[13]=t[7],e[14]=t[11],e[15]=t[15];return e}function f(e,t){var r=t[0],i=t[1],n=t[2],a=t[3],o=t[4],s=t[5],u=t[6],l=t[7],c=t[8],f=t[9],d=t[10],h=t[11],m=t[12],p=t[13],b=t[14],v=t[15],g=r*s-i*o,E=r*u-n*o,y=r*l-a*o,T=i*u-n*s,S=i*l-a*s,w=n*l-a*u,_=c*p-f*m,R=c*b-d*m,j=c*v-h*m,A=f*b-d*p,O=f*v-h*p,z=d*v-h*b,P=g*z-E*O+y*A+T*j-S*R+w*_;return P?(P=1/P,e[0]=(s*z-u*O+l*A)*P,e[1]=(n*O-i*z-a*A)*P,e[2]=(p*w-b*S+v*T)*P,e[3]=(d*S-f*w-h*T)*P,e[4]=(u*j-o*z-l*R)*P,e[5]=(r*z-n*j+a*R)*P,e[6]=(b*y-m*w-v*E)*P,e[7]=(c*w-d*y+h*E)*P,e[8]=(o*O-s*j+l*_)*P,e[9]=(i*j-r*O-a*_)*P,e[10]=(m*S-p*y+v*g)*P,e[11]=(f*y-c*S-h*g)*P,e[12]=(s*R-o*A-u*_)*P,e[13]=(r*A-i*R+n*_)*P,e[14]=(p*E-m*T-b*g)*P,e[15]=(c*T-f*E+d*g)*P,e):null}function d(e,t){var r=t[0],i=t[1],n=t[2],a=t[3],o=t[4],s=t[5],u=t[6],l=t[7],c=t[8],f=t[9],d=t[10],h=t[11],m=t[12],p=t[13],b=t[14],v=t[15];return e[0]=s*(d*v-h*b)-f*(u*v-l*b)+p*(u*h-l*d),e[1]=-(i*(d*v-h*b)-f*(n*v-a*b)+p*(n*h-a*d)),e[2]=i*(u*v-l*b)-s*(n*v-a*b)+p*(n*l-a*u),e[3]=-(i*(u*h-l*d)-s*(n*h-a*d)+f*(n*l-a*u)),e[4]=-(o*(d*v-h*b)-c*(u*v-l*b)+m*(u*h-l*d)),e[5]=r*(d*v-h*b)-c*(n*v-a*b)+m*(n*h-a*d),e[6]=-(r*(u*v-l*b)-o*(n*v-a*b)+m*(n*l-a*u)),e[7]=r*(u*h-l*d)-o*(n*h-a*d)+c*(n*l-a*u),e[8]=o*(f*v-h*p)-c*(s*v-l*p)+m*(s*h-l*f),e[9]=-(r*(f*v-h*p)-c*(i*v-a*p)+m*(i*h-a*f)),e[10]=r*(s*v-l*p)-o*(i*v-a*p)+m*(i*l-a*s),e[11]=-(r*(s*h-l*f)-o*(i*h-a*f)+c*(i*l-a*s)),e[12]=-(o*(f*b-d*p)-c*(s*b-u*p)+m*(s*d-u*f)),e[13]=r*(f*b-d*p)-c*(i*b-n*p)+m*(i*d-n*f),e[14]=-(r*(s*b-u*p)-o*(i*b-n*p)+m*(i*u-n*s)),e[15]=r*(s*d-u*f)-o*(i*d-n*f)+c*(i*u-n*s),e}function h(e){var t=e[0],r=e[1],i=e[2],n=e[3],a=e[4],o=e[5],s=e[6],u=e[7],l=e[8],c=e[9],f=e[10],d=e[11],h=e[12],m=e[13],p=e[14],b=e[15];return(t*o-r*a)*(f*b-d*p)-(t*s-i*a)*(c*b-d*m)+(t*u-n*a)*(c*p-f*m)+(r*s-i*o)*(l*b-d*h)-(r*u-n*o)*(l*p-f*h)+(i*u-n*s)*(l*m-c*h)}function m(e,t,r){var i=t[0],n=t[1],a=t[2],o=t[3],s=t[4],u=t[5],l=t[6],c=t[7],f=t[8],d=t[9],h=t[10],m=t[11],p=t[12],b=t[13],v=t[14],g=t[15],E=r[0],y=r[1],T=r[2],S=r[3];return e[0]=E*i+y*s+T*f+S*p,e[1]=E*n+y*u+T*d+S*b,e[2]=E*a+y*l+T*h+S*v,e[3]=E*o+y*c+T*m+S*g,E=r[4],y=r[5],T=r[6],S=r[7],e[4]=E*i+y*s+T*f+S*p,e[5]=E*n+y*u+T*d+S*b,e[6]=E*a+y*l+T*h+S*v,e[7]=E*o+y*c+T*m+S*g,E=r[8],y=r[9],T=r[10],S=r[11],e[8]=E*i+y*s+T*f+S*p,e[9]=E*n+y*u+T*d+S*b,e[10]=E*a+y*l+T*h+S*v,e[11]=E*o+y*c+T*m+S*g,E=r[12],y=r[13],T=r[14],S=r[15],e[12]=E*i+y*s+T*f+S*p,e[13]=E*n+y*u+T*d+S*b,e[14]=E*a+y*l+T*h+S*v,e[15]=E*o+y*c+T*m+S*g,e}function p(e,t,r){var i=r[0],n=r[1],a=r[2],o=void 0,s=void 0,u=void 0,l=void 0,c=void 0,f=void 0,d=void 0,h=void 0,m=void 0,p=void 0,b=void 0,v=void 0;return t===e?(e[12]=t[0]*i+t[4]*n+t[8]*a+t[12],e[13]=t[1]*i+t[5]*n+t[9]*a+t[13],e[14]=t[2]*i+t[6]*n+t[10]*a+t[14],e[15]=t[3]*i+t[7]*n+t[11]*a+t[15]):(o=t[0],s=t[1],u=t[2],l=t[3],c=t[4],f=t[5],d=t[6],h=t[7],m=t[8],p=t[9],b=t[10],v=t[11],e[0]=o,e[1]=s,e[2]=u,e[3]=l,e[4]=c,e[5]=f,e[6]=d,e[7]=h,e[8]=m,e[9]=p,e[10]=b,e[11]=v,e[12]=o*i+c*n+m*a+t[12],e[13]=s*i+f*n+p*a+t[13],e[14]=u*i+d*n+b*a+t[14],e[15]=l*i+h*n+v*a+t[15]),e}function b(e,t,r){var i=r[0],n=r[1],a=r[2];return e[0]=t[0]*i,e[1]=t[1]*i,e[2]=t[2]*i,e[3]=t[3]*i,e[4]=t[4]*n,e[5]=t[5]*n,e[6]=t[6]*n,e[7]=t[7]*n,e[8]=t[8]*a,e[9]=t[9]*a,e[10]=t[10]*a,e[11]=t[11]*a,e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e}function v(e,t,r,n){var a,o,s,u,l,c,f,d,h,m,p,b,v,g,E,y,T,S,w,_,R,j,A,O,z=n[0],P=n[1],x=n[2],C=Math.sqrt(z*z+P*P+x*x);return C<i.EPSILON?null:(z*=C=1/C,P*=C,x*=C,a=Math.sin(r),s=1-(o=Math.cos(r)),u=t[0],l=t[1],c=t[2],f=t[3],d=t[4],h=t[5],m=t[6],p=t[7],b=t[8],v=t[9],g=t[10],E=t[11],y=z*z*s+o,T=P*z*s+x*a,S=x*z*s-P*a,w=z*P*s-x*a,_=P*P*s+o,R=x*P*s+z*a,j=z*x*s+P*a,A=P*x*s-z*a,O=x*x*s+o,e[0]=u*y+d*T+b*S,e[1]=l*y+h*T+v*S,e[2]=c*y+m*T+g*S,e[3]=f*y+p*T+E*S,e[4]=u*w+d*_+b*R,e[5]=l*w+h*_+v*R,e[6]=c*w+m*_+g*R,e[7]=f*w+p*_+E*R,e[8]=u*j+d*A+b*O,e[9]=l*j+h*A+v*O,e[10]=c*j+m*A+g*O,e[11]=f*j+p*A+E*O,t!==e&&(e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e)}function g(e,t,r){var i=Math.sin(r),n=Math.cos(r),a=t[4],o=t[5],s=t[6],u=t[7],l=t[8],c=t[9],f=t[10],d=t[11];return t!==e&&(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[4]=a*n+l*i,e[5]=o*n+c*i,e[6]=s*n+f*i,e[7]=u*n+d*i,e[8]=l*n-a*i,e[9]=c*n-o*i,e[10]=f*n-s*i,e[11]=d*n-u*i,e}function E(e,t,r){var i=Math.sin(r),n=Math.cos(r),a=t[0],o=t[1],s=t[2],u=t[3],l=t[8],c=t[9],f=t[10],d=t[11];return t!==e&&(e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[0]=a*n-l*i,e[1]=o*n-c*i,e[2]=s*n-f*i,e[3]=u*n-d*i,e[8]=a*i+l*n,e[9]=o*i+c*n,e[10]=s*i+f*n,e[11]=u*i+d*n,e}function y(e,t,r){var i=Math.sin(r),n=Math.cos(r),a=t[0],o=t[1],s=t[2],u=t[3],l=t[4],c=t[5],f=t[6],d=t[7];return t!==e&&(e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[0]=a*n+l*i,e[1]=o*n+c*i,e[2]=s*n+f*i,e[3]=u*n+d*i,e[4]=l*n-a*i,e[5]=c*n-o*i,e[6]=f*n-s*i,e[7]=d*n-u*i,e}function T(e,t){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=t[0],e[13]=t[1],e[14]=t[2],e[15]=1,e}function S(e,t){return e[0]=t[0],e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=t[1],e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=t[2],e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function w(e,t,r){var n,a,o,s=r[0],u=r[1],l=r[2],c=Math.sqrt(s*s+u*u+l*l);return c<i.EPSILON?null:(s*=c=1/c,u*=c,l*=c,n=Math.sin(t),o=1-(a=Math.cos(t)),e[0]=s*s*o+a,e[1]=u*s*o+l*n,e[2]=l*s*o-u*n,e[3]=0,e[4]=s*u*o-l*n,e[5]=u*u*o+a,e[6]=l*u*o+s*n,e[7]=0,e[8]=s*l*o+u*n,e[9]=u*l*o-s*n,e[10]=l*l*o+a,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e)}function _(e,t){var r=Math.sin(t),i=Math.cos(t);return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=i,e[6]=r,e[7]=0,e[8]=0,e[9]=-r,e[10]=i,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function R(e,t){var r=Math.sin(t),i=Math.cos(t);return e[0]=i,e[1]=0,e[2]=-r,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=r,e[9]=0,e[10]=i,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function j(e,t){var r=Math.sin(t),i=Math.cos(t);return e[0]=i,e[1]=r,e[2]=0,e[3]=0,e[4]=-r,e[5]=i,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function A(e,t,r){var i=t[0],n=t[1],a=t[2],o=t[3],s=i+i,u=n+n,l=a+a,c=i*s,f=i*u,d=i*l,h=n*u,m=n*l,p=a*l,b=o*s,v=o*u,g=o*l;return e[0]=1-(h+p),e[1]=f+g,e[2]=d-v,e[3]=0,e[4]=f-g,e[5]=1-(c+p),e[6]=m+b,e[7]=0,e[8]=d+v,e[9]=m-b,e[10]=1-(c+h),e[11]=0,e[12]=r[0],e[13]=r[1],e[14]=r[2],e[15]=1,e}function O(e,t){var r=new i.ARRAY_TYPE(3),n=-t[0],a=-t[1],o=-t[2],s=t[3],u=t[4],l=t[5],c=t[6],f=t[7],d=n*n+a*a+o*o+s*s;return d>0?(r[0]=2*(u*s+f*n+l*o-c*a)/d,r[1]=2*(l*s+f*a+c*n-u*o)/d,r[2]=2*(c*s+f*o+u*a-l*n)/d):(r[0]=2*(u*s+f*n+l*o-c*a),r[1]=2*(l*s+f*a+c*n-u*o),r[2]=2*(c*s+f*o+u*a-l*n)),A(e,t,r),e}function z(e,t){return e[0]=t[12],e[1]=t[13],e[2]=t[14],e}function P(e,t){var r=t[0],i=t[1],n=t[2],a=t[4],o=t[5],s=t[6],u=t[8],l=t[9],c=t[10];return e[0]=Math.sqrt(r*r+i*i+n*n),e[1]=Math.sqrt(a*a+o*o+s*s),e[2]=Math.sqrt(u*u+l*l+c*c),e}function x(e,t){var r=t[0]+t[5]+t[10],i=0;return r>0?(i=2*Math.sqrt(r+1),e[3]=.25*i,e[0]=(t[6]-t[9])/i,e[1]=(t[8]-t[2])/i,e[2]=(t[1]-t[4])/i):t[0]>t[5]&&t[0]>t[10]?(i=2*Math.sqrt(1+t[0]-t[5]-t[10]),e[3]=(t[6]-t[9])/i,e[0]=.25*i,e[1]=(t[1]+t[4])/i,e[2]=(t[8]+t[2])/i):t[5]>t[10]?(i=2*Math.sqrt(1+t[5]-t[0]-t[10]),e[3]=(t[8]-t[2])/i,e[0]=(t[1]+t[4])/i,e[1]=.25*i,e[2]=(t[6]+t[9])/i):(i=2*Math.sqrt(1+t[10]-t[0]-t[5]),e[3]=(t[1]-t[4])/i,e[0]=(t[8]+t[2])/i,e[1]=(t[6]+t[9])/i,e[2]=.25*i),e}function C(e,t,r,i){var n=t[0],a=t[1],o=t[2],s=t[3],u=n+n,l=a+a,c=o+o,f=n*u,d=n*l,h=n*c,m=a*l,p=a*c,b=o*c,v=s*u,g=s*l,E=s*c,y=i[0],T=i[1],S=i[2];return e[0]=(1-(m+b))*y,e[1]=(d+E)*y,e[2]=(h-g)*y,e[3]=0,e[4]=(d-E)*T,e[5]=(1-(f+b))*T,e[6]=(p+v)*T,e[7]=0,e[8]=(h+g)*S,e[9]=(p-v)*S,e[10]=(1-(f+m))*S,e[11]=0,e[12]=r[0],e[13]=r[1],e[14]=r[2],e[15]=1,e}function D(e,t,r,i,n){var a=t[0],o=t[1],s=t[2],u=t[3],l=a+a,c=o+o,f=s+s,d=a*l,h=a*c,m=a*f,p=o*c,b=o*f,v=s*f,g=u*l,E=u*c,y=u*f,T=i[0],S=i[1],w=i[2],_=n[0],R=n[1],j=n[2],A=(1-(p+v))*T,O=(h+y)*T,z=(m-E)*T,P=(h-y)*S,x=(1-(d+v))*S,C=(b+g)*S,D=(m+E)*w,M=(b-g)*w,L=(1-(d+p))*w;return e[0]=A,e[1]=O,e[2]=z,e[3]=0,e[4]=P,e[5]=x,e[6]=C,e[7]=0,e[8]=D,e[9]=M,e[10]=L,e[11]=0,e[12]=r[0]+_-(A*_+P*R+D*j),e[13]=r[1]+R-(O*_+x*R+M*j),e[14]=r[2]+j-(z*_+C*R+L*j),e[15]=1,e}function M(e,t){var r=t[0],i=t[1],n=t[2],a=t[3],o=r+r,s=i+i,u=n+n,l=r*o,c=i*o,f=i*s,d=n*o,h=n*s,m=n*u,p=a*o,b=a*s,v=a*u;return e[0]=1-f-m,e[1]=c+v,e[2]=d-b,e[3]=0,e[4]=c-v,e[5]=1-l-m,e[6]=h+p,e[7]=0,e[8]=d+b,e[9]=h-p,e[10]=1-l-f,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function L(e,t,r,i,n,a,o){var s=1/(r-t),u=1/(n-i),l=1/(a-o);return e[0]=2*a*s,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=2*a*u,e[6]=0,e[7]=0,e[8]=(r+t)*s,e[9]=(n+i)*u,e[10]=(o+a)*l,e[11]=-1,e[12]=0,e[13]=0,e[14]=o*a*2*l,e[15]=0,e}function I(e,t,r,i,n){var a=1/Math.tan(t/2),o=void 0;return e[0]=a/r,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=a,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[11]=-1,e[12]=0,e[13]=0,e[15]=0,null!=n&&n!==1/0?(o=1/(i-n),e[10]=(n+i)*o,e[14]=2*n*i*o):(e[10]=-1,e[14]=-2*i),e}function F(e,t,r,i){var n=Math.tan(t.upDegrees*Math.PI/180),a=Math.tan(t.downDegrees*Math.PI/180),o=Math.tan(t.leftDegrees*Math.PI/180),s=Math.tan(t.rightDegrees*Math.PI/180),u=2/(o+s),l=2/(n+a);return e[0]=u,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=l,e[6]=0,e[7]=0,e[8]=-(o-s)*u*.5,e[9]=(n-a)*l*.5,e[10]=i/(r-i),e[11]=-1,e[12]=0,e[13]=0,e[14]=i*r/(r-i),e[15]=0,e}function G(e,t,r,i,n,a,o){var s=1/(t-r),u=1/(i-n),l=1/(a-o);return e[0]=-2*s,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=-2*u,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=2*l,e[11]=0,e[12]=(t+r)*s,e[13]=(n+i)*u,e[14]=(o+a)*l,e[15]=1,e}function N(e,t,r,n){var a=void 0,o=void 0,s=void 0,u=void 0,c=void 0,f=void 0,d=void 0,h=void 0,m=void 0,p=void 0,b=t[0],v=t[1],g=t[2],E=n[0],y=n[1],T=n[2],S=r[0],w=r[1],_=r[2];return Math.abs(b-S)<i.EPSILON&&Math.abs(v-w)<i.EPSILON&&Math.abs(g-_)<i.EPSILON?l(e):(d=b-S,h=v-w,m=g-_,a=y*(m*=p=1/Math.sqrt(d*d+h*h+m*m))-T*(h*=p),o=T*(d*=p)-E*m,s=E*h-y*d,(p=Math.sqrt(a*a+o*o+s*s))?(a*=p=1/p,o*=p,s*=p):(a=0,o=0,s=0),u=h*s-m*o,c=m*a-d*s,f=d*o-h*a,(p=Math.sqrt(u*u+c*c+f*f))?(u*=p=1/p,c*=p,f*=p):(u=0,c=0,f=0),e[0]=a,e[1]=u,e[2]=d,e[3]=0,e[4]=o,e[5]=c,e[6]=h,e[7]=0,e[8]=s,e[9]=f,e[10]=m,e[11]=0,e[12]=-(a*b+o*v+s*g),e[13]=-(u*b+c*v+f*g),e[14]=-(d*b+h*v+m*g),e[15]=1,e)}function B(e,t,r,i){var n=t[0],a=t[1],o=t[2],s=i[0],u=i[1],l=i[2],c=n-r[0],f=a-r[1],d=o-r[2],h=c*c+f*f+d*d;h>0&&(c*=h=1/Math.sqrt(h),f*=h,d*=h);var m=u*d-l*f,p=l*c-s*d,b=s*f-u*c;return(h=m*m+p*p+b*b)>0&&(m*=h=1/Math.sqrt(h),p*=h,b*=h),e[0]=m,e[1]=p,e[2]=b,e[3]=0,e[4]=f*b-d*p,e[5]=d*m-c*b,e[6]=c*p-f*m,e[7]=0,e[8]=c,e[9]=f,e[10]=d,e[11]=0,e[12]=n,e[13]=a,e[14]=o,e[15]=1,e}function U(e){return"mat4("+e[0]+", "+e[1]+", "+e[2]+", "+e[3]+", "+e[4]+", "+e[5]+", "+e[6]+", "+e[7]+", "+e[8]+", "+e[9]+", "+e[10]+", "+e[11]+", "+e[12]+", "+e[13]+", "+e[14]+", "+e[15]+")"}function V(e){return Math.sqrt(Math.pow(e[0],2)+Math.pow(e[1],2)+Math.pow(e[2],2)+Math.pow(e[3],2)+Math.pow(e[4],2)+Math.pow(e[5],2)+Math.pow(e[6],2)+Math.pow(e[7],2)+Math.pow(e[8],2)+Math.pow(e[9],2)+Math.pow(e[10],2)+Math.pow(e[11],2)+Math.pow(e[12],2)+Math.pow(e[13],2)+Math.pow(e[14],2)+Math.pow(e[15],2))}function k(e,t,r){return e[0]=t[0]+r[0],e[1]=t[1]+r[1],e[2]=t[2]+r[2],e[3]=t[3]+r[3],e[4]=t[4]+r[4],e[5]=t[5]+r[5],e[6]=t[6]+r[6],e[7]=t[7]+r[7],e[8]=t[8]+r[8],e[9]=t[9]+r[9],e[10]=t[10]+r[10],e[11]=t[11]+r[11],e[12]=t[12]+r[12],e[13]=t[13]+r[13],e[14]=t[14]+r[14],e[15]=t[15]+r[15],e}function H(e,t,r){return e[0]=t[0]-r[0],e[1]=t[1]-r[1],e[2]=t[2]-r[2],e[3]=t[3]-r[3],e[4]=t[4]-r[4],e[5]=t[5]-r[5],e[6]=t[6]-r[6],e[7]=t[7]-r[7],e[8]=t[8]-r[8],e[9]=t[9]-r[9],e[10]=t[10]-r[10],e[11]=t[11]-r[11],e[12]=t[12]-r[12],e[13]=t[13]-r[13],e[14]=t[14]-r[14],e[15]=t[15]-r[15],e}function q(e,t,r){return e[0]=t[0]*r,e[1]=t[1]*r,e[2]=t[2]*r,e[3]=t[3]*r,e[4]=t[4]*r,e[5]=t[5]*r,e[6]=t[6]*r,e[7]=t[7]*r,e[8]=t[8]*r,e[9]=t[9]*r,e[10]=t[10]*r,e[11]=t[11]*r,e[12]=t[12]*r,e[13]=t[13]*r,e[14]=t[14]*r,e[15]=t[15]*r,e}function W(e,t,r,i){return e[0]=t[0]+r[0]*i,e[1]=t[1]+r[1]*i,e[2]=t[2]+r[2]*i,e[3]=t[3]+r[3]*i,e[4]=t[4]+r[4]*i,e[5]=t[5]+r[5]*i,e[6]=t[6]+r[6]*i,e[7]=t[7]+r[7]*i,e[8]=t[8]+r[8]*i,e[9]=t[9]+r[9]*i,e[10]=t[10]+r[10]*i,e[11]=t[11]+r[11]*i,e[12]=t[12]+r[12]*i,e[13]=t[13]+r[13]*i,e[14]=t[14]+r[14]*i,e[15]=t[15]+r[15]*i,e}function Y(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===t[3]&&e[4]===t[4]&&e[5]===t[5]&&e[6]===t[6]&&e[7]===t[7]&&e[8]===t[8]&&e[9]===t[9]&&e[10]===t[10]&&e[11]===t[11]&&e[12]===t[12]&&e[13]===t[13]&&e[14]===t[14]&&e[15]===t[15]}function X(e,t){var r=e[0],n=e[1],a=e[2],o=e[3],s=e[4],u=e[5],l=e[6],c=e[7],f=e[8],d=e[9],h=e[10],m=e[11],p=e[12],b=e[13],v=e[14],g=e[15],E=t[0],y=t[1],T=t[2],S=t[3],w=t[4],_=t[5],R=t[6],j=t[7],A=t[8],O=t[9],z=t[10],P=t[11],x=t[12],C=t[13],D=t[14],M=t[15];return Math.abs(r-E)<=i.EPSILON*Math.max(1,Math.abs(r),Math.abs(E))&&Math.abs(n-y)<=i.EPSILON*Math.max(1,Math.abs(n),Math.abs(y))&&Math.abs(a-T)<=i.EPSILON*Math.max(1,Math.abs(a),Math.abs(T))&&Math.abs(o-S)<=i.EPSILON*Math.max(1,Math.abs(o),Math.abs(S))&&Math.abs(s-w)<=i.EPSILON*Math.max(1,Math.abs(s),Math.abs(w))&&Math.abs(u-_)<=i.EPSILON*Math.max(1,Math.abs(u),Math.abs(_))&&Math.abs(l-R)<=i.EPSILON*Math.max(1,Math.abs(l),Math.abs(R))&&Math.abs(c-j)<=i.EPSILON*Math.max(1,Math.abs(c),Math.abs(j))&&Math.abs(f-A)<=i.EPSILON*Math.max(1,Math.abs(f),Math.abs(A))&&Math.abs(d-O)<=i.EPSILON*Math.max(1,Math.abs(d),Math.abs(O))&&Math.abs(h-z)<=i.EPSILON*Math.max(1,Math.abs(h),Math.abs(z))&&Math.abs(m-P)<=i.EPSILON*Math.max(1,Math.abs(m),Math.abs(P))&&Math.abs(p-x)<=i.EPSILON*Math.max(1,Math.abs(p),Math.abs(x))&&Math.abs(b-C)<=i.EPSILON*Math.max(1,Math.abs(b),Math.abs(C))&&Math.abs(v-D)<=i.EPSILON*Math.max(1,Math.abs(v),Math.abs(D))&&Math.abs(g-M)<=i.EPSILON*Math.max(1,Math.abs(g),Math.abs(M))}var K=m,Q=H},"../node_modules/gl-matrix/lib/gl-matrix/quat.js":function(e,t,r){"use strict";r.r(t),r.d(t,"create",(function(){return s})),r.d(t,"identity",(function(){return u})),r.d(t,"setAxisAngle",(function(){return l})),r.d(t,"getAxisAngle",(function(){return c})),r.d(t,"multiply",(function(){return f})),r.d(t,"rotateX",(function(){return d})),r.d(t,"rotateY",(function(){return h})),r.d(t,"rotateZ",(function(){return m})),r.d(t,"calculateW",(function(){return p})),r.d(t,"slerp",(function(){return b})),r.d(t,"random",(function(){return v})),r.d(t,"invert",(function(){return g})),r.d(t,"conjugate",(function(){return E})),r.d(t,"fromMat3",(function(){return y})),r.d(t,"fromEuler",(function(){return T})),r.d(t,"str",(function(){return S})),r.d(t,"clone",(function(){return z})),r.d(t,"fromValues",(function(){return P})),r.d(t,"copy",(function(){return x})),r.d(t,"set",(function(){return C})),r.d(t,"add",(function(){return D})),r.d(t,"mul",(function(){return M})),r.d(t,"scale",(function(){return L})),r.d(t,"dot",(function(){return I})),r.d(t,"lerp",(function(){return F})),r.d(t,"length",(function(){return G})),r.d(t,"len",(function(){return N})),r.d(t,"squaredLength",(function(){return B})),r.d(t,"sqrLen",(function(){return U})),r.d(t,"normalize",(function(){return V})),r.d(t,"exactEquals",(function(){return k})),r.d(t,"equals",(function(){return H})),r.d(t,"rotationTo",(function(){return q})),r.d(t,"sqlerp",(function(){return W})),r.d(t,"setAxes",(function(){return Y}));var i=r("../node_modules/gl-matrix/lib/gl-matrix/common.js"),n=r("../node_modules/gl-matrix/lib/gl-matrix/mat3.js"),a=r("../node_modules/gl-matrix/lib/gl-matrix/vec3.js"),o=r("../node_modules/gl-matrix/lib/gl-matrix/vec4.js");function s(){var e=new i.ARRAY_TYPE(4);return i.ARRAY_TYPE!=Float32Array&&(e[0]=0,e[1]=0,e[2]=0),e[3]=1,e}function u(e){return e[0]=0,e[1]=0,e[2]=0,e[3]=1,e}function l(e,t,r){r*=.5;var i=Math.sin(r);return e[0]=i*t[0],e[1]=i*t[1],e[2]=i*t[2],e[3]=Math.cos(r),e}function c(e,t){var r=2*Math.acos(t[3]),n=Math.sin(r/2);return n>i.EPSILON?(e[0]=t[0]/n,e[1]=t[1]/n,e[2]=t[2]/n):(e[0]=1,e[1]=0,e[2]=0),r}function f(e,t,r){var i=t[0],n=t[1],a=t[2],o=t[3],s=r[0],u=r[1],l=r[2],c=r[3];return e[0]=i*c+o*s+n*l-a*u,e[1]=n*c+o*u+a*s-i*l,e[2]=a*c+o*l+i*u-n*s,e[3]=o*c-i*s-n*u-a*l,e}function d(e,t,r){r*=.5;var i=t[0],n=t[1],a=t[2],o=t[3],s=Math.sin(r),u=Math.cos(r);return e[0]=i*u+o*s,e[1]=n*u+a*s,e[2]=a*u-n*s,e[3]=o*u-i*s,e}function h(e,t,r){r*=.5;var i=t[0],n=t[1],a=t[2],o=t[3],s=Math.sin(r),u=Math.cos(r);return e[0]=i*u-a*s,e[1]=n*u+o*s,e[2]=a*u+i*s,e[3]=o*u-n*s,e}function m(e,t,r){r*=.5;var i=t[0],n=t[1],a=t[2],o=t[3],s=Math.sin(r),u=Math.cos(r);return e[0]=i*u+n*s,e[1]=n*u-i*s,e[2]=a*u+o*s,e[3]=o*u-a*s,e}function p(e,t){var r=t[0],i=t[1],n=t[2];return e[0]=r,e[1]=i,e[2]=n,e[3]=Math.sqrt(Math.abs(1-r*r-i*i-n*n)),e}function b(e,t,r,n){var a=t[0],o=t[1],s=t[2],u=t[3],l=r[0],c=r[1],f=r[2],d=r[3],h=void 0,m=void 0,p=void 0,b=void 0,v=void 0;return(m=a*l+o*c+s*f+u*d)<0&&(m=-m,l=-l,c=-c,f=-f,d=-d),1-m>i.EPSILON?(h=Math.acos(m),p=Math.sin(h),b=Math.sin((1-n)*h)/p,v=Math.sin(n*h)/p):(b=1-n,v=n),e[0]=b*a+v*l,e[1]=b*o+v*c,e[2]=b*s+v*f,e[3]=b*u+v*d,e}function v(e){var t=i.RANDOM(),r=i.RANDOM(),n=i.RANDOM(),a=Math.sqrt(1-t),o=Math.sqrt(t);return e[0]=a*Math.sin(2*Math.PI*r),e[1]=a*Math.cos(2*Math.PI*r),e[2]=o*Math.sin(2*Math.PI*n),e[3]=o*Math.cos(2*Math.PI*n),e}function g(e,t){var r=t[0],i=t[1],n=t[2],a=t[3],o=r*r+i*i+n*n+a*a,s=o?1/o:0;return e[0]=-r*s,e[1]=-i*s,e[2]=-n*s,e[3]=a*s,e}function E(e,t){return e[0]=-t[0],e[1]=-t[1],e[2]=-t[2],e[3]=t[3],e}function y(e,t){var r=t[0]+t[4]+t[8],i=void 0;if(r>0)i=Math.sqrt(r+1),e[3]=.5*i,i=.5/i,e[0]=(t[5]-t[7])*i,e[1]=(t[6]-t[2])*i,e[2]=(t[1]-t[3])*i;else{var n=0;t[4]>t[0]&&(n=1),t[8]>t[3*n+n]&&(n=2);var a=(n+1)%3,o=(n+2)%3;i=Math.sqrt(t[3*n+n]-t[3*a+a]-t[3*o+o]+1),e[n]=.5*i,i=.5/i,e[3]=(t[3*a+o]-t[3*o+a])*i,e[a]=(t[3*a+n]+t[3*n+a])*i,e[o]=(t[3*o+n]+t[3*n+o])*i}return e}function T(e,t,r,i){var n=.5*Math.PI/180;t*=n,r*=n,i*=n;var a=Math.sin(t),o=Math.cos(t),s=Math.sin(r),u=Math.cos(r),l=Math.sin(i),c=Math.cos(i);return e[0]=a*u*c-o*s*l,e[1]=o*s*c+a*u*l,e[2]=o*u*l-a*s*c,e[3]=o*u*c+a*s*l,e}function S(e){return"quat("+e[0]+", "+e[1]+", "+e[2]+", "+e[3]+")"}var w,_,R,j,A,O,z=o.clone,P=o.fromValues,x=o.copy,C=o.set,D=o.add,M=f,L=o.scale,I=o.dot,F=o.lerp,G=o.length,N=G,B=o.squaredLength,U=B,V=o.normalize,k=o.exactEquals,H=o.equals,q=(w=a.create(),_=a.fromValues(1,0,0),R=a.fromValues(0,1,0),function(e,t,r){var i=a.dot(t,r);return i<-.999999?(a.cross(w,_,t),a.len(w)<1e-6&&a.cross(w,R,t),a.normalize(w,w),l(e,w,Math.PI),e):i>.999999?(e[0]=0,e[1]=0,e[2]=0,e[3]=1,e):(a.cross(w,t,r),e[0]=w[0],e[1]=w[1],e[2]=w[2],e[3]=1+i,V(e,e))}),W=(j=s(),A=s(),function(e,t,r,i,n,a){return b(j,t,n,a),b(A,r,i,a),b(e,j,A,2*a*(1-a)),e}),Y=(O=n.create(),function(e,t,r,i){return O[0]=r[0],O[3]=r[1],O[6]=r[2],O[1]=i[0],O[4]=i[1],O[7]=i[2],O[2]=-t[0],O[5]=-t[1],O[8]=-t[2],V(e,y(e,O))})},"../node_modules/gl-matrix/lib/gl-matrix/quat2.js":function(e,t,r){"use strict";r.r(t),r.d(t,"create",(function(){return o})),r.d(t,"clone",(function(){return s})),r.d(t,"fromValues",(function(){return u})),r.d(t,"fromRotationTranslationValues",(function(){return l})),r.d(t,"fromRotationTranslation",(function(){return c})),r.d(t,"fromTranslation",(function(){return f})),r.d(t,"fromRotation",(function(){return d})),r.d(t,"fromMat4",(function(){return h})),r.d(t,"copy",(function(){return m})),r.d(t,"identity",(function(){return p})),r.d(t,"set",(function(){return b})),r.d(t,"getReal",(function(){return v})),r.d(t,"getDual",(function(){return g})),r.d(t,"setReal",(function(){return E})),r.d(t,"setDual",(function(){return y})),r.d(t,"getTranslation",(function(){return T})),r.d(t,"translate",(function(){return S})),r.d(t,"rotateX",(function(){return w})),r.d(t,"rotateY",(function(){return _})),r.d(t,"rotateZ",(function(){return R})),r.d(t,"rotateByQuatAppend",(function(){return j})),r.d(t,"rotateByQuatPrepend",(function(){return A})),r.d(t,"rotateAroundAxis",(function(){return O})),r.d(t,"add",(function(){return z})),r.d(t,"multiply",(function(){return P})),r.d(t,"mul",(function(){return x})),r.d(t,"scale",(function(){return C})),r.d(t,"dot",(function(){return D})),r.d(t,"lerp",(function(){return M})),r.d(t,"invert",(function(){return L})),r.d(t,"conjugate",(function(){return I})),r.d(t,"length",(function(){return F})),r.d(t,"len",(function(){return G})),r.d(t,"squaredLength",(function(){return N})),r.d(t,"sqrLen",(function(){return B})),r.d(t,"normalize",(function(){return U})),r.d(t,"str",(function(){return V})),r.d(t,"exactEquals",(function(){return k})),r.d(t,"equals",(function(){return H}));var i=r("../node_modules/gl-matrix/lib/gl-matrix/common.js"),n=r("../node_modules/gl-matrix/lib/gl-matrix/quat.js"),a=r("../node_modules/gl-matrix/lib/gl-matrix/mat4.js");function o(){var e=new i.ARRAY_TYPE(8);return i.ARRAY_TYPE!=Float32Array&&(e[0]=0,e[1]=0,e[2]=0,e[4]=0,e[5]=0,e[6]=0,e[7]=0),e[3]=1,e}function s(e){var t=new i.ARRAY_TYPE(8);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t}function u(e,t,r,n,a,o,s,u){var l=new i.ARRAY_TYPE(8);return l[0]=e,l[1]=t,l[2]=r,l[3]=n,l[4]=a,l[5]=o,l[6]=s,l[7]=u,l}function l(e,t,r,n,a,o,s){var u=new i.ARRAY_TYPE(8);u[0]=e,u[1]=t,u[2]=r,u[3]=n;var l=.5*a,c=.5*o,f=.5*s;return u[4]=l*n+c*r-f*t,u[5]=c*n+f*e-l*r,u[6]=f*n+l*t-c*e,u[7]=-l*e-c*t-f*r,u}function c(e,t,r){var i=.5*r[0],n=.5*r[1],a=.5*r[2],o=t[0],s=t[1],u=t[2],l=t[3];return e[0]=o,e[1]=s,e[2]=u,e[3]=l,e[4]=i*l+n*u-a*s,e[5]=n*l+a*o-i*u,e[6]=a*l+i*s-n*o,e[7]=-i*o-n*s-a*u,e}function f(e,t){return e[0]=0,e[1]=0,e[2]=0,e[3]=1,e[4]=.5*t[0],e[5]=.5*t[1],e[6]=.5*t[2],e[7]=0,e}function d(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=0,e[5]=0,e[6]=0,e[7]=0,e}function h(e,t){var r=n.create();a.getRotation(r,t);var o=new i.ARRAY_TYPE(3);return a.getTranslation(o,t),c(e,r,o),e}function m(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e}function p(e){return e[0]=0,e[1]=0,e[2]=0,e[3]=1,e[4]=0,e[5]=0,e[6]=0,e[7]=0,e}function b(e,t,r,i,n,a,o,s,u){return e[0]=t,e[1]=r,e[2]=i,e[3]=n,e[4]=a,e[5]=o,e[6]=s,e[7]=u,e}var v=n.copy;function g(e,t){return e[0]=t[4],e[1]=t[5],e[2]=t[6],e[3]=t[7],e}var E=n.copy;function y(e,t){return e[4]=t[0],e[5]=t[1],e[6]=t[2],e[7]=t[3],e}function T(e,t){var r=t[4],i=t[5],n=t[6],a=t[7],o=-t[0],s=-t[1],u=-t[2],l=t[3];return e[0]=2*(r*l+a*o+i*u-n*s),e[1]=2*(i*l+a*s+n*o-r*u),e[2]=2*(n*l+a*u+r*s-i*o),e}function S(e,t,r){var i=t[0],n=t[1],a=t[2],o=t[3],s=.5*r[0],u=.5*r[1],l=.5*r[2],c=t[4],f=t[5],d=t[6],h=t[7];return e[0]=i,e[1]=n,e[2]=a,e[3]=o,e[4]=o*s+n*l-a*u+c,e[5]=o*u+a*s-i*l+f,e[6]=o*l+i*u-n*s+d,e[7]=-i*s-n*u-a*l+h,e}function w(e,t,r){var i=-t[0],a=-t[1],o=-t[2],s=t[3],u=t[4],l=t[5],c=t[6],f=t[7],d=u*s+f*i+l*o-c*a,h=l*s+f*a+c*i-u*o,m=c*s+f*o+u*a-l*i,p=f*s-u*i-l*a-c*o;return n.rotateX(e,t,r),i=e[0],a=e[1],o=e[2],s=e[3],e[4]=d*s+p*i+h*o-m*a,e[5]=h*s+p*a+m*i-d*o,e[6]=m*s+p*o+d*a-h*i,e[7]=p*s-d*i-h*a-m*o,e}function _(e,t,r){var i=-t[0],a=-t[1],o=-t[2],s=t[3],u=t[4],l=t[5],c=t[6],f=t[7],d=u*s+f*i+l*o-c*a,h=l*s+f*a+c*i-u*o,m=c*s+f*o+u*a-l*i,p=f*s-u*i-l*a-c*o;return n.rotateY(e,t,r),i=e[0],a=e[1],o=e[2],s=e[3],e[4]=d*s+p*i+h*o-m*a,e[5]=h*s+p*a+m*i-d*o,e[6]=m*s+p*o+d*a-h*i,e[7]=p*s-d*i-h*a-m*o,e}function R(e,t,r){var i=-t[0],a=-t[1],o=-t[2],s=t[3],u=t[4],l=t[5],c=t[6],f=t[7],d=u*s+f*i+l*o-c*a,h=l*s+f*a+c*i-u*o,m=c*s+f*o+u*a-l*i,p=f*s-u*i-l*a-c*o;return n.rotateZ(e,t,r),i=e[0],a=e[1],o=e[2],s=e[3],e[4]=d*s+p*i+h*o-m*a,e[5]=h*s+p*a+m*i-d*o,e[6]=m*s+p*o+d*a-h*i,e[7]=p*s-d*i-h*a-m*o,e}function j(e,t,r){var i=r[0],n=r[1],a=r[2],o=r[3],s=t[0],u=t[1],l=t[2],c=t[3];return e[0]=s*o+c*i+u*a-l*n,e[1]=u*o+c*n+l*i-s*a,e[2]=l*o+c*a+s*n-u*i,e[3]=c*o-s*i-u*n-l*a,s=t[4],u=t[5],l=t[6],c=t[7],e[4]=s*o+c*i+u*a-l*n,e[5]=u*o+c*n+l*i-s*a,e[6]=l*o+c*a+s*n-u*i,e[7]=c*o-s*i-u*n-l*a,e}function A(e,t,r){var i=t[0],n=t[1],a=t[2],o=t[3],s=r[0],u=r[1],l=r[2],c=r[3];return e[0]=i*c+o*s+n*l-a*u,e[1]=n*c+o*u+a*s-i*l,e[2]=a*c+o*l+i*u-n*s,e[3]=o*c-i*s-n*u-a*l,s=r[4],u=r[5],l=r[6],c=r[7],e[4]=i*c+o*s+n*l-a*u,e[5]=n*c+o*u+a*s-i*l,e[6]=a*c+o*l+i*u-n*s,e[7]=o*c-i*s-n*u-a*l,e}function O(e,t,r,n){if(Math.abs(n)<i.EPSILON)return m(e,t);var a=Math.sqrt(r[0]*r[0]+r[1]*r[1]+r[2]*r[2]);n*=.5;var o=Math.sin(n),s=o*r[0]/a,u=o*r[1]/a,l=o*r[2]/a,c=Math.cos(n),f=t[0],d=t[1],h=t[2],p=t[3];e[0]=f*c+p*s+d*l-h*u,e[1]=d*c+p*u+h*s-f*l,e[2]=h*c+p*l+f*u-d*s,e[3]=p*c-f*s-d*u-h*l;var b=t[4],v=t[5],g=t[6],E=t[7];return e[4]=b*c+E*s+v*l-g*u,e[5]=v*c+E*u+g*s-b*l,e[6]=g*c+E*l+b*u-v*s,e[7]=E*c-b*s-v*u-g*l,e}function z(e,t,r){return e[0]=t[0]+r[0],e[1]=t[1]+r[1],e[2]=t[2]+r[2],e[3]=t[3]+r[3],e[4]=t[4]+r[4],e[5]=t[5]+r[5],e[6]=t[6]+r[6],e[7]=t[7]+r[7],e}function P(e,t,r){var i=t[0],n=t[1],a=t[2],o=t[3],s=r[4],u=r[5],l=r[6],c=r[7],f=t[4],d=t[5],h=t[6],m=t[7],p=r[0],b=r[1],v=r[2],g=r[3];return e[0]=i*g+o*p+n*v-a*b,e[1]=n*g+o*b+a*p-i*v,e[2]=a*g+o*v+i*b-n*p,e[3]=o*g-i*p-n*b-a*v,e[4]=i*c+o*s+n*l-a*u+f*g+m*p+d*v-h*b,e[5]=n*c+o*u+a*s-i*l+d*g+m*b+h*p-f*v,e[6]=a*c+o*l+i*u-n*s+h*g+m*v+f*b-d*p,e[7]=o*c-i*s-n*u-a*l+m*g-f*p-d*b-h*v,e}var x=P;function C(e,t,r){return e[0]=t[0]*r,e[1]=t[1]*r,e[2]=t[2]*r,e[3]=t[3]*r,e[4]=t[4]*r,e[5]=t[5]*r,e[6]=t[6]*r,e[7]=t[7]*r,e}var D=n.dot;function M(e,t,r,i){var n=1-i;return D(t,r)<0&&(i=-i),e[0]=t[0]*n+r[0]*i,e[1]=t[1]*n+r[1]*i,e[2]=t[2]*n+r[2]*i,e[3]=t[3]*n+r[3]*i,e[4]=t[4]*n+r[4]*i,e[5]=t[5]*n+r[5]*i,e[6]=t[6]*n+r[6]*i,e[7]=t[7]*n+r[7]*i,e}function L(e,t){var r=N(t);return e[0]=-t[0]/r,e[1]=-t[1]/r,e[2]=-t[2]/r,e[3]=t[3]/r,e[4]=-t[4]/r,e[5]=-t[5]/r,e[6]=-t[6]/r,e[7]=t[7]/r,e}function I(e,t){return e[0]=-t[0],e[1]=-t[1],e[2]=-t[2],e[3]=t[3],e[4]=-t[4],e[5]=-t[5],e[6]=-t[6],e[7]=t[7],e}var F=n.length,G=F,N=n.squaredLength,B=N;function U(e,t){var r=N(t);if(r>0){r=Math.sqrt(r);var i=t[0]/r,n=t[1]/r,a=t[2]/r,o=t[3]/r,s=t[4],u=t[5],l=t[6],c=t[7],f=i*s+n*u+a*l+o*c;e[0]=i,e[1]=n,e[2]=a,e[3]=o,e[4]=(s-i*f)/r,e[5]=(u-n*f)/r,e[6]=(l-a*f)/r,e[7]=(c-o*f)/r}return e}function V(e){return"quat2("+e[0]+", "+e[1]+", "+e[2]+", "+e[3]+", "+e[4]+", "+e[5]+", "+e[6]+", "+e[7]+")"}function k(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===t[3]&&e[4]===t[4]&&e[5]===t[5]&&e[6]===t[6]&&e[7]===t[7]}function H(e,t){var r=e[0],n=e[1],a=e[2],o=e[3],s=e[4],u=e[5],l=e[6],c=e[7],f=t[0],d=t[1],h=t[2],m=t[3],p=t[4],b=t[5],v=t[6],g=t[7];return Math.abs(r-f)<=i.EPSILON*Math.max(1,Math.abs(r),Math.abs(f))&&Math.abs(n-d)<=i.EPSILON*Math.max(1,Math.abs(n),Math.abs(d))&&Math.abs(a-h)<=i.EPSILON*Math.max(1,Math.abs(a),Math.abs(h))&&Math.abs(o-m)<=i.EPSILON*Math.max(1,Math.abs(o),Math.abs(m))&&Math.abs(s-p)<=i.EPSILON*Math.max(1,Math.abs(s),Math.abs(p))&&Math.abs(u-b)<=i.EPSILON*Math.max(1,Math.abs(u),Math.abs(b))&&Math.abs(l-v)<=i.EPSILON*Math.max(1,Math.abs(l),Math.abs(v))&&Math.abs(c-g)<=i.EPSILON*Math.max(1,Math.abs(c),Math.abs(g))}},"../node_modules/gl-matrix/lib/gl-matrix/vec2.js":function(e,t,r){"use strict";r.r(t),r.d(t,"create",(function(){return n})),r.d(t,"clone",(function(){return a})),r.d(t,"fromValues",(function(){return o})),r.d(t,"copy",(function(){return s})),r.d(t,"set",(function(){return u})),r.d(t,"add",(function(){return l})),r.d(t,"subtract",(function(){return c})),r.d(t,"multiply",(function(){return f})),r.d(t,"divide",(function(){return d})),r.d(t,"ceil",(function(){return h})),r.d(t,"floor",(function(){return m})),r.d(t,"min",(function(){return p})),r.d(t,"max",(function(){return b})),r.d(t,"round",(function(){return v})),r.d(t,"scale",(function(){return g})),r.d(t,"scaleAndAdd",(function(){return E})),r.d(t,"distance",(function(){return y})),r.d(t,"squaredDistance",(function(){return T})),r.d(t,"length",(function(){return S})),r.d(t,"squaredLength",(function(){return w})),r.d(t,"negate",(function(){return _})),r.d(t,"inverse",(function(){return R})),r.d(t,"normalize",(function(){return j})),r.d(t,"dot",(function(){return A})),r.d(t,"cross",(function(){return O})),r.d(t,"lerp",(function(){return z})),r.d(t,"random",(function(){return P})),r.d(t,"transformMat2",(function(){return x})),r.d(t,"transformMat2d",(function(){return C})),r.d(t,"transformMat3",(function(){return D})),r.d(t,"transformMat4",(function(){return M})),r.d(t,"rotate",(function(){return L})),r.d(t,"angle",(function(){return I})),r.d(t,"str",(function(){return F})),r.d(t,"exactEquals",(function(){return G})),r.d(t,"equals",(function(){return N})),r.d(t,"len",(function(){return U})),r.d(t,"sub",(function(){return V})),r.d(t,"mul",(function(){return k})),r.d(t,"div",(function(){return H})),r.d(t,"dist",(function(){return q})),r.d(t,"sqrDist",(function(){return W})),r.d(t,"sqrLen",(function(){return Y})),r.d(t,"forEach",(function(){return X}));var i=r("../node_modules/gl-matrix/lib/gl-matrix/common.js");function n(){var e=new i.ARRAY_TYPE(2);return i.ARRAY_TYPE!=Float32Array&&(e[0]=0,e[1]=0),e}function a(e){var t=new i.ARRAY_TYPE(2);return t[0]=e[0],t[1]=e[1],t}function o(e,t){var r=new i.ARRAY_TYPE(2);return r[0]=e,r[1]=t,r}function s(e,t){return e[0]=t[0],e[1]=t[1],e}function u(e,t,r){return e[0]=t,e[1]=r,e}function l(e,t,r){return e[0]=t[0]+r[0],e[1]=t[1]+r[1],e}function c(e,t,r){return e[0]=t[0]-r[0],e[1]=t[1]-r[1],e}function f(e,t,r){return e[0]=t[0]*r[0],e[1]=t[1]*r[1],e}function d(e,t,r){return e[0]=t[0]/r[0],e[1]=t[1]/r[1],e}function h(e,t){return e[0]=Math.ceil(t[0]),e[1]=Math.ceil(t[1]),e}function m(e,t){return e[0]=Math.floor(t[0]),e[1]=Math.floor(t[1]),e}function p(e,t,r){return e[0]=Math.min(t[0],r[0]),e[1]=Math.min(t[1],r[1]),e}function b(e,t,r){return e[0]=Math.max(t[0],r[0]),e[1]=Math.max(t[1],r[1]),e}function v(e,t){return e[0]=Math.round(t[0]),e[1]=Math.round(t[1]),e}function g(e,t,r){return e[0]=t[0]*r,e[1]=t[1]*r,e}function E(e,t,r,i){return e[0]=t[0]+r[0]*i,e[1]=t[1]+r[1]*i,e}function y(e,t){var r=t[0]-e[0],i=t[1]-e[1];return Math.sqrt(r*r+i*i)}function T(e,t){var r=t[0]-e[0],i=t[1]-e[1];return r*r+i*i}function S(e){var t=e[0],r=e[1];return Math.sqrt(t*t+r*r)}function w(e){var t=e[0],r=e[1];return t*t+r*r}function _(e,t){return e[0]=-t[0],e[1]=-t[1],e}function R(e,t){return e[0]=1/t[0],e[1]=1/t[1],e}function j(e,t){var r=t[0],i=t[1],n=r*r+i*i;return n>0&&(n=1/Math.sqrt(n),e[0]=t[0]*n,e[1]=t[1]*n),e}function A(e,t){return e[0]*t[0]+e[1]*t[1]}function O(e,t,r){var i=t[0]*r[1]-t[1]*r[0];return e[0]=e[1]=0,e[2]=i,e}function z(e,t,r,i){var n=t[0],a=t[1];return e[0]=n+i*(r[0]-n),e[1]=a+i*(r[1]-a),e}function P(e,t){t=t||1;var r=2*i.RANDOM()*Math.PI;return e[0]=Math.cos(r)*t,e[1]=Math.sin(r)*t,e}function x(e,t,r){var i=t[0],n=t[1];return e[0]=r[0]*i+r[2]*n,e[1]=r[1]*i+r[3]*n,e}function C(e,t,r){var i=t[0],n=t[1];return e[0]=r[0]*i+r[2]*n+r[4],e[1]=r[1]*i+r[3]*n+r[5],e}function D(e,t,r){var i=t[0],n=t[1];return e[0]=r[0]*i+r[3]*n+r[6],e[1]=r[1]*i+r[4]*n+r[7],e}function M(e,t,r){var i=t[0],n=t[1];return e[0]=r[0]*i+r[4]*n+r[12],e[1]=r[1]*i+r[5]*n+r[13],e}function L(e,t,r,i){var n=t[0]-r[0],a=t[1]-r[1],o=Math.sin(i),s=Math.cos(i);return e[0]=n*s-a*o+r[0],e[1]=n*o+a*s+r[1],e}function I(e,t){var r=e[0],i=e[1],n=t[0],a=t[1],o=r*r+i*i;o>0&&(o=1/Math.sqrt(o));var s=n*n+a*a;s>0&&(s=1/Math.sqrt(s));var u=(r*n+i*a)*o*s;return u>1?0:u<-1?Math.PI:Math.acos(u)}function F(e){return"vec2("+e[0]+", "+e[1]+")"}function G(e,t){return e[0]===t[0]&&e[1]===t[1]}function N(e,t){var r=e[0],n=e[1],a=t[0],o=t[1];return Math.abs(r-a)<=i.EPSILON*Math.max(1,Math.abs(r),Math.abs(a))&&Math.abs(n-o)<=i.EPSILON*Math.max(1,Math.abs(n),Math.abs(o))}var B,U=S,V=c,k=f,H=d,q=y,W=T,Y=w,X=(B=n(),function(e,t,r,i,n,a){var o=void 0,s=void 0;for(t||(t=2),r||(r=0),s=i?Math.min(i*t+r,e.length):e.length,o=r;o<s;o+=t)B[0]=e[o],B[1]=e[o+1],n(B,B,a),e[o]=B[0],e[o+1]=B[1];return e})},"../node_modules/gl-matrix/lib/gl-matrix/vec3.js":function(e,t,r){"use strict";r.r(t),r.d(t,"create",(function(){return n})),r.d(t,"clone",(function(){return a})),r.d(t,"length",(function(){return o})),r.d(t,"fromValues",(function(){return s})),r.d(t,"copy",(function(){return u})),r.d(t,"set",(function(){return l})),r.d(t,"add",(function(){return c})),r.d(t,"subtract",(function(){return f})),r.d(t,"multiply",(function(){return d})),r.d(t,"divide",(function(){return h})),r.d(t,"ceil",(function(){return m})),r.d(t,"floor",(function(){return p})),r.d(t,"min",(function(){return b})),r.d(t,"max",(function(){return v})),r.d(t,"round",(function(){return g})),r.d(t,"scale",(function(){return E})),r.d(t,"scaleAndAdd",(function(){return y})),r.d(t,"distance",(function(){return T})),r.d(t,"squaredDistance",(function(){return S})),r.d(t,"squaredLength",(function(){return w})),r.d(t,"negate",(function(){return _})),r.d(t,"inverse",(function(){return R})),r.d(t,"normalize",(function(){return j})),r.d(t,"dot",(function(){return A})),r.d(t,"cross",(function(){return O})),r.d(t,"lerp",(function(){return z})),r.d(t,"hermite",(function(){return P})),r.d(t,"bezier",(function(){return x})),r.d(t,"random",(function(){return C})),r.d(t,"transformMat4",(function(){return D})),r.d(t,"transformMat3",(function(){return M})),r.d(t,"transformQuat",(function(){return L})),r.d(t,"rotateX",(function(){return I})),r.d(t,"rotateY",(function(){return F})),r.d(t,"rotateZ",(function(){return G})),r.d(t,"angle",(function(){return N})),r.d(t,"str",(function(){return B})),r.d(t,"exactEquals",(function(){return U})),r.d(t,"equals",(function(){return V})),r.d(t,"sub",(function(){return H})),r.d(t,"mul",(function(){return q})),r.d(t,"div",(function(){return W})),r.d(t,"dist",(function(){return Y})),r.d(t,"sqrDist",(function(){return X})),r.d(t,"len",(function(){return K})),r.d(t,"sqrLen",(function(){return Q})),r.d(t,"forEach",(function(){return Z}));var i=r("../node_modules/gl-matrix/lib/gl-matrix/common.js");function n(){var e=new i.ARRAY_TYPE(3);return i.ARRAY_TYPE!=Float32Array&&(e[0]=0,e[1]=0,e[2]=0),e}function a(e){var t=new i.ARRAY_TYPE(3);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t}function o(e){var t=e[0],r=e[1],i=e[2];return Math.sqrt(t*t+r*r+i*i)}function s(e,t,r){var n=new i.ARRAY_TYPE(3);return n[0]=e,n[1]=t,n[2]=r,n}function u(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e}function l(e,t,r,i){return e[0]=t,e[1]=r,e[2]=i,e}function c(e,t,r){return e[0]=t[0]+r[0],e[1]=t[1]+r[1],e[2]=t[2]+r[2],e}function f(e,t,r){return e[0]=t[0]-r[0],e[1]=t[1]-r[1],e[2]=t[2]-r[2],e}function d(e,t,r){return e[0]=t[0]*r[0],e[1]=t[1]*r[1],e[2]=t[2]*r[2],e}function h(e,t,r){return e[0]=t[0]/r[0],e[1]=t[1]/r[1],e[2]=t[2]/r[2],e}function m(e,t){return e[0]=Math.ceil(t[0]),e[1]=Math.ceil(t[1]),e[2]=Math.ceil(t[2]),e}function p(e,t){return e[0]=Math.floor(t[0]),e[1]=Math.floor(t[1]),e[2]=Math.floor(t[2]),e}function b(e,t,r){return e[0]=Math.min(t[0],r[0]),e[1]=Math.min(t[1],r[1]),e[2]=Math.min(t[2],r[2]),e}function v(e,t,r){return e[0]=Math.max(t[0],r[0]),e[1]=Math.max(t[1],r[1]),e[2]=Math.max(t[2],r[2]),e}function g(e,t){return e[0]=Math.round(t[0]),e[1]=Math.round(t[1]),e[2]=Math.round(t[2]),e}function E(e,t,r){return e[0]=t[0]*r,e[1]=t[1]*r,e[2]=t[2]*r,e}function y(e,t,r,i){return e[0]=t[0]+r[0]*i,e[1]=t[1]+r[1]*i,e[2]=t[2]+r[2]*i,e}function T(e,t){var r=t[0]-e[0],i=t[1]-e[1],n=t[2]-e[2];return Math.sqrt(r*r+i*i+n*n)}function S(e,t){var r=t[0]-e[0],i=t[1]-e[1],n=t[2]-e[2];return r*r+i*i+n*n}function w(e){var t=e[0],r=e[1],i=e[2];return t*t+r*r+i*i}function _(e,t){return e[0]=-t[0],e[1]=-t[1],e[2]=-t[2],e}function R(e,t){return e[0]=1/t[0],e[1]=1/t[1],e[2]=1/t[2],e}function j(e,t){var r=t[0],i=t[1],n=t[2],a=r*r+i*i+n*n;return a>0&&(a=1/Math.sqrt(a),e[0]=t[0]*a,e[1]=t[1]*a,e[2]=t[2]*a),e}function A(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]}function O(e,t,r){var i=t[0],n=t[1],a=t[2],o=r[0],s=r[1],u=r[2];return e[0]=n*u-a*s,e[1]=a*o-i*u,e[2]=i*s-n*o,e}function z(e,t,r,i){var n=t[0],a=t[1],o=t[2];return e[0]=n+i*(r[0]-n),e[1]=a+i*(r[1]-a),e[2]=o+i*(r[2]-o),e}function P(e,t,r,i,n,a){var o=a*a,s=o*(2*a-3)+1,u=o*(a-2)+a,l=o*(a-1),c=o*(3-2*a);return e[0]=t[0]*s+r[0]*u+i[0]*l+n[0]*c,e[1]=t[1]*s+r[1]*u+i[1]*l+n[1]*c,e[2]=t[2]*s+r[2]*u+i[2]*l+n[2]*c,e}function x(e,t,r,i,n,a){var o=1-a,s=o*o,u=a*a,l=s*o,c=3*a*s,f=3*u*o,d=u*a;return e[0]=t[0]*l+r[0]*c+i[0]*f+n[0]*d,e[1]=t[1]*l+r[1]*c+i[1]*f+n[1]*d,e[2]=t[2]*l+r[2]*c+i[2]*f+n[2]*d,e}function C(e,t){t=t||1;var r=2*i.RANDOM()*Math.PI,n=2*i.RANDOM()-1,a=Math.sqrt(1-n*n)*t;return e[0]=Math.cos(r)*a,e[1]=Math.sin(r)*a,e[2]=n*t,e}function D(e,t,r){var i=t[0],n=t[1],a=t[2],o=r[3]*i+r[7]*n+r[11]*a+r[15];return o=o||1,e[0]=(r[0]*i+r[4]*n+r[8]*a+r[12])/o,e[1]=(r[1]*i+r[5]*n+r[9]*a+r[13])/o,e[2]=(r[2]*i+r[6]*n+r[10]*a+r[14])/o,e}function M(e,t,r){var i=t[0],n=t[1],a=t[2];return e[0]=i*r[0]+n*r[3]+a*r[6],e[1]=i*r[1]+n*r[4]+a*r[7],e[2]=i*r[2]+n*r[5]+a*r[8],e}function L(e,t,r){var i=r[0],n=r[1],a=r[2],o=r[3],s=t[0],u=t[1],l=t[2],c=n*l-a*u,f=a*s-i*l,d=i*u-n*s,h=n*d-a*f,m=a*c-i*d,p=i*f-n*c,b=2*o;return c*=b,f*=b,d*=b,h*=2,m*=2,p*=2,e[0]=s+c+h,e[1]=u+f+m,e[2]=l+d+p,e}function I(e,t,r,i){var n=[],a=[];return n[0]=t[0]-r[0],n[1]=t[1]-r[1],n[2]=t[2]-r[2],a[0]=n[0],a[1]=n[1]*Math.cos(i)-n[2]*Math.sin(i),a[2]=n[1]*Math.sin(i)+n[2]*Math.cos(i),e[0]=a[0]+r[0],e[1]=a[1]+r[1],e[2]=a[2]+r[2],e}function F(e,t,r,i){var n=[],a=[];return n[0]=t[0]-r[0],n[1]=t[1]-r[1],n[2]=t[2]-r[2],a[0]=n[2]*Math.sin(i)+n[0]*Math.cos(i),a[1]=n[1],a[2]=n[2]*Math.cos(i)-n[0]*Math.sin(i),e[0]=a[0]+r[0],e[1]=a[1]+r[1],e[2]=a[2]+r[2],e}function G(e,t,r,i){var n=[],a=[];return n[0]=t[0]-r[0],n[1]=t[1]-r[1],n[2]=t[2]-r[2],a[0]=n[0]*Math.cos(i)-n[1]*Math.sin(i),a[1]=n[0]*Math.sin(i)+n[1]*Math.cos(i),a[2]=n[2],e[0]=a[0]+r[0],e[1]=a[1]+r[1],e[2]=a[2]+r[2],e}function N(e,t){var r=s(e[0],e[1],e[2]),i=s(t[0],t[1],t[2]);j(r,r),j(i,i);var n=A(r,i);return n>1?0:n<-1?Math.PI:Math.acos(n)}function B(e){return"vec3("+e[0]+", "+e[1]+", "+e[2]+")"}function U(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]}function V(e,t){var r=e[0],n=e[1],a=e[2],o=t[0],s=t[1],u=t[2];return Math.abs(r-o)<=i.EPSILON*Math.max(1,Math.abs(r),Math.abs(o))&&Math.abs(n-s)<=i.EPSILON*Math.max(1,Math.abs(n),Math.abs(s))&&Math.abs(a-u)<=i.EPSILON*Math.max(1,Math.abs(a),Math.abs(u))}var k,H=f,q=d,W=h,Y=T,X=S,K=o,Q=w,Z=(k=n(),function(e,t,r,i,n,a){var o=void 0,s=void 0;for(t||(t=3),r||(r=0),s=i?Math.min(i*t+r,e.length):e.length,o=r;o<s;o+=t)k[0]=e[o],k[1]=e[o+1],k[2]=e[o+2],n(k,k,a),e[o]=k[0],e[o+1]=k[1],e[o+2]=k[2];return e})},"../node_modules/gl-matrix/lib/gl-matrix/vec4.js":function(e,t,r){"use strict";r.r(t),r.d(t,"create",(function(){return n})),r.d(t,"clone",(function(){return a})),r.d(t,"fromValues",(function(){return o})),r.d(t,"copy",(function(){return s})),r.d(t,"set",(function(){return u})),r.d(t,"add",(function(){return l})),r.d(t,"subtract",(function(){return c})),r.d(t,"multiply",(function(){return f})),r.d(t,"divide",(function(){return d})),r.d(t,"ceil",(function(){return h})),r.d(t,"floor",(function(){return m})),r.d(t,"min",(function(){return p})),r.d(t,"max",(function(){return b})),r.d(t,"round",(function(){return v})),r.d(t,"scale",(function(){return g})),r.d(t,"scaleAndAdd",(function(){return E})),r.d(t,"distance",(function(){return y})),r.d(t,"squaredDistance",(function(){return T})),r.d(t,"length",(function(){return S})),r.d(t,"squaredLength",(function(){return w})),r.d(t,"negate",(function(){return _})),r.d(t,"inverse",(function(){return R})),r.d(t,"normalize",(function(){return j})),r.d(t,"dot",(function(){return A})),r.d(t,"lerp",(function(){return O})),r.d(t,"random",(function(){return z})),r.d(t,"transformMat4",(function(){return P})),r.d(t,"transformQuat",(function(){return x})),r.d(t,"str",(function(){return C})),r.d(t,"exactEquals",(function(){return D})),r.d(t,"equals",(function(){return M})),r.d(t,"sub",(function(){return I})),r.d(t,"mul",(function(){return F})),r.d(t,"div",(function(){return G})),r.d(t,"dist",(function(){return N})),r.d(t,"sqrDist",(function(){return B})),r.d(t,"len",(function(){return U})),r.d(t,"sqrLen",(function(){return V})),r.d(t,"forEach",(function(){return k}));var i=r("../node_modules/gl-matrix/lib/gl-matrix/common.js");function n(){var e=new i.ARRAY_TYPE(4);return i.ARRAY_TYPE!=Float32Array&&(e[0]=0,e[1]=0,e[2]=0,e[3]=0),e}function a(e){var t=new i.ARRAY_TYPE(4);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t}function o(e,t,r,n){var a=new i.ARRAY_TYPE(4);return a[0]=e,a[1]=t,a[2]=r,a[3]=n,a}function s(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e}function u(e,t,r,i,n){return e[0]=t,e[1]=r,e[2]=i,e[3]=n,e}function l(e,t,r){return e[0]=t[0]+r[0],e[1]=t[1]+r[1],e[2]=t[2]+r[2],e[3]=t[3]+r[3],e}function c(e,t,r){return e[0]=t[0]-r[0],e[1]=t[1]-r[1],e[2]=t[2]-r[2],e[3]=t[3]-r[3],e}function f(e,t,r){return e[0]=t[0]*r[0],e[1]=t[1]*r[1],e[2]=t[2]*r[2],e[3]=t[3]*r[3],e}function d(e,t,r){return e[0]=t[0]/r[0],e[1]=t[1]/r[1],e[2]=t[2]/r[2],e[3]=t[3]/r[3],e}function h(e,t){return e[0]=Math.ceil(t[0]),e[1]=Math.ceil(t[1]),e[2]=Math.ceil(t[2]),e[3]=Math.ceil(t[3]),e}function m(e,t){return e[0]=Math.floor(t[0]),e[1]=Math.floor(t[1]),e[2]=Math.floor(t[2]),e[3]=Math.floor(t[3]),e}function p(e,t,r){return e[0]=Math.min(t[0],r[0]),e[1]=Math.min(t[1],r[1]),e[2]=Math.min(t[2],r[2]),e[3]=Math.min(t[3],r[3]),e}function b(e,t,r){return e[0]=Math.max(t[0],r[0]),e[1]=Math.max(t[1],r[1]),e[2]=Math.max(t[2],r[2]),e[3]=Math.max(t[3],r[3]),e}function v(e,t){return e[0]=Math.round(t[0]),e[1]=Math.round(t[1]),e[2]=Math.round(t[2]),e[3]=Math.round(t[3]),e}function g(e,t,r){return e[0]=t[0]*r,e[1]=t[1]*r,e[2]=t[2]*r,e[3]=t[3]*r,e}function E(e,t,r,i){return e[0]=t[0]+r[0]*i,e[1]=t[1]+r[1]*i,e[2]=t[2]+r[2]*i,e[3]=t[3]+r[3]*i,e}function y(e,t){var r=t[0]-e[0],i=t[1]-e[1],n=t[2]-e[2],a=t[3]-e[3];return Math.sqrt(r*r+i*i+n*n+a*a)}function T(e,t){var r=t[0]-e[0],i=t[1]-e[1],n=t[2]-e[2],a=t[3]-e[3];return r*r+i*i+n*n+a*a}function S(e){var t=e[0],r=e[1],i=e[2],n=e[3];return Math.sqrt(t*t+r*r+i*i+n*n)}function w(e){var t=e[0],r=e[1],i=e[2],n=e[3];return t*t+r*r+i*i+n*n}function _(e,t){return e[0]=-t[0],e[1]=-t[1],e[2]=-t[2],e[3]=-t[3],e}function R(e,t){return e[0]=1/t[0],e[1]=1/t[1],e[2]=1/t[2],e[3]=1/t[3],e}function j(e,t){var r=t[0],i=t[1],n=t[2],a=t[3],o=r*r+i*i+n*n+a*a;return o>0&&(o=1/Math.sqrt(o),e[0]=r*o,e[1]=i*o,e[2]=n*o,e[3]=a*o),e}function A(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]+e[3]*t[3]}function O(e,t,r,i){var n=t[0],a=t[1],o=t[2],s=t[3];return e[0]=n+i*(r[0]-n),e[1]=a+i*(r[1]-a),e[2]=o+i*(r[2]-o),e[3]=s+i*(r[3]-s),e}function z(e,t){var r,n,a,o,s,u;t=t||1;do{s=(r=2*i.RANDOM()-1)*r+(n=2*i.RANDOM()-1)*n}while(s>=1);do{u=(a=2*i.RANDOM()-1)*a+(o=2*i.RANDOM()-1)*o}while(u>=1);var l=Math.sqrt((1-s)/u);return e[0]=t*r,e[1]=t*n,e[2]=t*a*l,e[3]=t*o*l,e}function P(e,t,r){var i=t[0],n=t[1],a=t[2],o=t[3];return e[0]=r[0]*i+r[4]*n+r[8]*a+r[12]*o,e[1]=r[1]*i+r[5]*n+r[9]*a+r[13]*o,e[2]=r[2]*i+r[6]*n+r[10]*a+r[14]*o,e[3]=r[3]*i+r[7]*n+r[11]*a+r[15]*o,e}function x(e,t,r){var i=t[0],n=t[1],a=t[2],o=r[0],s=r[1],u=r[2],l=r[3],c=l*i+s*a-u*n,f=l*n+u*i-o*a,d=l*a+o*n-s*i,h=-o*i-s*n-u*a;return e[0]=c*l+h*-o+f*-u-d*-s,e[1]=f*l+h*-s+d*-o-c*-u,e[2]=d*l+h*-u+c*-s-f*-o,e[3]=t[3],e}function C(e){return"vec4("+e[0]+", "+e[1]+", "+e[2]+", "+e[3]+")"}function D(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===t[3]}function M(e,t){var r=e[0],n=e[1],a=e[2],o=e[3],s=t[0],u=t[1],l=t[2],c=t[3];return Math.abs(r-s)<=i.EPSILON*Math.max(1,Math.abs(r),Math.abs(s))&&Math.abs(n-u)<=i.EPSILON*Math.max(1,Math.abs(n),Math.abs(u))&&Math.abs(a-l)<=i.EPSILON*Math.max(1,Math.abs(a),Math.abs(l))&&Math.abs(o-c)<=i.EPSILON*Math.max(1,Math.abs(o),Math.abs(c))}var L,I=c,F=f,G=d,N=y,B=T,U=S,V=w,k=(L=n(),function(e,t,r,i,n,a){var o=void 0,s=void 0;for(t||(t=4),r||(r=0),s=i?Math.min(i*t+r,e.length):e.length,o=r;o<s;o+=t)L[0]=e[o],L[1]=e[o+1],L[2]=e[o+2],L[3]=e[o+3],n(L,L,a),e[o]=L[0],e[o+1]=L[1],e[o+2]=L[2],e[o+3]=L[3];return e})},"../node_modules/process/browser.js":function(e,t){var r,i,n=e.exports={};function a(){throw new Error("setTimeout has not been defined")}function o(){throw new Error("clearTimeout has not been defined")}function s(e){if(r===setTimeout)return setTimeout(e,0);if((r===a||!r)&&setTimeout)return r=setTimeout,setTimeout(e,0);try{return r(e,0)}catch(t){try{return r.call(null,e,0)}catch(t){return r.call(this,e,0)}}}!function(){try{r="function"==typeof setTimeout?setTimeout:a}catch(e){r=a}try{i="function"==typeof clearTimeout?clearTimeout:o}catch(e){i=o}}();var u,l=[],c=!1,f=-1;function d(){c&&u&&(c=!1,u.length?l=u.concat(l):f=-1,l.length&&h())}function h(){if(!c){var e=s(d);c=!0;for(var t=l.length;t;){for(u=l,l=[];++f<t;)u&&u[f].run();f=-1,t=l.length}u=null,c=!1,function(e){if(i===clearTimeout)return clearTimeout(e);if((i===o||!i)&&clearTimeout)return i=clearTimeout,clearTimeout(e);try{i(e)}catch(t){try{return i.call(null,e)}catch(t){return i.call(this,e)}}}(e)}}function m(e,t){this.fun=e,this.array=t}function p(){}n.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];l.push(new m(e,t)),1!==l.length||c||s(h)},m.prototype.run=function(){this.fun.apply(null,this.array)},n.title="browser",n.browser=!0,n.env={},n.argv=[],n.version="",n.versions={},n.on=p,n.addListener=p,n.once=p,n.off=p,n.removeListener=p,n.removeAllListeners=p,n.emit=p,n.prependListener=p,n.prependOnceListener=p,n.listeners=function(e){return[]},n.binding=function(e){throw new Error("process.binding is not supported")},n.cwd=function(){return"/"},n.chdir=function(e){throw new Error("process.chdir is not supported")},n.umask=function(){return 0}},"../node_modules/reflect-metadata/Reflect.js":function(e,t,r){(function(e,t){var r;!function(r){!function(i){var n="object"==typeof t?t:"object"==typeof self?self:"object"==typeof this?this:Function("return this;")(),a=o(r);function o(e,t){return function(r,i){"function"!=typeof e[r]&&Object.defineProperty(e,r,{configurable:!0,writable:!0,value:i}),t&&t(r,i)}}void 0===n.Reflect?n.Reflect=r:a=o(n.Reflect,a),function(t){var r=Object.prototype.hasOwnProperty,i="function"==typeof Symbol,n=i&&void 0!==Symbol.toPrimitive?Symbol.toPrimitive:"@@toPrimitive",a=i&&void 0!==Symbol.iterator?Symbol.iterator:"@@iterator",o="function"==typeof Object.create,s={__proto__:[]}instanceof Array,u=!o&&!s,l={create:o?function(){return D(Object.create(null))}:s?function(){return D({__proto__:null})}:function(){return D({})},has:u?function(e,t){return r.call(e,t)}:function(e,t){return t in e},get:u?function(e,t){return r.call(e,t)?e[t]:void 0}:function(e,t){return e[t]}},c=Object.getPrototypeOf(Function),f="object"==typeof e&&e.env&&"true"===e.env.REFLECT_METADATA_USE_MAP_POLYFILL,d=f||"function"!=typeof Map||"function"!=typeof Map.prototype.entries?function(){var e={},t=[],r=function(){function e(e,t,r){this._index=0,this._keys=e,this._values=t,this._selector=r}return e.prototype["@@iterator"]=function(){return this},e.prototype[a]=function(){return this},e.prototype.next=function(){var e=this._index;if(e>=0&&e<this._keys.length){var r=this._selector(this._keys[e],this._values[e]);return e+1>=this._keys.length?(this._index=-1,this._keys=t,this._values=t):this._index++,{value:r,done:!1}}return{value:void 0,done:!0}},e.prototype.throw=function(e){throw this._index>=0&&(this._index=-1,this._keys=t,this._values=t),e},e.prototype.return=function(e){return this._index>=0&&(this._index=-1,this._keys=t,this._values=t),{value:e,done:!0}},e}();return function(){function t(){this._keys=[],this._values=[],this._cacheKey=e,this._cacheIndex=-2}return Object.defineProperty(t.prototype,"size",{get:function(){return this._keys.length},enumerable:!0,configurable:!0}),t.prototype.has=function(e){return this._find(e,!1)>=0},t.prototype.get=function(e){var t=this._find(e,!1);return t>=0?this._values[t]:void 0},t.prototype.set=function(e,t){var r=this._find(e,!0);return this._values[r]=t,this},t.prototype.delete=function(t){var r=this._find(t,!1);if(r>=0){for(var i=this._keys.length,n=r+1;n<i;n++)this._keys[n-1]=this._keys[n],this._values[n-1]=this._values[n];return this._keys.length--,this._values.length--,t===this._cacheKey&&(this._cacheKey=e,this._cacheIndex=-2),!0}return!1},t.prototype.clear=function(){this._keys.length=0,this._values.length=0,this._cacheKey=e,this._cacheIndex=-2},t.prototype.keys=function(){return new r(this._keys,this._values,i)},t.prototype.values=function(){return new r(this._keys,this._values,n)},t.prototype.entries=function(){return new r(this._keys,this._values,o)},t.prototype["@@iterator"]=function(){return this.entries()},t.prototype[a]=function(){return this.entries()},t.prototype._find=function(e,t){return this._cacheKey!==e&&(this._cacheIndex=this._keys.indexOf(this._cacheKey=e)),this._cacheIndex<0&&t&&(this._cacheIndex=this._keys.length,this._keys.push(e),this._values.push(void 0)),this._cacheIndex},t}();function i(e,t){return e}function n(e,t){return t}function o(e,t){return[e,t]}}():Map,h=f||"function"!=typeof Set||"function"!=typeof Set.prototype.entries?function(){function e(){this._map=new d}return Object.defineProperty(e.prototype,"size",{get:function(){return this._map.size},enumerable:!0,configurable:!0}),e.prototype.has=function(e){return this._map.has(e)},e.prototype.add=function(e){return this._map.set(e,e),this},e.prototype.delete=function(e){return this._map.delete(e)},e.prototype.clear=function(){this._map.clear()},e.prototype.keys=function(){return this._map.keys()},e.prototype.values=function(){return this._map.values()},e.prototype.entries=function(){return this._map.entries()},e.prototype["@@iterator"]=function(){return this.keys()},e.prototype[a]=function(){return this.keys()},e}():Set,m=new(f||"function"!=typeof WeakMap?function(){var e=l.create(),t=i();return function(){function e(){this._key=i()}return e.prototype.has=function(e){var t=n(e,!1);return void 0!==t&&l.has(t,this._key)},e.prototype.get=function(e){var t=n(e,!1);return void 0!==t?l.get(t,this._key):void 0},e.prototype.set=function(e,t){return n(e,!0)[this._key]=t,this},e.prototype.delete=function(e){var t=n(e,!1);return void 0!==t&&delete t[this._key]},e.prototype.clear=function(){this._key=i()},e}();function i(){var t;do{t="@@WeakMap@@"+o()}while(l.has(e,t));return e[t]=!0,t}function n(e,i){if(!r.call(e,t)){if(!i)return;Object.defineProperty(e,t,{value:l.create()})}return e[t]}function a(e,t){for(var r=0;r<t;++r)e[r]=255*Math.random()|0;return e}function o(){var e,t=(e=16,"function"==typeof Uint8Array?"undefined"!=typeof crypto?crypto.getRandomValues(new Uint8Array(e)):"undefined"!=typeof msCrypto?msCrypto.getRandomValues(new Uint8Array(e)):a(new Uint8Array(e),e):a(new Array(e),e));t[6]=79&t[6]|64,t[8]=191&t[8]|128;for(var r="",i=0;i<16;++i){var n=t[i];4!==i&&6!==i&&8!==i||(r+="-"),n<16&&(r+="0"),r+=n.toString(16).toLowerCase()}return r}}():WeakMap);function p(e,t,r){var i=m.get(e);if(T(i)){if(!r)return;i=new d,m.set(e,i)}var n=i.get(t);if(T(n)){if(!r)return;n=new d,i.set(t,n)}return n}function b(e,t,r){var i=p(t,r,!1);return!T(i)&&!!i.has(e)}function v(e,t,r){var i=p(t,r,!1);if(!T(i))return i.get(e)}function g(e,t,r,i){p(r,i,!0).set(e,t)}function E(e,t){var r=[],i=p(e,t,!1);if(T(i))return r;for(var n=function(e){var t=z(e,a);if(!A(t))throw new TypeError;var r=t.call(e);if(!w(r))throw new TypeError;return r}(i.keys()),o=0;;){var s=P(n);if(!s)return r.length=o,r;var u=s.value;try{r[o]=u}catch(e){try{x(n)}finally{throw e}}o++}}function y(e){if(null===e)return 1;switch(typeof e){case"undefined":return 0;case"boolean":return 2;case"string":return 3;case"symbol":return 4;case"number":return 5;case"object":return null===e?1:6;default:return 6}}function T(e){return void 0===e}function S(e){return null===e}function w(e){return"object"==typeof e?null!==e:"function"==typeof e}function _(e,t){switch(y(e)){case 0:case 1:case 2:case 3:case 4:case 5:return e}var r=3===t?"string":5===t?"number":"default",i=z(e,n);if(void 0!==i){var a=i.call(e,r);if(w(a))throw new TypeError;return a}return function(e,t){if("string"===t){var r=e.toString;if(A(r))if(!w(n=r.call(e)))return n;if(A(i=e.valueOf))if(!w(n=i.call(e)))return n}else{var i;if(A(i=e.valueOf))if(!w(n=i.call(e)))return n;var n,a=e.toString;if(A(a))if(!w(n=a.call(e)))return n}throw new TypeError}(e,"default"===r?"number":r)}function R(e){var t=_(e,3);return"symbol"==typeof t?t:function(e){return""+e}(t)}function j(e){return Array.isArray?Array.isArray(e):e instanceof Object?e instanceof Array:"[object Array]"===Object.prototype.toString.call(e)}function A(e){return"function"==typeof e}function O(e){return"function"==typeof e}function z(e,t){var r=e[t];if(null!=r){if(!A(r))throw new TypeError;return r}}function P(e){var t=e.next();return!t.done&&t}function x(e){var t=e.return;t&&t.call(e)}function C(e){var t=Object.getPrototypeOf(e);if("function"!=typeof e||e===c)return t;if(t!==c)return t;var r=e.prototype,i=r&&Object.getPrototypeOf(r);if(null==i||i===Object.prototype)return t;var n=i.constructor;return"function"!=typeof n||n===e?t:n}function D(e){return e.__=void 0,delete e.__,e}t("decorate",(function(e,t,r,i){if(T(r)){if(!j(e))throw new TypeError;if(!O(t))throw new TypeError;return function(e,t){for(var r=e.length-1;r>=0;--r){var i=(0,e[r])(t);if(!T(i)&&!S(i)){if(!O(i))throw new TypeError;t=i}}return t}(e,t)}if(!j(e))throw new TypeError;if(!w(t))throw new TypeError;if(!w(i)&&!T(i)&&!S(i))throw new TypeError;return S(i)&&(i=void 0),function(e,t,r,i){for(var n=e.length-1;n>=0;--n){var a=(0,e[n])(t,r,i);if(!T(a)&&!S(a)){if(!w(a))throw new TypeError;i=a}}return i}(e,t,r=R(r),i)})),t("metadata",(function(e,t){return function(r,i){if(!w(r))throw new TypeError;if(!T(i)&&!function(e){switch(y(e)){case 3:case 4:return!0;default:return!1}}(i))throw new TypeError;g(e,t,r,i)}})),t("defineMetadata",(function(e,t,r,i){if(!w(r))throw new TypeError;return T(i)||(i=R(i)),g(e,t,r,i)})),t("hasMetadata",(function(e,t,r){if(!w(t))throw new TypeError;return T(r)||(r=R(r)),function e(t,r,i){if(b(t,r,i))return!0;var n=C(r);return!S(n)&&e(t,n,i)}(e,t,r)})),t("hasOwnMetadata",(function(e,t,r){if(!w(t))throw new TypeError;return T(r)||(r=R(r)),b(e,t,r)})),t("getMetadata",(function(e,t,r){if(!w(t))throw new TypeError;return T(r)||(r=R(r)),function e(t,r,i){if(b(t,r,i))return v(t,r,i);var n=C(r);return S(n)?void 0:e(t,n,i)}(e,t,r)})),t("getOwnMetadata",(function(e,t,r){if(!w(t))throw new TypeError;return T(r)||(r=R(r)),v(e,t,r)})),t("getMetadataKeys",(function(e,t){if(!w(e))throw new TypeError;return T(t)||(t=R(t)),function e(t,r){var i=E(t,r),n=C(t);if(null===n)return i;var a=e(n,r);if(a.length<=0)return i;if(i.length<=0)return a;for(var o=new h,s=[],u=0,l=i;u<l.length;u++){var c=l[u];o.has(c)||(o.add(c),s.push(c))}for(var f=0,d=a;f<d.length;f++){c=d[f];o.has(c)||(o.add(c),s.push(c))}return s}(e,t)})),t("getOwnMetadataKeys",(function(e,t){if(!w(e))throw new TypeError;return T(t)||(t=R(t)),E(e,t)})),t("deleteMetadata",(function(e,t,r){if(!w(t))throw new TypeError;T(r)||(r=R(r));var i=p(t,r,!1);if(T(i))return!1;if(!i.delete(e))return!1;if(i.size>0)return!0;var n=m.get(t);return n.delete(r),n.size>0||m.delete(t),!0}))}(a)}()}(r||(r={}))}).call(this,r("../node_modules/process/browser.js"),r("../node_modules/webpack/buildin/global.js"))},"../node_modules/webpack/buildin/global.js":function(e,t){var r;r=function(){return this}();try{r=r||new Function("return this")()}catch(e){"object"==typeof window&&(r=window)}e.exports=r},"./config.js":function(e,t,r){"use strict";r.r(t),r.d(t,"config",(function(){return h}));var i=r("./core/index.js"),n=r("./curve/index.js"),a=r("./eve/index.js"),o=r("./particle/index.js"),s=r("./sof/index.js"),u=r("./unsupported/index.js"),l=r("./wrapped/index.js"),c=r("./core/reader/Tw2BlackPropertyReaders.js"),f=r("./math/index.js");c.path.handler=function(e){var t=(e=e.toLowerCase()).lastIndexOf(".");return-1!==t&&e.substr(t+1).toLowerCase(),e in d?e=d[e]:(e=e.replace("res:","cdn:")).includes(".gr2")&&(e=e.replace("gr2","cake")),e};var d={"res:/texture/global/noise.dds":"res:/texture/global/noise.dds.0.png","res:/texture/global/spotramp.dds":"res:/texture/global/spotramp.dds.0.png","res:/texture/global/whitesharp.dds":"res:/texture/particle/whitesharp.dds.0.png","res:/texture/particle/whitesharp.dds":"res:/texture/particle/whitesharp.dds.0.png","res:/dx9/texture/decal/deck_01_cube.dds":"cdn:/dx9/texture/decal/deck_01_cube.dds.0.png"},h={debug:!1,device:{textureQuality:0,shaderQuality:"hi",antialiasing:!0,anisotropicFiltering:!0,webgl2:!0,webvr:!1,performanceClock:!0},resMan:{systemMirror:!1,autoPurgeResources:!0,purgeTime:60,maxPrepareTime:.05},logger:{name:"CCPWGL2",history:50,throttle:10,display:!0,visible:{error:!0,warning:!1,log:!1,info:!1,debug:!1}},store:{paths:{res:"https://developers.eveonline.com/ccpwgl/assetpath/1097993/",cdn:"http://localhost:3000"},extensions:{sm_hi:i.Tw2EffectRes,sm_lo:i.Tw2EffectRes,wbg:i.Tw2GeometryRes,cake:i.Tw2GeometryRes,png:i.Tw2TextureRes,dds:i.Tw2TextureRes,cube:i.Tw2TextureRes,mp4:i.Tw2VideoRes,ogg:i.Tw2VideoRes,webm:i.Tw2VideoRes,black:i.Tw2LoadingObject,red:i.Tw2LoadingObject},constructors:[i,n,a,o,s,u,l],variableTypes:{float:i.Tw2FloatParameter,number:i.Tw2FloatParameter,texture:i.Tw2TextureParameter,vector2:i.Tw2Vector2Parameter,vector3:i.Tw2Vector3Parameter,vector4:i.Tw2Vector4Parameter,matrix4:i.Tw2Matrix4Parameter},variables:{WorldMat:f.mat4.create(),ViewMat:f.mat4.create(),ProjectionMat:f.mat4.create(),ViewProjectionMat:f.mat4.create(),ViewportSize:f.vec4.create(),Time:f.vec4.create(),u_DecalMatrix:f.mat4.create(),u_InvDecalMatrix:f.mat4.create(),EveSpaceSceneEnvMap:"",EnvMap1:"",EnvMap2:"",EnvMap3:"",ShadowLightness:0,OccluderValue:f.vec4.fromValues(1,1,0,0),LensflareFxOccScale:f.vec4.fromValues(1,1,0,0),LensflareFxDirectionScale:f.vec4.create()}}}},"./core/Tw2Error.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tw2Error",(function(){return a})),r.d(t,"ErrFeatureNotImplemented",(function(){return o})),r.d(t,"ErrIndexBounds",(function(){return s})),r.d(t,"ErrWrapped",(function(){return u}));var i=r("./utils/index.js"),n=Object(i.isFunction)(Error.captureStackTrace);class a extends Error{constructor(e={},t="Undefined error"){var r=t;"string"==typeof e?(r=e,e={}):e.message&&(r=e.message,delete e.message),super(),this.message=Object(i.template)(r,e),this.name=this.constructor.name,this.data=e,n?Error.captureStackTrace(this,a):this.stack=new Error(this.message).stack}emitOn(e,t="error"){return e&&e.EmitEvent&&e.EmitEvent(t,this),this}}class o extends a{constructor(e){super(e,"%feature=Feature% not implemented")}}class s extends a{constructor(e){super(e,"Array index out of bounds")}}class u extends a{constructor(e){super(e,"Invalid wrapped object(s) (%reason%)")}}},"./core/Tw2EventEmitter.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tw2EventEmitter",(function(){return a}));var i=r("./utils/index.js"),n=new WeakMap;class a{EmitEvent(e,...t){var r=n.get(this);return r?((e=e.toLowerCase())in r&&(r[e].forEach((i,n)=>{n.call(i.context,...t),i.once&&r[e].delete(n)}),0===r[e].size&&Reflect.deleteProperty(r,e)),this):this}AddEvents(e){if(!e)return this;for(var t in e)if(e.hasOwnProperty(t)){var r=e[t],n=t,a=void 0,o=void 0;if(-1!==t.indexOf(".once")&&t.lastIndexOf(".once")===t.length-5&&(n=t.substring(0,t.length-5),o=!0),Object(i.isArray)(r)&&(a=(r=r[0])[1]),!Object(i.isFunction)(r))throw new Error("Invalid listener");this.OnEvent(n,r,a,o)}return this}OnEvent(e,t,r,i){var a=n.get(this);if(a||(a={},n.set(this,a)),a[e=e.toLowerCase()]||(a[e]=new Map),!a[e].has(t))if(this.constructor.onListener){if(this.constructor.onListener(this,e,t,r)&&i)return this}else if(this.OnEventFirstListener&&this.OnEventFirstListener(this,e,t,r)&&i)return this;return a[e].set(t,{context:r,once:i}),this}OnceEvent(e,t,r){return this.OnEvent(e,t,r,!0)}OffEvent(e,t){var r=n.get(this);if(!r)return this;if("*"===e){for(var i in r)r.hasOwnProperty(i)&&(r[i].delete(t),0===r[i].size&&Reflect.deleteProperty(r,i));return this}return(e=e.toLowerCase())in r&&(r[e].delete(t),0===r[e].size&&Reflect.deleteProperty(r,e)),this}HasEvent(e,t){var r=n.get(this);if(!r)return!1;if("*"===e){for(var i in r)if(r.hasOwnProperty(i)&&r[i].has(t))return!0;return!1}return!(!t||!(e in r))&&("*"===t?!!r[e].size:r[e].has(t))}ClearEvent(e){var t=n.get(this);return t?"*"===e?(n.delete(this),this):((e=e.toLowerCase())in t&&(t[e].clear(),Reflect.deleteProperty(t,e)),this):this}}},"./core/Tw2Frustum.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tw2Frustum",(function(){return u}));var i,n,a,o=r("./utils/index.js"),s=r("./math/index.js"),u=o.meta.ctor("Tw2Frustum")((a=n=class e{constructor(){this._halfWidthProjection=1,this._planes=[s.vec4.create(),s.vec4.create(),s.vec4.create(),s.vec4.create(),s.vec4.create(),s.vec4.create()],this._viewPos=s.vec3.create(),this._viewDir=s.vec3.create()}Initialize(t,r,i,n,a){var o=e.global.mat4_0,u=n||s.mat4.invert(o,t);this._viewPos.set(u.subarray(12,14)),this._viewDir.set(u.subarray(8,10)),this._halfWidthProjection=r[0]*i*.5;var l=a||s.mat4.multiply(o,r,t),c=this._planes;c[0][0]=l[2],c[0][1]=l[6],c[0][2]=l[10],c[0][3]=l[14],c[1][0]=l[3]+l[0],c[1][1]=l[7]+l[4],c[1][2]=l[11]+l[8],c[1][3]=l[15]+l[12],c[2][0]=l[3]-l[1],c[2][1]=l[7]-l[5],c[2][2]=l[11]-l[9],c[2][3]=l[15]-l[13],c[3][0]=l[3]-l[0],c[3][1]=l[7]-l[4],c[3][2]=l[11]-l[8],c[3][3]=l[15]-l[12],c[4][0]=l[3]+l[1],c[4][1]=l[7]+l[5],c[4][2]=l[11]+l[9],c[4][3]=l[15]+l[13],c[5][0]=l[3]-l[2],c[5][1]=l[7]-l[6],c[5][2]=l[11]-l[10],c[5][3]=l[15]-l[14];for(var f=0;f<6;++f){var d=s.vec3.length(c[f]);c[f][0]/=d,c[f][1]/=d,c[f][2]/=d,c[f][3]/=d}}IsSphereVisible(e,t){for(var r=this._planes,i=0;i<6;++i)if(r[i][0]*e[0]+r[i][1]*e[1]+r[i][2]*e[2]+r[i][3]<-t)return!1;return!0}GetPixelSizeAcross(t,r){var i=s.vec3.subtract(e.global.vec3_0,this._viewPos,t),n=s.vec3.dot(this._viewDir,i);return n<1e-5&&(n=1e-5),r<1e-5?0:r/n*this._halfWidthProjection*2}},n.global={vec3_0:s.vec3.create(),mat4_0:s.mat4.create()},i=a))||i},"./core/Tw2RenderTarget.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tw2RenderTarget",(function(){return R}));var i,n,a,o,s,u,l,c,f,d,h,m,p,b,v,g,E,y=r("./utils/index.js"),T=r("./global/index.js"),S=r("./core/resource/Tw2TextureRes.js");function w(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function _(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var R=(i=y.meta.ctor("Tw2RenderTarget"),n=y.meta.string,a=y.meta.struct("Tw2TextureRes"),o=y.meta.isPrivate,s=y.meta.float,u=y.meta.isPrivate,l=y.meta.float,c=y.meta.isPrivate,f=y.meta.boolean,d=y.meta.isPrivate,i((p=_((m=class{constructor(){w(this,"name",p,this),w(this,"texture",b,this),w(this,"width",v,this),w(this,"height",g,this),w(this,"hasDepth",E,this),this._id=Object(y.generateID)(),this._frameBuffer=null,this._renderBuffer=null}IsGood(){return this._frameBuffer&&this._renderBuffer&&this.texture}Destroy(){var{gl:e}=T.device;this.texture&&(e.deleteTexture(this.texture.texture),this.texture=null),this._renderBuffer&&(e.deleteRenderbuffer(this._renderBuffer),this._renderBuffer=null),this._frameBuffer&&(e.deleteFramebuffer(this._frameBuffer),this._frameBuffer=null),this.hasDepth=!1,this.width=0,this.height=0}Create(e,t,r){var{gl:i}=T.device;this.Destroy(),this.texture=new S.Tw2TextureRes,this.texture.Attach(i.createTexture()),this._frameBuffer=i.createFramebuffer(),i.bindFramebuffer(i.FRAMEBUFFER,this._frameBuffer),i.bindTexture(i.TEXTURE_2D,this.texture.texture),i.texImage2D(i.TEXTURE_2D,0,i.RGBA,e,t,0,i.RGBA,i.UNSIGNED_BYTE,null),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_MAG_FILTER,i.LINEAR),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_MIN_FILTER,i.LINEAR),i.bindTexture(i.TEXTURE_2D,null),this._renderBuffer=null,r&&(this._renderBuffer=i.createRenderbuffer(),i.bindRenderbuffer(i.RENDERBUFFER,this._renderBuffer),i.renderbufferStorage(i.RENDERBUFFER,i.DEPTH_COMPONENT16,e,t)),i.framebufferTexture2D(i.FRAMEBUFFER,i.COLOR_ATTACHMENT0,i.TEXTURE_2D,this.texture.texture,0),r&&i.framebufferRenderbuffer(i.FRAMEBUFFER,i.DEPTH_ATTACHMENT,i.RENDERBUFFER,this._renderBuffer),i.bindRenderbuffer(i.RENDERBUFFER,null),i.bindFramebuffer(i.FRAMEBUFFER,null),this.texture.width=this.width=e,this.texture.height=this.height=t,this.hasDepth=r}Set(){var{gl:e}=T.device;e.bindFramebuffer(e.FRAMEBUFFER,this._frameBuffer),e.viewport(0,0,this.width,this.height)}Unset(){var{gl:e,viewportWidth:t,viewportHeight:r}=T.device;e.bindFramebuffer(e.FRAMEBUFFER,null),e.viewport(0,0,t,r)}}).prototype,"name",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),b=_(m.prototype,"texture",[a,o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),v=_(m.prototype,"width",[s,u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),g=_(m.prototype,"height",[l,c],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),E=_(m.prototype,"hasDepth",[f,d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),h=m))||h)},"./core/Tw2RuntimeInstanceData.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tw2RuntimeInstanceData",(function(){return u}));var i,n=r("./utils/index.js"),a=r("./global/index.js"),o=r("./core/vertex/index.js"),s=r("./particle/element/Tw2ParticleElementDeclaration.js"),u=n.meta.ctor("Tw2RuntimeInstanceData","Tr2RuntimeInstanceData")(i=class extends n.meta.Model{constructor(...e){super(...e),this._count=0,this._data=null,this._dirty=!0,this._declaration=null,this._vb=null,this._vertexStride=0}GetMaxInstanceCount(){return this._data?this._data.length:1}SetElementLayout(e){this._vb&&(a.device.gl.deleteBuffer(this._vb),this._vb=null),this._vertexStride=0,this._declaration=new o.Tw2VertexDeclaration;for(var t=0;t<e.length;++t){var r=new s.Tw2ParticleElementDeclaration;r.elementType=e[t][0],r.dimension=e[t][2],r.usageIndex=e[t][1];var i=r.GetDeclaration();i.offset=4*this._vertexStride,this._declaration.elements.push(i),this._vertexStride+=r.dimension}this._declaration.RebuildHash()}SetData(e){this._declaration&&(this._data=e,this._count=this._data.length,this._dirty=!0,this.UpdateData())}SetItemElement(e,t,r){if(this._declaration.elements[t].elements>1)for(var i=0;i<this._declaration.elements[t].elements;++i)this._data[e][t][i]=r[i];else this._data[e][t]=r;this._dirty=!0}SetItemElementRef(e,t,r){this._data[e][t]=r,this._dirty=!0}GetItemElement(e,t){return this._data[e][t]}UpdateData(){if(this._dirty&&this._declaration){for(var e=a.device.gl,t=new Float32Array(this._data.length*this._vertexStride),r=0,i=0;i<this._data.length;++i)for(var n=0;n<this._declaration.elements.length;++n)if(1===this._declaration.elements[n].elements)t[r++]=this._data[i][n];else for(var o=0;o<this._declaration.elements[n].elements;++o)t[r++]=this._data[i][n][o];this._vb||(this._vb=e.createBuffer()),e.bindBuffer(e.ARRAY_BUFFER,this._vb),e.bufferData(e.ARRAY_BUFFER,t,e.STATIC_DRAW),e.bindBuffer(e.ARRAY_BUFFER,null),this._dirty=!1}}Unload(){this._vb&&(a.device.gl.deleteBuffer(this._vb),this._vb=null)}GetInstanceBuffer(){return this._vb}GetInstanceDeclaration(){return this._declaration}GetInstanceStride(){return 4*this._vertexStride}GetInstanceCount(){return this._count}})||i},"./core/Tw2Transform.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tw2Transform",(function(){return g}));var i,n,a,o,s,u,l,c,f=r("./utils/index.js"),d=r("./math/index.js");function h(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function m(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var p=d.vec3.create(),b=d.quat.create(),v=d.mat4.create(),g=(i=f.meta.quaternion,n=f.meta.vector3,a=f.meta.vector3,c=class extends f.meta.Model{constructor(...e){super(...e),h(this,"rotation",s,this),h(this,"translation",u,this),h(this,"scaling",l,this),this._localTransform=d.mat4.create(),this._worldTransform=d.mat4.create(),this._rebuildLocal=!0,this._rebuildWorld=!0}OnWorldModified(e){return this.onWorldTransformModified=e,this}Initialize(){this.RebuildTransforms({force:!0,skipUpdate:!0})}OnValueChanged(e){e&&e.skipTransforms||this.RebuildTransforms({force:!0,skipUpdate:!0})}RebuildTransforms(e){var t=e&&e.force,r=e&&e.skipUpdate;if((t||this._rebuildLocal)&&(d.mat4.fromRotationTranslationScale(this._localTransform,this.rotation,this.translation,this.scaling),this._rebuildLocal=!1,t=!0),!t&&!this._rebuildWorld)return!1;var{_worldInverse:i,_worldInverseTranspose:n,_worldTranspose:a,_parentTransform:o}=this;o?d.mat4.multiply(this._worldTransform,o,this._localTransform):d.mat4.copy(this._worldTransform,this._localTransform),i&&d.mat4.invert(i,this._worldTransform),a&&d.mat4.transpose(a,this._worldTransform),n&&(a?d.mat4.invert(n,a):(d.mat4.invert(n,this._worldTransform),d.mat4.transpose(n,n))),this.onWorldTransformModified&&this.onWorldTransformModified(this._worldTransform),r||this.UpdateValues({skipTransforms:!0}),this._rebuildWorld=!1}SetParentTransform(e){return!e&&this._parentTransform?(this._parentTransform=null,this._rebuildWorld=!0):this._parentTransform?d.mat4.equals(e,this._parentTransform)||(d.mat4.copy(this._parentTransform,e),this._rebuildWorld=!0):(this._parentTransform=d.mat4.clone(e),this._rebuildWorld=!0),this}GetWorldTransform(e){return this.RebuildTransforms(),d.mat4.copy(e,this._worldTransform)}DecomposeWorld(e,t,r){return this.RebuildTransforms(),d.mat4.getRotation(e,this._worldTransform),d.mat4.getTranslation(t,this._worldTransform),d.mat4.getScaling(r,this._worldTransform),this}GetWorldRotation(e){return this.RebuildTransforms(),d.mat4.getRotation(e,this._worldTransform)}GetWorldDirection(e){return this.RebuildTransforms(),d.vec3.set(e,this._worldTransform[8],this._worldTransform[9],this._worldTransform[10]),d.vec3.normalize(e,e)}GetWorldEuler(e){return this.GetWorldRotation(b),d.vec3.euler.fromQuat(e,b)}GetWorldAxisAngle(e){return this.RebuildTransforms(),d.mat4.getRotation(b,this._worldTransform),d.quat.getAxisAngle(e,b)}GetWorldTranslation(e){return this.RebuildTransforms(),d.mat4.getTranslation(e,this._worldTransform)}GetWorldScaling(e){return this.RebuildTransforms(),d.mat4.getScaling(e,this._worldTransform)}GetWorldMaxScale(){return this.GetWorldScaling(p),Math.max(p[0],p[1],p[2])}GetWorldToLocal(e,t){return this.RebuildTransforms(),this._worldInverse?d.vec3.transformMat4(e,t,this._worldInverse):(d.mat4.invert(v,this._worldTransform),d.vec3.transformMat4(e,t,v))}Identity(){return d.mat4.identity(this._localTransform),d.mat4.getRotation(this.rotation,this._localTransform),d.mat4.getTranslation(this.translation,this._localTransform),d.mat4.getScaling(this.scaling,this._localTransform),this._rebuildWorld=!0,this}GetTransform(e){return this.RebuildTransforms(),d.mat4.copy(e,this._localTransform)}SetTransform(e){return d.mat4.getRotation(this.rotation,e),d.mat4.getScaling(this.scaling,e),d.mat4.getTranslation(this.translation,e),d.mat4.copy(this._localTransform,e),this._rebuildWorld=!0,this}Compose(e,t,r){return d.quat.copy(this.rotation,e),d.vec3.copy(this.translation,t),d.vec3.copy(this.scaling,r),this._rebuildLocal=!0,this}Decompose(e,t,r){return this.RebuildTransforms(),d.quat.copy(e,this.rotation),d.vec3.copy(t,this.translation),d.vec3.copy(r,this.scaling),this}GetLocalToWorld(e,t){return this.RebuildTransforms(),d.vec3.transformMat4(e,t,this._worldTransform)}GetDirection(e){return this.RebuildTransforms(),d.vec3.set(e,this._localTransform[8],this._localTransform[9],this._localTransform[10]),d.vec3.normalize(e,e)}GetRotation(e){return this.RebuildTransforms(),d.quat.copy(e,this.rotation)}GetEuler(e){return this.GetRotation(b),d.vec3.euler.fromQuat(e,b)}GetRotationMatrix(e){return d.mat4.fromRotation(e,this.rotation)}SetRotation(e){return d.quat.copy(this.rotation,e),this._rebuildLocal=!0,this}SetRotationFromValues(e,t,r,i){return d.quat.set(this.rotation,e,t,r,i),this._rebuildLocal=!0,this}SetRotationFromAxes(e,t,r){return d.quat.setAxes(this.rotation,e,t,r),this._rebuildLocal=!0,this}SetRotationFromAxisAngle(e,t){return d.quat.setAxisAngle(this.rotation,e,t),this._rebuildLocal=!0,this}SetRotationFromEuler(e){return d.vec3.euler.getQuat(this.rotation,e),this._rebuildLocal=!0,this}SetRotationFromEulerValues(e,t,r){return d.vec3.set(p,e,t,r),this.SetRotationFromEuler(p)}SetRotationFromMat4(e){return d.mat4.getRotation(b,e),this.SetRotation(b)}RotateX(e){return d.quat.rotateX(this.rotation,this.rotation,e),this._rebuildLocal=!0,this}RotateY(e){return d.quat.rotateY(this.rotation,this.rotation,e),this._rebuildLocal=!0,this}RotateZ(e){return d.quat.rotateZ(this.rotation,this.rotation,e),this._rebuildLocal=!0,this}RotateOnAxisAngle(e,t){return d.quat.setAxisAngle(b,e,t),d.quat.multiply(this.rotation,this.rotation,b),this._rebuildLocal=!0,this}GetAxisAngle(e){return d.quat.getAxisAngle(e,this.rotation)}LookAt(e,t){return this.RebuildTransforms(),d.mat4.copy(v,this._localTransform),t?d.mat4.lookAtGL(v,this.translation,e,d.vec3.Y_AXIS):d.mat4.lookAtGL(v,e,this.translation,d.vec3.Y_AXIS),d.mat4.getRotation(this.rotation,v),this._rebuildLocal=!0,this}LookAtWorld(e,t){return this.GetWorldToLocal(p,e),this.LookAt(p,t)}GetTranslation(e){return this.RebuildTransforms(),d.vec3.copy(e,this.translation)}SetTranslation(e){return d.vec3.copy(this.translation,e),this._rebuildLocal=!0,this}SetTranslationFromValues(e,t,r){return d.vec3.set(this.translation,e,t,r),this._rebuildLocal=!0,this}SetTranslationFromMat4(e){return d.mat4.getTranslation(this.translation,e),this._rebuildLocal=!0,this}TranslateOnAxis(e,t){return d.vec3.transformQuat(p,e,this.rotation),d.vec3.scaleAndAdd(this.translation,this.translation,p,t),this._rebuildLocal=!0,this}TranslateX(e){return this.TranslateOnAxis(d.vec3.X_AXIS,e)}TranslateY(e){return this.TranslateOnAxis(d.vec3.Y_AXIS,e)}TranslateZ(e){return this.TranslateOnAxis(d.vec3.Z_AXIS,e)}GetScale(e){return this.RebuildTransforms(),d.vec3.copy(e,this.scaling)}GetMaxScale(){return Math.max(this.scaling[0],this.scaling[1],this.scaling[2])}SetScale(e){return d.vec3.copy(this.scaling,e),this._rebuildLocal=!0,this}SetScaleFromValues(e,t,r){return d.vec3.set(p,e,t,r),this.SetScale(p)}SetScaleX(e){return this.SetScaleFromValues(e,this.scaling[1],this.scaling[2])}SetScaleY(e){return this.SetScaleFromValues(this.scaling[0],e,this.scaling[2])}SetScaleZ(e){return this.SetScaleFromValues(this.scaling[0],this.scaling[1],e)}SetScaleUniform(e){return this.SetScaleFromValues(e,e,e)}SetScaleFromMat4(e){return d.mat4.getScaling(this.scaling,e),this._rebuildLocal=!0,this}Scale(e){return d.vec3.multiply(this.scaling,this.scaling,e),this._rebuildLocal=!0,this}ScaleValues(e,t,r){return d.vec3.set(p,e,t,r),this.Scale(p)}ScaleMat4(e){return d.mat4.getScaling(p,e),this.Scale(p)}ScaleUniform(e){return this.ScaleValues(e,e,e)}ScaleX(e){return this.ScaleValues(e,1,1)}ScaleY(e){return this.ScaleValues(1,e,1)}ScaleZ(e){return this.ScaleValues(1,1,e)}static set(e,t,r){if(!t)return!1;var i,{transform:n,rotation:a,euler:o,scale:s,scaling:u,radius:l,translation:c,position:d}=t;if(void 0===s&&(s=u),void 0===s&&l&&(s=2*l),a||(a=o),c||(c=d),!(n||a||s||c))return!1;if(n){if(i=!0,!f.isMatrix4)throw new TypeError("Invalid transform matrix");e.SetTransform(n)}if(a)if(i=!0,Object(f.isVector3)(a))e.SetRotationFromEuler(a);else{if(!Object(f.isVector4)(a))throw new TypeError("Invalid rotation value");e.SetRotation(a)}if(void 0!==s)if(i=!0,Object(f.isNumber)(s))e.SetScaleUniform(s);else{if(!f.isVector3)throw new TypeError("Invalid scale");e.SetScale(s)}return c&&(i=!0,e.SetTranslation(c)),(i&&!r||!r.skipUpdate)&&e.UpdateValues(r),i}static get(e,t,r){return e.RebuildTransforms(r),super.get(e,t,r)}static Vector3FromObject(e){if("r"in e)return new Float32Array([e.r,e.g,e.b]);if("x"in e)return new Float32Array([e.x,e.y,e.z]);throw new Error("Invalid vector3 object")}static Vector4FromObject(e){if("r"in e)return new Float32Array([e.r,e.g,e.b,"a"in e?e.a:1]);if("x"in e)return new Float32Array([e.x,e.y,e.z,e.w]);throw new Error("Invalid vector4 object")}},s=m((o=c).prototype,"rotation",[i],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return d.quat.create()}}),u=m(o.prototype,"translation",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return d.vec3.create()}}),l=m(o.prototype,"scaling",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return d.vec3.fromValues(1,1,1)}}),o)},"./core/batch/Tw2BatchAccumulator.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tw2BatchAccumulator",(function(){return n}));var i=r("./global/index.js");class n{constructor(e=null){this.batches=[],this._sortMethod=null,this._sortMethod=e}get length(){return this.batches.length}Commit(e){this.batches.push(e)}Clear(){this.batches=[]}Render(e="Main"){this._sortMethod&&this.batches.sort(this._sortMethod);for(var t=0;t<this.batches.length;++t)this.batches[t]instanceof n?this.batches[t].Render(e):(this.batches[t].renderMode!==i.device.RM_ANY&&i.device.SetStandardStates(this.batches[t].renderMode),i.device.perObjectData=this.batches[t].perObjectData,this.batches[t].Commit(e))}}},"./core/batch/Tw2ForwardingRenderBatch.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tw2ForwardingRenderBatch",(function(){return n}));var i=r("./core/batch/Tw2RenderBatch.js");class n extends i.Tw2RenderBatch{constructor(...e){super(...e),this.geometryProvider=null}Commit(e){this.geometryProvider&&this.geometryProvider.Render(this,e)}}},"./core/batch/Tw2GeometryBatch.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tw2GeometryBatch",(function(){return n}));var i=r("./core/batch/Tw2RenderBatch.js");class n extends i.Tw2RenderBatch{constructor(...e){super(...e),this.geometryRes=null,this.meshIx=0,this.start=0,this.count=1,this.effect=null}Commit(e){this.geometryRes&&this.effect&&this.geometryRes.RenderAreas(this.meshIx,this.start,this.count,this.effect,e)}}},"./core/batch/Tw2GeometryLineBatch.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tw2GeometryLineBatch",(function(){return n}));var i=r("./core/batch/Tw2GeometryBatch.js");class n extends i.Tw2GeometryBatch{Commit(e){this.geometryRes&&this.effect&&this.geometryRes.RenderLines(this.meshIx,this.start,this.count,this.effect,e)}}},"./core/batch/Tw2InstancedMeshBatch.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tw2InstancedMeshBatch",(function(){return n}));var i=r("./core/batch/Tw2GeometryBatch.js");class n extends i.Tw2GeometryBatch{constructor(...e){super(...e),this.instanceMesh=null}Commit(e){this.instanceMesh&&this.effect&&this.instanceMesh.RenderAreas(this.meshIx,this.start,this.count,this.effect,e)}}},"./core/batch/Tw2RenderBatch.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tw2RenderBatch",(function(){return n}));var i=r("./global/index.js");class n{constructor(){this.renderMode=i.RM_ANY,this.perObjectData=null}Commit(e){}}},"./core/batch/index.js":function(e,t,r){"use strict";r.r(t);var i=r("./core/batch/Tw2BatchAccumulator.js");r.d(t,"Tw2BatchAccumulator",(function(){return i.Tw2BatchAccumulator}));var n=r("./core/batch/Tw2ForwardingRenderBatch.js");r.d(t,"Tw2ForwardingRenderBatch",(function(){return n.Tw2ForwardingRenderBatch}));var a=r("./core/batch/Tw2GeometryBatch.js");r.d(t,"Tw2GeometryBatch",(function(){return a.Tw2GeometryBatch}));var o=r("./core/batch/Tw2GeometryLineBatch.js");r.d(t,"Tw2GeometryLineBatch",(function(){return o.Tw2GeometryLineBatch}));var s=r("./core/batch/Tw2RenderBatch.js");r.d(t,"Tw2RenderBatch",(function(){return s.Tw2RenderBatch}));var u=r("./core/batch/Tw2InstancedMeshBatch.js");r.d(t,"Tw2InstancedMeshBatch",(function(){return u.Tw2InstancedMeshBatch}))},"./core/data/Tw2PerObjectData.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tw2PerObjectData",(function(){return n}));var i=r("./core/data/Tw2RawData.js");class n{constructor(){this.vs=null,this.ps=null,this.ffe=null}static from(e,t){var r=new n;return e&&(e.ps&&(r.ps=i.Tw2RawData.from(e.ps,t)),e.vs&&(r.vs=i.Tw2RawData.from(e.vs,t)),e.ffe&&(r.ffe=i.Tw2RawData.from(e.ffe,t))),r}}},"./core/data/Tw2RawData.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tw2RawData",(function(){return n})),r.d(t,"ErrRawDataElementNotFound",(function(){return a}));var i=r("./core/Tw2Error.js");class n{constructor(){this.data=null,this.elements={},this._nextOffset=0}Has(e){return e in this.elements}Set(e,t){var r=this.elements[e];if(!r)throw new a({name:e});for(var i=0;i<r.size;i++)this.data[i+r.offset]=t[i]}SetIndex(e,t,r){var n=this.elements[e];if(!n)throw new a({name:e});if(t<0||t>=n.size)throw new i.ErrIndexBounds;this.data[t+n.offset]=r}Get(e){if(!this.elements[e])throw new a({name:e});return this.elements[e].array}FindElementFromIndex(e){if(e>=0&&e<this._nextOffset)for(var t in this.elements)if(this.elements.hasOwnProperty(t)){var{offset:r,size:i}=this.elements[t];if(e<r||e>r+i-1)continue;return this.elements[t]}return null}Declare(e,t){var r="number"!=typeof t,i=r?t.length:t,n=r?t:null;this.elements[e]={name:e,offset:this._nextOffset,array:null,size:i,value:n},this._nextOffset+=i}Create(){for(var e in this.data=new Float32Array(this._nextOffset),this.elements)if(this.elements.hasOwnProperty(e)){var t=this.elements[e];if(t.array=this.data.subarray(t.offset,t.offset+t.size),t.value){for(var r=0;r<t.size;r++)t.array[r]=t.value[r];Reflect.deleteProperty(t,"value")}}}static from(e,t){var r=new n;if(e){for(var i=0;i<e.length;i++)r.Declare(e[i][0],e[i][1]);t&&t.skipUpdate||r.Create()}return r}}class a extends i.Tw2Error{constructor(e){super(e,"Raw data element not found (%name%)")}}},"./core/data/index.js":function(e,t,r){"use strict";r.r(t);var i=r("./core/data/Tw2PerObjectData.js");r.d(t,"Tw2PerObjectData",(function(){return i.Tw2PerObjectData}));var n=r("./core/data/Tw2RawData.js");r.d(t,"Tw2RawData",(function(){return n.Tw2RawData})),r.d(t,"ErrRawDataElementNotFound",(function(){return n.ErrRawDataElementNotFound}))},"./core/engine/Tw2Device.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tw2Device",(function(){return m})),r.d(t,"ErrWebglContext",(function(){return p})),r.d(t,"ErrWebxrNotSupported",(function(){return b})),r.d(t,"ErrWebxrDeviceNotFound",(function(){return v})),r.d(t,"ErrWebxrRequestFailed",(function(){return g})),r.d(t,"ErrWebxrSessionNotSupported",(function(){return E}));var i,n,a=r("./math/index.js"),o=r("./utils/index.js"),s=r("./core/Tw2Error.js"),u=r("./core/Tw2EventEmitter.js"),l=r("./core/mesh/Tw2Effect.js"),c=r("./core/vertex/Tw2VertexDeclaration.js"),f=r("./global/engine/Tw2Constant.js"),d=r("./global/tw2.js");function h(e,t,r,i,n,a,o){try{var s=e[a](o),u=s.value}catch(e){return void r(e)}s.done?t(u):Promise.resolve(u).then(i,n)}class m extends u.Tw2EventEmitter{get glVersion(){return this.gl?this.gl instanceof WebGLRenderingContext?1:2:0}get canvas(){return this.gl?this.gl.canvas:null}constructor(e){super(),this.name="Device",this.gl=null,this.xr=null,this.store=null,this.canvas2d=null,this.dt=0,this.frameCounter=0,this.startTime=null,this.currentTime=null,this.previousTime=null,this.eyePosition=a.vec3.create(),this.targetResolution=a.vec4.create(),this.world=a.mat4.create(),this.view=a.mat4.create(),this.viewInverse=a.mat4.create(),this.viewTranspose=a.mat4.create(),this.projection=a.mat4.create(),this.projectionInverse=a.mat4.create(),this.projectionTranspose=a.mat4.create(),this.viewProjection=a.mat4.create(),this.viewProjectionTranspose=a.mat4.create(),this.viewportWidth=0,this.viewportHeight=0,this.viewportAspect=0,this.viewportPixelRatio="devicePixelRatio"in window?window.devicePixelRatio:1,this.effectDir="/effect.gles2/",this.mipLevelSkipCount=0,this.shaderModel="hi",this.enableAnisotropicFiltering=!0,this.enableAntialiasing=!0,this.enableWebgl2=!0,this.enableWebxr=!0,this.alphaBlendBackBuffer=!1,this.antialiasing=!0,this.msaaSamples=0,this.wrapModes=[],this.shadowHandles=null,this.perObjectData=null,this.onResize=null,this._extensions={},this._alphaBlendState=null,this._alphaTestState=null,this._depthOffsetState=null,this._shadowStateBuffer=null,this._quadBuffer=null,this._quadDecl=null,this._cameraQuadBuffer=null,this._currentRenderMode=f.RM_ANY,this._fallbackCube=null,this._fallbackTexture=null,this._blitEffect=null,this._Date=Date,this.store=e,this.startTime=this.now,this.currentTime=this.startTime}Register(e){if(e){if(this.gl)throw new Error("Setting device options after gl creation is not yet supported");"performanceClock"in e&&(e.performance&&"performance"in window?this._Date=performance:this._Date=Date),"textureQuality"in e&&(this.mipLevelSkipCount=e.textureQuality),"shaderQuality"in e&&(this.shaderModel=e.shaderQuality),"anisotropicFilter"in e&&(this.enableAnisotropicFiltering=e.anisotropicFilter),"antialiasing"in e&&(this.enableAntialiasing=e.antialiasing),"webgl2"in e&&(this.enableWebgl2=e.webgl2),"webxr"in e&&(this.enableWebxr=e.webxr)}}CreateDevice({canvas:e,canvas2d:t,glParams:r={}}={}){this.gl=null,this.effectDir="/effect.gles2/";var i=Object.assign({},r);i.alpha=Object(o.get)(i,"alpha",!1),i.webgl2=this.enableWebgl2,i.xrCompatible=this.enableWebxr,i.antialiasing=!!this.enableAntialiasing&&Object(o.get)(i,"antialiasing",!0);var n=this.gl=m.CreateContext(i,e);d.logger.Debug({name:"Device",message:"Webgl".concat(this.glVersion," context created")});try{t&&(Object(o.isString)(t)&&(t=document.getElementById(t)),this.canvas2d={canvas:t,context:t.getContext("2d"),enabled:!0,autoResize:!0,OnResize:null,OnDraw:null})}catch(e){throw new Error("Invalid 2d canvas")}var a=()=>!1,s=()=>!0;if(1===this.glVersion){this.GetExtension("OES_standard_derivatives"),this.GetExtension("OES_element_index_uint"),this.GetExtension("OES_texture_float"),this.GetExtension("EXT_shader_texture_lod");var u=this.GetExtension("ANGLE_instanced_arrays");n.drawElementsInstanced=u?u.drawElementsInstancedANGLE.bind(u):a,n.drawArraysInstanced=u?u.drawArraysInstancedANGLE.bind(u):a,n.vertexAttribDivisor=u?u.vertexAttribDivisorANGLE.bind(u):a,n.hasInstancedArrays=u?s:a}else n.hasInstancedArrays=s;var l=this.GetExtension("EXT_texture_filter_anisotropic");if(l&&(l.maxAnisotropy=n.getParameter(l.MAX_TEXTURE_MAX_ANISOTROPY_EXT)),this.GetExtension("CCP_shader_binary")){var h=n.getParameter(this.gl.RENDERER).match(/Mali-(\w+).*/);h&&(this.effectDir="/effect.gles2.mali"+h[1]+"/")}this.alphaBlendBackBuffer=i.alpha,this.msaaSamples=this.gl.getParameter(this.gl.SAMPLES),this.antialiasing=this.msaaSamples>1,this.Resize();this._quadBuffer=n.createBuffer(),n.bindBuffer(n.ARRAY_BUFFER,this._quadBuffer),n.bufferData(n.ARRAY_BUFFER,new Float32Array([1,1,0,1,1,1,-1,1,0,1,0,1,1,-1,0,1,1,0,-1,-1,0,1,0,0]),n.STATIC_DRAW),this._cameraQuadBuffer=n.createBuffer(),this._quadDecl=c.Tw2VertexDeclaration.from([{usage:"POSITION",usageIndex:0,elements:4},{usage:"TEXCOORD",usageIndex:0,elements:2}]),this.wrapModes=Array.from(f.WrapModes),this._alphaBlendState={dirty:!1,states:{[f.RS_SRCBLEND]:f.BLEND_SRCALPHA,[f.RS_DESTBLEND]:f.BLEND_INVSRCALPHA,[f.RS_BLENDOP]:f.BLENDOP_ADD,[f.RS_SEPARATEALPHABLENDENABLE]:0,[f.RS_BLENDOPALPHA]:f.BLENDOP_ADD,[f.RS_SRCBLENDALPHA]:f.BLEND_SRCALPHA,[f.RS_DESTBLENDALPHA]:f.BLEND_INVSRCALPHA}},this._alphaTestState={dirty:!1,states:{[f.RS_ALPHATESTENABLE]:0,[f.RS_ALPHAREF]:-1,[f.RS_ALPHAFUNC]:f.CMP_GREATER,[f.RS_CLIPPING]:0,[f.RS_CLIPPLANEENABLE]:0}},this._depthOffsetState={dirty:!1,states:{[f.RS_SLOPESCALEDEPTHBIAS]:0,[f.RS_DEPTHBIAS]:0}},this._shadowStateBuffer=new Float32Array(24)}SetPixelRatio(e){this.viewportPixelRatio!==e&&(this.viewportPixelRatio=e,this.Resize())}Resize(){this.onResize?this.onResize(this.canvas):(this.canvas.width=Math.floor(this.canvas.clientWidth*this.viewportPixelRatio),this.canvas.height=Math.floor(this.canvas.clientHeight*this.viewportPixelRatio)),this.viewportWidth=this.canvas.width,this.viewportHeight=this.canvas.height,this.viewportAspect=this.viewportWidth/this.viewportHeight;var e={width:this.viewportWidth,height:this.viewportHeight,aspect:this.viewportAspect};this.canvas2d&&this.canvas2d.enabled&&(this.canvas2d.autoResize&&(this.canvas2d.canvas.width=this.viewportWidth,this.canvas2d.canvas.height=this.viewportHeight),this.canvas2d.OnResize&&this.canvas2d.OnResize(e)),this.store.variables.SetValue("ViewportSize",[this.viewportWidth,this.viewportHeight,this.viewportWidth,this.viewportHeight]),this.EmitEvent("resized",e)}get now(){return this._Date.now()}StartFrame(){this.canvas.clientWidth===this.viewportWidth&&this.canvas.clientHeight===this.viewportHeight||this.Resize();var e=null===this.previousTime?0:this.previousTime,t=this.now;this.currentTime=.001*(t-this.startTime),this.dt=null===this.previousTime?0:.001*(t-this.previousTime),this.previousTime=t,this.store.variables.SetValue("Time",[this.currentTime,this.currentTime-Math.floor(this.currentTime),this.frameCounter,e]),this.frameCounter++}EndFrame(){this.canvas2d&&this.canvas2d.enabled&&this.canvas2d.OnDraw&&this.canvas2d.OnDraw()}SetWorld(e){a.mat4.copy(this.world,e)}SetView(e){a.mat4.copy(this.view,e),a.mat4.invert(this.viewInverse,this.view),a.mat4.transpose(this.viewTranspose,this.view),a.mat4.getTranslation(this.eyePosition,this.viewInverse),this.UpdateViewProjection()}SetProjection(e,t){a.mat4.copy(this.projection,e),a.mat4.transpose(this.projectionTranspose,this.projection),a.mat4.invert(this.projectionInverse,this.projection),this.GetTargetResolution(this.targetResolution),t&&this.UpdateViewProjection()}UpdateViewProjection(){a.mat4.multiply(this.viewProjection,this.projection,this.view),a.mat4.transpose(this.viewProjectionTranspose,this.viewProjection),this.store.variables.SetValue("ViewProjectionMat",this.viewProjection)}GetTargetResolution(e=a.vec4.create()){var t=this.projection[0]?this.projection[5]/this.projection[0]:0,r=1;t>1.6&&(r=t/1.6);var i=2*Math.atan(r/this.projection[5]);return e[0]=this.viewportWidth,e[1]=this.viewportHeight,e[2]=i,e[3]=i*t,e}GetEyePosition(e=a.vec3.create()){return a.vec3.copy(e,this.eyePosition)}IsAlphaTestEnabled(){return this._alphaTestState.states[f.RS_ALPHATESTENABLE]}IsFrameBufferComplete(e){return this.gl.checkFramebufferStatus(e)===this.gl.FRAMEBUFFER_COMPLETE}GetExtension(e){if(!(e in this._extensions)){for(var t,r=0;r<f.VendorWebglPrefixes.length&&!(t=this.gl.getExtension(f.VendorWebglPrefixes[r]+e));r++)t=null;this._extensions[e]=t}return this._extensions[e]}GetFallbackTexture(){return this._fallbackTexture||(this._fallbackTexture=this.CreateSolidTexture()),this._fallbackTexture}GetFallbackCubeMap(){return this._fallbackCube||(this._fallbackCube=this.CreateSolidCube()),this._fallbackCube}CreateSolidTexture(e=[0,0,0,0]){var t=this.gl,r=this.gl.createTexture();return t.bindTexture(t.TEXTURE_2D,r),t.texImage2D(t.TEXTURE_2D,0,t.RGBA,1,1,0,t.RGBA,t.UNSIGNED_BYTE,new Uint8Array(e)),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,t.NEAREST),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t.NEAREST),t.bindTexture(t.TEXTURE_2D,null),r}CreateSolidCube(e=[0,0,0,0]){var t=this.gl,r=this.gl.createTexture();t.bindTexture(t.TEXTURE_CUBE_MAP,r);for(var i=0;i<6;++i)t.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+i,0,t.RGBA,1,1,0,t.RGBA,t.UNSIGNED_BYTE,new Uint8Array(e));return t.texParameteri(t.TEXTURE_CUBE_MAP,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_CUBE_MAP,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_CUBE_MAP,t.TEXTURE_MAG_FILTER,t.NEAREST),t.texParameteri(t.TEXTURE_CUBE_MAP,t.TEXTURE_MIN_FILTER,t.NEAREST),t.bindTexture(t.TEXTURE_CUBE_MAP,null),r}RenderFullScreenQuad(e,t="Main"){if(!e||!e.IsGood())return!1;var r=this.gl;r.bindBuffer(r.ARRAY_BUFFER,this._quadBuffer);for(var i=0;i<e.GetPassCount(t);++i){if(e.ApplyPass(t,i),!this._quadDecl.SetDeclaration(this,e.GetPassInput(t,i),24))return!1;this.ApplyShadowState(),r.drawArrays(r.TRIANGLE_STRIP,0,4)}return!0}RenderTexture(e){return null===this._blitEffect&&(this._blitEffect=l.Tw2Effect.from({effectFilePath:"res:/graphics/effect/managed/space/system/blit.fx",textures:{BlitSource:""}})),this._blitEffect.parameters.BlitSource.SetTextureRes(e),this.RenderFullScreenQuad(this._blitEffect)}RenderCameraSpaceQuad(e,t="Main"){if(!e||!e.IsGood())return!1;for(var r=new Float32Array([1,1,0,1,1,1,-1,1,0,1,0,1,1,-1,0,1,1,0,-1,-1,0,1,0,0]),i=this.projectionInverse,n=0;n<4;++n){var o=r.subarray(6*n,6*n+4);a.vec4.transformMat4(o,o,i),a.vec3.scale(o,o,1/o[3]),o[3]=1}var s=this.gl;s.bindBuffer(s.ARRAY_BUFFER,this._cameraQuadBuffer),s.bufferData(s.ARRAY_BUFFER,r,s.STATIC_DRAW);for(var u=0;u<e.GetPassCount(t);++u){if(e.ApplyPass(t,u),!this._quadDecl.SetDeclaration(this,e.GetPassInput(t,u),24))return!1;this.ApplyShadowState(),s.drawArrays(s.TRIANGLE_STRIP,0,4)}return!0}SetRenderState(e,t){var r=this.gl;switch(this._currentRenderMode=f.RM_ANY,e){case f.RS_ZENABLE:return void(t?r.enable(r.DEPTH_TEST):r.disable(r.DEPTH_TEST));case f.RS_ZWRITEENABLE:return void r.depthMask(!!t);case f.RS_ALPHATESTENABLE:case f.RS_ALPHAREF:case f.RS_ALPHAFUNC:case f.RS_CLIPPING:case f.RS_CLIPPLANEENABLE:return void(this._alphaTestState[e]!==t&&(this._alphaTestState.states[e]=t,this._alphaTestState.dirty=!0));case f.RS_SRCBLEND:case f.RS_DESTBLEND:case f.RS_BLENDOP:case f.RS_SEPARATEALPHABLENDENABLE:case f.RS_BLENDOPALPHA:case f.RS_SRCBLENDALPHA:case f.RS_DESTBLENDALPHA:return void(this._alphaBlendState[e]!==t&&(this._alphaBlendState.states[e]=t,this._alphaBlendState.dirty=!0));case f.RS_CULLMODE:switch(t){case f.CULL_NONE:return void r.disable(r.CULL_FACE);case f.CULL_CW:return r.enable(r.CULL_FACE),void r.cullFace(r.FRONT);case f.CULL_CCW:return r.enable(r.CULL_FACE),void r.cullFace(r.BACK)}return;case f.RS_ZFUNC:return void r.depthFunc(512+t-1);case f.RS_ALPHABLENDENABLE:return void(t?r.enable(r.BLEND):r.disable(r.BLEND));case f.RS_COLORWRITEENABLE:return void r.colorMask(0!=(1&t),0!=(2&t),0!=(4&t),0!=(8&t));case f.RS_SCISSORTESTENABLE:return void(t?r.enable(r.SCISSOR_TEST):r.disable(r.SCISSOR_TEST));case f.RS_SLOPESCALEDEPTHBIAS:case f.RS_DEPTHBIAS:return t=a.num.dwordToFloat(t),void(this._depthOffsetState[e]!==t&&(this._depthOffsetState.states[e]=t,this._depthOffsetState.dirty=!0))}}ApplyShadowState(){var e,t,r,i=this.gl;if(this._alphaBlendState.dirty){var n=i.FUNC_ADD;this._alphaBlendState.states[f.RS_BLENDOP]===f.BLENDOP_SUBTRACT?n=i.FUNC_SUBTRACT:this._alphaBlendState.states[f.RS_BLENDOP]===f.BLENDOP_REVSUBTRACT&&(n=i.FUNC_REVERSE_SUBTRACT);var a=f.BlendTable[this._alphaBlendState.states[f.RS_SRCBLEND]],o=f.BlendTable[this._alphaBlendState.states[f.RS_DESTBLEND]];if(this._alphaBlendState.states[f.RS_SEPARATEALPHABLENDENABLE]){var s=i.FUNC_ADD;this._alphaBlendState.states[f.RS_BLENDOP]===f.BLENDOP_SUBTRACT?s=i.FUNC_SUBTRACT:this._alphaBlendState.states[f.RS_BLENDOP]===f.BLENDOP_REVSUBTRACT&&(s=i.FUNC_REVERSE_SUBTRACT);var u=f.BlendTable[this._alphaBlendState.states[f.RS_SRCBLENDALPHA]],l=f.BlendTable[this._alphaBlendState.states[f.RS_DESTBLENDALPHA]];i.blendEquationSeparate(n,s),i.blendFuncSeparate(a,o,u,l)}else i.blendEquation(n),i.blendFunc(a,o);this._alphaBlendState.dirty=!1}if(this._depthOffsetState.dirty&&(i.polygonOffset(this._depthOffsetState.states[f.RS_SLOPESCALEDEPTHBIAS],this._depthOffsetState.states[f.RS_DEPTHBIAS]),this._depthOffsetState.dirty=!1),this.shadowHandles&&this._alphaTestState.states[f.RS_ALPHATESTENABLE]){switch(this._alphaTestState.states[f.RS_ALPHAFUNC]){case f.CMP_NEVER:e=0,t=1,r=-256;break;case f.CMP_LESS:e=0,t=-1,r=this._alphaTestState.states[f.RS_ALPHAREF]-1;break;case f.CMP_EQUAL:e=1,t=0,r=this._alphaTestState.states[f.RS_ALPHAREF];break;case f.CMP_LEQUAL:e=0,t=-1,r=this._alphaTestState.states[f.RS_ALPHAREF];break;case f.CMP_GREATER:e=0,t=1,r=-this._alphaTestState.states[f.RS_ALPHAREF]-1;break;case f.CMP_GREATEREQUAL:e=0,t=1,r=-this._alphaTestState.states[f.RS_ALPHAREF];break;default:e=0,t=0,r=1}i.uniform4f(this.shadowHandles.shadowStateInt,t,r,e,0)}}SetStandardStates(e){if(this._currentRenderMode!==e){switch(this.gl.frontFace(this.gl.CW),e){case f.RM_OPAQUE:case f.RM_PICKABLE:this.SetRenderState(f.RS_ZENABLE,!0),this.SetRenderState(f.RS_ZWRITEENABLE,!0),this.SetRenderState(f.RS_ZFUNC,f.CMP_LEQUAL),this.SetRenderState(f.RS_CULLMODE,f.CULL_CW),this.SetRenderState(f.RS_ALPHABLENDENABLE,!1),this.SetRenderState(f.RS_ALPHATESTENABLE,!1),this.SetRenderState(f.RS_SEPARATEALPHABLENDENABLE,!1),this.SetRenderState(f.RS_SLOPESCALEDEPTHBIAS,0),this.SetRenderState(f.RS_DEPTHBIAS,0),this.SetRenderState(f.RS_COLORWRITEENABLE,15);break;case f.RM_DECAL:this.SetRenderState(f.RS_ALPHABLENDENABLE,!1),this.SetRenderState(f.RS_ALPHATESTENABLE,!0),this.SetRenderState(f.RS_ALPHAFUNC,f.CMP_GREATER),this.SetRenderState(f.RS_ALPHAREF,127),this.SetRenderState(f.RS_ZENABLE,!0),this.SetRenderState(f.RS_ZWRITEENABLE,!0),this.SetRenderState(f.RS_ZFUNC,f.CMP_LEQUAL),this.SetRenderState(f.RS_CULLMODE,f.CULL_CW),this.SetRenderState(f.RS_BLENDOP,f.BLENDOP_ADD),this.SetRenderState(f.RS_SLOPESCALEDEPTHBIAS,0),this.SetRenderState(f.RS_DEPTHBIAS,0),this.SetRenderState(f.RS_SEPARATEALPHABLENDENABLE,!1),this.SetRenderState(f.RS_COLORWRITEENABLE,15);break;case f.RM_TRANSPARENT:this.SetRenderState(f.RS_CULLMODE,f.CULL_CW),this.SetRenderState(f.RS_ALPHABLENDENABLE,!0),this.SetRenderState(f.RS_SRCBLEND,f.BLEND_SRCALPHA),this.SetRenderState(f.RS_DESTBLEND,f.BLEND_INVSRCALPHA),this.SetRenderState(f.RS_BLENDOP,f.BLENDOP_ADD),this.SetRenderState(f.RS_ZENABLE,!0),this.SetRenderState(f.RS_ZWRITEENABLE,!1),this.SetRenderState(f.RS_ZFUNC,f.CMP_LEQUAL),this.SetRenderState(f.RS_ALPHATESTENABLE,!1),this.SetRenderState(f.RS_SLOPESCALEDEPTHBIAS,0),this.SetRenderState(f.RS_DEPTHBIAS,0),this.SetRenderState(f.RS_SEPARATEALPHABLENDENABLE,!1),this.SetRenderState(f.RS_COLORWRITEENABLE,15);break;case f.RM_ADDITIVE:this.SetRenderState(f.RS_CULLMODE,f.CULL_NONE),this.SetRenderState(f.RS_ALPHABLENDENABLE,!0),this.SetRenderState(f.RS_SRCBLEND,f.BLEND_ONE),this.SetRenderState(f.RS_DESTBLEND,f.BLEND_ONE),this.SetRenderState(f.RS_BLENDOP,f.BLENDOP_ADD),this.SetRenderState(f.RS_ZENABLE,!0),this.SetRenderState(f.RS_ZWRITEENABLE,!1),this.SetRenderState(f.RS_ZFUNC,f.CMP_LEQUAL),this.SetRenderState(f.RS_ALPHATESTENABLE,!1),this.SetRenderState(f.RS_SLOPESCALEDEPTHBIAS,0),this.SetRenderState(f.RS_DEPTHBIAS,0),this.SetRenderState(f.RS_SEPARATEALPHABLENDENABLE,!1),this.SetRenderState(f.RS_COLORWRITEENABLE,15);break;case f.RM_FULLSCREEN:this.SetRenderState(f.RS_ALPHABLENDENABLE,!1),this.SetRenderState(f.RS_ALPHATESTENABLE,!1),this.SetRenderState(f.RS_CULLMODE,f.CULL_NONE),this.SetRenderState(f.RS_ZENABLE,!1),this.SetRenderState(f.RS_ZWRITEENABLE,!1),this.SetRenderState(f.RS_ZFUNC,f.CMP_ALWAYS),this.SetRenderState(f.RS_SLOPESCALEDEPTHBIAS,0),this.SetRenderState(f.RS_DEPTHBIAS,0),this.SetRenderState(f.RS_SEPARATEALPHABLENDENABLE,!1),this.SetRenderState(f.RS_COLORWRITEENABLE,15);break;case f.RM_DISTORTION:case f.RM_DEPTH:default:return}this._currentRenderMode=e}}RequestAnimationFrame(e){return this.xr?this.xr.RequestAnimationFrame(e):this.constructor.RequestAnimationFrame(e)}CancelAnimationFrame(e){return this.xr?this.xr.CancelAnimationFrame(e):this.constructor.CancelAnimationFrame(e)}static CreateContext(e={},t){Object(o.isString)(t)&&(t=document.getElementById(t)),t||(t=document.createElement("canvas"));var r=e.webgl2?["webgl2"]:["webgl","experimental-webgl"],i=null;for(var n of r)if(i=t.getContext(n,e))break;if(!i)throw new p({version:e.webgl2?2:1});return i}static FindXRDevice(e){return(t=function*(){if(!navigator.xr)throw new b;var t;try{t=yield navigator.xr.requestDevice()}catch(e){if("NotFoundError"===e.name||"NotFoundError"===e.message)throw new v({err:e.message});throw new g({err:e.message})}if(e)try{yield t.supportsSession(e)}catch(e){throw new E({err:e.message})}return t},function(){var e=this,r=arguments;return new Promise((function(i,n){var a=t.apply(e,r);function o(e){h(a,i,n,o,s,"next",e)}function s(e){h(a,i,n,o,s,"throw",e)}o(void 0)}))})();var t}}m.RequestAnimationFrame=(i=Object(o.get)(window,f.VendorRequestAnimationFrame),e=>i(e)),m.CancelAnimationFrame=(n=Object(o.get)(window,f.VendorCancelAnimationFrame),e=>n(e)),m.prototype.RM_ANY=f.RM_ANY,m.prototype.RM_OPAQUE=f.RM_OPAQUE,m.prototype.RM_DECAL=f.RM_DECAL,m.prototype.RM_TRANSPARENT=f.RM_TRANSPARENT,m.prototype.RM_ADDITIVE=f.RM_ADDITIVE,m.prototype.RM_DEPTH=f.RM_DEPTH,m.prototype.RM_DISTORTION=f.RM_DISTORTION,m.prototype.RM_FULLSCREEN=f.RM_FULLSCREEN,m.prototype.RM_PICKABLE=f.RM_PICKABLE;class p extends s.Tw2Error{constructor(e){super(e,"Unable to create webgl context (%version%)")}}class b extends s.Tw2Error{constructor(e){super(e,"Webxr not supported")}}class v extends s.Tw2Error{constructor(e){super(e,"Webxr device not found")}}class g extends s.Tw2Error{constructor(e){super(e,"Webxr request failed (%err%)")}}class E extends s.Tw2Error{constructor(e){super(e,"Webxr session not supported (%err%)")}}},"./core/engine/Tw2Library.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tw2Library",(function(){return p}));var i,n=r("./utils/meta/index.js"),a=r("./core/Tw2EventEmitter.js"),o=r("./core/engine/Tw2ResMan.js"),s=r("./core/engine/Tw2Device.js"),u=r("./core/engine/Tw2Logger.js"),l=r("./core/reader/Tw2BlackPropertyReaders.js"),c=r("./global/engine/Tw2Constant.js"),f=r("./math/index.js"),d=r("./utils/index.js");function h(e,t,r,i,n,a,o){try{var s=e[a](o),u=s.value}catch(e){return void r(e)}s.done?t(u):Promise.resolve(u).then(i,n)}function m(e){return function(){var t=this,r=arguments;return new Promise((function(i,n){var a=e.apply(t,r);function o(e){h(a,i,n,o,s,"next",e)}function s(e){h(a,i,n,o,s,"throw",e)}o(void 0)}))}}var p=Object(n.singleton)(i=class extends a.Tw2EventEmitter{get gl(){return this.device.gl}get now(){return this.device.now}get frame(){return this.device.frameCounter}get canvas(){return this.device.canvas}get dt(){return this.device.dt}get width(){return this.device.viewportWidth}get height(){return this.device.viewportHeight}get aspect(){return this.device.viewportAspect}constructor(e){var t;super(),this.math=f,this.util=d,this.logger=new u.Tw2Logger,this.resMan=null,this.device=null,this.store=null,this.const=c,this.resMan=new o.Tw2ResMan(e),this.device=new s.Tw2Device(e),this.store=e,Object.defineProperty(this,"eveSof",{get:()=>{if(!t){var e=this.GetClass("EveSOF");t=new e(this)}return t}});var r=!1;Object.defineProperty(this,"debug",{get:()=>r,set:e=>{r=!!e,this.store.SetDebugMode(r),this.logger.SetDebugMode(r)}})}Initialize(e={}){this.Register(e);var{render:t,glParams:r,canvas:i,canvas2d:n}=e;if(this.device.CreateDevice({canvas:i,canvas2d:n,glParams:r}),t){this.OnEvent("tick",t);var a=()=>{this.RequestAnimationFrame(a),this.StartFrame(),this.EndFrame()};this.RequestAnimationFrame(a)}}SetBlackPathHandler(e){l.path.handler=e}StartFrame(){this.device.StartFrame(),this.resMan.Tick(this.device)}EndFrame(){this.EmitEvent("tick",this.device.dt),this.device.EndFrame()}RequestAnimationFrame(e){return this.device.RequestAnimationFrame(e)}CancelAnimationFrame(e){return this.device.CancelAnimationFrame(e)}Log(e,t,r="Library"){return this.logger.Add(e,t,r)}Register(e={}){void 0!==e.debug&&(this.debug=e.debug),e.logger&&this.logger.Register(e.logger),e.resMan&&this.resMan.Register(e.resMan),e.device&&this.device.Register(e.device),e.store&&this.store.Register(e.store)}GetFullURL(e){return this.resMan.BuildUrl(e)}SetStandardStates(e){return this.device.SetStandardStates(e),this}GLColorMask(e){return this.device.gl.colorMask(e[0],e[1],e[2],e[3]),this}GLClearColor(e){return this.device.gl.clearColor(e[0],e[1],e[2],e[3]),this}GLClearDepth(e){return this.device.gl.clearDepth(e),this}GLViewport(e){return this.device.gl.viewport(e[0],e[1],e[2],e[3]),this}GLClear(e){return this.device.gl.clear(e),this}SetProjectionMatrix(e){return this.device.SetProjection(e),this}SetViewMatrix(e){return this.device.SetView(e),this}GetDeviceExtension(e){return this.device.GetExtension(e)}GetResource(e,t,r){return this.resMan.GetResource(e,t,r)}FetchResource(e){var t=this;return m((function*(){return t.resMan.FetchResource(e)}))()}FetchObject(e,t){var r=this;return m((function*(){var i;if(i=Object(d.isDNA)(e)?yield r.eveSof.FetchObject(e):yield r.resMan.FetchObject(e),!r.IsClass(i,t))throw new Error("Unexpected constructor: "+i.constructor.name);return i}))()}FetchBuildClass(e){var t=this;return m((function*(){return Object(d.isDNA)(e)?yield t.eveSof.FetchHullBuildClass(e):2}))()}IsClass(e,t){if(!t)return!0;var r;t=Object(d.toArray)(t);for(var i=0;i<t.length;i++){var n=t[i],a=!1;if(Object(d.isString)(n)&&("!"===n.charAt(0)&&(a=!0,n=n.substring(1)),n="Array"===n?Array:"Object"===n?Object:this.GetClass(n)),e instanceof n){r=!a;break}}return r}CreateVariable(e,t,r){if(Object(d.isPlain)(t)&&(r=t.Type||t.type,t=t.value),Object(d.isFunction)(r))return new r(e,t);if(Object(d.isString)(r)&&(r=this.GetType(r)),r||(r=this.GetTypeByValue(t)),Object(d.isFunction)(r))return new r(e,t);throw new Error("Could not identify variable type")}HasVariable(e){return this.store.variables.Has(e)}GetVariable(e){return this.store.variables.Get(e)}GetVariableValue(e){return this.store.variables.GetValue(e)}SetVariable(e,t){return this.store.variables.Set(e,t)}SetVariableValue(e,t,r){return this.store.variables.SetValue(e,t,r)}HasExtension(e){return this.store.extensions.Has(e)}GetExtension(e){return this.store.extensions.Get(e)}SetExtension(e,t){return this.store.extensions.Set(e,t)}HasClass(e){return this.store.constructors.Has(e)}GetClass(e){return this.store.constructors.Get(e)}SetClass(e,t){return this.store.constructors.Set(e,t)}HasPath(e){return this.store.paths.Has(e)}GetPath(e){return this.store.paths.Get(e)}SetPath(e,t){return this.store.paths.Set(e,t)}HasDynamicPath(e){return this.store.dynamicPaths.Has(e)}GetDynamicPath(e){return this.store.dynamicPaths.Get(e)}SetDynamicPath(e,t){return this.store.dynamicPaths.Set(e,t)}HasType(e){return this.store.variableTypes.Has(e)}GetType(e){return this.store.variableTypes.Get(e)}GetTypeByValue(e){return this.store.variableTypes.GetByValue(e)}SetType(e,t){return this.store.variableTypes.Set(e,t)}})||i;p.prototype.Model=n.Model},"./core/engine/Tw2Logger.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tw2Logger",(function(){return a}));var i=r("./core/Tw2EventEmitter.js"),n=r("./utils/index.js");class a extends i.Tw2EventEmitter{constructor(...e){super(...e),this.name="",this.display=!0,this.history=100,this.throttle=20,this.visible={log:!0,info:!0,debug:!0,warn:!0,error:!0},this._logs=[],this._throttled=null,this._debugMode=!1}SetDebugMode(e){this._debugMode=!0}Register(e){e&&(Object(n.assignIfExists)(this,e,["name","display","history","throttle"]),Object(n.assignIfExists)(this.visible,e.visible,["log","info","debug","warn","error"]))}Debug(e){return this.Add("debug",e)}Info(e){return this.Add("info",e)}Warn(e){return this.Add("warn",e)}Error(e){return this.Add("error",e)}Log(e){return this.Add("log",e)}Add(e="log",t){if(t?Object(n.isString)(t)?t={message:t}:Object(n.isError)(t)&&(t={message:t.message,err:t}):t={message:""},t._logged)return t;if(t.type=e.toLowerCase(),t.name=t.name||"Logger",t.message=t.message?t.message.charAt(0).toUpperCase()+t.message.substring(1):"",a.LogType[t.type.toUpperCase()]||(t.type="log"),this.display&&this.visible[t.type]||(t.hide=!0),!this.throttle||this._debugMode)this._throttled=null;else if(!t.hide){this._throttled||(this._throttled={}),this._throttled[t.type]||(this._throttled[t.type]=[]);var r=this._throttled[t.type];r.includes(t.message)?t.hide=!0:(r.unshift(t.message),r.splice(this.throttle))}if(!t.hide||this._debugMode){var i="";t.path&&!t.message.includes(t.path)&&(i+="'".concat(t.path,"' ")),t.time&&(i+="in ".concat(t.time.toFixed(3)," secs ")),t.detail&&(i+="(".concat(t.detail,") "));var o="".concat(this.name," ").concat(t.name,":");t.err||t.data?(console.group(o,t.message,i),t.err&&console.error(t.err.stack||t.err.toString()),t.data&&console.debug(JSON.stringify(t.data,null,4)),console.groupEnd()):console[t.type](o,t.message,i)}var s=this._debugMode?1e3:this.history;return s?(this._logs.unshift(t),this._logs.splice(s)):this._logs=[],t._logged=!0,this.EmitEvent(t.type,t),t}}a.LogType={ERROR:"error",WARNING:"warn",WARN:"warn",INFO:"info",LOG:"log",DEBUG:"debug"}},"./core/engine/Tw2MotherLode.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tw2MotherLode",(function(){return i}));class i{constructor(){this._loadedObjects={},this._errors={}}AddError(e,t){return this._errors[e]=this._errors[e]||[],t.message.includes(e)||(t.message="".concat(t.message,' "').concat(e,'"')),this._errors[e].includes(t)||(t.path=e,this._errors[e].unshift(t)),t}GetErrors(e){return e&&e in this._errors?Array.from(this._errors[e]):[]}GetLastError(e){return e&&e in this._errors?this._errors[e][0]:void 0}HasErrors(e){return e&&e in this._errors}Find(e){return e in this._loadedObjects?this._loadedObjects[e]:null}Add(e,t){this._loadedObjects[e]=t}Has(e){return!!this._loadedObjects[e]}Remove(e){this._loadedObjects[e]&&Reflect.deleteProperty(this._loadedObjects,e)}Clear(e){for(var t in this._loadedObjects)this._loadedObjects.hasOwnProperty(t)&&(e&&e(this._loadedObjects[t]),this.Remove(t))}UnloadAndClear(e,t){this.Clear(r=>{r.Unload(t),e&&e(r)})}PurgeInactive(e,t,r){for(var i in this._loadedObjects)if(this._loadedObjects.hasOwnProperty(i)){var n=this._loadedObjects[i];if(n.doNotPurge)continue;if(n.IsPurged()){this.Remove(i);continue}var a=void 0;n.HasErrors()?a="errored":n.IsUnloaded()?a="unloaded":(n.IsLoaded()||n.IsPrepared())&&(e-n.activeFrame)%t>=r&&n.Unload({hide:!0,detail:"inactivity"})&&(a="inactivity"),a&&(n.OnPurged({detail:a}),this.Remove(i))}}}},"./core/engine/Tw2ResMan.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tw2ResMan",(function(){return f})),r.d(t,"ErrResourcePrefixUnregistered",(function(){return d})),r.d(t,"ErrResourcePrefixUndefined",(function(){return h})),r.d(t,"ErrResourceExtensionUnregistered",(function(){return m})),r.d(t,"ErrResourceExtensionUndefined",(function(){return p})),r.d(t,"ErrHTTPRequest",(function(){return b})),r.d(t,"ErrHTTPStatus",(function(){return v})),r.d(t,"ErrResourceFormatInvalid",(function(){return g})),r.d(t,"ErrResourceFormatUnsupported",(function(){return E}));var i=r("./core/engine/Tw2MotherLode.js"),n=r("./core/resource/Tw2LoadingObject.js"),a=r("./core/Tw2EventEmitter.js"),o=r("./core/Tw2Error.js"),s=r("./utils/index.js"),u=r("./global/tw2.js");function l(e,t,r,i,n,a,o){try{var s=e[a](o),u=s.value}catch(e){return void r(e)}s.done?t(u):Promise.resolve(u).then(i,n)}function c(e){return function(){var t=this,r=arguments;return new Promise((function(i,n){var a=e.apply(t,r);function o(e){l(a,i,n,o,s,"next",e)}function s(e){l(a,i,n,o,s,"throw",e)}o(void 0)}))}}class f extends a.Tw2EventEmitter{get pendingLoads(){return this._pendingLoads.length}constructor(e){super(),this.motherLode=new i.Tw2MotherLode,this.systemMirror=!1,this.maxPrepareTime=.05,this.autoPurgeResources=!0,this.activeFrame=0,this.purgeTime=30,this._prepareBudget=0,this._prepareQueue=[],this._purgeTime=0,this._purgeFrame=0,this._purgeFrameLimit=1e3,this._pendingLoads=[],this._noLoadFrames=0,this._eveSof=null,this.store=e}Register(e){e&&Object(s.assignIfExists)(this,e,["systemMirror","maxPrepareTime","autoPurgeResources","purgeTime"])}OnPathError(e,t=new o.Tw2Error({path:e})){e=f.NormalizePath(e);var r=this.motherLode.Find(e);return r?r.OnError(t):(this.OnPathEvent(e,"error",t),t)}OnPathEvent(e,t,r={}){var i=this.motherLode.Find(e),n=Object(s.isError)(r)?r:void 0;n&&(this.motherLode.AddError(e,n),r={err:n,message:n.message}),r.path=e,r.message=r.message||t,r.name="Resource manager",this.EmitEvent(t,e,i,n),u.logger.Add(f.LogType[t.toUpperCase()],r)}IsLoading(){return this._noLoadFrames<2}Clear(e){this.motherLode.Clear(e)}UnloadAndClear(e,t){this.motherLode.UnloadAndClear(e,t)}Tick(e){0===this._prepareQueue.length&&0===this._pendingLoads.length?this._noLoadFrames<2&&this._noLoadFrames++:this._noLoadFrames=0,this._prepareBudget=this.maxPrepareTime;for(var t=e.now;this._prepareQueue.length;){var r=this._prepareQueue[0][0],i=this._prepareQueue[0][1],n=this._prepareQueue[0][2];this._prepareQueue.shift();try{if(r.Prepare(i,n),this._prepareBudget-=.001*(e.now-t),this._prepareBudget<0)break}catch(e){this._prepareBudget=0,r.OnError(e)}}return this._purgeTime+=e.dt,this._purgeTime>1&&(this.activeFrame+=1,this._purgeTime-=Math.floor(this._purgeTime),this._purgeFrame+=1,this._purgeFrame>=5&&this.autoPurgeResources&&this.motherLode.PurgeInactive(this._purgeFrame,this._purgeFrameLimit,this.purgeTime)),!0}Queue(e,t,r){this._prepareQueue.push([e,t,r])}GetResource(e,t,r){var i;if(e=f.NormalizePath(e),i=this.motherLode.Find(e))return i.RegisterCallbacks(t,r),i;try{i=new(this.GetResourceConstructor(e))}catch(t){return this.OnPathError(e,t),r&&r(t),null}return i.path=e,i.RegisterCallbacks(t,r),this.LoadResource(i)}FetchResource(e){var t=this;return c((function*(){return new Promise((r,i)=>{t.GetResource(e,r,i)})}))()}GetObject(e,t,r){if(Object(s.isDNA)(e)){if(!this._eveSof)throw new ReferenceError("Eve sof not provided");return this._eveSof.FetchObject(e).then(t).catch(r)}e=f.NormalizePath(e);var i=this.motherLode.Find(e);i?i.AddObject(t,r):((i=new n.Tw2LoadingObject).path=e,i.AddObject(t,r),this.LoadResource(i))}FetchObject(e){var t=this;return c((function*(){if(Object(s.isDNA)(e)){if(!t._eveSof)throw new ReferenceError("Eve sof not provided");return t._eveSof.FetchObject(e)}return new Promise((r,i)=>{t.GetObject(e,r,i)})}))()}LoadResource(e,t){if(this.motherLode.Add(e.path,e),e.HasErrors())return e;try{var r=this.BuildUrl(e.path);if(e.OnRequested(t),e.DoCustomLoad&&e.DoCustomLoad(r,Object(s.getPathExtension)(r)))return e;e.HasErrors()||this.Fetch(r,e.requestResponseType).then(t=>{e.OnLoaded(),this.Queue(e,t)}).catch(t=>{e.OnError(t)})}catch(t){e.OnError(t)}return e}AddPendingLoad(e){this._pendingLoads.push(e)}RemovePendingLoad(e){var t=this._pendingLoads.indexOf(e);-1!==t&&this._pendingLoads.splice(t,1)}Fetch(e,t){var r=this;return c((function*(){return r.AddPendingLoad(e),fetch(e).then(e=>{if(!e.ok)throw e;if(Object(s.isFunction)(t))return t(e);switch(t){case"arraybuffer":return e.arrayBuffer();case"text":return e.text();case"json":return e.json();case"blob":return e.blob();default:throw new Error("Invalid fetch type: "+t)}}).then(t=>(r.RemovePendingLoad(e),t)).catch(t=>{if(r.RemovePendingLoad(e),t.text)return t.text().then(e=>{var r,{status:i,statusText:n}=t;try{n=(r=JSON.parse(e)).message||r.msg||r.error||r.err,Object(s.isBoolean)(n)&&(n=void 0)}catch(e){n="Failed to fetch resource"}throw new v({status:i,statusText:n,json:r})});throw t})}))()}GetResourceConstructor(e){if(0===(e=f.NormalizePath(e)).indexOf("dynamic:/"))throw new o.ErrFeatureNotImplemented({feature:"Dynamic resources"});var t=Object(s.getPathExtension)(e);if(null===t)throw new p({path:e});var r=this.store.extensions.Get(t);if(!r)throw new m({path:e,extension:t});return r}BuildUrl(e){var t=e.indexOf(":/");if(-1===t)throw new h({path:e});var r=e.substr(0,t);if("http"===r||"https"===r)return e;var i=this.store.paths.Get(r);if(!i)throw new d({path:e,prefix:r});return i+e.substr(t+2)}static NormalizePath(e){return e=(e=e.toLowerCase()).replace("\\","/")}}f.LogType={ERROR:"error",PURGED:"info",UNLOADED:"info",REQUESTED:"info",RELOADING:"info",LOADED:"info",PREPARED:"log",WARNING:"warn",DEBUG:"debug"};class d extends o.Tw2Error{constructor(e){super(e,"Unregistered resource prefix (%prefix%)")}}class h extends o.Tw2Error{constructor(e){super(e,"Undefined resource prefix")}}class m extends o.Tw2Error{constructor(e){super(e,"Unregistered resource extension (%extension%)")}}class p extends o.Tw2Error{constructor(e){super(e,"Undefined resource extension")}}class b extends o.Tw2Error{constructor(e){super(e,"Communication error while requesting resource")}}class v extends o.Tw2Error{constructor(e){super(e,"%statusText=Communication status error while loading resource% (%status%)")}}class g extends o.Tw2Error{constructor(e){super(e,"Invalid resource format: %format% (%reason%)")}}class E extends o.Tw2Error{constructor(e){super(e,"Unsupported resource format: %format%")}}},"./core/engine/Tw2Store.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tw2Store",(function(){return n}));var i=r("./core/store/index.js");class n{constructor(e){this.variableTypes=new i.Tw2VariableTypeStore,this.variables=new i.Tw2VariableStore(this.variableTypes),this.paths=new i.Tw2ResourcePathStore,this.dynamicPaths=new i.Tw2ResourceDynamicPathStore,this.extensions=new i.Tw2ResourceExtensionStore,this.constructors=new i.Tw2ConstructorStore(e)}SetDebugMode(e){this.constructors.SetDebugMode(e)}Register(e){e&&(e.variableTypes&&this.variableTypes.Register(e.variableTypes),e.constructors&&this.constructors.Register(e.constructors),e.variables&&this.variables.Register(e.variables),e.paths&&this.paths.Register(e.paths),e.dynamicPaths&&this.dynamicPaths.Register(e.dynamicPaths),e.extensions&&this.extensions.Register(e.extensions))}}},"./core/engine/index.js":function(e,t,r){"use strict";r.r(t);var i=r("./core/engine/Tw2Device.js");r.d(t,"Tw2Device",(function(){return i.Tw2Device})),r.d(t,"ErrWebglContext",(function(){return i.ErrWebglContext})),r.d(t,"ErrWebxrNotSupported",(function(){return i.ErrWebxrNotSupported})),r.d(t,"ErrWebxrDeviceNotFound",(function(){return i.ErrWebxrDeviceNotFound})),r.d(t,"ErrWebxrRequestFailed",(function(){return i.ErrWebxrRequestFailed})),r.d(t,"ErrWebxrSessionNotSupported",(function(){return i.ErrWebxrSessionNotSupported}));var n=r("./core/engine/Tw2Logger.js");r.d(t,"Tw2Logger",(function(){return n.Tw2Logger}));var a=r("./core/engine/Tw2MotherLode.js");r.d(t,"Tw2MotherLode",(function(){return a.Tw2MotherLode}));var o=r("./core/engine/Tw2ResMan.js");r.d(t,"Tw2ResMan",(function(){return o.Tw2ResMan})),r.d(t,"ErrResourcePrefixUnregistered",(function(){return o.ErrResourcePrefixUnregistered})),r.d(t,"ErrResourcePrefixUndefined",(function(){return o.ErrResourcePrefixUndefined})),r.d(t,"ErrResourceExtensionUnregistered",(function(){return o.ErrResourceExtensionUnregistered})),r.d(t,"ErrResourceExtensionUndefined",(function(){return o.ErrResourceExtensionUndefined})),r.d(t,"ErrHTTPRequest",(function(){return o.ErrHTTPRequest})),r.d(t,"ErrHTTPStatus",(function(){return o.ErrHTTPStatus})),r.d(t,"ErrResourceFormatInvalid",(function(){return o.ErrResourceFormatInvalid})),r.d(t,"ErrResourceFormatUnsupported",(function(){return o.ErrResourceFormatUnsupported}));var s=r("./core/engine/Tw2Library.js");r.d(t,"Tw2Library",(function(){return s.Tw2Library}));var u=r("./core/engine/Tw2Store.js");r.d(t,"Tw2Store",(function(){return u.Tw2Store}))},"./core/geometry/Tw2BlendShapeData.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tw2BlendShapeData",(function(){return y}));var i,n,a,o,s,u,l,c,f,d,h,m,p,b=r("./utils/index.js"),v=r("./core/vertex/index.js");function g(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function E(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var y=(i=b.meta.ctor("Tw2BlendShapeData"),n=b.meta.string,a=b.meta.struct("Tw2VertexDeclaration"),o=b.meta.vector,s=b.meta.unknown,u=b.meta.unknown,i((f=E((c=class{constructor(){g(this,"name",f,this),g(this,"declaration",d,this),g(this,"buffers",h,this),g(this,"indexes",m,this),g(this,"weightProxy",p,this)}}).prototype,"name",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),d=E(c.prototype,"declaration",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new v.Tw2VertexDeclaration}}),h=E(c.prototype,"buffers",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),m=E(c.prototype,"indexes",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),p=E(c.prototype,"weightProxy",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),l=c))||l)},"./core/geometry/Tw2GeometryAnimation.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tw2GeometryAnimation",(function(){return p}));var i,n,a,o,s,u,l,c,f,d=r("./utils/index.js");function h(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function m(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var p=(i=d.meta.ctor("Tw2GeometryAnimation"),n=d.meta.string,a=d.meta.float,o=d.meta.list("Tw2GeometryTrackGroup"),i((l=m((u=class{constructor(){h(this,"name",l,this),h(this,"duration",c,this),h(this,"trackGroups",f,this)}}).prototype,"name",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),c=m(u.prototype,"duration",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),f=m(u.prototype,"trackGroups",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),s=u))||s)},"./core/geometry/Tw2GeometryBone.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tw2GeometryBone",(function(){return O}));var i,n,a,o,s,u,l,c,f,d,h,m,p,b,v,g,E,y,T,S,w,_=r("./utils/index.js"),R=r("./math/index.js");function j(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function A(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var O=(i=_.meta.ctor("Tw2GeometryBone"),n=_.meta.string,a=_.meta.uint,o=_.meta.vector3,s=_.meta.quaternion,u=_.meta.matrix4,l=_.meta.matrix4,c=_.meta.matrix4,f=_.meta.matrix4,i((w=S=class e{constructor(){j(this,"name",m,this),j(this,"parentIndex",p,this),j(this,"position",b,this),j(this,"orientation",v,this),j(this,"scaleShear",g,this),j(this,"localTransform",E,this),j(this,"worldTransform",y,this),j(this,"worldTransformInv",T,this)}UpdateTransform(){R.mat4.fromMat3(this.localTransform,this.scaleShear),R.quat.normalize(this.orientation,this.orientation);var t=R.mat4.fromQuat(e.global.mat4_0,this.orientation);return R.mat4.multiply(this.localTransform,this.localTransform,t),this.localTransform[12]=this.position[0],this.localTransform[13]=this.position[1],this.localTransform[14]=this.position[2],this.localTransform}},S.global={mat4_0:R.mat4.create()},m=A((h=w).prototype,"name",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),p=A(h.prototype,"parentIndex",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return-1}}),b=A(h.prototype,"position",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return R.vec3.create()}}),v=A(h.prototype,"orientation",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return R.quat.create()}}),g=A(h.prototype,"scaleShear",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return R.mat3.create()}}),E=A(h.prototype,"localTransform",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return R.mat4.create()}}),y=A(h.prototype,"worldTransform",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return R.mat4.create()}}),T=A(h.prototype,"worldTransformInv",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return R.mat4.create()}}),d=h))||d)},"./core/geometry/Tw2GeometryCurve.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tw2GeometryCurve",(function(){return v}));var i,n,a,o,s,u,l,c,f,d,h,m=r("./utils/index.js");function p(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function b(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var v=(i=m.meta.ctor("Tw2GeometryCurve"),n=m.meta.float,a=m.meta.float,o=m.meta.vector,s=m.meta.vector,i((c=b((l=class{constructor(){p(this,"dimension",c,this),p(this,"degree",f,this),p(this,"knots",d,this),p(this,"controls",h,this)}}).prototype,"dimension",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),f=b(l.prototype,"degree",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),d=b(l.prototype,"knots",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),h=b(l.prototype,"controls",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),u=l))||u)},"./core/geometry/Tw2GeometryMesh.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tw2GeometryMesh",(function(){return U}));var i,n,a,o,s,u,l,c,f,d,h,m,p,b,v,g,E,y,T,S,w,_,R,j,A,O,z,P,x,C,D,M,L,I=r("./utils/index.js"),F=r("./math/index.js"),G=r("./core/vertex/index.js");r("./core/geometry/Tw2GeometryMeshArea.js");function N(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function B(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var U=(i=I.meta.ctor("Tw2GeometryMesh"),n=I.meta.string,a=I.meta.struct("Tw2VertexDeclaration"),o=I.meta.list("Tw2GeometryMeshArea"),s=I.meta.vector,u=I.meta.uint,l=I.meta.struct("WebGLBuffer"),c=I.meta.struct("WebGLBuffer"),f=I.meta.vector,d=I.meta.uint,h=I.meta.vector3,m=I.meta.vector3,p=I.meta.vector3,b=I.meta.float,v=I.meta.list("Tw2GeometryBone"),g=I.meta.list("String"),i((T=B((y=class e{constructor(){N(this,"name",T,this),N(this,"declaration",S,this),N(this,"areas",w,this),N(this,"buffer",_,this),N(this,"bufferLength",R,this),N(this,"bufferData",j,this),N(this,"indexes",A,this),N(this,"indexData",O,this),N(this,"indexType",z,this),N(this,"minBounds",P,this),N(this,"maxBounds",x,this),N(this,"boundsSpherePosition",C,this),N(this,"boundsSphereRadius",D,this),N(this,"bones",M,this),N(this,"boneBindings",L,this),this._faces=0,this._vertices=0,this._areas=0}GetBoundingBox(e,t){return F.box3.fromBounds(e,this.minBounds,this.maxBounds),t&&F.box3.transformMat4(e,e,t),!0}GetBoundingSphere(e,t){return F.sph3.fromPositionRadius(e,this.boundsSpherePosition,this.boundsSphereRadius),t&&F.sph3.transformMat4(e,e,t),!0}RebuildBounds(e){var t=this.minBounds,r=this.maxBounds;F.box3.bounds.empty(t,r);for(var i=0;i<this.areas.length;i++){var n=this.areas[i];this.RebuildAreaBounds(n,this.bufferData,this.indexData,e),F.box3.bounds.union(t,r,t,r,n.minBounds,n.maxBounds)}this.boundsSphereRadius=F.box3.bounds.toPositionRadius(t,r,this.boundsSpherePosition)}RebuildAreaBounds(t,r,i,n){if(!n||!r||!i)return!1;var a=this.declaration.FindUsage(0,0);if(!a)return!1;var o=this.declaration.stride/4,s=a.offset,u=e.GetBoundsFromVertices(F.box3.create(),t.start,t.count,o,s,r,i);return F.box3.toBounds(u,t.minBounds,t.maxBounds),t.boundsSphereRadius=F.box3.toPositionRadius(u,t.boundsSpherePosition),!0}static GetFaceVertexIndices(e,t,r){if(t>=r.length/3)throw new Error("Invalid index: "+t);for(var i=0;i<3;i++)e[i]=r[3*t+i];return e}static GetVertexPosition(e,t,r,i,n){if(!Object(I.isNumber)(t)||t>n.length/r)throw new Error("Invalid vertex index: "+t);var a=t*r;return F.vec3.set(e,n[a+i],n[a+i+1],n[a+i+2])}static GetBoundsFromVertices(e,t,r,i,n,a,o){r/=3,t=t/3/o.BYTES_PER_ELEMENT;var s=[],u=F.vec3.create(),l=F.vec3.create();F.box3.empty(e);for(var c=0;c<r;c++){this.GetFaceVertexIndices(u,c+t,o);for(var f=0;f<3;f++)s.includes(u[f])||(s.push(u[f]),this.GetVertexPosition(l,u[f],i,n,a),F.box3.addPoint(e,e,l))}return e}}).prototype,"name",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),S=B(y.prototype,"declaration",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new G.Tw2VertexDeclaration}}),w=B(y.prototype,"areas",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),_=B(y.prototype,"buffer",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),R=B(y.prototype,"bufferLength",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),j=B(y.prototype,"bufferData",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),A=B(y.prototype,"indexes",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),O=B(y.prototype,"indexData",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),z=B(y.prototype,"indexType",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),P=B(y.prototype,"minBounds",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return F.vec3.fromValues(0,0,0)}}),x=B(y.prototype,"maxBounds",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return F.vec3.fromValues(0,0,0)}}),C=B(y.prototype,"boundsSpherePosition",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return F.vec3.create()}}),D=B(y.prototype,"boundsSphereRadius",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),M=B(y.prototype,"bones",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),L=B(y.prototype,"boneBindings",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),E=y))||E)},"./core/geometry/Tw2GeometryMeshArea.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tw2GeometryMeshArea",(function(){return _}));var i,n,a,o,s,u,l,c,f,d,h,m,p,b,v,g,E,y=r("./utils/index.js"),T=r("./math/index.js");function S(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function w(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var _=(i=y.meta.ctor("Tw2GeometryMeshArea"),n=y.meta.string,a=y.meta.uint,o=y.meta.uint,s=y.meta.vector3,u=y.meta.vector3,l=y.meta.vector3,c=y.meta.float,i((h=w((d=class{constructor(){S(this,"name",h,this),S(this,"start",m,this),S(this,"count",p,this),S(this,"minBounds",b,this),S(this,"maxBounds",v,this),S(this,"boundsSpherePosition",g,this),S(this,"boundsSphereRadius",E,this)}GetBoundingBox(e,t){return T.box3.fromBounds(e,this.minBounds,this.maxBounds),t&&T.box3.transformMat4(e,e,t),!0}GetBoundingSphere(e,t){return T.sph3.fromPositionRadius(e,this.boundsSpherePosition,this.boundsSphereRadius),t&&T.sph3.transformMat4(e,e,t),!0}}).prototype,"name",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),m=w(d.prototype,"start",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),p=w(d.prototype,"count",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),b=w(d.prototype,"minBounds",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return T.vec3.fromValues(0,0,0)}}),v=w(d.prototype,"maxBounds",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return T.vec3.fromValues(0,0,0)}}),g=w(d.prototype,"boundsSpherePosition",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return T.vec3.create()}}),E=w(d.prototype,"boundsSphereRadius",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),f=d))||f)},"./core/geometry/Tw2GeometryMeshBinding.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tw2GeometryMeshBinding",(function(){return h}));var i,n,a,o,s,u,l,c=r("./utils/index.js");function f(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function d(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var h=(i=c.meta.ctor("Tw2GeometryMeshBinding"),n=c.meta.struct("Tw2GeometryMesh"),a=c.meta.list("Tw2GeometryBone"),i((u=d((s=class{constructor(){f(this,"mesh",u,this),f(this,"bones",l,this)}}).prototype,"mesh",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),l=d(s.prototype,"bones",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),o=s))||o)},"./core/geometry/Tw2GeometryModel.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tw2GeometryModel",(function(){return p}));var i,n,a,o,s,u,l,c,f,d=r("./utils/index.js");function h(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function m(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var p=(i=d.meta.ctor("Tw2GeometryModel"),n=d.meta.string,a=d.meta.list("Tw2GeometryMeshBinding"),o=d.meta.struct("Tw2GeometrySkeleton"),i((l=m((u=class{constructor(){h(this,"name",l,this),h(this,"meshBindings",c,this),h(this,"skeleton",f,this)}FindBoneByName(e){if(!this.skeleton)return null;for(var t=0;t<this.skeleton.bones.length;++t)if(this.skeleton.bones[t].name===e)return this.skeleton.bones[t];return null}}).prototype,"name",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),c=m(u.prototype,"meshBindings",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),f=m(u.prototype,"skeleton",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),s=u))||s)},"./core/geometry/Tw2GeometrySkeleton.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tw2GeometrySkeleton",(function(){return b}));var i,n,a,o,s,u,l=r("./utils/index.js");var c,f,d,h,m,p,b=(i=l.meta.ctor("Tw2GeometrySkeleton"),n=l.meta.list("Tw2GeometryBone"),i((u=class{constructor(){var e,t,r,i;e=this,t="bones",i=this,(r=s)&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}},c=(o=u).prototype,f="bones",d=[n],h={configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}},p={},Object.keys(h).forEach((function(e){p[e]=h[e]})),p.enumerable=!!p.enumerable,p.configurable=!!p.configurable,("value"in p||p.initializer)&&(p.writable=!0),p=d.slice().reverse().reduce((function(e,t){return t(c,f,e)||e}),p),m&&void 0!==p.initializer&&(p.value=p.initializer?p.initializer.call(m):void 0,p.initializer=void 0),void 0===p.initializer&&(Object.defineProperty(c,f,p),p=null),s=p,a=o))||a)},"./core/geometry/Tw2GeometryTrackGroup.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tw2GeometryTrackGroup",(function(){return p}));var i,n,a,o,s,u,l,c,f,d=r("./utils/index.js");function h(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function m(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var p=(i=d.meta.ctor("Tw2GeometryTrackGroup"),n=d.meta.string,a=d.meta.struct("Tw2GeometryModel"),o=d.meta.list("Tw2GeometryTransformTrack"),i((l=m((u=class{constructor(){h(this,"name",l,this),h(this,"model",c,this),h(this,"transformTracks",f,this)}}).prototype,"name",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),c=m(u.prototype,"model",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),f=m(u.prototype,"transformTracks",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),s=u))||s)},"./core/geometry/Tw2GeometryTransformTrack.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tw2GeometryTransformTrack",(function(){return v}));var i,n,a,o,s,u,l,c,f,d,h,m=r("./utils/index.js");function p(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function b(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var v=(i=m.meta.ctor("Tw2GeometryTransformTrack"),n=m.meta.string,a=m.meta.struct("Tw2GeometryCurve"),o=m.meta.struct("Tw2GeometryCurve"),s=m.meta.unknown,i((c=b((l=class{constructor(){p(this,"name",c,this),p(this,"position",f,this),p(this,"orientation",d,this),p(this,"scaleShear",h,this)}}).prototype,"name",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),f=b(l.prototype,"position",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),d=b(l.prototype,"orientation",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),h=b(l.prototype,"scaleShear",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),u=l))||u)},"./core/geometry/index.js":function(e,t,r){"use strict";r.r(t);var i=r("./core/geometry/Tw2BlendShapeData.js");r.d(t,"Tw2BlendShapeData",(function(){return i.Tw2BlendShapeData}));var n=r("./core/geometry/Tw2GeometryAnimation.js");r.d(t,"Tw2GeometryAnimation",(function(){return n.Tw2GeometryAnimation}));var a=r("./core/geometry/Tw2GeometryBone.js");r.d(t,"Tw2GeometryBone",(function(){return a.Tw2GeometryBone}));var o=r("./core/geometry/Tw2GeometryCurve.js");r.d(t,"Tw2GeometryCurve",(function(){return o.Tw2GeometryCurve}));var s=r("./core/geometry/Tw2GeometryMesh.js");r.d(t,"Tw2GeometryMesh",(function(){return s.Tw2GeometryMesh}));var u=r("./core/geometry/Tw2GeometryMeshArea.js");r.d(t,"Tw2GeometryMeshArea",(function(){return u.Tw2GeometryMeshArea}));var l=r("./core/geometry/Tw2GeometryMeshBinding.js");r.d(t,"Tw2GeometryMeshBinding",(function(){return l.Tw2GeometryMeshBinding}));var c=r("./core/geometry/Tw2GeometryModel.js");r.d(t,"Tw2GeometryModel",(function(){return c.Tw2GeometryModel}));var f=r("./core/geometry/Tw2GeometrySkeleton.js");r.d(t,"Tw2GeometrySkeleton",(function(){return f.Tw2GeometrySkeleton}));var d=r("./core/geometry/Tw2GeometryTrackGroup.js");r.d(t,"Tw2GeometryTrackGroup",(function(){return d.Tw2GeometryTrackGroup}));var h=r("./core/geometry/Tw2GeometryTransformTrack.js");r.d(t,"Tw2GeometryTransformTrack",(function(){return h.Tw2GeometryTransformTrack}))},"./core/index.js":function(e,t,r){"use strict";r.r(t);var i=r("./core/batch/index.js");r.d(t,"Tw2BatchAccumulator",(function(){return i.Tw2BatchAccumulator})),r.d(t,"Tw2ForwardingRenderBatch",(function(){return i.Tw2ForwardingRenderBatch})),r.d(t,"Tw2GeometryBatch",(function(){return i.Tw2GeometryBatch})),r.d(t,"Tw2GeometryLineBatch",(function(){return i.Tw2GeometryLineBatch})),r.d(t,"Tw2RenderBatch",(function(){return i.Tw2RenderBatch})),r.d(t,"Tw2InstancedMeshBatch",(function(){return i.Tw2InstancedMeshBatch}));var n=r("./core/data/index.js");r.d(t,"Tw2PerObjectData",(function(){return n.Tw2PerObjectData})),r.d(t,"Tw2RawData",(function(){return n.Tw2RawData})),r.d(t,"ErrRawDataElementNotFound",(function(){return n.ErrRawDataElementNotFound}));var a=r("./core/engine/index.js");r.d(t,"Tw2Device",(function(){return a.Tw2Device})),r.d(t,"ErrWebglContext",(function(){return a.ErrWebglContext})),r.d(t,"ErrWebxrNotSupported",(function(){return a.ErrWebxrNotSupported})),r.d(t,"ErrWebxrDeviceNotFound",(function(){return a.ErrWebxrDeviceNotFound})),r.d(t,"ErrWebxrRequestFailed",(function(){return a.ErrWebxrRequestFailed})),r.d(t,"ErrWebxrSessionNotSupported",(function(){return a.ErrWebxrSessionNotSupported})),r.d(t,"Tw2Logger",(function(){return a.Tw2Logger})),r.d(t,"Tw2MotherLode",(function(){return a.Tw2MotherLode})),r.d(t,"Tw2ResMan",(function(){return a.Tw2ResMan})),r.d(t,"ErrResourcePrefixUnregistered",(function(){return a.ErrResourcePrefixUnregistered})),r.d(t,"ErrResourcePrefixUndefined",(function(){return a.ErrResourcePrefixUndefined})),r.d(t,"ErrResourceExtensionUnregistered",(function(){return a.ErrResourceExtensionUnregistered})),r.d(t,"ErrResourceExtensionUndefined",(function(){return a.ErrResourceExtensionUndefined})),r.d(t,"ErrHTTPRequest",(function(){return a.ErrHTTPRequest})),r.d(t,"ErrHTTPStatus",(function(){return a.ErrHTTPStatus})),r.d(t,"ErrResourceFormatInvalid",(function(){return a.ErrResourceFormatInvalid})),r.d(t,"ErrResourceFormatUnsupported",(function(){return a.ErrResourceFormatUnsupported})),r.d(t,"Tw2Library",(function(){return a.Tw2Library})),r.d(t,"Tw2Store",(function(){return a.Tw2Store}));var o=r("./core/geometry/index.js");r.d(t,"Tw2BlendShapeData",(function(){return o.Tw2BlendShapeData})),r.d(t,"Tw2GeometryAnimation",(function(){return o.Tw2GeometryAnimation})),r.d(t,"Tw2GeometryBone",(function(){return o.Tw2GeometryBone})),r.d(t,"Tw2GeometryCurve",(function(){return o.Tw2GeometryCurve})),r.d(t,"Tw2GeometryMesh",(function(){return o.Tw2GeometryMesh})),r.d(t,"Tw2GeometryMeshArea",(function(){return o.Tw2GeometryMeshArea})),r.d(t,"Tw2GeometryMeshBinding",(function(){return o.Tw2GeometryMeshBinding})),r.d(t,"Tw2GeometryModel",(function(){return o.Tw2GeometryModel})),r.d(t,"Tw2GeometrySkeleton",(function(){return o.Tw2GeometrySkeleton})),r.d(t,"Tw2GeometryTrackGroup",(function(){return o.Tw2GeometryTrackGroup})),r.d(t,"Tw2GeometryTransformTrack",(function(){return o.Tw2GeometryTransformTrack}));var s=r("./core/mesh/index.js");r.d(t,"Tw2Effect",(function(){return s.Tw2Effect})),r.d(t,"Tw2InstancedMesh",(function(){return s.Tw2InstancedMesh})),r.d(t,"Tw2Mesh",(function(){return s.Tw2Mesh})),r.d(t,"Tw2MeshArea",(function(){return s.Tw2MeshArea})),r.d(t,"Tw2MeshLineArea",(function(){return s.Tw2MeshLineArea}));var u=r("./core/model/index.js");r.d(t,"Tw2Animation",(function(){return u.Tw2Animation})),r.d(t,"Tw2AnimationController",(function(){return u.Tw2AnimationController})),r.d(t,"Tw2Bone",(function(){return u.Tw2Bone})),r.d(t,"Tw2BoneBinding",(function(){return u.Tw2BoneBinding})),r.d(t,"Tw2MeshBinding",(function(){return u.Tw2MeshBinding})),r.d(t,"Tw2Model",(function(){return u.Tw2Model})),r.d(t,"Tw2Track",(function(){return u.Tw2Track})),r.d(t,"Tw2TrackGroup",(function(){return u.Tw2TrackGroup}));var l=r("./core/parameter/index.js");r.d(t,"Tw2Parameter",(function(){return l.Tw2Parameter})),r.d(t,"Tw2FloatParameter",(function(){return l.Tw2FloatParameter})),r.d(t,"Tw2Matrix4Parameter",(function(){return l.Tw2Matrix4Parameter})),r.d(t,"Tw2MatrixParameter",(function(){return l.Tw2MatrixParameter})),r.d(t,"Tw2TransformParameter",(function(){return l.Tw2TransformParameter})),r.d(t,"Tw2VariableParameter",(function(){return l.Tw2VariableParameter})),r.d(t,"Tw2Vector2Parameter",(function(){return l.Tw2Vector2Parameter})),r.d(t,"Tw2Vector3Parameter",(function(){return l.Tw2Vector3Parameter})),r.d(t,"Tw2Vector4Parameter",(function(){return l.Tw2Vector4Parameter})),r.d(t,"Tw2TextureParameter",(function(){return l.Tw2TextureParameter}));var c=r("./core/post/index.js");r.d(t,"Tw2PostEffect",(function(){return c.Tw2PostEffect})),r.d(t,"Tw2PostEffectManager",(function(){return c.Tw2PostEffectManager})),r.d(t,"Tw2PostEffectStep",(function(){return c.Tw2PostEffectStep}));var f=r("./core/reader/index.js");r.d(t,"Tw2BinaryReader",(function(){return f.Tw2BinaryReader})),r.d(t,"Tw2BlackReader",(function(){return f.Tw2BlackReader})),r.d(t,"ErrBinaryFormat",(function(){return f.ErrBinaryFormat})),r.d(t,"ErrBinaryObjectTypeNotFound",(function(){return f.ErrBinaryObjectTypeNotFound})),r.d(t,"Tw2ObjectReader",(function(){return f.Tw2ObjectReader})),r.d(t,"Tw2CakeReader",(function(){return f.Tw2CakeReader}));var d=r("./core/resource/index.js");r.d(t,"Tw2EffectRes",(function(){return d.Tw2EffectRes})),r.d(t,"ErrShaderVersion",(function(){return d.ErrShaderVersion})),r.d(t,"ErrShaderHeaderSize",(function(){return d.ErrShaderHeaderSize})),r.d(t,"ErrShaderPermutationValue",(function(){return d.ErrShaderPermutationValue})),r.d(t,"Tw2GeometryRes",(function(){return d.Tw2GeometryRes})),r.d(t,"ErrGeometryMeshMissingParticleElement",(function(){return d.ErrGeometryMeshMissingParticleElement})),r.d(t,"ErrGeometryMeshElementComponentsMissing",(function(){return d.ErrGeometryMeshElementComponentsMissing})),r.d(t,"ErrGeometryMeshAreaMissing",(function(){return d.ErrGeometryMeshAreaMissing})),r.d(t,"ErrGeometryMeshBoneNameInvalid",(function(){return d.ErrGeometryMeshBoneNameInvalid})),r.d(t,"ErrGeometryMeshEffectBinding",(function(){return d.ErrGeometryMeshEffectBinding})),r.d(t,"ErrGeometryFileType",(function(){return d.ErrGeometryFileType})),r.d(t,"Tw2LoadingObject",(function(){return d.Tw2LoadingObject})),r.d(t,"Tw2Resource",(function(){return d.Tw2Resource})),r.d(t,"Tw2Shader",(function(){return d.Tw2Shader})),r.d(t,"ErrShaderCompile",(function(){return d.ErrShaderCompile})),r.d(t,"ErrShaderLink",(function(){return d.ErrShaderLink})),r.d(t,"Tw2TextureRes",(function(){return d.Tw2TextureRes})),r.d(t,"Tw2VideoRes",(function(){return d.Tw2VideoRes}));var h=r("./core/sampler/index.js");r.d(t,"Tw2SamplerState",(function(){return h.Tw2SamplerState})),r.d(t,"Tw2SamplerOverride",(function(){return h.Tw2SamplerOverride}));var m=r("./core/store/index.js");r.d(t,"Tw2GenericStore",(function(){return m.Tw2GenericStore})),r.d(t,"Tw2ConstructorStore",(function(){return m.Tw2ConstructorStore})),r.d(t,"Tw2VariableTypeStore",(function(){return m.Tw2VariableTypeStore})),r.d(t,"ErrStoreVariableTypeNotFoundByValue",(function(){return m.ErrStoreVariableTypeNotFoundByValue})),r.d(t,"Tw2VariableStore",(function(){return m.Tw2VariableStore})),r.d(t,"Tw2ResourcePathStore",(function(){return m.Tw2ResourcePathStore})),r.d(t,"ErrStorePathUndefined",(function(){return m.ErrStorePathUndefined})),r.d(t,"Tw2ResourceDynamicPathStore",(function(){return m.Tw2ResourceDynamicPathStore})),r.d(t,"Tw2ResourceExtensionStore",(function(){return m.Tw2ResourceExtensionStore}));var p=r("./core/value/index.js");r.d(t,"Tw2Float",(function(){return p.Tw2Float}));var b=r("./core/vertex/index.js");r.d(t,"Tw2VertexDeclaration",(function(){return b.Tw2VertexDeclaration})),r.d(t,"Tw2VertexElement",(function(){return b.Tw2VertexElement}));var v=r("./core/Tw2RuntimeInstanceData.js");r.d(t,"Tw2RuntimeInstanceData",(function(){return v.Tw2RuntimeInstanceData}));var g=r("./core/Tw2Frustum.js");r.d(t,"Tw2Frustum",(function(){return g.Tw2Frustum}));var E=r("./core/Tw2RenderTarget.js");r.d(t,"Tw2RenderTarget",(function(){return E.Tw2RenderTarget}));var y=r("./core/Tw2Transform.js");r.d(t,"Tw2Transform",(function(){return y.Tw2Transform}));var T=r("./core/Tw2EventEmitter.js");r.d(t,"Tw2EventEmitter",(function(){return T.Tw2EventEmitter}));var S=r("./core/Tw2Error.js");r.d(t,"Tw2Error",(function(){return S.Tw2Error})),r.d(t,"ErrFeatureNotImplemented",(function(){return S.ErrFeatureNotImplemented})),r.d(t,"ErrIndexBounds",(function(){return S.ErrIndexBounds})),r.d(t,"ErrWrapped",(function(){return S.ErrWrapped}))},"./core/mesh/Tw2Effect.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tw2Effect",(function(){return M}));var i,n,a,o,s,u,l,c,f,d,h,m,p,b,v,g,E,y,T,S,w,_,R,j,A=r("./utils/index.js"),O=r("./global/index.js"),z=r("./core/parameter/Tw2TextureParameter.js"),P=r("./core/parameter/Tw2Vector4Parameter.js"),x=r("./core/reader/Tw2BlackPropertyReaders.js");function C(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function D(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var M=(i=A.meta.ctor("Tw2Effect"),n=A.meta.stage(1),a=A.meta.string,o=A.meta.path,s=A.meta.struct("Tw2EffectRes"),u=A.meta.isPrivate,l=A.meta.isPrivate,c=A.meta.notImplemented,f=A.meta.notImplemented,d=A.meta.struct("Tw2Shader"),h=A.meta.isPrivate,m=A.meta.boolean,i(p=n((j=R=class e extends A.meta.Model{constructor(...e){super(...e),C(this,"name",v,this),C(this,"effectFilePath",g,this),C(this,"effectRes",E,this),this.parameters={},C(this,"techniques",y,this),C(this,"samplerOverrides",T,this),C(this,"options",S,this),C(this,"shader",w,this),C(this,"autoParameter",_,this)}Initialize(){if(""!==this.effectFilePath){this.effectFilePath=this.effectFilePath.toLowerCase();var t=e.ToEffectResPath(this.effectFilePath);this.effectRes=O.resMan.GetResource(t,e=>this.OnResPrepared(e))}}FindParameter(e){return this.parameters[e]||null}OnValueChanged(e){this.BindParameters()}IsGood(){return this.KeepAlive(),null!==this.shader}KeepAlive(){for(var e=this.GetResources(),t=0;t<e.length;t++)e[t].KeepAlive()}GetResources(e=[]){for(var t in this.effectRes&&!e.includes(this.effectRes)&&e.push(this.effectRes),this.parameters)this.parameters.hasOwnProperty(t)&&"GetResources"in this.parameters[t]&&this.parameters[t].GetResources(e);return e}OnResPrepared(e){return this.effectRes=e,this.shader=e.GetShader(this.options),this.BindParameters(),this.EmitEvent("loaded",{effect:this,shader:this.shader,resource:e}),!0}UnBindParameters(){for(var e in this.techniques)if(this.techniques.hasOwnProperty(e)){for(var t=this.techniques[e],r=0;r<t.length;++r)for(var i=0;i<t[r].stages.length;++i)for(var n=0;n<t[r].stages[i].reroutedParameters.length;++n)t[r].stages[i].reroutedParameters[n].Unbind();Reflect.deleteProperty(this.techniques,e)}}BindParameters(){if(this.UnBindParameters(),!this.IsGood())return!1;var{variables:t}=O.store;for(var r in this.shader.techniques)if(this.shader.techniques.hasOwnProperty(r)){for(var i=this.shader.techniques[r],n=[],a=0;a<i.passes.length;++a){var o=[];o.stages=[];for(var s=0;s<i.passes[a].stages.length;++s){var u=i.passes[a].stages[s],l={};l.constantBuffer=new Float32Array(u.constantSize),l.reroutedParameters=[],l.parameters=[],l.textures=[],l.constantBuffer.set(u.constantValues);for(var c=0;c<u.constants.length;++c){var f=u.constants[c],{name:d,Type:h}=f;if(!e.ConstantIgnore.includes(d))if(d in this.parameters){var m=this.parameters[d];m.Bind(l.constantBuffer,f.offset,f.size)?l.reroutedParameters.push(m):l.parameters.push({parameter:m,constantBuffer:l.constantBuffer,offset:f.offset,size:f.size})}else if(t.Has(d))l.parameters.push({parameter:t.Get(d),constantBuffer:l.constantBuffer,offset:f.offset,size:f.size});else if(f.isAutoregister&&h){var p=t.Create(d,void 0,h);p&&l.parameters.push({parameter:p,constantBuffer:l.constantBuffer,offset:f.offset,size:f.size})}else if(this.autoParameter&&1===f.elements){var b=l.constantBuffer.subarray(f.offset,f.offset+f.size);0===b.length?b=void 0:1===b.length&&(b=b[0]);var v=t.Create(d,b,h);v&&(this.parameters[d]=v,v.Bind(l.constantBuffer,f.offset,f.size)?l.reroutedParameters.push(v):l.parameter.push({parameter:v,constantBuffer:l.constantBuffer,offset:f.offset,size:f.size}))}}for(var g=0;g<u.textures.length;++g){var E=u.textures[g].name,y=null;if(E in this.parameters)y=this.parameters[E];else if(t.Has(E))y=t.Get(E);else if(u.textures[g].isAutoregister)y=t.Create(E,void 0,z.Tw2TextureParameter);else{if(!this.autoParameter)continue;y=this.parameters[E]=new z.Tw2TextureParameter(E)}for(var T={parameter:y,slot:u.textures[g].registerIndex,sampler:null},S=0;S<u.samplers.length;++S)if(u.samplers[S].registerIndex===T.slot){u.samplers[S].name in this.samplerOverrides?T.sampler=this.samplerOverrides[u.samplers[S].name].GetSampler(O.device,u.samplers[S]):T.sampler=u.samplers[S];break}0===s&&(T.slot+=12),l.textures.push(T)}o.stages.push(l)}n.push(o)}this.techniques[r]=n}return O.device.effectObserver&&O.device.effectObserver.OnEffectChanged(this),this.autoParameter=!1,!0}ApplyPass(e,t){if(this.IsGood()&&e in this.techniques&&!(t>=this.techniques[e].length)){this.shader.ApplyPass(e,t);for(var r=this.techniques[e][t],i=this.shader.techniques[e].passes[t],n=O.device,a=n.gl,o=n.IsAlphaTestEnabled()&&i.shadowShaderProgram?i.shadowShaderProgram:i.shaderProgram,s=0;s<2;++s){for(var u=r.stages[s],l=0;l<u.parameters.length;++l){var c=u.parameters[l];c.parameter.Apply(c.constantBuffer,c.offset,c.size)}for(var f=0;f<u.textures.length;++f){var d=u.textures[f];d.parameter.Apply(d.slot,d.sampler,o.volumeSlices[d.sampler.registerIndex])}}var h=o.constantBufferHandles;h[0]&&a.uniform4fv(h[0],r.stages[0].constantBuffer),h[7]&&a.uniform4fv(h[7],r.stages[1].constantBuffer),n.perFrameVSData&&h[1]&&a.uniform4fv(h[1],n.perFrameVSData.data),n.perFramePSData&&h[2]&&a.uniform4fv(h[2],n.perFramePSData.data);var m=n.perObjectData;m&&(m.vs&&h[3]&&a.uniform4fv(h[3],m.vs.data),m.ps&&h[4]&&a.uniform4fv(h[4],m.ps.data),m.ffe&&h[5]&&a.uniform4fv(h[5],m.ffe.data))}}GetPassCount(e){return null!==this.shader&&e in this.techniques?this.techniques[e].length:0}GetPassInput(e,t){return null===this.shader||!(e in this.techniques)||t>=this.techniques[e].length?null:O.device.IsAlphaTestEnabled()&&this.shader.techniques[e].passes[t].shadowShaderProgram?this.shader.techniques[e].passes[t].shadowShaderProgram.input:this.shader.techniques[e].passes[t].shaderProgram.input}Render(e){for(var t=this.GetPassCount("Main"),r=0;r<t;++r)this.ApplyPass("Main",r),e(this,r)}GetTextures(e={}){for(var t in this.parameters)if(this.parameters.hasOwnProperty(t)&&this.parameters[t]instanceof z.Tw2TextureParameter){var r=this.parameters[t].GetValue();r&&(e[t]=r)}return e}SetTextures(e={},t){var r=!1;for(var i in e)if(e.hasOwnProperty(i)&&void 0!==e[i]){var n=e[i],a=this.parameters[i];z.Tw2TextureParameter.isValue(n)&&(a?a.EqualsValue(n)||(a.SetValue(n),r=!0):(this.parameters[i]=new z.Tw2TextureParameter(i,n),r=!0))}return r&&!t&&this.UpdateValues(),r}GetParameters(e={}){for(var t in this.parameters)!this.parameters.hasOwnProperty(t)||this.parameters[t]instanceof z.Tw2TextureParameter||(e[t]=this.parameters[t].GetValue());return e}SetParameters(e={},t){var r=!1;for(var i in e)if(e.hasOwnProperty(i)&&void 0!==e[i]){var n=e[i],a=this.parameters[i];if(a)a.constructor.isValue(n)&&!a.EqualsValue(n)&&this.parameters[i].SetValue(n)&&(r=!0);else{var o=O.store.variables.Create(i,n);o&&(this.parameters[i]=o,r=!0)}}return r&&!t&&this.UpdateValues(),r}SetOverrides(e={},t){var r=!1;for(var i in e)if(e.hasOwnProperty(i)&&void 0!==e[i]){var n=this.parameters[i];if(n||(n=this.parameters[i]=new z.Tw2TextureParameter(i),r=!0),n instanceof z.Tw2TextureParameter){var a=!1,o=e[i];for(var s in o)if(o.hasOwnProperty(s)&&z.Tw2TextureParameter.overrideProperties.includes(s)&&o[s]!==n[s]){a=!0;break}a&&(n.SetOverrides(e[i]),r=!0)}}return r&&!t&&this.UpdateValues(),r}GetOverrides(e={}){for(var t in this.parameters)if(this.parameters.hasOwnProperty(t)){var r=this.parameters[t];r&&r instanceof z.Tw2TextureParameter&&r.useAllOverrides&&(e[t]=this.parameters[t].GetOverrides())}return e}PopulateParameters(){return this.autoParameter=!0,this.BindParameters()}PerChild(e,t){var r=super.PerChild(e,t);if(void 0!==r)return r;var i=this.parameters;for(var n in i)if(i.hasOwnProperty(n)){var a=e({struct:i[n],parent:i,key:n,path:"/parameters/".concat(n)});if(void 0!==a)return a}}static onListener(e,t,r,i){return!("loaded"!==t||!e.shader)&&(r.call(i,{effect:e,shader:e.shader,resource:e.effectRes}),!0)}static ToEffectResPath(e){return(e=e?e.substr(0,e.lastIndexOf(".")).replace("/effect/",O.device.effectDir)+".sm_"+O.device.shaderModel:"").toLowerCase()}static FromEffectResPath(e,t="fx"){return(e=e.substr(0,e.lastIndexOf(".")).replace(O.device.effectDir,"/effect/")+"."+t).toLowerCase()}static set(t,r,i={}){if(!r)return!1;var{parameters:n,textures:a,overrides:o,options:s,effectFilePath:u=""}=r,l=Object(A.assignIfExists)(t,r,["name","display","autoParameter"]);if(n&&t.SetParameters(n,!0)&&(l=!0),o&&t.SetOverrides(o,!0)&&(l=!0),a&&t.SetTextures(a,!0)&&(l=!0),s&&(t.options=Object.assign(s),t.effectRes&&(t.shader=t.effectRes.GetShader(s)),l=!0),u&&t.effectFilePath!==u){if(t.effectFilePath=u.toLowerCase(),t.UnBindParameters(),t.shader=null,t.effectRes&&(t.effectRes.UnregisterNotification(this),t.effectRes=null),""!==t.effectFilePath){t.UpdateValues(i);var c=e.ToEffectResPath(t.effectFilePath);return O.resMan.GetResource(c,e=>t.OnResPrepared(e)),!0}l=!0}return l&&!i.skipUpdate&&t.UpdateValues(i),l}static get(e,t={}){return Object(A.assignIfExists)(t,e,["name","display","effectFilePath"]),t.parameters=e.GetParameters(),t.textures=e.GetTextures(),t.overrides=e.GetOverrides(),t.options=Object.assign(e.options),t}},R.ConstantIgnore=["PerFrameVS","PerObjectVS","PerFramePS","PerObjectPS","PerObjectPSInt"],R.blackReaders={parameters:Object(x.fromList)({key:"name"}),options:Object(x.fromList)({key:"name",value:"value",struct:class{constructor(){this.name="",this.value=""}static blackStruct(e){var t=new this;return t.name=e.ReadStringU16(),e.ExpectU16(0,"unknown content"),e.ExpectU16(0,"unknown content"),e.ExpectU16(0,"unknown content"),t.value=e.ReadStringU16(),e.ExpectU16(0,"unknown content"),e.ExpectU16(0,"unknown content"),e.ExpectU16(0,"unknown content"),t}}}),resources:Object(x.fromList)({key:"name",reroute:"parameters"}),constParameters:Object(x.fromList)({key:"name",reroute:"parameters",struct:class{static blackStruct(e){var t=new P.Tw2Vector4Parameter;return Object.defineProperty(t,"isConstant",{value:!0,writable:!1}),t.name=e.ReadStringU16(),e.ExpectU16(0,"unknown content"),e.ExpectU16(0,"unknown content"),e.ExpectU16(0,"unknown content"),t.SetValue(new Float32Array([e.ReadF32(),e.ReadF32(),e.ReadF32(),e.ReadF32()])),t}}})},v=D((b=j).prototype,"name",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),g=D(b.prototype,"effectFilePath",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),E=D(b.prototype,"effectRes",[s,u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),y=D(b.prototype,"techniques",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),T=D(b.prototype,"samplerOverrides",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),S=D(b.prototype,"options",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),w=D(b.prototype,"shader",[d,h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_=D(b.prototype,"autoParameter",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),p=b))||p)||p)},"./core/mesh/Tw2InstancedMesh.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tw2InstancedMesh",(function(){return ee}));var i,n,a,o,s,u,l,c,f,d,h,m,p,b,v,g,E,y,T,S,w,_,R,j,A,O,z,P,x,C,D,M,L,I,F,G,N,B,U,V,k,H,q,W=r("./utils/index.js"),Y=r("./global/index.js"),X=r("./math/index.js"),K=r("./core/batch/index.js"),Q=r("./core/mesh/Tw2Mesh.js"),Z=r("./global/engine/index.js");function $(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function J(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var ee=(i=W.meta.ctor("Tw2InstancedMesh","Tr2InstancedMesh"),n=W.meta.string,a=W.meta.boolean,o=W.meta.list("Tw2MeshArea"),s=W.meta.struct(),u=W.meta.list("Tw2MeshArea"),l=W.meta.notImplemented,c=W.meta.list("Tw2MeshArea"),f=W.meta.notImplemented,d=W.meta.list("Tw2MeshArea"),h=W.meta.path,m=W.meta.path,p=W.meta.struct(),b=W.meta.uint,v=W.meta.vector3,g=W.meta.notImplemented,E=W.meta.uint,y=W.meta.vector3,T=W.meta.list("Tw2MeshArea"),S=W.meta.list("Tw2MeshArea"),w=W.meta.list("Tw2MeshArea"),_=W.meta.plain,i((q=class e extends W.meta.Model{constructor(...e){super(...e),$(this,"name",A,this),$(this,"display",O,this),$(this,"additiveAreas",z,this),$(this,"boundsMethod",P,this),$(this,"decalAreas",x,this),$(this,"depthAreas",C,this),$(this,"distortionAreas",D,this),$(this,"geometryResPath",M,this),$(this,"instanceGeometryResPath",L,this),$(this,"instanceGeometryResource",I,this),$(this,"instanceMeshIndex",F,this),$(this,"maxBounds",G,this),$(this,"maxInstanceSize",N,this),$(this,"minBounds",B,this),$(this,"opaqueAreas",U,this),$(this,"pickableAreas",V,this),$(this,"transparentAreas",k,this),$(this,"visible",H,this),this._geometryResource=null}get geometryResource(){return this._geometryResource}set geometryResource(e){this._geometryResource=e}Initialize(){""!==this.geometryResPath&&(this._geometryResource=Y.resMan.GetResource(this.geometryResPath)),""!==this.instanceGeometryResPath&&(this.instanceGeometryResource=Y.resMan.GetResource(this.instanceGeometryResPath))}FindParameters(e,t=[]){Object(W.isString)(e)&&(e={name:e});var{name:r,areaName:i,areaType:n}=e,a=e=>{if(!n||n===e)for(var a=this[e]||[],o=0;o<a.length;o++)if(!i||a[o].name===i){var s=a[o].FindParameter(r,t);s&&!t.includes(s)&&t.push(s)}};return a("transparentAreas"),a("pickableAreas"),a("opaqueAreas"),a("distortionAreas"),a("depthAreas"),a("additiveAreas"),a("opaquePrepassAreas"),a("depthNormalAreas"),t}IsGood(){var e=this.instanceGeometryResource,t=this._geometryResource&&this._geometryResource.IsGood(),r=!!e&&(!e.IsGood||e.IsGood());return t&&r}GetGeometryRes(){return this._geometryResource}GetResources(e=[]){this._geometryResource&&!e.includes(this._geometryResource)&&e.push(this._geometryResource),this.instanceGeometryResource&&"GetResources"in this.instanceGeometryResource&&this.instanceGeometryResource.GetResources(e);var t=W.perArrayChild;return t(this.additiveAreas,"GetResources",e),t(this.decalAreas,"GetResources",e),t(this.depthAreas,"GetResources",e),t(this.distortionAreas,"GetResources",e),t(this.opaqueAreas,"GetResources",e),t(this.pickableAreas,"GetResources",e),t(this.transparentAreas,"GetResources",e),e}GetBatches(e,t,r){if(!this.IsGood()||!this.display)return!1;var i,n=this.constructor.GetAreaBatches;switch(e){case Z.RM_ADDITIVE:this.visible.additiveAreas&&(i=this.additiveAreas);break;case Z.RM_DECAL:this.visible.decalAreas&&(i=this.opaqueAreas);break;case Z.RM_DEPTH:this.visible.depthAreas&&(i=this.depthAreas);break;case Z.RM_DISTORTION:this.visible.distortionAreas&&(i=this.distortionAreas);break;case Z.RM_OPAQUE:this.visible.opaqueAreas&&(i=this.opaqueAreas);break;case Z.RM_PICKABLE:this.visible.pickableAreas&&(i=this.pickableAreas);break;case Z.RM_TRANSPARENT:this.visible.transparentAreas&&(i=this.transparentAreas)}i&&n(this,i,e,t,r)}RenderAreas(e,t,r,i,n){if(this.IsGood()){var a=this.instanceGeometryResource.GetInstanceBuffer(this.instanceMeshIndex);a&&this._geometryResource.RenderAreasInstanced(e,t,r,i,n,a,this.instanceGeometryResource.GetInstanceDeclaration(this.instanceMeshIndex),this.instanceGeometryResource.GetInstanceStride(this.instanceMeshIndex),this.instanceGeometryResource.GetInstanceCount(this.instanceMeshIndex))}}EmptyAreas(){this.additiveAreas.splice(0),this.decalAreas.splice(0),this.depthAreas.splice(0),this.distortionAreas.splice(0),this.opaqueAreas.splice(0),this.pickableAreas.splice(0),this.transparentAreas.splice(0)}static from(t,r){var i=new e;if(i.meshIndex=Object(W.get)(r,"index",0),t){Object(W.assignIfExists)(i,t,["name","display","geometryResPath","instanceGeometryResPath","instanceMeshIndex"]);var n=["additiveAreas","decalAreas","depthAreas","distortionAreas","opaqueAreas","pickableAreas","transparentAreas"];Object(W.assignIfExists)(i.visible,t.visible,n),Q.Tw2Mesh.createAreaIfExists(i,t,n)}return r&&r.skipUpdate||i.Initialize(),i}static GetAreaBatches(e,t,r,i,n){for(var a=0;a<t.length;++a){var o=t[a];if(o.effect&&o.display){var s=new K.Tw2InstancedMeshBatch;s.renderMode=r,s.perObjectData=n,s.instanceMesh=e,s.meshIx=o.meshIndex,s.start=o.index,s.count=o.count,s.effect=o.effect,i.Commit(s)}}}},A=J((j=q).prototype,"name",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),O=J(j.prototype,"display",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),z=J(j.prototype,"additiveAreas",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),P=J(j.prototype,"boundsMethod",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),x=J(j.prototype,"decalAreas",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),C=J(j.prototype,"depthAreas",[l,c],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),D=J(j.prototype,"distortionAreas",[f,d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),M=J(j.prototype,"geometryResPath",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),L=J(j.prototype,"instanceGeometryResPath",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),I=J(j.prototype,"instanceGeometryResource",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),F=J(j.prototype,"instanceMeshIndex",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),G=J(j.prototype,"maxBounds",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return X.vec3.create()}}),N=J(j.prototype,"maxInstanceSize",[g,E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),B=J(j.prototype,"minBounds",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return X.vec3.create()}}),U=J(j.prototype,"opaqueAreas",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),V=J(j.prototype,"pickableAreas",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),k=J(j.prototype,"transparentAreas",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),H=J(j.prototype,"visible",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{additiveAreas:!0,decalAreas:!0,depthAreas:!0,distortionAreas:!0,opaqueAreas:!0,pickableAreas:!0,transparentAreas:!0}}}),R=j))||R)},"./core/mesh/Tw2Mesh.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tw2Mesh",(function(){return K}));var i,n,a,o,s,u,l,c,f,d,h,m,p,b,v,g,E,y,T,S,w,_,R,j,A,O,z,P,x,C,D,M,L,I,F,G,N,B,U,V,k,H=r("./utils/index.js"),q=r("./global/index.js"),W=r("./global/engine/index.js");function Y(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function X(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var K=(i=H.meta.ctor("Tw2Mesh","Tr2Mesh"),n=H.meta.string,a=H.meta.list("Tw2MeshArea"),o=H.meta.list("Tw2MeshArea"),s=H.meta.notImplemented,u=H.meta.boolean,l=H.meta.notImplemented,c=H.meta.list("Tw2MeshArea"),f=H.meta.notImplemented,d=H.meta.list("Tw2MeshArea"),h=H.meta.boolean,m=H.meta.notImplemented,p=H.meta.list("Tw2MeshArea"),b=H.meta.path,v=H.meta.uint,g=H.meta.list("Tw2MeshArea"),E=H.meta.notImplemented,y=H.meta.list("Tw2MeshArea"),T=H.meta.list("Tw2MeshArea"),S=H.meta.list("Tw2MeshArea"),w=H.meta.plain,_=H.meta.struct("Tw2GeometryRes"),i((k=class e extends H.meta.Model{constructor(...e){super(...e),Y(this,"name",A,this),Y(this,"additiveAreas",O,this),Y(this,"decalAreas",z,this),Y(this,"deferGeometryLoad",P,this),Y(this,"depthAreas",x,this),Y(this,"depthNormalAreas",C,this),Y(this,"display",D,this),Y(this,"distortionAreas",M,this),Y(this,"geometryResPath",L,this),Y(this,"meshIndex",I,this),Y(this,"opaqueAreas",F,this),Y(this,"opaquePrepassAreas",G,this),Y(this,"pickableAreas",N,this),Y(this,"transparentAreas",B,this),Y(this,"visible",U,this),Y(this,"_geometryResource",V,this)}get geometryResource(){return this._geometryResource}set geometryResource(e){this._geometryResource=e}Initialize(){""!==this.geometryResPath&&(this._geometryResource=q.resMan.GetResource(this.geometryResPath))}FindParameters(e,t=[]){Object(H.isString)(e)&&(e={name:e});var{name:r,areaName:i,areaType:n}=e,a=e=>{if(!n||n===e)for(var a=this[e]||[],o=0;o<a.length;o++)if(!i||a[o].name===i){var s=a[o].FindParameter(r,t);s&&!t.includes(s)&&t.push(s)}};return a("transparentAreas"),a("pickableAreas"),a("opaqueAreas"),a("distortionAreas"),a("depthAreas"),a("additiveAreas"),a("opaquePrepassAreas"),a("depthNormalAreas"),t}IsGood(){return this._geometryResource&&this._geometryResource.IsGood()}GetGeometryRes(){return this._geometryResource}GetResources(e=[]){this._geometryResource&&!e.includes(this._geometryResource)&&e.push(this._geometryResource);var t=H.perArrayChild;return t(this.additiveAreas,"GetResources",e),t(this.decalAreas,"GetResources",e),t(this.depthAreas,"GetResources",e),t(this.distortionAreas,"GetResources",e),t(this.opaqueAreas,"GetResources",e),t(this.pickableAreas,"GetResources",e),t(this.transparentAreas,"GetResources",e),e}GetBatches(e,t,r){if(!this.IsGood()||!this.display)return!1;var i,n=this.constructor.GetAreaBatches;switch(e){case W.RM_ADDITIVE:this.visible.additiveAreas&&(i=this.additiveAreas);break;case W.RM_DECAL:this.visible.decalAreas&&(i=this.decalAreas);break;case W.RM_DEPTH:this.visible.depthAreas&&(i=this.depthAreas);break;case W.RM_DISTORTION:this.visible.distortionAreas&&(i=this.distortionAreas);break;case W.RM_OPAQUE:this.visible.opaqueAreas&&(i=this.opaqueAreas);break;case W.RM_PICKABLE:this.visible.pickableAreas&&(i=this.pickableAreas);break;case W.RM_TRANSPARENT:this.visible.transparentAreas&&(i=this.transparentAreas)}i&&n(this,i,e,t,r)}EmptyAreas(){this.additiveAreas.splice(0),this.decalAreas.splice(0),this.depthAreas.splice(0),this.depthNormalAreas.splice(0),this.distortionAreas.splice(0),this.opaqueAreas.splice(0),this.opaquePrepassAreas.splice(0),this.pickableAreas.splice(0),this.transparentAreas.splice(0)}static GetAreaBatches(e,t,r,i,n){for(var a=0;a<t.length;++a){var o=t[a];if(o.effect&&o.display){var s=new o.constructor.batchType;s.renderMode=r,s.perObjectData=n,s.geometryRes=e._geometryResource,s.meshIx=e.meshIndex,s.start=o.index,s.count=o.count,s.effect=o.effect,i.Commit(s)}}}static createAreaIfExists(e,t,r){r=Object(H.toArray)(r);for(var i=0;i<r.length;i++){var n=r[i];if(n in t&&n in e)for(var a=0;a<t[n].length;a++){var o=t[n][a].__type||"Tw2MeshArea",s=q.store.constructors.Get(o);e[n].push(s.from(t[n][a],{index:a}))}}}static from(t,r){var i=new e;if(i.index=Object(H.get)(r,"index",0),t){Object(H.assignIfExists)(i,t,["name","display","deferGeometryLoad","geometryResPath","meshIndex"]);var n=["additiveAreas","decalAreas","depthAreas","depthNormalAreas","distortionAreas","opaqueAreas","opaquePrepassAreas","pickableAreas","transparentAreas"];Object(H.assignIfExists)(i.visible,t.visible,n),this.createAreaIfExists(i,t,n)}return r&&r.skipUpdate||i.Initialize(),i}},A=X((j=k).prototype,"name",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),O=X(j.prototype,"additiveAreas",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),z=X(j.prototype,"decalAreas",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),P=X(j.prototype,"deferGeometryLoad",[s,u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),x=X(j.prototype,"depthAreas",[l,c],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),C=X(j.prototype,"depthNormalAreas",[f,d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),D=X(j.prototype,"display",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),M=X(j.prototype,"distortionAreas",[m,p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),L=X(j.prototype,"geometryResPath",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),I=X(j.prototype,"meshIndex",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),F=X(j.prototype,"opaqueAreas",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),G=X(j.prototype,"opaquePrepassAreas",[E,y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),N=X(j.prototype,"pickableAreas",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),B=X(j.prototype,"transparentAreas",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),U=X(j.prototype,"visible",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{additiveAreas:!0,decalAreas:!0,depthAreas:!0,depthNormalAreas:!0,distortionAreas:!0,opaqueAreas:!0,opaquePrepassAreas:!0,pickableAreas:!0,transparentAreas:!0}}}),V=X(j.prototype,"_geometryResource",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),R=j))||R)},"./core/mesh/Tw2MeshArea.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tw2MeshArea",(function(){return P}));var i,n,a,o,s,u,l,c,f,d,h,m,p,b,v,g,E,y,T,S,w,_,R=r("./core/batch/index.js"),j=r("./utils/index.js"),A=r("./core/mesh/Tw2Effect.js");function O(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function z(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var P=(i=j.meta.ctor("Tw2MeshArea","Tr2MeshArea"),n=j.meta.stage(1),a=j.meta.string,o=j.meta.boolean,s=j.meta.uint,u=j.meta.struct("Tw2Effect"),l=j.meta.uint,c=j.meta.notImplemented,f=j.meta.boolean,d=j.meta.notImplemented,h=j.meta.boolean,i(m=n((_=w=class extends j.meta.Model{constructor(...e){super(...e),O(this,"name",b,this),O(this,"display",v,this),O(this,"count",g,this),O(this,"effect",E,this),O(this,"index",y,this),O(this,"reversed",T,this),O(this,"useSHLighting",S,this)}get meshIndex(){return this.index}set meshIndex(e){this.index=e}GetResources(e=[]){return this.effect?this.effect.GetResources(e):e}FindParameter(e){return this.effect?this.effect.FindParameter(e):null}static from(e,t){var r=new this;return Object(j.assignIfExists)(r,t,"index"),e&&(Object(j.assignIfExists)(r,e,["name","display","count","index","reversed","useSHLighting"]),e.effect&&(r.effect=A.Tw2Effect.from(e.effect))),r}},w.batchType=R.Tw2GeometryBatch,b=z((p=_).prototype,"name",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),v=z(p.prototype,"display",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),g=z(p.prototype,"count",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),E=z(p.prototype,"effect",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),y=z(p.prototype,"index",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),T=z(p.prototype,"reversed",[c,f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),S=z(p.prototype,"useSHLighting",[d,h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),m=p))||m)||m)},"./core/mesh/Tw2MeshLineArea.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tw2MeshLineArea",(function(){return P}));var i,n,a,o,s,u,l,c,f,d,h,m,p,b,v,g,E,y,T,S,w,_,R=r("./utils/index.js"),j=r("./core/batch/index.js"),A=r("./core/mesh/Tw2MeshArea.js");function O(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function z(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var P=(i=R.meta.ctor("Tw2MeshLineArea"),n=R.meta.stage(1),a=R.meta.string,o=R.meta.boolean,s=R.meta.uint,u=R.meta.struct("Tw2Effect"),l=R.meta.uint,c=R.meta.notImplemented,f=R.meta.boolean,d=R.meta.notImplemented,h=R.meta.boolean,i(m=n((_=w=class extends A.Tw2MeshArea{constructor(...e){super(...e),O(this,"name",b,this),O(this,"display",v,this),O(this,"count",g,this),O(this,"effect",E,this),O(this,"index",y,this),O(this,"reversed",T,this),O(this,"useSHLighting",S,this)}},w.batchType=j.Tw2GeometryLineBatch,b=z((p=_).prototype,"name",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),v=z(p.prototype,"display",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),g=z(p.prototype,"count",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),E=z(p.prototype,"effect",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),y=z(p.prototype,"index",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),T=z(p.prototype,"reversed",[c,f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),S=z(p.prototype,"useSHLighting",[d,h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),m=p))||m)||m)},"./core/mesh/index.js":function(e,t,r){"use strict";r.r(t);var i=r("./core/mesh/Tw2Effect.js");r.d(t,"Tw2Effect",(function(){return i.Tw2Effect}));var n=r("./core/mesh/Tw2InstancedMesh.js");r.d(t,"Tw2InstancedMesh",(function(){return n.Tw2InstancedMesh}));var a=r("./core/mesh/Tw2Mesh.js");r.d(t,"Tw2Mesh",(function(){return a.Tw2Mesh}));var o=r("./core/mesh/Tw2MeshArea.js");r.d(t,"Tw2MeshArea",(function(){return o.Tw2MeshArea}));var s=r("./core/mesh/Tw2MeshLineArea.js");r.d(t,"Tw2MeshLineArea",(function(){return s.Tw2MeshLineArea}))},"./core/model/Tw2Animation.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tw2Animation",(function(){return _}));var i,n,a,o,s,u,l,c,f,d,h,m,p,b,v,g,E,y,T=r("./utils/index.js");function S(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function w(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var _=(i=T.meta.ctor("Tw2Animation"),n=T.meta.struct("Tw2GeometryAnimation"),a=T.meta.isPrivate,o=T.meta.float,s=T.meta.isPrivate,u=T.meta.float,l=T.meta.boolean,c=T.meta.list("Tw2TrackGroup"),f=T.meta.isPrivate,i((y=E=class e extends T.meta.Model{constructor(t){super(),S(this,"animationRes",m,this),S(this,"time",p,this),S(this,"timeScale",b,this),S(this,"cycle",v,this),S(this,"trackGroups",g,this),this._callback=null,this._controller=null,this._state=e.State.FINISHED,this._controller=t}get name(){return this.animationRes?this.animationRes.name:null}get duration(){return this.animationRes?this.animationRes.duration:0}get percent(){return this.animationRes?Math.min(this.time,this.duration)/this.duration:0}AddCallback(e=null){this._callback=e}UpdateCallback(){if(this._callback){var e=this._callback;e(this,this._controller)&&this._callback===e&&(this._callback=null)}}Play(t={}){var r=this.IsPaused(),{time:i=(r?this.time:0),cycle:n=this.cycle,timeScale:a=this.timeScale,callback:o,events:s,percent:u}=t;void 0!==u&&(i=this.duration*u),this.time=Math.max(Math.min(i,this.duration),0),this.timeScale=a,this.cycle=n,this._state=e.State.PLAYING,s&&this.add(s),void 0!==o&&this.AddCallback(o),r?this.EmitEvent("unpause",{animation:this,controller:this._controller}):this.EmitEvent("play",{animation:this,controller:this._controller})}Pause(){this.IsPlaying()&&(this._state=e.State.PAUSED,this.EmitEvent("pause",{animation:this,controller:this._controller}))}Stop(){this.IsFinished()||(this._state=e.State.FINISHED,this.time=this.duration,this.EmitEvent("end",{animation:this,controller:this._controller}),this.UpdateCallback())}IsGood(){return!!this.animationRes}IsPlaying(){return this._state===e.State.PLAYING||this._state===e.State.CYCLING}IsPaused(){return this._state===e.State.PAUSED}IsFinished(){return this._state===e.State.FINISHED}Update(t){return!this.IsFinished()&&(this.IsPaused()||(this.time+=t*this.timeScale,this.time>=this.duration&&(this.cycle?(this._state=e.State.CYCLING,this.time=this.time%this.duration,this.EmitEvent("cycle",{animation:this,controller:this._controller}),this.UpdateCallback()):this.Stop())),!0)}},E.State={PAUSED:0,PLAYING:1,CYCLING:2,FINISHED:3},m=w((h=y).prototype,"animationRes",[n,a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),p=w(h.prototype,"time",[o,s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),b=w(h.prototype,"timeScale",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),v=w(h.prototype,"cycle",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),g=w(h.prototype,"trackGroups",[c,f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),d=h))||d)},"./core/model/Tw2AnimationController.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tw2AnimationController",(function(){return L}));var i,n,a,o,s,u,l,c,f,d,h,m,p,b,v,g,E,y,T,S,w=r("./utils/index.js"),_=r("./math/index.js"),R=r("./core/resource/index.js"),j=r("./core/model/Tw2Animation.js"),A=r("./core/model/Tw2Bone.js"),O=r("./core/model/Tw2BoneBinding.js"),z=r("./core/model/Tw2Model.js"),P=r("./core/model/Tw2Track.js"),x=r("./core/model/Tw2TrackGroup.js"),C=r("./core/model/Tw2MeshBinding.js");function D(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function M(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var L=(i=w.meta.ctor("Tw2AnimationController"),n=w.meta.todo("Handle rebuilding bounds in update function"),a=w.meta.list("Tw2GeometryRes"),o=w.meta.isPrivate,s=w.meta.list("Tw2Model"),u=w.meta.isPrivate,l=w.meta.list("Tw2Animation"),c=w.meta.isPrivate,f=w.meta.list("Tw2MeshBinding"),d=w.meta.isPrivate,h=w.meta.boolean,i(m=n((S=T=class e extends w.meta.Model{constructor(e){super(),D(this,"geometryResources",b,this),D(this,"models",v,this),D(this,"animations",g,this),D(this,"meshBindings",E,this),D(this,"update",y,this),this._isLoaded=!1,this._isPlaying=!1,this._boundsDirty=!1,this._pendingCommands=[],e&&this.SetGeometryResource(e)}OnEvent(e,t,r,i){return"loaded"===e&&this.IsLoaded()&&(t.call(r,{controller:this}),i)?this:super.OnEvent(e,t,r,i)}IsGood(){for(var e=this.geometryResources.length>0,t=0;t<this.geometryResources.length;t++)this.geometryResources[t]&&this.geometryResources[t].IsGood()||(e=!1);if(!e||!this.animations.length)return!1;for(var r=0;r<this.animations.length;r++)if(!this.animations[r].IsGood())return!1;return!0}IsPlaying(){return this._isPlaying}IsLoaded(){return this._isLoaded}GetAnimationsByName(e={}){if(!this.IsLoaded())return null;for(var t=0;t<this.animations.length;t++)e[this.animations[t].name]=this.animations[t];return e}GetAnimation(e){for(var t=0;t<this.animations.length;t++)if(this.animations[t].name===e)return this.animations[t];return null}PlayAnimation(e,t){if(0!==this.animations.length){var r=this.GetAnimation(e);r&&r.Play(t)}else this._pendingCommands.push({func:this.PlayAnimation,args:[e,t]})}GetPlayingAnimations(){for(var e=[],t=0;t<this.animations.length;t++)this.animations[t].IsPlaying()&&e.push(this.animations[t].name);return e}StopAnimation(e){if(0!==this.animations.length){e=Object(w.toArray)(e);for(var t=0;t<this.animations.length;++t)e.includes(this.animations[t].name)&&this.animations[t].Stop()}else this._pendingCommands.push({func:this.StopAnimation,args:e})}StopAllAnimations(){if(0!==this.animations.length)for(var e=0;e<this.animations.length;++e)this.animations[e].Stop();else this._pendingCommands.push({func:this.StopAllAnimations,args:null})}StopAllAnimationsExcept(e){if(0!==this.animations.length){e=Object(w.toArray)(e);for(var t=0;t<this.animations.length;++t)e.includes(this.animations[t].name)||this.animations[t].Stop()}else this._pendingCommands.push({func:this.StopAllAnimationsExcept,args:e})}HasGeometryResource(e){return-1!==this.geometryResources.indexOf(e)}SetGeometryResource(e){this.models.splice(0);for(var t=0;t<this.animations.length;t++){var r=this.animations[t];this.animations.splice(t,1),t--,this.EmitEvent("removed",{animation:r,controller:this}),r.OnDestroy()}this.meshBindings.splice(0);for(var i=0;i<this.geometryResources.length;++i)this.geometryResources[i].UnregisterNotification(this);this._isLoaded=!1,this.geometryResources.splice(0),e&&(this.geometryResources.push(e),e.RegisterNotification(this))}AddGeometryResource(e){this.geometryResources.includes(e)||(this.geometryResources.push(e),e.RegisterNotification(this))}ResetBoneTransforms(){for(var t=0;t<this.models.length;++t)for(var r=0;r<this.models[t].bones.length;++r){var i=this.models[t].bones[r],n=i.boneRes;_.mat4.copy(i.localTransform,n.localTransform),-1!==n.parentIndex?_.mat4.multiply(i.worldTransform,i.localTransform,this.models[t].bones[i.boneRes.parentIndex].worldTransform):_.mat4.set(i.worldTransform,i.localTransform),_.mat4.identity(i.offsetTransform)}for(var a=_.mat4.identity(e.global.mat4_0),o=0;o<this.meshBindings.length;++o)for(var s=0;s<this.meshBindings[o].meshIndex.length;++s)for(var u=0;16*u<this.meshBindings[o].meshIndex[s].length;++u)for(var l=0;l<16;++l)this.meshBindings[o].meshIndex[s][16*u+l]=a[l]}GetBoneMatrices(t,r){if(0===this.geometryResources.length)return new Float32Array;r||(r=this.geometryResources[0]);var i=e.FindMeshBindings(this,r);return i&&void 0!==i.meshIndex[t]?i.meshIndex[t]:new Float32Array}FindBoneForMesh(e,t){var r=this.FindModelForMesh(t);if(r)for(var i=0;i<r.bones.length;i++)if(r.bones[i].boneRes.name===e)return r.bones[i];return null}FindModelForMesh(e,t){if(0===this.geometryResources.length)return null;if(t||(t=this.geometryResources[0]),!t.IsGood())return null;for(var r=t.meshes[e],i=0;i<this.models.length;++i)for(;0<this.models[i].modelRes.meshBindings.length;++i)if(this.models[i].modelRes.meshBindings[0].mesh===r)return this.models[i];return null}GetResources(e=[]){for(var t=0;t<this.geometryResources.length;t++)e.includes(this.geometryResources[t])||e.push(this.geometryResources[t]);return e}OnResPrepared(t){if(t.UnregisterNotification(this),this.geometryResources.includes(t)){for(var r=0;r<this.geometryResources.length;++r)if(!this.geometryResources[r].IsGood())return;for(var i=0;i<this.geometryResources.length;++i)e.DoRebuildCachedData(this,this.geometryResources[i])}}Update(t){var r=this._isPlaying;if(this._isPlaying=!1,this.models&&this.update){for(var i=0;i<this.geometryResources.length;++i)this.geometryResources[i].KeepAlive();for(var n=e.global,a=n.mat4_0,o=n.quat_0,s=n.vec3_0,u=n.mat3_0,l=0;l<this.animations.length;++l){var c=this.animations[l];if(c.Update(t)){this._isPlaying=!0;for(var f=c.animationRes,d=0;d<c.trackGroups.length;++d)for(var h=0;h<c.trackGroups[d].transformTracks.length;++h){var m=c.trackGroups[d].transformTracks[h];m.trackRes.position?_.curve.evaluate(m.trackRes.position,c.time,s,c.cycle,f.duration):s[0]=s[1]=s[2]=0,m.trackRes.orientation?(_.curve.evaluate(m.trackRes.orientation,c.time,o,c.cycle,f.duration),_.quat.normalize(o,o)):_.quat.identity(o),m.trackRes.scaleShear?_.curve.evaluate(m.trackRes.scaleShear,c.time,u,c.cycle,f.duration):_.mat3.identity(u),_.mat4.fromMat3(m.bone.localTransform,u),_.mat4.multiply(m.bone.localTransform,m.bone.localTransform,_.mat4.fromQuat(a,o)),m.bone.localTransform[12]=s[0],m.bone.localTransform[13]=s[1],m.bone.localTransform[14]=s[2]}}}for(var p=0;p<this.models.length;++p)for(var b=0;b<this.models[p].bones.length;++b){var v=this.models[p].bones[b];-1!==v.boneRes.parentIndex?_.mat4.multiply(v.worldTransform,this.models[p].bones[v.boneRes.parentIndex].worldTransform,v.localTransform):_.mat4.copy(v.worldTransform,v.localTransform),_.mat4.multiply(v.offsetTransform,v.worldTransform,v.boneRes.worldTransformInv);for(var g=0;g<v.bindingArrays.length;++g){var E=v.bindingArrays[g],y=v.offsetTransform;E.array[E.offset+0]=y[0],E.array[E.offset+1]=y[4],E.array[E.offset+2]=y[8],E.array[E.offset+3]=y[12],E.array[E.offset+4]=y[1],E.array[E.offset+5]=y[5],E.array[E.offset+6]=y[9],E.array[E.offset+7]=y[13],E.array[E.offset+8]=y[2],E.array[E.offset+9]=y[6],E.array[E.offset+10]=y[10],E.array[E.offset+11]=y[14]}}(this._isPlaying||this._isPlaying!==r)&&(this._boundsDirty=!0)}}RenderDebugInfo(e){for(var t=0;t<this.models.length;++t)for(var r=0;r<this.models[t].bones.length;++r){var i=this.models[t].bones[r];if(i.boneRes.parentIndex>=0){var n=this.models[t].bones[i.boneRes.parentIndex];e.AddLine([i.worldTransform[12],i.worldTransform[13],i.worldTransform[14]],[n.worldTransform[12],n.worldTransform[13],n.worldTransform[14]])}}}static AddAnimationsFromRes(e,t){for(var r=0;r<t.animations.length;++r){for(var i=null,n=void 0,a=0;a<e.animations.length;++a)if(e.animations[a].animationRes===t.animations[r]){i=e.animations[r];break}i||((i=new j.Tw2Animation(e)).animationRes=t.animations[r],e.animations.push(i),n=!0);for(var o=0;o<i.animationRes.trackGroups.length;++o){for(var s=!1,u=0;u<i.trackGroups.length;++u)if(i.trackGroups[u].trackGroupRes===i.animationRes.trackGroups[o]){s=!0;break}if(!s){for(var l=null,c=0;c<e.models.length;++c)if(e.models[c].modelRes.name===i.animationRes.trackGroups[o].name){l=e.models[c];break}if(null!==l){var f=new x.Tw2TrackGroup;f.trackGroupRes=i.animationRes.trackGroups[o];for(var d=0;d<f.trackGroupRes.transformTracks.length;++d)for(var h=0;h<l.bones.length;++h)if(l.bones[h].boneRes.name===f.trackGroupRes.transformTracks[d].name){var m=new P.Tw2Track;m.trackRes=f.trackGroupRes.transformTracks[d],m.bone=l.bones[h],f.transformTracks.push(m);break}i.trackGroups.push(f)}}}n&&e.EmitEvent("added",{controller:e,animation:i})}}static AddModel(e,t){for(var r=0;r<e.models.length;++r)if(e.models[r].modelRes.name===t.name)return null;var i=new z.Tw2Model;i.modelRes=t;var n=t.skeleton;if(null!==n)for(var a=0;a<n.bones.length;++a){var o=new A.Tw2Bone;o.boneRes=n.bones[a],i.bones.push(o),i.bonesByName[o.boneRes.name]=o}return e.models.push(i),i}static FindMeshBindings(e,t){for(var r=0;r<e.meshBindings.length;++r)if(e.meshBindings[r].resource===t)return e.meshBindings[r];return null}static DoRebuildCachedData(t,r){if(r.meshes.length)for(var i=0;i<r.models.length;++i)e.AddModel(t,r.models[i]);for(var n=0;n<t.geometryResources.length;++n)this.AddAnimationsFromRes(t,t.geometryResources[n]);if(0===r.models.length&&t.geometryResources[0].models[0]){for(var a=0;a<r.meshes.length;++a)R.Tw2GeometryRes.BindMeshToModel(r.meshes[a],t.geometryResources[0].models[0],r);r.models.push(t.geometryResources[0].models[0])}for(var o=0;o<r.models.length;++o){for(var s=null,u=0;u<t.models.length;++u)if(t.models[u].modelRes.name===r.models[o].name){s=t.models[u];break}if(null!==s)for(var l=0;l<r.models[o].meshBindings.length;++l){var c=r.meshes.indexOf(r.models[o].meshBindings[l].mesh),f=e.FindMeshBindings(t,r);null===f&&((f=new C.Tw2MeshBinding).resource=r,t.meshBindings.push(f)),f.meshIndex[c]=new Float32Array(12*r.models[o].meshBindings[l].bones.length);for(var d=0;d<r.models[o].meshBindings[l].bones.length;++d)for(var h=0;h<s.bones.length;++h)if(s.bones[h].boneRes.name===r.models[o].meshBindings[l].bones[d].name){var m=new O.Tw2BoneBinding;m.array=f.meshIndex[c],m.offset=12*d,s.bones[h].bindingArrays.push(m);break}}}if(r.meshes.length&&r.models.length&&t.ResetBoneTransforms(),t._isLoaded=!0,t.EmitEvent("loaded",{controller:t}),t.animations.length){if(t._pendingCommands.length)for(var p=0;p<t._pendingCommands.length;++p)t._pendingCommands[p].args?t._pendingCommands[p].func.apply(t,t._pendingCommands[p].args):t._pendingCommands[p].func.apply(t);t._pendingCommands.splice(0)}}},T.global={vec3_0:_.vec3.create(),quat_0:_.quat.create(),mat3_0:_.mat3.create(),mat4_0:_.mat4.create()},T.keys={primary:["update"]},b=M((p=S).prototype,"geometryResources",[a,o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),v=M(p.prototype,"models",[s,u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),g=M(p.prototype,"animations",[l,c],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),E=M(p.prototype,"meshBindings",[f,d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),y=M(p.prototype,"update",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),m=p))||m)||m)},"./core/model/Tw2Bone.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tw2Bone",(function(){return y}));var i,n,a,o,s,u,l,c,f,d,h,m,p,b=r("./utils/index.js"),v=r("./math/index.js");function g(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function E(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var y=(i=b.meta.ctor("Tw2Bone"),n=b.meta.struct("Tw2GeometryBone"),a=b.meta.list("Tw2BoneBinding"),o=b.meta.matrix4,s=b.meta.matrix4,u=b.meta.matrix4,i((f=E((c=class{constructor(){g(this,"boneRes",f,this),g(this,"bindingArrays",d,this),g(this,"localTransform",h,this),g(this,"worldTransform",m,this),g(this,"offsetTransform",p,this)}}).prototype,"boneRes",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),d=E(c.prototype,"bindingArrays",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),h=E(c.prototype,"localTransform",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return v.mat4.create()}}),m=E(c.prototype,"worldTransform",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return v.mat4.create()}}),p=E(c.prototype,"offsetTransform",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return v.mat4.create()}}),l=c))||l)},"./core/model/Tw2BoneBinding.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tw2BoneBinding",(function(){return h}));var i,n,a,o,s,u,l,c=r("./utils/index.js");function f(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function d(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var h=(i=c.meta.ctor("Tw2BoneBinding"),n=c.meta.vector,a=c.meta.uint,i((u=d((s=class{constructor(){f(this,"array",u,this),f(this,"offset",l,this)}}).prototype,"array",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),l=d(s.prototype,"offset",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),o=s))||o)},"./core/model/Tw2MeshBinding.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tw2MeshBinding",(function(){return h}));var i,n,a,o,s,u,l,c=r("./utils/index.js");function f(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function d(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var h=(i=c.meta.ctor("Tw2MeshBinding"),n=c.meta.list("Float32Array"),a=c.meta.struct("Tw2GeometryRes"),i((u=d((s=class{constructor(){f(this,"meshIndex",u,this),f(this,"resource",l,this)}}).prototype,"meshIndex",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),l=d(s.prototype,"resource",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),o=s))||o)},"./core/model/Tw2Model.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tw2Model",(function(){return b}));var i,n,a,o,s,u,l,c,f,d,h=r("./utils/index.js");function m(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function p(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var b=(i=h.meta.ctor("Tw2Model"),n=h.meta.struct("Tw2GeometryModel"),a=h.meta.list("Tw2Bone"),o=h.meta.plain,s=h.meta.isPrivate,i((c=p((l=class{constructor(){m(this,"modelRes",c,this),m(this,"bones",f,this),m(this,"bonesByName",d,this)}}).prototype,"modelRes",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),f=p(l.prototype,"bones",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),d=p(l.prototype,"bonesByName",[o,s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),u=l))||u)},"./core/model/Tw2Track.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tw2Track",(function(){return h}));var i,n,a,o,s,u,l,c=r("./utils/index.js");function f(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function d(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var h=(i=c.meta.ctor("Tw2Track"),n=c.meta.struct("Tw2GeometryTransformTrack"),a=c.meta.struct("Tw2Bone"),i((u=d((s=class{constructor(){f(this,"trackRes",u,this),f(this,"bone",l,this)}}).prototype,"trackRes",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),l=d(s.prototype,"bone",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),o=s))||o)},"./core/model/Tw2TrackGroup.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tw2TrackGroup",(function(){return p}));var i,n,a,o,s,u,l,c,f,d=r("./utils/index.js");function h(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function m(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var p=(i=d.meta.ctor("Tw2TrackGroup"),n=d.meta.struct("Tw2GeometryTrackGroup"),a=d.meta.struct("Tw2GeometryModel"),o=d.meta.list("Tw2Track"),i((l=m((u=class{constructor(){h(this,"trackGroupRes",l,this),h(this,"model",c,this),h(this,"transformTracks",f,this)}}).prototype,"trackGroupRes",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),c=m(u.prototype,"model",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),f=m(u.prototype,"transformTracks",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),s=u))||s)},"./core/model/index.js":function(e,t,r){"use strict";r.r(t);var i=r("./core/model/Tw2Animation.js");r.d(t,"Tw2Animation",(function(){return i.Tw2Animation}));var n=r("./core/model/Tw2AnimationController.js");r.d(t,"Tw2AnimationController",(function(){return n.Tw2AnimationController}));var a=r("./core/model/Tw2Bone.js");r.d(t,"Tw2Bone",(function(){return a.Tw2Bone}));var o=r("./core/model/Tw2BoneBinding.js");r.d(t,"Tw2BoneBinding",(function(){return o.Tw2BoneBinding}));var s=r("./core/model/Tw2MeshBinding.js");r.d(t,"Tw2MeshBinding",(function(){return s.Tw2MeshBinding}));var u=r("./core/model/Tw2Model.js");r.d(t,"Tw2Model",(function(){return u.Tw2Model}));var l=r("./core/model/Tw2Track.js");r.d(t,"Tw2Track",(function(){return l.Tw2Track}));var c=r("./core/model/Tw2TrackGroup.js");r.d(t,"Tw2TrackGroup",(function(){return c.Tw2TrackGroup}))},"./core/parameter/Tw2FloatParameter.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tw2FloatParameter",(function(){return b}));var i,n,a,o,s,u,l,c,f,d=r("./core/parameter/Tw2Parameter.js"),h=r("./utils/index.js");function m(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function p(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var b=(i=h.meta.ctor("Tw2FloatParameter","Tr2FloatParameter"),n=h.meta.string,a=h.meta.float,i((f=c=class extends d.Tw2Parameter{constructor(e="",t=1){super(),m(this,"name",u,this),m(this,"value",l,this),e&&(this.name=e),void 0!==t&&(this.value=Object(h.isArrayLike)(t)?t[0]:t)}SetValue(e,t){return!this.EqualsValue(e)&&(this.value=e,this.UpdateValues(t),!0)}GetValue(){return this.value}Apply(e,t){e[t]=this.value}Bind(e,t,r){return!this._constantBuffer&&(this._constantBuffer=e,this._offset=t,this.Apply(e,t),!0)}Unbind(){this._constantBuffer=null}EqualsValue(e){return this.value===e}static isValue(e){return Object(h.isNumber)(e)}},c.constantBufferSize=1,u=p((s=f).prototype,"name",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),l=p(s.prototype,"value",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),o=s))||o)},"./core/parameter/Tw2Matrix4Parameter.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tw2Matrix4Parameter",(function(){return v})),r.d(t,"Tw2MatrixParameter",(function(){return g}));var i,n,a,o,s,u,l,c,f,d=r("./utils/index.js"),h=r("./math/index.js"),m=r("./core/parameter/Tw2VectorParameter.js");function p(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function b(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var v=(i=d.meta.ctor("Tw2Matrix4Parameter","Tw2MatrixParameter"),n=d.meta.string,a=d.meta.matrix4,i((f=c=class extends m.Tw2VectorParameter{constructor(e="",t=h.mat4.create()){super(),p(this,"name",u,this),p(this,"value",l,this),e&&(this.name=e),t&&h.mat4.copy(this.value,t)}Compose(e,t,r){"value"in e&&(e=e.value),"value"in t&&(t=t.value),"value"in r&&(r=r.value),h.mat4.fromRotationTranslationScale(this.value,e,t,r),this.UpdateValues()}Decompose(e,t,r){h.mat4.getRotation("value"in e?e.value:e,this.value),h.mat4.getTranslation("value"in t?t.value:t,this.value),h.mat4.getScaling("value"in r?r.value:r,this.value),"UpdateValues"in e&&e.UpdateValues(),"UpdateValues"in t&&t.UpdateValues(),"UpdateValues"in r&&r.UpdateValues()}get x(){return this.GetIndexValue(12)}set x(e){this.SetIndexValue(12,e)}get y(){return this.GetIndexValue(13)}set y(e){this.SetIndexValue(13,e)}get z(){return this.GetIndexValue(14)}set z(e){this.SetIndexValue(14,e)}},c.constantBufferSize=16,u=b((s=f).prototype,"name",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),l=b(s.prototype,"value",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return h.mat4.create()}}),o=s))||o);function g(e,t){return console.warn("Tw2MatrixParameter is deprecated, use Tw2Matrix4Parameter instead"),new v(e,t)}},"./core/parameter/Tw2Parameter.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tw2Parameter",(function(){return m}));var i,n,a,o,s,u,l,c,f,d=r("./utils/index.js");function h(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var m=(i=d.meta.string,n=d.meta.abstract,a=d.meta.abstract,o=d.meta.abstract,s=d.meta.abstract,f=c=class extends d.meta.Model{constructor(...e){var t,r,i,n;super(...e),t=this,r="name",n=this,(i=l)&&Object.defineProperty(t,r,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}get size(){return this.constructor.constantBufferSize}GetValue(){}Bind(e,t,r){}Unbind(){}Apply(e,t,r){}},c.constantBufferSize=0,l=h((u=f).prototype,"name",[i],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),h(u.prototype,"GetValue",[n],Object.getOwnPropertyDescriptor(u.prototype,"GetValue"),u.prototype),h(u.prototype,"Bind",[a],Object.getOwnPropertyDescriptor(u.prototype,"Bind"),u.prototype),h(u.prototype,"Unbind",[o],Object.getOwnPropertyDescriptor(u.prototype,"Unbind"),u.prototype),h(u.prototype,"Apply",[s],Object.getOwnPropertyDescriptor(u.prototype,"Apply"),u.prototype),u)},"./core/parameter/Tw2TextureParameter.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tw2TextureParameter",(function(){return B}));var i,n,a,o,s,u,l,c,f,d,h,m,p,b,v,g,E,y,T,S,w,_,R,j,A,O,z,P,x,C,D=r("./utils/index.js"),M=r("./global/index.js"),L=r("./core/sampler/index.js"),I=r("./core/parameter/Tw2Parameter.js"),F=r("./core/resource/Tw2TextureRes.js");function G(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function N(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var B=(i=D.meta.ctor("Tw2TextureParameter","TriTextureParameter"),n=D.meta.string,a=D.meta.path,o=D.meta.uint,s=D.meta.uint,u=D.meta.uint,l=D.meta.uint,c=D.meta.uint,f=D.meta.uint,d=D.meta.boolean,h=D.meta.boolean,m=D.meta.struct("Tw2TextureRes"),p=D.meta.todo("Make private"),b=D.meta.struct("Tw2SamplerState"),i((C=x=class e extends I.Tw2Parameter{constructor(e,t){super(),G(this,"name",E,this),G(this,"resourcePath",y,this),G(this,"addressUMode",T,this),G(this,"addressVMode",S,this),G(this,"addressWMode",w,this),G(this,"filterMode",_,this),G(this,"maxAnisotropy",R,this),G(this,"mipFilterMode",j,this),G(this,"useAllOverrides",A,this),G(this,"forceMipMaps",O,this),G(this,"textureRes",z,this),G(this,"_sampler",P,this),e&&(this.name=e),t&&this.SetValue(t)}get isTextureAttached(){return this.textureRes&&this.textureRes._isAttached}Initialize(){this.UpdateValues()}SetValue(e){this.resourcePath=e,this.UpdateValues()}GetValue(){return this.isTextureAttached&&0!==this.resourcePath.indexOf("rgba:")?null:this.resourcePath}SetTextureRes(e){return this.textureRes!==e&&(this.resourcePath="",this.textureRes=e,this.textureRes&&(this.textureRes._isAttached=!0),!0)}OnValueChanged(e,t){if(this.resourcePath=this.resourcePath.toLowerCase(),""!==this.resourcePath)if(0===this.resourcePath.indexOf("rgba:/")){if(!this.textureRes||this.textureRes.path!==this.resourcePath){var r=this.resourcePath.replace("rgba:/","").split(","),i=M.device.CreateSolidTexture([parseFloat(r[0]),parseFloat(r[1]),parseFloat(r[2]),void 0!==r[3]?parseFloat(r[3]):255]);this.textureRes=new F.Tw2TextureRes,this.textureRes.path=this.resourcePath,this.textureRes.Attach(i)}}else this.textureRes=M.resMan.GetResource(this.resourcePath);else this.textureRes=null;this.UpdateOverrides()}Apply(e,t,r){this.textureRes&&(this.useAllOverrides&&this._sampler&&(this._sampler.samplerType=t.samplerType,this._sampler.isVolume=t.isVolume,this._sampler.registerIndex=t.registerIndex,t=this._sampler),M.device.gl.activeTexture(M.device.gl.TEXTURE0+e),this.textureRes.Bind(t,r))}SetOverrides(t={}){if(Object(D.assignIfExists)(this,t,e.overrideProperties))return this.UpdateValues(),!0}GetOverrides(t={}){return Object(D.assignIfExists)(t,this,e.overrideProperties),t}UpdateOverrides(){if(this.useAllOverrides){this._sampler=this._sampler||new L.Tw2SamplerState,this._sampler.forceMipMaps=this.forceMipMaps;var{wrapModes:e,gl:t}=M.device,r=this._sampler;if(1===this.filterMode){switch(this.mipFilterMode){case 0:r.minFilter=t.NEAREST;break;case 1:r.minFilter=t.NEAREST_MIPMAP_NEAREST;break;default:r.minFilter=t.NEAREST_MIPMAP_LINEAR}r.minFilterNoMips=t.NEAREST,r.magFilter=t.NEAREST}else{switch(this.mipFilterMode){case 0:r.minFilter=t.LINEAR;break;case 1:r.minFilter=t.LINEAR_MIPMAP_NEAREST;break;default:r.minFilter=t.LINEAR_MIPMAP_LINEAR}r.minFilterNoMips=t.LINEAR,r.magFilter=t.LINEAR}r.addressU=e[this.addressUMode],r.addressV=e[this.addressVMode],r.addressW=e[this.addressWMode],r.anisotropy=this.maxAnisotropy,r.ComputeHash()}else this._sampler&&(this._sampler=null)}EqualsValue(e){return e.toLowerCase()===this.GetValue()}GetResources(e=[]){return this.textureRes&&!e.includes(this.textureRes)&&e.push(this.textureRes),e}static isValue(e){return Object(D.isString)(e)}},x.overrideProperties=["useAllOverrides","addressUMode","addressVMode","addressWMode","filterMode","mipFilterMode","maxAnisotropy","forceMipMaps"],E=N((g=C).prototype,"name",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),y=N(g.prototype,"resourcePath",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),T=N(g.prototype,"addressUMode",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),S=N(g.prototype,"addressVMode",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),w=N(g.prototype,"addressWMode",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),_=N(g.prototype,"filterMode",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 2}}),R=N(g.prototype,"maxAnisotropy",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 4}}),j=N(g.prototype,"mipFilterMode",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 2}}),A=N(g.prototype,"useAllOverrides",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),O=N(g.prototype,"forceMipMaps",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),z=N(g.prototype,"textureRes",[m,p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),P=N(g.prototype,"_sampler",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),v=g))||v)},"./core/parameter/Tw2TransformParameter.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tw2TransformParameter",(function(){return R}));var i,n,a,o,s,u,l,c,f,d,h,m,p,b,v,g,E,y=r("./utils/index.js"),T=r("./math/index.js"),S=r("./core/parameter/Tw2Parameter.js");function w(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function _(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var R=(i=y.meta.ctor("Tw2TransformParameter","Tr2TransformParameter"),n=y.meta.vector3,a=y.meta.vector3,o=y.meta.quaternion,s=y.meta.vector3,u=y.meta.matrix4,l=y.meta.matrix4,i((E=g=class extends S.Tw2Parameter{constructor(...e){super(...e),w(this,"scaling",d,this),w(this,"rotationCenter",h,this),w(this,"rotation",m,this),w(this,"translation",p,this),w(this,"transform",b,this),w(this,"worldTransform",v,this)}Initialize(){this.UpdateValues()}SetValue(e,t){T.mat4.getRotation(this.rotation,e),T.mat4.getTranslation(this.translation,e),T.mat4.getScaling(this.scaling,e),this.UpdateValues(t)}GetValue(e){return T.mat4.copy(e,this.worldTransform)}OnValueChanged(e){T.mat4.fromRotationTranslationScaleOrigin(this.transform,this.rotation,this.translation,this.scaling,this.rotationCenter),T.mat4.transpose(this.worldTransform,this.transform)}Bind(e,t,r){return!this._constantBuffer&&r>=this.size&&(this._constantBuffer=e,this._offset=t,this.Apply(e,t,r),!0)}Apply(e,t,r){r>=this.constructor.constantBufferSize?e.set(this.worldTransform,t):e.set(this.worldTransform.subarray(0,r),t)}},g.constantBufferSize=16,d=_((f=E).prototype,"scaling",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return T.vec3.fromValues(1,1,1)}}),h=_(f.prototype,"rotationCenter",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return T.vec3.create()}}),m=_(f.prototype,"rotation",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return T.quat.create()}}),p=_(f.prototype,"translation",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return T.vec3.create()}}),b=_(f.prototype,"transform",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return T.mat4.create()}}),v=_(f.prototype,"worldTransform",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return T.mat4.create()}}),c=f))||c)},"./core/parameter/Tw2VariableParameter.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tw2VariableParameter",(function(){return b}));var i,n,a,o,s,u,l,c,f=r("./utils/index.js"),d=r("./global/index.js"),h=r("./core/parameter/Tw2Parameter.js");function m(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function p(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var b=(i=f.meta.ctor("Tw2VariableParameter","TriVariableParameter"),n=f.meta.string,a=f.meta.string,i((c=class extends h.Tw2Parameter{constructor(e,t){super(),m(this,"name",u,this),m(this,"variableName",l,this),e&&(this.name=e),t&&(this.variableName=t)}get variable(){return d.store.variables.Get(this.variableName)}get size(){return this.variable?this.variable.size:0}SetValue(e,t){return d.store.variables.SetValue(this.variableName,e,t)}GetValue(e=[]){return d.store.variables.GetValue(this.variableName)}Apply(e,t,r){this.variable&&this.variable.Apply(e,t,r)}},u=p((s=c).prototype,"name",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),l=p(s.prototype,"variableName",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),o=s))||o)},"./core/parameter/Tw2Vector2Parameter.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tw2Vector2Parameter",(function(){return v}));var i,n,a,o,s,u,l,c,f,d=r("./utils/index.js"),h=r("./math/index.js"),m=r("./core/parameter/Tw2VectorParameter.js");function p(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function b(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var v=(i=d.meta.ctor("Tw2Vector2Parameter"),n=d.meta.string,a=d.meta.vector2,i((f=c=class extends m.Tw2VectorParameter{constructor(e,t){super(),p(this,"name",u,this),p(this,"value",l,this),e&&(this.name=e),t&&h.vec2.copy(this.value,t)}get x(){return this.GetIndexValue(0)}set x(e){this.SetIndexValue(0,e)}get y(){return this.GetIndexValue(1)}set y(e){this.SetIndexValue(1,e)}},c.constantBufferSize=2,u=b((s=f).prototype,"name",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),l=b(s.prototype,"value",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return h.vec2.fromValues(1,1)}}),o=s))||o)},"./core/parameter/Tw2Vector3Parameter.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tw2Vector3Parameter",(function(){return v}));var i,n,a,o,s,u,l,c,f,d=r("./utils/index.js"),h=r("./math/index.js"),m=r("./core/parameter/Tw2VectorParameter.js");function p(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function b(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var v=(i=d.meta.ctor("Tw2Vector3Parameter"),n=d.meta.string,a=d.meta.vector3,i((f=c=class extends m.Tw2VectorParameter{constructor(e,t){super(),p(this,"name",u,this),p(this,"value",l,this),e&&(this.name=e),t&&h.vec3.copy(this.value,t)}get x(){return this.GetIndexValue(0)}set x(e){this.SetIndexValue(0,e)}get y(){return this.GetIndexValue(1)}set y(e){this.SetIndexValue(1,e)}get z(){return this.GetIndexValue(2)}set z(e){this.SetIndexValue(2,e)}},c.constantBufferSize=3,u=b((s=f).prototype,"name",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),l=b(s.prototype,"value",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return h.vec3.fromValues(1,1,1)}}),o=s))||o)},"./core/parameter/Tw2Vector4Parameter.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tw2Vector4Parameter",(function(){return v}));var i,n,a,o,s,u,l,c,f,d=r("./utils/index.js"),h=r("./math/index.js"),m=r("./core/parameter/Tw2VectorParameter.js");function p(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function b(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var v=(i=d.meta.ctor("Tw2Vector4Parameter","TriVector4Parameter"),n=d.meta.string,a=d.meta.vector4,i((f=c=class extends m.Tw2VectorParameter{constructor(e,t){super(),p(this,"name",u,this),p(this,"value",l,this),e&&(this.name=e),t&&h.vec4.copy(this.value,t)}get x(){return this.GetIndexValue(0)}set x(e){this.SetIndexValue(0,e)}get y(){return this.GetIndexValue(1)}set y(e){this.SetIndexValue(1,e)}get z(){return this.GetIndexValue(2)}set z(e){this.SetIndexValue(2,e)}get w(){return this.GetIndexValue(3)}set w(e){this.SetIndexValue(3,e)}},c.constantBufferSize=4,u=b((s=f).prototype,"name",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),l=b(s.prototype,"value",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return h.vec4.fromValues(1,1,1,1)}}),o=s))||o)},"./core/parameter/Tw2VectorParameter.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tw2VectorParameter",(function(){return u}));var i,n,a,o=r("./core/Tw2Error.js"),s=r("./utils/index.js"),u=s.meta.ctor("Tw2VectorParameter")((a=n=class extends s.meta.Model{get size(){return this.constructor.constantBufferSize}SetValue(e,t){return!this.EqualsValue(e)&&(this.value.set(e),this.UpdateValues(t),!0)}SetIndexValue(e,t,r){if(void 0===this.value[e])throw new o.ErrIndexBounds;this.value[e]!==t&&(this.value[e]=t,this.UpdateValues(r))}GetValue(e=[]){for(var t=this._constantBuffer?this._constantBuffer.subarray(this._offset,this._offset+this.size):this.value,r=0;r<t.length;r++)e[r]=t[r];return e}GetIndexValue(e){if(void 0!==this.value[e])return this.value[e];throw new o.ErrIndexBounds}OnValueChanged(e,t){this._constantBuffer&&this.Apply(this._constantBuffer,this._offset)}Bind(e,t,r){return!this._constantBuffer&&r>=this.size&&(this._constantBuffer=e,this._offset=t,this.Apply(e,t,r),!0)}Unbind(){this._constantBuffer=null}Apply(e,t,r){e.set(this.value,t)}EqualsValue(e){for(var t=0;t<this.size;t++)if(this.value[t]!==e[t])return!1;return!0}static isValue(e){return Object(s.isArrayLike)(e)&&e.length===this.constantBufferSize}},n.constantBufferSize=0,i=a))||i},"./core/parameter/index.js":function(e,t,r){"use strict";r.r(t);var i=r("./core/parameter/Tw2Parameter.js");r.d(t,"Tw2Parameter",(function(){return i.Tw2Parameter}));var n=r("./core/parameter/Tw2FloatParameter.js");r.d(t,"Tw2FloatParameter",(function(){return n.Tw2FloatParameter}));var a=r("./core/parameter/Tw2Matrix4Parameter.js");r.d(t,"Tw2Matrix4Parameter",(function(){return a.Tw2Matrix4Parameter})),r.d(t,"Tw2MatrixParameter",(function(){return a.Tw2MatrixParameter}));var o=r("./core/parameter/Tw2TransformParameter.js");r.d(t,"Tw2TransformParameter",(function(){return o.Tw2TransformParameter}));var s=r("./core/parameter/Tw2VariableParameter.js");r.d(t,"Tw2VariableParameter",(function(){return s.Tw2VariableParameter}));var u=r("./core/parameter/Tw2Vector2Parameter.js");r.d(t,"Tw2Vector2Parameter",(function(){return u.Tw2Vector2Parameter}));var l=r("./core/parameter/Tw2Vector3Parameter.js");r.d(t,"Tw2Vector3Parameter",(function(){return l.Tw2Vector3Parameter}));var c=r("./core/parameter/Tw2Vector4Parameter.js");r.d(t,"Tw2Vector4Parameter",(function(){return c.Tw2Vector4Parameter}));var f=r("./core/parameter/Tw2TextureParameter.js");r.d(t,"Tw2TextureParameter",(function(){return f.Tw2TextureParameter}))},"./core/post/Tw2PostEffect.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tw2PostEffect",(function(){return R}));var i,n,a,o,s,u,l,c,f,d,h,m,p,b,v=r("./utils/index.js"),g=r("./global/index.js"),E=r("./core/Tw2RenderTarget.js"),y=r("./core/resource/Tw2TextureRes.js"),T=r("./core/parameter/index.js"),S=r("./core/post/Tw2PostEffectStep.js");function w(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function _(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var R=(i=v.meta.ctor("Tw2PostEffect"),n=v.meta.boolean,a=v.meta.uint,o=v.meta.isPrivate,s=v.meta.struct("Tw2CurveSet"),u=v.meta.list("Tw2PostEffectStep"),i((b=p=class extends v.meta.Model{constructor(...e){super(...e),w(this,"display",f,this),w(this,"index",d,this),w(this,"curveSet",h,this),w(this,"steps",m,this),this._width=0,this._height=0,this._targets={},this._texture=null,this._visibleSteps=[],this._dirty=!0,this._onChildModified=e=>this.UpdateValues({controller:e})}OnValueChanged(){this._dirty=!0}IsGood(){for(var e=0,t=0;t<this.steps.length;t++)this.steps[t].IsGood()&&e++;return e===this.steps.length}KeepAlive(){for(var e=0;e<this.steps.length;e++)this.steps[e].KeepAlive()}GetResources(e=[]){for(var t=0;t<this.steps.length;t++)this.steps[t].GetResources(e);return e}CreateItem(e={}){var t=S.Tw2PostEffectStep.from(e);return this.AddItem(t),t}AddItem(e){this.steps.includes(e)||(-1===e.index&&(e.index=this.steps.length),e._onModified=this._onChildModified,this.steps.push(e),this.UpdateValues())}RemoveItem(e){var t=this.steps.indexOf(e);-1!==t&&(e._onModified=null,this.steps.splice(t,1),this.UpdateValues())}ClearItems(){for(var e=0;e<this.steps.length;e++)this.steps[e]._onModified=null;this.steps=[],this.UpdateValues()}GetTarget(e){return e&&e in this._targets?this._targets[e]:null}HasTarget(e){return!(!e||!this._targets[e])}CreateTarget(e,t=g.device.viewportWidth,r=g.device.viewportHeight){return this._targets[e]||(this._targets[e]=new E.Tw2RenderTarget,this._targets[e].name=e),this._targets[e].Create(t,r,!1),this._targets[e]}Update(e){this.curveSet&&this.curveSet.Update(e)}Render(){var e=g.device,t=e.gl,r=e.viewportWidth,i=e.viewportHeight;if(!this.IsGood()||!this.display||r<=0||i<=0)return!1;if(r!==this._width||i!==this._height||this._dirty||!this._texture){this._texture||(this._texture=new y.Tw2TextureRes,this._texture.Attach(t.createTexture())),t.bindTexture(t.TEXTURE_2D,this._texture.texture),t.texImage2D(t.TEXTURE_2D,0,t.RGBA,r,i,0,t.RGBA,t.UNSIGNED_BYTE,null),t.bindTexture(t.TEXTURE_2D,null),this._width=r,this._height=i,this._visibleSteps=[];for(var n=0;n<this.steps.length;++n){var a=this.steps[n],o=a.inputs,s=a.effect,u=s.shader,l=s.parameters;for(var c in u.HasTexture("BlitCurrent")&&!l.BlitCurrent&&(l.BlitCurrent=new T.Tw2TextureParameter("BlitCurrent","rgba:/0,0,0,255")),u.HasTexture("BlitOriginal")&&!l.BlitOriginal&&(l.BlitOriginal=new T.Tw2TextureParameter("BlitOriginal","rgba:/0,0,0,255")),a.target?a._renderTarget=this.CreateTarget(a.target,r,i):a._renderTarget=null,o)if(o.hasOwnProperty(c))if(u.HasTexture(c)){l[c]||(l[c]=new T.Tw2TextureParameter(c));var f=l[c],d=o[c];d?f.SetTextureRes(this.CreateTarget(d,r,i).texture):f.SetTextureRes(this._texture)}else console.warn("Invalid input parameter ".concat(c)),delete o[c];if("BlitCurrent"in o&&u.HasConstant("g_texelSize")){l.g_texelSize||(l.g_texelSize=new T.Tw2Vector4Parameter("g_texelSize",[1,1,1,1]));var h=l.g_texelSize,m=this.GetTarget(o.BlitCurrent);m?(h.value[0]=1/m.width,h.value[1]=1/m.width):(h.value[0]=1/r,h.value[1]=1/r),h.UpdateValues(this)}a.display&&this._visibleSteps.push(a),a._dirty=!1}this._visibleSteps.sort((e,t)=>e.index-t.index),this._dirty=!1}t.bindTexture(t.TEXTURE_2D,this._texture.texture),t.copyTexImage2D(t.TEXTURE_2D,0,e.alphaBlendBackBuffer?t.RGBA:t.RGB,0,0,r,i,0),t.bindTexture(t.TEXTURE_2D,null),e.SetStandardStates(g.device.RM_OPAQUE);for(var p=0,b=0;b<this._visibleSteps.length;++b){var v=this._visibleSteps[b];v.display&&(v._renderTarget?v._renderTarget.Set():(t.bindFramebuffer(t.FRAMEBUFFER,null),t.viewport(0,0,r,i)),e.RenderFullScreenQuad(v.effect),p++)}return!!p}static from(e={}){var t=new this;if(Object(v.assignIfExists)(t,e,["name","display","index"]),e.steps)for(var r=0;r<e.steps.length;r++)t.CreateItem(e.steps[r]);return t}},p.Item=S.Tw2PostEffectStep,f=_((c=b).prototype,"display",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),d=_(c.prototype,"index",[a,o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return-1}}),h=_(c.prototype,"curveSet",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),m=_(c.prototype,"steps",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),l=c))||l)},"./core/post/Tw2PostEffectManager.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tw2PostEffectManager",(function(){return g}));var i,n,a,o,s,u,l,c,f,d,h,m=r("./core/post/Tw2PostEffect.js"),p=r("./utils/index.js");function b(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function v(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var g=(i=p.meta.ctor("Tw2PostEffectManager"),n=p.meta.string,a=p.meta.boolean,o=p.meta.list("Tw2PostEffect"),i((h=d=class extends p.meta.Model{constructor(...e){super(...e),b(this,"name",l,this),b(this,"display",c,this),b(this,"effects",f,this),this._dirty=!0,this._onChildValueChanged=e=>this.UpdateValues({controller:e}),this._visibleEffects=[]}OnValueChanged(){this._dirty=!0}IsGood(){for(var e=0,t=0;t<this.effects.length;t++)this.effects[t].IsGood()&&e++;return e===this.effects.length}KeepAlive(){for(var e=0;e<this.effects.length;e++)this.effects[e].KeepAlive()}GetResources(e=[]){for(var t=0;t<this.effects.length;t++)this.effects[t].GetResources(e);return e}CreateItem(e={}){var t=m.Tw2PostEffect.from(e);return this.AddItem(t),t}AddItem(e){this.effects.includes(e)||(-1===e.index&&(e.index=this.effects.length),e._onModified=this._onChildValueChanged,this.effects.push(e),this.UpdateValues())}RemoveItem(e){var t=this.effects.indexOf(e);-1!==t&&(e._onModified=null,this.effects.splice(t,1),this.UpdateValues())}ClearItems(){for(var e=0;e<this.effects.length;e++)this.effects[e]._onModified=null,this.effects[e].ClearItems();this.effects=[],this.UpdateValues()}Update(e){if(this._dirty){this._visibleEffects=[];for(var t=0;t<this.effects.length;t++)this.effects[t].display&&this._visibleEffects.push(this.effects[t]);this._visibleEffects.sort((e,t)=>e.index-t.index),this._dirty=!1}for(var r=0;r<this.effects.length;r++)this.effects[r].Update(e)}Render(){if(!this.display)return this.KeepAlive(),!1;for(var e=0,t=0;t<this._visibleEffects.length;t++)this._visibleEffects[t].Render()&&e++;return!!e}},d.Item=m.Tw2PostEffect,l=v((u=h).prototype,"name",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return"Post manager"}}),c=v(u.prototype,"display",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),f=v(u.prototype,"effects",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),s=u))||s)},"./core/post/Tw2PostEffectStep.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tw2PostEffectStep",(function(){return w}));var i,n,a,o,s,u,l,c,f,d,h,m,p,b,v,g,E=r("./utils/index.js"),y=r("./core/mesh/Tw2Effect.js");function T(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function S(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var w=(i=E.meta.ctor("Tw2PostEffectStep"),n=E.meta.uint,a=E.meta.isPrivate,o=E.meta.boolean,s=E.meta.struct("Tw2Effect"),u=E.meta.string,l=E.meta.plain,c=E.meta.isPrivate,i((g=class extends E.meta.Model{constructor(...e){super(...e),T(this,"index",h,this),T(this,"display",m,this),T(this,"effect",p,this),T(this,"target",b,this),T(this,"inputs",v,this),this._renderTarget=null,this._dirty=!0}OnValueChanged(){this._dirty=!0}IsGood(){return!!this.effect&&this.effect.IsGood()}KeepAlive(){this.effect&&this.effect.KeepAlive()}GetResources(e=[]){return this.effect&&this.effect.GetResources(e),e}static from(e={}){var t=new this;return Object(E.assignIfExists)(t,e,["name","display","target","index"]),e.inputs&&Object.assign(t.inputs,e.inputs),t.effect=y.Tw2Effect.from({name:e.name,autoParameter:!0,effectFilePath:e.effectFilePath,parameters:e.parameters,textures:e.textures,overrides:e.overrides}),t}},h=S((d=g).prototype,"index",[n,a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return-1}}),m=S(d.prototype,"display",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),p=S(d.prototype,"effect",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),b=S(d.prototype,"target",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),v=S(d.prototype,"inputs",[l,c],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),f=d))||f)},"./core/post/index.js":function(e,t,r){"use strict";r.r(t);var i=r("./core/post/Tw2PostEffect.js");r.d(t,"Tw2PostEffect",(function(){return i.Tw2PostEffect}));var n=r("./core/post/Tw2PostEffectManager.js");r.d(t,"Tw2PostEffectManager",(function(){return n.Tw2PostEffectManager}));var a=r("./core/post/Tw2PostEffectStep.js");r.d(t,"Tw2PostEffectStep",(function(){return a.Tw2PostEffectStep}))},"./core/reader/Tw2BinaryReader.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tw2BinaryReader",(function(){return i}));class i{constructor(e){this.data=null,this.cursor=0,this.data=e}ReadUInt8(){return this.data[this.cursor++]}ReadInt8(){var e=this.data[this.cursor++];return e>127&&(e=e-255-1),e}ReadUInt16(){return this.data[this.cursor++]+(this.data[this.cursor++]<<8)}ReadInt16(){var e=this.data[this.cursor++]+(this.data[this.cursor++]<<8);return e>32767&&(e=e-65535-1),e}ReadUInt32(){return this.data[this.cursor++]+(this.data[this.cursor++]<<8)+(this.data[this.cursor++]<<16)+(this.data[this.cursor++]<<24>>>0)}ReadInt32(){var e=this.data[this.cursor++]+(this.data[this.cursor++]<<8)+(this.data[this.cursor++]<<16)+(this.data[this.cursor++]<<24>>>0);return e>2147483647&&(e=e-4294967295-1),e}ReadFloat16(){var e=this.data[this.cursor++],t=this.data[this.cursor++],r=(t>>2&31)-15,i=(3&t)<<8|e;return 0===i&&-15===r?0:(1-2*(t>>7))*(1+i*Math.pow(2,-10))*Math.pow(2,r)}ReadFloat32(){var e=this.data[this.cursor++],t=this.data[this.cursor++],r=this.data[this.cursor++],i=this.data[this.cursor++],n=(i<<1&255|r>>7)-127,a=(127&r)<<16|t<<8|e;return 0===a&&-127===n?0:(1-2*(i>>7))*(1+a*Math.pow(2,-23))*Math.pow(2,n)}ReadString(){for(var e=this.data[this.cursor++],t="",r=0;r<e;++r)t+=String.fromCharCode(this.data[this.cursor++]);return t}}},"./core/reader/Tw2BlackBinaryReader.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tw2BlackBinaryReader",(function(){return n})),r.d(t,"ErrBinaryReaderReadError",(function(){return a}));var i=r("./core/Tw2Error.js");class n{constructor(e,t){this.data=null,this.context=null,this.cursor=0,this.data=e,this.context=t,this.cursor=0}get length(){return this.data.byteLength-this.cursor}get stringTable(){return this.context._stringTable}get references(){return this.context._ids}AtEnd(){return 0===this.length}ReadBinaryReader(e){return new n(this.ReadDataView(e),this.context)}ReadCString(){for(var e=this.data,t=this.cursor;0!==this.ReadU8(););var r=e.byteOffset+t,i=this.cursor-t-1,a=new Uint8Array(e.buffer,r,i);return n.stringDecoder.decode(a)}ReadCWString(){for(var e=this.data,t=this.cursor;0!==this.ReadU16(););var r=e.byteOffset+t,i=this.cursor-t-2,a=new Uint8Array(e.buffer,r,i);return n.wstringDecoder.decode(a)}ReadDataView(e){if(e<0)throw new a({readError:'Argument should be positive: got "'.concat(e,'"')});if(this.length<e)throw new a({readError:"Argument is too big: remaining ".concat(this.length,', got "').concat(e,'"')});var t=this.data,r=new DataView(t.buffer,t.byteOffset+this.cursor,e);return this.cursor+=e,r}ReadF32(){var e=this.data.getFloat32(this.cursor,!0);return this.cursor+=4,e}ReadF64(){var e=this.data.getFloat64(this.cursor,!0);return this.cursor+=8,e}ReadStringU16(){var e=this.ReadU16();if(e>this.stringTable.length)throw new a({readError:'Reading string "'.concat(e,'" but only ').concat(this.stringTable.length," exist")});return this.stringTable[e]}ReadU8(){var e=this.data.getUint8(this.cursor);return this.cursor+=1,e}ReadU16(){var e=this.data.getUint16(this.cursor,!0);return this.cursor+=2,e}ReadU16Array(e){if(e<0)throw new a({readError:'Argument should be positive but got "'.concat(e,'"')});for(var t=new Uint16Array(e),r=0;r<e;r++)t[r]=this.ReadU16();return t}ReadU32(){var e=this.data.getUint32(this.cursor,!0);return this.cursor+=4,e}ReadU32Array(e){if(e<0)throw new a({readError:"Argument should be positive: got ".concat(e)});for(var t=new Uint32Array(e),r=0;r<e;r++)t[r]=this.ReadU32();return t}ExpectEnd(e){if(0!==this.length)throw new a({readError:"".concat(e,": expected 0 bytes remaining, got ").concat(this.length)})}ExpectU8(e,t){n.expect(this.ReadU8(),e,t)}ExpectU16(e,t){n.expect(this.ReadU16(),e,t)}ExpectU32(e,t){n.expect(this.ReadU32(),e,t)}static expect(e,t,r){if(e!==t)throw new a({readError:"".concat(r,": expected ").concat(t,", got ").concat(e)})}}n.stringDecoder=new TextDecoder("utf-8"),n.wstringDecoder=new TextDecoder("utf-16le");class a extends i.Tw2Error{constructor(e){super(e,"Error reading binary (%readError=undefined%)")}}},"./core/reader/Tw2BlackPropertyReaders.js":function(e,t,r){"use strict";r.r(t),r.d(t,"object",(function(){return f})),r.d(t,"rawObject",(function(){return d})),r.d(t,"array",(function(){return h})),r.d(t,"boolean",(function(){return m})),r.d(t,"string",(function(){return p})),r.d(t,"path",(function(){return b})),r.d(t,"enums",(function(){return v})),r.d(t,"float",(function(){return g})),r.d(t,"ushort",(function(){return E})),r.d(t,"uint",(function(){return y})),r.d(t,"byte",(function(){return T})),r.d(t,"vector2",(function(){return S})),r.d(t,"vector3",(function(){return w})),r.d(t,"color",(function(){return _})),r.d(t,"vector4",(function(){return R})),r.d(t,"matrix",(function(){return j})),r.d(t,"indexBuffer",(function(){return A})),r.d(t,"struct",(function(){return O})),r.d(t,"structList",(function(){return z})),r.d(t,"fromList",(function(){return P})),r.d(t,"notImplemented",(function(){return x}));var i,n=r("./global/index.js"),a=r("./math/index.js"),o=r("./core/Tw2Error.js"),s=r("./core/reader/Tw2BlackBinaryReader.js"),u=r("./utils/index.js"),l=r("./utils/meta/ModelConstants.js");function c(e){return i||(i={[l.Type.UNKNOWN]:x,[l.Type.BOOLEAN]:m,[l.Type.PATH]:b,[l.Type.STRING]:p,[l.Type.EXPRESSION]:p,[l.Type.BYTE]:T,[l.Type.UINT]:y,[l.Type.USHORT]:E,[l.Type.FLOAT]:g,[l.Type.VECTOR2]:S,[l.Type.VECTOR3]:w,[l.Type.VECTOR4]:R,[l.Type.QUATERNION]:R,[l.Type.MATRIX4]:j,[l.Type.COLOR]:_,[l.Type.STRUCT]:f,[l.Type.STRUCT_RAW]:d,[l.Type.STRUCT_LIST]:h,[l.Type.ARRAY]:h,[l.Type.PLAIN]:d,[l.Type.INDEX_BUFFER]:A,[l.Type.ENUM]:v}),i[Number(e)]||x}function f(e,t){var r=e.context,i=void 0!==t,a=n.store.constructors.GetDebugMode();if(!i){if(0===(t=e.ReadU32()))return null;if(e.references.has(t))return e.references.get(t)}var o=e.ReadBinaryReader(e.ReadU32()),l=o.ReadStringU16(),f=r.ConstructType(l),d=f.constructor.blackReaders||{};for(i||e.references.set(t,f);!o.AtEnd();){var h=o.ReadStringU16(),m=void 0;if(d[h]?m=d[h]:Object(u.hasMetadata)("black",f,h)?m=Object(u.getMetadata)("black",f,h):Object(u.hasMetadata)("type",f,h)&&(m=c(Object(u.getMetadata)("type",f,h))),!m)throw a&&console.dir(f),new s.ErrBinaryReaderReadError({readError:'Unknown property "'.concat(h,'" for "').concat(l,'"')});if(!Object(u.isFunction)(m))throw a&&console.dir(f),new s.ErrBinaryReaderReadError({readError:'Invalid reader for property "'.concat(h,'" for "').concat(l,'"')});try{m.custom?m(o,f,h):(!(h in f)&&a&&console.log("'".concat(l,"' missing property: '").concat(h,"'")),f[h]=m(o))}catch(e){throw a&&console.dir(f),new s.ErrBinaryReaderReadError({message:"".concat(h," (").concat(f.constructor.name,") > ")+e.message})}}return o.ExpectEnd("object did not read to end"),"Initialize"in f&&f.Initialize(),f}function d(e){return f(e,null)}function h(e){for(var t=[],r=e.ReadU32(),i=0;i<r;i++)t[i]=f(e);return t}function m(e){return 0!==e.ReadU8()}function p(e){return e.ReadStringU16()}function b(e){var t=e.ReadStringU16();return b.handler?b.handler(t):t}function v(e){for(var t=e.ReadStringU16().split(","),r={},i=0;i<t.length;i++){var n=t[i].split("=");r[n[0]]=Number(n[1])}return r}function g(e){return e.ReadF32()}function E(e){return e.ReadU16()}function y(e){return e.ReadU32()}function T(e){return e.ReadU8()}function S(e){return a.vec2.fromValues(e.ReadF32(),e.ReadF32())}function w(e){return a.vec3.fromValues(e.ReadF32(),e.ReadF32(),e.ReadF32())}function _(e){return a.vec4.fromValues(e.ReadF32(),e.ReadF32(),e.ReadF32(),e.ReadF32())}function R(e){return a.vec4.fromValues(e.ReadF32(),e.ReadF32(),e.ReadF32(),e.ReadF32())}function j(e){return a.mat4.fromValues(e.ReadF32(),e.ReadF32(),e.ReadF32(),e.ReadF32(),e.ReadF32(),e.ReadF32(),e.ReadF32(),e.ReadF32(),e.ReadF32(),e.ReadF32(),e.ReadF32(),e.ReadF32(),e.ReadF32(),e.ReadF32(),e.ReadF32(),e.ReadF32())}function A(e){var t=e.ReadU32();if(4===e.ReadU16())return e.ReadU32Array(t);throw"unsupported for now"}function O(e){return function(t){return e.blackStruct(t)}}function z(e){return function(t){for(var r=t.ReadU32(),i=t.ReadU16(),n=[],a=0;a<r;a++){var o=t.ReadBinaryReader(i);n[a]=e.blackStruct(o),o.ExpectEnd("struct read to end")}return n}}function P(e){Object(u.isString)(e)&&(e={key:e});var{key:t,struct:r,reroute:i,value:n}=e,a=function(e,a,o){var s=a[i||o];if(!Object(u.isPlain)(s))throw new Error("Target is not a plain object");for(var l=r?z(r)(e):h(e),c=0;c<l.length;c++){var f=l[c],d=l[c][t];if(void 0===d)throw new Error("Array element property is undefined: ".concat(t));if(d in s&&console.warn("Property '".concat(d,"' already defined")),void 0===n)s[d]=f;else{if(!(n in f))throw new Error("Property is undefined: ".concat(n));s[d]=f[n]}}};return a.custom=!0,a}function x(e,t,r){throw new o.ErrFeatureNotImplemented({feature:"Black reader for property '".concat(r,"'")})}b.handler=null,x.custom=!0},"./core/reader/Tw2BlackReader.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tw2BlackReader",(function(){return s}));var i=r("./global/index.js"),n=r("./core/reader/Tw2BlackBinaryReader.js"),a=r("./core/reader/Tw2ObjectReader.js"),o=r("./core/reader/Tw2BlackPropertyReaders.js");class s{constructor(e){this.data=null,this._ids=null,this._comments=null,this._reader=null,this._start=0,this._stringTable=null,e&&(this.data=e instanceof ArrayBuffer?new DataView(e):e,this.Initialize())}Initialize(){if(!(this.data&&this.data instanceof DataView))throw new a.ErrBinaryFormat({formatError:"expected DataView"});var e=new n.Tw2BlackBinaryReader(this.data,this);if(2980901150!==e.ReadU32())throw new a.ErrBinaryFormat({formatError:"wrong FOURCC"});if(1!==e.ReadU32())throw new a.ErrBinaryFormat({formatError:"wrong version"});var t=e.ReadBinaryReader(e.ReadU32()),r=t.ReadU16();this._stringTable=[];for(var i=0;i<r;i++)this._stringTable[i]=t.ReadCString();t.ExpectEnd();var o=e.ReadBinaryReader(e.ReadU32()),s=o.ReadU16();this._comments=[];for(var u=0;u<s;u++)this._comments[u]=o.ReadCWString();o.ExpectEnd(),this._ids=new Map,this._reader=e,this._start=e.cursor}Construct(){return this._reader.cursor=this._start,Object(o.object)(this._reader)}ConstructType(e){if(i.store.constructors.Has(e))return new(i.store.constructors.Get(e));if(s.DEBUG_ENABLED)return{_type:e};throw new a.ErrBinaryObjectTypeNotFound({type:e})}}s.DEBUG_ENABLED=!0},"./core/reader/Tw2CakeReader.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tw2CakeReader",(function(){return o}));var i=r("./core/vertex/index.js"),n=r("./global/index.js"),a=r("./utils/index.js");class o{constructor(e){if(this.name="",this.areas=[],this.declaration=null,this.indexData=null,this.bufferData=null,this.boneBindings=null,this.blendShapes=null,this.models=null,this.animations=null,!Object(a.isString)(e))throw new ReferenceError("Invalid format, expected string");var t=e.split("\n"),r=[],s=[],u=0;function l(){var e=t[u];if(!e)return{name:"EMPTY",value:void 0};var r=e.split(":"),i=r[0].toUpperCase(),n=r[1];if(n.includes(",")||n.includes("[")){n=(n=n.replace("[","").replace("]","")).split(",");for(var a=0;a<n.length;a++)n[a]=Number(n[a])}return{name:i,value:n}}for(;u<t.length;){var{name:c,value:f}=l();switch(c){case"EMPTY":u++;break;case"NAME":this.name=f||"",u++;break;case"AREA":var d={name:f,start:r.length*o.IndexArray.BYTES_PER_ELEMENT,count:0};for(this.areas.push(d),u++;u<t.length;){var h=l();if("FACE"!==h.name)break;if(!Object(a.isVector3)(h.value))throw new ReferenceError("Unexpected face value: "+h.value);d.count+=3,r.push(h.value[0]),r.push(h.value[1]),r.push(h.value[2]),u++}break;case"POSITION":case"NORMAL":case"TANGENT":case"BITANGENT":case"TEXCOORD0":case"TEXCOORD1":for(var m=void 0,p=0;p<s.length;p++)s[p].name===c&&(m=s[p]);if(m||(m={name:c,usageIndex:o.UsageIndex[c],usage:o.Usage[c],elements:o.Elements[c],vertices:[]},s.push(m)),!Object(a.isVector)(f)||f.length!==m.elements)throw new ReferenceError('Invalid value for declaration "'.concat(c,'": ').concat(f));m.vertices.push(f),u++;break;default:throw new ReferenceError('Unexpected value type: "'.concat(c,'"'))}}var b=0,v=0;this.declaration=new i.Tw2VertexDeclaration;for(var g=0;g<s.length;g++){var{vertices:E,usageIndex:y,usage:T,elements:S,name:w}=s[g];if(0===g)v=E.length;else if(E.length!==v)throw new ReferenceError("Unexpected vertex count: ".concat(w));this.declaration.elements.push(i.Tw2VertexElement.from({usage:T,usageIndex:y,elements:S,type:n.GL_FLOAT,offset:4*b})),b+=S}this.declaration.RebuildHash(),this.declaration.stride=4*b;var _=v*b;if(_){this.bufferData=new Float32Array(_);for(var R=0,j=0;j<v;j++)for(var A=0;A<s.length;A++)for(var O=0;O<s[A].elements;O++)this.bufferData[R++]=s[A].vertices[j][O]}this.indexData=new o.IndexArray(r)}}o.IndexArray=Uint32Array,o.UsageIndex={POSITION:0,NORMAL:0,TANGENT:0,BITANGENT:0,TEXCOORD0:0,TEXCOORD1:1},o.Elements={POSITION:3,NORMAL:3,TANGENT:4,BITANGENT:4,TEXCOORD0:2,TEXCOORD1:2},o.Usage={POSITION:i.Tw2VertexElement.Type.POSITION,NORMAL:i.Tw2VertexElement.Type.NORMAL,TANGENT:i.Tw2VertexElement.Type.TANGENT,BITANGENT:i.Tw2VertexElement.Type.BITANGENT,TEXCOORD0:i.Tw2VertexElement.Type.TEXCOORD,TEXCOORD1:i.Tw2VertexElement.Type.TEXCOORD}},"./core/reader/Tw2ObjectReader.js":function(e,t,r){"use strict";r.r(t),r.d(t,"ErrBinaryFormat",(function(){return o})),r.d(t,"ErrBinaryObjectTypeNotFound",(function(){return s})),r.d(t,"Tw2ObjectReader",(function(){return u}));var i=r("./global/index.js"),n=r("./core/reader/Tw2BinaryReader.js"),a=r("./core/Tw2Error.js");class o extends a.Tw2Error{constructor(e){super(e,"Invalid binary format (%formatError=undefined%)")}}class s extends a.Tw2Error{constructor(e){super(e,"Binary object type not found (%type%)")}}class u{constructor(e){this.xmlNode=null,this._inputStack=null,this._initializeObjects=null,this._ids={},this._reader=null,this._stringTable=null,this._start=null,e&&(this.xmlNode=e,e&&this.Initialize())}Initialize(){if(!u.IsValidXML(this.xmlNode))throw new o({formatError:"Invalid binary, expected binred"});this._reader=new n.Tw2BinaryReader(new Uint8Array(this.xmlNode)),this._reader.cursor+=6,this._stringTable=[];for(var e=this._reader.ReadUInt32(),t=0;t<e;++t){var r=this._reader.ReadUInt16();this._stringTable.push(String.fromCharCode.apply(null,this._reader.data.subarray(this._reader.cursor,this._reader.cursor+r))),this._reader.cursor+=r}this._start=this._reader.cursor}Construct(){return this._reader.cursor=this._start,u.ReadElement(this)}static IsValidXML(e){return e&&"binred"===String.fromCharCode.apply(null,new Uint8Array(e).subarray(0,6))}static ConstructObject(e){if("json"===e.type)return e;var t;if(i.store.constructors.Has(e.type))t=i.store.constructors.Get(e.type);else{if(!u.DEBUG_ENABLED)throw new s({type:e.type});t=Object}var r=new t;for(var n in e)if(e.hasOwnProperty(n)&&"type"!==n)if(e[n].constructor===Object){if(this.DEBUG_ENABLED&&(r[n]=r[n]||{}),r[n])for(var a in e[n])e[n].hasOwnProperty(a)&&(r[n][a]=e[n][a])}else r[n]=e[n];return"Initialize"in r&&r.Initialize(),r}static ReadUint(e,t){switch(48&t){case this.ElementSize.SMALL:return e._reader.ReadUInt8();case this.ElementSize.MEDIUM:return e._reader.ReadUInt16();default:return e._reader.ReadUInt32()}}static ReadElementData(e,t){var r,i,n,o,s;switch(15&t){case this.ElementRawType.NULL:return null;case this.ElementRawType.BOOL:switch(48&t){case this.ElementSize.SMALL:return 0!==e._reader.ReadUInt8();case this.ElementSize.MEDIUM:return!1;default:return!0}case this.ElementRawType.INT:switch(48&t){case this.ElementSize.SMALL:return e._reader.ReadInt8();case this.ElementSize.MEDIUM:return e._reader.ReadInt16();default:return e._reader.ReadInt32()}case this.ElementRawType.UINT:return this.ReadUint(e,t);case this.ElementRawType.FLOAT:switch(48&t){case this.ElementSize.SMALL:return e._reader.ReadFloat16();case this.ElementSize.MEDIUM:return e._reader.ReadFloat32();default:throw new a.ErrFeatureNotImplemented({feature:"Element raw type Float64"})}case this.ElementRawType.STRING:return r=this.ReadUint(e,t),e._stringTable[r];case this.ElementRawType.ARRAY:for(o=this.ReadUint(e,t),n=[],i=0;i<o;++i)n.push(this.ReadElement(e));return n;case this.ElementRawType.MAPPING:for(o=this.ReadUint(e,t),n={},i=0;i<o;++i)n[e._stringTable[this.ReadUint(e,t)]]=this.ReadElement(e);return n;case this.ElementRawType.OBJECT:for(o=this.ReadUint(e,t),n={},i=0;i<o;++i)n[e._stringTable[this.ReadUint(e,t)]]=this.ReadElement(e);return this.ConstructObject(n);case this.ElementRawType.TYPED_ARRAY:for(o=this.ReadUint(e,t),s=e._reader.ReadUInt8(),n=[],i=0;i<o;++i)n.push(this.ReadElementData(e,s));return s in this.TypedArrays&&(n=new this.TypedArrays[s](n)),n;case this.ElementRawType.TYPED_MAPPING:for(o=this.ReadUint(e,t),s=e._reader.ReadUInt8(),n={},i=0;i<o;++i)n[e._stringTable[this.ReadUint(e,t)]]=this.ReadElementData(e,s);return n}}static ReadElement(e){var t,r=e._reader.ReadUInt8();if(r===this.REFERENCE_BIT)return e._ids[e._reader.ReadUInt16()];0!=(r&this.ID_BIT)&&(t=e._reader.ReadUInt16());var i=this.ReadElementData(e,63&r);return 0!=(r&this.ID_BIT)&&(e._ids[t]=i),i}}u.DEBUG_ENABLED=!1,u.ID_BIT=64,u.REFERENCE_BIT=128,u.ElementRawType={NULL:0,BOOL:1,INT:2,UINT:3,FLOAT:4,STRING:5,ARRAY:6,MAPPING:7,OBJECT:8,TYPED_ARRAY:9,TYPED_MAPPING:10},u.ElementSize={SMALL:0,MEDIUM:16,LARGE:32},u.TypedArrays={2:Int8Array,3:Uint8Array,18:Int16Array,19:Uint16Array,34:Int32Array,35:Uint32Array,4:Float32Array,20:Float32Array,36:Float64Array};var l=u.ElementRawType,c=u.ElementSize;u.ElementTypes={NULL:l.NULL|c.SMALL,BOOL:l.BOOL|c.SMALL,FALSE:l.BOOL|c.MEDIUM,TRUE:l.BOOL|c.LARGE,INT8:l.INT|c.SMALL,UINT8:l.UINT|c.SMALL,INT16:l.INT|c.MEDIUM,UINT16:l.UINT|c.MEDIUM,INT32:l.INT|c.LARGE,UINT32:l.UINT|c.LARGE,FLOAT16:l.FLOAT|c.SMALL,FLOAT32:l.FLOAT|c.MEDIUM,FLOAT64:l.FLOAT|c.LARGE,SHORT_STRING:l.STRING|c.SMALL,MEDIUM_STRING:l.STRING|c.MEDIUM,LARGE_STRING:l.STRING|c.LARGE,SHORT_ARRAY:l.ARRAY|c.SMALL,MEDIUM_ARRAY:l.ARRAY|c.MEDIUM,LARGE_ARRAY:l.ARRAY|c.LARGE,SHORT_MAPPING:l.MAPPING|c.SMALL,MEDIUM_MAPPING:l.MAPPING|c.MEDIUM,LARGE_MAPPING:l.MAPPING|c.LARGE,SHORT_OBJECT:l.OBJECT|c.SMALL,MEDIUM_OBJECT:l.OBJECT|c.MEDIUM,LARGE_OBJECT:l.OBJECT|c.LARGE,SHORT_TYPED_ARRAY:l.TYPED_ARRAY|c.SMALL,MEDIUM_TYPED_ARRAY:l.TYPED_ARRAY|c.MEDIUM,LARGE_TYPED_ARRAY:l.TYPED_ARRAY|c.LARGE,SHORT_TYPED_MAPPING:l.TYPED_MAPPING|c.SMALL,MEDIUM_TYPED_MAPPING:l.TYPED_MAPPING|c.MEDIUM,LARGE_TYPED_MAPPING:l.TYPED_MAPPING|c.LARGE}},"./core/reader/index.js":function(e,t,r){"use strict";r.r(t);var i=r("./core/reader/Tw2BinaryReader.js");r.d(t,"Tw2BinaryReader",(function(){return i.Tw2BinaryReader}));var n=r("./core/reader/Tw2BlackReader.js");r.d(t,"Tw2BlackReader",(function(){return n.Tw2BlackReader}));var a=r("./core/reader/Tw2ObjectReader.js");r.d(t,"ErrBinaryFormat",(function(){return a.ErrBinaryFormat})),r.d(t,"ErrBinaryObjectTypeNotFound",(function(){return a.ErrBinaryObjectTypeNotFound})),r.d(t,"Tw2ObjectReader",(function(){return a.Tw2ObjectReader}));var o=r("./core/reader/Tw2CakeReader.js");r.d(t,"Tw2CakeReader",(function(){return o.Tw2CakeReader}))},"./core/resource/Tw2EffectRes.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tw2EffectRes",(function(){return l})),r.d(t,"ErrShaderVersion",(function(){return c})),r.d(t,"ErrShaderHeaderSize",(function(){return f})),r.d(t,"ErrShaderPermutationValue",(function(){return d}));var i,n=r("./utils/index.js"),a=r("./core/reader/index.js"),o=r("./core/resource/Tw2Resource.js"),s=r("./core/resource/Tw2Shader.js"),u=r("./core/Tw2Error.js"),l=n.meta.ctor("Tw2EffectRes")(i=class extends o.Tw2Resource{constructor(...e){super(...e),this.passes=[],this.annotations={},this.permutations=[],this.offsets=[],this.reader=null,this.version=0,this.stringTable="",this.shaders={},this._requestResponseType="arraybuffer"}Prepare(e){this.permutations=[],this.offsets=[],this.passes=[],this.annotations={},this.reader=null,this.version=0,this.stringTable="",this.shaders={};var t=new a.Tw2BinaryReader(new Uint8Array(e)),r="";function i(){for(var e=t.ReadUInt32(),i=e;r.charCodeAt(i);)++i;return r.substr(e,i-e)}var n=t.ReadUInt32();if(n<2||n>8)this.OnError(new c({path:this.path,version:n}));else{var o,s;if(n<5){if(0===(o=t.ReadUInt32()))return void this.OnError(new f({path:this.path}));t.ReadUInt32();var u=t.ReadUInt32();t.cursor=8+3*o*4,s=t.ReadUInt32(),this.stringTableOffset=t.cursor,r=String.fromCharCode.apply(null,t.data.subarray(t.cursor,t.cursor+s)),t.cursor=u}else{s=t.ReadUInt32(),this.stringTableOffset=t.cursor,r=String.fromCharCode.apply(null,t.data.subarray(t.cursor,t.cursor+s)),t.cursor+=s;for(var l=t.ReadUInt8(),d=0;d<l;++d){for(var h={name:i(),defaultOption:t.ReadUInt8(),description:i(),type:t.ReadUInt8(),options:{},optionCount:t.ReadUInt8()},m=0;m<h.optionCount;++m)h.options[i()]=m;this.permutations.push(h)}if(0===(o=t.ReadUInt32()))return void this.OnError(new f({path:this.path}));for(var p=0;p<o;++p)this.offsets.push({index:t.ReadUInt32(),offset:t.ReadUInt32(),size:t.ReadUInt32()});t.ReadUInt32(),t.cursor=t.ReadUInt32()}this.reader=t,this.version=n,this.stringTable=r,this.OnPrepared()}}GetShader(e){if(!this.IsGood())return null;for(var t=0,r=1,i=0;i<this.permutations.length;++i){var n=this.permutations[i],a=n.defaultOption;if(e.hasOwnProperty(n.name)){var o=e[n.name];if(!n.options.hasOwnProperty(o))return this.OnError(new d({path:this.path,permutation:n.name,valueName:o})),null;a=n.options[o]}t+=a*r,r*=n.optionCount}if(this.shaders.hasOwnProperty(t))return this.shaders[t];this.reader.cursor=this.offsets[t].offset;var u=null;try{u=new s.Tw2Shader(this.reader,this.version,this.stringTable,this.stringTableOffset,this.path)}catch(e){return this.OnError(e),null}return this.shaders[t]=u,u}})||i;class c extends u.Tw2Error{constructor(e){super(e,"Invalid version of effect file (%version%)")}}class f extends u.Tw2Error{constructor(e){super(e,"Effect file contains no compiled effects")}}class d extends u.Tw2Error{constructor(e){super(e,"Invalid shader permutation value")}}},"./core/resource/Tw2GeometryRes.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tw2GeometryRes",(function(){return m})),r.d(t,"ErrGeometryMeshMissingParticleElement",(function(){return p})),r.d(t,"ErrGeometryMeshElementComponentsMissing",(function(){return b})),r.d(t,"ErrGeometryMeshAreaMissing",(function(){return v})),r.d(t,"ErrGeometryMeshBoneNameInvalid",(function(){return g})),r.d(t,"ErrGeometryMeshEffectBinding",(function(){return E})),r.d(t,"ErrGeometryFileType",(function(){return y}));var i,n=r("./utils/index.js"),a=r("./global/index.js"),o=r("./math/index.js"),s=r("./core/reader/index.js"),u=r("./core/vertex/index.js"),l=r("./core/resource/Tw2Resource.js"),c=r("./core/Tw2Error.js"),f=r("./core/engine/index.js"),d=r("./core/geometry/index.js"),h=r("./core/reader/Tw2CakeReader.js"),m=n.meta.ctor("Tw2GeometryRes","TriGeometryRes")(i=class e extends l.Tw2Resource{constructor(...e){super(...e),this.meshes=[],this.minBounds=o.vec3.fromValues(0,0,0),this.maxBounds=o.vec3.fromValues(0,0,0),this.boundsSpherePosition=o.vec3.create(),this.boundsSphereRadius=0,this.models=[],this.animations=[],this.systemMirror=a.resMan.systemMirror,this._requestResponseType=null,this._extension=null}GetBoundingBox(e,t){return o.box3.fromBounds(e,this.minBounds,this.maxBounds),t&&o.box3.transformMat4(e,e,t),!0}GetBoundingSphere(e,t){return o.sph3.fromPositionRadius(e,this.boundsSpherePosition,this.boundsSphereRadius),t&&o.sph3.transformMat4(e,e,t),!0}RebuildBounds(e){var t=this.minBounds,r=this.maxBounds;o.box3.bounds.empty(t,r);for(var i=0;i<this.meshes.length;i++){var n=this.meshes[i];n.RebuildBounds(e),o.box3.bounds.union(t,r,t,r,n.minBounds,n.maxBounds)}this.boundsSphereRadius=o.box3.bounds.toPositionRadius(t,r,this.boundsSpherePosition)}GetInstanceBuffer(e){return e<this.meshes.length?this.meshes[e].buffer:void 0}GetInstanceDeclaration(e){return this.meshes[e].declaration}GetInstanceStride(e){return this.meshes[e].declaration.stride}GetInstanceCount(e){return 4*this.meshes[e].bufferLength/this.meshes[e].declaration.stride}DoCustomLoad(e,t){switch(this._extension=null,this._requestResponseType=null,t){case"wbg":this._extension=t,this._requestResponseType="arraybuffer";break;case"cake":this._extension=t,this._requestResponseType="text";break;default:throw new f.ErrResourceFormatInvalid({format:this._extension,reason:"Unexpected extension"})}}Prepare(e){switch(this.meshes.splice(0),this.models.splice(0),this.animations.splice(0),o.vec3.set(this.minBounds,0,0,0),o.vec3.set(this.maxBounds,0,0,0),o.vec3.set(this.boundsSpherePosition,0,0,0),this.boundsSphereRadius=0,this._extension){case"wbg":this.PrepareWBG(e);break;case"cake":this.PrepareCAKE(e);break;default:throw new f.ErrResourceFormatInvalid({format:this._extension,reason:"Unexpected extension"})}}PrepareCAKE(e){var t=a.device.gl,r=new h.Tw2CakeReader(e),{bufferData:i,indexData:n,declaration:o,areas:s,name:u=this.path}=r,l=new d.Tw2GeometryMesh;this.meshes[0]=l,this.models[0]=new d.Tw2GeometryModel,l.name=u,l.declaration=o,l.bufferLength=i.length,l.buffer=t.createBuffer(),t.bindBuffer(t.ARRAY_BUFFER,l.buffer),t.bufferData(t.ARRAY_BUFFER,i,t.STATIC_DRAW),l.indexes=t.createBuffer(),l.indexType=2===n.BYTES_PER_ELEMENT?t.UNSIGNED_SHORT:t.UNSIGNED_INT,t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,l.indexes),t.bufferData(t.ELEMENT_ARRAY_BUFFER,n,t.STATIC_DRAW);for(var c=0;c<s.length;++c){var{name:f,start:m,count:p}=s[c],b=new d.Tw2GeometryMeshArea;b.name=f,b.start=m,b.count=p,l.areas.push(b),l.RebuildAreaBounds(b,i,n,!0)}l._areas=s.length,l._faces=n.length/3,l._vertices=i.length/(l.declaration.stride/4),this.systemMirror&&(l.bufferData=i,l.indexData=n),this.RebuildBounds(),this.OnPrepared()}PrepareWBG(t){var r=a.device.gl,i=new s.Tw2BinaryReader(new Uint8Array(t));i.ReadUInt8();for(var n=i.ReadUInt8(),u=0;u<n;++u){var l=new d.Tw2GeometryMesh;l.name=i.ReadString();var c=e.ReadVertexBuffer(i,l.declaration,this.path);c?(l.bufferLength=c.length,l.buffer=r.createBuffer(),r.bindBuffer(r.ARRAY_BUFFER,l.buffer),r.bufferData(r.ARRAY_BUFFER,c,r.STATIC_DRAW)):l.buffer=null;var f=e.ReadIndexBuffer(i);f?(l.indexes=r.createBuffer(),l.indexType=2===f.BYTES_PER_ELEMENT?r.UNSIGNED_SHORT:r.UNSIGNED_INT,r.bindBuffer(r.ELEMENT_ARRAY_BUFFER,l.indexes),r.bufferData(r.ELEMENT_ARRAY_BUFFER,f,r.STATIC_DRAW)):l.indexes=null;for(var h=i.ReadUInt8(),m=0;m<h;++m){var p=new d.Tw2GeometryMeshArea;l.areas.push(p),p.name=i.ReadString(),p.start=i.ReadUInt32()*f.BYTES_PER_ELEMENT,p.count=3*i.ReadUInt32(),o.vec3.set(p.minBounds,i.ReadFloat32(),i.ReadFloat32(),i.ReadFloat32()),o.vec3.set(p.maxBounds,i.ReadFloat32(),i.ReadFloat32(),i.ReadFloat32()),p.boundsSphereRadius=o.box3.bounds.toPositionRadius(p.minBounds,p.maxBounds,p.boundsSpherePosition),o.box3.bounds.isEmpty(p.minBounds,p.maxBounds)&&(l.RebuildAreaBounds(p,c,f,!0)||console.log("Could not generate bounds for area: "+p.name||!1))}var b=i.ReadUInt8();l.boneBindings=[];for(var v=0;v<b;++v)l.boneBindings[v]=i.ReadString();var g=i.ReadUInt16();if((g||this.systemMirror)&&(l.bufferData=c,l.indexData=f),g){l.blendShapes=[];for(var E=0;E<g;++E)l.blendShapes[E]=new d.Tw2BlendShapeData,l.blendShapes[E].name=i.ReadString(),l.blendShapes[E].buffer=e.ReadVertexBuffer(i,l.blendShapes[E].declaration,this.path),l.blendShapes[E].indexes=e.ReadIndexBuffer(i)}l._areas=h,l._faces=f.length/3,l._vertices=c.length/(l.declaration.stride/4),this.meshes[u]=l}this.RebuildBounds();for(var y=i.ReadUInt8(),T=0;T<y;++T){var S=new d.Tw2GeometryModel;S.name=i.ReadString(),S.skeleton=new d.Tw2GeometrySkeleton;for(var w=i.ReadUInt8(),_=0;_<w;++_){var R=new d.Tw2GeometryBone;R.name=i.ReadString();var j=i.ReadUInt8();if(R.parentIndex=i.ReadUInt8(),255===R.parentIndex&&(R.parentIndex=-1),0!=(1&j)?o.vec3.set(R.position,i.ReadFloat32(),i.ReadFloat32(),i.ReadFloat32()):o.vec3.set(R.position,0,0,0),0!=(2&j)?o.quat.set(R.orientation,i.ReadFloat32(),i.ReadFloat32(),i.ReadFloat32(),i.ReadFloat32()):o.quat.identity(R.orientation),0!=(4&j))for(var A=0;A<9;++A)R.scaleShear[A]=i.ReadFloat32();else o.mat3.identity(R.scaleShear);S.skeleton.bones[_]=R}for(var O=0;O<S.skeleton.bones.length;++O)S.skeleton.bones[O].UpdateTransform(),-1!==S.skeleton.bones[O].parentIndex?o.mat4.multiply(S.skeleton.bones[O].worldTransform,S.skeleton.bones[S.skeleton.bones[O].parentIndex].worldTransform,S.skeleton.bones[O].localTransform):o.mat4.copy(S.skeleton.bones[O].worldTransform,S.skeleton.bones[O].localTransform),o.mat4.invert(S.skeleton.bones[O].worldTransformInv,S.skeleton.bones[O].worldTransform);for(var z=i.ReadUInt8(),P=0;P<z;++P){var x=i.ReadUInt8();x<this.meshes.length&&e.BindMeshToModel(this.meshes[x],S,this)}this.models[this.models.length]=S}for(var C=i.ReadUInt8(),D=0;D<C;++D){var M=new d.Tw2GeometryAnimation;M.name=i.ReadString(),M.duration=i.ReadFloat32();for(var L=i.ReadUInt8(),I=0;I<L;++I){var F=new d.Tw2GeometryTrackGroup;F.name=i.ReadString();for(var G=0;G<this.models.length;++G)if(this.models[G].name===F.name){F.model=this.models[G];break}for(var N=i.ReadUInt8(),B=0;B<N;++B){var U=new d.Tw2GeometryTransformTrack;if(U.name=i.ReadString(),U.orientation=e.ReadCurve(i),U.position=e.ReadCurve(i),U.scaleShear=e.ReadCurve(i),U.orientation)for(var V=0,k=0,H=0,q=0,W=0;W<U.orientation.controls.length;W+=4){var Y=U.orientation.controls[W],X=U.orientation.controls[W+1],K=U.orientation.controls[W+2],Q=U.orientation.controls[W+3];V*Y+k*X+H*K+q*Q<0&&(U.orientation.controls[W]=-Y,U.orientation.controls[W+1]=-X,U.orientation.controls[W+2]=-K,U.orientation.controls[W+3]=-Q),V=Y,k=X,H=K,q=Q}F.transformTracks[F.transformTracks.length]=U}M.trackGroups[M.trackGroups.length]=F}this.animations[this.animations.length]=M}this.OnPrepared()}static BindMeshToModel(e,t,r){var i=new d.Tw2GeometryMeshBinding;i.mesh=e;for(var n=0;n<i.mesh.boneBindings.length;++n){var a=i.mesh.boneBindings[n],o=t.FindBoneByName(a);if(!o)throw new g({path:r.path,mesh:i.mesh.name,bone:a,model:t.name});i.bones[i.bones.length]=o}t.meshBindings[t.meshBindings.length]=i}RenderAreasInstanced(e,t,r,i,n,o,s,u,l){if(this.KeepAlive(),!this.IsGood()||!i.IsGood()||e>=this.meshes.length)return!1;var c=a.device,f=c.gl,d=this.meshes[e],h=i.GetPassCount(n);f.bindBuffer(f.ELEMENT_ARRAY_BUFFER,d.indexes);for(var m=0;m<h;++m){i.ApplyPass(n,m);var p=i.GetPassInput(n,m);if(0!==p.elements.length){f.bindBuffer(f.ARRAY_BUFFER,d.buffer),d.declaration.SetPartialDeclaration(c,p,d.declaration.stride),f.bindBuffer(f.ARRAY_BUFFER,o);var b=s.SetPartialDeclaration(c,p,u,8,1);c.ApplyShadowState();for(var g=0;g<r;++g)if(g+t<d.areas.length){for(var E=d.areas[g+t],y=E.start,T=E.count;g+1<r;){if(!(E=d.areas[g+1+t]))return this.OnError(new v({path:this.path,areaIndex:g+1+t})),!1;if(E.start!==y+2*T)break;T+=E.count,++g}f.drawElementsInstanced(f.TRIANGLES,T,d.indexType,y,l)}s.ResetInstanceDivisors(c,b)}}return!0}RenderAreas(e,t,r,i,n){if(this.KeepAlive(),!this.IsGood()||!i.IsGood()||e>=this.meshes.length)return!1;var o=a.device,s=o.gl,u=this.meshes[e]||this.meshes[0],l=i.GetPassCount(n);s.bindBuffer(s.ARRAY_BUFFER,u.buffer),s.bindBuffer(s.ELEMENT_ARRAY_BUFFER,u.indexes);for(var c=0;c<l;++c){i.ApplyPass(n,c);var f=i.GetPassInput(n,c);if(!u.declaration.SetDeclaration(o,f,u.declaration.stride))return this.OnError(new E({path:this.path,pass:c,passInput:f,meshStride:u.declaration.stride})),!1;o.ApplyShadowState();for(var d=0;d<r;++d)if(d+t<u.areas.length){for(var h=u.areas[d+t],m=h.start,p=h.count;d+1<r;){if(!(h=u.areas[d+1+t]))return this.OnError(new v({path:this.path,areaIndex:d+1+t})),!1;if(h.start!==m+2*p)break;p+=h.count,++d}s.drawElements(s.TRIANGLES,p,u.indexType,m)}}return!0}RenderLines(e,t,r,i,n){if(this.KeepAlive(),!this.IsGood()||!i.IsGood()||e>=this.meshes.length)return!1;var o=a.device,s=o.gl,u=this.meshes[e],l=i.GetPassCount(n);s.bindBuffer(s.ARRAY_BUFFER,u.buffer),s.bindBuffer(s.ELEMENT_ARRAY_BUFFER,u.indexes);for(var c=0;c<l;++c){i.ApplyPass(n,c);var f=i.GetPassInput(n,c);if(!u.declaration.SetDeclaration(o,f,u.declaration.stride))return this.OnError(new E({path:this.path,pass:c,passInput:f,meshStride:u.declaration.stride})),!1;o.ApplyShadowState();for(var d=0;d<r;++d)if(d+t<u.areas.length){for(var h=u.areas[d+t],m=h.start,p=h.count;d+1<r;){if(!(h=u.areas[d+1+t]))return this.OnError(new v({path:this.path,areaIndex:d+1+t})),!1;if(h.start!==m+2*p)break;p+=h.count,++d}s.drawElements(s.LINES,p,u.indexType,m)}}return!0}RenderDebugInfo(e){if(!this.IsGood())return!1;for(var t=0;t<this.models.length;++t)if(this.models[t].skeleton)for(var r=0;r<this.models[t].skeleton.bones.length;++r){var i=this.models[t].skeleton.bones[r];if(i.parentIndex>=0){var n=this.models[t].skeleton.bones[i.parentIndex];e.AddLine([i.worldTransform[12],i.worldTransform[13],i.worldTransform[14]],[n.worldTransform[12],n.worldTransform[13],n.worldTransform[14]],[0,.7,0,1],[0,.7,0,1])}}}Unload(e){for(var t=0;t<this.meshes.length;++t){var r=a.device.gl;this.meshes[t].buffer&&(r.deleteBuffer(this.meshes[t].buffer),this.meshes[t].buffer=null),this.meshes[t].indexes&&(r.deleteBuffer(this.meshes[t].indexes),this.meshes[t].indexes=null)}return this.OnUnloaded(e),!0}static ReadVertexBuffer(e,t,r){for(var i=e.ReadUInt8(),n=0,o=0;o<i;++o){var s=new u.Tw2VertexElement;s.usage=e.ReadUInt8(),s.usageIndex=e.ReadUInt8(),s.fileType=e.ReadUInt8(),s.type=a.device.gl.FLOAT,s.elements=1+(s.fileType>>5),s.offset=4*n,t.elements[o]=s,n+=s.elements}t.RebuildHash(),t.stride=4*n;var l=e.ReadUInt32();if(0===l)return null;for(var c=new Float32Array(n*l),f=0,d=0;d<l;++d)for(var h=0;h<i;++h){var m=t.elements[h];switch(15&m.fileType){case 0:if(0!=(16&m.fileType))for(var p=0;p<m.elements;++p)c[f++]=e.ReadInt8()/127;else for(var b=0;b<m.elements;++b)c[f++]=e.ReadInt8();break;case 1:if(0!=(16&m.fileType))for(var v=0;v<m.elements;++v)c[f++]=e.ReadInt8()/32767;else for(var g=0;g<m.elements;++g)c[f++]=e.ReadInt16();break;case 2:for(var E=0;E<m.elements;++E)c[f++]=e.ReadInt32();break;case 3:for(var T=0;T<m.elements;++T)c[f++]=e.ReadFloat16();break;case 4:for(var S=0;S<m.elements;++S)c[f++]=e.ReadFloat32();break;case 8:if(0!=(16&m.fileType))for(var w=0;w<m.elements;++w)c[f++]=e.ReadUInt8()/255;else for(var _=0;_<m.elements;++_)c[f++]=e.ReadUInt8();break;case 9:if(0!=(16&m.fileType))for(var R=0;R<t.elements[h].elements;++R)c[f++]=e.ReadUInt8()/65535;else for(var j=0;j<m.elements;++j)c[f++]=e.ReadUInt16();break;case 10:for(var A=0;A<m.elements;++A)c[f++]=e.ReadUInt32();break;default:throw new y({path:r,key:"fileType",value:15&m.fileType})}}return c}static ReadIndexBuffer(e){var t=e.ReadUInt8(),r=e.ReadUInt32();if(0===t){for(var i=new Uint16Array(r),n=0;n<r;++n)i[n]=e.ReadUInt16();return i}for(var a=new Uint32Array(r),o=0;o<r;++o)a[o]=e.ReadUInt32();return a}static ReadCurve(e){if(0===e.ReadUInt8())return null;var t=new d.Tw2GeometryCurve;t.dimension=e.ReadUInt8(),t.degree=e.ReadUInt8();var r=e.ReadUInt32();t.knots=new Float32Array(r);for(var i=0;i<r;++i)t.knots[i]=e.ReadFloat32();var n=e.ReadUInt32();t.controls=new Float32Array(n);for(var a=0;a<n;++a)t.controls[a]=e.ReadFloat32();return t}})||i;class p extends c.Tw2Error{constructor(e){super(e,"Input geometry mesh lacks element required by particle system")}}class b extends c.Tw2Error{constructor(e){super(e,"Input geometry mesh elements do not have the required number of components")}}class v extends c.Tw2Error{constructor(e){super(e,"Geometry mesh missing expected area at index %areaIndex%")}}class g extends c.Tw2Error{constructor(e){super(e,"Geometry mesh has invalid bone name for model")}}class E extends c.Tw2Error{constructor(e){super(e,"Error binding geometry mesh to effect")}}class y extends c.Tw2Error{constructor(e){super(e,"Invalid geometry file type (%fileType%)")}}},"./core/resource/Tw2LoadingObject.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tw2LoadingObject",(function(){return u}));var i=r("./global/index.js"),n=r("./core/resource/Tw2Resource.js"),a=r("./core/reader/Tw2ObjectReader.js"),o=r("./core/reader/Tw2BlackReader.js"),s=r("./core/engine/Tw2ResMan.js");class u extends n.Tw2Resource{constructor(...e){super(...e),this.path="",this._view=null,this._inPrepare=null,this._objects=[],this._constructor=null,this._requestResponseType="arraybuffer"}AddObject(e,t){var r=this.GetLastError();r?t&&t(r):this._objects.push({onResolved:e,onRejected:t})}Prepare(e){var t=this.path.lastIndexOf(".");if(-1===t)return null;var r,i=this.path.substr(t+1);if(null===this._inPrepare){switch(this._view=e,i){case"red":try{this._constructor=new a.Tw2ObjectReader(e)}catch(t){try{this._constructor=new o.Tw2BlackReader(e)}catch(e){throw t}}break;case"black":this._constructor=new o.Tw2BlackReader(e);break;default:throw new s.ErrResourceExtensionUnregistered({extension:i})}this._inPrepare=0,r=this._constructor.Construct()}for(;this._inPrepare<this._objects.length;){var n=this._objects[this._inPrepare];try{r?(n.onResolved(r),r=null):n.onResolved(this._constructor.Construct())}catch(e){n.onRejected&&(n.onRejected(e),n.onRejected=null),this.OnWarning({err:e,message:"Error preparing child object"})}this._inPrepare++}this.OnPrepared()}OnError(e){super.OnError(e);for(var t=0;t<this._objects.length;t++)this._objects[t].onRejected&&this._objects[t].onRejected(e);return i.resMan.motherLode.Remove(this.path),this._objects.splice(0),e}OnPrepared(e){i.resMan.motherLode.Remove(this.path),this._objects.splice(0),super.OnPrepared(e)}}},"./core/resource/Tw2Notifications.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tw2Notifications",(function(){return n}));var i=r("./utils/index.js");class n{RegisterNotification(e){this.HasNotification(e)||this.constructor.onNotification&&this.constructor.onNotification(this,e)||(this._notifications=this._notifications||new Set,this._notifications.add(e))}UpdateNotifications(e,t){this._notifications&&(this._notifications.forEach(r=>{var n=!1;Object(i.isFunction)(r)?n=r(this,t,e):e&&e in r&&(n=r[e](this,t)),n&&this.UnregisterNotification(r)}),0===this._notifications.size&&this.ClearNotifications())}HasNotification(e){return!!this._notifications&&this._notifications.has(e)}UnregisterNotification(e){this._notifications&&this._notifications.delete(e)}ClearNotifications(){this._notifications&&(this._notifications.clear(),Reflect.deleteProperty(this,"_notifications"))}}n.onNotification=null},"./core/resource/Tw2Resource.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tw2Resource",(function(){return c}));var i,n,a,o=r("./global/index.js"),s=r("./utils/index.js"),u=r("./core/Tw2Error.js"),l=r("./core/resource/Tw2Notifications.js"),c=s.meta.ctor("Tw2Resource")((a=n=class e extends l.Tw2Notifications{constructor(...t){super(...t),this.path="",this.activeFrame=0,this.doNotPurge=0,this._state=e.State.NO_INIT,this._errors=[],this._requested=0,this._requestResponseType=null}get requestResponseType(){return this._requestResponseType}IsGood(){return this.KeepAlive(),this.IsPrepared()||this.IsLoaded()}IsRequested(){return this._state===e.State.REQUESTED}IsLoaded(){return this._state===e.State.LOADED}IsPrepared(){return this._state===e.State.PREPARED}IsUnloaded(){return this._state===e.State.UNLOADED}IsPurged(){return this._state===e.State.PURGED}HasErrors(){return this._state===e.State.ERROR}HasCompleted(){return this.HasErrors()||this.IsPurged()||this.IsPrepared()}Unload(e){return!1}Reload(e){(this.IsLoaded()||this.IsPrepared())&&this.Unload({hide:!0,detail:"reloading"}),(this.IsPurged()||this.IsUnloaded())&&o.resMan.LoadResource(this,e)}KeepAlive(){this.activeFrame=o.resMan.activeFrame,(this.IsPurged()||this.IsUnloaded())&&this.Reload({hide:!0,detail:"inuse"})}GetErrors(){return Array.from(this._errors)}GetLastError(){return this._errors[0]}OnWarning(t){o.resMan.OnPathEvent(this.path,"warning",t),this.UpdateNotifications(e.Callback.WARNING)}OnDebug(t){o.resMan.OnPathEvent(this.path,"debug",t),this.UpdateNotifications(e.Callback.DEBUG)}OnError(t=new u.Tw2Error){var r=this.IsLoaded()||this.IsPrepared();return this._errors.includes(t)||this._errors.unshift(t),this._SetState(e.State.ERROR),r&&this.Unload({hide:!0,detail:"errored"}),o.resMan.OnPathEvent(this.path,"error",t),this.UpdateNotifications(e.Callback.ERROR,t),t}OnRequested(t){var r=this._state===e.State.NO_INIT?"REQUESTED":"RELOADING";this._SetState(e.State.REQUESTED)&&(this._requested=Date.now(),o.resMan.OnPathEvent(this.path,r.toLowerCase(),t),this.UpdateNotifications(e.Callback[r]))}OnLoaded(t={}){this._SetState(e.State.LOADED)&&(t.time=.001*(Date.now()-this._requested),o.resMan.OnPathEvent(this.path,"loaded",t),this.UpdateNotifications(e.Callback.LOADED))}OnPrepared(t={}){this._SetState(e.State.PREPARED)&&(t.time=.001*(Date.now()-this._requested),o.resMan.OnPathEvent(this.path,"prepared",t),this.UpdateNotifications(e.Callback.PREPARED))}OnUnloaded(t){this._SetState(e.State.UNLOADED)&&(o.resMan.OnPathEvent(this.path,"unloaded",t),this.UpdateNotifications(e.Callback.UNLOADED))}OnPurged(t){this._SetState(e.State.PURGED),o.resMan.OnPathEvent(this.path,"purged",t),this.UpdateNotifications(e.Callback.PURGED,this.GetLastError())}_SetState(t){return this._state!==e.State.ERROR&&(this._state=t,!0)}RegisterCallbacks(e,t){if(this.KeepAlive(),e||t){this.RegisterNotification((function(r,i){return!!r.HasCompleted()&&(i?t&&t(i):e&&e(r),!0)}))}}static onNotification(t,r){var i,n;switch(t._state){case e.State.ERROR:i=e.Callback.ERROR,n=t.GetLastError();break;case e.State.REQUESTED:i=e.Callback.REQUESTED;break;case e.State.LOADED:i=e.Callback.LOADED;break;case e.State.PREPARED:i=e.Callback.PREPARED;break;case e.State.UNLOADED:i=e.Callback.UNLOADED;break;case e.State.PURGED:i=e.Callback.PURGED,n=t.GetLastError()}return Object(s.isFunction)(r)?!!r(t,n,i):!(!i||!(i in r))&&!!r[i](t,n)}},n.__isResource=!0,n.State={ERROR:-3,PURGED:-2,UNLOADED:-1,NO_INIT:0,REQUESTED:1,LOADED:2,PREPARED:3},n.Callback={ERROR:"OnResError",PURGED:"OnResPurged",UNLOADED:"OnResUnloaded",REQUESTED:"OnResRequested",LOADED:"OnResLoaded",PREPARED:"OnResPrepared",WARNING:"OnResWarning",DEBUG:"OnResDebug"},i=a))||i;c.prototype.DoCustomLoad=null},"./core/resource/Tw2Shader.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tw2Shader",(function(){return h})),r.d(t,"ErrShaderCompile",(function(){return m})),r.d(t,"ErrShaderLink",(function(){return p}));var i,n,a,o=r("./utils/index.js"),s=r("./global/index.js"),u=r("./math/index.js"),l=r("./core/vertex/index.js"),c=r("./core/sampler/index.js"),f=r("./core/resource/shaderOverrides.json"),d=r("./core/Tw2Error.js"),h=o.meta.ctor("Tw2Shader")((a=n=class e{FindPerObjectDataUsage(t,r="Main"){if(!e.DEBUG_ENABLED)throw new Error("Debug mode must be enabled to find per object data");var i={vs:{frame:{},object:{},parameter:{}},ps:{frame:{},object:{},parameter:{}},ffe:{object:{}}},{perFramePSData:n,perFrameVSData:a}=s.device,[o,u]=this.techniques[r].passes[0].stages,l=o.shaderCode+u.shaderCode;if(!l)throw new Error("Debug mode must be enabled when the shader was created");var c=l.split(/\r\n|\r|\n/),f={cb0:{name:"ConstantVertex",source:o,target:i.vs.parameter,isStage:!0},cb1:{name:"PerFrameVS",source:a,target:i.vs.frame},cb2:{name:"PerFramePS",source:n,target:i.ps.frame},cb3:{name:"PerObjectVS",source:t.vs,target:i.vs.object},cb4:{name:"PerObjectPS",source:t.ps,target:i.ps.object},cb5:{name:"PerObjectFFE",source:t.ffe,target:i.ffe.object},cb7:{name:"ConstantFragment",source:u,target:i.ps.parameter,isStage:!0}},d={PerFrameVS:"cb1",PerObjectVS:"cb3",PerFramePS:"cb2",PerObjectPS:"cb4",PerObjectFFE:"cb5"},h=["x","y","z","w"];function m(e,t){var{target:r}=e,i=e.source.FindElementFromIndex(t);if(i){var{name:n,offset:a,array:o}=i,s=t-a;return r[n]=r[n]||{},void(r[n][s]=o[s])}throw new Error("Error finding element in ".concat(e.name," at index: ").concat(t))}function p(e,t){for(var{target:r,source:i}=e,{constants:n,constantValues:a}=i,o=0;o<n.length;o++){var{offset:s,name:u,type:l,size:c}=n[o];if(!(t<s||t>s+c-1)){var h=t-s;return void(3===l?m(f[d[u]],h):(r[u]=r[u]||{},r[u][h]=a[s+h]))}}throw new Error("Error finding element in ".concat(e.name," at index: ").concat(t))}return c.forEach(e=>{if(e){var t=e.match(/cb[0123457]\[\d+\]\.?[xyzw]?[xyzw]?[xyzw]?[xyzw]+/g);if(t)for(var r=0;r<t.length;r++)for(var[i,n]=t[r].split("."),a=i.match(/(cb[0-7])/g)[0],o=4*parseInt(i.replace(a,"").replace("[","").replace("]","")),s=n.split("").map(e=>h.indexOf(e)),u=f[a],l=0;l<s.length;l++)u.isStage?p(u,o+s[l]):m(u,o+s[l])}}),i}constructor(t,r,i,n,a){function o(){for(var e=t.ReadUInt32(),r=e;i.charCodeAt(r);)++r;return i.substr(e,r-e)}this.techniques={},this.annotations={};var{wrapModes:f,gl:d}=s.device,h=1;r>6&&(h=t.ReadUInt8());for(var m=0;m<h;++m){var p={name:"Main",passes:[]};r>6&&(p.name=o()),this.techniques[p.name]=p;for(var b=t.ReadUInt8(),v=0;v<b;++v){for(var g={stages:[{},{}]},E=t.ReadUInt8(),y=!0,T=0;T<E;++T){var S={};S.inputDefinition=new l.Tw2VertexDeclaration,S.constants=[],S.textures=[],S.samplers=[];var w=t.ReadUInt8(),_=t.ReadUInt8();S.stageType=0===w?"vertex":"fragment";for(var R=0;R<_;++R){var j=t.ReadUInt8(),A=t.ReadUInt8(),O=t.ReadUInt8(),z=t.ReadUInt8();S.inputDefinition.elements[R]=l.Tw2VertexElement.from({usage:j,usageIndex:O,type:0,registerIndex:A,usedMask:z})}S.inputDefinition.RebuildHash();var P=void 0,x=void 0,C=void 0,D=void 0;if(r<5)P=t.ReadUInt32(),x=t.data.subarray(t.cursor,t.cursor+P),t.cursor+=P,C=t.ReadUInt32(),D=t.data.subarray(t.cursor,t.cursor+C),t.cursor+=C;else{P=t.ReadUInt32();var M=t.ReadUInt32();x=e.InspectShaderCode(i.substr(M,P),a),C=t.ReadUInt32(),M=t.ReadUInt32(),D=e.InspectShaderCode(i.substr(M,C),a),e.DEBUG_ENABLED&&(S.shaderCode=x,S.shadowShaderCode=D)}try{S.shader=e.CompileShader(w,"",x,a)}catch(e){throw console.group(),console.error(e.message),console.dir(S),console.groupEnd(),e}y?(S.shadowShader=0===C?e.CompileShader(w,"\n#define PS\n",x,a,!0):e.CompileShader(w,"",D,a,!0),null===S.shadowShader&&(y=!1)):S.shadowShader=null,r>=3&&(t.ReadUInt32(),t.ReadUInt32(),t.ReadUInt32()),S.constantSize=0;for(var L=t.ReadUInt32(),I=0;I<L;++I){var F={};if(F.name=o(),F.offset=t.ReadUInt32()/4,F.size=t.ReadUInt32()/4,F.type=t.ReadUInt8(),F.dimension=t.ReadUInt8(),F.elements=t.ReadUInt32(),F.isSRGB=t.ReadUInt8(),F.isAutoregister=t.ReadUInt8(),S.constants[I]=F,!e.ConstantIgnore.includes(F.name)){var G=F.offset+F.size;G>S.constantSize&&(S.constantSize=G)}}var N=t.ReadUInt32()/4;if(S.constantValues=new Float32Array(N),r<5)for(var B=0;B<N;++B)S.constantValues[B]=t.ReadFloat32();else{var U=t.ReadUInt32(),V=t.cursor;t.cursor=n+U;for(var k=0;k<N;++k)S.constantValues[k]=t.ReadFloat32();t.cursor=V}S.constantSize=Math.max(S.constantSize,N);for(var H=t.ReadUInt8(),q=0;q<H;++q){var W={};W.registerIndex=t.ReadUInt8(),W.name=o(),W.type=t.ReadUInt8(),W.isSRGB=t.ReadUInt8(),W.isAutoregister=t.ReadUInt8(),S.textures.push(W)}for(var Y=t.ReadUInt8(),X=0;X<Y;++X){var K=new c.Tw2SamplerState;if(K.registerIndex=t.ReadUInt8(),K.name=r>=4?o():"",K._comparison=t.ReadUInt8(),K.minFilter=t.ReadUInt8(),K.magFilter=t.ReadUInt8(),K.mipFilter=t.ReadUInt8(),K.addressU=t.ReadUInt8(),K.addressV=t.ReadUInt8(),K.addressW=t.ReadUInt8(),K.mipLODBias=t.ReadFloat32(),K._maxAnisotropy=t.ReadUInt8(),K._comparisonFunc=t.ReadUInt8(),K._borderColor=u.quat.fromValues(t.ReadFloat32(),t.ReadFloat32(),t.ReadFloat32(),t.ReadFloat32()),K._minLOD=t.ReadFloat32(),K._maxLOD=t.ReadFloat32(),r<4&&t.ReadUInt8(),1===K.minFilter){switch(K.mipFilter){case 0:K.minFilter=d.NEAREST;break;case 1:K.minFilter=d.NEAREST_MIPMAP_NEAREST;break;default:K.minFilter=d.NEAREST_MIPMAP_LINEAR}K.minFilterNoMips=d.NEAREST}else{switch(K.mipFilter){case 0:K.minFilter=d.LINEAR;break;case 1:K.minFilter=d.LINEAR_MIPMAP_NEAREST;break;default:K.minFilter=d.LINEAR_MIPMAP_LINEAR}K.minFilterNoMips=d.LINEAR}K.magFilter=1===K.magFilter?d.NEAREST:d.LINEAR,K.addressU=f[K.addressU],K.addressV=f[K.addressV],K.addressW=f[K.addressW],3!==K.minFilter&&3!==K.magFilter&&3!==K.mipFilter||(K.anisotropy=Math.max(K.maxAnisotropy,1));for(var Q=0;Q<S.textures.length;++Q)if(S.textures[Q].registerIndex===K.registerIndex){K.samplerType=4===S.textures[Q].type?d.TEXTURE_CUBE_MAP:d.TEXTURE_2D,K.isVolume=3===S.textures[Q].type;break}K.ComputeHash(),S.samplers.push(K)}r>=3&&t.ReadUInt8(),r>7&&t.ReadUInt8(),g.stages[w]=S}g.states=[];for(var Z=t.ReadUInt8(),$=0;$<Z;++$){var J=t.ReadUInt32(),ee=t.ReadUInt32();g.states.push({state:J,value:ee})}g.shaderProgram=e.CreateProgram(g.stages[0].shader,g.stages[1].shader,g,a),y?(g.shadowShaderProgram=e.CreateProgram(g.stages[0].shadowShader,g.stages[1].shadowShader,g,a,!0),null===g.shadowShaderProgram&&(g.shadowShaderProgram=g.shaderProgram)):g.shadowShaderProgram=g.shaderProgram,p.passes[v]=g}}for(var te=t.ReadUInt16(),re=0;re<te;++re){for(var ie=o(),ne={name:ie},ae=t.ReadUInt8(),oe=[],se=0;se<ae;++se){var ue=o(),le=void 0;switch(t.ReadUInt8()){case 0:le=0!==t.ReadUInt32();break;case 1:le=t.ReadInt32();break;case 2:le=t.ReadFloat32();break;default:le=o()}switch(ue.toUpperCase()){case"UIWIDGET":ne.widget=le.toUpperCase(),"LINEARCOLOR"===ne.widget&&(oe=this.constructor.LinearColor);break;case"SASUIVISIBLE":ne.display=le;break;case"SASUIDESCRIPTION":ne.description=le;break;case"GROUP":ne.group=le;break;case"COMPONENT1":oe[0]=le;break;case"COMPONENT2":oe[1]=le;break;case"COMPONENT3":oe[2]=le;break;case"COMPONENT4":oe[3]=le;break;default:ne[ue=ue.charAt(0).toLowerCase()+ue.substring(1)]=le}}!ne.widget&&this.HasTexture(ie)&&(ne.widget="TEXTURE",ne.group=ne.group||"Texture"),oe.length&&(ne.components=oe),this.annotations[ie]=ne}}ApplyPass(e,t){var r=s.device,i=r.gl;t=this.techniques[e].passes[t];for(var n=0;n<t.states.length;++n)r.SetRenderState(t.states[n].state,t.states[n].value);r.IsAlphaTestEnabled()?(i.useProgram(t.shadowShaderProgram.program),r.shadowHandles=t.shadowShaderProgram):(i.useProgram(t.shaderProgram.program),r.shadowHandles=null)}HasConstant(e){return this.constructor.Has(this.techniques,"constants",e)}HasTexture(e){return this.constructor.Has(this.techniques,"textures",e)}HasSampler(e){return this.constructor.Has(this.techniques,"samplers",e)}static Has(e,t,r){for(var i in e)if(e.hasOwnProperty(i))for(var n=e[i],a=0;a<n.passes.length;a++)for(var o=n.passes[a],s=0;s<o.stages.length;s++)for(var u=o.stages[s],l=0;l<u[t].length;l++)if(u[t][l].name===r)return!0;return!1}static CompileShader(e,t,r,i,n){var a=s.device.gl,u=a.createShader(0===e?a.VERTEX_SHADER:a.FRAGMENT_SHADER),l=s.device.GetExtension("CCP_shader_binary");if(l)l.shaderBinary(u,r);else{var c=t+(Object(o.isString)(r)?r:String.fromCharCode.apply(null,r));c=c.substr(0,c.length-1),a.shaderSource(u,c),a.compileShader(u)}if(!a.getShaderParameter(u,a.COMPILE_STATUS)){if(!n)throw new m({path:i,shaderType:0===e?"vertex":"fragment",infoLog:a.getShaderInfoLog(u)});return null}return u}static CreateProgram(e,t,r,i,n){var a=s.device.gl,o={};if(o.program=a.createProgram(),a.attachShader(o.program,e),a.attachShader(o.program,t),a.linkProgram(o.program),!a.getProgramParameter(o.program,a.LINK_STATUS)){if(!n)throw new p({path:i,infoLog:a.getProgramInfoLog(o.program)});return null}a.useProgram(o.program),o.constantBufferHandles=[];for(var u=0;u<16;++u)o.constantBufferHandles[u]=a.getUniformLocation(o.program,"cb"+u);o.samplerHandles=[];for(var c=0;c<16;++c)o.samplerHandles[c]=a.getUniformLocation(o.program,"s"+c),a.uniform1i(o.samplerHandles[c],c);for(var f=0;f<16;++f)o.samplerHandles[f+12]=a.getUniformLocation(o.program,"vs"+f),a.uniform1i(o.samplerHandles[f+12],f+12);o.input=new l.Tw2VertexDeclaration;for(var d=0;d<r.stages[0].inputDefinition.elements.length;++d){var h="attr"+d,m=a.getAttribLocation(o.program,h);if(m>=0){var b=l.Tw2VertexElement.from({usage:r.stages[0].inputDefinition.elements[d].usage,usageIndex:r.stages[0].inputDefinition.elements[d].usageIndex,location:m,attr:h});o.input.elements.push(b)}}o.input.RebuildHash(),o.shadowStateInt=a.getUniformLocation(o.program,"ssi"),o.shadowStateFloat=a.getUniformLocation(o.program,"ssf"),o.shadowStateYFlip=a.getUniformLocation(o.program,"ssyf"),a.uniform3f(o.shadowStateYFlip,0,0,1),o.volumeSlices=[];for(var v=0;v<r.stages[1].samplers.length;++v)r.stages[1].samplers[v].isVolume&&(o.volumeSlices[r.stages[1].samplers[v].registerIndex]=a.getUniformLocation(o.program,"s"+r.stages[1].samplers[v].registerIndex+"sl"));return o}static InspectShaderCode(e,t){var r,i,n,a=t.substring(t.lastIndexOf("/")+1,t.lastIndexOf(".")).toLowerCase(),o=f[a];if(!o)return e;for(var s in o)o.hasOwnProperty(s)&&(r=e,i=s,n=o[s],e=r.replace(new RegExp(i.replace(/[.*+\-?^${}()|[\]\\]/g,"\\$&"),"g"),n));return e}},n.LinearColor=["Linear red","Linear green","Linear blue","Linear alpha"],n.ConstantIgnore=["PerFrameVS","PerObjectVS","PerFramePS","PerObjectPS"],n.DEBUG_ENABLED=!1,i=a))||i;class m extends d.Tw2Error{constructor(e){super(e,"Error compiling %shaderType% shader (%infoLog%)")}}class p extends d.Tw2Error{constructor(e){super(e,"Error linking shaders")}}},"./core/resource/Tw2TextureRes.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tw2TextureRes",(function(){return u}));var i,n=r("./core/resource/Tw2Resource.js"),a=r("./core/engine/Tw2ResMan.js"),o=r("./utils/index.js"),s=r("./global/index.js"),u=o.meta.ctor("Tw2TextureRes")(i=class e extends n.Tw2Resource{constructor(...e){super(...e),this.texture=null,this.isCube=!1,this.width=0,this.height=0,this.hasMipMaps=!1,this._currentSampler=0,this._isAttached=!1,this._extension=""}Prepare(t){var r=s.device.gl,i="ccpGLFormat"in t?t.ccpGLFormat:r.RGBA;switch(this._extension){case"cube":this.texture=r.createTexture(),r.bindTexture(r.TEXTURE_CUBE_MAP,this.texture);var n=document.createElement("canvas");n.width=n.height=t.height;for(var o=n.getContext("2d"),u=0;u<6;++u)o.drawImage(t,u*n.width,0,n.width,n.height,0,0,n.width,n.height),r.texImage2D(r.TEXTURE_CUBE_MAP_POSITIVE_X+u,0,i,i,r.UNSIGNED_BYTE,n);r.generateMipmap(r.TEXTURE_CUBE_MAP),r.bindTexture(r.TEXTURE_CUBE_MAP,null),this.width=n.width,this.height=n.height,this.hasMipMaps=!0;break;case"png":this.texture=r.createTexture(),r.bindTexture(r.TEXTURE_2D,this.texture),r.texImage2D(r.TEXTURE_2D,0,i,i,r.UNSIGNED_BYTE,t),this.hasMipMaps=e.IsPowerOfTwo(t.width)&&e.IsPowerOfTwo(t.height),this.hasMipMaps&&r.generateMipmap(r.TEXTURE_2D),r.bindTexture(r.TEXTURE_2D,null),this.width=t.width,this.height=t.height;break;case"dds":if(!t.byteLength)throw new a.ErrResourceFormatInvalid({format:"DDS",reason:"file is empty"});var l=s.device.GetExtension("compressed_texture_s3tc"),c=new Int32Array(t,0,s.DDS_HEADER_LENGTH_INT),f=c[s.DDS_HEADER_OFFSET_PF_FOURCC],d=c[s.DDS_HEADER_OFFSET_MAGIC]===s.DDS_MAGIC,h=(c[s.DDS_HEADER_OFFSET_CAPS2]&s.DDSCAPS2_CUBEMAP)===s.DDSCAPS2_CUBEMAP,m=c[s.DDS_HEADER_OFFSET_PF_FOURCC];if(!l)throw new a.ErrResourceFormatUnsupported({format:"DDS",reason:"device not supported"});if(!d)throw new a.ErrResourceFormatInvalid({format:"DDS",reason:"missing magic number"});if(!f)throw new a.ErrResourceFormatInvalid({format:"DDS",reason:"missing FourCC code"});var p,b,v=c[s.DDS_HEADER_OFFSET_WIDTH],g=c[s.DDS_HEADER_OFFSET_HEIGHT],E=c[s.DDS_HEADER_OFFSET_SIZE]+4;switch(m){case s.FOURCC_DXT1:p=8,b=l.COMPRESSED_RGBA_S3TC_DXT1_EXT;break;case s.FOURCC_DXT3:p=16,b=l.COMPRESSED_RGBA_S3TC_DXT3_EXT;break;case s.FOURCC_DXT5:p=16,b=l.COMPRESSED_RGBA_S3TC_DXT5_EXT;break;default:var y=e.Int32ToFourCC(m);throw new a.ErrResourceFormatInvalid({format:"DDS",reason:"Invalid type ".concat(y)})}if(this.hasMipMaps=!1,this.isCube=h,this.width=v,this.height=g,this.isCube)throw new a.ErrResourceFormatUnsupported({format:"DDS cube maps"});this.texture=r.createTexture(),r.bindTexture(r.TEXTURE_2D,this.texture);for(var T=0;T<1;++T){var S=Math.max(4,v)/4*Math.max(4,g)/4*p,w=new Uint8Array(t,E,S);r.compressedTexImage2D(r.TEXTURE_2D,T,b,v,g,0,w),E+=S,v*=.5,g*=.5}r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MAG_FILTER,r.LINEAR),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MIN_FILTER,r.LINEAR),r.bindTexture(r.TEXTURE_2D,null);break;default:throw new a.ErrResourceFormatInvalid({format:this._extension,reason:"Unexpected extension"})}this._isAttached=!1,this.OnPrepared()}DoCustomLoad(t,r){switch(r){case"cube":this._extension=r,this.isCube=!0,t=t.substr(0,t.length-5)+".png";break;case"png":this._extension=r,this.isCube=!1;break;case"dds":return this._extension=r,s.resMan.Fetch(e.AddMipLevelSkipCount(t),"arraybuffer").then(e=>{this.OnLoaded(),s.resMan.Queue(this,e)}).catch(e=>{this.OnError(e)}),!0;default:throw new a.ErrResourceExtensionUnregistered({path:t,extension:r})}s.resMan.AddPendingLoad(t);var i=new Image;return i.crossOrigin="anonymous",i.onerror=()=>{s.resMan.RemovePendingLoad(t),this.OnError(new a.ErrHTTPRequest({path:t}))},i.onload=()=>{s.resMan.RemovePendingLoad(t),s.resMan.Queue(this,i),this.OnLoaded()},i.src=e.AddMipLevelSkipCount(t),!0}Unload(e){return this.texture&&(s.device.gl.deleteTexture(this.texture),this.texture=null),this._extension=null,this._isAttached=!1,this.OnUnloaded(e),!0}Attach(e){this.path="",this.texture=e,this._extension=null,this._isAttached=!0,this.OnLoaded({hide:!0,path:"attachment"}),this.OnPrepared({hide:!0,path:"attachment"})}Reload(e){if(!this._isAttached)return super.Reload(e)}Bind(e,t){var r=s.device,i=r.gl;this.KeepAlive();var n=e.samplerType;if(n===(this.isCube?i.TEXTURE_CUBE_MAP:i.TEXTURE_2D))if(this.texture)e.isVolume&&i.uniform1f(t,this.height/this.width),i.bindTexture(n,this.texture),e.hash!==this._currentSampler&&(e.Apply(r,this.hasMipMaps),this._currentSampler=e.hash);else{var a=n===i.TEXTURE_2D?r.GetFallbackTexture():r.GetFallbackCubeMap();i.bindTexture(n,a)}}static IsPowerOfTwo(e){return 0==(e&e-1)}static AddMipLevelSkipCount(e){var t=s.device;if(t.mipLevelSkipCount>0){var r=e.lastIndexOf(".");r>=0&&(e=e.substr(0,r-2)+"."+t.mipLevelSkipCount.toString()+e.substr(r))}return e}static Int32ToFourCC(e){return String.fromCharCode(255&e,e>>8&255,e>>16&255,e>>24&255)}static CreateImageFrom2DTexture(e,t=512,r=512,i=s.device.gl.RGBA){var n=s.device.gl,a=n.createFramebuffer();n.bindFramebuffer(n.FRAMEBUFFER,a),n.framebufferTexture2D(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0,n.TEXTURE_2D,e,0);var o=new Uint8Array(t*r*4);n.readPixels(0,0,t,r,n.RGBA,n.UNSIGNED_BYTE,o),n.deleteFramebuffer(a);var u=document.createElement("canvas");u.width=t,u.height=r;var l=u.getContext("2d"),c=l.createImageData(t,r);c.data.set(o),l.putImageData(c,0,0);var f=new Image;return f.src=u.toDataURL(),f}})||i},"./core/resource/Tw2VideoRes.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tw2VideoRes",(function(){return u}));var i,n=r("./utils/index.js"),a=r("./global/index.js"),o=r("./core/resource/Tw2Resource.js"),s=r("./core/engine/Tw2ResMan.js"),u=n.meta.ctor("Tw2VideoRes")(i=class extends o.Tw2Resource{constructor(...e){super(...e),this.texture=null,this.video=null,this.width=0,this.height=0,this.cycle=!0,this.playOnLoad=!0,this._currentSampler=0,this._currentTime=-1,this._playable=!1,this._isPlaying=!1,this._onPlaying=null,this._onPause=null,this._onEnded=null}IsGood(){return this.KeepAlive(),super.IsGood()&&this.video&&this._playable}KeepAlive(){this.activeFrame=a.resMan.activeFrame}Play(e=!1,t=null){this.cycle=e,this._onEnded=t,this.video&&this._playable?(this.video.loop=this.cycle,this.video.play()):this.playOnLoad=!0}Pause(){this.video?this.video.pause():this.playOnLoad=!1}Prepare(e){var t=a.device.gl;switch(this._extension){case"mp4":case"webm":case"ogg":this.texture=t.createTexture(),t.bindTexture(t.TEXTURE_2D,this.texture),t.texImage2D(t.TEXTURE_2D,0,t.RGBA,t.RGBA,t.UNSIGNED_BYTE,this.video),t.bindTexture(t.TEXTURE_2D,null),this.width=this.video.width,this.height=this.video.height,this.video.loop=this.cycle,this.playOnLoad&&this.video.play();break;default:throw new s.ErrResourceExtensionUnregistered({path:this.path,extension:this._extension})}this.OnPrepared()}DoCustomLoad(e,t){switch(t){case"mp4":case"webm":case"ogg":this._extension=t;break;default:throw new s.ErrResourceExtensionUnregistered({path:e,extension:t})}return a.resMan.AddPendingLoad(e),this.video=document.createElement("video"),this.video.crossOrigin="anonymous",this.video.muted=!0,this.video.onerror=()=>{a.resMan.RemovePendingLoad(e),this.video=null,this.OnError(new s.ErrHTTPRequest({path:e}))},this.video.oncanplay=()=>{this._playable=!0,this.video.oncanplay=null,a.resMan.RemovePendingLoad(e),a.resMan.Queue(this,void 0,t),this.OnLoaded()},this.video.onended=()=>{this._isPlaying=!1,this._onEnded&&this._onEnded(this)},this.video.onpause=()=>{this._isPlaying=!1,this._onPause&&this._onPause(this)},this.video.onplaying=()=>{this._isPlaying=!0,this._onPlaying&&this._onPlaying(this)},this.video.src=e,!0}Unload(e){return this.texture&&(a.device.gl.deleteTexture(this.texture),this.texture=null),this._extension=null,this._isPlaying=!1,this._playable=!1,this.playOnLoad=!0,this.video=null,this.OnUnloaded(e),!0}Bind(e){var t=a.device,r=t.gl;this.KeepAlive();var i=e.samplerType;i===r.TEXTURE_2D&&(this.texture?(this._currentTime=this.video.currentTime,r.bindTexture(r.TEXTURE_2D,this.texture),r.texImage2D(r.TEXTURE_2D,0,r.RGBA,r.RGBA,r.UNSIGNED_BYTE,this.video),r.bindTexture(r.TEXTURE_2D,null),r.bindTexture(i,this.texture),e.hash!==this._currentSampler&&(e.Apply(t,!1),this._currentSampler=e.hash)):r.bindTexture(r.TEXTURE_2D,t.GetFallbackTexture()))}})||i},"./core/resource/index.js":function(e,t,r){"use strict";r.r(t);var i=r("./core/resource/Tw2EffectRes.js");r.d(t,"Tw2EffectRes",(function(){return i.Tw2EffectRes})),r.d(t,"ErrShaderVersion",(function(){return i.ErrShaderVersion})),r.d(t,"ErrShaderHeaderSize",(function(){return i.ErrShaderHeaderSize})),r.d(t,"ErrShaderPermutationValue",(function(){return i.ErrShaderPermutationValue}));var n=r("./core/resource/Tw2GeometryRes.js");r.d(t,"Tw2GeometryRes",(function(){return n.Tw2GeometryRes})),r.d(t,"ErrGeometryMeshMissingParticleElement",(function(){return n.ErrGeometryMeshMissingParticleElement})),r.d(t,"ErrGeometryMeshElementComponentsMissing",(function(){return n.ErrGeometryMeshElementComponentsMissing})),r.d(t,"ErrGeometryMeshAreaMissing",(function(){return n.ErrGeometryMeshAreaMissing})),r.d(t,"ErrGeometryMeshBoneNameInvalid",(function(){return n.ErrGeometryMeshBoneNameInvalid})),r.d(t,"ErrGeometryMeshEffectBinding",(function(){return n.ErrGeometryMeshEffectBinding})),r.d(t,"ErrGeometryFileType",(function(){return n.ErrGeometryFileType}));var a=r("./core/resource/Tw2LoadingObject.js");r.d(t,"Tw2LoadingObject",(function(){return a.Tw2LoadingObject}));var o=r("./core/resource/Tw2Resource.js");r.d(t,"Tw2Resource",(function(){return o.Tw2Resource}));var s=r("./core/resource/Tw2Shader.js");r.d(t,"Tw2Shader",(function(){return s.Tw2Shader})),r.d(t,"ErrShaderCompile",(function(){return s.ErrShaderCompile})),r.d(t,"ErrShaderLink",(function(){return s.ErrShaderLink}));var u=r("./core/resource/Tw2TextureRes.js");r.d(t,"Tw2TextureRes",(function(){return u.Tw2TextureRes}));var l=r("./core/resource/Tw2VideoRes.js");r.d(t,"Tw2VideoRes",(function(){return l.Tw2VideoRes}))},"./core/resource/shaderOverrides.json":function(e){e.exports=JSON.parse('{"blinkinglightspool":{"r0.xy=r0.xx*c[0+a0.x].xy;":"if(a0.x==0){r0.xy=r0.xx*c[0].xy;}else if(a0.x==1){r0.xy=r0.xx*c[1].xy;}else if(a0.x==2){r0.xy=r0.xx*c[2].xy;}else if(a0.x==3){r0.xy=r0.xx*c[3].xy;}else if(a0.x==4){r0.xy=r0.xx*c[4].xy;}","texcoord=r3.zzww*c[0+a0.x].zwzz;":"if(a0.x==0){texcoord=r3.zzww*c[0].zwzz;}else if(a0.x==1){texcoord=r3.zzww*c[1].zwzz;}else if(a0.x==2){texcoord=r3.zzww*c[2].zwzz;}else if(a0.x==3){texcoord=r3.zzww*c[3].zwzz;}else if(a0.x==4){texcoord=r3.zzww*c[4].zwzz;}"},"boostervolumetric":{"for(int i=0;i<i0.x;++i){":"for(int i=0;i<12;++i){"},"fxarmorimpactv5":{"for(int i=0;i<i0.x;++i){":"for(int i=0;i<255;++i){"},"flarequad":{"r1.xyz=r0.zzw*c[0+a0.x].xyx;":"if(a0.x==0){r1.xyz=r0.zzw*c[0].xyx;}else if(a0.x==1){r1.xyz=r0.zzw*c[1].xyx;}else if(a0.x==2){r1.xyz=r0.zzw*c[2].xyx;}else if (a0.x==3){r1.xyz=r0.zzw*c[3].xyx;}else if(a0.x==4){r1.xyz=r0.zzw*c[4].xyx;}else if(a0.x==5){r1.xyz=r0.zzw*c[5].xyx;}","texcoord.xyw=r0.zzw*c[0+a0.x].zwz;":"if(a0.x==0){texcoord.xyw=r0.zzw*c[0].zwz;}else if(a0.x==1){texcoord.xyw=r0.zzw*c[1].zwz;}else if(a0.x==2){texcoord.xyw=r0.zzw*c[2].zwz;}else if(a0.x==3){texcoord.xyw=r0.zzw*c[3].zwz;}else if(a0.x==4){texcoord.xyw=r0.zzw*c[4].zwz;}else if(a0.x==5){texcoord.xyw=r0.zzw*c[5].zwz;}","r0.x=saturate(sqrt(abs(r0.x)));":"r0.x=clamp(sqrt(abs(r0.x)),0.0,1.0);"}}')},"./core/sampler/Tw2SamplerOverride.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tw2SamplerOverride",(function(){return C}));var i,n,a,o,s,u,l,c,f,d,h,m,p,b,v,g,E,y,T,S,w,_,R,j,A=r("./utils/index.js"),O=r("./core/sampler/Tw2SamplerState.js");function z(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function P(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var x={NONE:0,REPEAT:1,MIRRORED_REPEAT:2,CLAMP_TO_EDGE:3},C=(i=A.meta.ctor("Tw2SamplerOverride"),n=A.meta.string,a=A.meta.enums(x,3),o=A.meta.enums(x,3),s=A.meta.enums(x,3),u=A.meta.enums({NEAREST:0,LINEAR:1},2),l=A.meta.enums({NONE:0,MIPMAP_NEAREST:1,MIPMAP_LINEAR:2},2),c=A.meta.notImplemented,f=A.meta.uint,d=A.meta.uint,h=A.meta.uint,m=A.meta.boolean,i((v=P((b=class{constructor(){z(this,"name",v,this),z(this,"addressU",g,this),z(this,"addressV",E,this),z(this,"addressW",y,this),z(this,"filter",T,this),z(this,"mipFilter",S,this),z(this,"lodBias",w,this),z(this,"maxMipLevel",_,this),z(this,"maxAnisotropy",R,this),z(this,"forceMipMaps",j,this),this._sampler=null,this._isDirty=!0}UpdateValues(){this._isDirty=!0}GetSampler(e,t){if(this._isDirty)this._isDirty=!1;else if(this._sampler)return this._sampler;this._sampler=new O.Tw2SamplerState;var r=this._sampler;r.registerIndex=t.registerIndex,r.name=t.name,r.forceMipMaps=this.forceMipMaps;var{wrapModes:i,gl:n}=e;if(1===this.filter){switch(this.mipFilter){case 0:r.minFilter=n.NEAREST;break;case 1:r.minFilter=n.NEAREST_MIPMAP_NEAREST;break;default:r.minFilter=n.NEAREST_MIPMAP_LINEAR}r.minFilterNoMips=n.NEAREST,r.magFilter=n.NEAREST}else{switch(this.mipFilter){case 0:r.minFilter=n.LINEAR;break;case 1:r.minFilter=n.LINEAR_MIPMAP_NEAREST;break;default:r.minFilter=n.LINEAR_MIPMAP_LINEAR}r.minFilterNoMips=n.LINEAR,r.magFilter=n.LINEAR}return 3!==this.filter&&3!==this.mipFilter||(r.anisotropy=Math.max(this.maxAnisotropy,1)),r.addressU=i[this.addressU],r.addressV=i[this.addressV],r.addressW=i[this.addressW],r.samplerType=t.samplerType,r.isVolume=t.isVolume,r.ComputeHash(),r}}).prototype,"name",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),g=P(b.prototype,"addressU",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),E=P(b.prototype,"addressV",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),y=P(b.prototype,"addressW",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),T=P(b.prototype,"filter",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),S=P(b.prototype,"mipFilter",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),w=P(b.prototype,"lodBias",[c,f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),_=P(b.prototype,"maxMipLevel",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),R=P(b.prototype,"maxAnisotropy",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),j=P(b.prototype,"forceMipMaps",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),p=b))||p)},"./core/sampler/Tw2SamplerState.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tw2SamplerState",(function(){return N}));var i,n,a,o,s,u,l,c,f,d,h,m,p,b,v,g,E,y,T,S,w,_,R,j,A,O,z,P,x,C,D,M,L=r("./utils/index.js"),I=r("./global/index.js");function F(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function G(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var N=(i=L.meta.ctor("Tw2SamplerState"),n=L.meta.string,a=L.meta.uint,o=L.meta.uint,s=L.meta.uint,u=L.meta.uint,l=L.meta.uint,c=L.meta.uint,f=L.meta.uint,d=L.meta.uint,h=L.meta.uint,m=L.meta.uint,p=L.meta.boolean,b=L.meta.uint,v=L.meta.isPrivate,g=L.meta.boolean,i((T=G((y=class{constructor(){F(this,"name",T,this),F(this,"registerIndex",S,this),F(this,"minFilter",w,this),F(this,"maxFilter",_,this),F(this,"magFilter",R,this),F(this,"minFilterNoMips",j,this),F(this,"addressU",A,this),F(this,"addressV",O,this),F(this,"addressW",z,this),F(this,"anisotropy",P,this),F(this,"samplerType",x,this),F(this,"isVolume",C,this),F(this,"hash",D,this),F(this,"forceMipMaps",M,this),this._borderColor=null,this._comparison=null,this._comparisonFunc=null,this._mipLODBias=null,this._minLOD=null,this._maxLOD=null}get filterMode(){return this.minFilterNoMips in I.FilterMode?I.FilterMode[this.minFilterNoMips]:2}get mipFilterMode(){return this.minFilter in I.MipFilterMode?I.MipFilterMode[this.minFilter]:2}ComputeHash(){this.hash=2166136261,this.hash*=16777619,this.hash^=this.minFilter,this.hash*=16777619,this.hash^=this.maxFilter,this.hash*=16777619,this.hash^=this.addressU,this.hash*=16777619,this.hash^=this.addressV,this.hash*=16777619,this.hash^=this.anisotropy,this.hash+=this.forceMipMaps?1:0}Apply(e,t){var r=this.samplerType,i=e.gl,n=e.GetExtension("EXT_texture_filter_anisotropic"),a=t||this.forceMipMaps;i.texParameteri(r,i.TEXTURE_WRAP_S,a?this.addressU:i.CLAMP_TO_EDGE),i.texParameteri(r,i.TEXTURE_WRAP_T,a?this.addressV:i.CLAMP_TO_EDGE),r!==i.TEXTURE_3D&&r!==i.TEXTURE_2D_ARRAY||i.texParameteri(r,i.TEXTURE_WRAP_R,a?this.addressW:i.CLAMP_TO_EDGE),i.texParameteri(r,i.TEXTURE_MIN_FILTER,t?this.minFilter:this.minFilterNoMips),i.texParameteri(r,i.TEXTURE_MAG_FILTER,this.magFilter),n&&e.enableAnisotropicFiltering&&i.texParameterf(r,n.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(this.anisotropy,n.maxAnisotropy))}}).prototype,"name",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),S=G(y.prototype,"registerIndex",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),w=G(y.prototype,"minFilter",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return I.GL_LINEAR}}),_=G(y.prototype,"maxFilter",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return I.GL_LINEAR}}),R=G(y.prototype,"magFilter",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return I.GL_LINEAR}}),j=G(y.prototype,"minFilterNoMips",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return I.GL_LINEAR}}),A=G(y.prototype,"addressU",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return I.GL_REPEAT}}),O=G(y.prototype,"addressV",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return I.GL_REPEAT}}),z=G(y.prototype,"addressW",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return I.GL_REPEAT}}),P=G(y.prototype,"anisotropy",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),x=G(y.prototype,"samplerType",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return I.GL_TEXTURE_2D}}),C=G(y.prototype,"isVolume",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),D=G(y.prototype,"hash",[b,v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),M=G(y.prototype,"forceMipMaps",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),E=y))||E)},"./core/sampler/index.js":function(e,t,r){"use strict";r.r(t);var i=r("./core/sampler/Tw2SamplerState.js");r.d(t,"Tw2SamplerState",(function(){return i.Tw2SamplerState}));var n=r("./core/sampler/Tw2SamplerOverride.js");r.d(t,"Tw2SamplerOverride",(function(){return n.Tw2SamplerOverride}))},"./core/store/Tw2ConstructorStore.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tw2ConstructorStore",(function(){return a}));var i=r("./core/store/Tw2GenericStore.js"),n=r("./utils/index.js");class a extends i.Tw2GenericStore{constructor(e){super();var t=i.STORE.get(this);t.Constructor=e,t.DEBUG_MODE=!1}SetDebugMode(e){var t=i.STORE.get(this);for(var[r,n]of(t.DEBUG_ENABLED=e,t.map))"DEBUG_ENABLED"in n&&(console.log("Debug mode enabled for "+r),n.DEBUG_ENABLED=e)}GetDebugMode(){return i.STORE.get(this).DEBUG_ENABLED}static isValue(e){return Object(n.isFunction)(e)}static onBefore(e,t,r){var{Constructor:n,DEBUG_MODE:a}=i.STORE.get(r);n&&(n.prototype[t]=e),"DEBUG_ENABLED"in e&&(e.DEBUG_ENABLED=a)}}a.isConstructorStore=!0,a.storeName="Constructor"},"./core/store/Tw2GenericStore.js":function(e,t,r){"use strict";r.r(t),r.d(t,"STORE",(function(){return o})),r.d(t,"Tw2GenericStore",(function(){return s})),r.d(t,"ErrStoreKeyReserved",(function(){return l})),r.d(t,"ErrStoreValueInvalid",(function(){return c})),r.d(t,"ErrStoreKeyUnregistered",(function(){return f}));var i=r("./utils/index.js"),n=r("./core/Tw2Error.js"),a=r("./core/Tw2EventEmitter.js"),o=new WeakMap;class s extends a.Tw2EventEmitter{constructor(){super(),o.set(this,{map:new Map})}Set(e,t){var r=this.constructor,{storeName:i}=r;if(r.isValue&&!r.isValue(t))throw new c({storeName:i,key:e});if(r.restrictedKeys&&r.restrictedKeys.includes(e))throw new l({storeName:i,key:e});if(r.onBefore){var n=r.onBefore(t,e,this);n&&(t=n)}return o.get(this).map.set(e,t),this.EmitEvent("stored",{key:e,value:t}),t}Get(e){var{isConstructorStore:t,storeName:r}=this.constructor,[i,n]=u(this,e,t);if(!n){var a=o.get(this);throw a.missing||(a.missing=[]),a.missing.includes(e)||(a.missing.push(e),this.EmitEvent("missing",{key:e})),new f({storeName:r,key:e})}return i!==e&&this.EmitEvent("substitute",{original:e,substitute:i}),n}Has(e){return!!u(this,e,this.constructor.isConstructorStore)[1]}Register(e){e=Object(i.toArray)(e);for(var t=0;t<e.length;t++)for(var r in e[t])e[t].hasOwnProperty(r)&&this.Set(r,e[t][r])}GetMissing(){var{missing:e}=o.get(this);return e?Array.from(e):[]}static isValue(e){return!0}}function u(e,t,r){var{map:n}=o.get(e);if(n.has(t))return[t,n.get(t)];if(r&&Object(i.isTr2OrTri)(t)){var a=Object(i.toTw2)(t);if(n.has(a))return[a,n.get(a)]}return[t]}s.onBefore=null,s.isConstructorStore=!1,s.restrictedKeys=null,s.storeName="Generic";class l extends n.Tw2Error{constructor(e){super(e,"'%storeName%' store key restricted (%key%)")}}class c extends n.Tw2Error{constructor(e){super(e,"'%storeName%' store value invalid (%key%)")}}class f extends n.Tw2Error{constructor(e){super(e,"'%storeName%' store key is unregistered (%key%)")}}},"./core/store/Tw2ResourceDynamicPathStore.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tw2ResourceDynamicPathStore",(function(){return o}));var i=r("./core/store/Tw2GenericStore.js"),n=r("./utils/index.js"),a=r("./core/store/Tw2ResourcePathStore.js");class o extends i.Tw2GenericStore{static isValue(e){return Object(n.isArray)(e)}static onBefore(e){e=Array.from(e);for(var t=0;t<e.length;t++)e[t]=a.Tw2ResourcePathStore.normalizePath(e[t]);return e}}o.storeName="Dynamic resource path"},"./core/store/Tw2ResourceExtensionStore.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tw2ResourceExtensionStore",(function(){return a}));var i=r("./core/store/Tw2GenericStore.js"),n=r("./utils/index.js");class a extends i.Tw2GenericStore{static isValue(e){return Object(n.isFunction)(e)}}a.isConstructorStore=!0,a.storeName="Resource extension"},"./core/store/Tw2ResourcePathStore.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tw2ResourcePathStore",(function(){return o})),r.d(t,"ErrStorePathUndefined",(function(){return s}));var i=r("./core/store/Tw2GenericStore.js"),n=r("./utils/index.js"),a=r("./core/Tw2Error.js");class o extends i.Tw2GenericStore{GetURL(e){var t=(e=o.normalizePath(e)).indexOf(":/");if(-1===t)throw new s({path:e});var r=e.substr(0,t);return"http"===r||"https"===r?e:this.GetPath(r)+e.substr(t+2)}static isValue(e){return Object(n.isString)(e)}static onBefore(e){return"/"!==e.charAt(e.length-1)&&(e+="/"),this.normalizePath(e)}static normalizePath(e){return e=(e=e.toLowerCase()).replace("\\","/")}}o.storeName="Resource path",o.restrictedKeys=["rgba"];class s extends a.Tw2Error{constructor(e){super(e,"Undefined resource prefix")}}},"./core/store/Tw2VariableStore.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tw2VariableStore",(function(){return a}));var i=r("./core/store/Tw2GenericStore.js"),n=r("./utils/index.js");class a extends i.Tw2GenericStore{constructor(e){super(),i.STORE.get(this).typeStore=e}Set(e,t){return Object(n.isPlain)(t)||(t=this.Create(e,t)),super.Set(e,t)}Create(e,t,r){if(Object(n.isPlain)(t)&&(r=t.Type||t.type,t=t.value),Object(n.isFunction)(r))return new r(e,t);var{typeStore:a}=i.STORE.get(this);return Object(n.isString)(r)&&(r=a.Get(r)),r||(r=a.GetByValue(t)),new r(e,t)}SetValue(e,t,r){return this.Get(e).SetValue(t,r)}GetValue(e){return this.Get(e).GetValue(e)}static isValue(e){return e&&Object(n.isFunction)(e.GetValue)&&Object(n.isFunction)(e.SetValue)}}a.storeName="Variable"},"./core/store/Tw2VariableTypeStore.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tw2VariableTypeStore",(function(){return o})),r.d(t,"ErrStoreVariableTypeNotFoundByValue",(function(){return s}));var i=r("./core/store/Tw2GenericStore.js"),n=r("./utils/index.js"),a=r("./core/Tw2Error.js");class o extends i.Tw2GenericStore{GetByValue(e){var{map:t}=i.STORE.get(this);for(var[r,n]of t)if("isValue"in n&&n.isValue(e))return n;throw new s({value:e})}static isValue(e){return Object(n.isFunction)(e)}}o.isConstructorStore=!0,o.storeName="Variable Type";class s extends a.Tw2Error{constructor(e){super(e,"Could not identify variable type from value (%value%)")}}},"./core/store/index.js":function(e,t,r){"use strict";r.r(t);var i=r("./core/store/Tw2GenericStore.js");r.d(t,"Tw2GenericStore",(function(){return i.Tw2GenericStore}));var n=r("./core/store/Tw2ConstructorStore.js");r.d(t,"Tw2ConstructorStore",(function(){return n.Tw2ConstructorStore}));var a=r("./core/store/Tw2VariableTypeStore.js");r.d(t,"Tw2VariableTypeStore",(function(){return a.Tw2VariableTypeStore})),r.d(t,"ErrStoreVariableTypeNotFoundByValue",(function(){return a.ErrStoreVariableTypeNotFoundByValue}));var o=r("./core/store/Tw2VariableStore.js");r.d(t,"Tw2VariableStore",(function(){return o.Tw2VariableStore}));var s=r("./core/store/Tw2ResourcePathStore.js");r.d(t,"Tw2ResourcePathStore",(function(){return s.Tw2ResourcePathStore})),r.d(t,"ErrStorePathUndefined",(function(){return s.ErrStorePathUndefined}));var u=r("./core/store/Tw2ResourceDynamicPathStore.js");r.d(t,"Tw2ResourceDynamicPathStore",(function(){return u.Tw2ResourceDynamicPathStore}));var l=r("./core/store/Tw2ResourceExtensionStore.js");r.d(t,"Tw2ResourceExtensionStore",(function(){return l.Tw2ResourceExtensionStore}))},"./core/value/Tw2Float.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tw2Float",(function(){return b}));var i,n,a,o,s,u,l=r("./utils/index.js");var c,f,d,h,m,p,b=(i=l.meta.ctor("Tw2Float","TriFloat"),n=l.meta.float,i((u=class extends l.meta.Model{constructor(...e){var t,r,i,n;super(...e),t=this,r="value",n=this,(i=s)&&Object.defineProperty(t,r,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}},c=(o=u).prototype,f="value",d=[n],h={configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}},p={},Object.keys(h).forEach((function(e){p[e]=h[e]})),p.enumerable=!!p.enumerable,p.configurable=!!p.configurable,("value"in p||p.initializer)&&(p.writable=!0),p=d.slice().reverse().reduce((function(e,t){return t(c,f,e)||e}),p),m&&void 0!==p.initializer&&(p.value=p.initializer?p.initializer.call(m):void 0,p.initializer=void 0),void 0===p.initializer&&(Object.defineProperty(c,f,p),p=null),s=p,a=o))||a)},"./core/value/index.js":function(e,t,r){"use strict";r.r(t);var i=r("./core/value/Tw2Float.js");r.d(t,"Tw2Float",(function(){return i.Tw2Float}))},"./core/vertex/Tw2VertexDeclaration.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tw2VertexDeclaration",(function(){return p}));var i,n,a,o,s,u,l,c,f=r("./utils/index.js"),d=r("./core/vertex/Tw2VertexElement.js");function h(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function m(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var p=(i=f.meta.ctor("Tw2VertexDeclaration"),n=f.meta.list("Tw2VertexElement"),a=f.meta.list("Tw2VertexElement"),o=f.meta.isPrivate,i((l=m((u=class e{constructor(){h(this,"elements",l,this),h(this,"elementsSorted",c,this)}UpdateValues(){this.RebuildHash()}Clear(){this.elements.splice(0,this.elements.length),this.RebuildHash()}SetStride(e){return this.stride=e,this}RebuildHash(){this.elementsSorted.splice(0,this.elementsSorted.length);for(var t=0;t<this.elements.length;++t)this.elementsSorted.push(this.elements[t]);this.elementsSorted.sort(e.CompareDeclarationElements)}FindUsage(e,t){for(var r=0;r<this.elementsSorted.length;++r){var i=this.elementsSorted[r];if(i.usage===e){if(i.usageIndex===t)return i;if(i.usageIndex>t)return null}if(i.usage>e)return null}return null}SetDeclaration(t,r,i){for(var n=t.gl,a=0,o=0;o<r.elementsSorted.length;++o){var s=r.elementsSorted[o];if(!(s.location<0))for(;;){if(a>=this.elementsSorted.length){n.disableVertexAttribArray(s.location),n.vertexAttrib4f(s.location,0,0,0,0);break}var u=this.elementsSorted[a],l=e.CompareDeclarationElements(u,s);if(l>0){n.disableVertexAttribArray(s.location),n.vertexAttrib4f(s.location,0,0,0,0);break}if(0===l){u.customSetter?u.customSetter(s):(n.enableVertexAttribArray(s.location),n.vertexAttribPointer(s.location,u.elements,u.type,!1,i,u.offset));break}a++}}return!0}SetPartialDeclaration(t,r,i,n,a){for(var o=t.gl,s=[],u=0,l=0;l<r.elementsSorted.length;++l){var c=r.elementsSorted[l];if(!(c.location<0))for(;;){var f=this.elementsSorted[u],d=e.CompareDeclarationElements(f,c,n);if(0===d){f.customSetter?f.customSetter(c):(o.enableVertexAttribArray(c.location),o.vertexAttribPointer(c.location,f.elements,f.type,!1,i,f.offset),o.vertexAttribDivisor(c.location,a),a&&s.push(c.location));break}if(d>0){a||(o.disableVertexAttribArray(c.location),o.vertexAttrib4f(c.location,0,0,0,0));break}if(++u>=this.elementsSorted.length)return a||(o.disableVertexAttribArray(c.location),o.vertexAttrib4f(c.location,0,0,0,0)),s}}return s}ResetInstanceDivisors(e,t){if(t)for(var r=0;r<t.length;++r)e.gl.vertexAttribDivisor(t[r],0)}static CompareDeclarationElements(e,t,r=0){return e.usage<t.usage?-1:e.usage>t.usage?1:e.usageIndex+r<t.usageIndex?-1:e.usageIndex+r>t.usageIndex?1:0}static from(t,r){var i=new e;if(t){for(var n=0,a=0;a<t.length;a++)t[a].offset=n,i.elements.push(d.Tw2VertexElement.from(t[a])),n+=4*t[a].elements;r&&r.skipUpdate||i.RebuildHash()}return i}}).prototype,"elements",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),c=m(u.prototype,"elementsSorted",[a,o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),s=u))||s)},"./core/vertex/Tw2VertexElement.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tw2VertexElement",(function(){return _}));var i,n,a,o,s,u,l,c,f,d,h,m,p,b,v,g,E,y=r("./utils/index.js"),T=r("./global/engine/Tw2Constant.js");function S(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function w(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var _=(i=y.meta.ctor("Tw2VertexElement"),n=y.meta.uint,a=y.meta.uint,o=y.meta.uint,s=y.meta.uint,u=y.meta.uint,l=y.meta.uint,i((E=g=class e{constructor(){this.customSetter=null,S(this,"elements",d,this),S(this,"location",h,this),S(this,"offset",m,this),S(this,"type",p,this),S(this,"usage",b,this),S(this,"usageIndex",v,this),this._registerIndex=null,this._usedMask=null,this._attr=null}get string(){return e.TypeMap[this.usage]||"UNKNOWN"}static from(t){var r=new e;if(t){var{usage:i,usageIndex:n}=t;r.usage=Object(y.isString)(i)?this.Type[i.toUpperCase()]:i,r.usageIndex=n;var{elements:a=null,offset:o=0,location:s=null,customSetter:u=null}=t;r.offset=o,r.elements=a,r.location=s,r.customSetter=u;var{type:l=T.GL_FLOAT}=t;if(Object(y.isString)(l)&&("GL_"!==l.substring(0,3)&&(l="GL_"+l),void 0===(l=T[l])))throw new ReferenceError("Invalid gl type: ".concat(l));r.type=l;var{registerIndex:c=null,usedMask:f=null,attr:d=null}=t;r._registerIndex=c,r._usedMask=f,r._attr=d}return r}},g.Type={POSITION:0,COLOR:1,NORMAL:2,TANGENT:3,BINORMAL:4,TEXCOORD:5,BLENDWEIGHT:6,BLENDINDICES:7},g.TypeMap=["POSITION","COLOR","NORMAL","TANGENT","BINORMAL","TEXCOORD","BLENDWEIGHT","BLENDINDICES"],d=w((f=E).prototype,"elements",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),h=w(f.prototype,"location",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),m=w(f.prototype,"offset",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),p=w(f.prototype,"type",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),b=w(f.prototype,"usage",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return-1}}),v=w(f.prototype,"usageIndex",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),c=f))||c)},"./core/vertex/index.js":function(e,t,r){"use strict";r.r(t);var i=r("./core/vertex/Tw2VertexDeclaration.js");r.d(t,"Tw2VertexDeclaration",(function(){return i.Tw2VertexDeclaration}));var n=r("./core/vertex/Tw2VertexElement.js");r.d(t,"Tw2VertexElement",(function(){return n.Tw2VertexElement}))},"./curve/Tw2CurveSet.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tw2CurveSet",(function(){return A}));var i,n,a,o,s,u,l,c,f,d,h,m,p,b,v,g,E,y,T,S,w,_=r("./utils/index.js");function R(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function j(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var A=(i=_.meta.ctor("Tw2CurveSet","TriCurveSet"),n=_.meta.string,a=_.meta.list("Tw2ValueBinding"),o=_.meta.list("Tw2Curve"),s=_.meta.boolean,u=_.meta.notImplemented,l=_.meta.list("TriCurveSetRange"),c=_.meta.float,f=_.meta.notImplemented,d=_.meta.float,i((w=class extends _.meta.Model{constructor(...e){super(...e),R(this,"name",p,this),R(this,"bindings",b,this),R(this,"curves",v,this),R(this,"playOnLoad",g,this),R(this,"ranges",E,this),R(this,"scale",y,this),R(this,"useSimTimeRebase",T,this),R(this,"scaledTime",S,this),this._isPlaying=!1}Initialize(){this.playOnLoad&&this.Play()}Play(){this._isPlaying=!0,this.scaledTime=0}PlayFrom(e=0){this._isPlaying=!0,this.scaledTime=e*this.scale}Stop(){this._isPlaying=!1}Update(e){if(this._isPlaying){this.scaledTime+=e*this.scale;for(var t=0;t<this.curves.length;++t)this.curves[t].UpdateValue(this.scaledTime);for(var r=0;r<this.bindings.length;++r)this.bindings[r].CopyValue()}}GetRangeByName(e){for(var t=0;t<this.ranges.length;t++)if(this.ranges[t].name===e)return this.ranges[t];return null}GetMaxCurveDuration(){for(var e=0,t=0;t<this.curves.length;++t)"GetLength"in this.curves[t]&&(e=Math.max(e,this.curves[t].GetLength()));return e}},p=j((m=w).prototype,"name",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),b=j(m.prototype,"bindings",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),v=j(m.prototype,"curves",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),g=j(m.prototype,"playOnLoad",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),E=j(m.prototype,"ranges",[u,l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),y=j(m.prototype,"scale",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),T=j(m.prototype,"useSimTimeRebase",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),S=j(m.prototype,"scaledTime",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),h=m))||h)},"./curve/Tw2ValueBinding.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tw2ValueBinding",(function(){return j})),r.d(t,"ErrBindingValueUndefined",(function(){return A})),r.d(t,"ErrBindingType",(function(){return O})),r.d(t,"ErrBindingReference",(function(){return z}));var i,n,a,o,s,u,l,c,f,d,h,m,p,b,v,g,E,y,T=r("./utils/index.js"),S=r("./math/index.js"),w=r("./core/index.js");function _(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function R(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var j=(i=T.meta.ctor("Tw2ValueBinding","TriValueBinding"),n=T.meta.string,a=T.meta.string,o=T.meta.struct(),s=T.meta.vector4,u=T.meta.float,l=T.meta.string,c=T.meta.struct(),i((y=class e extends T.meta.Model{constructor(...e){super(...e),_(this,"name",h,this),_(this,"destinationAttribute",m,this),_(this,"destinationObject",p,this),_(this,"offset",b,this),_(this,"scale",v,this),_(this,"sourceAttribute",g,this),_(this,"sourceObject",E,this),this._copyFunc=null,this._destinationElement=null,this._destinationIsArray=null,this._destinationIsRGBA=null,this._sourceElement=null,this._sourceIsArray=null,this._sourceIsRGBA=null}Initialize(){this.UpdateValues()}OnValueChanged(){if(null===this._copyFunc&&this.sourceObject&&""!==this.sourceAttribute&&this.destinationObject&&""!==this.destinationAttribute){var t=!1,r=!1,i=this.sourceAttribute.substr(-2);".x"===i||".r"===i?(t=!0,this._sourceElement=0,this.sourceAttribute=this.sourceAttribute.substr(0,this.sourceAttribute.length-2),this._sourceIsRGBA=".r"===i):".y"===i||".g"===i?(t=!0,this._sourceElement=1,this.sourceAttribute=this.sourceAttribute.substr(0,this.sourceAttribute.length-2),this._sourceIsRGBA=".g"===i):".z"===i||".b"===i?(t=!0,this._sourceElement=2,this.sourceAttribute=this.sourceAttribute.substr(0,this.sourceAttribute.length-2),this._sourceIsRGBA=".b"===i):".w"===i||".a"===i?(t=!0,this._sourceElement=3,this.sourceAttribute=this.sourceAttribute.substr(0,this.sourceAttribute.length-2),this._sourceIsRGBA=".a"===i):this.sourceObject instanceof w.Tw2Vector4Parameter&&("v1"===this.sourceAttribute?(t=!0,this._sourceElement=0,this.sourceAttribute="value"):"v2"===this.sourceAttribute?(t=!0,this._sourceElement=1,this.sourceAttribute="value"):"v3"===this.sourceAttribute?(t=!0,this._sourceElement=2,this.sourceAttribute="value"):"v4"===this.sourceAttribute&&(t=!0,this._sourceElement=3,this.sourceAttribute="value"));var n=this.destinationAttribute.substr(-2);".x"===n||".r"===n?(r=!0,this._destinationElement=0,this.destinationAttribute=this.destinationAttribute.substr(0,this.destinationAttribute.length-2),this._destinationIsRGBA=".r"===n):".y"===n||".g"===n?(r=!0,this._destinationElement=1,this.destinationAttribute=this.destinationAttribute.substr(0,this.destinationAttribute.length-2),this._destinationIsRGBA=".g"===n):".z"===n||".b"===n?(r=!0,this._destinationElement=2,this.destinationAttribute=this.destinationAttribute.substr(0,this.destinationAttribute.length-2),this._destinationIsRGBA=".b"===n):".w"===n||".a"===n?(r=!0,this._destinationElement=3,this.destinationAttribute=this.destinationAttribute.substr(0,this.destinationAttribute.length-2),this._destinationIsRGBA=".a"===n):this.destinationObject instanceof w.Tw2Vector4Parameter&&("v1"===this.destinationAttribute?(r=!0,this._destinationElement=0,this.destinationAttribute="value"):"v2"===this.destinationAttribute?(r=!0,this._destinationElement=1,this.destinationAttribute="value"):"v3"===this.destinationAttribute?(r=!0,this._destinationElement=2,this.destinationAttribute="value"):"v4"===this.destinationAttribute&&(r=!0,this._destinationElement=3,this.destinationAttribute="value"));var a=this.sourceObject[this.sourceAttribute],o=this.destinationObject[this.destinationAttribute];if(void 0===a)throw console.dir(this),new A({name:this.name,objectType:"source",property:this.sourceAttribute,object:a});if(void 0===o)throw console.dir(this),new A({name:this.name,objectType:"destination",property:this.destinationAttribute,object:this.destinationObject});var s,u=this._sourceIsArray=Object(T.isArrayLike)(a),l=this._destinationIsArray=Object(T.isArrayLike)(o),c=e;if(u===l&&typeof a==typeof o?u?t?s=r?c.CopyElementToElement:c.ReplicateElement:a.length<=o.length?s=c.CopyArray:16===a.length&&(s=c.ExtractPos):s=c.CopyValueToValue:u&&t&&Object(T.isNumber)(o)?s=c.CopyElementToValue:l&&Object(T.isNumber)(a)?s=r?c.CopyValueToElement:c.ReplicateValue:Object(T.isNumber)(a)&&Object(T.isBoolean)(o)?s=c.CopyFloatToBoolean:Object(T.isBoolean)(a)&&Object(T.isNumber)(o)&&(s=c.CopyBooleanToFloat),!s)throw new O({name:this.name});this._copyFunc=s}}CopyValue(e=this){this._copyFunc&&(this._copyFunc(this),"UpdateValues"in this.destinationObject?this.destinationObject.UpdateValues({controller:e}):"OnValueChanged"in this.destinationObject&&this.destinationObject.OnValueChanged({controller:e}))}GetDestinationTarget(){return this._copyFunc?this.constructor.GetAttribute(this.destinationObject,this.destinationAttribute,this._destinationElement,this._destinationIsRGBA):this.destinationAttribute}GetSourceTarget(){return this._copyFunc?this.constructor.GetAttribute(this.sourceObject,this.sourceAttribute,this._sourceElement,this._sourceIsRGBA):this.sourceAttribute}SetSource(e,t,r,i){var{object:n,attribute:a}=this.constructor.GetTargets(e,t,r,i);this.sourceObject=n,this.sourceAttribute=a,this._copyFunc=null}SetDestination(e,t,r,i){var{object:n,attribute:a}=this.constructor.GetTargets(e,t,r,i);this.destinationObject=n,this.destinationAttribute=a,this._copyFunc=null}static GetAttribute(e,t,r,i){if(e instanceof w.Tw2Vector4Parameter&&"value"===t)switch(r){case 0:return"v0";case 1:return"v1";case 2:return"v2";case 3:return"v4";default:return t}switch(r){case 0:return t+i?".r":".x";case 1:return t+i?".g":".y";case 2:return t+i?".b":".z";case 3:return t+i?".a":".w";default:return t}}static GetTargets(e,t,r,i){if(void 0!==r&&void 0===i&&(i=t.toUpperCase().includes("COLOR")),e instanceof w.Tw2Vector4Parameter&&"value"===t)switch(r){case 0:t="v0";break;case 1:t="v1";break;case 2:t="v2";break;case 3:t="v3"}else switch(r){case 0:t+=i?".r":".x";break;case 1:t+=i?".g":".y";break;case 2:t+=i?".b":".z";break;case 3:t+=i?".a":".w"}return{object:e,attribute:t}}static CopyValueToValue(e){e.destinationObject[e.destinationAttribute]=e.sourceObject[e.sourceAttribute]*e.scale+e.offset[0]}static CopyArray(e){for(var t=Math.min(e.destinationObject[e.destinationAttribute].length,e.sourceObject[e.sourceAttribute].length),r=0;r<t;++r)e.destinationObject[e.destinationAttribute][r]=e.sourceObject[e.sourceAttribute][r]*e.scale+e.offset[r]}static CopyElementToElement(e){e.destinationObject[e.destinationAttribute][e._destinationElement]=e.sourceObject[e.sourceAttribute][e._sourceElement]*e.scale+e.offset[0]}static ReplicateValue(e){for(var t=0;t<e.destinationObject[e.destinationAttribute].length;++t)e.destinationObject[e.destinationAttribute][t]=e.sourceObject[e.sourceAttribute]*e.scale+e.offset[t]}static ReplicateElement(e){for(var t=0;t<e.destinationObject[e.destinationAttribute].length;++t)e.destinationObject[e.destinationAttribute][t]=e.sourceObject[e.sourceAttribute][e._sourceElement]*e.scale+e.offset[t]}static ExtractPos(e){for(var t=0;t<e.destinationObject[e.destinationAttribute].length;++t)e.destinationObject[e.destinationAttribute][t]=e.sourceObject[e.sourceAttribute][t+12]*e.scale+e.offset[t]}static CopyElementToValue(e){e.destinationObject[e.destinationAttribute]=e.sourceObject[e.sourceAttribute][e._sourceElement]*e.scale+e.offset[0]}static CopyValueToElement(e){e.destinationObject[e.destinationAttribute][e._destinationElement]=e.sourceObject[e.sourceAttribute]*e.scale+e.offset[0]}static CopyFloatToBoolean(e){e.destinationObject[e.destinationAttribute]=0!==e.sourceObject[e.sourceAttribute]}static CopyBooleanToFloat(e){e.destinationObject[e.destinationAttribute]=e.sourceObject[e.sourceAttribute]?1:0}},h=R((d=y).prototype,"name",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),m=R(d.prototype,"destinationAttribute",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),p=R(d.prototype,"destinationObject",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),b=R(d.prototype,"offset",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return S.vec4.create()}}),v=R(d.prototype,"scale",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),g=R(d.prototype,"sourceAttribute",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),E=R(d.prototype,"sourceObject",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),f=d))||f);class A extends w.Tw2Error{constructor(e){super(e,"Error binding '%name=unknown%', %objectType%'s property is undefined (%property%)")}}class O extends w.Tw2Error{constructor(e){super(e,"Error binding '%name=unknown%', cannot identify binding type")}}class z extends w.Tw2Error{constructor(e){super(e,"Error binding '%name=unknown%', could not find '%object%' object reference")}}},"./curve/curve/Tw2Curve.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tw2CurveKey",(function(){return y})),r.d(t,"Tw2Curve",(function(){return T}));var i,n,a,o,s,u,l,c,f,d,h,m,p,b=r("./utils/index.js"),v=r("./math/index.js");function g(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function E(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var y=(i=b.meta.string,n=b.meta.float,u=class extends b.meta.Model{constructor(...e){super(...e),g(this,"name",o,this),g(this,"time",s,this)}},o=E((a=u).prototype,"name",[i],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),s=E(a.prototype,"time",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),a),T=(l=b.meta.string,c=b.meta.abstract,f=b.meta.abstract,p=m=class e extends b.meta.Model{constructor(...e){super(...e),g(this,"name",h,this)}Initialize(){this.Sort()}Sort(){}GetLength(){}UpdateValue(e){}static Compare(e,t){return e.time<t.time?-1:e.time>t.time?1:0}static Sort(t,r=t.keys){r&&r.length&&(r.sort(e.Compare),t.length=r[r.length-1].time)}static Sort2(t){if(t.keys&&t.keys.length){t.keys.sort(e.Compare);var r=t.keys[t.keys.length-1];if(r.time>t.length){var i=t.length,n=t.endValue,a=t.endTangent;t.length=r.time,t.endValue=r.value,t.endTangent=r.leftTangent,i>0&&(r.time=i,r.value=n,r.leftTangent=a)}}}static Sort3(e){e.sort((e,t)=>e.index<t.index?-1:e.index>t.index?1:0);for(var t=0,r=0;r<e.length;r++)e[r].index=r,r===e.length-1&&(t=e[r].time);return t}},m.inputDimension=null,m.outputDimension=null,m.valueProperty=null,m.curveType=null,m.Key=null,m.Interpolation=null,m.Extrapolation=null,m.Type={CURVE:1,CURVE2:2,CURVE3:3,CURVE_MAYA:4,CURVE_NO_KEYS:5,SEQUENCER:100,SEQUENCER2:101,EXPRESSION:200,ADAPTER:300},m.global={vec3_0:v.vec3.create(),vec4_0:v.vec4.create(),quat_0:v.quat.create(),quat_1:v.quat.create()},h=E((d=p).prototype,"name",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),E(d.prototype,"GetLength",[c],Object.getOwnPropertyDescriptor(d.prototype,"GetLength"),d.prototype),E(d.prototype,"UpdateValue",[f],Object.getOwnPropertyDescriptor(d.prototype,"UpdateValue"),d.prototype),d)},"./curve/curve/Tw2EventCurve.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tw2EventKey",(function(){return x})),r.d(t,"Tw2EventCurve",(function(){return C}));var i,n,a,o,s,u,l,c,f,d,h,m,p,b,v,g,E,y,T,S,w,_,R,j=r("./curve/curve/Tw2Curve.js"),A=r("./utils/index.js");function O(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function z(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var P={NONE:0,CYCLE:3},x=(i=A.meta.ctor("Tw2EventKey","TriEventKey"),n=A.meta.float,a=A.meta.ushort,i((c=class extends j.Tw2CurveKey{constructor(...e){super(...e),O(this,"time",u,this),O(this,"value",l,this)}},u=z((s=c).prototype,"time",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),l=z(s.prototype,"value",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),o=s))||o),C=(f=A.meta.ctor("Tw2EventCurve","TriEventCurve"),d=A.meta.string,h=A.meta.uint,m=A.meta.enums(P),p=A.meta.list("Tw2EventKey"),b=A.meta.ushort,v=A.meta.isPrivate,f((R=_=class e extends j.Tw2Curve{constructor(...e){super(...e),O(this,"name",y,this),O(this,"extrapolation",T,this),O(this,"keys",S,this),O(this,"value",w,this),this._time=0,this._currentKey=0,this._length=0}Sort(){this.keys.length&&(this.keys.sort(j.Tw2Curve.Compare),this._length=this.keys[this.keys.length-1].time)}GetLength(){return this._length}UpdateValue(t){if(this._length<=0)return this.value;var r=this._time;if(this._time=t,this._time<r&&(this._currentKey=0),this.extrapolation===e.Extrapolation.CYCLE){var i=this._time%this._length;i<r&&(this._currentKey=0),this._time=i}for(;this._currentKey<this.keys.length&&this._time>=this.keys[this._currentKey].time;)this.value=this.keys[this._currentKey].value,++this._currentKey}},_.dimension=1,_.outputDimension=1,_.valueProperty="value",_.curveType=j.Tw2Curve.Type.CURVE,_.Key=x,_.Extrapolation=P,y=z((E=R).prototype,"name",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),T=z(E.prototype,"extrapolation",[h,m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),S=z(E.prototype,"keys",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),w=z(E.prototype,"value",[b,v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),g=E))||g)},"./curve/curve/Tw2PerlinCurve.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tw2PerlinCurve",(function(){return P}));var i,n,a,o,s,u,l,c,f,d,h,m,p,b,v,g,E,y,T,S,w,_,R=r("./utils/index.js"),j=r("./math/index.js"),A=r("./curve/curve/Tw2Curve.js");function O(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function z(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var P=(i=R.meta.ctor("Tw2PerlinCurve","TriPerlinCurve"),n=R.meta.string,a=R.meta.float,o=R.meta.float,s=R.meta.uint,u=R.meta.float,l=R.meta.float,c=R.meta.float,f=R.meta.float,d=R.meta.isPrivate,i((_=w=class extends A.Tw2Curve{constructor(...e){super(...e),O(this,"name",p,this),O(this,"alpha",b,this),O(this,"beta",v,this),O(this,"N",g,this),O(this,"offset",E,this),O(this,"scale",y,this),O(this,"speed",T,this),O(this,"value",S,this)}Sort(){}GetLength(){return 0}UpdateValue(e){this.value=this.GetValueAt(e)}GetValueAt(e){return e-=this.offset,(j.noise.perlin1D(e*this.speed,this.alpha,this.beta,this.N)+1)/2*this.scale+this.offset}},w.outputDimension=1,w.valueProperty="value",w.curveType=A.Tw2Curve.Type.CURVE_NO_KEYS,p=z((m=_).prototype,"name",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),b=z(m.prototype,"alpha",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),v=z(m.prototype,"beta",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),g=z(m.prototype,"N",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),E=z(m.prototype,"offset",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),y=z(m.prototype,"scale",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),T=z(m.prototype,"speed",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),S=z(m.prototype,"value",[f,d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),h=m))||h)},"./curve/curve/index.js":function(e,t,r){"use strict";r.r(t);var i=r("./curve/curve/Tw2EventCurve.js");r.d(t,"Tw2EventKey",(function(){return i.Tw2EventKey})),r.d(t,"Tw2EventCurve",(function(){return i.Tw2EventCurve}));var n=r("./curve/curve/Tw2PerlinCurve.js");r.d(t,"Tw2PerlinCurve",(function(){return n.Tw2PerlinCurve}));var a=r("./curve/curve/Tw2Curve.js");r.d(t,"Tw2CurveKey",(function(){return a.Tw2CurveKey})),r.d(t,"Tw2Curve",(function(){return a.Tw2Curve}));var o=r("./curve/curve/legacy/index.js");r.d(t,"Tw2ColorKey",(function(){return o.Tw2ColorKey})),r.d(t,"Tw2ColorCurve",(function(){return o.Tw2ColorCurve})),r.d(t,"Tw2ColorKey2",(function(){return o.Tw2ColorKey2})),r.d(t,"Tw2ColorCurve2",(function(){return o.Tw2ColorCurve2})),r.d(t,"Tw2QuaternionKey2",(function(){return o.Tw2QuaternionKey2})),r.d(t,"Tw2QuaternionCurve",(function(){return o.Tw2QuaternionCurve})),r.d(t,"Tw2RandomConstantCurve",(function(){return o.Tw2RandomConstantCurve})),r.d(t,"Tw2Torque",(function(){return o.Tw2Torque})),r.d(t,"Tw2RigidOrientation",(function(){return o.Tw2RigidOrientation})),r.d(t,"Tw2QuaternionKey",(function(){return o.Tw2QuaternionKey})),r.d(t,"Tw2RotationCurve",(function(){return o.Tw2RotationCurve})),r.d(t,"Tw2ScalarKey",(function(){return o.Tw2ScalarKey})),r.d(t,"Tw2ScalarCurve",(function(){return o.Tw2ScalarCurve})),r.d(t,"Tw2ScalarKey2",(function(){return o.Tw2ScalarKey2})),r.d(t,"Tw2ScalarCurve2",(function(){return o.Tw2ScalarCurve2})),r.d(t,"Tw2SineCurve",(function(){return o.Tw2SineCurve})),r.d(t,"Tw2Vector2Key",(function(){return o.Tw2Vector2Key})),r.d(t,"Tw2Vector2Curve",(function(){return o.Tw2Vector2Curve})),r.d(t,"Tw2Vector3Key",(function(){return o.Tw2Vector3Key})),r.d(t,"Tw2Vector3Curve",(function(){return o.Tw2Vector3Curve})),r.d(t,"Tw2VectorKey",(function(){return o.Tw2VectorKey})),r.d(t,"Tw2VectorCurve",(function(){return o.Tw2VectorCurve}))},"./curve/curve/legacy/Tw2ColorCurve.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tw2ColorKey",(function(){return N})),r.d(t,"Tw2ColorCurve",(function(){return B}));var i,n,a,o,s,u,l,c,f,d,h,m,p,b,v,g,E,y,T,S,w,_,R,j,A,O,z,P,x,C=r("./utils/index.js"),D=r("./math/index.js"),M=r("./curve/curve/Tw2Curve.js");function L(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function I(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var F={NONE:0,CONSTANT:1,GRADIENT:2,CYCLE:3},G={NONE:0,CONSTANT:1,LINEAR:2},N=(i=C.meta.ctor("Tw2ColorKey"),n=C.meta.vector4,a=C.meta.vector4,o=C.meta.vector4,s=C.meta.enums(G),i((m=class extends M.Tw2CurveKey{constructor(...e){super(...e),L(this,"value",c,this),L(this,"left",f,this),L(this,"right",d,this),L(this,"interpolation",h,this)}},c=I((l=m).prototype,"value",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return D.vec4.create()}}),f=I(l.prototype,"left",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return D.vec4.create()}}),d=I(l.prototype,"right",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return D.vec4.create()}}),h=I(l.prototype,"interpolation",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),u=l))||u),B=(p=C.meta.ctor("Tw2ColorCurve"),b=C.meta.float,v=C.meta.vector4,g=C.meta.isPrivate,E=C.meta.enums(F),y=C.meta.list("Tw2ColorKey"),T=C.meta.float,S=C.meta.isPrivate,p((x=P=class extends M.Tw2Curve{constructor(...e){super(...e),L(this,"start",R,this),L(this,"value",j,this),L(this,"extrapolation",A,this),L(this,"keys",O,this),L(this,"length",z,this),this._currentKey=1}Sort(){M.Tw2Curve.Sort(this)}GetLength(){return this.length}UpdateValue(e){this.GetValueAt(e,this.value)}GetValueAt(e,t){if(0===this.length)return D.vec4.copy(t,this.value);var r=this.keys[0],i=this.keys[this.keys.length-1];if(e>=i.time)switch(this.extrapolation){case F.NONE:return D.vec4.copy(t,this.value);case F.CONSTANT:return D.vec4.copy(t,i.value);case F.GRADIENT:return D.vec4.scaleAndAdd(t,i.value,i.right,e-i.time);default:e%=i.time}else if(e<0||e<r.time)switch(this.extrapolation){case F.NONE:return D.vec4.copy(t,this.value);case F.GRADIENT:return D.vec4.scaleAndAdd(t,r.value,r.left,e*this.length-i.time);default:return D.vec4.copy(t,r.value)}for(var n=this.keys[this._currentKey],a=this.keys[this._currentKey-1];e>=n.time||e<a.time;)e<a.time&&(this._currentKey=0),this._currentKey++,n=this.keys[this._currentKey],a=this.keys[this._currentKey-1];var o=(e-a.time)/(n.time-a.time);switch(a.interpolation){case G.CONSTANT:return D.vec4.copy(t,a.value);default:return t[0]=a.value[0]*(1-o)+n.value[0]*o,t[1]=a.value[1]*(1-o)+n.value[1]*o,t[2]=a.value[2]*(1-o)+n.value[2]*o,t[3]=a.value[3]*(1-o)+n.value[3]*o,t}}},P.inputDimension=4,P.outputDimension=4,P.valueProperty="value",P.curveType=M.Tw2Curve.Type.CURVE,P.Key=N,P.Extrapolation=F,P.Interpolation=G,R=I((_=x).prototype,"start",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),j=I(_.prototype,"value",[v,g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return D.vec4.create()}}),A=I(_.prototype,"extrapolation",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),O=I(_.prototype,"keys",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),z=I(_.prototype,"length",[T,S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),w=_))||w)},"./curve/curve/legacy/Tw2ColorCurve2.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tw2ColorKey2",(function(){return $})),r.d(t,"Tw2ColorCurve2",(function(){return J}));var i,n,a,o,s,u,l,c,f,d,h,m,p,b,v,g,E,y,T,S,w,_,R,j,A,O,z,P,x,C,D,M,L,I,F,G,N,B,U,V,k,H,q,W=r("./utils/index.js"),Y=r("./math/index.js"),X=r("./curve/curve/Tw2Curve.js");function K(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function Q(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var Z={CONSTANT:0,LINEAR:1},$=(i=W.meta.ctor("Tw2ColorKey2"),n=W.meta.vector4,a=W.meta.vector4,o=W.meta.vector4,s=W.meta.enums(Z),i((m=class extends X.Tw2CurveKey{constructor(...e){super(...e),K(this,"value",c,this),K(this,"leftTangent",f,this),K(this,"rightTangent",d,this),K(this,"interpolation",h,this)}},c=Q((l=m).prototype,"value",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Y.vec4.create()}}),f=Q(l.prototype,"leftTangent",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Y.vec4.create()}}),d=Q(l.prototype,"rightTangent",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Y.vec4.create()}}),h=Q(l.prototype,"interpolation",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),u=l))||u),J=(p=W.meta.ctor("Tw2ColorCurve2"),b=W.meta.boolean,v=W.meta.boolean,g=W.meta.float,E=W.meta.float,y=W.meta.vector4,T=W.meta.vector4,S=W.meta.isPrivate,w=W.meta.vector4,_=W.meta.vector4,R=W.meta.vector4,j=W.meta.enums(Z),A=W.meta.list("Tw2ColorKey2"),O=W.meta.float,z=W.meta.isPrivate,p((q=H=class extends X.Tw2Curve{constructor(...e){super(...e),K(this,"cycle",C,this),K(this,"reversed",D,this),K(this,"timeOffset",M,this),K(this,"timeScale",L,this),K(this,"startValue",I,this),K(this,"currentValue",F,this),K(this,"endValue",G,this),K(this,"startTangent",N,this),K(this,"endTangent",B,this),K(this,"interpolation",U,this),K(this,"keys",V,this),K(this,"length",k,this)}Sort(){X.Tw2Curve.Sort2(this)}GetLength(){return this.length}UpdateValue(e){this.GetValueAt(e,this.currentValue)}GetValueAt(e,t){if(e=e/this.timeScale+this.timeOffset,this.length<=0||e<=0)return Y.vec4.copy(t,this.startValue);if(e>this.length){if(!this.cycle)return this.reversed?Y.vec4.copy(t,this.startValue):Y.vec4.copy(t,this.endValue);e%=this.length}if(this.reversed&&(e=this.length-e),0===this.keys.length)return this.Interpolate(e,null,null,t);var r=this.keys[0],i=this.keys[this.keys.length-1];if(e<=r.time)return this.Interpolate(e,null,r,t);if(e>=i.time)return this.Interpolate(e,i,null,t);for(var n=0;n+1<this.keys.length&&(r=this.keys[n],i=this.keys[n+1],!(r.time<=e&&i.time>e));++n);return this.Interpolate(e,r,i,t)}Interpolate(e,t,r,i){Y.vec4.copy(i,this.startValue);var n=this.startValue,a=this.endValue,o=this.interpolation,s=this.length;switch(null!==t&&(o=t.interpolation,e-=t.time),o){case Z.LINEAR:return t&&r?(n=t.value,a=r.value,s=r.time-t.time):r?(a=r.value,s=r.time):t&&(n=t.value,s=this.length-t.time),i[0]=n[0]+(a[0]-n[0])*(e/s),i[1]=n[1]+(a[1]-n[1])*(e/s),i[2]=n[2]+(a[2]-n[2])*(e/s),i[3]=n[3]+(a[3]-n[3])*(e/s),i;default:return i}}},H.inputDimension=4,H.outputDimension=4,H.valueProperty="currentValue",H.curveType=X.Tw2Curve.Type.CURVE2,H.Key=$,H.Interpolation=Z,C=Q((x=q).prototype,"cycle",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),D=Q(x.prototype,"reversed",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),M=Q(x.prototype,"timeOffset",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),L=Q(x.prototype,"timeScale",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),I=Q(x.prototype,"startValue",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Y.vec4.fromValues(0,0,0,1)}}),F=Q(x.prototype,"currentValue",[T,S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Y.vec4.fromValues(0,0,0,1)}}),G=Q(x.prototype,"endValue",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Y.vec4.fromValues(0,0,0,1)}}),N=Q(x.prototype,"startTangent",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Y.vec4.create()}}),B=Q(x.prototype,"endTangent",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Y.vec4.create()}}),U=Q(x.prototype,"interpolation",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),V=Q(x.prototype,"keys",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),k=Q(x.prototype,"length",[O,z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),P=x))||P)},"./curve/curve/legacy/Tw2QuaternionCurve.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tw2QuaternionKey2",(function(){return $})),r.d(t,"Tw2QuaternionCurve",(function(){return J}));var i,n,a,o,s,u,l,c,f,d,h,m,p,b,v,g,E,y,T,S,w,_,R,j,A,O,z,P,x,C,D,M,L,I,F,G,N,B,U,V,k,H,q,W=r("./utils/index.js"),Y=r("./math/index.js"),X=r("./curve/curve/Tw2Curve.js");function K(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function Q(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var Z={CONSTANT:0,SPHERICAL_LINEAR:4},$=(i=W.meta.ctor("Tw2QuaternionKey2"),n=W.meta.quaternion,a=W.meta.vector4,o=W.meta.vector4,s=W.meta.enums(Z),i((m=class extends X.Tw2CurveKey{constructor(...e){super(...e),K(this,"value",c,this),K(this,"leftTangent",f,this),K(this,"rightTangent",d,this),K(this,"interpolation",h,this)}},c=Q((l=m).prototype,"value",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Y.quat.create()}}),f=Q(l.prototype,"leftTangent",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Y.vec4.create()}}),d=Q(l.prototype,"rightTangent",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Y.vec4.create()}}),h=Q(l.prototype,"interpolation",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),u=l))||u),J=(p=W.meta.ctor("Tw2QuaternionCurve"),b=W.meta.boolean,v=W.meta.boolean,g=W.meta.float,E=W.meta.float,y=W.meta.quaternion,T=W.meta.quaternion,S=W.meta.isPrivate,w=W.meta.quaternion,_=W.meta.vector4,R=W.meta.vector4,j=W.meta.enums(Z),A=W.meta.list("Tw2QuaternionKey"),O=W.meta.float,z=W.meta.isPrivate,p((q=H=class extends X.Tw2Curve{constructor(...e){super(...e),K(this,"cycle",C,this),K(this,"reversed",D,this),K(this,"timeOffset",M,this),K(this,"timeScale",L,this),K(this,"startValue",I,this),K(this,"currentValue",F,this),K(this,"endValue",G,this),K(this,"startTangent",N,this),K(this,"endTangent",B,this),K(this,"interpolation",U,this),K(this,"keys",V,this),K(this,"length",k,this)}Sort(){X.Tw2Curve.Sort2(this)}GetLength(){return this.length}UpdateValue(e){this.GetValueAt(e,this.currentValue)}GetValueAt(e,t){if(e=e/this.timeScale+this.timeOffset,this.length<=0||e<=0)return t[0]=this.startValue[0],t[1]=this.startValue[1],t[2]=this.startValue[2],t;if(e>this.length){if(!this.cycle)return this.reversed?(t[0]=this.startValue[0],t[1]=this.startValue[1],t[2]=this.startValue[2],t):(t[0]=this.endValue[0],t[1]=this.endValue[1],t[2]=this.endValue[2],t);e%=this.length}if(this.reversed&&(e=this.length-e),0===this.keys.length)return this.Interpolate(e,null,null,t);var r=this.keys[0],i=this.keys[this.keys.length-1];if(e<=r.time)return this.Interpolate(e,null,r,t);if(e>=i.time)return this.Interpolate(e,i,null,t);for(var n=0;n+1<this.keys.length&&(r=this.keys[n],i=this.keys[n+1],!(r.time<=e&&i.time>e));++n);return this.Interpolate(e,r,i,t)}Interpolate(e,t,r,i){i[0]=this.startValue[0],i[1]=this.startValue[1],i[2]=this.startValue[2];var n=this.startValue,a=this.endValue,o=this.interpolation,s=this.length;switch(null!==t&&(o=t.interpolation,e-=t.time),o){case Z.SPHERICAL_LINEAR:return t&&r?(n=t.value,a=r.value,s=r.time-t.time):r?(a=r.value,s=r.time):t&&(n=t.value,s=this.length-t.time),Y.quat.slerp(i,n,a,e/s),i;default:return i}}},H.inputDimension=4,H.outputDimension=4,H.valueProperty="currentValue",H.curveType=X.Tw2Curve.Type.CURVE2,H.Key=$,H.Interpolation=Z,C=Q((x=q).prototype,"cycle",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),D=Q(x.prototype,"reversed",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),M=Q(x.prototype,"timeOffset",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),L=Q(x.prototype,"timeScale",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),I=Q(x.prototype,"startValue",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Y.quat.create()}}),F=Q(x.prototype,"currentValue",[T,S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Y.quat.create()}}),G=Q(x.prototype,"endValue",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Y.quat.create()}}),N=Q(x.prototype,"startTangent",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Y.vec4.create()}}),B=Q(x.prototype,"endTangent",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Y.vec4.create()}}),U=Q(x.prototype,"interpolation",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),V=Q(x.prototype,"keys",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),k=Q(x.prototype,"length",[O,z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),P=x))||P)},"./curve/curve/legacy/Tw2RandomConstantCurve.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tw2RandomConstantCurve",(function(){return T}));var i,n,a,o,s,u,l,c,f,d,h,m,p,b,v=r("./utils/index.js"),g=r("./curve/curve/Tw2Curve.js");function E(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function y(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var T=(i=v.meta.ctor("Tw2RandomConstantCurve"),n=v.meta.float,a=v.meta.isPrivate,o=v.meta.float,s=v.meta.float,u=v.meta.boolean,i((b=p=class extends g.Tw2Curve{constructor(...e){super(...e),E(this,"value",f,this),E(this,"min",d,this),E(this,"max",h,this),E(this,"hold",m,this)}Sort(){}GetLength(){return 0}UpdateValue(){this.value=this.GetValueAt()}GetValueAt(){return this.hold?this.value:this.min+(this.max-this.min)*Math.random()}},p.outputDimension=1,p.valueProperty="value",p.curveType=g.Tw2Curve.Type.CURVE_NO_KEYS,f=y((c=b).prototype,"value",[n,a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),d=y(c.prototype,"min",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),h=y(c.prototype,"max",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),m=y(c.prototype,"hold",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),l=c))||l)},"./curve/curve/legacy/Tw2RigidOrientation.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tw2Torque",(function(){return N})),r.d(t,"Tw2RigidOrientation",(function(){return B}));var i,n,a,o,s,u,l,c,f,d,h,m,p,b,v,g,E,y,T,S,w,_,R,j,A,O,z,P,x,C,D,M=r("./utils/index.js"),L=r("./math/index.js"),I=r("./curve/curve/Tw2Curve.js");function F(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function G(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var N=(i=M.meta.ctor("Tw2Torque"),n=M.meta.quaternion,a=M.meta.vector4,o=M.meta.vector4,i((d=class extends I.Tw2CurveKey{constructor(...e){super(...e),F(this,"rot0",l,this),F(this,"omega0",c,this),F(this,"torque",f,this)}},l=G((u=d).prototype,"rot0",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return L.quat.create()}}),c=G(u.prototype,"omega0",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return L.vec3.create()}}),f=G(u.prototype,"torque",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return L.vec3.create()}}),s=u))||s),B=(h=M.meta.ctor("Tw2RigidOrientation"),m=M.meta.string,p=M.meta.float,b=M.meta.float,v=M.meta.quaternion,g=M.meta.isPrivate,E=M.meta.float,y=M.meta.list("Tw2Torque"),T=M.meta.float,S=M.meta.isPrivate,h((D=C=class extends I.Tw2Curve{constructor(...e){super(...e),F(this,"name",R,this),F(this,"I",j,this),F(this,"drag",A,this),F(this,"value",O,this),F(this,"start",z,this),F(this,"states",P,this),F(this,"length",x,this)}Sort(){I.Tw2Curve.Sort(this,this.states)}GetLength(){return this.length}UpdateValue(e){this.GetValueAt(e,this.value)}GetValueAt(e,t){if(0===this.states.length||e<0||e<this.states[0].time)return L.quat.copy(t,this.value);var r=0;if(e>=this.states[this.states.length-1].time)r=this.states.length-1;else for(;r+1<this.states.length&&!(e>=this.states[r].time&&e<this.states[r+1].time);++r);var i=I.Tw2Curve.global.vec3_0,n=I.Tw2Curve.global.quat_0,a=this.states[r];return L.vec3.exponentialDecay(i,a.omega0,a.torque,this.I,this.drag,e-a.time),L.quat.exp(n,i),L.quat.multiply(t,this.states[r].rot0,n),t}},C.inputDimension=4,C.outputDimension=4,C.valueProperty="value",C.curveType=I.Tw2Curve.Type.CURVE,C.Key=N,R=G((_=D).prototype,"name",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),j=G(_.prototype,"I",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),A=G(_.prototype,"drag",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),O=G(_.prototype,"value",[v,g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return L.quat.create()}}),z=G(_.prototype,"start",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),P=G(_.prototype,"states",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),x=G(_.prototype,"length",[T,S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),w=_))||w)},"./curve/curve/legacy/Tw2RotationCurve.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tw2QuaternionKey",(function(){return B})),r.d(t,"Tw2RotationCurve",(function(){return U}));var i,n,a,o,s,u,l,c,f,d,h,m,p,b,v,g,E,y,T,S,w,_,R,j,A,O,z,P,x,C,D=r("./utils/index.js"),M=r("./math/index.js"),L=r("./curve/curve/Tw2Curve.js");function I(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function F(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var G={NONE:0,CONSTANT:1,GRADIENT:2,CYCLE:3},N={NONE:0,CONSTANT:1,LINEAR:2,HERMITE:3,SLERP:5,SQUAD:6},B=(i=D.meta.ctor("Tw2QuaternionKey"),n=D.meta.quaternion,a=D.meta.isPrivate,o=D.meta.vector4,s=D.meta.vector4,u=D.meta.enums(N),i((p=class extends L.Tw2CurveKey{constructor(...e){super(...e),I(this,"value",f,this),I(this,"left",d,this),I(this,"right",h,this),I(this,"interpolation",m,this)}},f=F((c=p).prototype,"value",[n,a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return M.quat.create()}}),d=F(c.prototype,"left",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return M.vec4.create()}}),h=F(c.prototype,"right",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return M.vec4.create()}}),m=F(c.prototype,"interpolation",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 5}}),l=c))||l),U=(b=D.meta.ctor("Tw2RotationCurve"),v=D.meta.float,g=D.meta.quaternion,E=D.meta.isPrivate,y=D.meta.enums(G),T=D.meta.list("Tw2QuaternionKey"),S=D.meta.float,w=D.meta.isPrivate,b((C=x=class e extends L.Tw2Curve{constructor(...e){super(...e),I(this,"start",j,this),I(this,"value",A,this),I(this,"extrapolation",O,this),I(this,"keys",z,this),I(this,"length",P,this),this._currentKey=1}Sort(){L.Tw2Curve.Sort(this)}GetLength(){return this.length}UpdateValue(e){this.GetValueAt(e,this.value)}GetValueAt(t,r){if(0===this.length)return M.quat.copy(r,this.value);var i=L.Tw2Curve.global,n=this.keys[0],a=this.keys[this.keys.length-1];if(t>=a.time)switch(this.extrapolation){case G.NONE:return M.quat.copy(r,this.value);case G.CONSTANT:return M.quat.copy(r,a.value);default:t%=a.time}else if(t<0||t<n.time)switch(this.extrapolation){case G.NONE:return M.quat.copy(r,this.value);default:return M.quat.copy(r,n.value)}for(var o=this.keys[this._currentKey],s=this.keys[this._currentKey-1];t>=o.time||t<s.time;)t<s.time&&(this._currentKey=0),this._currentKey++,o=this.keys[this._currentKey],s=this.keys[this._currentKey-1];var u=(t-s.time)/(o.time-s.time);switch(s.interpolation){case N.CONSTANT:return M.quat.copy(r,s.value);case e.Interpolation.LINEAR:return r[0]=s.value[0]*(1-u)+o.value[0]*u,r[1]=s.value[1]*(1-u)+o.value[1]*u,r[2]=s.value[2]*(1-u)+o.value[2]*u,r[3]=s.value[3]*(1-u)+o.value[3]*u,r;case N.HERMITE:for(var l=M.quat.identity(i.quat_0),c=[s.value,s.right,o.left,o.value],f=3;f>0;f--){var d=M.num.biCumulative(u,f);d>1&&M.quat.multiply(r,l,c[f]),r[0]=-c[f-1][0],r[1]=-c[f-1][1],r[2]=-c[f-1][2],r[3]=c[f-1][3],M.quat.multiply(r,r,c[f]),M.quat.pow(r,r,d),M.quat.multiply(l,l,r)}return M.quat.multiply(r,l,s.value);case e.Interpolation.SLERP:return M.quat.slerp(r,s.value,o.value,u);default:return M.quat.sqlerp(r,s.value,s.right,o.left,o.value,u)}}},x.outputDimension=4,x.inputDimension=4,x.valueProperty="value",x.curveType=L.Tw2Curve.Type.CURVE,x.Child=B,x.Extrapolation=G,x.Interpolation=N,j=F((R=C).prototype,"start",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),A=F(R.prototype,"value",[g,E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return M.quat.create()}}),O=F(R.prototype,"extrapolation",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),z=F(R.prototype,"keys",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),P=F(R.prototype,"length",[S,w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),_=R))||_)},"./curve/curve/legacy/Tw2ScalarCurve.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tw2ScalarKey",(function(){return V})),r.d(t,"Tw2ScalarCurve",(function(){return k}));var i,n,a,o,s,u,l,c,f,d,h,m,p,b,v,g,E,y,T,S,w,_,R,j,A,O,z,P,x,C,D,M,L,I=r("./utils/index.js"),F=r("./curve/curve/Tw2Curve.js");function G(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function N(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var B={NONE:0,CONSTANT:1,GRADIENT:2,CYCLE:3},U={NONE:0,CONSTANT:1,LINEAR:2,HERMITE:3,CATMULROM:4},V=(i=I.meta.ctor("Tw2ScalarKey"),n=I.meta.float,a=I.meta.float,o=I.meta.float,s=I.meta.enums(U),i((m=class extends F.Tw2CurveKey{constructor(...e){super(...e),G(this,"value",c,this),G(this,"left",f,this),G(this,"right",d,this),G(this,"interpolation",h,this)}},c=N((l=m).prototype,"value",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),f=N(l.prototype,"left",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),d=N(l.prototype,"right",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),h=N(l.prototype,"interpolation",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),u=l))||u),k=(p=I.meta.ctor("Tw2ScalarCurve"),b=I.meta.float,v=I.meta.float,g=I.meta.float,E=I.meta.float,y=I.meta.isPrivate,T=I.meta.enums(B),S=I.meta.list("Tw2ScalarKey"),w=I.meta.float,_=I.meta.isPrivate,p((L=M=class extends F.Tw2Curve{constructor(...e){super(...e),G(this,"start",A,this),G(this,"timeScale",O,this),G(this,"timeOffset",z,this),G(this,"value",P,this),G(this,"extrapolation",x,this),G(this,"keys",C,this),G(this,"length",D,this),this._currentKey=1}Sort(){F.Tw2Curve.Sort(this)}GetLength(){return this.length}UpdateValue(e){this.value=this.GetValueAt(e)}GetValueAt(e){if(e=e/this.timeScale-this.timeOffset,0===this.length)return this.value;var t=this.keys[0],r=this.keys[this.keys.length-1];if(e>=r.time)switch(this.extrapolation){case B.NONE:return this.value;case B.CONSTANT:return r.value;case B.GRADIENT:return r.value+(e-r.time)*r.right;default:e%=r.time}else if(e<0||e<t.time)switch(this.extrapolation){case B.NONE:return this.value;case B.GRADIENT:return t.value+(e*this.length-r.time)*t.left;default:return t.value}for(var i=this.keys[this._currentKey],n=this.keys[this._currentKey-1];e>=i.time||e<n.time;)e<n.time&&(this._currentKey=0),this._currentKey++,i=this.keys[this._currentKey],n=this.keys[this._currentKey-1];var a=(e-n.time)/(i.time-n.time);switch(n.interpolation){case U.CONSTANT:return n.value;case U.LINEAR:return n.value*(1-a)+i.value*a;case U.HERMITE:var o=-2*a*a*a+3*a*a,s=a*a*a-2*a*a+a,u=a*a*a-a*a;return(2*a*a*a-3*a*a+1)*n.value+o*i.value+s*n.right+u*i.left;default:var l=1+(Math.sqrt(n.value/i.value)-1)*Math.exp(-e/n.right);return l*l*i.value}}},M.inputDimension=1,M.outputDimension=1,M.valueProperty="value",M.curveType=F.Tw2Curve.Type.CURVE,M.Key=V,M.Extrapolation=B,M.Interpolation=U,A=N((j=L).prototype,"start",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),O=N(j.prototype,"timeScale",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),z=N(j.prototype,"timeOffset",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),P=N(j.prototype,"value",[E,y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),x=N(j.prototype,"extrapolation",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),C=N(j.prototype,"keys",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),D=N(j.prototype,"length",[w,_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),R=j))||R)},"./curve/curve/legacy/Tw2ScalarCurve2.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tw2ScalarKey2",(function(){return Z})),r.d(t,"Tw2ScalarCurve2",(function(){return $}));var i,n,a,o,s,u,l,c,f,d,h,m,p,b,v,g,E,y,T,S,w,_,R,j,A,O,z,P,x,C,D,M,L,I,F,G,N,B,U,V,k,H,q,W=r("./utils/index.js"),Y=r("./curve/curve/Tw2Curve.js");function X(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function K(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var Q={CONSTANT:0,LINEAR:1,HERMITE:2},Z=(i=W.meta.ctor("Tw2ScalarKey2"),n=W.meta.float,a=W.meta.float,o=W.meta.float,s=W.meta.enums(Q),i((m=class extends Y.Tw2CurveKey{constructor(...e){super(...e),X(this,"value",c,this),X(this,"leftTangent",f,this),X(this,"rightTangent",d,this),X(this,"interpolation",h,this)}},c=K((l=m).prototype,"value",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),f=K(l.prototype,"leftTangent",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),d=K(l.prototype,"rightTangent",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),h=K(l.prototype,"interpolation",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),u=l))||u),$=(p=W.meta.ctor("Tw2ScalarCurve2"),b=W.meta.boolean,v=W.meta.boolean,g=W.meta.float,E=W.meta.float,y=W.meta.float,T=W.meta.float,S=W.meta.isPrivate,w=W.meta.float,_=W.meta.float,R=W.meta.float,j=W.meta.enums(Q),A=W.meta.list("Tw2ScalarKey2"),O=W.meta.float,z=W.meta.isPrivate,p((q=H=class extends Y.Tw2Curve{constructor(...e){super(...e),X(this,"cycle",C,this),X(this,"reversed",D,this),X(this,"timeOffset",M,this),X(this,"timeScale",L,this),X(this,"startValue",I,this),X(this,"currentValue",F,this),X(this,"endValue",G,this),X(this,"startTangent",N,this),X(this,"endTangent",B,this),X(this,"interpolation",U,this),X(this,"keys",V,this),X(this,"length",k,this)}Sort(){Y.Tw2Curve.Sort2(this)}GetLength(){return this.length}UpdateValue(e){this.currentValue=this.GetValueAt(e)}GetValueAt(e){if(e=e/this.timeScale+this.timeOffset,this.length<=0||e<=0)return this.startValue;if(e>this.length){if(!this.cycle)return this.reversed?this.startValue:this.endValue;e%=this.length}if(this.reversed&&(e=this.length-e),0===this.keys.length)return this.Interpolate(e,null,null);var t=this.keys[0],r=this.keys[this.keys.length-1];if(e<=t.time)return this.Interpolate(e,null,t);if(e>=r.time)return this.Interpolate(e,r,null);for(var i=0;i+1<this.keys.length&&(t=this.keys[i],r=this.keys[i+1],!(t.time<=e&&r.time>e));++i);return this.Interpolate(e,t,r)}Interpolate(e,t,r){var i=this.startValue,n=this.endValue,a=this.interpolation,o=this.length;switch(null!==t&&(a=t.interpolation,e-=t.time),a){case Q.LINEAR:return t&&r?(i=t.value,n=r.value,o=r.time-t.time):r?(n=r.value,o=r.time):t&&(i=t.value,o=this.length-t.time),i+e/o*(n-i);case Q.HERMITE:var s=this.startTangent,u=this.endTangent;t&&r?(i=t.value,s=t.rightTangent,n=r.value,u=r.leftTangent,o=r.time-t.time):r?(n=r.value,u=r.leftTangent,o=r.time):t&&(i=t.value,s=t.rightTangent,o=this.length-t.time);var l=e/o,c=l*l,f=c*l,d=-2*f+3*c,h=f-c;return i*(1-d)+n*d+s*(l+h-c)+u*h;default:return this.startValue}}},H.inputDimension=1,H.outputDimension=1,H.valueProperty="currentValue",H.curveType=Y.Tw2Curve.Type.CURVE2,H.Key=Z,H.Interpolation=Q,C=K((x=q).prototype,"cycle",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),D=K(x.prototype,"reversed",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),M=K(x.prototype,"timeOffset",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),L=K(x.prototype,"timeScale",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),I=K(x.prototype,"startValue",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),F=K(x.prototype,"currentValue",[T,S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),G=K(x.prototype,"endValue",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),N=K(x.prototype,"startTangent",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),B=K(x.prototype,"endTangent",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),U=K(x.prototype,"interpolation",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),V=K(x.prototype,"keys",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),k=K(x.prototype,"length",[O,z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),P=x))||P)},"./curve/curve/legacy/Tw2SineCurve.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tw2SineCurve",(function(){return T}));var i,n,a,o,s,u,l,c,f,d,h,m,p,b,v=r("./utils/index.js"),g=r("./curve/curve/Tw2Curve.js");function E(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function y(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var T=(i=v.meta.ctor("Tw2SineCurve"),n=v.meta.float,a=v.meta.isPrivate,o=v.meta.float,s=v.meta.float,u=v.meta.float,i((b=p=class extends g.Tw2Curve{constructor(...e){super(...e),E(this,"value",f,this),E(this,"offset",d,this),E(this,"scale",h,this),E(this,"speed",m,this)}Sort(){}GetLength(){return 0}UpdateValue(e){this.value=this.GetValueAt(e)}GetValueAt(e){return Math.sin(e*Math.PI*2*this.speed)*this.scale+this.offset}},p.outputDimension=1,p.valueProperty="value",p.curveType=g.Tw2Curve.Type.CURVE_NO_KEYS,f=y((c=b).prototype,"value",[n,a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),d=y(c.prototype,"offset",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),h=y(c.prototype,"scale",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),m=y(c.prototype,"speed",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),l=c))||l)},"./curve/curve/legacy/Tw2Vector2Curve.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tw2Vector2Key",(function(){return $})),r.d(t,"Tw2Vector2Curve",(function(){return J}));var i,n,a,o,s,u,l,c,f,d,h,m,p,b,v,g,E,y,T,S,w,_,R,j,A,O,z,P,x,C,D,M,L,I,F,G,N,B,U,V,k,H,q,W=r("./utils/index.js"),Y=r("./math/index.js"),X=r("./curve/curve/Tw2Curve.js");function K(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function Q(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var Z={CONSTANT:0,LINEAR:1,HERMITE:2},$=(i=W.meta.ctor("Tw2Vector2Key"),n=W.meta.vector2,a=W.meta.vector2,o=W.meta.vector2,s=W.meta.enums(Z),i((m=class extends X.Tw2CurveKey{constructor(...e){super(...e),K(this,"value",c,this),K(this,"leftTangent",f,this),K(this,"rightTangent",d,this),K(this,"interpolation",h,this)}},c=Q((l=m).prototype,"value",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Y.vec2.create()}}),f=Q(l.prototype,"leftTangent",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Y.vec2.create()}}),d=Q(l.prototype,"rightTangent",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Y.vec2.create()}}),h=Q(l.prototype,"interpolation",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),u=l))||u),J=(p=W.meta.ctor("Tw2Vector2Curve"),b=W.meta.boolean,v=W.meta.boolean,g=W.meta.float,E=W.meta.float,y=W.meta.vector2,T=W.meta.vector2,S=W.meta.isPrivate,w=W.meta.vector2,_=W.meta.vector2,R=W.meta.vector2,j=W.meta.enums(Z),A=W.meta.list("Tw2Vector2Key"),O=W.meta.float,z=W.meta.isPrivate,p((q=H=class extends X.Tw2Curve{constructor(...e){super(...e),K(this,"cycle",C,this),K(this,"reversed",D,this),K(this,"timeOffset",M,this),K(this,"timeScale",L,this),K(this,"startValue",I,this),K(this,"currentValue",F,this),K(this,"endValue",G,this),K(this,"startTangent",N,this),K(this,"endTangent",B,this),K(this,"interpolation",U,this),K(this,"keys",V,this),K(this,"length",k,this)}Sort(){X.Tw2Curve.Sort2(this)}GetLength(){return this.length}UpdateValue(e){this.GetValueAt(e,this.currentValue)}GetValueAt(e,t){if(e=e/this.timeScale+this.timeOffset,this.length<=0||e<=0)return Y.vec2.copy(t,this.startValue);if(e>this.length){if(!this.cycle)return this.reversed?Y.vec2.copy(t,this.startValue):Y.vec2.copy(t,this.endValue);e%=this.length}if(this.reversed&&(e=this.length-e),0===this.keys.length)return this.Interpolate(e,null,null,t);var r=this.keys[0],i=this.keys[this.keys.length-1];if(e<=r.time)return this.Interpolate(e,null,r,t);if(e>=i.time)return this.Interpolate(e,i,null,t);for(var n=0;n+1<this.keys.length&&(r=this.keys[n],i=this.keys[n+1],!(r.time<=e&&i.time>e));++n);return this.Interpolate(e,r,i,t)}Interpolate(e,t,r,i){Y.vec2.copy(i,this.startValue);var n=this.startValue,a=this.endValue,o=this.interpolation,s=this.length;switch(null!==t&&(o=t.interpolation,e-=t.time),o){case Z.LINEAR:return t&&r?(n=t.value,a=r.value,s=r.time-t.time):r?(a=r.value,s=r.time):t&&(n=t.value,s=this.length-t.time),i[0]=n[0]+(a[0]-n[0])*(e/s),i[1]=n[1]+(a[1]-n[1])*(e/s),i;case Z.HERMITE:var u=this.startTangent,l=this.endTangent;t&&r?(n=t.value,u=t.rightTangent,a=r.value,l=r.leftTangent,s=r.time-t.time):r?(a=r.value,l=r.leftTangent,s=r.time):t&&(n=t.value,u=t.rightTangent,s=this.length-t.time);var c=e/s,f=c*c,d=f*c,h=-2*d+3*f,m=1-h,p=d-f,b=c+p-f;return i[0]=n[0]*m+a[0]*h+u[0]*b+l[0]*p,i[1]=n[1]*m+a[1]*h+u[1]*b+l[1]*p,i;default:return i}}},H.inputDimension=2,H.outputDimension=2,H.valueProperty="value",H.curveType=X.Tw2Curve.Type.CURVE2,H.Key=$,H.Interpolation=Z,C=Q((x=q).prototype,"cycle",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),D=Q(x.prototype,"reversed",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),M=Q(x.prototype,"timeOffset",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),L=Q(x.prototype,"timeScale",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),I=Q(x.prototype,"startValue",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Y.vec2.create()}}),F=Q(x.prototype,"currentValue",[T,S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Y.vec2.create()}}),G=Q(x.prototype,"endValue",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Y.vec2.create()}}),N=Q(x.prototype,"startTangent",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Y.vec2.create()}}),B=Q(x.prototype,"endTangent",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Y.vec2.create()}}),U=Q(x.prototype,"interpolation",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),V=Q(x.prototype,"keys",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),k=Q(x.prototype,"length",[O,z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),P=x))||P)},"./curve/curve/legacy/Tw2Vector3Curve.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tw2Vector3Key",(function(){return $})),r.d(t,"Tw2Vector3Curve",(function(){return J}));var i,n,a,o,s,u,l,c,f,d,h,m,p,b,v,g,E,y,T,S,w,_,R,j,A,O,z,P,x,C,D,M,L,I,F,G,N,B,U,V,k,H,q,W=r("./utils/index.js"),Y=r("./math/index.js"),X=r("./curve/curve/Tw2Curve.js");function K(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function Q(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var Z={CONSTANT:0,LINEAR:1,HERMITE:2},$=(i=W.meta.ctor("Tw2Vector3Key"),n=W.meta.vector3,a=W.meta.vector3,o=W.meta.vector3,s=W.meta.enums(Z),i((m=class extends X.Tw2CurveKey{constructor(...e){super(...e),K(this,"value",c,this),K(this,"leftTangent",f,this),K(this,"rightTangent",d,this),K(this,"interpolation",h,this)}},c=Q((l=m).prototype,"value",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Y.vec3.create()}}),f=Q(l.prototype,"leftTangent",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Y.vec3.create()}}),d=Q(l.prototype,"rightTangent",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Y.vec3.create()}}),h=Q(l.prototype,"interpolation",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),u=l))||u),J=(p=W.meta.ctor("Tw2Vector3Curve"),b=W.meta.boolean,v=W.meta.boolean,g=W.meta.float,E=W.meta.float,y=W.meta.vector3,T=W.meta.vector3,S=W.meta.isPrivate,w=W.meta.vector3,_=W.meta.vector3,R=W.meta.vector3,j=W.meta.enums(Z),A=W.meta.list("Tw2Vector3Key"),O=W.meta.float,z=W.meta.isPrivate,p((q=H=class extends X.Tw2Curve{constructor(...e){super(...e),K(this,"cycle",C,this),K(this,"reversed",D,this),K(this,"timeOffset",M,this),K(this,"timeScale",L,this),K(this,"startValue",I,this),K(this,"currentValue",F,this),K(this,"endValue",G,this),K(this,"startTangent",N,this),K(this,"endTangent",B,this),K(this,"interpolation",U,this),K(this,"keys",V,this),K(this,"length",k,this)}Sort(){X.Tw2Curve.Sort2(this)}GetLength(){return this.length}UpdateValue(e){this.GetValueAt(e,this.currentValue)}GetValueAt(e,t){if(e=e/this.timeScale+this.timeOffset,this.length<=0||e<=0)return Y.vec3.copy(t,this.startValue);if(e>this.length){if(!this.cycle)return this.reversed?Y.vec3.copy(t,this.startValue):Y.vec3.copy(t,this.endValue);e%=this.length}if(this.reversed&&(e=this.length-e),0===this.keys.length)return this.Interpolate(e,null,null,t);var r=this.keys[0],i=this.keys[this.keys.length-1];if(e<=r.time)return this.Interpolate(e,null,r,t);if(e>=i.time)return this.Interpolate(e,i,null,t);for(var n=0;n+1<this.keys.length&&(r=this.keys[n],i=this.keys[n+1],!(r.time<=e&&i.time>e));++n);return this.Interpolate(e,r,i,t)}Interpolate(e,t,r,i){Y.vec3.copy(i,this.startValue);var n=this.startValue,a=this.endValue,o=this.interpolation,s=this.length;switch(null!==t&&(o=t.interpolation,e-=t.time),o){case Z.LINEAR:return t&&r?(n=t.value,a=r.value,s=r.time-t.time):r?(a=r.value,s=r.time):t&&(n=t.value,s=this.length-t.time),i[0]=n[0]+(a[0]-n[0])*(e/s),i[1]=n[1]+(a[1]-n[1])*(e/s),i[2]=n[2]+(a[2]-n[2])*(e/s),i;case Z.HERMITE:var u=this.startTangent,l=this.endTangent;t&&r?(n=t.value,u=t.rightTangent,a=r.value,l=r.leftTangent,s=r.time-t.time):r?(a=r.value,l=r.leftTangent,s=r.time):t&&(n=t.value,u=t.rightTangent,s=this.length-t.time);var c=e/s,f=c*c,d=f*c,h=-2*d+3*f,m=1-h,p=d-f,b=c+p-f;return i[0]=n[0]*m+a[0]*h+u[0]*b+l[0]*p,i[1]=n[1]*m+a[1]*h+u[1]*b+l[1]*p,i[2]=n[2]*m+a[2]*h+u[2]*b+l[2]*p,i;default:return i}}},H.inputDimension=3,H.outputDimension=3,H.valueProperty="currentValue",H.curveType=X.Tw2Curve.Type.CURVE2,H.Key=$,H.Interpolation=Z,C=Q((x=q).prototype,"cycle",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),D=Q(x.prototype,"reversed",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),M=Q(x.prototype,"timeOffset",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),L=Q(x.prototype,"timeScale",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),I=Q(x.prototype,"startValue",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Y.vec3.create()}}),F=Q(x.prototype,"currentValue",[T,S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Y.vec3.create()}}),G=Q(x.prototype,"endValue",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Y.vec3.create()}}),N=Q(x.prototype,"startTangent",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Y.vec3.create()}}),B=Q(x.prototype,"endTangent",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Y.vec3.create()}}),U=Q(x.prototype,"interpolation",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),V=Q(x.prototype,"keys",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),k=Q(x.prototype,"length",[O,z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),P=x))||P)},"./curve/curve/legacy/Tw2VectorCurve.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tw2VectorKey",(function(){return N})),r.d(t,"Tw2VectorCurve",(function(){return B}));var i,n,a,o,s,u,l,c,f,d,h,m,p,b,v,g,E,y,T,S,w,_,R,j,A,O,z,P,x,C=r("./utils/index.js"),D=r("./math/index.js"),M=r("./curve/curve/Tw2Curve.js");function L(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function I(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var F={NONE:0,CONSTANT:1,GRADIENT:2,CYCLE:3},G={NONE:0,CONSTANT:1,LINEAR:2,HERMITE:3},N=(i=C.meta.ctor("Tw2VectorKey"),n=C.meta.vector3,a=C.meta.vector3,o=C.meta.vector3,s=C.meta.enums(G),i((m=class extends M.Tw2CurveKey{constructor(...e){super(...e),L(this,"value",c,this),L(this,"left",f,this),L(this,"right",d,this),L(this,"interpolation",h,this)}},c=I((l=m).prototype,"value",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return D.vec3.create()}}),f=I(l.prototype,"left",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return D.vec3.create()}}),d=I(l.prototype,"right",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return D.vec3.create()}}),h=I(l.prototype,"interpolation",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),u=l))||u),B=(p=C.meta.ctor("Tw2VectorCurve"),b=C.meta.float,v=C.meta.vector3,g=C.meta.isPrivate,E=C.meta.enums(F),y=C.meta.list(),T=C.meta.float,S=C.meta.isPrivate,p((x=P=class extends M.Tw2Curve{constructor(...e){super(...e),L(this,"start",R,this),L(this,"value",j,this),L(this,"extrapolation",A,this),L(this,"keys",O,this),L(this,"length",z,this),this._currentKey=1}Sort(){M.Tw2Curve.Sort(this)}GetLength(){return this.length}UpdateValue(e){this.GetValueAt(e,this.value)}GetValueAt(e,t){if(0===this.length)return D.vec3.copy(t,this.value);var r=this.keys[0],i=this.keys[this.keys.length-1];if(e>=i.time)switch(this.extrapolation){case F.NONE:return D.vec3.copy(t,this.value);case F.CONSTANT:return D.vec3.copy(t,i.value);case F.GRADIENT:return D.vec3.scaleAndAdd(t,i.value,i.right,e-i.time);default:e%=i.time}else if(e<0||e<r.time)switch(this.extrapolation){case F.NONE:return D.vec3.copy(t,this.value);case F.GRADIENT:return D.vec3.scaleAndAdd(t,r.value,r.left,e*this.length-i.time);default:return D.vec3.copy(t,r.value)}for(var n=this.keys[this._currentKey],a=this.keys[this._currentKey-1];e>=n.time||e<a.time;)e<a.time&&(this._currentKey=0),this._currentKey++,n=this.keys[this._currentKey],a=this.keys[this._currentKey-1];var o=(e-a.time)/(n.time-a.time);switch(a.interpolation){case G.CONSTANT:return D.vec3.copy(t,a.value);case G.LINEAR:return t[0]=a.value[0]*(1-o)+n.value[0]*o,t[1]=a.value[1]*(1-o)+n.value[1]*o,t[2]=a.value[2]*(1-o)+n.value[2]*o,t;case G.HERMITE:var s=2*o*o*o-3*o*o+1,u=-2*o*o*o+3*o*o,l=o*o*o-2*o*o+o,c=o*o*o-o*o;return t[0]=s*a.value[0]+u*n.value[0]+l*a.right[0]+c*n.left[0],t[1]=s*a.value[1]+u*n.value[1]+l*a.right[1]+c*n.left[1],t[2]=s*a.value[2]+u*n.value[2]+l*a.right[2]+c*n.left[2],t;default:return t}}},P.inputDimension=3,P.outputDimension=3,P.valueProperty="value",P.curveType=M.Tw2Curve.Type.CURVE,P.Key=N,P.Extrapolation=F,P.Interpolation=G,R=I((_=x).prototype,"start",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),j=I(_.prototype,"value",[v,g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return D.vec3.create()}}),A=I(_.prototype,"extrapolation",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),O=I(_.prototype,"keys",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),z=I(_.prototype,"length",[T,S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),w=_))||w)},"./curve/curve/legacy/index.js":function(e,t,r){"use strict";r.r(t);var i=r("./curve/curve/legacy/Tw2ColorCurve.js");r.d(t,"Tw2ColorKey",(function(){return i.Tw2ColorKey})),r.d(t,"Tw2ColorCurve",(function(){return i.Tw2ColorCurve}));var n=r("./curve/curve/legacy/Tw2ColorCurve2.js");r.d(t,"Tw2ColorKey2",(function(){return n.Tw2ColorKey2})),r.d(t,"Tw2ColorCurve2",(function(){return n.Tw2ColorCurve2}));var a=r("./curve/curve/legacy/Tw2QuaternionCurve.js");r.d(t,"Tw2QuaternionKey2",(function(){return a.Tw2QuaternionKey2})),r.d(t,"Tw2QuaternionCurve",(function(){return a.Tw2QuaternionCurve}));var o=r("./curve/curve/legacy/Tw2RandomConstantCurve.js");r.d(t,"Tw2RandomConstantCurve",(function(){return o.Tw2RandomConstantCurve}));var s=r("./curve/curve/legacy/Tw2RigidOrientation.js");r.d(t,"Tw2Torque",(function(){return s.Tw2Torque})),r.d(t,"Tw2RigidOrientation",(function(){return s.Tw2RigidOrientation}));var u=r("./curve/curve/legacy/Tw2RotationCurve.js");r.d(t,"Tw2QuaternionKey",(function(){return u.Tw2QuaternionKey})),r.d(t,"Tw2RotationCurve",(function(){return u.Tw2RotationCurve}));var l=r("./curve/curve/legacy/Tw2ScalarCurve.js");r.d(t,"Tw2ScalarKey",(function(){return l.Tw2ScalarKey})),r.d(t,"Tw2ScalarCurve",(function(){return l.Tw2ScalarCurve}));var c=r("./curve/curve/legacy/Tw2ScalarCurve2.js");r.d(t,"Tw2ScalarKey2",(function(){return c.Tw2ScalarKey2})),r.d(t,"Tw2ScalarCurve2",(function(){return c.Tw2ScalarCurve2}));var f=r("./curve/curve/legacy/Tw2SineCurve.js");r.d(t,"Tw2SineCurve",(function(){return f.Tw2SineCurve}));var d=r("./curve/curve/legacy/Tw2Vector2Curve.js");r.d(t,"Tw2Vector2Key",(function(){return d.Tw2Vector2Key})),r.d(t,"Tw2Vector2Curve",(function(){return d.Tw2Vector2Curve}));var h=r("./curve/curve/legacy/Tw2Vector3Curve.js");r.d(t,"Tw2Vector3Key",(function(){return h.Tw2Vector3Key})),r.d(t,"Tw2Vector3Curve",(function(){return h.Tw2Vector3Curve}));var m=r("./curve/curve/legacy/Tw2VectorCurve.js");r.d(t,"Tw2VectorKey",(function(){return m.Tw2VectorKey})),r.d(t,"Tw2VectorCurve",(function(){return m.Tw2VectorCurve}))},"./curve/index.js":function(e,t,r){"use strict";r.r(t);var i=r("./curve/Tw2CurveSet.js");r.d(t,"Tw2CurveSet",(function(){return i.Tw2CurveSet}));var n=r("./curve/Tw2ValueBinding.js");r.d(t,"Tw2ValueBinding",(function(){return n.Tw2ValueBinding})),r.d(t,"ErrBindingValueUndefined",(function(){return n.ErrBindingValueUndefined})),r.d(t,"ErrBindingType",(function(){return n.ErrBindingType})),r.d(t,"ErrBindingReference",(function(){return n.ErrBindingReference}));var a=r("./curve/curve/index.js");r.d(t,"Tw2EventKey",(function(){return a.Tw2EventKey})),r.d(t,"Tw2EventCurve",(function(){return a.Tw2EventCurve})),r.d(t,"Tw2PerlinCurve",(function(){return a.Tw2PerlinCurve})),r.d(t,"Tw2CurveKey",(function(){return a.Tw2CurveKey})),r.d(t,"Tw2Curve",(function(){return a.Tw2Curve})),r.d(t,"Tw2ColorKey",(function(){return a.Tw2ColorKey})),r.d(t,"Tw2ColorCurve",(function(){return a.Tw2ColorCurve})),r.d(t,"Tw2ColorKey2",(function(){return a.Tw2ColorKey2})),r.d(t,"Tw2ColorCurve2",(function(){return a.Tw2ColorCurve2})),r.d(t,"Tw2QuaternionKey2",(function(){return a.Tw2QuaternionKey2})),r.d(t,"Tw2QuaternionCurve",(function(){return a.Tw2QuaternionCurve})),r.d(t,"Tw2RandomConstantCurve",(function(){return a.Tw2RandomConstantCurve})),r.d(t,"Tw2Torque",(function(){return a.Tw2Torque})),r.d(t,"Tw2RigidOrientation",(function(){return a.Tw2RigidOrientation})),r.d(t,"Tw2QuaternionKey",(function(){return a.Tw2QuaternionKey})),r.d(t,"Tw2RotationCurve",(function(){return a.Tw2RotationCurve})),r.d(t,"Tw2ScalarKey",(function(){return a.Tw2ScalarKey})),r.d(t,"Tw2ScalarCurve",(function(){return a.Tw2ScalarCurve})),r.d(t,"Tw2ScalarKey2",(function(){return a.Tw2ScalarKey2})),r.d(t,"Tw2ScalarCurve2",(function(){return a.Tw2ScalarCurve2})),r.d(t,"Tw2SineCurve",(function(){return a.Tw2SineCurve})),r.d(t,"Tw2Vector2Key",(function(){return a.Tw2Vector2Key})),r.d(t,"Tw2Vector2Curve",(function(){return a.Tw2Vector2Curve})),r.d(t,"Tw2Vector3Key",(function(){return a.Tw2Vector3Key})),r.d(t,"Tw2Vector3Curve",(function(){return a.Tw2Vector3Curve})),r.d(t,"Tw2VectorKey",(function(){return a.Tw2VectorKey})),r.d(t,"Tw2VectorCurve",(function(){return a.Tw2VectorCurve}));var o=r("./curve/legacy/index.js");r.d(t,"Tw2WbgTrack",(function(){return o.Tw2WbgTrack})),r.d(t,"Tw2WbgTransformTrack",(function(){return o.Tw2WbgTransformTrack})),r.d(t,"Tw2TransformTrack",(function(){return o.Tw2TransformTrack})),r.d(t,"Tw2MayaEulerRotationCurve",(function(){return o.Tw2MayaEulerRotationCurve})),r.d(t,"Tw2MayaScalarCurve",(function(){return o.Tw2MayaScalarCurve})),r.d(t,"Tw2MayaVector3Curve",(function(){return o.Tw2MayaVector3Curve})),r.d(t,"Tw2MayaAnimationEngine",(function(){return o.Tw2MayaAnimationEngine}));var s=r("./curve/sequencer/index.js");r.d(t,"TriColorSequencer",(function(){return s.TriColorSequencer})),r.d(t,"Tw2CurveColor",(function(){return s.Tw2CurveColor})),r.d(t,"Tw2CurveEulerRotation",(function(){return s.Tw2CurveEulerRotation})),r.d(t,"Tw2CurveVector3",(function(){return s.Tw2CurveVector3})),r.d(t,"Tw2CurveSequencer",(function(){return s.Tw2CurveSequencer})),r.d(t,"Tw2ColorSequencer",(function(){return s.Tw2ColorSequencer})),r.d(t,"Tw2EulerRotation",(function(){return s.Tw2EulerRotation})),r.d(t,"Tw2QuaternionSequencer",(function(){return s.Tw2QuaternionSequencer})),r.d(t,"Tw2RGBAScalarSequencer",(function(){return s.Tw2RGBAScalarSequencer})),r.d(t,"Tw2ScalarSequencer",(function(){return s.Tw2ScalarSequencer})),r.d(t,"Tw2VectorSequencer",(function(){return s.Tw2VectorSequencer})),r.d(t,"Tw2XYZScalarSequencer",(function(){return s.Tw2XYZScalarSequencer})),r.d(t,"Tw2YPRSequencer",(function(){return s.Tw2YPRSequencer}))},"./curve/legacy/index.js":function(e,t,r){"use strict";r.r(t);var i=r("./curve/legacy/tracks/index.js");r.d(t,"Tw2WbgTrack",(function(){return i.Tw2WbgTrack})),r.d(t,"Tw2WbgTransformTrack",(function(){return i.Tw2WbgTransformTrack})),r.d(t,"Tw2TransformTrack",(function(){return i.Tw2TransformTrack}));var n=r("./curve/legacy/maya/index.js");r.d(t,"Tw2MayaEulerRotationCurve",(function(){return n.Tw2MayaEulerRotationCurve})),r.d(t,"Tw2MayaScalarCurve",(function(){return n.Tw2MayaScalarCurve})),r.d(t,"Tw2MayaVector3Curve",(function(){return n.Tw2MayaVector3Curve})),r.d(t,"Tw2MayaAnimationEngine",(function(){return n.Tw2MayaAnimationEngine}))},"./curve/legacy/maya/Tw2MayaAnimationEngine.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tw2MayaAnimationEngine",(function(){return T}));var i,n,a,o,s,u,l,c,f,d,h,m,p,b=r("./utils/index.js"),v=r("./math/index.js"),g=r("./core/index.js");function E(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function y(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var T=(i=b.meta.ctor("Tw2MayaAnimationEngine"),n=b.meta.list(),a=b.meta.list(),o=b.meta.list(),s=b.meta.readOnly,i((p=m=class e{constructor(){E(this,"curves",c,this),E(this,"hermiteSegments",f,this),E(this,"bezierSegments",d,this),E(this,"_id",h,this),this._currentCurveIndex=0,this._evalCache=null}Evaluate(t,r){if(this.curves.length<=t)return 0;if(this._currentCurveIndex=t,!this._evalCache){this._evalCache=new Array(this.curves.length);for(var i=0;i<this._evalCache.length;++i)this._evalCache[i]=-1}var n=this.curves[t],a=n[e.AnimCurveFields.SEGMENT_OFFSET],o=null;return r<(o=n[e.AnimCurveFields.IS_WEIGHTED]?this.bezierSegments:this.hermiteSegments)[a][e.AnimSegment.TIME]?n[e.AnimCurveFields.PRE_INFINITY]===e.INFINITY?o[a][e.AnimSegment.VALUE]:this._EvaluateInfinities(n,o,a,r,!0):r>n[e.AnimCurveFields.END_TIME]?n[e.AnimCurveFields.POST_INFINITY]===e.INFINITY?n[e.AnimCurveFields.END_VALUE]:this._EvaluateInfinities(n,o,a,r,!1):this._EvaluateImpl(n,o,a,r)}_EvaluateImpl(t,r,i,n){var a,o=!1,s=null,u=null;if(this._evalCache[this._currentCurveIndex]>=0)if(u=i+this._evalCache[this._currentCurveIndex],this._evalCache[this._currentCurveIndex]<t[e.AnimCurveFields.NUM_SEGMENTS-1]&&n>r[u][e.AnimSegment.TIME]){if(n===r[s=i+this._evalCache[this._currentCurveIndex]+1][e.AnimSegment.TIME])return this._evalCache[this._currentCurveIndex]++,r[s][e.AnimSegment.VALUE];n<r[s][e.AnimSegment.TIME]?(a=this._evalCache[this._currentCurveIndex]+1,o=!0):s=null}else if(this._evalCache[this._currentCurveIndex]>0&&n<r[u][e.AnimSegment.TIME]){var l=i+this._evalCache[this._currentCurveIndex]-1;if(n>r[l][e.AnimSegment.TIME])a=this._evalCache[this._currentCurveIndex],o=!0;else if(n===r[l][e.AnimSegment.TIME])return this._evalCache[this._currentCurveIndex]--,r[l][e.AnimSegment.VALUE]}if(!o){var c=this._Find(t,n,r,i);if(a=c[1],c[0]||0===a)return a===t[e.AnimCurveFields.NUM_SEGMENTS]?(a--,this._evalCache[this._currentCurveIndex]=a,t[e.AnimCurveFields.END_VALUE]):(this._evalCache[this._currentCurveIndex]=a,r[i+a][e.AnimSegment.VALUE]);if(a===t[e.AnimCurveFields.NUM_SEGMENTS]+1)return this._evalCache[this._currentCurveIndex]=0,t[e.AnimCurveFields.END_VALUE]}if(this._evalCache[this._currentCurveIndex]!==a-1&&(this._evalCache[this._currentCurveIndex]=a-1,u=i+this._evalCache[this._currentCurveIndex],null===s&&(s=i+a)),t[e.AnimCurveFields.IS_WEIGHTED]){var f=r[u];if(f[e.BezierSegment.IS_STEP])return f[e.BezierSegment.VALUE];if(f[e.BezierSegment.IS_STEP_NEXT])return null===s?t[e.AnimCurveFields.END_VALUE]:r[s][e.BezierSegment.VALUE];var d=t[e.AnimCurveFields.END_TIME];return this._evalCache[this._currentCurveIndex]+1<t[e.AnimCurveFields.NUM_SEGMENTS]&&(d=r[s][e.BezierSegment.TIME]),this._EvaluateBezier(f,n,d)}var h=r[u];return h[e.HermiteSegment.IS_STEP]?h[e.HermiteSegment.VALUE]:h[e.HermiteSegment.IS_STEP_NEXT]?null===s?t[e.AnimCurveFields.END_VALUE]:r[s][e.HermiteSegment.VALUE]:this._EvaluateHermite(h,n)}_EvaluateInfinities(e,t,r,i,n){throw new g.ErrFeatureNotImplemented({feature:"Maya animation engine evaluate infinities"})}_EvaluateHermite(t,r){var i=r-t[e.HermiteSegment.TIME],n=t[e.HermiteSegment.COEFF];return i*(i*(i*n[0]+n[1])+n[2])+n[3]}_EvaluateBezier(t,r,i){var n,a;if(a=(r-t[e.BezierSegment.TIME])/(i-t[e.BezierSegment.TIME]),t[e.BezierSegment.IS_LINEAR])n=a;else{var o=v.vec4.create();o[3]=t[e.BezierSegment.COEFF][3],o[2]=t[e.BezierSegment.COEFF][2],o[1]=t[e.BezierSegment.COEFF][1],o[0]=t[e.BezierSegment.COEFF][0]-a;var s=[];n=1===v.curve.polyZeroes(o,3,0,1,1,1,s)?s[0]:0}var u=t[e.BezierSegment.POLYY];return n*(n*(n*u[3]+u[2])+u[1])+u[0]}_Find(t,r,i,n){var a,o,s,u,l=0,c=0;if((a=t[e.AnimCurveFields.NUM_SEGMENTS]+1)>0){s=0,u=a-1;do{if(r<(c=(o=s+u>>1)<a-1?i[n+o][e.AnimSegment.TIME]:t[e.AnimCurveFields.END_TIME]))u=o-1;else{if(!(r>c))return[!0,l=o];s=o+1}}while(s<=u);l=s}return[!1,l]}GetNumberOfCurves(){return this.curves.length}GetLength(t){if(t<0||t>=this.curves.length)return 0;var r,i=this.curves[t];return r=i[e.AnimCurveFields.IS_WEIGHTED]?this.bezierSegments[i[e.AnimCurveFields.SEGMENT_OFFSET]]:this.hermiteSegments[i[e.AnimCurveFields.SEGMENT_OFFSET]],i[e.AnimCurveFields.END_TIME]-r[e.AnimSegment.TIME]}},m.AnimCurveFields={NUM_SEGMENTS:0,SEGMENT_OFFSET:1,END_TIME:2,END_VALUE:3,IN_TANGENT:4,OUT_TANGENT:5,PRE_INFINITY:6,POST_INFINITY:7,IS_WEIGHTED:8},m.AnimSegment={TIME:0,VALUE:1},m.HermiteSegment={TIME:0,VALUE:1,COEFF:2,IS_STEP:3,IS_STEP_NEXT:4},m.BezierSegment={TIME:0,VALUE:1,COEFF:2,POLYY:3,IS_STEP:4,IS_STEP_NEXT:5,IS_LINEAR:6},m.INFINITY=0,c=y((l=p).prototype,"curves",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),f=y(l.prototype,"hermiteSegments",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),d=y(l.prototype,"bezierSegments",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),h=y(l.prototype,"_id",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Object(b.generateID)()}}),u=l))||u)},"./curve/legacy/maya/Tw2MayaEulerRotationCurve.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tw2MayaEulerRotationCurve",(function(){return C}));var i,n,a,o,s,u,l,c,f,d,h,m,p,b,v,g,E,y,T,S,w,_,R,j,A=r("./utils/index.js"),O=r("./math/index.js"),z=r("./curve/index.js");function P(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function x(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var C=(i=A.meta.ctor("Tw2MayaEulerRotationCurve"),n=A.meta.float,a=A.meta.float,o=A.meta.float,s=A.meta.struct("Tw2MayaAnimationEngine"),u=A.meta.vector3,l=A.meta.isPrivate,c=A.meta.boolean,f=A.meta.quaternion,d=A.meta.isPrivate,h=A.meta.float,m=A.meta.isPrivate,i((j=R=class extends z.Tw2Curve{constructor(...e){super(...e),P(this,"xIndex",v,this),P(this,"yIndex",g,this),P(this,"zIndex",E,this),P(this,"animationEngine",y,this),P(this,"eulerValue",T,this),P(this,"updateQuaternion",S,this),P(this,"quatValue",w,this),P(this,"length",_,this)}Sort(){this.ComputeLength()}GetLength(){return this.length}UpdateValue(e){if(this.animationEngine&&(this.xIndex&&(this.eulerValue[0]=this.animationEngine.Evaluate(this.xIndex,e)),this.yIndex&&(this.yIndex===this.xIndex?this.eulerValue[1]=this.eulerValue[0]:this.eulerValue[1]=this.animationEngine.Evaluate(this.yIndex,e)),this.zIndex&&(this.zIndex===this.xIndex?this.eulerValue[2]=this.eulerValue[0]:this.eulerValue[2]=this.animationEngine.Evaluate(this.zIndex,e)),this.updateQuaternion)){var t=Math.sin(this.eulerValue[0]/2),r=Math.cos(this.eulerValue[0]/2),i=Math.sin(this.eulerValue[1]/2),n=Math.cos(this.eulerValue[1]/2),a=Math.sin(this.eulerValue[2]/2),o=Math.cos(this.eulerValue[2]/2);this.quatValue[0]=t*n*a+r*i*o,this.quatValue[1]=t*n*o-r*i*a,this.quatValue[2]=r*n*a-t*i*o,this.quatValue[3]=r*n*o+t*i*a}}ComputeLength(){this.animationEngine&&0!==this.animationEngine.GetNumberOfCurves()&&(this.length=0,this.xIndex>=0&&(this.length=this.animationEngine.GetLength(this.xIndex)),this.yIndex>=0&&(this.length=Math.max(this.length,this.animationEngine.GetLength(this.yIndex))),this.zIndex>=0&&(this.length=Math.max(this.length,this.animationEngine.GetLength(this.zIndex))))}},R.outputDimension=3,R.valueProperty="eulerValue",R.curveType=z.Tw2Curve.Type.CURVE_MAYA,v=x((b=j).prototype,"xIndex",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return-1}}),g=x(b.prototype,"yIndex",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return-1}}),E=x(b.prototype,"zIndex",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return-1}}),y=x(b.prototype,"animationEngine",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),T=x(b.prototype,"eulerValue",[u,l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return O.vec3.create()}}),S=x(b.prototype,"updateQuaternion",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),w=x(b.prototype,"quatValue",[f,d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return O.quat.create()}}),_=x(b.prototype,"length",[h,m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),p=b))||p)},"./curve/legacy/maya/Tw2MayaScalarCurve.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tw2MayaScalarCurve",(function(){return S}));var i,n,a,o,s,u,l,c,f,d,h,m,p,b,v,g=r("./utils/index.js"),E=r("./curve/index.js");function y(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function T(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var S=(i=g.meta.ctor("Tw2MayaScalarCurve"),n=g.meta.float,a=g.meta.struct("Tw2MayaAnimationEngine"),o=g.meta.float,s=g.meta.isPrivate,u=g.meta.float,l=g.meta.isPrivate,i((v=b=class extends E.Tw2Curve{constructor(...e){super(...e),y(this,"index",d,this),y(this,"animationEngine",h,this),y(this,"value",m,this),y(this,"length",p,this)}Sort(){this.ComputeLength()}GetLength(){return this.length}UpdateValue(e){this.animationEngine&&(this.value=this.animationEngine.Evaluate(this.index,e))}ComputeLength(){this.animationEngine&&0!==this.animationEngine.GetNumberOfCurves()&&this.index>=0&&(this.length=this.animationEngine.GetLength(this.index))}},b.outputDimension=1,b.valueProperty="value",b.curveType=E.Tw2Curve.Type.CURVE_MAYA,d=T((f=v).prototype,"index",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return-1}}),h=T(f.prototype,"animationEngine",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),m=T(f.prototype,"value",[o,s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),p=T(f.prototype,"length",[u,l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),c=f))||c)},"./curve/legacy/maya/Tw2MayaVector3Curve.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tw2MayaVector3Curve",(function(){return A}));var i,n,a,o,s,u,l,c,f,d,h,m,p,b,v,g,E,y,T,S=r("./utils/index.js"),w=r("./math/index.js"),_=r("./curve/index.js");function R(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function j(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var A=(i=S.meta.ctor("Tw2MayaVector3Curve"),n=S.meta.float,a=S.meta.float,o=S.meta.float,s=S.meta.struct("Tw2MayaAnimationEngine"),u=S.meta.vector3,l=S.meta.isPrivate,c=S.meta.float,f=S.meta.isPrivate,i((T=y=class extends _.Tw2Curve{constructor(...e){super(...e),R(this,"xIndex",m,this),R(this,"yIndex",p,this),R(this,"zIndex",b,this),R(this,"animationEngine",v,this),R(this,"value",g,this),R(this,"length",E,this)}Sort(){this.ComputeLength()}GetLength(){return this.length}UpdateValue(e){this.animationEngine&&(this.xIndex&&(this.value[0]=this.animationEngine.Evaluate(this.xIndex,e)),this.yIndex&&(this.yIndex===this.xIndex?this.value[1]=this.value[0]:this.value[1]=this.animationEngine.Evaluate(this.yIndex,e)),this.zIndex&&(this.zIndex===this.xIndex?this.value[2]=this.value[0]:this.value[2]=this.animationEngine.Evaluate(this.zIndex,e)))}ComputeLength(){this.animationEngine&&0!==this.animationEngine.GetNumberOfCurves()&&(this.length=0,this.xIndex>=0&&(this.length=this.animationEngine.GetLength(this.xIndex)),this.yIndex>=0&&(this.length=Math.max(this.length,this.animationEngine.GetLength(this.yIndex))),this.zIndex>=0&&(this.length=Math.max(this.length,this.animationEngine.GetLength(this.zIndex))))}},y.outputDimension=3,y.valueProperty="value",y.curveType=_.Tw2Curve.Type.CURVE_MAYA,m=j((h=T).prototype,"xIndex",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return-1}}),p=j(h.prototype,"yIndex",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return-1}}),b=j(h.prototype,"zIndex",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return-1}}),v=j(h.prototype,"animationEngine",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),g=j(h.prototype,"value",[u,l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return w.vec3.create()}}),E=j(h.prototype,"length",[c,f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),d=h))||d)},"./curve/legacy/maya/index.js":function(e,t,r){"use strict";r.r(t);var i=r("./curve/legacy/maya/Tw2MayaEulerRotationCurve.js");r.d(t,"Tw2MayaEulerRotationCurve",(function(){return i.Tw2MayaEulerRotationCurve}));var n=r("./curve/legacy/maya/Tw2MayaScalarCurve.js");r.d(t,"Tw2MayaScalarCurve",(function(){return n.Tw2MayaScalarCurve}));var a=r("./curve/legacy/maya/Tw2MayaVector3Curve.js");r.d(t,"Tw2MayaVector3Curve",(function(){return a.Tw2MayaVector3Curve}));var o=r("./curve/legacy/maya/Tw2MayaAnimationEngine.js");r.d(t,"Tw2MayaAnimationEngine",(function(){return o.Tw2MayaAnimationEngine}))},"./curve/legacy/tracks/Tw2TransformTrack.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tw2TransformTrack",(function(){return N}));var i,n,a,o,s,u,l,c,f,d,h,m,p,b,v,g,E,y,T,S,w,_,R,j,A,O,z,P,x,C,D,M=r("./utils/index.js"),L=r("./global/index.js"),I=r("./math/index.js");function F(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function G(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var N=(i=M.meta.ctor("Tw2TransformTrack"),n=M.meta.string,a=M.meta.path,o=M.meta.struct(),s=M.meta.string,u=M.meta.boolean,l=M.meta.float,c=M.meta.vector3,f=M.meta.quaternion,d=M.meta.vector3,h=M.meta.matrix4,m=M.meta.struct(),p=M.meta.struct(),b=M.meta.struct(),v=M.meta.readOnly,i((y=G((E=class{constructor(){F(this,"name",y,this),F(this,"resPath",T,this),F(this,"res",S,this),F(this,"group",w,this),F(this,"cycle",_,this),F(this,"duration",R,this),F(this,"translation",j,this),F(this,"rotation",A,this),F(this,"scale",O,this),F(this,"scaleShear",z,this),F(this,"positionCurve",P,this),F(this,"orientationCurve",x,this),F(this,"scaleCurve",C,this),F(this,"_id",D,this)}Initialize(){""!==this.resPath&&(this.res=L.resMan.GetResource(this.resPath))}GetLength(){return this.duration}UpdateValue(e){this.res&&this.res.IsGood()&&(this.positionCurve||this.FindTracks(),this.positionCurve&&(this.cycle&&(e%=this.duration),e>this.duration||e<0||(I.curve.evaluate(this.positionCurve,e,this.translation,this.cycle,this.duration),I.curve.evaluate(this.orientationCurve,e,this.rotation,this.cycle,this.duration),I.quat.normalize(this.rotation,this.rotation),I.curve.evaluate(this.scaleCurve,e,this.scaleShear,this.cycle,this.duration),I.mat4.getScaling(this.scale,this.scaleCurve))))}FindTracks(){for(var e=null,t=0;t<this.res.animations.length;++t)for(var r=0;r<this.res.animations[t].trackGroups.length;++r)if(this.res.animations[t].trackGroups[r].name===this.group){this.duration=this.res.animations[t].duration,e=this.res.animations[t].trackGroups[r];break}if(e)for(var i=0;i<e.transformTracks.length;++i)if(this.name===e.transformTracks[i].name){this.positionCurve=e.transformTracks[i].position,this.orientationCurve=e.transformTracks[i].orientation,this.scaleCurve=e.transformTracks[i].scaleShear;break}}}).prototype,"name",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),T=G(E.prototype,"resPath",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),S=G(E.prototype,"res",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),w=G(E.prototype,"group",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),_=G(E.prototype,"cycle",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),R=G(E.prototype,"duration",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),j=G(E.prototype,"translation",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return I.vec3.create()}}),A=G(E.prototype,"rotation",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return I.quat.create()}}),O=G(E.prototype,"scale",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return I.vec3.fromValues(0,0,0)}}),z=G(E.prototype,"scaleShear",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return I.mat4.create()}}),P=G(E.prototype,"positionCurve",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),x=G(E.prototype,"orientationCurve",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),C=G(E.prototype,"scaleCurve",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),D=G(E.prototype,"_id",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Object(M.generateID)()}}),g=E))||g)},"./curve/legacy/tracks/Tw2WbgTrack.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tw2WbgTrack",(function(){return o})),r.d(t,"Tw2WbgTransformTrack",(function(){return s}));var i=r("./utils/index.js"),n=r("./global/index.js"),a=r("./math/index.js");function o(){this.name="",this.geometryResPath="",this.geometryRes=null,this.group="",this.duration=0,this.cycle=!1,this._id=Object(i.generateID)(),this.Initialize=function(){this.geometryResPath&&(this.geometryRes=n.resMan.GetResource(this.geometryResPath,e=>function(e){if(e.name&&e.group&&e.geometryRes)for(var t=0;t<e.geometryRes.animations.length;++t)for(var r=e.geometryRes.animations[t],i=0;i<r.trackGroups.length;++i)r.trackGroups[i].name===e.group&&e._ApplyTracks(r.trackGroups[i],r.duration)}(this)))},this.UpdateValue=function(e){this._TracksReady()&&(this.cycle&&(e%=this.duration),e<=this.duration&&e>=0&&this._UpdateValue(e))}}function s(){this._id=Object(i.generateID)(),this.translation=a.vec3.create(),this.rotation=a.quat.create(),this.rotation[3]=1,this.scale=a.vec3.create();var e=null,t=null,r=null,n=a.mat4.create();this._TracksReady=function(){return e||t||r},this._ApplyTracks=function(i,n){for(var a=0;a<i.transformTracks.length;++a){var o=i.transformTracks[a];o.name===this.name&&(this.duration=n,e=o.position,t=o.orientation,r=o.scaleShear)}this.UpdateValue(0)},this._UpdateValue=function(i){e&&a.curve.evaluate(e,i,this.translation,this.cycle,this.duration),t&&(a.curve.evaluate(t,i,this.rotation,this.cycle,this.duration),a.quat.normalize(this.rotation,this.rotation)),r&&a.curve.evaluate(r,i,n,this.cycle,this.duration),this.scale[0]=n[0],this.scale[1]=n[5],this.scale[2]=n[10]}}Object(i.defineMetadata)("type","Tw2WbgTrack",o),s.prototype=new o,Object(i.defineMetadata)("type","Tw2WbgTransformTrack",s)},"./curve/legacy/tracks/index.js":function(e,t,r){"use strict";r.r(t);var i=r("./curve/legacy/tracks/Tw2WbgTrack.js");r.d(t,"Tw2WbgTrack",(function(){return i.Tw2WbgTrack})),r.d(t,"Tw2WbgTransformTrack",(function(){return i.Tw2WbgTransformTrack}));var n=r("./curve/legacy/tracks/Tw2TransformTrack.js");r.d(t,"Tw2TransformTrack",(function(){return n.Tw2TransformTrack}))},"./curve/sequencer/TriColorSequencer.js":function(e,t,r){"use strict";r.r(t),r.d(t,"TriColorSequencer",(function(){return S}));var i,n,a,o,s,u,l,c,f,d,h,m,p,b,v=r("./utils/index.js"),g=r("./math/index.js"),E=r("./curve/sequencer/Tw2CurveSequencer.js");function y(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function T(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var S=(i=v.meta.ctor("TriColorSequencer"),n=v.meta.todo("Make backwards compatible with old Tw2ColorSequencer"),a=v.meta.stage(2),o=v.meta.string,s=v.meta.list("Tr2CurveScalar"),u=v.meta.vector4,l=v.meta.isPrivate,i(c=n(c=a((b=p=class extends E.Tw2CurveSequencer{constructor(...e){super(...e),y(this,"name",d,this),y(this,"functions",h,this),y(this,"value",m,this)}Sort(){E.Tw2CurveSequencer.Sort(this)}GetLength(){return E.Tw2CurveSequencer.GetLengthFromKeys(this)}UpdateValue(e){this.GetValueAt(e,this.value)}GetValueAt(e,t){var r=E.Tw2CurveSequencer.global.vec4_0;g.vec4.set(r,0,0,0,0);for(var i=0;i<this.functions.length;i++)this.functions[i].GetValueAt(e,t),g.vec4.add(t,t,r);return t}},p.inputDimension=4,p.outputDimension=4,p.valueProperty="value",p.curveType=E.Tw2CurveSequencer.Type.SEQUENCER,p.childArray="functions",d=T((f=b).prototype,"name",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),h=T(f.prototype,"functions",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),m=T(f.prototype,"value",[u,l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return g.vec4.create()}}),c=f))||c)||c)||c)},"./curve/sequencer/Tw2CurveColor.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tw2CurveColor",(function(){return A}));var i,n,a,o,s,u,l,c,f,d,h,m,p,b,v,g,E,y,T,S=r("./utils/index.js"),w=r("./math/index.js"),_=r("./curve/sequencer/Tw2CurveSequencer.js");function R(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function j(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var A=(i=S.meta.ctor("Tw2CurveColor","Tr2CurveColor"),n=S.meta.stage(2),a=S.meta.string,o=S.meta.raw("Tr2CurveScalar"),s=S.meta.raw("Tr2CurveScalar"),u=S.meta.raw("Tr2CurveScalar"),l=S.meta.raw("Tr2CurveScalar"),c=S.meta.color,f=S.meta.isPrivate,i(d=n((T=y=class extends _.Tw2CurveSequencer{constructor(...e){super(...e),R(this,"name",m,this),R(this,"r",p,this),R(this,"g",b,this),R(this,"b",v,this),R(this,"a",g,this),R(this,"currentValue",E,this)}Sort(){_.Tw2CurveSequencer.Sort2(this)}GetLength(){return _.Tw2CurveSequencer.GetLengthFromProperties(this)}UpdateValue(e){this.GetValueAt(e,this.currentValue)}GetValueAt(e,t){return t[0]=this.r?this.r.GetValueAt(e):0,t[1]=this.g?this.g.GetValueAt(e):0,t[2]=this.b?this.b.GetValueAt(e):0,t[3]=this.a?this.a.GetValueAt(e):0,t}},y.inputDimension=1,y.outputDimension=4,y.valueProperty="currentValue",y.curveType=_.Tw2CurveSequencer.Type.SEQUENCER,y.childProperties=["r","g","b","a"],m=j((h=T).prototype,"name",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),p=j(h.prototype,"r",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),b=j(h.prototype,"g",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),v=j(h.prototype,"b",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),g=j(h.prototype,"a",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),E=j(h.prototype,"currentValue",[c,f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return w.vec4.create()}}),d=h))||d)||d)},"./curve/sequencer/Tw2CurveEulerRotation.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tw2CurveEulerRotation",(function(){return R}));var i,n,a,o,s,u,l,c,f,d,h,m,p,b,v,g,E,y=r("./curve/sequencer/Tw2CurveSequencer.js"),T=r("./utils/index.js"),S=r("./math/index.js");function w(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function _(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var R=(i=T.meta.ctor("Tw2CurveEulerRotation","Tr2CurveEulerRotation"),n=T.meta.stage(2),a=T.meta.string,o=T.meta.raw("Tr2CurveScalar"),s=T.meta.raw("Tr2CurveScalar"),u=T.meta.raw("Tr2CurveScalar"),l=T.meta.quaternion,c=T.meta.isPrivate,i(f=n((E=g=class extends y.Tw2CurveSequencer{constructor(...e){super(...e),w(this,"name",h,this),w(this,"pitch",m,this),w(this,"roll",p,this),w(this,"yaw",b,this),w(this,"currentValue",v,this)}Sort(){y.Tw2CurveSequencer.Sort2(this)}GetLength(){return y.Tw2CurveSequencer.GetLengthFromProperties(this)}UpdateValue(e){this.GetValueAt(e,this.currentValue)}GetValueAt(e,t){var r=this.yaw?this.yaw.GetValueAt(e):0,i=this.pitch?this.pitch.GetValueAt(e):0,n=this.roll?this.roll.GetValueAt(e):0,a=Math.sin(r/2),o=Math.cos(r/2),s=Math.sin(i/2),u=Math.cos(i/2),l=Math.sin(n/2),c=Math.cos(n/2);return t[0]=a*u*l+o*s*c,t[1]=a*u*c-o*s*l,t[2]=o*u*l-a*s*c,t[3]=o*u*c+a*s*l,t}},g.inputDimension=1,g.outputDimension=4,g.valueProperty="currentValue",g.curveType=y.Tw2CurveSequencer.Type.SEQUENCER2,g.childProperties=["yaw","pitch","roll"],h=_((d=E).prototype,"name",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),m=_(d.prototype,"pitch",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),p=_(d.prototype,"roll",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),b=_(d.prototype,"yaw",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),v=_(d.prototype,"currentValue",[l,c],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return S.quat.create()}}),f=d))||f)||f)},"./curve/sequencer/Tw2CurveSequencer.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tw2CurveSequencer",(function(){return u}));var i,n,a,o=r("./utils/index.js"),s=r("./curve/curve/Tw2Curve.js"),u=o.meta.ctor("Tw2CurveSequencer")((a=n=class extends s.Tw2Curve{static Sort(e,t=e.constructor.childArray){var r=e[t];if(r&&r.length)for(var i=0;i<r.length;i++)r[i]&&"Sort"in r[i]&&r[i].Sort()}static Sort2(e,t=e.constructor.childProperties){if(t)for(var r=0;r<t.length;r++){var i=e[t[r]];i&&"Sort"in i&&i.Sort()}}static GetLengthFromKeys(e,t=e.constructor.childArray){for(var r=e[t],i=0,n=0;n<r.length;++n)"GetLength"in r[n]&&(i=Math.max(i,r[n].GetLength()));return i}static GetLengthFromProperties(e,t=e.constructor.childProperties){for(var r=0,i=0;i<t.length;i++){var n=e[t[i]];n&&"GetLength"in n&&(r=Math.max(r,n.GetLength()))}return r}},n.inputDimension=null,n.outputDimension=null,n.childProperties=null,n.childArray=null,n.Operator=null,i=a))||i},"./curve/sequencer/Tw2CurveVector3.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tw2CurveVector3",(function(){return R}));var i,n,a,o,s,u,l,c,f,d,h,m,p,b,v,g,E,y=r("./curve/sequencer/Tw2CurveSequencer.js"),T=r("./utils/index.js"),S=r("./math/index.js");function w(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function _(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var R=(i=T.meta.ctor("Tw2CurveVector3","Tr2CurveVector3"),n=T.meta.stage(2),a=T.meta.string,o=T.meta.raw("Tr2CurveScalar"),s=T.meta.raw("Tr2CurveScalar"),u=T.meta.raw("Tr2CurveScalar"),l=T.meta.vector3,c=T.meta.isPrivate,i(f=n((E=g=class extends y.Tw2CurveSequencer{constructor(...e){super(...e),w(this,"name",h,this),w(this,"x",m,this),w(this,"y",p,this),w(this,"z",b,this),w(this,"currentValue",v,this)}Sort(){y.Tw2CurveSequencer.Sort2(this)}GetLength(){return y.Tw2CurveSequencer.GetLengthFromProperties(this)}UpdateValue(e){this.GetValueAt(e,this.currentValue)}GetValueAt(e,t){return t[0]=this.x?this.x.GetValueAt(e):0,t[1]=this.y?this.y.GetValueAt(e):0,t[2]=this.z?this.z.GetValueAt(e):0,t}},g.inputDimension=1,g.outputDimension=3,g.valueProperty="currentValue",g.curveType=y.Tw2CurveSequencer.Type.SEQUENCER2,g.childProperties=["x","y","z"],h=_((d=E).prototype,"name",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),m=_(d.prototype,"x",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),p=_(d.prototype,"y",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),b=_(d.prototype,"z",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),v=_(d.prototype,"currentValue",[l,c],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return S.vec3.create()}}),f=d))||f)||f)},"./curve/sequencer/index.js":function(e,t,r){"use strict";r.r(t);var i=r("./curve/sequencer/TriColorSequencer.js");r.d(t,"TriColorSequencer",(function(){return i.TriColorSequencer}));var n=r("./curve/sequencer/Tw2CurveColor.js");r.d(t,"Tw2CurveColor",(function(){return n.Tw2CurveColor}));var a=r("./curve/sequencer/Tw2CurveEulerRotation.js");r.d(t,"Tw2CurveEulerRotation",(function(){return a.Tw2CurveEulerRotation}));var o=r("./curve/sequencer/Tw2CurveVector3.js");r.d(t,"Tw2CurveVector3",(function(){return o.Tw2CurveVector3}));var s=r("./curve/sequencer/Tw2CurveSequencer.js");r.d(t,"Tw2CurveSequencer",(function(){return s.Tw2CurveSequencer}));var u=r("./curve/sequencer/legacy/index.js");r.d(t,"Tw2ColorSequencer",(function(){return u.Tw2ColorSequencer})),r.d(t,"Tw2EulerRotation",(function(){return u.Tw2EulerRotation})),r.d(t,"Tw2QuaternionSequencer",(function(){return u.Tw2QuaternionSequencer})),r.d(t,"Tw2RGBAScalarSequencer",(function(){return u.Tw2RGBAScalarSequencer})),r.d(t,"Tw2ScalarSequencer",(function(){return u.Tw2ScalarSequencer})),r.d(t,"Tw2VectorSequencer",(function(){return u.Tw2VectorSequencer})),r.d(t,"Tw2XYZScalarSequencer",(function(){return u.Tw2XYZScalarSequencer})),r.d(t,"Tw2YPRSequencer",(function(){return u.Tw2YPRSequencer}))},"./curve/sequencer/legacy/Tw2ColorSequencer.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tw2ColorSequencer",(function(){return _}));var i,n,a,o,s,u,l,c,f,d,h,m,p,b,v,g=r("./utils/index.js"),E=r("./math/index.js"),y=r("./curve/sequencer/Tw2CurveSequencer.js");function T(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function S(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var w={MULTIPLY:0,ADD:1},_=(i=g.meta.ctor("Tw2ColorSequencer"),n=g.meta.string,a=g.meta.float,o=g.meta.vector4,s=g.meta.enums(w),u=g.meta.list("Tw2Curve"),i((v=b=class e extends y.Tw2CurveSequencer{constructor(...e){super(...e),T(this,"name",f,this),T(this,"start",d,this),T(this,"value",h,this),T(this,"operator",m,this),T(this,"functions",p,this)}Sort(){y.Tw2CurveSequencer.Sort(this)}GetLength(){return y.Tw2CurveSequencer.GetLengthFromKeys(this)}UpdateValue(e){this.GetValueAt(e,this.value)}GetValueAt(t,r){var i=y.Tw2CurveSequencer.global.vec4_0;switch(this.operator){case e.Operator.MULTIPLY:E.vec4.set(r,1,1,1,1);for(var n=0;n<this.functions.length;++n)this.functions[n].GetValueAt(t,i),E.vec4.multiply(r,r,i);break;default:E.vec4.set(r,0,0,0,0);for(var a=0;a<this.functions.length;++a)this.functions[a].GetValueAt(t,i),E.vec4.add(r,r,i)}return r}},b.inputDimension=4,b.outputDimension=4,b.valueProperty="value",b.curveType=y.Tw2CurveSequencer.Type.SEQUENCER,b.childArray="functions",b.Operator=w,f=S((c=v).prototype,"name",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),d=S(c.prototype,"start",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),h=S(c.prototype,"value",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return E.vec4.create()}}),m=S(c.prototype,"operator",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),p=S(c.prototype,"functions",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),l=c))||l)},"./curve/sequencer/legacy/Tw2EulerRotation.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tw2EulerRotation",(function(){return S}));var i,n,a,o,s,u,l,c,f,d,h,m,p,b,v=r("./utils/index.js"),g=r("./math/index.js"),E=r("./curve/sequencer/Tw2CurveSequencer.js");function y(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function T(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var S=(i=v.meta.ctor("Tw2EulerRotation"),n=v.meta.struct("Tw2Curve"),a=v.meta.struct("Tw2Curve"),o=v.meta.struct("Tw2Curve"),s=v.meta.quaternion,u=v.meta.isPrivate,i((b=p=class extends E.Tw2CurveSequencer{constructor(...e){super(...e),y(this,"yawCurve",f,this),y(this,"pitchCurve",d,this),y(this,"rollCurve",h,this),y(this,"currentValue",m,this)}Sort(){E.Tw2CurveSequencer.Sort2(this)}GetLength(){return E.Tw2CurveSequencer.GetLengthFromProperties(this)}UpdateValue(e){this.GetValueAt(e,this.currentValue)}GetValueAt(e,t){var r=this.yawCurve?this.yawCurve.GetValueAt(e):0,i=this.pitchCurve?this.pitchCurve.GetValueAt(e):0,n=this.rollCurve?this.rollCurve.GetValueAt(e):0,a=Math.sin(r/2),o=Math.cos(r/2),s=Math.sin(i/2),u=Math.cos(i/2),l=Math.sin(n/2),c=Math.cos(n/2);return t[0]=a*u*l+o*s*c,t[1]=a*u*c-o*s*l,t[2]=o*u*l-a*s*c,t[3]=o*u*c+a*s*l,t}},p.inputDimension=1,p.outputDimension=4,p.valueProperty="currentValue",p.curveType=E.Tw2CurveSequencer.Type.SEQUENCER2,p.childProperties=["yawCurve","pitchCurve","rollCurve"],f=T((c=b).prototype,"yawCurve",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),d=T(c.prototype,"pitchCurve",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),h=T(c.prototype,"rollCurve",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),m=T(c.prototype,"currentValue",[s,u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return g.quat.create()}}),l=c))||l)},"./curve/sequencer/legacy/Tw2QuaternionSequencer.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tw2QuaternionSequencer",(function(){return y}));var i,n,a,o,s,u,l,c,f,d,h,m,p=r("./utils/index.js"),b=r("./math/index.js"),v=r("./curve/sequencer/Tw2CurveSequencer.js");function g(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function E(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var y=(i=p.meta.ctor("Tw2QuaternionSequencer"),n=p.meta.float,a=p.meta.quaternion,o=p.meta.isPrivate,s=p.meta.list("Tw2Curve"),i((m=h=class extends v.Tw2CurveSequencer{constructor(...e){super(...e),g(this,"start",c,this),g(this,"value",f,this),g(this,"functions",d,this)}Sort(){v.Tw2CurveSequencer.Sort(this)}GetLength(){return v.Tw2CurveSequencer.GetLengthFromKeys(this)}UpdateValue(e){this.GetValueAt(e,this.value)}GetValueAt(e,t){b.quat.identity(t);for(var r=v.Tw2CurveSequencer.global.quat_0,i=0;i<this.functions.length;++i)this.functions[i].GetValueAt(e,r),b.quat.multiply(t,t,r);return t}},h.inputDimension=4,h.outputDimension=4,h.valueProperty="value",h.curveType=v.Tw2CurveSequencer.Type.SEQUENCER,h.childArray="functions",c=E((l=m).prototype,"start",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),f=E(l.prototype,"value",[a,o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return b.quat.create()}}),d=E(l.prototype,"functions",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),u=l))||u)},"./curve/sequencer/legacy/Tw2RGBAScalarSequencer.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tw2RGBAScalarSequencer",(function(){return _}));var i,n,a,o,s,u,l,c,f,d,h,m,p,b,v,g,E=r("./utils/index.js"),y=r("./math/index.js"),T=r("./curve/sequencer/Tw2CurveSequencer.js");function S(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function w(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var _=(i=E.meta.ctor("Tw2RGBAScalarSequencer"),n=E.meta.vector4,a=E.meta.isPrivate,o=E.meta.struct("Tw2Curve"),s=E.meta.struct("Tw2Curve"),u=E.meta.struct("Tw2Curve"),l=E.meta.struct("Tw2Curve"),i((g=v=class extends T.Tw2CurveSequencer{constructor(...e){super(...e),S(this,"value",d,this),S(this,"RedCurve",h,this),S(this,"GreenCurve",m,this),S(this,"BlueCurve",p,this),S(this,"AlphaCurve",b,this)}Sort(){T.Tw2CurveSequencer.Sort2(this)}GetLength(){return T.Tw2CurveSequencer.GetLengthFromProperties(this)}UpdateValue(e){this.GetValueAt(e,this.value)}GetValueAt(e,t){return t[0]=this.RedCurve?this.RedCurve.GetValueAt(e):0,t[1]=this.GreenCurve?this.GreenCurve.GetValueAt(e):0,t[2]=this.BlueCurve?this.BlueCurve.GetValueAt(e):0,t[3]=this.AlphaCurve?this.AlphaCurve.GetValueAt(e):0,t}},v.inputDimension=1,v.outputDimension=4,v.valueProperty="value",v.curveType=T.Tw2CurveSequencer.Type.SEQUENCER2,v.childProperties=["RedCurve","GreenCurve","BlueCurve","AlphaCurve"],d=w((f=g).prototype,"value",[n,a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return y.vec4.create()}}),h=w(f.prototype,"RedCurve",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),m=w(f.prototype,"GreenCurve",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),p=w(f.prototype,"BlueCurve",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),b=w(f.prototype,"AlphaCurve",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),c=f))||c)},"./curve/sequencer/legacy/Tw2ScalarSequencer.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tw2ScalarSequencer",(function(){return P}));var i,n,a,o,s,u,l,c,f,d,h,m,p,b,v,g,E,y,T,S,w,_,R=r("./utils/index.js"),j=r("./curve/sequencer/Tw2CurveSequencer.js");function A(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function O(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var z={MULTIPLY:0,ADD:1},P=(i=R.meta.ctor("Tw2ScalarSequencer"),n=R.meta.float,a=R.meta.isPrivate,o=R.meta.enums(z),s=R.meta.list("Tw2Curve"),u=R.meta.float,l=R.meta.float,c=R.meta.float,f=R.meta.float,d=R.meta.boolean,i((_=w=class e extends j.Tw2CurveSequencer{constructor(...e){super(...e),A(this,"value",p,this),A(this,"operator",b,this),A(this,"functions",v,this),A(this,"inMinClamp",g,this),A(this,"inMaxClamp",E,this),A(this,"outMinClamp",y,this),A(this,"outMaxClamp",T,this),A(this,"clamping",S,this)}Sort(){j.Tw2CurveSequencer.Sort(this)}GetLength(){return j.Tw2CurveSequencer.GetLengthFromKeys(this)}UpdateValue(e){this.value=this.GetValueAt(e)}GetValueAt(t){var r;switch(this.operator){case e.Operator.MULTIPLY:r=1;for(var i=0;i<this.functions.length;++i){var n=this.functions[i].GetValueAt(t);this.clamping&&(n=Math.min(Math.max(n,this.inMinClamp),this.inMaxClamp)),r*=n}break;default:r=0;for(var a=0;a<this.functions.length;++a){var o=this.functions[a].GetValueAt(t);this.clamping&&(o=Math.min(Math.max(o,this.inMinClamp),this.inMaxClamp)),r+=o}}return this.clamping&&(r=Math.min(Math.max(r,this.outMinClamp),this.outMaxClamp)),r}},w.inputDimension=1,w.outputDimension=1,w.valueProperty="value",w.curveType=j.Tw2CurveSequencer.Type.SEQUENCER,w.childArray="functions",w.Operator=z,p=O((m=_).prototype,"value",[n,a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),b=O(m.prototype,"operator",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),v=O(m.prototype,"functions",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),g=O(m.prototype,"inMinClamp",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),E=O(m.prototype,"inMaxClamp",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),y=O(m.prototype,"outMinClamp",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),T=O(m.prototype,"outMaxClamp",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),S=O(m.prototype,"clamping",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),h=m))||h)},"./curve/sequencer/legacy/Tw2VectorSequencer.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tw2VectorSequencer",(function(){return w}));var i,n,a,o,s,u,l,c,f,d,h,m,p,b,v=r("./utils/index.js"),g=r("./math/index.js"),E=r("./curve/sequencer/Tw2CurveSequencer.js");function y(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function T(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var S={MULTIPLY:0,ADD:1},w=(i=v.meta.ctor("Tw2VectorSequencer"),n=v.meta.float,a=v.meta.vector3,o=v.meta.isPrivate,s=v.meta.enums(S),u=v.meta.list("Tw2Curve"),i((b=p=class e extends E.Tw2CurveSequencer{constructor(...e){super(...e),y(this,"start",f,this),y(this,"value",d,this),y(this,"operator",h,this),y(this,"functions",m,this)}Sort(){E.Tw2CurveSequencer.Sort(this)}GetLength(){return E.Tw2CurveSequencer.GetLengthFromKeys(this)}UpdateValue(e){this.GetValueAt(e,this.value)}GetValueAt(t,r){var i=E.Tw2CurveSequencer.global.vec3_0;switch(this.operator){case e.Operator.MULTIPLY:g.vec3.set(r,1,1,1);for(var n=0;n<this.functions.length;++n)this.functions[n].GetValueAt(t,i),g.vec3.multiply(r,r,i);return r;default:g.vec3.set(r,0,0,0);for(var a=0;a<this.functions.length;++a)this.functions[a].GetValueAt(t,i),g.vec3.add(r,r,i);return r}}},p.inputDimension=3,p.outputDimension=3,p.valueProperty="value",p.curveType=E.Tw2CurveSequencer.Type.SEQUENCER,p.childArray="functions",p.Operator=S,f=T((c=b).prototype,"start",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),d=T(c.prototype,"value",[a,o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return g.vec3.create()}}),h=T(c.prototype,"operator",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),m=T(c.prototype,"functions",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),l=c))||l)},"./curve/sequencer/legacy/Tw2XYZScalarSequencer.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tw2XYZScalarSequencer",(function(){return S}));var i,n,a,o,s,u,l,c,f,d,h,m,p,b,v=r("./utils/index.js"),g=r("./math/index.js"),E=r("./curve/sequencer/Tw2CurveSequencer.js");function y(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function T(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var S=(i=v.meta.ctor("Tw2XYZScalarSequencer"),n=v.meta.vector3,a=v.meta.isPrivate,o=v.meta.struct("Tw2Curve"),s=v.meta.struct("Tw2Curve"),u=v.meta.struct("Tw2Curve"),i((b=p=class extends E.Tw2CurveSequencer{constructor(...e){super(...e),y(this,"value",f,this),y(this,"XCurve",d,this),y(this,"YCurve",h,this),y(this,"ZCurve",m,this)}Sort(){E.Tw2CurveSequencer.Sort2(this)}GetLength(){return E.Tw2CurveSequencer.GetLengthFromProperties(this)}UpdateValue(e){this.GetValueAt(e,this.value)}GetValueAt(e,t){return t[0]=this.XCurve?this.XCurve.GetValueAt(e):0,t[1]=this.YCurve?this.YCurve.GetValueAt(e):0,t[2]=this.ZCurve?this.ZCurve.GetValueAt(e):0,t}},p.inputDimension=1,p.outputDimension=3,p.valueProperty="value",p.curveType=E.Tw2CurveSequencer.Type.SEQUENCER2,p.childProperties=["XCurve","YCurve","ZCurve"],f=T((c=b).prototype,"value",[n,a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return g.vec3.create()}}),d=T(c.prototype,"XCurve",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),h=T(c.prototype,"YCurve",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),m=T(c.prototype,"ZCurve",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),l=c))||l)},"./curve/sequencer/legacy/Tw2YPRSequencer.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tw2YPRSequencer",(function(){return R}));var i,n,a,o,s,u,l,c,f,d,h,m,p,b,v,g,E,y=r("./utils/index.js"),T=r("./math/index.js"),S=r("./curve/sequencer/Tw2CurveSequencer.js");function w(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function _(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var R=(i=y.meta.ctor("Tw2YPRSequencer"),n=y.meta.quaternion,a=y.meta.isPrivate,o=y.meta.vector3,s=y.meta.isPrivate,u=y.meta.struct("Tw2Curve"),l=y.meta.struct("Tw2Curve"),c=y.meta.struct("Tw2Curve"),i((E=g=class extends S.Tw2CurveSequencer{constructor(...e){super(...e),w(this,"value",h,this),w(this,"YawPitchRoll",m,this),w(this,"YawCurve",p,this),w(this,"PitchCurve",b,this),w(this,"RollCurve",v,this)}Sort(){S.Tw2CurveSequencer.Sort2(this)}GetLength(){return S.Tw2CurveSequencer.GetLengthFromProperties(this)}UpdateValue(e){this.GetValueAt(e,this.value)}GetValueAt(e,t){this.YawCurve&&(this.YawPitchRoll[0]=this.YawCurve.GetValueAt(e)),this.PitchCurve&&(this.YawPitchRoll[1]=this.PitchCurve.GetValueAt(e)),this.RollCurve&&(this.YawPitchRoll[2]=this.RollCurve.GetValueAt(e));var r=Math.sin(this.YawPitchRoll[0]/180*Math.PI/2),i=Math.cos(this.YawPitchRoll[0]/180*Math.PI/2),n=Math.sin(this.YawPitchRoll[1]/180*Math.PI/2),a=Math.cos(this.YawPitchRoll[1]/180*Math.PI/2),o=Math.sin(this.YawPitchRoll[2]/180*Math.PI/2),s=Math.cos(this.YawPitchRoll[2]/180*Math.PI/2);return t[0]=r*a*o+i*n*s,t[1]=r*a*s-i*n*o,t[2]=i*a*o-r*n*s,t[3]=i*a*s+r*n*o,t}},g.inputDimension=1,g.outputDimension=4,g.valueProperty="value",g.curveType=S.Tw2CurveSequencer.Type.SEQUENCER2,g.childProperties=["YawCurve","PitchCurve","RollCurve"],h=_((d=E).prototype,"value",[n,a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return T.quat.create()}}),m=_(d.prototype,"YawPitchRoll",[o,s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return T.vec3.create()}}),p=_(d.prototype,"YawCurve",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),b=_(d.prototype,"PitchCurve",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),v=_(d.prototype,"RollCurve",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),f=d))||f)},"./curve/sequencer/legacy/index.js":function(e,t,r){"use strict";r.r(t);var i=r("./curve/sequencer/legacy/Tw2ColorSequencer.js");r.d(t,"Tw2ColorSequencer",(function(){return i.Tw2ColorSequencer}));var n=r("./curve/sequencer/legacy/Tw2EulerRotation.js");r.d(t,"Tw2EulerRotation",(function(){return n.Tw2EulerRotation}));var a=r("./curve/sequencer/legacy/Tw2QuaternionSequencer.js");r.d(t,"Tw2QuaternionSequencer",(function(){return a.Tw2QuaternionSequencer}));var o=r("./curve/sequencer/legacy/Tw2RGBAScalarSequencer.js");r.d(t,"Tw2RGBAScalarSequencer",(function(){return o.Tw2RGBAScalarSequencer}));var s=r("./curve/sequencer/legacy/Tw2ScalarSequencer.js");r.d(t,"Tw2ScalarSequencer",(function(){return s.Tw2ScalarSequencer}));var u=r("./curve/sequencer/legacy/Tw2VectorSequencer.js");r.d(t,"Tw2VectorSequencer",(function(){return u.Tw2VectorSequencer}));var l=r("./curve/sequencer/legacy/Tw2XYZScalarSequencer.js");r.d(t,"Tw2XYZScalarSequencer",(function(){return l.Tw2XYZScalarSequencer}));var c=r("./curve/sequencer/legacy/Tw2YPRSequencer.js");r.d(t,"Tw2YPRSequencer",(function(){return c.Tw2YPRSequencer}))},"./eve/EveSpaceScene.js":function(e,t,r){"use strict";r.r(t),r.d(t,"EveSpaceScene",(function(){return rt}));var i,n,a,o,s,u,l,c,f,d,h,m,p,b,v,g,E,y,T,S,w,_,R,j,A,O,z,P,x,C,D,M,L,I,F,G,N,B,U,V,k,H,q,W,Y,X,K,Q,Z,$,J,ee,te,re,ie,ne,ae,oe,se,ue,le,ce,fe,de,he,me,pe,be,ve,ge,Ee,ye,Te,Se,we,_e,Re,je,Ae,Oe,ze,Pe,xe,Ce,De,Me,Le,Ie,Fe,Ge,Ne,Be,Ue,Ve,ke,He,qe,We,Ye,Xe,Ke,Qe=r("./utils/index.js"),Ze=r("./global/index.js"),$e=r("./math/index.js"),Je=r("./core/index.js");function et(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function tt(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var rt=(i=Qe.meta.ctor("EveSpaceScene"),n=Qe.meta.color,a=Qe.meta.struct("Tw2Effect"),o=Qe.meta.list("EveObject"),s=Qe.meta.boolean,u=Qe.meta.list("Tw2CurveSet"),l=Qe.meta.notImplemented,c=Qe.meta.boolean,f=Qe.meta.path,d=Qe.meta.path,h=Qe.meta.path,m=Qe.meta.quaternion,p=Qe.meta.notImplemented,b=Qe.meta.list("Tr2ExternalParameter"),v=Qe.meta.color,g=Qe.meta.float,E=Qe.meta.float,y=Qe.meta.float,T=Qe.meta.notImplemented,S=Qe.meta.path,w=Qe.meta.notImplemented,_=Qe.meta.path,R=Qe.meta.float,j=Qe.meta.list("EveObject"),A=Qe.meta.path,O=Qe.meta.notImplemented,z=Qe.meta.boolean,P=Qe.meta.notImplemented,x=Qe.meta.struct("Tr2ShLightingManager"),C=Qe.meta.notImplemented,D=Qe.meta.float,M=Qe.meta.todo("Identify ps/vs frame data"),L=Qe.meta.notImplemented,I=Qe.meta.float,F=Qe.meta.todo("Identify ps/vs frame data"),G=Qe.meta.notImplemented,N=Qe.meta.struct("EveStarField"),B=Qe.meta.color,U=Qe.meta.notImplemented,V=Qe.meta.color,k=Qe.meta.vector3,H=Qe.meta.notImplemented,q=Qe.meta.boolean,W=Qe.meta.color,Y=Qe.meta.boolean,X=Qe.meta.vector3,K=Qe.meta.uint,Q=Qe.meta.uint,Z=Qe.meta.list("EveLensflare"),$=Qe.meta.list("EvePlanet"),J=Qe.meta.list("EveCurveLineSet"),ee=Qe.meta.notImplemented,te=Qe.meta.struct("Tr2PostProcess"),re=Qe.meta.notImplemented,ie=Qe.meta.struct("Tw2Effect"),ne=Qe.meta.todo("Do shadows need their own render mode and batch accumulation?"),ae=Qe.meta.plain,i((Ke=Xe=class e extends Qe.meta.Model{constructor(){super(),et(this,"ambientColor",ue,this),et(this,"backgroundEffect",le,this),et(this,"backgroundObjects",ce,this),et(this,"backgroundRenderingEnabled",fe,this),et(this,"curveSets",de,this),et(this,"enableShadows",he,this),et(this,"envMap1ResPath",me,this),et(this,"envMap2ResPath",pe,this),et(this,"envMapResPath",be,this),et(this,"envMapRotation",ve,this),et(this,"externalParameters",ge,this),et(this,"fogColor",Ee,this),et(this,"fogEnd",ye,this),et(this,"fogMax",Te,this),et(this,"fogStart",Se,this),et(this,"lowQualityNebulaMixResPath",we,this),et(this,"lowQualityNebulaResPath",_e,this),et(this,"nebulaIntensity",Re,this),et(this,"objects",je,this),et(this,"postProcessPath",Ae,this),et(this,"selfShadowOnly",Oe,this),et(this,"shLightingManager",ze,this),et(this,"shadowFadeThreshold",Pe,this),et(this,"shadowThreshold",xe,this),et(this,"starfield",Ce,this),et(this,"sunDiffuseColor",De,this),et(this,"sunDiffuseColorWithDynamicLights",Me,this),et(this,"sunDirection",Le,this),et(this,"useSunDiffuseColorWithDynamicLights",Ie,this),et(this,"clearColor",Fe,this),et(this,"display",Ge,this),et(this,"envMapScaling",Ne,this),et(this,"fogBlur",Be,this),et(this,"fogType",Ue,this),et(this,"lensflares",Ve,this),et(this,"planets",ke,this),et(this,"lineSets",He,this),et(this,"postProcess",qe,this),et(this,"shadowEffect",We,this),et(this,"visible",Ye,this),this._localTransform=$e.mat4.create(),this._debugHelper=null,this._batches=new Je.Tw2BatchAccumulator,this._emptyTexture=null,this._frustum=new Je.Tw2Frustum,this._lodEnabled=!1,this._perFrameVS=Je.Tw2RawData.from(e.perFrameData.vs),this._perFramePS=Je.Tw2RawData.from(e.perFrameData.ps),this._envMapRes=null,this._envMap1Res=null,this._envMap2Res=null,Object.defineProperty(this.visible,"environment",{get:()=>this.backgroundRenderingEnabled,set:e=>this.backgroundRenderingEnabled=e?1:0}),Object.defineProperty(this.visible,"shadow",{get:()=>this.enableShadows,set:e=>this.enableShadows=e?1:0}),e.init()}Initialize(){if(this.SetEnvMapReflection(this.envMapPath),this.SetEnvMapDiffuse(this.envMap1ResPath),this.SetEnvMapBlur(this.envMap2ResPath),this.SetPostProcess(this.postProcessPath),this.objects.length){for(var e=0;e<this.objects.length;e++)this.backgroundObjects.push(this.objects[e]);this.objects.splice(0)}}SetTransform(e){$e.mat4.copy(this._localTransform,e)}GetTransform(e){$e.mat4.copy(e,this._localTransform)}SetEnvironmentTransform(e){$e.mat4.getRotation(this.envMapRotation,e),$e.mat4.getScaling(this.envMapScaling,e)}GetEnvironmentTransform(t){var r=$e.vec3.set(e.global.vec3_ZERO,0,0,0);$e.mat4.fromRotationTranslationScale(t,this.envMapRotation,r,this.envMapScaling)}SetPostProcess(e=""){e?(this.postProcessPath=e.toLowerCase(),Ze.resMan.GetObject(e,e=>this.postProcess=e)):(this.postProcessPath="",this.postProcess=null)}SetEnvMapReflection(e=""){e?(this.envMapResPath=e,this._envMapRes=Ze.resMan.GetResource(e)):(this.envMapPath="",this._envMapRes=null)}SetEnvMapDiffuse(e=""){e?(this.envMap1ResPath=e.toLowerCase(),this._envMap1Res=Ze.resMan.GetResource(e)):(this.envMap1ResPath="",this._envMap1Res=null)}SetEnvMapBlur(e=""){if(!e)return this.envMap2ResPath="",void(this._envMap1Res=null);this.envMap2ResPath=e.toLowerCase(),this._envMap2Res=Ze.resMan.GetResource(e)}EnableLod(e){this._lodEnabled=e,e||this.PerChildObject("ResetLod")}KeepAlive(){var e=this.GetResources();this.GetChildResources(e);for(var t=0;t<e.length;t++)e[t].KeepAlive()}GetResources(e=[]){for(var t=0;t<this.lensflares.length;t++)this.lensflares[t].GetResources(e);return this.backgroundEffect&&this.backgroundEffect.GetResources(e),this.postProcess&&this.postProcess.GetResources(e),this.starfield&&this.starfield.GetResources(e),this._envMapRes&&!e.includes(this._envMapRes)&&e.push(this._envMapRes),this._envMap1Res&&!e.includes(this._envMap1Res)&&e.push(this._envMapRes),this._envMap2Res&&!e.includes(this._envMap2Res)&&e.push(this._envMapRes),e}GetChildResources(e=[]){return this.PerChildObject("GetResources",e),e}PerChildObject(e,...t){for(var r=0;r<this.planets.length;r++)e in this.planets[r]&&this.planets[r][e](...t);for(var i=0;i<this.objects.length;i++)e in this.objects[i]&&this.objects[i][e](...t);for(var n=0;n<this.backgroundObjects.length;n++)e in this.backgroundObjects[n]&&this.backgroundObjects[n][e](...t);for(var a=0;a<this.lineSets.length;a++)e in this.lineSets[a]&&this.lineSets[a][e](...t)}GetEmptyTexture(){return this._emptyTexture||(this._emptyTexture=Ze.resMan.GetResource("res:/texture/global/black.dds.0.png")),this._emptyTexture}Update(e){for(var t=0;t<this.curveSets.length;t++)this.curveSets[t].Update(e);this.PerChildObject("Update",e)}RenderBatches(e,t,r=this._batches){for(var i=0;i<t.length;++i)"GetBatches"in t[i]&&t[i].GetBatches(e,r)}Render(t){this.ApplyPerFrameData();var r=Ze.device,i=e.global,n=this._localTransform,a=this.visible,o=$e.mat4.maxScaleOnAxis(this._localTransform);if(a.environment&&this.backgroundEffect&&(r.SetStandardStates(r.RM_FULLSCREEN),r.RenderCameraSpaceQuad(this.backgroundEffect)),a.planets&&this.planets.length){var s=$e.mat4.copy(i.mat4_0,r.projection),u=$e.mat4.copy(i.mat4_1,r.projection),l=1e11;u[10]=l/(1e4-l),u[14]=-10000.0010000001,r.SetProjection(u,!0),this.ApplyPerFrameData();for(var c=0;c<this.planets.length;++c)this.planets[c].UpdateViewDependentData&&this.planets[c].UpdateViewDependentData(n,t,o);this._batches.Clear(),r.gl.depthRange(.9,1),this.RenderBatches(r.RM_OPAQUE,this.planets),this.RenderBatches(r.RM_DECAL,this.planets),this.RenderBatches(r.RM_TRANSPARENT,this.planets),this.RenderBatches(r.RM_ADDITIVE,this.planets),this._batches.Render(),r.SetProjection(s,!0),this.ApplyPerFrameData(),r.gl.depthRange(0,.9)}if(this._lodEnabled&&(this._frustum.Initialize(r.view,r.projection,r.viewportWidth,r.viewInverse,r.viewProjection),this.PerChildObject("UpdateLod",this._frustum)),a.objects)for(var f=0;f<this.objects.length;++f)this.objects[f].UpdateViewDependentData&&this.objects[f].UpdateViewDependentData(n,t,o);if(a.backgroundObjects)for(var d=0;d<this.backgroundObjects.length;d++)this.backgroundObjects[d].UpdateViewDependentData&&this.backgroundObjects[d].UpdateViewDependentData(n,t,o);if(a.lineSets)for(var h=0;h<this.lineSets.length;h++)this.lineSets[h].UpdateViewDependentData(n,t);if(a.lensflares)for(var m=0;m<this.lensflares.length;++m)this.lensflares[m].PrepareRender();if(this._batches.Clear(),a.planets)for(var p=0;p<this.planets.length;++p)this.planets[p].GetZOnlyBatches(r.RM_OPAQUE,this._batches);if(a.objects&&(this.RenderBatches(r.RM_OPAQUE,this.objects),this.RenderBatches(r.RM_DECAL,this.objects),this.RenderBatches(r.RM_TRANSPARENT,this.objects),this.RenderBatches(r.RM_ADDITIVE,this.objects)),a.backgroundObjects&&(this.RenderBatches(r.RM_OPAQUE,this.backgroundObjects),this.RenderBatches(r.RM_DECAL,this.backgroundObjects),this.RenderBatches(r.RM_TRANSPARENT,this.backgroundObjects),this.RenderBatches(r.RM_ADDITIVE,this.backgroundObjects)),a.lineSets&&(this.RenderBatches(r.RM_TRANSPARENT,this.lineSets),this.RenderBatches(r.RM_ADDITIVE,this.lineSets)),a.lensflares)for(var b=0;b<this.lensflares.length;++b)this.lensflares[b].GetBatches(r.RM_ADDITIVE,this._batches);if(this.starfield,this.postProcess,this._batches.Render(),a.lensflares)for(var v=0;v<this.lensflares.length;++v)this.lensflares[v].UpdateOccluders();a.debug&&e.DebugRenderer&&(this._debugHelper||(this._debugHelper=new e.DebugRenderer),this.PerChildObject("RenderDebugInfo",this._debugHelper),this._debugHelper.Render())}ApplyPerFrameData(){var t=Ze.device,r=e.global,i=this._localTransform,n=r.mat4_2,a=r.vec3_0,o=this.visible;$e.mat4.fromQuat(n,this.envMapRotation),$e.mat4.scale(n,n,this.envMapScaling),$e.mat4.multiply(n,n,i),n[12]=0,n[13]=0,n[14]=0,$e.mat4.transpose(n,n),$e.vec3.transformMat4(a,this.sunDirection,i),$e.vec3.negate(a,a),$e.vec3.normalize(a,a);var s=this.fogEnd-this.fogStart;Math.abs(s)<1e-5&&(s=1e-5);var u=1/s,l=this._perFrameVS;this.visible.fog?l.Set("FogFactors",[this.fogEnd*u,u,this.fogMax,1]):l.Set("FogFactors",[0,0,0,0]),l.Set("ViewportAdjustment",[1,1,1,1]),l.Set("MiscSettings",[t.currentTime,0,t.viewportWidth,t.viewportHeight]),l.Set("SunData.DirWorld",a),l.Set("SunData.DiffuseColor",this.sunDiffuseColor),l.Set("TargetResolution",t.targetResolution),l.Set("ViewInverseTransposeMat",t.viewInverse),l.Set("ViewProjectionMat",t.viewProjectionTranspose),l.Set("ViewMat",t.viewTranspose),l.Set("ProjectionMat",t.projectionTranspose),l.Set("EnvMapRotationMat",n),t.perFrameVSData=l;var c=this._perFramePS;c.Set("ViewInverseTransposeMat",t.viewInverse),c.Set("ViewMat",t.viewTranspose),c.Set("EnvMapRotationMat",n),c.Set("SunData.DirWorld",a),c.Set("SunData.DiffuseColor",this.sunDiffuseColor),c.Set("SceneData.AmbientColor",this.ambientColor),this.visible.fog?(c.Set("SceneData.FogColor",this.fogColor),c.Set("MiscSettings",[t.currentTime,this.fogType,this.fogBlur,1])):(c.Set("SceneData.FogColor",[0,0,0,0]),c.Set("MiscSettings",[t.currentTime,0,0,1])),c.Set("FovXY",[t.targetResolution[3],t.targetResolution[2]]),c.Set("ShadowMapSettings",[1,1,0,0]),c.Set("TargetResolution",t.targetResolution),c.SetIndex("SceneData.NebulaIntensity",0,this.nebulaIntensity),c.SetIndex("ViewportSize",0,t.viewportWidth),c.SetIndex("ViewportSize",1,t.viewportHeight),c.SetIndex("ShadowCameraRange",0,1),c.SetIndex("ProjectionToView",0,-t.projection[14]),c.SetIndex("ProjectionToView",1,-t.projection[10]-1),t.perFramePSData=c;var f=this._envMapRes&&o.environmentReflection?this._envMapRes:this.GetEmptyTexture(),d=this._envMap1Res&&o.environmentDiffuse?this._envMap1Res:this.GetEmptyTexture(),h=this._envMap2Res&&o.environmentBlur?this._envMap2Res:this.GetEmptyTexture();Ze.store.variables.Get("EveSpaceSceneEnvMap").SetTextureRes(f),Ze.store.variables.Get("EnvMap1").SetTextureRes(d),Ze.store.variables.Get("EnvMap2").SetTextureRes(h)}static init(){e.global||(e.global={vec3_ZERO:$e.vec3.create(),vec3_0:$e.vec3.create(),vec4_0:$e.vec4.create(),mat4_0:$e.mat4.create(),mat4_1:$e.mat4.create(),mat4_2:$e.mat4.create()})}},Xe.perFrameData={ps:[["ViewInverseTransposeMat",16],["ViewMat",16],["EnvMapRotationMat",16],["SunData.DirWorld",4],["SunData.DiffuseColor",4],["SceneData.AmbientColor",3],["SceneData.NebulaIntensity",1],["SceneData.FogColor",4],["ViewportOffset",2],["ViewportSize",2],["TargetResolution",4],["ShadowMapSettings",4],["ShadowCameraRange",4],["ProjectionToView",2],["FovXY",2],["MiscSettings",4]],vs:[["ViewInverseTransposeMat",16],["ViewProjectionMat",16],["ViewMat",16],["ProjectionMat",16],["ShadowViewMat",16],["ShadowViewProjectionMat",16],["EnvMapRotationMat",16],["SunData.DirWorld",4],["SunData.DiffuseColor",4],["FogFactors",4],["TargetResolution",4],["ViewportAdjustment",4],["MiscSettings",4]]},Xe.wrappedType=Ze.WrappedType.SPACE_SCENE,Xe.global=null,Xe.DebugRenderer=window.Tw2DebugRenderer||null,ue=tt((se=Ke).prototype,"ambientColor",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return $e.vec4.fromValues(.25,.25,.25,1)}}),le=tt(se.prototype,"backgroundEffect",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ce=tt(se.prototype,"backgroundObjects",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),fe=tt(se.prototype,"backgroundRenderingEnabled",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),de=tt(se.prototype,"curveSets",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),he=tt(se.prototype,"enableShadows",[l,c],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),me=tt(se.prototype,"envMap1ResPath",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),pe=tt(se.prototype,"envMap2ResPath",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),be=tt(se.prototype,"envMapResPath",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),ve=tt(se.prototype,"envMapRotation",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return $e.quat.create()}}),ge=tt(se.prototype,"externalParameters",[p,b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Ee=tt(se.prototype,"fogColor",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return $e.vec4.fromValues(.25,.25,.25,1)}}),ye=tt(se.prototype,"fogEnd",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Te=tt(se.prototype,"fogMax",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Se=tt(se.prototype,"fogStart",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),we=tt(se.prototype,"lowQualityNebulaMixResPath",[T,S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),_e=tt(se.prototype,"lowQualityNebulaResPath",[w,_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),Re=tt(se.prototype,"nebulaIntensity",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),je=tt(se.prototype,"objects",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Ae=tt(se.prototype,"postProcessPath",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),Oe=tt(se.prototype,"selfShadowOnly",[O,z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),ze=tt(se.prototype,"shLightingManager",[P,x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Pe=tt(se.prototype,"shadowFadeThreshold",[C,D,M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),xe=tt(se.prototype,"shadowThreshold",[L,I,F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Ce=tt(se.prototype,"starfield",[G,N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),De=tt(se.prototype,"sunDiffuseColor",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return $e.vec4.fromValues(1,1,1,1)}}),Me=tt(se.prototype,"sunDiffuseColorWithDynamicLights",[U,V],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return $e.vec4.fromValues(1,1,1,1)}}),Le=tt(se.prototype,"sunDirection",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return $e.vec3.fromValues(1,-1,1)}}),Ie=tt(se.prototype,"useSunDiffuseColorWithDynamicLights",[H,q],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Fe=tt(se.prototype,"clearColor",[W],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return $e.vec4.fromValues(0,0,0,1)}}),Ge=tt(se.prototype,"display",[Y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),Ne=tt(se.prototype,"envMapScaling",[X],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return $e.vec3.fromValues(1,1,1)}}),Be=tt(se.prototype,"fogBlur",[K],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Ue=tt(se.prototype,"fogType",[Q],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Ve=tt(se.prototype,"lensflares",[Z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),ke=tt(se.prototype,"planets",[$],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),He=tt(se.prototype,"lineSets",[J],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),qe=tt(se.prototype,"postProcess",[ee,te],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),We=tt(se.prototype,"shadowEffect",[re,ie,ne],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ye=tt(se.prototype,"visible",[ae],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{backgroundObjects:!0,clearColor:!0,debug:!1,environmentReflection:!0,environmentDiffuse:!0,environmentBlur:!0,fog:!0,lensflares:!0,lineSets:!0,objects:!0,planets:!0,post:!0,starField:!0}}}),oe=se))||oe)},"./eve/child/EveChild.js":function(e,t,r){"use strict";r.r(t),r.d(t,"EveChild",(function(){return d}));var i,n,a,o,s,u,l=r("./utils/index.js"),c=r("./math/index.js");function f(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var d=(i=l.meta.abstract,n=l.meta.abstract,a=l.meta.abstract,u=s=class extends l.meta.Model{get isEffectChild(){return!0}Update(e,t){}GetResources(e=[]){}GetBatches(e,t,r){}},s.global={mat4_0:c.mat4.create(),vec3_0:c.vec3.create()},s.perObjectData={ffe:[["world",16],["worldInverseTranspose",16]]},s.__isEffectChild=!0,f((o=u).prototype,"Update",[i],Object.getOwnPropertyDescriptor(o.prototype,"Update"),o.prototype),f(o.prototype,"GetResources",[n],Object.getOwnPropertyDescriptor(o.prototype,"GetResources"),o.prototype),f(o.prototype,"GetBatches",[a],Object.getOwnPropertyDescriptor(o.prototype,"GetBatches"),o.prototype),o)},"./eve/child/EveChildBillboard.js":function(e,t,r){"use strict";r.r(t),r.d(t,"EveChildBillboard",(function(){return D}));var i,n,a,o,s,u,l,c,f,d,h,m,p,b,v,g,E,y,T,S,w,_,R,j=r("./utils/index.js"),A=r("./global/index.js"),O=r("./math/index.js"),z=r("./core/index.js"),P=r("./eve/child/EveChild.js");function x(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function C(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var D=(i=j.meta.ctor("EveChildBillboard"),n=j.meta.todo("Deprecated?"),a=j.meta.boolean,o=j.meta.matrix4,s=j.meta.uint,u=j.meta.struct(["Tw2Mesh","Tw2InstancedMesh"]),l=j.meta.quaternion,c=j.meta.vector3,f=j.meta.vector3,d=j.meta.boolean,h=j.meta.boolean,i(m=n((R=class extends P.EveChild{constructor(...e){super(...e),x(this,"display",b,this),x(this,"localTransform",v,this),x(this,"lowestLodVisible",g,this),x(this,"mesh",E,this),x(this,"rotation",y,this),x(this,"translation",T,this),x(this,"scaling",S,this),x(this,"staticTransform",w,this),x(this,"useSRT",_,this),this._perObjectData=z.Tw2PerObjectData.from(P.EveChild.perObjectData),this._worldTransform=O.mat4.create(),this._worldTransformLast=O.mat4.create()}GetResources(e){return this.mesh&&this.mesh.GetResources(e),e}Update(e,t){this.useSRT&&(O.quat.normalize(this.rotation,this.rotation),O.mat4.fromRotationTranslationScale(this.localTransform,this.rotation,this.translation,this.scaling)),O.mat4.copy(this._worldTransformLast,this._worldTransform),O.mat4.multiply(this._worldTransform,t,this.localTransform);var r=P.EveChild.global.mat4_0,i=P.EveChild.global.vec3_0;O.mat4.lookAt(r,A.device.eyePosition,this._worldTransform.subarray(12),[0,1,0]),O.mat4.transpose(r,r),O.mat4.getScaling(i,t),O.vec3.multiply(i,i,this.scaling),this._worldTransform[0]=r[0]*i[0],this._worldTransform[1]=r[1]*i[0],this._worldTransform[2]=r[2]*i[0],this._worldTransform[4]=r[4]*i[1],this._worldTransform[5]=r[5]*i[1],this._worldTransform[6]=r[6]*i[1],this._worldTransform[8]=r[8]*i[2],this._worldTransform[9]=r[9]*i[2],this._worldTransform[10]=r[10]*i[2]}GetBatches(e,t){this.display&&this.mesh&&(O.mat4.transpose(this._perObjectData.ffe.Get("world"),this._worldTransform),O.mat4.invert(this._perObjectData.ffe.Get("worldInverseTranspose"),this._worldTransform),this.mesh.GetBatches(e,t,this._perObjectData))}},b=C((p=R).prototype,"display",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),v=C(p.prototype,"localTransform",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return O.mat4.create()}}),g=C(p.prototype,"lowestLodVisible",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 2}}),E=C(p.prototype,"mesh",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),y=C(p.prototype,"rotation",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return O.quat.create()}}),T=C(p.prototype,"translation",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return O.vec3.create()}}),S=C(p.prototype,"scaling",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return O.vec3.fromValues(1,1,1)}}),w=C(p.prototype,"staticTransform",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),_=C(p.prototype,"useSRT",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),m=p))||m)||m)},"./eve/child/EveChildContainer.js":function(e,t,r){"use strict";r.r(t),r.d(t,"EveChildContainer",(function(){return oe}));var i,n,a,o,s,u,l,c,f,d,h,m,p,b,v,g,E,y,T,S,w,_,R,j,A,O,z,P,x,C,D,M,L,I,F,G,N,B,U,V,k,H,q,W,Y,X,K,Q,Z,$,J,ee,te=r("./eve/child/EveChild.js"),re=r("./utils/index.js"),ie=r("./math/index.js");function ne(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function ae(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var oe=(i=re.meta.ctor("EveChildContainer",!0),n=re.meta.stage(2),a=re.meta.string,o=re.meta.notImplemented,s=re.meta.boolean,u=re.meta.uint,l=re.meta.notImplemented,c=re.meta.list("Tr2Controller"),f=re.meta.list("Tw2CurveSet"),d=re.meta.boolean,h=re.meta.notImplemented,m=re.meta.struct(),p=re.meta.notImplemented,b=re.meta.boolean,v=re.meta.notImplemented,g=re.meta.struct("EveChildInheritProperties"),E=re.meta.notImplemented,y=re.meta.list("Tr2PointLight"),T=re.meta.matrix4,S=re.meta.list("EveChild"),w=re.meta.notImplemented,_=re.meta.list("TriObserverLocal"),R=re.meta.quaternion,j=re.meta.vector3,A=re.meta.notImplemented,O=re.meta.boolean,z=re.meta.notImplemented,P=re.meta.list("EveChildModifier"),x=re.meta.vector3,C=re.meta.boolean,i(D=n((ee=class extends te.EveChild{constructor(...e){super(...e),ne(this,"name",L,this),ne(this,"alwaysOn",I,this),ne(this,"boneIndex",F,this),ne(this,"controllers",G,this),ne(this,"curveSets",N,this),ne(this,"display",B,this),ne(this,"displayFilter",U,this),ne(this,"hideOnLowQuality",V,this),ne(this,"inheritProperties",k,this),ne(this,"lights",H,this),ne(this,"localTransform",q,this),ne(this,"objects",W,this),ne(this,"observers",Y,this),ne(this,"rotation",X,this),ne(this,"scaling",K,this),ne(this,"staticTransform",Q,this),ne(this,"transformModifiers",Z,this),ne(this,"translation",$,this),ne(this,"useSRT",J,this),this._worldTransform=ie.mat4.create(),this._worldTransformLast=ie.mat4.create()}GetResources(e=[]){for(var t=0;t<this.objects.length;t++)this.objects[t].GetResources(e);return e}Update(e,t){this.useSRT&&ie.mat4.fromRotationTranslationScale(this.localTransform,this.rotation,this.translation,this.scaling),ie.mat4.copy(this._worldTransformLast,this._worldTransform),ie.mat4.multiply(this._worldTransform,t,this.localTransform);for(var r=0;r<this.curveSets.length;r++)this.curveSets[r].Update(e);for(var i=0;i<this.objects.length;i++)this.objects[i].Update(e,this._worldTransform)}GetBatches(e,t,r){if(this.display)for(var i=0;i<this.objects.length;i++)this.objects[i].GetBatches(e,t,r)}},L=ae((M=ee).prototype,"name",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),I=ae(M.prototype,"alwaysOn",[o,s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),F=ae(M.prototype,"boneIndex",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return-1}}),G=ae(M.prototype,"controllers",[l,c],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),N=ae(M.prototype,"curveSets",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),B=ae(M.prototype,"display",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),U=ae(M.prototype,"displayFilter",[h,m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),V=ae(M.prototype,"hideOnLowQuality",[p,b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),k=ae(M.prototype,"inheritProperties",[v,g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),H=ae(M.prototype,"lights",[E,y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),q=ae(M.prototype,"localTransform",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return ie.mat4.create()}}),W=ae(M.prototype,"objects",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Y=ae(M.prototype,"observers",[w,_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),X=ae(M.prototype,"rotation",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return ie.quat.create()}}),K=ae(M.prototype,"scaling",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return ie.vec3.fromValues(1,1,1)}}),Q=ae(M.prototype,"staticTransform",[A,O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Z=ae(M.prototype,"transformModifiers",[z,P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),$=ae(M.prototype,"translation",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return ie.vec3.create()}}),J=ae(M.prototype,"useSRT",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),D=M))||D)||D)},"./eve/child/EveChildMesh.js":function(e,t,r){"use strict";r.r(t),r.d(t,"EveChildMesh",(function(){return Y}));var i,n,a,o,s,u,l,c,f,d,h,m,p,b,v,g,E,y,T,S,w,_,R,j,A,O,z,P,x,C,D,M,L,I,F,G,N,B,U=r("./utils/index.js"),V=r("./math/index.js"),k=r("./core/index.js"),H=r("./eve/child/EveChild.js");function q(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function W(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var Y=(i=U.meta.ctor("EveChildMesh",!0),n=U.meta.desc("Mesh attachment to space object"),a=U.meta.string,o=U.meta.boolean,s=U.meta.matrix4,u=U.meta.notImplemented,l=U.meta.uint,c=U.meta.struct(["Tw2Mesh","Tw2InstancedMesh"]),f=U.meta.notImplemented,d=U.meta.float,h=U.meta.quaternion,m=U.meta.vector3,p=U.meta.notImplemented,b=U.meta.float,v=U.meta.notImplemented,g=U.meta.boolean,E=U.meta.notImplemented,y=U.meta.list("EveChildModifier"),T=U.meta.vector3,S=U.meta.boolean,w=U.meta.boolean,i(_=n((B=class extends H.EveChild{constructor(...e){super(...e),q(this,"name",j,this),q(this,"display",A,this),q(this,"localTransform",O,this),q(this,"lowestLodVisible",z,this),q(this,"mesh",P,this),q(this,"minScreenSize",x,this),q(this,"rotation",C,this),q(this,"scaling",D,this),q(this,"sortValueOffset",M,this),q(this,"staticTransform",L,this),q(this,"transformModifiers",I,this),q(this,"translation",F,this),q(this,"useSRT",G,this),q(this,"useSpaceObjectData",N,this),this._worldTransform=V.mat4.create(),this._worldTransformLast=V.mat4.create(),this._perObjectData=null}GetResources(e=[]){return this.mesh&&this.mesh.GetResources(e),e}Update(e,t){this.useSRT&&(V.quat.normalize(this.rotation,this.rotation),V.mat4.fromRotationTranslationScale(this.localTransform,this.rotation,this.translation,this.scaling)),V.mat4.copy(this._worldTransformLast,this._worldTransform),V.mat4.multiply(this._worldTransform,t,this.localTransform)}GetBatches(e,t,r){this.display&&this.mesh&&(this.useSpaceObjectData?(this._perObjectData||(this._perObjectData=new k.Tw2PerObjectData,this._perObjectData.vs=new k.Tw2RawData,this._perObjectData.vs.data=new Float32Array(r.vs.data.length),this._perObjectData.vs.data[33]=1,this._perObjectData.vs.data[35]=1,this._perObjectData.ps=new k.Tw2RawData,this._perObjectData.ps.data=new Float32Array(r.ps.data.length),this._perObjectData.ps.data[1]=1,this._perObjectData.ps.data[3]=1),this._perObjectData.vs.data.set(r.vs.data),this._perObjectData.ps.data.set(r.ps.data),V.mat4.transpose(this._perObjectData.vs.data,this._worldTransform),V.mat4.transpose(this._perObjectData.vs.data.subarray(16),this._worldTransformLast)):(this._perObjectData||(this._perObjectData=k.Tw2PerObjectData.from(H.EveChild.perObjectData)),V.mat4.transpose(this._perObjectData.ffe.Get("world"),this._worldTransform),V.mat4.invert(this._perObjectData.ffe.Get("worldInverseTranspose"),this._worldTransform)),this.mesh.GetBatches(e,t,this._perObjectData))}},j=W((R=B).prototype,"name",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),A=W(R.prototype,"display",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),O=W(R.prototype,"localTransform",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return V.mat4.create()}}),z=W(R.prototype,"lowestLodVisible",[u,l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 2}}),P=W(R.prototype,"mesh",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),x=W(R.prototype,"minScreenSize",[f,d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),C=W(R.prototype,"rotation",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return V.quat.create()}}),D=W(R.prototype,"scaling",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return V.vec3.fromValues(1,1,1)}}),M=W(R.prototype,"sortValueOffset",[p,b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),L=W(R.prototype,"staticTransform",[v,g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),I=W(R.prototype,"transformModifiers",[E,y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),F=W(R.prototype,"translation",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return V.vec3.create()}}),G=W(R.prototype,"useSRT",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),N=W(R.prototype,"useSpaceObjectData",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),_=R))||_)||_)},"./eve/child/EveChildParticleSystem.js":function(e,t,r){"use strict";r.r(t),r.d(t,"EveChildParticleSystem",(function(){return H}));var i,n,a,o,s,u,l,c,f,d,h,m,p,b,v,g,E,y,T,S,w,_,R,j,A,O,z,P,x,C,D,M,L,I,F,G=r("./utils/index.js"),N=r("./math/index.js"),B=r("./core/index.js"),U=r("./eve/child/EveChild.js");function V(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function k(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var H=(i=G.meta.ctor("EveChildParticleSystem",!0),n=G.meta.stage(1),a=G.meta.string,o=G.meta.boolean,s=G.meta.matrix4,u=G.meta.notImplemented,l=G.meta.float,c=G.meta.struct("Tw2InstancedMesh"),f=G.meta.notImplemented,d=G.meta.float,h=G.meta.list("Tw2ParticleEmitter"),m=G.meta.list(["Tw2ParticleSystem","Tr2GpuParticleSystem"]),p=G.meta.quaternion,b=G.meta.vector3,v=G.meta.vector3,g=G.meta.notImplemented,E=G.meta.boolean,y=G.meta.boolean,T=G.meta.todo("Deprecated?"),i(S=n((F=class extends U.EveChild{constructor(...e){super(...e),V(this,"name",_,this),V(this,"display",R,this),V(this,"localTransform",j,this),V(this,"lodSphereRadius",A,this),V(this,"mesh",O,this),V(this,"minScreenSize",z,this),V(this,"particleEmitters",P,this),V(this,"particleSystems",x,this),V(this,"rotation",C,this),V(this,"scaling",D,this),V(this,"translation",M,this),V(this,"useDynamicLod",L,this),V(this,"useSRT",I,this),this._worldTransform=N.mat4.create(),this._worldTransformLast=N.mat4.create(),this._perObjectData=B.Tw2PerObjectData.from(U.EveChild.perObjectData)}GetResources(e=[]){this.mesh&&this.mesh.GetResources(e);for(var t=0;t<this.particleEmitters.length;t++)this.particleEmitters[t].GetResources(e);for(var r=0;r<this.particleSystems.length;r++)this.particleSystems[r].GetResources(e);return e}Update(e,t){this.useSRT&&(N.quat.normalize(this.rotation,this.rotation),N.mat4.fromRotationTranslationScale(this.localTransform,this.rotation,this.translation,this.scaling)),N.mat4.copy(this._worldTransformLast,this._worldTransform),N.mat4.multiply(this._worldTransform,t,this.localTransform);for(var r=0;r<this.particleEmitters.length;++r)this.particleEmitters[r].Update(e);for(var i=0;i<this.particleSystems.length;++i)this.particleSystems[i].Update(e)}GetBatches(e,t){this.display&&this.mesh&&(N.mat4.transpose(this._perObjectData.ffe.Get("world"),this._worldTransform),N.mat4.invert(this._perObjectData.ffe.Get("worldInverseTranspose"),this._worldTransform),this.mesh.GetBatches(e,t,this._perObjectData))}},_=k((w=F).prototype,"name",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),R=k(w.prototype,"display",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),j=k(w.prototype,"localTransform",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return N.mat4.create()}}),A=k(w.prototype,"lodSphereRadius",[u,l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),O=k(w.prototype,"mesh",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),z=k(w.prototype,"minScreenSize",[f,d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),P=k(w.prototype,"particleEmitters",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),x=k(w.prototype,"particleSystems",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),C=k(w.prototype,"rotation",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return N.quat.create()}}),D=k(w.prototype,"scaling",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return N.vec3.fromValues(1,1,1)}}),M=k(w.prototype,"translation",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return N.vec3.create()}}),L=k(w.prototype,"useDynamicLod",[g,E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),I=k(w.prototype,"useSRT",[y,T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),S=w))||S)||S)},"./eve/child/index.js":function(e,t,r){"use strict";r.r(t);var i=r("./eve/child/EveChild.js");r.d(t,"EveChild",(function(){return i.EveChild}));var n=r("./eve/child/EveChildBillboard.js");r.d(t,"EveChildBillboard",(function(){return n.EveChildBillboard}));var a=r("./eve/child/EveChildContainer.js");r.d(t,"EveChildContainer",(function(){return a.EveChildContainer}));var o=r("./eve/child/EveChildMesh.js");r.d(t,"EveChildMesh",(function(){return o.EveChildMesh}));var s=r("./eve/child/EveChildParticleSystem.js");r.d(t,"EveChildParticleSystem",(function(){return s.EveChildParticleSystem}))},"./eve/effect/EveLensflare.js":function(e,t,r){"use strict";r.r(t),r.d(t,"EveLensflare",(function(){return ne}));var i,n,a,o,s,u,l,c,f,d,h,m,p,b,v,g,E,y,T,S,w,_,R,j,A,O,z,P,x,C,D,M,L,I,F,G,N,B,U,V,k,H,q,W,Y,X,K,Q,Z=r("./utils/index.js"),$=r("./global/index.js"),J=r("./math/index.js"),ee=r("./core/index.js"),te=r("./eve/effect/EveOccluder.js");function re(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function ie(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var ne=(i=Z.meta.ctor("EveLensflare"),n=Z.meta.string,a=Z.meta.notImplemented,o=Z.meta.list("EveOccluder"),s=Z.meta.list("Tw2ValueBinding"),u=Z.meta.list("Tw2Curve"),l=Z.meta.list("Tw2Curve"),c=Z.meta.struct("Tw2Mesh"),f=Z.meta.list("EveOccluder"),d=Z.meta.vector3,h=Z.meta.list("Tw2Curve"),m=Z.meta.list("Tw2Curve"),p=Z.meta.list("Tw2Curve"),b=Z.meta.list("Tw2Curve"),v=Z.meta.boolean,g=Z.meta.boolean,E=Z.meta.boolean,y=Z.meta.float,T=Z.meta.list("EveLensflare"),S=Z.meta.todo("Deprecated?"),w=Z.meta.float,_=Z.meta.float,R=Z.meta.list("Tw2CurveSet"),j=Z.meta.todo("Deprecated?"),i((Q=K=class e extends Z.meta.Model{constructor(){super(),re(this,"name",z,this),re(this,"backgroundOccluders",P,this),re(this,"bindings",x,this),re(this,"distanceToCenterCurves",C,this),re(this,"distanceToEdgeCurves",D,this),re(this,"mesh",M,this),re(this,"occluders",L,this),re(this,"position",I,this),re(this,"radialAngleCurves",F,this),re(this,"xDistanceToCenter",G,this),re(this,"yDistanceToCenter",N,this),re(this,"zDistanceToCenter",B,this),re(this,"display",U,this),re(this,"update",V,this),re(this,"doOcclusionQueries",k,this),re(this,"cameraFactor",H,this),re(this,"flares",q,this),re(this,"occlusionIntensity",W,this),re(this,"backgroundOcclusionIntensity",Y,this),re(this,"curveSets",X,this),this._direction=J.vec3.create(),this._transform=J.mat4.create(),this._backBuffer=null,e.init()}UpdateOccluders(){if(this.doOcclusionQueries){var t=$.device,r=t.gl,i=e.global;if(!i.occluderLevels[0].texture||i.occluderLevels[0].width<2*this.occluders.length)for(var n=0;n<i.occluderLevels.length;++n)i.occluderLevels[n].Create(2*this.occluders.length,1,!1);for(var a=0;a<this.flares.length;++a)"_backBuffer"in this.flares[a]&&(this.flares[a]._backBuffer.textureRes=i.occluderLevels.texture);this.occlusionIntensity=1,this.backgroundOcclusionIntensity=1,i.occluderLevels[i.occludedLevelIndex].Set(),t.SetStandardStates(t.RM_OPAQUE),r.clearColor(0,0,0,1),r.clear(r.COLOR_BUFFER_BIT),i.occluderLevels[i.occludedLevelIndex].Unset();var o=1;t.antialiasing&&(o=t.msaaSamples,r.sampleCoverage(1/o,!1));for(var s=0;s<this.occluders.length;++s)t.SetRenderState($.RS_COLORWRITEENABLE,8),r.colorMask(!1,!1,!1,!0),r.clearColor(0,0,0,0),r.clear(r.COLOR_BUFFER_BIT),t.antialiasing&&(r.enable(r.SAMPLE_COVERAGE),r.sampleCoverage(.25,!1)),this.occluders[s].UpdateValue(this._transform,s),t.antialiasing&&r.disable(r.SAMPLE_COVERAGE),i.backBuffer.texture||i.backBuffer.Attach(r.createTexture()),r.bindTexture(r.TEXTURE_2D,i.backBuffer.texture),i.backBuffer.width===t.viewportWidth&&i.backBuffer.height===t.viewportHeight||(r.texImage2D(r.TEXTURE_2D,0,r.RGBA,t.viewportWidth,t.viewportHeight,0,r.RGBA,r.UNSIGNED_BYTE,null),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MAG_FILTER,r.LINEAR),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MIN_FILTER,r.LINEAR),i.backBuffer.width=t.viewportWidth,i.backBuffer.height=t.viewportHeight),r.copyTexImage2D(r.TEXTURE_2D,0,t.alphaBlendBackBuffer?r.RGBA:r.RGB,0,0,i.backBuffer.width,i.backBuffer.height,0),r.bindTexture(r.TEXTURE_2D,null),i.occluderLevels[i.occludedLevelIndex].Set(),te.EveOccluder.CollectSamples(i.backBuffer,s,i.occluderLevels[0].width/2,o),i.occluderLevels[i.occludedLevelIndex].Unset();t.antialiasing&&r.sampleCoverage(1,!1),i.occluderLevels[(i.occludedLevelIndex+1)%i.occluderLevels.length].Set();var u=new Uint8Array(4*i.occluderLevels[0].width);r.readPixels(0,0,2,1,r.RGBA,r.UNSIGNED_BYTE,u),i.occluderLevels[(i.occludedLevelIndex+1)%i.occluderLevels.length].Unset(),this.occlusionIntensity=1;for(var l=0;l<2*i.occluderLevels[0].width;l+=4)this.occlusionIntensity*=u[l+1]?u[l]/u[l+1]:1;this.backgroundOcclusionIntensity=this.occlusionIntensity,$.store.variables.SetValue("LensflareFxOccScale",[this.occlusionIntensity,this.occlusionIntensity,0,0]),i.occludedLevelIndex=(i.occludedLevelIndex+1)%i.occluderLevels.length}}GetBatches(t,r,i){if(this.display){var n=J.vec4.set(e.global.vec4_0,0,0,1,0);if(J.vec4.transformMat4(n,n,$.device.viewInverse),J.vec3.dot(n,this._direction)<0)return;for(var a=0;a<this.flares.length;++a)this.flares[a].GetBatches(t,r,i);this.mesh&&this.mesh.GetBatches(t,r,i)}}PrepareRender(){if(this.display){var t=e.global,r=t.vec4_0,i=t.vec3_0,n=J.mat4.identity(t.mat4_0),a=t.vec3_2,o=t.vec3_3,s=t.vec3_1,u=t.vec4_1;J.vec3.transformMat4(i,[0,0,0],$.device.viewInverse),0===J.vec3.length(this.position)?J.vec3.negate(s,i):(J.vec3.negate(s,this.position),J.vec3.normalize(this._direction,s)),J.vec4.transformMat4(r,[0,0,1,0],$.device.viewInverse),J.vec3.scaleAndAdd(a,i,r,-this.cameraFactor),J.vec3.negate(o,this._direction),J.mat4.arcFromForward(this._transform,o),J.mat4.setTranslation(this._transform,a),J.mat4.scale(n,n,[this.occlusionIntensity,this.occlusionIntensity,1]);var l=this._direction;$.store.variables.SetValue("LensflareFxDirectionScale",[l[0],l[1],l[2],1]),J.vec4.set(u,l[0],l[1],l[2],0),J.vec4.transformMat4(u,u,$.device.view),J.vec4.transformMat4(u,u,$.device.projection),u[0]/=u[3],u[1]/=u[3];for(var c=1-Math.min(1-Math.abs(u[0]),1-Math.abs(u[1])),f=Math.sqrt(u[0]*u[0]+u[1]*u[1]),d=Math.atan2(u[1],u[0])+Math.PI,h=0;h<this.distanceToEdgeCurves.length;++h)this.distanceToEdgeCurves[h].UpdateValue(c);for(var m=0;m<this.distanceToCenterCurves.length;++m)this.distanceToCenterCurves[m].UpdateValue(f);for(var p=0;p<this.radialAngleCurves.length;++p)this.radialAngleCurves[p].UpdateValue(d);for(var b=0;b<this.xDistanceToCenter.length;++b)this.xDistanceToCenter[b].UpdateValue(u[0]+10);for(var v=0;v<this.yDistanceToCenter.length;++v)this.yDistanceToCenter[v].UpdateValue(u[1]+10);for(var g=0;g<this.bindings.length;++g)this.bindings[g].CopyValue();for(var E=0;E<this.flares.length;++E)this.flares[E].UpdateViewDependentData(this._transform)}}static init(){if(!e.global){var t=e.global={};t.vec3_0=J.vec3.create(),t.vec3_1=J.vec3.create(),t.vec3_2=J.vec3.create(),t.vec3_3=J.vec3.create(),t.vec4_0=J.vec4.create(),t.vec4_1=J.vec4.create(),t.mat4_0=J.mat4.create(),t.backBuffer=new ee.Tw2TextureRes,t.backBuffer.width=0,t.backBuffer.height=0,t.backBuffer.hasMipMaps=!1,t.occludedLevelIndex=0,t.occluderLevels=[new ee.Tw2RenderTarget,new ee.Tw2RenderTarget,new ee.Tw2RenderTarget,new ee.Tw2RenderTarget]}}},K.global=null,z=ie((O=Q).prototype,"name",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),P=ie(O.prototype,"backgroundOccluders",[a,o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),x=ie(O.prototype,"bindings",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),C=ie(O.prototype,"distanceToCenterCurves",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),D=ie(O.prototype,"distanceToEdgeCurves",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),M=ie(O.prototype,"mesh",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),L=ie(O.prototype,"occluders",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),I=ie(O.prototype,"position",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return J.vec3.create()}}),F=ie(O.prototype,"radialAngleCurves",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),G=ie(O.prototype,"xDistanceToCenter",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),N=ie(O.prototype,"yDistanceToCenter",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),B=ie(O.prototype,"zDistanceToCenter",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),U=ie(O.prototype,"display",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),V=ie(O.prototype,"update",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),k=ie(O.prototype,"doOcclusionQueries",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),H=ie(O.prototype,"cameraFactor",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 20}}),q=ie(O.prototype,"flares",[T,S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),W=ie(O.prototype,"occlusionIntensity",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),Y=ie(O.prototype,"backgroundOcclusionIntensity",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),X=ie(O.prototype,"curveSets",[R,j],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),A=O))||A)},"./eve/effect/EveMeshOverlayEffect.js":function(e,t,r){"use strict";r.r(t),r.d(t,"EveMeshOverlayEffect",(function(){return M}));var i,n,a,o,s,u,l,c,f,d,h,m,p,b,v,g,E,y,T,S,w,_,R,j,A,O=r("./utils/index.js"),z=r("./core/index.js"),P=r("./curve/index.js"),x=r("./global/index.js");function C(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function D(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var M=(i=O.meta.ctor("EveMeshOverlayEffect"),n=O.meta.string,a=O.meta.list("Tw2Effect"),o=O.meta.struct("Tw2CurveSet"),s=O.meta.list("Tw2Effect"),u=O.meta.boolean,l=O.meta.notImplemented,c=O.meta.list("Tw2Effect"),f=O.meta.list("Tw2Effect"),d=O.meta.list("Tw2Effect"),h=O.meta.boolean,m=O.meta.plain,i((A=class e extends O.meta.Model{constructor(...e){super(...e),C(this,"name",v,this),C(this,"additiveEffects",g,this),C(this,"curveSet",E,this),C(this,"decalEffects",y,this),C(this,"display",T,this),C(this,"distortionEffects",S,this),C(this,"opaqueEffects",w,this),C(this,"transparentEffects",_,this),C(this,"update",R,this),C(this,"visible",j,this)}Update(e){this.update&&this.curveSet&&this.curveSet.Update(e)}GetBatches(e,t,r,i){if(this.display&&i&&i.IsGood())for(var n=this.GetEffects(e),a=0;a<n.length;a++){var o=new z.Tw2GeometryBatch;o.renderMode=e,o.perObjectData=r,o.geometryRes=i.geometryResource,o.meshIx=i.meshIndex,o.start=0,o.count=i.geometryResource.meshes[i.meshIndex].areas.length,o.effect=n[a],t.Commit(o)}}GetEffects(e){if(this.display)switch(e){case x.RM_OPAQUE:if(this.visible.opaqueEffects)return this.opaqueEffects;break;case x.RM_TRANSPARENT:if(this.visible.transparentEffects)return this.transparentEffects;break;case x.RM_ADDITIVE:if(this.visible.additiveEffects)return this.additiveEffects;break;case x.RM_DECAL:if(this.visible.decalEffects)return this.decalEffects;break;case x.RM_DISTORTION:if(this.visible.distortionEffects)return this.distortionEffects}return[]}static createAreaEffects(e,t,r){r=Object(O.toArray)(r);for(var i=0;i<r.length;i++){var n=r[i];if(n in t&&n in e)for(var a=0;a<t[n].length;a++)e[n].push(z.Tw2Effect.from(t[n][a]))}}static from(t,r){var i=new e;if(t){Object(O.assignIfExists)(i,t,["name","display","update"]),t.curveSet&&(i.curveSet=P.Tw2CurveSet.from(t.curveSet));var n=["additiveEffects","distortionEffects","opaqueEffects","transparentEffects","decalEffects"];t.visible&&Object(O.assignIfExists)(i.visible,t.visible,n),this.createAreaEffects(i,t,n)}return!r||r.skipUpdate,i}},v=D((b=A).prototype,"name",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),g=D(b.prototype,"additiveEffects",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),E=D(b.prototype,"curveSet",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),y=D(b.prototype,"decalEffects",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),T=D(b.prototype,"display",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),S=D(b.prototype,"distortionEffects",[l,c],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),w=D(b.prototype,"opaqueEffects",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),_=D(b.prototype,"transparentEffects",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),R=D(b.prototype,"update",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),j=D(b.prototype,"visible",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{opaqueEffects:!0,decalEffects:!0,transparentEffects:!0,additiveEffects:!0,distortionEffects:!0}}}),p=b))||p)},"./eve/effect/EveOccluder.js":function(e,t,r){"use strict";r.r(t),r.d(t,"EveOccluder",(function(){return g}));var i,n,a,o,s,u,l,c,f,d=r("./utils/index.js"),h=r("./global/index.js"),m=r("./math/index.js"),p=r("./core/index.js");function b(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function v(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var g=(i=d.meta.ctor("EveOccluder"),n=d.meta.string,a=d.meta.list("EveTransform"),i((f=c=class e extends d.meta.Model{constructor(){super(),b(this,"name",u,this),b(this,"sprites",l,this),e.init()}UpdateValue(t,r){if(h.device.alphaBlendBackBuffer){var i=h.device,n=e.global,a=n.mat4_0,o=n.vec4_0;n.accumulator.Clear();for(var s=0;s<this.sprites.length;++s)this.sprites[s].UpdateViewDependentData(t),this.sprites[s].GetBatches(i.RM_DECAL,n.accumulator);h.store.variables.SetValue("OccluderValue",[(1<<2*r)/255,(2<<2*r)/255,0,0]),n.accumulator.Render(),m.mat4.multiply(a,i.viewProjection,this.sprites[0]._worldTransform),m.vec4.transformMat4(o,[0,0,0,1],a);var u=.5*(o[0]/o[3]+1),l=.5*(o[1]/o[3]+1);m.vec4.set(o,.5,.5,0,1),m.vec4.transformMat4(o,o,a);var c=.5*(o[0]/o[3]+1),f=.5*(o[1]/o[3]+1);o[0]=u,o[1]=l,o[2]=c-u,o[3]=f-l,n.effect.parameters.OccluderPosition.SetValue(o)}}static CollectSamples(e,t,r,i){var n=h.device,a=this.global,o=a.effect,s=a.vertexBuffer,u=a.decl;if(!o.effectRes||!o.effectRes.IsGood())return!1;o.parameters.BackBuffer.SetTextureRes(e),o.parameters.OccluderIndex.SetValue([t,r,i]),n.SetStandardStates(n.RM_ADDITIVE),n.gl.bindBuffer(n.gl.ARRAY_BUFFER,s);for(var l=0;l<o.GetPassCount("Main");++l){if(o.ApplyPass("Main",l),u.SetDeclaration(n,o.GetPassInput("Main",l),16))return!1;n.ApplyShadowState(),n.gl.drawArrays(n.gl.TRIANGLES,0,1530)}return!0}static init(){if(!e.global){var t=h.device,r=e.global={};r.mat4_0=m.mat4.create(),r.vec4_0=m.vec4.create(),r.accumulator=new p.Tw2BatchAccumulator,r.effect=p.Tw2Effect.from({name:"Occluder sampler",effectFilePath:"res:/graphics/effect/managed/space/specialfx/lensflares/collectsamples.fx",parameters:{OccluderPosition:[1,1,1,1],OccluderIndex:[1,1,1],BackBuffer:""}}),r.vertexBuffer=null,r.decl=p.Tw2VertexDeclaration.from([{usage:"POSITION",usageIndex:0,elements:2},{usage:"TEXCOORD",usageIndex:0,elements:2}]),r.decl.RebuildHash();for(var i=new Float32Array(6120),n=0,a=0;a<16;++a)for(var o=0;o<16;++o){var s=(a+Math.random())/16*2-1,u=(o+Math.random())/16*2-1;i[n++]=1,i[n++]=1,i[n++]=s,i[n++]=u,i[n++]=-1,i[n++]=1,i[n++]=s,i[n++]=u,i[n++]=1,i[n++]=-1,i[n++]=s,i[n++]=u,i[n++]=-1,i[n++]=1,i[n++]=s,i[n++]=u,i[n++]=1,i[n++]=-1,i[n++]=s,i[n++]=u,i[n++]=-1,i[n++]=-1,i[n++]=s,i[n++]=u}r.vertexBuffer=t.gl.createBuffer(),t.gl.bindBuffer(t.gl.ARRAY_BUFFER,r.vertexBuffer),t.gl.bufferData(t.gl.ARRAY_BUFFER,i,t.gl.STATIC_DRAW),t.gl.bindBuffer(t.gl.ARRAY_BUFFER,null)}}},c.global=null,u=v((s=f).prototype,"name",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),l=v(s.prototype,"sprites",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),o=s))||o)},"./eve/effect/EveStretch.js":function(e,t,r){"use strict";r.r(t),r.d(t,"EveStretch",(function(){return X}));var i,n,a,o,s,u,l,c,f,d,h,m,p,b,v,g,E,y,T,S,w,_,R,j,A,O,z,P,x,C,D,M,L,I,F,G,N,B,U,V,k=r("./utils/index.js"),H=r("./math/index.js"),q=r("./core/index.js");function W(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function Y(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var X=(i=k.meta.ctor("EveStretch",!0),n=k.meta.string,a=k.meta.list("Tw2CurveSet"),o=k.meta.boolean,s=k.meta.struct(),u=k.meta.struct(),l=k.meta.struct("Tw2Float"),c=k.meta.notImplemented,f=k.meta.struct("Tw2CurveSet"),d=k.meta.notImplemented,h=k.meta.struct(),m=k.meta.notImplemented,p=k.meta.struct("Tw2Curve"),b=k.meta.struct(),v=k.meta.notImplemented,g=k.meta.list("Tr2PointLight"),E=k.meta.struct(),y=k.meta.struct(),T=k.meta.boolean,S=k.meta.notImplemented,w=k.meta.boolean,i((V=U=class e extends k.meta.Model{constructor(){super(),W(this,"name",j,this),W(this,"curveSets",A,this),W(this,"display",O,this),W(this,"dest",z,this),W(this,"destObject",P,this),W(this,"length",x,this),W(this,"moveCompletion",C,this),W(this,"moveObject",D,this),W(this,"progressCurve",M,this),W(this,"source",L,this),W(this,"sourceLights",I,this),W(this,"sourceObject",F,this),W(this,"stretchObject",G,this),W(this,"update",N,this),W(this,"useCurveLod",B,this),this._destinationPosition=H.vec3.create(),this._displayDestObject=!0,this._displaySourceObject=!0,this._isNegZForward=!1,this._useTransformsForStretch=!1,this._sourcePosition=H.vec3.create(),this._sourceTransform=null,this._time=0,this._useParentMatrix=!1,e.init()}GetResources(e=[]){return this.source&&this.source.GetResources&&this.source.GetResources(e),this.dest&&this.dest.GetResources&&this.dest.GetResources(e),this.sourceObject&&this.sourceObject.GetResources&&this.sourceObject.GetResources(e),this.destObject&&this.destObject.GetResources&&this.destObject.GetResources(e),this.stretchObject&&this.stretchObject.GetResources&&this.stretchObject.GetResources(e),e}SetSourcePosition(e){this._useTransformsForStretch=!1,H.vec3.copy(this._sourcePosition,e)}SetSourcePositionFromTransform(e){this._useTransformsForStretch=!1,this._sourcePosition[0]=e[12],this._sourcePosition[1]=e[13],this._sourcePosition[2]=e[14]}SetDestinationPosition(e){H.vec3.copy(this._destinationPosition,e)}SetSourceTransform(e){this._useTransformsForStretch=!0,this._sourceTransform=e}SetIsNegZForward(e){this._isNegZForward=e}UpdateViewDependentData(t){if(this.display){var r=e.global,i=H.vec3.subtract(r.vec3_0,this._destinationPosition,this._sourcePosition),n=H.mat4.identity(r.mat4_0),a=H.vec3.set(r.vec3_1,0,0,0),o=H.vec3.set(r.vec3_2,0,0,0),s=H.mat4.identity(r.mat4_1),u=H.vec3.length(i);H.vec3.normalize(i,i),this._useTransformsForStretch?(H.mat4.rotateX(n,n,-Math.PI/2),H.mat4.multiply(n,this._sourceTransform,n)):(Math.abs(i[1])>.9?o[2]=1:o[1]=1,H.vec3.cross(a,o,i),H.vec3.normalize(a,a),H.vec3.cross(o,i,a),n[0]=a[0],n[1]=a[1],n[2]=a[2],n[4]=-i[0],n[5]=-i[1],n[6]=-i[2],n[8]=o[0],n[9]=o[1],n[10]=o[2],H.mat4.multiply(n,t,n)),this.destObject&&this._displayDestObject&&(H.mat4.setTranslation(n,this._destinationPosition),this.destObject.UpdateViewDependentData(n)),this.sourceObject&&this._displaySourceObject&&(this._useTransformsForStretch?(H.mat4.identity(n),H.mat4.rotateX(n,n,-Math.PI/2),H.mat4.multiply(n,this._sourceTransform,n)):H.mat4.setTranslation(n,this._sourcePosition),this.sourceObject.UpdateViewDependentData(n)),this.stretchObject&&(this._useTransformsForStretch?(H.mat4.identity(n),H.mat4.scale(n,n,[1,1,u]),H.mat4.multiply(n,this._sourceTransform,n)):(n[0]=a[0],n[1]=a[1],n[2]=a[2],n[4]=o[0],n[5]=o[1],n[6]=o[2],n[8]=-i[0],n[9]=-i[1],n[10]=-i[2],this._isNegZForward&&(u=-u),H.mat4.scale(s,s,[1,1,u]),H.mat4.multiply(n,n,s)),this.stretchObject.UpdateViewDependentData(n))}}Update(t){for(var r=0;r<this.curveSets.length;++r)this.curveSets[r].Update(t);this._time+=t,this.source?this.source.GetValueAt(this._time,this._sourcePosition):this._useTransformsForStretch&&(this._sourcePosition[0]=this._sourceTransform[12],this._sourcePosition[1]=this._sourceTransform[13],this._sourcePosition[2]=this._sourceTransform[14]),this.dest&&this.source.GetValueAt(this._time,this._destinationPosition);var i=H.vec3.subtract(e.global.vec3_0,this._destinationPosition,this._sourcePosition);this.length.value=H.vec3.length(i),H.vec3.normalize(i,i),this.sourceObject&&this._displaySourceObject&&this.sourceObject.Update(t),this.destObject&&this._displayDestObject&&this.destObject.Update(t),this.stretchObject&&this.stretchObject.Update(t)}GetBatches(e,t,r){this.display&&(this.sourceObject&&this._displaySourceObject&&this.sourceObject.GetBatches(e,t,r),this.destObject&&this._displayDestObject&&this.destObject.GetBatches(e,t,r),this.stretchObject&&this.stretchObject.GetBatches(e,t,r))}static init(){e.global||(e.global={vec3_0:H.vec3.create(),vec3_1:H.vec3.create(),vec3_2:H.vec3.create(),mat4_0:H.mat4.create(),mat4_1:H.mat4.create()})}},U.global=null,j=Y((R=V).prototype,"name",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),A=Y(R.prototype,"curveSets",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),O=Y(R.prototype,"display",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),z=Y(R.prototype,"dest",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),P=Y(R.prototype,"destObject",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),x=Y(R.prototype,"length",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new q.Tw2Float}}),C=Y(R.prototype,"moveCompletion",[c,f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),D=Y(R.prototype,"moveObject",[d,h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),M=Y(R.prototype,"progressCurve",[m,p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),L=Y(R.prototype,"source",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),I=Y(R.prototype,"sourceLights",[v,g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),F=Y(R.prototype,"sourceObject",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),G=Y(R.prototype,"stretchObject",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),N=Y(R.prototype,"update",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),B=Y(R.prototype,"useCurveLod",[S,w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),_=R))||_)},"./eve/effect/EveTurretFiringFX.js":function(e,t,r){"use strict";r.r(t),r.d(t,"EveTurretFiringFX",(function(){return Se}));var i,n,a,o,s,u,l,c,f,d,h,m,p,b,v,g,E,y,T,S,w,_,R,j,A,O,z,P,x,C,D,M,L,I,F,G,N,B,U,V,k,H,q,W,Y,X,K,Q,Z,$,J,ee,te,re,ie,ne,ae,oe,se,ue,le,ce,fe,de,he,me,pe,be,ve=r("./utils/index.js"),ge=r("./math/index.js");function Ee(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function ye(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}class Te{constructor(){this.constantDelay=0,this.currentStartDelay=0,this.elapsedTime=0,this.muzzlePositionBone=null,this.muzzleTransform=ge.mat4.create(),this.readyToStart=!1,this.started=!1}}var Se=(i=ve.meta.ctor("EveTurretFiringFX"),n=ve.meta.stage(2),a=ve.meta.string,o=ve.meta.string,s=ve.meta.boolean,u=ve.meta.notImplemented,l=ve.meta.struct("TriObserverLocal"),c=ve.meta.float,f=ve.meta.float,d=ve.meta.float,h=ve.meta.float,m=ve.meta.float,p=ve.meta.todo("Deprecated?"),b=ve.meta.float,v=ve.meta.todo("Deprecated?"),g=ve.meta.float,E=ve.meta.todo("Deprecated?"),y=ve.meta.float,T=ve.meta.todo("Deprecated?"),S=ve.meta.notImplemented,w=ve.meta.float,_=ve.meta.notImplemented,R=ve.meta.float,j=ve.meta.boolean,A=ve.meta.notImplemented,O=ve.meta.float,z=ve.meta.float,P=ve.meta.notImplemented,x=ve.meta.float,C=ve.meta.float,D=ve.meta.notImplemented,M=ve.meta.boolean,L=ve.meta.notImplemented,I=ve.meta.struct("TriObserverLocal"),F=ve.meta.notImplemented,G=ve.meta.struct("Tw2CurveSet"),N=ve.meta.notImplemented,B=ve.meta.struct("Tw2CurveSet"),U=ve.meta.list(["EveStretch","EveStretch2"]),V=ve.meta.boolean,i(k=n((be=class extends ve.meta.Model{constructor(...e){super(...e),Ee(this,"name",q,this),Ee(this,"boneName",W,this),Ee(this,"display",Y,this),Ee(this,"destinationObserver",X,this),Ee(this,"firingDelay1",K,this),Ee(this,"firingDelay2",Q,this),Ee(this,"firingDelay3",Z,this),Ee(this,"firingDelay4",$,this),Ee(this,"firingDelay5",J,this),Ee(this,"firingDelay6",ee,this),Ee(this,"firingDelay7",te,this),Ee(this,"firingDelay8",re,this),Ee(this,"firingDurationOverride",ie,this),Ee(this,"firingPeakTime",ne,this),Ee(this,"isLoopFiring",ae,this),Ee(this,"maxRadius",oe,this),Ee(this,"maxScale",se,this),Ee(this,"minRadius",ue,this),Ee(this,"minScale",le,this),Ee(this,"scaleEffectTarget",ce,this),Ee(this,"sourceObserver",fe,this),Ee(this,"startCurveSet",de,this),Ee(this,"stopCurveSet",he,this),Ee(this,"stretch",me,this),Ee(this,"useMuzzleTransform",pe,this),this._endPosition=ge.vec3.create(),this._firingDuration=0,this._isFiring=!1,this._perMuzzleData=[]}Initialize(){this._firingDuration=this.GetCurveDuration();for(var e=0;e<this.stretch.length;++e)this._perMuzzleData[e]=new Te;var t=this._perMuzzleData;t.length>0&&(t[0].constantDelay=this.firingDelay1),t.length>1&&(t[1].constantDelay=this.firingDelay2),t.length>2&&(t[2].constantDelay=this.firingDelay3),t.length>3&&(t[3].constantDelay=this.firingDelay4),t.length>4&&(t[4].constantDelay=this.firingDelay5),t.length>5&&(t[5].constantDelay=this.firingDelay6),t.length>6&&(t[6].constantDelay=this.firingDelay7),t.length>7&&(t[7].constantDelay=this.firingDelay8)}GetCurveDuration(){for(var e=0,t=0;t<this.stretch.length;++t)for(var r=this.stretch[t],i=0;i<r.curveSets.length;++i)e=Math.max(e,r.curveSets[i].GetMaxCurveDuration());return e}GetPerMuzzleEffectCount(){return this.stretch.length}SetEndPosition(e){this._endPosition[0]=e[0],this._endPosition[1]=e[1],this._endPosition[2]=e[2]}SetMuzzleBoneID(e,t){this._perMuzzleData[e].muzzlePositionBone=t}GetMuzzleTransform(e){return this._perMuzzleData[e].muzzleTransform}PrepareFiring(e,t=-1){for(var r=0;r<this.stretch.length;++r)t<0||t===r?(this._perMuzzleData[r].currentStartDelay=e+this._perMuzzleData[r].constantDelay,this._perMuzzleData[r].started=!1,this._perMuzzleData[r].readyToStart=!1,this._perMuzzleData[r].elapsedTime=0):(this._perMuzzleData[r].currentStartDelay=Number.MAX_VALUE,this._perMuzzleData[r].started=!1,this._perMuzzleData[r].readyToStart=!1,this._perMuzzleData[r].elapsedTime=0);this._isFiring=!0}StartMuzzleEffect(e){for(var t=this.stretch[e],r=0;r<t.curveSets.length;++r){var i=t.curveSets[r];switch(i.name){case"play_start":case"play_loop":i.PlayFrom(-this._perMuzzleData[e].currentStartDelay);break;case"play_stop":i.Stop()}}this._perMuzzleData[e].started=!0,this._perMuzzleData[e].readyToStart=!1}StopFiring(){for(var e=0;e<this.stretch.length;++e){for(var t=this.stretch[e],r=0;r<t.curveSets.length;++r){var i=t.curveSets[r];switch(i.name){case"play_start":case"play_loop":i.Stop();break;case"play_stop":i.Play()}}this._perMuzzleData[e].started=!1,this._perMuzzleData[e].readyToStart=!1,this._perMuzzleData[e].currentStartDelay=0,this._perMuzzleData[e].elapsedTime=0}this._isFiring=!1}UpdateViewDependentData(e){for(var t=0;t<this.stretch.length;++t)this.stretch[t].UpdateViewDependentData(e)}Update(e){for(var t=0;t<this.stretch.length;++t)this._perMuzzleData[t].started&&(this._perMuzzleData[t].elapsedTime+=e),(this._perMuzzleData[t].elapsedTime<this._firingDuration||this.isLoopFiring)&&this._isFiring&&(this._perMuzzleData[t].started?(this.useMuzzleTransform?this.stretch[t].SetSourceTransform(this._perMuzzleData[t].muzzleTransform):this.stretch[t].SetSourcePositionFromTransform(this._perMuzzleData[t].muzzleTransform),this.stretch[t].SetDestinationPosition(this._endPosition),this.stretch[t].SetIsNegZForward(!0)):(this._perMuzzleData[t].readyToStart?(this.StartMuzzleEffect(t),this._perMuzzleData[t].currentStartDelay=0,this._perMuzzleData[t].elapsedTime=0):this._perMuzzleData[t].currentStartDelay-=e,this._perMuzzleData[t].currentStartDelay<=0&&(this._perMuzzleData[t].readyToStart=!0))),this.stretch[t].Update(e)}GetBatches(e,t,r){if(this.display&&this._isFiring)for(var i=0;i<this.stretch.length;++i)this._perMuzzleData[i].started&&(this._firingDuration>=this._perMuzzleData[i].elapsedTime||this.isLoopFiring)&&this.stretch[i].GetBatches(e,t,r)}},q=ye((H=be).prototype,"name",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),W=ye(H.prototype,"boneName",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),Y=ye(H.prototype,"display",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),X=ye(H.prototype,"destinationObserver",[u,l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),K=ye(H.prototype,"firingDelay1",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Q=ye(H.prototype,"firingDelay2",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Z=ye(H.prototype,"firingDelay3",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),$=ye(H.prototype,"firingDelay4",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),J=ye(H.prototype,"firingDelay5",[m,p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),ee=ye(H.prototype,"firingDelay6",[b,v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),te=ye(H.prototype,"firingDelay7",[g,E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),re=ye(H.prototype,"firingDelay8",[y,T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),ie=ye(H.prototype,"firingDurationOverride",[S,w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),ne=ye(H.prototype,"firingPeakTime",[_,R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),ae=ye(H.prototype,"isLoopFiring",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),oe=ye(H.prototype,"maxRadius",[A,O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),se=ye(H.prototype,"maxScale",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),ue=ye(H.prototype,"minRadius",[P,x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),le=ye(H.prototype,"minScale",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),ce=ye(H.prototype,"scaleEffectTarget",[D,M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),fe=ye(H.prototype,"sourceObserver",[L,I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),de=ye(H.prototype,"startCurveSet",[F,G],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),he=ye(H.prototype,"stopCurveSet",[N,B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),me=ye(H.prototype,"stretch",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),pe=ye(H.prototype,"useMuzzleTransform",[V],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),k=H))||k)||k)},"./eve/effect/index.js":function(e,t,r){"use strict";r.r(t);var i=r("./eve/effect/EveLensflare.js");r.d(t,"EveLensflare",(function(){return i.EveLensflare}));var n=r("./eve/effect/EveMeshOverlayEffect.js");r.d(t,"EveMeshOverlayEffect",(function(){return n.EveMeshOverlayEffect}));var a=r("./eve/effect/EveOccluder.js");r.d(t,"EveOccluder",(function(){return a.EveOccluder}));var o=r("./eve/effect/EveStretch.js");r.d(t,"EveStretch",(function(){return o.EveStretch}));var s=r("./eve/effect/EveTurretFiringFX.js");r.d(t,"EveTurretFiringFX",(function(){return s.EveTurretFiringFX}))},"./eve/index.js":function(e,t,r){"use strict";r.r(t);var i=r("./eve/child/index.js");r.d(t,"EveChild",(function(){return i.EveChild})),r.d(t,"EveChildBillboard",(function(){return i.EveChildBillboard})),r.d(t,"EveChildContainer",(function(){return i.EveChildContainer})),r.d(t,"EveChildMesh",(function(){return i.EveChildMesh})),r.d(t,"EveChildParticleSystem",(function(){return i.EveChildParticleSystem}));var n=r("./eve/effect/index.js");r.d(t,"EveLensflare",(function(){return n.EveLensflare})),r.d(t,"EveMeshOverlayEffect",(function(){return n.EveMeshOverlayEffect})),r.d(t,"EveOccluder",(function(){return n.EveOccluder})),r.d(t,"EveStretch",(function(){return n.EveStretch})),r.d(t,"EveTurretFiringFX",(function(){return n.EveTurretFiringFX}));var a=r("./eve/item/index.js");r.d(t,"EveBoosterBatch",(function(){return a.EveBoosterBatch})),r.d(t,"EveBoosterSetItem",(function(){return a.EveBoosterSetItem})),r.d(t,"EveBoosterSet",(function(){return a.EveBoosterSet})),r.d(t,"EveCurveLineSetItem",(function(){return a.EveCurveLineSetItem})),r.d(t,"EveCurveLineSet",(function(){return a.EveCurveLineSet})),r.d(t,"EveCustomMask",(function(){return a.EveCustomMask})),r.d(t,"EveLocator2",(function(){return a.EveLocator2})),r.d(t,"EveLocator",(function(){return a.EveLocator})),r.d(t,"EveObjectSetItem",(function(){return a.EveObjectSetItem})),r.d(t,"EveObjectSet",(function(){return a.EveObjectSet})),r.d(t,"EvePlaneSetItem",(function(){return a.EvePlaneSetItem})),r.d(t,"EvePlaneSet",(function(){return a.EvePlaneSet})),r.d(t,"EveSpaceObjectDecal",(function(){return a.EveSpaceObjectDecal})),r.d(t,"EveSpotlightSetItem",(function(){return a.EveSpotlightSetItem})),r.d(t,"EveSpotlightSet",(function(){return a.EveSpotlightSet})),r.d(t,"EveSpriteSetItem",(function(){return a.EveSpriteSetItem})),r.d(t,"EveSpriteSet",(function(){return a.EveSpriteSet})),r.d(t,"EveTurretSetItem",(function(){return a.EveTurretSetItem})),r.d(t,"EveTurretSet",(function(){return a.EveTurretSet}));var o=r("./eve/object/index.js");r.d(t,"EveMissileWarhead",(function(){return o.EveMissileWarhead})),r.d(t,"EveMissile",(function(){return o.EveMissile})),r.d(t,"EveTransform",(function(){return o.EveTransform})),r.d(t,"EveEffectRoot",(function(){return o.EveEffectRoot})),r.d(t,"EvePlanet",(function(){return o.EvePlanet})),r.d(t,"EveShip",(function(){return o.EveShip})),r.d(t,"EveSpaceObject",(function(){return o.EveSpaceObject})),r.d(t,"EveStation",(function(){return o.EveStation}));var s=r("./eve/EveSpaceScene.js");r.d(t,"EveSpaceScene",(function(){return s.EveSpaceScene}))},"./eve/item/EveBoosterSet.js":function(e,t,r){"use strict";r.r(t),r.d(t,"EveBoosterBatch",(function(){return we})),r.d(t,"EveBoosterSetItem",(function(){return _e})),r.d(t,"EveBoosterSet",(function(){return Re}));var i,n,a,o,s,u,l,c,f,d,h,m,p,b,v,g,E,y,T,S,w,_,R,j,A,O,z,P,x,C,D,M,L,I,F,G,N,B,U,V,k,H,q,W,Y,X,K,Q,Z,$,J,ee,te,re,ie,ne,ae,oe,se,ue,le,ce,fe,de,he,me=r("./utils/index.js"),pe=r("./global/index.js"),be=r("./math/index.js"),ve=r("./core/index.js"),ge=r("./eve/item/EveObjectSet.js"),Ee=r("./core/mesh/index.js"),ye=r("./eve/item/EveSpriteSet.js");function Te(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function Se(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}class we extends ve.Tw2RenderBatch{constructor(...e){super(...e),this.boosters=null}Commit(e){this.boosters.Render(e)}}var _e=(i=me.meta.ctor("EveBoosterSetItem"),n=me.meta.uint,a=me.meta.uint,o=me.meta.plain,s=me.meta.string,u=me.meta.float,l=me.meta.matrix4,c=me.meta.boolean,f=me.meta.plain,d=me.meta.float,i((_=class extends ge.EveObjectSetItem{constructor(...e){super(...e),Te(this,"atlas0",p,this),Te(this,"atlas1",b,this),Te(this,"customValues",v,this),Te(this,"locatorName",g,this),Te(this,"seed",E,this),Te(this,"transform",y,this),Te(this,"updateFromLocator",T,this),Te(this,"visible",S,this),Te(this,"wavePhase",w,this)}GetPosition(e){return be.mat4.getTranslation(e,this.transform)}GetDirection(e){be.vec3.set(e,this.transform[8],this.transform[9],this.transform[10]),be.vec3.normalize(e,e);var t=this.GetScale();return t<3&&be.vec3.scale(e,e,t/3),e}GetScale(){var e=this.transform;return Math.max(be.vec3.length([e[0],e[1],e[2]]),be.vec3.length([e[4],e[5],e[6]]))}},p=Se((m=_).prototype,"atlas0",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),b=Se(m.prototype,"atlas1",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),v=Se(m.prototype,"customValues",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),g=Se(m.prototype,"locatorName",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),E=Se(m.prototype,"seed",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 7*Math.random()}}),y=Se(m.prototype,"transform",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return be.mat4.create()}}),T=Se(m.prototype,"updateFromLocator",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),S=Se(m.prototype,"visible",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{glow:!0,symHalo:!0,halo:!0,trail:!0,customValues:!0}}}),w=Se(m.prototype,"wavePhase",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Math.random()}}),h=m))||h),Re=(R=me.meta.ctor("EveBoosterSet",!0),j=me.meta.notImplemented,A=me.meta.boolean,O=me.meta.struct("Tw2Effect"),z=me.meta.color,P=me.meta.struct("EveSpriteSet"),x=me.meta.float,C=me.meta.color,D=me.meta.float,M=me.meta.float,L=me.meta.notImplemented,I=me.meta.float,F=me.meta.float,G=me.meta.color,N=me.meta.vector4,B=me.meta.color,U=me.meta.color,V=me.meta.float,k=me.meta.float,H=me.meta.float,q=me.meta.plain,R((he=de=class e extends ge.EveObjectSet{constructor(...t){super(...t),Te(this,"alwaysOn",X,this),Te(this,"effect",K,this),Te(this,"glowColor",Q,this),Te(this,"glows",Z,this),Te(this,"glowScale",$,this),Te(this,"haloColor",J,this),Te(this,"haloScaleX",ee,this),Te(this,"haloScaleY",te,this),Te(this,"maxVel",re,this),Te(this,"symHaloScale",ie,this),Te(this,"trailColor",ne,this),Te(this,"trailSize",ae,this),Te(this,"warpGlowColor",oe,this),Te(this,"warpHaloColor",se,this),Te(this,"glowDistance",ue,this),Te(this,"haloDistance",le,this),Te(this,"symHaloDistance",ce,this),Te(this,"visible",fe,this),this._parentTransform=be.mat4.create(),this._positions=null,this._decl=ve.Tw2VertexDeclaration.from(e.vertexDeclarations),this._perObjectData=ve.Tw2PerObjectData.from(e.perObjectData),this._locatorDirty=!0}GetResources(e=[]){return this.effect&&this.effect.GetResources(e),e}RebuildItems(t){var r=this.glows,i=e.global,n=i.vec3_0;r&&r.ClearItems(),this._visibleItems=[];for(var a=0;a<this.items.length;a++){var o=this.items[a];if(o.display){if(this._visibleItems.push(o),r){var s=o.customValues&&o.customValues.display?o.customValues:this,u=o.GetPosition(i.vec3_1),l=o.GetDirection(i.vec3_2),c=o.GetScale();this.visible.glows&&o.visible.glow&&r.CreateItem({name:o.name+"_glow",position:be.vec3.subtract(n,u,be.vec3.scale(n,l,s.glowDistance)),blinkRate:o.seed,blinkPhase:o.seed,minScale:s.glowScale*c,maxScale:s.glowScale*c,color:s.glowColor,warpColor:s.warpGlowColor}),this.visible.symHalos&&o.visible.symHalo&&r.CreateItem({name:o.name+"_symHalo",position:be.vec3.subtract(n,u,be.vec3.scale(n,l,s.symHaloDistance)),blinkRate:o.seed,blinkPhase:o.seed+1,minScale:s.symHaloScale*c,maxScale:s.symHaloScale*c,color:s.haloColor,warpColor:s.warpHaloColor}),this.visible.halos&&o.visible.halo&&r.CreateItem({name:o.name+"_halo",position:be.vec3.subtract(n,u,be.vec3.scale(n,l,s.haloDistance)),blinkRate:o.seed,blinkPhase:o.seed+1,minScale:s.haloScaleX*c,maxScale:s.haloScaleY*c,color:s.haloColor,warpColor:s.warpHaloColor})}o._dirty=!1}}this._dirty=!0}FindItemByLocatorName(e){for(var t=0;t<this.items.length;t++)if(this.items[t].locatorName&&this.items[t].locatorName===e)return this.items[t];return null}UpdateItemsFromLocators(e){for(var t=Array.from(this.items),r=0;r<e.length;r++){var{name:i,transform:n,atlasIndex0:a,atlasIndex1:o}=e[r],s=this.FindItemByLocatorName(i);s?(t.splice(t.indexOf(s),1),s.updateFromLocator&&(be.mat4.copy(s.transform,n),s.atlas0=a,s.atlas1=o,s.UpdateValues())):this.CreateItem({name:i,locatorName:i,updateFromLocator:!0,atlas0:a,atlas1:o,transform:n})}for(var u=0;u<t.length;u++)null!==t[u].locatorName&&(this.RemoveItem(t[u]),u--);this._locatorDirty=!1,this._dirty&&this.Rebuild()}RebuildItemsFromLocators(){this._locatorDirty=!0}SetWorldSpriteScale(e){this.glows&&this.glows.SetWorldSpriteScale(e)}Update(e,t){be.mat4.copy(this._parentTransform,t),super.Update(e),this.glows&&this.glows.Update(e)}Unload(e){this._positions&&(pe.device.gl.deleteBuffer(this._positions),this._positions=null),this.glows&&this.glows.Unload(e),super.Unload(e)}Rebuild(){this.RebuildItems();var t=this._visibleItems.length;if(this._dirty=!1,t){for(var r=pe.device,i=e._box,n=new Float32Array(t*i.length*6*28),a=[0,3,1,3,2,1],o=0,s=0;s<t;++s)for(var u=this._visibleItems[s],l=0;l<i.length;++l)for(var c=0;c<a.length;++c)n[o++]=i[l][a[c]][0],n[o++]=i[l][a[c]][1],n[o++]=i[l][a[c]][2],n[o++]=0,n[o++]=0,n.set(u.transform,o),o+=16,n[o++]=0,n[o++]=1,n[o++]=1,n[o++]=1,n[o++]=u.wavePhase,n[o++]=u.atlas0,n[o++]=u.atlas1;this._positions=r.gl.createBuffer(),r.gl.bindBuffer(r.gl.ARRAY_BUFFER,this._positions),r.gl.bufferData(r.gl.ARRAY_BUFFER,n,r.gl.STATIC_DRAW),r.gl.bindBuffer(r.gl.ARRAY_BUFFER,null),this._positions.count=12*t*3,this.glows&&this.glows.Rebuild(),super.Rebuild()}else super.Rebuild()}GetBatches(e,t,r){if(this.display&&e===pe.device.RM_ADDITIVE&&this._positions&&this._visibleItems.length){if(this.effect){var i=new we;be.mat4.transpose(this._perObjectData.vs.Get("WorldMat"),this._parentTransform),this._perObjectData.vs.Set("Shipdata",r.vs.Get("Shipdata")),this._perObjectData.ps=r.ps,i.perObjectData=this._perObjectData,i.boosters=this,i.renderMode=pe.device.RM_ADDITIVE,t.Commit(i)}this.glows&&this.glows.GetBoosterGlowBatches(e,t,r,this._parentTransform,r.vs.Get("Shipdata")[0],0)}}Render(e){if(!this.effect||!this.effect.IsGood()||!this._positions)return!1;var t=pe.device,r=t.gl;r.bindBuffer(r.ARRAY_BUFFER,this._positions);for(var i=0;i<this.effect.GetPassCount(e);++i){if(this.effect.ApplyPass(e,i),!this._decl.SetDeclaration(t,this.effect.GetPassInput(e,i),112))return!1;t.ApplyShadowState(),r.drawArrays(r.TRIANGLES,0,this._positions.count)}return!0}static from(t,r){var i=new e;if(t&&(Object(me.assignIfExists)(i,t,["alwaysOn","glowColor","glowScale","haloColor","haloScaleX","haloScaleY","maxVel","symHaloScale","trailColor","trailSize","warpGlowColor","name","display","glowDistance","haloDistance","symHaloDistance","warpHaloColor"]),void 0!==t.warpHalpColor&&(i.warpHaloColor=t.warpHalpColor),t.visible&&Object(me.assignIfExists)(i.visible,t.visible,["glows","symHalos","halos","trails"]),t.effect&&(i.effect=Ee.Tw2Effect.from(t.effect)),t.glows&&(i.glows=ye.EveSpriteSet.from(t.glows)),t.items))for(var n=0;n<t.items.length;n++)i.CreateItem(t.items[n]);return r&&r.skipUpdate||i.Initialize(),i}},de.Item=_e,de.perObjectData={vs:[["WorldMat",16],["Shipdata",4]]},de.vertexDeclarations=[{usage:"POSITION",usageIndex:0,elements:3},{usage:"TEXCOORD",usageIndex:0,elements:2},{usage:"TEXCOORD",usageIndex:1,elements:4},{usage:"TEXCOORD",usageIndex:2,elements:4},{usage:"TEXCOORD",usageIndex:3,elements:4},{usage:"TEXCOORD",usageIndex:4,elements:4},{usage:"TEXCOORD",usageIndex:5,elements:4},{usage:"TEXCOORD",usageIndex:6,elements:1},{usage:"TEXCOORD",usageIndex:7,elements:2}],de._box=[[[-1,-1,0],[1,-1,0],[1,1,0],[-1,1,0]],[[-1,-1,-1],[-1,1,-1],[1,1,-1],[1,-1,-1]],[[-1,-1,0],[-1,1,0],[-1,1,-1],[-1,-1,-1]],[[1,-1,0],[1,-1,-1],[1,1,-1],[1,1,0]],[[-1,-1,0],[-1,-1,-1],[1,-1,-1],[1,-1,0]],[[-1,1,0],[1,1,0],[1,1,-1],[-1,1,-1]]],X=Se((Y=he).prototype,"alwaysOn",[j,A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),K=Se(Y.prototype,"effect",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Q=Se(Y.prototype,"glowColor",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return be.vec4.create()}}),Z=Se(Y.prototype,"glows",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),$=Se(Y.prototype,"glowScale",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),J=Se(Y.prototype,"haloColor",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return be.vec4.create()}}),ee=Se(Y.prototype,"haloScaleX",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),te=Se(Y.prototype,"haloScaleY",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),re=Se(Y.prototype,"maxVel",[L,I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 250}}),ie=Se(Y.prototype,"symHaloScale",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),ne=Se(Y.prototype,"trailColor",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return be.vec4.create()}}),ae=Se(Y.prototype,"trailSize",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return be.vec4.create()}}),oe=Se(Y.prototype,"warpGlowColor",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return be.vec4.create()}}),se=Se(Y.prototype,"warpHaloColor",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return be.vec4.create()}}),ue=Se(Y.prototype,"glowDistance",[V],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 2.5}}),le=Se(Y.prototype,"haloDistance",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 3.01}}),ce=Se(Y.prototype,"symHaloDistance",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 3}}),fe=Se(Y.prototype,"visible",[q],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{glows:!0,symHalos:!0,halos:!0,trails:!0}}}),W=Y))||W)},"./eve/item/EveCurveLineSet.js":function(e,t,r){"use strict";r.r(t),r.d(t,"EveCurveLineSetItem",(function(){return pe})),r.d(t,"EveCurveLineSet",(function(){return be}));var i,n,a,o,s,u,l,c,f,d,h,m,p,b,v,g,E,y,T,S,w,_,R,j,A,O,z,P,x,C,D,M,L,I,F,G,N,B,U,V,k,H,q,W,Y,X,K,Q,Z,$,J,ee,te,re,ie,ne,ae,oe,se=r("./global/index.js"),ue=r("./utils/index.js"),le=r("./math/index.js"),ce=r("./core/index.js"),fe=r("./eve/item/EveObjectSet.js");function de(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function he(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var me={INVALID:0,STRAIGHT:1,SPHERED:2,CURVED:3},pe=(i=ue.meta.ctor("EveCurveLineSetItem"),n=ue.meta.float,a=ue.meta.float,o=ue.meta.color,s=ue.meta.color,u=ue.meta.vector3,l=ue.meta.color,c=ue.meta.float,f=ue.meta.uint,d=ue.meta.color,h=ue.meta.vector3,m=ue.meta.vector3,p=ue.meta.float,b=ue.meta.enums(me),v=ue.meta.isPrivate,i((M=D=class e extends fe.EveObjectSetItem{constructor(...e){super(...e),de(this,"animationSpeed",y,this),de(this,"animationScale",T,this),de(this,"color1",S,this),de(this,"color2",w,this),de(this,"intermediatePosition",_,this),de(this,"multiColor",R,this),de(this,"multiColorBorder",j,this),de(this,"numOfSegments",A,this),de(this,"overlayColor",O,this),de(this,"position1",z,this),de(this,"position2",P,this),de(this,"width",x,this),de(this,"type",C,this)}ChangePositionFromRay(t,r,i=e.DEFAULT_RAY_LENGTH){le.vec3.copy(this.position1,t),le.vec3.scaleAndAdd(this.position2,t,r,i),this.UpdateValues()}ChangeColor(e,t){le.vec3.copy(this.color1,e),le.vec3.copy(this.color2,t),this.UpdateValues()}ChangeWidth(e){this.width=e,this.UpdateValues()}ChangeCartesian(e,t,r){le.vec3.copy(this.position1,e),le.vec3.copy(this.position2,t),le.vec3.copy(this.intermediatePosition,r),this.UpdateValues()}ChangePositionCartesian(e,t){le.vec3.copy(this.position1,e),le.vec3.copy(this.position2,t),this.UpdateValues()}ChangeIntermediateCartesian(e){le.vec3.copy(this.intermediatePosition,e),this.UpdateValues()}ChangeSpherical(e,t,r,i){le.vec3.fromSpherical(this.position1,e,i),le.vec3.fromSpherical(this.position2,t,i),le.vec3.fromSpherical(this.intermediatePosition,r,i),this.UpdateValues()}ChangePositionSpherical(e,t,r){le.vec3.fromSpherical(this.position1,e,r),le.vec3.fromSpherical(this.position2,t,r),this.UpdateValues()}ChangeIntermediateSpherical(e,t){le.vec3.fromSpherical(this.intermediatePosition,e,t),this.UpdateValues()}ChangeMultiColor(e,t){le.vec4.copy(this.multiColor,e),this.multiColorBorder=t,this.UpdateValues()}ChangeAnimation(e,t,r){le.vec4.copy(this.overlayColor,e),this.animationSpeed=t,this.animationScale=r,this.UpdateValues()}ChangeSegmentation(t){this.type!==e.Type.STRAIGHT&&(this.numOfSegments=t,this.UpdateValues())}},D.Type=me,D.DEFAULT_RAY_LENGTH=1e3,D.DEFAULT_CURVED_SEGMENTS=20,D.DEFAULT_SPHERED_SEGMENTS=20,y=he((E=M).prototype,"animationSpeed",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),T=he(E.prototype,"animationScale",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),S=he(E.prototype,"color1",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return le.vec4.fromValues(1,1,1,1)}}),w=he(E.prototype,"color2",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return le.vec4.fromValues(1,1,1,1)}}),_=he(E.prototype,"intermediatePosition",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return le.vec3.create()}}),R=he(E.prototype,"multiColor",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return le.vec4.fromValues(0,0,0,1)}}),j=he(E.prototype,"multiColorBorder",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return-1}}),A=he(E.prototype,"numOfSegments",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),O=he(E.prototype,"overlayColor",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return le.vec4.fromValues(0,0,0,1)}}),z=he(E.prototype,"position1",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return le.vec3.create()}}),P=he(E.prototype,"position2",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return le.vec3.create()}}),x=he(E.prototype,"width",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),C=he(E.prototype,"type",[b,v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return me.INVALID}}),g=E))||g),be=(L=ue.meta.ctor("EveCurveLineSet"),I=ue.meta.boolean,F=ue.meta.struct("Tw2Effect"),G=ue.meta.float,N=ue.meta.notImplemented,B=ue.meta.float,U=ue.meta.boolean,V=ue.meta.struct("Tw2Effect"),k=ue.meta.quaternion,H=ue.meta.vector3,q=ue.meta.vector3,W=ue.meta.matrix4,L((oe=ae=class e extends fe.EveObjectSet{constructor(){super(),de(this,"additive",K,this),de(this,"lineEffect",Q,this),de(this,"lineWidthFactor",Z,this),de(this,"depthOffset",$,this),de(this,"pickable",J,this),de(this,"pickEffect",ee,this),de(this,"rotation",te,this),de(this,"scaling",re,this),de(this,"translation",ie,this),de(this,"transform",ne,this),this._worldTransform=le.mat4.create(),this._vertexSize=26,this._vbSize=0,this._vb=null,this._perObjectData=ce.Tw2PerObjectData.from(e.perObjectData),this._decl=ce.Tw2VertexDeclaration.from(e.vertexDeclarations).SetStride(104),e.init()}get lines(){return this.items}set lines(e){this.items=e}get lineCount(){for(var e=0,t=0;t<this.items.length;t++)this.items[t].type!==pe.Type.INVALID&&(e+=this.items[t].numOfSegments);return e}Initialize(){this.UpdateValues(),this.Rebuild()}GetResources(e=[]){return this.lineEffect&&this.lineEffect.GetResources(e),e}AddStraightLineFromRay(e,t,r,i,n,a){var o=this.AddStraightLine([0,0,0],[0,0,0],i,n,a);return o.ChangePositionFromRay(e,t,r),o}AddStraightLine(e,t,r,i,n){return this.CreateItem({type:pe.Type.STRAIGHT,position1:e,position2:t,color1:i,color2:n,width:r})}AddCurvedLineCrt(e,t,r,i,n,a){return this.CreateItem({type:pe.Type.CURVED,position1:e,position2:t,intermediatePosition:r,color1:n,color2:a,width:i,numOfSegments:pe.DEFAULT_CURVED_SEGMENTS})}AddCurvedLineSph(t,r,i,n,a,o,s){var u=e.global;return this.CreateItem({type:pe.Type.CURVED,position1:le.vec3.fromSpherical(u.vec3_0,t,i),position2:le.vec3.fromSpherical(u.vec3_1,r,i),intermediatePosition:le.vec3.fromSpherical(u.vec3_2,n,i),color1:o,color2:s,width:a,numOfSegments:pe.DEFAULT_CURVED_SEGMENTS})}AddSpheredLineCrt(e,t,r,i,n,a){return this.CreateItem({type:pe.Type.SPHERED,position1:e,position2:t,intermediatePosition:r,color1:n,color2:a,width:i,numOfSegments:pe.DEFAULT_SPHERED_SEGMENTS})}AddSpheredLineSph(t,r,i,n,a,o,s){var u=e.global;return this.CreateItem({type:pe.Type.SPHERED,position1:le.vec3.fromSpherical(u.vec3_0,t,i),position2:le.vec3.fromSpherical(u.vec3_1,r,i),intermediatePosition:le.vec3.fromSpherical(u.vec3_2,n,i),color1:o,color2:s,width:a,numOfSegments:pe.DEFAULT_SPHERED_SEGMENTS})}OnValueChanged(){le.mat4.fromRotationTranslationScale(this.transform,this.rotation,this.translation,this.scaling),this._dirty=!0}UpdateViewDependentData(e){e?le.mat4.multiply(this._worldTransform,e,this.transform):le.mat4.copy(this._worldTransform,this.transform)}Unload(e){this._vb&&(se.device.gl.deleteBuffer(this._vb),this._vb=null),super.Unload(e)}Rebuild(){this.RebuildItems(),this._vbSize=this.lineCount,this._dirty=!1;var t=this._visibleItems.length;if(t){for(var r,i=e.global,n=new Float32Array(6*this._vbSize*this._vertexSize),a=i.vec3_0,o=i.vec3_1,s=i.vec3_2,u=i.vec3_3,l=i.vec3_4,c=i.vec3_5,f=i.vec3_6,d=i.mat4_0,h=i.vec3_7,m=i.vec3_8,p=i.vec3_9,b=i.vec3_10,v=i.vec4_0,g=i.vec4_1,E=0,y=0;y<t;++y){var T=this._visibleItems[y];switch(T.type){case pe.Type.INVALID:break;case pe.Type.STRAIGHT:e.WriteLineVerticesToBuffer(this,T.position1,T.color1,0,T.position2,T.color2,1,y,n,E),E+=6*this._vertexSize;break;case pe.Type.SPHERED:le.vec3.subtract(a,T.position1,T.intermediatePosition),le.vec3.subtract(o,T.position2,T.intermediatePosition),le.vec3.normalize(s,a),le.vec3.normalize(u,o),le.vec3.cross(l,a,o);var S=Math.acos(le.vec3.dot(s,u))/T.numOfSegments;le.mat4.identity(d),le.mat4.rotate(d,d,S,l),le.vec3.copy(h,a),le.vec4.copy(v,T.color1);for(var w=0;w<this.lines[y].numOfSegments;++w){var _=(w+1)/T.numOfSegments;le.vec3.transformMat4(m,h,d),g[0]=T.color1[0]*(1-_)+T.color2[0]*_,g[1]=T.color1[1]*(1-_)+T.color2[1]*_,g[2]=T.color1[2]*(1-_)+T.color2[2]*_,g[3]=T.color1[3]*(1-_)+T.color2[3]*_,le.vec3.add(p,h,T.intermediatePosition),le.vec3.add(b,m,T.intermediatePosition),e.WriteLineVerticesToBuffer(this,p,v,w/T.numOfSegments,b,g,_,y,n,E),E+=6*this._vertexSize,r=h,h=m,m=r,r=v,v=g,g=r}break;case pe.Type.CURVED:le.vec3.subtract(c,T.intermediatePosition,T.position1),le.vec3.subtract(f,T.position2,T.intermediatePosition),le.vec3.copy(p,T.position1),le.vec3.copy(v,T.color1);for(var R=0;R<T.numOfSegments;++R){var j=(R+1)/T.numOfSegments;le.vec3.hermite(b,T.position1,c,T.position2,f,j),g[0]=T.color1[0]*(1-j)+T.color2[0]*j,g[1]=T.color1[1]*(1-j)+T.color2[1]*j,g[2]=T.color1[2]*(1-j)+T.color2[2]*j,g[3]=T.color1[3]*(1-j)+T.color2[3]*j,e.WriteLineVerticesToBuffer(this,p,v,R/T.numOfSegments,b,g,j,y,n,E),E+=6*this._vertexSize,r=p,p=b,b=r,r=v,v=g,g=r}}}this._vb=se.device.gl.createBuffer(),se.device.gl.bindBuffer(se.device.gl.ARRAY_BUFFER,this._vb),se.device.gl.bufferData(se.device.gl.ARRAY_BUFFER,n,se.device.gl.STATIC_DRAW),se.device.gl.bindBuffer(se.device.gl.ARRAY_BUFFER,null),super.Rebuild()}else super.Rebuild()}GetBatches(t,r){if(this.display&&this._vb){var i;switch(t){case se.device.RM_TRANSPARENT:if(this.additive||!this.lineEffect)return;i=this.lineEffect;break;case se.device.RM_ADDITIVE:if(!this.additive||!this.lineEffect)return;i=this.lineEffect;break;case se.device.RM_PICKABLE:if(!this.pickable||!this.pickEffect)return;i=this.pickEffect}var n=new ce.Tw2ForwardingRenderBatch,a=le.mat4.transpose(e.global.mat4_0,this._worldTransform);this._perObjectData.vs.Set("WorldMat",a),this._perObjectData.ps.Set("WorldMat",a),n.perObjectData=this._perObjectData,n.geometryProvider=this,n.renderMode=t,n.effect=i,r.Commit(n)}}Render(e,t){if(!e.effect||!e.effect.IsGood()||!this._vb)return!1;var r=se.device,i=r.gl;i.bindBuffer(i.ARRAY_BUFFER,this._vb);for(var n=e.effect.GetPassCount(t),a=0;a<n;++a){e.effect.ApplyPass(t,a);var o=e.effect.GetPassInput(t,a);if(!this._decl.SetDeclaration(r,o,this._decl.stride))return!1;r.ApplyShadowState(),i.drawArrays(i.TRIANGLES,0,6*this._vbSize)}return!0}static FillColorVertices(e,t,r){return t[r++]=e.multiColor[0],t[r++]=e.multiColor[1],t[r++]=e.multiColor[2],t[r++]=e.multiColor[3],t[r++]=e.overlayColor[0],t[r++]=e.overlayColor[1],t[r++]=e.overlayColor[2],t[r++]=e.overlayColor[3],r}static WriteLineVerticesToBuffer(t,r,i,n,a,o,s,u,l,c){var f=t.items[u];l[c++]=r[0],l[c++]=r[1],l[c++]=r[2],l[c++]=a[0]-r[0],l[c++]=a[1]-r[1],l[c++]=a[2]-r[2],l[c++]=-t.lineWidthFactor*f.width,l[c++]=0,l[c++]=n,l[c++]=f.multiColorBorder,l[c++]=s-n,l[c++]=f.animationSpeed,l[c++]=f.animationScale,l[c++]=u,l[c++]=i[0],l[c++]=i[1],l[c++]=i[2],l[c++]=i[3],c=e.FillColorVertices(f,l,c),l[c++]=r[0],l[c++]=r[1],l[c++]=r[2],l[c++]=a[0]-r[0],l[c++]=a[1]-r[1],l[c++]=a[2]-r[2],l[c++]=t.lineWidthFactor*f.width,l[c++]=0,l[c++]=n,l[c++]=f.multiColorBorder,l[c++]=s-n,l[c++]=f.animationSpeed,l[c++]=f.animationScale,l[c++]=u,l[c++]=i[0],l[c++]=i[1],l[c++]=i[2],l[c++]=i[3],c=e.FillColorVertices(f,l,c),l[c++]=a[0],l[c++]=a[1],l[c++]=a[2],l[c++]=r[0]-a[0],l[c++]=r[1]-a[1],l[c++]=r[2]-a[2],l[c++]=-t.lineWidthFactor*f.width,l[c++]=1,l[c++]=s,l[c++]=f.multiColorBorder,l[c++]=s-n,l[c++]=f.animationSpeed,l[c++]=f.animationScale,l[c++]=u,l[c++]=o[0],l[c++]=o[1],l[c++]=o[2],l[c++]=o[3],c=e.FillColorVertices(f,l,c),l[c++]=r[0],l[c++]=r[1],l[c++]=r[2],l[c++]=a[0]-r[0],l[c++]=a[1]-r[1],l[c++]=a[2]-r[2],l[c++]=t.lineWidthFactor*f.width,l[c++]=0,l[c++]=n,l[c++]=f.multiColorBorder,l[c++]=s-n,l[c++]=f.animationSpeed,l[c++]=f.animationScale,l[c++]=u,l[c++]=i[0],l[c++]=i[1],l[c++]=i[2],l[c++]=i[3],c=e.FillColorVertices(f,l,c),l[c++]=a[0],l[c++]=a[1],l[c++]=a[2],l[c++]=r[0]-a[0],l[c++]=r[1]-a[1],l[c++]=r[2]-a[2],l[c++]=t.lineWidthFactor*f.width,l[c++]=1,l[c++]=s,l[c++]=f.multiColorBorder,l[c++]=s-n,l[c++]=f.animationSpeed,l[c++]=f.animationScale,l[c++]=u,l[c++]=o[0],l[c++]=o[1],l[c++]=o[2],l[c++]=o[3],c=e.FillColorVertices(f,l,c),l[c++]=a[0],l[c++]=a[1],l[c++]=a[2],l[c++]=r[0]-a[0],l[c++]=r[1]-a[1],l[c++]=r[2]-a[2],l[c++]=-t.lineWidthFactor*f.width,l[c++]=1,l[c++]=s,l[c++]=f.multiColorBorder,l[c++]=s-n,l[c++]=f.animationSpeed,l[c++]=f.animationScale,l[c++]=u,l[c++]=o[0],l[c++]=o[1],l[c++]=o[2],l[c++]=o[3],e.FillColorVertices(f,l,c)}static init(){e.global||(e.global={vec3_0:le.vec3.create(),vec3_1:le.vec3.create(),vec3_2:le.vec3.create(),vec3_3:le.vec3.create(),vec3_4:le.vec3.create(),vec3_5:le.vec3.create(),vec3_6:le.vec3.create(),vec3_7:le.vec3.create(),vec3_8:le.vec3.create(),vec3_9:le.vec3.create(),vec3_10:le.vec3.create(),vec4_0:le.vec4.create(),vec4_1:le.vec4.create(),mat4_0:le.mat4.create()})}},ae.Item=pe,ae.global=null,ae.perObjectData={vs:[["WorldMat",16]],ps:[["WorldMat",16]]},ae.vertexDeclarations=[{usage:"POSITION",usageIndex:0,elements:3},{usage:"TEXCOORD",usageIndex:0,elements:4},{usage:"TEXCOORD",usageIndex:1,elements:4},{usage:"TEXCOORD",usageIndex:2,elements:3},{usage:"COLOR",usageIndex:0,elements:4},{usage:"COLOR",usageIndex:1,elements:4},{usage:"COLOR",usageIndex:2,elements:4}],K=he((X=oe).prototype,"additive",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Q=he(X.prototype,"lineEffect",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return ce.Tw2Effect.from({effectFilePath:"res:/Graphics/Effect/Managed/Space/SpecialFX/Lines3D.fx",textures:{TexMap:"res:/texture/global/white.dds.0.png",OverlayTexMap:"res:/texture/global/white.dds.0.png"}})}}),Z=he(X.prototype,"lineWidthFactor",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),$=he(X.prototype,"depthOffset",[N,B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),J=he(X.prototype,"pickable",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),ee=he(X.prototype,"pickEffect",[V],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),te=he(X.prototype,"rotation",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return le.quat.create()}}),re=he(X.prototype,"scaling",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return le.vec3.fromValues(1,1,1)}}),ie=he(X.prototype,"translation",[q],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return le.vec3.create()}}),ne=he(X.prototype,"transform",[W],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return le.mat4.create()}}),Y=X))||Y)},"./eve/item/EveCustomMask.js":function(e,t,r){"use strict";r.r(t),r.d(t,"EveCustomMask",(function(){return D}));var i,n,a,o,s,u,l,c,f,d,h,m,p,b,v,g,E,y,T,S,w,_,R,j,A,O=r("./math/index.js"),z=r("./utils/index.js"),P=r("./core/index.js");function x(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function C(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var D=(i=z.meta.ctor("EveCustomMask"),n=z.meta.stage(1),a=z.meta.string,o=z.meta.boolean,s=z.meta.boolean,u=z.meta.byte,l=z.meta.vector3,c=z.meta.quaternion,f=z.meta.vector3,d=z.meta.vector4,h=z.meta.plain,m=z.meta.todo("Move to direct class properties"),p=z.meta.isPrivate,i(b=n((A=class extends P.Tw2Transform{constructor(...e){super(...e),x(this,"name",g,this),x(this,"display",E,this),x(this,"isMirrored",y,this),x(this,"materialIndex",T,this),x(this,"position",S,this),x(this,"rotation",w,this),x(this,"scaling",_,this),x(this,"targetMaterials",R,this),x(this,"parameters",j,this),this._worldInverseTranspose=O.mat4.create()}UpdatePerObjectData(e,t,r,i){this.SetParentTransform(e);var n=this.display&&i?this.targetMaterials:O.vec4.ZERO;t.ps.Set("CustomMaskTarget"+r,n),t.ps.SetIndex("CustomMaskMaterialID"+r,0,this.materialIndex),t.vs.SetIndex("CustomMaskData"+r,1,this.isMirrored?1:0),t.vs.Set("CustomMaskMatrix"+r,this._worldInverseTranspose)}static ApplyMaterials(e,t,r){var i=0===r?"PMtl1":"PMtl2",n=0===r?"PatternMask1Map":"PatternMask2Map",a=e.parameters[i+"DiffuseColor"],o=e.parameters[i+"DustDiffuseColor"],s=e.parameters[i+"FresnelColor"],u=e.parameters[i+"Gloss"],l=e.parameters[n],{DiffuseColor:c,DustDiffuseColor:f,FresnelColor:d,Gloss:h,PatternMaskMap:m}=t.parameters;if(a&&(a.SetValue(c.GetValue()),c.OnEvent("modified",()=>a.SetValue(c.GetValue()))),o&&(o.SetValue(f.GetValue()),f.OnEvent("modified",()=>o.SetValue(o.GetValue()))),s&&(s.SetValue(d.GetValue()),d.OnEvent("modified",()=>s.SetValue(d.GetValue()))),u&&(u.SetValue(h.GetValue()),h.OnEvent("modified",()=>u.SetValue(h.GetValue()))),l){var p=m.GetOverrides();l.SetOverrides(p),l.SetValue(m.GetValue()),m.OnEvent("modified",()=>{l.SetOverrides(m.GetOverrides()),l.SetValue(m.resourcePath)})}}},g=C((v=A).prototype,"name",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),E=C(v.prototype,"display",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),y=C(v.prototype,"isMirrored",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),T=C(v.prototype,"materialIndex",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),S=C(v.prototype,"position",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return O.vec3.create()}}),w=C(v.prototype,"rotation",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return O.quat.create()}}),_=C(v.prototype,"scaling",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return O.vec3.fromValues(1,1,1)}}),R=C(v.prototype,"targetMaterials",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return O.vec4.fromValues(1,1,1,1)}}),j=C(v.prototype,"parameters",[h,m,p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{PatternMaskMap:new P.Tw2TextureParameter("PatternMaskMap","res:/texture/global/black.dds.0.png"),DiffuseColor:new P.Tw2Vector4Parameter("DiffuseColor",[0,0,0,1]),DustDiffuseColor:new P.Tw2Vector4Parameter("DustDiffuseColor",[0,0,0,1]),FresnelColor:new P.Tw2Vector4Parameter("FresnelColor",[0,0,0,1]),Gloss:new P.Tw2Vector4Parameter("Gloss",[0,0,0,0])}}}),b=v))||b)||b)},"./eve/item/EveLocator2.js":function(e,t,r){"use strict";r.r(t),r.d(t,"EveLocator2",(function(){return A})),r.d(t,"EveLocator",(function(){return O}));var i,n,a,o,s,u,l,c,f,d,h,m,p,b,v,g,E,y,T,S,w=r("./utils/index.js"),_=r("./math/index.js");function R(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function j(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var A=(i=w.meta.ctor("EveLocator2"),n=w.meta.stage(1),a=w.meta.string,o=w.meta.matrix4,s=w.meta.uint,u=w.meta.todo("Move to EveLocator only?"),l=w.meta.uint,c=w.meta.todo("Move to EveLocator only?"),f=w.meta.struct("Tw2Bone"),d=w.meta.isPrivate,i(h=n((T=y=class e extends w.meta.Model{constructor(...e){super(...e),R(this,"name",p,this),R(this,"transform",b,this),R(this,"atlasIndex0",v,this),R(this,"atlasIndex1",g,this),R(this,"bone",E,this)}GetGlowTranslation(t,r,i){return this.GetDirection(t),r&&_.vec3.scale(t,t,r),_.vec3.subtract(t,t,this.GetTranslation(e.global.vec3_0)),i&&_.vec3.transformMat4(t,t,i),t}GetWeaponRotationTranslation(t,r,i){var n=_.mat4.copy(e.global.mat4_0,this.transform);_.vec3.normalize(n.subarray(0,3),n.subarray(0,3)),_.vec3.normalize(n.subarray(4,7),n.subarray(4,7)),_.vec3.normalize(n.subarray(8,11),n.subarray(8,11)),i&&_.mat4.multiply(n,i,n),_.mat4.getRotation(t,n),_.mat4.getTranslation(r,n)}GetTranslation(e,t){return _.mat4.getTranslation(e,this.transform),t&&_.vec3.transformMat4(e,e,t),e}GetDirection(e,t){_.vec3.set(e,this.transform[8],this.transform[9],this.transform[10]),t&&_.vec3.transformMat4(e,e,t),_.vec3.normalize(e,e);var r=this.GetScale();return r<3&&_.vec3.scale(e,e,r/3),e}GetScale(){var e=this.transform;return Math.max(_.vec3.length([e[0],e[1],e[2]]),_.vec3.length([e[4],e[5],e[6]]))}FindBone(e){return this.bone=e.FindBoneForMesh(this.name,0),this.bone}},y.global={vec3_0:_.vec3.create(),mat4_0:_.mat4.create()},y.Type={AUDIO:"locator_audio",ATTACH:"locator_attach",BOOSTER:"locator_booster",TURRET:"locator_turret",XL_TURRET:"locator_xl",CHAIN:"locator_chain",ATOMIC:"locator_atomic"},p=j((m=T).prototype,"name",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),b=j(m.prototype,"transform",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return _.mat4.create()}}),v=j(m.prototype,"atlasIndex0",[s,u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),g=j(m.prototype,"atlasIndex1",[l,c],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),E=j(m.prototype,"bone",[f,d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),h=m))||h)||h),O=w.meta.ctor("EveLocator")(S=class extends A{})||S},"./eve/item/EveObjectSet.js":function(e,t,r){"use strict";r.r(t),r.d(t,"EveObjectSetItem",(function(){return S})),r.d(t,"EveObjectSet",(function(){return w}));var i,n,a,o,s,u,l,c,f,d,h,m,p,b,v,g=r("./utils/index.js"),E=r("./math/index.js");function y(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function T(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var S=(i=g.meta.boolean,o=class extends g.meta.Model{constructor(...e){super(...e),y(this,"display",a,this),this._dirty=!0}OnValueChanged(){this._dirty=!0}},a=T((n=o).prototype,"display",[i],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),n),w=(s=g.meta.boolean,u=g.meta.boolean,l=g.meta.list(),c=g.meta.abstract,f=g.meta.abstract,v=b=class extends g.meta.Model{constructor(...e){super(...e),y(this,"autoRebuild",h,this),y(this,"display",m,this),y(this,"items",p,this),this._dirty=!0,this._visibleItems=[]}Initialize(){this.Rebuild()}OnValueChanged(){this._dirty=!0}OnItemModified(e,t){this.items.includes(e)?(this._dirty=!0,this.EmitEvent("item_modified",e,t)):(this.EmitEvent("item_removed",e,t),e.OffEvent("modified",this.OnItemModified))}CreateItem(e={},t,r){var i=this.constructor.Item.from(e);return this.AddItem(i,!0,!0),r||this.EmitEvent("item_created",i),t||this.UpdateValues(),i}AddItem(e,t,r){return!this.items.includes(e)&&(this.items.push(e),this._dirty=!0,e.OnEvent("modified",this.OnItemModified,this),r||this.EmitEvent("item_added",e),t||this.UpdateValues(e),!0)}RemoveItem(e,t,r){var i=this.items.indexOf(e);return-1!==i&&(this.items.splice(i,1),this._dirty=!0,e.OffEvent("modified",this.OnItemModified),r||this.EmitEvent("item_removed",e),t||this.UpdateValues(e),!0)}ClearItems(e,t){var r;t||(r=Array.from(this.items));for(var i=0;i<this.items.length;i++)this.RemoveItem(this.items[i],!0,!0),i--;t||this.EmitEvent("items_cleared",r),e||this.UpdateValues()}RebuildItems(){this._visibleItems.splice(0);for(var e=0;e<this.items.length;e++){var t=this.items[e];t.HasEvent("modified",this.OnItemModified)||(this.EmitEvent("item_added",t),t.OnEvent("modified",this.OnItemModified,this)),t.display&&this._visibleItems.push(t),t._dirty&&this.EmitEvent("item_rebuilt",t),t._dirty=!1}this._dirty=!0}AreItemsDirty(){for(var e=0;e<this.items.length;e++)if(this.items[e]._dirty)return!0;return!1}Update(e){!this._dirty&&this.autoRebuild&&this.AreItemsDirty()&&(this._dirty=!0),this._dirty&&this.Rebuild()}Unload(e){e||this.EmitEvent("unloaded")}Rebuild(){this.EmitEvent("rebuilt")}GetBatches(e,t,r){}Render(){}},b.Item=null,b.global={vec3_0:E.vec3.create(),vec3_1:E.vec3.create(),vec3_2:E.vec3.create(),vec4_0:E.vec4.create(),vec4_1:E.vec4.create(),mat4_0:E.mat4.create()},h=T((d=v).prototype,"autoRebuild",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),m=T(d.prototype,"display",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),p=T(d.prototype,"items",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),T(d.prototype,"GetBatches",[c],Object.getOwnPropertyDescriptor(d.prototype,"GetBatches"),d.prototype),T(d.prototype,"Render",[f],Object.getOwnPropertyDescriptor(d.prototype,"Render"),d.prototype),d)},"./eve/item/EvePlaneSet.js":function(e,t,r){"use strict";r.r(t),r.d(t,"EvePlaneSetItem",(function(){return ie})),r.d(t,"EvePlaneSet",(function(){return ne}));var i,n,a,o,s,u,l,c,f,d,h,m,p,b,v,g,E,y,T,S,w,_,R,j,A,O,z,P,x,C,D,M,L,I,F,G,N,B,U,V,k,H,q,W,Y,X,K=r("./utils/index.js"),Q=r("./global/index.js"),Z=r("./math/index.js"),$=r("./core/index.js"),J=r("./eve/item/EveObjectSet.js");function ee(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function te(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}class re extends $.Tw2RenderBatch{constructor(...e){super(...e),this.planeSet=null}Commit(e){this.planeSet.Render(e)}}var ie=(i=K.meta.ctor("EvePlaneSetItem",!0),n=K.meta.string,a=K.meta.color,o=K.meta.vector4,s=K.meta.vector4,u=K.meta.vector4,l=K.meta.vector4,c=K.meta.uint,f=K.meta.vector3,d=K.meta.quaternion,h=K.meta.vector3,m=K.meta.uint,p=K.meta.todo("Identify if this is required anywhere apart from the EVESOF, or if it can be deprecated"),b=K.meta.uint,v=K.meta.todo("Identify if this is required anywhere apart from the EVESOF, or if it can be deprecated"),i((C=class extends J.EveObjectSetItem{constructor(...e){super(...e),ee(this,"name",y,this),ee(this,"color",T,this),ee(this,"layer1Scroll",S,this),ee(this,"layer1Transform",w,this),ee(this,"layer2Scroll",_,this),ee(this,"layer2Transform",R,this),ee(this,"maskAtlasID",j,this),ee(this,"position",A,this),ee(this,"rotation",O,this),ee(this,"scaling",z,this),ee(this,"boneIndex",P,this),ee(this,"groupIndex",x,this),this._localTransform=Z.mat4.create()}get maskMapAtlasIndex(){return this.maskAtlasID}set maskMapAtlasIndex(e){this.maskAtlasID=e}OnValueChanged(){Z.mat4.fromRotationTranslationScale(this._localTransform,this.rotation,this.translation,this.scaling),this._dirty=!0}static set(e,t,r){return t&&void 0!==t.maskMapAtlasIndex&&(t.maskAtlasID=t.maskMapAtlasIndex),super.set(e,t,r)}},y=te((E=C).prototype,"name",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),T=te(E.prototype,"color",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Z.vec4.create()}}),S=te(E.prototype,"layer1Scroll",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Z.vec4.create()}}),w=te(E.prototype,"layer1Transform",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Z.vec4.create()}}),_=te(E.prototype,"layer2Scroll",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Z.vec4.create()}}),R=te(E.prototype,"layer2Transform",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Z.vec4.create()}}),j=te(E.prototype,"maskAtlasID",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),A=te(E.prototype,"position",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Z.vec3.create()}}),O=te(E.prototype,"rotation",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Z.quat.create()}}),z=te(E.prototype,"scaling",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Z.vec3.fromValues(1,1,1)}}),P=te(E.prototype,"boneIndex",[m,p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),x=te(E.prototype,"groupIndex",[b,v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return-1}}),g=E))||g),ne=(D=K.meta.ctor("EvePlaneSet",!0),M=K.meta.string,L=K.meta.struct(),I=K.meta.notImplemented,F=K.meta.boolean,G=K.meta.notImplemented,N=K.meta.byte,B=K.meta.list("EvePlaneSetItem"),D((X=Y=class e extends J.EveObjectSet{constructor(...t){super(...t),ee(this,"name",k,this),ee(this,"effect",H,this),ee(this,"hideOnLowQuality",q,this),ee(this,"pickBufferID",W,this),this._vertexBuffer=null,this._indexBuffer=null,this._decl=$.Tw2VertexDeclaration.from(e.vertexDeclarations)}get planes(){return this.items}set planes(e){this.items=e}GetResources(e=[]){return this.effect&&this.effect.GetResources(e),e}Unload(e){this._vertexBuffer&&(Q.device.gl.deleteBuffer(this._vertexBuffer),this._vertexBuffer=null),this._indexBuffer&&(Q.device.gl.deleteBuffer(this._indexBuffer),this._indexBuffer=null),super.Unload(e)}Rebuild(){this.Unload(!0),this.RebuildItems(),this._dirty=!1;var e=this._visibleItems.length;if(e){for(var t=new Float32Array(4*e*35),r=0;r<e;++r){var i=this._visibleItems[r],n=4*r*35;t[n+35-3]=0,t[n+35+35-3]=1,t[n+70+35-3]=2,t[n+105+35-3]=3;for(var a=Z.mat4.fromRotationTranslationScale(i._localTransform,i.rotation,i.position,i.scaling),o=0;o<4;++o){var s=n+35*o;t[s]=a[0],t[s+1]=a[4],t[s+2]=a[8],t[s+3]=a[12],t[s+4]=a[1],t[s+5]=a[5],t[s+6]=a[9],t[s+7]=a[13],t[s+8]=a[2],t[s+9]=a[6],t[s+10]=a[10],t[s+11]=a[14],t[s+12]=i.color[0],t[s+13]=i.color[1],t[s+14]=i.color[2],t[s+15]=i.color[3],t[s+16]=i.layer1Transform[0],t[s+17]=i.layer1Transform[1],t[s+18]=i.layer1Transform[2],t[s+19]=i.layer1Transform[3],t[s+20]=i.layer2Transform[0],t[s+21]=i.layer2Transform[1],t[s+22]=i.layer2Transform[2],t[s+23]=i.layer2Transform[3],t[s+24]=i.layer1Scroll[0],t[s+25]=i.layer1Scroll[1],t[s+26]=i.layer1Scroll[2],t[s+27]=i.layer1Scroll[3],t[s+28]=i.layer2Scroll[0],t[s+29]=i.layer2Scroll[1],t[s+30]=i.layer2Scroll[2],t[s+31]=i.layer2Scroll[3],t[s+33]=i.boneIndex,t[s+34]=i.maskAtlasID}}this._vertexBuffer=Q.device.gl.createBuffer(),Q.device.gl.bindBuffer(Q.device.gl.ARRAY_BUFFER,this._vertexBuffer),Q.device.gl.bufferData(Q.device.gl.ARRAY_BUFFER,t,Q.device.gl.STATIC_DRAW),Q.device.gl.bindBuffer(Q.device.gl.ARRAY_BUFFER,null);for(var u=new Uint16Array(6*e),l=0;l<e;++l){var c=6*l,f=4*l;u[c]=f,u[c+1]=f+2,u[c+2]=f+1,u[c+3]=f,u[c+4]=f+3,u[c+5]=f+2}this._indexBuffer=Q.device.gl.createBuffer(),Q.device.gl.bindBuffer(Q.device.gl.ELEMENT_ARRAY_BUFFER,this._indexBuffer),Q.device.gl.bufferData(Q.device.gl.ELEMENT_ARRAY_BUFFER,u,Q.device.gl.STATIC_DRAW),Q.device.gl.bindBuffer(Q.device.gl.ELEMENT_ARRAY_BUFFER,null),this._indexBuffer.count=6*e,super.Rebuild()}else super.Rebuild()}GetBatches(e,t,r){if(this.display&&e===Q.device.RM_ADDITIVE&&this._indexBuffer&&this._vertexBuffer&&this._visibleItems.length){var i=new re;i.renderMode=Q.device.RM_ADDITIVE,i.planeSet=this,i.perObjectData=r,t.Commit(i)}}Render(e){if(!(this.effect&&this.effect.IsGood()&&this._vertexBuffer&&this._indexBuffer))return!1;var t=Q.device,r=t.gl;t.SetStandardStates(t.RM_ADDITIVE),r.bindBuffer(r.ARRAY_BUFFER,this._vertexBuffer),r.bindBuffer(r.ELEMENT_ARRAY_BUFFER,this._indexBuffer);for(var i=0;i<this.effect.GetPassCount(e);++i){if(this.effect.ApplyPass(e,i),!this._decl.SetDeclaration(t,this.effect.GetPassInput(e,i),140))return!1;t.ApplyShadowState(),r.drawElements(r.TRIANGLES,this._indexBuffer.count,r.UNSIGNED_SHORT,0)}return!0}static from(t,r){var i=new e;if(t&&(Object(K.assignIfExists)(i,t,["name","display","hideOnLowQuality"]),t.effect&&(i.effect=$.Tw2Effect.from(t.effect)),t.items))for(var n=0;n<t.items.length;n++)i.CreateItem(t.items[n]);return r&&r.skipUpdate||i.Initialize(),i}},Y.Item=ie,Y.vertexDeclarations=[{usage:"TEXCOORD",usageIndex:0,elements:4},{usage:"TEXCOORD",usageIndex:1,elements:4},{usage:"TEXCOORD",usageIndex:2,elements:4},{usage:"COLOR",usageIndex:0,elements:4},{usage:"TEXCOORD",usageIndex:3,elements:4},{usage:"TEXCOORD",usageIndex:4,elements:4},{usage:"TEXCOORD",usageIndex:5,elements:4},{usage:"TEXCOORD",usageIndex:6,elements:4},{usage:"TEXCOORD",usageIndex:7,elements:3}],k=te((V=X).prototype,"name",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),H=te(V.prototype,"effect",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),q=te(V.prototype,"hideOnLowQuality",[I,F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),W=te(V.prototype,"pickBufferID",[G,N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),te(V.prototype,"planes",[B],Object.getOwnPropertyDescriptor(V.prototype,"planes"),V.prototype),U=V))||U)},"./eve/item/EveSpaceObjectDecal.js":function(e,t,r){"use strict";r.r(t),r.d(t,"EveSpaceObjectDecal",(function(){return G}));var i,n,a,o,s,u,l,c,f,d,h,m,p,b,v,g,E,y,T,S,w,_,R,j,A,O,z,P,x,C=r("./utils/index.js"),D=r("./global/index.js"),M=r("./math/index.js"),L=r("./core/index.js");function I(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function F(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var G=(i=C.meta.ctor("EveSpaceObjectDecal",!0),n=C.meta.string,a=C.meta.struct("Tw2Effect"),o=C.meta.boolean,s=C.meta.uint,u=C.meta.todo("Identify if deprecated, this may only be needed if created a SOF object from a decal"),l=C.meta.indexBuffer,c=C.meta.uint,f=C.meta.todo("Identify if deprecated, Doesn't seem to be on the new SOF anywhere but it is required, maybe default to 0?"),d=C.meta.boolean,h=C.meta.struct("Tw2Effect"),m=C.meta.vector3,p=C.meta.quaternion,b=C.meta.vector3,i((x=P=class e extends C.meta.Model{constructor(...t){super(...t),I(this,"name",E,this),I(this,"decalEffect",y,this),I(this,"display",T,this),I(this,"groupIndex",S,this),I(this,"indexBuffer",w,this),I(this,"parentBoneIndex",_,this),I(this,"pickable",R,this),I(this,"pickEffect",j,this),I(this,"position",A,this),I(this,"rotation",O,this),I(this,"scaling",z,this),this._dirty=!0,this._indexBuffer=null,this._localTransform=M.mat4.create(),this._localTransformInverse=M.mat4.create(),this._perObjectData=L.Tw2PerObjectData.from(e.perObjectData)}Initialize(){this.Rebuild(),this.UpdateValues()}GetResources(e=[]){return this.decalEffect&&this.decalEffect.GetResources(e),this.pickEffect&&this.pickEffect.GetResources(e),e}OnValueChanged(){M.mat4.fromRotationTranslationScale(this._localTransform,this.rotation,this.position,this.scaling),M.mat4.invert(this._localTransformInverse,this._localTransform)}Unload(e){this._indexBuffer&&(D.device.gl.deleteBuffer(this._indexBuffer),this._indexBuffer=null),e||this.EmitEvent("unloaded")}Rebuild(){if(this.Unload(!0),this.indexBuffer){var e=D.device.gl,t=new Uint16Array(this.indexBuffer);this._indexBuffer=e.createBuffer(),e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,this._indexBuffer),e.bufferData(e.ELEMENT_ARRAY_BUFFER,t,e.STATIC_DRAW)}this._dirty=!1,this.EmitEvent("rebuilt")}GetBatches(e,t,r,i,n=0){if(this.display&&i&&i.meshes[0]&&this._indexBuffer){var a;switch(e){case D.device.RM_DECAL:a=this.decalEffect;break;case D.device.RM_PICKABLE:a=this.pickable?this.pickEffect:null}if(this._dirty&&this.Rebuild(),a&&a.IsGood()&&i.IsGood()){var o=new L.Tw2ForwardingRenderBatch;if(this._perObjectData.vs.Set("worldMatrix",r.vs.Get("WorldMat")),this.parentBoneIndex>=0){var s=r.vs.Get("JointMat"),u=12*this.parentBoneIndex;if(s[u]||s[u+4]||s[u+8]){var l=this._perObjectData.vs.Get("parentBoneMatrix");l[0]=s[u],l[1]=s[u+4],l[2]=s[u+8],l[3]=0,l[4]=s[u+1],l[5]=s[u+5],l[6]=s[u+9],l[7]=0,l[8]=s[u+2],l[9]=s[u+6],l[10]=s[u+10],l[11]=0,l[12]=s[u+3],l[13]=s[u+7],l[14]=s[u+11],l[15]=1,M.mat4.transpose(l,l)}}M.mat4.invert(this._perObjectData.vs.Get("invWorldMatrix"),this._perObjectData.vs.Get("worldMatrix")),M.mat4.transpose(this._perObjectData.vs.Get("decalMatrix"),this._localTransform),M.mat4.transpose(this._perObjectData.vs.Get("invDecalMatrix"),this._localTransformInverse),this._perObjectData.ps.SetIndex("displayData",0,n),this._perObjectData.ps.Set("shipData",r.ps.data),o._geometryRes=i,o.perObjectData=this._perObjectData,o.geometryProvider=this,o.renderMode=e,o.effect=a,t.Commit(o)}}}Render(e,t){var r=e._geometryRes.meshes[0],i=r.indexes,n=r.areas[0].start,a=r.areas[0].count,o=r.indexType;D.store.variables.SetValue("u_DecalMatrix",this._localTransform),D.store.variables.SetValue("u_InvDecalMatrix",this._localTransformInverse),r.indexes=this._indexBuffer,r.areas[0].start=0,r.areas[0].count=this.indexBuffer.length,r.indexType=D.device.gl.UNSIGNED_SHORT,e._geometryRes.RenderAreas(0,0,1,e.effect,t),r.indexes=i,r.areas[0].start=n,r.areas[0].count=a,r.indexType=o}static from(t,r){var i=new e;if(t){Object(C.assignIfExists)(i,t,["name","display","pickable","position","rotation","scaling","groupIndex","parentBoneIndex"]),t.indexBuffer&&(i.indexBuffer=new Uint16Array(t.indexBuffer)),t.pickEffect&&(i.pickEffect=L.Tw2Effect.from(t.pickEffect));var n=t.decalEffect||t.effect;n&&(i.decalEffect=L.Tw2Effect.from(n))}return r&&r.skipUpdate||i.Initialize(),i}},P.perObjectData={vs:[["worldMatrix",16],["invWorldMatrix",16],["decalMatrix",16],["invDecalMatrix",16],["parentBoneMatrix",M.mat4.identity([])]],ps:[["displayData",[0,1,0,0]],["shipData",12]]},E=F((g=x).prototype,"name",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),y=F(g.prototype,"decalEffect",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),T=F(g.prototype,"display",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),S=F(g.prototype,"groupIndex",[s,u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return-1}}),w=F(g.prototype,"indexBuffer",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),_=F(g.prototype,"parentBoneIndex",[c,f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return-1}}),R=F(g.prototype,"pickable",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),j=F(g.prototype,"pickEffect",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),A=F(g.prototype,"position",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return M.vec3.create()}}),O=F(g.prototype,"rotation",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return M.quat.create()}}),z=F(g.prototype,"scaling",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return M.vec3.fromValues(1,1,1)}}),v=g))||v)},"./eve/item/EveSpotlightSet.js":function(e,t,r){"use strict";r.r(t),r.d(t,"EveSpotlightSetItem",(function(){return re})),r.d(t,"EveSpotlightSet",(function(){return ie}));var i,n,a,o,s,u,l,c,f,d,h,m,p,b,v,g,E,y,T,S,w,_,R,j,A,O,z,P,x,C,D,M,L,I,F,G,N,B,U,V,k,H,q,W,Y,X=r("./utils/index.js"),K=r("./global/index.js"),Q=r("./math/index.js"),Z=r("./core/index.js"),$=r("./eve/item/EveObjectSet.js");function J(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function ee(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}class te extends Z.Tw2RenderBatch{constructor(...e){super(...e),this.spotlightSet=null}Commit(e){this.spotlightSet.RenderCones(e),this.spotlightSet.RenderGlow(e)}}var re=(i=X.meta.ctor("EveSpotlightSetItem",!0),n=X.meta.string,a=X.meta.boolean,o=X.meta.uint,s=X.meta.color,u=X.meta.float,l=X.meta.boolean,c=X.meta.color,f=X.meta.float,d=X.meta.uint,h=X.meta.todo("Identify if deprecated, only needed if creating a SOF object from the spotlight"),m=X.meta.color,p=X.meta.float,b=X.meta.vector3,v=X.meta.matrix4,i((D=class extends $.EveObjectSetItem{constructor(...e){super(...e),J(this,"name",y,this),J(this,"boosterGainInfluence",T,this),J(this,"boneIndex",S,this),J(this,"coneColor",w,this),J(this,"coneIntensity",_,this),J(this,"display",R,this),J(this,"flareColor",j,this),J(this,"flareIntensity",A,this),J(this,"groupIndex",O,this),J(this,"spriteColor",z,this),J(this,"spriteIntensity",P,this),J(this,"spriteScale",x,this),J(this,"transform",C,this)}},y=ee((E=D).prototype,"name",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),T=ee(E.prototype,"boosterGainInfluence",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),S=ee(E.prototype,"boneIndex",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),w=ee(E.prototype,"coneColor",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Q.vec4.create()}}),_=ee(E.prototype,"coneIntensity",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),R=ee(E.prototype,"display",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),j=ee(E.prototype,"flareColor",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Q.vec4.create()}}),A=ee(E.prototype,"flareIntensity",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),O=ee(E.prototype,"groupIndex",[d,h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return-1}}),z=ee(E.prototype,"spriteColor",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Q.vec4.create()}}),P=ee(E.prototype,"spriteIntensity",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),x=ee(E.prototype,"spriteScale",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Q.vec3.fromValues(1,1,1)}}),C=ee(E.prototype,"transform",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Q.mat4.create()}}),g=E))||g),ie=(M=X.meta.ctor("EveSpotlightSet",!0),L=X.meta.string,I=X.meta.struct("Tw2Effect"),F=X.meta.struct("Tw2Effect"),G=X.meta.float,N=X.meta.list("EveSpotlightSetItem"),M((Y=W=class e extends $.EveObjectSet{constructor(...t){super(...t),J(this,"name",V,this),J(this,"coneEffect",k,this),J(this,"glowEffect",H,this),J(this,"intensity",q,this),this._coneVertexBuffer=null,this._decl=Z.Tw2VertexDeclaration.from(e.vertexDeclarations),this._indexBuffer=null,this._spriteVertexBuffer=null,this._worldSpriteScale=1}get spotlightItems(){return this.items}set spotlightItems(e){this.items=e}GetResources(e=[]){return this.coneEffect&&this.coneEffect.GetResources(e),this.glowEffect&&this.glowEffect.GetResources(e),e}Unload(e){this._coneVertexBuffer&&(K.device.gl.deleteBuffer(this._coneVertexBuffer),this._coneVertexBuffer=null),this._spriteVertexBuffer&&(K.device.gl.deleteBuffer(this._spriteVertexBuffer),this._spriteVertexBuffer=null),this._indexBuffer&&(K.device.gl.deleteBuffer(this._indexBuffer),this._indexBuffer=null),super.Unload(e)}SetWorldSpriteScale(e){this._worldSpriteScale!==e&&(this._worldSpriteScale=e,this._dirty=!0)}Rebuild(){this.Unload(!0),this.RebuildItems(),this._dirty=!1;var e=this._visibleItems.length;if(e){for(var t=K.device,r=[1,0,2,3],i=new Float32Array(22*(4*e*4)),n=0;n<e;++n)for(var a=this._visibleItems[n],o=0;o<4;++o)for(var s=0;s<4;++s){var u=22*(4*n*4+4*o+s);i[u]=a.coneColor[0]*a.coneIntensity*this.intensity,i[u+1]=a.coneColor[1]*a.coneIntensity*this.intensity,i[u+2]=a.coneColor[2]*a.coneIntensity*this.intensity,i[u+3]=a.coneColor[3],i[u+4]=a.transform[0],i[u+5]=a.transform[4],i[u+6]=a.transform[8],i[u+7]=a.transform[12],i[u+8]=a.transform[1],i[u+9]=a.transform[5],i[u+10]=a.transform[9],i[u+11]=a.transform[13],i[u+12]=a.transform[2],i[u+13]=a.transform[6],i[u+14]=a.transform[10],i[u+15]=a.transform[14],i[u+16]=1,i[u+17]=1,i[u+18]=1,i[u+19]=4*o+r[s],i[u+20]=a.boneIndex,i[u+21]=a.boosterGainInfluence?255:0}this._coneVertexBuffer=t.gl.createBuffer(),t.gl.bindBuffer(t.gl.ARRAY_BUFFER,this._coneVertexBuffer),t.gl.bufferData(t.gl.ARRAY_BUFFER,i,t.gl.STATIC_DRAW),this._coneVertexBuffer.count=4*e*6;for(var l=new Float32Array(22*(2*e*4)),c=[1,0,2,3],f=0;f<e;++f)for(var d=this._visibleItems[f],h=0;h<2;++h)for(var m=0;m<4;++m){var p=22*(2*f*4+4*h+m);h%2==0?(l[p]=d.spriteColor[0]*d.spriteIntensity*this.intensity,l[p+1]=d.spriteColor[1]*d.spriteIntensity*this.intensity,l[p+2]=d.spriteColor[2]*d.spriteIntensity*this.intensity,l[p+3]=d.spriteColor[3],l[p+16]=d.spriteScale[0]*this._worldSpriteScale,l[p+17]=1,l[p+18]=1):(l[p]=d.flareColor[0]*d.flareIntensity*this.intensity,l[p+1]=d.flareColor[1]*d.flareIntensity*this.intensity,l[p+2]=d.flareColor[2]*d.flareIntensity*this.intensity,l[p+3]=d.flareColor[3],l[p+16]=1,l[p+17]=d.spriteScale[1]*this._worldSpriteScale,l[p+18]=d.spriteScale[2]*this._worldSpriteScale),l[p+4]=d.transform[0],l[p+5]=d.transform[4],l[p+6]=d.transform[8],l[p+7]=d.transform[12],l[p+8]=d.transform[1],l[p+9]=d.transform[5],l[p+10]=d.transform[9],l[p+11]=d.transform[13],l[p+12]=d.transform[2],l[p+13]=d.transform[6],l[p+14]=d.transform[10],l[p+15]=d.transform[14],l[p+19]=4*h+c[m],l[p+20]=d.boneIndex,l[p+21]=d.boosterGainInfluence?255:0}this._spriteVertexBuffer=t.gl.createBuffer(),t.gl.bindBuffer(t.gl.ARRAY_BUFFER,this._spriteVertexBuffer),t.gl.bufferData(t.gl.ARRAY_BUFFER,l,t.gl.STATIC_DRAW),this._spriteVertexBuffer.count=2*e*6;for(var b=new Uint16Array(4*e*6),v=0;v<4*e;++v){var g=6*v,E=4*v;b[g]=E,b[g+1]=E+1,b[g+2]=E+2,b[g+3]=E+2,b[g+4]=E+3,b[g+5]=E}this._indexBuffer=t.gl.createBuffer(),t.gl.bindBuffer(t.gl.ELEMENT_ARRAY_BUFFER,this._indexBuffer),t.gl.bufferData(t.gl.ELEMENT_ARRAY_BUFFER,b,t.gl.STATIC_DRAW),t.gl.bindBuffer(t.gl.ELEMENT_ARRAY_BUFFER,null),this._indexBuffer.count=e,super.Rebuild()}else super.Rebuild()}GetBatches(e,t,r){if(this.display&&e===K.device.RM_ADDITIVE&&this._indexBuffer&&this._indexBuffer.count){var i=new te;i.renderMode=K.device.RM_ADDITIVE,i.spotlightSet=this,i.perObjectData=r,t.Commit(i)}}RenderCones(t){return e.Render(this,this.coneEffect,t,this._coneVertexBuffer)}RenderGlow(t){return e.Render(this,this.glowEffect,t,this._spriteVertexBuffer)}static Render(e,t,r,i){if(!(t&&t.IsGood()&&i&&e._indexBuffer))return!1;var n=K.device,a=n.gl;n.SetStandardStates(n.RM_ADDITIVE),a.bindBuffer(a.ARRAY_BUFFER,i),a.bindBuffer(a.ELEMENT_ARRAY_BUFFER,e._indexBuffer);for(var o=0;o<t.GetPassCount(r);++o){if(t.ApplyPass(r,o),!e._decl.SetDeclaration(n,t.GetPassInput(r,o),88))return!1;n.ApplyShadowState(),n.gl.drawElements(a.TRIANGLES,i.count,a.UNSIGNED_SHORT,0)}return!0}static from(t,r){var i=new e;if(t&&(Object(X.assignIfExists)(i,t,["name","display","intensity"]),t.coneEffect&&(Object(X.isFunction)(t.coneEffect)?i.coneEffect=t.coneEffect:i.coneEffect=Z.Tw2Effect.from(t.coneEffect)),t.glowEffect&&(Object(X.isFunction)(t.glowEffect)?i.glowEffect=t.glowEffect:i.glowEffect=Z.Tw2Effect.from(t.glowEffect)),t.items))for(var n=0;n<t.items.length;n++)i.CreateItem(t.items[n]);return r&&r.skipUpdate||i.Initialize(),i}},W.Item=re,W.vertexDeclarations=[{usage:"COLOR",usageIndex:0,elements:4},{usage:"TEXCOORD",usageIndex:0,elements:4},{usage:"TEXCOORD",usageIndex:1,elements:4},{usage:"TEXCOORD",usageIndex:2,elements:4},{usage:"TEXCOORD",usageIndex:3,elements:3},{usage:"TEXCOORD",usageIndex:4,elements:3}],V=ee((U=Y).prototype,"name",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),k=ee(U.prototype,"coneEffect",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),H=ee(U.prototype,"glowEffect",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),q=ee(U.prototype,"intensity",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),ee(U.prototype,"spotlightItems",[N],Object.getOwnPropertyDescriptor(U.prototype,"spotlightItems"),U.prototype),B=U))||B)},"./eve/item/EveSpriteSet.js":function(e,t,r){"use strict";r.r(t),r.d(t,"EveSpriteSetItem",(function(){return oe})),r.d(t,"EveSpriteSet",(function(){return se}));var i,n,a,o,s,u,l,c,f,d,h,m,p,b,v,g,E,y,T,S,w,_,R,j,A,O,z,P,x,C,D,M,L,I,F,G,N,B,U,V,k,H,q,W,Y,X,K,Q,Z=r("./utils/index.js"),$=r("./global/index.js"),J=r("./math/index.js"),ee=r("./core/index.js"),te=r("./eve/item/EveObjectSet.js"),re=r("./core/mesh/index.js");function ie(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function ne(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}class ae extends ee.Tw2RenderBatch{constructor(...e){super(...e),this.boosterGlow=!1,this.spriteSet=null,this.world=null,this.boosterGain=0,this.warpIntensity=0}Commit(e){this.boosterGlow?this.spriteSet.RenderBoosterGlow(e,this.world,this.boosterGain,this.warpIntensity):this.spriteSet.Render(e,this.world,this.perObjectData)}}var oe=(i=Z.meta.ctor("EveSpriteSetItem",!0),n=Z.meta.string,a=Z.meta.float,o=Z.meta.float,s=Z.meta.uint,u=Z.meta.color,l=Z.meta.float,c=Z.meta.float,f=Z.meta.float,d=Z.meta.vector3,h=Z.meta.color,m=Z.meta.uint,p=Z.meta.string,b=Z.meta.todo("Remove this, and reference the name using the group index"),v=Z.meta.uint,g=Z.meta.todo("Remove this after testing"),i((M=class extends te.EveObjectSetItem{constructor(...e){super(...e),ie(this,"name",T,this),ie(this,"blinkPhase",S,this),ie(this,"blinkRate",w,this),ie(this,"boneIndex",_,this),ie(this,"color",R,this),ie(this,"falloff",j,this),ie(this,"maxScale",A,this),ie(this,"minScale",O,this),ie(this,"position",z,this),ie(this,"warpColor",P,this),ie(this,"groupIndex",x,this),ie(this,"groupName",C,this),ie(this,"colorType",D,this)}},T=ne((y=M).prototype,"name",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),S=ne(y.prototype,"blinkPhase",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),w=ne(y.prototype,"blinkRate",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),_=ne(y.prototype,"boneIndex",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),R=ne(y.prototype,"color",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return J.vec4.create()}}),j=ne(y.prototype,"falloff",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),A=ne(y.prototype,"maxScale",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),O=ne(y.prototype,"minScale",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),z=ne(y.prototype,"position",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return J.vec3.create()}}),P=ne(y.prototype,"warpColor",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return J.vec4.create()}}),x=ne(y.prototype,"groupIndex",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return-1}}),C=ne(y.prototype,"groupName",[p,b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),D=ne(y.prototype,"colorType",[v,g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return-1}}),E=y))||E),se=(L=Z.meta.ctor("EveSpriteSet",!0),I=Z.meta.string,F=Z.meta.struct("Tw2Effect"),G=Z.meta.float,N=Z.meta.boolean,B=Z.meta.boolean,U=Z.meta.list("EveSpriteSetItem"),L((Q=K=class e extends te.EveObjectSet{constructor(...e){super(...e),ie(this,"name",H,this),ie(this,"effect",q,this),ie(this,"intensity",W,this),ie(this,"skinned",Y,this),ie(this,"useQuads",X,this),this._time=0,this._vertexBuffer=null,this._indexBuffer=null,this._instanceBuffer=null,this._decl=null,this._vdecl=ee.Tw2VertexDeclaration.from([{usage:"TEXCOORD",usageType:5,elements:1}]),this._worldSpriteScale=1}get sprites(){return this.items}set sprites(e){this.items=e}Initialize(){this.UseQuads(!!this.useQuads),this.Rebuild()}GetResources(e=[]){return this.effect&&this.effect.GetResources(e),e}UseQuads(t){this.useQuads=t,this._decl=ee.Tw2VertexDeclaration.from(t?e.quadVertexDeclarations:e.vertexDeclarations),this._dirty=!0}SetWorldSpriteScale(e){this._worldSpriteScale!==e&&(this._worldSpriteScale=e,this._dirty=!0)}Update(e){this._time+=e,super.Update(e)}Unload(e){var t=$.device.gl;this._vertexBuffer&&(t.deleteBuffer(this._vertexBuffer),this._vertexBuffer=null),this._indexBuffer&&(t.deleteBuffer(this._indexBuffer),this._indexBuffer=null),this._instanceBuffer&&(t.deleteBuffer(this._instanceBuffer),this._instanceBuffer=null),super.Unload(e)}Rebuild(){this.RebuildItems(),this._dirty=!1;var e=this._visibleItems.length;if(e){var t=$.device.gl;if(this.useQuads)return this._vertexBuffer=t.createBuffer(),t.bindBuffer(t.ARRAY_BUFFER,this._vertexBuffer),t.bufferData(t.ARRAY_BUFFER,new Float32Array([0,1,2,2,3,0]),t.STATIC_DRAW),t.bindBuffer(t.ARRAY_BUFFER,null),void(this._instanceBuffer=t.createBuffer());for(var r=new Float32Array(4*e*13),i=0;i<e;++i){var n=this._visibleItems[i],a=4*i*13;r[a]=0,r[a+13]=1,r[a+26]=2,r[a+39]=3;for(var o=0;o<4;++o){var s=a+13*o;r[s+1]=n.boneIndex,r[s+2]=n.position[0],r[s+3]=n.position[1],r[s+4]=n.position[2],r[s+5]=n.color[0],r[s+6]=n.color[1],r[s+7]=n.color[2],r[s+8]=n.blinkPhase,r[s+9]=n.blinkRate,r[s+10]=n.minScale*this._worldSpriteScale,r[s+11]=n.maxScale*this._worldSpriteScale,r[s+12]=n.falloff}}this._vertexBuffer=t.createBuffer(),t.bindBuffer(t.ARRAY_BUFFER,this._vertexBuffer),t.bufferData(t.ARRAY_BUFFER,r,t.STATIC_DRAW),t.bindBuffer(t.ARRAY_BUFFER,null);for(var u=new Uint16Array(6*e),l=0;l<e;++l){var c=6*l,f=4*l;u[c]=f,u[c+1]=f+2,u[c+2]=f+1,u[c+3]=f,u[c+4]=f+3,u[c+5]=f+2}this._indexBuffer=t.createBuffer(),t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,this._indexBuffer),t.bufferData(t.ELEMENT_ARRAY_BUFFER,u,t.STATIC_DRAW),t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,null),this._indexBuffer.count=6*e,super.Rebuild()}else super.Rebuild()}GetBatches(e,t,r,i){if(this.display&&e===$.device.RM_ADDITIVE&&this._vertexBuffer&&this._visibleItems.length){var n=new ae;n.world=i,n.renderMode=$.device.RM_ADDITIVE,n.spriteSet=this,n.perObjectData=r,t.Commit(n)}}GetBoosterGlowBatches(e,t,r,i,n,a){if(this.display&&e===$.device.RM_ADDITIVE&&this._vertexBuffer&&this._visibleItems.length){var o=new ae;o.boosterGlow=!0,o.world=i,o.boosterGain=n,o.warpIntensity=a,o.renderMode=$.device.RM_ADDITIVE,o.spriteSet=this,o.perObjectData=r,t.Commit(o)}}Render(e,t,r){if(this.useQuads)return this.RenderQuads(e,t,r);if(!(this.effect&&this.effect.IsGood()&&this._indexBuffer&&this._vertexBuffer))return!1;var i=$.device,n=i.gl;i.SetStandardStates(i.RM_ADDITIVE),n.bindBuffer(n.ARRAY_BUFFER,this._vertexBuffer),n.bindBuffer(n.ELEMENT_ARRAY_BUFFER,this._indexBuffer);for(var a=0;a<this.effect.GetPassCount(e);++a){if(this.effect.ApplyPass(e,a),!this._decl.SetDeclaration(i,this.effect.GetPassInput(e,a),52))return!1;i.ApplyShadowState(),n.drawElements(n.TRIANGLES,this._indexBuffer.count,n.UNSIGNED_SHORT,0)}return!0}RenderBoosterGlow(e,t,r,i){if(!(this.effect&&this.effect.IsGood()&&this._instanceBuffer&&this._vertexBuffer))return!1;var n=$.device,a=n.gl,o=te.EveObjectSet.global.vec3_0,s=this._visibleItems.length,u=new Float32Array(17*s);n.SetStandardStates(n.RM_ADDITIVE);for(var l=0,c=0;c<s;++c){var f=this._visibleItems[c];J.vec3.transformMat4(o,f.position,t),u[l++]=o[0],u[l++]=o[1],u[l++]=o[2],u[l++]=t[8],u[l++]=f.blinkPhase,u[l++]=t[9],u[l++]=f.minScale*this._worldSpriteScale,u[l++]=f.maxScale*this._worldSpriteScale,u[l++]=t[10],u[l++]=f.color[0],u[l++]=f.color[1],u[l++]=f.color[2],u[l++]=r,u[l++]=f.warpColor[0],u[l++]=f.warpColor[1],u[l++]=f.warpColor[2],u[l++]=i}a.bindBuffer(a.ARRAY_BUFFER,this._instanceBuffer),a.bufferData(a.ARRAY_BUFFER,u,a.DYNAMIC_DRAW);for(var d=0;d<this.effect.GetPassCount(e);++d){this.effect.ApplyPass(e,d);var h=this.effect.GetPassInput(e,d);a.bindBuffer(a.ARRAY_BUFFER,this._vertexBuffer),this._vdecl.SetPartialDeclaration(n,h,4),a.bindBuffer(a.ARRAY_BUFFER,this._instanceBuffer);var m=this._decl.SetPartialDeclaration(n,h,68,0,1);n.ApplyShadowState(),a.drawArraysInstanced(a.TRIANGLES,0,6,s),this._decl.ResetInstanceDivisors(n,m)}return!0}RenderQuads(e,t,r){if(!(this.effect&&this.effect.IsGood()&&this._instanceBuffer&&this._vertexBuffer))return!1;var i=$.device,n=i.gl,a=this._visibleItems.length,o=new Float32Array(17*a),s=te.EveObjectSet.global.vec3_0,u=r.vs.Get("JointMat");i.SetStandardStates(i.RM_ADDITIVE);for(var l=0,c=0;c<a;++c){var f=this._visibleItems[c];if(this.skinned){var d=12*f.boneIndex;s[0]=u[d]*f.position[0]+u[d+1]*f.position[1]+u[d+2]*f.position[2]+u[d+3],s[1]=u[d+4]*f.position[0]+u[d+5]*f.position[1]+u[d+6]*f.position[2]+u[d+7],s[2]=u[d+8]*f.position[0]+u[d+9]*f.position[1]+u[d+10]*f.position[2]+u[d+11],J.vec3.transformMat4(s,s,t)}else J.vec3.transformMat4(s,f.position,t);o[l++]=s[0],o[l++]=s[1],o[l++]=s[2],o[l++]=1,o[l++]=f.blinkPhase,o[l++]=f.blinkRate,o[l++]=f.minScale*this._worldSpriteScale,o[l++]=f.maxScale*this._worldSpriteScale,o[l++]=f.falloff,o[l++]=f.color[0],o[l++]=f.color[1],o[l++]=f.color[2],o[l++]=1,o[l++]=f.warpColor[0],o[l++]=f.warpColor[1],o[l++]=f.warpColor[2],o[l++]=1}n.bindBuffer(n.ARRAY_BUFFER,this._instanceBuffer),n.bufferData(n.ARRAY_BUFFER,o,n.DYNAMIC_DRAW);for(var h=0;h<this.effect.GetPassCount(e);++h){this.effect.ApplyPass(e,h);var m=this.effect.GetPassInput(e,h);n.bindBuffer(n.ARRAY_BUFFER,this._vertexBuffer),this._vdecl.SetPartialDeclaration(i,m,4),n.bindBuffer(n.ARRAY_BUFFER,this._instanceBuffer);var p=this._decl.SetPartialDeclaration(i,m,68,0,1);i.ApplyShadowState(),n.drawArraysInstanced(n.TRIANGLES,0,6,a),this._decl.ResetInstanceDivisors(i,p)}return!0}static from(t,r){var i=new e;if(t&&(Object(Z.assignIfExists)(i,t,["name","intensity","skinned","useQuads"]),t.effect&&(i.effect=re.Tw2Effect.from(t.effect)),t.items))for(var n=0;n<t.items.length;n++)i.CreateItem(t.items[n]);return r&&r.skipUpdate||i.Initialize(),i}},K.Item=oe,K.vertexDeclarations=[{usage:"TEXCOORD",usageIndex:5,elements:2},{usage:"POSITION",usageIndex:0,elements:3},{usage:"COLOR",usageIndex:0,elements:3},{usage:"TEXCOORD",usageIndex:0,elements:1},{usage:"TEXCOORD",usageIndex:1,elements:1},{usage:"TEXCOORD",usageIndex:2,elements:1},{usage:"TEXCOORD",usageIndex:3,elements:1},{usage:"TEXCOORD",usageIndex:4,elements:1}],K.quadVertexDeclarations=[{usage:"POSITION",usageIndex:0,elements:3},{usage:"TEXCOORD",usageIndex:0,elements:4},{usage:"TEXCOORD",usageIndex:1,elements:2},{usage:"COLOR",usageIndex:0,elements:4},{usage:"COLOR",usageIndex:1,elements:4}],H=ne((k=Q).prototype,"name",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),q=ne(k.prototype,"effect",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),W=ne(k.prototype,"intensity",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Y=ne(k.prototype,"skinned",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),X=ne(k.prototype,"useQuads",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ne(k.prototype,"sprites",[U],Object.getOwnPropertyDescriptor(k.prototype,"sprites"),k.prototype),V=k))||V)},"./eve/item/EveTurretSet.js":function(e,t,r){"use strict";r.r(t),r.d(t,"EveTurretSetItem",(function(){return Ke})),r.d(t,"EveTurretSet",(function(){return Qe}));var i,n,a,o,s,u,l,c,f,d,h,m,p,b,v,g,E,y,T,S,w,_,R,j,A,O,z,P,x,C,D,M,L,I,F,G,N,B,U,V,k,H,q,W,Y,X,K,Q,Z,$,J,ee,te,re,ie,ne,ae,oe,se,ue,le,ce,fe,de,he,me,pe,be,ve,ge,Ee,ye,Te,Se,we,_e,Re,je,Ae,Oe,ze,Pe,xe,Ce,De,Me,Le,Ie,Fe,Ge,Ne,Be=r("./utils/index.js"),Ue=r("./global/index.js"),Ve=r("./math/index.js"),ke=r("./core/index.js"),He=r("./eve/item/EveObjectSet.js");function qe(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function We(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var Ye,Xe,Ke=(i=Be.meta.ctor("EveTurretSetItem"),n=Be.meta.string,a=Be.meta.boolean,o=Be.meta.boolean,s=Be.meta.vector3,u=Be.meta.quaternion,i((b=class extends He.EveObjectSetItem{constructor(...e){super(...e),qe(this,"locatorName",f,this),qe(this,"updateFromLocator",d,this),qe(this,"canFireWhenHidden",h,this),qe(this,"position",m,this),qe(this,"rotation",p,this),this._bone=null,this._localTransform=Ve.mat4.create(),this._localRotation=Ve.quat.create()}Initialize(){this.UpdateValues()}OnValueChanged(){this._dirty=!0,this.UpdateTransforms()}UpdateTransforms(){Ve.mat4.fromRotationTranslation(this._localTransform,this.rotation,this.position),this._bone?(Ve.mat4.multiply(this._localTransform,this._bone.offsetTransform,this._localTransform),Ve.mat4.getRotation(this._localRotation,this._localTransform)):Ve.quat.copy(this._localRotation,this.rotation)}},f=We((c=b).prototype,"locatorName",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),d=We(c.prototype,"updateFromLocator",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),h=We(c.prototype,"canFireWhenHidden",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),m=We(c.prototype,"position",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Ve.vec3.create()}}),p=We(c.prototype,"rotation",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Ve.quat.create()}}),l=c))||l),Qe=(v=Be.meta.ctor("EveTurretSet",!0),g=Be.meta.stage(1),E=Be.meta.string,y=Be.meta.notImplemented,T=Be.meta.float,S=Be.meta.vector4,w=Be.meta.notImplemented,_=Be.meta.boolean,R=Be.meta.notImplemented,j=Be.meta.uint,A=Be.meta.path,O=Be.meta.path,z=Be.meta.notImplemented,P=Be.meta.float,x=Be.meta.notImplemented,C=Be.meta.boolean,D=Be.meta.string,M=Be.meta.notImplemented,L=Be.meta.uint,I=Be.meta.notImplemented,F=Be.meta.boolean,G=Be.meta.notImplemented,N=Be.meta.float,B=Be.meta.notImplemented,U=Be.meta.float,V=Be.meta.notImplemented,k=Be.meta.float,H=Be.meta.notImplemented,q=Be.meta.float,W=Be.meta.notImplemented,Y=Be.meta.float,X=Be.meta.notImplemented,K=Be.meta.float,Q=Be.meta.notImplemented,Z=Be.meta.float,$=Be.meta.struct("Tw2Effect"),J=Be.meta.notImplemented,ee=Be.meta.boolean,te=Be.meta.notImplemented,re=Be.meta.boolean,ie=Be.meta.notImplemented,ne=Be.meta.boolean,ae=Be.meta.struct(),oe=Be.meta.struct("Tw2GeometryResource"),se=Be.meta.todo("Make private"),ue=Be.meta.plain,le=Be.meta.todo("Update parent class and replace with direct value"),v(ce=g((Ne=Ge=class e extends He.EveObjectSet{constructor(...t){super(...t),qe(this,"name",de,this),qe(this,"bottomClipHeight",he,this),qe(this,"boundingSphere",me,this),qe(this,"chooseRandomLocator",pe,this),qe(this,"cyclingFireGroupCount",be,this),qe(this,"firingEffectResPath",ve,this),qe(this,"geometryResPath",ge,this),qe(this,"impactSize",Ee,this),qe(this,"laserMissBehaviour",ye,this),qe(this,"locatorName",Te,this),qe(this,"maxCyclingFirePos",Se,this),qe(this,"projectileMissBehaviour",we,this),qe(this,"sysBoneHeight",_e,this),qe(this,"sysBonePitch01Factor",Re,this),qe(this,"sysBonePitch02Factor",je,this),qe(this,"sysBonePitchFactor",Ae,this),qe(this,"sysBonePitchMax",Oe,this),qe(this,"sysBonePitchMin",ze,this),qe(this,"sysBonePitchOffset",Pe,this),qe(this,"turretEffect",xe,this),qe(this,"updatePitchPose",Ce,this),qe(this,"useDynamicBounds",De,this),qe(this,"useRandomFiringDelay",Me,this),qe(this,"firingEffect",Le,this),qe(this,"geometryResource",Ie,this),qe(this,"visible",Fe,this),this._activeAnimation=new ke.Tw2AnimationController,this._activeTurret=-1,this._currentCyclingFiresPos=0,this._fireCallback=null,this._fireCallbackPending=!1,this._hasCyclingFiringPos=!1,this._inactiveAnimation=new ke.Tw2AnimationController,this._locatorDirty=!0,this._parentTransform=Ve.mat4.create(),this._perObjectDataActive=ke.Tw2PerObjectData.from(e.perObjectData),this._perObjectDataInactive=ke.Tw2PerObjectData.from(e.perObjectData),this._state=e.State.IDLE,this._targetPosition=Ve.vec3.create(),this._recheckTimeLeft=0}get turrets(){return this.items}set turrets(e){this.items=e}Initialize(){this.turretEffect&&""!==this.geometryResPath&&(this.geometryResource=Ue.resMan.GetResource(this.geometryResPath,e=>this.OnResPrepared(e)),this._activeAnimation.SetGeometryResource(this.geometryResource),this._inactiveAnimation.SetGeometryResource(this.geometryResource)),""!==this.firingEffectResPath&&Ue.resMan.GetObject(this.firingEffectResPath,e=>this.firingEffect=e),this.Rebuild()}InitializeFiringEffect(){if(this.firingEffect&&this.geometryResource&&this.geometryResource.models.length)for(var t=this.geometryResource.models[0],r=0;r<this.firingEffect.GetPerMuzzleEffectCount();++r)this.firingEffect.SetMuzzleBoneID(r,t.FindBoneByName(e.positionBoneSkeletonNames[r]))}GetResources(e=[]){return this.turretEffect&&this.turretEffect.GetResources(e),this.firingEffect&&this.firingEffect.GetResources(e),this.geometryResource&&!e.includes(this.geometryResource)&&e.push(this.geometryResource),e}OnTurretFired(e){this._fireCallback=e}SetTargetPosition(e){Ve.vec3.copy(this._targetPosition,e)}GetClosestTurret(){for(var t=-1,r=-2,i=e.global,n=i.vec3_0,a=i.vec4_0,o=i.vec4_1,s=0;s<this.items.length;++s){var u=this.items[s];if(u.display||u.canFireWhenHidden){o[0]=u._localTransform[12],o[1]=u._localTransform[13],o[2]=u._localTransform[14],o[3]=1,Ve.vec4.transformMat4(o,o,this._parentTransform),Ve.vec3.subtract(n,this._targetPosition,o),Ve.vec3.normalize(n,n),Ve.vec4.set(a,0,1,0,0),Ve.vec4.transformMat4(a,a,u._localTransform),Ve.vec4.transformMat4(a,a,this._parentTransform);var l=Ve.vec3.dot(a,n);l>r&&(t=this.items.indexOf(u),r=l)}}return t}EnterStateDeactive(){this._state!==e.State.INACTIVE&&this._state!==e.State.PACKING&&(this.turretEffect?(this._activeAnimation.StopAllAnimations(),this._inactiveAnimation.StopAllAnimations(),this._activeAnimation.PlayAnimation("Pack",!1,()=>{this._state=e.State.INACTIVE,this._activeAnimation.PlayAnimation("Inactive",!0)}),this._inactiveAnimation.PlayAnimation("Pack",!1,()=>{this._state=e.State.INACTIVE,this._inactiveAnimation.PlayAnimation("Inactive",!0)}),this._state=e.State.PACKING):this._state=e.State.INACTIVE,this._activeTurret=-1,this.DoStopFiring())}EnterStateIdle(){this._state!==e.State.IDLE&&this._state!==e.State.UNPACKING&&(this.turretEffect?(this._activeAnimation.StopAllAnimations(),this._inactiveAnimation.StopAllAnimations(),this._state===e.State.FIRING?(this._activeAnimation.PlayAnimation("Active",!0),this._inactiveAnimation.PlayAnimation("Active",!0)):(this._activeAnimation.PlayAnimation("Deploy",!1,()=>{this._state=e.State.IDLE,this._activeAnimation.PlayAnimation("Active",!0)}),this._inactiveAnimation.PlayAnimation("Deploy",!1,()=>{this._state=e.State.IDLE,this._inactiveAnimation.PlayAnimation("Active",!0)})),this._state=e.State.UNPACKING):this._state=e.State.IDLE,this._activeTurret=-1,this.DoStopFiring())}EnterStateFiring(){if(!this.turretEffect||this._state===e.State.FIRING)return this.DoStartFiring(),void(this.turretEffect&&this._activeAnimation.PlayAnimation("Fire",!1,()=>{this._activeAnimation.PlayAnimation("Active",!0)}));this._activeAnimation.StopAllAnimations(),this._inactiveAnimation.StopAllAnimations(),this._state===e.State.INACTIVE?(this._activeAnimation.PlayAnimation("Deploy",!1,()=>{this.DoStartFiring(),this._activeAnimation.PlayAnimation("Fire",!1,()=>{this._activeAnimation.PlayAnimation("Active",!0)})}),this._inactiveAnimation.PlayAnimation("Deploy",!1,()=>{this._inactiveAnimation.PlayAnimation("Active",!0)}),this._state=e.State.UNPACKING):(this.DoStartFiring(),this._activeAnimation.PlayAnimation("Fire",!1,()=>{this._activeAnimation.PlayAnimation("Active",!0)}),this._inactiveAnimation.PlayAnimation("Active",!0))}OnResPrepared(t){this.geometryResource=t;for(var r=ke.Tw2VertexElement.from({usage:"TEXCOORD",usageIndex:1,elements:2}),i=this.geometryResource.meshes,n=this._activeAnimation,a=this._inactiveAnimation,o=0;o<i.length;++o)i[o].declaration.elements.push(r),i[o].declaration.RebuildHash();switch(this._state){case e.State.INACTIVE:n.PlayAnimation("Inactive",!0),a.PlayAnimation("Inactive",!0);break;case e.State.IDLE:n.PlayAnimation("Active",!0),a.PlayAnimation("Active",!0);break;case e.State.FIRING:n.PlayAnimation("Fire",!1,()=>n.PlayAnimation("Active",!0)),a.PlayAnimation("Active",!0);break;case e.State.PACKING:this.EnterStateIdle();break;case e.State.UNPACKING:this.EnterStateDeactive()}}FindItemByLocatorName(e){for(var t=0;t<this.items.length;t++)if(this.items[t].locatorName===e)return this.items[t];return null}UpdateItemsFromLocators(t){for(var r=e.global,i=Array.from(this.items),n=r.mat4_0,a=0;a<t.length;a++){var{name:o,transform:s,bone:u=null}=t[a],l=this.FindItemByLocatorName(o);l?i.splice(i.indexOf(l),1):l=this.CreateItem({name:o,locatorName:o,updateFromLocator:!0}),l.updateFromLocator&&(l._bone=u,Ve.mat4.copy(n,s),Ve.vec3.normalize(n.subarray(0,3),n.subarray(0,3)),Ve.vec3.normalize(n.subarray(4,7),n.subarray(4,7)),Ve.vec3.normalize(n.subarray(8,11),n.subarray(8,11)),Ve.mat4.getRotation(l.rotation,n),Ve.mat4.getTranslation(l.position,n),l.UpdateValues())}for(var c=0;c<i.length;c++)i[c].locatorName&&(this.RemoveItem(i[c]),c--);this.RebuildItemsFromLocators(),this._dirty&&this.Rebuild()}RebuildItemsFromLocators(){this._locatorDirty=!0}UpdateViewDependentData(e){Ve.mat4.copy(this._parentTransform,e),this.firingEffect&&this.firingEffect.UpdateViewDependentData(e)}Rebuild(){this.RebuildItems(),this._dirty=!1,super.Rebuild()}Update(t){if(super.Update(t),this.turretEffect&&(this._activeAnimation.Update(t),this._inactiveAnimation.Update(t)),this.firingEffect&&this._visibleItems.length){if(-1!==this._activeTurret){this.firingEffect.isLoopFiring&&this._state===e.State.FIRING&&(this._recheckTimeLeft-=t,this._recheckTimeLeft<=0&&this.DoStartFiring());var r=this.items[this._activeTurret];if(this._activeAnimation.models.length)for(var i=this._activeAnimation.models[0].bonesByName,n=0;n<this.firingEffect.GetPerMuzzleEffectCount();++n){var a=i[e.positionBoneSkeletonNames[n]].worldTransform,o=this.firingEffect.GetMuzzleTransform(n);Ve.mat4.multiply(o,r._localTransform,a),Ve.mat4.multiply(o,this._parentTransform,o)}else for(var s=0;s<this.firingEffect.GetPerMuzzleEffectCount();++s)Ve.mat4.multiply(this.firingEffect.GetMuzzleTransform(s),this._parentTransform,r._localTransform);if(this._fireCallbackPending){if(this._fireCallback){for(var u=[],l=0;l<this.firingEffect.GetPerMuzzleEffectCount();++l)u.push(this.firingEffect.GetMuzzleTransform(l));this._fireCallback(this,u,r)}this._fireCallbackPending=!1,this.EmitEvent("fired",{turretSet:this,turret:r})}}this.firingEffect.SetEndPosition(this._targetPosition),this.firingEffect.Update(t)}}GetBatches(t,r,i,n){if(this.turretEffect&&this.geometryResource&&this.display&&this._visibleItems.length){if(t===Ue.device.RM_OPAQUE&&this.visible.turrets){var a=this._inactiveAnimation.GetBoneMatrices(0);if(0!==a.length){this.UpdatePerObjectData(this._perObjectDataInactive.vs,a),this._perObjectDataInactive.ps=i.ps;var o=new ke.Tw2ForwardingRenderBatch;if(o.renderMode=t,o.renderActive=!1,o.perObjectData=this._perObjectDataInactive,o.geometryProvider=this,r.Commit(o),this._state===e.State.FIRING){var s=this._activeAnimation.GetBoneMatrices(0);if(0!==s.length){this.UpdatePerObjectData(this._perObjectDataActive.vs,s,!0),this._perObjectDataActive.ps=i.ps;var u=new ke.Tw2ForwardingRenderBatch;u.renderActive=!0,u.perObjectData=this._perObjectDataActive,u.geometryProvider=this,r.Commit(u)}}}}n&&this.firingEffect&&this.visible.firingEffects&&this.firingEffect.GetBatches(t,r,i)}}GetFiringEffectBatches(e,t,r){this.firingEffect&&this.display&&this._visibleItems.length&&this.visible.firingEffects&&this.firingEffect.GetBatches(e,t,r)}Render(t,r){if(!this.turretEffect||!this.turretEffect.IsGood()||!this._visibleItems.length)return!1;for(var i=0,n=function(e){Ue.device.gl.disableVertexAttribArray(e.location),Ue.device.gl.vertexAttrib2f(e.location,i,i)},a=0;a<this.geometryResource.meshes.length;++a){this.geometryResource.meshes[a].declaration.FindUsage(ke.Tw2VertexElement.Type.TEXCOORD,1).customSetter=n}for(var o=0;i<this.items.length;++i)if(this.items[i].display){var s=this._state===e.State.FIRING&&i===this._activeTurret;t.renderActive===s&&(this.geometryResource.RenderAreas(0,0,1,this.turretEffect,r),o++)}return!!o}UpdatePerObjectData(t,r,i){Ve.mat4.transpose(t.Get("shipMatrix"),this._parentTransform);var n=r.length/12;t.Get("turretSetData")[0]=n,t.Get("baseCutoffData")[0]=this.bottomClipHeight;for(var a=t.Get("turretTranslation"),o=t.Get("turretRotation"),s=t.Get("turretPoseTransAndRot"),u=0;u<this._visibleItems.length;++u){for(var l=this._visibleItems[u],c=0;c<n;++c)s[2*(u*n+c)*4]=r[12*c+3],s[2*(u*n+c)*4+1]=r[12*c+7],s[2*(u*n+c)*4+2]=r[12*c+11],s[2*(u*n+c)*4+3]=1,e.mat3x4toquat(r,c,s,2*(u*n+c)+1);l._bone&&!i&&l.UpdateTransforms(),a[4*u]=l._localTransform[12],a[4*u+1]=l._localTransform[13],a[4*u+2]=l._localTransform[14],a[4*u+3]=1,o[4*u]=l.rotation[0],o[4*u+1]=l.rotation[1],o[4*u+2]=l.rotation[2],o[4*u+3]=l.rotation[3]}}DoStartFiring(){this._hasCyclingFiringPos&&(this._currentCyclingFiresPos=1-this._currentCyclingFiresPos),this.firingEffect&&this.firingEffect.PrepareFiring(0,this._hasCyclingFiringPos?this._currentCyclingFiresPos:-1),this._activeTurret=this.GetClosestTurret(),this._state=e.State.FIRING,this._recheckTimeLeft=2,this._fireCallbackPending=!0}DoStopFiring(){this.firingEffect&&this.firingEffect.StopFiring()}},Ge.Item=Ke,Ge.State={INACTIVE:0,IDLE:1,FIRING:2,PACKING:2,UNPACKING:4},Ge.worldNames=["turretWorld0","turretWorld1","turretWorld2"],Ge.positionBoneSkeletonNames=["Pos_Fire01","Pos_Fire02","Pos_Fire03","Pos_Fire04","Pos_Fire05","Pos_Fire06","Pos_Fire07","Pos_Fire08"],Ge.perObjectData={vs:[["baseCutoffData",4],["turretSetData",4],["shipMatrix",16],["turretTranslation",96],["turretRotation",96],["turretPoseTransAndRot",576]]},Ge.mat3x4toquat=function(e,t,r,i){Ye||(Ye=Ve.mat4.create(),Xe=Ve.quat.create()),t*=12,i*=4,Ye[0]=e[t],Ye[1]=e[t+4],Ye[2]=e[t+8],Ye[3]=0,Ye[4]=e[t+1],Ye[5]=e[t+5],Ye[6]=e[t+9],Ye[7]=0,Ye[8]=e[t+2],Ye[9]=e[t+6],Ye[10]=e[t+10],Ye[11]=0,Ye[12]=e[t+3],Ye[13]=e[t+7],Ye[14]=e[t+11],Ye[15]=1,Ve.mat4.getRotation(Xe,Ye),r[i]=Xe[0],r[i+1]=Xe[1],r[i+2]=Xe[2],r[i+3]=Xe[3]},de=We((fe=Ne).prototype,"name",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),he=We(fe.prototype,"bottomClipHeight",[y,T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),me=We(fe.prototype,"boundingSphere",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Ve.vec4.create()}}),pe=We(fe.prototype,"chooseRandomLocator",[w,_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),be=We(fe.prototype,"cyclingFireGroupCount",[R,j],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),ve=We(fe.prototype,"firingEffectResPath",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),ge=We(fe.prototype,"geometryResPath",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),Ee=We(fe.prototype,"impactSize",[z,P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),ye=We(fe.prototype,"laserMissBehaviour",[x,C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Te=We(fe.prototype,"locatorName",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),Se=We(fe.prototype,"maxCyclingFirePos",[M,L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),we=We(fe.prototype,"projectileMissBehaviour",[I,F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),_e=We(fe.prototype,"sysBoneHeight",[G,N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Re=We(fe.prototype,"sysBonePitch01Factor",[B,U],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),je=We(fe.prototype,"sysBonePitch02Factor",[V,k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Ae=We(fe.prototype,"sysBonePitchFactor",[H,q],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Oe=We(fe.prototype,"sysBonePitchMax",[W,Y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),ze=We(fe.prototype,"sysBonePitchMin",[X,K],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Pe=We(fe.prototype,"sysBonePitchOffset",[Q,Z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),xe=We(fe.prototype,"turretEffect",[$],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ce=We(fe.prototype,"updatePitchPose",[J,ee],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),De=We(fe.prototype,"useDynamicBounds",[te,re],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Me=We(fe.prototype,"useRandomFiringDelay",[ie,ne],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Le=We(fe.prototype,"firingEffect",[ae],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ie=We(fe.prototype,"geometryResource",[oe,se],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Fe=We(fe.prototype,"visible",[ue],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{turrets:!0,firingEffects:!0}}}),We(fe.prototype,"turrets",[le],Object.getOwnPropertyDescriptor(fe.prototype,"turrets"),fe.prototype),ce=fe))||ce)||ce)},"./eve/item/index.js":function(e,t,r){"use strict";r.r(t);var i=r("./eve/item/EveBoosterSet.js");r.d(t,"EveBoosterBatch",(function(){return i.EveBoosterBatch})),r.d(t,"EveBoosterSetItem",(function(){return i.EveBoosterSetItem})),r.d(t,"EveBoosterSet",(function(){return i.EveBoosterSet}));var n=r("./eve/item/EveCurveLineSet.js");r.d(t,"EveCurveLineSetItem",(function(){return n.EveCurveLineSetItem})),r.d(t,"EveCurveLineSet",(function(){return n.EveCurveLineSet}));var a=r("./eve/item/EveCustomMask.js");r.d(t,"EveCustomMask",(function(){return a.EveCustomMask}));var o=r("./eve/item/EveLocator2.js");r.d(t,"EveLocator2",(function(){return o.EveLocator2})),r.d(t,"EveLocator",(function(){return o.EveLocator}));var s=r("./eve/item/EveObjectSet.js");r.d(t,"EveObjectSetItem",(function(){return s.EveObjectSetItem})),r.d(t,"EveObjectSet",(function(){return s.EveObjectSet}));var u=r("./eve/item/EvePlaneSet.js");r.d(t,"EvePlaneSetItem",(function(){return u.EvePlaneSetItem})),r.d(t,"EvePlaneSet",(function(){return u.EvePlaneSet}));var l=r("./eve/item/EveSpaceObjectDecal.js");r.d(t,"EveSpaceObjectDecal",(function(){return l.EveSpaceObjectDecal}));var c=r("./eve/item/EveSpotlightSet.js");r.d(t,"EveSpotlightSetItem",(function(){return c.EveSpotlightSetItem})),r.d(t,"EveSpotlightSet",(function(){return c.EveSpotlightSet}));var f=r("./eve/item/EveSpriteSet.js");r.d(t,"EveSpriteSetItem",(function(){return f.EveSpriteSetItem})),r.d(t,"EveSpriteSet",(function(){return f.EveSpriteSet}));var d=r("./eve/item/EveTurretSet.js");r.d(t,"EveTurretSetItem",(function(){return d.EveTurretSetItem})),r.d(t,"EveTurretSet",(function(){return d.EveTurretSet}))},"./eve/object/EveEffectRoot.js":function(e,t,r){"use strict";r.r(t),r.d(t,"EveEffectRoot",(function(){return I}));var i,n,a,o,s,u,l,c,f,d,h,m,p,b,v,g,E,y,T,S,w,_,R,j,A,O,z=r("./utils/index.js"),P=r("./math/index.js"),x=r("./core/index.js"),C=r("./eve/object/EveObject.js"),D=r("./eve/object/EveSpaceObject.js");function M(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function L(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var I=(i=z.meta.ctor("EveEffectRoot"),n=z.meta.todo("Implement LOD"),a=z.meta.list("Tw2CurveSet"),o=z.meta.list("EveMeshOverlayEffect"),s=z.meta.float,u=z.meta.vector3,l=z.meta.quaternion,c=z.meta.vector3,f=z.meta.matrix4,d=z.meta.isPrivate,h=z.meta.vector3,m=z.meta.isPrivate,p=z.meta.float,b=z.meta.isPrivate,i(v=n((O=class extends C.EveObject{constructor(...e){super(...e),M(this,"curveSets",E,this),M(this,"effectChildren",y,this),M(this,"duration",T,this),M(this,"scaling",S,this),M(this,"rotation",w,this),M(this,"translation",_,this),M(this,"localTransform",R,this),M(this,"boundingSphereCenter",j,this),M(this,"boundingSphereRadius",A,this),this._worldTransform=P.mat4.create(),this._perObjectData=x.Tw2PerObjectData.from(D.EveSpaceObject.perObjectData)}SetTransform(e){P.mat4.getRotation(this.rotation,e),P.mat4.getScaling(this.scaling,e),P.mat4.getTranslation(this.translation,e)}GetResources(e=[]){for(var t=0;t<this.effectChildren.length;++t)this.effectChildren[t].GetResources(e);return e}Start(){for(var e=0;e<this.curveSets.length;++e)this.curveSets[e].Play()}Stop(){for(var e=0;e<this.curveSets.length;++e)this.curveSets[e].Stop()}UpdateViewDependentData(e){P.mat4.fromRotationTranslationScale(this.localTransform,this.rotation,this.translation,this.scaling),e?P.mat4.multiply(this._worldTransform,e,this.localTransform):P.mat4.copy(this._worldTransform,this.localTransform)}Update(e){for(var t=0;t<this.curveSets.length;++t)this.curveSets[t].Update(e);for(var r=0;r<this.effectChildren.length;++r)this.effectChildren[r].Update(e,this._worldTransform)}GetBatches(e,t){if(this.display)for(var r=0;r<this.effectChildren.length;++r)this.effectChildren[r].GetBatches(e,t,this._perObjectData)}},E=L((g=O).prototype,"curveSets",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),y=L(g.prototype,"effectChildren",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),T=L(g.prototype,"duration",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),S=L(g.prototype,"scaling",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return P.vec3.fromValues(1,1,1)}}),w=L(g.prototype,"rotation",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return P.quat.create()}}),_=L(g.prototype,"translation",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return P.vec3.create()}}),R=L(g.prototype,"localTransform",[f,d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return P.mat4.create()}}),j=L(g.prototype,"boundingSphereCenter",[h,m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return P.vec3.create()}}),A=L(g.prototype,"boundingSphereRadius",[p,b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),v=g))||v)||v)},"./eve/object/EveMissile.js":function(e,t,r){"use strict";r.r(t),r.d(t,"EveMissileWarhead",(function(){return pe})),r.d(t,"EveMissile",(function(){return be}));var i,n,a,o,s,u,l,c,f,d,h,m,p,b,v,g,E,y,T,S,w,_,R,j,A,O,z,P,x,C,D,M,L,I,F,G,N,B,U,V,k,H,q,W,Y,X,K,Q,Z,$,J,ee,te,re,ie,ne,ae,oe,se,ue,le=r("./utils/index.js"),ce=r("./math/index.js"),fe=r("./core/index.js"),de=r("./eve/object/EveObject.js");function he(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function me(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var pe=(i=le.meta.ctor("EveMissileWarhead"),n=le.meta.stage(2),a=le.meta.notImplemented,o=le.meta.float,s=le.meta.float,u=le.meta.notImplemented,l=le.meta.float,c=le.meta.float,f=le.meta.float,d=le.meta.struct("Tw2Mesh"),h=le.meta.list("Tw2ParticleEmitter"),m=le.meta.notImplemented,p=le.meta.float,b=le.meta.notImplemented,v=le.meta.float,g=le.meta.struct("EveSpriteSet"),E=le.meta.float,y=le.meta.notImplemented,T=le.meta.float,S=le.meta.notImplemented,w=le.meta.float,i(_=n((B=N=class e extends de.EveObject{constructor(...t){super(...t),he(this,"acceleration",j,this),he(this,"durationEjectPhase",A,this),he(this,"impactDuration",O,this),he(this,"impactSize",z,this),he(this,"maxExplosionDistance",P,this),he(this,"mesh",x,this),he(this,"particleEmitters",C,this),he(this,"pathOffsetNoiseScale",D,this),he(this,"pathOffsetNoiseSpeed",M,this),he(this,"spriteSet",L,this),he(this,"startEjectVelocity",I,this),he(this,"warheadLength",F,this),he(this,"warheadRadius",G,this),this._perObjectData=fe.Tw2PerObjectData.from(e.perObjectData),this._state=e.State.READY,this._time=0,this._transform=ce.mat4.create(),this._velocity=ce.vec3.create()}Initialize(){this.spriteSet&&this.spriteSet.UseQuads(!0)}GetResources(e=[]){return this.mesh&&this.mesh.GetResources(e),this.spriteSet&&this.spriteSet.GetResources(e),e}Launch(t){ce.mat4.copy(this._transform,t),this._velocity[0]=t[8]*this.startEjectVelocity,this._velocity[1]=t[9]*this.startEjectVelocity,this._velocity[2]=t[10]*this.startEjectVelocity,this._time=0,this._state=e.State.IN_FLIGHT}UpdateViewDependentData(){this.display&&this._state!==e.State.DEAD&&(ce.mat4.transpose(this._perObjectData.vs.Get("WorldMat"),this._transform),ce.mat4.transpose(this._perObjectData.vs.Get("WorldMatLast"),this._transform))}Update(t,r,i){if(this._state===e.State.IN_FLIGHT){var n=de.EveObject.global,a=ce.mat4.getTranslation(n.vec3_0,this._transform),o=n.vec3_1,s=n.vec3_2,u=n.vec3_3;this._time+=t,this._time>this.durationEjectPhase?(ce.vec3.subtract(a,this._velocity,r),ce.vec3.lerp(a,a,r,1-Math.exp(.9999*-t)),ce.mat4.setTranslation(this._transform,a),ce.vec3.subtract(o,i,a),ce.vec3.length(o)<this.maxExplosionDistance&&(console.log(a,o),this._state=e.State.DEAD)):(ce.vec3.scale(o,this._velocity,t),this._transform[12]+=o[0],this._transform[13]+=o[1],this._transform[14]+=o[2]);var l=ce.vec3.normalize(o,this._velocity);Math.abs(l[0])<.99?ce.vec3.cross(s,l,[1,0,0]):ce.vec3.cross(s,l,[0,1,0]),ce.vec3.normalize(s,s),ce.vec3.cross(u,s,l),this._transform[0]=s[0],this._transform[1]=s[1],this._transform[2]=s[2],this._transform[4]=u[0],this._transform[5]=u[1],this._transform[6]=u[2],this._transform[8]=l[0],this._transform[9]=l[1],this._transform[10]=l[2]}this.spriteSet&&this.spriteSet.Update(t)}GetBatches(t,r){this.display&&this.mesh&&this._state!==e.State.DEAD&&(this.mesh&&this.mesh.GetBatches(t,r,this._perObjectData),this.spriteSet&&this.spriteSet.GetBatches(t,r,this._perObjectData,this._transform))}},N.perObjectData={vs:[["WorldMat",16],["WorldMatLast",16],["Shipdata",[0,1,0,-10]],["Clipdata1",4],["JointMat",696]],ps:[["Shipdata",[0,1,0,1]],["Clipdata1",4],["Clipdata2",4]]},N.State={READY:0,IN_FLIGHT:1,DEAD:2},j=me((R=B).prototype,"acceleration",[a,o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),A=me(R.prototype,"durationEjectPhase",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),O=me(R.prototype,"impactDuration",[u,l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.6}}),z=me(R.prototype,"impactSize",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),P=me(R.prototype,"maxExplosionDistance",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 40}}),x=me(R.prototype,"mesh",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),C=me(R.prototype,"particleEmitters",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),D=me(R.prototype,"pathOffsetNoiseScale",[m,p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),M=me(R.prototype,"pathOffsetNoiseSpeed",[b,v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),L=me(R.prototype,"spriteSet",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),I=me(R.prototype,"startEjectVelocity",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),F=me(R.prototype,"warheadLength",[y,T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),G=me(R.prototype,"warheadRadius",[S,w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),_=R))||_)||_),be=(U=le.meta.ctor("EveMissile"),V=le.meta.stage(2),k=le.meta.vector3,H=le.meta.isPrivate,q=le.meta.notImplemented,W=le.meta.float,Y=le.meta.isPrivate,X=le.meta.notImplemented,K=le.meta.struct("Tr2TranslationAdapter"),Q=le.meta.list("EveMissileWarhead"),Z=le.meta.list("Tw2CurveSet"),$=le.meta.todo("Is this deprecated?"),J=le.meta.float,U(ee=V((ue=class extends de.EveObject{constructor(...e){super(...e),he(this,"boundingSphereCenter",re,this),he(this,"boundingSphereRadius",ie,this),he(this,"modelTranslationCurve",ne,this),he(this,"warheads",ae,this),he(this,"curveSets",oe,this),he(this,"speed",se,this),this._position=ce.vec3.create(),this._target=ce.vec3.create(),this._warheadExplosionCallback=null,this._missileFinishedCallback=null}OnWarheadExplosion(e){this._warheadExplosionCallback=e}OnMissileFinished(e){this._missileFinishedCallback=e}Launch(e,t,r){if(ce.vec3.copy(this._position,e),ce.vec3.copy(this._target,r),this.warheads.length>t.length)this.warheads.splice(t.length);else for(;this.warheads.length<t.length;)this.warheads.push(this.constructor.CloneWarhead(this.warheads[0]));for(var i=0;i<this.warheads.length;++i)this.warheads[0].Launch(t[i])}GetResources(e=[]){for(var t=0;t<this.warheads.length;++t)this.warheads[t].GetResources(e);return e}UpdateViewDependentData(){for(var e=0;e<this.warheads.length;++e)this.warheads[e].UpdateViewDependentData()}Update(e){var t=ce.vec3.subtract(de.EveObject.global.vec3_0,this._target,this._position),r=ce.vec3.length(t);r>.1&&(ce.vec3.normalize(t,t),ce.vec3.scale(t,t,Math.min(e*this.speed,r)),ce.vec3.add(this._position,this._position,t));for(var i=0;i<this.curveSets.length;++i)this.curveSets[i].Update(e);for(var n=!1,a=0;a<this.warheads.length;++a){var o=this.warheads[a]._state;this.warheads[a].Update(e,this._position,this._target),o!==pe.State.DEAD&&this.warheads[a]._state===pe.State.DEAD&&(this._warheadExplosionCallback&&this._warheadExplosionCallback(this.warheads[a]),n=!0)}if(n&&this._missileFinishedCallback){for(var s=0;s<this.warheads.length;++s)if(this.warheads[s]._state!==pe.State.DEAD)return;this._missileFinishedCallback(this)}}GetBatches(e,t){if(this.display)for(var r=0;r<this.warheads.length;++r)this.warheads[r].GetBatches(e,t)}static CloneWarhead(e){var t=new pe;return t.mesh=e.mesh,t.spriteSet=e.spriteSet,t}},re=me((te=ue).prototype,"boundingSphereCenter",[k,H],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return ce.vec3.create()}}),ie=me(te.prototype,"boundingSphereRadius",[q,W,Y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),ne=me(te.prototype,"modelTranslationCurve",[X,K],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ae=me(te.prototype,"warheads",[Q],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),oe=me(te.prototype,"curveSets",[Z,$],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),se=me(te.prototype,"speed",[J],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),ee=te))||ee)||ee)},"./eve/object/EveObject.js":function(e,t,r){"use strict";r.r(t),r.d(t,"EveObject",(function(){return g}));var i,n,a,o,s,u,l,c,f,d,h=r("./utils/index.js"),m=r("./global/index.js"),p=r("./math/index.js");function b(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function v(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var g=(i=h.meta.string,n=h.meta.boolean,a=h.meta.abstract,o=h.meta.abstract,s=h.meta.abstract,d=f=class extends h.meta.Model{constructor(...e){super(...e),b(this,"name",l,this),b(this,"display",c,this)}GetResources(e=[]){}Update(e){}GetBatches(e,t){}},f.wrappedType=m.WrappedType.SPACE_OBJECT,f.global={vec3_0:p.vec3.create(),vec3_1:p.vec3.create(),vec3_2:p.vec3.create(),vec3_3:p.vec3.create(),vec3_4:p.vec3.create(),vec3_5:p.vec3.create(),vec3_6:p.vec3.create(),vec3_7:p.vec3.create(),mat4_0:p.mat4.create(),mat4_1:p.mat4.create(),mat4_2:p.mat4.create(),mat4_ID:p.mat4.create()},l=v((u=d).prototype,"name",[i],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),c=v(u.prototype,"display",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),v(u.prototype,"GetResources",[a],Object.getOwnPropertyDescriptor(u.prototype,"GetResources"),u.prototype),v(u.prototype,"Update",[o],Object.getOwnPropertyDescriptor(u.prototype,"Update"),u.prototype),v(u.prototype,"GetBatches",[s],Object.getOwnPropertyDescriptor(u.prototype,"GetBatches"),u.prototype),u)},"./eve/object/EvePlanet.js":function(e,t,r){"use strict";r.r(t),r.d(t,"EvePlanet",(function(){return C}));var i,n,a,o,s,u,l,c,f,d,h,m,p,b,v,g,E,y,T,S,w,_,R=r("./utils/index.js"),j=r("./global/index.js"),A=(r("./math/index.js"),r("./core/index.js")),O=r("./eve/object/EveTransform.js"),z=r("./eve/object/EveObject.js");function P(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function x(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var C=(i=R.meta.ctor("EvePlanet"),n=R.meta.struct("EveTransform"),a=R.meta.struct("Tw2Effect"),o=R.meta.struct("Tw2RenderTarget"),s=R.meta.struct("EveTransform"),u=R.meta.uint,l=R.meta.isPrivate,c=R.meta.path,f=R.meta.isPrivate,d=R.meta.path,h=R.meta.isPrivate,i((_=w=class e extends z.EveObject{constructor(...e){super(...e),P(this,"highDetail",b,this),P(this,"effectHeight",v,this),P(this,"heightMap",g,this),P(this,"zOnlyModel",E,this),P(this,"itemID",y,this),P(this,"heightMapResPath1",T,this),P(this,"heightMapResPath2",S,this),this._heightDirty=!1,this._lockedResources=[],this._watchedResources=[],this._lod=3,this._useLOD=!0,this._atmosphere=null,this._planet=null}Rebuild(){this._planet&&(this._heightDirty=!0,e.MeshLoaded(this,this._planet))}Create(t={},r){var{name:i="",itemID:n=0,resPath:a,atmospherePath:o,heightMap1:s,heightMap2:u}=t;this.name=i,this.itemID=n,this.heightMapResPath1=s,this.heightMapResPath2=u,this.highDetail.children=[],this._heightDirty=!0;var l=1;function c(){--l<1&&r&&r()}a&&l++,o&&l++,a&&j.resMan.GetObject(a,t=>{t.resPath=a,this._planet=t,e.MeshLoaded(this,t),c()}),o&&j.resMan.GetObject(o,e=>{e.resPath=o,this._atmosphere=e,this.highDetail.children.push(e),c()}),j.resMan.GetObject("res:/dx9/model/worldobject/planet/planetzonly.red",e=>{this.zOnlyModel=e,c()})}ResetLod(){this._lod=3}UpdateLod(e){var{scaling:t,translation:r}=this.highDetail;this._lod=this._useLOD&&e.IsSphereVisible(r,t[0])?3:0}UseLOD(e){this._useLOD=e}SetTransform(e){this.highDetail.SetTransform(e)}GetResources(e=[]){return this.highDetail&&this.highDetail.GetResources(e),this.effectHeight&&this.effectHeight.GetResources(e),e}GetPlanetResources(e,t,r){if(!t.includes(e))if(t.push(e),e&&e.constructor.__isResource)r.push(e);else for(var i in e)e.hasOwnProperty(i)&&Object(R.isObjectLike)(e[i])&&this.GetPlanetResources(e[i],t,r)}UpdateViewDependentData(e){this.highDetail.UpdateViewDependentData(e),this.zOnlyModel&&(this.zOnlyModel.translation=this.highDetail.translation,this.zOnlyModel.scaling=this.highDetail.scaling,this.zOnlyModel.UpdateViewDependentData(e))}Update(e){this.display&&this._useLOD&&this.highDetail.Update(e)}CreateHeightMap(){this.heightMap.Set(),j.device.SetStandardStates(j.device.RM_FULLSCREEN),j.device.gl.clearColor(0,0,0,0),j.device.gl.clear(j.device.gl.COLOR_BUFFER_BIT),j.device.RenderFullScreenQuad(this.effectHeight),this.heightMap.Unset()}GetBatches(e,t){if(this.display&&this._heightDirty&&this._watchedResources.length&&""!==this.heightMapResPath1){for(var r=0;r<this._watchedResources.length;++r)if(this._watchedResources[r]&&!this._watchedResources[r].IsGood())return;this._watchedResources=[],this.CreateHeightMap(),this._heightDirty=!1;for(var i=0;i<this._lockedResources.length;++i)this._lockedResources[i]&&this._lockedResources[i].doNotPurge--;var n=this.highDetail.children[0].mesh,a=null;n.transparentAreas.length?a=n.transparentAreas[0].effect:n.opaqueAreas.length&&(a=n.opaqueAreas[0].effect),a&&(a.parameters.HeightMap.textureRes=this.heightMap.texture)}this.display&&this._lod&&this.highDetail.GetBatches(e,t)}GetZOnlyBatches(e,t){this.display&&this._lod&&this.zOnlyModel&&this.zOnlyModel.GetBatches(e,t)}static MeshLoaded(e,t){e.highDetail.children.unshift(t),e._lockedResources.splice(0),e.GetPlanetResources(e.highDetail,[],e._lockedResources);var r,i=e.highDetail.children[0].mesh,n=null;for(var a in r=(r=i.transparentAreas.length?(n=i.transparentAreas[0].effect).effectFilePath:i.opaqueAreas.length?(n=i.opaqueAreas[0].effect).effectFilePath:"res:/Graphics/Effect/Managed/Space/Planet/EarthlikePlanet.fx").replace(".fx","BlitHeight.fx"),e._watchedResources.splice(0),n.parameters)n.parameters.hasOwnProperty(a)&&(e.effectHeight.parameters[a]=n.parameters[a],"textureRes"in n.parameters[a]&&e._watchedResources.push(n.parameters[a].textureRes));for(var o=0;o<e.highDetail.children[0].children.length;++o)if(i=e.highDetail.children[0].children[o].mesh){if(n=null,i.transparentAreas.length)n=i.transparentAreas[0].effect;else{if(!i.opaqueAreas.length)continue;n=i.opaqueAreas[0].effect}for(var s in n.parameters)n.parameters.hasOwnProperty(s)&&(e.effectHeight.parameters[s]=n.parameters[s],"textureRes"in n.parameters[s]&&e._watchedResources.push(n.parameters[s].textureRes))}var u=new A.Tw2TextureParameter("NormalHeight1",e.heightMapResPath1);u.Initialize(),e._watchedResources.push(u.textureRes),e._lockedResources.push(u.textureRes),e.effectHeight.parameters.NormalHeight1=u;var l=new A.Tw2TextureParameter("NormalHeight2",e.heightMapResPath2);l.Initialize(),e._watchedResources.push(l.textureRes),e._lockedResources.push(l.textureRes),e.effectHeight.parameters.NormalHeight2=l,e.effectHeight.parameters.Random=new A.Tw2FloatParameter("Random",e.itemID%100),e.effectHeight.parameters.TargetTextureHeight=new A.Tw2FloatParameter("TargetTextureHeight",1024),e.effectHeight.effectFilePath=r,e.effectHeight.Initialize(),e._heightDirty=!0,e.heightMap.Create(2048,1024,!1),e._watchedResources.push(e.effectHeight.effectRes);for(var c=0;c<e._lockedResources.length;++c)e._lockedResources[c]&&(e._lockedResources[c].doNotPurge++,e._lockedResources[c].IsPurged()&&e._lockedResources[c].Reload())}},w.wrappedType=j.WrappedType.PLANET,b=x((p=_).prototype,"highDetail",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new O.EveTransform}}),v=x(p.prototype,"effectHeight",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new A.Tw2Effect}}),g=x(p.prototype,"heightMap",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new A.Tw2RenderTarget}}),E=x(p.prototype,"zOnlyModel",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),y=x(p.prototype,"itemID",[u,l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),T=x(p.prototype,"heightMapResPath1",[c,f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),S=x(p.prototype,"heightMapResPath2",[d,h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),m=p))||m)},"./eve/object/EveShip.js":function(e,t,r){"use strict";r.r(t),r.d(t,"EveShip",(function(){return E}));var i,n,a,o,s,u,l,c,f,d,h,m=r("./utils/index.js"),p=r("./global/index.js"),b=r("./eve/object/EveSpaceObject.js");function v(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function g(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var E=(i=m.meta.ctor("EveShip"),n=m.meta.struct("EveBoosterSet"),a=m.meta.list("EveTurretSet"),o=m.meta.float,i((h=d=class extends b.EveSpaceObject{constructor(...e){super(...e),v(this,"boosters",l,this),v(this,"turretSets",c,this),v(this,"boosterGain",f,this)}Initialize(){super.Initialize(),this.boosters&&this.RebuildBoosterSet(),this.visible.boosters=!0,this.visible.firingEffect=!0}GetResources(e=[]){super.GetResources(e);for(var t=0;t<this.turretSets.length;t++)this.turretSets[t].GetResources(e);return this.boosters&&this.boosters.GetResources(e),e}RebuildBoosterSet(){this.boosters&&this.boosters.UpdateItemsFromLocators(this.FindLocatorsByPrefix("locator_booster"))}RebuildTurretPositions(){for(var e=0;e<this.turretSets.length;e++)this.RebuildTurretSet(e)}RebuildTurretSet(e){if(Object(m.isNumber)(e)||(e=this.turretSets.indexOf(e)),void 0!==this.turretSets[e]){for(var t=this.turretSets[e],r=t.locatorName,i=this.GetLocatorCount(r),n=[],a=0;a<i;++a){var o=r+String.fromCharCode("a".charCodeAt(0)+a),s=this.FindLocatorByName(o);s&&(s.FindBone(this.animation),n.push(s))}t.UpdateItemsFromLocators(n)}}UpdateViewDependentData(e,t,r){var i=this._worldSpriteScale!==r;super.UpdateViewDependentData(e,t,r),!i&&this.boosters&&this.boosters.SetWorldSpriteScale(this._worldSpriteScale);for(var n=0;n<this.turretSets.length;++n)this.turretSets[n].UpdateViewDependentData(this._worldTransform)}Update(e){super.Update(e),this.boosters&&(this.boosters._locatorDirty&&this.RebuildBoosterSet(),this.boosters.SetWorldSpriteScale(this._worldSpriteScale),this.boosters.Update(e,this._worldTransform));for(var t=0;t<this.turretSets.length;++t)this.turretSets[t]._locatorDirty&&this.RebuildTurretSet(t),this.turretSets[t].Update(e)}GetBatches(e,t){if(this.display&&(super.GetBatches(e,t),this._perObjectData.vs.Get("Shipdata")[0]=this.boosterGain,this._perObjectData.ps.Get("Shipdata")[0]=this.boosterGain,this.boosters&&this.visible.boosters&&this.boosters.GetBatches(e,t,this._perObjectData),this.visible.turretSets))if(this._lod>1)for(var r=0;r<this.turretSets.length;++r)this.turretSets[r].GetBatches(e,t,this._perObjectData,this.visible.firingEffects);else if(this.visible.firingEffects)for(var i=0;i<this.turretSets.length;++i)this.turretSets[i].GetFiringEffectBatches(e,t,this._perObjectData)}},d.wrappedType=p.WrappedType.SPACE_SHIP,l=g((u=h).prototype,"boosters",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),c=g(u.prototype,"turretSets",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),f=g(u.prototype,"boosterGain",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),s=u))||s)},"./eve/object/EveSpaceObject.js":function(e,t,r){"use strict";r.r(t),r.d(t,"EveSpaceObject",(function(){return se})),r.d(t,"EveStation",(function(){return se}));var i,n,a,o,s,u,l,c,f,d,h,m,p,b,v,g,E,y,T,S,w,_,R,j,A,O,z,P,x,C,D,M,L,I,F,G,N,B,U,V,k,H,q,W,Y,X,K,Q,Z,$,J,ee,te=r("./utils/index.js"),re=r("./math/index.js"),ie=r("./core/index.js"),ne=r("./eve/object/EveObject.js");function ae(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function oe(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var se=(i=te.meta.ctor("EveSpaceObject"),n=te.meta.struct("Tw2AnimationController"),a=te.meta.isPrivate,o=te.meta.vector3,s=te.meta.isPrivate,u=te.meta.float,l=te.meta.isPrivate,c=te.meta.list("EveObject"),f=te.meta.list("Tw2CurveSet"),d=te.meta.list("EveCustomMask"),h=te.meta.list("EveSpaceObjectDecal"),m=te.meta.list("EveChild"),p=te.meta.float,b=te.meta.list("EveCurveLineSet"),v=te.meta.list("EveLocator"),g=te.meta.struct("Tw2Mesh"),E=te.meta.list("EveMeshOverlayEffect"),y=te.meta.list("EvePlaneSet"),T=te.meta.vector3,S=te.meta.isPrivate,w=te.meta.vector3,_=te.meta.isPrivate,R=te.meta.list("EveSpotlightSet"),j=te.meta.list("EveSpriteSet"),A=te.meta.matrix4,O=te.meta.list("EveTurretSet"),z=te.meta.plain,i((ee=J=class e extends ne.EveObject{constructor(...t){super(...t),ae(this,"animation",C,this),ae(this,"boundingSphereCenter",D,this),ae(this,"boundingSphereRadius",M,this),ae(this,"children",L,this),ae(this,"curveSets",I,this),ae(this,"customMasks",F,this),ae(this,"decals",G,this),ae(this,"effectChildren",N,this),ae(this,"killCount",B,this),ae(this,"lineSets",U,this),ae(this,"locators",V,this),ae(this,"mesh",k,this),ae(this,"overlayEffects",H,this),ae(this,"planeSets",q,this),ae(this,"shapeEllipsoidRadius",W,this),ae(this,"shapeEllipsoidCenter",Y,this),ae(this,"spotlightSets",X,this),ae(this,"spriteSets",K,this),ae(this,"transform",Q,this),ae(this,"turretSets",Z,this),ae(this,"visible",$,this),this._lod=3,this._worldSpriteScale=1,this._worldTransform=re.mat4.create(),this._offsetTransform=null,this._perObjectData=ie.Tw2PerObjectData.from(e.perObjectData),this._boundingBox=null,this._boundingSphere=null,this._boundsDirty=!0}Initialize(){this.mesh&&this.animation.SetGeometryResource(this.mesh.geometryResource)}GetBoundingSphere(e,t){return this.RebuildBounds(t),re.sph3.copy(e,this._boundingSphere),this._boundsDirty}GetBoundingBox(e,t){return this.RebuildBounds(t),re.box3.copy(e,this._boundingBox),this._boundsDirty}RebuildBounds(e=this._boundsDirty){this._boundingSphere||(e=!0,this._boundingSphere=re.sph3.create(),this._boundingBox=re.sph3.create());var t=this.mesh&&this.mesh.IsGood();return e&&(t?this.mesh.geometryResource.GetBoundingBox(this._boundingBox):re.box3.empty(this._boundingBox),re.sph3.fromBox3(this._boundingSphere,this._boundingBox)),this._boundsDirty=t,t}SetTransform(e,t){t&&(this._offsetTransform?re.mat4.copy(this._offsetTransform,t):this._offsetTransform=re.mat4.clone(t)),this._offsetTransform?re.mat4.multiply(this.transform,e,this._offsetTransform):re.mat4.copy(this.transform,e)}GetResources(e=[]){this.mesh&&this.mesh.GetResources(e),this.animation&&this.animation.GetResources(e);var t=te.perArrayChild;return t(this.spriteSets,"GetResources",e),t(this.turretSets,"GetResources",e),t(this.decals,"GetResources",e),t(this.spotlightSets,"GetResources",e),t(this.planeSets,"GetResources",e),t(this.lineSets,"GetResources",e),t(this.overlayEffects,"GetResources",e),t(this.effectChildren,"GetResources",e),t(this.children,"GetResources",e),e}ResetLod(){this._lod=3}UpdateLod(e){var t=re.vec3.transformMat4(ne.EveObject.global.vec3_0,this.boundingSphereCenter,this.transform);e.IsSphereVisible(t,this.boundingSphereRadius)?e.GetPixelSizeAcross(t,this.boundingSphereRadius)<100?this._lod=1:this._lod=2:this._lod=0}FindTurretPrefixes(e=[]){function t(t){if(!t)return!1;var r=t[0].substring(0,t[0].length-1);return e.includes(r)||e.push(r),!0}for(var r=0;r<this.locators.length;r++){var i=this.locators[r].name;t(/^locator_turret_([0-9]+)[a-z]$/i.exec(i))||t(/^locator_xl_([0-9]+)[a-z]$/i.exec(i))}return e.sort(),e}GetLocatorCount(e){return this.FindLocatorsByPrefix(e).length}FindLocatorJointByName(e){var t=this.FindLocatorBoneByName(e);return t?t.worldTransform:null}FindLocatorTransformByName(e){var t=this.FindLocatorByName(e);return t?t.transform:null}HasLocatorPrefix(e){for(var t=0;t<this.locators.length;t++)if(0===this.locators[t].name.indexOf(e))return!0;return!1}FindLocatorBoneByName(e){return this.animation?this.animation.FindBoneForMesh(e,0):null}FindLocatorByName(e){for(var t=0;t<this.locators.length;t++)if(this.locators[t].name===e)return this.locators[t];return null}FindLocatorsByPrefix(e,t=[]){for(var r=0;r<this.locators.length;r++)0===this.locators[r].name.indexOf(e)&&t.push(this.locators[r]);return t}RebuildOverlays(e=[]){if(0===e.length&&0===this.overlayEffects.length)return!1;this.overlayEffects.splice(0);for(var t=0;t<e.length;t++)this.overlayEffects.push(e[t]);return!0}UpdateViewDependentData(e,t,r){re.mat4.transpose(this._perObjectData.vs.Get("WorldMatLast"),this._worldTransform),e?re.mat4.multiply(this._worldTransform,e,this.transform):re.mat4.copy(this._worldTransform,this.transform);var i=this.mesh&&this.mesh.IsGood()?this.mesh.geometryResource:null;if(i&&(this.animation.HasGeometryResource(i)||this.animation.SetGeometryResource(i),this.animation.animations.length&&this._perObjectData.vs.Set("JointMat",this.animation.GetBoneMatrices(0))),this._worldSpriteScale!==r){this._worldSpriteScale=r;for(var n=0;n<this.spriteSets.length;n++)this.spriteSets[n].SetWorldSpriteScale(r)}for(var a=0;a<this.children.length;++a)this.children[a].UpdateViewDependentData(this._worldTransform,t,r);re.mat4.transpose(this._perObjectData.vs.Get("WorldMat"),this._worldTransform);var o=this._perObjectData.vs.Get("EllipsoidCenter"),s=this._perObjectData.vs.Get("EllipsoidRadii");if(this.shapeEllipsoidRadius[0]>0)o[0]=this.shapeEllipsoidCenter[0],o[1]=this.shapeEllipsoidCenter[1],o[2]=this.shapeEllipsoidCenter[2],s[0]=this.shapeEllipsoidRadius[0],s[1]=this.shapeEllipsoidRadius[1],s[2]=this.shapeEllipsoidRadius[2];else if(i){var{maxBounds:u,minBounds:l}=i;re.vec3.subtract(o,u,l),re.vec3.scale(o,o,.8660254035),re.vec3.add(s,u,l),re.vec3.scale(s,s,.5)}for(var c=0;c<this.customMasks.length;++c)this.customMasks[c].UpdatePerObjectData(this._worldTransform,this._perObjectData,c,this.visible.customMasks);for(var f=0;f<this.lineSets.length;++f)this.lineSets[f].UpdateViewDependentData(this._worldTransform)}Update(e){if(this._lod>0){for(var t=0;t<this.spriteSets.length;++t)this.spriteSets[t].Update(e);for(var r=0;r<this.planeSets.length;r++)this.planeSets[r].Update(e);for(var i=0;i<this.spotlightSets.length;i++)this.spotlightSets[i].Update(e);for(var n=0;n<this.children.length;++n)this.children[n].Update(e);for(var a=0;a<this.effectChildren.length;++a)this.effectChildren[a].Update(e,this._worldTransform,this._lod);for(var o=0;o<this.curveSets.length;++o)this.curveSets[o].Update(e);for(var s=0;s<this.overlayEffects.length;++s)this.overlayEffects[s].Update(e);for(var u=0;u<this.lineSets.length;u++)this.lineSets[u].Update(e);this.animation&&this.animation.Update(e)}}GetBatches(e,t){if(this.display&&!(this._lod<1)){var r=this.visible,i=this.mesh&&this.mesh.IsGood()?this.mesh.geometryResource:null;if(r.mesh&&i&&this.mesh.GetBatches(e,t,this._perObjectData),this._lod>1){if(r.spriteSets)for(var n=0;n<this.spriteSets.length;n++)this.spriteSets[n].GetBatches(e,t,this._perObjectData,this._worldTransform);if(r.spotlightSets)for(var a=0;a<this.spotlightSets.length;a++)this.spotlightSets[a].GetBatches(e,t,this._perObjectData);if(r.planeSets)for(var o=0;o<this.planeSets.length;o++)this.planeSets[o].GetBatches(e,t,this._perObjectData);if(r.lineSets)for(var s=0;s<this.lineSets.length;s++)this.lineSets[s].GetBatches(e,t);if(i){if(r.decals)for(var u=0;u<this.decals.length;u++)this.decals[u].GetBatches(e,t,this._perObjectData,i,r.killmarks?this.killCount:0);if(r.overlayEffects)for(var l=0;l<this.overlayEffects.length;l++)this.overlayEffects[l].GetBatches(e,t,this._perObjectData,this.mesh)}}if(r.children)for(var c=0;c<this.children.length;c++)this.children[c].GetBatches(e,t,this._perObjectData);if(r.effectChildren)for(var f=0;f<this.effectChildren.length;f++)this.effectChildren[f].GetBatches(e,t,this._perObjectData)}}RenderDebugInfo(e){this.animation&&this.animation.RenderDebugInfo(e)}},J.perObjectData={vs:[["WorldMat",16],["WorldMatLast",16],["Shipdata",[0,1,0,-10]],["Clipdata1",4],["EllipsoidRadii",4],["EllipsoidCenter",4],["CustomMaskMatrix0",re.mat4.identity([])],["CustomMaskMatrix1",re.mat4.identity([])],["CustomMaskData0",[1,0,0,0]],["CustomMaskData1",[1,0,0,0]],["JointMat",696]],ps:[["Shipdata",[0,1,0,1]],["Clipdata1",4],["Clipdata2",4],["ShLighting",28],["CustomMaskMaterialID0",4],["CustomMaskMaterialID1",4],["CustomMaskTarget0",4],["CustomMaskTarget1",4]]},C=oe((x=ee).prototype,"animation",[n,a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new ie.Tw2AnimationController}}),D=oe(x.prototype,"boundingSphereCenter",[o,s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return re.vec3.create()}}),M=oe(x.prototype,"boundingSphereRadius",[u,l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),L=oe(x.prototype,"children",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),I=oe(x.prototype,"curveSets",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),F=oe(x.prototype,"customMasks",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),G=oe(x.prototype,"decals",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),N=oe(x.prototype,"effectChildren",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),B=oe(x.prototype,"killCount",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),U=oe(x.prototype,"lineSets",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),V=oe(x.prototype,"locators",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),k=oe(x.prototype,"mesh",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),H=oe(x.prototype,"overlayEffects",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),q=oe(x.prototype,"planeSets",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),W=oe(x.prototype,"shapeEllipsoidRadius",[T,S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return re.vec3.create()}}),Y=oe(x.prototype,"shapeEllipsoidCenter",[w,_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return re.vec3.create()}}),X=oe(x.prototype,"spotlightSets",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),K=oe(x.prototype,"spriteSets",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Q=oe(x.prototype,"transform",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return re.mat4.create()}}),Z=oe(x.prototype,"turretSets",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),$=oe(x.prototype,"visible",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{mesh:!0,children:!0,effectChildren:!0,planeSets:!0,spotlightSets:!0,decals:!0,spriteSets:!0,overlayEffects:!0,lineSets:!0,killmarks:!0,customMasks:!0,turretSets:!0,boosters:!0}}}),P=x))||P)},"./eve/object/EveTransform.js":function(e,t,r){"use strict";r.r(t),r.d(t,"EveTransform",(function(){return ge}));var i,n,a,o,s,u,l,c,f,d,h,m,p,b,v,g,E,y,T,S,w,_,R,j,A,O,z,P,x,C,D,M,L,I,F,G,N,B,U,V,k,H,q,W,Y,X,K,Q,Z,$,J,ee,te,re,ie,ne,ae,oe,se,ue,le,ce=r("./utils/index.js"),fe=r("./global/index.js"),de=r("./math/index.js"),he=r("./core/index.js"),me=r("./eve/object/EveObject.js");function pe(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function be(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var ve={NONE:0,BILLBOARD:1,TRANSLATE_WITH_CAMERA:2,LOOK_AT_CAMERA:3,SIMPLE_HALO:4,EVE_CAMERA_ROTATION_ALIGNED:100,EVE_BOOSTER:101,EVE_SIMPLE_HALO:102,EVE_CAMERA_ROTATION:103},ge=(i=ce.meta.ctor("EveTransform"),n=ce.meta.string,a=ce.meta.list("EveObject"),o=ce.meta.list("Tw2CurveSet"),s=ce.meta.boolean,u=ce.meta.notImplemented,l=ce.meta.float,c=ce.meta.notImplemented,f=ce.meta.float,d=ce.meta.notImplemented,h=ce.meta.boolean,m=ce.meta.struct(["Tw2Mesh","Tr2MeshLOD","Tw2InstancedMesh"]),p=ce.meta.uint,b=ce.meta.enums(ve),v=ce.meta.list("Tr2ObserverLocal"),g=ce.meta.notImplemented,E=ce.meta.vector3,y=ce.meta.notImplemented,T=ce.meta.vector3,S=ce.meta.list("EveParticleEmitter"),w=ce.meta.list("EveParticleSystem"),_=ce.meta.quaternion,R=ce.meta.vector3,j=ce.meta.notImplemented,A=ce.meta.float,O=ce.meta.vector3,z=ce.meta.boolean,P=ce.meta.notImplemented,x=ce.meta.boolean,C=ce.meta.notImplemented,D=ce.meta.boolean,M=ce.meta.notImplemented,L=ce.meta.float,I=ce.meta.plain,i((le=ue=class e extends me.EveObject{constructor(...t){super(...t),pe(this,"name",N,this),pe(this,"children",B,this),pe(this,"curveSets",U,this),pe(this,"display",V,this),pe(this,"distanceBasedScaleArg1",k,this),pe(this,"distanceBasedScaleArg2",H,this),pe(this,"hideOnLowQuality",q,this),pe(this,"mesh",W,this),pe(this,"modifier",Y,this),pe(this,"observers",X,this),pe(this,"overrideBoundsMax",K,this),pe(this,"overrideBoundsMin",Q,this),pe(this,"particleEmitters",Z,this),pe(this,"particleSystems",$,this),pe(this,"rotation",J,this),pe(this,"scaling",ee,this),pe(this,"sortValueMultiplier",te,this),pe(this,"translation",re,this),pe(this,"update",ie,this),pe(this,"useDistanceBasedScale",ne,this),pe(this,"useLodLevel",ae,this),pe(this,"visibilityThreshold",oe,this),pe(this,"visible",se,this),this._localTransform=de.mat4.create(),this._worldTransform=de.mat4.create(),this._perObjectData=he.Tw2PerObjectData.from(e.perObjectData)}Initialize(){de.mat4.fromRotationTranslationScale(this._localTransform,this.rotation,this.translation,this.scaling)}SetTransform(e){de.mat4.getRotation(this.rotation,e),de.mat4.getScaling(this.scaling,e),de.mat4.getTranslation(this.translation,e)}GetResources(e=[]){this.mesh&&this.mesh.GetResources(e);for(var t=0;t<this.children.length;t++)this.children[t].GetResources(e);return e}UpdateViewDependentData(t){var r=fe.device,i=me.EveObject.global,n=i.vec3_0,a=i.vec3_1,o=i.vec3_2,s=r.viewInverse,u=this._localTransform,l=this._worldTransform;switch(t||(t=i.mat4_ID),de.quat.normalize(this.rotation,this.rotation),de.mat4.fromRotationTranslationScale(u,this.rotation,this.translation,this.scaling),de.mat4.getScaling(a,t),this.modifier){case e.Modifier.BILLBOARD:case e.Modifier.SIMPLE_HALO:var c=i.vec3_3;if(de.mat4.multiply(l,t,u),de.vec3.multiply(n,this.scaling,a),this.modifier===e.Modifier.SIMPLE_HALO){de.vec3.subtract(o,r.GetEyePosition(o),l.subarray(12)),de.vec3.normalize(c,l.subarray(8)),de.vec3.normalize(o,o);var f=de.vec3.dot(o,c);f<0&&(f=0),de.vec3.scale(n,n,f*f)}l[0]=s[0]*n[0],l[1]=s[1]*n[0],l[2]=s[2]*n[0],l[4]=s[4]*n[1],l[5]=s[5]*n[1],l[6]=s[6]*n[1],l[8]=s[8]*n[2],l[9]=s[9]*n[2],l[10]=s[10]*n[2];break;case e.Modifier.EVE_CAMERA_ROTATION:var d=i.vec3_3;de.vec3.transformMat4(d,this.translation,t),de.mat4.fromRotationTranslationScale(u,this.rotation,d,this.scaling),de.mat4.multiply(l,s,u),l[12]=u[12],l[13]=u[13],l[14]=u[14];break;case e.Modifier.EVE_CAMERA_ROTATION_ALIGNED:case e.Modifier.EVE_SIMPLE_HALO:var h=i.vec3_3,m=i.vec3_4,p=i.vec3_5,b=i.vec3_6,v=i.vec3_7,g=i.mat4_0,E=i.mat4_1,y=i.mat4_2;if(de.mat4.translate(l,t,this.translation),de.mat4.transpose(g,t),r.GetEyePosition(o),o[0]-=l[12],o[1]-=l[13],o[2]-=l[14],de.vec3.copy(h,o),de.vec3.transformMat4(h,h,g),de.vec3.divide(h,h,a),de.vec3.normalize(h,h),de.vec3.set(m,r.view[0],r.view[4],r.view[8]),de.vec3.transformMat4(m,m,g),de.vec3.normalize(m,m),de.vec3.cross(p,h,m),de.vec3.normalize(p,p),de.vec3.cross(m,p,h),E[0]=m[0],E[1]=m[1],E[2]=m[2],E[4]=p[0],E[5]=p[1],E[6]=p[2],E[8]=h[0],E[9]=h[1],E[10]=h[2],E[15]=1,de.mat4.fromQuat(y,this.rotation),de.mat4.multiply(E,E,y),this.modifier===e.Modifier.EVE_SIMPLE_HALO){de.vec3.normalize(b,l.subarray(8)),de.vec3.normalize(v,o);var T=-de.vec3.dot(v,b);T<0&&(T=0),de.mat4.multiply(l,l,E),de.mat4.scale(l,l,[this.scaling[0]*T,this.scaling[1]*T,this.scaling[2]*T])}else de.mat4.scale(l,l,this.scaling),de.mat4.multiply(l,l,E);break;case e.Modifier.LOOK_AT_CAMERA:var S=i.mat4_0;de.mat4.multiply(l,t,u),de.mat4.lookAt(S,s.subarray(12),l.subarray(12),[0,1,0]),de.mat4.transpose(S,S),de.vec3.multiply(n,this.scaling,a),l[0]=S[0]*n[0],l[1]=S[1]*n[0],l[2]=S[2]*n[0],l[4]=S[4]*n[1],l[5]=S[5]*n[1],l[6]=S[6]*n[1],l[8]=S[8]*n[2],l[9]=S[9]*n[2],l[10]=S[10]*n[2];break;default:de.mat4.multiply(l,t,u)}for(var w=0;w<this.children.length;++w)this.children[w].UpdateViewDependentData(l)}Update(e){for(var t=0;t<this.children.length;++t)this.children[t].Update(e);for(var r=0;r<this.particleEmitters.length;++r)this.particleEmitters[r].Update(e);for(var i=0;i<this.particleSystems.length;++i)this.particleSystems[i].Update(e);for(var n=0;n<this.curveSets.length;++n)this.curveSets[n].Update(e)}GetBatches(e,t,r){if(this.display&&(this.visible.mesh&&this.mesh&&(de.mat4.transpose(this._perObjectData.ffe.Get("World"),this._worldTransform),de.mat4.invert(this._perObjectData.ffe.Get("WorldInverseTranspose"),this._worldTransform),r&&(this._perObjectData.vs=r.vs,this._perObjectData.ps=r.ps),this.mesh.GetBatches(e,t,this._perObjectData)),this.visible.children))for(var i=0;i<this.children.length;++i)this.children[i].GetBatches(e,t,r)}static Multiply3x3(e,t,r){r||(r=t);var i=t[0],n=t[1];return t=t[2],r[0]=e[0]*i+e[4]*n+e[8]*t,r[1]=e[1]*i+e[5]*n+e[9]*t,r[2]=e[2]*i+e[6]*n+e[10]*t,r}},ue.perObjectData={ffe:[["World",16],["WorldInverseTranspose",16]]},ue.Modifier=ve,N=be((G=le).prototype,"name",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),B=be(G.prototype,"children",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),U=be(G.prototype,"curveSets",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),V=be(G.prototype,"display",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),k=be(G.prototype,"distanceBasedScaleArg1",[u,l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.2}}),H=be(G.prototype,"distanceBasedScaleArg2",[c,f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.63}}),q=be(G.prototype,"hideOnLowQuality",[d,h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),W=be(G.prototype,"mesh",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Y=be(G.prototype,"modifier",[p,b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return ge.Modifier.NONE}}),X=be(G.prototype,"observers",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),K=be(G.prototype,"overrideBoundsMax",[g,E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return de.vec3.create()}}),Q=be(G.prototype,"overrideBoundsMin",[y,T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return de.vec3.create()}}),Z=be(G.prototype,"particleEmitters",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),$=be(G.prototype,"particleSystems",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),J=be(G.prototype,"rotation",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return de.quat.create()}}),ee=be(G.prototype,"scaling",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return de.vec3.fromValues(1,1,1)}}),te=be(G.prototype,"sortValueMultiplier",[j,A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),re=be(G.prototype,"translation",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return de.vec3.create()}}),ie=be(G.prototype,"update",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),ne=be(G.prototype,"useDistanceBasedScale",[P,x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),ae=be(G.prototype,"useLodLevel",[C,D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),oe=be(G.prototype,"visibilityThreshold",[M,L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),se=be(G.prototype,"visible",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{mesh:!0,children:!0}}}),F=G))||F)},"./eve/object/index.js":function(e,t,r){"use strict";r.r(t);var i=r("./eve/object/EveMissile.js");r.d(t,"EveMissileWarhead",(function(){return i.EveMissileWarhead})),r.d(t,"EveMissile",(function(){return i.EveMissile}));var n=r("./eve/object/EveTransform.js");r.d(t,"EveTransform",(function(){return n.EveTransform}));var a=r("./eve/object/EveEffectRoot.js");r.d(t,"EveEffectRoot",(function(){return a.EveEffectRoot}));var o=r("./eve/object/EvePlanet.js");r.d(t,"EvePlanet",(function(){return o.EvePlanet}));var s=r("./eve/object/EveShip.js");r.d(t,"EveShip",(function(){return s.EveShip}));var u=r("./eve/object/EveSpaceObject.js");r.d(t,"EveSpaceObject",(function(){return u.EveSpaceObject})),r.d(t,"EveStation",(function(){return u.EveStation}))},"./global/engine/Tw2Constant.js":function(e,t,r){"use strict";r.r(t),r.d(t,"TextureQuality",(function(){return i})),r.d(t,"ShaderQuality",(function(){return n})),r.d(t,"ResourceUnloadPolicy",(function(){return a})),r.d(t,"LodSettings",(function(){return o})),r.d(t,"TurretState",(function(){return s})),r.d(t,"AnimationState",(function(){return u})),r.d(t,"WrappedType",(function(){return l})),r.d(t,"GL_COLOR_BUFFER_BIT",(function(){return c})),r.d(t,"GL_DEPTH_BUFFER_BIT",(function(){return f})),r.d(t,"GL_STENCIL_BUFFER_BIT",(function(){return d})),r.d(t,"GL_TEXTURE_2D",(function(){return h})),r.d(t,"GL_TEXTURE_CUBE_MAP",(function(){return m})),r.d(t,"GL_TEXTURE_3D",(function(){return p})),r.d(t,"GL_TEXTURE_MAG_FILTER",(function(){return b})),r.d(t,"GL_TEXTURE_MIN_FILTER",(function(){return v})),r.d(t,"GL_TEXTURE_WRAP_S",(function(){return g})),r.d(t,"GL_TEXTURE_WRAP_T",(function(){return E})),r.d(t,"GL_BYTE",(function(){return y})),r.d(t,"GL_UNSIGNED_BYTE",(function(){return T})),r.d(t,"GL_SHORT",(function(){return S})),r.d(t,"GL_UNSIGNED_SHORT",(function(){return w})),r.d(t,"GL_INT",(function(){return _})),r.d(t,"GL_UNSIGNED_INT",(function(){return R})),r.d(t,"GL_FLOAT",(function(){return j})),r.d(t,"GL_HALF_FLOAT_OES",(function(){return A})),r.d(t,"GL_HALF_FLOAT",(function(){return O})),r.d(t,"GL_DEPTH_COMPONENT16",(function(){return z})),r.d(t,"GL_DEPTH_COMPONENT24",(function(){return P})),r.d(t,"GL_DEPTH_COMPONENT32F",(function(){return x})),r.d(t,"GL_FLOAT_VEC2",(function(){return C})),r.d(t,"GL_FLOAT_VEC3",(function(){return D})),r.d(t,"GL_FLOAT_VEC4",(function(){return M})),r.d(t,"GL_INT_VEC2",(function(){return L})),r.d(t,"GL_INT_VEC3",(function(){return I})),r.d(t,"GL_INT_VEC4",(function(){return F})),r.d(t,"GL_BOOL",(function(){return G})),r.d(t,"GL_BOOL_VEC2",(function(){return N})),r.d(t,"GL_BOOL_VEC3",(function(){return B})),r.d(t,"GL_BOOL_VEC4",(function(){return U})),r.d(t,"GL_FLOAT_MAT2",(function(){return V})),r.d(t,"GL_FLOAT_MAT3",(function(){return k})),r.d(t,"GL_FLOAT_MAT4",(function(){return H})),r.d(t,"GL_TYPE_LENGTH",(function(){return q})),r.d(t,"GL_SAMPLER_2D",(function(){return W})),r.d(t,"GL_SAMPLER_3D",(function(){return Y})),r.d(t,"GL_SAMPLER_CUBE",(function(){return X})),r.d(t,"GL_DEPTH_COMPONENT",(function(){return K})),r.d(t,"GL_ALPHA",(function(){return Q})),r.d(t,"GL_RGB",(function(){return Z})),r.d(t,"GL_RGBA",(function(){return $})),r.d(t,"GL_LUMINANCE",(function(){return J})),r.d(t,"GL_LUMINANCE_ALPHA",(function(){return ee})),r.d(t,"GL_DEPTH_STENCIL",(function(){return te})),r.d(t,"GL_UNSIGNED_INT_24_8_WEBGL",(function(){return re})),r.d(t,"GL_R8",(function(){return ie})),r.d(t,"GL_R16F",(function(){return ne})),r.d(t,"GL_R32F",(function(){return ae})),r.d(t,"GL_R8UI",(function(){return oe})),r.d(t,"GL_RG8",(function(){return se})),r.d(t,"GL_RG16F",(function(){return ue})),r.d(t,"GL_RG32F",(function(){return le})),r.d(t,"GL_RGB8",(function(){return ce})),r.d(t,"GL_SRGB8",(function(){return fe})),r.d(t,"GL_RGB565",(function(){return de})),r.d(t,"GL_R11F_G11F_B10F",(function(){return he})),r.d(t,"GL_RGB9_E5",(function(){return me})),r.d(t,"GL_RGB16F",(function(){return pe})),r.d(t,"GL_RGB32F",(function(){return be})),r.d(t,"GL_RGB8UI",(function(){return ve})),r.d(t,"GL_RGBA8",(function(){return ge})),r.d(t,"GL_RGB5_A1",(function(){return Ee})),r.d(t,"GL_RGBA16F",(function(){return ye})),r.d(t,"GL_RGBA32F",(function(){return Te})),r.d(t,"GL_RGBA8UI",(function(){return Se})),r.d(t,"GL_RGBA16I",(function(){return we})),r.d(t,"GL_RGBA16UI",(function(){return _e})),r.d(t,"GL_RGBA32I",(function(){return Re})),r.d(t,"GL_RGBA32UI",(function(){return je})),r.d(t,"GL_NEAREST",(function(){return Ae})),r.d(t,"GL_LINEAR",(function(){return Oe})),r.d(t,"GL_NEAREST_MIPMAP_NEAREST",(function(){return ze})),r.d(t,"GL_LINEAR_MIPMAP_NEAREST",(function(){return Pe})),r.d(t,"GL_NEAREST_MIPMAP_LINEAR",(function(){return xe})),r.d(t,"GL_LINEAR_MIPMAP_LINEAR",(function(){return Ce})),r.d(t,"GL_REPEAT",(function(){return De})),r.d(t,"GL_CLAMP_TO_EDGE",(function(){return Me})),r.d(t,"GL_MIRRORED_REPEAT",(function(){return Le})),r.d(t,"GL_ZERO",(function(){return Ie})),r.d(t,"GL_ONE",(function(){return Fe})),r.d(t,"GL_SRC_COLOR",(function(){return Ge})),r.d(t,"GL_ONE_MINUS_SRC_COLOR",(function(){return Ne})),r.d(t,"GL_SRC_ALPHA",(function(){return Be})),r.d(t,"GL_ONE_MINUS_SRC_ALPHA",(function(){return Ue})),r.d(t,"GL_DST_ALPHA",(function(){return Ve})),r.d(t,"GL_ONE_MINUS_DST_ALPHA",(function(){return ke})),r.d(t,"GL_DST_COLOR",(function(){return He})),r.d(t,"GL_ONE_MINUS_DST_COLOR",(function(){return qe})),r.d(t,"GL_SRC_ALPHA_SATURATE",(function(){return We})),r.d(t,"GL_CONSTANT_COLOR",(function(){return Ye})),r.d(t,"GL_ONE_MINUS_CONSTANT_COLOR",(function(){return Xe})),r.d(t,"GL_CONSTANT_ALPHA",(function(){return Ke})),r.d(t,"GL_ONE_MINUS_CONSTANT_ALPHA",(function(){return Qe})),r.d(t,"GL_VERTEX_SHADER",(function(){return Ze})),r.d(t,"GL_FRAGMENT_SHADER",(function(){return $e})),r.d(t,"GL_FRONT",(function(){return Je})),r.d(t,"GL_BACK",(function(){return et})),r.d(t,"GL_FRONT_AND_BACK",(function(){return tt})),r.d(t,"GL_NEVER",(function(){return rt})),r.d(t,"GL_LESS",(function(){return it})),r.d(t,"GL_EQUAL",(function(){return nt})),r.d(t,"GL_LEQUAL",(function(){return at})),r.d(t,"GL_GREATER",(function(){return ot})),r.d(t,"GL_NOTEQUAL",(function(){return st})),r.d(t,"GL_GEQUAL",(function(){return ut})),r.d(t,"GL_ALWAYS",(function(){return lt})),r.d(t,"GL_KEEP",(function(){return ct})),r.d(t,"GL_REPLACE",(function(){return ft})),r.d(t,"GL_INCR",(function(){return dt})),r.d(t,"GL_DECR",(function(){return ht})),r.d(t,"GL_INCR_WRAP",(function(){return mt})),r.d(t,"GL_DECR_WRAP",(function(){return pt})),r.d(t,"GL_INVERT",(function(){return bt})),r.d(t,"GL_STREAM_DRAW",(function(){return vt})),r.d(t,"GL_STATIC_DRAW",(function(){return gt})),r.d(t,"GL_DYNAMIC_DRAW",(function(){return Et})),r.d(t,"GL_ARRAY_BUFFER",(function(){return yt})),r.d(t,"GL_ELEMENT_ARRAY_BUFFER",(function(){return Tt})),r.d(t,"GL_POINTS",(function(){return St})),r.d(t,"GL_LINES",(function(){return wt})),r.d(t,"GL_LINE_LOOP",(function(){return _t})),r.d(t,"GL_LINE_STRIP",(function(){return Rt})),r.d(t,"GL_TRIANGLES",(function(){return jt})),r.d(t,"GL_TRIANGLE_STRIP",(function(){return At})),r.d(t,"GL_TRIANGLE_FAN",(function(){return Ot})),r.d(t,"GL_CW",(function(){return zt})),r.d(t,"GL_CCW",(function(){return Pt})),r.d(t,"GL_CULL_FACE",(function(){return xt})),r.d(t,"GL_DEPTH_TEST",(function(){return Ct})),r.d(t,"GL_BLEND",(function(){return Dt})),r.d(t,"RM_ANY",(function(){return Mt})),r.d(t,"RM_OPAQUE",(function(){return Lt})),r.d(t,"RM_DECAL",(function(){return It})),r.d(t,"RM_TRANSPARENT",(function(){return Ft})),r.d(t,"RM_ADDITIVE",(function(){return Gt})),r.d(t,"RM_DEPTH",(function(){return Nt})),r.d(t,"RM_FULLSCREEN",(function(){return Bt})),r.d(t,"RM_PICKABLE",(function(){return Ut})),r.d(t,"RM_DISTORTION",(function(){return Vt})),r.d(t,"RS_ZENABLE",(function(){return kt})),r.d(t,"RS_FILLMODE",(function(){return Ht})),r.d(t,"RS_SHADEMODE",(function(){return qt})),r.d(t,"RS_ZWRITEENABLE",(function(){return Wt})),r.d(t,"RS_ALPHATESTENABLE",(function(){return Yt})),r.d(t,"RS_LASTPIXEL",(function(){return Xt})),r.d(t,"RS_SRCBLEND",(function(){return Kt})),r.d(t,"RS_DESTBLEND",(function(){return Qt})),r.d(t,"RS_CULLMODE",(function(){return Zt})),r.d(t,"RS_ZFUNC",(function(){return $t})),r.d(t,"RS_ALPHAREF",(function(){return Jt})),r.d(t,"RS_ALPHAFUNC",(function(){return er})),r.d(t,"RS_DITHERENABLE",(function(){return tr})),r.d(t,"RS_ALPHABLENDENABLE",(function(){return rr})),r.d(t,"RS_FOGENABLE",(function(){return ir})),r.d(t,"RS_SPECULARENABLE",(function(){return nr})),r.d(t,"RS_FOGCOLOR",(function(){return ar})),r.d(t,"RS_FOGTABLEMODE",(function(){return or})),r.d(t,"RS_FOGSTART",(function(){return sr})),r.d(t,"RS_FOGEND",(function(){return ur})),r.d(t,"RS_FOGDENSITY",(function(){return lr})),r.d(t,"RS_RANGEFOGENABLE",(function(){return cr})),r.d(t,"RS_STENCILENABLE",(function(){return fr})),r.d(t,"RS_STENCILFAIL",(function(){return dr})),r.d(t,"RS_STENCILZFAIL",(function(){return hr})),r.d(t,"RS_STENCILPASS",(function(){return mr})),r.d(t,"RS_STENCILFUNC",(function(){return pr})),r.d(t,"RS_STENCILREF",(function(){return br})),r.d(t,"RS_STENCILMASK",(function(){return vr})),r.d(t,"RS_STENCILWRITEMASK",(function(){return gr})),r.d(t,"RS_TEXTUREFACTOR",(function(){return Er})),r.d(t,"RS_WRAP0",(function(){return yr})),r.d(t,"RS_WRAP1",(function(){return Tr})),r.d(t,"RS_WRAP2",(function(){return Sr})),r.d(t,"RS_WRAP3",(function(){return wr})),r.d(t,"RS_WRAP4",(function(){return _r})),r.d(t,"RS_WRAP5",(function(){return Rr})),r.d(t,"RS_WRAP6",(function(){return jr})),r.d(t,"RS_WRAP7",(function(){return Ar})),r.d(t,"RS_CLIPPING",(function(){return Or})),r.d(t,"RS_LIGHTING",(function(){return zr})),r.d(t,"RS_AMBIENT",(function(){return Pr})),r.d(t,"RS_FOGVERTEXMODE",(function(){return xr})),r.d(t,"RS_COLORVERTEX",(function(){return Cr})),r.d(t,"RS_LOCALVIEWER",(function(){return Dr})),r.d(t,"RS_NORMALIZENORMALS",(function(){return Mr})),r.d(t,"RS_DIFFUSEMATERIALSOURCE",(function(){return Lr})),r.d(t,"RS_SPECULARMATERIALSOURCE",(function(){return Ir})),r.d(t,"RS_AMBIENTMATERIALSOURCE",(function(){return Fr})),r.d(t,"RS_EMISSIVEMATERIALSOURCE",(function(){return Gr})),r.d(t,"RS_VERTEXBLEND",(function(){return Nr})),r.d(t,"RS_CLIPPLANEENABLE",(function(){return Br})),r.d(t,"RS_POINTSIZE",(function(){return Ur})),r.d(t,"RS_POINTSIZE_MIN",(function(){return Vr})),r.d(t,"RS_POINTSPRITEENABLE",(function(){return kr})),r.d(t,"RS_POINTSCALEENABLE",(function(){return Hr})),r.d(t,"RS_POINTSCALE_A",(function(){return qr})),r.d(t,"RS_POINTSCALE_B",(function(){return Wr})),r.d(t,"RS_POINTSCALE_C",(function(){return Yr})),r.d(t,"RS_MULTISAMPLEANTIALIAS",(function(){return Xr})),r.d(t,"RS_MULTISAMPLEMASK",(function(){return Kr})),r.d(t,"RS_PATCHEDGESTYLE",(function(){return Qr})),r.d(t,"RS_DEBUGMONITORTOKEN",(function(){return Zr})),r.d(t,"RS_POINTSIZE_MAX",(function(){return $r})),r.d(t,"RS_INDEXEDVERTEXBLENDENABLE",(function(){return Jr})),r.d(t,"RS_COLORWRITEENABLE",(function(){return ei})),r.d(t,"RS_TWEENFACTOR",(function(){return ti})),r.d(t,"RS_BLENDOP",(function(){return ri})),r.d(t,"RS_POSITIONDEGREE",(function(){return ii})),r.d(t,"RS_NORMALDEGREE",(function(){return ni})),r.d(t,"RS_SCISSORTESTENABLE",(function(){return ai})),r.d(t,"RS_SLOPESCALEDEPTHBIAS",(function(){return oi})),r.d(t,"RS_ANTIALIASEDLINEENABLE",(function(){return si})),r.d(t,"RS_TWOSIDEDSTENCILMODE",(function(){return ui})),r.d(t,"RS_CCW_STENCILFAIL",(function(){return li})),r.d(t,"RS_CCW_STENCILZFAIL",(function(){return ci})),r.d(t,"RS_CCW_STENCILPASS",(function(){return fi})),r.d(t,"RS_CCW_STENCILFUNC",(function(){return di})),r.d(t,"RS_COLORWRITEENABLE1",(function(){return hi})),r.d(t,"RS_COLORWRITEENABLE2",(function(){return mi})),r.d(t,"RS_COLORWRITEENABLE3",(function(){return pi})),r.d(t,"RS_BLENDFACTOR",(function(){return bi})),r.d(t,"RS_SRGBWRITEENABLE",(function(){return vi})),r.d(t,"RS_DEPTHBIAS",(function(){return gi})),r.d(t,"RS_SEPARATEALPHABLENDENABLE",(function(){return Ei})),r.d(t,"RS_SRCBLENDALPHA",(function(){return yi})),r.d(t,"RS_DESTBLENDALPHA",(function(){return Ti})),r.d(t,"RS_BLENDOPALPHA",(function(){return Si})),r.d(t,"CULL_NONE",(function(){return wi})),r.d(t,"CULL_CW",(function(){return _i})),r.d(t,"CULL_CCW",(function(){return Ri})),r.d(t,"CMP_NEVER",(function(){return ji})),r.d(t,"CMP_LESS",(function(){return Ai})),r.d(t,"CMP_EQUAL",(function(){return Oi})),r.d(t,"CMP_LEQUAL",(function(){return zi})),r.d(t,"CMP_GREATER",(function(){return Pi})),r.d(t,"CMP_NOTEQUAL",(function(){return xi})),r.d(t,"CMP_GREATEREQUAL",(function(){return Ci})),r.d(t,"CMP_ALWAYS",(function(){return Di})),r.d(t,"BLEND_ZERO",(function(){return Mi})),r.d(t,"BLEND_ONE",(function(){return Li})),r.d(t,"BLEND_SRCCOLOR",(function(){return Ii})),r.d(t,"BLEND_INVSRCCOLOR",(function(){return Fi})),r.d(t,"BLEND_SRCALPHA",(function(){return Gi})),r.d(t,"BLEND_INVSRCALPHA",(function(){return Ni})),r.d(t,"BLEND_DESTALPHA",(function(){return Bi})),r.d(t,"BLEND_INVDESTALPHA",(function(){return Ui})),r.d(t,"BLEND_DESTCOLOR",(function(){return Vi})),r.d(t,"BLEND_INVDESTCOLOR",(function(){return ki})),r.d(t,"BLEND_SRCALPHASAT",(function(){return Hi})),r.d(t,"BLEND_BOTHSRCALPHA",(function(){return qi})),r.d(t,"BLEND_BOTHINVSRCALPHA",(function(){return Wi})),r.d(t,"BLEND_BLENDFACTOR",(function(){return Yi})),r.d(t,"BLEND_INVBLENDFACTOR",(function(){return Xi})),r.d(t,"BLENDOP_ADD",(function(){return Ki})),r.d(t,"BLENDOP_SUBTRACT",(function(){return Qi})),r.d(t,"BLENDOP_REVSUBTRACT",(function(){return Zi})),r.d(t,"BLENDOP_MIN",(function(){return $i})),r.d(t,"BLENDOP_MAX",(function(){return Ji})),r.d(t,"TF_ALPHA",(function(){return en})),r.d(t,"TF_LUMINANCE",(function(){return tn})),r.d(t,"TF_LUMINANCE_ALPHA",(function(){return rn})),r.d(t,"TF_RGB",(function(){return nn})),r.d(t,"TF_RGBA",(function(){return an})),r.d(t,"TF_RED",(function(){return on})),r.d(t,"TF_R",(function(){return sn})),r.d(t,"TF_RG",(function(){return un})),r.d(t,"TF_RED_INTEGER",(function(){return ln})),r.d(t,"TF_R_INTEGER",(function(){return cn})),r.d(t,"TF_RG_INTEGER",(function(){return fn})),r.d(t,"TF_RGB_INTEGER",(function(){return dn})),r.d(t,"TF_RGBA_INTEGER",(function(){return hn})),r.d(t,"TT_UNSIGNED_BYTE",(function(){return mn})),r.d(t,"TT_UNSIGNED_INT",(function(){return pn})),r.d(t,"TT_FLOAT",(function(){return bn})),r.d(t,"TT_HALF_FLOAT",(function(){return vn})),r.d(t,"TT_BYTE",(function(){return gn})),r.d(t,"TT_SHORT",(function(){return En})),r.d(t,"TT_UNSIGNED_SHORT",(function(){return yn})),r.d(t,"TT_INT",(function(){return Tn})),r.d(t,"TT_UNSIGNED_INTEGER",(function(){return Sn})),r.d(t,"TT_UNSIGNED_SHORT_4_4_4_4",(function(){return wn})),r.d(t,"TT_UNSIGNED_SHORT_5_5_5_1",(function(){return _n})),r.d(t,"TT_UNSIGNED_SHORT_5_6_5",(function(){return Rn})),r.d(t,"TT_UNSIGNED_INT_2_10_10_10_REV",(function(){return jn})),r.d(t,"TT_UNSIGNED_INT_24_8",(function(){return An})),r.d(t,"TT_UNSIGNED_INT_10F_11F_11F_REV",(function(){return On})),r.d(t,"TT_UNSIGNED_INT_5_9_9_9_REV",(function(){return zn})),r.d(t,"TT_FLOAT_32_UNSIGNED_INT_24_8_REV",(function(){return Pn})),r.d(t,"WrapModes",(function(){return xn})),r.d(t,"BlendTable",(function(){return Cn})),r.d(t,"FilterMode",(function(){return Dn})),r.d(t,"MipFilterMode",(function(){return Mn})),r.d(t,"DDS_MAGIC",(function(){return Ln})),r.d(t,"DDSD_CAPS",(function(){return In})),r.d(t,"DDSD_HEIGHT",(function(){return Fn})),r.d(t,"DDSD_WIDTH",(function(){return Gn})),r.d(t,"DDSD_PITCH",(function(){return Nn})),r.d(t,"DDSD_PIXELFORMAT",(function(){return Bn})),r.d(t,"DDSD_MIPMAPCOUNT",(function(){return Un})),r.d(t,"DDSD_LINEARSIZE",(function(){return Vn})),r.d(t,"DDSD_DEPTH",(function(){return kn})),r.d(t,"DDSCAPS_COMPLEX",(function(){return Hn})),r.d(t,"DDSCAPS_MIPMAP",(function(){return qn})),r.d(t,"DDSCAPS_TEXTURE",(function(){return Wn})),r.d(t,"DDSCAPS2_CUBEMAP",(function(){return Yn})),r.d(t,"DDSCAPS2_CUBEMAP_POSITIVEX",(function(){return Xn})),r.d(t,"DDSCAPS2_CUBEMAP_NEGATIVEX",(function(){return Kn})),r.d(t,"DDSCAPS2_CUBEMAP_POSITIVEY",(function(){return Qn})),r.d(t,"DDSCAPS2_CUBEMAP_NEGATIVEY",(function(){return Zn})),r.d(t,"DDSCAPS2_CUBEMAP_POSITIVEZ",(function(){return $n})),r.d(t,"DDSCAPS2_CUBEMAP_NEGATIVEZ",(function(){return Jn})),r.d(t,"DDSCAPS2_VOLUME",(function(){return ea})),r.d(t,"DDPF_ALPHAPIXELS",(function(){return ta})),r.d(t,"DDPF_ALPHA",(function(){return ra})),r.d(t,"DDPF_FOURCC",(function(){return ia})),r.d(t,"DDPF_RGB",(function(){return na})),r.d(t,"DDPF_YUV",(function(){return aa})),r.d(t,"DDPF_LUMINANCE",(function(){return oa})),r.d(t,"DDS_HEADER_LENGTH_INT",(function(){return sa})),r.d(t,"DDS_HEADER_OFFSET_MAGIC",(function(){return ua})),r.d(t,"DDS_HEADER_OFFSET_SIZE",(function(){return la})),r.d(t,"DDS_HEADER_OFFSET_FLAGS",(function(){return ca})),r.d(t,"DDS_HEADER_OFFSET_HEIGHT",(function(){return fa})),r.d(t,"DDS_HEADER_OFFSET_WIDTH",(function(){return da})),r.d(t,"DDS_HEADER_OFFSET_MIPMAP_COUNT",(function(){return ha})),r.d(t,"DDS_HEADER_OFFSET_PF_FLAGS",(function(){return ma})),r.d(t,"DDS_HEADER_OFFSET_PF_FOURCC",(function(){return pa})),r.d(t,"DDS_HEADER_OFFSET_RGB_BPP",(function(){return ba})),r.d(t,"DDS_HEADER_OFFSET_R_MASK",(function(){return va})),r.d(t,"DDS_HEADER_OFFSET_G_MASK",(function(){return ga})),r.d(t,"DDS_HEADER_OFFSET_B_MASK",(function(){return Ea})),r.d(t,"DDS_HEADER_OFFSET_A_MASK",(function(){return ya})),r.d(t,"DDS_HEADER_OFFSET_CAPS1",(function(){return Ta})),r.d(t,"DDS_HEADER_OFFSET_CAPS2",(function(){return Sa})),r.d(t,"DDS_HEADER_OFFSET_CAPS3",(function(){return wa})),r.d(t,"DDS_HEADER_OFFSET_CAPS4",(function(){return _a})),r.d(t,"DDS_HEADER_OFFSET_DXGI_FORMAT",(function(){return Ra})),r.d(t,"FOURCC_DXT1",(function(){return ja})),r.d(t,"FOURCC_DXT5",(function(){return Aa})),r.d(t,"FOURCC_DXT3",(function(){return Oa})),r.d(t,"FOURCC_DXT10",(function(){return za})),r.d(t,"FOURCC_D3DFMT_R16G16B16A16F",(function(){return Pa})),r.d(t,"FOURCC_D3DFMT_R32G32B32A32F",(function(){return xa})),r.d(t,"DXGI_FORMAT_R16G16B16A16_FLOAT",(function(){return Ca})),r.d(t,"DXGI_FORMAT_B8G8R8X8_UNORM",(function(){return Da})),r.d(t,"VendorRequestAnimationFrame",(function(){return Ma})),r.d(t,"VendorCancelAnimationFrame",(function(){return La})),r.d(t,"VendorRequestFullScreen",(function(){return Ia})),r.d(t,"VendorExitFullScreen",(function(){return Fa})),r.d(t,"VendorGetFullScreenElement",(function(){return Ga})),r.d(t,"VendorWebglPrefixes",(function(){return Na}));var i={HIGH:0,MEDIUM:1,LOW:2},n={HIGH:"hi",LOW:"lo"},a={MANUAL:0,USAGE_BASED:1},o={LOD_DISABLED:0,LOD_ENABLED:1},s={IDLE:0,OFFLINE:1,FIRING:2},u={NORMAL:0,SIEGE:1,NORMAL_TO_SIEGE:100,SIEGE_TO_NORMAL:101,WARP:2,NORMAL_TO_WARP:200,WARP_TO_NORMAL:201},l={SPACE_SCENE:0,SPACE_OBJECT:1,SPACE_SHIP:2,PLANET:3,LENS_FLARE:4},c=16384,f=256,d=1024,h=3553,m=34067,p=32879,b=10240,v=10241,g=10242,E=10243,y=5120,T=5121,S=5122,w=5123,_=5124,R=5125,j=5126,A=36193,O=5131,z=33189,P=33190,x=36012,C=35664,D=35665,M=35666,L=35667,I=35668,F=35669,G=35670,N=35671,B=35672,U=35673,V=35674,k=35675,H=35676,q={[j]:1,[_]:1,[y]:1,[G]:1,[C]:2,[L]:2,[N]:2,[D]:3,[I]:3,[B]:3,[M]:4,[F]:4,[U]:4,[k]:9,[H]:16},W=35678,Y=35679,X=35680,K=6402,Q=6406,Z=6407,$=6408,J=6409,ee=6410,te=34041,re=34042,ie=33321,ne=33325,ae=33326,oe=33330,se=33323,ue=33327,le=33328,ce=32849,fe=35905,de=36194,he=35898,me=35901,pe=34843,be=34837,ve=36221,ge=32856,Ee=32855,ye=34842,Te=34836,Se=36220,we=36232,_e=36214,Re=36226,je=36208,Ae=9728,Oe=9729,ze=9984,Pe=9985,xe=9986,Ce=9987,De=10497,Me=33071,Le=33648,Ie=0,Fe=1,Ge=768,Ne=769,Be=770,Ue=771,Ve=772,ke=773,He=774,qe=775,We=776,Ye=32769,Xe=32770,Ke=32771,Qe=32772,Ze=35633,$e=35632,Je=1028,et=1029,tt=1032,rt=512,it=513,nt=514,at=515,ot=516,st=517,ut=518,lt=519,ct=7680,ft=7681,dt=7682,ht=7683,mt=34055,pt=34056,bt=5386,vt=35040,gt=35044,Et=35048,yt=34962,Tt=34963,St=0,wt=1,_t=2,Rt=3,jt=4,At=5,Ot=6,zt=2304,Pt=2305,xt=2884,Ct=2929,Dt=3042,Mt=-1,Lt=0,It=1,Ft=2,Gt=3,Nt=4,Bt=5,Ut=6,Vt=7,kt=7,Ht=8,qt=9,Wt=14,Yt=15,Xt=16,Kt=19,Qt=20,Zt=22,$t=23,Jt=24,er=25,tr=26,rr=27,ir=28,nr=29,ar=34,or=35,sr=36,ur=37,lr=38,cr=48,fr=52,dr=53,hr=54,mr=55,pr=56,br=57,vr=58,gr=59,Er=60,yr=128,Tr=129,Sr=130,wr=131,_r=132,Rr=133,jr=134,Ar=135,Or=136,zr=137,Pr=139,xr=140,Cr=141,Dr=142,Mr=143,Lr=145,Ir=146,Fr=147,Gr=148,Nr=151,Br=152,Ur=154,Vr=155,kr=156,Hr=157,qr=158,Wr=159,Yr=160,Xr=161,Kr=162,Qr=163,Zr=165,$r=166,Jr=167,ei=168,ti=170,ri=171,ii=172,ni=173,ai=174,oi=175,si=176,ui=185,li=186,ci=187,fi=188,di=189,hi=190,mi=191,pi=192,bi=193,vi=194,gi=195,Ei=206,yi=207,Ti=208,Si=209,wi=1,_i=2,Ri=3,ji=1,Ai=2,Oi=3,zi=4,Pi=5,xi=6,Ci=7,Di=8,Mi=1,Li=2,Ii=3,Fi=4,Gi=5,Ni=6,Bi=7,Ui=8,Vi=9,ki=10,Hi=11,qi=12,Wi=13,Yi=14,Xi=15,Ki=1,Qi=2,Zi=3,$i=4,Ji=5,en=0,tn=1,rn=2,nn=4,an=5,on=6,sn=6,un=7,ln=8,cn=8,fn=9,dn=10,hn=11,mn=0,pn=0,bn=1,vn=2,gn=3,En=4,yn=5,Tn=6,Sn=7,wn=8,_n=9,Rn=10,jn=11,An=12,On=13,zn=14,Pn=15,xn=[0,De,Le,Me,Me,Me],Cn=[-1,Ie,Fe,Ge,Ne,Be,Ue,Ve,ke,He,qe,We,-1,-1,Ye,Xe],Dn={[Ae]:1,[Oe]:2},Mn={[Ae]:0,[Oe]:0,[ze]:1,[Pe]:1,[xe]:2,[Ce]:2},Ln=542327876,In=1,Fn=2,Gn=4,Nn=8,Bn=4096,Un=131072,Vn=524288,kn=8388608,Hn=8,qn=4194304,Wn=4096,Yn=512,Xn=1024,Kn=2048,Qn=4096,Zn=8192,$n=16384,Jn=32768,ea=2097152,ta=1,ra=2,ia=4,na=64,aa=512,oa=131072,sa=31,ua=0,la=1,ca=2,fa=3,da=4,ha=7,ma=20,pa=21,ba=22,va=23,ga=24,Ea=25,ya=26,Ta=27,Sa=28,wa=29,_a=30,Ra=32,ja=827611204,Aa=894720068,Oa=861165636,za=827611204,Pa=113,xa=116,Ca=10,Da=88,Ma=["requestAnimationFrame","webkitRequestAnimationFrame","mozRequestAnimationFrame","oRequestAnimationFrame","msRequestAnimationFrame"],La=["cancelAnimationFrame","webkitRequestAnimationFrame","mozRequestAnimationFrame","oRequestAnimationFrame","msRequestAnimationFrame"],Ia=["requestFullscreen","webkitRequestFullscreen","mozRequestFullScreen","msRequestFullscreen"],Fa=["exitFullscreen","webkitExitFullscreen","mozCancelFullScreen","msExitFullscreen"],Ga=["fullscreenElement","webkitFullscreenElement","mozFullScreenElement","msFullscreenElement"],Na=["","MOZ_","WEBKIT_","WEBGL_"]},"./global/engine/index.js":function(e,t,r){"use strict";r.r(t),r.d(t,"store",(function(){return a}));var i=r("./core/engine/index.js"),n=r("./global/engine/Tw2Constant.js");r.d(t,"TextureQuality",(function(){return n.TextureQuality})),r.d(t,"ShaderQuality",(function(){return n.ShaderQuality})),r.d(t,"ResourceUnloadPolicy",(function(){return n.ResourceUnloadPolicy})),r.d(t,"LodSettings",(function(){return n.LodSettings})),r.d(t,"TurretState",(function(){return n.TurretState})),r.d(t,"AnimationState",(function(){return n.AnimationState})),r.d(t,"WrappedType",(function(){return n.WrappedType})),r.d(t,"GL_COLOR_BUFFER_BIT",(function(){return n.GL_COLOR_BUFFER_BIT})),r.d(t,"GL_DEPTH_BUFFER_BIT",(function(){return n.GL_DEPTH_BUFFER_BIT})),r.d(t,"GL_STENCIL_BUFFER_BIT",(function(){return n.GL_STENCIL_BUFFER_BIT})),r.d(t,"GL_TEXTURE_2D",(function(){return n.GL_TEXTURE_2D})),r.d(t,"GL_TEXTURE_CUBE_MAP",(function(){return n.GL_TEXTURE_CUBE_MAP})),r.d(t,"GL_TEXTURE_3D",(function(){return n.GL_TEXTURE_3D})),r.d(t,"GL_TEXTURE_MAG_FILTER",(function(){return n.GL_TEXTURE_MAG_FILTER})),r.d(t,"GL_TEXTURE_MIN_FILTER",(function(){return n.GL_TEXTURE_MIN_FILTER})),r.d(t,"GL_TEXTURE_WRAP_S",(function(){return n.GL_TEXTURE_WRAP_S})),r.d(t,"GL_TEXTURE_WRAP_T",(function(){return n.GL_TEXTURE_WRAP_T})),r.d(t,"GL_BYTE",(function(){return n.GL_BYTE})),r.d(t,"GL_UNSIGNED_BYTE",(function(){return n.GL_UNSIGNED_BYTE})),r.d(t,"GL_SHORT",(function(){return n.GL_SHORT})),r.d(t,"GL_UNSIGNED_SHORT",(function(){return n.GL_UNSIGNED_SHORT})),r.d(t,"GL_INT",(function(){return n.GL_INT})),r.d(t,"GL_UNSIGNED_INT",(function(){return n.GL_UNSIGNED_INT})),r.d(t,"GL_FLOAT",(function(){return n.GL_FLOAT})),r.d(t,"GL_HALF_FLOAT_OES",(function(){return n.GL_HALF_FLOAT_OES})),r.d(t,"GL_HALF_FLOAT",(function(){return n.GL_HALF_FLOAT})),r.d(t,"GL_DEPTH_COMPONENT16",(function(){return n.GL_DEPTH_COMPONENT16})),r.d(t,"GL_DEPTH_COMPONENT24",(function(){return n.GL_DEPTH_COMPONENT24})),r.d(t,"GL_DEPTH_COMPONENT32F",(function(){return n.GL_DEPTH_COMPONENT32F})),r.d(t,"GL_FLOAT_VEC2",(function(){return n.GL_FLOAT_VEC2})),r.d(t,"GL_FLOAT_VEC3",(function(){return n.GL_FLOAT_VEC3})),r.d(t,"GL_FLOAT_VEC4",(function(){return n.GL_FLOAT_VEC4})),r.d(t,"GL_INT_VEC2",(function(){return n.GL_INT_VEC2})),r.d(t,"GL_INT_VEC3",(function(){return n.GL_INT_VEC3})),r.d(t,"GL_INT_VEC4",(function(){return n.GL_INT_VEC4})),r.d(t,"GL_BOOL",(function(){return n.GL_BOOL})),r.d(t,"GL_BOOL_VEC2",(function(){return n.GL_BOOL_VEC2})),r.d(t,"GL_BOOL_VEC3",(function(){return n.GL_BOOL_VEC3})),r.d(t,"GL_BOOL_VEC4",(function(){return n.GL_BOOL_VEC4})),r.d(t,"GL_FLOAT_MAT2",(function(){return n.GL_FLOAT_MAT2})),r.d(t,"GL_FLOAT_MAT3",(function(){return n.GL_FLOAT_MAT3})),r.d(t,"GL_FLOAT_MAT4",(function(){return n.GL_FLOAT_MAT4})),r.d(t,"GL_TYPE_LENGTH",(function(){return n.GL_TYPE_LENGTH})),r.d(t,"GL_SAMPLER_2D",(function(){return n.GL_SAMPLER_2D})),r.d(t,"GL_SAMPLER_3D",(function(){return n.GL_SAMPLER_3D})),r.d(t,"GL_SAMPLER_CUBE",(function(){return n.GL_SAMPLER_CUBE})),r.d(t,"GL_DEPTH_COMPONENT",(function(){return n.GL_DEPTH_COMPONENT})),r.d(t,"GL_ALPHA",(function(){return n.GL_ALPHA})),r.d(t,"GL_RGB",(function(){return n.GL_RGB})),r.d(t,"GL_RGBA",(function(){return n.GL_RGBA})),r.d(t,"GL_LUMINANCE",(function(){return n.GL_LUMINANCE})),r.d(t,"GL_LUMINANCE_ALPHA",(function(){return n.GL_LUMINANCE_ALPHA})),r.d(t,"GL_DEPTH_STENCIL",(function(){return n.GL_DEPTH_STENCIL})),r.d(t,"GL_UNSIGNED_INT_24_8_WEBGL",(function(){return n.GL_UNSIGNED_INT_24_8_WEBGL})),r.d(t,"GL_R8",(function(){return n.GL_R8})),r.d(t,"GL_R16F",(function(){return n.GL_R16F})),r.d(t,"GL_R32F",(function(){return n.GL_R32F})),r.d(t,"GL_R8UI",(function(){return n.GL_R8UI})),r.d(t,"GL_RG8",(function(){return n.GL_RG8})),r.d(t,"GL_RG16F",(function(){return n.GL_RG16F})),r.d(t,"GL_RG32F",(function(){return n.GL_RG32F})),r.d(t,"GL_RGB8",(function(){return n.GL_RGB8})),r.d(t,"GL_SRGB8",(function(){return n.GL_SRGB8})),r.d(t,"GL_RGB565",(function(){return n.GL_RGB565})),r.d(t,"GL_R11F_G11F_B10F",(function(){return n.GL_R11F_G11F_B10F})),r.d(t,"GL_RGB9_E5",(function(){return n.GL_RGB9_E5})),r.d(t,"GL_RGB16F",(function(){return n.GL_RGB16F})),r.d(t,"GL_RGB32F",(function(){return n.GL_RGB32F})),r.d(t,"GL_RGB8UI",(function(){return n.GL_RGB8UI})),r.d(t,"GL_RGBA8",(function(){return n.GL_RGBA8})),r.d(t,"GL_RGB5_A1",(function(){return n.GL_RGB5_A1})),r.d(t,"GL_RGBA16F",(function(){return n.GL_RGBA16F})),r.d(t,"GL_RGBA32F",(function(){return n.GL_RGBA32F})),r.d(t,"GL_RGBA8UI",(function(){return n.GL_RGBA8UI})),r.d(t,"GL_RGBA16I",(function(){return n.GL_RGBA16I})),r.d(t,"GL_RGBA16UI",(function(){return n.GL_RGBA16UI})),r.d(t,"GL_RGBA32I",(function(){return n.GL_RGBA32I})),r.d(t,"GL_RGBA32UI",(function(){return n.GL_RGBA32UI})),r.d(t,"GL_NEAREST",(function(){return n.GL_NEAREST})),r.d(t,"GL_LINEAR",(function(){return n.GL_LINEAR})),r.d(t,"GL_NEAREST_MIPMAP_NEAREST",(function(){return n.GL_NEAREST_MIPMAP_NEAREST})),r.d(t,"GL_LINEAR_MIPMAP_NEAREST",(function(){return n.GL_LINEAR_MIPMAP_NEAREST})),r.d(t,"GL_NEAREST_MIPMAP_LINEAR",(function(){return n.GL_NEAREST_MIPMAP_LINEAR})),r.d(t,"GL_LINEAR_MIPMAP_LINEAR",(function(){return n.GL_LINEAR_MIPMAP_LINEAR})),r.d(t,"GL_REPEAT",(function(){return n.GL_REPEAT})),r.d(t,"GL_CLAMP_TO_EDGE",(function(){return n.GL_CLAMP_TO_EDGE})),r.d(t,"GL_MIRRORED_REPEAT",(function(){return n.GL_MIRRORED_REPEAT})),r.d(t,"GL_ZERO",(function(){return n.GL_ZERO})),r.d(t,"GL_ONE",(function(){return n.GL_ONE})),r.d(t,"GL_SRC_COLOR",(function(){return n.GL_SRC_COLOR})),r.d(t,"GL_ONE_MINUS_SRC_COLOR",(function(){return n.GL_ONE_MINUS_SRC_COLOR})),r.d(t,"GL_SRC_ALPHA",(function(){return n.GL_SRC_ALPHA})),r.d(t,"GL_ONE_MINUS_SRC_ALPHA",(function(){return n.GL_ONE_MINUS_SRC_ALPHA})),r.d(t,"GL_DST_ALPHA",(function(){return n.GL_DST_ALPHA})),r.d(t,"GL_ONE_MINUS_DST_ALPHA",(function(){return n.GL_ONE_MINUS_DST_ALPHA})),r.d(t,"GL_DST_COLOR",(function(){return n.GL_DST_COLOR})),r.d(t,"GL_ONE_MINUS_DST_COLOR",(function(){return n.GL_ONE_MINUS_DST_COLOR})),r.d(t,"GL_SRC_ALPHA_SATURATE",(function(){return n.GL_SRC_ALPHA_SATURATE})),r.d(t,"GL_CONSTANT_COLOR",(function(){return n.GL_CONSTANT_COLOR})),r.d(t,"GL_ONE_MINUS_CONSTANT_COLOR",(function(){return n.GL_ONE_MINUS_CONSTANT_COLOR})),r.d(t,"GL_CONSTANT_ALPHA",(function(){return n.GL_CONSTANT_ALPHA})),r.d(t,"GL_ONE_MINUS_CONSTANT_ALPHA",(function(){return n.GL_ONE_MINUS_CONSTANT_ALPHA})),r.d(t,"GL_VERTEX_SHADER",(function(){return n.GL_VERTEX_SHADER})),r.d(t,"GL_FRAGMENT_SHADER",(function(){return n.GL_FRAGMENT_SHADER})),r.d(t,"GL_FRONT",(function(){return n.GL_FRONT})),r.d(t,"GL_BACK",(function(){return n.GL_BACK})),r.d(t,"GL_FRONT_AND_BACK",(function(){return n.GL_FRONT_AND_BACK})),r.d(t,"GL_NEVER",(function(){return n.GL_NEVER})),r.d(t,"GL_LESS",(function(){return n.GL_LESS})),r.d(t,"GL_EQUAL",(function(){return n.GL_EQUAL})),r.d(t,"GL_LEQUAL",(function(){return n.GL_LEQUAL})),r.d(t,"GL_GREATER",(function(){return n.GL_GREATER})),r.d(t,"GL_NOTEQUAL",(function(){return n.GL_NOTEQUAL})),r.d(t,"GL_GEQUAL",(function(){return n.GL_GEQUAL})),r.d(t,"GL_ALWAYS",(function(){return n.GL_ALWAYS})),r.d(t,"GL_KEEP",(function(){return n.GL_KEEP})),r.d(t,"GL_REPLACE",(function(){return n.GL_REPLACE})),r.d(t,"GL_INCR",(function(){return n.GL_INCR})),r.d(t,"GL_DECR",(function(){return n.GL_DECR})),r.d(t,"GL_INCR_WRAP",(function(){return n.GL_INCR_WRAP})),r.d(t,"GL_DECR_WRAP",(function(){return n.GL_DECR_WRAP})),r.d(t,"GL_INVERT",(function(){return n.GL_INVERT})),r.d(t,"GL_STREAM_DRAW",(function(){return n.GL_STREAM_DRAW})),r.d(t,"GL_STATIC_DRAW",(function(){return n.GL_STATIC_DRAW})),r.d(t,"GL_DYNAMIC_DRAW",(function(){return n.GL_DYNAMIC_DRAW})),r.d(t,"GL_ARRAY_BUFFER",(function(){return n.GL_ARRAY_BUFFER})),r.d(t,"GL_ELEMENT_ARRAY_BUFFER",(function(){return n.GL_ELEMENT_ARRAY_BUFFER})),r.d(t,"GL_POINTS",(function(){return n.GL_POINTS})),r.d(t,"GL_LINES",(function(){return n.GL_LINES})),r.d(t,"GL_LINE_LOOP",(function(){return n.GL_LINE_LOOP})),r.d(t,"GL_LINE_STRIP",(function(){return n.GL_LINE_STRIP})),r.d(t,"GL_TRIANGLES",(function(){return n.GL_TRIANGLES})),r.d(t,"GL_TRIANGLE_STRIP",(function(){return n.GL_TRIANGLE_STRIP})),r.d(t,"GL_TRIANGLE_FAN",(function(){return n.GL_TRIANGLE_FAN})),r.d(t,"GL_CW",(function(){return n.GL_CW})),r.d(t,"GL_CCW",(function(){return n.GL_CCW})),r.d(t,"GL_CULL_FACE",(function(){return n.GL_CULL_FACE})),r.d(t,"GL_DEPTH_TEST",(function(){return n.GL_DEPTH_TEST})),r.d(t,"GL_BLEND",(function(){return n.GL_BLEND})),r.d(t,"RM_ANY",(function(){return n.RM_ANY})),r.d(t,"RM_OPAQUE",(function(){return n.RM_OPAQUE})),r.d(t,"RM_DECAL",(function(){return n.RM_DECAL})),r.d(t,"RM_TRANSPARENT",(function(){return n.RM_TRANSPARENT})),r.d(t,"RM_ADDITIVE",(function(){return n.RM_ADDITIVE})),r.d(t,"RM_DEPTH",(function(){return n.RM_DEPTH})),r.d(t,"RM_FULLSCREEN",(function(){return n.RM_FULLSCREEN})),r.d(t,"RM_PICKABLE",(function(){return n.RM_PICKABLE})),r.d(t,"RM_DISTORTION",(function(){return n.RM_DISTORTION})),r.d(t,"RS_ZENABLE",(function(){return n.RS_ZENABLE})),r.d(t,"RS_FILLMODE",(function(){return n.RS_FILLMODE})),r.d(t,"RS_SHADEMODE",(function(){return n.RS_SHADEMODE})),r.d(t,"RS_ZWRITEENABLE",(function(){return n.RS_ZWRITEENABLE})),r.d(t,"RS_ALPHATESTENABLE",(function(){return n.RS_ALPHATESTENABLE})),r.d(t,"RS_LASTPIXEL",(function(){return n.RS_LASTPIXEL})),r.d(t,"RS_SRCBLEND",(function(){return n.RS_SRCBLEND})),r.d(t,"RS_DESTBLEND",(function(){return n.RS_DESTBLEND})),r.d(t,"RS_CULLMODE",(function(){return n.RS_CULLMODE})),r.d(t,"RS_ZFUNC",(function(){return n.RS_ZFUNC})),r.d(t,"RS_ALPHAREF",(function(){return n.RS_ALPHAREF})),r.d(t,"RS_ALPHAFUNC",(function(){return n.RS_ALPHAFUNC})),r.d(t,"RS_DITHERENABLE",(function(){return n.RS_DITHERENABLE})),r.d(t,"RS_ALPHABLENDENABLE",(function(){return n.RS_ALPHABLENDENABLE})),r.d(t,"RS_FOGENABLE",(function(){return n.RS_FOGENABLE})),r.d(t,"RS_SPECULARENABLE",(function(){return n.RS_SPECULARENABLE})),r.d(t,"RS_FOGCOLOR",(function(){return n.RS_FOGCOLOR})),r.d(t,"RS_FOGTABLEMODE",(function(){return n.RS_FOGTABLEMODE})),r.d(t,"RS_FOGSTART",(function(){return n.RS_FOGSTART})),r.d(t,"RS_FOGEND",(function(){return n.RS_FOGEND})),r.d(t,"RS_FOGDENSITY",(function(){return n.RS_FOGDENSITY})),r.d(t,"RS_RANGEFOGENABLE",(function(){return n.RS_RANGEFOGENABLE})),r.d(t,"RS_STENCILENABLE",(function(){return n.RS_STENCILENABLE})),r.d(t,"RS_STENCILFAIL",(function(){return n.RS_STENCILFAIL})),r.d(t,"RS_STENCILZFAIL",(function(){return n.RS_STENCILZFAIL})),r.d(t,"RS_STENCILPASS",(function(){return n.RS_STENCILPASS})),r.d(t,"RS_STENCILFUNC",(function(){return n.RS_STENCILFUNC})),r.d(t,"RS_STENCILREF",(function(){return n.RS_STENCILREF})),r.d(t,"RS_STENCILMASK",(function(){return n.RS_STENCILMASK})),r.d(t,"RS_STENCILWRITEMASK",(function(){return n.RS_STENCILWRITEMASK})),r.d(t,"RS_TEXTUREFACTOR",(function(){return n.RS_TEXTUREFACTOR})),r.d(t,"RS_WRAP0",(function(){return n.RS_WRAP0})),r.d(t,"RS_WRAP1",(function(){return n.RS_WRAP1})),r.d(t,"RS_WRAP2",(function(){return n.RS_WRAP2})),r.d(t,"RS_WRAP3",(function(){return n.RS_WRAP3})),r.d(t,"RS_WRAP4",(function(){return n.RS_WRAP4})),r.d(t,"RS_WRAP5",(function(){return n.RS_WRAP5})),r.d(t,"RS_WRAP6",(function(){return n.RS_WRAP6})),r.d(t,"RS_WRAP7",(function(){return n.RS_WRAP7})),r.d(t,"RS_CLIPPING",(function(){return n.RS_CLIPPING})),r.d(t,"RS_LIGHTING",(function(){return n.RS_LIGHTING})),r.d(t,"RS_AMBIENT",(function(){return n.RS_AMBIENT})),r.d(t,"RS_FOGVERTEXMODE",(function(){return n.RS_FOGVERTEXMODE})),r.d(t,"RS_COLORVERTEX",(function(){return n.RS_COLORVERTEX})),r.d(t,"RS_LOCALVIEWER",(function(){return n.RS_LOCALVIEWER})),r.d(t,"RS_NORMALIZENORMALS",(function(){return n.RS_NORMALIZENORMALS})),r.d(t,"RS_DIFFUSEMATERIALSOURCE",(function(){return n.RS_DIFFUSEMATERIALSOURCE})),r.d(t,"RS_SPECULARMATERIALSOURCE",(function(){return n.RS_SPECULARMATERIALSOURCE})),r.d(t,"RS_AMBIENTMATERIALSOURCE",(function(){return n.RS_AMBIENTMATERIALSOURCE})),r.d(t,"RS_EMISSIVEMATERIALSOURCE",(function(){return n.RS_EMISSIVEMATERIALSOURCE})),r.d(t,"RS_VERTEXBLEND",(function(){return n.RS_VERTEXBLEND})),r.d(t,"RS_CLIPPLANEENABLE",(function(){return n.RS_CLIPPLANEENABLE})),r.d(t,"RS_POINTSIZE",(function(){return n.RS_POINTSIZE})),r.d(t,"RS_POINTSIZE_MIN",(function(){return n.RS_POINTSIZE_MIN})),r.d(t,"RS_POINTSPRITEENABLE",(function(){return n.RS_POINTSPRITEENABLE})),r.d(t,"RS_POINTSCALEENABLE",(function(){return n.RS_POINTSCALEENABLE})),r.d(t,"RS_POINTSCALE_A",(function(){return n.RS_POINTSCALE_A})),r.d(t,"RS_POINTSCALE_B",(function(){return n.RS_POINTSCALE_B})),r.d(t,"RS_POINTSCALE_C",(function(){return n.RS_POINTSCALE_C})),r.d(t,"RS_MULTISAMPLEANTIALIAS",(function(){return n.RS_MULTISAMPLEANTIALIAS})),r.d(t,"RS_MULTISAMPLEMASK",(function(){return n.RS_MULTISAMPLEMASK})),r.d(t,"RS_PATCHEDGESTYLE",(function(){return n.RS_PATCHEDGESTYLE})),r.d(t,"RS_DEBUGMONITORTOKEN",(function(){return n.RS_DEBUGMONITORTOKEN})),r.d(t,"RS_POINTSIZE_MAX",(function(){return n.RS_POINTSIZE_MAX})),r.d(t,"RS_INDEXEDVERTEXBLENDENABLE",(function(){return n.RS_INDEXEDVERTEXBLENDENABLE})),r.d(t,"RS_COLORWRITEENABLE",(function(){return n.RS_COLORWRITEENABLE})),r.d(t,"RS_TWEENFACTOR",(function(){return n.RS_TWEENFACTOR})),r.d(t,"RS_BLENDOP",(function(){return n.RS_BLENDOP})),r.d(t,"RS_POSITIONDEGREE",(function(){return n.RS_POSITIONDEGREE})),r.d(t,"RS_NORMALDEGREE",(function(){return n.RS_NORMALDEGREE})),r.d(t,"RS_SCISSORTESTENABLE",(function(){return n.RS_SCISSORTESTENABLE})),r.d(t,"RS_SLOPESCALEDEPTHBIAS",(function(){return n.RS_SLOPESCALEDEPTHBIAS})),r.d(t,"RS_ANTIALIASEDLINEENABLE",(function(){return n.RS_ANTIALIASEDLINEENABLE})),r.d(t,"RS_TWOSIDEDSTENCILMODE",(function(){return n.RS_TWOSIDEDSTENCILMODE})),r.d(t,"RS_CCW_STENCILFAIL",(function(){return n.RS_CCW_STENCILFAIL})),r.d(t,"RS_CCW_STENCILZFAIL",(function(){return n.RS_CCW_STENCILZFAIL})),r.d(t,"RS_CCW_STENCILPASS",(function(){return n.RS_CCW_STENCILPASS})),r.d(t,"RS_CCW_STENCILFUNC",(function(){return n.RS_CCW_STENCILFUNC})),r.d(t,"RS_COLORWRITEENABLE1",(function(){return n.RS_COLORWRITEENABLE1})),r.d(t,"RS_COLORWRITEENABLE2",(function(){return n.RS_COLORWRITEENABLE2})),r.d(t,"RS_COLORWRITEENABLE3",(function(){return n.RS_COLORWRITEENABLE3})),r.d(t,"RS_BLENDFACTOR",(function(){return n.RS_BLENDFACTOR})),r.d(t,"RS_SRGBWRITEENABLE",(function(){return n.RS_SRGBWRITEENABLE})),r.d(t,"RS_DEPTHBIAS",(function(){return n.RS_DEPTHBIAS})),r.d(t,"RS_SEPARATEALPHABLENDENABLE",(function(){return n.RS_SEPARATEALPHABLENDENABLE})),r.d(t,"RS_SRCBLENDALPHA",(function(){return n.RS_SRCBLENDALPHA})),r.d(t,"RS_DESTBLENDALPHA",(function(){return n.RS_DESTBLENDALPHA})),r.d(t,"RS_BLENDOPALPHA",(function(){return n.RS_BLENDOPALPHA})),r.d(t,"CULL_NONE",(function(){return n.CULL_NONE})),r.d(t,"CULL_CW",(function(){return n.CULL_CW})),r.d(t,"CULL_CCW",(function(){return n.CULL_CCW})),r.d(t,"CMP_NEVER",(function(){return n.CMP_NEVER})),r.d(t,"CMP_LESS",(function(){return n.CMP_LESS})),r.d(t,"CMP_EQUAL",(function(){return n.CMP_EQUAL})),r.d(t,"CMP_LEQUAL",(function(){return n.CMP_LEQUAL})),r.d(t,"CMP_GREATER",(function(){return n.CMP_GREATER})),r.d(t,"CMP_NOTEQUAL",(function(){return n.CMP_NOTEQUAL})),r.d(t,"CMP_GREATEREQUAL",(function(){return n.CMP_GREATEREQUAL})),r.d(t,"CMP_ALWAYS",(function(){return n.CMP_ALWAYS})),r.d(t,"BLEND_ZERO",(function(){return n.BLEND_ZERO})),r.d(t,"BLEND_ONE",(function(){return n.BLEND_ONE})),r.d(t,"BLEND_SRCCOLOR",(function(){return n.BLEND_SRCCOLOR})),r.d(t,"BLEND_INVSRCCOLOR",(function(){return n.BLEND_INVSRCCOLOR})),r.d(t,"BLEND_SRCALPHA",(function(){return n.BLEND_SRCALPHA})),r.d(t,"BLEND_INVSRCALPHA",(function(){return n.BLEND_INVSRCALPHA})),r.d(t,"BLEND_DESTALPHA",(function(){return n.BLEND_DESTALPHA})),r.d(t,"BLEND_INVDESTALPHA",(function(){return n.BLEND_INVDESTALPHA})),r.d(t,"BLEND_DESTCOLOR",(function(){return n.BLEND_DESTCOLOR})),r.d(t,"BLEND_INVDESTCOLOR",(function(){return n.BLEND_INVDESTCOLOR})),r.d(t,"BLEND_SRCALPHASAT",(function(){return n.BLEND_SRCALPHASAT})),r.d(t,"BLEND_BOTHSRCALPHA",(function(){return n.BLEND_BOTHSRCALPHA})),r.d(t,"BLEND_BOTHINVSRCALPHA",(function(){return n.BLEND_BOTHINVSRCALPHA})),r.d(t,"BLEND_BLENDFACTOR",(function(){return n.BLEND_BLENDFACTOR})),r.d(t,"BLEND_INVBLENDFACTOR",(function(){return n.BLEND_INVBLENDFACTOR})),r.d(t,"BLENDOP_ADD",(function(){return n.BLENDOP_ADD})),r.d(t,"BLENDOP_SUBTRACT",(function(){return n.BLENDOP_SUBTRACT})),r.d(t,"BLENDOP_REVSUBTRACT",(function(){return n.BLENDOP_REVSUBTRACT})),r.d(t,"BLENDOP_MIN",(function(){return n.BLENDOP_MIN})),r.d(t,"BLENDOP_MAX",(function(){return n.BLENDOP_MAX})),r.d(t,"TF_ALPHA",(function(){return n.TF_ALPHA})),r.d(t,"TF_LUMINANCE",(function(){return n.TF_LUMINANCE})),r.d(t,"TF_LUMINANCE_ALPHA",(function(){return n.TF_LUMINANCE_ALPHA})),r.d(t,"TF_RGB",(function(){return n.TF_RGB})),r.d(t,"TF_RGBA",(function(){return n.TF_RGBA})),r.d(t,"TF_RED",(function(){return n.TF_RED})),r.d(t,"TF_R",(function(){return n.TF_R})),r.d(t,"TF_RG",(function(){return n.TF_RG})),r.d(t,"TF_RED_INTEGER",(function(){return n.TF_RED_INTEGER})),r.d(t,"TF_R_INTEGER",(function(){return n.TF_R_INTEGER})),r.d(t,"TF_RG_INTEGER",(function(){return n.TF_RG_INTEGER})),r.d(t,"TF_RGB_INTEGER",(function(){return n.TF_RGB_INTEGER})),r.d(t,"TF_RGBA_INTEGER",(function(){return n.TF_RGBA_INTEGER})),r.d(t,"TT_UNSIGNED_BYTE",(function(){return n.TT_UNSIGNED_BYTE})),r.d(t,"TT_UNSIGNED_INT",(function(){return n.TT_UNSIGNED_INT})),r.d(t,"TT_FLOAT",(function(){return n.TT_FLOAT})),r.d(t,"TT_HALF_FLOAT",(function(){return n.TT_HALF_FLOAT})),r.d(t,"TT_BYTE",(function(){return n.TT_BYTE})),r.d(t,"TT_SHORT",(function(){return n.TT_SHORT})),r.d(t,"TT_UNSIGNED_SHORT",(function(){return n.TT_UNSIGNED_SHORT})),r.d(t,"TT_INT",(function(){return n.TT_INT})),r.d(t,"TT_UNSIGNED_INTEGER",(function(){return n.TT_UNSIGNED_INTEGER})),r.d(t,"TT_UNSIGNED_SHORT_4_4_4_4",(function(){return n.TT_UNSIGNED_SHORT_4_4_4_4})),r.d(t,"TT_UNSIGNED_SHORT_5_5_5_1",(function(){return n.TT_UNSIGNED_SHORT_5_5_5_1})),r.d(t,"TT_UNSIGNED_SHORT_5_6_5",(function(){return n.TT_UNSIGNED_SHORT_5_6_5})),r.d(t,"TT_UNSIGNED_INT_2_10_10_10_REV",(function(){return n.TT_UNSIGNED_INT_2_10_10_10_REV})),r.d(t,"TT_UNSIGNED_INT_24_8",(function(){return n.TT_UNSIGNED_INT_24_8})),r.d(t,"TT_UNSIGNED_INT_10F_11F_11F_REV",(function(){return n.TT_UNSIGNED_INT_10F_11F_11F_REV})),r.d(t,"TT_UNSIGNED_INT_5_9_9_9_REV",(function(){return n.TT_UNSIGNED_INT_5_9_9_9_REV})),r.d(t,"TT_FLOAT_32_UNSIGNED_INT_24_8_REV",(function(){return n.TT_FLOAT_32_UNSIGNED_INT_24_8_REV})),r.d(t,"WrapModes",(function(){return n.WrapModes})),r.d(t,"BlendTable",(function(){return n.BlendTable})),r.d(t,"FilterMode",(function(){return n.FilterMode})),r.d(t,"MipFilterMode",(function(){return n.MipFilterMode})),r.d(t,"DDS_MAGIC",(function(){return n.DDS_MAGIC})),r.d(t,"DDSD_CAPS",(function(){return n.DDSD_CAPS})),r.d(t,"DDSD_HEIGHT",(function(){return n.DDSD_HEIGHT})),r.d(t,"DDSD_WIDTH",(function(){return n.DDSD_WIDTH})),r.d(t,"DDSD_PITCH",(function(){return n.DDSD_PITCH})),r.d(t,"DDSD_PIXELFORMAT",(function(){return n.DDSD_PIXELFORMAT})),r.d(t,"DDSD_MIPMAPCOUNT",(function(){return n.DDSD_MIPMAPCOUNT})),r.d(t,"DDSD_LINEARSIZE",(function(){return n.DDSD_LINEARSIZE})),r.d(t,"DDSD_DEPTH",(function(){return n.DDSD_DEPTH})),r.d(t,"DDSCAPS_COMPLEX",(function(){return n.DDSCAPS_COMPLEX})),r.d(t,"DDSCAPS_MIPMAP",(function(){return n.DDSCAPS_MIPMAP})),r.d(t,"DDSCAPS_TEXTURE",(function(){return n.DDSCAPS_TEXTURE})),r.d(t,"DDSCAPS2_CUBEMAP",(function(){return n.DDSCAPS2_CUBEMAP})),r.d(t,"DDSCAPS2_CUBEMAP_POSITIVEX",(function(){return n.DDSCAPS2_CUBEMAP_POSITIVEX})),r.d(t,"DDSCAPS2_CUBEMAP_NEGATIVEX",(function(){return n.DDSCAPS2_CUBEMAP_NEGATIVEX})),r.d(t,"DDSCAPS2_CUBEMAP_POSITIVEY",(function(){return n.DDSCAPS2_CUBEMAP_POSITIVEY})),r.d(t,"DDSCAPS2_CUBEMAP_NEGATIVEY",(function(){return n.DDSCAPS2_CUBEMAP_NEGATIVEY})),r.d(t,"DDSCAPS2_CUBEMAP_POSITIVEZ",(function(){return n.DDSCAPS2_CUBEMAP_POSITIVEZ})),r.d(t,"DDSCAPS2_CUBEMAP_NEGATIVEZ",(function(){return n.DDSCAPS2_CUBEMAP_NEGATIVEZ})),r.d(t,"DDSCAPS2_VOLUME",(function(){return n.DDSCAPS2_VOLUME})),r.d(t,"DDPF_ALPHAPIXELS",(function(){return n.DDPF_ALPHAPIXELS})),r.d(t,"DDPF_ALPHA",(function(){return n.DDPF_ALPHA})),r.d(t,"DDPF_FOURCC",(function(){return n.DDPF_FOURCC})),r.d(t,"DDPF_RGB",(function(){return n.DDPF_RGB})),r.d(t,"DDPF_YUV",(function(){return n.DDPF_YUV})),r.d(t,"DDPF_LUMINANCE",(function(){return n.DDPF_LUMINANCE})),r.d(t,"DDS_HEADER_LENGTH_INT",(function(){return n.DDS_HEADER_LENGTH_INT})),r.d(t,"DDS_HEADER_OFFSET_MAGIC",(function(){return n.DDS_HEADER_OFFSET_MAGIC})),r.d(t,"DDS_HEADER_OFFSET_SIZE",(function(){return n.DDS_HEADER_OFFSET_SIZE})),r.d(t,"DDS_HEADER_OFFSET_FLAGS",(function(){return n.DDS_HEADER_OFFSET_FLAGS})),r.d(t,"DDS_HEADER_OFFSET_HEIGHT",(function(){return n.DDS_HEADER_OFFSET_HEIGHT})),r.d(t,"DDS_HEADER_OFFSET_WIDTH",(function(){return n.DDS_HEADER_OFFSET_WIDTH})),r.d(t,"DDS_HEADER_OFFSET_MIPMAP_COUNT",(function(){return n.DDS_HEADER_OFFSET_MIPMAP_COUNT})),r.d(t,"DDS_HEADER_OFFSET_PF_FLAGS",(function(){return n.DDS_HEADER_OFFSET_PF_FLAGS})),r.d(t,"DDS_HEADER_OFFSET_PF_FOURCC",(function(){return n.DDS_HEADER_OFFSET_PF_FOURCC})),r.d(t,"DDS_HEADER_OFFSET_RGB_BPP",(function(){return n.DDS_HEADER_OFFSET_RGB_BPP})),r.d(t,"DDS_HEADER_OFFSET_R_MASK",(function(){return n.DDS_HEADER_OFFSET_R_MASK})),r.d(t,"DDS_HEADER_OFFSET_G_MASK",(function(){return n.DDS_HEADER_OFFSET_G_MASK})),r.d(t,"DDS_HEADER_OFFSET_B_MASK",(function(){return n.DDS_HEADER_OFFSET_B_MASK})),r.d(t,"DDS_HEADER_OFFSET_A_MASK",(function(){return n.DDS_HEADER_OFFSET_A_MASK})),r.d(t,"DDS_HEADER_OFFSET_CAPS1",(function(){return n.DDS_HEADER_OFFSET_CAPS1})),r.d(t,"DDS_HEADER_OFFSET_CAPS2",(function(){return n.DDS_HEADER_OFFSET_CAPS2})),r.d(t,"DDS_HEADER_OFFSET_CAPS3",(function(){return n.DDS_HEADER_OFFSET_CAPS3})),r.d(t,"DDS_HEADER_OFFSET_CAPS4",(function(){return n.DDS_HEADER_OFFSET_CAPS4})),r.d(t,"DDS_HEADER_OFFSET_DXGI_FORMAT",(function(){return n.DDS_HEADER_OFFSET_DXGI_FORMAT})),r.d(t,"FOURCC_DXT1",(function(){return n.FOURCC_DXT1})),r.d(t,"FOURCC_DXT5",(function(){return n.FOURCC_DXT5})),r.d(t,"FOURCC_DXT3",(function(){return n.FOURCC_DXT3})),r.d(t,"FOURCC_DXT10",(function(){return n.FOURCC_DXT10})),r.d(t,"FOURCC_D3DFMT_R16G16B16A16F",(function(){return n.FOURCC_D3DFMT_R16G16B16A16F})),r.d(t,"FOURCC_D3DFMT_R32G32B32A32F",(function(){return n.FOURCC_D3DFMT_R32G32B32A32F})),r.d(t,"DXGI_FORMAT_R16G16B16A16_FLOAT",(function(){return n.DXGI_FORMAT_R16G16B16A16_FLOAT})),r.d(t,"DXGI_FORMAT_B8G8R8X8_UNORM",(function(){return n.DXGI_FORMAT_B8G8R8X8_UNORM})),r.d(t,"VendorRequestAnimationFrame",(function(){return n.VendorRequestAnimationFrame})),r.d(t,"VendorCancelAnimationFrame",(function(){return n.VendorCancelAnimationFrame})),r.d(t,"VendorRequestFullScreen",(function(){return n.VendorRequestFullScreen})),r.d(t,"VendorExitFullScreen",(function(){return n.VendorExitFullScreen})),r.d(t,"VendorGetFullScreenElement",(function(){return n.VendorGetFullScreenElement})),r.d(t,"VendorWebglPrefixes",(function(){return n.VendorWebglPrefixes}));var a=new i.Tw2Store(i.Tw2Library)},"./global/index.js":function(e,t,r){"use strict";r.r(t);var i=r("./global/engine/Tw2Constant.js");r.d(t,"TextureQuality",(function(){return i.TextureQuality})),r.d(t,"ShaderQuality",(function(){return i.ShaderQuality})),r.d(t,"ResourceUnloadPolicy",(function(){return i.ResourceUnloadPolicy})),r.d(t,"LodSettings",(function(){return i.LodSettings})),r.d(t,"TurretState",(function(){return i.TurretState})),r.d(t,"AnimationState",(function(){return i.AnimationState})),r.d(t,"WrappedType",(function(){return i.WrappedType})),r.d(t,"GL_COLOR_BUFFER_BIT",(function(){return i.GL_COLOR_BUFFER_BIT})),r.d(t,"GL_DEPTH_BUFFER_BIT",(function(){return i.GL_DEPTH_BUFFER_BIT})),r.d(t,"GL_STENCIL_BUFFER_BIT",(function(){return i.GL_STENCIL_BUFFER_BIT})),r.d(t,"GL_TEXTURE_2D",(function(){return i.GL_TEXTURE_2D})),r.d(t,"GL_TEXTURE_CUBE_MAP",(function(){return i.GL_TEXTURE_CUBE_MAP})),r.d(t,"GL_TEXTURE_3D",(function(){return i.GL_TEXTURE_3D})),r.d(t,"GL_TEXTURE_MAG_FILTER",(function(){return i.GL_TEXTURE_MAG_FILTER})),r.d(t,"GL_TEXTURE_MIN_FILTER",(function(){return i.GL_TEXTURE_MIN_FILTER})),r.d(t,"GL_TEXTURE_WRAP_S",(function(){return i.GL_TEXTURE_WRAP_S})),r.d(t,"GL_TEXTURE_WRAP_T",(function(){return i.GL_TEXTURE_WRAP_T})),r.d(t,"GL_BYTE",(function(){return i.GL_BYTE})),r.d(t,"GL_UNSIGNED_BYTE",(function(){return i.GL_UNSIGNED_BYTE})),r.d(t,"GL_SHORT",(function(){return i.GL_SHORT})),r.d(t,"GL_UNSIGNED_SHORT",(function(){return i.GL_UNSIGNED_SHORT})),r.d(t,"GL_INT",(function(){return i.GL_INT})),r.d(t,"GL_UNSIGNED_INT",(function(){return i.GL_UNSIGNED_INT})),r.d(t,"GL_FLOAT",(function(){return i.GL_FLOAT})),r.d(t,"GL_HALF_FLOAT_OES",(function(){return i.GL_HALF_FLOAT_OES})),r.d(t,"GL_HALF_FLOAT",(function(){return i.GL_HALF_FLOAT})),r.d(t,"GL_DEPTH_COMPONENT16",(function(){return i.GL_DEPTH_COMPONENT16})),r.d(t,"GL_DEPTH_COMPONENT24",(function(){return i.GL_DEPTH_COMPONENT24})),r.d(t,"GL_DEPTH_COMPONENT32F",(function(){return i.GL_DEPTH_COMPONENT32F})),r.d(t,"GL_FLOAT_VEC2",(function(){return i.GL_FLOAT_VEC2})),r.d(t,"GL_FLOAT_VEC3",(function(){return i.GL_FLOAT_VEC3})),r.d(t,"GL_FLOAT_VEC4",(function(){return i.GL_FLOAT_VEC4})),r.d(t,"GL_INT_VEC2",(function(){return i.GL_INT_VEC2})),r.d(t,"GL_INT_VEC3",(function(){return i.GL_INT_VEC3})),r.d(t,"GL_INT_VEC4",(function(){return i.GL_INT_VEC4})),r.d(t,"GL_BOOL",(function(){return i.GL_BOOL})),r.d(t,"GL_BOOL_VEC2",(function(){return i.GL_BOOL_VEC2})),r.d(t,"GL_BOOL_VEC3",(function(){return i.GL_BOOL_VEC3})),r.d(t,"GL_BOOL_VEC4",(function(){return i.GL_BOOL_VEC4})),r.d(t,"GL_FLOAT_MAT2",(function(){return i.GL_FLOAT_MAT2})),r.d(t,"GL_FLOAT_MAT3",(function(){return i.GL_FLOAT_MAT3})),r.d(t,"GL_FLOAT_MAT4",(function(){return i.GL_FLOAT_MAT4})),r.d(t,"GL_TYPE_LENGTH",(function(){return i.GL_TYPE_LENGTH})),r.d(t,"GL_SAMPLER_2D",(function(){return i.GL_SAMPLER_2D})),r.d(t,"GL_SAMPLER_3D",(function(){return i.GL_SAMPLER_3D})),r.d(t,"GL_SAMPLER_CUBE",(function(){return i.GL_SAMPLER_CUBE})),r.d(t,"GL_DEPTH_COMPONENT",(function(){return i.GL_DEPTH_COMPONENT})),r.d(t,"GL_ALPHA",(function(){return i.GL_ALPHA})),r.d(t,"GL_RGB",(function(){return i.GL_RGB})),r.d(t,"GL_RGBA",(function(){return i.GL_RGBA})),r.d(t,"GL_LUMINANCE",(function(){return i.GL_LUMINANCE})),r.d(t,"GL_LUMINANCE_ALPHA",(function(){return i.GL_LUMINANCE_ALPHA})),r.d(t,"GL_DEPTH_STENCIL",(function(){return i.GL_DEPTH_STENCIL})),r.d(t,"GL_UNSIGNED_INT_24_8_WEBGL",(function(){return i.GL_UNSIGNED_INT_24_8_WEBGL})),r.d(t,"GL_R8",(function(){return i.GL_R8})),r.d(t,"GL_R16F",(function(){return i.GL_R16F})),r.d(t,"GL_R32F",(function(){return i.GL_R32F})),r.d(t,"GL_R8UI",(function(){return i.GL_R8UI})),r.d(t,"GL_RG8",(function(){return i.GL_RG8})),r.d(t,"GL_RG16F",(function(){return i.GL_RG16F})),r.d(t,"GL_RG32F",(function(){return i.GL_RG32F})),r.d(t,"GL_RGB8",(function(){return i.GL_RGB8})),r.d(t,"GL_SRGB8",(function(){return i.GL_SRGB8})),r.d(t,"GL_RGB565",(function(){return i.GL_RGB565})),r.d(t,"GL_R11F_G11F_B10F",(function(){return i.GL_R11F_G11F_B10F})),r.d(t,"GL_RGB9_E5",(function(){return i.GL_RGB9_E5})),r.d(t,"GL_RGB16F",(function(){return i.GL_RGB16F})),r.d(t,"GL_RGB32F",(function(){return i.GL_RGB32F})),r.d(t,"GL_RGB8UI",(function(){return i.GL_RGB8UI})),r.d(t,"GL_RGBA8",(function(){return i.GL_RGBA8})),r.d(t,"GL_RGB5_A1",(function(){return i.GL_RGB5_A1})),r.d(t,"GL_RGBA16F",(function(){return i.GL_RGBA16F})),r.d(t,"GL_RGBA32F",(function(){return i.GL_RGBA32F})),r.d(t,"GL_RGBA8UI",(function(){return i.GL_RGBA8UI})),r.d(t,"GL_RGBA16I",(function(){return i.GL_RGBA16I})),r.d(t,"GL_RGBA16UI",(function(){return i.GL_RGBA16UI})),r.d(t,"GL_RGBA32I",(function(){return i.GL_RGBA32I})),r.d(t,"GL_RGBA32UI",(function(){return i.GL_RGBA32UI})),r.d(t,"GL_NEAREST",(function(){return i.GL_NEAREST})),r.d(t,"GL_LINEAR",(function(){return i.GL_LINEAR})),r.d(t,"GL_NEAREST_MIPMAP_NEAREST",(function(){return i.GL_NEAREST_MIPMAP_NEAREST})),r.d(t,"GL_LINEAR_MIPMAP_NEAREST",(function(){return i.GL_LINEAR_MIPMAP_NEAREST})),r.d(t,"GL_NEAREST_MIPMAP_LINEAR",(function(){return i.GL_NEAREST_MIPMAP_LINEAR})),r.d(t,"GL_LINEAR_MIPMAP_LINEAR",(function(){return i.GL_LINEAR_MIPMAP_LINEAR})),r.d(t,"GL_REPEAT",(function(){return i.GL_REPEAT})),r.d(t,"GL_CLAMP_TO_EDGE",(function(){return i.GL_CLAMP_TO_EDGE})),r.d(t,"GL_MIRRORED_REPEAT",(function(){return i.GL_MIRRORED_REPEAT})),r.d(t,"GL_ZERO",(function(){return i.GL_ZERO})),r.d(t,"GL_ONE",(function(){return i.GL_ONE})),r.d(t,"GL_SRC_COLOR",(function(){return i.GL_SRC_COLOR})),r.d(t,"GL_ONE_MINUS_SRC_COLOR",(function(){return i.GL_ONE_MINUS_SRC_COLOR})),r.d(t,"GL_SRC_ALPHA",(function(){return i.GL_SRC_ALPHA})),r.d(t,"GL_ONE_MINUS_SRC_ALPHA",(function(){return i.GL_ONE_MINUS_SRC_ALPHA})),r.d(t,"GL_DST_ALPHA",(function(){return i.GL_DST_ALPHA})),r.d(t,"GL_ONE_MINUS_DST_ALPHA",(function(){return i.GL_ONE_MINUS_DST_ALPHA})),r.d(t,"GL_DST_COLOR",(function(){return i.GL_DST_COLOR})),r.d(t,"GL_ONE_MINUS_DST_COLOR",(function(){return i.GL_ONE_MINUS_DST_COLOR})),r.d(t,"GL_SRC_ALPHA_SATURATE",(function(){return i.GL_SRC_ALPHA_SATURATE})),r.d(t,"GL_CONSTANT_COLOR",(function(){return i.GL_CONSTANT_COLOR})),r.d(t,"GL_ONE_MINUS_CONSTANT_COLOR",(function(){return i.GL_ONE_MINUS_CONSTANT_COLOR})),r.d(t,"GL_CONSTANT_ALPHA",(function(){return i.GL_CONSTANT_ALPHA})),r.d(t,"GL_ONE_MINUS_CONSTANT_ALPHA",(function(){return i.GL_ONE_MINUS_CONSTANT_ALPHA})),r.d(t,"GL_VERTEX_SHADER",(function(){return i.GL_VERTEX_SHADER})),r.d(t,"GL_FRAGMENT_SHADER",(function(){return i.GL_FRAGMENT_SHADER})),r.d(t,"GL_FRONT",(function(){return i.GL_FRONT})),r.d(t,"GL_BACK",(function(){return i.GL_BACK})),r.d(t,"GL_FRONT_AND_BACK",(function(){return i.GL_FRONT_AND_BACK})),r.d(t,"GL_NEVER",(function(){return i.GL_NEVER})),r.d(t,"GL_LESS",(function(){return i.GL_LESS})),r.d(t,"GL_EQUAL",(function(){return i.GL_EQUAL})),r.d(t,"GL_LEQUAL",(function(){return i.GL_LEQUAL})),r.d(t,"GL_GREATER",(function(){return i.GL_GREATER})),r.d(t,"GL_NOTEQUAL",(function(){return i.GL_NOTEQUAL})),r.d(t,"GL_GEQUAL",(function(){return i.GL_GEQUAL})),r.d(t,"GL_ALWAYS",(function(){return i.GL_ALWAYS})),r.d(t,"GL_KEEP",(function(){return i.GL_KEEP})),r.d(t,"GL_REPLACE",(function(){return i.GL_REPLACE})),r.d(t,"GL_INCR",(function(){return i.GL_INCR})),r.d(t,"GL_DECR",(function(){return i.GL_DECR})),r.d(t,"GL_INCR_WRAP",(function(){return i.GL_INCR_WRAP})),r.d(t,"GL_DECR_WRAP",(function(){return i.GL_DECR_WRAP})),r.d(t,"GL_INVERT",(function(){return i.GL_INVERT})),r.d(t,"GL_STREAM_DRAW",(function(){return i.GL_STREAM_DRAW})),r.d(t,"GL_STATIC_DRAW",(function(){return i.GL_STATIC_DRAW})),r.d(t,"GL_DYNAMIC_DRAW",(function(){return i.GL_DYNAMIC_DRAW})),r.d(t,"GL_ARRAY_BUFFER",(function(){return i.GL_ARRAY_BUFFER})),r.d(t,"GL_ELEMENT_ARRAY_BUFFER",(function(){return i.GL_ELEMENT_ARRAY_BUFFER})),r.d(t,"GL_POINTS",(function(){return i.GL_POINTS})),r.d(t,"GL_LINES",(function(){return i.GL_LINES})),r.d(t,"GL_LINE_LOOP",(function(){return i.GL_LINE_LOOP})),r.d(t,"GL_LINE_STRIP",(function(){return i.GL_LINE_STRIP})),r.d(t,"GL_TRIANGLES",(function(){return i.GL_TRIANGLES})),r.d(t,"GL_TRIANGLE_STRIP",(function(){return i.GL_TRIANGLE_STRIP})),r.d(t,"GL_TRIANGLE_FAN",(function(){return i.GL_TRIANGLE_FAN})),r.d(t,"GL_CW",(function(){return i.GL_CW})),r.d(t,"GL_CCW",(function(){return i.GL_CCW})),r.d(t,"GL_CULL_FACE",(function(){return i.GL_CULL_FACE})),r.d(t,"GL_DEPTH_TEST",(function(){return i.GL_DEPTH_TEST})),r.d(t,"GL_BLEND",(function(){return i.GL_BLEND})),r.d(t,"RM_ANY",(function(){return i.RM_ANY})),r.d(t,"RM_OPAQUE",(function(){return i.RM_OPAQUE})),r.d(t,"RM_DECAL",(function(){return i.RM_DECAL})),r.d(t,"RM_TRANSPARENT",(function(){return i.RM_TRANSPARENT})),r.d(t,"RM_ADDITIVE",(function(){return i.RM_ADDITIVE})),r.d(t,"RM_DEPTH",(function(){return i.RM_DEPTH})),r.d(t,"RM_FULLSCREEN",(function(){return i.RM_FULLSCREEN})),r.d(t,"RM_PICKABLE",(function(){return i.RM_PICKABLE})),r.d(t,"RM_DISTORTION",(function(){return i.RM_DISTORTION})),r.d(t,"RS_ZENABLE",(function(){return i.RS_ZENABLE})),r.d(t,"RS_FILLMODE",(function(){return i.RS_FILLMODE})),r.d(t,"RS_SHADEMODE",(function(){return i.RS_SHADEMODE})),r.d(t,"RS_ZWRITEENABLE",(function(){return i.RS_ZWRITEENABLE})),r.d(t,"RS_ALPHATESTENABLE",(function(){return i.RS_ALPHATESTENABLE})),r.d(t,"RS_LASTPIXEL",(function(){return i.RS_LASTPIXEL})),r.d(t,"RS_SRCBLEND",(function(){return i.RS_SRCBLEND})),r.d(t,"RS_DESTBLEND",(function(){return i.RS_DESTBLEND})),r.d(t,"RS_CULLMODE",(function(){return i.RS_CULLMODE})),r.d(t,"RS_ZFUNC",(function(){return i.RS_ZFUNC})),r.d(t,"RS_ALPHAREF",(function(){return i.RS_ALPHAREF})),r.d(t,"RS_ALPHAFUNC",(function(){return i.RS_ALPHAFUNC})),r.d(t,"RS_DITHERENABLE",(function(){return i.RS_DITHERENABLE})),r.d(t,"RS_ALPHABLENDENABLE",(function(){return i.RS_ALPHABLENDENABLE})),r.d(t,"RS_FOGENABLE",(function(){return i.RS_FOGENABLE})),r.d(t,"RS_SPECULARENABLE",(function(){return i.RS_SPECULARENABLE})),r.d(t,"RS_FOGCOLOR",(function(){return i.RS_FOGCOLOR})),r.d(t,"RS_FOGTABLEMODE",(function(){return i.RS_FOGTABLEMODE})),r.d(t,"RS_FOGSTART",(function(){return i.RS_FOGSTART})),r.d(t,"RS_FOGEND",(function(){return i.RS_FOGEND})),r.d(t,"RS_FOGDENSITY",(function(){return i.RS_FOGDENSITY})),r.d(t,"RS_RANGEFOGENABLE",(function(){return i.RS_RANGEFOGENABLE})),r.d(t,"RS_STENCILENABLE",(function(){return i.RS_STENCILENABLE})),r.d(t,"RS_STENCILFAIL",(function(){return i.RS_STENCILFAIL})),r.d(t,"RS_STENCILZFAIL",(function(){return i.RS_STENCILZFAIL})),r.d(t,"RS_STENCILPASS",(function(){return i.RS_STENCILPASS})),r.d(t,"RS_STENCILFUNC",(function(){return i.RS_STENCILFUNC})),r.d(t,"RS_STENCILREF",(function(){return i.RS_STENCILREF})),r.d(t,"RS_STENCILMASK",(function(){return i.RS_STENCILMASK})),r.d(t,"RS_STENCILWRITEMASK",(function(){return i.RS_STENCILWRITEMASK})),r.d(t,"RS_TEXTUREFACTOR",(function(){return i.RS_TEXTUREFACTOR})),r.d(t,"RS_WRAP0",(function(){return i.RS_WRAP0})),r.d(t,"RS_WRAP1",(function(){return i.RS_WRAP1})),r.d(t,"RS_WRAP2",(function(){return i.RS_WRAP2})),r.d(t,"RS_WRAP3",(function(){return i.RS_WRAP3})),r.d(t,"RS_WRAP4",(function(){return i.RS_WRAP4})),r.d(t,"RS_WRAP5",(function(){return i.RS_WRAP5})),r.d(t,"RS_WRAP6",(function(){return i.RS_WRAP6})),r.d(t,"RS_WRAP7",(function(){return i.RS_WRAP7})),r.d(t,"RS_CLIPPING",(function(){return i.RS_CLIPPING})),r.d(t,"RS_LIGHTING",(function(){return i.RS_LIGHTING})),r.d(t,"RS_AMBIENT",(function(){return i.RS_AMBIENT})),r.d(t,"RS_FOGVERTEXMODE",(function(){return i.RS_FOGVERTEXMODE})),r.d(t,"RS_COLORVERTEX",(function(){return i.RS_COLORVERTEX})),r.d(t,"RS_LOCALVIEWER",(function(){return i.RS_LOCALVIEWER})),r.d(t,"RS_NORMALIZENORMALS",(function(){return i.RS_NORMALIZENORMALS})),r.d(t,"RS_DIFFUSEMATERIALSOURCE",(function(){return i.RS_DIFFUSEMATERIALSOURCE})),r.d(t,"RS_SPECULARMATERIALSOURCE",(function(){return i.RS_SPECULARMATERIALSOURCE})),r.d(t,"RS_AMBIENTMATERIALSOURCE",(function(){return i.RS_AMBIENTMATERIALSOURCE})),r.d(t,"RS_EMISSIVEMATERIALSOURCE",(function(){return i.RS_EMISSIVEMATERIALSOURCE})),r.d(t,"RS_VERTEXBLEND",(function(){return i.RS_VERTEXBLEND})),r.d(t,"RS_CLIPPLANEENABLE",(function(){return i.RS_CLIPPLANEENABLE})),r.d(t,"RS_POINTSIZE",(function(){return i.RS_POINTSIZE})),r.d(t,"RS_POINTSIZE_MIN",(function(){return i.RS_POINTSIZE_MIN})),r.d(t,"RS_POINTSPRITEENABLE",(function(){return i.RS_POINTSPRITEENABLE})),r.d(t,"RS_POINTSCALEENABLE",(function(){return i.RS_POINTSCALEENABLE})),r.d(t,"RS_POINTSCALE_A",(function(){return i.RS_POINTSCALE_A})),r.d(t,"RS_POINTSCALE_B",(function(){return i.RS_POINTSCALE_B})),r.d(t,"RS_POINTSCALE_C",(function(){return i.RS_POINTSCALE_C})),r.d(t,"RS_MULTISAMPLEANTIALIAS",(function(){return i.RS_MULTISAMPLEANTIALIAS})),r.d(t,"RS_MULTISAMPLEMASK",(function(){return i.RS_MULTISAMPLEMASK})),r.d(t,"RS_PATCHEDGESTYLE",(function(){return i.RS_PATCHEDGESTYLE})),r.d(t,"RS_DEBUGMONITORTOKEN",(function(){return i.RS_DEBUGMONITORTOKEN})),r.d(t,"RS_POINTSIZE_MAX",(function(){return i.RS_POINTSIZE_MAX})),r.d(t,"RS_INDEXEDVERTEXBLENDENABLE",(function(){return i.RS_INDEXEDVERTEXBLENDENABLE})),r.d(t,"RS_COLORWRITEENABLE",(function(){return i.RS_COLORWRITEENABLE})),r.d(t,"RS_TWEENFACTOR",(function(){return i.RS_TWEENFACTOR})),r.d(t,"RS_BLENDOP",(function(){return i.RS_BLENDOP})),r.d(t,"RS_POSITIONDEGREE",(function(){return i.RS_POSITIONDEGREE})),r.d(t,"RS_NORMALDEGREE",(function(){return i.RS_NORMALDEGREE})),r.d(t,"RS_SCISSORTESTENABLE",(function(){return i.RS_SCISSORTESTENABLE})),r.d(t,"RS_SLOPESCALEDEPTHBIAS",(function(){return i.RS_SLOPESCALEDEPTHBIAS})),r.d(t,"RS_ANTIALIASEDLINEENABLE",(function(){return i.RS_ANTIALIASEDLINEENABLE})),r.d(t,"RS_TWOSIDEDSTENCILMODE",(function(){return i.RS_TWOSIDEDSTENCILMODE})),r.d(t,"RS_CCW_STENCILFAIL",(function(){return i.RS_CCW_STENCILFAIL})),r.d(t,"RS_CCW_STENCILZFAIL",(function(){return i.RS_CCW_STENCILZFAIL})),r.d(t,"RS_CCW_STENCILPASS",(function(){return i.RS_CCW_STENCILPASS})),r.d(t,"RS_CCW_STENCILFUNC",(function(){return i.RS_CCW_STENCILFUNC})),r.d(t,"RS_COLORWRITEENABLE1",(function(){return i.RS_COLORWRITEENABLE1})),r.d(t,"RS_COLORWRITEENABLE2",(function(){return i.RS_COLORWRITEENABLE2})),r.d(t,"RS_COLORWRITEENABLE3",(function(){return i.RS_COLORWRITEENABLE3})),r.d(t,"RS_BLENDFACTOR",(function(){return i.RS_BLENDFACTOR})),r.d(t,"RS_SRGBWRITEENABLE",(function(){return i.RS_SRGBWRITEENABLE})),r.d(t,"RS_DEPTHBIAS",(function(){return i.RS_DEPTHBIAS})),r.d(t,"RS_SEPARATEALPHABLENDENABLE",(function(){return i.RS_SEPARATEALPHABLENDENABLE})),r.d(t,"RS_SRCBLENDALPHA",(function(){return i.RS_SRCBLENDALPHA})),r.d(t,"RS_DESTBLENDALPHA",(function(){return i.RS_DESTBLENDALPHA})),r.d(t,"RS_BLENDOPALPHA",(function(){return i.RS_BLENDOPALPHA})),r.d(t,"CULL_NONE",(function(){return i.CULL_NONE})),r.d(t,"CULL_CW",(function(){return i.CULL_CW})),r.d(t,"CULL_CCW",(function(){return i.CULL_CCW})),r.d(t,"CMP_NEVER",(function(){return i.CMP_NEVER})),r.d(t,"CMP_LESS",(function(){return i.CMP_LESS})),r.d(t,"CMP_EQUAL",(function(){return i.CMP_EQUAL})),r.d(t,"CMP_LEQUAL",(function(){return i.CMP_LEQUAL})),r.d(t,"CMP_GREATER",(function(){return i.CMP_GREATER})),r.d(t,"CMP_NOTEQUAL",(function(){return i.CMP_NOTEQUAL})),r.d(t,"CMP_GREATEREQUAL",(function(){return i.CMP_GREATEREQUAL})),r.d(t,"CMP_ALWAYS",(function(){return i.CMP_ALWAYS})),r.d(t,"BLEND_ZERO",(function(){return i.BLEND_ZERO})),r.d(t,"BLEND_ONE",(function(){return i.BLEND_ONE})),r.d(t,"BLEND_SRCCOLOR",(function(){return i.BLEND_SRCCOLOR})),r.d(t,"BLEND_INVSRCCOLOR",(function(){return i.BLEND_INVSRCCOLOR})),r.d(t,"BLEND_SRCALPHA",(function(){return i.BLEND_SRCALPHA})),r.d(t,"BLEND_INVSRCALPHA",(function(){return i.BLEND_INVSRCALPHA})),r.d(t,"BLEND_DESTALPHA",(function(){return i.BLEND_DESTALPHA})),r.d(t,"BLEND_INVDESTALPHA",(function(){return i.BLEND_INVDESTALPHA})),r.d(t,"BLEND_DESTCOLOR",(function(){return i.BLEND_DESTCOLOR})),r.d(t,"BLEND_INVDESTCOLOR",(function(){return i.BLEND_INVDESTCOLOR})),r.d(t,"BLEND_SRCALPHASAT",(function(){return i.BLEND_SRCALPHASAT})),r.d(t,"BLEND_BOTHSRCALPHA",(function(){return i.BLEND_BOTHSRCALPHA})),r.d(t,"BLEND_BOTHINVSRCALPHA",(function(){return i.BLEND_BOTHINVSRCALPHA})),r.d(t,"BLEND_BLENDFACTOR",(function(){return i.BLEND_BLENDFACTOR})),r.d(t,"BLEND_INVBLENDFACTOR",(function(){return i.BLEND_INVBLENDFACTOR})),r.d(t,"BLENDOP_ADD",(function(){return i.BLENDOP_ADD})),r.d(t,"BLENDOP_SUBTRACT",(function(){return i.BLENDOP_SUBTRACT})),r.d(t,"BLENDOP_REVSUBTRACT",(function(){return i.BLENDOP_REVSUBTRACT})),r.d(t,"BLENDOP_MIN",(function(){return i.BLENDOP_MIN})),r.d(t,"BLENDOP_MAX",(function(){return i.BLENDOP_MAX})),r.d(t,"TF_ALPHA",(function(){return i.TF_ALPHA})),r.d(t,"TF_LUMINANCE",(function(){return i.TF_LUMINANCE})),r.d(t,"TF_LUMINANCE_ALPHA",(function(){return i.TF_LUMINANCE_ALPHA})),r.d(t,"TF_RGB",(function(){return i.TF_RGB})),r.d(t,"TF_RGBA",(function(){return i.TF_RGBA})),r.d(t,"TF_RED",(function(){return i.TF_RED})),r.d(t,"TF_R",(function(){return i.TF_R})),r.d(t,"TF_RG",(function(){return i.TF_RG})),r.d(t,"TF_RED_INTEGER",(function(){return i.TF_RED_INTEGER})),r.d(t,"TF_R_INTEGER",(function(){return i.TF_R_INTEGER})),r.d(t,"TF_RG_INTEGER",(function(){return i.TF_RG_INTEGER})),r.d(t,"TF_RGB_INTEGER",(function(){return i.TF_RGB_INTEGER})),r.d(t,"TF_RGBA_INTEGER",(function(){return i.TF_RGBA_INTEGER})),r.d(t,"TT_UNSIGNED_BYTE",(function(){return i.TT_UNSIGNED_BYTE})),r.d(t,"TT_UNSIGNED_INT",(function(){return i.TT_UNSIGNED_INT})),r.d(t,"TT_FLOAT",(function(){return i.TT_FLOAT})),r.d(t,"TT_HALF_FLOAT",(function(){return i.TT_HALF_FLOAT})),r.d(t,"TT_BYTE",(function(){return i.TT_BYTE})),r.d(t,"TT_SHORT",(function(){return i.TT_SHORT})),r.d(t,"TT_UNSIGNED_SHORT",(function(){return i.TT_UNSIGNED_SHORT})),r.d(t,"TT_INT",(function(){return i.TT_INT})),r.d(t,"TT_UNSIGNED_INTEGER",(function(){return i.TT_UNSIGNED_INTEGER})),r.d(t,"TT_UNSIGNED_SHORT_4_4_4_4",(function(){return i.TT_UNSIGNED_SHORT_4_4_4_4})),r.d(t,"TT_UNSIGNED_SHORT_5_5_5_1",(function(){return i.TT_UNSIGNED_SHORT_5_5_5_1})),r.d(t,"TT_UNSIGNED_SHORT_5_6_5",(function(){return i.TT_UNSIGNED_SHORT_5_6_5})),r.d(t,"TT_UNSIGNED_INT_2_10_10_10_REV",(function(){return i.TT_UNSIGNED_INT_2_10_10_10_REV})),r.d(t,"TT_UNSIGNED_INT_24_8",(function(){return i.TT_UNSIGNED_INT_24_8})),r.d(t,"TT_UNSIGNED_INT_10F_11F_11F_REV",(function(){return i.TT_UNSIGNED_INT_10F_11F_11F_REV})),r.d(t,"TT_UNSIGNED_INT_5_9_9_9_REV",(function(){return i.TT_UNSIGNED_INT_5_9_9_9_REV})),r.d(t,"TT_FLOAT_32_UNSIGNED_INT_24_8_REV",(function(){return i.TT_FLOAT_32_UNSIGNED_INT_24_8_REV})),r.d(t,"WrapModes",(function(){return i.WrapModes})),r.d(t,"BlendTable",(function(){return i.BlendTable})),r.d(t,"FilterMode",(function(){return i.FilterMode})),r.d(t,"MipFilterMode",(function(){return i.MipFilterMode})),r.d(t,"DDS_MAGIC",(function(){return i.DDS_MAGIC})),r.d(t,"DDSD_CAPS",(function(){return i.DDSD_CAPS})),r.d(t,"DDSD_HEIGHT",(function(){return i.DDSD_HEIGHT})),r.d(t,"DDSD_WIDTH",(function(){return i.DDSD_WIDTH})),r.d(t,"DDSD_PITCH",(function(){return i.DDSD_PITCH})),r.d(t,"DDSD_PIXELFORMAT",(function(){return i.DDSD_PIXELFORMAT})),r.d(t,"DDSD_MIPMAPCOUNT",(function(){return i.DDSD_MIPMAPCOUNT})),r.d(t,"DDSD_LINEARSIZE",(function(){return i.DDSD_LINEARSIZE})),r.d(t,"DDSD_DEPTH",(function(){return i.DDSD_DEPTH})),r.d(t,"DDSCAPS_COMPLEX",(function(){return i.DDSCAPS_COMPLEX})),r.d(t,"DDSCAPS_MIPMAP",(function(){return i.DDSCAPS_MIPMAP})),r.d(t,"DDSCAPS_TEXTURE",(function(){return i.DDSCAPS_TEXTURE})),r.d(t,"DDSCAPS2_CUBEMAP",(function(){return i.DDSCAPS2_CUBEMAP})),r.d(t,"DDSCAPS2_CUBEMAP_POSITIVEX",(function(){return i.DDSCAPS2_CUBEMAP_POSITIVEX})),r.d(t,"DDSCAPS2_CUBEMAP_NEGATIVEX",(function(){return i.DDSCAPS2_CUBEMAP_NEGATIVEX})),r.d(t,"DDSCAPS2_CUBEMAP_POSITIVEY",(function(){return i.DDSCAPS2_CUBEMAP_POSITIVEY})),r.d(t,"DDSCAPS2_CUBEMAP_NEGATIVEY",(function(){return i.DDSCAPS2_CUBEMAP_NEGATIVEY})),r.d(t,"DDSCAPS2_CUBEMAP_POSITIVEZ",(function(){return i.DDSCAPS2_CUBEMAP_POSITIVEZ})),r.d(t,"DDSCAPS2_CUBEMAP_NEGATIVEZ",(function(){return i.DDSCAPS2_CUBEMAP_NEGATIVEZ})),r.d(t,"DDSCAPS2_VOLUME",(function(){return i.DDSCAPS2_VOLUME})),r.d(t,"DDPF_ALPHAPIXELS",(function(){return i.DDPF_ALPHAPIXELS})),r.d(t,"DDPF_ALPHA",(function(){return i.DDPF_ALPHA})),r.d(t,"DDPF_FOURCC",(function(){return i.DDPF_FOURCC})),r.d(t,"DDPF_RGB",(function(){return i.DDPF_RGB})),r.d(t,"DDPF_YUV",(function(){return i.DDPF_YUV})),r.d(t,"DDPF_LUMINANCE",(function(){return i.DDPF_LUMINANCE})),r.d(t,"DDS_HEADER_LENGTH_INT",(function(){return i.DDS_HEADER_LENGTH_INT})),r.d(t,"DDS_HEADER_OFFSET_MAGIC",(function(){return i.DDS_HEADER_OFFSET_MAGIC})),r.d(t,"DDS_HEADER_OFFSET_SIZE",(function(){return i.DDS_HEADER_OFFSET_SIZE})),r.d(t,"DDS_HEADER_OFFSET_FLAGS",(function(){return i.DDS_HEADER_OFFSET_FLAGS})),r.d(t,"DDS_HEADER_OFFSET_HEIGHT",(function(){return i.DDS_HEADER_OFFSET_HEIGHT})),r.d(t,"DDS_HEADER_OFFSET_WIDTH",(function(){return i.DDS_HEADER_OFFSET_WIDTH})),r.d(t,"DDS_HEADER_OFFSET_MIPMAP_COUNT",(function(){return i.DDS_HEADER_OFFSET_MIPMAP_COUNT})),r.d(t,"DDS_HEADER_OFFSET_PF_FLAGS",(function(){return i.DDS_HEADER_OFFSET_PF_FLAGS})),r.d(t,"DDS_HEADER_OFFSET_PF_FOURCC",(function(){return i.DDS_HEADER_OFFSET_PF_FOURCC})),r.d(t,"DDS_HEADER_OFFSET_RGB_BPP",(function(){return i.DDS_HEADER_OFFSET_RGB_BPP})),r.d(t,"DDS_HEADER_OFFSET_R_MASK",(function(){return i.DDS_HEADER_OFFSET_R_MASK})),r.d(t,"DDS_HEADER_OFFSET_G_MASK",(function(){return i.DDS_HEADER_OFFSET_G_MASK})),r.d(t,"DDS_HEADER_OFFSET_B_MASK",(function(){return i.DDS_HEADER_OFFSET_B_MASK})),r.d(t,"DDS_HEADER_OFFSET_A_MASK",(function(){return i.DDS_HEADER_OFFSET_A_MASK})),r.d(t,"DDS_HEADER_OFFSET_CAPS1",(function(){return i.DDS_HEADER_OFFSET_CAPS1})),r.d(t,"DDS_HEADER_OFFSET_CAPS2",(function(){return i.DDS_HEADER_OFFSET_CAPS2})),r.d(t,"DDS_HEADER_OFFSET_CAPS3",(function(){return i.DDS_HEADER_OFFSET_CAPS3})),r.d(t,"DDS_HEADER_OFFSET_CAPS4",(function(){return i.DDS_HEADER_OFFSET_CAPS4})),r.d(t,"DDS_HEADER_OFFSET_DXGI_FORMAT",(function(){return i.DDS_HEADER_OFFSET_DXGI_FORMAT})),r.d(t,"FOURCC_DXT1",(function(){return i.FOURCC_DXT1})),r.d(t,"FOURCC_DXT5",(function(){return i.FOURCC_DXT5})),r.d(t,"FOURCC_DXT3",(function(){return i.FOURCC_DXT3})),r.d(t,"FOURCC_DXT10",(function(){return i.FOURCC_DXT10})),r.d(t,"FOURCC_D3DFMT_R16G16B16A16F",(function(){return i.FOURCC_D3DFMT_R16G16B16A16F})),r.d(t,"FOURCC_D3DFMT_R32G32B32A32F",(function(){return i.FOURCC_D3DFMT_R32G32B32A32F})),r.d(t,"DXGI_FORMAT_R16G16B16A16_FLOAT",(function(){return i.DXGI_FORMAT_R16G16B16A16_FLOAT})),r.d(t,"DXGI_FORMAT_B8G8R8X8_UNORM",(function(){return i.DXGI_FORMAT_B8G8R8X8_UNORM})),r.d(t,"VendorRequestAnimationFrame",(function(){return i.VendorRequestAnimationFrame})),r.d(t,"VendorCancelAnimationFrame",(function(){return i.VendorCancelAnimationFrame})),r.d(t,"VendorRequestFullScreen",(function(){return i.VendorRequestFullScreen})),r.d(t,"VendorExitFullScreen",(function(){return i.VendorExitFullScreen})),r.d(t,"VendorGetFullScreenElement",(function(){return i.VendorGetFullScreenElement})),r.d(t,"VendorWebglPrefixes",(function(){return i.VendorWebglPrefixes}));var n=r("./global/tw2.js");r.d(t,"tw2",(function(){return n.tw2})),r.d(t,"resMan",(function(){return n.resMan})),r.d(t,"device",(function(){return n.device})),r.d(t,"store",(function(){return n.store})),r.d(t,"logger",(function(){return n.logger}))},"./global/tw2.js":function(e,t,r){"use strict";r.r(t),r.d(t,"tw2",(function(){return a})),r.d(t,"resMan",(function(){return o})),r.d(t,"device",(function(){return s})),r.d(t,"logger",(function(){return u}));var i=r("./core/engine/index.js"),n=r("./global/engine/index.js");r.d(t,"store",(function(){return n.store}));var a=new i.Tw2Library(n.store),o=a.resMan,s=a.device,u=a.logger},"./index.js":function(e,t,r){"use strict";r.r(t);r("../node_modules/core-js/modules/es.symbol.description.js"),r("../node_modules/core-js/modules/es.symbol.async-iterator.js"),r("../node_modules/core-js/modules/es.array.flat.js"),r("../node_modules/core-js/modules/es.array.flat-map.js"),r("../node_modules/core-js/modules/es.array.index-of.js"),r("../node_modules/core-js/modules/es.array.iterator.js"),r("../node_modules/core-js/modules/es.array.last-index-of.js"),r("../node_modules/core-js/modules/es.array.reverse.js"),r("../node_modules/core-js/modules/es.array.slice.js"),r("../node_modules/core-js/modules/es.array.sort.js"),r("../node_modules/core-js/modules/es.array.splice.js"),r("../node_modules/core-js/modules/es.array.unscopables.flat.js"),r("../node_modules/core-js/modules/es.array.unscopables.flat-map.js"),r("../node_modules/core-js/modules/es.array-buffer.constructor.js"),r("../node_modules/core-js/modules/es.array-buffer.slice.js"),r("../node_modules/core-js/modules/es.math.hypot.js"),r("../node_modules/core-js/modules/es.number.parse-float.js"),r("../node_modules/core-js/modules/es.object.define-getter.js"),r("../node_modules/core-js/modules/es.object.define-setter.js"),r("../node_modules/core-js/modules/es.object.from-entries.js"),r("../node_modules/core-js/modules/es.object.lookup-getter.js"),r("../node_modules/core-js/modules/es.object.lookup-setter.js"),r("../node_modules/core-js/modules/es.promise.js"),r("../node_modules/core-js/modules/es.promise.finally.js"),r("../node_modules/core-js/modules/es.string.pad-end.js"),r("../node_modules/core-js/modules/es.string.pad-start.js"),r("../node_modules/core-js/modules/es.string.replace.js"),r("../node_modules/core-js/modules/es.string.trim.js"),r("../node_modules/core-js/modules/es.string.trim-end.js"),r("../node_modules/core-js/modules/es.string.trim-start.js"),r("../node_modules/core-js/modules/es.typed-array.float32-array.js"),r("../node_modules/core-js/modules/es.typed-array.float64-array.js"),r("../node_modules/core-js/modules/es.typed-array.int8-array.js"),r("../node_modules/core-js/modules/es.typed-array.int16-array.js"),r("../node_modules/core-js/modules/es.typed-array.int32-array.js"),r("../node_modules/core-js/modules/es.typed-array.uint8-array.js"),r("../node_modules/core-js/modules/es.typed-array.uint8-clamped-array.js"),r("../node_modules/core-js/modules/es.typed-array.uint16-array.js"),r("../node_modules/core-js/modules/es.typed-array.uint32-array.js"),r("../node_modules/core-js/modules/es.typed-array.from.js"),r("../node_modules/core-js/modules/es.typed-array.of.js"),r("../node_modules/core-js/modules/web.dom-collections.for-each.js"),r("../node_modules/core-js/modules/web.dom-collections.iterator.js"),r("../node_modules/core-js/modules/web.immediate.js"),r("../node_modules/core-js/modules/web.queue-microtask.js"),r("../node_modules/core-js/modules/web.url.js"),r("../node_modules/core-js/modules/web.url.to-json.js"),r("../node_modules/core-js/modules/web.url-search-params.js"),r("../node_modules/reflect-metadata/Reflect.js");var i=r("./config.js"),n=r("./global/index.js");r.d(t,"tw2",(function(){return n.tw2})),r.d(t,"CCPWGL",(function(){return n.tw2})),n.tw2.Register(i.config)},"./math/box3.js":function(e,t,r){"use strict";r.r(t),r.d(t,"box3",(function(){return a}));var i=r("./math/num.js"),n=r("./math/vec3.js"),a=(r("./math/sph3.js"),r("./math/mat4.js"),{bounds:{}}),o=null;a.$min=function(e){return e.subarray(0,3)},a.$max=function(e){return e.subarray(3,6)},a.addPoint=function(e,t,r){return e[0]=Math.min(t[0],r[0]),e[1]=Math.min(t[1],r[1]),e[2]=Math.min(t[2],r[2]),e[3]=Math.max(t[3],r[0]),e[4]=Math.max(t[4],r[1]),e[5]=Math.max(t[5],r[2]),e},a.addPoints=function(e,t,r){for(var i=t[0],n=t[1],a=t[2],o=t[3],s=t[4],u=t[5],l=0;l<r.length;l++)i=Math.min(i,r[l][0]),n=Math.min(n,r[l][1]),a=Math.min(a,r[l][2]),o=Math.max(o,r[l][0]),s=Math.max(s,r[l][1]),u=Math.max(u,r[l][2]);return e[0]=i,e[1]=n,e[2]=a,e[3]=o,e[4]=s,e[5]=u,e},a.clone=function(e){var t=new Float32Array(6);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t},a.contains=function(e,t){return e[0]<=t[0]&&t[3]<=e[3]&&e[1]<=t[1]&&t[4]<=e[4]&&e[2]<=t[2]&&t[5]<=e[5]},a.containsBounds=function(e,t,r){return e[0]<=t[0]&&r[0]<=e[3]&&e[1]<=t[1]&&r[1]<=e[4]&&e[2]<=t[2]&&r[2]<=e[5]},a.containsPoint=function(e,t){return!(t[0]<e[0]||t[0]>e[3]||t[1]<e[1]||t[1]>e[4]||t[2]<e[2]||t[2]>e[5])},a.containsValue=function(e,t,r,i){return!(t<e[0]||t>e[3]||r<e[1]||r>e[4]||i<e[2]||i>e[5])},a.copy=function(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e},a.copyMin=n.vec3.copy,a.copyMax=function(e,t){return e[3]=t[3],e[4]=t[4],e[5]=t[5],e},a.create=function(){return a.empty(new Float32Array(6))},a.distanceToPoint=function(e,t){var r=Math.max(e[0],Math.min(e[3],t[0]))-t[0],i=Math.max(e[1],Math.min(e[4],t[1]))-t[1],n=Math.max(e[2],Math.min(e[5],t[2]))-t[2];return Math.sqrt(r*r+i*i+n*n)},a.distanceToValues=function(e,t,r,i){var n=Math.max(e[0],Math.min(e[3],t))-t,a=Math.max(e[1],Math.min(e[4],r))-r,o=Math.max(e[2],Math.min(e[5],i))-i;return Math.sqrt(n*n+a*a+o*o)},a.empty=function(e){return e[0]=0,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=0,e},a.bounds.empty=function(e,t){e[0]=0,e[1]=0,e[2]=0,t[0]=0,t[1]=0,t[2]=0},a.equals=function(e,t){var r=e[0],n=e[1],a=e[2],o=e[3],s=e[4],u=e[5],l=t[0],c=t[1],f=t[2],d=t[3],h=t[4],m=t[5];return Math.abs(r-l)<=i.num.EPSILON*Math.max(1,Math.abs(r),Math.abs(l))&&Math.abs(n-c)<=i.num.EPSILON*Math.max(1,Math.abs(n),Math.abs(c))&&Math.abs(a-f)<=i.num.EPSILON*Math.max(1,Math.abs(a),Math.abs(f))&&Math.abs(o-d)<=i.num.EPSILON*Math.max(1,Math.abs(o),Math.abs(d))&&Math.abs(s-h)<=i.num.EPSILON*Math.max(1,Math.abs(s),Math.abs(h))&&Math.abs(u-m)<=i.num.EPSILON*Math.max(1,Math.abs(u),Math.abs(m))},a.equalsBounds=function(e,t,r){var n=e[0],a=e[1],o=e[2],s=e[3],u=e[4],l=e[5],c=t[0],f=t[1],d=t[2],h=r[0],m=r[1],p=r[2];return Math.abs(n-c)<=i.num.EPSILON*Math.max(1,Math.abs(n),Math.abs(c))&&Math.abs(a-f)<=i.num.EPSILON*Math.max(1,Math.abs(a),Math.abs(f))&&Math.abs(o-d)<=i.num.EPSILON*Math.max(1,Math.abs(o),Math.abs(d))&&Math.abs(s-h)<=i.num.EPSILON*Math.max(1,Math.abs(s),Math.abs(h))&&Math.abs(u-m)<=i.num.EPSILON*Math.max(1,Math.abs(u),Math.abs(m))&&Math.abs(l-p)<=i.num.EPSILON*Math.max(1,Math.abs(l),Math.abs(p))},a.exactEquals=function(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===t[3]&&e[4]===t[4]&&e[5]===t[5]},a.exactEqualsBounds=function(e,t,r){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===r[0]&&e[4]===r[1]&&e[5]===r[2]},a.expandScalar=function(e,t,r){return e[0]=t[0]-r,e[1]=t[1]-r,e[2]=t[2]-r,e[3]=t[3]+r,e[4]=t[4]+r,e[5]=t[5]+r,e},a.expandValues=function(e,t,r,i,n){return e[0]=t[0]-r,e[1]=t[1]-i,e[2]=t[2]-n,e[3]=t[3]+r,e[4]=t[4]+i,e[5]=t[5]+n,e},a.expandVec3=function(e,t,r){return e[0]=t[0]-r[0],e[1]=t[1]-r[1],e[2]=t[2]-r[2],e[3]=t[3]+r[0],e[4]=t[4]+r[1],e[5]=t[5]+r[2],e},a.fromArray=function(e,t,r=0){return e[0]=t[r],e[1]=t[r+1],e[2]=t[r+2],e[3]=t[r+3],e[4]=t[r+4],e[5]=t[r+5],e},a.fromBounds=function(e,t,r){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=r[0],e[4]=r[1],e[5]=r[2],e},a.fromPositionSize=function(e,t,r){return e[0]=t[0]-.5*r[0],e[1]=t[1]-.5*r[1],e[2]=t[2]-.5*r[2],e[3]=t[0]+.5*r[0],e[4]=t[1]+.5*r[1],e[5]=t[2]+.5*r[2],e},a.fromPoints=function(e,t){a.empty(e);for(var r=0;r<t.length;r++)e[0]=Math.min(e[0],t[r][0]),e[1]=Math.min(e[1],t[r][1]),e[2]=Math.min(e[2],t[r][2]),e[3]=Math.max(e[3],t[r][0]),e[4]=Math.max(e[4],t[r][1]),e[5]=Math.max(e[5],t[r][2]);return e},a.fromPositionRadius=function(e,t,r){return e[0]=t[0]-r,e[1]=t[1]-r,e[2]=t[2]-r,e[3]=t[0]+r,e[4]=t[1]+r,e[5]=t[2]+r,e},a.fromSph3=function(e,t){return e[0]=t[0]-t[3],e[1]=t[1]-t[3],e[2]=t[2]-t[3],e[3]=t[0]+t[3],e[4]=t[1]+t[3],e[5]=t[2]+t[3],e},a.fromValues=function(e,t,r,i,n,o){var s=a.create();return s[0]=e,s[1]=t,s[2]=r,s[3]=i,s[4]=n,s[5]=o,s},a.getClampedPoint=function(e,t,r){return e[0]=Math.max(t[0],Math.min(t[3],r[0])),e[1]=Math.max(t[1],Math.min(t[4],r[1])),e[2]=Math.max(t[2],Math.min(t[5],r[2])),e},a.getMax=function(e,t){return e[0]=t[3],e[1]=t[4],e[2]=t[5],e},a.getMin=function(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e},a.getSize=function(e,t){return e[0]=t[3]-t[0],e[1]=t[4]-t[1],e[2]=t[5]-t[2],e},a.getPosition=function(e,t){return e[0]=.5*(t[0]+t[3]),e[1]=.5*(t[1]+t[4]),e[2]=.5*(t[2]+t[5]),e},a.radius=function(e){var t=e[3]-e[0],r=e[4]-e[1],i=e[5]-e[2];return.5*Math.sqrt(t*t+r*r+i*i)},a.intersect=function(e,t,r){return e[0]=Math.max(t[0],r[0]),e[1]=Math.max(t[1],r[1]),e[2]=Math.max(t[2],r[2]),e[3]=Math.min(t[3],r[3]),e[4]=Math.min(t[4],r[4]),e[5]=Math.min(t[5],r[5]),e},a.intersectBounds=function(e,t,r,i){return e[0]=Math.max(t[0],r[0]),e[1]=Math.max(t[1],r[1]),e[2]=Math.max(t[2],r[2]),e[3]=Math.min(t[3],i[0]),e[4]=Math.min(t[4],i[1]),e[5]=Math.min(t[5],i[2]),e},a.intersects=function(e,t){return!(t[3]<e[0]||t[0]>e[3]||t[4]<e[1]||t[1]>e[4]||t[5]<e[2]||t[2]>e[5])},a.intersectsBounds=function(e,t,r){return!(r[0]<e[0]||t[0]>e[3]||r[1]<e[1]||t[1]>e[4]||r[2]<e[2]||t[2]>e[5])},a.intersectsNormalConstant=function(e,t,r){var i,n;return t[0]>0?(i=t[0]*e[0],n=t[0]*e[3]):(i=t[0]*e[3],n=t[0]*e[0]),t[1]>0?(i=t[1]*e[1],n=t[1]*e[4]):(i=t[1]*e[4],n=t[1]*e[1]),t[2]>0?(i+=t[2]*e[2],n+=t[2]*e[5]):(i+=t[2]*e[5],n+=t[2]*e[2]),i<=r&&n>=r},a.intersectsPln=function(e,t){return a.intersectsNormalConstant(e,t,t[3])},a.intersectsPoint=function(e,t){return t[0]>=e[0]&&t[0]<=e[3]&&t[1]>=e[1]&&t[1]<=e[4]&&t[2]>=e[2]&&t[2]<=e[5]},a.intersectsValues=function(e,t,r,i){return t>=e[0]&&t<=e[3]&&r>=e[1]&&r<=e[4]&&i>=e[2]&&i<=e[5]},a.intersectsPositionRadius=function(e,t,r){var i=Math.max(e[0],Math.min(e[3],t[0]))-t[0],n=Math.max(e[1],Math.min(e[4],t[1]))-t[1],a=Math.max(e[2],Math.min(e[5],t[2]))-t[2];return i*i+n*n+a*a<=r*r},a.intersectsSph3=function(e,t){var r=Math.max(e[0],Math.min(e[3],t[0]))-t[0],i=Math.max(e[1],Math.min(e[4],t[1]))-t[1],n=Math.max(e[2],Math.min(e[5],t[2]))-t[2];return r*r+i*i+n*n<=t[3]*t[3]},a.isEmpty=function(e){return e[0]+e[1]+e[2]+e[0]+e[1]+e[2]===0||(e[3]<e[0]||e[4]<e[1]||e[5]<e[2])},a.bounds.isEmpty=function(e,t){return e[0]+e[1]+e[2]+t[0]+t[1]+t[2]===0||(t[0]<e[0]||t[1]<e[1]||t[2]<e[2])},a.set=function(e,t,r,i,n,a,o){return e[0]=t,e[1]=r,e[2]=i,e[3]=n,e[4]=a,e[5]=o,e},a.squaredDistanceToPoint=function(e,t){var r=Math.max(e[0],Math.min(e[3],t[0]))-t[0],i=Math.max(e[1],Math.min(e[4],t[1]))-t[1],n=Math.max(e[2],Math.min(e[5],t[2]))-t[2];return r*r+i*i+n*n},a.surfaceArea=function(e){var t=e[3]-e[0],r=e[4]-e[1],i=e[5]-e[2];return 2*(t*(r+i)+r*i)},a.toArray=function(e,t,r=0){return t[r]=e[0],t[r+1]=e[1],t[r+2]=e[2],t[r+3]=e[3],t[r+4]=e[4],t[r+5]=e[5],e},a.toBounds=function(e,t,r){return t[0]=e[0],t[1]=e[1],t[2]=e[2],r[0]=e[3],r[1]=e[4],r[2]=e[5],e},a.toPoints=function(e,t=[]){var r=e[0],i=e[1],n=e[2],a=e[3],o=e[4],s=e[5],u=a+Math.abs(r),l=o+Math.abs(i),c=s+Math.abs(n);return t.push([a+0,o+0,s+0]),t.push([a-u,o+0,s+0]),t.push([a+0,o+0,s-c]),t.push([a-u,o+0,s-c]),t.push([a+0,o-l,s+0]),t.push([a-u,o-l,s+0]),t.push([a+0,o-l,s-c]),t.push([a-u,o-l,s-c]),t},a.toPositionRadius=function(e,t){var r=e[3]-e[0],i=e[4]-e[1],n=e[5]-e[2];return t[0]=.5*(e[0]+e[3]),t[1]=.5*(e[1]+e[4]),t[2]=.5*(e[2]+e[5]),.5*Math.sqrt(r*r+i*i+n*n)},a.bounds.toPositionRadius=function(e,t,r){var i=t[0]-e[0],n=t[1]-e[1],a=t[2]-e[2];return r[0]=.5*(e[0]+t[0]),r[1]=.5*(e[1]+t[1]),r[2]=.5*(e[2]+t[2]),.5*Math.sqrt(i*i+n*n+a*a)},a.translate=function(e,t,r){return e[0]=t[0]+r[0],e[1]=t[1]+r[1],e[2]=t[2]+r[2],e[3]=t[3]+r[0],e[4]=t[4]+r[1],e[5]=t[5]+r[2],e},a.transformMat4=function(e,t,r){return o||(o=[n.vec3.create(),n.vec3.create(),n.vec3.create(),n.vec3.create(),n.vec3.create(),n.vec3.create(),n.vec3.create(),n.vec3.create()]),a.isEmpty(t)?a.empty(e):(n.vec3.transformMat4(o[0],[t[0],t[1],t[2]],r),n.vec3.transformMat4(o[1],[t[0],t[1],t[5]],r),n.vec3.transformMat4(o[2],[t[0],t[4],t[2]],r),n.vec3.transformMat4(o[3],[t[0],t[4],t[5]],r),n.vec3.transformMat4(o[4],[t[3],t[1],t[2]],r),n.vec3.transformMat4(o[5],[t[3],t[1],t[5]],r),n.vec3.transformMat4(o[6],[t[3],t[4],t[2]],r),n.vec3.transformMat4(o[7],[t[3],t[4],t[5]],r),a.fromPoints(e,o))},a.union=function(e,t,r){return e[0]=Math.min(t[0],r[0]),e[1]=Math.min(t[1],r[1]),e[2]=Math.min(t[2],r[2]),e[3]=Math.max(t[3],r[3]),e[4]=Math.max(t[4],r[4]),e[5]=Math.max(t[5],r[5]),e},a.unionBounds=function(e,t,r,i){return e[0]=Math.min(t[0],r[0]),e[1]=Math.min(t[1],r[1]),e[2]=Math.min(t[2],r[2]),e[3]=Math.max(t[3],i[0]),e[4]=Math.max(t[4],i[1]),e[5]=Math.max(t[5],i[2]),e},a.bounds.union=function(e,t,r,i,n,a){e[0]=Math.min(r[0],n[0]),e[1]=Math.min(r[1],n[1]),e[2]=Math.min(r[2],n[2]),t[0]=Math.max(i[0],a[0]),t[1]=Math.max(i[1],a[1]),t[2]=Math.max(i[2],a[2])}},"./math/curve.js":function(e,t,r){"use strict";r.r(t),r.d(t,"curve",(function(){return i}));var i={evaluate:function(e,t,r,i,n){for(var a=e.knots.length,o=a-1,s=0,u=0;u<e.knots.length;++u)if(e.knots[u]>t){o=u;break}if(0===e.degree)for(var l=0;l<e.dimension;++l)r[l]=e.controls[o*e.dimension+l];else if(1===e.degree){var c=i?(o+a-1)%a:0===o?0:o-1,f=e.knots[o]-e.knots[c];f<0&&(f+=n),f>0&&(s=(t-e.knots[e.knots.length-1])/f);for(var d=0;d<e.dimension;++d)r[d]=e.controls[c*e.dimension+d]*(1-s)+e.controls[o*e.dimension+d]*s}else{var h=i?(o+a-2)%a:0===o?0:o-2,m=i?(o+a-1)%a:0===o?0:o-1,p=h*e.dimension,b=m*e.dimension,v=o*e.dimension,g=e.knots[h],E=e.knots[m],y=e.knots[o],T=e.knots[(o+1)%a];g>y&&(y+=n,T+=n,t+=n),E>y&&(y+=n,T+=n,t+=n),T<y&&(T+=n);var S=t-E,w=S/(y-E),_=(t-g)/(y-g),R=_+w-w*_,j=w*(S/(T-E)),A=R-j;R=1-R;for(var O=0;O<e.dimension;++O)r[O]=R*e.controls[p+O]+A*e.controls[b+O]+j*e.controls[v+O]}},ag_horner1:function(e,t,r){for(var i=e[t];--t>=0;)i=r*i+e[t];return i},ag_zeroin2:function(e,t,r,n,a,o){var s,u,l,c,f,d,h,m,p,b;for(var v=!0;v&&(s=e,c=r,l=u=t-e),Math.abs(c)<Math.abs(n)&&(e=t,t=s,s=e,r=n,n=c,c=r),v=!1,f=2.384185792e-7*Math.abs(t)+.5*a,d=.5*(s-t),Math.abs(d)>f&&0!==n;)Math.abs(l)<f||Math.abs(r)<=Math.abs(n)?l=u=d:(b=n/r,e===s?(h=2*d*b,m=1-b):(h=b*(2*d*(m=r/c)*(m-(p=n/c))-(t-e)*(p-1)),m=(m-1)*(p-1)*(b-1)),h>0?m=-m:h=-h,b=l,l=u,2*h<3*d*m-Math.abs(f*m)&&h<Math.abs(.5*b*m)?u=h/m:l=u=d),e=t,r=n,Math.abs(u)>f?t+=u:d>0?t+=f:t-=f,(n=i.ag_horner1(o.p,o.deg,t))*(c/Math.abs(c))>0&&(v=!0);return t},ag_zeroin:function(e,t,r,n){var a,o;return a=i.ag_horner1(n.p,n.deg,e),Math.abs(a)<1.192092896e-7?e:(o=i.ag_horner1(n.p,n.deg,t),Math.abs(o)<1.192092896e-7?t:i.ag_zeroin2(e,t,a,o,r,n))},polyZeroes:function(e,t,r,n,a,o,s){var u,l,c,f,d,h,m,p,b,v,g,E,y,T,S,w=new Array(22),_=new Array(22),R=new Array(22),j={p:[],deg:0};for(m=v=0,p=0,u=0;u<t+1;++u)p+=Math.abs(e[u]);if(p<=(E=(Math.abs(r)+Math.abs(a))*(t+1)*1.192092896e-7))return-1;for(y=w,T=_,S=R,u=0;u<t+1;++u)y[u]=1/p*e[u];for(;Math.abs(y[t])<E;)t--;if(f=0,0===t)return f;if(1===t)return s[0]=-y[0]/y[1],l=n?r<s[0]+E:r<s[0]-E,c=o?a>s[0]-E:a>s[0]+E,(f=l&&c?1:0)&&(n&&s[0]<r?s[0]=r:o&&s[0]>a&&(s[0]=a)),f;for(j.p=y,j.deg=t,u=1;u<=t;u++)T[u-1]=u*y[u];if(0===(d=i.polyZeroes(T,t-1,r,0,a,0,S)).length)return 0;for(u=h=0;u<=d;u++){if(f>t)return f;0===u?(b=r,g=i.ag_horner1(y,t,b),Math.abs(g)<=E&&n&&(s[f++]=r)):(b=m,g=v),u===d?(m=a,h=0):m=S[u],v=i.ag_horner1(y,t,m),h?h=0:Math.abs(v)<E?(u!==d||o)&&(s[f++]=m,h=1):(g<0&&v>0||g>0&&v<0)&&(s[f++]=i.ag_zeroin(b,m,0,j),f>1&&s[f-2]>=s[f-1]-E&&(s[f-2]=.5*(s[f-2]+s[f-1]),f--))}return f}}},"./math/index.js":function(e,t,r){"use strict";r.r(t);var i=r("./math/num.js");r.d(t,"num",(function(){return i.num}));var n=r("./math/vec2.js");r.d(t,"vec2",(function(){return n.vec2}));var a=r("./math/vec3.js");r.d(t,"vec3",(function(){return a.vec3}));var o=r("./math/vec4.js");r.d(t,"vec4",(function(){return o.vec4}));var s=r("./math/quat.js");r.d(t,"quat",(function(){return s.quat}));var u=r("./math/mat3.js");r.d(t,"mat3",(function(){return u.mat3}));var l=r("./math/mat4.js");r.d(t,"mat4",(function(){return l.mat4}));var c=r("./math/noise.js");r.d(t,"noise",(function(){return c.noise}));var f=r("./math/curve.js");r.d(t,"curve",(function(){return f.curve}));var d=r("./math/box3.js");r.d(t,"box3",(function(){return d.box3}));var h=r("./math/tri3.js");r.d(t,"tri3",(function(){return h.tri3}));var m=r("./math/lne3.js");r.d(t,"lne3",(function(){return m.lne3}));var p=r("./math/pln.js");r.d(t,"pln",(function(){return p.pln}));var b=r("./math/ray3.js");r.d(t,"ray3",(function(){return b.ray3}));var v=r("./math/sph3.js");r.d(t,"sph3",(function(){return v.sph3}))},"./math/lne3.js":function(e,t,r){"use strict";r.r(t),r.d(t,"lne3",(function(){return s}));var i,n,a=r("./math/vec3.js"),o=r("./math/box3.js"),s={};s.$end=o.box3.$max,s.$start=o.box3.$min,s.clone=o.box3.clone,s.closestPointToPointParameter=function(e,t,r){i||(i=a.vec3.create(),n=a.vec3.create());var o=i,s=n;o[0]=t[0]-e[0],o[1]=t[1]-e[1],o[2]=t[2]-e[2],s[0]=e[3]-e[0],s[1]=e[4]-e[1],s[2]=e[5]-e[2];var u=s[0]*s[0]+s[1]*s[1]+s[2]*s[2],l=(s[0]*o[0]+s[1]*o[1]+s[2]*o[2])/u;return r&&(l=Math.max(0,Math.min(1,l))),l},s.copy=o.box3.copy,s.copyStart=a.vec3.copy,s.copyEnd=o.box3.copyMax,s.create=o.box3.create,s.equals=o.box3.equals,s.equalsStartEnd=o.box3.equalsBounds,s.exactEquals=o.box3.equals,s.exactEqualsStartEnd=o.box3.exactEqualsBounds,s.fromArray=o.box3.fromArray,s.fromStartEnd=o.box3.fromBounds,s.get=function(e,t,r){if(r<0||r>1)throw e[0]=0,e[1]=0,e[2]=0,new Error("Normalization error");return e[0]=(t[3]-t[0])*r+t[0],e[1]=(t[4]-t[1])*r+t[1],e[2]=(t[5]-t[2])*r+t[2],e},s.getCenter=function(e,t){return e[0]=.5*(t[0]+t[3]),e[1]=.5*(t[1]+t[4]),e[2]=.5*(t[2]+t[5]),e},s.getClosestPointToPoint=function(e,t,r,i){return s.get(e,t,s.closestPointToPointParameter(t,r,i))},s.getEnd=o.box3.getMax,s.getDelta=function(e,t){return e[0]=t[3]-t[0],e[1]=t[4]-t[1],e[2]=t[5]-t[2],e},s.getStart=o.box3.getMin,s.intersectsNormalConstant=function(e,t,r){var i=t[0]*e[0]+t[1]*e[1]+t[2]*e[2]+r,n=t[0]*e[3]+t[1]*e[4]+t[2]*e[5]+r;return i<0&&n>0||n<0&&i>0},s.length=function(e){var t=e[0]-e[3],r=e[1]-e[4],i=e[2]-e[5];return Math.sqrt(t*t+r*r+i*i)},s.set=o.box3.set,s.squaredLength=function(e){var t=e[0]-e[3],r=e[1]-e[4],i=e[2]-e[5];return t*t+r*r+i*i},s.toArray=o.box3.toArray,s.toStartEnd=o.box3.toBounds,s.transformMat4=function(e,t,r){var i=t[0],n=t[1],a=t[2],o=t[3],s=t[4],u=t[5];return e[0]=r[0]*i+r[4]*n+r[8]*a+r[12],e[1]=r[1]*i+r[5]*n+r[9]*a+r[13],e[2]=r[2]*i+r[6]*n+r[10]*a+r[14],e[3]=r[0]*o+r[4]*s+r[8]*u+r[12],e[4]=r[1]*o+r[5]*s+r[9]*u+r[13],e[5]=r[2]*o+r[6]*s+r[10]*u+r[14],e},s.translate=function(e,t,r){return e[0]=t[0]+r[0],e[1]=t[1]+r[1],e[2]=t[2]+r[2],e[3]=t[3]+r[0],e[4]=t[4]+r[1],e[5]=t[5]+r[2],e}},"./math/mat3.js":function(e,t,r){"use strict";r.r(t);var i=r("../node_modules/gl-matrix/lib/gl-matrix.js");r.d(t,"mat3",(function(){return i.mat3})),i.mat3.fromArray=function(e,t,r=0){return e[0]=t[r],e[1]=t[r+1],e[2]=t[r+2],e[3]=t[r+3],e[4]=t[r+4],e[5]=t[r+5],e[6]=t[r+6],e[7]=t[r+7],e[8]=t[r+8],e},i.mat3.setArray=function(e,t,r=0){return e[0]=t[r],e[1]=t[r+1],e[2]=t[r+2],e[3]=t[r+3],e[4]=t[r+4],e[5]=t[r+5],e[6]=t[r+6],e[7]=t[r+7],e[8]=t[r+8],e},i.mat3.toArray=function(e,t,r=0){return t[r]=e[0],t[r+1]=e[1],t[r+2]=e[2],t[r+3]=e[3],t[r+4]=e[4],t[r+5]=e[5],t[r+6]=e[6],t[r+7]=e[7],t[r+8]=e[8],e}},"./math/mat4.js":function(e,t,r){"use strict";r.r(t);var i,n=r("../node_modules/gl-matrix/lib/gl-matrix.js");r.d(t,"mat4",(function(){return n.mat4})),n.mat4.arcFromForward=function(e,t){i||(i=n.vec3.create());var r=n.vec3.normalize(i,t);if(n.mat4.identity(e),r[2]<-.99999)return e;if(r[2]>.99999)return e[5]=-1,e[10]=-1,e;var a=(1+r[2])/(r[0]*r[0]+r[1]*r[1]);return e[0]=a*r[1]*r[1]-r[2],e[1]=-a*r[0]*r[1],e[2]=r[0],e[4]=e[1],e[5]=a*r[0]*r[0]-r[2],e[6]=r[1],e[8]=-r[0],e[9]=-r[1],e[10]=-r[2],e},n.mat4.copyTranslation=function(e,t){return e[12]=t[12],e[13]=t[13],e[14]=t[14],e},n.mat4.fromMat3=function(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[4]=t[3],e[5]=t[4],e[6]=t[5],e[8]=t[6],e[9]=t[7],e[10]=t[8],e[3]=e[7]=e[11]=e[12]=e[13]=e[14]=0,e[15]=1,e},n.mat4.lookAtGL=function(){var e,t,r;return function(i,a,o,s){return e||(e=n.vec3.create(),t=n.vec3.create(),r=n.vec3.create()),n.vec3.subtract(r,a,o),0===n.vec3.squaredLength(r)&&(r[2]=1),n.vec3.normalize(r,r),n.vec3.cross(e,s,r),0===n.vec3.squaredLength(e)&&(r[2]+=1e-4,n.vec3.cross(e,s,r)),n.vec3.normalize(e,e),n.vec3.cross(t,r,e),i[0]=e[0],i[1]=e[1],i[2]=e[2],i[3]=0,i[4]=t[0],i[5]=t[1],i[6]=t[2],i[7]=0,i[8]=r[0],i[9]=r[1],i[10]=r[2],i[11]=0,i[12]=0,i[13]=0,i[14]=0,i[15]=1,i}}(),n.mat4.maxScaleOnAxis=function(e){var t=e[0],r=e[4],i=e[8],n=e[1],a=e[5],o=e[9],s=e[2],u=e[6],l=e[10],c=t*t+r*r+i*i,f=n*n+a*a+o*o,d=s*s+u*u+l*l;return Math.sqrt(Math.max(c,f,d))},n.mat4.perspectiveGL=function(e,t,r,i,a){var o=Math.tan(t/360*Math.PI)*i,s=o*r;return n.mat4.frustum(e,-s,s,-o,o,i,a),e},n.mat4.projectVec3=function(e,t,r){var i=r[0],n=r[1],a=r[2],o=t[0]*i+t[4]*n+t[8]*a+t[12],s=t[1]*i+t[5]*n+t[9]*a+t[13],u=t[2]*i+t[6]*n+t[10]*a+t[14],l=t[3]*i+t[7]*n+t[11]*a+t[15];return e[0]=(o/l+1)/2,e[1]=(s/l+1)/2,e[2]=(u/l+1)/2,e},n.mat4.setTranslation=function(e,t){return e[12]=t[0],e[13]=t[1],e[14]=t[2],e},n.mat4.setTranslationFromValues=function(e,t,r,i){return e[12]=t,e[13]=r,e[14]=i,e}},"./math/noise.js":function(e,t,r){"use strict";r.r(t),r.d(t,"noise",(function(){return d}));var i,n,a,o,s,u,l,c=r("./math/vec3.js"),f=r("./math/vec4.js"),d={};d.turbulence=(i=[],n=[],a=[],o=!1,function(e,t,r,s,u,l){o||function(){for(var e=0;e<256;e++)i[e]=f.vec4.fromValues(Math.random()-.5,Math.random()-.5,Math.random()-.5,Math.random()-.5),n[e]=e;for(var t=256;--t;){var r=n[t],s=Math.floor(256*Math.random());n[t]=n[s],n[s]=r}for(var u=0;u<256;u++)n[256+u]=n[u],i[256+u]=i[u],i[512+u]=i[u];for(var l=0;l<15;++l)a[l]=c.vec3.create();o=!0}(),t+=4096,r+=4096,s+=4096,u+=4096;var d=Math.floor(t),h=Math.floor(r),m=Math.floor(s),p=Math.floor(u),b=t-d,v=r-h,g=s-m,E=u-p,y=1+(d&=255),T=1+(h&=255),S=1+(m&=255),w=1+(p&=255),_=n[d],R=n[y],j=n[_+h],A=n[R+h],O=n[_+T],z=n[R+T],P=c.vec3.lerp(a[0],i[j+m+p],i[A+m+p],b),x=c.vec3.lerp(a[1],i[O+m+p],i[z+m+p],b),C=c.vec3.lerp(a[2],i[j+S+p],i[A+S+p],b),D=c.vec3.lerp(a[3],i[j+S+p],i[A+S+p],b),M=c.vec3.lerp(a[4],P,x,v),L=c.vec3.lerp(a[5],C,D,v),I=c.vec3.lerp(a[6],M,L,g);P=c.vec3.lerp(a[7],i[j+m+w],i[A+m+w],b),x=c.vec3.lerp(a[8],i[O+m+w],i[z+m+w],b),C=c.vec3.lerp(a[9],i[j+S+w],i[A+S+w],b),D=c.vec3.lerp(a[10],i[j+S+w],i[A+S+w],b),M=c.vec3.lerp(a[11],P,x,v),L=c.vec3.lerp(a[12],C,D,v);var F=c.vec3.lerp(a[13],M,L,g),G=c.vec3.lerp(a[14],I,F,E);return e[0]+=G[0]*l,e[1]+=G[1]*l,e[2]+=G[2]*l,e}),d.perlin1=(s=!1,u=null,l=null,function(e){s||function(){u=new Array(514),l=new Array(514);var e=0,t=0,r=0;for(e=0;e<256;e++)u[e]=e,l[e]=2*Math.random()-1;for(;--e;)r=u[e],u[e]=u[t=Math.floor(256*Math.random())],u[t]=r;for(e=0;e<258;e++)u[256+e]=u[e],l[256+e]=l[e];s=!0}();var t=e+4096,r=255&Math.floor(t),i=r+1&255,n=t-Math.floor(t),a=n-1,o=n*n*(3-2*n),c=n*l[u[r]];return c+o*(a*l[u[i]]-c)}),d.perlin1D=function(e,t,r,i){for(var n=0,a=e,o=1,s=0;s<i;++s)n+=d.perlin1(a)/o,o*=t,a*=r;return n}},"./math/num.js":function(e,t,r){"use strict";r.r(t),r.d(t,"num",(function(){return a}));var i,n,a={};a.EPSILON=1e-6,a.RAD2DEG=180/Math.PI,a.DEG2RAD=Math.PI/180,a.TWO_PI=2*Math.PI,a.PI=Math.PI,a.biCumulative=function(e,t){if(1===t){var r=1-e;return 1-r*r*r}return 2===t?3*e*e-2*e*e*e:e*e*e},a.ceil=Math.ceil,a.clamp=function(e,t,r){return Math.max(t,Math.min(r,e))},a.decimalPlaces=function(e){var t=(""+e).match(/(?:\.(\d+))?(?:[eE]([+-]?\d+))?$/);return t?Math.max(0,(t[1]?t[1].length:0)-(t[2]?+t[2]:0)):0},a.degrees=function(e){return e*a.RAD2DEG},a.degreesUnwrapped=function(e){return a.unwrapDegrees(e*a.RAD2DEG)},a.dwordToFloat=function(e){var t=(16711680&e)>>16,r=(4278190080&e)>>24,i=(r<<1&255|t>>7)-127,n=(127&t)<<16|(65280&e)>>8<<8|255&e;return 0===n&&-127===i?0:(1-2*(r>>7))*(1+n*Math.pow(2,-23))*Math.pow(2,i)},a.equals=function(e,t){return Math.abs(e-t)<=a.EPSILON*Math.max(1,Math.abs(e),Math.abs(t))},a.exactEquals=function(e,t){return e===t},a.exponentialDecay=function(e,t,r,i,n){return t*n/i+r*(e*i-t)/(i*i)*(1-Math.pow(Math.E,-i*n/r))},a.fract=function(e){return e-Math.floor(e)},a.fromHalfFloat=function(e){var t=(32768&e)>>15,r=(31744&e)>>10,i=1023&e;return 0===r?(t?-1:1)*Math.pow(2,-14)*(i/Math.pow(2,10)):31===r?i?NaN:1/0*(t?-1:1):(t?-1:1)*Math.pow(2,r-15)*(1+i/Math.pow(2,10))},a.floor=Math.floor,a.getLongWordOrder=function(e){return 0===e||255===e||-16777216===e?0:1+a.getLongWordOrder(e>>8)},a.greaterThan=function(e,t){return e>t?1:0},a.greaterThanEqual=function(e,t){return a.isEqual(e,t)||e>t?1:0},a.greaterThanExactEqual=function(e,t){return e>=t?1:0},a.isEven=function(e){return Math.abs(e)%2==0},a.isFloat=function(e){return e%1!=0},a.isFinite=Number.isFinite,a.isInt=function(e){return e%1==0},a.isNaN=Number.isNaN,a.isOdd=function(e){return Math.abs(e)%2==1},a.isPowerOfTwo=function(e){return 0==(e&e-1)&&0!==e},a.lessThan=function(e,t){return e<t?1:0},a.lessThanEqual=function(e,t){return a.isEqual(e,t)||e<t?1:0},a.lessThanExactEqual=function(e,t){return e<=t?1:0},a.log2=function(e){return Math.log(e)*Math.LOG2E},a.max=Math.max,a.min=Math.min,a.nearestPowerOfTwo=function(e){return Math.pow(2,Math.round(Math.log(e)/Math.LN2))},a.normalizeInt=function(e,t,r,i){var n=r-t,a=e-t,o=a-a/n*n+t;return void 0===i?o:Number(o.toFixed(i))},a.normalizeFloat=function(e,t,r,i){var n=r-t,a=e-t,o=a-Math.floor(a/n)*n+t;return void 0===i?o:Number(o.toFixed(i))},a.radians=function(e){return e*a.DEG2RAD},a.radiansUnwrapped=function(e){return a.unwrapRadians(e*=a.DEG2RAD)},a.randomInt=function(e,t){return e+Math.floor(Math.random()*(t-e+1))},a.randomFloat=function(e,t){return e+Math.random()*(t-e)},a.round=Math.round,a.roundToZero=function(e){return e<0?Math.ceil(e):Math.floor(e)},a.step=a.greaterThan,a.smoothStep=function(e,t,r){return e<=t?0:e>=r?1:(e=(e-t)/(r-t))*e*(3-2*e)},a.smootherStep=function(e,t,r){return e<=t?0:e>=r?1:(e=(e-t)/(r-t))*e*e*(e*(6*e-15)+10)},a.toHalfFloat=function(e){i||(i=new Float32Array(1),n=new Int32Array(i.buffer)),i[0]=e;var t=n[0],r=t>>16&32768,a=t>>12&2047,o=t>>23&255;return o<103?r:o>142?(r|=31744,r|=(255===o?0:1)&&8388607&t):o<113?r|=((a|=2048)>>114-o)+(a>>113-o&1):(r|=o-112<<10|a>>1,r+=1&a)},a.colorFromLinear=function(e){return Math.min(Math.floor(255*e),255)},a.linearFromColor=function(e){return e/255},a.hexFromLinear=function(e){return a.hexFromColor(a.colorFromLinear(e))},a.hexFromColor=function(e){return(256|e).toString(16).slice(1)},a.unwrapDegrees=function(e){return(e%=360)>180&&(e-=360),e<-180&&(e+=360),e},a.unwrapRadians=function(e){return(e%=a.TWO_PI)>a.PI&&(e-=a.TWO_PI),e<-a.PI&&(e+=a.TWO_PI),e}},"./math/pln.js":function(e,t,r){"use strict";r.r(t),r.d(t,"pln",(function(){return c}));var i,n,a=r("./math/num.js"),o=r("./math/vec3.js"),s=r("./math/vec4.js"),u=r("./math/mat3.js"),l=r("./math/box3.js"),c={};c.$normal=function(e){return e.subarray(0,3)},c.clone=s.vec4.clone,c.constant=function(e){return e[3]},c.copy=s.vec4.copy,c.create=s.vec4.create,c.distanceToPoint=function(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]+e[3]},c.distanceToPositionRadius=function(e,t,r){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]-r},c.distanceToSph3=function(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]-t[3]},c.distanceToValues=function(e,t,r,i){return e[0]*t+e[1]*r+e[2]*i+e[3]},c.equals=s.vec4.equals,c.equalsNormalConstant=function(e,t,r){var i=e[0],n=e[1],o=e[2],s=e[3],u=t[0],l=t[1],c=t[2],f=r;return Math.abs(i-u)<=a.num.EPSILON*Math.max(1,Math.abs(i),Math.abs(u))&&Math.abs(n-l)<=a.num.EPSILON*Math.max(1,Math.abs(n),Math.abs(l))&&Math.abs(o-c)<=a.num.EPSILON*Math.max(1,Math.abs(o),Math.abs(c))&&Math.abs(s-f)<=a.num.EPSILON*Math.max(1,Math.abs(s),Math.abs(f))},c.exactEquals=s.vec4.exactEquals,c.exactEqualsNormalConstant=function(e,t,r){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===r},c.extract=function(e,t){return t[0]=e[0],t[1]=e[1],t[2]=e[2],e[3]},c.fromNormalConstant=function(e,t,r){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=r,e},c.fromCoplanarPoints=function(e,t,r,i){var n=i[0]-r[0],a=i[1]-r[1],o=i[2]-r[2],s=t[0]-r[0],u=t[1]-r[1],l=t[2]-r[2],c=a*l-o*u,f=o*s-n*l,d=n*u-a*s,h=c*c+f*f+d*d;if(!(h>0))throw e[0]=0,e[1]=0,e[2]=0,new Error("Normalization error");return h=1/Math.sqrt(h),e[0]=c*h,e[1]=f*h,e[2]=d*h,e[3]=-(t[0]*e[0]+t[1]*e[1]+t[2]*e[2]),e},c.fromNormalAndCoplanarPoint=function(e,t,r){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=-(r[0]*t[0]+r[1]*t[1]+r[2]*t[2]),e},c.getCoplanarPoint=function(e,t){return e[0]=t[0]*-t[3],e[1]=t[1]*-t[3],e[2]=t[2]*-t[3],e},c.getIntersectLne3=function(e,t,r){var i=r[0],n=r[1],a=r[2],o=r[3],s=r[4],u=r[5];e[0]=0,e[1]=0,e[2]=0;var l=o-i,c=s-n,f=u-a,d=t[0]*l+t[1]*c+t[2]*f;if(0===d){if(t[0]*i+t[1]*n+t[2]*a+t[3]===0)return e[0]=i,e[1]=n,e[2]=a,e;throw new Error("Denominator error")}var h=(i*t[0]+n*t[1]+a*t[2]+t[3])/d;if(h<0||h>1)throw new Error("Normalization error");return e[0]=l*h+i,e[1]=c*h+n,e[2]=f*h+a,e},c.getIntersectStartEnd=function(e,t,r,n){return i||(i=l.box3.create()),l.box3.from(i,r,n),c.getIntersectLne3(e,t,i)},c.getNormal=function(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e},c.getOrthoPoint=function(e,t,r){var i=t[0]*r[0]+t[1]*r[1]+t[2]*r[2]+t[3];return o.vec3.multiplyScalar(e,t,i),e},c.getProjectedPoint=function(e,t,r){return c.getOrthoPoint(e,t,r),e[0]=-(e[0]-r[0]),e[1]=-(e[1]-r[1]),e[2]=-(e[2]-r[2]),e},c.intersectsBounds=function(){var e;return function(t,r,i){return e||(e=l.box3.create()),l.box3.from(e,r,i),l.box3.intersectsPln(e,t)}}(),c.intersectsBox3=function(e,t){return l.box3.intersectsPln(t,e)},c.intersectsLne3=function(e,t){var r=e[0]*t[0]+e[1]*t[1]+e[2]*t[2]+e[3],i=e[0]*t[3]+e[1]*t[4]+e[2]*t[5]+e[3];return r<0&&i>0||i<0&&r>0},c.intersectsPositionRadius=function(e,t,r){var i=t[0]*e[0]+t[1]*e[1]+t[2]*e[2];return Math.abs(i-e[3])<=r},c.intersectsSph3=function(e,t){var r=t[0]*e[0]+t[1]*e[1]+t[2]*e[2];return Math.abs(r-e[3])<=t[3]},c.intersectsStartEnd=function(e,t,r){var i=e[0]*t[0]+e[1]*t[1]+e[2]*t[2]+e[3],n=e[0]*r[0]+e[1]*r[1]+e[2]*r[2]+e[3];return i<0&&n>0||n<0&&i>0},c.negate=function(e,t){return e[0]=-t[0],e[1]=-t[1],e[2]=-t[2],e[3]=-1*t[3],e},c.normalize=function(e,t){var r=t[0],i=t[1],n=t[2],a=r*r+i*i+n*n;if(!(a>0))throw e[0]=0,e[1]=0,e[2]=0,new Error("Normalization error");return a=1/Math.sqrt(a),e[0]=t[0]*a,e[1]=t[1]*a,e[2]=t[2]*a,e[3]=t[3]*a,e},c.set=s.vec4.set,c.setArray=s.vec4.setArray,c.toArray=function(e,t,r=0){return t[r]=e[0],t[r+1]=e[1],t[r+2]=e[2],t[r+3]=e[3],e},c.transformMat4=function(e,t,r,i){i||n||(n=u.mat3.create()),i=i||u.mat3.normalFromMat4(n,r);var a=t[0]*-t[3],o=t[1]*-t[3],s=t[2]*-t[3],l=r[0]*a+r[4]*o+r[8]*s+r[12],c=r[1]*a+r[5]*o+r[9]*s+r[13],f=r[2]*a+r[6]*o+r[10]*s+r[14],d=t[0],h=t[1],m=t[2],p=d*i[0]+h*i[3]+m*i[6],b=d*i[1]+h*i[4]+m*i[7],v=d*i[2]+h*i[5]+m*i[8],g=p*p+b*b+v*v;if(!(g>0))throw e[0]=0,e[1]=0,e[2]=0,new Error("Normalization error");return g=1/Math.sqrt(g),e[0]=p*g,e[1]=b*g,e[2]=v*g,e[3]=-(l*e[0]+c*e[1]+f*e[2]),e},c.translate=function(e,t,r){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3]-(r[0]*t[0]+r[1]*t[1]+r[2]*t[2]),e}},"./math/quat.js":function(e,t,r){"use strict";r.r(t);var i=r("../node_modules/gl-matrix/lib/gl-matrix.js");r.d(t,"quat",(function(){return i.quat})),i.quat.exp=function(e,t){var r=Math.sqrt(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);return r?(e[0]=Math.sin(r)*t[0]/r,e[1]=Math.sin(r)*t[1]/r,e[2]=Math.sin(r)*t[2]/r,e[3]=Math.cos(r)):(e[0]=0,e[1]=0,e[2]=0,e[3]=1),e},i.quat.ln=function(e,t){var r=i.quat.length(t);if(r>1.0001||r<.99999)e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=0;else if(r=Math.sqrt(t[0]*t[0]+t[1]*t[1]+t[2]*t[2])){var n=Math.atan2(r,t[3])/r;e[0]=n*t[0],e[1]=n*t[1],e[2]=n*t[2],e[3]=0}else e[0]=0,e[1]=0,e[2]=0,e[3]=0;return e},i.quat.pow=function(e,t,r){return 1===r?i.quat.copy(e,t):(i.quat.ln(e,t),e[0]*=r,e[1]*=r,e[2]*=r,e[3]*=r,i.quat.exp(e,e),e)}},"./math/ray3.js":function(e,t,r){"use strict";r.r(t),r.d(t,"ray3",(function(){return c}));var i,n,a,o=r("./math/vec3.js"),s=(r("./math/mat4.js"),r("./math/pln.js"),r("./math/sph3.js")),u=r("./math/box3.js"),l=r("./math/tri3.js"),c={};c.$origin=u.box3.$min,c.$direction=u.box3.$max,c.clone=u.box3.clone,c.copy=u.box3.copy,c.copyOrigin=u.box3.copyMin,c.copyDirection=u.box3.copyMax,c.create=u.box3.create,c.distance=function(e,t){return Math.sqrt(c.squaredDistance(e,t))},c.distanceNormalConstant=function(e,t,r){var i=t[0]*e[3]+t[1]*e[4]+t[2]*e[5],n=e[0]*t[0]+e[1]*t[1]+e[2]*t[2]+r;if(0===i){if(0===n)return 0;throw new Error("Determinant error")}var a=-n/i;return a>=0?a:null},c.distancePln=function(e,t){var r=t[0]*e[3]+t[1]*e[4]+t[2]*e[5],i=e[0]*t[0]+e[1]*t[1]+e[2]*t[2]+t[3];if(0===r){if(0===i)return 0;throw new Error("Determinant error")}var n=-i/r;return n>=0?n:null},c.equals=u.box3.equals,c.equalsOriginDestination=u.box3.equalsBounds,c.exactEquals=u.box3.exactEquals,c.exactEqualsOriginDestination=u.box3.exactEqualsBounds,c.from=u.box3.from,c.fromArray=u.box3.fromArray,c.fromStartEnd=function(e,t,r){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=r[0]-t[0],e[4]=r[1]-t[1],e[5]=r[2]-t[2],c.normalize(e,e)},c.fromPerspective=function(e,t,r,i){var n=2*(t[0]-i[0])/i[2]-1,a=2*(t[1]-i[1])/i[3]-1,o=r[3]*n+r[7]*a+-1*r[11]+r[15],s=r[3]*n+r[7]*a+1*r[11]+r[15];if(0===o||0===s)throw new Error("Perspective Divide Error");return e[0]=(r[0]*n+r[4]*a+-1*r[8]+r[12])/o,e[1]=(r[1]*n+r[5]*a+-1*r[9]+r[13])/o,e[2]=(r[2]*n+r[6]*a+-1*r[10]+r[14])/o,e[3]=(r[0]*n+r[4]*a+1*r[8]+r[12])/s-e[0],e[4]=(r[1]*n+r[5]*a+1*r[9]+r[13])/s-e[1],e[5]=(r[2]*n+r[6]*a+1*r[10]+r[14])/s-e[2],c.normalize(e,e)},c.unproject=function(e,t,r,i){var n=[t[0],t[1],0],a=[t[0],t[1],1];o.vec3.unproject(n,n,r,i),o.vec3.unproject(a,a,r,i),c.fromStartEnd(e,n,a)},c.get=function(e,t,r){return e[0]=t[0]+t[3]*r,e[1]=t[1]+t[4]*r,e[2]=t[2]+t[5]*r,e},c.getDirection=u.box3.getMax,c.getClosestPointToPoint=function(e,t,r){var i=r[0]-t[0],n=r[1]-t[1],a=r[2]-t[2],o=i*t[3]+n*t[4]+a*t[5];return o<0?(e[0]=t[0],e[1]=t[1],e[2]=t[2]):c.get(e,t,o),e},c.getIntersectBounds=function(e,t,r,i){var n,a,o,s,u,l,f=1/t[3],d=1/t[4],h=1/t[5];return f>=0?(n=(r[0]-t[0])*f,a=(i[0]-t[0])*f):(n=(i[0]-t[0])*f,a=(r[0]-t[0])*f),d>=0?(o=(r[1]-t[1])*d,s=(i[1]-t[1])*d):(o=(i[1]-t[1])*d,s=(r[1]-t[1])*d),n>s||o>a?null:((o>n||n!=n)&&(n=o),(s<a||a!=a)&&(a=s),h>=0?(u=(r[2]-t[2])*h,l=(i[2]-t[2])*h):(u=(i[2]-t[2])*h,l=(r[2]-t[2])*h),n>l||u>a?null:((u>n||n!=n)&&(n=u),(l<a||a!=a)&&(a=l),a<0?null:c.get(e,t,n>=0?n:a)))},c.getIntersectBox3=function(e,t,r){return i||(i=o.vec3.create(),n=o.vec3.create()),u.box3.getMin(i,r),u.box3.getMax(n,r),c.getIntersectBounds(e,t,i,n)},c.getIntersectTri3=function(){var e,t,r;return function(i,n,a,s){return e||(e=o.vec3.create(),t=o.vec3.create(),r=o.vec3.create()),l.tri3.getV1(e,a),l.tri3.getV2(t,a),l.tri3.getV3(r,a),c.getIntersectVertices(i,n,e,t,r,s)}}(),c.getIntersectVertices=function(){var e,t,r,i,n,a;return function(s,u,l,f,d,h){e||(e=o.vec3.create(),t=o.vec3.create(),r=o.vec3.create(),i=o.vec3.create(),n=o.vec3.create(),a=o.vec3.create());var m,p=c.getOrigin(n,u),b=c.getDirection(a,u),v=o.vec3.subtract(e,p,l),g=o.vec3.subtract(t,f,l),E=o.vec3.subtract(r,d,l),y=o.vec3.cross(i,g,E),T=o.vec3.dot(b,y);if(T>0){if(h)return null;m=1}else{if(!(T<0))return null;m=-1,T=-T}o.vec3.cross(E,v,E);var S=m*o.vec3.dot(b,E);if(S<0)return null;o.vec3.cross(g,g,v);var w=m*o.vec3.dot(b,g);if(w<0)return null;if(S+w>T)return null;var _=-m*o.vec3.dot(v,y);return _<0?null:c.get(s,u,_/T)}}(),c.getIntersectNormalConstant=function(e,t,r,i){var n=c.distanceNormalConstant(t,r,i);return null!==n?c.get(e,t,n):null},c.getIntersectPln=function(e,t,r){var i=c.distancePln(t,r);return null!==i?c.get(e,t,i):null},c.getIntersectPositionRadius=function(e,t,r,i){return a||(a=s.sph3.create()),s.sph3.from(a,r,i),c.getIntersectSph3(e,t,a)},c.getIntersectSph3=function(e,t,r){var i=r[0]-t[0],n=r[1]-t[1],a=r[2]-t[2],o=r[3]*r[3],s=i*t[3]+n*t[4]+a*t[5],u=i*i+n*n+a*a-s*s;if(u>o)return null;var l=Math.sqrt(o-u),f=s-l,d=s+l;return f<0&&d<0?null:f<0?c.get(e,t,d):c.get(e,t,f)},c.getOrigin=u.box3.getMin,c.intersectsBox3=function(){var e;return function(t,r){return e||(e=o.vec3.create()),c.vec3_0=null!==c.getIntersectBox3(e,t,r)}}(),c.intersectsBounds=function(){var e;return function(t,r,i){return e||(e=o.vec3.create()),null!==c.getIntersectBounds(e,t,r,i)}}(),c.intersectsNormalConstant=function(e,t,r){var i=e[0]*t[0]+e[1]*t[1]+e[2]*t[2]+r;return 0===i||(t[0]*e[3]+t[1]*e[4]+t[2]*e[5])*i<0},c.intersectsPln=function(e,t){var r=e[0]*t[0]+e[1]*t[1]+e[2]*t[2]+t[3];return 0===r||(t[0]*e[3]+t[1]*e[4]+t[2]*e[5])*r<0},c.intersectsPositionRadius=function(e,t,r){return c.distance(e,t)<=r},c.intersectsSph3=function(e,t){return c.distance(e,t)<=t[3]},c.lookAt=function(e,t,r){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=r[0]-t[0],e[4]=r[1]-t[1],e[5]=r[2]-t[2],c.normalize(e,e)},c.normalize=function(e,t){e[0]=t[0],e[1]=t[1],e[2]=t[2];var r=t[3],i=t[4],n=t[5],a=r*r+i*i+n*n;if(!(a>0))throw e[1]=0,e[2]=0,e[3]=0,new Error("Normalization error");return a=1/Math.sqrt(a),e[3]=r*a,e[4]=i*a,e[5]=n*a,e},c.recast=function(e,t,r){return e[0]=t[0]+t[3]*r,e[1]=t[1]+t[4]*r,e[2]=t[2]+t[5]*r,e[3]=t[3],e[4]=t[4],e[5]=t[5],e},c.set=u.box3.set,c.SORT=function(e,t){return e.distance-t.distance},c.squaredDistance=function(){var e,t;return function(r,i){e||(e=o.vec3.create(),t=o.vec3.create()),e[0]=i[0]-r[0],e[1]=i[1]-r[1],e[2]=i[2]-r[2];var n=e[0]*r[3]+e[1]*r[4]+e[2]*r[5];return n<0?(c.getOrigin(t,r),o.vec3.squaredDistance(t,i)):(c.get(e,r,n),o.vec3.squaredDistance(e,i))}}(),c.toArray=u.box3.toArray,c.toOriginDirection=function(e,t,r){return t[0]=e[0],t[1]=e[1],t[2]=e[2],r[0]=e[3],r[1]=e[4],r[2]=e[5],e},c.transformMat4=function(e,t,r){var i=t[0],n=t[1],a=t[2],o=t[3]+t[0],s=t[4]+t[1],u=t[5]+t[2],l=r[3]*i+r[7]*n+r[11]*a+r[15]||1,f=r[3]*o+r[7]*s+r[11]*u+r[15]||1;return e[0]=(r[0]*i+r[4]*n+r[8]*a+r[12])/l,e[1]=(r[1]*i+r[5]*n+r[9]*a+r[13])/l,e[2]=(r[2]*i+r[6]*n+r[10]*a+r[14])/l,e[3]=(r[0]*o+r[4]*s+r[8]*u+r[12])/f-e[0],e[4]=(r[1]*o+r[5]*s+r[9]*u+r[13])/f-e[1],e[5]=(r[2]*o+r[6]*s+r[10]*u+r[14])/f-e[2],c.normalize(e,e)},c.translate=function(e,t,r){return e[0]=t[0]+r[0],e[1]=t[1]+r[1],e[2]=t[2]+r[2],e}},"./math/sph3.js":function(e,t,r){"use strict";r.r(t),r.d(t,"sph3",(function(){return d}));var i,n,a,o,s=r("./math/vec3.js"),u=r("./math/vec4.js"),l=r("./math/mat4.js"),c=r("./math/pln.js"),f=r("./math/box3.js"),d={},h=null;d.$position=c.pln.$normal,d.clone=u.vec4.clone,d.containsPoint=function(e,t){var r=t[0]-e[0],i=t[1]-e[1],n=t[2]-e[2];return r*r+i*i+n*n<=e[3]*e[3]},d.copy=u.vec4.copy,d.create=u.vec4.create,d.distance=function(e,t){var r=t[0]-e[0],i=t[1]-e[1],n=t[2]-e[2],a=t[3]+e[3];return Math.sqrt(r*r+i*i+n*n)-a},d.distanceToPoint=function(e,t){var r=t[0]-e[0],i=t[1]-e[1],n=t[2]-e[2];return Math.sqrt(r*r+i*i+n*n)-e[3]},d.empty=function(e){return e[0]=0,e[1]=0,e[2]=0,e[3]=0,e},d.equals=u.vec4.equals,d.equalsPositionRadius=c.pln.equalsNormalConstant,d.exactEquals=u.vec4.exactEquals,d.exactEqualsPositionRadius=c.pln.exactEqualsNormalConstant,d.extract=c.pln.extract,d.fromBox3=function(e,t){var r=t[3]-t[0],i=t[4]-t[1],n=t[5]-t[2];return e[0]=.5*(t[0]+t[3]),e[1]=.5*(t[1]+t[4]),e[2]=.5*(t[2]+t[5]),e[3]=.5*Math.sqrt(r*r+i*i+n*n),e},d.fromBounds=function(e,t,r){var i=r[0]-t[0],n=r[1]-t[1],a=r[2]-t[2];return e[0]=.5*(t[0]+r[0]),e[1]=.5*(t[1]+r[1]),e[2]=.5*(t[2]+r[2]),e[3]=.5*Math.sqrt(i*i+n*n+a*a),e},d.fromPositionRadius=c.pln.fromNormalConstant,d.fromTranslationRadius=function(e,t,r){return e[0]=t[12],e[1]=t[13],e[2]=t[14],e[3]=r,e},d.fromMat4=function(e,t){return e[0]=t[12],e[1]=t[13],e[2]=t[14],e[3]=l.mat4.maxScaleOnAxis(t),e},d.union=function(e,t,r){i||(i=s.vec3.create(),n=s.vec3.create(),s.vec3.create(),a=s.vec3.create());var u=d.extract(t,i),l=d.extract(r,n);s.vec3.subtract(a,n,i);var c=s.vec3.length(a);if(u>=c+l)return e===t?e:d.copy(e,t);if(l>=c+u)return e===r?e:d.clone(e,r);o||(o=s.vec3.create());var f=.5*(u+c+l);return s.vec3.scale(o,a,(-u+f)/c),s.vec3.add(o,i,o),d.fromPositionRadius(e,o,f)},d.unionPositionRadius=function(e,t,r,i){return d.union(e,t,d.fromPositionRadius(null,r,i))},d.getClampedPoint=function(e,t,r){e[0]=r[0],e[1]=r[1],e[2]=r[2];var i=t[0]-r[0],n=t[1]-r[1],a=t[2]-r[2];return i*i+n*n+a*a>t[3]*t[3]&&(e[0]=e[0]-t[0],e[1]=e[1]-t[1],e[2]=e[2]-t[2],s.vec3.normalize(e,e),e[0]=e[0]*t[3]+t[0],e[1]=e[1]*t[3]+t[1],e[2]=e[2]*t[3]+t[2]),e},d.getPointFromLongLat=function(e,t,r,i){return e[0]=t[0]+t[3]*Math.sin(i)*Math.cos(r),e[1]=t[1]+t[3]*Math.sin(i)*Math.sin(r),e[2]=t[2]+t[3]*Math.cos(i),e},d.getPosition=c.pln.getNormal,d.intersectsSph3=function(e,t){var r=t[0]-e[0],i=t[1]-e[1],n=t[2]-e[2],a=e[3]+t[3];return r*r+i*i+n*n<=a*a},d.intersectsBox3=function(e,t){return f.box3.intersectsSph3(t,e)},d.intersectsBounds=function(e,t,r){var i=Math.max(t[0],Math.min(r[0],e[0]))-e[0],n=Math.max(t[1],Math.min(r[1],e[1]))-e[1],a=Math.max(t[2],Math.min(r[2],e[2]))-e[2];return i*i+n*n+a*a<=e[3]*e[3]},d.intersectsPositionRadius=function(e,t,r){var i=t[0]-e[0],n=t[1]-e[1],a=t[2]-e[2],o=e[3]+r;return i*i+n*n+a*a<=o*o},d.intersectsPln=function(e,t){return c.pln.intersectsSph3(t,e)},d.intersectsNormalConstant=function(e,t,r){var i=e[0]*t[0]+e[1]*t[1]+e[2]*t[2];return Math.abs(i-r)<=e[3]},d.isEmpty=function(e){return e[3]<=0},d.radius=c.pln.constant,d.set=u.vec4.set,d.setArray=u.vec4.setArray,d.setPoints=function(e,t,r){h||(h=f.box3.create()),r?(e[0]=r[0],e[1]=r[1],e[2]=r[2]):(f.box3.setPoints(h,t),e[0]=.5*(h[0]+h[3]),e[1]=.5*(h[1]+h[4]),e[2]=.5*(h[2]+h[5]));for(var i=0,n=0;n<t.length;n++){var a=e[0]-t[n][0],o=e[1]-t[n][1],s=e[2]-t[n][2];i=Math.max(i,a*a+o*o+s*s)}return e[3]=Math.sqrt(i),e},d.squaredDistance=function(e,t){var r=t[0]-e[0],i=t[1]-e[1],n=t[2]-e[2],a=t[3]+e[3];return r*r+i*i+n*n-a*a},d.squaredDistanceToPoint=function(e,t){var r=t[0]-e[0],i=t[1]-e[1],n=t[2]-e[2];return r*r+i*i+n*n-e[3]},d.toArray=u.vec4.toArray,d.toBounds=function(e,t,r){h||(h=f.box3.create()),f.box3.fromSph3(h,e),f.box3.toBounds(h,t,r)},d.toPositionRadius=function(e,t){return t[0]=e[0],t[1]=e[1],t[2]=e[2],e[3]},d.transformMat4=function(e,t,r){var i=t[0],n=t[1],a=t[2],o=r[0]*r[0]+r[1]*r[1]+r[2]*r[2],s=r[4]*r[4]+r[5]*r[5]+r[6]*r[6],u=r[8]*r[8]+r[9]*r[9]+r[10]*r[10];return e[0]=r[0]*i+r[4]*n+r[8]*a+r[12],e[1]=r[1]*i+r[5]*n+r[9]*a+r[13],e[2]=r[2]*i+r[6]*n+r[10]*a+r[14],e[3]=t[3]*Math.sqrt(Math.max(o,s,u)),e},d.translate=function(e,t,r){return e[0]=t[0]+r[0],e[1]=t[1]+r[1],e[2]=t[2]+r[2],e}},"./math/tri3.js":function(e,t,r){"use strict";r.r(t),r.d(t,"tri3",(function(){return f}));var i,n,a,o,s=r("./math/vec3.js"),u=r("./math/mat3.js"),l=r("./math/pln.js"),c=r("./math/lne3.js"),f={};f.$v1=c.lne3.$start,f.$v2=c.lne3.$end,f.$v3=function(e){return e.subarray(6,9)},f.area=function(e){var t=e[7]-e[3],r=e[8]-e[4],i=e[9]-e[5],n=e[0]-e[3],a=e[1]-e[4],o=e[2]-e[5],s=t*o-i*a,u=i*n-t*o,l=t*a-r*n;return.5*Math.sqrt(s*s+u*u+l*l)},f.create=function(){var e=new Float32Array(9);return e[0]=0,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=0,e[6]=0,e[7]=0,e[8]=0,e},f.clone=u.mat3.clone,f.contains=function(e,t){return i||(i=s.vec3.create()),f.getBaryCentricCoordinates(i,e,t),i[0]>=0&&i[1]>=0&&i[0]+i[1]<=1},f.copy=u.mat3.copy,f.fromVertices=function(e,t,r,i){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=r[0],e[4]=r[1],e[5]=r[2],e[6]=i[0],e[7]=i[1],e[8]=i[2],e},f.fromArray=u.mat3.fromArray,f.getBaryCentricCoordinates=function(e,t,r){var i=t[7]-t[0],n=t[8]-t[1],a=t[9]-t[2],o=t[3]-t[0],s=t[4]-t[1],u=t[5]-t[2],l=r[0]-t[0],c=r[1]-t[1],f=r[2]-t[2],d=i[0]*i[0]+n[1]*n[1]+a[2]*a[2],h=i[0]*o[0]+n[1]*s[1]+a[2]*u[2],m=i[0]*l[0]+n[1]*c[1]+a[2]*f[2],p=o[0]*o[0]+s[1]*s[1]+u[2]*u[2],b=o[0]*l[0]+s[1]*c[1]+u[2]*f[2],v=d*p-h*h;if(0===v)throw e[0]=-2,e[1]=-1,e[2]=-1,new Error("Denominator error");var g=1/v,E=(p*m-h*b)*g,y=(d*b-h*m)*g;return e[0]=1-E-y,e[1]=y,e[2]=E,e},f.getClosestEdgeToPoint=function(e,t,r){n||(n=s.vec3.create(),a=s.vec3.create(),o=[c.lne3.create(),c.lne3.create(),c.lne3.create()]);var i=f.getClosestPointToPoint(n,t,r);c.lne3.set(o[0],t[0],t[1],t[2],t[3],t[4],t[5]),c.lne3.set(o[1],t[3],t[4],t[5],t[6],t[7],t[8]),c.lne3.set(o[2],t[6],t[7],t[8],t[0],t[1],t[2]);for(var u=1/0,l=0;l<o.length;l++){var d=c.lne3.getClosestPointToPoint(a,o[l],i,!0),h=s.vec3.squaredDistance(d,i);h<u&&(u=h,e[0]=o[l][0],e[1]=o[l][1],e[2]=o[l][2],e[3]=o[l][3],e[4]=o[l][4],e[5]=o[l][5])}return e},f.getClosestPointToPoint=function(){var e,t,r,i,n,a,o;return function(u,d,h){if(e||(e=l.pln.create(),t=[c.lne3.create(),c.lne3.create(),c.lne3.create()],r=s.vec3.create(),i=s.vec3.create(),n=s.vec3.create(),a=s.vec3.create(),o=s.vec3.create()),f.getV1(n,d),f.getV2(a,d),f.getV3(o,d),l.pln.fromCoplanarPoints(e,n,a,o),l.pln.getProjectedPoint(r,e,h),!0===f.contains(d,r))u[0]=r[0],u[1]=r[1],u[2]=r[2];else{c.lne3.set(t[0],d[0],d[1],d[2],d[3],d[4],d[5]),c.lne3.set(t[1],d[3],d[4],d[5],d[6],d[7],d[8]),c.lne3.set(t[2],d[6],d[7],d[8],d[0],d[1],d[2]);for(var m=1/0,p=0;p<t.length;p++){c.lne3.getClosestPointToPoint(i,t[p],r,!0);var b=s.vec3.squaredDistance(r,i);b<m&&(m=b,u[0]=i[0],u[1]=i[1],u[2]=i[2])}}return u}}(),f.getClosestVertexToPoint=function(){var e,t,r;return function(i,n,a){e||(e=s.vec3.create(),t=s.vec3.create(),r=s.vec3.create()),f.getClosestPointToPoint(i,n,a);for(var o,u,l,c,d=1/0,h=[f.getV1(e,n),f.getV2(t,n),f.getV3(r,n)],m=0;m<h.length;m++)(o=s.vec3.squaredDistance(h[m],i))<d&&(d=o,u=h[m][0],l=h[m][1],c=h[m][2]);return i[0]=u,i[1]=l,i[2]=c,i}}(),f.getMidpoint=function(e,t){return e[0]=(t[0]+t[3]+t[6])*(1/3),e[1]=(t[1]+t[4]+t[7])*(1/3),e[2]=(t[2]+t[5]+t[8])*(1/3),e},f.getNormal=function(e,t){var r=t[7]-t[3],i=t[8]-t[4],n=t[9]-t[5],a=t[0]-t[3],o=t[1]-t[4],s=t[2]-t[5],u=i*s-n*o,l=n*a-r*s,c=r*o-i*a,f=u*u+l*l+c*c;if(!(f>0))throw e[0]=0,e[1]=0,e[2]=0,new Error("Normalization error");return f=1/Math.sqrt(f),e[0]=u*f,e[1]=l*f,e[2]=c*f,e},f.getV1=c.lne3.getStart,f.getV2=c.lne3.getEnd,f.getV3=function(e,t){return e[0]=t[6],e[1]=t[7],e[2]=t[8],e},f.toArray=u.mat3.toArray,f.toVertices=function(e,t,r,i){return t[0]=e[0],t[1]=e[1],t[2]=e[2],r[0]=e[0],r[1]=e[1],r[2]=e[2],i[0]=e[0],i[1]=e[1],i[2]=e[2],e}},"./math/vec2.js":function(e,t,r){"use strict";r.r(t);var i=r("../node_modules/gl-matrix/lib/gl-matrix.js");r.d(t,"vec2",(function(){return i.vec2})),i.vec2.addScalar=function(e,t,r){return e[0]=t[0]+r,e[1]=t[1]+r,e},i.vec2.isEmpty=function(e){return 0===e[0]&&0===e[1]},i.vec2.divideScalar=function(e,t,r){return i.vec2.multiplyScalar(e,t,1/r)},i.vec2.multiplyScalar=function(e,t,r){return e[0]=t[0]*r,e[1]=t[1]*r,e},i.vec2.setScalar=function(e,t){return e[0]=t,e[1]=t,e},i.vec2.subtractScalar=function(e,t,r){return e[0]=t[0]-r,e[1]=t[1]-r,e}},"./math/vec3.js":function(e,t,r){"use strict";r.r(t);var i=r("../node_modules/gl-matrix/lib/gl-matrix.js");r.d(t,"vec3",(function(){return i.vec3}));var n,a,o,s=r("./math/num.js");i.vec3.X_AXIS=i.vec3.fromValues(1,0,0),i.vec3.Y_AXIS=i.vec3.fromValues(0,1,0),i.vec3.Z_AXIS=i.vec3.fromValues(0,0,1),i.vec3.addScalar=function(e,t,r){return e[0]=t[0]+r,e[1]=t[1]+r,e[2]=t[2]+r,e},i.vec3.degrees=function(e,t){return e[0]=t[0]*s.num.RAD2DEG,e[1]=t[1]*s.num.RAD2DEG,e[2]=t[2]*s.num.RAD2DEG,e},i.vec3.degreesUnwrapped=function(e,t){return e[0]=s.num.unwrapDegrees(t[0]*s.num.RAD2DEG),e[1]=s.num.unwrapDegrees(t[1]*s.num.RAD2DEG),e[2]=s.num.unwrapDegrees(t[2]*s.num.RAD2DEG),e},i.vec3.direction=function(e,t,r){return i.vec3.subtract(e,t,r),i.vec3.normalize(e,e),e},i.vec3.directionFromQuat=function(e,t,r){return i.vec3.transformQuat(e,t,r)},i.vec3.directionFromMat4=function(e,t,r){return n||(n=i.quat.create()),i.mat4.getRotation(n,r),i.vec3.transformQuat(e,t,n)},i.vec3.divideScalar=function(e,t,r){return i.vec3.multiplyScalar(e,t,1/r)},i.vec3.euler={},i.vec3.euler.DEFAULT_ORDER="XYZ",i.vec3.euler.fromQuat=function(e,t,r=i.vec3.euler.DEFAULT_ORDER){return a||(a=i.mat4.create()),i.mat4.fromQuat(a,t),i.vec3.euler.fromMat4(e,a,r)},i.vec3.euler.fromMat4=function(e,t,r=i.vec3.euler.DEFAULT_ORDER){var n=t[0],a=t[4],o=t[8],u=t[1],l=t[5],c=t[9],f=t[2],d=t[6],h=t[10],m=s.num.clamp;if("XYZ"===r)e[1]=Math.asin(m(o,-1,1)),Math.abs(o)<.99999?(e[0]=Math.atan2(-c,h),e[2]=Math.atan2(-a,n)):(e[0]=Math.atan2(d,l),e[2]=0);else if("YXZ"===r)e[0]=Math.asin(-m(c,-1,1)),Math.abs(c)<.99999?(e[1]=Math.atan2(o,h),e[2]=Math.atan2(u,l)):(e[1]=Math.atan2(-f,n),e[2]=0);else if("ZXY"===r)e[0]=Math.asin(m(d,-1,1)),Math.abs(d)<.99999?(e[1]=Math.atan2(-f,h),e[2]=Math.atan2(-a,l)):(e[1]=0,e[2]=Math.atan2(u,n));else if("ZYX"===r)e[1]=Math.asin(-m(f,-1,1)),Math.abs(f)<.99999?(e[0]=Math.atan2(d,h),e[2]=Math.atan2(u,n)):(e[0]=0,e[2]=Math.atan2(-a,l));else if("YZX"===r)e[2]=Math.asin(m(u,-1,1)),Math.abs(u)<.99999?(e[0]=Math.atan2(-c,l),e[1]=Math.atan2(-f,n)):(e[0]=0,e[1]=Math.atan2(o,h));else{if("XZY"!==r)throw e[0]=0,e[1]=0,e[2]=0,new Error("Unrecognised euler order: "+r);e[2]=Math.asin(-m(a,-1,1)),Math.abs(a)<.99999?(e[0]=Math.atan2(d,l),e[1]=Math.atan2(o,n)):(e[0]=Math.atan2(-c,h),e[1]=0)}return i.vec3.unwrapRadians(e,e)},i.vec3.euler.getQuat=function(e,t,r=i.vec3.euler.DEFAULT_ORDER){var n=s.num.unwrapRadians(t[0]),a=s.num.unwrapRadians(t[1]),o=s.num.unwrapRadians(t[2]),u=Math.cos(n/2),l=Math.cos(a/2),c=Math.cos(o/2),f=Math.sin(n/2),d=Math.sin(a/2),h=Math.sin(o/2);if("XYZ"===r)e[0]=f*l*c+u*d*h,e[1]=u*d*c-f*l*h,e[2]=u*l*h+f*d*c,e[3]=u*l*c-f*d*h;else if("YXZ"===r)e[0]=f*l*c+u*d*h,e[1]=u*d*c-f*l*h,e[2]=u*l*h-f*d*c,e[3]=u*l*c+f*d*h;else if("ZXY"===r)e[0]=f*l*c-u*d*h,e[1]=u*d*c+f*l*h,e[2]=u*l*h+f*d*c,e[3]=u*l*c-f*d*h;else if("ZYX"===r)e[0]=f*l*c-u*d*h,e[1]=u*d*c+f*l*h,e[2]=u*l*h-f*d*c,e[3]=u*l*c+f*d*h;else if("YZX"===r)e[0]=f*l*c+u*d*h,e[1]=u*d*c+f*l*h,e[2]=u*l*h-f*d*c,e[3]=u*l*c-f*d*h;else{if("XZY"!==r)throw e[0]=0,e[1]=0,e[2]=0,e[3]=1,new Error("Unrecognised euler order: "+r);e[0]=f*l*c-u*d*h,e[1]=u*d*c-f*l*h,e[2]=u*l*h+f*d*c,e[3]=u*l*c+f*d*h}return e},i.vec3.exponentialDecay=function(e,t,r,i,n,a){return e[0]=s.num.exponentialDecay(t[0],r[0],i,n,a),e[1]=s.num.exponentialDecay(t[1],r[1],i,n,a),e[2]=s.num.exponentialDecay(t[2],r[2],i,n,a),e},i.vec3.fromSpherical=function(e,t,r){var i=t[0],n=t[1],a=t[2];return e[0]=a*Math.sin(i)*Math.sin(n),e[1]=a*Math.cos(n),e[2]=a*Math.cos(i)*Math.sin(n),r&&(e[0]+=r[0],e[1]+=r[1],e[2]+=r[2]),e},i.vec3.getSpherical=function(e,t){var r=0,n=0,a=i.vec3.length(t);return 0!==a&&(r=Math.acos(Math.max(t[1]/a,Math.min(-1,1))),n=Math.atan2(t[0],t[2])),e[0]=r,e[1]=n,e[2]=a,e},i.vec3.isEmpty=function(e){return 0===e[0]&&0===e[1]&&0===e[2]},i.vec3.multiplyScalar=function(e,t,r){return e[0]=t[0]*r,e[1]=t[1]*r,e[2]=t[2]*r,e},i.vec3.polarToCartesian=function(e,t,r,i){return e[0]=t*Math.cos(r)*Math.sin(i),e[1]=t*Math.sin(r),e[2]=t*Math.cos(r)*Math.cos(i),e},i.vec3.project=function(e,t,r,i){var n=t[0],a=t[1],o=t[2],s=r[0]*n+r[4]*a+r[8]*o+r[12],u=r[1]*n+r[5]*a+r[9]*o+r[13],l=r[3]*n+r[7]*a+r[11]*o+r[15],c=(s/l+1)/2,f=1-(u/l+1)/2;return e[0]=c*i[2]+i[0],e[1]=f*i[3]+i[1],e[2]=l,e},i.vec3.radians=function(e,t){return e[0]=t[0]*s.num.DEG2RAD,e[1]=t[1]*s.num.DEG2RAD,e[2]=t[2]*s.num.DEG2RAD,e},i.vec3.radiansUnwrapped=function(e,t){return e[0]=s.num.unwrapRadians(t[0]*s.num.DEG2RAD),e[1]=s.num.unwrapRadians(t[1]*s.num.DEG2RAD),e[2]=s.num.unwrapRadians(t[2]*s.num.DEG2RAD),e},i.vec3.setScalar=function(e,t){return e[0]=t,e[1]=t,e[2]=t,e},i.vec3.subtractScalar=function(e,t,r){return e[0]=t[0]-r,e[1]=t[1]-r,e[2]=t[2]-r,e},i.vec3.unproject=function(e,t,r,n){o||(o=i.vec4.create());var a=t[0],s=t[1],u=t[2];if(o[0]=2*(a-n[0])/n[2]-1,o[1]=2*(s-n[1])/n[3]-1,o[2]=2*u-1,o[3]=1,i.vec4.transformMat4(o,o,r),0===o[3])throw e[0]=0,e[1]=0,e[2]=0,new Error("Perspective divide error");return e[0]=o[0]/o[3],e[1]=o[1]/o[3],e[2]=o[2]/o[3],e},i.vec3.unwrapDegrees=function(e,t){return e[0]=s.num.unwrapDegrees(t[0]),e[1]=s.num.unwrapDegrees(t[1]),e[2]=s.num.unwrapDegrees(t[2]),e},i.vec3.unwrapRadians=function(e,t){return e[0]=s.num.unwrapRadians(t[0]),e[1]=s.num.unwrapRadians(t[1]),e[2]=s.num.unwrapRadians(t[2]),e},i.vec3.toRGB=function(e,t){return e[0]=s.num.colorFromLinear(t[0]),e[1]=s.num.colorFromLinear(t[1]),e[2]=s.num.colorFromLinear(t[2]),e},i.vec3.toRGBA=function(e,t,r=1){return e[0]=s.num.colorFromLinear(t[0]),e[1]=s.num.colorFromLinear(t[1]),e[2]=s.num.colorFromLinear(t[2]),e[3]=s.num.colorFromLinear(r),e},i.vec3.fromRGB=function(e,t){return e[0]=t[0]/255,e[1]=t[1]/255,e[2]=t[2]/255,e},i.vec3.toHex=function(e){return"#"+s.num.hexFromLinear(e[0])+s.num.hexFromLinear(e[1])+s.num.hexFromLinear(e[2])},i.vec3.toHexA=function(e,t=1){return"#"+s.num.hexFromLinear(e[0])+s.num.hexFromLinear(e[1])+s.num.hexFromLinear(e[2])+s.num.hexFromColor(t)},i.vec3.fromHex=function(e,t){if(e[0]=0,e[1]=0,e[2]=0,4===t.length||5===t.length)e[0]=("0x"+t[1]+t[1])/255,e[1]=("0x"+t[2]+t[2])/255,e[2]=("0x"+t[3]+t[3])/255;else{if(7!==t.length&&9!==t.length)throw new TypeError("Invalid hex");e[0]=("0x"+t[1]+t[2])/255,e[1]=("0x"+t[3]+t[4])/255,e[2]=("0x"+t[5]+t[6])/255}return e}},"./math/vec4.js":function(e,t,r){"use strict";r.r(t);var i=r("../node_modules/gl-matrix/lib/gl-matrix.js");r.d(t,"vec4",(function(){return i.vec4}));var n=r("./math/num.js");i.vec4.ZERO=i.vec4.fromValues(0,0,0,0),i.vec4.addScalar=function(e,t,r){return e[0]=t[0]+r,e[1]=t[1]+r,e[2]=t[2]+r,e[3]=t[3]+r,e},i.vec4.isEmpty=function(e){return 0===e[0]&&0===e[1]&&0===e[2]&&0===e[3]},i.vec4.divideScalar=function(e,t,r){return i.vec4.multiplyScalar(e,t,1/r)},i.vec4.multiplyScalar=function(e,t,r){return e[0]=t[0]*r,e[1]=t[1]*r,e[2]=t[2]*r,e[3]=t[3]*r,e},i.vec4.setScalar=function(e,t){return e[0]=t,e[1]=t,e[2]=t,e[3]=t,e},i.vec4.subtractScalar=function(e,t,r){return e[0]=t[0]-r,e[1]=t[1]-r,e[2]=t[2]-r,e[3]=t[3]-r,e},i.vec4.toRGBA=function(e,t,r){return e[0]=n.num.colorFromLinear(t[0]),e[1]=n.num.colorFromLinear(t[1]),e[2]=n.num.colorFromLinear(t[2]),e[3]=r?n.num.colorFromLinear(t[3]):t[3],e},i.vec4.fromRGBA=function(e,t,r){return e[0]=t[0]/255,e[1]=t[1]/255,e[2]=t[2]/255,e[3]=r?n.num.linearFromColor(t[3]):t[3],e},i.vec4.fromRGB=function(e,t,r=1){return e[0]=t[0]/255,e[1]=t[1]/255,e[2]=t[2]/255,e[3]=r,e},i.vec4.toHexA=function(e){return"#"+n.num.hexFromLinear(e[0])+n.num.hexFromLinear(e[1])+n.num.hexFromLinear(e[2])+n.num.hexFromLinear(e[3])},i.vec4.toHex=function(e){return"#"+n.num.hexFromLinear(e[0])+n.num.hexFromLinear(e[1])+n.num.hexFromLinear(e[2])},i.vec4.fromHex=function(e,t,r=1){if(e[0]=0,e[1]=0,e[2]=0,e[3]=r,4===t.length||5===t.length)e[0]=("0x"+t[1]+t[1])/255,e[1]=("0x"+t[2]+t[2])/255,e[2]=("0x"+t[3]+t[3])/255,5===t.length&&(e[3]=("0x"+t[4]+t[4])/255);else{if(7!==t.length&&9!==t.length)throw new TypeError("Invalid hex");e[0]=("0x"+t[1]+t[2])/255,e[1]=("0x"+t[3]+t[4])/255,e[2]=("0x"+t[5]+t[6])/255,9===t.length&&(e[3]=("0x"+t[7]+t[8])/255)}return e}},"./particle/Tw2ParticleSystem.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tw2ParticleSystem",(function(){return W}));var i,n,a,o,s,u,l,c,f,d,h,m,p,b,v,g,E,y,T,S,w,_,R,j,A,O,z,P,x,C,D,M,L,I,F,G,N=r("./utils/index.js"),B=r("./global/index.js"),U=r("./math/index.js"),V=r("./core/index.js"),k=r("./particle/element/index.js");function H(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function q(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var W=(i=N.meta.ctor("Tw2ParticleSystem","Tr2ParticleSystem"),n=N.meta.string,a=N.meta.boolean,o=N.meta.boolean,s=N.meta.list("Tw2ParticleConstraint"),u=N.meta.list("Tw2ParticleElementDeclaration"),l=N.meta.struct("Tw2ParticleEmitter"),c=N.meta.struct("Tw2ParticleEmitter"),f=N.meta.list("Tw2ParticleForce"),d=N.meta.uint,h=N.meta.boolean,m=N.meta.boolean,p=N.meta.boolean,b=N.meta.notImplemented,v=N.meta.boolean,g=N.meta.todo("This is unused, remove it?"),E=N.meta.todo("This is unused, remove it?"),i((G=F=class e extends N.meta.Model{constructor(){super(),H(this,"name",S,this),H(this,"applyAging",w,this),H(this,"applyForce",_,this),H(this,"constraints",R,this),H(this,"elements",j,this),H(this,"emitParticleDuringLifeEmitter",A,this),H(this,"emitParticleOnDeathEmitter",O,this),H(this,"forces",z,this),H(this,"maxParticleCount",P,this),H(this,"requiresSorting",x,this),H(this,"updateBoundingBox",C,this),H(this,"updateSimulation",D,this),H(this,"useSimTimeRebase",M,this),H(this,"isGlobal",L,this),H(this,"peakAliveCount",I,this),this._aabbMin=U.vec3.create(),this._aabbMax=U.vec3.create(),this._aliveCount=0,this._bufferDirty=!1,this._buffers=[null,null],this._declaration=null,this._elements=[],this._instanceStride=[null,null],this._isValid=!1,this._distancesBuffer=null,this._sortedBuffer=null,this._sortedIndexes=null,this._stdElements=[null,null,null,null],this._vb=null,this._vertexStride=[null,null],e.init()}Initialize(){this.UpdateElementDeclaration()}GetResources(e=[]){return e}UpdateElementDeclaration(){this._isValid=!1;var e=B.device.gl;if(this._vb&&(e.deleteBuffer(this._vb),this._vb=null),this._declaration=null,this._aliveCount=0,0!==this.elements.length){this._stdElements=[null,null,null,null],this._elements=[],this._instanceStride=[0,0],this._vertexStride=[0,0],this._declaration=new V.Tw2VertexDeclaration,this._buffers=[null,null];for(var t=0;t<this.elements.length;++t){var r=this.elements[t].usedByGPU?0:1,i=this.elements[t],n=k.Tw2ParticleElement.from({elementType:i.elementType,customName:i.customName,dimension:i.GetDimension(),usageIndex:i.usageIndex,usedByGPU:i.usedByGPU});if(n.startOffset=this._vertexStride[r],n.offset=n.startOffset,this.elements[t].elementType!==k.Tw2ParticleElement.Type.CUSTOM&&(this._stdElements[this.elements[t].elementType]=n),this._vertexStride[r]+=n.dimension,this._elements.push(n),0===r){var a=this.elements[t].GetDeclaration();a.offset=4*n.startOffset,this._declaration.elements.push(a)}}this._declaration.RebuildHash();for(var o=0;o<this._elements.length;++o){var s=this._elements[o].usedByGPU?0:1;this._elements[o].vertexStride=this._vertexStride[s]}this._instanceStride[0]=4*this._vertexStride[0],this._instanceStride[1]=4*this._vertexStride[1];for(var u=0;u<this._elements.length;++u){var l=this._elements[u].usedByGPU?0:1;this._elements[u].instanceStride=this._instanceStride[l]}this._buffers=[null,null],this._instanceStride[0]&&this.maxParticleCount&&(this._buffers[0]=new Float32Array(this._instanceStride[0]*this.maxParticleCount),this._vb=e.createBuffer(),e.bindBuffer(e.ARRAY_BUFFER,this._vb),e.bufferData(e.ARRAY_BUFFER,this._buffers[0].length,e.DYNAMIC_DRAW),e.bindBuffer(e.ARRAY_BUFFER,null)),this._instanceStride[1]&&(this._buffers[1]=new Float32Array(this._instanceStride[1]*this.maxParticleCount));for(var c=0;c<this._elements.length;++c){var f=this._elements[c].usedByGPU?0:1;this._elements[c].buffer=this._buffers[f]}this.requiresSorting&&(this._sortedIndexes=new Array(this.maxParticleCount),this._sortedBuffer=new Float32Array(this._instanceStride[0]*this.maxParticleCount),this._distancesBuffer=new Float32Array(this.maxParticleCount)),this._isValid=!0,this._bufferDirty=!0}}HasElement(e){return null!==this._stdElements[e]}GetElement(e){return this._stdElements[e]&&(this._stdElements[e].offset=this._stdElements[e].startOffset),this._stdElements[e]}BeginSpawnParticle(){return!this._isValid||this._aliveCount>=this.maxParticleCount?null:this._aliveCount++}EndSpawnParticle(){this._bufferDirty=!0}Update(t){if(t=Math.min(t,.1),this.applyAging&&this.HasElement(k.Tw2ParticleElement.Type.LIFETIME)){for(var r=this.GetElement(k.Tw2ParticleElement.Type.LIFETIME),i=this.emitParticleOnDeathEmitter?this.GetElement(k.Tw2ParticleElement.Type.POSITION):null,n=this.emitParticleOnDeathEmitter?this.GetElement(k.Tw2ParticleElement.Type.VELOCITY):null,a=0;a<this._aliveCount;++a)if(r.buffer[r.offset]+=t/r.buffer[r.offset+1],r.buffer[r.offset]>1){if(this.emitParticleOnDeathEmitter&&this.emitParticleOnDeathEmitter.SpawnParticles(i,n,1),this._aliveCount--,a<this._aliveCount){for(var o=0;o<2;++o)this._buffers[o]&&this._buffers[o].set(this._buffers[o].subarray(this._instanceStride[o]*this._aliveCount,this._instanceStride[o]*this._aliveCount+this._instanceStride[o]),a*this._instanceStride[o]);--a,this._bufferDirty=!0}}else r.offset+=r.instanceStride,i&&(i.offset+=i.instanceStride),n&&(n.offset+=n.instanceStride);r.dirty=!0}var s=e.global.vec3_0;if(this.updateSimulation&&this.HasElement(k.Tw2ParticleElement.Type.POSITION)&&this.HasElement(k.Tw2ParticleElement.Type.VELOCITY)){for(var u=this.applyForce&&this.forces.length,l=0;l<this.forces.length;++l)this.forces[l].Update(t);for(var c=this.GetElement(k.Tw2ParticleElement.Type.POSITION),f=this.GetElement(k.Tw2ParticleElement.Type.VELOCITY),d=u?this.GetElement(k.Tw2ParticleElement.Type.MASS):null,h=0;h<this._aliveCount;++h){if(u){for(var m=d?d.buffer[d.offset]:1,p=U.vec3.set(s,0,0,0),b=0;b<this.forces.length;++b)this.forces[b].ApplyForce(c,f,p,t,m);d&&U.vec3.scale(p,p,1/d.buffer[d.offset]),f.buffer[f.offset]+=p[0]*t,f.buffer[f.offset+1]+=p[1]*t,f.buffer[f.offset+2]+=p[2]*t}c.buffer[c.offset]+=f.buffer[f.offset]*t,c.buffer[c.offset+1]+=f.buffer[f.offset+1]*t,c.buffer[c.offset+2]+=f.buffer[f.offset+2]*t,this.emitParticleDuringLifeEmitter&&this.emitParticleDuringLifeEmitter.SpawnParticles(c,f,t),c.offset+=c.instanceStride,f.offset+=f.instanceStride,d&&(d.offset+=d.instanceStride)}c.dirty=!0,f.dirty=!0}if(this.updateSimulation&&this.constraints.length)for(var v=0;v<this.constraints.length;++v)this.constraints[v].ApplyConstraint(this._buffers,this._instanceStride,this._aliveCount,t);if(this.updateBoundingBox&&this.GetBoundingBox(this._aabbMin,this._aabbMax),this.emitParticleDuringLifeEmitter&&(!this.HasElement(k.Tw2ParticleElement.Type.POSITION)||!this.HasElement(k.Tw2ParticleElement.Type.VELOCITY))&&this.updateSimulation)for(var g=this.GetElement(k.Tw2ParticleElement.Type.POSITION),E=this.GetElement(k.Tw2ParticleElement.Type.VELOCITY),y=0;y<this._aliveCount;++y)this.emitParticleDuringLifeEmitter.SpawnParticles(g,E,1),g&&(g.offset+=g.instanceStride),E&&(E.offset+=E.instanceStride);for(var T=0;T<this._elements.length;++T){var S=this._elements[T];S.offset=S.startOffset,S.dirty&&(this._bufferDirty=!0,S.dirty=!1)}}GetBoundingBox(e,t){if(this._aliveCount&&this.HasElement(k.Tw2ParticleElement.Type.POSITION)){var r=this.GetElement(k.Tw2ParticleElement.Type.POSITION);e[0]=r.buffer[r.offset],e[1]=r.buffer[r.offset+1],e[2]=r.buffer[r.offset+2],t[0]=r.buffer[r.offset],t[1]=r.buffer[r.offset+1],t[2]=r.buffer[r.offset+2];for(var i=0;i<this._aliveCount;++i)e[0]=Math.min(e[0],r.buffer[r.offset]),e[1]=Math.min(e[1],r.buffer[r.offset+1]),e[2]=Math.min(e[2],r.buffer[r.offset+2]),t[0]=Math.max(t[0],r.buffer[r.offset]),t[1]=Math.max(t[1],r.buffer[r.offset+1]),t[2]=Math.max(t[2],r.buffer[r.offset+2]),r.offset+=r.instanceStride;return!0}return!1}_Sort(){for(var t=U.mat4.multiply(e.global.mat4_0,B.device.projection,B.device.view),r=this.GetElement(k.Tw2ParticleElement.Type.POSITION),i=this._aliveCount,n=this._distancesBuffer,a=0;a<i;++a){var o=r.offset+r.instanceStride*a,s=r.buffer[o]-t[12],u=s*s;u+=(s=r.buffer[o+1]-t[13])*s,u+=(s=r.buffer[o+2]-t[14])*s,n[a]=u}for(var l=0;l<this.maxParticleCount;++l)this._sortedIndexes[l]=l;this._sortedIndexes.sort((function(e,t){if(e>=i&&t>=i)return e<t?-1:e>t?1:0;if(e>=i)return 1;if(t>=i)return-1;var r=n[e],a=n[t];return r<a?1:r>a?-1:0}))}GetInstanceBuffer(){if(0!==this._aliveCount){var e=B.device.gl;if(this.requiresSorting&&this.HasElement(k.Tw2ParticleElement.Type.POSITION)&&this._buffers){this._Sort();for(var t=this._instanceStride[0],r=this._buffers[0],i=0;i<this._aliveCount;++i)for(var n=i*t,a=this._sortedIndexes[i]*t,o=0;o<t;++o)this._sortedBuffer[n+o]=r[o+a];e.bindBuffer(e.ARRAY_BUFFER,this._vb),e.bufferSubData(e.ARRAY_BUFFER,0,this._sortedBuffer.subarray(0,this._vertexStride[0]*this._aliveCount)),this._bufferDirty=!1}else this._bufferDirty&&(e.bindBuffer(e.ARRAY_BUFFER,this._vb),e.bufferSubData(e.ARRAY_BUFFER,0,this._buffers[0].subarray(0,this._vertexStride[0]*this._aliveCount)),this._bufferDirty=!1);return this._vb}}GetInstanceDeclaration(){return this._declaration}GetInstanceStride(){return this._instanceStride[0]}GetInstanceCount(){return this._aliveCount}static init(){k.Tw2ParticleElement.global||(e.global={vec3_0:U.vec3.create(),mat4_0:U.mat4.create()})}},F.global=null,S=q((T=G).prototype,"name",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),w=q(T.prototype,"applyAging",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),_=q(T.prototype,"applyForce",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),R=q(T.prototype,"constraints",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),j=q(T.prototype,"elements",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),A=q(T.prototype,"emitParticleDuringLifeEmitter",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),O=q(T.prototype,"emitParticleOnDeathEmitter",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),z=q(T.prototype,"forces",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),P=q(T.prototype,"maxParticleCount",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),x=q(T.prototype,"requiresSorting",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),C=q(T.prototype,"updateBoundingBox",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),D=q(T.prototype,"updateSimulation",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),M=q(T.prototype,"useSimTimeRebase",[b,v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),L=q(T.prototype,"isGlobal",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),I=q(T.prototype,"peakAliveCount",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),y=T))||y)},"./particle/element/Tw2ParticleElement.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tw2ParticleElement",(function(){return D}));var i,n,a,o,s,u,l,c,f,d,h,m,p,b,v,g,E,y,T,S,w,_,R,j,A,O,z=r("./utils/index.js");function P(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function x(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var C={LIFETIME:0,POSITION:1,VELOCITY:2,MASS:3,CUSTOM:4},D=(i=z.meta.ctor("Tw2ParticleElement"),n=z.meta.enums(C),a=z.meta.string,o=z.meta.uint,s=z.meta.uint,u=z.meta.boolean,l=z.meta.uint,c=z.meta.uint,f=z.meta.uint,d=z.meta.uint,h=z.meta.boolean,m=z.meta.isPrivate,i((O=A=class e{constructor(){P(this,"elementType",v,this),P(this,"customName",g,this),P(this,"dimension",E,this),P(this,"usageIndex",y,this),P(this,"usedByGPU",T,this),this.buffer=null,P(this,"startOffset",S,this),P(this,"offset",w,this),P(this,"instanceStride",_,this),P(this,"vertexStride",R,this),P(this,"dirty",j,this)}get string(){return e.TypeMap[this.elementType]||"UNKNOWN"}static from(t){var r=new e;if(t){var i=t.elementType;r.elementType="string"==typeof i?this.Type[i.toUpperCase()]:i,r.customName=t.customName,r.dimension=t.dimension,r.usageIndex=t.usageIndex,r.usedByGPU=t.usedByGPU?1:0}return r}},A.Type=C,A.TypeMap=["LIFETIME","POSITION","VELOCITY","MASS","CUSTOM"],v=x((b=O).prototype,"elementType",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),g=x(b.prototype,"customName",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),E=x(b.prototype,"dimension",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),y=x(b.prototype,"usageIndex",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),T=x(b.prototype,"usedByGPU",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),S=x(b.prototype,"startOffset",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),w=x(b.prototype,"offset",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),_=x(b.prototype,"instanceStride",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),R=x(b.prototype,"vertexStride",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),j=x(b.prototype,"dirty",[h,m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),p=b))||p)},"./particle/element/Tw2ParticleElementDeclaration.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tw2ParticleElementDeclaration",(function(){return w}));var i,n,a,o,s,u,l,c,f,d,h,m,p,b,v,g=r("./core/index.js"),E=r("./particle/element/Tw2ParticleElement.js"),y=r("./utils/index.js");function T(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function S(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var w=(i=y.meta.ctor("Tw2ParticleElementDeclaration","Tr2ParticleElementDeclaration"),n=y.meta.string,a=y.meta.uint,o=y.meta.uint,s=y.meta.enums(E.Tw2ParticleElement.Type),u=y.meta.uint,l=y.meta.boolean,i((v=class extends y.meta.Model{constructor(...e){super(...e),T(this,"customName",d,this),T(this,"dimension",h,this),T(this,"elementType",m,this),T(this,"usageIndex",p,this),T(this,"usedByGPU",b,this)}GetDimension(){switch(this.elementType){case E.Tw2ParticleElement.Type.LIFETIME:return 2;case E.Tw2ParticleElement.Type.POSITION:case E.Tw2ParticleElement.Type.VELOCITY:return 3;case E.Tw2ParticleElement.Type.MASS:return 1}return this.dimension}GetDeclaration(){var e;switch(this.elementType){case E.Tw2ParticleElement.Type.LIFETIME:e=g.Tw2VertexElement.Type.TANGENT;break;case E.Tw2ParticleElement.Type.POSITION:e=g.Tw2VertexElement.Type.POSITION;break;case E.Tw2ParticleElement.Type.VELOCITY:e=g.Tw2VertexElement.Type.NORMAL;break;case E.Tw2ParticleElement.Type.MASS:e=g.Tw2VertexElement.Type.BINORMAL;break;default:e=g.Tw2VertexElement.Type.TEXCOORD}return g.Tw2VertexElement.from({usage:e,usageIndex:this.usageIndex,elements:this.GetDimension()})}},d=S((f=v).prototype,"customName",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),h=S(f.prototype,"dimension",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),m=S(f.prototype,"elementType",[o,s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return E.Tw2ParticleElement.Type.CUSTOM}}),p=S(f.prototype,"usageIndex",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),b=S(f.prototype,"usedByGPU",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),c=f))||c)},"./particle/element/index.js":function(e,t,r){"use strict";r.r(t);var i=r("./particle/element/Tw2ParticleElement.js");r.d(t,"Tw2ParticleElement",(function(){return i.Tw2ParticleElement}));var n=r("./particle/element/Tw2ParticleElementDeclaration.js");r.d(t,"Tw2ParticleElementDeclaration",(function(){return n.Tw2ParticleElementDeclaration}))},"./particle/emitter/Tw2DynamicEmitter.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tw2DynamicEmitter",(function(){return S}));var i,n,a,o,s,u,l,c,f,d,h,m,p,b,v,g=r("./utils/index.js"),E=r("./particle/emitter/Tw2ParticleEmitter.js");function y(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function T(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var S=(i=g.meta.ctor("Tw2DynamicEmitter","Tr2DynamicEmitter"),n=g.meta.string,a=g.meta.list("Tw2ParticleAttributeGenerator"),o=g.meta.notImplemented,s=g.meta.uint,u=g.meta.struct("Tw2ParticleSystem"),l=g.meta.float,i((v=class extends E.Tw2ParticleEmitter{constructor(...e){super(...e),y(this,"name",d,this),y(this,"generators",h,this),y(this,"maxParticles",m,this),y(this,"particleSystem",p,this),y(this,"rate",b,this),this._accumulatedRate=0,this._isValid=!1}Initialize(){this.Rebind()}Update(e){this.SpawnParticles(null,null,Math.min(e,.1))}Rebind(){if(this._isValid=!1,this.particleSystem){for(var e=0;e<this.generators.length;++e)if(!this.generators[e].Bind(this.particleSystem))return;this._isValid=!0}}SpawnParticles(e,t,r){if(this._isValid){this._accumulatedRate+=this.rate*r;var i=Math.floor(this._accumulatedRate);this._accumulatedRate-=i;for(var n=0;n<i;++n){var a=this.particleSystem.BeginSpawnParticle();if(null===a)break;for(var o=0;o<this.generators.length;++o)this.generators[o].Generate(e,t,a);this.particleSystem.EndSpawnParticle()}}}},d=T((f=v).prototype,"name",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),h=T(f.prototype,"generators",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),m=T(f.prototype,"maxParticles",[o,s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),p=T(f.prototype,"particleSystem",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),b=T(f.prototype,"rate",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),c=f))||c)},"./particle/emitter/Tw2ParticleEmitter.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tw2ParticleEmitter",(function(){return m}));var i,n,a,o,s=r("./utils/index.js");var u,l,c,f,d,h,m=(i=s.meta.struct("Tw2ParticleSystem"),o=class extends s.meta.Model{constructor(...e){var t,r,i,n;super(...e),t=this,r="particleSystem",n=this,(i=a)&&Object.defineProperty(t,r,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}Initialize(){}GetResources(e=[]){return this.particleSystem&&this.particleSystem.GetResources(e),e}Update(e){}},u=(n=o).prototype,l="particleSystem",c=[i],f={configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}},h={},Object.keys(f).forEach((function(e){h[e]=f[e]})),h.enumerable=!!h.enumerable,h.configurable=!!h.configurable,("value"in h||h.initializer)&&(h.writable=!0),h=c.slice().reverse().reduce((function(e,t){return t(u,l,e)||e}),h),d&&void 0!==h.initializer&&(h.value=h.initializer?h.initializer.call(d):void 0,h.initializer=void 0),void 0===h.initializer&&(Object.defineProperty(u,l,h),h=null),a=h,n)},"./particle/emitter/Tw2StaticEmitter.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tw2StaticEmitter",(function(){return _}));var i,n,a,o,s,u,l,c,f,d,h,m,p,b,v,g=r("./utils/index.js"),E=r("./global/index.js"),y=r("./core/index.js"),T=r("./particle/emitter/Tw2ParticleEmitter.js");function S(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function w(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var _=(i=g.meta.ctor("Tw2StaticEmitter","Tr2StaticEmitter"),n=g.meta.string,a=g.meta.path,o=g.meta.uint,s=g.meta.struct("Tw2ParticleSystem"),u=g.meta.struct("Tw2GeometryRes"),l=g.meta.isPrivate,i((v=class extends T.Tw2ParticleEmitter{constructor(...e){super(...e),S(this,"name",d,this),S(this,"geometryResourcePath",h,this),S(this,"meshIndex",m,this),S(this,"particleSystem",p,this),S(this,"geometryResource",b,this),this._spawned=!1}get geometryIndex(){return this.meshIndex}set geometryIndex(e){this.meshIndex=e}Initialize(){""!==this.geometryResourcePath&&(this.geometryResource=E.resMan.GetResource(this.geometryResourcePath,e=>{e.systemMirror=!0,this.OnResPrepared(e)})),this._spawned=!1}GetResources(e=[]){return this.particleSystem&&this.particleSystem.GetResources(e),this.geometryResource&&!e.includes(this.geometryResource)&&e.push(this.geometryResource),e}OnResPrepared(){this.geometryResource&&this.geometryResource.meshes.length&&(this.geometryResource.meshes[0].bufferData||(this.geometryResource.systemMirror=!0,this.geometryResource.Reload()))}Update(){var e=this.geometryResource;if(!this._spawned&&this.particleSystem&&e&&e.IsGood()&&e.meshes.length>this.meshIndex&&e.meshes[this.meshIndex].bufferData){this._spawned=!0;for(var t=e.meshes[this.meshIndex],r=this.particleSystem.elements,i=new Array(r.length),n=0;n<r.length;++n){var a=r[n].GetDeclaration(),o=t.declaration.FindUsage(a.usage,a.usageIndex-8);if(null===o)return void e.OnError(new y.ErrGeometryMeshMissingParticleElement({path:e.path,elementUsage:a.usage,elementUsageIndex:a.usageIndex}));if(o.elements<a.elements)return void e.OnError(new y.ErrGeometryMeshElementComponentsMissing({path:e.path,inputCount:o.elements,elementCount:a.elements,elementUsage:a.usage,elementUsageIndex:a.usageIndex}));i[n]=o.offset/4}for(var s=t.bufferData.length/t.declaration.stride*4,u=0;u<s;++u){var l=this.particleSystem.BeginSpawnParticle();if(null===l)break;for(var c=0;c<this.particleSystem._elements.length;++c)for(var f=this.particleSystem._elements[c],d=0;d<f.dimension;++d)f.buffer[f.instanceStride*l+f.startOffset+d]=t.bufferData[i[c]+d+u*t.declaration.stride/4];this.particleSystem.EndSpawnParticle()}}}},d=w((f=v).prototype,"name",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),h=w(f.prototype,"geometryResourcePath",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),m=w(f.prototype,"meshIndex",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),p=w(f.prototype,"particleSystem",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),b=w(f.prototype,"geometryResource",[u,l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),c=f))||c)},"./particle/emitter/index.js":function(e,t,r){"use strict";r.r(t);var i=r("./particle/emitter/Tw2StaticEmitter.js");r.d(t,"Tw2StaticEmitter",(function(){return i.Tw2StaticEmitter}));var n=r("./particle/emitter/Tw2DynamicEmitter.js");r.d(t,"Tw2DynamicEmitter",(function(){return n.Tw2DynamicEmitter}))},"./particle/force/Tw2ParticleAttractorForce.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tw2ParticleAttractorForce",(function(){return b}));var i,n,a,o,s,u,l,c,f=r("./math/index.js"),d=r("./utils/index.js"),h=r("./particle/force/Tw2ParticleForce.js");function m(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function p(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var b=(i=d.meta.ctor("Tw2ParticleAttractorForce","Tr2ParticleAttractorForce"),n=d.meta.float,a=d.meta.vector3,i((c=class extends h.Tw2ParticleForce{constructor(...e){super(...e),m(this,"magnitude",u,this),m(this,"position",l,this)}ApplyForce(e,t,r,i,n){var a=h.Tw2ParticleForce.global.vec3_0;a[0]=this.position[0]-e.buffer[e.offset],a[1]=this.position[1]-e.buffer[e.offset+1],a[2]=this.position[2]-e.buffer[e.offset+2],f.vec3.normalize(a,a),f.vec3.scale(a,a,this.magnitude),f.vec3.add(r,r,a)}},u=p((s=c).prototype,"magnitude",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),l=p(s.prototype,"position",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return f.vec3.create()}}),o=s))||o)},"./particle/force/Tw2ParticleDirectForce.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tw2ParticleDirectForce",(function(){return g}));var i,n,a,o,s,u,l=r("./utils/index.js"),c=r("./math/index.js"),f=r("./particle/force/Tw2ParticleForce.js");var d,h,m,p,b,v,g=(i=l.meta.ctor("Tw2ParticleDirectForce","Tr2ParticleDirectForce"),n=l.meta.vector3,i((u=class extends f.Tw2ParticleForce{constructor(...e){var t,r,i,n;super(...e),t=this,r="force",n=this,(i=s)&&Object.defineProperty(t,r,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}ApplyForce(e,t,r,i,n){c.vec3.add(r,r,this.force)}},d=(o=u).prototype,h="force",m=[n],p={configurable:!0,enumerable:!0,writable:!0,initializer:function(){return c.vec3.create()}},v={},Object.keys(p).forEach((function(e){v[e]=p[e]})),v.enumerable=!!v.enumerable,v.configurable=!!v.configurable,("value"in v||v.initializer)&&(v.writable=!0),v=m.slice().reverse().reduce((function(e,t){return t(d,h,e)||e}),v),b&&void 0!==v.initializer&&(v.value=v.initializer?v.initializer.call(b):void 0,v.initializer=void 0),void 0===v.initializer&&(Object.defineProperty(d,h,v),v=null),s=v,a=o))||a)},"./particle/force/Tw2ParticleDragForce.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tw2ParticleDragForce",(function(){return v}));var i,n,a,o,s,u,l=r("./utils/index.js"),c=r("./particle/force/Tw2ParticleForce.js");var f,d,h,m,p,b,v=(i=l.meta.ctor("Tw2ParticleDragForce","Tr2ParticleDragForce"),n=l.meta.float,i((u=class extends c.Tw2ParticleForce{constructor(...e){var t,r,i,n;super(...e),t=this,r="drag",n=this,(i=s)&&Object.defineProperty(t,r,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}ApplyForce(e,t,r,i,n){r[0]+=t.buffer[t.offset]*-this.drag,r[1]+=t.buffer[t.offset+1]*-this.drag,r[2]+=t.buffer[t.offset+2]*-this.drag}},f=(o=u).prototype,d="drag",h=[n],m={configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.1}},b={},Object.keys(m).forEach((function(e){b[e]=m[e]})),b.enumerable=!!b.enumerable,b.configurable=!!b.configurable,("value"in b||b.initializer)&&(b.writable=!0),b=h.slice().reverse().reduce((function(e,t){return t(f,d,e)||e}),b),p&&void 0!==b.initializer&&(b.value=b.initializer?b.initializer.call(p):void 0,b.initializer=void 0),void 0===b.initializer&&(Object.defineProperty(f,d,b),b=null),s=b,a=o))||a)},"./particle/force/Tw2ParticleFluidDragForce.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tw2ParticleFluidDragForce",(function(){return g}));var i,n,a,o,s,u,l=r("./utils/index.js"),c=r("./math/index.js"),f=r("./particle/force/Tw2ParticleForce.js");var d,h,m,p,b,v,g=(i=l.meta.ctor("Tw2ParticleFluidDragForce","Tr2ParticleFluidDragForce"),n=l.meta.float,i((u=class extends f.Tw2ParticleForce{constructor(...e){var t,r,i,n;super(...e),t=this,r="drag",n=this,(i=s)&&Object.defineProperty(t,r,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}ApplyForce(e,t,r,i,n){var a=f.Tw2ParticleForce.global.vec3_0,o=f.Tw2ParticleForce.global.vec3_1,s=Math.sqrt(t.buffer[t.offset]*t.buffer[t.offset]+t.buffer[t.offset+1]*t.buffer[t.offset+1]+t.buffer[t.offset+2]*t.buffer[t.offset+2]);a[0]=t.buffer[t.offset]*-s*this.drag,a[1]=t.buffer[t.offset+1]*-s*this.drag,a[2]=t.buffer[t.offset+2]*-s*this.drag,c.vec3.scale(o,a,i*n),o[0]+=t.buffer[t.offset],o[1]+=t.buffer[t.offset+1],o[2]+=t.buffer[t.offset+2],t.buffer[t.offset]*o[0]+t.buffer[t.offset+1]*o[1]+t.buffer[t.offset+2]*o[2]<0?(r[0]=-t.buffer[t.offset]/i/n,r[1]=-t.buffer[t.offset+1]/i/n,r[2]=-t.buffer[t.offset+2]/i/n):c.vec3.copy(r,a)}},d=(o=u).prototype,h="drag",m=[n],p={configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.1}},v={},Object.keys(p).forEach((function(e){v[e]=p[e]})),v.enumerable=!!v.enumerable,v.configurable=!!v.configurable,("value"in v||v.initializer)&&(v.writable=!0),v=m.slice().reverse().reduce((function(e,t){return t(d,h,e)||e}),v),b&&void 0!==v.initializer&&(v.value=v.initializer?v.initializer.call(b):void 0,v.initializer=void 0),void 0===v.initializer&&(Object.defineProperty(d,h,v),v=null),s=v,a=o))||a)},"./particle/force/Tw2ParticleForce.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tw2ParticleForce",(function(){return p}));var i,n,a,o,s=r("./utils/index.js"),u=r("./math/index.js");var l,c,f,d,h,m,p=(i=s.meta.abstract,o=a=class extends s.meta.Model{ApplyForce(e,t,r,i,n){}Update(e){}},a.global={vec3_0:u.vec3.create(),vec3_1:u.vec3.create(),vec4_0:u.vec4.create()},l=(n=o).prototype,c="ApplyForce",f=[i],d=Object.getOwnPropertyDescriptor(n.prototype,"ApplyForce"),h=n.prototype,m={},Object.keys(d).forEach((function(e){m[e]=d[e]})),m.enumerable=!!m.enumerable,m.configurable=!!m.configurable,("value"in m||m.initializer)&&(m.writable=!0),m=f.slice().reverse().reduce((function(e,t){return t(l,c,e)||e}),m),h&&void 0!==m.initializer&&(m.value=m.initializer?m.initializer.call(h):void 0,m.initializer=void 0),void 0===m.initializer&&(Object.defineProperty(l,c,m),m=null),n)},"./particle/force/Tw2ParticleSpring.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tw2ParticleSpring",(function(){return b}));var i,n,a,o,s,u,l,c,f=r("./utils/index.js"),d=r("./math/index.js"),h=r("./particle/force/Tw2ParticleForce.js");function m(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function p(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var b=(i=f.meta.ctor("Tw2ParticleSpring","Tr2ParticleSpring"),n=f.meta.float,a=f.meta.vector3,i((c=class extends h.Tw2ParticleForce{constructor(...e){super(...e),m(this,"springConstant",u,this),m(this,"position",l,this)}ApplyForce(e,t,r,i,n){r[0]+=(this.position[0]-e.buffer[e.offset])*this.springConstant,r[1]+=(this.position[1]-e.buffer[e.offset+1])*this.springConstant,r[2]+=(this.position[2]-e.buffer[e.offset+2])*this.springConstant}},u=p((s=c).prototype,"springConstant",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),l=p(s.prototype,"position",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return d.vec3.create()}}),o=s))||o)},"./particle/force/Tw2ParticleTurbulenceForce.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tw2ParticleTurbulenceForce",(function(){return y}));var i,n,a,o,s,u,l,c,f,d,h,m,p=r("./utils/index.js"),b=r("./math/index.js"),v=r("./particle/force/Tw2ParticleForce.js");function g(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function E(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var y=(i=p.meta.ctor("Tw2ParticleTurbulenceForce","Tr2ParticleTurbulenceForce"),n=p.meta.vector3,a=p.meta.vector4,o=p.meta.float,s=p.meta.float,i((m=class extends v.Tw2ParticleForce{constructor(...e){super(...e),g(this,"amplitude",c,this),g(this,"frequency",f,this),g(this,"noiseLevel",d,this),g(this,"noiseRatio",h,this),this._time=0}ApplyForce(e,t,r,i,n){if(0!==this.noiseLevel){for(var a=e.buffer[e.offset]*this.frequency[0],o=e.buffer[e.offset+1]*this.frequency[1],s=e.buffer[e.offset+2]*this.frequency[2],u=this._time*this.frequency[3],l=0,c=.5,f=1/this.noiseRatio,d=b.vec4.set(v.Tw2ParticleForce.global.vec4_0,0,0,0,0),h=0;h<this.noiseLevel;++h)b.noise.turbulence(d,a,o,s,u,c),l+=c,a*=f,o*=f,s*=f,u*=f,c*=this.noiseRatio;r[0]+=d[0]*this.amplitude[0]*l,r[1]+=d[1]*this.amplitude[1]*l,r[2]+=d[2]*this.amplitude[2]*l}}Update(e){this._time+=e}},c=E((l=m).prototype,"amplitude",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return b.vec3.fromValues(1,1,1)}}),f=E(l.prototype,"frequency",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return b.vec4.fromValues(1,1,1,1)}}),d=E(l.prototype,"noiseLevel",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 3}}),h=E(l.prototype,"noiseRatio",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.5}}),u=l))||u)},"./particle/force/index.js":function(e,t,r){"use strict";r.r(t);var i=r("./particle/force/Tw2ParticleAttractorForce.js");r.d(t,"Tw2ParticleAttractorForce",(function(){return i.Tw2ParticleAttractorForce}));var n=r("./particle/force/Tw2ParticleDirectForce.js");r.d(t,"Tw2ParticleDirectForce",(function(){return n.Tw2ParticleDirectForce}));var a=r("./particle/force/Tw2ParticleDragForce.js");r.d(t,"Tw2ParticleDragForce",(function(){return a.Tw2ParticleDragForce}));var o=r("./particle/force/Tw2ParticleFluidDragForce.js");r.d(t,"Tw2ParticleFluidDragForce",(function(){return o.Tw2ParticleFluidDragForce}));var s=r("./particle/force/Tw2ParticleSpring.js");r.d(t,"Tw2ParticleSpring",(function(){return s.Tw2ParticleSpring}));var u=r("./particle/force/Tw2ParticleTurbulenceForce.js");r.d(t,"Tw2ParticleTurbulenceForce",(function(){return u.Tw2ParticleTurbulenceForce}))},"./particle/generators/Tw2ParticleAttributeGenerator.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tw2ParticleAttributeGenerator",(function(){return f}));var i,n,a,o,s,u=r("./utils/index.js"),l=r("./math/index.js");function c(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var f=(i=u.meta.abstract,n=u.meta.abstract,s=o=class extends u.meta.Model{Bind(e){}Generate(e,t,r){}},o.global={vec3_0:l.vec3.create()},c((a=s).prototype,"Bind",[i],Object.getOwnPropertyDescriptor(a.prototype,"Bind"),a.prototype),c(a.prototype,"Generate",[n],Object.getOwnPropertyDescriptor(a.prototype,"Generate"),a.prototype),a)},"./particle/generators/Tw2RandomIntegerAttributeGenerator.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tw2RandomIntegerAttributeGenerator",(function(){return _}));var i,n,a,o,s,u,l,c,f,d,h,m,p,b,v,g=r("./utils/index.js"),E=r("./math/index.js"),y=r("./particle/element/Tw2ParticleElement.js"),T=r("./particle/generators/Tw2ParticleAttributeGenerator.js");function S(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function w(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var _=(i=g.meta.ctor("Tw2RandomIntegerAttributeGenerator","Tr2RandomIntegerAttributeGenerator"),n=g.meta.string,a=g.meta.uint,o=g.meta.enums(y.Tw2ParticleElement.Type),s=g.meta.vector4,u=g.meta.vector4,l=g.meta.struct("Tw2ParticleElement"),i((v=class extends T.Tw2ParticleAttributeGenerator{constructor(...e){super(...e),S(this,"customName",d,this),S(this,"elementType",h,this),S(this,"minRange",m,this),S(this,"maxRange",p,this),S(this,"_element",b,this)}Bind(e){for(var t=0;t<e._elements.length;++t)if(e._elements[t].elementType===this.elementType&&(this.elementType!==y.Tw2ParticleElement.Type.CUSTOM||e._elements[t].customName===this.customName))return this._element=e._elements[t],!0;return!1}Generate(e,t,r){for(var i=0;i<this._element.dimension;++i)this._element.buffer[this._element.instanceStride*r+this._element.startOffset+i]=Math.floor(this.minRange[i]+Math.random()*(this.maxRange[i]-this.minRange[i])+.5)}},d=w((f=v).prototype,"customName",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),h=w(f.prototype,"elementType",[a,o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return y.Tw2ParticleElement.Type.CUSTOM}}),m=w(f.prototype,"minRange",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return E.vec4.create()}}),p=w(f.prototype,"maxRange",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return E.vec4.create()}}),b=w(f.prototype,"_element",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),c=f))||c)},"./particle/generators/Tw2RandomUniformAttributeGenerator.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tw2RandomUniformAttributeGenerator",(function(){return _}));var i,n,a,o,s,u,l,c,f,d,h,m,p,b,v,g=r("./utils/index.js"),E=r("./math/index.js"),y=r("./particle/element/Tw2ParticleElement.js"),T=r("./particle/generators/Tw2ParticleAttributeGenerator.js");function S(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function w(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var _=(i=g.meta.ctor("Tw2RandomUniformAttributeGenerator","Tr2RandomUniformAttributeGenerator"),n=g.meta.string,a=g.meta.uint,o=g.meta.enums(y.Tw2ParticleElement.Type),s=g.meta.vector4,u=g.meta.vector4,l=g.meta.struct("Tw2ParticleElement"),i((v=class extends T.Tw2ParticleAttributeGenerator{constructor(...e){super(...e),S(this,"customName",d,this),S(this,"elementType",h,this),S(this,"minRange",m,this),S(this,"maxRange",p,this),S(this,"_element",b,this)}get elementType(){return y.Tw2ParticleElement.Type.CUSTOM}Bind(e){for(var t=0;t<e._elements.length;++t)if(e._elements[t].elementType===this.elementType&&(this.elementType!==y.Tw2ParticleElement.Type.CUSTOM||e._elements[t].customName===this.customName))return this._element=e._elements[t],!0;return!1}Generate(e,t,r){for(var i=0;i<this._element.dimension;++i)this._element.buffer[this._element.instanceStride*r+this._element.startOffset+i]=this.minRange[i]+Math.random()*(this.maxRange[i]-this.minRange[i])}},d=w((f=v).prototype,"customName",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),h=w(f.prototype,"elementType",[a,o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return y.Tw2ParticleElement.Type.CUSTOM}}),m=w(f.prototype,"minRange",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return E.vec4.create()}}),p=w(f.prototype,"maxRange",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return E.vec4.create()}}),b=w(f.prototype,"_element",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),c=f))||c)},"./particle/generators/Tw2SphereShapeAttributeGenerator.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tw2SphereShapeAttributeGenerator",(function(){return Q}));var i,n,a,o,s,u,l,c,f,d,h,m,p,b,v,g,E,y,T,S,w,_,R,j,A,O,z,P,x,C,D,M,L,I,F,G,N,B,U,V,k,H=r("./utils/index.js"),q=r("./math/index.js"),W=r("./particle/element/Tw2ParticleElement.js"),Y=r("./particle/generators/Tw2ParticleAttributeGenerator.js");function X(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function K(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var Q=(i=H.meta.ctor("Tw2SphereShapeAttributeGenerator","Tr2SphereShapeAttributeGenerator"),n=H.meta.string,a=H.meta.float,o=H.meta.notImplemented,s=H.meta.float,u=H.meta.float,l=H.meta.float,c=H.meta.float,f=H.meta.float,d=H.meta.float,h=H.meta.float,m=H.meta.float,p=H.meta.float,b=H.meta.vector3,v=H.meta.quaternion,g=H.meta.boolean,E=H.meta.todo("Is this deprecated?"),y=H.meta.boolean,T=H.meta.todo("Is this deprecated?"),S=H.meta.struct("Tw2ParticleElement"),w=H.meta.struct("Tw2ParticleElement"),i((k=class extends Y.Tw2ParticleAttributeGenerator{constructor(...e){super(...e),X(this,"customName",j,this),X(this,"distributionExponent",A,this),X(this,"maxPhi",O,this),X(this,"maxRadius",z,this),X(this,"maxSpeed",P,this),X(this,"maxTheta",x,this),X(this,"minPhi",C,this),X(this,"minRadius",D,this),X(this,"minSpeed",M,this),X(this,"minTheta",L,this),X(this,"parentVelocityFactor",I,this),X(this,"position",F,this),X(this,"rotation",G,this),X(this,"controlPosition",N,this),X(this,"controlVelocity",B,this),X(this,"_position",U,this),X(this,"_velocity",V,this)}Bind(e){this._position=null,this._velocity=null;for(var t=0;t<e._elements.length;++t)e._elements[t].elementType===W.Tw2ParticleElement.Type.POSITION&&this.controlPosition?this._position=e._elements[t]:e._elements[t].elementType===W.Tw2ParticleElement.Type.VELOCITY&&this.controlVelocity&&(this._velocity=e._elements[t]);return!(this.controlPosition&&null===this._position||this.controlVelocity&&null===this._velocity)}Generate(e,t,r){var i=(this.minPhi+Math.random()*(this.maxPhi-this.minPhi))/180*Math.PI,n=(this.minTheta+Math.random()*(this.maxTheta-this.minTheta))/180*Math.PI,a=Y.Tw2ParticleAttributeGenerator.global.vec3_0;if(a[0]=Math.sin(i)*Math.cos(n),a[1]=-Math.cos(i),a[2]=Math.sin(i)*Math.sin(n),q.vec3.transformQuat(a,a,this.rotation),this._velocity){var o=this.minSpeed+Math.random()*(this.maxSpeed-this.minSpeed),s=this._velocity.instanceStride*r+this._velocity.startOffset;this._velocity.buffer[s]=a[0]*o,this._velocity.buffer[s+1]=a[1]*o,this._velocity.buffer[s+2]=a[2]*o,t&&(this._velocity.buffer[s]+=t.buffer[t.offset]*this.parentVelocityFactor,this._velocity.buffer[s+1]+=t.buffer[t.offset+1]*this.parentVelocityFactor,this._velocity.buffer[s+2]+=t.buffer[t.offset+2]*this.parentVelocityFactor)}if(this._position){q.vec3.scale(a,a,this.minRadius+Math.random()*(this.maxRadius-this.minRadius)),q.vec3.add(a,a,this.position),e&&(a[0]+=e.buffer[e.offset],a[1]+=e.buffer[e.offset+1],a[2]+=e.buffer[e.offset+2]);var u=this._position.instanceStride*r+this._position.startOffset;this._position.buffer[u]=a[0],this._position.buffer[u+1]=a[1],this._position.buffer[u+2]=a[2]}}},j=K((R=k).prototype,"customName",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),A=K(R.prototype,"distributionExponent",[a,o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),O=K(R.prototype,"maxPhi",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 360}}),z=K(R.prototype,"maxRadius",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),P=K(R.prototype,"maxSpeed",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),x=K(R.prototype,"maxTheta",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 360}}),C=K(R.prototype,"minPhi",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),D=K(R.prototype,"minRadius",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),M=K(R.prototype,"minSpeed",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),L=K(R.prototype,"minTheta",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),I=K(R.prototype,"parentVelocityFactor",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),F=K(R.prototype,"position",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return q.vec3.create()}}),G=K(R.prototype,"rotation",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return q.quat.create()}}),N=K(R.prototype,"controlPosition",[g,E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),B=K(R.prototype,"controlVelocity",[y,T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),U=K(R.prototype,"_position",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),V=K(R.prototype,"_velocity",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_=R))||_)},"./particle/generators/index.js":function(e,t,r){"use strict";r.r(t);var i=r("./particle/generators/Tw2RandomIntegerAttributeGenerator.js");r.d(t,"Tw2RandomIntegerAttributeGenerator",(function(){return i.Tw2RandomIntegerAttributeGenerator}));var n=r("./particle/generators/Tw2RandomUniformAttributeGenerator.js");r.d(t,"Tw2RandomUniformAttributeGenerator",(function(){return n.Tw2RandomUniformAttributeGenerator}));var a=r("./particle/generators/Tw2SphereShapeAttributeGenerator.js");r.d(t,"Tw2SphereShapeAttributeGenerator",(function(){return a.Tw2SphereShapeAttributeGenerator}))},"./particle/index.js":function(e,t,r){"use strict";r.r(t);var i=r("./particle/element/index.js");r.d(t,"Tw2ParticleElement",(function(){return i.Tw2ParticleElement})),r.d(t,"Tw2ParticleElementDeclaration",(function(){return i.Tw2ParticleElementDeclaration}));var n=r("./particle/emitter/index.js");r.d(t,"Tw2StaticEmitter",(function(){return n.Tw2StaticEmitter})),r.d(t,"Tw2DynamicEmitter",(function(){return n.Tw2DynamicEmitter}));var a=r("./particle/force/index.js");r.d(t,"Tw2ParticleAttractorForce",(function(){return a.Tw2ParticleAttractorForce})),r.d(t,"Tw2ParticleDirectForce",(function(){return a.Tw2ParticleDirectForce})),r.d(t,"Tw2ParticleDragForce",(function(){return a.Tw2ParticleDragForce})),r.d(t,"Tw2ParticleFluidDragForce",(function(){return a.Tw2ParticleFluidDragForce})),r.d(t,"Tw2ParticleSpring",(function(){return a.Tw2ParticleSpring})),r.d(t,"Tw2ParticleTurbulenceForce",(function(){return a.Tw2ParticleTurbulenceForce}));var o=r("./particle/generators/index.js");r.d(t,"Tw2RandomIntegerAttributeGenerator",(function(){return o.Tw2RandomIntegerAttributeGenerator})),r.d(t,"Tw2RandomUniformAttributeGenerator",(function(){return o.Tw2RandomUniformAttributeGenerator})),r.d(t,"Tw2SphereShapeAttributeGenerator",(function(){return o.Tw2SphereShapeAttributeGenerator}));var s=r("./particle/Tw2ParticleSystem.js");r.d(t,"Tw2ParticleSystem",(function(){return s.Tw2ParticleSystem}))},"./sof/EveSOF.js":function(e,t,r){"use strict";r.r(t),r.d(t,"EveSOF",(function(){return f})),r.d(t,"ErrSOFHullNotFound",(function(){return d})),r.d(t,"ErrSOFFactionNotFound",(function(){return h})),r.d(t,"ErrSOFRaceNotFound",(function(){return m})),r.d(t,"ErrSOFMaterialNotFound",(function(){return p})),r.d(t,"ErrSOFPatternNotFound",(function(){return b}));var i=r("./global/index.js"),n=r("./math/index.js"),a=r("./utils/index.js"),o=r("./curve/index.js"),s=r("./core/index.js"),u=r("./eve/index.js");function l(e,t,r,i,n,a,o){try{var s=e[a](o),u=s.value}catch(e){return void r(e)}s.done?t(u):Promise.resolve(u).then(i,n)}function c(e){return function(){var t=this,r=arguments;return new Promise((function(i,n){var a=e.apply(t,r);function o(e){l(a,i,n,o,s,"next",e)}function s(e){l(a,i,n,o,s,"throw",e)}o(void 0)}))}}function f(){var e=this,t=this,r=null,l=null;function f(e){return e?Object(a.get)(r.generic,"shaderPrefixAnimated",""):Object(a.get)(r.generic,"shaderPrefix","")}function v(e,t,r,i,n){var o=null;if(Object(a.get)(i,"resPathInsert","").length&&(o=i.resPathInsert),"respathinsert"in n&&1===n.respathinsert.length){if("none"===n.respathinsert[0])return e;o=n.respathinsert[0]}if("MaterialMap"===t||"PaintMaskMap"===t||"PmdgMap"===t){var s=e.lastIndexOf("/"),u=e;if(s>=0&&(u=e.substr(0,s+1)+o+"/"+e.substr(s+1)),(s=u.lastIndexOf("_"))>=0){u=u.substr(0,s)+"_"+o+u.substr(s);var l=Object(a.get)(r,"textureOverrides",{});if(t in l&&i.name in l[t])return u}}return e}function g(e,t){for(var r=0;r<e.length;++r)if(t.substr(0,e[r].length)===e[r])return r;return null}function E(e,t,i,n){var o,s,u,l;return"mesh"in i&&null!==(s=g(o=r.generic.materialPrefixes,e))&&s<i.mesh.length&&0==(Object(a.get)(t,"blockedMaterials",0)&1<<s)&&(u=Object(a.get)(r.material,i.mesh[s],null))?(l=e.substr(o[s].length),Object(a.get)(u.parameters,l,void 0)):(s=g(o=r.generic.patternMaterialPrefixes,e),"pattern"in i&&null!==s&&1+s<i.pattern.length&&(u=Object(a.get)(r.material,i.pattern[1+s],null))||null!==s&&(u=Object(a.get)(r.material,n.defaultPatternLayer1MaterialName,null))?(l=e.substr(o[s].length),Object(a.get)(u.parameters,l,void 0)):void 0)}function y(e){switch(e){case 2:return 4;case 1:return 3;default:return 1}}function T(e,t,i,n,o,u,l,c,d){for(var h,m,p,b,g=Object(a.get)(i,t,[]),T=0;T<g.length;++T){var S=g[T],w=new s.Tw2Effect;if(d)for(var _=0;_<2;_++){var R=d[_];if(R){var{PatternMaskMap:j,DiffuseColor:A,FresnelColor:O,Gloss:z}=R.parameters;w.parameters[j.name]=j,w.parameters[A.name]=A,w.parameters[O.name]=O,w.parameters[z.name]=z}else console.error("Missing mask "+_)}w.effectFilePath=r.generic.areaShaderLocation+(h=c||S.shader,m=i.isSkinned,p=void 0,b=void 0,p=f(m),b=(h="/"+h).lastIndexOf("/"),h.substr(0,b+1)+p+h.substr(b+1));for(var P=Object(a.get)(Object(a.get)(r.generic.areaShaders,S.shader,{}),"parameters",[]),x=0;x<P.length;++x){var C=P[x],D=E(C,S,l,o);(D=(D=(D=(D=D||Object(a.get)(Object(a.get)(Object(a.get)(r.generic.hullAreas,S.name,{}),"parameters",{}),C))||Object(a.get)(Object(a.get)(Object(a.get)(o.hullAreas,S.name,{}),"parameters",{}),C))||Object(a.get)(Object(a.get)(Object(a.get)(n.areas,S.name,{}),"parameters",{}),C))||Object(a.get)(Object(a.get)(S,"parameters",{}),C))&&(w.parameters[C]?w.parameters[C].SetValue(D):w.parameters[C]=new s.Tw2Vector4Parameter(C,D))}var M=Object(a.get)(S,"textures",{});for(var L in M)if(M.hasOwnProperty(L)){var I=v(M[L],L,S,n,l);w.parameters[L]?w.parameters[L].SetValue(I):w.parameters[L]=new s.Tw2TextureParameter(L,I)}for(var F=0;F<u.layers.length;++F){var G=u.layers[F]?u.layers[F].textureName:"";if(G&&!w.parameters[G]){var N=new s.Tw2TextureParameter(u.layers[F].textureName);N.resourcePath=u.layers[F].textureResFilePath,N.useAllOverrides=!0,N.addressUMode=y(Object(a.get)(u.layers[F],"projectionTypeU",0)),N.addressVMode=y(Object(a.get)(u.layers[F],"projectionTypeV",0)),N.Initialize(),w.parameters[u.layers[F].textureName]=N}}var B=Object(a.get)(Object(a.get)(r.generic.areaShaders,S.shader,{}),"defaultTextures",{});for(var U in B)B.hasOwnProperty(U)&&(U in w.parameters||(w.parameters[U]=new s.Tw2TextureParameter(U,B[U])));w.Initialize();var V=new s.Tw2MeshArea;V.name=S.name,V.effect=w,V.index=Object(a.get)(S,"index",0),V.count=Object(a.get)(S,"count",1),e.push(V)}}function S(e,t=-1){if(!e)return null;var r="group".concat(t);return e[r]?e[r]:null}this.SKIP_EMPTY_ITEMS=!0;function w(e,t,r,s){function u(t){return function(u){u.constructor.__isEffectChild?e.effectChildren.push(u):e.children.push(u),n.vec3.copy(u.translation,Object(a.get)(t,"translation",[0,0,0])),n.quat.copy(u.rotation,Object(a.get)(t,"rotation",[0,0,0,1])),n.vec3.copy(u.scaling,Object(a.get)(t,"scaling",[1,1,1]));var l=Object(a.get)(t,"id",-1);-1!==l&&s[l]&&function e(t,r,n){if(Array.isArray(t.particleEmitters)){for(var a=0;a<t.particleEmitters.length;++a)if("rate"in t.particleEmitters[a]){var s=new o.Tw2ValueBinding;s.sourceObject=n,s.sourceAttribute="currentValue",s.destinationObject=t.particleEmitters[a],s.destinationAttribute="rate",s.Initialize(),r.bindings.push(s)}for(a=0;a<t.children.length;++a)e(t.children[a],r,n)}else i.logger.Warn({name:"Space object factory",message:"Unable to bind particle emitters: ".concat(t.constructor.name)})}(u,r,s[l])}}for(var l=Object(a.get)(t,"children",[]),c=0;c<l.length;++c){var f=l[c].redFilePath;f?i.resMan.GetObject(f,u(l[c])):i.logger.Warn({name:"Space object factory",message:'No resource path found for "'.concat(t.name,'" child at index ').concat(c)})}}function _(e,t,i){for(var n=-1,o=0;o<r.generic.materialPrefixes.length;++o)e.substr(0,r.generic.materialPrefixes[o].length)===r.generic.materialPrefixes[o]&&(n=o,e=e.substr(r.generic.materialPrefixes[o].length));if(-1!==n){var s=Object(a.get)(t,"materialUsageMtl"+(n+1),n);if(s>=0&&s<r.generic.materialPrefixes.length&&(e=r.generic.materialPrefixes[s]+e)in i.parameters)return i.parameters[e]}}var R,j=[0,0,0,0];function A(e,t,r,i){switch(i){case"overridable":return t||(r||j);case"half_overridable":return e.indexOf("GlowColor")>=0?r||j:t||(r||j);case"not_overridable":case"half_overridable_2":return r||j}return j}this.SetupTurretMaterial=function(e,t,r,i,n){return this.FetchTurretMaterial(e,t,r).then(i).catch(n)},this.FetchTurretMaterial=function(){var e=c((function*(e,t,i){return yield this.FetchSOF(),function(e,t,i){var a=r.faction[t],o=r.faction[i],u=null;a&&a.areas&&"hull"in a.areas&&(u=a.areas.hull);var l=null;if(o&&o.areas&&"hull"in o.areas&&(l=o.areas.hull),(u||l)&&e.turretEffect){var c=e.turretEffect.parameters;for(var f in c)if(c.hasOwnProperty(f)){if(c[f].constructor.prototype!==s.Tw2Vector4Parameter.prototype)continue;var d=null,h=null;u&&(d=_(f,a,u)),l&&(h=_(f,a,u)),n.vec4.copy(c[f].value,A(f,d,h,e.turretEffect.name))}e.turretEffect.BindParameters()}}(e,t,i),e}));return function(t,r,i){return e.apply(this,arguments)}}(),this.FetchSOF=(R=null,c((function*(){return R||(l=s.Tw2Effect.from({effectFilePath:"res:/graphics/effect/managed/space/spaceobject/fx/blinkinglightspool.fx",parameters:{MainIntensity:1,GradientMap:"res:/texture/particle/whitesharp_gradient.dds.0.png"}}),R=i.resMan.FetchObject("res:/dx9/model/spaceobjectfactory/data.red").then(e=>r=e).catch(e=>{i.logger.Error({name:"Space object factory",message:"Could not load data"})})),R})));var O=function(){var t=c((function*(t){var r=yield e.FetchSOF();if(r[t])return r[t];throw new Error("Invalid sof object (".concat(t,")"))}));return function(e){return t.apply(this,arguments)}}(),z=function(){var e=c((function*(e,t,r){var i=yield O(e);if(Object(a.isArray)(i)){for(var n=0;n<i.length;n++)if(i[t].name===e)return i[t]}else if(i[t])return i[t];if(r)throw new r({name:t});throw new Error("Invalid sof object key (".concat(e,":").concat(t,")"))}));return function(t,r,i){return e.apply(this,arguments)}}(),P=function(){var e=c((function*(e){var t=yield O(e),r={};if(Object(a.isArray)(t)){for(var i=0;i<t.length;i++)r[t[i].name]=t[i].description||"";return r}for(var n in t)t.hasOwnProperty(n)&&(r[n]=t[n].description||"");return r}));return function(t){return e.apply(this,arguments)}}(),x=function(){var t=c((function*(t,r){yield e.FetchHull(t);for(var{projections:i=[]}=r,n=0;n<i.length;n++)if(i[n].name===t){var a={};return a.name=r.name,a.layer1=r.layer1,a.layer2=r.layer2,a.transformLayer1=i[n].transformLayer1,a.transformLayer2=i[n].transformLayer2,a}}));return function(e,r){return t.apply(this,arguments)}}();this.FetchObject=function(){var i=c((function*(i){if(!Object(a.isDNA)(i))throw new Error("Invalid DNA (".concat(i,")"));for(var c=i.split(":"),d={},h=3;h<c.length;++h){var m=c[h].split("?");d[m[0]]=m[1].split(";")}var p=yield e.FetchHull(c[0]),b=yield e.FetchFaction(c[1]),v=yield e.FetchRace(c[2]);if(d.mesh)for(var g=0;g<d.mesh.length;g++)yield e.FetchMaterial(d.mesh[g]);if(d.pattern&&d.pattern.length>1)for(var E=1;E<d.pattern.length;E++)yield e.FetchMaterial(d.pattern[E]);var _=new(2===Object(a.get)(p,"buildClass",0)?u.EveSpaceObject:u.EveShip),R=function(e,t,i){var n={patterns:[],layers:[]};if("pattern"in i){for(var o={},s=0;s<r.pattern.length;++s)if(r.pattern[s].name===i.pattern[0]){o=r.pattern[s];break}n.layers.push(Object(a.get)(o,"layer1",{})),n.layers.push(Object(a.get)(o,"layer2",{}));for(var u=Object(a.get)(o,"projections",[]),l={},c=0;c<u.length;++c)if(u[c].name===e.name){l=u[c];break}n.patterns.push(Object(a.get)(l,"transformLayer1",{})),n.patterns.push(Object(a.get)(l,"transformLayer2",{}))}else{var f=Object(a.get)(t,"defaultPattern",{});n.layers.push(Object(a.get)(f,"layer1",{})),n.layers.push(Object(a.get)(f,"layer2",{}));var d=Object(a.get)(e,"defaultPattern",{});n.patterns.push(Object(a.get)(d,"transformLayer1",{})),n.patterns.push(Object(a.get)(d,"transformLayer2",{}))}return n}(p,v,d);!function(e,t={}){for(var{patterns:r=[],layers:i=[]}=t,a=0;a<2;++a){var o=r[a]||{},s=i[a]||{},{rotation:l=n.quat.create(),scaling:c=n.vec3.fromValues(1,1,1),position:f=n.vec3.create(),isMirrored:d=!1}=o,{display:h=!!i[a].textureName,materialSource:m=0,textureName:p="PatternMask".concat(a+1,"Map"),textureResFilePath:b="res:/texture/global/black.dds.0.png",projectionTypeU:v=0,projectionTypeV:g=0,isTargetMtl1:E=!0,isTargetMtl2:T=!0,isTargetMtl3:S=!0,isTargetMtl4:w=!0}=s,_=e.customMasks[a]||new u.EveCustomMask;_.name="Pattern".concat(a+1),_.display=h,n.quat.copy(_.rotation,l),n.vec3.copy(_.scaling,c),n.vec3.copy(_.translation,f),n.vec4.set(_.targetMaterials,E?1:0,T?1:0,S?1:0,w?1:0),_.materialIndex=m,_.isMirrored=!!d;var{PatternMaskMap:R,DiffuseColor:j,FresnelColor:A,Gloss:O}=_.parameters;R.name=p,R.resourcePath=b,R.useAllOverrides=!0,R.addressUMode=y(v),R.addressVMode=y(g),R.Initialize();var z="PMtl".concat(a+1);j.name="".concat(z,"DiffuseColor"),A.name="".concat(z,"FresnelColor"),O.name="".concat(z,"Gloss"),_.Initialize(),e.customMasks[a]!==_&&e.customMasks.push(_)}}(_,R),function(e,t,r,i,n,o){var l=e.mesh||new s.Tw2Mesh;l.geometryResPath=t.geometryResFilePath,e.mesh!==l?(e.boundingSphereCenter[0]=t.boundingSphere[0],e.boundingSphereCenter[1]=t.boundingSphere[1],e.boundingSphereCenter[2]=t.boundingSphere[2],e.boundingSphereRadius=t.boundingSphere[3]):l.EmptyAreas();var c=e.customMasks;c[0]=c[0]||new u.EveCustomMask,c[1]=c[1]||new u.EveCustomMask;var f=[t,r,i,o,n,void 0,c];T(Object(a.get)(l,"opaqueAreas",[]),"opaqueAreas",...f),T(Object(a.get)(l,"transparentAreas",[]),"transparentAreas",...f),T(Object(a.get)(l,"additiveAreas",[]),"additiveAreas",...f),T(Object(a.get)(l,"decalAreas",[]),"decalAreas",...f),T(Object(a.get)(l,"depthAreas",[]),"depthAreas",...f),e.mesh!==l&&("shapeEllipsoidCenter"in t&&(e.shapeEllipsoidCenter=t.shapeEllipsoidCenter),"shapeEllipsoidRadius"in t&&(e.shapeEllipsoidRadius=t.shapeEllipsoidRadius)),e.mesh=l,l.Initialize()}(_,p,b,v,d,R),function(e,t,i={}){for(var n=Object(a.get)(t,"hullDecals",[]),o=0;o<n.length;++o){var s=n[o],l=S(i.decals,s.groupIndex);if(!l||l.isVisible){var c=l&&l.shader||s.shader;if(c){var d=r.generic.decalShaderLocation+"/"+f(!1)+c,h=Object.assign({},s.parameters),m=Object.assign(Object(a.get)(Object(a.get)(r.generic.decalShaders,c,{}),"defaultTextures",{}));l&&(Object.assign(h,l.parameters),Object.assign(m,l.textures)),Object.assign(m,s.textures),e.decals.push(u.EveSpaceObjectDecal.from({name:s.name,groupIndex:s.groupIndex,parentBoneIndex:s.boneIndex,indexBuffer:s.indexBuffer,position:s.position,rotation:s.rotation,scaling:s.scaling,effect:{effectFilePath:d,parameters:h,textures:m}}))}}}}(_,p,b),function(e,r,i){for(var o=Object(a.get)(r,"spriteSets",[]),s=Object(a.get)(i,"spriteSets",{}),c=0;c<o.length;++c){for(var f=o[c],d=Object(a.get)(f,"items",[]),h=[],m=0;m<d.length;m++){var p=Object.assign({blinkRate:.1,maxScale:10,minScale:1},d[m]),b=S(s,p.groupIndex);b&&(p.groupName=b.name,Object(a.assignIfExists)(p,b,"color")),(!t.SKIP_EMPTY_ITEMS||p.color&&!n.vec3.isEmpty(p.color))&&h.push(p)}t.SKIP_EMPTY_ITEMS&&!h.length||e.spriteSets.push(u.EveSpriteSet.from({name:f.name,useQuads:!0,skinned:!(!r.isSkinned||!f.skinned),effect:l,items:h}))}}(_,p,b),function(e,r,i){for(var n=Object(a.get)(r,"spotlightSets",[]),o=Object(a.get)(i,"spotlightSets",{}),s=0;s<n.length;++s){for(var l=n[s],c=Object(a.get)(l,"items",[]),f=l.skinned,d=[],h=0;h<c.length;++h){var m=Object.assign({},c[h]),p=S(o,m.groupIndex);p&&Object(a.assignIfExists)(m,p,["coneColor","spriteColor","flareColor"]),t.SKIP_EMPTY_ITEMS&&!p||d.push(m)}t.SKIP_EMPTY_ITEMS&&!d.length||e.spotlightSets.push(u.EveSpotlightSet.from({name:l.name,items:d,coneEffect:{effectFilePath:f?"res:/graphics/effect/managed/space/spaceobject/fx/skinned_spotlightcone.fx":"res:/graphics/effect/managed/space/spaceobject/fx/spotlightcone.fx",parameters:{TextureMap:l.coneTextureResPath,zOffset:Object(a.get)(l,"zOffset",0)}},glowEffect:{effectFilePath:f?"res:/graphics/effect/managed/space/spaceobject/fx/skinned_spotlightglow.fx":"res:/graphics/effect/managed/space/spaceobject/fx/spotlightglow.fx",parameters:{TextureMap:l.glowTextureResPath}}}))}}(_,p,b),function(e,r,i){for(var o=Object(a.get)(r,"planeSets",[]),s=Object(a.get)(i,"planeSets",{}),l=0;l<o.length;++l){for(var c=o[l],f=Object(a.get)(c,"items",[]),d=[],h=0;h<f.length;++h){var m=Object.assign({boneIndex:-1},f[h]),p=S(s,m.groupIndex);p&&Object(a.assignIfExists)(m,p,"color"),(!t.SKIP_EMPTY_ITEMS||m.color&&!n.vec3.isEmpty(m.color))&&d.push(m)}t.SKIP_EMPTY_ITEMS&&!d.length||e.planeSets.push(u.EvePlaneSet.from({name:c.name,items:d,effect:{effectFilePath:c.skinned?"res:/graphics/effect/managed/space/spaceobject/fx/skinned_planeglow.fx":"res:/graphics/effect/managed/space/spaceobject/fx/planeglow.fx",parameters:{PlaneData:Object(a.get)(c,"planeData",[1,0,0,0])},textures:{Layer1Map:c.layer1MapResPath,Layer2Map:c.layer2MapResPath,MaskMap:c.maskMapResPath}}}))}}(_,p,b),function(e,t,r){if(t.booster){for(var i=[0,0,0,0],n=Object(a.get)(r,"booster",{}),o=t.booster,s=Object(a.get)(o,"items",[]),l=0;l<s.length;++l)e.locators.push(u.EveLocator2.from({name:"locator_booster_"+(l+1),transform:s[l].transform,atlasIndex0:Object(a.get)(s[l],"atlasIndex0",0),atlasIndex1:Object(a.get)(s[l],"atlasIndex1",0)}));e.boosters=u.EveBoosterSet.from({glowScale:n.glowScale,symHaloScale:n.symHaloScale,haloScaleX:n.haloScaleX,haloScaleY:n.haloScaleY,haloColor:n.haloColor,glowColor:n.glowColor,warpGlowColor:n.warpGlowColor,warpHaloColor:n.warpHalpColor,trailColor:n.trailColor,trailSize:n.trailSize,effect:{effectFilePath:"res:/Graphics/Effect/Managed/Space/Booster/BoosterVolumetric.fx",parameters:{NoiseFunction0:Object(a.get)(n.shape0,"noiseFunction",0),NoiseSpeed0:Object(a.get)(n.shape0,"noiseSpeed",0),NoiseAmplitudeStart0:Object(a.get)(n.shape0,"noiseAmplitureStart",i),NoiseAmplitudeEnd0:Object(a.get)(n.shape0,"noiseAmplitureEnd",i),NoiseFrequency0:Object(a.get)(n.shape0,"noiseFrequency",i),Color0:Object(a.get)(n.shape0,"color",i),NoiseFunction1:Object(a.get)(n.shape1,"noiseFunction",0),NoiseSpeed1:Object(a.get)(n.shape1,"noiseSpeed",0),NoiseAmplitudeStart1:Object(a.get)(n.shape1,"noiseAmplitureStart",i),NoiseAmplitudeEnd1:Object(a.get)(n.shape1,"noiseAmplitureEnd",i),NoiseFrequency1:Object(a.get)(n.shape1,"noiseFrequency",i),Color1:Object(a.get)(n.shape1,"color",i),WarpNoiseFunction0:Object(a.get)(n.warpShape0,"noiseFunction",0),WarpNoiseSpeed0:Object(a.get)(n.warpShape0,"noiseSpeed",0),WarpNoiseAmplitudeStart0:Object(a.get)(n.warpShape0,"noiseAmplitureStart",i),WarpNoiseAmplitudeEnd0:Object(a.get)(n.warpShape0,"noiseAmplitureEnd",i),WarpNoiseFrequency0:Object(a.get)(n.warpShape0,"noiseFrequency",i),WarpColor0:Object(a.get)(n.warpShape0,"color",i),WarpNoiseFunction1:Object(a.get)(n.warpShape1,"noiseFunction",0),WarpNoiseSpeed1:Object(a.get)(n.warpShape1,"noiseSpeed",0),WarpNoiseAmplitudeStart1:Object(a.get)(n.warpShape1,"noiseAmplitureStart",i),WarpNoiseAmplitudeEnd1:Object(a.get)(n.warpShape1,"noiseAmplitureEnd",i),WarpNoiseFrequency1:Object(a.get)(n.warpShape1,"noiseFrequency",i),WarpColor1:Object(a.get)(n.warpShape1,"color",i),ShapeAtlasSize:[Object(a.get)(n,"shapeAtlasHeight",0),Object(a.get)(n,"shapeAtlasCount",0),0,0],BoosterScale:Object(a.get)(n,"scale",[1,1,1,1])},textures:{ShapeMap:n.shapeAtlasResPath,GradientMap0:n.gradient0ResPath,GradientMap1:n.gradient1ResPath,NoiseMap:"res:/Texture/Global/noise32cube_volume.dds.0.png"}},glows:{useQuads:!0,effect:{effectFilePath:"res:/Graphics/Effect/Managed/Space/Booster/BoosterGlowAnimated.fx",textures:{DiffuseMap:"res:/Texture/Particle/whitesharp.dds.0.png",NoiseMap:"res:/Texture/global/noise.dds.0.png"}}}})}}(_,p,v),function(e,t){for(var r=Object(a.get)(t,"locatorTurrets",[]),i=0;i<r.length;++i)e.locators.push(u.EveLocator2.from(r[i]))}(_,p);var j=function(e,t){for(var r=[],i=null,n=Object(a.get)(t,"animations",[]),s=0;s<n.length;++s)if(-1!==Object(a.get)(n[s],"id",-1)&&-1!==Object(a.get)(n[s],"startRate",-1)){i||(i=new o.Tw2CurveSet);var u=new o.Tw2ScalarCurve2;u.keys.push(new o.Tw2ScalarKey2),u.keys.push(new o.Tw2ScalarKey2),u.keys[0].value=Object(a.get)(n[s],"startRate",-1),u.keys[1].time=1,u.keys[1].value=Object(a.get)(n[s],"endRate",-1),u.Initialize(),i.curves.push(u),e.curveSets.push(i),r[Object(a.get)(n[s],"id",-1)]=u}return i&&i.Initialize(),[i,r]}(_,p);return w(_,p,j[0],j[1]),function(e,t,r,i,n,o){for(var l=Object(a.get)(t,"instancedMeshes",[]),c=0;c<l.length;++c){var f=l[c],d=new s.Tw2InstancedMesh;d.instanceGeometryResPath=f.instanceGeometryResPath,d.geometryResPath=f.geometryResPath,d.Initialize(),T(Object(a.get)(d,"opaqueAreas",[]),"opaqueAreas",t,r,i,o,n,f.shader);var h=new u.EveChildMesh;h.mesh=d,e.effectChildren.push(h)}}(_,p,b,v,d,R),_.Initialize(),_}));return function(e){return i.apply(this,arguments)}}(),this.FetchHull=function(){var e=c((function*(e){return z("hull",e,d)}));return function(t){return e.apply(this,arguments)}}(),this.FetchHullNames=c((function*(){return P("hull")})),this.FetchHullPattern=function(){var t=c((function*(t,r){var i=yield e.FetchPattern(r),n=x(t,i);if(n)return n;throw new Error("Invalid pattern for hull (".concat(t,":").concat(r,")"))}));return function(e,r){return t.apply(this,arguments)}}(),this.FetchHullPatternNames=function(){var e=c((function*(e){var t=yield O("pattern"),r=[];return t.forEach(t=>{for(var i=0;i<t.projections.length;i++)if(t.projections[i].name===e){r.push(t.name);break}}),r.sort(),r}));return function(t){return e.apply(this,arguments)}}(),this.FetchHullBuildClass=function(){var t=c((function*(t){var r=t.split(":")[0];return 2===(yield e.FetchHull(r)).buildClass?2:1}));return function(e){return t.apply(this,arguments)}}(),this.FetchRace=function(){var e=c((function*(e){return z("race",e,m)}));return function(t){return e.apply(this,arguments)}}(),this.FetchRaceNames=c((function*(){return P("race")})),this.FetchFaction=function(){var e=c((function*(e){return z("faction",e,h)}));return function(t){return e.apply(this,arguments)}}(),this.FetchFactionNames=c((function*(){return P("faction")})),this.FetchMaterial=function(){var e=c((function*(e){return z("material",e,p)}));return function(t){return e.apply(this,arguments)}}(),this.FetchMaterialNames=c((function*(){return P("material")})),this.FetchPattern=function(){var e=c((function*(e){return z("pattern",e,b)}));return function(t){return e.apply(this,arguments)}}(),this.FetchPatternNames=c((function*(){return P("pattern")}))}class d extends s.Tw2Error{constructor(e){super(e,"SOF Hull not found (%name%)")}}class h extends s.Tw2Error{constructor(e){super(e,"SOF Faction not found (%name%)")}}class m extends s.Tw2Error{constructor(e){super(e,"SOF Race not found (%name%)")}}class p extends s.Tw2Error{constructor(e){super(e,"SOF Material not found (%name%)")}}class b extends s.Tw2Error{constructor(e){super(e,"SOF Pattern not found (%name%)")}}},"./sof/EveSOFData.js":function(e,t,r){"use strict";r.r(t),r.d(t,"EveSOFData",(function(){return P})),r.d(t,"ErrSOFDNAFormatInvalid",(function(){return x}));var i,n,a,o,s,u,l,c,f,d,h,m,p,b,v,g,E,y=r("./global/index.js"),T=r("./math/index.js"),S=r("./utils/index.js"),w=r("./core/index.js"),_=(r("./curve/Tw2ValueBinding.js"),r("./sof/EveSOF.js")),R=r("./eve/item/index.js"),j=r("./unsupported/eve/object/index.js"),A=r("./sof/pattern/index.js");function O(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function z(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var P=(i=S.meta.ctor("EveSOFData"),n=S.meta.list("EveSOFDataFaction"),a=S.meta.struct("EveSOFDataGeneric"),o=S.meta.list("EveSOFDataHull"),s=S.meta.list("EveSOFDataMaterial"),u=S.meta.list("EveSOFDataPattern"),l=S.meta.list("EveSOFDataRace"),i((E=g=class e{constructor(){O(this,"faction",d,this),O(this,"generic",h,this),O(this,"hull",m,this),O(this,"material",p,this),O(this,"pattern",b,this),O(this,"race",v,this),this._options={useSpotlightPool:!1,multiplier:{generalGlowColor:[10,10,10,1],generalHeatGlowColor:[100,100,100,1],boosterGlowScale:.125,boosterHaloScale:.5,boosterSymHalo:.125,boosterBrightness:.8,boosterScale:[.9,.9,.9]},effect:{sprite:null,banner:null,shadow:null},effectPath:{plane:"cdn:/graphics/effect/managed/space/spaceobject/fx/planeglow.fx",spotlightCone:"res:/graphics/effect/managed/space/spaceobject/fx/spotlightcone.fx",spotlightGlow:"res:/graphics/effect/managed/space/spaceobject/fx/spotlightglow.fx",spotlightConePool:"cdn:/graphics/effect/managed/space/spaceobject/fx/spotlightconepool.fx",spotlightGlowPool:"cdn:/graphics/effect/managed/space/spaceobject/fx/spotlightglowpool.fx",boosterVolumetric:"cdn:/graphics/effect/managed/space/booster/boostervolumetric.fx",boosterGlow:"cdn:/graphics/effect/managed/space/booster/boosterglowanimated.fx",spriteSet:"cdn:/graphics/effect/managed/space/spaceobject/fx/blinkinglightspool.fx",banner:"cdn:/graphics/effect/managed/space/spaceobject/v5/fx/banner/unpacked_fxbannerv5.fx",shadow:"cdn:/graphics/effect/managed/space/spaceobject/shadow/shadow.fx"},texturePath:{noise:"res:/Texture/global/noise.dds.0.png",noise32:"res:/Texture/Global/noise32cube_volume.dds.0.png",whiteSharp:"res:/Texture/Particle/whitesharp.dds.0.png",hologramNoise:"cdn:/texture/fx/hologram/hologram_noise.png",hologramPulse:"cdn:/texture/fx/hologram/hologram_pulse.png",hologramInterlace:"cdn:/texture/fx/hologram/hologram_interlace_p.png",bannerImage:"",bannerBorder:""},decalUsage:["decalv5.fx","decalcounterv5.fx","decalholev5.fx","decalcylindricv5.fx","decalglowcylindricv5.fx","decalglowv5.fx","decalv5.fx"]}}Initialize(e){e&&Object.assign(this._options,e);var{effect:t,effectPath:r,texturePath:i}=this._options;t.sprite||(t.sprite=w.Tw2Effect.from({name:"Shared sprite set effect",effectFilePath:r.spriteSet,parameters:{MainIntensity:1,GradientMap:i.whiteSharp}})),t.banner||(t.banner=w.Tw2Effect.from({name:"Shared banner effect",effectFilePath:r.banner,autoParameter:!0,parameters:{Layer1Transform:[1.5,1.5,0,0],Layer2Transform:[1,1,0,0],Layer1Scroll:[.1,.1,.1,.1],Layer2Scroll:[.2,.2,0,0],BaseColor:[1.388235330581665,1.4980392456054688,1.7882353067398071,1]},textures:{BorderMap:i.bannerBorder,ImageMap:i.bannerImage,Layer1Map:i.hologramNoise,Layer2Map:i.hologramPulse,MaskMap:i.hologramInterlace}})),t.shadow||(t.shadow=w.Tw2Effect.from({name:"Shared shadow effect",effectFilePath:r.shadow}))}GetHull(e){return Object(S.findElementByPropertyValue)(this.hull,"name",e,_.ErrSOFHullNotFound)}GetHullNames(t){return e.GetNames(this.hull,t)}HasHull(e){return!!Object(S.findElementByPropertyValue)(this.hull,"name",e)}GetHullBuildClass(e){return 2===this.GetHull(e).buildClass?2:1}GetHullPatternNames(e){this.GetHull(e);for(var t=[],r=0;r<this.pattern.length;r++)this.pattern[r].Has(e)&&t.push(this.pattern[r].name);return t.sort()}HasHullPattern(e,t){var r=this.GetHull(e);return!!this.HasPattern(t)&&this.GetPattern(t).Has(r.name)}GetHullPattern(e,t){this.GetHull(e);return this.GetPattern(t).Get(e)}GetFaction(e){return Object(S.findElementByPropertyValue)(this.faction,"name",e,_.ErrSOFFactionNotFound)}GetFactionNames(t){return e.GetNames(this.faction,t)}HasFaction(e){return!!Object(S.findElementByPropertyValue)(this.faction,"name",e)}GetRace(e){return Object(S.findElementByPropertyValue)(this.race,"name",e,_.ErrSOFRaceNotFound)}GetRaceNames(t){return e.GetNames(this.race,t)}HasRace(e){return!!Object(S.findElementByPropertyValue)(this.race,"name",e)}GetMaterial(e){return Object(S.findElementByPropertyValue)(this.material,"name",e,_.ErrSOFMaterialNotFound)}GetMaterialNames(t){return e.GetNames(this.material,t)}HasMaterial(e){return!!Object(S.findElementByPropertyValue)(this.material,"name",e)}GetPattern(e){return Object(S.findElementByPropertyValue)(this.pattern,"name",e,_.ErrSOFPatternNotFound)}GetPatternNames(t){return e.GetNames(this.pattern,t)}HasPattern(e){return!!Object(S.findElementByPropertyValue)(this.pattern,"name",e)}GetShaderPath(e,t){var r=this.generic.GetShaderPrefix(t),i=e.lastIndexOf("/");return e.substring(0,i+1)+r+e.substring(i+1)}ParseDNA(e){if(!Object(S.isDNA)(e))throw new x({dna:e});for(var t=(e=e.toLowerCase()).split(":"),r={},i=3;i<t.length;++i)try{var n=t[i].split("?");r[n[0].toUpperCase()]=n[1].split(";")}catch(t){throw new x({dna:e})}var a=this.GetHull(t[0]),o=this.GetFaction(t[1]),s=this.GetRace(t[2]),u={},l=null,c=r.MESH;if(c)for(var f=0;f<c.length;f++)this.generic.GetMaterialPrefix(f+1),c[f]&&"NONE"!==c[f].toUpperCase()&&(u["material".concat(f+1)]=this.GetMaterial(c[f]).name);var d=r.PATTERN;if(d){l=d[0]&&"NONE"!==d[0].toUpperCase()?this.GetHullPattern(a.name,d[0]):null;for(var h=1;h<d.length;h++)this.generic.GetPatternMaterialPrefix(h),d[h]&&"NONE"!==d[h].toUpperCase()&&(u["patternMaterial".concat(h)]=this.GetMaterial(d[h]).name)}return!l&&o.defaultPattern&&(l=this.GetHullPattern(a.name,o.defaultPattern),!u.patternMaterial1&&o.defaultPatternLayer1MaterialName&&(u.patternMaterial1=this.GetMaterial(o.defaultPatternLayer1MaterialName).name)),{hull:a,faction:o,race:s,area:u,resPathInsert:r.RESPATHINSERT||o.resPathInsert||null,pattern:l,dna:e}}Build(t){var r=this.ParseDNA(t),i=2===r.hull.buildClass?new j.EveStation2:new j.EveShip2;return i.dna=t,e.Build(this,i,r,this._options),i.Initialize&&i.Initialize(),i}Rebuild(e,t){throw new w.ErrFeatureNotImplemented({feature:"Rebuilding existing sof object"})}AssignMaterialParameters(e={},t={}){return e.material1&&this.GetMaterial(e.material1).AssignParameters(t,"Mtl1"),e.material2&&this.GetMaterial(e.material2).AssignParameters(t,"Mtl2"),e.material3&&this.GetMaterial(e.material3).AssignParameters(t,"Mtl3"),e.material4&&this.GetMaterial(e.material4).AssignParameters(t,"Mtl4"),e.patternMaterial1&&this.GetMaterial(e.patternMaterial1).AssignParameters(t,"PMtl1"),e.patternMaterial2&&this.GetMaterial(e.patternMaterial2).AssignParameters(t,"PMtl2"),t}static GetNames(e,t={}){for(var r=Object(S.isArray)(t),i=0;i<e.length;i++)r?t.push(e[i].name):t[e[i].name]=e[i].description||"";return r&&t.sort(),t}static Build(e,t,r,i){return this.SetupBounds(e,t,r,i),this.SetupCustomMasks(e,t,r,i),this.SetupMesh(e,t,r,i),this.SetupSpotlightSets(e,t,r,i),this.SetupPlaneSets(e,t,r,i),this.SetupSpriteSets(e,t,r,i),this.SetupDecals(e,t,r,i),this.SetupBoosters(e,t,r,i),this.SetupLocators(e,t,r,i),this.SetupAudio(e,t,r,i),this.SetupModelCurves(e,t,r,i),this.SetupLights(e,t,r,i),this.SetupObservers(e,t,r,i),this.SetupChildren(e,t,r,i),this.SetupInstancedMesh(e,t,r,i),this.SetupControllers(e,t,r,i),t}static SetupModelCurves(e,t,r,i){y.logger.Debug({name:"Space object factory",message:"Model curves not implemented"})}static SetupLights(e,t,r,i){y.logger.Debug({name:"Space object factory",message:"Lights not implemented"})}static SetupObservers(e,t,r,i){y.logger.Debug({name:"Space object factory",message:"Observers not implemented"})}static SetupCustomMask(e,t,r,i){r?(e.isMirrored=r.isMirrored,e.Compose(r.rotation,r.position,r.scaling).RebuildTransforms()):(e.isMirrored=!1,e.Identity().RebuildTransforms());var n,a=0,o=0;if(t?(n=Object(S.getPathExtension)(t.textureResFilePath),e.display=!0,e.materialIndex=t.materialSource,e.parameters.PatternMaskMap.SetValue(t.textureResFilePath),T.vec4.set(e.targetMaterials,t.isTargetMtl1?1:0,t.isTargetMtl2?1:0,t.isTargetMtl3?1:0,t.isTargetMtl4?1:0),a=t.projectionTypeU,o=t.projectionTypeV):(e.display=!1,e.materialIndex=0,e.parameters.PatternMaskMap.SetValue("res:/texture/global/black.dds.0.png"),T.vec4.set(e.targetMaterials,0,0,0,0)),e.parameters.PatternMaskMap.SetOverrides({addressUMode:A.EveSOFDataPatternLayer.ToAddress(a),addressVMode:A.EveSOFDataPatternLayer.ToAddress(o),forceMipMaps:"dds"===n,useAllOverrides:!0}),i){var s=i.AssignParameters({});e.parameters.DiffuseColor.SetValue(s.DiffuseColor),e.parameters.FresnelColor.SetValue(s.FresnelColor),e.parameters.DustDiffuseColor.SetValue(s.DustDiffuseColor),e.parameters.Gloss.SetValue(s.Gloss)}}static SetupCustomMasks(e,t,r,i){t.customMasks&&(t.customMasks[0]||(t.customMasks[0]=new R.EveCustomMask,t.customMasks[0].name="Pattern1"),t.customMasks[1]||(t.customMasks[1]=new R.EveCustomMask,t.customMasks[1].name="Pattern2"));var n=r.area.patternMaterial1?e.GetMaterial(r.area.patternMaterial1):null,a=r.area.patternMaterial2?e.GetMaterial(r.area.patternMaterial2):null,o=r.pattern||{};this.SetupCustomMask(t.customMasks[0],o.layer1,o.transformLayer1,n),this.SetupCustomMask(t.customMasks[1],o.layer2,o.transformLayer2,a)}static SetupBounds(e,t,r,i){var n=Object(S.get)(r.hull,"boundingSphere",[0,0,0,0]);t.boundingSphereRadius=n[3],T.vec3.copy(t.boundingSphereCenter,n),T.vec3.copy(t.shapeEllipsoidCenter,Object(S.get)(r.hull,"boundingEllipsoidCenter",[0,0,0])),T.vec3.copy(t.shapeEllipsoidRadius,Object(S.get)(r.hull,"boundingEllipsoidRadius",[0,0,0]))}static SetupMesh(t,r,i,n){r.shadowEffect=r.shadowEffect||n.effect.shadow;var{hull:a}=i,o=new w.Tw2Mesh,s=!1,u=Object(S.get)(a,"geometryResFilePath","");u in e.knownGeometryResPath?o.geometryResPath=e.knownGeometryResPath[u]:(o.geometryResPath=u,y.resMan.GetResource(u,t=>{e.knownGeometryResPath[u]=u,s&&o.Initialize()},t=>{o.geometryResPath=o.geometryResPath.replace("cdn:","res:").replace(".cake",".wbg"),e.knownGeometryResPath[u]=o.geometryResPath,s&&(o.Initialize(),r.Initialize())}));var l=s=>{var{generic:u}=this;Object(S.get)(a,s,[]).forEach(a=>{var{name:u="",index:l=0,count:c=1,shader:f="",areaType:d}=a,h=new w.Tw2MeshArea;h.name=u,h.index=l,h.count=c,o[s].push(h);var m=t.generic.GetShaderConfig(f,i.hull.isSkinned);a.Assign(m);var p=h.effect=new w.Tw2Effect;p.name=h.name+"_effect",p.effectFilePath=m.effectFilePath,p.autoParameter=!0,p.effectFilePath.includes("quadheatdetail")&&(p.effectFilePath=p.effectFilePath.replace("quadheatdetail","quaddetail"),y.logger.Debug({name:"Space object factory",message:"Patching missing shader: "+p.effectFilePath}));var b=m.parameters.GeneralHeatGlowColor||T.vec4.fromValues(1,1,1,1);b&&(T.vec4.multiply(b,i.race.booster.glowColor,n.multiplier.generalHeatGlowColor),m.parameters.GeneralHeatGlowColor=b);var v={colorType:-1};i.faction.HasAreaType(d)?i.faction.AssignAreaType(d,v):(i.faction.AssignAreaType(0,v),y.logger.Debug({name:"Space object factory",message:"Could not resolve area type: "+d})),Object.assign(v,i.area),t.AssignMaterialParameters(v,m.parameters);var g=m.parameters.GeneralGlowColor||T.vec4.fromValues(1,1,1,1);if(g){var{colorType:E}=v;i.faction.HasColorType(E)?i.faction.GetColorType(E,g):(i.faction.GetColorType(0,g),y.logger.Debug({name:"Space object factory",message:"Using primary colours, could not resolve glow color type: "+E})),T.vec4.multiply(g,g,n.multiplier.generalGlowColor),m.parameters.GeneralGlowColor=g}for(var _ in m.textures)m.textures.hasOwnProperty(_)&&"dds"===Object(S.getPathExtension)(m.textures[_])&&(m.overrides[_]={useAllOverrides:!0,forceMipMaps:!0,mipFilterMode:1});p.SetParameters(m.parameters),p.SetTextures(m.textures),p.SetOverrides(m.overrides);var j=m.textures.PmdgMap?i.resPathInsert||i.faction.resPathInsert:null;if(j){var A=i.faction.GetResPathInsert(m.textures.PmdgMap,j),{knownResPathInserts:O}=e;A in O?O[A]?p.SetTextures({PmdgMap:A}):y.logger.Error({name:"Space object factory",message:"Invalid resPathInsert: "+A}):y.resMan.FetchResource(A).then(()=>{O[A]=!0,p.SetTextures({PmdgMap:A})}).catch(e=>{O[A]=!1,y.logger.Error({name:"Space object factory",message:"Invalid resPathInsert: "+A})})}for(var z=0;z<r.customMasks.length;z++)R.EveCustomMask.ApplyMaterials(p,r.customMasks[z],z);p.Initialize()})};l("additiveAreas"),l("decalAreas"),l("depthAreas"),l("distortionAreas"),l("opaqueAreas"),l("transparentAreas"),o.Initialize(),s=!0,r.mesh=o}static SetupSpriteSets(e,t,r,i){var{isSkinned:n=!1,spriteSets:a=[]}=r.hull;a.forEach(e=>{var a=new R.EveSpriteSet;a.name=e.name,a.display=!e.visibilityGroup||r.faction.HasVisibilityGroup(e.visibilityGroup),a.useQuads=!0,a.skinned=e.skinned&&n,a.effect=i.effect.sprite,e.items.forEach(e=>{var t=T.vec4.fromValues(1,1,1,1);r.faction.HasColorType(e.colorType)?r.faction.GetColorType(e.colorType,t):(r.faction.GetColorType(0,t),y.logger.Debug({ame:"Space object factory",message:"Using primary color for spriteSet: "+e.colorType})),a.items.push(R.EveSpriteSetItem.from(Object.assign({},e,{color:t})))}),a.Initialize(),(t.attachments||t.spriteSets).push(a)})}static SetupSpotlightSets(e,t,r,i){var{isSkinned:n=!1,spotlightSets:a=[]}=r.hull;a.forEach(a=>{var o,s;if(i.useSpotlightPool)o=i.effectPath.spotlightConePool,s=i.effectPath.spotlightGlowPool;else{var u=n&&a.skinned;o=e.GetShaderPath(i.effectPath.spotlightCone,u),s=e.GetShaderPath(i.effectPath.spotlightGlow,u)}var l=R.EveSpotlightSet.from({name:a.name,items:a.items,coneEffect:{effectFilePath:o,parameters:{zOffset:a.zOffset},textures:{TextureMap:a.coneTextureResPath}},glowEffect:{effectFilePath:s,textures:{TextureMap:a.glowTextureResPath}}});l.items.forEach(e=>{var t=r.faction.FindSpotlightSetByGroupIndex(e.groupIndex);t&&(T.vec4.copy(e.coneColor,t.coneColor),T.vec4.copy(e.flareColor,t.flareColor),T.vec4.copy(e.spriteColor,t.spriteColor)),e.UpdateValues()}),l.Initialize(),(t.attachments||t.spotlightSets).push(l)})}static SetupPlaneSets(e,t,r,i){var{isSkinned:n,planeSets:a}=r.hull;a.forEach(a=>{var o=new R.EvePlaneSet;o.name=a.name,o.effect=w.Tw2Effect.from({effectFilePath:e.GetShaderPath(i.effectPath.plane,n&&a.skinned),autoParameter:!0,parameters:{PlaneData:[0,1,0,0]},textures:{Layer1Map:a.layer1MapResPath.replace(".dds",".png"),Layer2Map:a.layer2MapResPath.replace(".dds",".png"),MaskMap:a.maskMapResPath.replace(".dds",".png")}}),a.items.forEach(e=>{var t=R.EvePlaneSetItem.from(e),i=r.faction.FindPlaneSetByGroupIndex(e.groupIndex);i&&T.vec4.copy(t.color,i.color),0===t.color[0]&&0===t.color[1]&&0===t.color[2]&&0===t.color[3]&&T.vec4.set(t.color,1,1,1,1),o.items.push(t)}),o.Initialize(),(t.attachments||t.planeSets).push(o)})}static SetupDecals(e,t,r,i){var{hull:n,faction:a}=r,o=t.mesh.FindParameters("PmdgMap"),s=t.mesh.FindParameters("NoMap"),u={textures:{PmdgMap:o[0]?o[0].resourcePath:"",NoMap:s[0]?s[0].resourcePath:""}};n.decalSets.forEach(r=>{r.visibilityGroup&&!a.HasVisibilityGroup(r.visibilityGroup)||r.items.forEach(r=>{var{name:n,visibilityGroup:o,logoType:s,usage:l,glowColorType:c}=r;if(a.HasLogoType(s)){if(!o||a.HasVisibilityGroup(o)){var f=i.decalUsage[l],d=e.generic.GetShaderConfig(f,!1,u);a.GetLogoType(s).Assign(d);var{DecalGlowColor:h}=d.parameters;h&&(a.HasColorType(c)?a.GetColorType(c,h):(a.GetColorType(0,h),y.logger.Debug({name:"Space object factory",message:"Using primary color for decal glow: ".concat(n," (").concat(c,")")}))),1===l&&(d.overrides.DecalAtMap={useAllOverrides:!0,forceMipMaps:!0}),r.Assign(d),t.decals.push(R.EveSpaceObjectDecal.from(Object.assign({},r,{effect:d})))}}else y.logger.Log({name:"Space object factory",message:"Could not find logo type for decal: ".concat(n," (").concat(s,")")})})})}static SetupBoosters(e,t,r,i){var{hull:n,race:a}=r;if(n.booster&&a.booster){for(var o=a.booster,s=n.booster.items||[],u=0;u<s.length;++u){var l=T.mat4.scale(T.mat4.create(),s[u].transform,i.multiplier.boosterScale);t.locators.push(R.EveLocator2.from({name:"locator_booster_"+(u+1),transform:l,atlasIndex0:s[u].atlasIndex0,atlasIndex1:s[u].atlasIndex1}))}var{shape0:c,shape1:f,warpShape0:d,warpShape1:h}=o,{boosterGlowScale:m=1,boosterHaloScale:p=1,boosterSymHalo:b=1,boosterBrightness:v=1}=i.multiplier;t.boosters=R.EveBoosterSet.from({name:o.name,glowColor:o.glowColor,glowScale:o.glowScale*m,haloColor:o.haloColor,haloScaleX:o.haloScaleX*p,haloScaleY:o.haloScaleY*p,symHaloScale:o.symHaloScale*b,trailColor:o.trailColor,trailSize:o.trailSize,warpGlowColor:o.warpGlowColor,warpHaloColor:o.warpHalpColor,effect:{effectFilePath:i.effectPath.boosterVolumetric,autoParameter:!0,parameters:{NoiseFunction0:c.noiseFunction,NoiseSpeed0:c.noiseSpeed,NoiseAmplitudeStart0:c.noiseAmplitureStart,NoiseAmplitudeEnd0:c.noiseAmplitureEnd,NoiseFrequency0:c.noiseFrequency,Color0:T.vec3.multiplyScalar([],c.color,v),NoiseFunction1:f.noiseFunction,NoiseSpeed1:f.noiseSpeed,NoiseAmplitudeStart1:f.noiseAmplitureStart,NoiseAmplitudeEnd1:f.noiseAmplitureEnd,NoiseFrequency1:f.noiseFrequency,Color1:T.vec3.multiplyScalar([],f.color,v),WarpNoiseFunction0:d.noiseFunction,WarpNoiseSpeed0:d.noiseSpeed,WarpNoiseAmplitudeStart0:d.noiseAmplitureStart,WarpNoiseAmplitudeEnd0:d.noiseAmplitureEnd,WarpNoiseFrequency0:d.noiseFrequency,WarpColor0:d.color,WarpNoiseFunction1:h.noiseFunction,WarpNoiseSpeed1:h.noiseSpeed,WarpNoiseAmplitudeStart1:h.noiseAmplitureStart,WarpNoiseAmplitudeEnd1:h.noiseAmplitureEnd,WarpNoiseFrequency1:h.noiseFrequency,WarpColor1:h.color,ShapeAtlasSize:[o.shapeAtlasHeight,o.shapeAtlasCount,0,0],BoosterScale:o.scale},textures:{ShapeMap:o.shapeAtlasResPath,GradientMap0:o.gradient0ResPath,GradientMap1:o.gradient1ResPath,NoiseMap:i.texturePath.noise32}},glows:{useQuads:!0,effect:{effectFilePath:i.texturePath.boosterGlow,textures:{DiffuseMap:i.texturePath.whiteSharp,NoiseMap:i.texturePath.noise}}}})}}static SetupLocators(e,t,r,i){var{locatorTurrets:n=[]}=r.hull;n.forEach(e=>{t.locators.push(R.EveLocator2.from(e))}),y.logger.Debug({name:"Space object factory",message:"Locator sets not implemented"})}static SetupAudio(e,t,r,i){y.logger.Debug({name:"Space object factory",message:"Audio not implemented"})}static SetupAnimations(e,t,r,i){y.logger.Debug({name:"Space object factory",message:"Animations not implemented"})}static SetupChildren(e,t,r,i){y.logger.Debug({name:"Space object factory",message:"Child objects not implemented"})}static BindParticleEmitters(e,t,r,i){y.logger.Debug({name:"Space object factory",message:"Binding child particle emitters not implemented"})}static SetupInstancedMesh(e,t,r,i){y.logger.Debug({name:"Space object factory",message:"Instance meshes not implemented"})}static SetupControllers(e,t,r,i){y.logger.Debug({name:"Space object factory",message:"Animation controllers not implemented"})}static SetupTurretMaterial(e,t,r,i){y.logger.Debug({name:"Space  object factory",message:"Turret materials not implemented"})}},g.knownGeometryResPath={},g.knownResPathInserts={},d=z((f=E).prototype,"faction",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),h=z(f.prototype,"generic",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),m=z(f.prototype,"hull",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),p=z(f.prototype,"material",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),b=z(f.prototype,"pattern",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),v=z(f.prototype,"race",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),c=f))||c);class x extends w.Tw2Error{constructor(e){super(e,"DNA format invalid (%dnaString%)")}}},"./sof/faction/EveSOFDataFaction.js":function(e,t,r){"use strict";r.r(t),r.d(t,"EveSOFDataFaction",(function(){return k}));var i,n,a,o,s,u,l,c,f,d,h,m,p,b,v,g,E,y,T,S,w,_,R,j,A,O,z,P,x,C,D,M,L,I,F,G,N=r("./utils/index.js"),B=r("./sof/shared/index.js");function U(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function V(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var k=(i=N.meta.ctor("EveSOFDataFaction"),n=N.meta.string,a=N.meta.struct("EveSOFDataArea"),o=N.meta.list("EveSOFDataFactionChild"),s=N.meta.struct("EveSOFDataFactionColorSet"),u=N.meta.struct("EveSOFDataPatternLayer"),l=N.meta.string,c=N.meta.string,f=N.meta.struct("EveSOFDataLogoSet"),d=N.meta.uint,h=N.meta.uint,m=N.meta.uint,p=N.meta.uint,b=N.meta.list("EveSOFDataFactionPlaneSet"),v=N.meta.string,g=N.meta.list("EveSOFDataFactionSpotlightSet"),E=N.meta.struct("EveSOFDataFactionVisibilityGroupSet"),y=N.meta.todo("Check if the 'this.resPathInsert' value is always valid"),i((w=V((S=class{constructor(){U(this,"name",w,this),U(this,"areaTypes",_,this),U(this,"children",R,this),U(this,"colorSet",j,this),U(this,"defaultPattern",A,this),U(this,"defaultPatternLayer1MaterialName",O,this),U(this,"description",z,this),U(this,"logoSet",P,this),U(this,"materialUsageMtl1",x,this),U(this,"materialUsageMtl2",C,this),U(this,"materialUsageMtl3",D,this),U(this,"materialUsageMtl4",M,this),U(this,"planeSets",L,this),U(this,"resPathInsert",I,this),U(this,"spotlightSets",F,this),U(this,"visibilityGroupSet",G,this)}HasColorType(e){return this.colorSet.Has(e)}GetColorType(e,t){return this.colorSet.Get(e,t)}HasAreaType(e){return!!this.areaTypes&&this.areaTypes.Has(e)}GetAreaType(e){if(!this.areaTypes)throw new B.ErrSOFAreaTypeNotFound({type:e});return this.areaTypes.Get(e)}AssignAreaType(e,t){return this.GetAreaType(e).Assign(t)}HasLogoType(e){return!!this.logoSet&&this.logoSet.Has(e)}GetLogoType(e){if(!this.logoSet)throw new B.ErrSOFLogoSetTypeNotFound({type:e});return this.logoSet.Get(e)}HasVisibilityGroup(e){return!!this.visibilityGroupSet&&this.visibilityGroupSet.Has(e)}GetResPathInsert(e,t){if(!t||"NONE"===t.toUpperCase()){if(!this.resPathInsert)return e;t=this.resPathInsert}var r=e.lastIndexOf("/");return r>=0&&(e=e.substr(0,r+1)+t+"/"+e.substr(r+1)),(r=e.lastIndexOf("_"))>=0&&(e=e.substr(0,r)+"_"+t+e.substr(r)),e}FindPlaneSetByGroupIndex(e){for(var t=0;t<this.planeSets.length;t++)if(this.planeSets[t].groupIndex===e)return this.planeSets[t]}FindSpotlightSetByGroupIndex(e){for(var t=0;t<this.spotlightSets.length;t++)if(this.spotlightSets[t].groupIndex===e)return this.spotlightSets[t]}}).prototype,"name",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),_=V(S.prototype,"areaTypes",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),R=V(S.prototype,"children",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),j=V(S.prototype,"colorSet",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),A=V(S.prototype,"defaultPattern",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),O=V(S.prototype,"defaultPatternLayer1MaterialName",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),z=V(S.prototype,"description",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),P=V(S.prototype,"logoSet",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),x=V(S.prototype,"materialUsageMtl1",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),C=V(S.prototype,"materialUsageMtl2",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),D=V(S.prototype,"materialUsageMtl3",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),M=V(S.prototype,"materialUsageMtl4",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),L=V(S.prototype,"planeSets",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),I=V(S.prototype,"resPathInsert",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),F=V(S.prototype,"spotlightSets",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),G=V(S.prototype,"visibilityGroupSet",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),V(S.prototype,"GetResPathInsert",[y],Object.getOwnPropertyDescriptor(S.prototype,"GetResPathInsert"),S.prototype),T=S))||T)},"./sof/faction/EveSOFDataFactionChild.js":function(e,t,r){"use strict";r.r(t),r.d(t,"EveSOFDataFactionChild",(function(){return p}));var i,n,a,o,s,u,l,c,f,d=r("./utils/index.js");function h(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function m(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var p=(i=d.meta.ctor("EveSOFDataFactionChild"),n=d.meta.string,a=d.meta.uint,o=d.meta.boolean,i((l=m((u=class{constructor(){h(this,"name",l,this),h(this,"groupIndex",c,this),h(this,"isVisible",f,this)}}).prototype,"name",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),c=m(u.prototype,"groupIndex",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return-1}}),f=m(u.prototype,"isVisible",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),s=u))||s)},"./sof/faction/EveSOFDataFactionColorSet.js":function(e,t,r){"use strict";r.r(t),r.d(t,"EveSOFDataFactionColorSet",(function(){return ie})),r.d(t,"ErrSOFFactionColorSetTypeUnknown",(function(){return ne})),r.d(t,"ErrSOFFactionColorSetTypeNotFound",(function(){return ae}));var i,n,a,o,s,u,l,c,f,d,h,m,p,b,v,g,E,y,T,S,w,_,R,j,A,O,z,P,x,C,D,M,L,I,F,G,N,B,U,V,k,H,q,W,Y,X,K,Q,Z,$=r("./utils/index.js"),J=r("./math/index.js"),ee=r("./core/index.js");function te(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function re(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var ie=(i=$.meta.ctor("EveSOFDataFactionColorSet"),n=$.meta.color,a=$.meta.color,o=$.meta.color,s=$.meta.color,u=$.meta.color,l=$.meta.color,c=$.meta.color,f=$.meta.color,d=$.meta.color,h=$.meta.color,m=$.meta.color,p=$.meta.color,b=$.meta.color,v=$.meta.color,g=$.meta.color,E=$.meta.color,y=$.meta.color,T=$.meta.color,S=$.meta.color,w=$.meta.color,_=$.meta.color,R=$.meta.color,i((Z=Q=class e{constructor(){te(this,"Black",O,this),te(this,"Blue",z,this),te(this,"Booster",P,this),te(this,"Cyan",x,this),te(this,"Darkhull",C,this),te(this,"Fire",D,this),te(this,"Glass",M,this),te(this,"Green",L,this),te(this,"Hull",I,this),te(this,"Killmark",F,this),te(this,"Orange",G,this),te(this,"Primary",N,this),te(this,"PrimaryLight",B,this),te(this,"Reactor",U,this),te(this,"Red",V,this),te(this,"Secondary",k,this),te(this,"SecondaryLight",H,this),te(this,"Tertiary",q,this),te(this,"TertiaryLight",W,this),te(this,"White",Y,this),te(this,"WhiteLight",X,this),te(this,"Yellow",K,this)}Has(t){var r=e.Type[t];if(void 0===r)throw new ne({type:t});return!!this[r]}Get(t,r=J.vec4.create()){if(!this.Has(t))throw new ae({type:t});return J.vec4.copy(r,this[e.Type[t]])}},Q.Type=["Primary","Secondary","Tertiary","Black","White","Yellow","Orange","Red","Blue","Green","Cyan","Fire","Hull","Glass","Reactor","Darkhull","Booster","Killmark","PrimaryLight","SecondaryLight","TertiaryLight","WhiteLight"],O=re((A=Z).prototype,"Black",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return J.vec4.create()}}),z=re(A.prototype,"Blue",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return J.vec4.create()}}),P=re(A.prototype,"Booster",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return J.vec4.create()}}),x=re(A.prototype,"Cyan",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return J.vec4.create()}}),C=re(A.prototype,"Darkhull",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return J.vec4.create()}}),D=re(A.prototype,"Fire",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return J.vec4.create()}}),M=re(A.prototype,"Glass",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return J.vec4.create()}}),L=re(A.prototype,"Green",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return J.vec4.create()}}),I=re(A.prototype,"Hull",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return J.vec4.create()}}),F=re(A.prototype,"Killmark",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return J.vec4.create()}}),G=re(A.prototype,"Orange",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return J.vec4.create()}}),N=re(A.prototype,"Primary",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return J.vec4.create()}}),B=re(A.prototype,"PrimaryLight",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return J.vec4.create()}}),U=re(A.prototype,"Reactor",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return J.vec4.create()}}),V=re(A.prototype,"Red",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return J.vec4.create()}}),k=re(A.prototype,"Secondary",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return J.vec4.create()}}),H=re(A.prototype,"SecondaryLight",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return J.vec4.create()}}),q=re(A.prototype,"Tertiary",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return J.vec4.create()}}),W=re(A.prototype,"TertiaryLight",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return J.vec4.create()}}),Y=re(A.prototype,"White",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return J.vec4.create()}}),X=re(A.prototype,"WhiteLight",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return J.vec4.create()}}),K=re(A.prototype,"Yellow",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return J.vec4.create()}}),j=A))||j);class ne extends ee.Tw2Error{constructor(e){super(e,"SOF faction color set type unknown (%type%)"),this.unknownType=!0}}class ae extends ee.Tw2Error{constructor(e){super(e,"SOF faction color set type not found (%type%)")}}},"./sof/faction/EveSOFDataFactionPlaneSet.js":function(e,t,r){"use strict";r.r(t),r.d(t,"EveSOFDataFactionPlaneSet",(function(){return b}));var i,n,a,o,s,u,l,c,f,d=r("./utils/index.js"),h=r("./math/index.js");function m(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function p(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var b=(i=d.meta.ctor("EveSOFDataFactionPlaneSet"),n=d.meta.string,a=d.meta.color,o=d.meta.uint,i((l=p((u=class{constructor(){m(this,"name",l,this),m(this,"color",c,this),m(this,"groupIndex",f,this)}}).prototype,"name",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),c=p(u.prototype,"color",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return h.vec4.create()}}),f=p(u.prototype,"groupIndex",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return-1}}),s=u))||s)},"./sof/faction/EveSOFDataFactionSpotlightSet.js":function(e,t,r){"use strict";r.r(t),r.d(t,"EveSOFDataFactionSpotlightSet",(function(){return y}));var i,n,a,o,s,u,l,c,f,d,h,m,p,b=r("./utils/index.js"),v=r("./math/index.js");function g(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function E(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var y=(i=b.meta.ctor("EveSOFDataFactionSpotlightSet"),n=b.meta.string,a=b.meta.color,o=b.meta.color,s=b.meta.uint,u=b.meta.color,i((f=E((c=class{constructor(){g(this,"name",f,this),g(this,"coneColor",d,this),g(this,"flareColor",h,this),g(this,"groupIndex",m,this),g(this,"spriteColor",p,this)}}).prototype,"name",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),d=E(c.prototype,"coneColor",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return v.vec4.create()}}),h=E(c.prototype,"flareColor",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return v.vec4.create()}}),m=E(c.prototype,"groupIndex",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return-1}}),p=E(c.prototype,"spriteColor",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return v.vec4.create()}}),l=c))||l)},"./sof/faction/EveSOFDataFactionVisibilityGroupSet.js":function(e,t,r){"use strict";r.r(t),r.d(t,"EveSOFDataFactionVisibilityGroupSet",(function(){return b}));var i,n,a,o,s,u,l=r("./utils/index.js");var c,f,d,h,m,p,b=(i=l.meta.ctor("EveSOFDataFactionVisibilityGroupSet"),n=l.meta.list("EveSOFDataGenericString"),i((u=class{constructor(){var e,t,r,i;e=this,t="visibilityGroups",i=this,(r=s)&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}Has(e){e=e.toUpperCase();for(var t=0;t<this.visibilityGroups.length;t++)if(this.visibilityGroups[t].str.toUpperCase()===e)return!0;return!1}},c=(o=u).prototype,f="visibilityGroups",d=[n],h={configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}},p={},Object.keys(h).forEach((function(e){p[e]=h[e]})),p.enumerable=!!p.enumerable,p.configurable=!!p.configurable,("value"in p||p.initializer)&&(p.writable=!0),p=d.slice().reverse().reduce((function(e,t){return t(c,f,e)||e}),p),m&&void 0!==p.initializer&&(p.value=p.initializer?p.initializer.call(m):void 0,p.initializer=void 0),void 0===p.initializer&&(Object.defineProperty(c,f,p),p=null),s=p,a=o))||a)},"./sof/faction/index.js":function(e,t,r){"use strict";r.r(t);var i=r("./sof/faction/EveSOFDataFaction.js");r.d(t,"EveSOFDataFaction",(function(){return i.EveSOFDataFaction}));var n=r("./sof/faction/EveSOFDataFactionChild.js");r.d(t,"EveSOFDataFactionChild",(function(){return n.EveSOFDataFactionChild}));var a=r("./sof/faction/EveSOFDataFactionColorSet.js");r.d(t,"EveSOFDataFactionColorSet",(function(){return a.EveSOFDataFactionColorSet})),r.d(t,"ErrSOFFactionColorSetTypeUnknown",(function(){return a.ErrSOFFactionColorSetTypeUnknown})),r.d(t,"ErrSOFFactionColorSetTypeNotFound",(function(){return a.ErrSOFFactionColorSetTypeNotFound}));var o=r("./sof/faction/EveSOFDataFactionPlaneSet.js");r.d(t,"EveSOFDataFactionPlaneSet",(function(){return o.EveSOFDataFactionPlaneSet}));var s=r("./sof/faction/EveSOFDataFactionSpotlightSet.js");r.d(t,"EveSOFDataFactionSpotlightSet",(function(){return s.EveSOFDataFactionSpotlightSet}));var u=r("./sof/faction/EveSOFDataFactionVisibilityGroupSet.js");r.d(t,"EveSOFDataFactionVisibilityGroupSet",(function(){return u.EveSOFDataFactionVisibilityGroupSet}))},"./sof/generic/EveSOFDataGeneric.js":function(e,t,r){"use strict";r.r(t),r.d(t,"EveSOFDataGeneric",(function(){return H})),r.d(t,"ErrSOFAreaShaderNotFound",(function(){return q})),r.d(t,"ErrSOFDecalShaderNotFound",(function(){return W})),r.d(t,"ErrSOFMaterialPrefixNotFound",(function(){return Y})),r.d(t,"ErrSOFPatternMaterialPrefixNotFound",(function(){return X}));var i,n,a,o,s,u,l,c,f,d,h,m,p,b,v,g,E,y,T,S,w,_,R,j,A,O,z,P,x,C,D,M,L,I,F,G,N,B=r("./core/index.js"),U=r("./utils/index.js");function V(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function k(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var H=(i=U.meta.ctor("EveSOFDataGeneric"),n=U.meta.path,a=U.meta.list("EveSOFDataGenericShader"),o=U.meta.raw("EveSOFDataGenericShader"),s=U.meta.struct("EveSOFDataGenericDamage"),u=U.meta.path,l=U.meta.list("EveSOFDataGenericDecalShader"),c=U.meta.struct("EveSOFDataAreaMaterial"),f=U.meta.struct("EveSOFDataGenericHullDamage"),d=U.meta.list("EveSOFDataGenericString"),h=U.meta.list("EveSOFDataGenericString"),m=U.meta.path,p=U.meta.path,b=U.meta.path,v=U.meta.string,g=U.meta.struct("EveSOFDataGenericSwarm"),E=U.meta.list("EveSOFDataGenericVariant"),y=U.meta.list("EveSOFDataGenericString"),i((w=k((S=class{constructor(){V(this,"areaShaderLocation",w,this),V(this,"areaShaders",_,this),V(this,"bannerShader",R,this),V(this,"damage",j,this),V(this,"decalShaderLocation",A,this),V(this,"decalShaders",O,this),V(this,"genericWreckMaterial",z,this),V(this,"hullDamage",P,this),V(this,"materialPrefixes",x,this),V(this,"patternMaterialPrefixes",C,this),V(this,"resPathDefaultAlliance",D,this),V(this,"resPathDefaultCeo",M,this),V(this,"resPathDefaultCorp",L,this),V(this,"shaderPrefixAnimated",I,this),V(this,"swarm",F,this),V(this,"variants",G,this),V(this,"visibilityGroups",N,this)}Initialize(){this.bannerShader&&(this.bannerShader.shader="cdn:/graphics/effect/managed/space/spaceobject/v5/fx/banner/unpacked_fxbannerv5.fx")}GetShaderConfig(e,t,r){var i=this.HasDecalShader(e),n=i?this.GetDecalShader(e):this.GetAreaShader(e),{hasPatternMaskMaps:a=!1}=n,o=i?this.GetDecalShaderPath(e,t):this.GetAreaShaderPath(e,t);return n.Assign({effectFilePath:o,hasPatternMaskMaps:a,overrides:{}},r)}GetShaderPrefix(e){return e?this.shaderPrefixAnimated:""}GetShaderPath(e,t){var r=this.GetShaderPrefix(t);"/"!==e.charAt(0)&&(e="/"+e);var i=e.lastIndexOf("/");return e.substring(0,i+1)+r+e.substring(i+1)}GetAreaShaderPath(e,t){return this.areaShaderLocation+this.GetShaderPath(e,t)}GetDecalShaderPath(e,t){return this.decalShaderLocation+this.GetShaderPath(e,t)}HasAreaShader(e){return!!Object(U.findElementByPropertyValue)(this.areaShaders,"shader",e)}GetAreaShader(e){return Object(U.findElementByPropertyValue)(this.areaShaders,"shader",e,q)}HasDecalShader(e){return!!Object(U.findElementByPropertyValue)(this.decalShaders,"shader",e)}GetDecalShader(e){return Object(U.findElementByPropertyValue)(this.decalShaders,"shader",e,W)}GetMaterialPrefixes(){for(var e=[],t=0;t<this.materialPrefixes.length;t++)e.push(this.materialPrefixes[t].str);return e}GetPatternMaterialPrefixes(){for(var e=[],t=0;t<this.patternMaterialPrefixes.length;t++)e.push(this.patternMaterialPrefixes[t].str);return e}GetMaterialPrefix(e){var t=e-1;if(void 0===this.materialPrefixes[t])throw new Y({index:e});return this.materialPrefixes[t].str}GetPatternMaterialPrefix(e){var t=e-1;if(void 0===this.patternMaterialPrefixes[t])throw new X({index:e});return this.patternMaterialPrefixes[t].str}}).prototype,"areaShaderLocation",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),_=k(S.prototype,"areaShaders",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),R=k(S.prototype,"bannerShader",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),j=k(S.prototype,"damage",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),A=k(S.prototype,"decalShaderLocation",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),O=k(S.prototype,"decalShaders",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),z=k(S.prototype,"genericWreckMaterial",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),P=k(S.prototype,"hullDamage",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),x=k(S.prototype,"materialPrefixes",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),C=k(S.prototype,"patternMaterialPrefixes",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),D=k(S.prototype,"resPathDefaultAlliance",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),M=k(S.prototype,"resPathDefaultCeo",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),L=k(S.prototype,"resPathDefaultCorp",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),I=k(S.prototype,"shaderPrefixAnimated",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),F=k(S.prototype,"swarm",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),G=k(S.prototype,"variants",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),N=k(S.prototype,"visibilityGroups",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),T=S))||T);class q extends B.Tw2Error{constructor(e){super(e,"SOF Area shader not found (%name%)")}}class W extends B.Tw2Error{constructor(e){super(e,"SOF Decal area shader not found (%name%)")}}class Y extends B.Tw2Error{constructor(e){super(e,"SOF Material prefix index not found (%index%)")}}class X extends B.Tw2Error{constructor(e){super(e,"SOF Pattern material prefix index not found (%index%)")}}},"./sof/generic/EveSOFDataGenericDamage.js":function(e,t,r){"use strict";r.r(t),r.d(t,"EveSOFDataGenericDamage",(function(){return ee}));var i,n,a,o,s,u,l,c,f,d,h,m,p,b,v,g,E,y,T,S,w,_,R,j,A,O,z,P,x,C,D,M,L,I,F,G,N,B,U,V,k,H,q,W,Y,X,K,Q=r("./utils/index.js"),Z=r("./math/index.js");function $(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function J(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var ee=(i=Q.meta.ctor("EveSOFDataGenericDamage"),n=Q.meta.float,a=Q.meta.color,o=Q.meta.color,s=Q.meta.color,u=Q.meta.color,l=Q.meta.float,c=Q.meta.vector2,f=Q.meta.vector2,d=Q.meta.float,h=Q.meta.vector4,m=Q.meta.uint,p=Q.meta.float,b=Q.meta.float,v=Q.meta.float,g=Q.meta.string,E=Q.meta.float,y=Q.meta.float,T=Q.meta.uint,S=Q.meta.float,w=Q.meta.path,_=Q.meta.string,R=Q.meta.string,i((O=J((A=class{constructor(){$(this,"armorParticleAngle",O,this),$(this,"armorParticleColor0",z,this),$(this,"armorParticleColor1",P,this),$(this,"armorParticleColor2",x,this),$(this,"armorParticleColor3",C,this),$(this,"armorParticleDrag",D,this),$(this,"armorParticleMinMaxLifeTime",M,this),$(this,"armorParticleMinMaxSpeed",L,this),$(this,"armorParticleRate",I,this),$(this,"armorParticleSizes",F,this),$(this,"armorParticleTextureIndex",G,this),$(this,"armorParticleTurbulenceAmplitude",N,this),$(this,"armorParticleTurbulenceFrequency",B,this),$(this,"armorParticleVelocityStretchRotation",U,this),$(this,"armorShader",V,this),$(this,"flickerPerlinAlpha",k,this),$(this,"flickerPerlinBeta",H,this),$(this,"flickerPerlinN",q,this),$(this,"flickerPerlinSpeed",W,this),$(this,"shieldGeometryResFilePath",Y,this),$(this,"shieldShaderEllipsoid",X,this),$(this,"shieldShaderHull",K,this)}}).prototype,"armorParticleAngle",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),z=J(A.prototype,"armorParticleColor0",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Z.vec4.create()}}),P=J(A.prototype,"armorParticleColor1",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Z.vec4.create()}}),x=J(A.prototype,"armorParticleColor2",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Z.vec4.create()}}),C=J(A.prototype,"armorParticleColor3",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Z.vec4.create()}}),D=J(A.prototype,"armorParticleDrag",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),M=J(A.prototype,"armorParticleMinMaxLifeTime",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Z.vec2.create()}}),L=J(A.prototype,"armorParticleMinMaxSpeed",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Z.vec2.create()}}),I=J(A.prototype,"armorParticleRate",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),F=J(A.prototype,"armorParticleSizes",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Z.vec4.create()}}),G=J(A.prototype,"armorParticleTextureIndex",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),N=J(A.prototype,"armorParticleTurbulenceAmplitude",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),B=J(A.prototype,"armorParticleTurbulenceFrequency",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),U=J(A.prototype,"armorParticleVelocityStretchRotation",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),V=J(A.prototype,"armorShader",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),k=J(A.prototype,"flickerPerlinAlpha",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),H=J(A.prototype,"flickerPerlinBeta",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),q=J(A.prototype,"flickerPerlinN",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),W=J(A.prototype,"flickerPerlinSpeed",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Y=J(A.prototype,"shieldGeometryResFilePath",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),X=J(A.prototype,"shieldShaderEllipsoid",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),K=J(A.prototype,"shieldShaderHull",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),j=A))||j)},"./sof/generic/EveSOFDataGenericDecalShader.js":function(e,t,r){"use strict";r.r(t),r.d(t,"EveSOFDataGenericDecalShader",(function(){return v}));var i,n,a,o,s,u,l,c,f,d,h,m=r("./utils/index.js");function p(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function b(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var v=(i=m.meta.ctor("EveSOFDataGenericDecalShader"),n=m.meta.list("EveSOFDataTexture"),a=m.meta.list("EveSOFDataGenericString"),o=m.meta.list("EveSOFDataGenericString"),s=m.meta.string,i((c=b((l=class{constructor(){p(this,"defaultTextures",c,this),p(this,"parameters",f,this),p(this,"parentTextures",d,this),p(this,"shader",h,this)}Assign(e={},t={}){return e.textures=this.AssignTextures(e.textures,t.textures),e.parameters=this.AssignParameters(e.parameters,t.parameters),e}AssignParameters(e={},t){for(var r=0;r<this.parameters.length;r++){var{str:i}=this.parameters[r];t&&t[i]?e[i]=Array.from(t[i]):e[i]=[0,0,0,1]}return e}AssignTextures(e={},t){for(var r=0;r<this.defaultTextures.length;r++)this.defaultTextures[r].Assign(e);for(var i=0;i<this.parentTextures.length;i++){var{str:n}=this.parentTextures[i];t&&t[n]?e[n]=t[n]:e[n]||(e[n]="")}return e}}).prototype,"defaultTextures",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),f=b(l.prototype,"parameters",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),d=b(l.prototype,"parentTextures",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),h=b(l.prototype,"shader",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),u=l))||u)},"./sof/generic/EveSOFDataGenericHullDamage.js":function(e,t,r){"use strict";r.r(t),r.d(t,"EveSOFDataGenericHullDamage",(function(){return I}));var i,n,a,o,s,u,l,c,f,d,h,m,p,b,v,g,E,y,T,S,w,_,R,j,A,O,z,P,x,C=r("./utils/index.js"),D=r("./math/index.js");function M(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function L(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var I=(i=C.meta.ctor("EveSOFDataGenericHullDamage"),n=C.meta.float,a=C.meta.color,o=C.meta.color,s=C.meta.color,u=C.meta.float,l=C.meta.float,c=C.meta.vector2,f=C.meta.vector2,d=C.meta.float,h=C.meta.vector4,m=C.meta.uint,p=C.meta.float,b=C.meta.float,i((E=L((g=class{constructor(){M(this,"hullParticleAngle",E,this),M(this,"hullParticleColor0",y,this),M(this,"hullParticleColor1",T,this),M(this,"hullParticleColor2",S,this),M(this,"hullParticleColorMidpoint",w,this),M(this,"hullParticleDrag",_,this),M(this,"hullParticleMinMaxLifeTime",R,this),M(this,"hullParticleMinMaxSpeed",j,this),M(this,"hullParticleRate",A,this),M(this,"hullParticleSizes",O,this),M(this,"hullParticleTextureIndex",z,this),M(this,"hullParticleTurbulenceAmplitude",P,this),M(this,"hullParticleTurbulenceFrequency",x,this)}}).prototype,"hullParticleAngle",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),y=L(g.prototype,"hullParticleColor0",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return D.vec4.create()}}),T=L(g.prototype,"hullParticleColor1",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return D.vec4.create()}}),S=L(g.prototype,"hullParticleColor2",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return D.vec4.create()}}),w=L(g.prototype,"hullParticleColorMidpoint",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),_=L(g.prototype,"hullParticleDrag",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),R=L(g.prototype,"hullParticleMinMaxLifeTime",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return D.vec2.create()}}),j=L(g.prototype,"hullParticleMinMaxSpeed",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return D.vec2.create()}}),A=L(g.prototype,"hullParticleRate",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),O=L(g.prototype,"hullParticleSizes",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return D.vec4.create()}}),z=L(g.prototype,"hullParticleTextureIndex",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),P=L(g.prototype,"hullParticleTurbulenceAmplitude",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),x=L(g.prototype,"hullParticleTurbulenceFrequency",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),v=g))||v)},"./sof/generic/EveSOFDataGenericShader.js":function(e,t,r){"use strict";r.r(t),r.d(t,"EveSOFDataGenericShader",(function(){return R}));var i,n,a,o,s,u,l,c,f,d,h,m,p,b,v,g,E,y,T,S=r("./utils/index.js");function w(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function _(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var R=(i=S.meta.ctor("EveSOFDataGenericShader"),n=S.meta.list("EveSOFDataParameter"),a=S.meta.list("EveSOFDataTexture"),o=S.meta.notImplemented,s=S.meta.boolean,u=S.meta.list("EveSOFDataGenericString"),l=S.meta.path,c=S.meta.notImplemented,f=S.meta.string,i((T=y=class e{constructor(){w(this,"defaultParameters",m,this),w(this,"defaultTextures",p,this),w(this,"doGenerateDepthArea",b,this),w(this,"parameters",v,this),w(this,"shader",g,this),w(this,"transparencyTextureName",E,this)}get hasPatternMaskMaps(){for(var t=0;t<this.defaultTextures.length;t++)if(e.PatternMaskMaps.includes(this.defaultTextures[t].name))return!0;return!1}Assign(e={},t={}){return e.textures=this.AssignTextures(e.textures,t.textures),e.parameters=this.AssignParameters(e.parameters,t.parameters),e}AssignParameters(e={},t){for(var r=0;r<this.defaultParameters.length;r++)this.defaultParameters[r].Assign(e);for(var i=0;i<this.parameters.length;i++){var{str:n}=this.parameters[i];t&&t[n]?e[n]=Array.from(t[n]):e[n]&&(e[n]=[0,0,0,1])}return e}AssignTextures(e={},t){for(var r=0;r<this.defaultTextures.length;r++)this.defaultTextures[r].Assign(e);return Object.assign(e,t)}},y.PatternMaskMaps=["PatternMask1Map","PatternMask2Map"],m=_((h=T).prototype,"defaultParameters",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),p=_(h.prototype,"defaultTextures",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),b=_(h.prototype,"doGenerateDepthArea",[o,s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),v=_(h.prototype,"parameters",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),g=_(h.prototype,"shader",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),E=_(h.prototype,"transparencyTextureName",[c,f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),d=h))||d)},"./sof/generic/EveSOFDataGenericString.js":function(e,t,r){"use strict";r.r(t),r.d(t,"EveSOFDataGenericString",(function(){return b}));var i,n,a,o,s,u,l=r("./utils/index.js");var c,f,d,h,m,p,b=(i=l.meta.ctor("EveSOFDataGenericString"),n=l.meta.string,i((u=class{constructor(){var e,t,r,i;e=this,t="str",i=this,(r=s)&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}},c=(o=u).prototype,f="str",d=[n],h={configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}},p={},Object.keys(h).forEach((function(e){p[e]=h[e]})),p.enumerable=!!p.enumerable,p.configurable=!!p.configurable,("value"in p||p.initializer)&&(p.writable=!0),p=d.slice().reverse().reduce((function(e,t){return t(c,f,e)||e}),p),m&&void 0!==p.initializer&&(p.value=p.initializer?p.initializer.call(m):void 0,p.initializer=void 0),void 0===p.initializer&&(Object.defineProperty(c,f,p),p=null),s=p,a=o))||a)},"./sof/generic/EveSOFDataGenericSwarm.js":function(e,t,r){"use strict";r.r(t),r.d(t,"EveSOFDataGenericSwarm",(function(){return L}));var i,n,a,o,s,u,l,c,f,d,h,m,p,b,v,g,E,y,T,S,w,_,R,j,A,O,z,P,x,C=r("./utils/index.js");function D(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function M(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var L=(i=C.meta.ctor("EveSOFDataGenericShader"),n=C.meta.float,a=C.meta.float,o=C.meta.float,s=C.meta.float,u=C.meta.float,l=C.meta.float,c=C.meta.float,f=C.meta.float,d=C.meta.float,h=C.meta.float,m=C.meta.float,p=C.meta.float,b=C.meta.float,i((E=M((g=class{constructor(){D(this,"formationDistance",E,this),D(this,"maxDeceleration",y,this),D(this,"maxDistance0",T,this),D(this,"separationDistance",S,this),D(this,"wanderDistance",w,this),D(this,"wanderFluctuation",_,this),D(this,"wanderRadius",R,this),D(this,"weightAlign",j,this),D(this,"weightAnchor",A,this),D(this,"weightCohesion",O,this),D(this,"weightDeceleration",z,this),D(this,"weightFormation",P,this),D(this,"weightSeparation",x,this)}}).prototype,"formationDistance",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),y=M(g.prototype,"maxDeceleration",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),T=M(g.prototype,"maxDistance0",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),S=M(g.prototype,"separationDistance",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),w=M(g.prototype,"wanderDistance",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),_=M(g.prototype,"wanderFluctuation",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),R=M(g.prototype,"wanderRadius",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),j=M(g.prototype,"weightAlign",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),A=M(g.prototype,"weightAnchor",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),O=M(g.prototype,"weightCohesion",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),z=M(g.prototype,"weightDeceleration",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),P=M(g.prototype,"weightFormation",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),x=M(g.prototype,"weightSeparation",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),v=g))||v)},"./sof/generic/EveSOFDataGenericVariant.js":function(e,t,r){"use strict";r.r(t),r.d(t,"EveSOFDataGenericVariant",(function(){return p}));var i,n,a,o,s,u,l,c,f,d=r("./utils/index.js");function h(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function m(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var p=(i=d.meta.ctor("EveSOFDataGenericVariant"),n=d.meta.string,a=d.meta.struct("EveSOFDataHullArea"),o=d.meta.boolean,i((l=m((u=class{constructor(){h(this,"name",l,this),h(this,"hullArea",c,this),h(this,"isTransparent",f,this)}}).prototype,"name",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),c=m(u.prototype,"hullArea",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),f=m(u.prototype,"isTransparent",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),s=u))||s)},"./sof/generic/index.js":function(e,t,r){"use strict";r.r(t);var i=r("./sof/generic/EveSOFDataGeneric.js");r.d(t,"EveSOFDataGeneric",(function(){return i.EveSOFDataGeneric})),r.d(t,"ErrSOFAreaShaderNotFound",(function(){return i.ErrSOFAreaShaderNotFound})),r.d(t,"ErrSOFDecalShaderNotFound",(function(){return i.ErrSOFDecalShaderNotFound})),r.d(t,"ErrSOFMaterialPrefixNotFound",(function(){return i.ErrSOFMaterialPrefixNotFound})),r.d(t,"ErrSOFPatternMaterialPrefixNotFound",(function(){return i.ErrSOFPatternMaterialPrefixNotFound}));var n=r("./sof/generic/EveSOFDataGenericDamage.js");r.d(t,"EveSOFDataGenericDamage",(function(){return n.EveSOFDataGenericDamage}));var a=r("./sof/generic/EveSOFDataGenericDecalShader.js");r.d(t,"EveSOFDataGenericDecalShader",(function(){return a.EveSOFDataGenericDecalShader}));var o=r("./sof/generic/EveSOFDataGenericHullDamage.js");r.d(t,"EveSOFDataGenericHullDamage",(function(){return o.EveSOFDataGenericHullDamage}));var s=r("./sof/generic/EveSOFDataGenericShader.js");r.d(t,"EveSOFDataGenericShader",(function(){return s.EveSOFDataGenericShader}));var u=r("./sof/generic/EveSOFDataGenericString.js");r.d(t,"EveSOFDataGenericString",(function(){return u.EveSOFDataGenericString}));var l=r("./sof/generic/EveSOFDataGenericSwarm.js");r.d(t,"EveSOFDataGenericSwarm",(function(){return l.EveSOFDataGenericSwarm}));var c=r("./sof/generic/EveSOFDataGenericVariant.js");r.d(t,"EveSOFDataGenericVariant",(function(){return c.EveSOFDataGenericVariant}))},"./sof/hull/EveSOFDataHull.js":function(e,t,r){"use strict";r.r(t),r.d(t,"EveSOFDataHull",(function(){return Ce}));var i,n,a,o,s,u,l,c,f,d,h,m,p,b,v,g,E,y,T,S,w,_,R,j,A,O,z,P,x,C,D,M,L,I,F,G,N,B,U,V,k,H,q,W,Y,X,K,Q,Z,$,J,ee,te,re,ie,ne,ae,oe,se,ue,le,ce,fe,de,he,me,pe,be,ve,ge,Ee,ye,Te,Se,we,_e,Re,je,Ae,Oe=r("./utils/index.js"),ze=r("./math/index.js");function Pe(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function xe(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var Ce=(i=Oe.meta.ctor("EveSOFDataHull"),n=Oe.meta.string,a=Oe.meta.list("EveSOFDataHullArea"),o=Oe.meta.list("EveSOFDataHullAnimation"),s=Oe.meta.vector3,u=Oe.meta.list("EveSOFDataHullBanner"),l=Oe.meta.struct("EveSOFDataHullBooster"),c=Oe.meta.vector4,f=Oe.meta.uint,d=Oe.meta.boolean,h=Oe.meta.string,m=Oe.meta.list("EveSOFDataHullChild"),p=Oe.meta.list("EveSOFDataHullController"),b=Oe.meta.list("EveSOFDataHullArea"),v=Oe.meta.list("EveSOFDataHullDecalSet"),g=Oe.meta.struct("EveSOFDataPatternPerHull"),E=Oe.meta.list("EveSOFDataHullArea"),y=Oe.meta.string,T=Oe.meta.list("EveSOFDataHullArea"),S=Oe.meta.boolean,w=Oe.meta.path,_=Oe.meta.list("EveSOFDataHullHazeSet"),R=Oe.meta.list("EveSOFDataHullDecalSet"),j=Oe.meta.uint,A=Oe.meta.list("EveSOFDataInstancedMesh"),O=Oe.meta.boolean,z=Oe.meta.list("EveSOFDataHullLightSet"),P=Oe.meta.list("EveSOFDataHullLocatorSet"),x=Oe.meta.list("EveSOFDataHullLocator"),C=Oe.meta.path,D=Oe.meta.list("EveSOFDataHullArea"),M=Oe.meta.list("EveSOFDataHullPlaneSet"),L=Oe.meta.vector3,I=Oe.meta.vector3,F=Oe.meta.list("EveSOFDataHullSoundEmitter"),G=Oe.meta.list("EveSOFDataHullSpotlightSet"),N=Oe.meta.list("EveSOFDataHullSpriteLineSet"),B=Oe.meta.list("EveSOFDataHullSpriteSet"),U=Oe.meta.list("EveSOFDataHullArea"),i((H=xe((k=class{constructor(){Pe(this,"name",H,this),Pe(this,"additiveAreas",q,this),Pe(this,"animations",W,this),Pe(this,"audioPosition",Y,this),Pe(this,"banners",X,this),Pe(this,"booster",K,this),Pe(this,"boundingSphere",Q,this),Pe(this,"buildClass",Z,this),Pe(this,"castShadow",$,this),Pe(this,"category",J,this),Pe(this,"children",ee,this),Pe(this,"controllers",te,this),Pe(this,"decalAreas",re,this),Pe(this,"decalSets",ie,this),Pe(this,"defaultPattern",ne,this),Pe(this,"depthAreas",ae,this),Pe(this,"description",oe,this),Pe(this,"distortionAreas",se,this),Pe(this,"enableDynamicBoundingSphere",ue,this),Pe(this,"geometryResFilePath",le,this),Pe(this,"hazeSets",ce,this),Pe(this,"hullDecals",fe,this),Pe(this,"impactEffectType",de,this),Pe(this,"instancedMeshes",he,this),Pe(this,"isSkinned",me,this),Pe(this,"lightSets",pe,this),Pe(this,"locatorSets",be,this),Pe(this,"locatorTurrets",ve,this),Pe(this,"modelRotationCurvePath",ge,this),Pe(this,"opaqueAreas",Ee,this),Pe(this,"planeSets",ye,this),Pe(this,"shapeEllipsoidCenter",Te,this),Pe(this,"shapeEllipsoidRadius",Se,this),Pe(this,"soundEmitters",we,this),Pe(this,"spotlightSets",_e,this),Pe(this,"spriteLineSets",Re,this),Pe(this,"spriteSets",je,this),Pe(this,"transparentAreas",Ae,this)}Initialize(){this.geometryResFilePath.includes(".cake")&&(this.isSkinned=!1)}}).prototype,"name",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),q=xe(k.prototype,"additiveAreas",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),W=xe(k.prototype,"animations",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Y=xe(k.prototype,"audioPosition",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return ze.vec3.create()}}),X=xe(k.prototype,"banners",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),K=xe(k.prototype,"booster",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Q=xe(k.prototype,"boundingSphere",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return ze.vec4.create()}}),Z=xe(k.prototype,"buildClass",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),$=xe(k.prototype,"castShadow",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),J=xe(k.prototype,"category",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),ee=xe(k.prototype,"children",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),te=xe(k.prototype,"controllers",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),re=xe(k.prototype,"decalAreas",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),ie=xe(k.prototype,"decalSets",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),ne=xe(k.prototype,"defaultPattern",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ae=xe(k.prototype,"depthAreas",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),oe=xe(k.prototype,"description",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),se=xe(k.prototype,"distortionAreas",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),ue=xe(k.prototype,"enableDynamicBoundingSphere",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),le=xe(k.prototype,"geometryResFilePath",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),ce=xe(k.prototype,"hazeSets",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),fe=xe(k.prototype,"hullDecals",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),de=xe(k.prototype,"impactEffectType",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),he=xe(k.prototype,"instancedMeshes",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),me=xe(k.prototype,"isSkinned",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),pe=xe(k.prototype,"lightSets",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),be=xe(k.prototype,"locatorSets",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),ve=xe(k.prototype,"locatorTurrets",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),ge=xe(k.prototype,"modelRotationCurvePath",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),Ee=xe(k.prototype,"opaqueAreas",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),ye=xe(k.prototype,"planeSets",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Te=xe(k.prototype,"shapeEllipsoidCenter",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return ze.vec3.create()}}),Se=xe(k.prototype,"shapeEllipsoidRadius",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return ze.vec3.create()}}),we=xe(k.prototype,"soundEmitters",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),_e=xe(k.prototype,"spotlightSets",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Re=xe(k.prototype,"spriteLineSets",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),je=xe(k.prototype,"spriteSets",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Ae=xe(k.prototype,"transparentAreas",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),V=k))||V)},"./sof/hull/EveSOFDataHullAnimation.js":function(e,t,r){"use strict";r.r(t),r.d(t,"EveSOFDataHullAnimation",(function(){return j}));var i,n,a,o,s,u,l,c,f,d,h,m,p,b,v,g,E,y,T,S=r("./utils/index.js"),w=r("./math/index.js");function _(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function R(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var j=(i=S.meta.ctor("EveSOFDataHullAnimation"),n=S.meta.string,a=S.meta.float,o=S.meta.float,s=S.meta.quaternion,u=S.meta.uint,l=S.meta.float,c=S.meta.float,f=S.meta.quaternion,i((m=R((h=class{constructor(){_(this,"name",m,this),_(this,"endRate",p,this),_(this,"endRotationTime",b,this),_(this,"endRotationValue",v,this),_(this,"id",g,this),_(this,"startRate",E,this),_(this,"startRotationTime",y,this),_(this,"startRotationValue",T,this)}}).prototype,"name",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),p=R(h.prototype,"endRate",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),b=R(h.prototype,"endRotationTime",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),v=R(h.prototype,"endRotationValue",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return w.quat.create()}}),g=R(h.prototype,"id",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),E=R(h.prototype,"startRate",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),y=R(h.prototype,"startRotationTime",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),T=R(h.prototype,"startRotationValue",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return w.quat.create()}}),d=h))||d)},"./sof/hull/EveSOFDataHullArea.js":function(e,t,r){"use strict";r.r(t),r.d(t,"EveSOFDataHullArea",(function(){return R}));var i,n,a,o,s,u,l,c,f,d,h,m,p,b,v,g,E,y,T,S=r("./utils/index.js");function w(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function _(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var R=(i=S.meta.ctor("EveSOFDataHullArea"),n=S.meta.string,a=S.meta.uint,o=S.meta.uint,s=S.meta.uint,u=S.meta.uint,l=S.meta.list("EveSOFDataParameter"),c=S.meta.string,f=S.meta.list("EveSOFDataTexture"),i((m=_((h=class{constructor(){w(this,"name",m,this),w(this,"areaType",p,this),w(this,"blockedMaterials",b,this),w(this,"count",v,this),w(this,"index",g,this),w(this,"parameters",E,this),w(this,"shader",y,this),w(this,"textures",T,this)}Assign(e={}){return e.textures=this.AssignTextures(e.textures),e.parameters=this.AssignParameters(e.parameters),e}AssignParameters(e={}){for(var t=0;t<this.parameters.length;t++)this.parameters[t].Assign(e);return e}AssignTextures(e={}){for(var t=0;t<this.textures.length;t++)this.textures[t].Assign(e);return e}}).prototype,"name",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),p=_(h.prototype,"areaType",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),b=_(h.prototype,"blockedMaterials",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),v=_(h.prototype,"count",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),g=_(h.prototype,"index",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),E=_(h.prototype,"parameters",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),y=_(h.prototype,"shader",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),T=_(h.prototype,"textures",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),d=h))||d)},"./sof/hull/EveSOFDataHullBanner.js":function(e,t,r){"use strict";r.r(t),r.d(t,"EveSOFDataHullBanner",(function(){return P}));var i,n,a,o,s,u,l,c,f,d,h,m,p,b,v,g,E,y,T,S,w,_,R,j=r("./utils/index.js"),A=r("./math/index.js");function O(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function z(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var P=(i=j.meta.ctor("EveSOFDataHullBanner"),n=j.meta.string,a=j.meta.float,o=j.meta.float,s=j.meta.float,u=j.meta.uint,l=j.meta.struct(),c=j.meta.vector3,f=j.meta.quaternion,d=j.meta.vector3,h=j.meta.uint,i((b=z((p=class{constructor(){O(this,"name",b,this),O(this,"angleX",v,this),O(this,"angleY",g,this),O(this,"angleZ",E,this),O(this,"boneIndex",y,this),O(this,"lightOverride",T,this),O(this,"position",S,this),O(this,"rotation",w,this),O(this,"scaling",_,this),O(this,"usage",R,this)}}).prototype,"name",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),v=z(p.prototype,"angleX",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),g=z(p.prototype,"angleY",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),E=z(p.prototype,"angleZ",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),y=z(p.prototype,"boneIndex",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return-1}}),T=z(p.prototype,"lightOverride",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),S=z(p.prototype,"position",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return A.vec3.create()}}),w=z(p.prototype,"rotation",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return A.quat.create()}}),_=z(p.prototype,"scaling",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return A.vec3.fromValues(1,1,1)}}),R=z(p.prototype,"usage",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),m=p))||m)},"./sof/hull/EveSOFDataHullBannerLight.js":function(e,t,r){"use strict";r.r(t),r.d(t,"EveSOFDataHullBannerLight",(function(){return a}));var i,n=r("./utils/index.js"),a=(0,n.meta.notImplemented)(i=n.meta.ctor("EveSOFDataHullBannerLight")(i=class{})||i)||i},"./sof/hull/EveSOFDataHullBooster.js":function(e,t,r){"use strict";r.r(t),r.d(t,"EveSOFDataHullBooster",(function(){return p}));var i,n,a,o,s,u,l,c,f,d=r("./utils/index.js");function h(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function m(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var p=(i=d.meta.ctor("EveSOFDataHullBooster"),n=d.meta.boolean,a=d.meta.boolean,o=d.meta.list("EveSOFDataHullBoosterItem"),i((l=m((u=class{constructor(){h(this,"alwaysOn",l,this),h(this,"hasTrails",c,this),h(this,"items",f,this)}}).prototype,"alwaysOn",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),c=m(u.prototype,"hasTrails",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),f=m(u.prototype,"items",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),s=u))||s)},"./sof/hull/EveSOFDataHullBoosterItem.js":function(e,t,r){"use strict";r.r(t),r.d(t,"EveSOFDataHullBoosterItem",(function(){return w}));var i,n,a,o,s,u,l,c,f,d,h,m,p,b,v,g,E=r("./utils/index.js"),y=r("./math/index.js");function T(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function S(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var w=(i=E.meta.ctor("EveSOFDataHullBoosterItem"),n=E.meta.uint,a=E.meta.uint,o=E.meta.vector4,s=E.meta.boolean,u=E.meta.float,l=E.meta.todo("What should the default value be?"),c=E.meta.matrix4,i((h=S((d=class{constructor(){T(this,"atlasIndex0",h,this),T(this,"atlasIndex1",m,this),T(this,"functionality",p,this),T(this,"hasTrail",b,this),T(this,"lightScale",v,this),T(this,"transform",g,this)}}).prototype,"atlasIndex0",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),m=S(d.prototype,"atlasIndex1",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),p=S(d.prototype,"functionality",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return y.vec4.create()}}),b=S(d.prototype,"hasTrail",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),v=S(d.prototype,"lightScale",[u,l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),g=S(d.prototype,"transform",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return y.mat4.create()}}),f=d))||f)},"./sof/hull/EveSOFDataHullChild.js":function(e,t,r){"use strict";r.r(t),r.d(t,"EveSOFDataHullChild",(function(){return j}));var i,n,a,o,s,u,l,c,f,d,h,m,p,b,v,g,E,y,T,S=r("./utils/index.js"),w=r("./math/index.js");function _(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function R(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var j=(i=S.meta.ctor("EveSOFDataHullChild"),n=S.meta.string,a=S.meta.uint,o=S.meta.uint,s=S.meta.uint,u=S.meta.path,l=S.meta.quaternion,c=S.meta.vector3,f=S.meta.vector3,i((m=R((h=class{constructor(){_(this,"name",m,this),_(this,"groupIndex",p,this),_(this,"id",b,this),_(this,"lowestLodVisible",v,this),_(this,"redFilePath",g,this),_(this,"rotation",E,this),_(this,"scaling",y,this),_(this,"translation",T,this)}}).prototype,"name",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),p=R(h.prototype,"groupIndex",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return-1}}),b=R(h.prototype,"id",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),v=R(h.prototype,"lowestLodVisible",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),g=R(h.prototype,"redFilePath",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),E=R(h.prototype,"rotation",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return w.quat.create()}}),y=R(h.prototype,"scaling",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return w.vec3.fromValues(1,1,1)}}),T=R(h.prototype,"translation",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return w.vec3.create()}}),d=h))||d)},"./sof/hull/EveSOFDataHullController.js":function(e,t,r){"use strict";r.r(t),r.d(t,"EveSOFDataHullController",(function(){return b}));var i,n,a,o,s,u,l=r("./utils/index.js");var c,f,d,h,m,p,b=(i=l.meta.ctor("EveSOFDataHullController"),n=l.meta.path,i((u=class{constructor(){var e,t,r,i;e=this,t="path",i=this,(r=s)&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}},c=(o=u).prototype,f="path",d=[n],h={configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}},p={},Object.keys(h).forEach((function(e){p[e]=h[e]})),p.enumerable=!!p.enumerable,p.configurable=!!p.configurable,("value"in p||p.initializer)&&(p.writable=!0),p=d.slice().reverse().reduce((function(e,t){return t(c,f,e)||e}),p),m&&void 0!==p.initializer&&(p.value=p.initializer?p.initializer.call(m):void 0,p.initializer=void 0),void 0===p.initializer&&(Object.defineProperty(c,f,p),p=null),s=p,a=o))||a)},"./sof/hull/EveSOFDataHullDecalSet.js":function(e,t,r){"use strict";r.r(t),r.d(t,"EveSOFDataHullDecalSet",(function(){return p}));var i,n,a,o,s,u,l,c,f,d=r("./utils/index.js");function h(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function m(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var p=(i=d.meta.ctor("EveSOFDataHullDecalSet"),n=d.meta.string,a=d.meta.list("EveSOFDataHullDecalSetItem"),o=d.meta.string,i((l=m((u=class{constructor(){h(this,"name",l,this),h(this,"items",c,this),h(this,"visibilityGroup",f,this)}}).prototype,"name",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),c=m(u.prototype,"items",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),f=m(u.prototype,"visibilityGroup",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),s=u))||s)},"./sof/hull/EveSOFDataHullDecalSetItem.js":function(e,t,r){"use strict";r.r(t),r.d(t,"EveSOFDataHullDecalSetItem",(function(){return I}));var i,n,a,o,s,u,l,c,f,d,h,m,p,b,v,g,E,y,T,S,w,_,R,j,A,O,z,P,x,C=r("./utils/index.js"),D=r("./math/index.js");function M(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function L(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var I=(i=C.meta.ctor("EveSOFDataHullDecalSetItem"),n=C.meta.string,a=C.meta.uint,o=C.meta.indexBuffer,s=C.meta.uint,u=C.meta.uint,l=C.meta.uint,c=C.meta.list("EveSOFDataParameter"),f=C.meta.vector3,d=C.meta.quaternion,h=C.meta.vector3,m=C.meta.list("EveSOFDataTexture"),p=C.meta.uint,b=C.meta.string,i((E=L((g=class{constructor(){M(this,"name",E,this),M(this,"boneIndex",y,this),M(this,"indexBuffer",T,this),M(this,"glowColorType",S,this),M(this,"logoType",w,this),M(this,"meshIndex",_,this),M(this,"parameters",R,this),M(this,"position",j,this),M(this,"rotation",A,this),M(this,"scaling",O,this),M(this,"textures",z,this),M(this,"usage",P,this),M(this,"visibilityGroup",x,this)}Assign(e={}){return e.textures=this.AssignTextures(e.textures),e.parameters=this.AssignParameters(e.parameters),e}AssignParameters(e={}){for(var t=0;t<this.parameters.length;t++)this.parameters[t].Assign(e);return e}AssignTextures(e={}){for(var t=0;t<this.textures.length;t++)this.textures[t].Assign(e);return e}}).prototype,"name",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),y=L(g.prototype,"boneIndex",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return-1}}),T=L(g.prototype,"indexBuffer",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),S=L(g.prototype,"glowColorType",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),w=L(g.prototype,"logoType",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),_=L(g.prototype,"meshIndex",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),R=L(g.prototype,"parameters",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),j=L(g.prototype,"position",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return D.vec3.create()}}),A=L(g.prototype,"rotation",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return D.quat.create()}}),O=L(g.prototype,"scaling",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return D.vec3.fromValues(1,1,1)}}),z=L(g.prototype,"textures",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),P=L(g.prototype,"usage",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),x=L(g.prototype,"visibilityGroup",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),v=g))||v)},"./sof/hull/EveSOFDataHullHazeSet.js":function(e,t,r){"use strict";r.r(t),r.d(t,"EveSOFDataHullHazeSet",(function(){return p}));var i,n,a,o,s,u,l,c,f,d=r("./utils/index.js");function h(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function m(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var p=(i=d.meta.ctor("EveSOFDataHullHazeSet"),n=d.meta.string,a=d.meta.list("EveSOFDataHullHazeSetItem"),o=d.meta.string,i((l=m((u=class{constructor(){h(this,"name",l,this),h(this,"items",c,this),h(this,"visibilityGroup",f,this)}}).prototype,"name",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),c=m(u.prototype,"items",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),f=m(u.prototype,"visibilityGroup",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),s=u))||s)},"./sof/hull/EveSOFDataHullHazeSetItem.js":function(e,t,r){"use strict";r.r(t),r.d(t,"EveSOFDataHullHazeSetItem",(function(){return O}));var i,n,a,o,s,u,l,c,f,d,h,m,p,b,v,g,E,y,T,S,w,_=r("./utils/index.js"),R=r("./math/index.js");function j(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function A(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var O=(i=_.meta.ctor("EveSOFDataHullHazeSetItem"),n=_.meta.boolean,a=_.meta.uint,o=_.meta.float,s=_.meta.float,u=_.meta.vector3,l=_.meta.quaternion,c=_.meta.vector3,f=_.meta.float,d=_.meta.float,i((p=A((m=class{constructor(){j(this,"boosterGainInfluence",p,this),j(this,"colorType",b,this),j(this,"hazeBrightness",v,this),j(this,"hazeFalloff",g,this),j(this,"position",E,this),j(this,"rotation",y,this),j(this,"scaling",T,this),j(this,"sourceBrightness",S,this),j(this,"sourceSize",w,this)}}).prototype,"boosterGainInfluence",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),b=A(m.prototype,"colorType",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),v=A(m.prototype,"hazeBrightness",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),g=A(m.prototype,"hazeFalloff",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),E=A(m.prototype,"position",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return R.vec3.create()}}),y=A(m.prototype,"rotation",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return R.quat.create()}}),T=A(m.prototype,"scaling",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return R.vec3.fromValues(1,1,1)}}),S=A(m.prototype,"sourceBrightness",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),w=A(m.prototype,"sourceSize",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),h=m))||h)},"./sof/hull/EveSOFDataHullLightSet.js":function(e,t,r){"use strict";r.r(t),r.d(t,"EveSOFDataHullLightSet",(function(){return T}));var i,n,a,o,s,u,l,c,f,d,h,m,p,b,v,g=r("./utils/index.js");function E(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function y(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var T=(i=g.meta.ctor("EveSOFDataHullLightSet"),n=g.meta.string,a=g.meta.uint,o=g.meta.list("EveSOFDataHullLightSetItem"),s=g.meta.float,u=g.meta.float,l=g.meta.string,i((d=y((f=class{constructor(){E(this,"name",d,this),E(this,"boneIndex",h,this),E(this,"items",m,this),E(this,"noiseAmplitude",p,this),E(this,"noiseOctaves",b,this),E(this,"visibilityGroup",v,this)}}).prototype,"name",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),h=y(f.prototype,"boneIndex",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return-1}}),m=y(f.prototype,"items",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),p=y(f.prototype,"noiseAmplitude",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),b=y(f.prototype,"noiseOctaves",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),v=y(f.prototype,"visibilityGroup",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),c=f))||c)},"./sof/hull/EveSOFDataHullLightSetItem.js":function(e,t,r){"use strict";r.r(t),r.d(t,"EveSOFDataHullLightSetItem",(function(){return P}));var i,n,a,o,s,u,l,c,f,d,h,m,p,b,v,g,E,y,T,S,w,_,R,j=r("./utils/index.js"),A=r("./math/index.js");function O(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function z(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var P=(i=j.meta.ctor("EveSOFDataHullLightSetItem"),n=j.meta.string,a=j.meta.uint,o=j.meta.float,s=j.meta.float,u=j.meta.color,l=j.meta.float,c=j.meta.float,f=j.meta.float,d=j.meta.vector3,h=j.meta.float,i((b=z((p=class{constructor(){O(this,"name",b,this),O(this,"boneIndex",v,this),O(this,"brightness",g,this),O(this,"innerRadius",E,this),O(this,"lightColor",y,this),O(this,"noiseAmplitude",T,this),O(this,"noiseFrequency",S,this),O(this,"noiseOctaves",w,this),O(this,"position",_,this),O(this,"radius",R,this)}}).prototype,"name",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),v=z(p.prototype,"boneIndex",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return-1}}),g=z(p.prototype,"brightness",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),E=z(p.prototype,"innerRadius",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),y=z(p.prototype,"lightColor",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return A.vec4.create()}}),T=z(p.prototype,"noiseAmplitude",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),S=z(p.prototype,"noiseFrequency",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),w=z(p.prototype,"noiseOctaves",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),_=z(p.prototype,"position",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return A.vec3.create()}}),R=z(p.prototype,"radius",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),m=p))||m)},"./sof/hull/EveSOFDataHullLightSetSpotLight.js":function(e,t,r){"use strict";r.r(t),r.d(t,"EveSOFDataHullLightSetSpotLight",(function(){return M}));var i,n,a,o,s,u,l,c,f,d,h,m,p,b,v,g,E,y,T,S,w,_,R,j,A,O,z,P=r("./utils/index.js"),x=r("./math/index.js");function C(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function D(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var M=(i=P.meta.ctor("EveSOFDataHullLightSetSpotLight"),n=P.meta.string,a=P.meta.uint,o=P.meta.float,s=P.meta.float,u=P.meta.float,l=P.meta.color,c=P.meta.float,f=P.meta.float,d=P.meta.float,h=P.meta.vector3,m=P.meta.uint,p=P.meta.quaternion,i((g=D((v=class{constructor(){C(this,"name",g,this),C(this,"boneIndex",E,this),C(this,"brightness",y,this),C(this,"innerAngle",T,this),C(this,"innerRadius",S,this),C(this,"lightColor",w,this),C(this,"noiseAmplitude",_,this),C(this,"noiseFrequency",R,this),C(this,"outerAngle",j,this),C(this,"position",A,this),C(this,"radius",O,this),C(this,"rotation",z,this)}}).prototype,"name",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),E=D(v.prototype,"boneIndex",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return-1}}),y=D(v.prototype,"brightness",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),T=D(v.prototype,"innerAngle",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),S=D(v.prototype,"innerRadius",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),w=D(v.prototype,"lightColor",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return x.vec4.create()}}),_=D(v.prototype,"noiseAmplitude",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),R=D(v.prototype,"noiseFrequency",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),j=D(v.prototype,"outerAngle",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),A=D(v.prototype,"position",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return x.vec3.create()}}),O=D(v.prototype,"radius",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),z=D(v.prototype,"rotation",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return x.quat.create()}}),b=v))||b)},"./sof/hull/EveSOFDataHullLightSetTexturedPointLight.js":function(e,t,r){"use strict";r.r(t),r.d(t,"EveSOFDataHullLightSetTexturedPointLight",(function(){return S}));var i,n,a,o,s,u,l,c,f,d,h,m,p,b,v,g=r("./utils/index.js"),E=r("./math/index.js");function y(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function T(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var S=(i=g.meta.ctor("EveSOFDataHullLightSetTexturedPointLight"),n=g.meta.string,a=g.meta.float,o=g.meta.float,s=g.meta.vector3,u=g.meta.float,l=g.meta.path,i((d=T((f=class{constructor(){y(this,"name",d,this),y(this,"brightness",h,this),y(this,"innerRadius",m,this),y(this,"position",p,this),y(this,"radius",b,this),y(this,"texturePath",v,this)}}).prototype,"name",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),h=T(f.prototype,"brightness",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),m=T(f.prototype,"innerRadius",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),p=T(f.prototype,"position",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return E.vec3.create()}}),b=T(f.prototype,"radius",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),v=T(f.prototype,"texturePath",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),c=f))||c)},"./sof/hull/EveSOFDataHullLocator.js":function(e,t,r){"use strict";r.r(t),r.d(t,"EveSOFDataHullLocator",(function(){return m}));var i,n,a,o,s,u,l,c=r("./utils/index.js"),f=r("./math/index.js");function d(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function h(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var m=(i=c.meta.ctor("EveSOFDataHullLocator"),n=c.meta.string,a=c.meta.matrix4,i((u=h((s=class{constructor(){d(this,"name",u,this),d(this,"transform",l,this)}}).prototype,"name",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),l=h(s.prototype,"transform",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return f.mat4.create()}}),o=s))||o)},"./sof/hull/EveSOFDataHullLocatorSet.js":function(e,t,r){"use strict";r.r(t),r.d(t,"EveSOFDataHullLocatorSet",(function(){return h}));var i,n,a,o,s,u,l,c=r("./utils/index.js");function f(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function d(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var h=(i=c.meta.ctor("EveSOFDataHullLocatorSet"),n=c.meta.string,a=c.meta.list("EveSOFDataTransform"),i((u=d((s=class{constructor(){f(this,"name",u,this),f(this,"locators",l,this)}}).prototype,"name",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),l=d(s.prototype,"locators",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),o=s))||o)},"./sof/hull/EveSOFDataHullPlaneSet.js":function(e,t,r){"use strict";r.r(t),r.d(t,"EveSOFDataHullPlaneSet",(function(){return j}));var i,n,a,o,s,u,l,c,f,d,h,m,p,b,v,g,E,y,T,S,w=r("./utils/index.js");function _(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function R(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var j=(i=w.meta.ctor("EveSOFDataHullPlaneSet"),n=w.meta.string,a=w.meta.uint,o=w.meta.list("EveSOFDataHullPlaneSetItem"),s=w.meta.path,u=w.meta.path,l=w.meta.path,c=w.meta.boolean,f=w.meta.notImplemented,d=w.meta.uint,i((p=R((m=class{constructor(){_(this,"name",p,this),_(this,"atlasSize",b,this),_(this,"items",v,this),_(this,"layer1MapResPath",g,this),_(this,"layer2MapResPath",E,this),_(this,"maskMapResPath",y,this),_(this,"skinned",T,this),_(this,"usage",S,this)}}).prototype,"name",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),b=R(m.prototype,"atlasSize",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),v=R(m.prototype,"items",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),g=R(m.prototype,"layer1MapResPath",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),E=R(m.prototype,"layer2MapResPath",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),y=R(m.prototype,"maskMapResPath",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),T=R(m.prototype,"skinned",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),S=R(m.prototype,"usage",[f,d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),h=m))||h)},"./sof/hull/EveSOFDataHullPlaneSetItem.js":function(e,t,r){"use strict";r.r(t),r.d(t,"EveSOFDataHullPlaneSetItem",(function(){return V}));var i,n,a,o,s,u,l,c,f,d,h,m,p,b,v,g,E,y,T,S,w,_,R,j,A,O,z,P,x,C,D,M,L,I,F,G=r("./utils/index.js"),N=r("./math/index.js");function B(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function U(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var V=(i=G.meta.ctor("EveSOFDataHullPlaneSetItem"),n=G.meta.float,a=G.meta.float,o=G.meta.uint,s=G.meta.uint,u=G.meta.color,l=G.meta.float,c=G.meta.uint,f=G.meta.vector4,d=G.meta.vector4,h=G.meta.vector4,m=G.meta.vector4,p=G.meta.uint,b=G.meta.vector3,v=G.meta.float,g=G.meta.quaternion,E=G.meta.vector3,i((S=U((T=class{constructor(){B(this,"blinkRate",S,this),B(this,"blinkPhase",w,this),B(this,"blinkMode",_,this),B(this,"boneIndex",R,this),B(this,"color",j,this),B(this,"dutyCycle",A,this),B(this,"groupIndex",O,this),B(this,"layer1Scroll",z,this),B(this,"layer1Transform",P,this),B(this,"layer2Scroll",x,this),B(this,"layer2Transform",C,this),B(this,"maskMapAtlasIndex",D,this),B(this,"position",M,this),B(this,"rate",L,this),B(this,"rotation",I,this),B(this,"scaling",F,this)}}).prototype,"blinkRate",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),w=U(T.prototype,"blinkPhase",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),_=U(T.prototype,"blinkMode",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),R=U(T.prototype,"boneIndex",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return-1}}),j=U(T.prototype,"color",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return N.vec4.create()}}),A=U(T.prototype,"dutyCycle",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),O=U(T.prototype,"groupIndex",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return-1}}),z=U(T.prototype,"layer1Scroll",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return N.vec4.create()}}),P=U(T.prototype,"layer1Transform",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return N.vec4.create()}}),x=U(T.prototype,"layer2Scroll",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return N.vec4.create()}}),C=U(T.prototype,"layer2Transform",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return N.vec4.create()}}),D=U(T.prototype,"maskMapAtlasIndex",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),M=U(T.prototype,"position",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return N.vec3.create()}}),L=U(T.prototype,"rate",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),I=U(T.prototype,"rotation",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return N.quat.create()}}),F=U(T.prototype,"scaling",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return N.vec3.fromValues(1,1,1)}}),y=T))||y)},"./sof/hull/EveSOFDataHullSoundEmitter.js":function(e,t,r){"use strict";r.r(t),r.d(t,"EveSOFDataHullSoundEmitter",(function(){return b}));var i,n,a,o,s,u,l,c,f,d=r("./utils/index.js"),h=r("./math/index.js");function m(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function p(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var b=(i=d.meta.ctor("EveSOFDataHullSoundEmitter"),n=d.meta.string,a=d.meta.string,o=d.meta.vector3,i((l=p((u=class{constructor(){m(this,"name",l,this),m(this,"prefix",c,this),m(this,"position",f,this)}}).prototype,"name",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),c=p(u.prototype,"prefix",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),f=p(u.prototype,"position",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return h.vec3.create()}}),s=u))||s)},"./sof/hull/EveSOFDataHullSpotlightSet.js":function(e,t,r){"use strict";r.r(t),r.d(t,"EveSOFDataHullSpotlightSet",(function(){return T}));var i,n,a,o,s,u,l,c,f,d,h,m,p,b,v,g=r("./utils/index.js");function E(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function y(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var T=(i=g.meta.ctor("EveSOFDataHullSpotlightSet"),n=g.meta.string,a=g.meta.path,o=g.meta.path,s=g.meta.list("EveSOFDataHullSpotlightSetItem"),u=g.meta.boolean,l=g.meta.float,i((d=y((f=class{constructor(){E(this,"name",d,this),E(this,"coneTextureResPath",h,this),E(this,"glowTextureResPath",m,this),E(this,"items",p,this),E(this,"skinned",b,this),E(this,"zOffset",v,this)}}).prototype,"name",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),h=y(f.prototype,"coneTextureResPath",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),m=y(f.prototype,"glowTextureResPath",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),p=y(f.prototype,"items",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),b=y(f.prototype,"skinned",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),v=y(f.prototype,"zOffset",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),c=f))||c)},"./sof/hull/EveSOFDataHullSpotlightSetItem.js":function(e,t,r){"use strict";r.r(t),r.d(t,"EveSOFDataHullSpotlightSetItem",(function(){return j}));var i,n,a,o,s,u,l,c,f,d,h,m,p,b,v,g,E,y,T,S=r("./utils/index.js"),w=r("./math/index.js");function _(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function R(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var j=(i=S.meta.ctor("EveSOFDataHullSpotlightSetItem"),n=S.meta.uint,a=S.meta.boolean,o=S.meta.float,s=S.meta.float,u=S.meta.uint,l=S.meta.float,c=S.meta.vector3,f=S.meta.matrix4,i((m=R((h=class{constructor(){_(this,"boneIndex",m,this),_(this,"boosterGainInfluence",p,this),_(this,"coneIntensity",b,this),_(this,"flareIntensity",v,this),_(this,"groupIndex",g,this),_(this,"spriteIntensity",E,this),_(this,"spriteScale",y,this),_(this,"transform",T,this)}}).prototype,"boneIndex",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return-1}}),p=R(h.prototype,"boosterGainInfluence",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),b=R(h.prototype,"coneIntensity",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),v=R(h.prototype,"flareIntensity",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),g=R(h.prototype,"groupIndex",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return-1}}),E=R(h.prototype,"spriteIntensity",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),y=R(h.prototype,"spriteScale",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return w.vec3.fromValues(1,1,1)}}),T=R(h.prototype,"transform",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return w.mat4.create()}}),d=h))||d)},"./sof/hull/EveSOFDataHullSpriteLineSet.js":function(e,t,r){"use strict";r.r(t),r.d(t,"EveSOFDataHullSpriteLineSet",(function(){return v}));var i,n,a,o,s,u,l,c,f,d,h,m=r("./utils/index.js");function p(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function b(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var v=(i=m.meta.ctor("EveSOFDataHullSpriteLineSet"),n=m.meta.string,a=m.meta.list("EveSOFDataHullSpriteLineSetItem"),o=m.meta.boolean,s=m.meta.string,i((c=b((l=class{constructor(){p(this,"name",c,this),p(this,"items",f,this),p(this,"skinned",d,this),p(this,"visibilityGroup",h,this)}}).prototype,"name",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),f=b(l.prototype,"items",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),d=b(l.prototype,"skinned",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),h=b(l.prototype,"visibilityGroup",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),u=l))||u)},"./sof/hull/EveSOFDataHullSpriteLineSetItem.js":function(e,t,r){"use strict";r.r(t),r.d(t,"EveSOFDataHullSpriteLineSetItem",(function(){return B}));var i,n,a,o,s,u,l,c,f,d,h,m,p,b,v,g,E,y,T,S,w,_,R,j,A,O,z,P,x,C,D,M,L,I=r("./utils/index.js"),F=r("./math/index.js");function G(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function N(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var B=(i=I.meta.ctor("EveSOFDataHullSpriteLineSetItem"),n=I.meta.float,a=I.meta.float,o=I.meta.float,s=I.meta.uint,u=I.meta.uint,l=I.meta.float,c=I.meta.uint,f=I.meta.float,d=I.meta.boolean,h=I.meta.float,m=I.meta.float,p=I.meta.vector3,b=I.meta.quaternion,v=I.meta.vector3,g=I.meta.float,i((T=N((y=class{constructor(){G(this,"blinkPhase",T,this),G(this,"blinkPhaseShift",S,this),G(this,"blinkRate",w,this),G(this,"boneIndex",_,this),G(this,"colorType",R,this),G(this,"falloff",j,this),G(this,"groupIndex",A,this),G(this,"intensity",O,this),G(this,"isCircle",z,this),G(this,"maxScale",P,this),G(this,"minScale",x,this),G(this,"position",C,this),G(this,"rotation",D,this),G(this,"scaling",M,this),G(this,"spacing",L,this)}}).prototype,"blinkPhase",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),S=N(y.prototype,"blinkPhaseShift",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),w=N(y.prototype,"blinkRate",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),_=N(y.prototype,"boneIndex",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return-1}}),R=N(y.prototype,"colorType",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),j=N(y.prototype,"falloff",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),A=N(y.prototype,"groupIndex",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return-1}}),O=N(y.prototype,"intensity",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),z=N(y.prototype,"isCircle",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),P=N(y.prototype,"maxScale",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),x=N(y.prototype,"minScale",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),C=N(y.prototype,"position",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return F.vec3.create()}}),D=N(y.prototype,"rotation",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return F.quat.create()}}),M=N(y.prototype,"scaling",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return F.vec3.fromValues(1,1,1)}}),L=N(y.prototype,"spacing",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),E=y))||E)},"./sof/hull/EveSOFDataHullSpriteSet.js":function(e,t,r){"use strict";r.r(t),r.d(t,"EveSOFDataHullSpriteSet",(function(){return v}));var i,n,a,o,s,u,l,c,f,d,h,m=r("./utils/index.js");function p(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function b(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var v=(i=m.meta.ctor("EveSOFDataHullSpriteSet"),n=m.meta.string,a=m.meta.list("EveSOFDataHullSpriteSetItem"),o=m.meta.boolean,s=m.meta.string,i((c=b((l=class{constructor(){p(this,"name",c,this),p(this,"items",f,this),p(this,"skinned",d,this),p(this,"visibilityGroup",h,this)}}).prototype,"name",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),f=b(l.prototype,"items",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),d=b(l.prototype,"skinned",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),h=b(l.prototype,"visibilityGroup",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),u=l))||u)},"./sof/hull/EveSOFDataHullSpriteSetItem.js":function(e,t,r){"use strict";r.r(t),r.d(t,"EveSOFDataHullSpriteSetItem",(function(){return P}));var i,n,a,o,s,u,l,c,f,d,h,m,p,b,v,g,E,y,T,S,w,_,R,j=r("./utils/index.js"),A=r("./math/index.js");function O(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function z(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var P=(i=j.meta.ctor("EveSOFDataHullSpriteSetItem"),n=j.meta.float,a=j.meta.float,o=j.meta.uint,s=j.meta.uint,u=j.meta.float,l=j.meta.uint,c=j.meta.float,f=j.meta.float,d=j.meta.float,h=j.meta.vector3,i((b=z((p=class{constructor(){O(this,"blinkPhase",b,this),O(this,"blinkRate",v,this),O(this,"boneIndex",g,this),O(this,"colorType",E,this),O(this,"falloff",y,this),O(this,"groupIndex",T,this),O(this,"intensity",S,this),O(this,"maxScale",w,this),O(this,"minScale",_,this),O(this,"position",R,this)}}).prototype,"blinkPhase",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),v=z(p.prototype,"blinkRate",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),g=z(p.prototype,"boneIndex",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return-1}}),E=z(p.prototype,"colorType",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),y=z(p.prototype,"falloff",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),T=z(p.prototype,"groupIndex",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return-1}}),S=z(p.prototype,"intensity",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),w=z(p.prototype,"maxScale",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),_=z(p.prototype,"minScale",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),R=z(p.prototype,"position",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return A.vec3.create()}}),m=p))||m)},"./sof/hull/index.js":function(e,t,r){"use strict";r.r(t);var i=r("./sof/hull/EveSOFDataHull.js");r.d(t,"EveSOFDataHull",(function(){return i.EveSOFDataHull}));var n=r("./sof/hull/EveSOFDataHullAnimation.js");r.d(t,"EveSOFDataHullAnimation",(function(){return n.EveSOFDataHullAnimation}));var a=r("./sof/hull/EveSOFDataHullArea.js");r.d(t,"EveSOFDataHullArea",(function(){return a.EveSOFDataHullArea}));var o=r("./sof/hull/EveSOFDataHullBanner.js");r.d(t,"EveSOFDataHullBanner",(function(){return o.EveSOFDataHullBanner}));var s=r("./sof/hull/EveSOFDataHullBannerLight.js");r.d(t,"EveSOFDataHullBannerLight",(function(){return s.EveSOFDataHullBannerLight}));var u=r("./sof/hull/EveSOFDataHullBooster.js");r.d(t,"EveSOFDataHullBooster",(function(){return u.EveSOFDataHullBooster}));var l=r("./sof/hull/EveSOFDataHullBoosterItem.js");r.d(t,"EveSOFDataHullBoosterItem",(function(){return l.EveSOFDataHullBoosterItem}));var c=r("./sof/hull/EveSOFDataHullChild.js");r.d(t,"EveSOFDataHullChild",(function(){return c.EveSOFDataHullChild}));var f=r("./sof/hull/EveSOFDataHullController.js");r.d(t,"EveSOFDataHullController",(function(){return f.EveSOFDataHullController}));var d=r("./sof/hull/EveSOFDataHullDecalSet.js");r.d(t,"EveSOFDataHullDecalSet",(function(){return d.EveSOFDataHullDecalSet}));var h=r("./sof/hull/EveSOFDataHullDecalSetItem.js");r.d(t,"EveSOFDataHullDecalSetItem",(function(){return h.EveSOFDataHullDecalSetItem}));var m=r("./sof/hull/EveSOFDataHullHazeSet.js");r.d(t,"EveSOFDataHullHazeSet",(function(){return m.EveSOFDataHullHazeSet}));var p=r("./sof/hull/EveSOFDataHullHazeSetItem.js");r.d(t,"EveSOFDataHullHazeSetItem",(function(){return p.EveSOFDataHullHazeSetItem}));var b=r("./sof/hull/EveSOFDataHullLightSet.js");r.d(t,"EveSOFDataHullLightSet",(function(){return b.EveSOFDataHullLightSet}));var v=r("./sof/hull/EveSOFDataHullLightSetItem.js");r.d(t,"EveSOFDataHullLightSetItem",(function(){return v.EveSOFDataHullLightSetItem}));var g=r("./sof/hull/EveSOFDataHullLightSetSpotLight.js");r.d(t,"EveSOFDataHullLightSetSpotLight",(function(){return g.EveSOFDataHullLightSetSpotLight}));var E=r("./sof/hull/EveSOFDataHullLightSetTexturedPointLight.js");r.d(t,"EveSOFDataHullLightSetTexturedPointLight",(function(){return E.EveSOFDataHullLightSetTexturedPointLight}));var y=r("./sof/hull/EveSOFDataHullLocator.js");r.d(t,"EveSOFDataHullLocator",(function(){return y.EveSOFDataHullLocator}));var T=r("./sof/hull/EveSOFDataHullLocatorSet.js");r.d(t,"EveSOFDataHullLocatorSet",(function(){return T.EveSOFDataHullLocatorSet}));var S=r("./sof/hull/EveSOFDataHullPlaneSet.js");r.d(t,"EveSOFDataHullPlaneSet",(function(){return S.EveSOFDataHullPlaneSet}));var w=r("./sof/hull/EveSOFDataHullPlaneSetItem.js");r.d(t,"EveSOFDataHullPlaneSetItem",(function(){return w.EveSOFDataHullPlaneSetItem}));var _=r("./sof/hull/EveSOFDataHullSoundEmitter.js");r.d(t,"EveSOFDataHullSoundEmitter",(function(){return _.EveSOFDataHullSoundEmitter}));var R=r("./sof/hull/EveSOFDataHullSpotlightSet.js");r.d(t,"EveSOFDataHullSpotlightSet",(function(){return R.EveSOFDataHullSpotlightSet}));var j=r("./sof/hull/EveSOFDataHullSpotlightSetItem.js");r.d(t,"EveSOFDataHullSpotlightSetItem",(function(){return j.EveSOFDataHullSpotlightSetItem}));var A=r("./sof/hull/EveSOFDataHullSpriteLineSet.js");r.d(t,"EveSOFDataHullSpriteLineSet",(function(){return A.EveSOFDataHullSpriteLineSet}));var O=r("./sof/hull/EveSOFDataHullSpriteLineSetItem.js");r.d(t,"EveSOFDataHullSpriteLineSetItem",(function(){return O.EveSOFDataHullSpriteLineSetItem}));var z=r("./sof/hull/EveSOFDataHullSpriteSet.js");r.d(t,"EveSOFDataHullSpriteSet",(function(){return z.EveSOFDataHullSpriteSet}));var P=r("./sof/hull/EveSOFDataHullSpriteSetItem.js");r.d(t,"EveSOFDataHullSpriteSetItem",(function(){return P.EveSOFDataHullSpriteSetItem}))},"./sof/index.js":function(e,t,r){"use strict";r.r(t);var i=r("./sof/faction/index.js");r.d(t,"EveSOFDataFaction",(function(){return i.EveSOFDataFaction})),r.d(t,"EveSOFDataFactionChild",(function(){return i.EveSOFDataFactionChild})),r.d(t,"EveSOFDataFactionColorSet",(function(){return i.EveSOFDataFactionColorSet})),r.d(t,"ErrSOFFactionColorSetTypeUnknown",(function(){return i.ErrSOFFactionColorSetTypeUnknown})),r.d(t,"ErrSOFFactionColorSetTypeNotFound",(function(){return i.ErrSOFFactionColorSetTypeNotFound})),r.d(t,"EveSOFDataFactionPlaneSet",(function(){return i.EveSOFDataFactionPlaneSet})),r.d(t,"EveSOFDataFactionSpotlightSet",(function(){return i.EveSOFDataFactionSpotlightSet})),r.d(t,"EveSOFDataFactionVisibilityGroupSet",(function(){return i.EveSOFDataFactionVisibilityGroupSet}));var n=r("./sof/generic/index.js");r.d(t,"EveSOFDataGeneric",(function(){return n.EveSOFDataGeneric})),r.d(t,"ErrSOFAreaShaderNotFound",(function(){return n.ErrSOFAreaShaderNotFound})),r.d(t,"ErrSOFDecalShaderNotFound",(function(){return n.ErrSOFDecalShaderNotFound})),r.d(t,"ErrSOFMaterialPrefixNotFound",(function(){return n.ErrSOFMaterialPrefixNotFound})),r.d(t,"ErrSOFPatternMaterialPrefixNotFound",(function(){return n.ErrSOFPatternMaterialPrefixNotFound})),r.d(t,"EveSOFDataGenericDamage",(function(){return n.EveSOFDataGenericDamage})),r.d(t,"EveSOFDataGenericDecalShader",(function(){return n.EveSOFDataGenericDecalShader})),r.d(t,"EveSOFDataGenericHullDamage",(function(){return n.EveSOFDataGenericHullDamage})),r.d(t,"EveSOFDataGenericShader",(function(){return n.EveSOFDataGenericShader})),r.d(t,"EveSOFDataGenericString",(function(){return n.EveSOFDataGenericString})),r.d(t,"EveSOFDataGenericSwarm",(function(){return n.EveSOFDataGenericSwarm})),r.d(t,"EveSOFDataGenericVariant",(function(){return n.EveSOFDataGenericVariant}));var a=r("./sof/hull/index.js");r.d(t,"EveSOFDataHull",(function(){return a.EveSOFDataHull})),r.d(t,"EveSOFDataHullAnimation",(function(){return a.EveSOFDataHullAnimation})),r.d(t,"EveSOFDataHullArea",(function(){return a.EveSOFDataHullArea})),r.d(t,"EveSOFDataHullBanner",(function(){return a.EveSOFDataHullBanner})),r.d(t,"EveSOFDataHullBannerLight",(function(){return a.EveSOFDataHullBannerLight})),r.d(t,"EveSOFDataHullBooster",(function(){return a.EveSOFDataHullBooster})),r.d(t,"EveSOFDataHullBoosterItem",(function(){return a.EveSOFDataHullBoosterItem})),r.d(t,"EveSOFDataHullChild",(function(){return a.EveSOFDataHullChild})),r.d(t,"EveSOFDataHullController",(function(){return a.EveSOFDataHullController})),r.d(t,"EveSOFDataHullDecalSet",(function(){return a.EveSOFDataHullDecalSet})),r.d(t,"EveSOFDataHullDecalSetItem",(function(){return a.EveSOFDataHullDecalSetItem})),r.d(t,"EveSOFDataHullHazeSet",(function(){return a.EveSOFDataHullHazeSet})),r.d(t,"EveSOFDataHullHazeSetItem",(function(){return a.EveSOFDataHullHazeSetItem})),r.d(t,"EveSOFDataHullLightSet",(function(){return a.EveSOFDataHullLightSet})),r.d(t,"EveSOFDataHullLightSetItem",(function(){return a.EveSOFDataHullLightSetItem})),r.d(t,"EveSOFDataHullLightSetSpotLight",(function(){return a.EveSOFDataHullLightSetSpotLight})),r.d(t,"EveSOFDataHullLightSetTexturedPointLight",(function(){return a.EveSOFDataHullLightSetTexturedPointLight})),r.d(t,"EveSOFDataHullLocator",(function(){return a.EveSOFDataHullLocator})),r.d(t,"EveSOFDataHullLocatorSet",(function(){return a.EveSOFDataHullLocatorSet})),r.d(t,"EveSOFDataHullPlaneSet",(function(){return a.EveSOFDataHullPlaneSet})),r.d(t,"EveSOFDataHullPlaneSetItem",(function(){return a.EveSOFDataHullPlaneSetItem})),r.d(t,"EveSOFDataHullSoundEmitter",(function(){return a.EveSOFDataHullSoundEmitter})),r.d(t,"EveSOFDataHullSpotlightSet",(function(){return a.EveSOFDataHullSpotlightSet})),r.d(t,"EveSOFDataHullSpotlightSetItem",(function(){return a.EveSOFDataHullSpotlightSetItem})),r.d(t,"EveSOFDataHullSpriteLineSet",(function(){return a.EveSOFDataHullSpriteLineSet})),r.d(t,"EveSOFDataHullSpriteLineSetItem",(function(){return a.EveSOFDataHullSpriteLineSetItem})),r.d(t,"EveSOFDataHullSpriteSet",(function(){return a.EveSOFDataHullSpriteSet})),r.d(t,"EveSOFDataHullSpriteSetItem",(function(){return a.EveSOFDataHullSpriteSetItem}));var o=r("./sof/pattern/index.js");r.d(t,"EveSOFDataPattern",(function(){return o.EveSOFDataPattern})),r.d(t,"ErrSOFProjectionNotFound",(function(){return o.ErrSOFProjectionNotFound})),r.d(t,"EveSOFDataPatternLayer",(function(){return o.EveSOFDataPatternLayer})),r.d(t,"EveSOFDataPatternPerHull",(function(){return o.EveSOFDataPatternPerHull})),r.d(t,"EveSOFDataPatternTransform",(function(){return o.EveSOFDataPatternTransform}));var s=r("./sof/race/index.js");r.d(t,"EveSOFDataRace",(function(){return s.EveSOFDataRace})),r.d(t,"EveSOFDataRaceDamage",(function(){return s.EveSOFDataRaceDamage}));var u=r("./sof/shared/index.js");r.d(t,"EveSOFDataArea",(function(){return u.EveSOFDataArea})),r.d(t,"ErrSOFAreaTypeUnknown",(function(){return u.ErrSOFAreaTypeUnknown})),r.d(t,"ErrSOFAreaTypeNotFound",(function(){return u.ErrSOFAreaTypeNotFound})),r.d(t,"EveSOFDataAreaMaterial",(function(){return u.EveSOFDataAreaMaterial})),r.d(t,"EveSOFDataBooster",(function(){return u.EveSOFDataBooster})),r.d(t,"EveSOFDataBoosterShape",(function(){return u.EveSOFDataBoosterShape})),r.d(t,"EveSOFDataInstancedMesh",(function(){return u.EveSOFDataInstancedMesh})),r.d(t,"EveSOFDataLogo",(function(){return u.EveSOFDataLogo})),r.d(t,"EveSOFDataLogoSet",(function(){return u.EveSOFDataLogoSet})),r.d(t,"ErrSOFLogoSetTypeUnknown",(function(){return u.ErrSOFLogoSetTypeUnknown})),r.d(t,"ErrSOFLogoSetTypeNotFound",(function(){return u.ErrSOFLogoSetTypeNotFound})),r.d(t,"EveSOFDataMaterial",(function(){return u.EveSOFDataMaterial})),r.d(t,"EveSOFDataParameter",(function(){return u.EveSOFDataParameter})),r.d(t,"EveSOFDataTexture",(function(){return u.EveSOFDataTexture})),r.d(t,"EveSOFDataTransform",(function(){return u.EveSOFDataTransform}));var l=r("./sof/EveSOFData.js");r.d(t,"EveSOFData",(function(){return l.EveSOFData})),r.d(t,"ErrSOFDNAFormatInvalid",(function(){return l.ErrSOFDNAFormatInvalid}));var c=r("./sof/EveSOF.js");r.d(t,"EveSOF",(function(){return c.EveSOF})),r.d(t,"ErrSOFHullNotFound",(function(){return c.ErrSOFHullNotFound})),r.d(t,"ErrSOFFactionNotFound",(function(){return c.ErrSOFFactionNotFound})),r.d(t,"ErrSOFRaceNotFound",(function(){return c.ErrSOFRaceNotFound})),r.d(t,"ErrSOFMaterialNotFound",(function(){return c.ErrSOFMaterialNotFound})),r.d(t,"ErrSOFPatternNotFound",(function(){return c.ErrSOFPatternNotFound}))},"./sof/pattern/EveSOFDataPattern.js":function(e,t,r){"use strict";r.r(t),r.d(t,"EveSOFDataPattern",(function(){return g})),r.d(t,"ErrSOFProjectionNotFound",(function(){return E}));var i,n,a,o,s,u,l,c,f,d,h,m=r("./utils/index.js"),p=r("./core/index.js");function b(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function v(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var g=(i=m.meta.ctor("EveSOFDataPattern"),n=m.meta.string,a=m.meta.struct("EveSOFDataPatternLayer"),o=m.meta.struct("EveSOFDataPatternLayer"),s=m.meta.list("EveSOFDataPatternPerHull"),i((c=v((l=class{constructor(){b(this,"name",c,this),b(this,"layer1",f,this),b(this,"layer2",d,this),b(this,"projections",h,this)}Has(e){return-1!==this.IndexOfProjection(e)}Get(e){var t=this.IndexOfProjection(e);if(-1===t)throw new E({pattern:this.name,projection:e});return{name:this.name,layer1:this.layer1,layer2:this.layer2,transformLayer1:this.projections[t].transformLayer1,transformLayer2:this.projections[t].transformLayer2}}IndexOfProjection(e){for(var t=0;t<this.projections.length;t++)if(this.projections[t].name.toUpperCase()===e.toUpperCase())return t;return-1}}).prototype,"name",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),f=v(l.prototype,"layer1",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),d=v(l.prototype,"layer2",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),h=v(l.prototype,"projections",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),u=l))||u);class E extends p.Tw2Error{constructor(e){super(e,"SOF pattern projection '%projection%' not found for pattern '%pattern%'")}}},"./sof/pattern/EveSOFDataPatternLayer.js":function(e,t,r){"use strict";r.r(t),r.d(t,"EveSOFDataPatternLayer",(function(){return A}));var i,n,a,o,s,u,l,c,f,d,h,m,p,b,v,g,E,y,T,S,w,_=r("./utils/index.js");function R(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function j(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var A=(i=_.meta.ctor("EveSOFDataPatternLayer"),n=_.meta.boolean,a=_.meta.boolean,o=_.meta.boolean,s=_.meta.boolean,u=_.meta.uint,l=_.meta.uint,c=_.meta.uint,f=_.meta.string,d=_.meta.path,i((p=j((m=class{constructor(){R(this,"isTargetMtl1",p,this),R(this,"isTargetMtl2",b,this),R(this,"isTargetMtl3",v,this),R(this,"isTargetMtl4",g,this),R(this,"materialSource",E,this),R(this,"projectionTypeU",y,this),R(this,"projectionTypeV",T,this),R(this,"textureName",S,this),R(this,"textureResFilePath",w,this)}static ToAddress(e){switch(e){case 2:return 4;case 1:return 3;default:return 1}}static FromProjection(e){switch(e){case 4:return 2;case 3:return 1;default:return 0}}}).prototype,"isTargetMtl1",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),b=j(m.prototype,"isTargetMtl2",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),v=j(m.prototype,"isTargetMtl3",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),g=j(m.prototype,"isTargetMtl4",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),E=j(m.prototype,"materialSource",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),y=j(m.prototype,"projectionTypeU",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),T=j(m.prototype,"projectionTypeV",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),S=j(m.prototype,"textureName",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),w=j(m.prototype,"textureResFilePath",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),h=m))||h)},"./sof/pattern/EveSOFDataPatternPerHull.js":function(e,t,r){"use strict";r.r(t),r.d(t,"EveSOFDataPatternPerHull",(function(){return p}));var i,n,a,o,s,u,l,c,f,d=r("./utils/index.js");function h(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function m(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var p=(i=d.meta.ctor("EveSOFDataPatternPerHull"),n=d.meta.string,a=d.meta.struct("EveSOFDataPatternTransform"),o=d.meta.struct("EveSOFDataPatternTransform"),i((l=m((u=class{constructor(){h(this,"name",l,this),h(this,"transformLayer1",c,this),h(this,"transformLayer2",f,this)}}).prototype,"name",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),c=m(u.prototype,"transformLayer1",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),f=m(u.prototype,"transformLayer2",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),s=u))||s)},"./sof/pattern/EveSOFDataPatternTransform.js":function(e,t,r){"use strict";r.r(t),r.d(t,"EveSOFDataPatternTransform",(function(){return g}));var i,n,a,o,s,u,l,c,f,d,h,m=r("./utils/index.js"),p=r("./math/index.js");function b(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function v(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var g=(i=m.meta.ctor("EveSOFDataPatternTransform"),n=m.meta.boolean,a=m.meta.vector3,o=m.meta.quaternion,s=m.meta.vector3,i((c=v((l=class{constructor(){b(this,"isMirrored",c,this),b(this,"position",f,this),b(this,"rotation",d,this),b(this,"scaling",h,this)}GetTransform(e){return p.mat4.fromRotationTranslationScale(e,this.rotation,this.position,this.scaling)}}).prototype,"isMirrored",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),f=v(l.prototype,"position",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return p.vec3.create()}}),d=v(l.prototype,"rotation",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return p.quat.create()}}),h=v(l.prototype,"scaling",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return p.vec3.fromValues(1,1,1)}}),u=l))||u)},"./sof/pattern/index.js":function(e,t,r){"use strict";r.r(t);var i=r("./sof/pattern/EveSOFDataPattern.js");r.d(t,"EveSOFDataPattern",(function(){return i.EveSOFDataPattern})),r.d(t,"ErrSOFProjectionNotFound",(function(){return i.ErrSOFProjectionNotFound}));var n=r("./sof/pattern/EveSOFDataPatternLayer.js");r.d(t,"EveSOFDataPatternLayer",(function(){return n.EveSOFDataPatternLayer}));var a=r("./sof/pattern/EveSOFDataPatternPerHull.js");r.d(t,"EveSOFDataPatternPerHull",(function(){return a.EveSOFDataPatternPerHull}));var o=r("./sof/pattern/EveSOFDataPatternTransform.js");r.d(t,"EveSOFDataPatternTransform",(function(){return o.EveSOFDataPatternTransform}))},"./sof/race/EveSOFDataRace.js":function(e,t,r){"use strict";r.r(t),r.d(t,"EveSOFDataRace",(function(){return p}));var i,n,a,o,s,u,l,c,f,d=r("./utils/index.js");function h(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function m(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var p=(i=d.meta.ctor("EveSOFDataRace"),n=d.meta.string,a=d.meta.struct("EveSOFDataBooster"),o=d.meta.struct("EveSOFDataRaceDamage"),i((l=m((u=class{constructor(){h(this,"name",l,this),h(this,"booster",c,this),h(this,"damage",f,this)}}).prototype,"name",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),c=m(u.prototype,"booster",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),f=m(u.prototype,"damage",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),s=u))||s)},"./sof/race/EveSOFDataRaceDamage.js":function(e,t,r){"use strict";r.r(t),r.d(t,"EveSOFDataRaceDamage",(function(){return v}));var i,n,a,o,s,u,l,c,f,d,h,m=r("./utils/index.js");function p(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function b(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var v=(i=m.meta.ctor("EveSOFDataRaceDamage"),n=m.meta.list("EveSOFDataParameter"),a=m.meta.list("EveSOFDataTexture"),o=m.meta.list("EveSOFDataParameter"),s=m.meta.list("EveSOFDataTexture"),i((c=b((l=class{constructor(){p(this,"armorImpactParameters",c,this),p(this,"armorImpactTextures",f,this),p(this,"shieldImpactParameters",d,this),p(this,"shieldImpactTextures",h,this)}AssignArmor(e={}){e.parameters=e.parameters||{},e.textures=e.textures||{};for(var t=0;t<this.armorImpactParameters;t++)this.armorImpactParameters[t].Assign(e.parameters);for(var r=0;r<this.armorImpactTextures;r++)this.armorImpactTextures[r].Assign(e.textures);return e}AssignShield(e={}){e.parameters=e.parameters||{},e.textures=e.textures||{};for(var t=0;t<this.shieldImpactParameters;t++)this.shieldImpactParameters[t].Assign(e.parameters);for(var r=0;r<this.shieldImpactTextures;r++)this.shieldImpactTextures[r].Assign(e.textures);return e}}).prototype,"armorImpactParameters",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),f=b(l.prototype,"armorImpactTextures",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),d=b(l.prototype,"shieldImpactParameters",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),h=b(l.prototype,"shieldImpactTextures",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),u=l))||u)},"./sof/race/index.js":function(e,t,r){"use strict";r.r(t);var i=r("./sof/race/EveSOFDataRace.js");r.d(t,"EveSOFDataRace",(function(){return i.EveSOFDataRace}));var n=r("./sof/race/EveSOFDataRaceDamage.js");r.d(t,"EveSOFDataRaceDamage",(function(){return n.EveSOFDataRaceDamage}))},"./sof/shared/EveSOFDataArea.js":function(e,t,r){"use strict";r.r(t),r.d(t,"EveSOFDataArea",(function(){return ne})),r.d(t,"ErrSOFAreaTypeUnknown",(function(){return ae})),r.d(t,"ErrSOFAreaTypeNotFound",(function(){return oe}));var i,n,a,o,s,u,l,c,f,d,h,m,p,b,v,g,E,y,T,S,w,_,R,j,A,O,z,P,x,C,D,M,L,I,F,G,N,B,U,V,k,H,q,W,Y,X,K,Q,Z,$,J,ee=r("./utils/index.js"),te=r("./core/index.js");function re(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function ie(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var ne=(i=ee.meta.ctor("EveSOFDataArea"),n=ee.meta.struct("EveSOFDataAreaMaterial"),a=ee.meta.struct("EveSOFDataAreaMaterial"),o=ee.meta.struct("EveSOFDataAreaMaterial"),s=ee.meta.struct("EveSOFDataAreaMaterial"),u=ee.meta.struct("EveSOFDataAreaMaterial"),l=ee.meta.struct("EveSOFDataAreaMaterial"),c=ee.meta.struct("EveSOFDataAreaMaterial"),f=ee.meta.struct("EveSOFDataAreaMaterial"),d=ee.meta.struct("EveSOFDataAreaMaterial"),h=ee.meta.struct("EveSOFDataAreaMaterial"),m=ee.meta.struct("EveSOFDataAreaMaterial"),p=ee.meta.struct("EveSOFDataAreaMaterial"),b=ee.meta.struct("EveSOFDataAreaMaterial"),v=ee.meta.struct("EveSOFDataAreaMaterial"),g=ee.meta.struct("EveSOFDataAreaMaterial"),E=ee.meta.struct("EveSOFDataAreaMaterial"),y=ee.meta.struct("EveSOFDataAreaMaterial"),T=ee.meta.struct("EveSOFDataAreaMaterial"),S=ee.meta.struct("EveSOFDataAreaMaterial"),w=ee.meta.struct("EveSOFDataAreaMaterial"),_=ee.meta.struct("EveSOFDataAreaMaterial"),R=ee.meta.struct("EveSOFDataAreaMaterial"),j=ee.meta.struct("EveSOFDataAreaMaterial"),i((J=$=class e{constructor(){re(this,"Black",z,this),re(this,"Blue",P,this),re(this,"Booster",x,this),re(this,"Cyan",C,this),re(this,"Darkhull",D,this),re(this,"Fire",M,this),re(this,"Glass",L,this),re(this,"Green",I,this),re(this,"Hull",F,this),re(this,"Killmark",G,this),re(this,"Monument",N,this),re(this,"Orange",B,this),re(this,"Ornament",U,this),re(this,"Primary",V,this),re(this,"Reactor",k,this),re(this,"Red",H,this),re(this,"Rock",q,this),re(this,"Sails",W,this),re(this,"SimplePrimary",Y,this),re(this,"Secondary",X,this),re(this,"Tertiary",K,this),re(this,"White",Q,this),re(this,"Yellow",Z,this)}Has(t){var r=e.Type[t];if(void 0===r)throw new ae({type:t});return!!this[r]}Get(t){if(!this.Has(t))throw new oe({type:t});return this[e.Type[t]]}},$.Type=["Primary","Glass","Sails","Reactor","Darkhull","Wreck","Rock","Monument","Primary","Primary"],z=ie((O=J).prototype,"Black",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),P=ie(O.prototype,"Blue",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),x=ie(O.prototype,"Booster",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),C=ie(O.prototype,"Cyan",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),D=ie(O.prototype,"Darkhull",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),M=ie(O.prototype,"Fire",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),L=ie(O.prototype,"Glass",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),I=ie(O.prototype,"Green",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),F=ie(O.prototype,"Hull",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),G=ie(O.prototype,"Killmark",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),N=ie(O.prototype,"Monument",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),B=ie(O.prototype,"Orange",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),U=ie(O.prototype,"Ornament",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),V=ie(O.prototype,"Primary",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),k=ie(O.prototype,"Reactor",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),H=ie(O.prototype,"Red",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),q=ie(O.prototype,"Rock",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),W=ie(O.prototype,"Sails",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Y=ie(O.prototype,"SimplePrimary",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),X=ie(O.prototype,"Secondary",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),K=ie(O.prototype,"Tertiary",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Q=ie(O.prototype,"White",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Z=ie(O.prototype,"Yellow",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),A=O))||A);class ae extends te.Tw2Error{constructor(e){super(e,"SOF area type unknown (%type%)"),this.unknownType=!0}}class oe extends te.Tw2Error{constructor(e){super(e,"SOF area type not found (%type%)")}}},"./sof/shared/EveSOFDataAreaMaterial.js":function(e,t,r){"use strict";r.r(t),r.d(t,"EveSOFDataAreaMaterial",(function(){return T}));var i,n,a,o,s,u,l,c,f,d,h,m,p,b,v,g=r("./utils/index.js");function E(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function y(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var T=(i=g.meta.ctor("EveSOFDataAreaMaterial"),n=g.meta.string,a=g.meta.uint,o=g.meta.string,s=g.meta.string,u=g.meta.string,l=g.meta.string,i((d=y((f=class{constructor(){E(this,"name",d,this),E(this,"colorType",h,this),E(this,"material1",m,this),E(this,"material2",p,this),E(this,"material3",b,this),E(this,"material4",v,this)}Assign(e={}){return e.colorType=this.colorType,this.material1&&(e.material1=this.material1),this.material2&&(e.material2=this.material2),this.material3&&(e.material3=this.material3),this.material4&&(e.material4=this.material4),e}}).prototype,"name",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),h=y(f.prototype,"colorType",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),m=y(f.prototype,"material1",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),p=y(f.prototype,"material2",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),b=y(f.prototype,"material3",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),v=y(f.prototype,"material4",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),c=f))||c)},"./sof/shared/EveSOFDataBooster.js":function(e,t,r){"use strict";r.r(t),r.d(t,"EveSOFDataBooster",(function(){return ue}));var i,n,a,o,s,u,l,c,f,d,h,m,p,b,v,g,E,y,T,S,w,_,R,j,A,O,z,P,x,C,D,M,L,I,F,G,N,B,U,V,k,H,q,W,Y,X,K,Q,Z,$,J,ee,te,re,ie,ne=r("./utils/index.js"),ae=r("./math/index.js");function oe(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function se(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var ue=(i=ne.meta.ctor("EveSOFDataBooster"),n=ne.meta.color,a=ne.meta.float,o=ne.meta.path,s=ne.meta.path,u=ne.meta.color,l=ne.meta.float,c=ne.meta.float,f=ne.meta.color,d=ne.meta.float,h=ne.meta.float,m=ne.meta.float,p=ne.meta.color,b=ne.meta.float,v=ne.meta.struct("EveSOFDataBoosterShape"),g=ne.meta.struct("EveSOFDataBoosterShape"),E=ne.meta.uint,y=ne.meta.uint,T=ne.meta.path,S=ne.meta.uint,w=ne.meta.float,_=ne.meta.color,R=ne.meta.vector4,j=ne.meta.color,A=ne.meta.color,O=ne.meta.struct("EveSOFDataBoosterShape"),z=ne.meta.struct("EveSOFDataBoosterShape"),i((C=se((x=class{constructor(){oe(this,"glowColor",C,this),oe(this,"glowScale",D,this),oe(this,"gradient0ResPath",M,this),oe(this,"gradient1ResPath",L,this),oe(this,"haloColor",I,this),oe(this,"haloScaleX",F,this),oe(this,"haloScaleY",G,this),oe(this,"lightColor",N,this),oe(this,"lightFlickerAmplitude",B,this),oe(this,"lightFlickerFrequency",U,this),oe(this,"lightRadius",V,this),oe(this,"lightWarpColor",k,this),oe(this,"lightWarpRadius",H,this),oe(this,"shape0",q,this),oe(this,"shape1",W,this),oe(this,"shapeAtlasCount",Y,this),oe(this,"shapeAtlasHeight",X,this),oe(this,"shapeAtlasResPath",K,this),oe(this,"shapeAtlasWidth",Q,this),oe(this,"symHaloScale",Z,this),oe(this,"trailColor",$,this),oe(this,"trailSize",J,this),oe(this,"warpGlowColor",ee,this),oe(this,"warpHalpColor",te,this),oe(this,"warpShape0",re,this),oe(this,"warpShape1",ie,this)}get warpHaloColor(){return this.warpHalpColor}set warpHaloColor(e){this.warpHalpColor=e}}).prototype,"glowColor",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return ae.vec4.create()}}),D=se(x.prototype,"glowScale",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),M=se(x.prototype,"gradient0ResPath",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),L=se(x.prototype,"gradient1ResPath",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),I=se(x.prototype,"haloColor",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return ae.vec4.create()}}),F=se(x.prototype,"haloScaleX",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),G=se(x.prototype,"haloScaleY",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),N=se(x.prototype,"lightColor",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return ae.vec4.create()}}),B=se(x.prototype,"lightFlickerAmplitude",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),U=se(x.prototype,"lightFlickerFrequency",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),V=se(x.prototype,"lightRadius",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),k=se(x.prototype,"lightWarpColor",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return ae.vec4.create()}}),H=se(x.prototype,"lightWarpRadius",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),q=se(x.prototype,"shape0",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),W=se(x.prototype,"shape1",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Y=se(x.prototype,"shapeAtlasCount",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),X=se(x.prototype,"shapeAtlasHeight",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),K=se(x.prototype,"shapeAtlasResPath",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),Q=se(x.prototype,"shapeAtlasWidth",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Z=se(x.prototype,"symHaloScale",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),$=se(x.prototype,"trailColor",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return ae.vec4.create()}}),J=se(x.prototype,"trailSize",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return ae.vec4.create()}}),ee=se(x.prototype,"warpGlowColor",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return ae.vec4.create()}}),te=se(x.prototype,"warpHalpColor",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return ae.vec4.create()}}),re=se(x.prototype,"warpShape0",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ie=se(x.prototype,"warpShape1",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),P=x))||P)},"./sof/shared/EveSOFDataBoosterShape.js":function(e,t,r){"use strict";r.r(t),r.d(t,"EveSOFDataBoosterShape",(function(){return S}));var i,n,a,o,s,u,l,c,f,d,h,m,p,b,v,g=r("./utils/index.js"),E=r("./math/index.js");function y(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function T(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var S=(i=g.meta.ctor("EveSOFDataBoosterShape"),n=g.meta.color,a=g.meta.vector4,o=g.meta.vector4,s=g.meta.vector4,u=g.meta.float,l=g.meta.float,i((d=T((f=class{constructor(){y(this,"color",d,this),y(this,"noiseAmplitureEnd",h,this),y(this,"noiseAmplitureStart",m,this),y(this,"noiseFrequency",p,this),y(this,"noiseFunction",b,this),y(this,"noiseSpeed",v,this)}get noiseAmplitudeEnd(){return this.noiseAmplitureEnd}get noiseAmplitudeStart(){return this.noiseAmplitureStart}}).prototype,"color",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return E.vec4.create()}}),h=T(f.prototype,"noiseAmplitureEnd",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return E.vec4.create()}}),m=T(f.prototype,"noiseAmplitureStart",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return E.vec4.create()}}),p=T(f.prototype,"noiseFrequency",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return E.vec4.create()}}),b=T(f.prototype,"noiseFunction",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),v=T(f.prototype,"noiseSpeed",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),c=f))||c)},"./sof/shared/EveSOFDataInstancedMesh.js":function(e,t,r){"use strict";r.r(t),r.d(t,"EveSOFDataInstancedMesh",(function(){return S}));var i,n,a,o,s,u,l,c,f,d,h,m,p,b,v,g=r("./utils/index.js");function E(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function y(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}class T{constructor(e){this.data=e}static blackStruct(e){return new T([e.ReadF32(),e.ReadF32(),e.ReadF32(),e.ReadF32(),e.ReadF32(),e.ReadF32(),e.ReadF32(),e.ReadF32(),e.ReadF32(),e.ReadF32(),e.ReadF32()])}}var S=(i=g.meta.ctor("EveSOFDataInstancedMesh"),n=g.meta.string,a=g.meta.path,o=g.meta.list(T),s=g.meta.uint,u=g.meta.string,l=g.meta.list("EveSOFDataTexture"),i((d=y((f=class{constructor(){E(this,"name",d,this),E(this,"geometryResPath",h,this),E(this,"instances",m,this),E(this,"lowestLodVisible",p,this),E(this,"shader",b,this),E(this,"textures",v,this)}}).prototype,"name",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),h=y(f.prototype,"geometryResPath",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),m=y(f.prototype,"instances",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),p=y(f.prototype,"lowestLodVisible",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),b=y(f.prototype,"shader",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),v=y(f.prototype,"textures",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),c=f))||c)},"./sof/shared/EveSOFDataLogo.js":function(e,t,r){"use strict";r.r(t),r.d(t,"EveSOFDataLogo",(function(){return b}));var i,n,a,o,s,u,l=r("./utils/index.js");var c,f,d,h,m,p,b=(i=l.meta.ctor("EveSOFDataLogo"),n=l.meta.list("EveSOFDataTexture"),i((u=class{constructor(){var e,t,r,i;e=this,t="textures",i=this,(r=s)&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}Assign(e={}){return e.textures=this.AssignTextures(e.textures),e}AssignTextures(e={}){for(var t=0;t<this.textures.length;t++)this.textures[t].Assign(e);return e}},c=(o=u).prototype,f="textures",d=[n],h={configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}},p={},Object.keys(h).forEach((function(e){p[e]=h[e]})),p.enumerable=!!p.enumerable,p.configurable=!!p.configurable,("value"in p||p.initializer)&&(p.writable=!0),p=d.slice().reverse().reduce((function(e,t){return t(c,f,e)||e}),p),m&&void 0!==p.initializer&&(p.value=p.initializer?p.initializer.call(m):void 0,p.initializer=void 0),void 0===p.initializer&&(Object.defineProperty(c,f,p),p=null),s=p,a=o))||a)},"./sof/shared/EveSOFDataLogoSet.js":function(e,t,r){"use strict";r.r(t),r.d(t,"EveSOFDataLogoSet",(function(){return S})),r.d(t,"ErrSOFLogoSetTypeUnknown",(function(){return w})),r.d(t,"ErrSOFLogoSetTypeNotFound",(function(){return _}));var i,n,a,o,s,u,l,c,f,d,h,m,p,b,v,g=r("./utils/index.js"),E=r("./core/index.js");function y(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function T(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var S=(i=g.meta.ctor("EveSOFDataLogoSet"),n=g.meta.struct("EveSOFDataLogo"),a=g.meta.struct("EveSOFDataLogo"),o=g.meta.struct("EveSOFDataLogo"),s=g.meta.struct("EveSOFDataLogo"),u=g.meta.struct("EveSOFDataLogo"),i((v=b=class e{constructor(){y(this,"Marking_01",f,this),y(this,"Marking_02",d,this),y(this,"Primary",h,this),y(this,"Secondary",m,this),y(this,"Tertiary",p,this)}Has(t){var r=e.LogoType[t];if(void 0===r)throw new w({type:t});return!!this[r]}Get(t){if(!this.Has(t))throw new _({type:t});return this[e.LogoType[t]]}},b.LogoType=["Primary","Secondary","Tertiary","Marking_01","Marking_02"],f=T((c=v).prototype,"Marking_01",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),d=T(c.prototype,"Marking_02",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),h=T(c.prototype,"Primary",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),m=T(c.prototype,"Secondary",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),p=T(c.prototype,"Tertiary",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),l=c))||l);class w extends E.Tw2Error{constructor(e){super(e,"SOF logo set type unknown (%type%)"),this.unknownType=!0}}class _ extends E.Tw2Error{constructor(e){super(e,"SOF logo set type not found (%type%)")}}},"./sof/shared/EveSOFDataMaterial.js":function(e,t,r){"use strict";r.r(t),r.d(t,"EveSOFDataMaterial",(function(){return h}));var i,n,a,o,s,u,l,c=r("./utils/index.js");function f(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function d(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var h=(i=c.meta.ctor("EveSOFDataMaterial"),n=c.meta.string,a=c.meta.list("EveSOFDataParameter"),i((u=d((s=class{constructor(){f(this,"name",u,this),f(this,"parameters",l,this)}AssignParameters(e={},t){for(var r=0;r<this.parameters.length;r++)this.parameters[r].Assign(e,t);return e}}).prototype,"name",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),l=d(s.prototype,"parameters",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),o=s))||o)},"./sof/shared/EveSOFDataParameter.js":function(e,t,r){"use strict";r.r(t),r.d(t,"EveSOFDataParameter",(function(){return m}));var i,n,a,o,s,u,l,c=r("./utils/index.js"),f=r("./math/index.js");function d(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function h(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var m=(i=c.meta.ctor("EveSOFDataParameter"),n=c.meta.string,a=c.meta.vector4,i((u=h((s=class{constructor(){d(this,"name",u,this),d(this,"value",l,this)}Assign(e={},t){return e[t?t+this.name:this.name]=Array.from(this.value),e}}).prototype,"name",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),l=h(s.prototype,"value",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return f.vec4.create()}}),o=s))||o)},"./sof/shared/EveSOFDataTexture.js":function(e,t,r){"use strict";r.r(t),r.d(t,"EveSOFDataTexture",(function(){return h}));var i,n,a,o,s,u,l,c=r("./utils/index.js");function f(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function d(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var h=(i=c.meta.ctor("EveSOFDataTexture"),n=c.meta.string,a=c.meta.path,i((u=d((s=class{constructor(){f(this,"name",u,this),f(this,"resFilePath",l,this)}Assign(e={}){return e[this.name]=this.resFilePath,e}}).prototype,"name",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),l=d(s.prototype,"resFilePath",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),o=s))||o)},"./sof/shared/EveSOFDataTransform.js":function(e,t,r){"use strict";r.r(t),r.d(t,"EveSOFDataTransform",(function(){return g}));var i,n,a,o,s,u,l,c,f,d,h,m=r("./utils/index.js"),p=r("./math/index.js");function b(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function v(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var g=(i=m.meta.ctor("EveSOFDataTransform"),n=m.meta.uint,a=m.meta.vector3,o=m.meta.quaternion,s=m.meta.vector3,i((c=v((l=class{constructor(){b(this,"boneIndex",c,this),b(this,"position",f,this),b(this,"rotation",d,this),b(this,"scaling",h,this)}GetTransform(e){return p.mat4.fromRotationTranslationScale(e,this.rotation,this.translation,this.scaling)}}).prototype,"boneIndex",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return-1}}),f=v(l.prototype,"position",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return p.vec3.create()}}),d=v(l.prototype,"rotation",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return p.quat.create()}}),h=v(l.prototype,"scaling",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return p.vec3.fromValues(1,1,1)}}),u=l))||u)},"./sof/shared/index.js":function(e,t,r){"use strict";r.r(t);var i=r("./sof/shared/EveSOFDataArea.js");r.d(t,"EveSOFDataArea",(function(){return i.EveSOFDataArea})),r.d(t,"ErrSOFAreaTypeUnknown",(function(){return i.ErrSOFAreaTypeUnknown})),r.d(t,"ErrSOFAreaTypeNotFound",(function(){return i.ErrSOFAreaTypeNotFound}));var n=r("./sof/shared/EveSOFDataAreaMaterial.js");r.d(t,"EveSOFDataAreaMaterial",(function(){return n.EveSOFDataAreaMaterial}));var a=r("./sof/shared/EveSOFDataBooster.js");r.d(t,"EveSOFDataBooster",(function(){return a.EveSOFDataBooster}));var o=r("./sof/shared/EveSOFDataBoosterShape.js");r.d(t,"EveSOFDataBoosterShape",(function(){return o.EveSOFDataBoosterShape}));var s=r("./sof/shared/EveSOFDataInstancedMesh.js");r.d(t,"EveSOFDataInstancedMesh",(function(){return s.EveSOFDataInstancedMesh}));var u=r("./sof/shared/EveSOFDataLogo.js");r.d(t,"EveSOFDataLogo",(function(){return u.EveSOFDataLogo}));var l=r("./sof/shared/EveSOFDataLogoSet.js");r.d(t,"EveSOFDataLogoSet",(function(){return l.EveSOFDataLogoSet})),r.d(t,"ErrSOFLogoSetTypeUnknown",(function(){return l.ErrSOFLogoSetTypeUnknown})),r.d(t,"ErrSOFLogoSetTypeNotFound",(function(){return l.ErrSOFLogoSetTypeNotFound}));var c=r("./sof/shared/EveSOFDataMaterial.js");r.d(t,"EveSOFDataMaterial",(function(){return c.EveSOFDataMaterial}));var f=r("./sof/shared/EveSOFDataParameter.js");r.d(t,"EveSOFDataParameter",(function(){return f.EveSOFDataParameter}));var d=r("./sof/shared/EveSOFDataTexture.js");r.d(t,"EveSOFDataTexture",(function(){return d.EveSOFDataTexture}));var h=r("./sof/shared/EveSOFDataTransform.js");r.d(t,"EveSOFDataTransform",(function(){return h.EveSOFDataTransform}))},"./unsupported/AudEmitter.js":function(e,t,r){"use strict";r.r(t),r.d(t,"AudEmitter",(function(){return b}));var i,n,a,o,s,u,l=r("./utils/index.js");var c,f,d,h,m,p,b=(i=l.meta.ctor("AudEmitter",!0),n=l.meta.string,i((u=class extends l.meta.Model{constructor(...e){var t,r,i,n;super(...e),t=this,r="name",n=this,(i=s)&&Object.defineProperty(t,r,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}},c=(o=u).prototype,f="name",d=[n],h={configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}},p={},Object.keys(h).forEach((function(e){p[e]=h[e]})),p.enumerable=!!p.enumerable,p.configurable=!!p.configurable,("value"in p||p.initializer)&&(p.writable=!0),p=d.slice().reverse().reduce((function(e,t){return t(c,f,e)||e}),p),m&&void 0!==p.initializer&&(p.value=p.initializer?p.initializer.call(m):void 0,p.initializer=void 0),void 0===p.initializer&&(Object.defineProperty(c,f,p),p=null),s=p,a=o))||a)},"./unsupported/core/Tr2DistanceTracker.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tr2DistanceTracker",(function(){return y}));var i,n,a,o,s,u,l,c,f,d,h,m,p,b=r("./utils/index.js"),v=r("./math/index.js");function g(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function E(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var y=(i=b.meta.notImplemented,n=b.meta.ctor("Tr2DistanceTracker"),a=b.meta.string,o=b.meta.vector3,s=b.meta.vector3,u=b.meta.float,i(l=n((p=class extends b.meta.Model{constructor(...e){super(...e),g(this,"name",f,this),g(this,"direction",d,this),g(this,"targetPosition",h,this),g(this,"value",m,this)}},f=E((c=p).prototype,"name",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),d=E(c.prototype,"direction",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return v.vec3.create()}}),h=E(c.prototype,"targetPosition",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return v.vec3.create()}}),m=E(c.prototype,"value",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),l=c))||l)||l)},"./unsupported/core/TriObserverLocal.js":function(e,t,r){"use strict";r.r(t),r.d(t,"TriObserverLocal",(function(){return g}));var i,n,a,o,s,u,l,c,f,d,h,m=r("./utils/index.js"),p=r("./math/index.js");function b(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function v(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var g=(i=m.meta.notImplemented,n=m.meta.ctor("TriObserverLocal"),a=m.meta.string,o=m.meta.vector3,s=m.meta.struct(),i(u=n((h=class extends m.meta.Model{constructor(...e){super(...e),b(this,"name",c,this),b(this,"front",f,this),b(this,"observer",d,this)}},c=v((l=h).prototype,"name",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),f=v(l.prototype,"front",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return p.vec3.create()}}),d=v(l.prototype,"observer",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),u=l))||u)||u)},"./unsupported/core/index.js":function(e,t,r){"use strict";r.r(t);var i=r("./unsupported/core/lighting/index.js");r.d(t,"Tr2PointLight",(function(){return i.Tr2PointLight})),r.d(t,"Tr2ShLightingManager",(function(){return i.Tr2ShLightingManager}));var n=r("./unsupported/core/mesh/index.js");r.d(t,"Tr2MeshLod",(function(){return n.Tr2MeshLod}));var a=r("./unsupported/core/parameter/index.js");r.d(t,"Tr2ExternalParameter",(function(){return a.Tr2ExternalParameter})),r.d(t,"Tr2Texture2dLodParameter",(function(){return a.Tr2Texture2dLodParameter}));var o=r("./unsupported/core/post/index.js");r.d(t,"Tr2PostProcess",(function(){return o.Tr2PostProcess}));var s=r("./unsupported/core/resource/index.js");r.d(t,"Tr2LodResource",(function(){return s.Tr2LodResource}));var u=r("./unsupported/core/value/index.js");r.d(t,"TriMatrix",(function(){return u.TriMatrix}));var l=r("./unsupported/core/Tr2DistanceTracker.js");r.d(t,"Tr2DistanceTracker",(function(){return l.Tr2DistanceTracker}));var c=r("./unsupported/core/TriObserverLocal.js");r.d(t,"TriObserverLocal",(function(){return c.TriObserverLocal}))},"./unsupported/core/lighting/Tr2PointLight.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tr2PointLight",(function(){return P}));var i,n,a,o,s,u,l,c,f,d,h,m,p,b,v,g,E,y,T,S,w,_,R,j=r("./utils/index.js"),A=r("./math/index.js");function O(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function z(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var P=(i=j.meta.notImplemented,n=j.meta.ctor("Tr2PointLight"),a=j.meta.string,o=j.meta.float,s=j.meta.color,u=j.meta.float,l=j.meta.float,c=j.meta.float,f=j.meta.float,d=j.meta.vector3,h=j.meta.float,i(m=n((R=class extends j.meta.Model{constructor(...e){super(...e),O(this,"name",b,this),O(this,"brightness",v,this),O(this,"color",g,this),O(this,"innerRadius",E,this),O(this,"noiseAmplitude",y,this),O(this,"noiseFrequency",T,this),O(this,"noiseOctaves",S,this),O(this,"position",w,this),O(this,"radius",_,this)}},b=z((p=R).prototype,"name",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),v=z(p.prototype,"brightness",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),g=z(p.prototype,"color",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return A.vec4.create()}}),E=z(p.prototype,"innerRadius",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),y=z(p.prototype,"noiseAmplitude",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),T=z(p.prototype,"noiseFrequency",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),S=z(p.prototype,"noiseOctaves",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),w=z(p.prototype,"position",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return A.vec3.create()}}),_=z(p.prototype,"radius",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),m=p))||m)||m)},"./unsupported/core/lighting/Tr2ShLightingManager.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tr2ShLightingManager",(function(){return p}));var i,n,a,o,s,u,l,c,f,d=r("./utils/index.js");function h(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function m(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var p=(i=d.meta.notImplemented,n=d.meta.ctor("Tr2ShLightingManager"),a=d.meta.float,o=d.meta.float,i(s=n((f=class extends d.meta.Model{constructor(...e){super(...e),h(this,"primaryIntensity",l,this),h(this,"secondaryIntensity",c,this)}},l=m((u=f).prototype,"primaryIntensity",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),c=m(u.prototype,"secondaryIntensity",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),s=u))||s)||s)},"./unsupported/core/lighting/index.js":function(e,t,r){"use strict";r.r(t);var i=r("./unsupported/core/lighting/Tr2PointLight.js");r.d(t,"Tr2PointLight",(function(){return i.Tr2PointLight}));var n=r("./unsupported/core/lighting/Tr2ShLightingManager.js");r.d(t,"Tr2ShLightingManager",(function(){return n.Tr2ShLightingManager}))},"./unsupported/core/mesh/Tr2MeshLod.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tr2MeshLod",(function(){return N}));var i,n,a,o,s,u,l,c,f,d,h,m,p,b,v,g,E,y,T,S,w,_,R,j,A,O,z,P,x,C,D,M,L=r("./utils/index.js"),I=r("./global/engine/Tw2Constant.js");function F(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function G(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var N=(i=L.meta.notImplemented,n=L.meta.ctor("Tr2MeshLod"),a=L.meta.todo("Implement LOD"),o=L.meta.list("Tw2MeshArea"),s=L.meta.notImplemented,u=L.meta.list("Tw2GeometryRes"),l=L.meta.list("Tw2MeshArea"),c=L.meta.notImplemented,f=L.meta.list("Tw2MeshArea"),d=L.meta.notImplemented,h=L.meta.list("Tw2MeshArea"),m=L.meta.struct("Tr2LodResource"),p=L.meta.list("Tw2MeshArea"),b=L.meta.list("Tw2MeshArea"),v=L.meta.list("Tw2MeshArea"),g=L.meta.boolean,E=L.meta.plain,y=L.meta.notImplemented,i(T=n(T=a((M=class extends L.meta.Model{constructor(...e){super(...e),F(this,"additiveAreas",w,this),F(this,"associatedResources",_,this),F(this,"decalAreas",R,this),F(this,"depthAreas",j,this),F(this,"distortionAreas",A,this),F(this,"geometryRes",O,this),F(this,"opaqueAreas",z,this),F(this,"pickableAreas",P,this),F(this,"transparentAreas",x,this),F(this,"display",C,this),F(this,"visible",D,this),this._geometryResource=null}get geometryResource(){return this._geometryResource}set geometryResource(e){this._geometryResource=e}Initialize(){}OnResPrepared(e){this._geometryResource=e}IsGood(){return this._geometryResource&&this._geometryResource.IsGood()}GetResources(e=[]){for(var t=0;t<this.associatedResources;t++)e[t]&&!e.includes(this.associatedResources[t])&&e.push(this.associatedResources[t]);var r=L.perArrayChild;return r(this.additiveAreas,"GetResources",e),r(this.decalAreas,"GetResources",e),r(this.depthAreas,"GetResources",e),r(this.distortionAreas,"GetResources",e),r(this.opaqueAreas,"GetResources",e),r(this.pickableAreas,"GetResources",e),r(this.transparentAreas,"GetResources",e),e}GetBatches(e,t,r){if(!this.IsGood()||!this.display)return!1;var i,n=this.constructor.GetAreaBatches;switch(e){case I.RM_ADDITIVE:this.visible.additiveAreas&&(i=this.additiveAreas);break;case I.RM_DECAL:this.visible.decalAreas&&(i=this.decalAreas);break;case I.RM_DEPTH:this.visible.depthAreas&&(i=this.depthAreas);break;case I.RM_DISTORTION:this.visible.distortionAreas&&(i=this.distortionAreas);break;case I.RM_OPAQUE:this.visible.opaqueAreas&&(i=this.opaqueAreas);break;case I.RM_PICKABLE:this.visible.pickableAreas&&(i=this.pickableAreas);break;case I.RM_TRANSPARENT:this.visible.transparentAreas&&(i=this.transparentAreas)}i&&n(this,i,e,t,r)}EmptyAreas(){this.additiveAreas.splice(0),this.decalAreas.splice(0),this.depthAreas.splice(0),this.distortionAreas.splice(0),this.opaqueAreas.splice(0),this.pickableAreas.splice(0),this.transparentAreas.splice(0)}static GetAreaBatches(e,t,r,i,n){for(var a=0;a<t.length;++a){var o=t[a];if(o.effect&&o.display){var s=new o.constructor.batchType;s.renderMode=r,s.perObjectData=n,s.geometryRes=e._geometryResource,s.meshIx=0,s.start=o.index,s.count=o.count,s.effect=o.effect,i.Commit(s)}}}},w=G((S=M).prototype,"additiveAreas",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),_=G(S.prototype,"associatedResources",[s,u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),R=G(S.prototype,"decalAreas",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),j=G(S.prototype,"depthAreas",[c,f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),A=G(S.prototype,"distortionAreas",[d,h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),O=G(S.prototype,"geometryRes",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),z=G(S.prototype,"opaqueAreas",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),P=G(S.prototype,"pickableAreas",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),x=G(S.prototype,"transparentAreas",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),C=G(S.prototype,"display",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),D=G(S.prototype,"visible",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{opaqueAreas:!0,transparentAreas:!0,additiveAreas:!0,pickableAreas:!0,distortionAreas:!0,decalAreas:!0,depthAreas:!0}}}),G(S.prototype,"Initialize",[y],Object.getOwnPropertyDescriptor(S.prototype,"Initialize"),S.prototype),T=S))||T)||T)||T)},"./unsupported/core/mesh/index.js":function(e,t,r){"use strict";r.r(t);var i=r("./unsupported/core/mesh/Tr2MeshLod.js");r.d(t,"Tr2MeshLod",(function(){return i.Tr2MeshLod}))},"./unsupported/core/parameter/Tr2ExternalParameter.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tr2ExternalParameter",(function(){return g}));var i,n,a,o,s,u,l,c,f,d,h,m=r("./utils/index.js"),p=r("./core/parameter/Tw2Parameter.js");function b(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function v(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var g=(i=m.meta.notImplemented,n=m.meta.ctor("Tr2ExternalParameter"),a=m.meta.string,o=m.meta.string,s=m.meta.struct(),i(u=n((h=class extends p.Tw2Parameter{constructor(...e){super(...e),b(this,"name",c,this),b(this,"destinationAttribute",f,this),b(this,"destinationObject",d,this)}},c=v((l=h).prototype,"name",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),f=v(l.prototype,"destinationAttribute",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),d=v(l.prototype,"destinationObject",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),u=l))||u)||u)},"./unsupported/core/parameter/Tr2Texture2dLodParameter.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tr2Texture2dLodParameter",(function(){return b}));var i,n,a,o,s,u,l,c,f,d=r("./utils/index.js"),h=r("./core/index.js");function m(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function p(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var b=(i=d.meta.notImplemented,n=d.meta.ctor("Tr2Texture2dLodParameter"),a=d.meta.string,o=d.meta.struct("Tr2LodResource"),i(s=n((f=class extends h.Tw2Parameter{constructor(...e){super(...e),m(this,"name",l,this),m(this,"lodResource",c,this)}},l=p((u=f).prototype,"name",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),c=p(u.prototype,"lodResource",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),s=u))||s)||s)},"./unsupported/core/parameter/index.js":function(e,t,r){"use strict";r.r(t);var i=r("./unsupported/core/parameter/Tr2ExternalParameter.js");r.d(t,"Tr2ExternalParameter",(function(){return i.Tr2ExternalParameter}));var n=r("./unsupported/core/parameter/Tr2Texture2dLodParameter.js");r.d(t,"Tr2Texture2dLodParameter",(function(){return n.Tr2Texture2dLodParameter}))},"./unsupported/core/post/Tr2PostProcess.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tr2PostProcess",(function(){return v}));var i,n,a,o,s,u,l,c=r("./utils/index.js");var f,d,h,m,p,b,v=(i=c.meta.notImplemented,n=c.meta.ctor("Tr2PostProcess"),a=c.meta.list("Tw2Effect"),i(o=n((l=class extends c.meta.Model{constructor(...e){var t,r,i,n;super(...e),t=this,r="stages",n=this,(i=u)&&Object.defineProperty(t,r,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}},f=(s=l).prototype,d="stages",h=[a],m={configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}},b={},Object.keys(m).forEach((function(e){b[e]=m[e]})),b.enumerable=!!b.enumerable,b.configurable=!!b.configurable,("value"in b||b.initializer)&&(b.writable=!0),b=h.slice().reverse().reduce((function(e,t){return t(f,d,e)||e}),b),p&&void 0!==b.initializer&&(b.value=b.initializer?b.initializer.call(p):void 0,b.initializer=void 0),void 0===b.initializer&&(Object.defineProperty(f,d,b),b=null),u=b,o=s))||o)||o)},"./unsupported/core/post/index.js":function(e,t,r){"use strict";r.r(t);var i=r("./unsupported/core/post/Tr2PostProcess.js");r.d(t,"Tr2PostProcess",(function(){return i.Tr2PostProcess}))},"./unsupported/core/resource/Tw2LodResource.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tr2LodResource",(function(){return y}));var i,n,a,o,s,u,l,c,f,d,h,m,p,b=r("./global/index.js"),v=r("./utils/index.js");function g(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function E(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var y=(i=v.meta.notImplemented,n=v.meta.ctor("Tr2LodResource"),a=v.meta.string,o=v.meta.path,s=v.meta.path,u=v.meta.path,i(l=n((p=class e extends v.meta.Model{get highDetailRes(){return this.GetLODResource(3)}get mediumDetailRes(){return this.GetLODResource(2)}get lowDetailRes(){return this.GetLODResource(1)}constructor(e="",t){super(),g(this,"name",f,this),g(this,"highDetailResPath",d,this),g(this,"lowDetailResPath",h,this),g(this,"mediumDetailResPath",m,this),this.name=e,t&&this.SetPaths(...Object(v.toArray)(t))}SetPaths(e="",t="",r=""){var i=!1;return e!==this.highDetailResPath&&(this.highDetailResPath=e,i=!0),t!==this.mediumDetailResPath&&(this.mediumDetailResPath=t,i=!0),r!==this.lowDetailResPath&&(this.lowDetailResPath=r,i=!0),i}GetLODResource(e=3){var t,r=this.highDetailResPath,i=this.mediumDetailResPath,n=this.lowDetailResPath;return e>2?r?t=r:i?t=i:n&&(t=n):2===e?i?t=i:r?t=r:n&&(t=n):n?t=n:i?t=i:r&&(t=r),t?b.resMan.GetResource(t):null}static from(t){var r=new e;return t&&(r.name=t.name||"",r.SetPaths(t.highDetailResPath,t.mediumDetailResPath,t.lowDetailResPath)),r}},f=E((c=p).prototype,"name",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),d=E(c.prototype,"highDetailResPath",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),h=E(c.prototype,"lowDetailResPath",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),m=E(c.prototype,"mediumDetailResPath",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),l=c))||l)||l)},"./unsupported/core/resource/index.js":function(e,t,r){"use strict";r.r(t);var i=r("./unsupported/core/resource/Tw2LodResource.js");r.d(t,"Tr2LodResource",(function(){return i.Tr2LodResource}))},"./unsupported/core/value/TriMatrix.js":function(e,t,r){"use strict";r.r(t),r.d(t,"TriMatrix",(function(){return H}));var i,n,a,o,s,u,l,c,f,d,h,m,p,b,v,g,E,y,T,S,w,_,R,j,A,O,z,P,x,C,D,M,L,I,F,G,N,B,U=r("./utils/index.js");function V(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function k(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var H=(i=U.meta.notImplemented,n=U.meta.ctor("TriMatrix"),a=U.meta.todo("Should this default to a identity matrix?"),o=U.meta.float,s=U.meta.float,u=U.meta.float,l=U.meta.float,c=U.meta.float,f=U.meta.float,d=U.meta.float,h=U.meta.float,m=U.meta.float,p=U.meta.float,b=U.meta.float,v=U.meta.float,g=U.meta.float,E=U.meta.float,y=U.meta.float,T=U.meta.float,i(S=n(S=a((B=class extends U.meta.Model{constructor(...e){super(...e),V(this,"_11",_,this),V(this,"_12",R,this),V(this,"_13",j,this),V(this,"_14",A,this),V(this,"_21",O,this),V(this,"_22",z,this),V(this,"_23",P,this),V(this,"_24",x,this),V(this,"_31",C,this),V(this,"_32",D,this),V(this,"_33",M,this),V(this,"_34",L,this),V(this,"_41",I,this),V(this,"_42",F,this),V(this,"_43",G,this),V(this,"_44",N,this)}},_=k((w=B).prototype,"_11",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),R=k(w.prototype,"_12",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),j=k(w.prototype,"_13",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),A=k(w.prototype,"_14",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),O=k(w.prototype,"_21",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),z=k(w.prototype,"_22",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),P=k(w.prototype,"_23",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),x=k(w.prototype,"_24",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),C=k(w.prototype,"_31",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),D=k(w.prototype,"_32",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),M=k(w.prototype,"_33",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),L=k(w.prototype,"_34",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),I=k(w.prototype,"_41",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),F=k(w.prototype,"_42",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),G=k(w.prototype,"_43",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),N=k(w.prototype,"_44",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),S=w))||S)||S)||S)},"./unsupported/core/value/index.js":function(e,t,r){"use strict";r.r(t);var i=r("./unsupported/core/value/TriMatrix.js");r.d(t,"TriMatrix",(function(){return i.TriMatrix}))},"./unsupported/curve/Tw2CurveSetRange.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tw2CurveSetRange",(function(){return E}));var i,n,a,o,s,u,l,c,f,d,h,m,p,b=r("./utils/index.js");function v(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function g(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var E=(i=b.meta.notImplemented,n=b.meta.ctor("Tw2CurveSetRange"),a=b.meta.string,o=b.meta.float,s=b.meta.boolean,u=b.meta.float,i(l=n((p=class extends b.meta.Model{constructor(...e){super(...e),v(this,"name",f,this),v(this,"endTime",d,this),v(this,"looped",h,this),v(this,"startTime",m,this)}},f=g((c=p).prototype,"name",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),d=g(c.prototype,"endTime",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),h=g(c.prototype,"looped",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),m=g(c.prototype,"startTime",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),l=c))||l)||l)},"./unsupported/curve/adapter/Tr2RotationAdapter.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tr2RotationAdapter",(function(){return l}));var i,n,a,o=r("./utils/index.js"),s=r("./math/index.js"),u=r("./unsupported/curve/adapter/Tw2CurveAdapter.js"),l=(0,o.meta.notImplemented)(i=o.meta.ctor("Tr2RotationAdapter")((a=n=class extends u.Tw2CurveAdapter{constructor(...e){super(...e),this.curve=null,this.value=s.vec4.create()}GetValueAt(e,t){return this.curve&&this.curve.GetValueAt(e,this.value),s.vec4.copy(t,this.value)}},n.outputDimension=4,i=a))||i)||i},"./unsupported/curve/adapter/Tr2TranslationAdapter.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tr2TranslationAdapter",(function(){return g}));var i,n,a,o,s,u,l,c,f,d,h=r("./utils/index.js"),m=r("./math/index.js"),p=r("./unsupported/curve/adapter/Tw2CurveAdapter.js");function b(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function v(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var g=(i=h.meta.notImplemented,n=h.meta.ctor("Tr2TranslationAdapter"),a=h.meta.struct("Tw2Curve"),o=h.meta.vector3,i(s=n((d=f=class extends p.Tw2CurveAdapter{constructor(...e){super(...e),b(this,"curve",l,this),b(this,"value",c,this)}GetValueAt(e,t){return this.curve&&this.curve.GetValueAt(e,this.value),m.vec3.copy(t,this.value)}},f.outputDimension=3,l=v((u=d).prototype,"curve",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),c=v(u.prototype,"value",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return m.vec3.create()}}),s=u))||s)||s)},"./unsupported/curve/adapter/Tw2CurveAdapter.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tw2CurveAdapter",(function(){return u}));var i,n,a,o=r("./utils/index.js"),s=r("./curve/index.js"),u=o.meta.ctor("Tw2CurveAdapter")((a=n=class extends s.Tw2Curve{constructor(...e){super(...e),this.name="",this.curve=null,this.value=null}Sort(){this.curve&&this.curve.Sort()}UpdateValue(e){this.GetValueAt(e,this.value)}},n.valueProperty="value",n.curveType=s.Tw2Curve.Type.ADAPTER,i=a))||i},"./unsupported/curve/adapter/index.js":function(e,t,r){"use strict";r.r(t);var i=r("./unsupported/curve/adapter/Tr2RotationAdapter.js");r.d(t,"Tr2RotationAdapter",(function(){return i.Tr2RotationAdapter}));var n=r("./unsupported/curve/adapter/Tr2TranslationAdapter.js");r.d(t,"Tr2TranslationAdapter",(function(){return n.Tr2TranslationAdapter}))},"./unsupported/curve/curve/AudEventCurve.js":function(e,t,r){"use strict";r.r(t),r.d(t,"AudEventKey",(function(){return j})),r.d(t,"AudEventCurve",(function(){return A}));var i,n,a,o,s,u,l,c,f,d,h,m,p,b,v,g,E,y,T,S=r("./utils/index.js"),w=r("./curve/index.js");function _(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function R(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var j=(i=S.meta.ctor("AudEventKey"),n=S.meta.float,a=S.meta.ushort,i((c=class extends w.Tw2CurveKey{constructor(...e){super(...e),_(this,"time",u,this),_(this,"value",l,this)}},u=R((s=c).prototype,"time",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),l=R(s.prototype,"value",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),o=s))||o),A=(f=S.meta.notImplemented,d=S.meta.ctor("AudEventCurve"),h=S.meta.string,m=S.meta.list("AudEventKey"),p=S.meta.struct("TriObserverLocal"),f(b=d((T=class extends w.Tw2Curve{constructor(...e){super(...e),_(this,"name",g,this),_(this,"keys",E,this),_(this,"sourceTriObserver",y,this)}},g=R((v=T).prototype,"name",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),E=R(v.prototype,"keys",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),y=R(v.prototype,"sourceTriObserver",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),b=v))||b)||b)},"./unsupported/curve/curve/Tr2BoneMatrixCurve.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tr2BoneMatrixCurve",(function(){return g}));var i,n,a,o,s,u,l,c=r("./utils/index.js"),f=r("./curve/index.js");var d,h,m,p,b,v,g=(i=c.meta.notImplemented,n=c.meta.ctor("Tr2BoneMatrixCurve"),a=c.meta.string,i(o=n((l=class extends f.Tw2Curve{constructor(...e){var t,r,i,n;super(...e),t=this,r="name",n=this,(i=u)&&Object.defineProperty(t,r,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}},d=(s=l).prototype,h="name",m=[a],p={configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}},v={},Object.keys(p).forEach((function(e){v[e]=p[e]})),v.enumerable=!!v.enumerable,v.configurable=!!v.configurable,("value"in v||v.initializer)&&(v.writable=!0),v=m.slice().reverse().reduce((function(e,t){return t(d,h,e)||e}),v),b&&void 0!==v.initializer&&(v.value=v.initializer?v.initializer.call(b):void 0,v.initializer=void 0),void 0===v.initializer&&(Object.defineProperty(d,h,v),v=null),u=v,o=s))||o)||o)},"./unsupported/curve/curve/Tr2CurveConstant.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tr2CurveConstant",(function(){return E}));var i,n,a,o,s,u,l,c,f,d,h,m=r("./utils/index.js"),p=r("./math/index.js"),b=r("./curve/index.js");function v(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function g(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var E=(i=m.meta.notImplemented,n=m.meta.ctor("Tw2CurveConstant"),a=m.meta.todo("Is this a curve or a key?"),o=m.meta.string,s=m.meta.vector4,i(u=n(u=a((h=d=class extends b.Tw2Curve{constructor(...e){super(...e),v(this,"name",c,this),v(this,"value",f,this)}Sort(){}GetLength(){return 0}UpdateValue(e,t){p.vec4.copy(t,this.value)}},d.inputDimension=4,d.outputDimension=4,d.valueProperty="value",d.curveType=b.Tw2Curve.Type.CURVE_NO_KEYS,c=g((l=h).prototype,"name",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),f=g(l.prototype,"value",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return p.vec4.create()}}),u=l))||u)||u)||u)},"./unsupported/curve/curve/Tr2CurveScalar.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tw2CurveScalarKey",(function(){return H})),r.d(t,"Tr2CurveScalar",(function(){return q}));var i,n,a,o,s,u,l,c,f,d,h,m,p,b,v,g,E,y,T,S,w,_,R,j,A,O,z,P,x,C,D,M,L,I,F,G,N,B=r("./utils/index.js"),U=r("./curve/index.js");function V(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function k(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var H=(i=B.meta.ctor("Tw2CurveScalarKey"),n=B.meta.float,a=B.meta.uint,o=B.meta.uint,s=B.meta.uint,u=B.meta.float,l=B.meta.float,i((g=class extends U.Tw2CurveKey{constructor(...e){super(...e),V(this,"endTangent",d,this),V(this,"extrapolation",h,this),V(this,"index",m,this),V(this,"interpolation",p,this),V(this,"startTangent",b,this),V(this,"value",v,this)}static blackStruct(e){var t=new this;return t.time=e.ReadF32(),t.value=e.ReadF32(),t.startTangent=e.ReadF32(),t.endTangent=e.ReadF32(),t.index=e.ReadU16(),t.interpolation=e.ReadU8(),t.extrapolation=e.ReadU8(),t}},d=k((f=g).prototype,"endTangent",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),h=k(f.prototype,"extrapolation",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),m=k(f.prototype,"index",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),p=k(f.prototype,"interpolation",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),b=k(f.prototype,"startTangent",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),v=k(f.prototype,"value",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),c=f))||c),q=(E=B.meta.notImplemented,y=B.meta.ctor("Tr2CurveScalar"),T=B.meta.string,S=B.meta.uint,w=B.meta.uint,_=B.meta.list(H),R=B.meta.float,j=B.meta.float,A=B.meta.float,O=B.meta.isPrivate,E(z=y((N=G=class extends U.Tw2Curve{constructor(...e){super(...e),V(this,"name",x,this),V(this,"extrapolationAfter",C,this),V(this,"extrapolationBefore",D,this),V(this,"keys",M,this),V(this,"timeOffset",L,this),V(this,"timeScale",I,this),V(this,"currentValue",F,this),this._length=0}Sort(){this._length=U.Tw2Curve.Sort3(this.keys)}GetLength(){return this._length}},G.inputDimension=1,G.outputDimension=1,G.valueProperty="currentValue",G.curveType=U.Tw2Curve.Type.CURVE3,G.Key=H,G.Interpolation={},G.Extrapolation={},x=k((P=N).prototype,"name",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),C=k(P.prototype,"extrapolationAfter",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),D=k(P.prototype,"extrapolationBefore",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),M=k(P.prototype,"keys",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),L=k(P.prototype,"timeOffset",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),I=k(P.prototype,"timeScale",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),F=k(P.prototype,"currentValue",[A,O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),z=P))||z)||z)},"./unsupported/curve/curve/Tr2ScalarExprCurve.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tr2ScalarExprCurve",(function(){return D}));var i,n,a,o,s,u,l,c,f,d,h,m,p,b,v,g,E,y,T,S,w,_,R,j,A,O,z=r("./curve/curve/index.js"),P=r("./utils/index.js");function x(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function C(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var D=(i=P.meta.ctor("Tr2ScalarExprCurve"),n=P.meta.notImplemented,a=P.meta.float,o=P.meta.float,s=P.meta.float,u=P.meta.float,l=P.meta.isPrivate,c=P.meta.float,f=P.meta.isPrivate,d=P.meta.uint,h=P.meta.uint,m=P.meta.isPrivate,p=P.meta.string,b=P.meta.expression,i(v=n((O=class extends z.Tw2Curve{constructor(...e){super(...e),x(this,"input1",E,this),x(this,"input2",y,this),x(this,"input3",T,this),x(this,"value",S,this),x(this,"currentValue",w,this),x(this,"cycle",_,this),x(this,"length",R,this),x(this,"name",j,this),x(this,"expr",A,this)}},E=C((g=O).prototype,"input1",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),y=C(g.prototype,"input2",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),T=C(g.prototype,"input3",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),S=C(g.prototype,"value",[u,l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),w=C(g.prototype,"currentValue",[c,f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),_=C(g.prototype,"cycle",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),R=C(g.prototype,"length",[h,m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),j=C(g.prototype,"name",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),A=C(g.prototype,"expr",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),v=g))||v)||v)},"./unsupported/curve/curve/Tr2ScalarExprKeyCurve.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tr2ScalarExprKey",(function(){return k})),r.d(t,"Tr2ScalarExprKeyCurve",(function(){return H}));var i,n,a,o,s,u,l,c,f,d,h,m,p,b,v,g,E,y,T,S,w,_,R,j,A,O,z,P,x,C,D,M,L,I,F,G,N=r("./utils/index.js"),B=r("./curve/index.js");function U(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function V(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var k=(i=N.meta.ctor("Tr2ScalarExprKey"),n=N.meta.float,a=N.meta.float,o=N.meta.float,s=N.meta.uint,u=N.meta.float,l=N.meta.float,c=N.meta.float,f=N.meta.expression,d=N.meta.float,h=N.meta.isPrivate,i((R=class extends B.Tw2CurveKey{constructor(...e){super(...e),U(this,"input1",b,this),U(this,"input2",v,this),U(this,"input3",g,this),U(this,"interpolation",E,this),U(this,"left",y,this),U(this,"right",T,this),U(this,"time",S,this),U(this,"timeExpression",w,this),U(this,"value",_,this)}},b=V((p=R).prototype,"input1",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return-1}}),v=V(p.prototype,"input2",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return-1}}),g=V(p.prototype,"input3",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return-1}}),E=V(p.prototype,"interpolation",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),y=V(p.prototype,"left",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),T=V(p.prototype,"right",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),S=V(p.prototype,"time",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),w=V(p.prototype,"timeExpression",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),_=V(p.prototype,"value",[d,h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),m=p))||m),H=(j=N.meta.notImplemented,A=N.meta.ctor("Tr2ScalarExprKeyCurve"),O=N.meta.string,z=N.meta.uint,P=N.meta.list("Tr2ScalarExprKey"),x=N.meta.float,j(C=A((G=class extends B.Tw2Curve{constructor(...e){super(...e),U(this,"name",M,this),U(this,"interpolation",L,this),U(this,"keys",I,this),U(this,"currentValue",F,this)}},M=V((D=G).prototype,"name",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),L=V(D.prototype,"interpolation",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),I=V(D.prototype,"keys",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),F=V(D.prototype,"currentValue",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),C=D))||C)||C)},"./unsupported/curve/curve/index.js":function(e,t,r){"use strict";r.r(t);var i=r("./unsupported/curve/curve/AudEventCurve.js");r.d(t,"AudEventKey",(function(){return i.AudEventKey})),r.d(t,"AudEventCurve",(function(){return i.AudEventCurve}));var n=r("./unsupported/curve/curve/Tr2BoneMatrixCurve.js");r.d(t,"Tr2BoneMatrixCurve",(function(){return n.Tr2BoneMatrixCurve}));var a=r("./unsupported/curve/curve/Tr2CurveConstant.js");r.d(t,"Tr2CurveConstant",(function(){return a.Tr2CurveConstant}));var o=r("./unsupported/curve/curve/Tr2CurveScalar.js");r.d(t,"Tw2CurveScalarKey",(function(){return o.Tw2CurveScalarKey})),r.d(t,"Tr2CurveScalar",(function(){return o.Tr2CurveScalar}));var s=r("./unsupported/curve/curve/Tr2ScalarExprKeyCurve.js");r.d(t,"Tr2ScalarExprKey",(function(){return s.Tr2ScalarExprKey})),r.d(t,"Tr2ScalarExprKeyCurve",(function(){return s.Tr2ScalarExprKeyCurve}));var u=r("./unsupported/curve/curve/Tr2ScalarExprCurve.js");r.d(t,"Tr2ScalarExprCurve",(function(){return u.Tr2ScalarExprCurve}))},"./unsupported/curve/expression/Tr2CurveEulerRotationExpression.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tr2CurveEulerRotationExpression",(function(){return A}));var i,n,a,o,s,u,l,c,f,d,h,m,p,b,v,g,E,y,T,S=r("./utils/index.js"),w=r("./math/index.js"),_=r("./unsupported/curve/expression/Tw2CurveExpression.js");function R(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function j(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var A=(i=S.meta.notImplemented,n=S.meta.ctor("Tr2CurveEulerRotationExpression"),a=S.meta.string,o=S.meta.list(),s=S.meta.expression,u=S.meta.expression,l=S.meta.expression,c=S.meta.quaternion,f=S.meta.isPrivate,i(d=n((T=y=class extends _.Tw2CurveExpression{constructor(...e){super(...e),R(this,"name",m,this),R(this,"inputs",p,this),R(this,"expressionPitch",b,this),R(this,"expressionRoll",v,this),R(this,"expressionYaw",g,this),R(this,"currentValue",E,this)}},y.inputDimension=1,y.outputDimension=4,y.valueProperty="currentValue",y.childProperties=["expressionPitch","expressionRoll","expressionYaw"],m=j((h=T).prototype,"name",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),p=j(h.prototype,"inputs",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),b=j(h.prototype,"expressionPitch",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),v=j(h.prototype,"expressionRoll",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),g=j(h.prototype,"expressionYaw",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),E=j(h.prototype,"currentValue",[c,f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return w.quat.create()}}),d=h))||d)||d)},"./unsupported/curve/expression/Tr2CurveScalarExpression.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tr2CurveScalarExpression",(function(){return x}));var i,n,a,o,s,u,l,c,f,d,h,m,p,b,v,g,E,y,T,S,w,_,R,j,A=r("./unsupported/curve/expression/Tw2CurveExpression.js"),O=r("./utils/index.js");function z(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function P(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var x=(i=O.meta.notImplemented,n=O.meta.ctor("Tr2CurveScalarExpression"),a=O.meta.string,o=O.meta.list(),s=O.meta.expression,u=O.meta.float,l=O.meta.todo("Figure out the default value"),c=O.meta.float,f=O.meta.todo("Figure out the default value"),d=O.meta.float,h=O.meta.todo("Figure out the default value"),m=O.meta.float,p=O.meta.isPrivate,i(b=n((j=R=class extends A.Tw2CurveExpression{constructor(...e){super(...e),z(this,"name",g,this),z(this,"inputs",E,this),z(this,"expression",y,this),z(this,"input1",T,this),z(this,"input2",S,this),z(this,"input3",w,this),z(this,"currentValue",_,this)}},R.inputDimension=1,R.outputDimension=1,R.valueProperty="currentValue",R.childProperties=["expression"],g=P((v=j).prototype,"name",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),E=P(v.prototype,"inputs",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),y=P(v.prototype,"expression",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),T=P(v.prototype,"input1",[u,l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return-1}}),S=P(v.prototype,"input2",[c,f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return-1}}),w=P(v.prototype,"input3",[d,h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return-1}}),_=P(v.prototype,"currentValue",[m,p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),b=v))||b)||b)},"./unsupported/curve/expression/Tr2CurveVector3Expression.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tr2CurveVector3Expression",(function(){return A}));var i,n,a,o,s,u,l,c,f,d,h,m,p,b,v,g,E,y,T,S=r("./utils/index.js"),w=r("./math/index.js"),_=r("./unsupported/curve/expression/Tw2CurveExpression.js");function R(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function j(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var A=(i=S.meta.notImplemented,n=S.meta.ctor("Tr2CurveVector3Expression"),a=S.meta.string,o=S.meta.list(),s=S.meta.expression,u=S.meta.expression,l=S.meta.expression,c=S.meta.vector3,f=S.meta.isPrivate,i(d=n((T=y=class extends _.Tw2CurveExpression{constructor(...e){super(...e),R(this,"name",m,this),R(this,"inputs",p,this),R(this,"expressionX",b,this),R(this,"expressionY",v,this),R(this,"expressionZ",g,this),R(this,"currentValue",E,this)}},y.inputDimension=1,y.outputDimension=3,y.valueProperty="currentValue",y.childProperties=["expressionX","expressionY","expressionZ"],m=j((h=T).prototype,"name",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),p=j(h.prototype,"inputs",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),b=j(h.prototype,"expressionX",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),v=j(h.prototype,"expressionY",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),g=j(h.prototype,"expressionZ",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),E=j(h.prototype,"currentValue",[c,f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return w.vec3.create()}}),d=h))||d)||d)},"./unsupported/curve/expression/Tw2CurveExpression.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tw2CurveExpression",(function(){return b}));var i,n,a,o,s,u,l,c,f,d=r("./utils/index.js"),h=r("./curve/index.js");function m(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function p(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var b=(i=d.meta.ctor("Tw2CurveExpression"),n=d.meta.string,a=d.meta.list(),i((f=c=class extends h.Tw2Curve{constructor(...e){super(...e),m(this,"name",u,this),m(this,"inputs",l,this)}UpdateValue(e){this.GetValueAt(e,this.currentValue)}},c.curveType=h.Tw2Curve.Type.EXPRESSION,u=p((s=f).prototype,"name",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),l=p(s.prototype,"inputs",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),o=s))||o)},"./unsupported/curve/expression/index.js":function(e,t,r){"use strict";r.r(t);var i=r("./unsupported/curve/expression/Tr2CurveEulerRotationExpression.js");r.d(t,"Tr2CurveEulerRotationExpression",(function(){return i.Tr2CurveEulerRotationExpression}));var n=r("./unsupported/curve/expression/Tr2CurveScalarExpression.js");r.d(t,"Tr2CurveScalarExpression",(function(){return n.Tr2CurveScalarExpression}));var a=r("./unsupported/curve/expression/Tr2CurveVector3Expression.js");r.d(t,"Tr2CurveVector3Expression",(function(){return a.Tr2CurveVector3Expression}));var o=r("./unsupported/curve/expression/Tw2CurveExpression.js");r.d(t,"Tw2CurveExpression",(function(){return o.Tw2CurveExpression}))},"./unsupported/curve/index.js":function(e,t,r){"use strict";r.r(t);var i=r("./unsupported/curve/adapter/index.js");r.d(t,"Tr2RotationAdapter",(function(){return i.Tr2RotationAdapter})),r.d(t,"Tr2TranslationAdapter",(function(){return i.Tr2TranslationAdapter}));var n=r("./unsupported/curve/curve/index.js");r.d(t,"AudEventKey",(function(){return n.AudEventKey})),r.d(t,"AudEventCurve",(function(){return n.AudEventCurve})),r.d(t,"Tr2BoneMatrixCurve",(function(){return n.Tr2BoneMatrixCurve})),r.d(t,"Tr2CurveConstant",(function(){return n.Tr2CurveConstant})),r.d(t,"Tw2CurveScalarKey",(function(){return n.Tw2CurveScalarKey})),r.d(t,"Tr2CurveScalar",(function(){return n.Tr2CurveScalar})),r.d(t,"Tr2ScalarExprKey",(function(){return n.Tr2ScalarExprKey})),r.d(t,"Tr2ScalarExprKeyCurve",(function(){return n.Tr2ScalarExprKeyCurve})),r.d(t,"Tr2ScalarExprCurve",(function(){return n.Tr2ScalarExprCurve}));var a=r("./unsupported/curve/expression/index.js");r.d(t,"Tr2CurveEulerRotationExpression",(function(){return a.Tr2CurveEulerRotationExpression})),r.d(t,"Tr2CurveScalarExpression",(function(){return a.Tr2CurveScalarExpression})),r.d(t,"Tr2CurveVector3Expression",(function(){return a.Tr2CurveVector3Expression})),r.d(t,"Tw2CurveExpression",(function(){return a.Tw2CurveExpression}));var o=r("./unsupported/curve/Tw2CurveSetRange.js");r.d(t,"Tw2CurveSetRange",(function(){return o.Tw2CurveSetRange}))},"./unsupported/eve/animation/EveAnimation.js":function(e,t,r){"use strict";r.r(t),r.d(t,"EveAnimation",(function(){return m}));var i,n,a,o,s,u,l,c,f=r("./utils/index.js");function d(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function h(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var m=(i=f.meta.notImplemented,n=f.meta.ctor("EveAnimation"),a=f.meta.string,o=f.meta.uint,i(s=n((l=h((u=class{constructor(){d(this,"name",l,this),d(this,"loops",c,this)}}).prototype,"name",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),c=h(u.prototype,"loops",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),s=u))||s)||s)},"./unsupported/eve/animation/EveAnimationCommand.js":function(e,t,r){"use strict";r.r(t),r.d(t,"EveAnimationCommand",(function(){return g}));var i,n,a,o,s,u,l,c,f=r("./utils/index.js");var d,h,m,p,b,v,g=(i=f.meta.notImplemented,n=f.meta.ctor("EveAnimationCommand"),a=f.meta.uint,o=f.meta.todo("Identify default value"),i(s=n((c=class{constructor(){var e,t,r,i;e=this,t="command",i=this,(r=l)&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}},d=(u=c).prototype,h="command",m=[a,o],p={configurable:!0,enumerable:!0,writable:!0,initializer:function(){return-1}},v={},Object.keys(p).forEach((function(e){v[e]=p[e]})),v.enumerable=!!v.enumerable,v.configurable=!!v.configurable,("value"in v||v.initializer)&&(v.writable=!0),v=m.slice().reverse().reduce((function(e,t){return t(d,h,e)||e}),v),b&&void 0!==v.initializer&&(v.value=v.initializer?v.initializer.call(b):void 0,v.initializer=void 0),void 0===v.initializer&&(Object.defineProperty(d,h,v),v=null),l=v,s=u))||s)||s)},"./unsupported/eve/animation/EveAnimationCurve.js":function(e,t,r){"use strict";r.r(t),r.d(t,"EveAnimationCurve",(function(){return v}));var i,n,a,o,s,u,l,c=r("./utils/index.js");var f,d,h,m,p,b,v=(i=c.meta.notImplemented,n=c.meta.ctor("EveAnimationCurve"),a=c.meta.string,i(o=n((l=class{constructor(){var e,t,r,i;e=this,t="name",i=this,(r=u)&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}},f=(s=l).prototype,d="name",h=[a],m={configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}},b={},Object.keys(m).forEach((function(e){b[e]=m[e]})),b.enumerable=!!b.enumerable,b.configurable=!!b.configurable,("value"in b||b.initializer)&&(b.writable=!0),b=h.slice().reverse().reduce((function(e,t){return t(f,d,e)||e}),b),p&&void 0!==b.initializer&&(b.value=b.initializer?b.initializer.call(p):void 0,b.initializer=void 0),void 0===b.initializer&&(Object.defineProperty(f,d,b),b=null),u=b,o=s))||o)||o)},"./unsupported/eve/animation/EveAnimationState.js":function(e,t,r){"use strict";r.r(t),r.d(t,"EveAnimationState",(function(){return w}));var i,n,a,o,s,u,l,c,f,d,h,m,p,b,v,g,E=r("./utils/index.js"),y=r("./unsupported/eve/animation/EveAnimationStateTransition.js");function T(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function S(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var w=(i=E.meta.notImplemented,n=E.meta.ctor("EveAnimationState"),a=E.meta.string,o=E.meta.struct("EveAnimationCurve"),s=E.meta.list("EveAnimationCommand"),u=E.meta.list("EveAnimationCommand"),l=E.meta.list("EveAnimationCommand"),c=E.meta.list(y.EveAnimationStateTransition),i(f=n((h=S((d=class{constructor(){T(this,"name",h,this),T(this,"animation",m,this),T(this,"curves",p,this),T(this,"commands",b,this),T(this,"initCommands",v,this),T(this,"transitions",g,this)}}).prototype,"name",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),m=S(d.prototype,"animation",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),p=S(d.prototype,"curves",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),b=S(d.prototype,"commands",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),v=S(d.prototype,"initCommands",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),g=S(d.prototype,"transitions",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),f=d))||f)||f)},"./unsupported/eve/animation/EveAnimationStateMachine.js":function(e,t,r){"use strict";r.r(t),r.d(t,"EveAnimationStateMachine",(function(){return S}));var i,n,a,o,s,u,l,c,f,d,h,m,p,b,v,g,E=r("./utils/index.js");function y(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function T(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var S=(i=E.meta.notImplemented,n=E.meta.ctor("EveAnimationStateMachine"),a=E.meta.string,o=E.meta.boolean,s=E.meta.list("EveAnimationState"),u=E.meta.list("EveAnimationStateTransition"),l=E.meta.string,c=E.meta.string,i(f=n((h=T((d=class{constructor(){y(this,"name",h,this),y(this,"autoPlayDefault",m,this),y(this,"states",p,this),y(this,"transitions",b,this),y(this,"trackMask",v,this),y(this,"defaultAnimation",g,this)}}).prototype,"name",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),m=T(d.prototype,"autoPlayDefault",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),p=T(d.prototype,"states",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),b=T(d.prototype,"transitions",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),v=T(d.prototype,"trackMask",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),g=T(d.prototype,"defaultAnimation",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),f=d))||f)||f)},"./unsupported/eve/animation/EveAnimationStateTransition.js":function(e,t,r){"use strict";r.r(t),r.d(t,"EveAnimationStateTransition",(function(){return m}));var i,n,a,o,s,u,l,c,f=r("./utils/index.js");function d(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function h(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var m=(i=f.meta.notImplemented,n=f.meta.ctor("EveAnimationStateTransition"),a=f.meta.string,o=f.meta.string,i(s=n((l=h((u=class e{constructor(){d(this,"state",l,this),d(this,"transition",c,this)}static blackStruct(t){var r=new e;return r.state=t.ReadStringU16(),t.ExpectU8(0,"unknown content"),t.ExpectU8(0,"unknown content"),t.ExpectU8(0,"unknown content"),t.ExpectU8(0,"unknown content"),t.ExpectU8(0,"unknown content"),t.ExpectU8(0,"unknown content"),r.transition=t.ReadStringU16(),t.ExpectU8(0,"unknown content"),t.ExpectU8(0,"unknown content"),t.ExpectU8(0,"unknown content"),t.ExpectU8(0,"unknown content"),t.ExpectU8(0,"unknown content"),t.ExpectU8(0,"unknown content"),r}}).prototype,"state",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),c=h(u.prototype,"transition",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),s=u))||s)||s)},"./unsupported/eve/animation/index.js":function(e,t,r){"use strict";r.r(t);var i=r("./unsupported/eve/animation/EveAnimation.js");r.d(t,"EveAnimation",(function(){return i.EveAnimation}));var n=r("./unsupported/eve/animation/EveAnimationCommand.js");r.d(t,"EveAnimationCommand",(function(){return n.EveAnimationCommand}));var a=r("./unsupported/eve/animation/EveAnimationCurve.js");r.d(t,"EveAnimationCurve",(function(){return a.EveAnimationCurve}));var o=r("./unsupported/eve/animation/EveAnimationState.js");r.d(t,"EveAnimationState",(function(){return o.EveAnimationState}));var s=r("./unsupported/eve/animation/EveAnimationStateMachine.js");r.d(t,"EveAnimationStateMachine",(function(){return s.EveAnimationStateMachine}))},"./unsupported/eve/child/EveChildBulletStorm.js":function(e,t,r){"use strict";r.r(t),r.d(t,"EveChildBulletStorm",(function(){return S}));var i,n,a,o,s,u,l,c,f,d,h,m,p,b,v,g=r("./eve/child/index.js"),E=r("./utils/index.js");function y(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function T(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var S=(i=E.meta.notImplemented,n=E.meta.ctor("EveChildBulletStorm"),a=E.meta.struct("Tw2Effect"),o=E.meta.uint,s=E.meta.float,u=E.meta.string,l=E.meta.float,i(c=n((v=class extends g.EveChild{constructor(...e){super(...e),y(this,"effect",d,this),y(this,"multiplier",h,this),y(this,"range",m,this),y(this,"sourceLocatorSet",p,this),y(this,"speed",b,this)}GetResources(e=[]){return this.effect&&this.effect.GetResources(e),e}},d=T((f=v).prototype,"effect",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),h=T(f.prototype,"multiplier",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),m=T(f.prototype,"range",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),p=T(f.prototype,"sourceLocatorSet",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),b=T(f.prototype,"speed",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),c=f))||c)||c)},"./unsupported/eve/child/EveChildCloud.js":function(e,t,r){"use strict";r.r(t),r.d(t,"EveChildCloud",(function(){return z}));var i,n,a,o,s,u,l,c,f,d,h,m,p,b,v,g,E,y,T,S,w,_=r("./utils/index.js"),R=r("./math/index.js"),j=r("./eve/child/index.js");function A(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function O(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var z=(i=_.meta.notImplemented,n=_.meta.ctor("EveChildCloud"),a=_.meta.string,o=_.meta.float,s=_.meta.struct("Tw2Effect"),u=_.meta.uint,l=_.meta.quaternion,c=_.meta.vector3,f=_.meta.float,d=_.meta.vector3,i(h=n((w=class extends j.EveChild{constructor(...e){super(...e),A(this,"name",p,this),A(this,"cellScreenSize",b,this),A(this,"effect",v,this),A(this,"preTesselationLevel",g,this),A(this,"rotation",E,this),A(this,"scaling",y,this),A(this,"sortingModifier",T,this),A(this,"translation",S,this)}GetResources(e=[]){return this.effect&&this.effect.GetResources(e),e}},p=O((m=w).prototype,"name",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),b=O(m.prototype,"cellScreenSize",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),v=O(m.prototype,"effect",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),g=O(m.prototype,"preTesselationLevel",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),E=O(m.prototype,"rotation",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return R.quat.create()}}),y=O(m.prototype,"scaling",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return R.vec3.fromValues(1,1,1)}}),T=O(m.prototype,"sortingModifier",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),S=O(m.prototype,"translation",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return R.vec3.create()}}),h=m))||h)||h)},"./unsupported/eve/child/EveChildExplosion.js":function(e,t,r){"use strict";r.r(t),r.d(t,"EveChildExplosion",(function(){return U}));var i,n,a,o,s,u,l,c,f,d,h,m,p,b,v,g,E,y,T,S,w,_,R,j,A,O,z,P,x,C,D,M,L,I=r("./utils/index.js"),F=r("./math/index.js"),G=r("./eve/child/index.js");function N(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function B(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var U=(i=I.meta.notImplemented,n=I.meta.ctor("EveChildExplosion"),a=I.meta.string,o=I.meta.float,s=I.meta.struct("EveChildExplosion"),u=I.meta.float,l=I.meta.vector3,c=I.meta.float,f=I.meta.struct("EveChildExplosion"),d=I.meta.float,h=I.meta.float,m=I.meta.struct("EveChildExplosion"),p=I.meta.list("EveChildExplosion"),b=I.meta.matrix4,v=I.meta.quaternion,g=I.meta.vector3,i(E=n((L=class extends G.EveChild{constructor(...e){super(...e),N(this,"name",T,this),N(this,"globalDuration",S,this),N(this,"globalExplosion",w,this),N(this,"globalExplosionDelay",_,this),N(this,"globalScaling",R,this),N(this,"localDuration",j,this),N(this,"localExplosion",A,this),N(this,"localExplosionInterval",O,this),N(this,"localExplosionIntervalFactor",z,this),N(this,"localExplosionShared",P,this),N(this,"localExplosions",x,this),N(this,"localTransform",C,this),N(this,"rotation",D,this),N(this,"scaling",M,this)}GetResources(e=[]){this.localExplosion&&this.localExplosion.GetResources(e),this.localExplosionShared&&this.localExplosionShared.GetResources(e);for(var t=0;t<this.localExplosions.length;t++)this.localExplosions[t].GetResources(e);return e}},T=B((y=L).prototype,"name",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),S=B(y.prototype,"globalDuration",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),w=B(y.prototype,"globalExplosion",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_=B(y.prototype,"globalExplosionDelay",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),R=B(y.prototype,"globalScaling",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return F.vec3.fromValues(1,1,1)}}),j=B(y.prototype,"localDuration",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),A=B(y.prototype,"localExplosion",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),O=B(y.prototype,"localExplosionInterval",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),z=B(y.prototype,"localExplosionIntervalFactor",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),P=B(y.prototype,"localExplosionShared",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),x=B(y.prototype,"localExplosions",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),C=B(y.prototype,"localTransform",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return F.mat4.create()}}),D=B(y.prototype,"rotation",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return F.quat.create()}}),M=B(y.prototype,"scaling",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return F.vec3.fromValues(1,1,1)}}),E=y))||E)||E)},"./unsupported/eve/child/EveChildInheritProperties.js":function(e,t,r){"use strict";r.r(t),r.d(t,"EveChildInheritProperties",(function(){return a}));var i,n=r("./utils/index.js"),a=(0,n.meta.notImplemented)(i=n.meta.ctor("EveChildInheritProperties")(i=class extends n.meta.Model{})||i)||i},"./unsupported/eve/child/EveChildLink.js":function(e,t,r){"use strict";r.r(t),r.d(t,"EveChildLink",(function(){return w}));var i,n,a,o,s,u,l,c,f,d,h,m,p,b,v,g=r("./utils/index.js"),E=r("./math/index.js"),y=r("./eve/child/index.js");function T(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function S(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var w=(i=g.meta.notImplemented,n=g.meta.ctor("EveChildLink"),a=g.meta.string,o=g.meta.list("Tw2ValueBinding"),s=g.meta.list("Tw2Curve"),u=g.meta.struct("Tw2Mesh"),l=g.meta.quaternion,i(c=n((v=class extends y.EveChild{constructor(...e){super(...e),T(this,"name",d,this),T(this,"linkStrengthBindings",h,this),T(this,"linkStrengthCurves",m,this),T(this,"mesh",p,this),T(this,"rotation",b,this)}GetResources(e=[]){return this.mesh&&this.mesh.GetResources(e),e}},d=S((f=v).prototype,"name",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),h=S(f.prototype,"linkStrengthBindings",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),m=S(f.prototype,"linkStrengthCurves",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),p=S(f.prototype,"mesh",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),b=S(f.prototype,"rotation",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return E.quat.create()}}),c=f))||c)||c)},"./unsupported/eve/child/EveChildParticleSphere.js":function(e,t,r){"use strict";r.r(t),r.d(t,"EveChildParticleSphere",(function(){return I}));var i,n,a,o,s,u,l,c,f,d,h,m,p,b,v,g,E,y,T,S,w,_,R,j,A,O,z,P,x,C=r("./utils/index.js"),D=r("./eve/child/index.js");function M(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function L(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var I=(i=C.meta.notImplemented,n=C.meta.ctor("EveChildParticleSphere"),a=C.meta.string,o=C.meta.list("Tw2ParticleAttributeGenerator"),s=C.meta.float,u=C.meta.struct("Tw2InstancedMesh"),l=C.meta.float,c=C.meta.struct("Tw2ParticleSystem"),f=C.meta.float,d=C.meta.float,h=C.meta.float,m=C.meta.float,p=C.meta.float,b=C.meta.boolean,i(v=n((x=class extends D.EveChild{constructor(...e){super(...e),M(this,"name",E,this),M(this,"generators",y,this),M(this,"maxSpeed",T,this),M(this,"mesh",S,this),M(this,"movementScale",w,this),M(this,"particleSystem",_,this),M(this,"positionShiftDecreaseSpeed",R,this),M(this,"positionShiftIncreaseSpeed",j,this),M(this,"positionShiftMax",A,this),M(this,"positionShiftMin",O,this),M(this,"radius",z,this),M(this,"useSpaceObjectData",P,this)}GetResources(e=[]){return this.mesh&&this.mesh.GetResources(e),this.particleSystem&&this.particleSystem.GetResources&&this.particleSystem.GetResources(e),e}},E=L((g=x).prototype,"name",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),y=L(g.prototype,"generators",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),T=L(g.prototype,"maxSpeed",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),S=L(g.prototype,"mesh",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),w=L(g.prototype,"movementScale",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),_=L(g.prototype,"particleSystem",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),R=L(g.prototype,"positionShiftDecreaseSpeed",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),j=L(g.prototype,"positionShiftIncreaseSpeed",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),A=L(g.prototype,"positionShiftMax",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),O=L(g.prototype,"positionShiftMin",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),z=L(g.prototype,"radius",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),P=L(g.prototype,"useSpaceObjectData",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),v=g))||v)||v)},"./unsupported/eve/child/EveChildQuad.js":function(e,t,r){"use strict";r.r(t),r.d(t,"EveChildQuad",(function(){return x}));var i,n,a,o,s,u,l,c,f,d,h,m,p,b,v,g,E,y,T,S,w,_,R,j=r("./utils/index.js"),A=r("./math/index.js"),O=r("./eve/child/index.js");function z(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function P(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var x=(i=j.meta.notImplemented,n=j.meta.ctor("EveChildQuad"),a=j.meta.string,o=j.meta.float,s=j.meta.color,u=j.meta.struct(),l=j.meta.matrix4,c=j.meta.float,f=j.meta.quaternion,d=j.meta.vector3,h=j.meta.vector3,i(m=n((R=class extends O.EveChild{constructor(...e){super(...e),z(this,"name",b,this),z(this,"brightness",v,this),z(this,"color",g,this),z(this,"effect",E,this),z(this,"localTransform",y,this),z(this,"minScreenSize",T,this),z(this,"rotation",S,this),z(this,"scaling",w,this),z(this,"translation",_,this)}GetResources(e=[]){return this.effect&&this.effect.GetResources(e),e}},b=P((p=R).prototype,"name",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),v=P(p.prototype,"brightness",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),g=P(p.prototype,"color",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return A.vec4.create()}}),E=P(p.prototype,"effect",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),y=P(p.prototype,"localTransform",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return A.mat4.create()}}),T=P(p.prototype,"minScreenSize",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),S=P(p.prototype,"rotation",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return A.quat.create()}}),w=P(p.prototype,"scaling",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return A.vec3.fromValues(1,1,1)}}),_=P(p.prototype,"translation",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return A.vec3.create()}}),m=p))||m)||m)},"./unsupported/eve/child/index.js":function(e,t,r){"use strict";r.r(t);var i=r("./unsupported/eve/child/modifier/index.js");r.d(t,"EveChildModifierAttachToBone",(function(){return i.EveChildModifierAttachToBone})),r.d(t,"EveChildModifierBillboard2D",(function(){return i.EveChildModifierBillboard2D})),r.d(t,"EveChildModifierBillboard3D",(function(){return i.EveChildModifierBillboard3D})),r.d(t,"EveChildModifierCameraOrientedRotationConstrained",(function(){return i.EveChildModifierCameraOrientedRotationConstrained})),r.d(t,"EveChildModifierHalo",(function(){return i.EveChildModifierHalo})),r.d(t,"EveChildModifierSRT",(function(){return i.EveChildModifierSRT})),r.d(t,"EveChildModifierTranslateWithCamera",(function(){return i.EveChildModifierTranslateWithCamera}));var n=r("./unsupported/eve/child/EveChildBulletStorm.js");r.d(t,"EveChildBulletStorm",(function(){return n.EveChildBulletStorm}));var a=r("./unsupported/eve/child/EveChildCloud.js");r.d(t,"EveChildCloud",(function(){return a.EveChildCloud}));var o=r("./unsupported/eve/child/EveChildExplosion.js");r.d(t,"EveChildExplosion",(function(){return o.EveChildExplosion}));var s=r("./unsupported/eve/child/EveChildInheritProperties.js");r.d(t,"EveChildInheritProperties",(function(){return s.EveChildInheritProperties}));var u=r("./unsupported/eve/child/EveChildLink.js");r.d(t,"EveChildLink",(function(){return u.EveChildLink}));var l=r("./unsupported/eve/child/EveChildParticleSphere.js");r.d(t,"EveChildParticleSphere",(function(){return l.EveChildParticleSphere}));var c=r("./unsupported/eve/child/EveChildQuad.js");r.d(t,"EveChildQuad",(function(){return c.EveChildQuad}))},"./unsupported/eve/child/modifier/EveChildModifier.js":function(e,t,r){"use strict";r.r(t),r.d(t,"EveChildModifier",(function(){return a}));var i,n=r("./utils/index.js"),a=n.meta.ctor("EveChildModifier")(i=class extends n.meta.Model{})||i},"./unsupported/eve/child/modifier/EveChildModifierAttachToBone.js":function(e,t,r){"use strict";r.r(t),r.d(t,"EveChildModifierAttachToBone",(function(){return g}));var i,n,a,o,s,u,l,c=r("./utils/index.js"),f=r("./unsupported/eve/child/modifier/EveChildModifier.js");var d,h,m,p,b,v,g=(i=c.meta.notImplemented,n=c.meta.ctor("EveChildModifierAttachToBone"),a=c.meta.uint,i(o=n((l=class extends f.EveChildModifier{constructor(...e){var t,r,i,n;super(...e),t=this,r="boneIndex",n=this,(i=u)&&Object.defineProperty(t,r,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}},d=(s=l).prototype,h="boneIndex",m=[a],p={configurable:!0,enumerable:!0,writable:!0,initializer:function(){return-1}},v={},Object.keys(p).forEach((function(e){v[e]=p[e]})),v.enumerable=!!v.enumerable,v.configurable=!!v.configurable,("value"in v||v.initializer)&&(v.writable=!0),v=m.slice().reverse().reduce((function(e,t){return t(d,h,e)||e}),v),b&&void 0!==v.initializer&&(v.value=v.initializer?v.initializer.call(b):void 0,v.initializer=void 0),void 0===v.initializer&&(Object.defineProperty(d,h,v),v=null),u=v,o=s))||o)||o)},"./unsupported/eve/child/modifier/EveChildModifierBillboard2D.js":function(e,t,r){"use strict";r.r(t),r.d(t,"EveChildModifierBillboard2D",(function(){return o}));var i,n=r("./utils/index.js"),a=r("./unsupported/eve/child/modifier/EveChildModifier.js"),o=(0,n.meta.notImplemented)(i=n.meta.ctor("EveChildModifierBillboard2D")(i=class extends a.EveChildModifier{})||i)||i},"./unsupported/eve/child/modifier/EveChildModifierBillboard3D.js":function(e,t,r){"use strict";r.r(t),r.d(t,"EveChildModifierBillboard3D",(function(){return o}));var i,n=r("./utils/index.js"),a=r("./unsupported/eve/child/modifier/EveChildModifier.js"),o=(0,n.meta.notImplemented)(i=n.meta.ctor("EveChildModifierBillboard3D")(i=class extends a.EveChildModifier{})||i)||i},"./unsupported/eve/child/modifier/EveChildModifierCameraOrientedRotationConstrained.js":function(e,t,r){"use strict";r.r(t),r.d(t,"EveChildModifierCameraOrientedRotationConstrained",(function(){return o}));var i,n=r("./utils/index.js"),a=r("./unsupported/eve/child/modifier/EveChildModifier.js"),o=(0,n.meta.notImplemented)(i=n.meta.ctor("EveChildModifierCameraOrientedRotationConstrained")(i=class extends a.EveChildModifier{})||i)||i},"./unsupported/eve/child/modifier/EveChildModifierHalo.js":function(e,t,r){"use strict";r.r(t),r.d(t,"EveChildModifierHalo",(function(){return o}));var i,n=r("./unsupported/eve/child/modifier/EveChildModifier.js"),a=r("./utils/index.js"),o=(0,a.meta.notImplemented)(i=a.meta.ctor("EveChildModifierHalo")(i=class extends n.EveChildModifier{})||i)||i},"./unsupported/eve/child/modifier/EveChildModifierSRT.js":function(e,t,r){"use strict";r.r(t),r.d(t,"EveChildModifierSRT",(function(){return E}));var i,n,a,o,s,u,l,c,f,d,h,m=r("./utils/index.js"),p=r("./math/index.js"),b=r("./unsupported/eve/child/modifier/EveChildModifier.js");function v(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function g(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var E=(i=m.meta.notImplemented,n=m.meta.ctor("EveChildModifierSRT"),a=m.meta.quaternion,o=m.meta.vector3,s=m.meta.vector3,i(u=n((h=class extends b.EveChildModifier{constructor(...e){super(...e),v(this,"rotation",c,this),v(this,"scaling",f,this),v(this,"translation",d,this)}},c=g((l=h).prototype,"rotation",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return p.quat.create()}}),f=g(l.prototype,"scaling",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return p.vec3.fromValues(1,1,1)}}),d=g(l.prototype,"translation",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return p.vec3.create()}}),u=l))||u)||u)},"./unsupported/eve/child/modifier/EveChildModifierTranslateWithCamera.js":function(e,t,r){"use strict";r.r(t),r.d(t,"EveChildModifierTranslateWithCamera",(function(){return o}));var i,n=r("./utils/index.js"),a=r("./unsupported/eve/child/modifier/EveChildModifier.js"),o=(0,n.meta.notImplemented)(i=n.meta.ctor("EveChildModifierTranslateWithCamera")(i=class extends a.EveChildModifier{})||i)||i},"./unsupported/eve/child/modifier/index.js":function(e,t,r){"use strict";r.r(t);var i=r("./unsupported/eve/child/modifier/EveChildModifierAttachToBone.js");r.d(t,"EveChildModifierAttachToBone",(function(){return i.EveChildModifierAttachToBone}));var n=r("./unsupported/eve/child/modifier/EveChildModifierBillboard2D.js");r.d(t,"EveChildModifierBillboard2D",(function(){return n.EveChildModifierBillboard2D}));var a=r("./unsupported/eve/child/modifier/EveChildModifierBillboard3D.js");r.d(t,"EveChildModifierBillboard3D",(function(){return a.EveChildModifierBillboard3D}));var o=r("./unsupported/eve/child/modifier/EveChildModifierCameraOrientedRotationConstrained.js");r.d(t,"EveChildModifierCameraOrientedRotationConstrained",(function(){return o.EveChildModifierCameraOrientedRotationConstrained}));var s=r("./unsupported/eve/child/modifier/EveChildModifierHalo.js");r.d(t,"EveChildModifierHalo",(function(){return s.EveChildModifierHalo}));var u=r("./unsupported/eve/child/modifier/EveChildModifierSRT.js");r.d(t,"EveChildModifierSRT",(function(){return u.EveChildModifierSRT}));var l=r("./unsupported/eve/child/modifier/EveChildModifierTranslateWithCamera.js");r.d(t,"EveChildModifierTranslateWithCamera",(function(){return l.EveChildModifierTranslateWithCamera}))},"./unsupported/eve/effect/EveStarfield.js":function(e,t,r){"use strict";r.r(t),r.d(t,"EveStarfield",(function(){return A}));var i,n,a,o,s,u,l,c,f,d,h,m,p,b,v,g,E,y,T,S,w,_=r("./utils/index.js");function R(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function j(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var A=(i=_.meta.notImplemented,n=_.meta.ctor("EveStarfield"),a=_.meta.struct("Tw2Effect"),o=_.meta.float,s=_.meta.float,u=_.meta.float,l=_.meta.float,c=_.meta.float,f=_.meta.uint,d=_.meta.uint,i(h=n((w=class extends _.meta.Model{constructor(...e){super(...e),R(this,"effect",p,this),R(this,"maxDist",b,this),R(this,"maxFlashRate",v,this),R(this,"minDist",g,this),R(this,"minFlashIntensity",E,this),R(this,"minFlashRate",y,this),R(this,"numStars",T,this),R(this,"seed",S,this)}},p=j((m=w).prototype,"effect",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),b=j(m.prototype,"maxDist",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),v=j(m.prototype,"maxFlashRate",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),g=j(m.prototype,"minDist",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),E=j(m.prototype,"minFlashIntensity",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),y=j(m.prototype,"minFlashRate",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),T=j(m.prototype,"numStars",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),S=j(m.prototype,"seed",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),h=m))||h)||h)},"./unsupported/eve/effect/EveStretch2.js":function(e,t,r){"use strict";r.r(t),r.d(t,"EveStretch2",(function(){return A}));var i,n,a,o,s,u,l,c,f,d,h,m,p,b,v,g,E,y,T,S,w,_=r("./utils/index.js");function R(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function j(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var A=(i=_.meta.notImplemented,n=_.meta.ctor("EveStretch2"),a=_.meta.string,o=_.meta.struct(),s=_.meta.struct(),u=_.meta.struct("Tw2Effect"),l=_.meta.struct("Tw2CurveSet"),c=_.meta.struct(),f=_.meta.struct(),d=_.meta.uint,i(h=n((w=class extends _.meta.Model{constructor(...e){super(...e),R(this,"name",p,this),R(this,"destinationEmitter",b,this),R(this,"destinationLight",v,this),R(this,"effect",g,this),R(this,"loop",E,this),R(this,"sourceEmitter",y,this),R(this,"sourceLight",T,this),R(this,"quadCount",S,this)}},p=j((m=w).prototype,"name",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),b=j(m.prototype,"destinationEmitter",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),v=j(m.prototype,"destinationLight",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),g=j(m.prototype,"effect",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),E=j(m.prototype,"loop",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),y=j(m.prototype,"sourceEmitter",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),T=j(m.prototype,"sourceLight",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),S=j(m.prototype,"quadCount",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),h=m))||h)||h)},"./unsupported/eve/effect/index.js":function(e,t,r){"use strict";r.r(t);var i=r("./unsupported/eve/effect/EveStarfield.js");r.d(t,"EveStarfield",(function(){return i.EveStarfield}));var n=r("./unsupported/eve/effect/EveStretch2.js");r.d(t,"EveStretch2",(function(){return n.EveStretch2}))},"./unsupported/eve/index.js":function(e,t,r){"use strict";r.r(t);var i=r("./unsupported/eve/animation/index.js");r.d(t,"EveAnimation",(function(){return i.EveAnimation})),r.d(t,"EveAnimationCommand",(function(){return i.EveAnimationCommand})),r.d(t,"EveAnimationCurve",(function(){return i.EveAnimationCurve})),r.d(t,"EveAnimationState",(function(){return i.EveAnimationState})),r.d(t,"EveAnimationStateMachine",(function(){return i.EveAnimationStateMachine}));var n=r("./unsupported/eve/child/index.js");r.d(t,"EveChildModifierAttachToBone",(function(){return n.EveChildModifierAttachToBone})),r.d(t,"EveChildModifierBillboard2D",(function(){return n.EveChildModifierBillboard2D})),r.d(t,"EveChildModifierBillboard3D",(function(){return n.EveChildModifierBillboard3D})),r.d(t,"EveChildModifierCameraOrientedRotationConstrained",(function(){return n.EveChildModifierCameraOrientedRotationConstrained})),r.d(t,"EveChildModifierHalo",(function(){return n.EveChildModifierHalo})),r.d(t,"EveChildModifierSRT",(function(){return n.EveChildModifierSRT})),r.d(t,"EveChildModifierTranslateWithCamera",(function(){return n.EveChildModifierTranslateWithCamera})),r.d(t,"EveChildBulletStorm",(function(){return n.EveChildBulletStorm})),r.d(t,"EveChildCloud",(function(){return n.EveChildCloud})),r.d(t,"EveChildExplosion",(function(){return n.EveChildExplosion})),r.d(t,"EveChildInheritProperties",(function(){return n.EveChildInheritProperties})),r.d(t,"EveChildLink",(function(){return n.EveChildLink})),r.d(t,"EveChildParticleSphere",(function(){return n.EveChildParticleSphere})),r.d(t,"EveChildQuad",(function(){return n.EveChildQuad}));var a=r("./unsupported/eve/effect/index.js");r.d(t,"EveStarfield",(function(){return a.EveStarfield})),r.d(t,"EveStretch2",(function(){return a.EveStretch2}));var o=r("./unsupported/eve/item/index.js");r.d(t,"EveBanner",(function(){return o.EveBanner})),r.d(t,"EveBoosterSet2Batch",(function(){return o.EveBoosterSet2Batch})),r.d(t,"EveBoosterSet2Item",(function(){return o.EveBoosterSet2Item})),r.d(t,"EveBoosterSet2",(function(){return o.EveBoosterSet2})),r.d(t,"EveHazeSetBatch",(function(){return o.EveHazeSetBatch})),r.d(t,"EveHazeSetItem",(function(){return o.EveHazeSetItem})),r.d(t,"EveHazeSet",(function(){return o.EveHazeSet})),r.d(t,"EveSpriteLineSetBatch",(function(){return o.EveSpriteLineSetBatch})),r.d(t,"EveSpriteLineSetItem",(function(){return o.EveSpriteLineSetItem})),r.d(t,"EveSpriteLineSet",(function(){return o.EveSpriteLineSet})),r.d(t,"EveTrailSetRenderBatch",(function(){return o.EveTrailSetRenderBatch})),r.d(t,"EveTrailsSet",(function(){return o.EveTrailsSet}));var s=r("./unsupported/eve/object/index.js");r.d(t,"EveEffectRoot2",(function(){return s.EveEffectRoot2})),r.d(t,"EveMobile",(function(){return s.EveMobile})),r.d(t,"EveRootTransform",(function(){return s.EveRootTransform})),r.d(t,"EveShip2",(function(){return s.EveShip2})),r.d(t,"EveStation2",(function(){return s.EveStation2}));var u=r("./unsupported/eve/particle/index.js");r.d(t,"EveParticleDirectForce",(function(){return u.EveParticleDirectForce})),r.d(t,"EveParticleDragForce",(function(){return u.EveParticleDragForce}));var l=r("./unsupported/eve/pi/index.js");r.d(t,"EveConnector",(function(){return l.EveConnector})),r.d(t,"EveLocalPositionCurve",(function(){return l.EveLocalPositionCurve})),r.d(t,"EveSpherePin",(function(){return l.EveSpherePin}));var c=r("./unsupported/eve/ui/index.js");r.d(t,"EveTacticalOverlay",(function(){return c.EveTacticalOverlay})),r.d(t,"EveUiObject",(function(){return c.EveUiObject}))},"./unsupported/eve/item/EveBanner.js":function(e,t,r){"use strict";r.r(t),r.d(t,"EveBanner",(function(){return C}));var i,n,a,o,s,u,l,c,f,d,h,m,p,b,v,g,E,y,T,S,w,_,R,j,A,O=r("./utils/index.js"),z=r("./math/index.js");function P(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function x(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var C=(i=O.meta.ctor("EveBanner"),n=O.meta.notImplemented,a=O.meta.string,o=O.meta.float,s=O.meta.float,u=O.meta.uint,l=O.meta.boolean,c=O.meta.vector3,f=O.meta.quaternion,d=O.meta.vector3,h=O.meta.uint,m=O.meta.matrix4,i(p=n((A=class extends O.meta.Model{constructor(...e){super(...e),P(this,"name",v,this),P(this,"angleX",g,this),P(this,"angleY",E,this),P(this,"boneIndex",y,this),P(this,"display",T,this),P(this,"position",S,this),P(this,"rotation",w,this),P(this,"scaling",_,this),P(this,"usage",R,this),P(this,"transform",j,this)}OnValueChanged(){z.mat4.fromRotationTranslationScale(this.transform,this.rotation,this.position,this.scaling)}},v=x((b=A).prototype,"name",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),g=x(b.prototype,"angleX",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),E=x(b.prototype,"angleY",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),y=x(b.prototype,"boneIndex",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),T=x(b.prototype,"display",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),S=x(b.prototype,"position",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return z.vec3.create()}}),w=x(b.prototype,"rotation",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return z.quat.create()}}),_=x(b.prototype,"scaling",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return z.vec3.fromValues(1,1,1)}}),R=x(b.prototype,"usage",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),j=x(b.prototype,"transform",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return z.mat4.create()}}),p=b))||p)||p)},"./unsupported/eve/item/EveBoosterSet2.js":function(e,t,r){"use strict";r.r(t),r.d(t,"EveBoosterSet2Batch",(function(){return ee})),r.d(t,"EveBoosterSet2Item",(function(){return te})),r.d(t,"EveBoosterSet2",(function(){return re}));var i,n,a,o,s,u,l,c,f,d,h,m,p,b,v,g,E,y,T,S,w,_,R,j,A,O,z,P,x,C,D,M,L,I,F,G,N,B,U,V,k,H,q,W,Y,X=r("./utils/index.js"),K=r("./math/index.js"),Q=r("./core/index.js"),Z=r("./eve/index.js");function $(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function J(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var ee=(0,X.meta.notImplemented)(i=class extends Q.Tw2RenderBatch{constructor(...e){super(...e),this.boosterSet=null}Commit(e){this.boosterSet.Render(e)}})||i,te=(0,X.meta.notImplemented)(n=X.meta.ctor("EveBoosterSet2Item")(n=class extends Z.EveObjectSetItem{})||n)||n,re=(a=X.meta.notImplemented,o=X.meta.ctor("EveBoosterSet2"),s=X.meta.boolean,u=X.meta.float,l=X.meta.struct("Tw2Effect"),c=X.meta.color,f=X.meta.float,d=X.meta.struct("EveSpriteSet"),h=X.meta.color,m=X.meta.float,p=X.meta.float,b=X.meta.color,v=X.meta.float,g=X.meta.float,E=X.meta.float,y=X.meta.color,T=X.meta.float,S=X.meta.float,w=X.meta.struct("EveTrailsSet"),_=X.meta.color,R=X.meta.color,a(j=o((Y=class extends Z.EveObjectSet{constructor(...e){super(...e),$(this,"alwaysOn",O,this),$(this,"alwaysOnIntensity",z,this),$(this,"effect",P,this),$(this,"glowColor",x,this),$(this,"glowScale",C,this),$(this,"glows",D,this),$(this,"haloColor",M,this),$(this,"haloScaleX",L,this),$(this,"haloScaleY",I,this),$(this,"lightColor",F,this),$(this,"lightFlickerAmplitude",G,this),$(this,"lightFlickerFrequency",N,this),$(this,"lightRadius",B,this),$(this,"lightWarpColor",U,this),$(this,"lightWarpRadius",V,this),$(this,"symHaloScale",k,this),$(this,"trails",H,this),$(this,"warpGlowColor",q,this),$(this,"warpHaloColor",W,this)}},O=J((A=Y).prototype,"alwaysOn",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),z=J(A.prototype,"alwaysOnIntensity",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),P=J(A.prototype,"effect",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),x=J(A.prototype,"glowColor",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return K.vec4.create()}}),C=J(A.prototype,"glowScale",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),D=J(A.prototype,"glows",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),M=J(A.prototype,"haloColor",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return K.vec4.create()}}),L=J(A.prototype,"haloScaleX",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),I=J(A.prototype,"haloScaleY",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),F=J(A.prototype,"lightColor",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return K.vec4.create()}}),G=J(A.prototype,"lightFlickerAmplitude",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),N=J(A.prototype,"lightFlickerFrequency",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),B=J(A.prototype,"lightRadius",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),U=J(A.prototype,"lightWarpColor",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return K.vec4.create()}}),V=J(A.prototype,"lightWarpRadius",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),k=J(A.prototype,"symHaloScale",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),H=J(A.prototype,"trails",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),q=J(A.prototype,"warpGlowColor",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return K.vec4.create()}}),W=J(A.prototype,"warpHaloColor",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return K.vec4.create()}}),j=A))||j)||j)},"./unsupported/eve/item/EveHazeSet.js":function(e,t,r){"use strict";r.r(t),r.d(t,"EveHazeSetBatch",(function(){return M})),r.d(t,"EveHazeSetItem",(function(){return L})),r.d(t,"EveHazeSet",(function(){return I}));var i,n,a,o,s,u,l,c,f,d,h,m,p,b,v,g,E,y,T,S,w,_,R,j,A,O=r("./utils/index.js"),z=r("./math/index.js"),P=r("./core/index.js"),x=r("./eve/index.js");function C(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function D(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var M=(0,O.meta.notImplemented)(i=class extends P.Tw2RenderBatch{constructor(...e){super(...e),this.hazeSet=null}Commit(e){this.hazeSet.Render(e)}})||i,L=(n=O.meta.notImplemented,a=O.meta.ctor("EveHazeSetItem"),o=O.meta.boolean,s=O.meta.uint,u=O.meta.float,l=O.meta.float,c=O.meta.vector3,f=O.meta.quaternion,d=O.meta.vector3,h=O.meta.float,m=O.meta.float,n(p=a((j=class extends x.EveObjectSetItem{constructor(...e){super(...e),C(this,"boosterGainInfluence",v,this),C(this,"colorType",g,this),C(this,"hazeBrightness",E,this),C(this,"hazeFalloff",y,this),C(this,"position",T,this),C(this,"rotation",S,this),C(this,"scaling",w,this),C(this,"sourceBrightness",_,this),C(this,"sourceSize",R,this),this._transform=z.mat4.create()}OnValueChanged(){z.mat4.fromRotationTranslationScale(this._transform,this.rotation,this.position,this.scaling),this._dirty=!0}},v=D((b=j).prototype,"boosterGainInfluence",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),g=D(b.prototype,"colorType",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),E=D(b.prototype,"hazeBrightness",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),y=D(b.prototype,"hazeFalloff",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),T=D(b.prototype,"position",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return z.vec3.create()}}),S=D(b.prototype,"rotation",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return z.quat.create()}}),w=D(b.prototype,"scaling",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return z.vec3.fromValues(1,1,1)}}),_=D(b.prototype,"sourceBrightness",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),R=D(b.prototype,"sourceSize",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),p=b))||p)||p),I=(0,O.meta.notImplemented)(A=O.meta.ctor("EveHazeSet")(A=class extends x.EveObjectSet{})||A)||A},"./unsupported/eve/item/EveSpriteLineSet.js":function(e,t,r){"use strict";r.r(t),r.d(t,"EveSpriteLineSetBatch",(function(){return Y})),r.d(t,"EveSpriteLineSetItem",(function(){return X})),r.d(t,"EveSpriteLineSet",(function(){return K}));var i,n,a,o,s,u,l,c,f,d,h,m,p,b,v,g,E,y,T,S,w,_,R,j,A,O,z,P,x,C,D,M,L,I,F,G,N,B,U,V=r("./utils/index.js"),k=r("./math/index.js"),H=r("./eve/index.js");function q(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function W(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var Y=(0,V.meta.notImplemented)(i=class{constructor(){this.spriteLineSet=null}Commit(e){this.spriteLineSet.Render(e)}})||i,X=(n=V.meta.notImplemented,a=V.meta.ctor("EveSpriteLineSetItem"),o=V.meta.float,s=V.meta.float,u=V.meta.float,l=V.meta.uint,c=V.meta.uint,f=V.meta.float,d=V.meta.float,h=V.meta.boolean,m=V.meta.float,p=V.meta.float,b=V.meta.vector3,v=V.meta.quaternion,g=V.meta.vector3,E=V.meta.float,y=V.meta.boolean,T=V.meta.matrix4,n(S=a((B=class extends H.EveObjectSetItem{constructor(...e){super(...e),q(this,"blinkPhase",_,this),q(this,"blinkPhaseShift",R,this),q(this,"blinkRate",j,this),q(this,"boneIndex",A,this),q(this,"colorType",O,this),q(this,"falloff",z,this),q(this,"intensity",P,this),q(this,"isCircle",x,this),q(this,"maxScale",C,this),q(this,"minScale",D,this),q(this,"position",M,this),q(this,"rotation",L,this),q(this,"scaling",I,this),q(this,"spacing",F,this),q(this,"display",G,this),q(this,"transform",N,this),this._dirty=!0}OnValueChanged(){k.mat4.fromRotationTranslationScale(this.transform,this.rotation,this.position,this.scaling),this._dirty=!0}},_=W((w=B).prototype,"blinkPhase",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),R=W(w.prototype,"blinkPhaseShift",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),j=W(w.prototype,"blinkRate",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),A=W(w.prototype,"boneIndex",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),O=W(w.prototype,"colorType",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),z=W(w.prototype,"falloff",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),P=W(w.prototype,"intensity",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),x=W(w.prototype,"isCircle",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),C=W(w.prototype,"maxScale",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),D=W(w.prototype,"minScale",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),M=W(w.prototype,"position",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return k.vec3.create()}}),L=W(w.prototype,"rotation",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return k.quat.create()}}),I=W(w.prototype,"scaling",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return k.vec3.fromValues(1,1,1)}}),F=W(w.prototype,"spacing",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),G=W(w.prototype,"display",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),N=W(w.prototype,"transform",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return k.mat4.create()}}),S=w))||S)||S),K=(0,V.meta.notImplemented)(U=V.meta.ctor("EveSpriteLineSet")(U=class extends H.EveObjectSet{})||U)||U},"./unsupported/eve/item/EveTrailsSet.js":function(e,t,r){"use strict";r.r(t),r.d(t,"EveTrailSetRenderBatch",(function(){return y})),r.d(t,"EveTrailsSet",(function(){return T}));var i,n,a,o,s,u,l,c,f,d,h,m,p=r("./utils/index.js"),b=r("./global/index.js"),v=r("./core/batch/index.js");function g(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function E(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var y=(0,p.meta.notImplemented)(i=class extends v.Tw2RenderBatch{constructor(...e){super(...e),this.trailsSet=null}Commit(e){this.boosters.Render(e)}})||i,T=(n=p.meta.notImplemented,a=p.meta.ctor("EveTrailSet"),o=p.meta.struct(),s=p.meta.path,u=p.meta.boolean,n(l=a((m=class extends p.meta.Model{constructor(...e){super(...e),g(this,"effect",f,this),g(this,"geometryResPath",d,this),g(this,"display",h,this),this._geometryRes=null}Initialize(){this.geometryResPath&&(this._geometryRes=b.resMan.GetResource(this.geometryResPath,e=>this.OnResPrepared(e)))}OnResPrepared(e){}GetResources(e=[]){return this.effect&&this.effect.GetResources(e),this._geometryRes&&!e.includes(this._geometryRes)&&e.push(this._geometryRes),e}},f=E((c=m).prototype,"effect",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),d=E(c.prototype,"geometryResPath",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),h=E(c.prototype,"display",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),l=c))||l)||l)},"./unsupported/eve/item/index.js":function(e,t,r){"use strict";r.r(t);var i=r("./unsupported/eve/item/EveBanner.js");r.d(t,"EveBanner",(function(){return i.EveBanner}));var n=r("./unsupported/eve/item/EveBoosterSet2.js");r.d(t,"EveBoosterSet2Batch",(function(){return n.EveBoosterSet2Batch})),r.d(t,"EveBoosterSet2Item",(function(){return n.EveBoosterSet2Item})),r.d(t,"EveBoosterSet2",(function(){return n.EveBoosterSet2}));var a=r("./unsupported/eve/item/EveHazeSet.js");r.d(t,"EveHazeSetBatch",(function(){return a.EveHazeSetBatch})),r.d(t,"EveHazeSetItem",(function(){return a.EveHazeSetItem})),r.d(t,"EveHazeSet",(function(){return a.EveHazeSet}));var o=r("./unsupported/eve/item/EveSpriteLineSet.js");r.d(t,"EveSpriteLineSetBatch",(function(){return o.EveSpriteLineSetBatch})),r.d(t,"EveSpriteLineSetItem",(function(){return o.EveSpriteLineSetItem})),r.d(t,"EveSpriteLineSet",(function(){return o.EveSpriteLineSet}));var s=r("./unsupported/eve/item/EveTrailsSet.js");r.d(t,"EveTrailSetRenderBatch",(function(){return s.EveTrailSetRenderBatch})),r.d(t,"EveTrailsSet",(function(){return s.EveTrailsSet}))},"./unsupported/eve/object/EveEffectRoot2.js":function(e,t,r){"use strict";r.r(t),r.d(t,"EveEffectRoot2",(function(){return U}));var i,n,a,o,s,u,l,c,f,d,h,m,p,b,v,g,E,y,T,S,w,_,R,j,A,O,z,P,x,C,D,M,L,I=r("./utils/index.js"),F=r("./math/index.js"),G=r("./eve/object/EveObject.js");function N(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function B(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var U=(i=I.meta.notImplemented,n=I.meta.ctor("EveEffectRoot2"),a=I.meta.string,o=I.meta.vector3,s=I.meta.float,u=I.meta.list("Tw2CurveSet"),l=I.meta.float,c=I.meta.boolean,f=I.meta.list("EveChild"),d=I.meta.list("Tr2PointLight"),h=I.meta.list("TriObserverLocal"),m=I.meta.quaternion,p=I.meta.vector3,b=I.meta.color,v=I.meta.float,g=I.meta.vector3,i(E=n((L=class extends G.EveObject{constructor(...e){super(...e),N(this,"name",T,this),N(this,"boundingSphereCenter",S,this),N(this,"boundingSphereRadius",w,this),N(this,"curveSets",_,this),N(this,"duration",R,this),N(this,"dynamicLOD",j,this),N(this,"effectChildren",A,this),N(this,"lights",O,this),N(this,"observers",z,this),N(this,"rotation",P,this),N(this,"scaling",x,this),N(this,"secondaryLightingEmissiveColor",C,this),N(this,"secondaryLightingSphereRadius",D,this),N(this,"translation",M,this)}},T=B((y=L).prototype,"name",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),S=B(y.prototype,"boundingSphereCenter",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return F.vec3.create()}}),w=B(y.prototype,"boundingSphereRadius",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),_=B(y.prototype,"curveSets",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),R=B(y.prototype,"duration",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),j=B(y.prototype,"dynamicLOD",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),A=B(y.prototype,"effectChildren",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),O=B(y.prototype,"lights",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),z=B(y.prototype,"observers",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),P=B(y.prototype,"rotation",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return F.quat.create()}}),x=B(y.prototype,"scaling",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return F.vec3.fromValues(1,1,1)}}),C=B(y.prototype,"secondaryLightingEmissiveColor",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return F.vec4.create()}}),D=B(y.prototype,"secondaryLightingSphereRadius",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),M=B(y.prototype,"translation",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return F.vec3.create()}}),E=y))||E)||E)},"./unsupported/eve/object/EveMobile.js":function(e,t,r){"use strict";r.r(t),r.d(t,"EveMobile",(function(){return L}));var i,n,a,o,s,u,l,c,f,d,h,m,p,b,v,g,E,y,T,S,w,_,R,j,A,O,z,P=r("./utils/index.js"),x=r("./math/index.js"),C=r("./eve/object/EveObject.js");function D(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function M(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var L=(i=P.meta.notImplemented,n=P.meta.ctor("EveMobile"),a=P.meta.string,o=P.meta.list("EveObjectSet"),s=P.meta.vector3,u=P.meta.float,l=P.meta.list("EveChild"),c=P.meta.list("EveStateController"),f=P.meta.list("Tw2CurveSet"),d=P.meta.list("EveLocatorSets"),h=P.meta.struct("Tr2MeshLod"),m=P.meta.list("TriObserverLocal"),p=P.meta.struct("Tw2Effect"),i(b=n((z=class extends C.EveObject{constructor(...e){super(...e),D(this,"name",g,this),D(this,"attachments",E,this),D(this,"boundingSphereCenter",y,this),D(this,"boundingSphereRadius",T,this),D(this,"children",S,this),D(this,"controllers",w,this),D(this,"curveSets",_,this),D(this,"locatorSets",R,this),D(this,"meshLod",j,this),D(this,"observers",A,this),D(this,"shadowEffect",O,this)}},g=M((v=z).prototype,"name",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),E=M(v.prototype,"attachments",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),y=M(v.prototype,"boundingSphereCenter",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return x.vec3.create()}}),T=M(v.prototype,"boundingSphereRadius",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),S=M(v.prototype,"children",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),w=M(v.prototype,"controllers",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),_=M(v.prototype,"curveSets",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),R=M(v.prototype,"locatorSets",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),j=M(v.prototype,"meshLod",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),A=M(v.prototype,"observers",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),O=M(v.prototype,"shadowEffect",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),b=v))||b)||b)},"./unsupported/eve/object/EveRootTransform.js":function(e,t,r){"use strict";r.r(t),r.d(t,"EveRootTransform",(function(){return U}));var i,n,a,o,s,u,l,c,f,d,h,m,p,b,v,g,E,y,T,S,w,_,R,j,A,O,z,P,x,C,D,M,L,I=r("./utils/index.js"),F=r("./math/index.js"),G=r("./eve/object/EveObject.js");function N(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function B(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var U=(i=I.meta.notImplemented,n=I.meta.ctor("EveRootTransform"),a=I.meta.string,o=I.meta.float,s=I.meta.list("EveObject"),u=I.meta.list("Tw2CurveSet"),l=I.meta.boolean,c=I.meta.struct("Tw2Mesh"),f=I.meta.uint,d=I.meta.list("TriObserverLocal"),h=I.meta.quaternion,m=I.meta.struct("Tw2Curve"),p=I.meta.vector3,b=I.meta.float,v=I.meta.vector3,g=I.meta.struct("Tw2Curve"),i(E=n((L=class extends G.EveObject{constructor(...e){super(...e),N(this,"name",T,this),N(this,"boundingSphereRadius",S,this),N(this,"children",w,this),N(this,"curveSets",_,this),N(this,"display",R,this),N(this,"mesh",j,this),N(this,"modifier",A,this),N(this,"observers",O,this),N(this,"rotation",z,this),N(this,"rotationCurve",P,this),N(this,"scaling",x,this),N(this,"sortValueMultiplier",C,this),N(this,"translation",D,this),N(this,"translationCurve",M,this)}},T=B((y=L).prototype,"name",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),S=B(y.prototype,"boundingSphereRadius",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),w=B(y.prototype,"children",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),_=B(y.prototype,"curveSets",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),R=B(y.prototype,"display",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),j=B(y.prototype,"mesh",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),A=B(y.prototype,"modifier",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),O=B(y.prototype,"observers",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),z=B(y.prototype,"rotation",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return F.quat.create()}}),P=B(y.prototype,"rotationCurve",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),x=B(y.prototype,"scaling",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return F.vec3.fromValues(1,1,1)}}),C=B(y.prototype,"sortValueMultiplier",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),D=B(y.prototype,"translation",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return F.vec3.create()}}),M=B(y.prototype,"translationCurve",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),E=y))||E)||E)},"./unsupported/eve/object/EveShip2.js":function(e,t,r){"use strict";r.r(t),r.d(t,"EveShip2",(function(){return ue}));var i,n,a,o,s,u,l,c,f,d,h,m,p,b,v,g,E,y,T,S,w,_,R,j,A,O,z,P,x,C,D,M,L,I,F,G,N,B,U,V,k,H,q,W,Y,X,K,Q,Z,$=r("./utils/index.js"),J=r("./global/index.js"),ee=r("./math/index.js"),te=r("./eve/object/EveObject.js"),re=r("./core/data/index.js"),ie=r("./core/model/index.js"),ne=r("./eve/item/index.js"),ae=r("./eve/effect/index.js");function oe(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function se(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var ue=(i=$.meta.ctor("EveShip2"),n=$.meta.struct("Tw2Animation"),a=$.meta.isPrivate,o=$.meta.list("EveObjectSet"),s=$.meta.struct("EveBoosterSet2"),u=$.meta.vector3,l=$.meta.float,c=$.meta.list("EveObject"),f=$.meta.list("EveCustomMask"),d=$.meta.list("EveSpaceObjectDecal"),h=$.meta.string,m=$.meta.list("EveLocatorSets"),p=$.meta.list("EveLocator2"),b=$.meta.struct("Tw2Mesh","Tw2InstancedMesh","Tr2MeshLod"),v=$.meta.struct("EveCurve"),g=$.meta.struct("Tw2Effect"),E=$.meta.vector3,y=$.meta.vector3,T=$.meta.struct("EveCurve"),S=$.meta.uint,w=$.meta.float,_=$.meta.list("EveChild"),R=$.meta.todo("How to handle serializing these? They are loaded from the sof"),j=$.meta.plain,i((Z=Q=class e extends te.EveObject{constructor(...t){super(...t),oe(this,"animation",z,this),oe(this,"attachments",P,this),oe(this,"boosters",x,this),oe(this,"boundingSphereCenter",C,this),oe(this,"boundingSphereRadius",D,this),oe(this,"children",M,this),oe(this,"customMasks",L,this),oe(this,"decals",I,this),oe(this,"dna",F,this),oe(this,"locatorSets",G,this),oe(this,"locators",N,this),oe(this,"mesh",B,this),oe(this,"rotationCurve",U,this),oe(this,"shadowEffect",V,this),oe(this,"shapeEllipsoidCenter",k,this),oe(this,"shapeEllipsoidRadius",H,this),oe(this,"translationCurve",q,this),oe(this,"killCount",W,this),oe(this,"boosterGain",Y,this),oe(this,"effectChildren",X,this),oe(this,"visible",K,this),this._enableCurves=!1,this._pixelSizeAcross=0,this._lod=3,this._worldSpriteScale=1,this._localTransform=ee.mat4.create(),this._worldTransform=ee.mat4.create(),this._perObjectData=re.Tw2PerObjectData.from(e.perObjectData)}Initialize(){this.RebuildBoosterSet()}FindTurretSetByLocatorName(e){for(var t=0;t<this.attachments.length;t++)if(this.attachments[t]instanceof ne.EveTurretSet&&this.attachments[t].locatorName===e)return this.attachments[t]}FindTurretPrefixes(e=[]){function t(t){if(!t)return!1;var r=t[0].substring(0,t[0].length-1);return e.includes(r)||e.push(r),!0}for(var r=0;r<this.locators.length;r++){var i=this.locators[r].name;t(/^locator_turret_([0-9]+)[a-z]$/i.exec(i))||t(/^locator_xl_([0-9]+)[a-z]$/i.exec(i))}return e.sort(),e}GetLocatorCount(e){return this.FindLocatorsByPrefix(e).length}FindLocatorJointByName(e){var t=this.FindLocatorBoneByName(e);return t?t.worldTransform:null}FindLocatorTransformByName(e){var t=this.FindLocatorByName(e);return t?t.transform:null}HasLocatorPrefix(e){for(var t=0;t<this.locators.length;t++)if(0===this.locators[t].name.indexOf(e))return!0;return!1}FindLocatorBoneByName(e){return this.animation?this.animation.FindBoneForMesh(e,0):null}FindLocatorByName(e){for(var t=0;t<this.locators.length;t++)if(this.locators[t].name===e)return this.locators[t];return null}FindLocatorsByPrefix(e,t=[]){for(var r=0;r<this.locators.length;r++)0===this.locators[r].name.indexOf(e)&&t.push(this.locators[r]);return t}ResetLod(){this._lod=3}UpdateLod(e){var t=ee.vec3.transformMat4(te.EveObject.global.vec3_0,this.boundingSphereCenter,this._worldTransform);e.IsSphereVisible(t,this.boundingSphereRadius)?(this._pixelSizeAcross=e.GetPixelSizeAcross(t,this.boundingSphereRadius),this._pixelSizeAcross<100?this._lod=1:this._lod=2):(this._pixelSizeAcross=0,this._lod=0)}SetTransform(e){ee.mat4.copy(this._localTransform,e)}GetTransform(e){return ee.mat4.copy(e,this._localTransform)}GetResources(e=[]){return this.PerChild(t=>{"GetResources"in t.struct&&t.struct.GetResources(e)}),e}RebuildBoosterSet(){return!!this.boosters&&(this.boosters.UpdateItemsFromLocators(this.FindLocatorsByPrefix("locator_booster")),!0)}GetTurretSetByLocatorName(e){for(var t=0;t<this.attachments.length;t++)if(this.attachments[t]instanceof ne.EveTurretSet&&this.attachments[t].locatorName===e)return this.attachments[t];return null}RemoveTurretSet(e){var t=this.attachments.indexOf(e);return-1!==t&&(this.attachments.splice(t,1),!0)}AddTurretSet(e){if(!e.locatorName)throw new ReferenceError("Turret set must have a locator name");var t=this.GetTurretSetByLocatorName(e.locatorName);return t!==e&&(this.attachments.splice(this.attachments.indexOf(t),1),this.attachments.push(e),this.RebuildTurretSet(e),!0)}RebuildTurretSet(e){for(var t=e.locatorName,r=this.GetLocatorCount(t),i=[],n=0;n<r;++n){var a=t+String.fromCharCode("a".charCodeAt(0)+n),o=this.FindLocatorByName(a);o&&(o.FindBone(this.animation),i.push(o))}return e.UpdateItemsFromLocators(i),!0}RebuildOverlays(e=[]){for(var t=!1,r=0;r<this.attachments.length;r++)this.attachments[r]instanceof ae.EveMeshOverlayEffect&&(t=!0,this.attachments.splice(r,1),r--);for(var i=0;i<e.length;i++)this.attachments.push(e[i]),t=!0;return t}Update(e){if(!(this._lod<1)&&this.display){this.boosters&&(this.boosters._locatorDirty&&this.RebuildBoosterSet(),this.boosters.Update(e,this._worldTransform));for(var t=0;t<this.attachments.length;t++)this.attachments[t]instanceof ne.EveTurretSet&&this.attachments[t]._locatorDirty&&this.RebuildTurretSet(this.attachments[t]),this.attachments[t].Update(e,this);for(var r=0;r<this.children.length;r++)this.children[r].Update(e,this._worldTransform);for(var i=0;i<this.effectChildren.length;i++)this.effectChildren[i].Update(e,this._worldTransform,this._lod);this.animation&&this.animation.Update(e)}}GetBatches(e,t){if(this.display&&!(this._lod<1)){var r=this.visible,i=this.mesh&&this.mesh.IsGood()?this.mesh.geometryResource:null;r.mesh&&i&&this.mesh.GetBatches(e,t,this._perObjectData);var n=r.firingEffect;if(this._lod>1){r.boosters&&this.boosters&&(this._perObjectData.vs.Get("Shipdata")[0]=this.boosterGain,this._perObjectData.ps.Get("Shipdata")[0]=this.boosterGain,this.boosters.GetBatches(e,t,this._perObjectData));for(var a=0;a<this.attachments.length;a++){var o=this.attachments[a];switch(o.constructor){case ne.EveTurretSet:r.turretSets&&(n=!1,o.GetBatches(e,t,this._perObjectData,r.firingEffect));break;case ne.EveSpotlightSet:r.spotlightSets&&o.GetBatches(e,t,this._perObjectData,this._worldTransform);break;case ne.EvePlaneSet:r.planeSets&&o.GetBatches(e,t,this._perObjectData);break;case ne.EveSpriteSet:r.spriteSets&&o.GetBatches(e,t,this._perObjectData,this._worldTransform);break;case ne.EveCurveLineSet:r.lineSets&&o.GetBatches(e,t);break;case ae.EveMeshOverlayEffect:r.overlayEffects&&o.GetBatches(e,t,this._perObjectData,this.mesh);break;default:console.log("Attachment not supported")}}if(i&&r.decals)for(var s=r.killmarks&&this._lod>2?this.killCount:0,u=0;u<this.decals.length;u++)this.decals[u].GetBatches(e,t,this._perObjectData,i,s)}if(n)for(var l=0;l<this.attachments.length;l++)this.attachments[l]instanceof ne.EveTurretSet&&this.attachments[l].GetFiringEffectBatches(e,t,this._perObjectData);if(r.children)for(var c=0;c<this.children.length;c++)this.children[c].GetBatches(e,t,this._perObjectData);if(r.effectChildren)for(var f=0;f<this.effectChildren.length;f++)this.effectChildren[f].GetBatches(e,t,this._perObjectData)}}UpdateViewDependentData(e,t,r){if(ee.mat4.transpose(this._perObjectData.vs.Get("WorldMatLast"),this._worldTransform),this._enableCurves&&this.rotationCurve||this.translationCurve){var i=te.EveObject.global.quat_0,n=te.EveObject.global.vec3_0,a=ee.mat4.getScaling(te.EveObject.global.vec3_0,this._localTransform);this.rotationCurve&&this.rotationCurve.GetValueAt(t,i),this.translationCurve&&this.translationCurve.GetValueAt(t,n),ee.mat4.fromRotationTranslationScale(this._localTransform,i,n,a)}e?ee.mat4.multiply(this._worldTransform,e,this._localTransform):ee.mat4.copy(this._worldTransform,this._localTransform);var o=this.mesh&&this.mesh.IsGood()?this.mesh.geometryResource:null;if(o&&this.animation&&(this.animation.HasGeometryResource(o)||this.animation.SetGeometryResource(o),this.animation.animations.length&&this._perObjectData.vs.Set("JointMat",this.animation.GetBoneMatrices(0))),r!==this._worldSpriteScale){this._worldSpriteScale=r,this.boosters&&this.boosters.SetWorldSpriteScale(r);for(var s=0;s<this.attachments.length;s++)"SetWorldSpriteScale"in this.attachments[s]&&this.attachments[s].SetWorldSpriteScale(r)}for(var u=0;u<this.children.length;++u)this.children[u].UpdateViewDependentData(this._worldTransform);ee.mat4.transpose(this._perObjectData.vs.Get("WorldMat"),this._worldTransform);var l=this._perObjectData.vs.Get("EllipsoidCenter"),c=this._perObjectData.vs.Get("EllipsoidRadii");if(this.shapeEllipsoidRadius[0]>0)l[0]=this.shapeEllipsoidCenter[0],l[1]=this.shapeEllipsoidCenter[1],l[2]=this.shapeEllipsoidCenter[2],c[0]=this.shapeEllipsoidRadius[0],c[1]=this.shapeEllipsoidRadius[1],c[2]=this.shapeEllipsoidRadius[2];else if(o){var{maxBounds:f,minBounds:d}=o;ee.vec3.subtract(l,f,d),ee.vec3.scale(l,l,.8660254035),ee.vec3.add(c,f,d),ee.vec3.scale(c,c,.5)}for(var h=0;h<this.customMasks.length;++h)this.customMasks[h].UpdatePerObjectData(this._worldTransform,this._perObjectData,h,this.visible.customMasks);for(var m=0;m<this.attachments.length;m++)"UpdateViewDependentData"in this.attachments[m]&&this.attachments[m].UpdateViewDependentData(this._worldTransform,t,r)}},Q.wrappedType=J.WrappedType.SPACE_SHIP,Q.perObjectData={vs:[["WorldMat",16],["WorldMatLast",16],["Shipdata",[0,1,0,-10]],["Clipdata1",4],["EllipsoidRadii",4],["EllipsoidCenter",4],["Unknown0",[0,1,0,0]],["Unknown1",4],["Unknown2",4],["Unknown3",4],["CustomMaskMatrix0",ee.mat4.create()],["CustomMaskMatrix1",ee.mat4.create()],["CustomMaskData0",[1,0,0,0]],["CustomMaskData1",[1,0,0,0]],["JointMat",696]],ps:[["Shipdata",[0,1,0,1]],["Clipdata1",4],["Clipdata2",4],["ShLighting",28],["CustomMaskMaterialID0",4],["CustomMaskMaterialID1",4],["CustomMaskTarget0",4],["CustomMaskTarget1",4]]},z=se((O=Z).prototype,"animation",[n,a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new ie.Tw2AnimationController}}),P=se(O.prototype,"attachments",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),x=se(O.prototype,"boosters",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),C=se(O.prototype,"boundingSphereCenter",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return ee.vec3.create()}}),D=se(O.prototype,"boundingSphereRadius",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),M=se(O.prototype,"children",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),L=se(O.prototype,"customMasks",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),I=se(O.prototype,"decals",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),F=se(O.prototype,"dna",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),G=se(O.prototype,"locatorSets",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),N=se(O.prototype,"locators",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),B=se(O.prototype,"mesh",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),U=se(O.prototype,"rotationCurve",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),V=se(O.prototype,"shadowEffect",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),k=se(O.prototype,"shapeEllipsoidCenter",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return ee.vec3.create()}}),H=se(O.prototype,"shapeEllipsoidRadius",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return ee.vec3.create()}}),q=se(O.prototype,"translationCurve",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),W=se(O.prototype,"killCount",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Y=se(O.prototype,"boosterGain",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),X=se(O.prototype,"effectChildren",[_,R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),K=se(O.prototype,"visible",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{mesh:!0,children:!0,effectChildren:!0,planeSets:!0,spotlightSets:!0,decals:!0,spriteSets:!0,overlayEffects:!0,lineSets:!0,killmarks:!0,customMasks:!0,turretSets:!0,boosters:!0}}}),A=O))||A)},"./unsupported/eve/object/EveStation2.js":function(e,t,r){"use strict";r.r(t),r.d(t,"EveStation2",(function(){return te}));var i,n,a,o,s,u,l,c,f,d,h,m,p,b,v,g,E,y,T,S,w,_,R,j,A,O,z,P,x,C,D,M,L,I,F,G,N,B,U,V,k,H,q,W,Y,X,K=r("./utils/index.js"),Q=r("./math/index.js"),Z=(r("./eve/object/EveObject.js"),r("./core/model/index.js")),$=r("./unsupported/eve/object/EveShip2.js");function J(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function ee(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var te=(i=K.meta.notImplemented,n=K.meta.ctor("EveStation2"),a=K.meta.struct("Tw2Animation"),o=K.meta.isPrivate,s=K.meta.list("EveObjectSet"),u=K.meta.vector3,l=K.meta.float,c=K.meta.list("EveObject"),f=K.meta.list("EveCurveSet"),d=K.meta.list("EveSpaceObjectDecal"),h=K.meta.string,m=K.meta.list("EveChild"),p=K.meta.list("TriPointLight"),b=K.meta.list("EveLocatorSets"),v=K.meta.list("EveLocator2"),g=K.meta.struct("Tw2Mesh"),E=K.meta.struct("Tr2MeshLod"),y=K.meta.struct("Tr2RotationAdapter"),T=K.meta.float,S=K.meta.list("TriObserverLocal"),w=K.meta.struct("Tr2RotationAdapter"),_=K.meta.struct("Tw2Effect"),R=K.meta.struct("Tr2TranslationAdapter"),i(j=n((X=class extends $.EveShip2{constructor(...e){super(...e),J(this,"animations",O,this),J(this,"attachments",z,this),J(this,"boundingSphereCenter",P,this),J(this,"boundingSphereRadius",x,this),J(this,"children",C,this),J(this,"curveSets",D,this),J(this,"decals",M,this),J(this,"dna",L,this),J(this,"effectChildren",I,this),J(this,"lights",F,this),J(this,"locatorSets",G,this),J(this,"locators",N,this),J(this,"mesh",B,this),J(this,"meshLod",U,this),J(this,"modelRotationCurve",V,this),J(this,"modelScale",k,this),J(this,"observers",H,this),J(this,"rotationCurve",q,this),J(this,"shadowEffect",W,this),J(this,"translationCurve",Y,this)}},O=ee((A=X).prototype,"animations",[a,o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new Z.Tw2Animation}}),z=ee(A.prototype,"attachments",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),P=ee(A.prototype,"boundingSphereCenter",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Q.vec3.create()}}),x=ee(A.prototype,"boundingSphereRadius",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),C=ee(A.prototype,"children",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),D=ee(A.prototype,"curveSets",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),M=ee(A.prototype,"decals",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),L=ee(A.prototype,"dna",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),I=ee(A.prototype,"effectChildren",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),F=ee(A.prototype,"lights",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),G=ee(A.prototype,"locatorSets",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),N=ee(A.prototype,"locators",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),B=ee(A.prototype,"mesh",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),U=ee(A.prototype,"meshLod",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),V=ee(A.prototype,"modelRotationCurve",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),k=ee(A.prototype,"modelScale",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),H=ee(A.prototype,"observers",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),q=ee(A.prototype,"rotationCurve",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),W=ee(A.prototype,"shadowEffect",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Y=ee(A.prototype,"translationCurve",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),j=A))||j)||j)},"./unsupported/eve/object/index.js":function(e,t,r){"use strict";r.r(t);var i=r("./unsupported/eve/object/EveEffectRoot2.js");r.d(t,"EveEffectRoot2",(function(){return i.EveEffectRoot2}));var n=r("./unsupported/eve/object/EveMobile.js");r.d(t,"EveMobile",(function(){return n.EveMobile}));var a=r("./unsupported/eve/object/EveRootTransform.js");r.d(t,"EveRootTransform",(function(){return a.EveRootTransform}));var o=r("./unsupported/eve/object/EveShip2.js");r.d(t,"EveShip2",(function(){return o.EveShip2}));var s=r("./unsupported/eve/object/EveStation2.js");r.d(t,"EveStation2",(function(){return s.EveStation2}))},"./unsupported/eve/particle/EveParticleDirectForce.js":function(e,t,r){"use strict";r.r(t),r.d(t,"EveParticleDirectForce",(function(){return v}));var i,n,a,o,s,u=r("./utils/index.js"),l=r("./math/index.js"),c=r("./particle/force/Tw2ParticleForce.js");var f,d,h,m,p,b,v=(i=u.meta.vector3,s=o=class extends c.Tw2ParticleForce{constructor(...e){var t,r,i,n;super(...e),t=this,r="force",n=this,(i=a)&&Object.defineProperty(t,r,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}},o.__isStaging=4,f=(n=s).prototype,d="force",h=[i],m={configurable:!0,enumerable:!0,writable:!0,initializer:function(){return l.vec3.create()}},b={},Object.keys(m).forEach((function(e){b[e]=m[e]})),b.enumerable=!!b.enumerable,b.configurable=!!b.configurable,("value"in b||b.initializer)&&(b.writable=!0),b=h.slice().reverse().reduce((function(e,t){return t(f,d,e)||e}),b),p&&void 0!==b.initializer&&(b.value=b.initializer?b.initializer.call(p):void 0,b.initializer=void 0),void 0===b.initializer&&(Object.defineProperty(f,d,b),b=null),a=b,n)},"./unsupported/eve/particle/EveParticleDragForce.js":function(e,t,r){"use strict";r.r(t),r.d(t,"EveParticleDragForce",(function(){return p}));var i,n,a,o,s,u=r("./particle/force/Tw2ParticleForce.js");var l,c,f,d,h,m,p=(i=r("./utils/index.js").meta.float,s=o=class extends u.Tw2ParticleForce{constructor(...e){var t,r,i,n;super(...e),t=this,r="drag",n=this,(i=a)&&Object.defineProperty(t,r,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}},o.__isStaging=4,l=(n=s).prototype,c="drag",f=[i],d={configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}},m={},Object.keys(d).forEach((function(e){m[e]=d[e]})),m.enumerable=!!m.enumerable,m.configurable=!!m.configurable,("value"in m||m.initializer)&&(m.writable=!0),m=f.slice().reverse().reduce((function(e,t){return t(l,c,e)||e}),m),h&&void 0!==m.initializer&&(m.value=m.initializer?m.initializer.call(h):void 0,m.initializer=void 0),void 0===m.initializer&&(Object.defineProperty(l,c,m),m=null),a=m,n)},"./unsupported/eve/particle/index.js":function(e,t,r){"use strict";r.r(t);var i=r("./unsupported/eve/particle/EveParticleDirectForce.js");r.d(t,"EveParticleDirectForce",(function(){return i.EveParticleDirectForce}));var n=r("./unsupported/eve/particle/EveParticleDragForce.js");r.d(t,"EveParticleDragForce",(function(){return n.EveParticleDragForce}))},"./unsupported/eve/pi/EveConnector.js":function(e,t,r){"use strict";r.r(t),r.d(t,"EveConnector",(function(){return C}));var i,n,a,o,s,u,l,c,f,d,h,m,p,b,v,g,E,y,T,S,w,_,R,j,A,O=r("./utils/index.js"),z=r("./math/index.js");function P(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function x(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var C=(i=O.meta.notImplemented,n=O.meta.ctor("EveConnector",!0),a=O.meta.color,o=O.meta.float,s=O.meta.float,u=O.meta.color,l=O.meta.struct(),c=O.meta.vector3,f=O.meta.boolean,d=O.meta.float,h=O.meta.struct(),m=O.meta.uint,i(p=n((A=class extends O.meta.Model{constructor(...e){super(...e),P(this,"animationColor",v,this),P(this,"animationScale",g,this),P(this,"animationSpeed",E,this),P(this,"color",y,this),P(this,"destObject",T,this),P(this,"destPosition",S,this),P(this,"isAnimated",w,this),P(this,"lineWidth",_,this),P(this,"sourceObject",R,this),P(this,"type",j,this)}},v=x((b=A).prototype,"animationColor",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return z.vec4.create()}}),g=x(b.prototype,"animationScale",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),E=x(b.prototype,"animationSpeed",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),y=x(b.prototype,"color",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return z.vec4.create()}}),T=x(b.prototype,"destObject",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),S=x(b.prototype,"destPosition",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return z.vec3.create()}}),w=x(b.prototype,"isAnimated",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),_=x(b.prototype,"lineWidth",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),R=x(b.prototype,"sourceObject",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),j=x(b.prototype,"type",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),p=b))||p)||p)},"./unsupported/eve/pi/EveLocalPositionCurve.js":function(e,t,r){"use strict";r.r(t),r.d(t,"EveLocalPositionCurve",(function(){return g}));var i,n,a,o,s,u,l,c=r("./utils/index.js"),f=r("./math/index.js");var d,h,m,p,b,v,g=(i=c.meta.notImplemented,n=c.meta.ctor("EveLocalPositionCurve"),a=c.meta.vector3,i(o=n((l=class extends c.meta.Model{constructor(...e){var t,r,i,n;super(...e),t=this,r="value",n=this,(i=u)&&Object.defineProperty(t,r,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}},d=(s=l).prototype,h="value",m=[a],p={configurable:!0,enumerable:!0,writable:!0,initializer:function(){return f.vec3.create()}},v={},Object.keys(p).forEach((function(e){v[e]=p[e]})),v.enumerable=!!v.enumerable,v.configurable=!!v.configurable,("value"in v||v.initializer)&&(v.writable=!0),v=m.slice().reverse().reduce((function(e,t){return t(d,h,e)||e}),v),b&&void 0!==v.initializer&&(v.value=v.initializer?v.initializer.call(b):void 0,v.initializer=void 0),void 0===v.initializer&&(Object.defineProperty(d,h,v),v=null),u=v,o=s))||o)||o)},"./unsupported/eve/pi/EveSpherePin.js":function(e,t,r){"use strict";r.r(t),r.d(t,"EveSpherePin",(function(){return I}));var i,n,a,o,s,u,l,c,f,d,h,m,p,b,v,g,E,y,T,S,w,_,R,j,A,O,z,P,x,C=r("./utils/index.js"),D=r("./math/index.js");function M(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function L(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var I=(i=C.meta.notImplemented,n=C.meta.ctor("EveSpherePin",!0),a=C.meta.string,o=C.meta.vector3,s=C.meta.color,u=C.meta.list(),l=C.meta.boolean,c=C.meta.path,f=C.meta.color,d=C.meta.struct(),h=C.meta.float,m=C.meta.float,p=C.meta.float,b=C.meta.float,i(v=n((x=class extends C.meta.Model{constructor(...e){super(...e),M(this,"name",E,this),M(this,"centerNormal",y,this),M(this,"color",T,this),M(this,"curveSets",S,this),M(this,"enablePicking",w,this),M(this,"geometryResPath",_,this),M(this,"pinColor",R,this),M(this,"pinEffect",j,this),M(this,"pinMaxRadius",A,this),M(this,"pinRadius",O,this),M(this,"pinRotation",z,this),M(this,"sortValueMultiplier",P,this)}},E=L((g=x).prototype,"name",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),y=L(g.prototype,"centerNormal",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return D.vec3.create()}}),T=L(g.prototype,"color",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return D.vec4.create()}}),S=L(g.prototype,"curveSets",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),w=L(g.prototype,"enablePicking",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),_=L(g.prototype,"geometryResPath",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),R=L(g.prototype,"pinColor",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return D.vec4.create()}}),j=L(g.prototype,"pinEffect",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),A=L(g.prototype,"pinMaxRadius",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),O=L(g.prototype,"pinRadius",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),z=L(g.prototype,"pinRotation",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),P=L(g.prototype,"sortValueMultiplier",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),v=g))||v)||v)},"./unsupported/eve/pi/index.js":function(e,t,r){"use strict";r.r(t);var i=r("./unsupported/eve/pi/EveConnector.js");r.d(t,"EveConnector",(function(){return i.EveConnector}));var n=r("./unsupported/eve/pi/EveLocalPositionCurve.js");r.d(t,"EveLocalPositionCurve",(function(){return n.EveLocalPositionCurve}));var a=r("./unsupported/eve/pi/EveSpherePin.js");r.d(t,"EveSpherePin",(function(){return a.EveSpherePin}))},"./unsupported/eve/ui/EveTacticalOverlay.js":function(e,t,r){"use strict";r.r(t),r.d(t,"EveTacticalOverlay",(function(){return A}));var i,n,a,o,s,u,l,c,f,d,h,m,p,b,v,g,E,y,T,S,w,_=r("./utils/index.js");function R(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function j(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var A=(i=_.meta.notImplemented,n=_.meta.ctor("EveTacticalOverlay"),a=_.meta.struct(),o=_.meta.float,s=_.meta.struct(),u=_.meta.float,l=_.meta.float,c=_.meta.float,f=_.meta.float,d=_.meta.struct(),i(h=n((w=class extends _.meta.Model{constructor(...e){super(...e),R(this,"anchorEffect",p,this),R(this,"arcSegmentMultiplier",b,this),R(this,"connectorEffect",v,this),R(this,"segmentsHigh",g,this),R(this,"segmentsLow",E,this),R(this,"segmentsMedium",y,this),R(this,"targetMaxSegments",T,this),R(this,"velocityEffect",S,this)}},p=j((m=w).prototype,"anchorEffect",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),b=j(m.prototype,"arcSegmentMultiplier",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),v=j(m.prototype,"connectorEffect",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),g=j(m.prototype,"segmentsHigh",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),E=j(m.prototype,"segmentsLow",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),y=j(m.prototype,"segmentsMedium",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),T=j(m.prototype,"targetMaxSegments",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),S=j(m.prototype,"velocityEffect",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),h=m))||h)||h)},"./unsupported/eve/ui/EveUiObject.js":function(e,t,r){"use strict";r.r(t),r.d(t,"EveUiObject",(function(){return E}));var i,n,a,o,s,u,l,c,f,d,h,m,p,b=r("./utils/index.js");function v(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function g(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var E=(i=b.meta.notImplemented,n=b.meta.ctor("EveUiObject"),a=b.meta.string,o=b.meta.float,s=b.meta.struct(),u=b.meta.float,i(l=n((p=class extends b.meta.Model{constructor(...e){super(...e),v(this,"name",f,this),v(this,"boundingSphereRadius",d,this),v(this,"mesh",h,this),v(this,"modelScale",m,this)}},f=g((c=p).prototype,"name",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),d=g(c.prototype,"boundingSphereRadius",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),h=g(c.prototype,"mesh",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),m=g(c.prototype,"modelScale",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),l=c))||l)||l)},"./unsupported/eve/ui/index.js":function(e,t,r){"use strict";r.r(t);var i=r("./unsupported/eve/ui/EveTacticalOverlay.js");r.d(t,"EveTacticalOverlay",(function(){return i.EveTacticalOverlay}));var n=r("./unsupported/eve/ui/EveUiObject.js");r.d(t,"EveUiObject",(function(){return n.EveUiObject}))},"./unsupported/index.js":function(e,t,r){"use strict";r.r(t);var i=r("./unsupported/core/index.js");r.d(t,"Tr2PointLight",(function(){return i.Tr2PointLight})),r.d(t,"Tr2ShLightingManager",(function(){return i.Tr2ShLightingManager})),r.d(t,"Tr2MeshLod",(function(){return i.Tr2MeshLod})),r.d(t,"Tr2ExternalParameter",(function(){return i.Tr2ExternalParameter})),r.d(t,"Tr2Texture2dLodParameter",(function(){return i.Tr2Texture2dLodParameter})),r.d(t,"Tr2PostProcess",(function(){return i.Tr2PostProcess})),r.d(t,"Tr2LodResource",(function(){return i.Tr2LodResource})),r.d(t,"TriMatrix",(function(){return i.TriMatrix})),r.d(t,"Tr2DistanceTracker",(function(){return i.Tr2DistanceTracker})),r.d(t,"TriObserverLocal",(function(){return i.TriObserverLocal}));var n=r("./unsupported/curve/index.js");r.d(t,"Tr2RotationAdapter",(function(){return n.Tr2RotationAdapter})),r.d(t,"Tr2TranslationAdapter",(function(){return n.Tr2TranslationAdapter})),r.d(t,"AudEventKey",(function(){return n.AudEventKey})),r.d(t,"AudEventCurve",(function(){return n.AudEventCurve})),r.d(t,"Tr2BoneMatrixCurve",(function(){return n.Tr2BoneMatrixCurve})),r.d(t,"Tr2CurveConstant",(function(){return n.Tr2CurveConstant})),r.d(t,"Tw2CurveScalarKey",(function(){return n.Tw2CurveScalarKey})),r.d(t,"Tr2CurveScalar",(function(){return n.Tr2CurveScalar})),r.d(t,"Tr2ScalarExprKey",(function(){return n.Tr2ScalarExprKey})),r.d(t,"Tr2ScalarExprKeyCurve",(function(){return n.Tr2ScalarExprKeyCurve})),r.d(t,"Tr2ScalarExprCurve",(function(){return n.Tr2ScalarExprCurve})),r.d(t,"Tr2CurveEulerRotationExpression",(function(){return n.Tr2CurveEulerRotationExpression})),r.d(t,"Tr2CurveScalarExpression",(function(){return n.Tr2CurveScalarExpression})),r.d(t,"Tr2CurveVector3Expression",(function(){return n.Tr2CurveVector3Expression})),r.d(t,"Tw2CurveExpression",(function(){return n.Tw2CurveExpression})),r.d(t,"Tw2CurveSetRange",(function(){return n.Tw2CurveSetRange}));var a=r("./unsupported/eve/index.js");r.d(t,"EveAnimation",(function(){return a.EveAnimation})),r.d(t,"EveAnimationCommand",(function(){return a.EveAnimationCommand})),r.d(t,"EveAnimationCurve",(function(){return a.EveAnimationCurve})),r.d(t,"EveAnimationState",(function(){return a.EveAnimationState})),r.d(t,"EveAnimationStateMachine",(function(){return a.EveAnimationStateMachine})),r.d(t,"EveChildModifierAttachToBone",(function(){return a.EveChildModifierAttachToBone})),r.d(t,"EveChildModifierBillboard2D",(function(){return a.EveChildModifierBillboard2D})),r.d(t,"EveChildModifierBillboard3D",(function(){return a.EveChildModifierBillboard3D})),r.d(t,"EveChildModifierCameraOrientedRotationConstrained",(function(){return a.EveChildModifierCameraOrientedRotationConstrained})),r.d(t,"EveChildModifierHalo",(function(){return a.EveChildModifierHalo})),r.d(t,"EveChildModifierSRT",(function(){return a.EveChildModifierSRT})),r.d(t,"EveChildModifierTranslateWithCamera",(function(){return a.EveChildModifierTranslateWithCamera})),r.d(t,"EveChildBulletStorm",(function(){return a.EveChildBulletStorm})),r.d(t,"EveChildCloud",(function(){return a.EveChildCloud})),r.d(t,"EveChildExplosion",(function(){return a.EveChildExplosion})),r.d(t,"EveChildInheritProperties",(function(){return a.EveChildInheritProperties})),r.d(t,"EveChildLink",(function(){return a.EveChildLink})),r.d(t,"EveChildParticleSphere",(function(){return a.EveChildParticleSphere})),r.d(t,"EveChildQuad",(function(){return a.EveChildQuad})),r.d(t,"EveStarfield",(function(){return a.EveStarfield})),r.d(t,"EveStretch2",(function(){return a.EveStretch2})),r.d(t,"EveBanner",(function(){return a.EveBanner})),r.d(t,"EveBoosterSet2Batch",(function(){return a.EveBoosterSet2Batch})),r.d(t,"EveBoosterSet2Item",(function(){return a.EveBoosterSet2Item})),r.d(t,"EveBoosterSet2",(function(){return a.EveBoosterSet2})),r.d(t,"EveHazeSetBatch",(function(){return a.EveHazeSetBatch})),r.d(t,"EveHazeSetItem",(function(){return a.EveHazeSetItem})),r.d(t,"EveHazeSet",(function(){return a.EveHazeSet})),r.d(t,"EveSpriteLineSetBatch",(function(){return a.EveSpriteLineSetBatch})),r.d(t,"EveSpriteLineSetItem",(function(){return a.EveSpriteLineSetItem})),r.d(t,"EveSpriteLineSet",(function(){return a.EveSpriteLineSet})),r.d(t,"EveTrailSetRenderBatch",(function(){return a.EveTrailSetRenderBatch})),r.d(t,"EveTrailsSet",(function(){return a.EveTrailsSet})),r.d(t,"EveEffectRoot2",(function(){return a.EveEffectRoot2})),r.d(t,"EveMobile",(function(){return a.EveMobile})),r.d(t,"EveRootTransform",(function(){return a.EveRootTransform})),r.d(t,"EveShip2",(function(){return a.EveShip2})),r.d(t,"EveStation2",(function(){return a.EveStation2})),r.d(t,"EveParticleDirectForce",(function(){return a.EveParticleDirectForce})),r.d(t,"EveParticleDragForce",(function(){return a.EveParticleDragForce})),r.d(t,"EveConnector",(function(){return a.EveConnector})),r.d(t,"EveLocalPositionCurve",(function(){return a.EveLocalPositionCurve})),r.d(t,"EveSpherePin",(function(){return a.EveSpherePin})),r.d(t,"EveTacticalOverlay",(function(){return a.EveTacticalOverlay})),r.d(t,"EveUiObject",(function(){return a.EveUiObject}));var o=r("./unsupported/interior/index.js");r.d(t,"Tr2IntSkinnedObject",(function(){return o.Tr2IntSkinnedObject})),r.d(t,"Tr2SkinnedModel",(function(){return o.Tr2SkinnedModel})),r.d(t,"Tr2InteriorLightSource",(function(){return o.Tr2InteriorLightSource})),r.d(t,"Tr2KelvinColor",(function(){return o.Tr2KelvinColor})),r.d(t,"Tr2InteriorPlaceable",(function(){return o.Tr2InteriorPlaceable})),r.d(t,"Tr2InteriorScene",(function(){return o.Tr2InteriorScene})),r.d(t,"WodPlaceableRes",(function(){return o.WodPlaceableRes})),r.d(t,"Tr2Model",(function(){return o.Tr2Model}));var s=r("./unsupported/particle/index.js");r.d(t,"Tr2PlaneConstraint",(function(){return s.Tr2PlaneConstraint})),r.d(t,"Tr2GpuSharedEmitter",(function(){return s.Tr2GpuSharedEmitter})),r.d(t,"Tr2GpuUniqueEmitter",(function(){return s.Tr2GpuUniqueEmitter})),r.d(t,"Tr2ForceSphereVolume",(function(){return s.Tr2ForceSphereVolume})),r.d(t,"Tr2ParticleVortexForce",(function(){return s.Tr2ParticleVortexForce})),r.d(t,"Tr2GpuParticleSystem",(function(){return s.Tr2GpuParticleSystem}));var u=r("./unsupported/state/index.js");r.d(t,"Tr2ActionAnimateCurveSet",(function(){return u.Tr2ActionAnimateCurveSet})),r.d(t,"Tr2ActionAnimateValue",(function(){return u.Tr2ActionAnimateValue})),r.d(t,"Tr2ActionChildEffect",(function(){return u.Tr2ActionChildEffect})),r.d(t,"Tr2ActionOverlay",(function(){return u.Tr2ActionOverlay})),r.d(t,"Tr2ActionPlayCurveSet",(function(){return u.Tr2ActionPlayCurveSet})),r.d(t,"Tr2ActionPlayMeshAnimation",(function(){return u.Tr2ActionPlayMeshAnimation})),r.d(t,"Tr2ActionPlaySound",(function(){return u.Tr2ActionPlaySound})),r.d(t,"Tr2ActionResetClipSphereCenter",(function(){return u.Tr2ActionResetClipSphereCenter})),r.d(t,"Tr2ActionSetValue",(function(){return u.Tr2ActionSetValue})),r.d(t,"Tr2ActionSpawnParticles",(function(){return u.Tr2ActionSpawnParticles})),r.d(t,"Tr2Controller",(function(){return u.Tr2Controller})),r.d(t,"Tr2ControllerReference",(function(){return u.Tr2ControllerReference})),r.d(t,"Tr2ControllerFloatVariable",(function(){return u.Tr2ControllerFloatVariable})),r.d(t,"Tr2StateMachine",(function(){return u.Tr2StateMachine})),r.d(t,"Tr2StateMachineState",(function(){return u.Tr2StateMachineState})),r.d(t,"Tr2StateMachineTransition",(function(){return u.Tr2StateMachineTransition})),r.d(t,"Tr2SyncToAnimation",(function(){return u.Tr2SyncToAnimation}));var l=r("./unsupported/AudEmitter.js");r.d(t,"AudEmitter",(function(){return l.AudEmitter}))},"./unsupported/interior/Tr2Model.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tr2Model",(function(){return v}));var i,n,a,o,s,u,l,c=r("./utils/index.js");var f,d,h,m,p,b,v=(i=c.meta.notImplemented,n=c.meta.ctor("Tr2Model"),a=c.meta.list("Tw2Mesh"),i(o=n((l=class extends c.meta.Model{constructor(...e){var t,r,i,n;super(...e),t=this,r="meshes",n=this,(i=u)&&Object.defineProperty(t,r,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}},f=(s=l).prototype,d="meshes",h=[a],m={configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}},b={},Object.keys(m).forEach((function(e){b[e]=m[e]})),b.enumerable=!!b.enumerable,b.configurable=!!b.configurable,("value"in b||b.initializer)&&(b.writable=!0),b=h.slice().reverse().reduce((function(e,t){return t(f,d,e)||e}),b),p&&void 0!==b.initializer&&(b.value=b.initializer?b.initializer.call(p):void 0,b.initializer=void 0),void 0===b.initializer&&(Object.defineProperty(f,d,b),b=null),u=b,o=s))||o)||o)},"./unsupported/interior/character/Tr2IntSkinnedObject.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tr2IntSkinnedObject",(function(){return v}));var i,n,a,o,s,u,l,c,f,d,h,m=r("./utils/index.js");function p(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function b(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var v=(i=m.meta.notImplemented,n=m.meta.ctor("Tr2IntSkinnedObject"),a=m.meta.list("Tw2CurveSet"),o=m.meta.struct("TriMatrix"),s=m.meta.struct("Tr2SkinnedModel"),i(u=n((h=class extends m.meta.Model{constructor(...e){super(...e),p(this,"curveSets",c,this),p(this,"transform",f,this),p(this,"visualModel",d,this)}},c=b((l=h).prototype,"curveSets",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),f=b(l.prototype,"transform",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),d=b(l.prototype,"visualModel",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),u=l))||u)||u)},"./unsupported/interior/character/Tr2SkinnedModel.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tr2SkinnedModel",(function(){return E}));var i,n,a,o,s,u,l,c,f,d,h,m,p,b=r("./utils/index.js");function v(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function g(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var E=(i=b.meta.notImplemented,n=b.meta.ctor("Tr2SkinnedModel"),a=b.meta.string,o=b.meta.path,s=b.meta.list(),u=b.meta.string,i(l=n((p=class extends b.meta.Model{constructor(...e){super(...e),v(this,"name",f,this),v(this,"geometryResPath",d,this),v(this,"meshes",h,this),v(this,"skeletonName",m,this)}},f=g((c=p).prototype,"name",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),d=g(c.prototype,"geometryResPath",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),h=g(c.prototype,"meshes",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),m=g(c.prototype,"skeletonName",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),l=c))||l)||l)},"./unsupported/interior/character/index.js":function(e,t,r){"use strict";r.r(t);var i=r("./unsupported/interior/character/Tr2IntSkinnedObject.js");r.d(t,"Tr2IntSkinnedObject",(function(){return i.Tr2IntSkinnedObject}));var n=r("./unsupported/interior/character/Tr2SkinnedModel.js");r.d(t,"Tr2SkinnedModel",(function(){return n.Tr2SkinnedModel}))},"./unsupported/interior/index.js":function(e,t,r){"use strict";r.r(t);var i=r("./unsupported/interior/character/index.js");r.d(t,"Tr2IntSkinnedObject",(function(){return i.Tr2IntSkinnedObject})),r.d(t,"Tr2SkinnedModel",(function(){return i.Tr2SkinnedModel}));var n=r("./unsupported/interior/lighting/index.js");r.d(t,"Tr2InteriorLightSource",(function(){return n.Tr2InteriorLightSource})),r.d(t,"Tr2KelvinColor",(function(){return n.Tr2KelvinColor}));var a=r("./unsupported/interior/scene/index.js");r.d(t,"Tr2InteriorPlaceable",(function(){return a.Tr2InteriorPlaceable})),r.d(t,"Tr2InteriorScene",(function(){return a.Tr2InteriorScene})),r.d(t,"WodPlaceableRes",(function(){return a.WodPlaceableRes}));var o=r("./unsupported/interior/Tr2Model.js");r.d(t,"Tr2Model",(function(){return o.Tr2Model}))},"./unsupported/interior/lighting/Tr2InteriorLightSource.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tr2InteriorLightSource",(function(){return I}));var i,n,a,o,s,u,l,c,f,d,h,m,p,b,v,g,E,y,T,S,w,_,R,j,A,O,z,P,x,C=r("./utils/index.js"),D=r("./math/index.js");function M(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function L(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var I=(i=C.meta.notImplemented,n=C.meta.ctor("Tr2InteriorLightSource"),a=C.meta.string,o=C.meta.color,s=C.meta.float,u=C.meta.float,l=C.meta.vector3,c=C.meta.float,f=C.meta.float,d=C.meta.float,h=C.meta.struct("Tr2KelvinColor"),m=C.meta.vector3,p=C.meta.float,b=C.meta.boolean,i(v=n((x=class extends C.meta.Model{constructor(...e){super(...e),M(this,"name",E,this),M(this,"color",y,this),M(this,"coneAlphaInner",T,this),M(this,"coneAlphaOuter",S,this),M(this,"coneDirection",w,this),M(this,"falloff",_,this),M(this,"importanceBias",R,this),M(this,"importanceScale",j,this),M(this,"kelvinColor",A,this),M(this,"position",O,this),M(this,"radius",z,this),M(this,"useKelvinColor",P,this)}},E=L((g=x).prototype,"name",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),y=L(g.prototype,"color",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return D.vec4.create()}}),T=L(g.prototype,"coneAlphaInner",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),S=L(g.prototype,"coneAlphaOuter",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),w=L(g.prototype,"coneDirection",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return D.vec3.create()}}),_=L(g.prototype,"falloff",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),R=L(g.prototype,"importanceBias",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),j=L(g.prototype,"importanceScale",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),A=L(g.prototype,"kelvinColor",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),O=L(g.prototype,"position",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return D.vec3.create()}}),z=L(g.prototype,"radius",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),P=L(g.prototype,"useKelvinColor",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),v=g))||v)||v)},"./unsupported/interior/lighting/Tr2KelvinColor.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tr2KelvinColor",(function(){return p}));var i,n,a,o,s,u,l,c,f,d=r("./utils/index.js");function h(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function m(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var p=(i=d.meta.notImplemented,n=d.meta.ctor("Tr2KelvinColor"),a=d.meta.float,o=d.meta.float,i(s=n((f=class extends d.meta.Model{constructor(...e){super(...e),h(this,"temperature",l,this),h(this,"tint",c,this)}},l=m((u=f).prototype,"temperature",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),c=m(u.prototype,"tint",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),s=u))||s)||s)},"./unsupported/interior/lighting/index.js":function(e,t,r){"use strict";r.r(t);var i=r("./unsupported/interior/lighting/Tr2InteriorLightSource.js");r.d(t,"Tr2InteriorLightSource",(function(){return i.Tr2InteriorLightSource}));var n=r("./unsupported/interior/lighting/Tr2KelvinColor.js");r.d(t,"Tr2KelvinColor",(function(){return n.Tr2KelvinColor}))},"./unsupported/interior/scene/Tr2InteriorPlaceable.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tr2InteriorPlaceable",(function(){return p}));var i,n,a,o,s,u,l,c,f,d=r("./utils/index.js");function h(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function m(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var p=(i=d.meta.notImplemented,n=d.meta.ctor("Tr2InteriorPlaceable"),a=d.meta.path,o=d.meta.struct("TriMatrix"),i(s=n((f=class extends d.meta.Model{constructor(...e){super(...e),h(this,"placeableResPath",l,this),h(this,"transform",c,this)}},l=m((u=f).prototype,"placeableResPath",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),c=m(u.prototype,"transform",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),s=u))||s)||s)},"./unsupported/interior/scene/Tr2InteriorScene.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tr2InteriorScene",(function(){return p}));var i,n,a,o,s,u,l,c,f,d=r("./utils/index.js");function h(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function m(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var p=(i=d.meta.notImplemented,n=d.meta.ctor("Tr2InteriorScene"),a=d.meta.list("Tr2IntSkinnedObject"),o=d.meta.list("Tr2InteriorLightSource"),i(s=n((f=class extends d.meta.Model{constructor(...e){super(...e),h(this,"dynamics",l,this),h(this,"lights",c,this)}},l=m((u=f).prototype,"dynamics",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),c=m(u.prototype,"lights",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),s=u))||s)||s)},"./unsupported/interior/scene/WodPlaceableRes.js":function(e,t,r){"use strict";r.r(t),r.d(t,"WodPlaceableRes",(function(){return v}));var i,n,a,o,s,u,l,c,f,d,h,m=r("./utils/index.js");function p(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function b(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var v=(i=m.meta.notImplemented,n=m.meta.ctor("WodPlaceableRes"),a=m.meta.float,o=m.meta.float,s=m.meta.struct("Tr2Model"),i(u=n((h=class extends m.meta.Model{constructor(...e){super(...e),p(this,"farFadeDistance",c,this),p(this,"nearFadeDistance",f,this),p(this,"visualModel",d,this)}},c=b((l=h).prototype,"farFadeDistance",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),f=b(l.prototype,"nearFadeDistance",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),d=b(l.prototype,"visualModel",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),u=l))||u)||u)},"./unsupported/interior/scene/index.js":function(e,t,r){"use strict";r.r(t);var i=r("./unsupported/interior/scene/Tr2InteriorPlaceable.js");r.d(t,"Tr2InteriorPlaceable",(function(){return i.Tr2InteriorPlaceable}));var n=r("./unsupported/interior/scene/Tr2InteriorScene.js");r.d(t,"Tr2InteriorScene",(function(){return n.Tr2InteriorScene}));var a=r("./unsupported/interior/scene/WodPlaceableRes.js");r.d(t,"WodPlaceableRes",(function(){return a.WodPlaceableRes}))},"./unsupported/particle/Tw2GpuParticleSystem.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tr2GpuParticleSystem",(function(){return O}));var i,n,a,o,s,u,l,c,f,d,h,m,p,b,v,g,E,y,T,S,w,_,R=r("./utils/index.js");function j(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function A(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var O=(i=R.meta.notImplemented,n=R.meta.ctor("Tr2GpuParticleSystem"),a=R.meta.struct("Tw2Effect"),o=R.meta.struct("Tw2Effect"),s=R.meta.struct("Tw2Effect"),u=R.meta.struct("Tw2Effect"),l=R.meta.struct("Tw2Effect"),c=R.meta.struct("Tw2Effect"),f=R.meta.struct("Tw2Effect"),d=R.meta.struct("Tw2Effect"),h=R.meta.struct("Tw2Effect"),i(m=n((b=A((p=class{constructor(){j(this,"clear",b,this),j(this,"emit",v,this),j(this,"render",g,this),j(this,"setDrawParameters",E,this),j(this,"setSortParameters",y,this),j(this,"sort",T,this),j(this,"sortInner",S,this),j(this,"sortStep",w,this),j(this,"update",_,this)}GetResources(e=[]){return this.clear&&this.clear.GetResources(e),this.EmitEvent&&this.EmitEvent.GetResources(e),this.render&&this.render.GetResources(e),this.setDrawParameters&&this.setDrawParameters.GetResources(e),this.setSortParameters&&this.setSortParameters.GetResources(e),this.sort&&this.sort.GetResources(e),this.sortInner&&this.sortInner.GetResources(e),this.sortStep&&this.sortStep.GetResources(e),this.update&&this.update.GetResources(e),e}}).prototype,"clear",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),v=A(p.prototype,"emit",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),g=A(p.prototype,"render",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),E=A(p.prototype,"setDrawParameters",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),y=A(p.prototype,"setSortParameters",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),T=A(p.prototype,"sort",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),S=A(p.prototype,"sortInner",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),w=A(p.prototype,"sortStep",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_=A(p.prototype,"update",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),m=p))||m)||m)},"./unsupported/particle/constraint/Tr2PlaneConstraint.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tr2PlaneConstraint",(function(){return b}));var i,n,a,o,s,u,l,c,f,d=r("./utils/index.js"),h=r("./unsupported/particle/constraint/Tw2ParticleConstraint.js");function m(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function p(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var b=(i=d.meta.notImplemented,n=d.meta.ctor("Tr2PlaneConstraint"),a=d.meta.list("Tw2PartcileAttributeGenerator"),o=d.meta.float,i(s=n((f=class extends h.Tw2ParticleConstraint{constructor(...e){super(...e),m(this,"generators",l,this),m(this,"reflectionNoise",c,this)}},l=p((u=f).prototype,"generators",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),c=p(u.prototype,"reflectionNoise",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),s=u))||s)||s)},"./unsupported/particle/constraint/Tw2ParticleConstraint.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tw2ParticleConstraint",(function(){return d}));var i,n,a=r("./utils/index.js");var o,s,u,l,c,f,d=(i=a.meta.abstract,n=class extends a.meta.Model{ApplyConstraint(e,t,r,i){}},o=n.prototype,s="ApplyConstraint",u=[i],l=Object.getOwnPropertyDescriptor(n.prototype,"ApplyConstraint"),c=n.prototype,f={},Object.keys(l).forEach((function(e){f[e]=l[e]})),f.enumerable=!!f.enumerable,f.configurable=!!f.configurable,("value"in f||f.initializer)&&(f.writable=!0),f=u.slice().reverse().reduce((function(e,t){return t(o,s,e)||e}),f),c&&void 0!==f.initializer&&(f.value=f.initializer?f.initializer.call(c):void 0,f.initializer=void 0),void 0===f.initializer&&(Object.defineProperty(o,s,f),f=null),n)},"./unsupported/particle/constraint/index.js":function(e,t,r){"use strict";r.r(t);var i=r("./unsupported/particle/constraint/Tr2PlaneConstraint.js");r.d(t,"Tr2PlaneConstraint",(function(){return i.Tr2PlaneConstraint}))},"./unsupported/particle/emitter/Tr2GpuSharedEmitter.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tr2GpuSharedEmitter",(function(){return Re}));var i,n,a,o,s,u,l,c,f,d,h,m,p,b,v,g,E,y,T,S,w,_,R,j,A,O,z,P,x,C,D,M,L,I,F,G,N,B,U,V,k,H,q,W,Y,X,K,Q,Z,$,J,ee,te,re,ie,ne,ae,oe,se,ue,le,ce,fe,de,he,me,pe,be,ve,ge,Ee,ye=r("./utils/index.js"),Te=r("./math/index.js"),Se=r("./particle/emitter/Tw2ParticleEmitter.js");function we(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function _e(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var Re=(i=ye.meta.ctor("Tr2GpuSharedEmitter"),n=ye.meta.notImplemented,a=ye.meta.string,o=ye.meta.float,s=ye.meta.vector3,u=ye.meta.float,l=ye.meta.color,c=ye.meta.color,f=ye.meta.color,d=ye.meta.color,h=ye.meta.float,m=ye.meta.boolean,p=ye.meta.vector3,b=ye.meta.float,v=ye.meta.float,g=ye.meta.float,E=ye.meta.float,y=ye.meta.float,T=ye.meta.float,S=ye.meta.float,w=ye.meta.float,_=ye.meta.float,R=ye.meta.float,j=ye.meta.float,A=ye.meta.struct("Tr2GpuParticleSystem"),O=ye.meta.vector3,z=ye.meta.float,P=ye.meta.float,x=ye.meta.boolean,C=ye.meta.float,D=ye.meta.vector3,M=ye.meta.uint,L=ye.meta.float,I=ye.meta.float,F=ye.meta.float,i(G=n((Ee=class extends Se.Tw2ParticleEmitter{constructor(...e){super(...e),we(this,"name",B,this),we(this,"angle",U,this),we(this,"attractorPosition",V,this),we(this,"attractorStrength",k,this),we(this,"color0",H,this),we(this,"color1",q,this),we(this,"color2",W,this),we(this,"color3",Y,this),we(this,"colorMidpoint",X,this),we(this,"continuousEmitter",K,this),we(this,"direction",Q,this),we(this,"drag",Z,this),we(this,"emissionDensity",$,this),we(this,"gravity",J,this),we(this,"inheritVelocity",ee,this),we(this,"innerAngle",te,this),we(this,"maxDisplacement",re,this),we(this,"maxEmissionDensity",ie,this),we(this,"maxLifeTime",ne,this),we(this,"maxSpeed",ae,this),we(this,"minLifeTime",oe,this),we(this,"minSpeed",se,this),we(this,"particleSystem",ue,this),we(this,"position",le,this),we(this,"radius",ce,this),we(this,"rate",fe,this),we(this,"scaledByParent",de,this),we(this,"sizeVariance",he,this),we(this,"sizes",me,this),we(this,"textureIndex",pe,this),we(this,"turbulenceAmplitude",be,this),we(this,"turbulenceFrequency",ve,this),we(this,"velocityStretchRotation",ge,this)}},B=_e((N=Ee).prototype,"name",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),U=_e(N.prototype,"angle",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),V=_e(N.prototype,"attractorPosition",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Te.vec3.create()}}),k=_e(N.prototype,"attractorStrength",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),H=_e(N.prototype,"color0",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Te.vec4.create()}}),q=_e(N.prototype,"color1",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Te.vec4.create()}}),W=_e(N.prototype,"color2",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Te.vec4.create()}}),Y=_e(N.prototype,"color3",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Te.vec4.create()}}),X=_e(N.prototype,"colorMidpoint",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),K=_e(N.prototype,"continuousEmitter",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Q=_e(N.prototype,"direction",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Te.vec3.create()}}),Z=_e(N.prototype,"drag",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),$=_e(N.prototype,"emissionDensity",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),J=_e(N.prototype,"gravity",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),ee=_e(N.prototype,"inheritVelocity",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),te=_e(N.prototype,"innerAngle",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),re=_e(N.prototype,"maxDisplacement",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),ie=_e(N.prototype,"maxEmissionDensity",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),ne=_e(N.prototype,"maxLifeTime",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),ae=_e(N.prototype,"maxSpeed",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),oe=_e(N.prototype,"minLifeTime",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),se=_e(N.prototype,"minSpeed",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),ue=_e(N.prototype,"particleSystem",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),le=_e(N.prototype,"position",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Te.vec3.create()}}),ce=_e(N.prototype,"radius",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),fe=_e(N.prototype,"rate",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),de=_e(N.prototype,"scaledByParent",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),he=_e(N.prototype,"sizeVariance",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),me=_e(N.prototype,"sizes",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Te.vec3.create()}}),pe=_e(N.prototype,"textureIndex",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),be=_e(N.prototype,"turbulenceAmplitude",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),ve=_e(N.prototype,"turbulenceFrequency",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),ge=_e(N.prototype,"velocityStretchRotation",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),G=N))||G)||G)},"./unsupported/particle/emitter/Tr2GpuUniqueEmitter.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tr2GpuUniqueEmitter",(function(){return Re}));var i,n,a,o,s,u,l,c,f,d,h,m,p,b,v,g,E,y,T,S,w,_,R,j,A,O,z,P,x,C,D,M,L,I,F,G,N,B,U,V,k,H,q,W,Y,X,K,Q,Z,$,J,ee,te,re,ie,ne,ae,oe,se,ue,le,ce,fe,de,he,me,pe,be,ve,ge,Ee,ye=r("./utils/index.js"),Te=r("./math/index.js"),Se=r("./particle/emitter/Tw2ParticleEmitter.js");function we(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function _e(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var Re=(i=ye.meta.ctor("Tr2GpuUniqueEmitter"),n=ye.meta.notImplemented,a=ye.meta.string,o=ye.meta.float,s=ye.meta.vector3,u=ye.meta.float,l=ye.meta.color,c=ye.meta.color,f=ye.meta.color,d=ye.meta.color,h=ye.meta.float,m=ye.meta.boolean,p=ye.meta.vector3,b=ye.meta.float,v=ye.meta.float,g=ye.meta.float,E=ye.meta.float,y=ye.meta.float,T=ye.meta.float,S=ye.meta.float,w=ye.meta.float,_=ye.meta.float,R=ye.meta.float,j=ye.meta.float,A=ye.meta.struct("Tr2GpuParticleSystem"),O=ye.meta.vector3,z=ye.meta.float,P=ye.meta.float,x=ye.meta.boolean,C=ye.meta.float,D=ye.meta.vector3,M=ye.meta.uint,L=ye.meta.float,I=ye.meta.float,F=ye.meta.float,i(G=n((Ee=class extends Se.Tw2ParticleEmitter{constructor(...e){super(...e),we(this,"name",B,this),we(this,"angle",U,this),we(this,"attractorPosition",V,this),we(this,"attractorStrength",k,this),we(this,"color0",H,this),we(this,"color1",q,this),we(this,"color2",W,this),we(this,"color3",Y,this),we(this,"colorMidpoint",X,this),we(this,"continuousEmitter",K,this),we(this,"direction",Q,this),we(this,"drag",Z,this),we(this,"emissionDensity",$,this),we(this,"gravity",J,this),we(this,"inheritVelocity",ee,this),we(this,"innerAngle",te,this),we(this,"maxDisplacement",re,this),we(this,"maxEmissionDensity",ie,this),we(this,"maxLifeTime",ne,this),we(this,"maxSpeed",ae,this),we(this,"minLifeTime",oe,this),we(this,"minSpeed",se,this),we(this,"particleSystem",ue,this),we(this,"position",le,this),we(this,"radius",ce,this),we(this,"rate",fe,this),we(this,"scaledByParent",de,this),we(this,"sizeVariance",he,this),we(this,"sizes",me,this),we(this,"textureIndex",pe,this),we(this,"turbulenceAmplitude",be,this),we(this,"turbulenceFrequency",ve,this),we(this,"velocityStretchRotation",ge,this)}},B=_e((N=Ee).prototype,"name",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),U=_e(N.prototype,"angle",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),V=_e(N.prototype,"attractorPosition",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Te.vec3.create()}}),k=_e(N.prototype,"attractorStrength",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),H=_e(N.prototype,"color0",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Te.vec4.create()}}),q=_e(N.prototype,"color1",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Te.vec4.create()}}),W=_e(N.prototype,"color2",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Te.vec4.create()}}),Y=_e(N.prototype,"color3",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Te.vec4.create()}}),X=_e(N.prototype,"colorMidpoint",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),K=_e(N.prototype,"continuousEmitter",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Q=_e(N.prototype,"direction",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Te.vec3.create()}}),Z=_e(N.prototype,"drag",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),$=_e(N.prototype,"emissionDensity",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),J=_e(N.prototype,"gravity",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),ee=_e(N.prototype,"inheritVelocity",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),te=_e(N.prototype,"innerAngle",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),re=_e(N.prototype,"maxDisplacement",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),ie=_e(N.prototype,"maxEmissionDensity",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),ne=_e(N.prototype,"maxLifeTime",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),ae=_e(N.prototype,"maxSpeed",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),oe=_e(N.prototype,"minLifeTime",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),se=_e(N.prototype,"minSpeed",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),ue=_e(N.prototype,"particleSystem",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),le=_e(N.prototype,"position",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Te.vec3.create()}}),ce=_e(N.prototype,"radius",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),fe=_e(N.prototype,"rate",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),de=_e(N.prototype,"scaledByParent",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),he=_e(N.prototype,"sizeVariance",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),me=_e(N.prototype,"sizes",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Te.vec3.create()}}),pe=_e(N.prototype,"textureIndex",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),be=_e(N.prototype,"turbulenceAmplitude",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),ve=_e(N.prototype,"turbulenceFrequency",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),ge=_e(N.prototype,"velocityStretchRotation",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),G=N))||G)||G)},"./unsupported/particle/emitter/index.js":function(e,t,r){"use strict";r.r(t);var i=r("./unsupported/particle/emitter/Tr2GpuSharedEmitter.js");r.d(t,"Tr2GpuSharedEmitter",(function(){return i.Tr2GpuSharedEmitter}));var n=r("./unsupported/particle/emitter/Tr2GpuUniqueEmitter.js");r.d(t,"Tr2GpuUniqueEmitter",(function(){return n.Tr2GpuUniqueEmitter}))},"./unsupported/particle/force/Tr2ForceSphereVolume.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tr2ForceSphereVolume",(function(){return b}));var i,n,a,o,s,u,l,c,f,d=r("./utils/index.js"),h=r("./particle/force/Tw2ParticleForce.js");function m(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function p(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var b=(i=d.meta.ctor("Tr2ForceSphereVolume"),n=d.meta.notImplemented,a=d.meta.list("Tw2ParticleForce"),o=d.meta.float,i(s=n((f=class extends h.Tw2ParticleForce{constructor(...e){super(...e),m(this,"forces",l,this),m(this,"radius",c,this)}Update(e){for(var t=0;t<this.forces.length;t++)this.forces[t].Update(e)}},l=p((u=f).prototype,"forces",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),c=p(u.prototype,"radius",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),s=u))||s)||s)},"./unsupported/particle/force/Tr2ParticleVortexForce.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tr2ParticleVortexForce",(function(){return E}));var i,n,a,o,s,u,l,c,f,d,h,m=r("./utils/index.js"),p=r("./math/index.js"),b=r("./particle/force/Tw2ParticleForce.js");function v(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function g(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var E=(i=m.meta.ctor("Tr2ParticleVortexForce"),n=m.meta.notImplemented,a=m.meta.vector3,o=m.meta.float,s=m.meta.vector3,i(u=n((h=class extends b.Tw2ParticleForce{constructor(...e){super(...e),v(this,"axis",c,this),v(this,"magnitude",f,this),v(this,"position",d,this)}},c=g((l=h).prototype,"axis",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return p.vec3.create()}}),f=g(l.prototype,"magnitude",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),d=g(l.prototype,"position",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return p.vec3.create()}}),u=l))||u)||u)},"./unsupported/particle/force/index.js":function(e,t,r){"use strict";r.r(t);var i=r("./unsupported/particle/force/Tr2ForceSphereVolume.js");r.d(t,"Tr2ForceSphereVolume",(function(){return i.Tr2ForceSphereVolume}));var n=r("./unsupported/particle/force/Tr2ParticleVortexForce.js");r.d(t,"Tr2ParticleVortexForce",(function(){return n.Tr2ParticleVortexForce}))},"./unsupported/particle/index.js":function(e,t,r){"use strict";r.r(t);var i=r("./unsupported/particle/constraint/index.js");r.d(t,"Tr2PlaneConstraint",(function(){return i.Tr2PlaneConstraint}));var n=r("./unsupported/particle/emitter/index.js");r.d(t,"Tr2GpuSharedEmitter",(function(){return n.Tr2GpuSharedEmitter})),r.d(t,"Tr2GpuUniqueEmitter",(function(){return n.Tr2GpuUniqueEmitter}));var a=r("./unsupported/particle/force/index.js");r.d(t,"Tr2ForceSphereVolume",(function(){return a.Tr2ForceSphereVolume})),r.d(t,"Tr2ParticleVortexForce",(function(){return a.Tr2ParticleVortexForce}));var o=r("./unsupported/particle/Tw2GpuParticleSystem.js");r.d(t,"Tr2GpuParticleSystem",(function(){return o.Tr2GpuParticleSystem}))},"./unsupported/state/Tr2StateMachine.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tr2StateMachine",(function(){return v}));var i,n,a,o,s,u,l,c,f,d,h,m=r("./utils/index.js");function p(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function b(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var v=(i=m.meta.notImplemented,n=m.meta.ctor("Tr2StateMachine"),a=m.meta.string,o=m.meta.uint,s=m.meta.list("Tr2StateMachineState"),i(u=n((h=class extends m.meta.Model{constructor(...e){super(...e),p(this,"name",c,this),p(this,"startState",f,this),p(this,"states",d,this)}},c=b((l=h).prototype,"name",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),f=b(l.prototype,"startState",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),d=b(l.prototype,"states",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),u=l))||u)||u)},"./unsupported/state/Tr2StateMachineState.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tr2StateMachineState",(function(){return E}));var i,n,a,o,s,u,l,c,f,d,h,m,p,b=r("./utils/index.js");function v(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function g(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var E=(i=b.meta.notImplemented,n=b.meta.ctor("Tr2StateMachineState"),a=b.meta.string,o=b.meta.list("Tw2Action"),s=b.meta.struct(),u=b.meta.list("Tr2StateMachineTransition"),i(l=n((p=class extends b.meta.Model{constructor(...e){super(...e),v(this,"name",f,this),v(this,"actions",d,this),v(this,"finalizer",h,this),v(this,"transitions",m,this)}},f=g((c=p).prototype,"name",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),d=g(c.prototype,"actions",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),h=g(c.prototype,"finalizer",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),m=g(c.prototype,"transitions",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),l=c))||l)||l)},"./unsupported/state/Tr2StateMachineTransition.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tr2StateMachineTransition",(function(){return p}));var i,n,a,o,s,u,l,c,f,d=r("./utils/index.js");function h(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function m(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var p=(i=d.meta.notImplemented,n=d.meta.ctor("Tr2StateMachineTransition"),a=d.meta.string,o=d.meta.string,i(s=n((f=class extends d.meta.Model{constructor(...e){super(...e),h(this,"name",l,this),h(this,"condition",c,this)}},l=m((u=f).prototype,"name",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),c=m(u.prototype,"condition",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),s=u))||s)||s)},"./unsupported/state/Tr2SyncToAnimation.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tr2SyncToAnimation",(function(){return a}));var i,n=r("./utils/index.js"),a=(0,n.meta.notImplemented)(i=n.meta.ctor("Tr2SyncToAnimation")(i=class extends n.meta.Model{})||i)||i},"./unsupported/state/action/Tr2ActionAnimateCurveSet.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tr2ActionAnimateCurveSet",(function(){return b}));var i,n,a,o,s,u,l,c,f,d=r("./utils/index.js"),h=r("./unsupported/state/action/Tw2Action.js");function m(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function p(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var b=(i=d.meta.notImplemented,n=d.meta.ctor("Tr2ActionAnimateCurveSet"),a=d.meta.struct("Tw2CurveSet"),o=d.meta.string,i(s=n((f=class extends h.Tw2Action{constructor(...e){super(...e),m(this,"curveSet",l,this),m(this,"value",c,this)}},l=p((u=f).prototype,"curveSet",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),c=p(u.prototype,"value",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),s=u))||s)||s)},"./unsupported/state/action/Tr2ActionAnimateValue.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tr2ActionAnimateValue",(function(){return y}));var i,n,a,o,s,u,l,c,f,d,h,m,p,b=r("./utils/index.js"),v=r("./unsupported/state/action/Tw2Action.js");function g(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function E(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var y=(i=b.meta.notImplemented,n=b.meta.ctor("Tr2ActionAnimateValue"),a=b.meta.string,o=b.meta.struct("Tr2CurveScalarExpression"),s=b.meta.path,u=b.meta.string,i(l=n((p=class extends v.Tw2Action{constructor(...e){super(...e),g(this,"attribute",f,this),g(this,"curve",d,this),g(this,"path",h,this),g(this,"value",m,this)}},f=E((c=p).prototype,"attribute",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),d=E(c.prototype,"curve",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),h=E(c.prototype,"path",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),m=E(c.prototype,"value",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),l=c))||l)||l)},"./unsupported/state/action/Tr2ActionChildEffect.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tr2ActionChildEffect",(function(){return g}));var i,n,a,o,s,u,l,c,f,d,h,m=r("./utils/index.js"),p=r("./unsupported/state/action/Tw2Action.js");function b(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function v(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var g=(i=m.meta.notImplemented,n=m.meta.ctor("Tr2ActionChildEffect"),a=m.meta.string,o=m.meta.path,s=m.meta.boolean,i(u=n((h=class extends p.Tw2Action{constructor(...e){super(...e),b(this,"childName",c,this),b(this,"path",f,this),b(this,"removeOnStop",d,this)}},c=v((l=h).prototype,"childName",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),f=v(l.prototype,"path",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),d=v(l.prototype,"removeOnStop",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),u=l))||u)||u)},"./unsupported/state/action/Tr2ActionOverlay.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tr2ActionOverlay",(function(){return g}));var i,n,a,o,s,u,l,c=r("./utils/index.js"),f=r("./unsupported/state/action/Tw2Action.js");var d,h,m,p,b,v,g=(i=c.meta.notImplemented,n=c.meta.ctor("Tr2ActionOverlay"),a=c.meta.path,i(o=n((l=class extends f.Tw2Action{constructor(...e){var t,r,i,n;super(...e),t=this,r="path",n=this,(i=u)&&Object.defineProperty(t,r,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}},d=(s=l).prototype,h="path",m=[a],p={configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}},v={},Object.keys(p).forEach((function(e){v[e]=p[e]})),v.enumerable=!!v.enumerable,v.configurable=!!v.configurable,("value"in v||v.initializer)&&(v.writable=!0),v=m.slice().reverse().reduce((function(e,t){return t(d,h,e)||e}),v),b&&void 0!==v.initializer&&(v.value=v.initializer?v.initializer.call(b):void 0,v.initializer=void 0),void 0===v.initializer&&(Object.defineProperty(d,h,v),v=null),u=v,o=s))||o)||o)},"./unsupported/state/action/Tr2ActionPlayCurveSet.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tr2ActionPlayCurveSet",(function(){return g}));var i,n,a,o,s,u,l,c,f,d,h,m=r("./utils/index.js"),p=r("./unsupported/state/action/Tw2Action.js");function b(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function v(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var g=(i=m.meta.notImplemented,n=m.meta.ctor("Tr2ActionPlayCurveSet"),a=m.meta.string,o=m.meta.string,s=m.meta.boolean,i(u=n((h=class extends p.Tw2Action{constructor(...e){super(...e),b(this,"curveSetName",c,this),b(this,"rangeName",f,this),b(this,"syncToRange",d,this)}},c=v((l=h).prototype,"curveSetName",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),f=v(l.prototype,"rangeName",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),d=v(l.prototype,"syncToRange",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),u=l))||u)||u)},"./unsupported/state/action/Tr2ActionPlayMeshAnimation.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tr2ActionPlayMeshAnimation",(function(){return g}));var i,n,a,o,s,u,l,c,f,d,h,m=r("./utils/index.js"),p=r("./unsupported/state/action/Tw2Action.js");function b(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function v(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var g=(i=m.meta.notImplemented,n=m.meta.ctor("Tr2ActionPlayMeshAnimation"),a=m.meta.string,o=m.meta.uint,s=m.meta.string,i(u=n((h=class extends p.Tw2Action{constructor(...e){super(...e),b(this,"animation",c,this),b(this,"loops",f,this),b(this,"mask",d,this)}},c=v((l=h).prototype,"animation",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),f=v(l.prototype,"loops",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),d=v(l.prototype,"mask",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),u=l))||u)||u)},"./unsupported/state/action/Tr2ActionPlaySound.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tr2ActionPlaySound",(function(){return b}));var i,n,a,o,s,u,l,c,f,d=r("./utils/index.js"),h=r("./unsupported/state/action/Tw2Action.js");function m(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function p(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var b=(i=d.meta.notImplemented,n=d.meta.ctor("Tr2ActionPlaySound"),a=d.meta.string,o=d.meta.string,i(s=n((f=class extends h.Tw2Action{constructor(...e){super(...e),m(this,"emitter",l,this),m(this,"event",c,this)}},l=p((u=f).prototype,"emitter",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),c=p(u.prototype,"event",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),s=u))||s)||s)},"./unsupported/state/action/Tr2ActionResetClipSphereCenter.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tr2ActionResetClipSphereCenter",(function(){return o}));var i,n=r("./utils/index.js"),a=r("./unsupported/state/action/Tw2Action.js"),o=(0,n.meta.notImplemented)(i=n.meta.ctor("Tr2ActionResetClipSphereCenter")(i=class extends a.Tw2Action{})||i)||i},"./unsupported/state/action/Tr2ActionSetValue.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tr2ActionSetValue",(function(){return g}));var i,n,a,o,s,u,l,c,f,d,h,m=r("./utils/index.js"),p=r("./unsupported/state/action/Tw2Action.js");function b(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function v(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var g=(i=m.meta.notImplemented,n=m.meta.ctor("Tr2ActionSetValue"),a=m.meta.string,o=m.meta.path,s=m.meta.string,i(u=n((h=class extends p.Tw2Action{constructor(...e){super(...e),b(this,"attribute",c,this),b(this,"path",f,this),b(this,"value",d,this)}},c=v((l=h).prototype,"attribute",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),f=v(l.prototype,"path",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),d=v(l.prototype,"value",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),u=l))||u)||u)},"./unsupported/state/action/Tr2ActionSpawnParticles.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tr2ActionSpawnParticles",(function(){return o}));var i,n=r("./utils/index.js"),a=r("./unsupported/state/action/Tw2Action.js"),o=(0,n.meta.notImplemented)(i=n.meta.ctor("Tr2ActionSpawnParticles")(i=class extends a.Tw2Action{})||i)||i},"./unsupported/state/action/Tw2Action.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tw2Action",(function(){return a}));var i,n=r("./utils/index.js"),a=n.meta.ctor("Tw2Action")(i=class extends n.meta.Model{})||i},"./unsupported/state/action/index.js":function(e,t,r){"use strict";r.r(t);var i=r("./unsupported/state/action/Tr2ActionAnimateCurveSet.js");r.d(t,"Tr2ActionAnimateCurveSet",(function(){return i.Tr2ActionAnimateCurveSet}));var n=r("./unsupported/state/action/Tr2ActionAnimateValue.js");r.d(t,"Tr2ActionAnimateValue",(function(){return n.Tr2ActionAnimateValue}));var a=r("./unsupported/state/action/Tr2ActionChildEffect.js");r.d(t,"Tr2ActionChildEffect",(function(){return a.Tr2ActionChildEffect}));var o=r("./unsupported/state/action/Tr2ActionOverlay.js");r.d(t,"Tr2ActionOverlay",(function(){return o.Tr2ActionOverlay}));var s=r("./unsupported/state/action/Tr2ActionPlayCurveSet.js");r.d(t,"Tr2ActionPlayCurveSet",(function(){return s.Tr2ActionPlayCurveSet}));var u=r("./unsupported/state/action/Tr2ActionPlayMeshAnimation.js");r.d(t,"Tr2ActionPlayMeshAnimation",(function(){return u.Tr2ActionPlayMeshAnimation}));var l=r("./unsupported/state/action/Tr2ActionPlaySound.js");r.d(t,"Tr2ActionPlaySound",(function(){return l.Tr2ActionPlaySound}));var c=r("./unsupported/state/action/Tr2ActionResetClipSphereCenter.js");r.d(t,"Tr2ActionResetClipSphereCenter",(function(){return c.Tr2ActionResetClipSphereCenter}));var f=r("./unsupported/state/action/Tr2ActionSetValue.js");r.d(t,"Tr2ActionSetValue",(function(){return f.Tr2ActionSetValue}));var d=r("./unsupported/state/action/Tr2ActionSpawnParticles.js");r.d(t,"Tr2ActionSpawnParticles",(function(){return d.Tr2ActionSpawnParticles}))},"./unsupported/state/controller/Tr2Controller.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tr2Controller",(function(){return E}));var i,n,a,o,s,u,l,c,f,d,h,m,p,b=r("./utils/index.js");function v(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function g(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var E=(i=b.meta.notImplemented,n=b.meta.ctor("Tr2Controller"),a=b.meta.string,o=b.meta.boolean,s=b.meta.list("Tr2StateMachine"),u=b.meta.list("Tr2ControllerFloatVariable"),i(l=n((p=class extends b.meta.Model{constructor(...e){super(...e),v(this,"name",f,this),v(this,"isShared",d,this),v(this,"stateMachines",h,this),v(this,"variables",m,this)}},f=g((c=p).prototype,"name",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),d=g(c.prototype,"isShared",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),h=g(c.prototype,"stateMachines",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),m=g(c.prototype,"variables",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),l=c))||l)||l)},"./unsupported/state/controller/Tr2ControllerReference.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tr2ControllerReference",(function(){return v}));var i,n,a,o,s,u,l,c=r("./utils/index.js");var f,d,h,m,p,b,v=(i=c.meta.notImplemented,n=c.meta.ctor("Tr2ControllerReference"),a=c.meta.path,i(o=n((l=class extends c.meta.Model{constructor(...e){var t,r,i,n;super(...e),t=this,r="path",n=this,(i=u)&&Object.defineProperty(t,r,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}},f=(s=l).prototype,d="path",h=[a],m={configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}},b={},Object.keys(m).forEach((function(e){b[e]=m[e]})),b.enumerable=!!b.enumerable,b.configurable=!!b.configurable,("value"in b||b.initializer)&&(b.writable=!0),b=h.slice().reverse().reduce((function(e,t){return t(f,d,e)||e}),b),p&&void 0!==b.initializer&&(b.value=b.initializer?b.initializer.call(p):void 0,b.initializer=void 0),void 0===b.initializer&&(Object.defineProperty(f,d,b),b=null),u=b,o=s))||o)||o)},"./unsupported/state/controller/index.js":function(e,t,r){"use strict";r.r(t);var i=r("./unsupported/state/controller/Tr2Controller.js");r.d(t,"Tr2Controller",(function(){return i.Tr2Controller}));var n=r("./unsupported/state/controller/Tr2ControllerReference.js");r.d(t,"Tr2ControllerReference",(function(){return n.Tr2ControllerReference}))},"./unsupported/state/index.js":function(e,t,r){"use strict";r.r(t);var i=r("./unsupported/state/action/index.js");r.d(t,"Tr2ActionAnimateCurveSet",(function(){return i.Tr2ActionAnimateCurveSet})),r.d(t,"Tr2ActionAnimateValue",(function(){return i.Tr2ActionAnimateValue})),r.d(t,"Tr2ActionChildEffect",(function(){return i.Tr2ActionChildEffect})),r.d(t,"Tr2ActionOverlay",(function(){return i.Tr2ActionOverlay})),r.d(t,"Tr2ActionPlayCurveSet",(function(){return i.Tr2ActionPlayCurveSet})),r.d(t,"Tr2ActionPlayMeshAnimation",(function(){return i.Tr2ActionPlayMeshAnimation})),r.d(t,"Tr2ActionPlaySound",(function(){return i.Tr2ActionPlaySound})),r.d(t,"Tr2ActionResetClipSphereCenter",(function(){return i.Tr2ActionResetClipSphereCenter})),r.d(t,"Tr2ActionSetValue",(function(){return i.Tr2ActionSetValue})),r.d(t,"Tr2ActionSpawnParticles",(function(){return i.Tr2ActionSpawnParticles}));var n=r("./unsupported/state/controller/index.js");r.d(t,"Tr2Controller",(function(){return n.Tr2Controller})),r.d(t,"Tr2ControllerReference",(function(){return n.Tr2ControllerReference}));var a=r("./unsupported/state/variable/index.js");r.d(t,"Tr2ControllerFloatVariable",(function(){return a.Tr2ControllerFloatVariable}));var o=r("./unsupported/state/Tr2StateMachine.js");r.d(t,"Tr2StateMachine",(function(){return o.Tr2StateMachine}));var s=r("./unsupported/state/Tr2StateMachineState.js");r.d(t,"Tr2StateMachineState",(function(){return s.Tr2StateMachineState}));var u=r("./unsupported/state/Tr2StateMachineTransition.js");r.d(t,"Tr2StateMachineTransition",(function(){return u.Tr2StateMachineTransition}));var l=r("./unsupported/state/Tr2SyncToAnimation.js");r.d(t,"Tr2SyncToAnimation",(function(){return l.Tr2SyncToAnimation}))},"./unsupported/state/variable/Tr2ControllerFloatVariable.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tr2ControllerFloatVariable",(function(){return g}));var i,n,a,o,s,u,l,c,f,d,h,m,p=r("./utils/index.js");function b(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function v(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var g=(i=p.meta.notImplemented,n=p.meta.ctor("Tr2ControllerFloatVariable"),a=p.meta.string,o=p.meta.float,s=p.meta.enums(),u=p.meta.uint,i(l=n((f=v((c=class{constructor(){b(this,"name",f,this),b(this,"defaultValue",d,this),b(this,"enumValues",h,this),b(this,"variableType",m,this)}GetEnumsAsString(){var e=[];for(var t in this.enumValues)this.enumValues.hasOwnProperty(t)&&e.push("".concat(t,"=").concat(this.enumValues[t]));return e.sort().join(",")}}).prototype,"name",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),d=v(c.prototype,"defaultValue",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),h=v(c.prototype,"enumValues",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),m=v(c.prototype,"variableType",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),l=c))||l)||l)},"./unsupported/state/variable/index.js":function(e,t,r){"use strict";r.r(t);var i=r("./unsupported/state/variable/Tr2ControllerFloatVariable.js");r.d(t,"Tr2ControllerFloatVariable",(function(){return i.Tr2ControllerFloatVariable}))},"./utils/arr.js":function(e,t,r){"use strict";r.r(t),r.d(t,"addToArray",(function(){return n})),r.d(t,"findElementByPropertyValue",(function(){return a})),r.d(t,"findIndexByPropertyValue",(function(){return o})),r.d(t,"perArrayChild",(function(){return s})),r.d(t,"removeFromArray",(function(){return u})),r.d(t,"toArray",(function(){return l})),r.d(t,"toUniqueArray",(function(){return c}));var i=r("./utils/type.js");function n(e,...t){for(var r=!1,i=0;i<t.length;i++)-1===e.indexOf(t[i])&&(e.push(t[i]),r=!0);return r}function a(e,t,r,i){return e[o(e,t,r,i)]}function o(e,t,r,i){for(var n=0;n<e.length;n++)if(t in e[n]&&e[n][t]===r)return n;if(i)throw new i({[t]:r});return-1}function s(e,t,...r){for(var i=0;i<e.length;i++)t in e[i]&&e[i][t](...r)}function u(e,...t){for(var r=!1,i=0;i<t.length;i++){var n=e.indexOf(t[i]);-1!==n&&(e.splice(n,1),r=!0)}return r}function l(e){return Object(i.isArray)(e)?e:[e]}function c(e){return Array.from(new Set(l(e)))}},"./utils/index.js":function(e,t,r){"use strict";r.r(t),r.d(t,"getPathExtension",(function(){return c}));var i=r("./utils/arr.js");r.d(t,"addToArray",(function(){return i.addToArray})),r.d(t,"findElementByPropertyValue",(function(){return i.findElementByPropertyValue})),r.d(t,"findIndexByPropertyValue",(function(){return i.findIndexByPropertyValue})),r.d(t,"perArrayChild",(function(){return i.perArrayChild})),r.d(t,"removeFromArray",(function(){return i.removeFromArray})),r.d(t,"toArray",(function(){return i.toArray})),r.d(t,"toUniqueArray",(function(){return i.toUniqueArray}));var n=r("./utils/obj.js");r.d(t,"assignIfExists",(function(){return n.assignIfExists})),r.d(t,"get",(function(){return n.get})),r.d(t,"template",(function(){return n.template})),r.d(t,"getKeyFromValue",(function(){return n.getKeyFromValue}));var a=r("./utils/type.js");r.d(t,"isArray",(function(){return a.isArray})),r.d(t,"isArrayLike",(function(){return a.isArrayLike})),r.d(t,"isAsyncFunction",(function(){return a.isAsyncFunction})),r.d(t,"isBoolean",(function(){return a.isBoolean})),r.d(t,"isCanvas",(function(){return a.isCanvas})),r.d(t,"isDescriptor",(function(){return a.isDescriptor})),r.d(t,"isDNA",(function(){return a.isDNA})),r.d(t,"isError",(function(){return a.isError})),r.d(t,"isNumber",(function(){return a.isNumber})),r.d(t,"isFunction",(function(){return a.isFunction})),r.d(t,"isNoU",(function(){return a.isNoU})),r.d(t,"isNull",(function(){return a.isNull})),r.d(t,"isObject",(function(){return a.isObject})),r.d(t,"isObjectLike",(function(){return a.isObjectLike})),r.d(t,"isObjectObject",(function(){return a.isObjectObject})),r.d(t,"isPlain",(function(){return a.isPlain})),r.d(t,"isPrimary",(function(){return a.isPrimary})),r.d(t,"isPromise",(function(){return a.isPromise})),r.d(t,"isString",(function(){return a.isString})),r.d(t,"isSymbol",(function(){return a.isSymbol})),r.d(t,"isSubclassOf",(function(){return a.isSubclassOf})),r.d(t,"isTag",(function(){return a.isTag})),r.d(t,"isTr2OrTri",(function(){return a.isTr2OrTri})),r.d(t,"toTw2",(function(){return a.toTw2})),r.d(t,"getTypeUpper",(function(){return a.getTypeUpper})),r.d(t,"isTyped",(function(){return a.isTyped})),r.d(t,"isUndefined",(function(){return a.isUndefined})),r.d(t,"isVector",(function(){return a.isVector})),r.d(t,"isVector2",(function(){return a.isVector2})),r.d(t,"isVector3",(function(){return a.isVector3})),r.d(t,"isVector4",(function(){return a.isVector4})),r.d(t,"isMatrix3",(function(){return a.isMatrix3})),r.d(t,"isMatrix4",(function(){return a.isMatrix4})),r.d(t,"isPrimaryEqual",(function(){return a.isPrimaryEqual})),r.d(t,"isVectorEqual",(function(){return a.isVectorEqual})),r.d(t,"isEqual",(function(){return a.isEqual}));var o=r("./utils/uuid.js");r.d(t,"enableUUID",(function(){return o.enableUUID})),r.d(t,"generateID",(function(){return o.generateID}));var s=r("./utils/url.js");r.d(t,"getURL",(function(){return s.getURL})),r.d(t,"getURLString",(function(){return s.getURLString})),r.d(t,"getURLInteger",(function(){return s.getURLInteger})),r.d(t,"getURLFloat",(function(){return s.getURLFloat})),r.d(t,"getURLBoolean",(function(){return s.getURLBoolean}));var u=r("./utils/reflect.js");r.d(t,"defineMetadata",(function(){return u.defineMetadata})),r.d(t,"hasMetadata",(function(){return u.hasMetadata})),r.d(t,"hasOwnMetadata",(function(){return u.hasOwnMetadata})),r.d(t,"getMetadata",(function(){return u.getMetadata})),r.d(t,"getOwnMetadata",(function(){return u.getOwnMetadata})),r.d(t,"deleteMetadata",(function(){return u.deleteMetadata})),r.d(t,"getMetadataKeys",(function(){return u.getMetadataKeys})),r.d(t,"getOwnMetadataKeys",(function(){return u.getOwnMetadataKeys})),r.d(t,"getMetadataValues",(function(){return u.getMetadataValues})),r.d(t,"getOwnMetadataValues",(function(){return u.getOwnMetadataValues})),r.d(t,"handleDescriptor",(function(){return u.handleDescriptor})),r.d(t,"createDecorator",(function(){return u.createDecorator}));var l=r("./utils/meta/index.js");function c(e){var t=e.lastIndexOf(".");return-1===t?null:e.substr(t+1)}r.d(t,"meta",(function(){return l}))},"./utils/meta/@generic.js":function(e,t,r){"use strict";r.r(t),r.d(t,"ErrSingletonInstantiation",(function(){return a})),r.d(t,"ErrAbstractClass",(function(){return o})),r.d(t,"ErrAbstractMethod",(function(){return s})),r.d(t,"abstract",(function(){return u})),r.d(t,"singleton",(function(){return l})),r.d(t,"ctor",(function(){return c})),r.d(t,"data",(function(){return f})),r.d(t,"readOnly",(function(){return d})),r.d(t,"isPrivate",(function(){return h})),r.d(t,"desc",(function(){return m})),r.d(t,"todo",(function(){return p})),r.d(t,"partialImplementation",(function(){return b})),r.d(t,"notImplemented",(function(){return v})),r.d(t,"stage",(function(){return g}));var i=r("./core/Tw2Error.js"),n=r("./utils/reflect.js");class a extends i.Tw2Error{constructor(e){super(e,"Cannot re-instantiate singleton (%class%)")}}class o extends i.Tw2Error{constructor(e){super(e,"Abstract class cannot be directly instantiated (%class%)")}}class s extends i.Tw2Error{constructor(e){super(e,"Abstract class method not implemented on class '%class%': (%method%)")}}var u=Object(n.createDecorator)({noArgs:!0,ctor:({target:e})=>e,method:({target:e,property:t,descriptor:r})=>(Object(n.defineMetadata)("abstract",!0,e,t),r.value=function(){throw new s({class:this.constructor.name,method:t})},r)}),l=Object(n.createDecorator)({noArgs:!0,ctor({target:e}){var t=0;return class extends e{constructor(...r){if(++t>1)throw new a({class:e.name});super(...r)}}}}),c=Object(n.createDecorator)({ctor({target:e},t,r=t){Object(n.defineMetadata)("type",t,e),Object(n.defineMetadata)("ccp",r,e)}}),f=Object(n.createDecorator)({handler({target:e,property:t},r){Object(n.hasMetadata)("data",e,t)&&Object.assign({},Object(n.getMetadata)("data",e,t),r),Object(n.defineMetadata)("data",r,e,t)}}),d=Object(n.createDecorator)({noArgs:!0,property:({descriptor:e})=>(e.writable=!1,e.enumerable=!1,e)}),h=Object(n.createDecorator)({noArgs:!0,property({target:e,property:t}){Object(n.defineMetadata)("isPrivate",!0,e,t)}}),m=Object(n.createDecorator)({handler({target:e,property:t},r){Object(n.defineMetadata)("desc",r,e,t)}}),p=Object(n.createDecorator)({handler({target:e,property:t},r,i=0){if(Object(n.defineMetadata)("todo",r,e,t),0!==i){var a=Object(n.getMetadata)("stage",e,t)||0;Object(n.defineMetadata)("stage",Math.max(i,a),e,t)}}}),b=Object(n.createDecorator)({noArgs:!0,handler({target:e,property:t}){Object(n.defineMetadata)("stage",2,e,t)}}),v=Object(n.createDecorator)({noArgs:!0,handler({target:e,property:t}){Object(n.defineMetadata)("stage",3,e,t)}}),g=Object(n.createDecorator)({ctor({target:e,property:t},r=0){Object(n.defineMetadata)("stage",r,e,t)}})},"./utils/meta/@type.js":function(e,t,r){"use strict";r.r(t),r.d(t,"unknown",(function(){return u})),r.d(t,"boolean",(function(){return l})),r.d(t,"string",(function(){return c})),r.d(t,"path",(function(){return f})),r.d(t,"expression",(function(){return d})),r.d(t,"float",(function(){return h})),r.d(t,"uint",(function(){return m})),r.d(t,"ushort",(function(){return p})),r.d(t,"byte",(function(){return b})),r.d(t,"array",(function(){return v})),r.d(t,"vector2",(function(){return g})),r.d(t,"vector3",(function(){return E})),r.d(t,"vector4",(function(){return y})),r.d(t,"color",(function(){return T})),r.d(t,"quaternion",(function(){return S})),r.d(t,"matrix3",(function(){return w})),r.d(t,"matrix4",(function(){return _})),r.d(t,"indexBuffer",(function(){return R})),r.d(t,"vector",(function(){return j})),r.d(t,"enums",(function(){return A})),r.d(t,"plain",(function(){return O})),r.d(t,"list",(function(){return z})),r.d(t,"fromList",(function(){return P})),r.d(t,"struct",(function(){return C})),r.d(t,"raw",(function(){return D}));var i=r("./utils/meta/ModelConstants.js"),n=r("./core/reader/Tw2BlackPropertyReaders.js"),a=r("./utils/index.js"),o=function({target:e,property:t},r,...n){switch(void 0!==r&&Object(a.defineMetadata)("type",r,e,t),n[0]&&Object(a.defineMetadata)("typesOf",n,e,t),"_"===t.charAt(0)&&Object(a.defineMetadata)("isPrivate",!0,e,t),r){case i.Type.STRUCT_RAW:case i.Type.STRUCT:var o=Object(a.getMetadata)("structs",e.constructor);(o=o?Array.from(o):[]).includes(t)||(o.push(t),o.sort()),Object(a.defineMetadata)("structs",o,e.constructor);break;case i.Type.STRUCT_LIST:var s=Object(a.getMetadata)("structLists",e.constructor);(s=s?Array.from(s):[]).includes(t)||(s.push(t),s.sort()),Object(a.defineMetadata)("structLists",s,e.constructor)}};function s(e,t){return Object(a.createDecorator)({noArgs:!t,property(t,...r){o(t,e,...r)}})}var u=s(i.Type.UNKNOWN),l=s(i.Type.BOOLEAN),c=s(i.Type.STRING),f=s(i.Type.PATH),d=s(i.Type.EXPRESSION),h=s(i.Type.FLOAT),m=s(i.Type.UINT),p=s(i.Type.USHORT),b=s(i.Type.BYTE),v=s(i.Type.ARRAY),g=s(i.Type.VECTOR2),E=s(i.Type.VECTOR3),y=s(i.Type.VECTOR4),T=s(i.Type.COLOR),S=s(i.Type.QUATERNION),w=s(i.Type.MATRIX3),_=s(i.Type.MATRIX4),R=s(i.Type.INDEX_BUFFER),j=s(i.Type.VECTOR),A=Object(a.createDecorator)({property({target:e,property:t},r){o({target:e,property:t},i.Type.ENUM),Object(a.defineMetadata)("isPrivate",!0,e,t),Object(a.defineMetadata)("enumerable",r,e,t)}}),O=s(i.Type.PLAIN),z=Object(a.createDecorator)({property({target:e,property:t},...r){if(Object(a.isFunction)(r[0])){var s=r.shift();Object(a.defineMetadata)("black",n.structList(s),e,t),Object(a.hasMetadata)("type",s)&&r.unshift(Object(a.getMetadata)("type",s))}o({target:e,property:t},i.Type.STRUCT_LIST,...r)}}),P=Object(a.createDecorator)({property({target:e,property:t},r,...s){if(Object(a.isString)(r)&&(r={key:r}),!Object(a.isPlain)(r))throw new Error("Invalid argument for decorator: expected plain object");Object(a.defineMetadata)("black",n.fromList(r),e,t),r.struct&&Object(a.hasMetadata)("type",r.struct)&&s.unshift(Object(a.getMetadata)("type",r.struct)),o({target:e,property:t},i.Type.PLAIN,...s)}});function x(e){return Object(a.createDecorator)({property({target:t,property:r},...i){if(Object(a.isFunction)(i[0])){var s=i.shift();Object(a.defineMetadata)("black",n.struct(s),t,r),Object(a.hasMetadata)("type",s)&&i.unshift(Object(a.getMetadata)("type",s))}o({target:t,property:r},e,...i)}})}var C=x(i.Type.STRUCT),D=x(i.Type.STRUCT_RAW)},"./utils/meta/Model.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Model",(function(){return S}));var i,n,a,o=r("./utils/uuid.js"),s=r("./utils/reflect.js"),u=r("./utils/type.js"),l=r("./utils/meta/ModelPropertyTypes.js"),c=r("./utils/meta/@generic.js"),f=r("./core/Tw2EventEmitter.js");function d(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function h(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?d(Object(r),!0).forEach((function(t){m(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):d(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function m(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function p(e,t){if(null==e)return{};var r,i,n=function(e,t){if(null==e)return{};var r,i,n={},a=Object.keys(e);for(i=0;i<a.length;i++)r=a[i],t.indexOf(r)>=0||(n[r]=e[r]);return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)r=a[i],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}new WeakMap;var b,v,g,E,y,T,S=(a=class extends f.Tw2EventEmitter{constructor(...e){var t,r,i,a;super(...e),t=this,r="_id",a=this,(i=n)&&Object.defineProperty(t,r,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(a):void 0})}Copy(e,t){return this.constructor.copy(this,e,t)}Clone(e){return this.constructor.clone(this,e)}SetValues(e,t={}){return this.constructor.set(this,e,t)}GetValues(e,t){return this.constructor.get(this,e,t)}UpdateValues(e={}){var{skipEvents:t}=e,r=p(e,["skipEvents"]);t||this.EmitEvent("modify",this,e),this.OnValueChanged&&this.OnValueChanged(r),t||this.EmitEvent("modified",this,e)}OnModified(e,t,r){this.OnEvent("modified",e,t,r)}OffModified(e){this.OffEvent("modified",e)}Destructor(e={}){var{skipEvents:t,clearChildren:r}=e,i=p(e,["skipEvents","clearChildren"]);t||this.EmitEvent("destruct",this,i),this.OnDestruct&&this.OnDestruct(i),r&&this.Clear({skipUpdate:!0,skipEvents:!0}),t||this.EmitEvent("destructed",this,i),this.ClearEvent("*")}Clear(e={}){throw new Error("Not implemented")}PerChild(e,t){if(Object(s.hasMetadata)("structs",this.constructor))for(var r=Object(s.getMetadata)("structs",this.constructor),i=0;i<r.length;i++){var n=r[i],a=this[n];if(!Object(s.getMetadata)("isPrivate",this,n)&&(a||!t)){var o=e({parent:this,key:n,struct:a,path:"/".concat(n)});if(void 0!==o)return o}}if(Object(s.hasMetadata)("structLists",this.constructor))for(var u=Object(s.getMetadata)("structLists",this.constructor),l=0;l<u.length;l++){var c=u[l],f=this[u[l]];if(!Object(s.getMetadata)("isPrivate",this,c))for(var d=0;d<f.length;d++){var h=e({parent:this,key:c,struct:f[d],array:f,index:d,path:"/".concat(c,"/").concat(d)});if(void 0!==h)return h}}}Filter(e,t=[]){return this.Traverse(r=>{e(r)&&!t.includes(r.struct)&&t.push(r.struct)}),t}Traverse(e,t={},r=new Set){if(!r.has(this)){r.add(this),t.path=t.path||"root",t.struct=this;var i=e(t);return void 0!==i?i:this.PerChild(i=>{if(i.struct&&i.struct.Traverse){i.path=t.path+i.path;var n=i.struct.Traverse(e,i,r);if(void 0!==n)return n}})}}GetAsyncTasks(e=new Set){return e}static copy(e,t,r={}){return this.set(e,t.GetValues(),h({_clear:!0},r))}static clone(e,t){return this.from(e.GetValues(),t)}static get(e,t={},r={}){if(!Object(s.hasMetadata)("type",this))throw new ReferenceError("No meta type defined");var i=!r._ids;if(r._ids){if(r._ids.has(e)){var n={__ref:e._id};return r._ids.get(e).push(n),n}}else r._ids=new Map;for(var a in t={__type:Object(s.getMetadata)("type",e.constructor),__id:e._id},r._ids.set(e,[t]),e)if(e.hasOwnProperty(a)&&Object(s.hasMetadata)("type",e,a)&&!Object(s.getMetadata)("isPrivate",e,a)){var o=Object(s.getMetadata)("type",e,a),u=l.propTypes.get(o);if(!u)throw new TypeError("Unknown type: "+o);t[a]=u.get(e,a,r)}if(i&&!r.useObjectIds){var c=0;r._ids.forEach(e=>{if(1!==e.length)for(var t="#"+c++,r=0;r<e.length;r++)0===r?e[r].__id=t:e[r].__ref=t;else Reflect.deleteProperty(e[0],"__id")})}return t}static set(e,t,r={}){if(e.constructor!==this)throw new ReferenceError("Invalid constructor");if(!Object(s.hasMetadata)("type",this))throw new ReferenceError("Not meta type defined");if(t&&!Object(u.isObjectObject)(t))throw new ReferenceError("Invalid values, expected plain object or object");var{_clear:i,_ids:n=new Map,skipEvents:a,skipUpdate:o}=r,c=p(r,["_clear","_ids","skipEvents","skipUpdate"]);if(n.has(e))return n.get(e);if(c._ids=n,i)throw new Error("Copy feature not implemented");var f=!1;if(t)for(var d in t)if(t.hasOwnProperty(d)&&Object(s.hasMetadata)("type",e,d)&&!Object(s.getMetadata)("isPrivate",e,d)){var h=Object(s.getMetadata)("type",e,d),m=t[d],b=l.propTypes.get(h);if(!b)throw new TypeError("Unknown type: "+h);if(null===m&&b.delete){b.delete(e,d,c)&&(f=!0);continue}if(!b.is(m,e[d],c))throw new TypeError("Invalid value for property "+d);if(b.equals(m,e[d]))continue;b.set(e,d,m,c)&&(f=!0)}return f&&!o&&e.UpdateValues(c),n.set(e,f),f}static from(e,t={}){var r,{skipUpdate:i}=t,n=p(t,["skipUpdate"]);if(e&&e.__type&&Object(s.getMetadata)("type",this)!==e.__type)throw new ReferenceError("Unexpected constructor "+e.__type);return e&&e instanceof this?r=e:(r=new this,e&&r.SetValues(e,h({skipUpdate:!0},n))),!i&&r.Initialize&&r.Initialize(),r}},b=(i=a).prototype,v="_id",g=[c.readOnly],E={configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Object(o.generateID)()}},T={},Object.keys(E).forEach((function(e){T[e]=E[e]})),T.enumerable=!!T.enumerable,T.configurable=!!T.configurable,("value"in T||T.initializer)&&(T.writable=!0),T=g.slice().reverse().reduce((function(e,t){return t(b,v,e)||e}),T),y&&void 0!==T.initializer&&(T.value=T.initializer?T.initializer.call(y):void 0,T.initializer=void 0),void 0===T.initializer&&(Object.defineProperty(b,v,T),T=null),n=T,i)},"./utils/meta/ModelConstants.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Type",(function(){return i})),r.d(t,"TypeLength",(function(){return n}));var i={UNKNOWN:0,BOOLEAN:1,STRING:10,PATH:11,EXPRESSION:12,BYTE:20,UINT:21,USHORT:22,FLOAT:23,STRUCT:30,STRUCT_RAW:31,STRUCT_LIST:33,PLAIN:34,ARRAY:35,VECTOR:50,VECTOR2:52,VECTOR3:53,VECTOR4:54,COLOR:58,QUATERNION:59,MATRIX3:60,MATRIX4:61,INDEX_BUFFER:62,ENUM:70},n={[i.VECTOR2]:2,[i.VECTOR3]:3,[i.VECTOR4]:4,[i.COLOR]:4,[i.QUATERNION]:4,[i.MATRIX3]:9,[i.MATRIX4]:16}},"./utils/meta/ModelPropertyTypes.js":function(e,t,r){"use strict";r.r(t),r.d(t,"propTypes",(function(){return o}));var i=r("./math/index.js"),n=r("./utils/meta/ModelConstants.js"),a=r("./utils/type.js"),o=new Map,s=(e,t)=>Array.from(e[t]),u=(e,t)=>e[t],l=(e,t,r)=>e[t]=r,c=(e,t)=>e===t,f=()=>!1,d=()=>{throw new ReferenceError("Not implemented")};function h(e){o.set(e,{is:a.isNumber,equals:i.num.equals,get:u,set:l,type:e})}function m(e){o.set(e,{is:a.isString,equals:c,get:u,set:l,type:e})}function p(e,t){o.set(e,{is:a.isVector,equals:a.isVectorEqual,get:s,set:(e,r,i)=>{e[r].length!==i.length?e[r]=t?new t(i):new e[r].constructor(i):e[r].set(i)},type:n.Type.INDEX_BUFFER})}function b(e){o.set(e,{is:a.isVector4,equals:i.vec4.equals,get:s,set:(e,t,r)=>i.vec4.copy(e[t],r),type:e})}function v(e){o.set(e,{is:(e,t)=>!!Object(a.isPlain)(e),equals:f,get(e,t,r){try{return null===e[t]?null:e[t].GetValues({},r)}catch(r){throw console.dir(e[t]),r}},set:d,type:e})}o.set(n.Type.BOOLEAN,{is:a.isBoolean,equals:c,get:u,set:l,type:n.Type.BOOLEAN}),h(n.Type.BYTE),h(n.Type.FLOAT),h(n.Type.UINT),h(n.Type.USHORT),m(n.Type.STRING),m(n.Type.EXPRESSION),m(n.Type.PATH),p(n.Type.INDEX_BUFFER,Uint16Array),p(n.Type.VECTOR,Float32Array),o.set(n.Type.MATRIX3,{is:a.isMatrix3,equals:i.mat3.equals,get:s,set:(e,t,r)=>i.mat3.copy(e[t],r),type:n.Type.MATRIX3}),o.set(n.Type.MATRIX4,{is:a.isMatrix4,equals:i.mat4.equals,get:s,set:(e,t,r)=>i.mat4.copy(e[t],r),type:n.Type.MATRIX4}),o.set(n.Type.VECTOR2,{is:a.isVector2,equals:i.vec2.equals,get:s,set:(e,t,r)=>i.vec2.copy(e[t],r),type:n.Type.VECTOR2}),o.set(n.Type.VECTOR3,{is:a.isVector3,equals:i.vec3.equals,get:s,set:(e,t,r)=>i.vec3.copy(e[t],r),type:n.Type.VECTOR3}),b(n.Type.VECTOR4),b(n.Type.COLOR),b(n.Type.QUATERNION),o.set(n.Type.PLAIN,{is:a.isPlain,equals:a.isEqual,get:(e,t)=>Object.assign({},e[t]),set:(e,t,r)=>Object.assign(e[t],r),type:n.Type.PLAIN}),v(n.Type.STRUCT),v(n.Type.STRUCT_RAW),o.set(n.Type.STRUCT_LIST,{is:(e,t)=>!!Object(a.isArray)(e),equals:f,get(e,t,r){var i=e[t].length;if(!i)return null;for(var n=[],a=0;a<i;a++)try{n.push(e[t][a].GetValues({},r))}catch(r){throw console.dir(e[t][a]),r}return n},set:d,type:n.Type.STRUCT_LIST})},"./utils/meta/index.js":function(e,t,r){"use strict";r.r(t);var i=r("./utils/meta/@type.js");r.d(t,"unknown",(function(){return i.unknown})),r.d(t,"boolean",(function(){return i.boolean})),r.d(t,"string",(function(){return i.string})),r.d(t,"path",(function(){return i.path})),r.d(t,"expression",(function(){return i.expression})),r.d(t,"float",(function(){return i.float})),r.d(t,"uint",(function(){return i.uint})),r.d(t,"ushort",(function(){return i.ushort})),r.d(t,"byte",(function(){return i.byte})),r.d(t,"array",(function(){return i.array})),r.d(t,"vector2",(function(){return i.vector2})),r.d(t,"vector3",(function(){return i.vector3})),r.d(t,"vector4",(function(){return i.vector4})),r.d(t,"color",(function(){return i.color})),r.d(t,"quaternion",(function(){return i.quaternion})),r.d(t,"matrix3",(function(){return i.matrix3})),r.d(t,"matrix4",(function(){return i.matrix4})),r.d(t,"indexBuffer",(function(){return i.indexBuffer})),r.d(t,"vector",(function(){return i.vector})),r.d(t,"enums",(function(){return i.enums})),r.d(t,"plain",(function(){return i.plain})),r.d(t,"list",(function(){return i.list})),r.d(t,"fromList",(function(){return i.fromList})),r.d(t,"struct",(function(){return i.struct})),r.d(t,"raw",(function(){return i.raw}));var n=r("./utils/meta/@generic.js");r.d(t,"ErrSingletonInstantiation",(function(){return n.ErrSingletonInstantiation})),r.d(t,"ErrAbstractClass",(function(){return n.ErrAbstractClass})),r.d(t,"ErrAbstractMethod",(function(){return n.ErrAbstractMethod})),r.d(t,"abstract",(function(){return n.abstract})),r.d(t,"singleton",(function(){return n.singleton})),r.d(t,"ctor",(function(){return n.ctor})),r.d(t,"data",(function(){return n.data})),r.d(t,"readOnly",(function(){return n.readOnly})),r.d(t,"isPrivate",(function(){return n.isPrivate})),r.d(t,"desc",(function(){return n.desc})),r.d(t,"todo",(function(){return n.todo})),r.d(t,"partialImplementation",(function(){return n.partialImplementation})),r.d(t,"notImplemented",(function(){return n.notImplemented})),r.d(t,"stage",(function(){return n.stage}));var a=r("./utils/meta/Model.js");r.d(t,"Model",(function(){return a.Model}))},"./utils/obj.js":function(e,t,r){"use strict";r.r(t),r.d(t,"assignIfExists",(function(){return n})),r.d(t,"get",(function(){return a})),r.d(t,"template",(function(){return o})),r.d(t,"getKeyFromValue",(function(){return s}));var i=r("./utils/type.js");r("./math/index.js");function n(e,t,r,n){if(!t)return!1;Object(i.isArray)(r)||(r=[r],console.warn("Attributes must now always be an array"));for(var a=!1,o=0;o<r.length;o++){var s=r[o],u=s,l=s;if(Object(i.isArray)(s)&&(u=s[1],l=s[0]),void 0!==t[u]&&(!n||void 0!==e[l])){if(Object(i.isArrayLike)(e[l]))if(Object(i.isTyped)(e[l]))if(e[l].length!==t[u].length){var c=e[l].constructor;e[l]=new c(t[u])}else e[l].set(t[u]);else{e[l].splice(0);for(var f=0;f<t[u].length;f++)e[l].push(t[u][f])}else if(Object(i.isTyped)(t[u])){var d=t[u].constructor;e[l]=new d(t[u])}else e[l]=t[u];a=!0}}return a}function a(e,t,r){if(!Object(i.isArray)(t))return void 0!==e[t]?e[t]:r;for(var n=0;n<t.length;n++)if(void 0!==e[t[n]])return e[t[n]];return r}function o(e,t={}){for(var r=e.match(/%([^%]+)?%/g)||[],i=0;i<r.length;i++){var n=r[i],a=n.substring(1,n.length-1).split("="),o=a[0]in t?t[a[0]]:a[1];e=e.replace(n,o)}return e}function s(e,t){for(var r in e)if(e.hasOwnProperty(r)&&e[r]===t)return r}},"./utils/reflect.js":function(e,t,r){"use strict";r.r(t),r.d(t,"defineMetadata",(function(){return u})),r.d(t,"hasMetadata",(function(){return l})),r.d(t,"hasOwnMetadata",(function(){return c})),r.d(t,"getMetadata",(function(){return f})),r.d(t,"getOwnMetadata",(function(){return d})),r.d(t,"deleteMetadata",(function(){return h})),r.d(t,"getMetadataKeys",(function(){return p})),r.d(t,"getOwnMetadataKeys",(function(){return b})),r.d(t,"getMetadataValues",(function(){return g})),r.d(t,"getOwnMetadataValues",(function(){return E})),r.d(t,"handleDescriptor",(function(){return y})),r.d(t,"createDecorator",(function(){return R}));var i=r("./utils/index.js");function n(e,t){if(null==e)return{};var r,i,n=function(e,t){if(null==e)return{};var r,i,n={},a=Object.keys(e);for(i=0;i<a.length;i++)r=a[i],t.indexOf(r)>=0||(n[r]=e[r]);return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)r=a[i],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function a(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function o(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function s(e){return"".concat("tw2",":").concat(e)}function u(e,t,r,i){Reflect.defineMetadata(s(e),t,r,i)}function l(e,t,r){return Reflect.hasMetadata(s(e),t,r)}function c(e,t,r){return Reflect.hasOwnMetadata(s(e),t,r)}function f(e,t,r){return Reflect.getMetadata(s(e),t,r)}function d(e,t,r){return Reflect.getOwnMetadata(s(e),t,r)}function h(e,t,r){return Reflect.deleteMetadata(s(e),t,r)}function m(e){for(var t=[],r=0;r<e.length;r++)0===e[r].indexOf("tw2")&&t.push(e[r].replace("tw2",""));return t}function p(e,t){return m(Reflect.getMetadataKeys(e,t))}function b(e,t){return m(Reflect.getOwnMetadataKeys(e,t))}function v(e,t,r,i){var n=r(e,t),a={};return n.forEach(r=>{var n=i(r,e,t);void 0!==n&&(a[r]=n)}),a}function g(e,t){return v(e,t,p,f)}function E(e,t){return v(e,t,b,d)}function y(e){return!e||e.set||e.get||(void 0===e.writable&&(e.writable=!0),void 0===e.enumerable&&(e.enumerable=!0),void 0===e.configurable&&(e.configurable=!0)),e}var T=()=>{throw new TypeError("Decorator doesn't support classes")},S=()=>{throw new TypeError("Decorator doesn't support methods")},w=()=>{throw new TypeError("Decorator doesn't support properties")};function _(e,t,...r){return function(n,s,u){u&&y(u);var l=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?a(Object(r),!0).forEach((function(t){o(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({target:n,property:s,descriptor:u},t);return s?Object(i.isFunction)(n[s])?e.method(l,...r):e.property(l,...r):e.ctor(l,...r)}}function R(e){var{handler:t,property:r,method:a,ctor:o,noArgs:s}=e,u=n(e,["handler","property","method","ctor","noArgs"]),l=function(e){var{ctor:t,method:r,property:n,handler:a}=e;function o(e,t){return Object(i.isFunction)(e)?e:!1===e?t:Object(i.isFunction)(a)?a:t}return{ctor:o(t,T),method:o(r,S),property:o(n,w)}}(e);return s?_(l,u):function(...e){return _(l,u,...e)}}},"./utils/type.js":function(e,t,r){"use strict";r.r(t),r.d(t,"isArray",(function(){return a})),r.d(t,"isArrayLike",(function(){return o})),r.d(t,"isAsyncFunction",(function(){return s})),r.d(t,"isBoolean",(function(){return u})),r.d(t,"isCanvas",(function(){return l})),r.d(t,"isDescriptor",(function(){return c})),r.d(t,"isDNA",(function(){return f})),r.d(t,"isError",(function(){return d})),r.d(t,"isNumber",(function(){return h})),r.d(t,"isFunction",(function(){return m})),r.d(t,"isNoU",(function(){return p})),r.d(t,"isNull",(function(){return b})),r.d(t,"isObject",(function(){return v})),r.d(t,"isObjectLike",(function(){return g})),r.d(t,"isObjectObject",(function(){return E})),r.d(t,"isPlain",(function(){return y})),r.d(t,"isPrimary",(function(){return T})),r.d(t,"isPromise",(function(){return S})),r.d(t,"isString",(function(){return w})),r.d(t,"isSymbol",(function(){return _})),r.d(t,"isSubclassOf",(function(){return R})),r.d(t,"isTag",(function(){return j})),r.d(t,"isTr2OrTri",(function(){return A})),r.d(t,"toTw2",(function(){return O})),r.d(t,"getTypeUpper",(function(){return z})),r.d(t,"isTyped",(function(){return P})),r.d(t,"isUndefined",(function(){return x})),r.d(t,"isVector",(function(){return C})),r.d(t,"isVector2",(function(){return D})),r.d(t,"isVector3",(function(){return M})),r.d(t,"isVector4",(function(){return L})),r.d(t,"isMatrix3",(function(){return I})),r.d(t,"isMatrix4",(function(){return F})),r.d(t,"isPrimaryEqual",(function(){return G})),r.d(t,"isVectorEqual",(function(){return N})),r.d(t,"isEqual",(function(){return B}));var i=r("./math/num.js"),n=Object.prototype.toString,a=Array.isArray;function o(e){return!!e&&(a(e)||P(e))}function s(e){return!(!m(e)||"AsyncFunction"!==e.constructor.name)}function u(e){return j(e,"[object Boolean]")}function l(e){return!!(e&&e instanceof HTMLCanvasElement)}function c(e){if(!e||!e.hasOwnProperty)return!1;for(var t=["value","initializer","get","set"],r=0,i=t.length;r<i;r++)if(e.hasOwnProperty(t[r]))return!0;return!1}function f(e){return w(e)&&e.match(/(\w|\d|[-_])+:(\w|\d|[-_])+:(\w|\d|[-_])+/)}function d(e){return!!e&&(e instanceof Error||"Error"===e.constructor.__category)}function h(e){return j(e,"[object Number]")}function m(e){return"function"==typeof e}function p(e){return null==e}function b(e){return null===e}function v(e){var t=typeof e;return null!==e&&("object"===t||"function"===t)}function g(e){return null!==e&&"object"==typeof e}function E(e){return null!==e&&j(e,"[object Object]")}function y(e){if(!v(e)||!E)return!1;if(null===Object.getPrototypeOf(e))return!0;for(var t=e;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function T(e){return u(e)||h(e)||w(e)}function S(e){return v(e)&&m(e.then)}function w(e){return j(e,"[object String]")}function _(e){return"symbol"==typeof e||j(e,"[object Symbol]")}function R(e,t){if(!m(e))return!1;for(;m(e);){if(e===t)return!0;e=Reflect.getPrototypeOf(e)}return!1}function j(e,t){return n.call(e)===t}function A(e){return e&&0===e.indexOf("Tr2")||0===e.indexOf("Tri")}function O(e){return A(e)?e.replace("Tr2","Tw2").replace("Tri","Tw2"):e}function z(e){return Object.prototype.toString.call(e).slice(8,-1).toUpperCase()}function P(e){return!!e&&!!(e.buffer instanceof ArrayBuffer&&e.BYTES_PER_ELEMENT)}function x(e){return void 0===e}function C(e,t){if(e){if(P(e))return void 0===t||e.length===t;if(a(e)){if(void 0!==t&&e.length!==t)return!1;for(var r=0;r<e.length;r++)if(!h(e[r]))return!1;return!0}}return!1}function D(e){return C(e,2)}function M(e){return C(e,3)}function L(e){return C(e,4)}function I(e){return C(e,9)}function F(e){return C(e,16)}function G(e,t){return e===t||!(!h(e)||!h(t))&&i.num.equals(e,t)}function N(e,t){if(e===t)return!0;if(e.length!==t.length)return!1;for(var r=0;r<e.length;r++)if(!i.num.equals(e[r],t[r]))return!1;return!0}function B(e,t){if(e===t)return!0;if(h(e))return!!h(t)&&i.num.equals(e,t);if(C(e))return!!C(t)&&N(e,t);if(!E(e)||!E(t))return!1;if(e.constructor!==t.constructor)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(var a=0;a<r.length;a++){var o=r[a];if(!t.hasOwnProperty(o))return!1;if(!B(e[o],t[o]))return!1}for(var s=0;s<n.length;s++)if(e.hasOwnProperty(n[s]))return!1;return!0}},"./utils/url.js":function(e,t,r){"use strict";r.r(t),r.d(t,"getURL",(function(){return f})),r.d(t,"getURLString",(function(){return d})),r.d(t,"getURLInteger",(function(){return h})),r.d(t,"getURLFloat",(function(){return m})),r.d(t,"getURLBoolean",(function(){return p}));for(var i=r("./utils/type.js"),n={},a=window.location.search.substring(1).split("&"),o=0;o<a.length;o++){var s=a[o].split("="),u=s[0],l=unescape(s[1]);if(u){var c=l.toLowerCase();switch(c){case"true":c=!0;break;case"false":c=!1;break;case"null":c=null;break;case"undefined":c=void 0;break;default:isNaN(c)||(c=Number(c))}n[u]=c}}function f(e){if(Object(i.isPlain)(e)){var t={};for(var r in e)e.hasOwnProperty(r)&&(t[r]=void 0===n[r]?e[r]:n[r]);return t}if(Object(i.isFunction)(e)){var a={};for(var o in n)if(n.hasOwnProperty(o)){var s=e(o,n[o],n);void 0!==s&&(a[o]=s)}return a}return Object.assign({},n)}function d(e,t){return(e=e.toLowerCase())in n?n[e]:t}function h(e,t){return(e=e.toLowerCase())in n?parseInt(n[e],10):t}function m(e,t){return(e=e.toLowerCase())in n?parseFloat(n[e]):t}function p(e,t){return(e=e.toLowerCase())in n?n[e]:t}},"./utils/uuid.js":function(e,t,r){"use strict";r.r(t),r.d(t,"enableUUID",(function(){return o})),r.d(t,"generateID",(function(){return s}));var i=null,n=0,a=null;function o(e){if(e!==i){if(null!==i)throw new Error("Cannot change id generation type once set");if(e){a=[];for(var t=0;t<256;t++)a[t]=(t<16?"0":"")+t.toString(16).toUpperCase()}i=e}}function s(){return null===i&&(i=!1),i?(e=4294967295*Math.random()|0,t=4294967295*Math.random()|0,r=4294967295*Math.random()|0,o=4294967295*Math.random()|0,a[255&e]+a[e>>8&255]+a[e>>16&255]+a[e>>24&255]+"-"+a[255&t]+a[t>>8&255]+"-"+a[t>>16&15|64]+a[t>>24&255]+"-"+a[63&r|128]+a[r>>8&255]+"-"+a[r>>16&255]+a[r>>24&255]+a[255&o]+a[o>>8&255]+a[o>>16&255]+a[o>>24&255]):n++;var e,t,r,o}},"./wrapped/camera/Camera.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Camera",(function(){return i}));class i{}},"./wrapped/camera/CameraOrbit.js":function(e,t,r){"use strict";r.r(t),r.d(t,"CameraOrbit",(function(){return n}));var i=r("./wrapped/camera/Camera.js");class n extends i.Camera{}},"./wrapped/camera/CameraOrthographic.js":function(e,t){},"./wrapped/camera/CameraPerspective.js":function(e,t){},"./wrapped/camera/index.js":function(e,t,r){"use strict";r.r(t);var i=r("./wrapped/camera/CameraOrbit.js");r.d(t,"CameraOrbit",(function(){return i.CameraOrbit}));var n=r("./wrapped/camera/CameraOrthographic.js");for(var a in n)["default","CameraOrbit"].indexOf(a)<0&&function(e){r.d(t,e,(function(){return n[e]}))}(a);var o=r("./wrapped/camera/CameraPerspective.js");for(var a in o)["default","CameraOrbit"].indexOf(a)<0&&function(e){r.d(t,e,(function(){return o[e]}))}(a)},"./wrapped/gizmo/index.js":function(e,t){},"./wrapped/index.js":function(e,t,r){"use strict";r.r(t);var i=r("./wrapped/camera/index.js");for(var n in i)["default"].indexOf(n)<0&&function(e){r.d(t,e,(function(){return i[e]}))}(n);var a=r("./wrapped/gizmo/index.js");for(var n in a)["default"].indexOf(n)<0&&function(e){r.d(t,e,(function(){return a[e]}))}(n);var o=r("./wrapped/item/index.js");r.d(t,"Overlay",(function(){return o.Overlay})),r.d(t,"Overlays",(function(){return o.Overlays})),r.d(t,"Turret",(function(){return o.Turret})),r.d(t,"Turrets",(function(){return o.Turrets}));var s=r("./wrapped/object/index.js");r.d(t,"Moon",(function(){return s.Moon})),r.d(t,"Planet",(function(){return s.Planet})),r.d(t,"Ship",(function(){return s.Ship})),r.d(t,"SpaceObject",(function(){return s.SpaceObject})),r.d(t,"Stargate",(function(){return s.Stargate})),r.d(t,"Station",(function(){return s.Station})),r.d(t,"StrategicCruiser",(function(){return s.StrategicCruiser})),r.d(t,"Sun",(function(){return s.Sun}));var u=r("./wrapped/scene/index.js");r.d(t,"Lensflare",(function(){return u.Lensflare})),r.d(t,"Scene",(function(){return u.Scene}))},"./wrapped/item/Overlay.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Overlay",(function(){return i})),r.d(t,"Overlays",(function(){return n}));class i{}class n{}},"./wrapped/item/Turret.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Turret",(function(){return i})),r.d(t,"Turrets",(function(){return n}));class i{}class n{}},"./wrapped/item/index.js":function(e,t,r){"use strict";r.r(t);var i=r("./wrapped/item/Overlay.js");r.d(t,"Overlay",(function(){return i.Overlay})),r.d(t,"Overlays",(function(){return i.Overlays}));var n=r("./wrapped/item/Turret.js");r.d(t,"Turret",(function(){return n.Turret})),r.d(t,"Turrets",(function(){return n.Turrets}))},"./wrapped/object/Moon.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Moon",(function(){return i}));class i{}},"./wrapped/object/Planet.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Planet",(function(){return n}));var i=r("./wrapped/object/Moon.js");class n extends i.Moon{}},"./wrapped/object/Ship.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Ship",(function(){return n}));var i=r("./wrapped/object/SpaceObject.js");class n extends i.SpaceObject{}},"./wrapped/object/SpaceObject.js":function(e,t,r){"use strict";r.r(t),r.d(t,"SpaceObject",(function(){return i}));class i{}},"./wrapped/object/Stargate.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Stargate",(function(){return n}));var i=r("./wrapped/object/SpaceObject.js");class n extends i.SpaceObject{}},"./wrapped/object/Station.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Station",(function(){return i}));class i{}},"./wrapped/object/StrategicCruiser.js":function(e,t,r){"use strict";r.r(t),r.d(t,"StrategicCruiser",(function(){return n}));var i=r("./wrapped/object/Ship.js");class n extends i.Ship{}},"./wrapped/object/Sun.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Sun",(function(){return n}));var i=r("./wrapped/object/index.js");class n extends i.Planet{}},"./wrapped/object/index.js":function(e,t,r){"use strict";r.r(t);var i=r("./wrapped/object/Moon.js");r.d(t,"Moon",(function(){return i.Moon}));var n=r("./wrapped/object/Planet.js");r.d(t,"Planet",(function(){return n.Planet}));var a=r("./wrapped/object/Ship.js");r.d(t,"Ship",(function(){return a.Ship}));var o=r("./wrapped/object/SpaceObject.js");r.d(t,"SpaceObject",(function(){return o.SpaceObject}));var s=r("./wrapped/object/Stargate.js");r.d(t,"Stargate",(function(){return s.Stargate}));var u=r("./wrapped/object/Station.js");r.d(t,"Station",(function(){return u.Station}));var l=r("./wrapped/object/StrategicCruiser.js");r.d(t,"StrategicCruiser",(function(){return l.StrategicCruiser}));var c=r("./wrapped/object/Sun.js");r.d(t,"Sun",(function(){return c.Sun}))},"./wrapped/scene/Lensflare.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Lensflare",(function(){return i}));class i{}},"./wrapped/scene/Scene.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Scene",(function(){return i}));class i{}},"./wrapped/scene/index.js":function(e,t,r){"use strict";r.r(t);var i=r("./wrapped/scene/Lensflare.js");r.d(t,"Lensflare",(function(){return i.Lensflare}));var n=r("./wrapped/scene/Scene.js");r.d(t,"Scene",(function(){return n.Scene}))}})}));