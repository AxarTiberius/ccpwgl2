!function(e,t){if("object"==typeof exports&&"object"==typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var r=t();for(var n in r)("object"==typeof exports?exports:e)[n]=r[n]}}(window,(function(){return function(e){var t={};function r(n){if(t[n])return t[n].exports;var i=t[n]={i:n,l:!1,exports:{}};return e[n].call(i.exports,i,i.exports,r),i.l=!0,i.exports}return r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)r.d(n,i,function(t){return e[t]}.bind(null,i));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s="./index.js")}({"../node_modules/core-js/internals/a-function.js":function(e,t){e.exports=function(e){if("function"!=typeof e)throw TypeError(String(e)+" is not a function");return e}},"../node_modules/core-js/internals/a-possible-prototype.js":function(e,t,r){var n=r("../node_modules/core-js/internals/is-object.js");e.exports=function(e){if(!n(e)&&null!==e)throw TypeError("Can't set "+String(e)+" as a prototype");return e}},"../node_modules/core-js/internals/add-to-unscopables.js":function(e,t,r){var n=r("../node_modules/core-js/internals/well-known-symbol.js"),i=r("../node_modules/core-js/internals/object-create.js"),s=r("../node_modules/core-js/internals/create-non-enumerable-property.js"),a=n("unscopables"),o=Array.prototype;null==o[a]&&s(o,a,i(null)),e.exports=function(e){o[a][e]=!0}},"../node_modules/core-js/internals/advance-string-index.js":function(e,t,r){"use strict";var n=r("../node_modules/core-js/internals/string-multibyte.js").charAt;e.exports=function(e,t,r){return t+(r?n(e,t).length:1)}},"../node_modules/core-js/internals/an-instance.js":function(e,t){e.exports=function(e,t,r){if(!(e instanceof t))throw TypeError("Incorrect "+(r?r+" ":"")+"invocation");return e}},"../node_modules/core-js/internals/an-object.js":function(e,t,r){var n=r("../node_modules/core-js/internals/is-object.js");e.exports=function(e){if(!n(e))throw TypeError(String(e)+" is not an object");return e}},"../node_modules/core-js/internals/array-buffer-view-core.js":function(e,t,r){"use strict";var n,i=r("../node_modules/core-js/internals/descriptors.js"),s=r("../node_modules/core-js/internals/global.js"),a=r("../node_modules/core-js/internals/is-object.js"),o=r("../node_modules/core-js/internals/has.js"),u=r("../node_modules/core-js/internals/classof.js"),c=r("../node_modules/core-js/internals/create-non-enumerable-property.js"),l=r("../node_modules/core-js/internals/redefine.js"),h=r("../node_modules/core-js/internals/object-define-property.js").f,d=r("../node_modules/core-js/internals/object-get-prototype-of.js"),f=r("../node_modules/core-js/internals/object-set-prototype-of.js"),m=r("../node_modules/core-js/internals/well-known-symbol.js"),v=r("../node_modules/core-js/internals/uid.js"),p=s.DataView,_=p&&p.prototype,E=s.Int8Array,S=E&&E.prototype,T=s.Uint8ClampedArray,g=T&&T.prototype,R=E&&d(E),b=S&&d(S),y=Object.prototype,A=y.isPrototypeOf,j=m("toStringTag"),w=v("TYPED_ARRAY_TAG"),O=!(!s.ArrayBuffer||!p),C=O&&!!f&&"Opera"!==u(s.opera),L=!1,D={Int8Array:1,Uint8Array:1,Uint8ClampedArray:1,Int16Array:2,Uint16Array:2,Int32Array:4,Uint32Array:4,Float32Array:4,Float64Array:8},P=function(e){return a(e)&&o(D,u(e))};for(n in D)s[n]||(C=!1);if((!C||"function"!=typeof R||R===Function.prototype)&&(R=function(){throw TypeError("Incorrect invocation")},C))for(n in D)s[n]&&f(s[n],R);if((!C||!b||b===y)&&(b=R.prototype,C))for(n in D)s[n]&&f(s[n].prototype,b);if(C&&d(g)!==b&&f(g,b),i&&!o(b,j))for(n in L=!0,h(b,j,{get:function(){return a(this)?this[w]:void 0}}),D)s[n]&&c(s[n],w,n);O&&f&&d(_)!==y&&f(_,y),e.exports={NATIVE_ARRAY_BUFFER:O,NATIVE_ARRAY_BUFFER_VIEWS:C,TYPED_ARRAY_TAG:L&&w,aTypedArray:function(e){if(P(e))return e;throw TypeError("Target is not a typed array")},aTypedArrayConstructor:function(e){if(f){if(A.call(R,e))return e}else for(var t in D)if(o(D,n)){var r=s[t];if(r&&(e===r||A.call(r,e)))return e}throw TypeError("Target is not a typed array constructor")},exportTypedArrayMethod:function(e,t,r){if(i){if(r)for(var n in D){var a=s[n];a&&o(a.prototype,e)&&delete a.prototype[e]}b[e]&&!r||l(b,e,r?t:C&&S[e]||t)}},exportTypedArrayStaticMethod:function(e,t,r){var n,a;if(i){if(f){if(r)for(n in D)(a=s[n])&&o(a,e)&&delete a[e];if(R[e]&&!r)return;try{return l(R,e,r?t:C&&E[e]||t)}catch(e){}}for(n in D)!(a=s[n])||a[e]&&!r||l(a,e,t)}},isView:function(e){var t=u(e);return"DataView"===t||o(D,t)},isTypedArray:P,TypedArray:R,TypedArrayPrototype:b}},"../node_modules/core-js/internals/array-buffer.js":function(e,t,r){"use strict";var n=r("../node_modules/core-js/internals/global.js"),i=r("../node_modules/core-js/internals/descriptors.js"),s=r("../node_modules/core-js/internals/array-buffer-view-core.js").NATIVE_ARRAY_BUFFER,a=r("../node_modules/core-js/internals/create-non-enumerable-property.js"),o=r("../node_modules/core-js/internals/redefine-all.js"),u=r("../node_modules/core-js/internals/fails.js"),c=r("../node_modules/core-js/internals/an-instance.js"),l=r("../node_modules/core-js/internals/to-integer.js"),h=r("../node_modules/core-js/internals/to-length.js"),d=r("../node_modules/core-js/internals/to-index.js"),f=r("../node_modules/core-js/internals/ieee754.js"),m=r("../node_modules/core-js/internals/object-get-own-property-names.js").f,v=r("../node_modules/core-js/internals/object-define-property.js").f,p=r("../node_modules/core-js/internals/array-fill.js"),_=r("../node_modules/core-js/internals/set-to-string-tag.js"),E=r("../node_modules/core-js/internals/internal-state.js"),S=E.get,T=E.set,g=n.ArrayBuffer,R=g,b=n.DataView,y=n.RangeError,A=f.pack,j=f.unpack,w=function(e){return[255&e]},O=function(e){return[255&e,e>>8&255]},C=function(e){return[255&e,e>>8&255,e>>16&255,e>>24&255]},L=function(e){return e[3]<<24|e[2]<<16|e[1]<<8|e[0]},D=function(e){return A(e,23,4)},P=function(e){return A(e,52,8)},x=function(e,t){v(e.prototype,t,{get:function(){return S(this)[t]}})},I=function(e,t,r,n){var i=d(r),s=S(e);if(i+t>s.byteLength)throw y("Wrong index");var a=S(s.buffer).bytes,o=i+s.byteOffset,u=a.slice(o,o+t);return n?u:u.reverse()},M=function(e,t,r,n,i,s){var a=d(r),o=S(e);if(a+t>o.byteLength)throw y("Wrong index");for(var u=S(o.buffer).bytes,c=a+o.byteOffset,l=n(+i),h=0;h<t;h++)u[c+h]=l[s?h:t-h-1]};if(s){if(!u((function(){g(1)}))||!u((function(){new g(-1)}))||u((function(){return new g,new g(1.5),new g(NaN),"ArrayBuffer"!=g.name}))){for(var F,G=(R=function(e){return c(this,R),new g(d(e))}).prototype=g.prototype,N=m(g),B=0;N.length>B;)(F=N[B++])in R||a(R,F,g[F]);G.constructor=R}var U=new b(new R(2)),V=b.prototype.setInt8;U.setInt8(0,2147483648),U.setInt8(1,2147483649),!U.getInt8(0)&&U.getInt8(1)||o(b.prototype,{setInt8:function(e,t){V.call(this,e,t<<24>>24)},setUint8:function(e,t){V.call(this,e,t<<24>>24)}},{unsafe:!0})}else R=function(e){c(this,R,"ArrayBuffer");var t=d(e);T(this,{bytes:p.call(new Array(t),0),byteLength:t}),i||(this.byteLength=t)},b=function(e,t,r){c(this,b,"DataView"),c(e,R,"DataView");var n=S(e).byteLength,s=l(t);if(s<0||s>n)throw y("Wrong offset");if(s+(r=void 0===r?n-s:h(r))>n)throw y("Wrong length");T(this,{buffer:e,byteLength:r,byteOffset:s}),i||(this.buffer=e,this.byteLength=r,this.byteOffset=s)},i&&(x(R,"byteLength"),x(b,"buffer"),x(b,"byteLength"),x(b,"byteOffset")),o(b.prototype,{getInt8:function(e){return I(this,1,e)[0]<<24>>24},getUint8:function(e){return I(this,1,e)[0]},getInt16:function(e){var t=I(this,2,e,arguments.length>1?arguments[1]:void 0);return(t[1]<<8|t[0])<<16>>16},getUint16:function(e){var t=I(this,2,e,arguments.length>1?arguments[1]:void 0);return t[1]<<8|t[0]},getInt32:function(e){return L(I(this,4,e,arguments.length>1?arguments[1]:void 0))},getUint32:function(e){return L(I(this,4,e,arguments.length>1?arguments[1]:void 0))>>>0},getFloat32:function(e){return j(I(this,4,e,arguments.length>1?arguments[1]:void 0),23)},getFloat64:function(e){return j(I(this,8,e,arguments.length>1?arguments[1]:void 0),52)},setInt8:function(e,t){M(this,1,e,w,t)},setUint8:function(e,t){M(this,1,e,w,t)},setInt16:function(e,t){M(this,2,e,O,t,arguments.length>2?arguments[2]:void 0)},setUint16:function(e,t){M(this,2,e,O,t,arguments.length>2?arguments[2]:void 0)},setInt32:function(e,t){M(this,4,e,C,t,arguments.length>2?arguments[2]:void 0)},setUint32:function(e,t){M(this,4,e,C,t,arguments.length>2?arguments[2]:void 0)},setFloat32:function(e,t){M(this,4,e,D,t,arguments.length>2?arguments[2]:void 0)},setFloat64:function(e,t){M(this,8,e,P,t,arguments.length>2?arguments[2]:void 0)}});_(R,"ArrayBuffer"),_(b,"DataView"),e.exports={ArrayBuffer:R,DataView:b}},"../node_modules/core-js/internals/array-fill.js":function(e,t,r){"use strict";var n=r("../node_modules/core-js/internals/to-object.js"),i=r("../node_modules/core-js/internals/to-absolute-index.js"),s=r("../node_modules/core-js/internals/to-length.js");e.exports=function(e){for(var t=n(this),r=s(t.length),a=arguments.length,o=i(a>1?arguments[1]:void 0,r),u=a>2?arguments[2]:void 0,c=void 0===u?r:i(u,r);c>o;)t[o++]=e;return t}},"../node_modules/core-js/internals/array-for-each.js":function(e,t,r){"use strict";var n=r("../node_modules/core-js/internals/array-iteration.js").forEach,i=r("../node_modules/core-js/internals/sloppy-array-method.js");e.exports=i("forEach")?function(e){return n(this,e,arguments.length>1?arguments[1]:void 0)}:[].forEach},"../node_modules/core-js/internals/array-from.js":function(e,t,r){"use strict";var n=r("../node_modules/core-js/internals/bind-context.js"),i=r("../node_modules/core-js/internals/to-object.js"),s=r("../node_modules/core-js/internals/call-with-safe-iteration-closing.js"),a=r("../node_modules/core-js/internals/is-array-iterator-method.js"),o=r("../node_modules/core-js/internals/to-length.js"),u=r("../node_modules/core-js/internals/create-property.js"),c=r("../node_modules/core-js/internals/get-iterator-method.js");e.exports=function(e){var t,r,l,h,d,f=i(e),m="function"==typeof this?this:Array,v=arguments.length,p=v>1?arguments[1]:void 0,_=void 0!==p,E=0,S=c(f);if(_&&(p=n(p,v>2?arguments[2]:void 0,2)),null==S||m==Array&&a(S))for(r=new m(t=o(f.length));t>E;E++)u(r,E,_?p(f[E],E):f[E]);else for(d=(h=S.call(f)).next,r=new m;!(l=d.call(h)).done;E++)u(r,E,_?s(h,p,[l.value,E],!0):l.value);return r.length=E,r}},"../node_modules/core-js/internals/array-includes.js":function(e,t,r){var n=r("../node_modules/core-js/internals/to-indexed-object.js"),i=r("../node_modules/core-js/internals/to-length.js"),s=r("../node_modules/core-js/internals/to-absolute-index.js"),a=function(e){return function(t,r,a){var o,u=n(t),c=i(u.length),l=s(a,c);if(e&&r!=r){for(;c>l;)if((o=u[l++])!=o)return!0}else for(;c>l;l++)if((e||l in u)&&u[l]===r)return e||l||0;return!e&&-1}};e.exports={includes:a(!0),indexOf:a(!1)}},"../node_modules/core-js/internals/array-iteration.js":function(e,t,r){var n=r("../node_modules/core-js/internals/bind-context.js"),i=r("../node_modules/core-js/internals/indexed-object.js"),s=r("../node_modules/core-js/internals/to-object.js"),a=r("../node_modules/core-js/internals/to-length.js"),o=r("../node_modules/core-js/internals/array-species-create.js"),u=[].push,c=function(e){var t=1==e,r=2==e,c=3==e,l=4==e,h=6==e,d=5==e||h;return function(f,m,v,p){for(var _,E,S=s(f),T=i(S),g=n(m,v,3),R=a(T.length),b=0,y=p||o,A=t?y(f,R):r?y(f,0):void 0;R>b;b++)if((d||b in T)&&(E=g(_=T[b],b,S),e))if(t)A[b]=E;else if(E)switch(e){case 3:return!0;case 5:return _;case 6:return b;case 2:u.call(A,_)}else if(l)return!1;return h?-1:c||l?l:A}};e.exports={forEach:c(0),map:c(1),filter:c(2),some:c(3),every:c(4),find:c(5),findIndex:c(6)}},"../node_modules/core-js/internals/array-species-create.js":function(e,t,r){var n=r("../node_modules/core-js/internals/is-object.js"),i=r("../node_modules/core-js/internals/is-array.js"),s=r("../node_modules/core-js/internals/well-known-symbol.js")("species");e.exports=function(e,t){var r;return i(e)&&("function"!=typeof(r=e.constructor)||r!==Array&&!i(r.prototype)?n(r)&&null===(r=r[s])&&(r=void 0):r=void 0),new(void 0===r?Array:r)(0===t?0:t)}},"../node_modules/core-js/internals/bind-context.js":function(e,t,r){var n=r("../node_modules/core-js/internals/a-function.js");e.exports=function(e,t,r){if(n(e),void 0===t)return e;switch(r){case 0:return function(){return e.call(t)};case 1:return function(r){return e.call(t,r)};case 2:return function(r,n){return e.call(t,r,n)};case 3:return function(r,n,i){return e.call(t,r,n,i)}}return function(){return e.apply(t,arguments)}}},"../node_modules/core-js/internals/call-with-safe-iteration-closing.js":function(e,t,r){var n=r("../node_modules/core-js/internals/an-object.js");e.exports=function(e,t,r,i){try{return i?t(n(r)[0],r[1]):t(r)}catch(t){var s=e.return;throw void 0!==s&&n(s.call(e)),t}}},"../node_modules/core-js/internals/check-correctness-of-iteration.js":function(e,t,r){var n=r("../node_modules/core-js/internals/well-known-symbol.js")("iterator"),i=!1;try{var s=0,a={next:function(){return{done:!!s++}},return:function(){i=!0}};a[n]=function(){return this},Array.from(a,(function(){throw 2}))}catch(e){}e.exports=function(e,t){if(!t&&!i)return!1;var r=!1;try{var s={};s[n]=function(){return{next:function(){return{done:r=!0}}}},e(s)}catch(e){}return r}},"../node_modules/core-js/internals/classof-raw.js":function(e,t){var r={}.toString;e.exports=function(e){return r.call(e).slice(8,-1)}},"../node_modules/core-js/internals/classof.js":function(e,t,r){var n=r("../node_modules/core-js/internals/to-string-tag-support.js"),i=r("../node_modules/core-js/internals/classof-raw.js"),s=r("../node_modules/core-js/internals/well-known-symbol.js")("toStringTag"),a="Arguments"==i(function(){return arguments}());e.exports=n?i:function(e){var t,r,n;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(r=function(e,t){try{return e[t]}catch(e){}}(t=Object(e),s))?r:a?i(t):"Object"==(n=i(t))&&"function"==typeof t.callee?"Arguments":n}},"../node_modules/core-js/internals/copy-constructor-properties.js":function(e,t,r){var n=r("../node_modules/core-js/internals/has.js"),i=r("../node_modules/core-js/internals/own-keys.js"),s=r("../node_modules/core-js/internals/object-get-own-property-descriptor.js"),a=r("../node_modules/core-js/internals/object-define-property.js");e.exports=function(e,t){for(var r=i(t),o=a.f,u=s.f,c=0;c<r.length;c++){var l=r[c];n(e,l)||o(e,l,u(t,l))}}},"../node_modules/core-js/internals/correct-prototype-getter.js":function(e,t,r){var n=r("../node_modules/core-js/internals/fails.js");e.exports=!n((function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype}))},"../node_modules/core-js/internals/create-iterator-constructor.js":function(e,t,r){"use strict";var n=r("../node_modules/core-js/internals/iterators-core.js").IteratorPrototype,i=r("../node_modules/core-js/internals/object-create.js"),s=r("../node_modules/core-js/internals/create-property-descriptor.js"),a=r("../node_modules/core-js/internals/set-to-string-tag.js"),o=r("../node_modules/core-js/internals/iterators.js"),u=function(){return this};e.exports=function(e,t,r){var c=t+" Iterator";return e.prototype=i(n,{next:s(1,r)}),a(e,c,!1,!0),o[c]=u,e}},"../node_modules/core-js/internals/create-non-enumerable-property.js":function(e,t,r){var n=r("../node_modules/core-js/internals/descriptors.js"),i=r("../node_modules/core-js/internals/object-define-property.js"),s=r("../node_modules/core-js/internals/create-property-descriptor.js");e.exports=n?function(e,t,r){return i.f(e,t,s(1,r))}:function(e,t,r){return e[t]=r,e}},"../node_modules/core-js/internals/create-property-descriptor.js":function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},"../node_modules/core-js/internals/create-property.js":function(e,t,r){"use strict";var n=r("../node_modules/core-js/internals/to-primitive.js"),i=r("../node_modules/core-js/internals/object-define-property.js"),s=r("../node_modules/core-js/internals/create-property-descriptor.js");e.exports=function(e,t,r){var a=n(t);a in e?i.f(e,a,s(0,r)):e[a]=r}},"../node_modules/core-js/internals/define-iterator.js":function(e,t,r){"use strict";var n=r("../node_modules/core-js/internals/export.js"),i=r("../node_modules/core-js/internals/create-iterator-constructor.js"),s=r("../node_modules/core-js/internals/object-get-prototype-of.js"),a=r("../node_modules/core-js/internals/object-set-prototype-of.js"),o=r("../node_modules/core-js/internals/set-to-string-tag.js"),u=r("../node_modules/core-js/internals/create-non-enumerable-property.js"),c=r("../node_modules/core-js/internals/redefine.js"),l=r("../node_modules/core-js/internals/well-known-symbol.js"),h=r("../node_modules/core-js/internals/is-pure.js"),d=r("../node_modules/core-js/internals/iterators.js"),f=r("../node_modules/core-js/internals/iterators-core.js"),m=f.IteratorPrototype,v=f.BUGGY_SAFARI_ITERATORS,p=l("iterator"),_=function(){return this};e.exports=function(e,t,r,l,f,E,S){i(r,t,l);var T,g,R,b=function(e){if(e===f&&O)return O;if(!v&&e in j)return j[e];switch(e){case"keys":case"values":case"entries":return function(){return new r(this,e)}}return function(){return new r(this)}},y=t+" Iterator",A=!1,j=e.prototype,w=j[p]||j["@@iterator"]||f&&j[f],O=!v&&w||b(f),C="Array"==t&&j.entries||w;if(C&&(T=s(C.call(new e)),m!==Object.prototype&&T.next&&(h||s(T)===m||(a?a(T,m):"function"!=typeof T[p]&&u(T,p,_)),o(T,y,!0,!0),h&&(d[y]=_))),"values"==f&&w&&"values"!==w.name&&(A=!0,O=function(){return w.call(this)}),h&&!S||j[p]===O||u(j,p,O),d[t]=O,f)if(g={values:b("values"),keys:E?O:b("keys"),entries:b("entries")},S)for(R in g)!v&&!A&&R in j||c(j,R,g[R]);else n({target:t,proto:!0,forced:v||A},g);return g}},"../node_modules/core-js/internals/define-well-known-symbol.js":function(e,t,r){var n=r("../node_modules/core-js/internals/path.js"),i=r("../node_modules/core-js/internals/has.js"),s=r("../node_modules/core-js/internals/wrapped-well-known-symbol.js"),a=r("../node_modules/core-js/internals/object-define-property.js").f;e.exports=function(e){var t=n.Symbol||(n.Symbol={});i(t,e)||a(t,e,{value:s.f(e)})}},"../node_modules/core-js/internals/descriptors.js":function(e,t,r){var n=r("../node_modules/core-js/internals/fails.js");e.exports=!n((function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}))},"../node_modules/core-js/internals/document-create-element.js":function(e,t,r){var n=r("../node_modules/core-js/internals/global.js"),i=r("../node_modules/core-js/internals/is-object.js"),s=n.document,a=i(s)&&i(s.createElement);e.exports=function(e){return a?s.createElement(e):{}}},"../node_modules/core-js/internals/dom-iterables.js":function(e,t){e.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},"../node_modules/core-js/internals/enum-bug-keys.js":function(e,t){e.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},"../node_modules/core-js/internals/export.js":function(e,t,r){var n=r("../node_modules/core-js/internals/global.js"),i=r("../node_modules/core-js/internals/object-get-own-property-descriptor.js").f,s=r("../node_modules/core-js/internals/create-non-enumerable-property.js"),a=r("../node_modules/core-js/internals/redefine.js"),o=r("../node_modules/core-js/internals/set-global.js"),u=r("../node_modules/core-js/internals/copy-constructor-properties.js"),c=r("../node_modules/core-js/internals/is-forced.js");e.exports=function(e,t){var r,l,h,d,f,m=e.target,v=e.global,p=e.stat;if(r=v?n:p?n[m]||o(m,{}):(n[m]||{}).prototype)for(l in t){if(d=t[l],h=e.noTargetGet?(f=i(r,l))&&f.value:r[l],!c(v?l:m+(p?".":"#")+l,e.forced)&&void 0!==h){if(typeof d==typeof h)continue;u(d,h)}(e.sham||h&&h.sham)&&s(d,"sham",!0),a(r,l,d,e)}}},"../node_modules/core-js/internals/fails.js":function(e,t){e.exports=function(e){try{return!!e()}catch(e){return!0}}},"../node_modules/core-js/internals/fix-regexp-well-known-symbol-logic.js":function(e,t,r){"use strict";var n=r("../node_modules/core-js/internals/create-non-enumerable-property.js"),i=r("../node_modules/core-js/internals/redefine.js"),s=r("../node_modules/core-js/internals/fails.js"),a=r("../node_modules/core-js/internals/well-known-symbol.js"),o=r("../node_modules/core-js/internals/regexp-exec.js"),u=a("species"),c=!s((function(){var e=/./;return e.exec=function(){var e=[];return e.groups={a:"7"},e},"7"!=="".replace(e,"$<a>")})),l=!s((function(){var e=/(?:)/,t=e.exec;e.exec=function(){return t.apply(this,arguments)};var r="ab".split(e);return 2!==r.length||"a"!==r[0]||"b"!==r[1]}));e.exports=function(e,t,r,h){var d=a(e),f=!s((function(){var t={};return t[d]=function(){return 7},7!=""[e](t)})),m=f&&!s((function(){var t=!1,r=/a/;return"split"===e&&((r={}).constructor={},r.constructor[u]=function(){return r},r.flags="",r[d]=/./[d]),r.exec=function(){return t=!0,null},r[d](""),!t}));if(!f||!m||"replace"===e&&!c||"split"===e&&!l){var v=/./[d],p=r(d,""[e],(function(e,t,r,n,i){return t.exec===o?f&&!i?{done:!0,value:v.call(t,r,n)}:{done:!0,value:e.call(r,t,n)}:{done:!1}})),_=p[0],E=p[1];i(String.prototype,e,_),i(RegExp.prototype,d,2==t?function(e,t){return E.call(e,this,t)}:function(e){return E.call(e,this)}),h&&n(RegExp.prototype[d],"sham",!0)}}},"../node_modules/core-js/internals/flatten-into-array.js":function(e,t,r){"use strict";var n=r("../node_modules/core-js/internals/is-array.js"),i=r("../node_modules/core-js/internals/to-length.js"),s=r("../node_modules/core-js/internals/bind-context.js"),a=function(e,t,r,o,u,c,l,h){for(var d,f=u,m=0,v=!!l&&s(l,h,3);m<o;){if(m in r){if(d=v?v(r[m],m,t):r[m],c>0&&n(d))f=a(e,t,d,i(d.length),f,c-1)-1;else{if(f>=9007199254740991)throw TypeError("Exceed the acceptable array length");e[f]=d}f++}m++}return f};e.exports=a},"../node_modules/core-js/internals/forced-object-prototype-accessors-methods.js":function(e,t,r){"use strict";var n=r("../node_modules/core-js/internals/is-pure.js"),i=r("../node_modules/core-js/internals/global.js"),s=r("../node_modules/core-js/internals/fails.js");e.exports=n||!s((function(){var e=Math.random();__defineSetter__.call(null,e,(function(){})),delete i[e]}))},"../node_modules/core-js/internals/forced-string-trim-method.js":function(e,t,r){var n=r("../node_modules/core-js/internals/fails.js"),i=r("../node_modules/core-js/internals/whitespaces.js");e.exports=function(e){return n((function(){return!!i[e]()||"​᠎"!="​᠎"[e]()||i[e].name!==e}))}},"../node_modules/core-js/internals/get-built-in.js":function(e,t,r){var n=r("../node_modules/core-js/internals/path.js"),i=r("../node_modules/core-js/internals/global.js"),s=function(e){return"function"==typeof e?e:void 0};e.exports=function(e,t){return arguments.length<2?s(n[e])||s(i[e]):n[e]&&n[e][t]||i[e]&&i[e][t]}},"../node_modules/core-js/internals/get-iterator-method.js":function(e,t,r){var n=r("../node_modules/core-js/internals/classof.js"),i=r("../node_modules/core-js/internals/iterators.js"),s=r("../node_modules/core-js/internals/well-known-symbol.js")("iterator");e.exports=function(e){if(null!=e)return e[s]||e["@@iterator"]||i[n(e)]}},"../node_modules/core-js/internals/get-iterator.js":function(e,t,r){var n=r("../node_modules/core-js/internals/an-object.js"),i=r("../node_modules/core-js/internals/get-iterator-method.js");e.exports=function(e){var t=i(e);if("function"!=typeof t)throw TypeError(String(e)+" is not iterable");return n(t.call(e))}},"../node_modules/core-js/internals/global.js":function(e,t,r){(function(t){var r=function(e){return e&&e.Math==Math&&e};e.exports=r("object"==typeof globalThis&&globalThis)||r("object"==typeof window&&window)||r("object"==typeof self&&self)||r("object"==typeof t&&t)||Function("return this")()}).call(this,r("../node_modules/webpack/buildin/global.js"))},"../node_modules/core-js/internals/has.js":function(e,t){var r={}.hasOwnProperty;e.exports=function(e,t){return r.call(e,t)}},"../node_modules/core-js/internals/hidden-keys.js":function(e,t){e.exports={}},"../node_modules/core-js/internals/host-report-errors.js":function(e,t,r){var n=r("../node_modules/core-js/internals/global.js");e.exports=function(e,t){var r=n.console;r&&r.error&&(1===arguments.length?r.error(e):r.error(e,t))}},"../node_modules/core-js/internals/html.js":function(e,t,r){var n=r("../node_modules/core-js/internals/get-built-in.js");e.exports=n("document","documentElement")},"../node_modules/core-js/internals/ie8-dom-define.js":function(e,t,r){var n=r("../node_modules/core-js/internals/descriptors.js"),i=r("../node_modules/core-js/internals/fails.js"),s=r("../node_modules/core-js/internals/document-create-element.js");e.exports=!n&&!i((function(){return 7!=Object.defineProperty(s("div"),"a",{get:function(){return 7}}).a}))},"../node_modules/core-js/internals/ieee754.js":function(e,t){var r=Math.abs,n=Math.pow,i=Math.floor,s=Math.log,a=Math.LN2;e.exports={pack:function(e,t,o){var u,c,l,h=new Array(o),d=8*o-t-1,f=(1<<d)-1,m=f>>1,v=23===t?n(2,-24)-n(2,-77):0,p=e<0||0===e&&1/e<0?1:0,_=0;for((e=r(e))!=e||e===1/0?(c=e!=e?1:0,u=f):(u=i(s(e)/a),e*(l=n(2,-u))<1&&(u--,l*=2),(e+=u+m>=1?v/l:v*n(2,1-m))*l>=2&&(u++,l/=2),u+m>=f?(c=0,u=f):u+m>=1?(c=(e*l-1)*n(2,t),u+=m):(c=e*n(2,m-1)*n(2,t),u=0));t>=8;h[_++]=255&c,c/=256,t-=8);for(u=u<<t|c,d+=t;d>0;h[_++]=255&u,u/=256,d-=8);return h[--_]|=128*p,h},unpack:function(e,t){var r,i=e.length,s=8*i-t-1,a=(1<<s)-1,o=a>>1,u=s-7,c=i-1,l=e[c--],h=127&l;for(l>>=7;u>0;h=256*h+e[c],c--,u-=8);for(r=h&(1<<-u)-1,h>>=-u,u+=t;u>0;r=256*r+e[c],c--,u-=8);if(0===h)h=1-o;else{if(h===a)return r?NaN:l?-1/0:1/0;r+=n(2,t),h-=o}return(l?-1:1)*r*n(2,h-t)}}},"../node_modules/core-js/internals/indexed-object.js":function(e,t,r){var n=r("../node_modules/core-js/internals/fails.js"),i=r("../node_modules/core-js/internals/classof-raw.js"),s="".split;e.exports=n((function(){return!Object("z").propertyIsEnumerable(0)}))?function(e){return"String"==i(e)?s.call(e,""):Object(e)}:Object},"../node_modules/core-js/internals/inherit-if-required.js":function(e,t,r){var n=r("../node_modules/core-js/internals/is-object.js"),i=r("../node_modules/core-js/internals/object-set-prototype-of.js");e.exports=function(e,t,r){var s,a;return i&&"function"==typeof(s=t.constructor)&&s!==r&&n(a=s.prototype)&&a!==r.prototype&&i(e,a),e}},"../node_modules/core-js/internals/inspect-source.js":function(e,t,r){var n=r("../node_modules/core-js/internals/shared.js"),i=Function.toString;e.exports=n("inspectSource",(function(e){return i.call(e)}))},"../node_modules/core-js/internals/internal-state.js":function(e,t,r){var n,i,s,a=r("../node_modules/core-js/internals/native-weak-map.js"),o=r("../node_modules/core-js/internals/global.js"),u=r("../node_modules/core-js/internals/is-object.js"),c=r("../node_modules/core-js/internals/create-non-enumerable-property.js"),l=r("../node_modules/core-js/internals/has.js"),h=r("../node_modules/core-js/internals/shared-key.js"),d=r("../node_modules/core-js/internals/hidden-keys.js"),f=o.WeakMap;if(a){var m=new f,v=m.get,p=m.has,_=m.set;n=function(e,t){return _.call(m,e,t),t},i=function(e){return v.call(m,e)||{}},s=function(e){return p.call(m,e)}}else{var E=h("state");d[E]=!0,n=function(e,t){return c(e,E,t),t},i=function(e){return l(e,E)?e[E]:{}},s=function(e){return l(e,E)}}e.exports={set:n,get:i,has:s,enforce:function(e){return s(e)?i(e):n(e,{})},getterFor:function(e){return function(t){var r;if(!u(t)||(r=i(t)).type!==e)throw TypeError("Incompatible receiver, "+e+" required");return r}}}},"../node_modules/core-js/internals/is-array-iterator-method.js":function(e,t,r){var n=r("../node_modules/core-js/internals/well-known-symbol.js"),i=r("../node_modules/core-js/internals/iterators.js"),s=n("iterator"),a=Array.prototype;e.exports=function(e){return void 0!==e&&(i.Array===e||a[s]===e)}},"../node_modules/core-js/internals/is-array.js":function(e,t,r){var n=r("../node_modules/core-js/internals/classof-raw.js");e.exports=Array.isArray||function(e){return"Array"==n(e)}},"../node_modules/core-js/internals/is-forced.js":function(e,t,r){var n=r("../node_modules/core-js/internals/fails.js"),i=/#|\.prototype\./,s=function(e,t){var r=o[a(e)];return r==c||r!=u&&("function"==typeof t?n(t):!!t)},a=s.normalize=function(e){return String(e).replace(i,".").toLowerCase()},o=s.data={},u=s.NATIVE="N",c=s.POLYFILL="P";e.exports=s},"../node_modules/core-js/internals/is-ios.js":function(e,t,r){var n=r("../node_modules/core-js/internals/user-agent.js");e.exports=/(iphone|ipod|ipad).*applewebkit/i.test(n)},"../node_modules/core-js/internals/is-object.js":function(e,t){e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},"../node_modules/core-js/internals/is-pure.js":function(e,t){e.exports=!1},"../node_modules/core-js/internals/iterate.js":function(e,t,r){var n=r("../node_modules/core-js/internals/an-object.js"),i=r("../node_modules/core-js/internals/is-array-iterator-method.js"),s=r("../node_modules/core-js/internals/to-length.js"),a=r("../node_modules/core-js/internals/bind-context.js"),o=r("../node_modules/core-js/internals/get-iterator-method.js"),u=r("../node_modules/core-js/internals/call-with-safe-iteration-closing.js"),c=function(e,t){this.stopped=e,this.result=t};(e.exports=function(e,t,r,l,h){var d,f,m,v,p,_,E,S=a(t,r,l?2:1);if(h)d=e;else{if("function"!=typeof(f=o(e)))throw TypeError("Target is not iterable");if(i(f)){for(m=0,v=s(e.length);v>m;m++)if((p=l?S(n(E=e[m])[0],E[1]):S(e[m]))&&p instanceof c)return p;return new c(!1)}d=f.call(e)}for(_=d.next;!(E=_.call(d)).done;)if("object"==typeof(p=u(d,S,E.value,l))&&p&&p instanceof c)return p;return new c(!1)}).stop=function(e){return new c(!0,e)}},"../node_modules/core-js/internals/iterators-core.js":function(e,t,r){"use strict";var n,i,s,a=r("../node_modules/core-js/internals/object-get-prototype-of.js"),o=r("../node_modules/core-js/internals/create-non-enumerable-property.js"),u=r("../node_modules/core-js/internals/has.js"),c=r("../node_modules/core-js/internals/well-known-symbol.js"),l=r("../node_modules/core-js/internals/is-pure.js"),h=c("iterator"),d=!1;[].keys&&("next"in(s=[].keys())?(i=a(a(s)))!==Object.prototype&&(n=i):d=!0),null==n&&(n={}),l||u(n,h)||o(n,h,(function(){return this})),e.exports={IteratorPrototype:n,BUGGY_SAFARI_ITERATORS:d}},"../node_modules/core-js/internals/iterators.js":function(e,t){e.exports={}},"../node_modules/core-js/internals/microtask.js":function(e,t,r){var n,i,s,a,o,u,c,l,h=r("../node_modules/core-js/internals/global.js"),d=r("../node_modules/core-js/internals/object-get-own-property-descriptor.js").f,f=r("../node_modules/core-js/internals/classof-raw.js"),m=r("../node_modules/core-js/internals/task.js").set,v=r("../node_modules/core-js/internals/is-ios.js"),p=h.MutationObserver||h.WebKitMutationObserver,_=h.process,E=h.Promise,S="process"==f(_),T=d(h,"queueMicrotask"),g=T&&T.value;g||(n=function(){var e,t;for(S&&(e=_.domain)&&e.exit();i;){t=i.fn,i=i.next;try{t()}catch(e){throw i?a():s=void 0,e}}s=void 0,e&&e.enter()},S?a=function(){_.nextTick(n)}:p&&!v?(o=!0,u=document.createTextNode(""),new p(n).observe(u,{characterData:!0}),a=function(){u.data=o=!o}):E&&E.resolve?(c=E.resolve(void 0),l=c.then,a=function(){l.call(c,n)}):a=function(){m.call(h,n)}),e.exports=g||function(e){var t={fn:e,next:void 0};s&&(s.next=t),i||(i=t,a()),s=t}},"../node_modules/core-js/internals/native-promise-constructor.js":function(e,t,r){var n=r("../node_modules/core-js/internals/global.js");e.exports=n.Promise},"../node_modules/core-js/internals/native-symbol.js":function(e,t,r){var n=r("../node_modules/core-js/internals/fails.js");e.exports=!!Object.getOwnPropertySymbols&&!n((function(){return!String(Symbol())}))},"../node_modules/core-js/internals/native-url.js":function(e,t,r){var n=r("../node_modules/core-js/internals/fails.js"),i=r("../node_modules/core-js/internals/well-known-symbol.js"),s=r("../node_modules/core-js/internals/is-pure.js"),a=i("iterator");e.exports=!n((function(){var e=new URL("b?a=1&b=2&c=3","http://a"),t=e.searchParams,r="";return e.pathname="c%20d",t.forEach((function(e,n){t.delete("b"),r+=n+e})),s&&!e.toJSON||!t.sort||"http://a/c%20d?a=1&c=3"!==e.href||"3"!==t.get("c")||"a=1"!==String(new URLSearchParams("?a=1"))||!t[a]||"a"!==new URL("https://a@b").username||"b"!==new URLSearchParams(new URLSearchParams("a=b")).get("a")||"xn--e1aybc"!==new URL("http://тест").host||"#%D0%B1"!==new URL("http://a#б").hash||"a1c3"!==r||"x"!==new URL("http://x",void 0).host}))},"../node_modules/core-js/internals/native-weak-map.js":function(e,t,r){var n=r("../node_modules/core-js/internals/global.js"),i=r("../node_modules/core-js/internals/inspect-source.js"),s=n.WeakMap;e.exports="function"==typeof s&&/native code/.test(i(s))},"../node_modules/core-js/internals/new-promise-capability.js":function(e,t,r){"use strict";var n=r("../node_modules/core-js/internals/a-function.js"),i=function(e){var t,r;this.promise=new e((function(e,n){if(void 0!==t||void 0!==r)throw TypeError("Bad Promise constructor");t=e,r=n})),this.resolve=n(t),this.reject=n(r)};e.exports.f=function(e){return new i(e)}},"../node_modules/core-js/internals/object-assign.js":function(e,t,r){"use strict";var n=r("../node_modules/core-js/internals/descriptors.js"),i=r("../node_modules/core-js/internals/fails.js"),s=r("../node_modules/core-js/internals/object-keys.js"),a=r("../node_modules/core-js/internals/object-get-own-property-symbols.js"),o=r("../node_modules/core-js/internals/object-property-is-enumerable.js"),u=r("../node_modules/core-js/internals/to-object.js"),c=r("../node_modules/core-js/internals/indexed-object.js"),l=Object.assign,h=Object.defineProperty;e.exports=!l||i((function(){if(n&&1!==l({b:1},l(h({},"a",{enumerable:!0,get:function(){h(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var e={},t={},r=Symbol();return e[r]=7,"abcdefghijklmnopqrst".split("").forEach((function(e){t[e]=e})),7!=l({},e)[r]||"abcdefghijklmnopqrst"!=s(l({},t)).join("")}))?function(e,t){for(var r=u(e),i=arguments.length,l=1,h=a.f,d=o.f;i>l;)for(var f,m=c(arguments[l++]),v=h?s(m).concat(h(m)):s(m),p=v.length,_=0;p>_;)f=v[_++],n&&!d.call(m,f)||(r[f]=m[f]);return r}:l},"../node_modules/core-js/internals/object-create.js":function(e,t,r){var n=r("../node_modules/core-js/internals/an-object.js"),i=r("../node_modules/core-js/internals/object-define-properties.js"),s=r("../node_modules/core-js/internals/enum-bug-keys.js"),a=r("../node_modules/core-js/internals/hidden-keys.js"),o=r("../node_modules/core-js/internals/html.js"),u=r("../node_modules/core-js/internals/document-create-element.js"),c=r("../node_modules/core-js/internals/shared-key.js")("IE_PROTO"),l=function(){},h=function(){var e,t=u("iframe"),r=s.length;for(t.style.display="none",o.appendChild(t),t.src=String("javascript:"),(e=t.contentWindow.document).open(),e.write("<script>document.F=Object<\/script>"),e.close(),h=e.F;r--;)delete h.prototype[s[r]];return h()};e.exports=Object.create||function(e,t){var r;return null!==e?(l.prototype=n(e),r=new l,l.prototype=null,r[c]=e):r=h(),void 0===t?r:i(r,t)},a[c]=!0},"../node_modules/core-js/internals/object-define-properties.js":function(e,t,r){var n=r("../node_modules/core-js/internals/descriptors.js"),i=r("../node_modules/core-js/internals/object-define-property.js"),s=r("../node_modules/core-js/internals/an-object.js"),a=r("../node_modules/core-js/internals/object-keys.js");e.exports=n?Object.defineProperties:function(e,t){s(e);for(var r,n=a(t),o=n.length,u=0;o>u;)i.f(e,r=n[u++],t[r]);return e}},"../node_modules/core-js/internals/object-define-property.js":function(e,t,r){var n=r("../node_modules/core-js/internals/descriptors.js"),i=r("../node_modules/core-js/internals/ie8-dom-define.js"),s=r("../node_modules/core-js/internals/an-object.js"),a=r("../node_modules/core-js/internals/to-primitive.js"),o=Object.defineProperty;t.f=n?o:function(e,t,r){if(s(e),t=a(t,!0),s(r),i)try{return o(e,t,r)}catch(e){}if("get"in r||"set"in r)throw TypeError("Accessors not supported");return"value"in r&&(e[t]=r.value),e}},"../node_modules/core-js/internals/object-get-own-property-descriptor.js":function(e,t,r){var n=r("../node_modules/core-js/internals/descriptors.js"),i=r("../node_modules/core-js/internals/object-property-is-enumerable.js"),s=r("../node_modules/core-js/internals/create-property-descriptor.js"),a=r("../node_modules/core-js/internals/to-indexed-object.js"),o=r("../node_modules/core-js/internals/to-primitive.js"),u=r("../node_modules/core-js/internals/has.js"),c=r("../node_modules/core-js/internals/ie8-dom-define.js"),l=Object.getOwnPropertyDescriptor;t.f=n?l:function(e,t){if(e=a(e),t=o(t,!0),c)try{return l(e,t)}catch(e){}if(u(e,t))return s(!i.f.call(e,t),e[t])}},"../node_modules/core-js/internals/object-get-own-property-names.js":function(e,t,r){var n=r("../node_modules/core-js/internals/object-keys-internal.js"),i=r("../node_modules/core-js/internals/enum-bug-keys.js").concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return n(e,i)}},"../node_modules/core-js/internals/object-get-own-property-symbols.js":function(e,t){t.f=Object.getOwnPropertySymbols},"../node_modules/core-js/internals/object-get-prototype-of.js":function(e,t,r){var n=r("../node_modules/core-js/internals/has.js"),i=r("../node_modules/core-js/internals/to-object.js"),s=r("../node_modules/core-js/internals/shared-key.js"),a=r("../node_modules/core-js/internals/correct-prototype-getter.js"),o=s("IE_PROTO"),u=Object.prototype;e.exports=a?Object.getPrototypeOf:function(e){return e=i(e),n(e,o)?e[o]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?u:null}},"../node_modules/core-js/internals/object-keys-internal.js":function(e,t,r){var n=r("../node_modules/core-js/internals/has.js"),i=r("../node_modules/core-js/internals/to-indexed-object.js"),s=r("../node_modules/core-js/internals/array-includes.js").indexOf,a=r("../node_modules/core-js/internals/hidden-keys.js");e.exports=function(e,t){var r,o=i(e),u=0,c=[];for(r in o)!n(a,r)&&n(o,r)&&c.push(r);for(;t.length>u;)n(o,r=t[u++])&&(~s(c,r)||c.push(r));return c}},"../node_modules/core-js/internals/object-keys.js":function(e,t,r){var n=r("../node_modules/core-js/internals/object-keys-internal.js"),i=r("../node_modules/core-js/internals/enum-bug-keys.js");e.exports=Object.keys||function(e){return n(e,i)}},"../node_modules/core-js/internals/object-property-is-enumerable.js":function(e,t,r){"use strict";var n={}.propertyIsEnumerable,i=Object.getOwnPropertyDescriptor,s=i&&!n.call({1:2},1);t.f=s?function(e){var t=i(this,e);return!!t&&t.enumerable}:n},"../node_modules/core-js/internals/object-set-prototype-of.js":function(e,t,r){var n=r("../node_modules/core-js/internals/an-object.js"),i=r("../node_modules/core-js/internals/a-possible-prototype.js");e.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var e,t=!1,r={};try{(e=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set).call(r,[]),t=r instanceof Array}catch(e){}return function(r,s){return n(r),i(s),t?e.call(r,s):r.__proto__=s,r}}():void 0)},"../node_modules/core-js/internals/own-keys.js":function(e,t,r){var n=r("../node_modules/core-js/internals/get-built-in.js"),i=r("../node_modules/core-js/internals/object-get-own-property-names.js"),s=r("../node_modules/core-js/internals/object-get-own-property-symbols.js"),a=r("../node_modules/core-js/internals/an-object.js");e.exports=n("Reflect","ownKeys")||function(e){var t=i.f(a(e)),r=s.f;return r?t.concat(r(e)):t}},"../node_modules/core-js/internals/parse-float.js":function(e,t,r){var n=r("../node_modules/core-js/internals/global.js"),i=r("../node_modules/core-js/internals/string-trim.js").trim,s=r("../node_modules/core-js/internals/whitespaces.js"),a=n.parseFloat,o=1/a(s+"-0")!=-1/0;e.exports=o?function(e){var t=i(String(e)),r=a(t);return 0===r&&"-"==t.charAt(0)?-0:r}:a},"../node_modules/core-js/internals/path.js":function(e,t,r){var n=r("../node_modules/core-js/internals/global.js");e.exports=n},"../node_modules/core-js/internals/perform.js":function(e,t){e.exports=function(e){try{return{error:!1,value:e()}}catch(e){return{error:!0,value:e}}}},"../node_modules/core-js/internals/promise-resolve.js":function(e,t,r){var n=r("../node_modules/core-js/internals/an-object.js"),i=r("../node_modules/core-js/internals/is-object.js"),s=r("../node_modules/core-js/internals/new-promise-capability.js");e.exports=function(e,t){if(n(e),i(t)&&t.constructor===e)return t;var r=s.f(e);return(0,r.resolve)(t),r.promise}},"../node_modules/core-js/internals/punycode-to-ascii.js":function(e,t,r){"use strict";var n=/[^\0-\u007E]/,i=/[.\u3002\uFF0E\uFF61]/g,s="Overflow: input needs wider integers to process",a=Math.floor,o=String.fromCharCode,u=function(e){return e+22+75*(e<26)},c=function(e,t,r){var n=0;for(e=r?a(e/700):e>>1,e+=a(e/t);e>455;n+=36)e=a(e/35);return a(n+36*e/(e+38))},l=function(e){var t,r,n=[],i=(e=function(e){for(var t=[],r=0,n=e.length;r<n;){var i=e.charCodeAt(r++);if(i>=55296&&i<=56319&&r<n){var s=e.charCodeAt(r++);56320==(64512&s)?t.push(((1023&i)<<10)+(1023&s)+65536):(t.push(i),r--)}else t.push(i)}return t}(e)).length,l=128,h=0,d=72;for(t=0;t<e.length;t++)(r=e[t])<128&&n.push(o(r));var f=n.length,m=f;for(f&&n.push("-");m<i;){var v=2147483647;for(t=0;t<e.length;t++)(r=e[t])>=l&&r<v&&(v=r);var p=m+1;if(v-l>a((2147483647-h)/p))throw RangeError(s);for(h+=(v-l)*p,l=v,t=0;t<e.length;t++){if((r=e[t])<l&&++h>2147483647)throw RangeError(s);if(r==l){for(var _=h,E=36;;E+=36){var S=E<=d?1:E>=d+26?26:E-d;if(_<S)break;var T=_-S,g=36-S;n.push(o(u(S+T%g))),_=a(T/g)}n.push(o(u(_))),d=c(h,p,m==f),h=0,++m}}++h,++l}return n.join("")};e.exports=function(e){var t,r,s=[],a=e.toLowerCase().replace(i,".").split(".");for(t=0;t<a.length;t++)r=a[t],s.push(n.test(r)?"xn--"+l(r):r);return s.join(".")}},"../node_modules/core-js/internals/redefine-all.js":function(e,t,r){var n=r("../node_modules/core-js/internals/redefine.js");e.exports=function(e,t,r){for(var i in t)n(e,i,t[i],r);return e}},"../node_modules/core-js/internals/redefine.js":function(e,t,r){var n=r("../node_modules/core-js/internals/global.js"),i=r("../node_modules/core-js/internals/create-non-enumerable-property.js"),s=r("../node_modules/core-js/internals/has.js"),a=r("../node_modules/core-js/internals/set-global.js"),o=r("../node_modules/core-js/internals/inspect-source.js"),u=r("../node_modules/core-js/internals/internal-state.js"),c=u.get,l=u.enforce,h=String(String).split("String");(e.exports=function(e,t,r,o){var u=!!o&&!!o.unsafe,c=!!o&&!!o.enumerable,d=!!o&&!!o.noTargetGet;"function"==typeof r&&("string"!=typeof t||s(r,"name")||i(r,"name",t),l(r).source=h.join("string"==typeof t?t:"")),e!==n?(u?!d&&e[t]&&(c=!0):delete e[t],c?e[t]=r:i(e,t,r)):c?e[t]=r:a(t,r)})(Function.prototype,"toString",(function(){return"function"==typeof this&&c(this).source||o(this)}))},"../node_modules/core-js/internals/regexp-exec-abstract.js":function(e,t,r){var n=r("../node_modules/core-js/internals/classof-raw.js"),i=r("../node_modules/core-js/internals/regexp-exec.js");e.exports=function(e,t){var r=e.exec;if("function"==typeof r){var s=r.call(e,t);if("object"!=typeof s)throw TypeError("RegExp exec method returned something other than an Object or null");return s}if("RegExp"!==n(e))throw TypeError("RegExp#exec called on incompatible receiver");return i.call(e,t)}},"../node_modules/core-js/internals/regexp-exec.js":function(e,t,r){"use strict";var n,i,s=r("../node_modules/core-js/internals/regexp-flags.js"),a=RegExp.prototype.exec,o=String.prototype.replace,u=a,c=(n=/a/,i=/b*/g,a.call(n,"a"),a.call(i,"a"),0!==n.lastIndex||0!==i.lastIndex),l=void 0!==/()??/.exec("")[1];(c||l)&&(u=function(e){var t,r,n,i,u=this;return l&&(r=new RegExp("^"+u.source+"$(?!\\s)",s.call(u))),c&&(t=u.lastIndex),n=a.call(u,e),c&&n&&(u.lastIndex=u.global?n.index+n[0].length:t),l&&n&&n.length>1&&o.call(n[0],r,(function(){for(i=1;i<arguments.length-2;i++)void 0===arguments[i]&&(n[i]=void 0)})),n}),e.exports=u},"../node_modules/core-js/internals/regexp-flags.js":function(e,t,r){"use strict";var n=r("../node_modules/core-js/internals/an-object.js");e.exports=function(){var e=n(this),t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.dotAll&&(t+="s"),e.unicode&&(t+="u"),e.sticky&&(t+="y"),t}},"../node_modules/core-js/internals/require-object-coercible.js":function(e,t){e.exports=function(e){if(null==e)throw TypeError("Can't call method on "+e);return e}},"../node_modules/core-js/internals/set-global.js":function(e,t,r){var n=r("../node_modules/core-js/internals/global.js"),i=r("../node_modules/core-js/internals/create-non-enumerable-property.js");e.exports=function(e,t){try{i(n,e,t)}catch(r){n[e]=t}return t}},"../node_modules/core-js/internals/set-species.js":function(e,t,r){"use strict";var n=r("../node_modules/core-js/internals/get-built-in.js"),i=r("../node_modules/core-js/internals/object-define-property.js"),s=r("../node_modules/core-js/internals/well-known-symbol.js"),a=r("../node_modules/core-js/internals/descriptors.js"),o=s("species");e.exports=function(e){var t=n(e),r=i.f;a&&t&&!t[o]&&r(t,o,{configurable:!0,get:function(){return this}})}},"../node_modules/core-js/internals/set-to-string-tag.js":function(e,t,r){var n=r("../node_modules/core-js/internals/object-define-property.js").f,i=r("../node_modules/core-js/internals/has.js"),s=r("../node_modules/core-js/internals/well-known-symbol.js")("toStringTag");e.exports=function(e,t,r){e&&!i(e=r?e:e.prototype,s)&&n(e,s,{configurable:!0,value:t})}},"../node_modules/core-js/internals/shared-key.js":function(e,t,r){var n=r("../node_modules/core-js/internals/shared.js"),i=r("../node_modules/core-js/internals/uid.js"),s=n("keys");e.exports=function(e){return s[e]||(s[e]=i(e))}},"../node_modules/core-js/internals/shared-store.js":function(e,t,r){var n=r("../node_modules/core-js/internals/global.js"),i=r("../node_modules/core-js/internals/set-global.js"),s=n["__core-js_shared__"]||i("__core-js_shared__",{});e.exports=s},"../node_modules/core-js/internals/shared.js":function(e,t,r){var n=r("../node_modules/core-js/internals/is-pure.js"),i=r("../node_modules/core-js/internals/shared-store.js");(e.exports=function(e,t){return i[e]||(i[e]=void 0!==t?t:{})})("versions",[]).push({version:"3.4.7",mode:n?"pure":"global",copyright:"© 2019 Denis Pushkarev (zloirock.ru)"})},"../node_modules/core-js/internals/sloppy-array-method.js":function(e,t,r){"use strict";var n=r("../node_modules/core-js/internals/fails.js");e.exports=function(e,t){var r=[][e];return!r||!n((function(){r.call(null,t||function(){throw 1},1)}))}},"../node_modules/core-js/internals/species-constructor.js":function(e,t,r){var n=r("../node_modules/core-js/internals/an-object.js"),i=r("../node_modules/core-js/internals/a-function.js"),s=r("../node_modules/core-js/internals/well-known-symbol.js")("species");e.exports=function(e,t){var r,a=n(e).constructor;return void 0===a||null==(r=n(a)[s])?t:i(r)}},"../node_modules/core-js/internals/string-multibyte.js":function(e,t,r){var n=r("../node_modules/core-js/internals/to-integer.js"),i=r("../node_modules/core-js/internals/require-object-coercible.js"),s=function(e){return function(t,r){var s,a,o=String(i(t)),u=n(r),c=o.length;return u<0||u>=c?e?"":void 0:(s=o.charCodeAt(u))<55296||s>56319||u+1===c||(a=o.charCodeAt(u+1))<56320||a>57343?e?o.charAt(u):s:e?o.slice(u,u+2):a-56320+(s-55296<<10)+65536}};e.exports={codeAt:s(!1),charAt:s(!0)}},"../node_modules/core-js/internals/string-pad.js":function(e,t,r){var n=r("../node_modules/core-js/internals/to-length.js"),i=r("../node_modules/core-js/internals/string-repeat.js"),s=r("../node_modules/core-js/internals/require-object-coercible.js"),a=Math.ceil,o=function(e){return function(t,r,o){var u,c,l=String(s(t)),h=l.length,d=void 0===o?" ":String(o),f=n(r);return f<=h||""==d?l:(u=f-h,(c=i.call(d,a(u/d.length))).length>u&&(c=c.slice(0,u)),e?l+c:c+l)}};e.exports={start:o(!1),end:o(!0)}},"../node_modules/core-js/internals/string-repeat.js":function(e,t,r){"use strict";var n=r("../node_modules/core-js/internals/to-integer.js"),i=r("../node_modules/core-js/internals/require-object-coercible.js");e.exports="".repeat||function(e){var t=String(i(this)),r="",s=n(e);if(s<0||s==1/0)throw RangeError("Wrong number of repetitions");for(;s>0;(s>>>=1)&&(t+=t))1&s&&(r+=t);return r}},"../node_modules/core-js/internals/string-trim.js":function(e,t,r){var n=r("../node_modules/core-js/internals/require-object-coercible.js"),i="["+r("../node_modules/core-js/internals/whitespaces.js")+"]",s=RegExp("^"+i+i+"*"),a=RegExp(i+i+"*$"),o=function(e){return function(t){var r=String(n(t));return 1&e&&(r=r.replace(s,"")),2&e&&(r=r.replace(a,"")),r}};e.exports={start:o(1),end:o(2),trim:o(3)}},"../node_modules/core-js/internals/task.js":function(e,t,r){var n,i,s,a=r("../node_modules/core-js/internals/global.js"),o=r("../node_modules/core-js/internals/fails.js"),u=r("../node_modules/core-js/internals/classof-raw.js"),c=r("../node_modules/core-js/internals/bind-context.js"),l=r("../node_modules/core-js/internals/html.js"),h=r("../node_modules/core-js/internals/document-create-element.js"),d=r("../node_modules/core-js/internals/is-ios.js"),f=a.location,m=a.setImmediate,v=a.clearImmediate,p=a.process,_=a.MessageChannel,E=a.Dispatch,S=0,T={},g=function(e){if(T.hasOwnProperty(e)){var t=T[e];delete T[e],t()}},R=function(e){return function(){g(e)}},b=function(e){g(e.data)},y=function(e){a.postMessage(e+"",f.protocol+"//"+f.host)};m&&v||(m=function(e){for(var t=[],r=1;arguments.length>r;)t.push(arguments[r++]);return T[++S]=function(){("function"==typeof e?e:Function(e)).apply(void 0,t)},n(S),S},v=function(e){delete T[e]},"process"==u(p)?n=function(e){p.nextTick(R(e))}:E&&E.now?n=function(e){E.now(R(e))}:_&&!d?(s=(i=new _).port2,i.port1.onmessage=b,n=c(s.postMessage,s,1)):!a.addEventListener||"function"!=typeof postMessage||a.importScripts||o(y)?n="onreadystatechange"in h("script")?function(e){l.appendChild(h("script")).onreadystatechange=function(){l.removeChild(this),g(e)}}:function(e){setTimeout(R(e),0)}:(n=y,a.addEventListener("message",b,!1))),e.exports={set:m,clear:v}},"../node_modules/core-js/internals/to-absolute-index.js":function(e,t,r){var n=r("../node_modules/core-js/internals/to-integer.js"),i=Math.max,s=Math.min;e.exports=function(e,t){var r=n(e);return r<0?i(r+t,0):s(r,t)}},"../node_modules/core-js/internals/to-index.js":function(e,t,r){var n=r("../node_modules/core-js/internals/to-integer.js"),i=r("../node_modules/core-js/internals/to-length.js");e.exports=function(e){if(void 0===e)return 0;var t=n(e),r=i(t);if(t!==r)throw RangeError("Wrong length or index");return r}},"../node_modules/core-js/internals/to-indexed-object.js":function(e,t,r){var n=r("../node_modules/core-js/internals/indexed-object.js"),i=r("../node_modules/core-js/internals/require-object-coercible.js");e.exports=function(e){return n(i(e))}},"../node_modules/core-js/internals/to-integer.js":function(e,t){var r=Math.ceil,n=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?n:r)(e)}},"../node_modules/core-js/internals/to-length.js":function(e,t,r){var n=r("../node_modules/core-js/internals/to-integer.js"),i=Math.min;e.exports=function(e){return e>0?i(n(e),9007199254740991):0}},"../node_modules/core-js/internals/to-object.js":function(e,t,r){var n=r("../node_modules/core-js/internals/require-object-coercible.js");e.exports=function(e){return Object(n(e))}},"../node_modules/core-js/internals/to-offset.js":function(e,t,r){var n=r("../node_modules/core-js/internals/to-positive-integer.js");e.exports=function(e,t){var r=n(e);if(r%t)throw RangeError("Wrong offset");return r}},"../node_modules/core-js/internals/to-positive-integer.js":function(e,t,r){var n=r("../node_modules/core-js/internals/to-integer.js");e.exports=function(e){var t=n(e);if(t<0)throw RangeError("The argument can't be less than 0");return t}},"../node_modules/core-js/internals/to-primitive.js":function(e,t,r){var n=r("../node_modules/core-js/internals/is-object.js");e.exports=function(e,t){if(!n(e))return e;var r,i;if(t&&"function"==typeof(r=e.toString)&&!n(i=r.call(e)))return i;if("function"==typeof(r=e.valueOf)&&!n(i=r.call(e)))return i;if(!t&&"function"==typeof(r=e.toString)&&!n(i=r.call(e)))return i;throw TypeError("Can't convert object to primitive value")}},"../node_modules/core-js/internals/to-string-tag-support.js":function(e,t,r){var n={};n[r("../node_modules/core-js/internals/well-known-symbol.js")("toStringTag")]="z",e.exports="[object z]"===String(n)},"../node_modules/core-js/internals/typed-array-constructor.js":function(e,t,r){"use strict";var n=r("../node_modules/core-js/internals/export.js"),i=r("../node_modules/core-js/internals/global.js"),s=r("../node_modules/core-js/internals/descriptors.js"),a=r("../node_modules/core-js/internals/typed-arrays-constructors-requires-wrappers.js"),o=r("../node_modules/core-js/internals/array-buffer-view-core.js"),u=r("../node_modules/core-js/internals/array-buffer.js"),c=r("../node_modules/core-js/internals/an-instance.js"),l=r("../node_modules/core-js/internals/create-property-descriptor.js"),h=r("../node_modules/core-js/internals/create-non-enumerable-property.js"),d=r("../node_modules/core-js/internals/to-length.js"),f=r("../node_modules/core-js/internals/to-index.js"),m=r("../node_modules/core-js/internals/to-offset.js"),v=r("../node_modules/core-js/internals/to-primitive.js"),p=r("../node_modules/core-js/internals/has.js"),_=r("../node_modules/core-js/internals/classof.js"),E=r("../node_modules/core-js/internals/is-object.js"),S=r("../node_modules/core-js/internals/object-create.js"),T=r("../node_modules/core-js/internals/object-set-prototype-of.js"),g=r("../node_modules/core-js/internals/object-get-own-property-names.js").f,R=r("../node_modules/core-js/internals/typed-array-from.js"),b=r("../node_modules/core-js/internals/array-iteration.js").forEach,y=r("../node_modules/core-js/internals/set-species.js"),A=r("../node_modules/core-js/internals/object-define-property.js"),j=r("../node_modules/core-js/internals/object-get-own-property-descriptor.js"),w=r("../node_modules/core-js/internals/internal-state.js"),O=r("../node_modules/core-js/internals/inherit-if-required.js"),C=w.get,L=w.set,D=A.f,P=j.f,x=Math.round,I=i.RangeError,M=u.ArrayBuffer,F=u.DataView,G=o.NATIVE_ARRAY_BUFFER_VIEWS,N=o.TYPED_ARRAY_TAG,B=o.TypedArray,U=o.TypedArrayPrototype,V=o.aTypedArrayConstructor,k=o.isTypedArray,H=function(e,t){for(var r=0,n=t.length,i=new(V(e))(n);n>r;)i[r]=t[r++];return i},q=function(e,t){D(e,t,{get:function(){return C(this)[t]}})},z=function(e){var t;return e instanceof M||"ArrayBuffer"==(t=_(e))||"SharedArrayBuffer"==t},W=function(e,t){return k(e)&&"symbol"!=typeof t&&t in e&&String(+t)==String(t)},Y=function(e,t){return W(e,t=v(t,!0))?l(2,e[t]):P(e,t)},X=function(e,t,r){return!(W(e,t=v(t,!0))&&E(r)&&p(r,"value"))||p(r,"get")||p(r,"set")||r.configurable||p(r,"writable")&&!r.writable||p(r,"enumerable")&&!r.enumerable?D(e,t,r):(e[t]=r.value,e)};s?(G||(j.f=Y,A.f=X,q(U,"buffer"),q(U,"byteOffset"),q(U,"byteLength"),q(U,"length")),n({target:"Object",stat:!0,forced:!G},{getOwnPropertyDescriptor:Y,defineProperty:X}),e.exports=function(e,t,r){var s=e.match(/\d+$/)[0]/8,o=e+(r?"Clamped":"")+"Array",u="get"+e,l="set"+e,v=i[o],p=v,_=p&&p.prototype,A={},j=function(e,t){D(e,t,{get:function(){return function(e,t){var r=C(e);return r.view[u](t*s+r.byteOffset,!0)}(this,t)},set:function(e){return function(e,t,n){var i=C(e);r&&(n=(n=x(n))<0?0:n>255?255:255&n),i.view[l](t*s+i.byteOffset,n,!0)}(this,t,e)},enumerable:!0})};G?a&&(p=t((function(e,t,r,n){return c(e,p,o),O(E(t)?z(t)?void 0!==n?new v(t,m(r,s),n):void 0!==r?new v(t,m(r,s)):new v(t):k(t)?H(p,t):R.call(p,t):new v(f(t)),e,p)})),T&&T(p,B),b(g(v),(function(e){e in p||h(p,e,v[e])})),p.prototype=_):(p=t((function(e,t,r,n){c(e,p,o);var i,a,u,l=0,h=0;if(E(t)){if(!z(t))return k(t)?H(p,t):R.call(p,t);i=t,h=m(r,s);var v=t.byteLength;if(void 0===n){if(v%s)throw I("Wrong length");if((a=v-h)<0)throw I("Wrong length")}else if((a=d(n)*s)+h>v)throw I("Wrong length");u=a/s}else u=f(t),i=new M(a=u*s);for(L(e,{buffer:i,byteOffset:h,byteLength:a,length:u,view:new F(i)});l<u;)j(e,l++)})),T&&T(p,B),_=p.prototype=S(U)),_.constructor!==p&&h(_,"constructor",p),N&&h(_,N,o),A[o]=p,n({global:!0,forced:p!=v,sham:!G},A),"BYTES_PER_ELEMENT"in p||h(p,"BYTES_PER_ELEMENT",s),"BYTES_PER_ELEMENT"in _||h(_,"BYTES_PER_ELEMENT",s),y(o)}):e.exports=function(){}},"../node_modules/core-js/internals/typed-array-from.js":function(e,t,r){var n=r("../node_modules/core-js/internals/to-object.js"),i=r("../node_modules/core-js/internals/to-length.js"),s=r("../node_modules/core-js/internals/get-iterator-method.js"),a=r("../node_modules/core-js/internals/is-array-iterator-method.js"),o=r("../node_modules/core-js/internals/bind-context.js"),u=r("../node_modules/core-js/internals/array-buffer-view-core.js").aTypedArrayConstructor;e.exports=function(e){var t,r,c,l,h,d,f=n(e),m=arguments.length,v=m>1?arguments[1]:void 0,p=void 0!==v,_=s(f);if(null!=_&&!a(_))for(d=(h=_.call(f)).next,f=[];!(l=d.call(h)).done;)f.push(l.value);for(p&&m>2&&(v=o(v,arguments[2],2)),r=i(f.length),c=new(u(this))(r),t=0;r>t;t++)c[t]=p?v(f[t],t):f[t];return c}},"../node_modules/core-js/internals/typed-arrays-constructors-requires-wrappers.js":function(e,t,r){var n=r("../node_modules/core-js/internals/global.js"),i=r("../node_modules/core-js/internals/fails.js"),s=r("../node_modules/core-js/internals/check-correctness-of-iteration.js"),a=r("../node_modules/core-js/internals/array-buffer-view-core.js").NATIVE_ARRAY_BUFFER_VIEWS,o=n.ArrayBuffer,u=n.Int8Array;e.exports=!a||!i((function(){u(1)}))||!i((function(){new u(-1)}))||!s((function(e){new u,new u(null),new u(1.5),new u(e)}),!0)||i((function(){return 1!==new u(new o(2),1,void 0).length}))},"../node_modules/core-js/internals/uid.js":function(e,t){var r=0,n=Math.random();e.exports=function(e){return"Symbol("+String(void 0===e?"":e)+")_"+(++r+n).toString(36)}},"../node_modules/core-js/internals/use-symbol-as-uid.js":function(e,t,r){var n=r("../node_modules/core-js/internals/native-symbol.js");e.exports=n&&!Symbol.sham&&"symbol"==typeof Symbol()},"../node_modules/core-js/internals/user-agent.js":function(e,t,r){var n=r("../node_modules/core-js/internals/get-built-in.js");e.exports=n("navigator","userAgent")||""},"../node_modules/core-js/internals/v8-version.js":function(e,t,r){var n,i,s=r("../node_modules/core-js/internals/global.js"),a=r("../node_modules/core-js/internals/user-agent.js"),o=s.process,u=o&&o.versions,c=u&&u.v8;c?i=(n=c.split("."))[0]+n[1]:a&&(!(n=a.match(/Edge\/(\d+)/))||n[1]>=74)&&(n=a.match(/Chrome\/(\d+)/))&&(i=n[1]),e.exports=i&&+i},"../node_modules/core-js/internals/webkit-string-pad-bug.js":function(e,t,r){var n=r("../node_modules/core-js/internals/user-agent.js");e.exports=/Version\/10\.\d+(\.\d+)?( Mobile\/\w+)? Safari\//.test(n)},"../node_modules/core-js/internals/well-known-symbol.js":function(e,t,r){var n=r("../node_modules/core-js/internals/global.js"),i=r("../node_modules/core-js/internals/shared.js"),s=r("../node_modules/core-js/internals/has.js"),a=r("../node_modules/core-js/internals/uid.js"),o=r("../node_modules/core-js/internals/native-symbol.js"),u=r("../node_modules/core-js/internals/use-symbol-as-uid.js"),c=i("wks"),l=n.Symbol,h=u?l:a;e.exports=function(e){return s(c,e)||(o&&s(l,e)?c[e]=l[e]:c[e]=h("Symbol."+e)),c[e]}},"../node_modules/core-js/internals/whitespaces.js":function(e,t){e.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},"../node_modules/core-js/internals/wrapped-well-known-symbol.js":function(e,t,r){var n=r("../node_modules/core-js/internals/well-known-symbol.js");t.f=n},"../node_modules/core-js/modules/es.array-buffer.constructor.js":function(e,t,r){"use strict";var n=r("../node_modules/core-js/internals/export.js"),i=r("../node_modules/core-js/internals/global.js"),s=r("../node_modules/core-js/internals/array-buffer.js"),a=r("../node_modules/core-js/internals/set-species.js"),o=s.ArrayBuffer;n({global:!0,forced:i.ArrayBuffer!==o},{ArrayBuffer:o}),a("ArrayBuffer")},"../node_modules/core-js/modules/es.array-buffer.slice.js":function(e,t,r){"use strict";var n=r("../node_modules/core-js/internals/export.js"),i=r("../node_modules/core-js/internals/fails.js"),s=r("../node_modules/core-js/internals/array-buffer.js"),a=r("../node_modules/core-js/internals/an-object.js"),o=r("../node_modules/core-js/internals/to-absolute-index.js"),u=r("../node_modules/core-js/internals/to-length.js"),c=r("../node_modules/core-js/internals/species-constructor.js"),l=s.ArrayBuffer,h=s.DataView,d=l.prototype.slice;n({target:"ArrayBuffer",proto:!0,unsafe:!0,forced:i((function(){return!new l(2).slice(1,void 0).byteLength}))},{slice:function(e,t){if(void 0!==d&&void 0===t)return d.call(a(this),e);for(var r=a(this).byteLength,n=o(e,r),i=o(void 0===t?r:t,r),s=new(c(this,l))(u(i-n)),f=new h(this),m=new h(s),v=0;n<i;)m.setUint8(v++,f.getUint8(n++));return s}})},"../node_modules/core-js/modules/es.array.flat-map.js":function(e,t,r){"use strict";var n=r("../node_modules/core-js/internals/export.js"),i=r("../node_modules/core-js/internals/flatten-into-array.js"),s=r("../node_modules/core-js/internals/to-object.js"),a=r("../node_modules/core-js/internals/to-length.js"),o=r("../node_modules/core-js/internals/a-function.js"),u=r("../node_modules/core-js/internals/array-species-create.js");n({target:"Array",proto:!0},{flatMap:function(e){var t,r=s(this),n=a(r.length);return o(e),(t=u(r,0)).length=i(t,r,r,n,0,1,e,arguments.length>1?arguments[1]:void 0),t}})},"../node_modules/core-js/modules/es.array.flat.js":function(e,t,r){"use strict";var n=r("../node_modules/core-js/internals/export.js"),i=r("../node_modules/core-js/internals/flatten-into-array.js"),s=r("../node_modules/core-js/internals/to-object.js"),a=r("../node_modules/core-js/internals/to-length.js"),o=r("../node_modules/core-js/internals/to-integer.js"),u=r("../node_modules/core-js/internals/array-species-create.js");n({target:"Array",proto:!0},{flat:function(){var e=arguments.length?arguments[0]:void 0,t=s(this),r=a(t.length),n=u(t,0);return n.length=i(n,t,t,r,0,void 0===e?1:o(e)),n}})},"../node_modules/core-js/modules/es.array.iterator.js":function(e,t,r){"use strict";var n=r("../node_modules/core-js/internals/to-indexed-object.js"),i=r("../node_modules/core-js/internals/add-to-unscopables.js"),s=r("../node_modules/core-js/internals/iterators.js"),a=r("../node_modules/core-js/internals/internal-state.js"),o=r("../node_modules/core-js/internals/define-iterator.js"),u=a.set,c=a.getterFor("Array Iterator");e.exports=o(Array,"Array",(function(e,t){u(this,{type:"Array Iterator",target:n(e),index:0,kind:t})}),(function(){var e=c(this),t=e.target,r=e.kind,n=e.index++;return!t||n>=t.length?(e.target=void 0,{value:void 0,done:!0}):"keys"==r?{value:n,done:!1}:"values"==r?{value:t[n],done:!1}:{value:[n,t[n]],done:!1}}),"values"),s.Arguments=s.Array,i("keys"),i("values"),i("entries")},"../node_modules/core-js/modules/es.array.reverse.js":function(e,t,r){"use strict";var n=r("../node_modules/core-js/internals/export.js"),i=r("../node_modules/core-js/internals/is-array.js"),s=[].reverse,a=[1,2];n({target:"Array",proto:!0,forced:String(a)===String(a.reverse())},{reverse:function(){return i(this)&&(this.length=this.length),s.call(this)}})},"../node_modules/core-js/modules/es.array.sort.js":function(e,t,r){"use strict";var n=r("../node_modules/core-js/internals/export.js"),i=r("../node_modules/core-js/internals/a-function.js"),s=r("../node_modules/core-js/internals/to-object.js"),a=r("../node_modules/core-js/internals/fails.js"),o=r("../node_modules/core-js/internals/sloppy-array-method.js"),u=[],c=u.sort,l=a((function(){u.sort(void 0)})),h=a((function(){u.sort(null)})),d=o("sort");n({target:"Array",proto:!0,forced:l||!h||d},{sort:function(e){return void 0===e?c.call(s(this)):c.call(s(this),i(e))}})},"../node_modules/core-js/modules/es.array.unscopables.flat-map.js":function(e,t,r){r("../node_modules/core-js/internals/add-to-unscopables.js")("flatMap")},"../node_modules/core-js/modules/es.array.unscopables.flat.js":function(e,t,r){r("../node_modules/core-js/internals/add-to-unscopables.js")("flat")},"../node_modules/core-js/modules/es.math.hypot.js":function(e,t,r){var n=r("../node_modules/core-js/internals/export.js"),i=Math.hypot,s=Math.abs,a=Math.sqrt;n({target:"Math",stat:!0,forced:!!i&&i(1/0,NaN)!==1/0},{hypot:function(e,t){for(var r,n,i=0,o=0,u=arguments.length,c=0;o<u;)c<(r=s(arguments[o++]))?(i=i*(n=c/r)*n+1,c=r):i+=r>0?(n=r/c)*n:r;return c===1/0?1/0:c*a(i)}})},"../node_modules/core-js/modules/es.number.parse-float.js":function(e,t,r){var n=r("../node_modules/core-js/internals/export.js"),i=r("../node_modules/core-js/internals/parse-float.js");n({target:"Number",stat:!0,forced:Number.parseFloat!=i},{parseFloat:i})},"../node_modules/core-js/modules/es.object.define-getter.js":function(e,t,r){"use strict";var n=r("../node_modules/core-js/internals/export.js"),i=r("../node_modules/core-js/internals/descriptors.js"),s=r("../node_modules/core-js/internals/forced-object-prototype-accessors-methods.js"),a=r("../node_modules/core-js/internals/to-object.js"),o=r("../node_modules/core-js/internals/a-function.js"),u=r("../node_modules/core-js/internals/object-define-property.js");i&&n({target:"Object",proto:!0,forced:s},{__defineGetter__:function(e,t){u.f(a(this),e,{get:o(t),enumerable:!0,configurable:!0})}})},"../node_modules/core-js/modules/es.object.define-setter.js":function(e,t,r){"use strict";var n=r("../node_modules/core-js/internals/export.js"),i=r("../node_modules/core-js/internals/descriptors.js"),s=r("../node_modules/core-js/internals/forced-object-prototype-accessors-methods.js"),a=r("../node_modules/core-js/internals/to-object.js"),o=r("../node_modules/core-js/internals/a-function.js"),u=r("../node_modules/core-js/internals/object-define-property.js");i&&n({target:"Object",proto:!0,forced:s},{__defineSetter__:function(e,t){u.f(a(this),e,{set:o(t),enumerable:!0,configurable:!0})}})},"../node_modules/core-js/modules/es.object.from-entries.js":function(e,t,r){var n=r("../node_modules/core-js/internals/export.js"),i=r("../node_modules/core-js/internals/iterate.js"),s=r("../node_modules/core-js/internals/create-property.js");n({target:"Object",stat:!0},{fromEntries:function(e){var t={};return i(e,(function(e,r){s(t,e,r)}),void 0,!0),t}})},"../node_modules/core-js/modules/es.object.lookup-getter.js":function(e,t,r){"use strict";var n=r("../node_modules/core-js/internals/export.js"),i=r("../node_modules/core-js/internals/descriptors.js"),s=r("../node_modules/core-js/internals/forced-object-prototype-accessors-methods.js"),a=r("../node_modules/core-js/internals/to-object.js"),o=r("../node_modules/core-js/internals/to-primitive.js"),u=r("../node_modules/core-js/internals/object-get-prototype-of.js"),c=r("../node_modules/core-js/internals/object-get-own-property-descriptor.js").f;i&&n({target:"Object",proto:!0,forced:s},{__lookupGetter__:function(e){var t,r=a(this),n=o(e,!0);do{if(t=c(r,n))return t.get}while(r=u(r))}})},"../node_modules/core-js/modules/es.object.lookup-setter.js":function(e,t,r){"use strict";var n=r("../node_modules/core-js/internals/export.js"),i=r("../node_modules/core-js/internals/descriptors.js"),s=r("../node_modules/core-js/internals/forced-object-prototype-accessors-methods.js"),a=r("../node_modules/core-js/internals/to-object.js"),o=r("../node_modules/core-js/internals/to-primitive.js"),u=r("../node_modules/core-js/internals/object-get-prototype-of.js"),c=r("../node_modules/core-js/internals/object-get-own-property-descriptor.js").f;i&&n({target:"Object",proto:!0,forced:s},{__lookupSetter__:function(e){var t,r=a(this),n=o(e,!0);do{if(t=c(r,n))return t.set}while(r=u(r))}})},"../node_modules/core-js/modules/es.promise.finally.js":function(e,t,r){"use strict";var n=r("../node_modules/core-js/internals/export.js"),i=r("../node_modules/core-js/internals/is-pure.js"),s=r("../node_modules/core-js/internals/native-promise-constructor.js"),a=r("../node_modules/core-js/internals/fails.js"),o=r("../node_modules/core-js/internals/get-built-in.js"),u=r("../node_modules/core-js/internals/species-constructor.js"),c=r("../node_modules/core-js/internals/promise-resolve.js"),l=r("../node_modules/core-js/internals/redefine.js");n({target:"Promise",proto:!0,real:!0,forced:!!s&&a((function(){s.prototype.finally.call({then:function(){}},(function(){}))}))},{finally:function(e){var t=u(this,o("Promise")),r="function"==typeof e;return this.then(r?function(r){return c(t,e()).then((function(){return r}))}:e,r?function(r){return c(t,e()).then((function(){throw r}))}:e)}}),i||"function"!=typeof s||s.prototype.finally||l(s.prototype,"finally",o("Promise").prototype.finally)},"../node_modules/core-js/modules/es.promise.js":function(e,t,r){"use strict";var n,i,s,a,o=r("../node_modules/core-js/internals/export.js"),u=r("../node_modules/core-js/internals/is-pure.js"),c=r("../node_modules/core-js/internals/global.js"),l=r("../node_modules/core-js/internals/get-built-in.js"),h=r("../node_modules/core-js/internals/native-promise-constructor.js"),d=r("../node_modules/core-js/internals/redefine.js"),f=r("../node_modules/core-js/internals/redefine-all.js"),m=r("../node_modules/core-js/internals/set-to-string-tag.js"),v=r("../node_modules/core-js/internals/set-species.js"),p=r("../node_modules/core-js/internals/is-object.js"),_=r("../node_modules/core-js/internals/a-function.js"),E=r("../node_modules/core-js/internals/an-instance.js"),S=r("../node_modules/core-js/internals/classof-raw.js"),T=r("../node_modules/core-js/internals/inspect-source.js"),g=r("../node_modules/core-js/internals/iterate.js"),R=r("../node_modules/core-js/internals/check-correctness-of-iteration.js"),b=r("../node_modules/core-js/internals/species-constructor.js"),y=r("../node_modules/core-js/internals/task.js").set,A=r("../node_modules/core-js/internals/microtask.js"),j=r("../node_modules/core-js/internals/promise-resolve.js"),w=r("../node_modules/core-js/internals/host-report-errors.js"),O=r("../node_modules/core-js/internals/new-promise-capability.js"),C=r("../node_modules/core-js/internals/perform.js"),L=r("../node_modules/core-js/internals/internal-state.js"),D=r("../node_modules/core-js/internals/is-forced.js"),P=r("../node_modules/core-js/internals/well-known-symbol.js"),x=r("../node_modules/core-js/internals/v8-version.js"),I=P("species"),M="Promise",F=L.get,G=L.set,N=L.getterFor(M),B=h,U=c.TypeError,V=c.document,k=c.process,H=l("fetch"),q=O.f,z=q,W="process"==S(k),Y=!!(V&&V.createEvent&&c.dispatchEvent),X=D(M,(function(){if(!(T(B)!==String(B))){if(66===x)return!0;if(!W&&"function"!=typeof PromiseRejectionEvent)return!0}if(u&&!B.prototype.finally)return!0;if(x>=51&&/native code/.test(B))return!1;var e=B.resolve(1),t=function(e){e((function(){}),(function(){}))};return(e.constructor={})[I]=t,!(e.then((function(){}))instanceof t)})),K=X||!R((function(e){B.all(e).catch((function(){}))})),Q=function(e){var t;return!(!p(e)||"function"!=typeof(t=e.then))&&t},Z=function(e,t,r){if(!t.notified){t.notified=!0;var n=t.reactions;A((function(){for(var i=t.value,s=1==t.state,a=0;n.length>a;){var o,u,c,l=n[a++],h=s?l.ok:l.fail,d=l.resolve,f=l.reject,m=l.domain;try{h?(s||(2===t.rejection&&te(e,t),t.rejection=1),!0===h?o=i:(m&&m.enter(),o=h(i),m&&(m.exit(),c=!0)),o===l.promise?f(U("Promise-chain cycle")):(u=Q(o))?u.call(o,d,f):d(o)):f(i)}catch(e){m&&!c&&m.exit(),f(e)}}t.reactions=[],t.notified=!1,r&&!t.rejection&&J(e,t)}))}},$=function(e,t,r){var n,i;Y?((n=V.createEvent("Event")).promise=t,n.reason=r,n.initEvent(e,!1,!0),c.dispatchEvent(n)):n={promise:t,reason:r},(i=c["on"+e])?i(n):"unhandledrejection"===e&&w("Unhandled promise rejection",r)},J=function(e,t){y.call(c,(function(){var r,n=t.value;if(ee(t)&&(r=C((function(){W?k.emit("unhandledRejection",n,e):$("unhandledrejection",e,n)})),t.rejection=W||ee(t)?2:1,r.error))throw r.value}))},ee=function(e){return 1!==e.rejection&&!e.parent},te=function(e,t){y.call(c,(function(){W?k.emit("rejectionHandled",e):$("rejectionhandled",e,t.value)}))},re=function(e,t,r,n){return function(i){e(t,r,i,n)}},ne=function(e,t,r,n){t.done||(t.done=!0,n&&(t=n),t.value=r,t.state=2,Z(e,t,!0))},ie=function(e,t,r,n){if(!t.done){t.done=!0,n&&(t=n);try{if(e===r)throw U("Promise can't be resolved itself");var i=Q(r);i?A((function(){var n={done:!1};try{i.call(r,re(ie,e,n,t),re(ne,e,n,t))}catch(r){ne(e,n,r,t)}})):(t.value=r,t.state=1,Z(e,t,!1))}catch(r){ne(e,{done:!1},r,t)}}};X&&(B=function(e){E(this,B,M),_(e),n.call(this);var t=F(this);try{e(re(ie,this,t),re(ne,this,t))}catch(e){ne(this,t,e)}},(n=function(e){G(this,{type:M,done:!1,notified:!1,parent:!1,reactions:[],rejection:!1,state:0,value:void 0})}).prototype=f(B.prototype,{then:function(e,t){var r=N(this),n=q(b(this,B));return n.ok="function"!=typeof e||e,n.fail="function"==typeof t&&t,n.domain=W?k.domain:void 0,r.parent=!0,r.reactions.push(n),0!=r.state&&Z(this,r,!1),n.promise},catch:function(e){return this.then(void 0,e)}}),i=function(){var e=new n,t=F(e);this.promise=e,this.resolve=re(ie,e,t),this.reject=re(ne,e,t)},O.f=q=function(e){return e===B||e===s?new i(e):z(e)},u||"function"!=typeof h||(a=h.prototype.then,d(h.prototype,"then",(function(e,t){var r=this;return new B((function(e,t){a.call(r,e,t)})).then(e,t)}),{unsafe:!0}),"function"==typeof H&&o({global:!0,enumerable:!0,forced:!0},{fetch:function(e){return j(B,H.apply(c,arguments))}}))),o({global:!0,wrap:!0,forced:X},{Promise:B}),m(B,M,!1,!0),v(M),s=l(M),o({target:M,stat:!0,forced:X},{reject:function(e){var t=q(this);return t.reject.call(void 0,e),t.promise}}),o({target:M,stat:!0,forced:u||X},{resolve:function(e){return j(u&&this===s?B:this,e)}}),o({target:M,stat:!0,forced:K},{all:function(e){var t=this,r=q(t),n=r.resolve,i=r.reject,s=C((function(){var r=_(t.resolve),s=[],a=0,o=1;g(e,(function(e){var u=a++,c=!1;s.push(void 0),o++,r.call(t,e).then((function(e){c||(c=!0,s[u]=e,--o||n(s))}),i)})),--o||n(s)}));return s.error&&i(s.value),r.promise},race:function(e){var t=this,r=q(t),n=r.reject,i=C((function(){var i=_(t.resolve);g(e,(function(e){i.call(t,e).then(r.resolve,n)}))}));return i.error&&n(i.value),r.promise}})},"../node_modules/core-js/modules/es.string.iterator.js":function(e,t,r){"use strict";var n=r("../node_modules/core-js/internals/string-multibyte.js").charAt,i=r("../node_modules/core-js/internals/internal-state.js"),s=r("../node_modules/core-js/internals/define-iterator.js"),a=i.set,o=i.getterFor("String Iterator");s(String,"String",(function(e){a(this,{type:"String Iterator",string:String(e),index:0})}),(function(){var e,t=o(this),r=t.string,i=t.index;return i>=r.length?{value:void 0,done:!0}:(e=n(r,i),t.index+=e.length,{value:e,done:!1})}))},"../node_modules/core-js/modules/es.string.pad-end.js":function(e,t,r){"use strict";var n=r("../node_modules/core-js/internals/export.js"),i=r("../node_modules/core-js/internals/string-pad.js").end;n({target:"String",proto:!0,forced:r("../node_modules/core-js/internals/webkit-string-pad-bug.js")},{padEnd:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}})},"../node_modules/core-js/modules/es.string.pad-start.js":function(e,t,r){"use strict";var n=r("../node_modules/core-js/internals/export.js"),i=r("../node_modules/core-js/internals/string-pad.js").start;n({target:"String",proto:!0,forced:r("../node_modules/core-js/internals/webkit-string-pad-bug.js")},{padStart:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}})},"../node_modules/core-js/modules/es.string.replace.js":function(e,t,r){"use strict";var n=r("../node_modules/core-js/internals/fix-regexp-well-known-symbol-logic.js"),i=r("../node_modules/core-js/internals/an-object.js"),s=r("../node_modules/core-js/internals/to-object.js"),a=r("../node_modules/core-js/internals/to-length.js"),o=r("../node_modules/core-js/internals/to-integer.js"),u=r("../node_modules/core-js/internals/require-object-coercible.js"),c=r("../node_modules/core-js/internals/advance-string-index.js"),l=r("../node_modules/core-js/internals/regexp-exec-abstract.js"),h=Math.max,d=Math.min,f=Math.floor,m=/\$([$&'`]|\d\d?|<[^>]*>)/g,v=/\$([$&'`]|\d\d?)/g;n("replace",2,(function(e,t,r){return[function(r,n){var i=u(this),s=null==r?void 0:r[e];return void 0!==s?s.call(r,i,n):t.call(String(i),r,n)},function(e,s){var u=r(t,e,this,s);if(u.done)return u.value;var f=i(e),m=String(this),v="function"==typeof s;v||(s=String(s));var p=f.global;if(p){var _=f.unicode;f.lastIndex=0}for(var E=[];;){var S=l(f,m);if(null===S)break;if(E.push(S),!p)break;""===String(S[0])&&(f.lastIndex=c(m,a(f.lastIndex),_))}for(var T,g="",R=0,b=0;b<E.length;b++){S=E[b];for(var y=String(S[0]),A=h(d(o(S.index),m.length),0),j=[],w=1;w<S.length;w++)j.push(void 0===(T=S[w])?T:String(T));var O=S.groups;if(v){var C=[y].concat(j,A,m);void 0!==O&&C.push(O);var L=String(s.apply(void 0,C))}else L=n(y,m,A,j,O,s);A>=R&&(g+=m.slice(R,A)+L,R=A+y.length)}return g+m.slice(R)}];function n(e,r,n,i,a,o){var u=n+e.length,c=i.length,l=v;return void 0!==a&&(a=s(a),l=m),t.call(o,l,(function(t,s){var o;switch(s.charAt(0)){case"$":return"$";case"&":return e;case"`":return r.slice(0,n);case"'":return r.slice(u);case"<":o=a[s.slice(1,-1)];break;default:var l=+s;if(0===l)return t;if(l>c){var h=f(l/10);return 0===h?t:h<=c?void 0===i[h-1]?s.charAt(1):i[h-1]+s.charAt(1):t}o=i[l-1]}return void 0===o?"":o}))}}))},"../node_modules/core-js/modules/es.string.trim-end.js":function(e,t,r){"use strict";var n=r("../node_modules/core-js/internals/export.js"),i=r("../node_modules/core-js/internals/string-trim.js").end,s=r("../node_modules/core-js/internals/forced-string-trim-method.js")("trimEnd"),a=s?function(){return i(this)}:"".trimEnd;n({target:"String",proto:!0,forced:s},{trimEnd:a,trimRight:a})},"../node_modules/core-js/modules/es.string.trim-start.js":function(e,t,r){"use strict";var n=r("../node_modules/core-js/internals/export.js"),i=r("../node_modules/core-js/internals/string-trim.js").start,s=r("../node_modules/core-js/internals/forced-string-trim-method.js")("trimStart"),a=s?function(){return i(this)}:"".trimStart;n({target:"String",proto:!0,forced:s},{trimStart:a,trimLeft:a})},"../node_modules/core-js/modules/es.string.trim.js":function(e,t,r){"use strict";var n=r("../node_modules/core-js/internals/export.js"),i=r("../node_modules/core-js/internals/string-trim.js").trim;n({target:"String",proto:!0,forced:r("../node_modules/core-js/internals/forced-string-trim-method.js")("trim")},{trim:function(){return i(this)}})},"../node_modules/core-js/modules/es.symbol.async-iterator.js":function(e,t,r){r("../node_modules/core-js/internals/define-well-known-symbol.js")("asyncIterator")},"../node_modules/core-js/modules/es.symbol.description.js":function(e,t,r){"use strict";var n=r("../node_modules/core-js/internals/export.js"),i=r("../node_modules/core-js/internals/descriptors.js"),s=r("../node_modules/core-js/internals/global.js"),a=r("../node_modules/core-js/internals/has.js"),o=r("../node_modules/core-js/internals/is-object.js"),u=r("../node_modules/core-js/internals/object-define-property.js").f,c=r("../node_modules/core-js/internals/copy-constructor-properties.js"),l=s.Symbol;if(i&&"function"==typeof l&&(!("description"in l.prototype)||void 0!==l().description)){var h={},d=function(){var e=arguments.length<1||void 0===arguments[0]?void 0:String(arguments[0]),t=this instanceof d?new l(e):void 0===e?l():l(e);return""===e&&(h[t]=!0),t};c(d,l);var f=d.prototype=l.prototype;f.constructor=d;var m=f.toString,v="Symbol(test)"==String(l("test")),p=/^Symbol\((.*)\)[^)]+$/;u(f,"description",{configurable:!0,get:function(){var e=o(this)?this.valueOf():this,t=m.call(e);if(a(h,e))return"";var r=v?t.slice(7,-1):t.replace(p,"$1");return""===r?void 0:r}}),n({global:!0,forced:!0},{Symbol:d})}},"../node_modules/core-js/modules/es.typed-array.float32-array.js":function(e,t,r){r("../node_modules/core-js/internals/typed-array-constructor.js")("Float32",(function(e){return function(t,r,n){return e(this,t,r,n)}}))},"../node_modules/core-js/modules/es.typed-array.float64-array.js":function(e,t,r){r("../node_modules/core-js/internals/typed-array-constructor.js")("Float64",(function(e){return function(t,r,n){return e(this,t,r,n)}}))},"../node_modules/core-js/modules/es.typed-array.from.js":function(e,t,r){"use strict";var n=r("../node_modules/core-js/internals/typed-arrays-constructors-requires-wrappers.js");(0,r("../node_modules/core-js/internals/array-buffer-view-core.js").exportTypedArrayStaticMethod)("from",r("../node_modules/core-js/internals/typed-array-from.js"),n)},"../node_modules/core-js/modules/es.typed-array.int16-array.js":function(e,t,r){r("../node_modules/core-js/internals/typed-array-constructor.js")("Int16",(function(e){return function(t,r,n){return e(this,t,r,n)}}))},"../node_modules/core-js/modules/es.typed-array.int32-array.js":function(e,t,r){r("../node_modules/core-js/internals/typed-array-constructor.js")("Int32",(function(e){return function(t,r,n){return e(this,t,r,n)}}))},"../node_modules/core-js/modules/es.typed-array.int8-array.js":function(e,t,r){r("../node_modules/core-js/internals/typed-array-constructor.js")("Int8",(function(e){return function(t,r,n){return e(this,t,r,n)}}))},"../node_modules/core-js/modules/es.typed-array.of.js":function(e,t,r){"use strict";var n=r("../node_modules/core-js/internals/array-buffer-view-core.js"),i=r("../node_modules/core-js/internals/typed-arrays-constructors-requires-wrappers.js"),s=n.aTypedArrayConstructor;(0,n.exportTypedArrayStaticMethod)("of",(function(){for(var e=0,t=arguments.length,r=new(s(this))(t);t>e;)r[e]=arguments[e++];return r}),i)},"../node_modules/core-js/modules/es.typed-array.uint16-array.js":function(e,t,r){r("../node_modules/core-js/internals/typed-array-constructor.js")("Uint16",(function(e){return function(t,r,n){return e(this,t,r,n)}}))},"../node_modules/core-js/modules/es.typed-array.uint32-array.js":function(e,t,r){r("../node_modules/core-js/internals/typed-array-constructor.js")("Uint32",(function(e){return function(t,r,n){return e(this,t,r,n)}}))},"../node_modules/core-js/modules/es.typed-array.uint8-array.js":function(e,t,r){r("../node_modules/core-js/internals/typed-array-constructor.js")("Uint8",(function(e){return function(t,r,n){return e(this,t,r,n)}}))},"../node_modules/core-js/modules/es.typed-array.uint8-clamped-array.js":function(e,t,r){r("../node_modules/core-js/internals/typed-array-constructor.js")("Uint8",(function(e){return function(t,r,n){return e(this,t,r,n)}}),!0)},"../node_modules/core-js/modules/web.dom-collections.for-each.js":function(e,t,r){var n=r("../node_modules/core-js/internals/global.js"),i=r("../node_modules/core-js/internals/dom-iterables.js"),s=r("../node_modules/core-js/internals/array-for-each.js"),a=r("../node_modules/core-js/internals/create-non-enumerable-property.js");for(var o in i){var u=n[o],c=u&&u.prototype;if(c&&c.forEach!==s)try{a(c,"forEach",s)}catch(e){c.forEach=s}}},"../node_modules/core-js/modules/web.dom-collections.iterator.js":function(e,t,r){var n=r("../node_modules/core-js/internals/global.js"),i=r("../node_modules/core-js/internals/dom-iterables.js"),s=r("../node_modules/core-js/modules/es.array.iterator.js"),a=r("../node_modules/core-js/internals/create-non-enumerable-property.js"),o=r("../node_modules/core-js/internals/well-known-symbol.js"),u=o("iterator"),c=o("toStringTag"),l=s.values;for(var h in i){var d=n[h],f=d&&d.prototype;if(f){if(f[u]!==l)try{a(f,u,l)}catch(e){f[u]=l}if(f[c]||a(f,c,h),i[h])for(var m in s)if(f[m]!==s[m])try{a(f,m,s[m])}catch(e){f[m]=s[m]}}}},"../node_modules/core-js/modules/web.immediate.js":function(e,t,r){var n=r("../node_modules/core-js/internals/export.js"),i=r("../node_modules/core-js/internals/global.js"),s=r("../node_modules/core-js/internals/task.js");n({global:!0,bind:!0,enumerable:!0,forced:!i.setImmediate||!i.clearImmediate},{setImmediate:s.set,clearImmediate:s.clear})},"../node_modules/core-js/modules/web.queue-microtask.js":function(e,t,r){var n=r("../node_modules/core-js/internals/export.js"),i=r("../node_modules/core-js/internals/global.js"),s=r("../node_modules/core-js/internals/microtask.js"),a=r("../node_modules/core-js/internals/classof-raw.js"),o=i.process,u="process"==a(o);n({global:!0,enumerable:!0,noTargetGet:!0},{queueMicrotask:function(e){var t=u&&o.domain;s(t?t.bind(e):e)}})},"../node_modules/core-js/modules/web.url-search-params.js":function(e,t,r){"use strict";r("../node_modules/core-js/modules/es.array.iterator.js");var n=r("../node_modules/core-js/internals/export.js"),i=r("../node_modules/core-js/internals/get-built-in.js"),s=r("../node_modules/core-js/internals/native-url.js"),a=r("../node_modules/core-js/internals/redefine.js"),o=r("../node_modules/core-js/internals/redefine-all.js"),u=r("../node_modules/core-js/internals/set-to-string-tag.js"),c=r("../node_modules/core-js/internals/create-iterator-constructor.js"),l=r("../node_modules/core-js/internals/internal-state.js"),h=r("../node_modules/core-js/internals/an-instance.js"),d=r("../node_modules/core-js/internals/has.js"),f=r("../node_modules/core-js/internals/bind-context.js"),m=r("../node_modules/core-js/internals/classof.js"),v=r("../node_modules/core-js/internals/an-object.js"),p=r("../node_modules/core-js/internals/is-object.js"),_=r("../node_modules/core-js/internals/object-create.js"),E=r("../node_modules/core-js/internals/create-property-descriptor.js"),S=r("../node_modules/core-js/internals/get-iterator.js"),T=r("../node_modules/core-js/internals/get-iterator-method.js"),g=r("../node_modules/core-js/internals/well-known-symbol.js"),R=i("fetch"),b=i("Headers"),y=g("iterator"),A=l.set,j=l.getterFor("URLSearchParams"),w=l.getterFor("URLSearchParamsIterator"),O=/\+/g,C=Array(4),L=function(e){return C[e-1]||(C[e-1]=RegExp("((?:%[\\da-f]{2}){"+e+"})","gi"))},D=function(e){try{return decodeURIComponent(e)}catch(t){return e}},P=function(e){var t=e.replace(O," "),r=4;try{return decodeURIComponent(t)}catch(e){for(;r;)t=t.replace(L(r--),D);return t}},x=/[!'()~]|%20/g,I={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+"},M=function(e){return I[e]},F=function(e){return encodeURIComponent(e).replace(x,M)},G=function(e,t){if(t)for(var r,n,i=t.split("&"),s=0;s<i.length;)(r=i[s++]).length&&(n=r.split("="),e.push({key:P(n.shift()),value:P(n.join("="))}))},N=function(e){this.entries.length=0,G(this.entries,e)},B=function(e,t){if(e<t)throw TypeError("Not enough arguments")},U=c((function(e,t){A(this,{type:"URLSearchParamsIterator",iterator:S(j(e).entries),kind:t})}),"Iterator",(function(){var e=w(this),t=e.kind,r=e.iterator.next(),n=r.value;return r.done||(r.value="keys"===t?n.key:"values"===t?n.value:[n.key,n.value]),r})),V=function(){h(this,V,"URLSearchParams");var e,t,r,n,i,s,a,o,u,c=arguments.length>0?arguments[0]:void 0,l=this,f=[];if(A(l,{type:"URLSearchParams",entries:f,updateURL:function(){},updateSearchParams:N}),void 0!==c)if(p(c))if("function"==typeof(e=T(c)))for(r=(t=e.call(c)).next;!(n=r.call(t)).done;){if((a=(s=(i=S(v(n.value))).next).call(i)).done||(o=s.call(i)).done||!s.call(i).done)throw TypeError("Expected sequence with length 2");f.push({key:a.value+"",value:o.value+""})}else for(u in c)d(c,u)&&f.push({key:u,value:c[u]+""});else G(f,"string"==typeof c?"?"===c.charAt(0)?c.slice(1):c:c+"")},k=V.prototype;o(k,{append:function(e,t){B(arguments.length,2);var r=j(this);r.entries.push({key:e+"",value:t+""}),r.updateURL()},delete:function(e){B(arguments.length,1);for(var t=j(this),r=t.entries,n=e+"",i=0;i<r.length;)r[i].key===n?r.splice(i,1):i++;t.updateURL()},get:function(e){B(arguments.length,1);for(var t=j(this).entries,r=e+"",n=0;n<t.length;n++)if(t[n].key===r)return t[n].value;return null},getAll:function(e){B(arguments.length,1);for(var t=j(this).entries,r=e+"",n=[],i=0;i<t.length;i++)t[i].key===r&&n.push(t[i].value);return n},has:function(e){B(arguments.length,1);for(var t=j(this).entries,r=e+"",n=0;n<t.length;)if(t[n++].key===r)return!0;return!1},set:function(e,t){B(arguments.length,1);for(var r,n=j(this),i=n.entries,s=!1,a=e+"",o=t+"",u=0;u<i.length;u++)(r=i[u]).key===a&&(s?i.splice(u--,1):(s=!0,r.value=o));s||i.push({key:a,value:o}),n.updateURL()},sort:function(){var e,t,r,n=j(this),i=n.entries,s=i.slice();for(i.length=0,r=0;r<s.length;r++){for(e=s[r],t=0;t<r;t++)if(i[t].key>e.key){i.splice(t,0,e);break}t===r&&i.push(e)}n.updateURL()},forEach:function(e){for(var t,r=j(this).entries,n=f(e,arguments.length>1?arguments[1]:void 0,3),i=0;i<r.length;)n((t=r[i++]).value,t.key,this)},keys:function(){return new U(this,"keys")},values:function(){return new U(this,"values")},entries:function(){return new U(this,"entries")}},{enumerable:!0}),a(k,y,k.entries),a(k,"toString",(function(){for(var e,t=j(this).entries,r=[],n=0;n<t.length;)e=t[n++],r.push(F(e.key)+"="+F(e.value));return r.join("&")}),{enumerable:!0}),u(V,"URLSearchParams"),n({global:!0,forced:!s},{URLSearchParams:V}),s||"function"!=typeof R||"function"!=typeof b||n({global:!0,enumerable:!0,forced:!0},{fetch:function(e){var t,r,n,i=[e];return arguments.length>1&&(t=arguments[1],p(t)&&(r=t.body,"URLSearchParams"===m(r)&&((n=t.headers?new b(t.headers):new b).has("content-type")||n.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"),t=_(t,{body:E(0,String(r)),headers:E(0,n)}))),i.push(t)),R.apply(this,i)}}),e.exports={URLSearchParams:V,getState:j}},"../node_modules/core-js/modules/web.url.js":function(e,t,r){"use strict";r("../node_modules/core-js/modules/es.string.iterator.js");var n,i=r("../node_modules/core-js/internals/export.js"),s=r("../node_modules/core-js/internals/descriptors.js"),a=r("../node_modules/core-js/internals/native-url.js"),o=r("../node_modules/core-js/internals/global.js"),u=r("../node_modules/core-js/internals/object-define-properties.js"),c=r("../node_modules/core-js/internals/redefine.js"),l=r("../node_modules/core-js/internals/an-instance.js"),h=r("../node_modules/core-js/internals/has.js"),d=r("../node_modules/core-js/internals/object-assign.js"),f=r("../node_modules/core-js/internals/array-from.js"),m=r("../node_modules/core-js/internals/string-multibyte.js").codeAt,v=r("../node_modules/core-js/internals/punycode-to-ascii.js"),p=r("../node_modules/core-js/internals/set-to-string-tag.js"),_=r("../node_modules/core-js/modules/web.url-search-params.js"),E=r("../node_modules/core-js/internals/internal-state.js"),S=o.URL,T=_.URLSearchParams,g=_.getState,R=E.set,b=E.getterFor("URL"),y=Math.floor,A=Math.pow,j=/[A-Za-z]/,w=/[\d+\-.A-Za-z]/,O=/\d/,C=/^(0x|0X)/,L=/^[0-7]+$/,D=/^\d+$/,P=/^[\dA-Fa-f]+$/,x=/[\u0000\u0009\u000A\u000D #%/:?@[\\]]/,I=/[\u0000\u0009\u000A\u000D #/:?@[\\]]/,M=/^[\u0000-\u001F ]+|[\u0000-\u001F ]+$/g,F=/[\u0009\u000A\u000D]/g,G=function(e,t){var r,n,i;if("["==t.charAt(0)){if("]"!=t.charAt(t.length-1))return"Invalid host";if(!(r=B(t.slice(1,-1))))return"Invalid host";e.host=r}else if(Y(e)){if(t=v(t),x.test(t))return"Invalid host";if(null===(r=N(t)))return"Invalid host";e.host=r}else{if(I.test(t))return"Invalid host";for(r="",n=f(t),i=0;i<n.length;i++)r+=z(n[i],V);e.host=r}},N=function(e){var t,r,n,i,s,a,o,u=e.split(".");if(u.length&&""==u[u.length-1]&&u.pop(),(t=u.length)>4)return e;for(r=[],n=0;n<t;n++){if(""==(i=u[n]))return e;if(s=10,i.length>1&&"0"==i.charAt(0)&&(s=C.test(i)?16:8,i=i.slice(8==s?1:2)),""===i)a=0;else{if(!(10==s?D:8==s?L:P).test(i))return e;a=parseInt(i,s)}r.push(a)}for(n=0;n<t;n++)if(a=r[n],n==t-1){if(a>=A(256,5-t))return null}else if(a>255)return null;for(o=r.pop(),n=0;n<r.length;n++)o+=r[n]*A(256,3-n);return o},B=function(e){var t,r,n,i,s,a,o,u=[0,0,0,0,0,0,0,0],c=0,l=null,h=0,d=function(){return e.charAt(h)};if(":"==d()){if(":"!=e.charAt(1))return;h+=2,l=++c}for(;d();){if(8==c)return;if(":"!=d()){for(t=r=0;r<4&&P.test(d());)t=16*t+parseInt(d(),16),h++,r++;if("."==d()){if(0==r)return;if(h-=r,c>6)return;for(n=0;d();){if(i=null,n>0){if(!("."==d()&&n<4))return;h++}if(!O.test(d()))return;for(;O.test(d());){if(s=parseInt(d(),10),null===i)i=s;else{if(0==i)return;i=10*i+s}if(i>255)return;h++}u[c]=256*u[c]+i,2!=++n&&4!=n||c++}if(4!=n)return;break}if(":"==d()){if(h++,!d())return}else if(d())return;u[c++]=t}else{if(null!==l)return;h++,l=++c}}if(null!==l)for(a=c-l,c=7;0!=c&&a>0;)o=u[c],u[c--]=u[l+a-1],u[l+--a]=o;else if(8!=c)return;return u},U=function(e){var t,r,n,i;if("number"==typeof e){for(t=[],r=0;r<4;r++)t.unshift(e%256),e=y(e/256);return t.join(".")}if("object"==typeof e){for(t="",n=function(e){for(var t=null,r=1,n=null,i=0,s=0;s<8;s++)0!==e[s]?(i>r&&(t=n,r=i),n=null,i=0):(null===n&&(n=s),++i);return i>r&&(t=n,r=i),t}(e),r=0;r<8;r++)i&&0===e[r]||(i&&(i=!1),n===r?(t+=r?":":"::",i=!0):(t+=e[r].toString(16),r<7&&(t+=":")));return"["+t+"]"}return e},V={},k=d({},V,{" ":1,'"':1,"<":1,">":1,"`":1}),H=d({},k,{"#":1,"?":1,"{":1,"}":1}),q=d({},H,{"/":1,":":1,";":1,"=":1,"@":1,"[":1,"\\":1,"]":1,"^":1,"|":1}),z=function(e,t){var r=m(e,0);return r>32&&r<127&&!h(t,e)?e:encodeURIComponent(e)},W={ftp:21,file:null,http:80,https:443,ws:80,wss:443},Y=function(e){return h(W,e.scheme)},X=function(e){return""!=e.username||""!=e.password},K=function(e){return!e.host||e.cannotBeABaseURL||"file"==e.scheme},Q=function(e,t){var r;return 2==e.length&&j.test(e.charAt(0))&&(":"==(r=e.charAt(1))||!t&&"|"==r)},Z=function(e){var t;return e.length>1&&Q(e.slice(0,2))&&(2==e.length||"/"===(t=e.charAt(2))||"\\"===t||"?"===t||"#"===t)},$=function(e){var t=e.path,r=t.length;!r||"file"==e.scheme&&1==r&&Q(t[0],!0)||t.pop()},J=function(e){return"."===e||"%2e"===e.toLowerCase()},ee={},te={},re={},ne={},ie={},se={},ae={},oe={},ue={},ce={},le={},he={},de={},fe={},me={},ve={},pe={},_e={},Ee={},Se={},Te={},ge=function(e,t,r,i){var s,a,o,u,c,l=r||ee,d=0,m="",v=!1,p=!1,_=!1;for(r||(e.scheme="",e.username="",e.password="",e.host=null,e.port=null,e.path=[],e.query=null,e.fragment=null,e.cannotBeABaseURL=!1,t=t.replace(M,"")),t=t.replace(F,""),s=f(t);d<=s.length;){switch(a=s[d],l){case ee:if(!a||!j.test(a)){if(r)return"Invalid scheme";l=re;continue}m+=a.toLowerCase(),l=te;break;case te:if(a&&(w.test(a)||"+"==a||"-"==a||"."==a))m+=a.toLowerCase();else{if(":"!=a){if(r)return"Invalid scheme";m="",l=re,d=0;continue}if(r&&(Y(e)!=h(W,m)||"file"==m&&(X(e)||null!==e.port)||"file"==e.scheme&&!e.host))return;if(e.scheme=m,r)return void(Y(e)&&W[e.scheme]==e.port&&(e.port=null));m="","file"==e.scheme?l=fe:Y(e)&&i&&i.scheme==e.scheme?l=ne:Y(e)?l=oe:"/"==s[d+1]?(l=ie,d++):(e.cannotBeABaseURL=!0,e.path.push(""),l=Ee)}break;case re:if(!i||i.cannotBeABaseURL&&"#"!=a)return"Invalid scheme";if(i.cannotBeABaseURL&&"#"==a){e.scheme=i.scheme,e.path=i.path.slice(),e.query=i.query,e.fragment="",e.cannotBeABaseURL=!0,l=Te;break}l="file"==i.scheme?fe:se;continue;case ne:if("/"!=a||"/"!=s[d+1]){l=se;continue}l=ue,d++;break;case ie:if("/"==a){l=ce;break}l=_e;continue;case se:if(e.scheme=i.scheme,a==n)e.username=i.username,e.password=i.password,e.host=i.host,e.port=i.port,e.path=i.path.slice(),e.query=i.query;else if("/"==a||"\\"==a&&Y(e))l=ae;else if("?"==a)e.username=i.username,e.password=i.password,e.host=i.host,e.port=i.port,e.path=i.path.slice(),e.query="",l=Se;else{if("#"!=a){e.username=i.username,e.password=i.password,e.host=i.host,e.port=i.port,e.path=i.path.slice(),e.path.pop(),l=_e;continue}e.username=i.username,e.password=i.password,e.host=i.host,e.port=i.port,e.path=i.path.slice(),e.query=i.query,e.fragment="",l=Te}break;case ae:if(!Y(e)||"/"!=a&&"\\"!=a){if("/"!=a){e.username=i.username,e.password=i.password,e.host=i.host,e.port=i.port,l=_e;continue}l=ce}else l=ue;break;case oe:if(l=ue,"/"!=a||"/"!=m.charAt(d+1))continue;d++;break;case ue:if("/"!=a&&"\\"!=a){l=ce;continue}break;case ce:if("@"==a){v&&(m="%40"+m),v=!0,o=f(m);for(var E=0;E<o.length;E++){var S=o[E];if(":"!=S||_){var T=z(S,q);_?e.password+=T:e.username+=T}else _=!0}m=""}else if(a==n||"/"==a||"?"==a||"#"==a||"\\"==a&&Y(e)){if(v&&""==m)return"Invalid authority";d-=f(m).length+1,m="",l=le}else m+=a;break;case le:case he:if(r&&"file"==e.scheme){l=ve;continue}if(":"!=a||p){if(a==n||"/"==a||"?"==a||"#"==a||"\\"==a&&Y(e)){if(Y(e)&&""==m)return"Invalid host";if(r&&""==m&&(X(e)||null!==e.port))return;if(u=G(e,m))return u;if(m="",l=pe,r)return;continue}"["==a?p=!0:"]"==a&&(p=!1),m+=a}else{if(""==m)return"Invalid host";if(u=G(e,m))return u;if(m="",l=de,r==he)return}break;case de:if(!O.test(a)){if(a==n||"/"==a||"?"==a||"#"==a||"\\"==a&&Y(e)||r){if(""!=m){var g=parseInt(m,10);if(g>65535)return"Invalid port";e.port=Y(e)&&g===W[e.scheme]?null:g,m=""}if(r)return;l=pe;continue}return"Invalid port"}m+=a;break;case fe:if(e.scheme="file","/"==a||"\\"==a)l=me;else{if(!i||"file"!=i.scheme){l=_e;continue}if(a==n)e.host=i.host,e.path=i.path.slice(),e.query=i.query;else if("?"==a)e.host=i.host,e.path=i.path.slice(),e.query="",l=Se;else{if("#"!=a){Z(s.slice(d).join(""))||(e.host=i.host,e.path=i.path.slice(),$(e)),l=_e;continue}e.host=i.host,e.path=i.path.slice(),e.query=i.query,e.fragment="",l=Te}}break;case me:if("/"==a||"\\"==a){l=ve;break}i&&"file"==i.scheme&&!Z(s.slice(d).join(""))&&(Q(i.path[0],!0)?e.path.push(i.path[0]):e.host=i.host),l=_e;continue;case ve:if(a==n||"/"==a||"\\"==a||"?"==a||"#"==a){if(!r&&Q(m))l=_e;else if(""==m){if(e.host="",r)return;l=pe}else{if(u=G(e,m))return u;if("localhost"==e.host&&(e.host=""),r)return;m="",l=pe}continue}m+=a;break;case pe:if(Y(e)){if(l=_e,"/"!=a&&"\\"!=a)continue}else if(r||"?"!=a)if(r||"#"!=a){if(a!=n&&(l=_e,"/"!=a))continue}else e.fragment="",l=Te;else e.query="",l=Se;break;case _e:if(a==n||"/"==a||"\\"==a&&Y(e)||!r&&("?"==a||"#"==a)){if(".."===(c=(c=m).toLowerCase())||"%2e."===c||".%2e"===c||"%2e%2e"===c?($(e),"/"==a||"\\"==a&&Y(e)||e.path.push("")):J(m)?"/"==a||"\\"==a&&Y(e)||e.path.push(""):("file"==e.scheme&&!e.path.length&&Q(m)&&(e.host&&(e.host=""),m=m.charAt(0)+":"),e.path.push(m)),m="","file"==e.scheme&&(a==n||"?"==a||"#"==a))for(;e.path.length>1&&""===e.path[0];)e.path.shift();"?"==a?(e.query="",l=Se):"#"==a&&(e.fragment="",l=Te)}else m+=z(a,H);break;case Ee:"?"==a?(e.query="",l=Se):"#"==a?(e.fragment="",l=Te):a!=n&&(e.path[0]+=z(a,V));break;case Se:r||"#"!=a?a!=n&&("'"==a&&Y(e)?e.query+="%27":e.query+="#"==a?"%23":z(a,V)):(e.fragment="",l=Te);break;case Te:a!=n&&(e.fragment+=z(a,k))}d++}},Re=function(e){var t,r,n=l(this,Re,"URL"),i=arguments.length>1?arguments[1]:void 0,a=String(e),o=R(n,{type:"URL"});if(void 0!==i)if(i instanceof Re)t=b(i);else if(r=ge(t={},String(i)))throw TypeError(r);if(r=ge(o,a,null,t))throw TypeError(r);var u=o.searchParams=new T,c=g(u);c.updateSearchParams(o.query),c.updateURL=function(){o.query=String(u)||null},s||(n.href=ye.call(n),n.origin=Ae.call(n),n.protocol=je.call(n),n.username=we.call(n),n.password=Oe.call(n),n.host=Ce.call(n),n.hostname=Le.call(n),n.port=De.call(n),n.pathname=Pe.call(n),n.search=xe.call(n),n.searchParams=Ie.call(n),n.hash=Me.call(n))},be=Re.prototype,ye=function(){var e=b(this),t=e.scheme,r=e.username,n=e.password,i=e.host,s=e.port,a=e.path,o=e.query,u=e.fragment,c=t+":";return null!==i?(c+="//",X(e)&&(c+=r+(n?":"+n:"")+"@"),c+=U(i),null!==s&&(c+=":"+s)):"file"==t&&(c+="//"),c+=e.cannotBeABaseURL?a[0]:a.length?"/"+a.join("/"):"",null!==o&&(c+="?"+o),null!==u&&(c+="#"+u),c},Ae=function(){var e=b(this),t=e.scheme,r=e.port;if("blob"==t)try{return new URL(t.path[0]).origin}catch(e){return"null"}return"file"!=t&&Y(e)?t+"://"+U(e.host)+(null!==r?":"+r:""):"null"},je=function(){return b(this).scheme+":"},we=function(){return b(this).username},Oe=function(){return b(this).password},Ce=function(){var e=b(this),t=e.host,r=e.port;return null===t?"":null===r?U(t):U(t)+":"+r},Le=function(){var e=b(this).host;return null===e?"":U(e)},De=function(){var e=b(this).port;return null===e?"":String(e)},Pe=function(){var e=b(this),t=e.path;return e.cannotBeABaseURL?t[0]:t.length?"/"+t.join("/"):""},xe=function(){var e=b(this).query;return e?"?"+e:""},Ie=function(){return b(this).searchParams},Me=function(){var e=b(this).fragment;return e?"#"+e:""},Fe=function(e,t){return{get:e,set:t,configurable:!0,enumerable:!0}};if(s&&u(be,{href:Fe(ye,(function(e){var t=b(this),r=String(e),n=ge(t,r);if(n)throw TypeError(n);g(t.searchParams).updateSearchParams(t.query)})),origin:Fe(Ae),protocol:Fe(je,(function(e){var t=b(this);ge(t,String(e)+":",ee)})),username:Fe(we,(function(e){var t=b(this),r=f(String(e));if(!K(t)){t.username="";for(var n=0;n<r.length;n++)t.username+=z(r[n],q)}})),password:Fe(Oe,(function(e){var t=b(this),r=f(String(e));if(!K(t)){t.password="";for(var n=0;n<r.length;n++)t.password+=z(r[n],q)}})),host:Fe(Ce,(function(e){var t=b(this);t.cannotBeABaseURL||ge(t,String(e),le)})),hostname:Fe(Le,(function(e){var t=b(this);t.cannotBeABaseURL||ge(t,String(e),he)})),port:Fe(De,(function(e){var t=b(this);K(t)||(""==(e=String(e))?t.port=null:ge(t,e,de))})),pathname:Fe(Pe,(function(e){var t=b(this);t.cannotBeABaseURL||(t.path=[],ge(t,e+"",pe))})),search:Fe(xe,(function(e){var t=b(this);""==(e=String(e))?t.query=null:("?"==e.charAt(0)&&(e=e.slice(1)),t.query="",ge(t,e,Se)),g(t.searchParams).updateSearchParams(t.query)})),searchParams:Fe(Ie),hash:Fe(Me,(function(e){var t=b(this);""!=(e=String(e))?("#"==e.charAt(0)&&(e=e.slice(1)),t.fragment="",ge(t,e,Te)):t.fragment=null}))}),c(be,"toJSON",(function(){return ye.call(this)}),{enumerable:!0}),c(be,"toString",(function(){return ye.call(this)}),{enumerable:!0}),S){var Ge=S.createObjectURL,Ne=S.revokeObjectURL;Ge&&c(Re,"createObjectURL",(function(e){return Ge.apply(S,arguments)})),Ne&&c(Re,"revokeObjectURL",(function(e){return Ne.apply(S,arguments)}))}p(Re,"URL"),i({global:!0,forced:!a,sham:!s},{URL:Re})},"../node_modules/core-js/modules/web.url.to-json.js":function(e,t,r){"use strict";r("../node_modules/core-js/internals/export.js")({target:"URL",proto:!0,enumerable:!0},{toJSON:function(){return URL.prototype.toString.call(this)}})},"../node_modules/gl-matrix/lib/gl-matrix.js":function(e,t,r){"use strict";r.r(t);var n=r("../node_modules/gl-matrix/lib/gl-matrix/common.js");r.d(t,"glMatrix",(function(){return n}));var i=r("../node_modules/gl-matrix/lib/gl-matrix/mat2.js");r.d(t,"mat2",(function(){return i}));var s=r("../node_modules/gl-matrix/lib/gl-matrix/mat2d.js");r.d(t,"mat2d",(function(){return s}));var a=r("../node_modules/gl-matrix/lib/gl-matrix/mat3.js");r.d(t,"mat3",(function(){return a}));var o=r("../node_modules/gl-matrix/lib/gl-matrix/mat4.js");r.d(t,"mat4",(function(){return o}));var u=r("../node_modules/gl-matrix/lib/gl-matrix/quat.js");r.d(t,"quat",(function(){return u}));var c=r("../node_modules/gl-matrix/lib/gl-matrix/quat2.js");r.d(t,"quat2",(function(){return c}));var l=r("../node_modules/gl-matrix/lib/gl-matrix/vec2.js");r.d(t,"vec2",(function(){return l}));var h=r("../node_modules/gl-matrix/lib/gl-matrix/vec3.js");r.d(t,"vec3",(function(){return h}));var d=r("../node_modules/gl-matrix/lib/gl-matrix/vec4.js");r.d(t,"vec4",(function(){return d}))},"../node_modules/gl-matrix/lib/gl-matrix/common.js":function(e,t,r){"use strict";r.r(t),r.d(t,"EPSILON",(function(){return n})),r.d(t,"ARRAY_TYPE",(function(){return i})),r.d(t,"RANDOM",(function(){return s})),r.d(t,"setMatrixArrayType",(function(){return a})),r.d(t,"toRadian",(function(){return u})),r.d(t,"equals",(function(){return c}));var n=1e-6,i="undefined"!=typeof Float32Array?Float32Array:Array,s=Math.random;function a(e){i=e}var o=Math.PI/180;function u(e){return e*o}function c(e,t){return Math.abs(e-t)<=n*Math.max(1,Math.abs(e),Math.abs(t))}},"../node_modules/gl-matrix/lib/gl-matrix/mat2.js":function(e,t,r){"use strict";r.r(t),r.d(t,"create",(function(){return i})),r.d(t,"clone",(function(){return s})),r.d(t,"copy",(function(){return a})),r.d(t,"identity",(function(){return o})),r.d(t,"fromValues",(function(){return u})),r.d(t,"set",(function(){return c})),r.d(t,"transpose",(function(){return l})),r.d(t,"invert",(function(){return h})),r.d(t,"adjoint",(function(){return d})),r.d(t,"determinant",(function(){return f})),r.d(t,"multiply",(function(){return m})),r.d(t,"rotate",(function(){return v})),r.d(t,"scale",(function(){return p})),r.d(t,"fromRotation",(function(){return _})),r.d(t,"fromScaling",(function(){return E})),r.d(t,"str",(function(){return S})),r.d(t,"frob",(function(){return T})),r.d(t,"LDU",(function(){return g})),r.d(t,"add",(function(){return R})),r.d(t,"subtract",(function(){return b})),r.d(t,"exactEquals",(function(){return y})),r.d(t,"equals",(function(){return A})),r.d(t,"multiplyScalar",(function(){return j})),r.d(t,"multiplyScalarAndAdd",(function(){return w})),r.d(t,"mul",(function(){return O})),r.d(t,"sub",(function(){return C}));var n=r("../node_modules/gl-matrix/lib/gl-matrix/common.js");function i(){var e=new n.ARRAY_TYPE(4);return n.ARRAY_TYPE!=Float32Array&&(e[1]=0,e[2]=0),e[0]=1,e[3]=1,e}function s(e){var t=new n.ARRAY_TYPE(4);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t}function a(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e}function o(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=1,e}function u(e,t,r,i){var s=new n.ARRAY_TYPE(4);return s[0]=e,s[1]=t,s[2]=r,s[3]=i,s}function c(e,t,r,n,i){return e[0]=t,e[1]=r,e[2]=n,e[3]=i,e}function l(e,t){if(e===t){var r=t[1];e[1]=t[2],e[2]=r}else e[0]=t[0],e[1]=t[2],e[2]=t[1],e[3]=t[3];return e}function h(e,t){var r=t[0],n=t[1],i=t[2],s=t[3],a=r*s-i*n;return a?(a=1/a,e[0]=s*a,e[1]=-n*a,e[2]=-i*a,e[3]=r*a,e):null}function d(e,t){var r=t[0];return e[0]=t[3],e[1]=-t[1],e[2]=-t[2],e[3]=r,e}function f(e){return e[0]*e[3]-e[2]*e[1]}function m(e,t,r){var n=t[0],i=t[1],s=t[2],a=t[3],o=r[0],u=r[1],c=r[2],l=r[3];return e[0]=n*o+s*u,e[1]=i*o+a*u,e[2]=n*c+s*l,e[3]=i*c+a*l,e}function v(e,t,r){var n=t[0],i=t[1],s=t[2],a=t[3],o=Math.sin(r),u=Math.cos(r);return e[0]=n*u+s*o,e[1]=i*u+a*o,e[2]=n*-o+s*u,e[3]=i*-o+a*u,e}function p(e,t,r){var n=t[0],i=t[1],s=t[2],a=t[3],o=r[0],u=r[1];return e[0]=n*o,e[1]=i*o,e[2]=s*u,e[3]=a*u,e}function _(e,t){var r=Math.sin(t),n=Math.cos(t);return e[0]=n,e[1]=r,e[2]=-r,e[3]=n,e}function E(e,t){return e[0]=t[0],e[1]=0,e[2]=0,e[3]=t[1],e}function S(e){return"mat2("+e[0]+", "+e[1]+", "+e[2]+", "+e[3]+")"}function T(e){return Math.sqrt(Math.pow(e[0],2)+Math.pow(e[1],2)+Math.pow(e[2],2)+Math.pow(e[3],2))}function g(e,t,r,n){return e[2]=n[2]/n[0],r[0]=n[0],r[1]=n[1],r[3]=n[3]-e[2]*r[1],[e,t,r]}function R(e,t,r){return e[0]=t[0]+r[0],e[1]=t[1]+r[1],e[2]=t[2]+r[2],e[3]=t[3]+r[3],e}function b(e,t,r){return e[0]=t[0]-r[0],e[1]=t[1]-r[1],e[2]=t[2]-r[2],e[3]=t[3]-r[3],e}function y(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===t[3]}function A(e,t){var r=e[0],i=e[1],s=e[2],a=e[3],o=t[0],u=t[1],c=t[2],l=t[3];return Math.abs(r-o)<=n.EPSILON*Math.max(1,Math.abs(r),Math.abs(o))&&Math.abs(i-u)<=n.EPSILON*Math.max(1,Math.abs(i),Math.abs(u))&&Math.abs(s-c)<=n.EPSILON*Math.max(1,Math.abs(s),Math.abs(c))&&Math.abs(a-l)<=n.EPSILON*Math.max(1,Math.abs(a),Math.abs(l))}function j(e,t,r){return e[0]=t[0]*r,e[1]=t[1]*r,e[2]=t[2]*r,e[3]=t[3]*r,e}function w(e,t,r,n){return e[0]=t[0]+r[0]*n,e[1]=t[1]+r[1]*n,e[2]=t[2]+r[2]*n,e[3]=t[3]+r[3]*n,e}var O=m,C=b},"../node_modules/gl-matrix/lib/gl-matrix/mat2d.js":function(e,t,r){"use strict";r.r(t),r.d(t,"create",(function(){return i})),r.d(t,"clone",(function(){return s})),r.d(t,"copy",(function(){return a})),r.d(t,"identity",(function(){return o})),r.d(t,"fromValues",(function(){return u})),r.d(t,"set",(function(){return c})),r.d(t,"invert",(function(){return l})),r.d(t,"determinant",(function(){return h})),r.d(t,"multiply",(function(){return d})),r.d(t,"rotate",(function(){return f})),r.d(t,"scale",(function(){return m})),r.d(t,"translate",(function(){return v})),r.d(t,"fromRotation",(function(){return p})),r.d(t,"fromScaling",(function(){return _})),r.d(t,"fromTranslation",(function(){return E})),r.d(t,"str",(function(){return S})),r.d(t,"frob",(function(){return T})),r.d(t,"add",(function(){return g})),r.d(t,"subtract",(function(){return R})),r.d(t,"multiplyScalar",(function(){return b})),r.d(t,"multiplyScalarAndAdd",(function(){return y})),r.d(t,"exactEquals",(function(){return A})),r.d(t,"equals",(function(){return j})),r.d(t,"mul",(function(){return w})),r.d(t,"sub",(function(){return O}));var n=r("../node_modules/gl-matrix/lib/gl-matrix/common.js");function i(){var e=new n.ARRAY_TYPE(6);return n.ARRAY_TYPE!=Float32Array&&(e[1]=0,e[2]=0,e[4]=0,e[5]=0),e[0]=1,e[3]=1,e}function s(e){var t=new n.ARRAY_TYPE(6);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t}function a(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e}function o(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=1,e[4]=0,e[5]=0,e}function u(e,t,r,i,s,a){var o=new n.ARRAY_TYPE(6);return o[0]=e,o[1]=t,o[2]=r,o[3]=i,o[4]=s,o[5]=a,o}function c(e,t,r,n,i,s,a){return e[0]=t,e[1]=r,e[2]=n,e[3]=i,e[4]=s,e[5]=a,e}function l(e,t){var r=t[0],n=t[1],i=t[2],s=t[3],a=t[4],o=t[5],u=r*s-n*i;return u?(u=1/u,e[0]=s*u,e[1]=-n*u,e[2]=-i*u,e[3]=r*u,e[4]=(i*o-s*a)*u,e[5]=(n*a-r*o)*u,e):null}function h(e){return e[0]*e[3]-e[1]*e[2]}function d(e,t,r){var n=t[0],i=t[1],s=t[2],a=t[3],o=t[4],u=t[5],c=r[0],l=r[1],h=r[2],d=r[3],f=r[4],m=r[5];return e[0]=n*c+s*l,e[1]=i*c+a*l,e[2]=n*h+s*d,e[3]=i*h+a*d,e[4]=n*f+s*m+o,e[5]=i*f+a*m+u,e}function f(e,t,r){var n=t[0],i=t[1],s=t[2],a=t[3],o=t[4],u=t[5],c=Math.sin(r),l=Math.cos(r);return e[0]=n*l+s*c,e[1]=i*l+a*c,e[2]=n*-c+s*l,e[3]=i*-c+a*l,e[4]=o,e[5]=u,e}function m(e,t,r){var n=t[0],i=t[1],s=t[2],a=t[3],o=t[4],u=t[5],c=r[0],l=r[1];return e[0]=n*c,e[1]=i*c,e[2]=s*l,e[3]=a*l,e[4]=o,e[5]=u,e}function v(e,t,r){var n=t[0],i=t[1],s=t[2],a=t[3],o=t[4],u=t[5],c=r[0],l=r[1];return e[0]=n,e[1]=i,e[2]=s,e[3]=a,e[4]=n*c+s*l+o,e[5]=i*c+a*l+u,e}function p(e,t){var r=Math.sin(t),n=Math.cos(t);return e[0]=n,e[1]=r,e[2]=-r,e[3]=n,e[4]=0,e[5]=0,e}function _(e,t){return e[0]=t[0],e[1]=0,e[2]=0,e[3]=t[1],e[4]=0,e[5]=0,e}function E(e,t){return e[0]=1,e[1]=0,e[2]=0,e[3]=1,e[4]=t[0],e[5]=t[1],e}function S(e){return"mat2d("+e[0]+", "+e[1]+", "+e[2]+", "+e[3]+", "+e[4]+", "+e[5]+")"}function T(e){return Math.sqrt(Math.pow(e[0],2)+Math.pow(e[1],2)+Math.pow(e[2],2)+Math.pow(e[3],2)+Math.pow(e[4],2)+Math.pow(e[5],2)+1)}function g(e,t,r){return e[0]=t[0]+r[0],e[1]=t[1]+r[1],e[2]=t[2]+r[2],e[3]=t[3]+r[3],e[4]=t[4]+r[4],e[5]=t[5]+r[5],e}function R(e,t,r){return e[0]=t[0]-r[0],e[1]=t[1]-r[1],e[2]=t[2]-r[2],e[3]=t[3]-r[3],e[4]=t[4]-r[4],e[5]=t[5]-r[5],e}function b(e,t,r){return e[0]=t[0]*r,e[1]=t[1]*r,e[2]=t[2]*r,e[3]=t[3]*r,e[4]=t[4]*r,e[5]=t[5]*r,e}function y(e,t,r,n){return e[0]=t[0]+r[0]*n,e[1]=t[1]+r[1]*n,e[2]=t[2]+r[2]*n,e[3]=t[3]+r[3]*n,e[4]=t[4]+r[4]*n,e[5]=t[5]+r[5]*n,e}function A(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===t[3]&&e[4]===t[4]&&e[5]===t[5]}function j(e,t){var r=e[0],i=e[1],s=e[2],a=e[3],o=e[4],u=e[5],c=t[0],l=t[1],h=t[2],d=t[3],f=t[4],m=t[5];return Math.abs(r-c)<=n.EPSILON*Math.max(1,Math.abs(r),Math.abs(c))&&Math.abs(i-l)<=n.EPSILON*Math.max(1,Math.abs(i),Math.abs(l))&&Math.abs(s-h)<=n.EPSILON*Math.max(1,Math.abs(s),Math.abs(h))&&Math.abs(a-d)<=n.EPSILON*Math.max(1,Math.abs(a),Math.abs(d))&&Math.abs(o-f)<=n.EPSILON*Math.max(1,Math.abs(o),Math.abs(f))&&Math.abs(u-m)<=n.EPSILON*Math.max(1,Math.abs(u),Math.abs(m))}var w=d,O=R},"../node_modules/gl-matrix/lib/gl-matrix/mat3.js":function(e,t,r){"use strict";r.r(t),r.d(t,"create",(function(){return i})),r.d(t,"fromMat4",(function(){return s})),r.d(t,"clone",(function(){return a})),r.d(t,"copy",(function(){return o})),r.d(t,"fromValues",(function(){return u})),r.d(t,"set",(function(){return c})),r.d(t,"identity",(function(){return l})),r.d(t,"transpose",(function(){return h})),r.d(t,"invert",(function(){return d})),r.d(t,"adjoint",(function(){return f})),r.d(t,"determinant",(function(){return m})),r.d(t,"multiply",(function(){return v})),r.d(t,"translate",(function(){return p})),r.d(t,"rotate",(function(){return _})),r.d(t,"scale",(function(){return E})),r.d(t,"fromTranslation",(function(){return S})),r.d(t,"fromRotation",(function(){return T})),r.d(t,"fromScaling",(function(){return g})),r.d(t,"fromMat2d",(function(){return R})),r.d(t,"fromQuat",(function(){return b})),r.d(t,"normalFromMat4",(function(){return y})),r.d(t,"projection",(function(){return A})),r.d(t,"str",(function(){return j})),r.d(t,"frob",(function(){return w})),r.d(t,"add",(function(){return O})),r.d(t,"subtract",(function(){return C})),r.d(t,"multiplyScalar",(function(){return L})),r.d(t,"multiplyScalarAndAdd",(function(){return D})),r.d(t,"exactEquals",(function(){return P})),r.d(t,"equals",(function(){return x})),r.d(t,"mul",(function(){return I})),r.d(t,"sub",(function(){return M}));var n=r("../node_modules/gl-matrix/lib/gl-matrix/common.js");function i(){var e=new n.ARRAY_TYPE(9);return n.ARRAY_TYPE!=Float32Array&&(e[1]=0,e[2]=0,e[3]=0,e[5]=0,e[6]=0,e[7]=0),e[0]=1,e[4]=1,e[8]=1,e}function s(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[4],e[4]=t[5],e[5]=t[6],e[6]=t[8],e[7]=t[9],e[8]=t[10],e}function a(e){var t=new n.ARRAY_TYPE(9);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t}function o(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e}function u(e,t,r,i,s,a,o,u,c){var l=new n.ARRAY_TYPE(9);return l[0]=e,l[1]=t,l[2]=r,l[3]=i,l[4]=s,l[5]=a,l[6]=o,l[7]=u,l[8]=c,l}function c(e,t,r,n,i,s,a,o,u,c){return e[0]=t,e[1]=r,e[2]=n,e[3]=i,e[4]=s,e[5]=a,e[6]=o,e[7]=u,e[8]=c,e}function l(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=1,e[5]=0,e[6]=0,e[7]=0,e[8]=1,e}function h(e,t){if(e===t){var r=t[1],n=t[2],i=t[5];e[1]=t[3],e[2]=t[6],e[3]=r,e[5]=t[7],e[6]=n,e[7]=i}else e[0]=t[0],e[1]=t[3],e[2]=t[6],e[3]=t[1],e[4]=t[4],e[5]=t[7],e[6]=t[2],e[7]=t[5],e[8]=t[8];return e}function d(e,t){var r=t[0],n=t[1],i=t[2],s=t[3],a=t[4],o=t[5],u=t[6],c=t[7],l=t[8],h=l*a-o*c,d=-l*s+o*u,f=c*s-a*u,m=r*h+n*d+i*f;return m?(m=1/m,e[0]=h*m,e[1]=(-l*n+i*c)*m,e[2]=(o*n-i*a)*m,e[3]=d*m,e[4]=(l*r-i*u)*m,e[5]=(-o*r+i*s)*m,e[6]=f*m,e[7]=(-c*r+n*u)*m,e[8]=(a*r-n*s)*m,e):null}function f(e,t){var r=t[0],n=t[1],i=t[2],s=t[3],a=t[4],o=t[5],u=t[6],c=t[7],l=t[8];return e[0]=a*l-o*c,e[1]=i*c-n*l,e[2]=n*o-i*a,e[3]=o*u-s*l,e[4]=r*l-i*u,e[5]=i*s-r*o,e[6]=s*c-a*u,e[7]=n*u-r*c,e[8]=r*a-n*s,e}function m(e){var t=e[0],r=e[1],n=e[2],i=e[3],s=e[4],a=e[5],o=e[6],u=e[7],c=e[8];return t*(c*s-a*u)+r*(-c*i+a*o)+n*(u*i-s*o)}function v(e,t,r){var n=t[0],i=t[1],s=t[2],a=t[3],o=t[4],u=t[5],c=t[6],l=t[7],h=t[8],d=r[0],f=r[1],m=r[2],v=r[3],p=r[4],_=r[5],E=r[6],S=r[7],T=r[8];return e[0]=d*n+f*a+m*c,e[1]=d*i+f*o+m*l,e[2]=d*s+f*u+m*h,e[3]=v*n+p*a+_*c,e[4]=v*i+p*o+_*l,e[5]=v*s+p*u+_*h,e[6]=E*n+S*a+T*c,e[7]=E*i+S*o+T*l,e[8]=E*s+S*u+T*h,e}function p(e,t,r){var n=t[0],i=t[1],s=t[2],a=t[3],o=t[4],u=t[5],c=t[6],l=t[7],h=t[8],d=r[0],f=r[1];return e[0]=n,e[1]=i,e[2]=s,e[3]=a,e[4]=o,e[5]=u,e[6]=d*n+f*a+c,e[7]=d*i+f*o+l,e[8]=d*s+f*u+h,e}function _(e,t,r){var n=t[0],i=t[1],s=t[2],a=t[3],o=t[4],u=t[5],c=t[6],l=t[7],h=t[8],d=Math.sin(r),f=Math.cos(r);return e[0]=f*n+d*a,e[1]=f*i+d*o,e[2]=f*s+d*u,e[3]=f*a-d*n,e[4]=f*o-d*i,e[5]=f*u-d*s,e[6]=c,e[7]=l,e[8]=h,e}function E(e,t,r){var n=r[0],i=r[1];return e[0]=n*t[0],e[1]=n*t[1],e[2]=n*t[2],e[3]=i*t[3],e[4]=i*t[4],e[5]=i*t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e}function S(e,t){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=1,e[5]=0,e[6]=t[0],e[7]=t[1],e[8]=1,e}function T(e,t){var r=Math.sin(t),n=Math.cos(t);return e[0]=n,e[1]=r,e[2]=0,e[3]=-r,e[4]=n,e[5]=0,e[6]=0,e[7]=0,e[8]=1,e}function g(e,t){return e[0]=t[0],e[1]=0,e[2]=0,e[3]=0,e[4]=t[1],e[5]=0,e[6]=0,e[7]=0,e[8]=1,e}function R(e,t){return e[0]=t[0],e[1]=t[1],e[2]=0,e[3]=t[2],e[4]=t[3],e[5]=0,e[6]=t[4],e[7]=t[5],e[8]=1,e}function b(e,t){var r=t[0],n=t[1],i=t[2],s=t[3],a=r+r,o=n+n,u=i+i,c=r*a,l=n*a,h=n*o,d=i*a,f=i*o,m=i*u,v=s*a,p=s*o,_=s*u;return e[0]=1-h-m,e[3]=l-_,e[6]=d+p,e[1]=l+_,e[4]=1-c-m,e[7]=f-v,e[2]=d-p,e[5]=f+v,e[8]=1-c-h,e}function y(e,t){var r=t[0],n=t[1],i=t[2],s=t[3],a=t[4],o=t[5],u=t[6],c=t[7],l=t[8],h=t[9],d=t[10],f=t[11],m=t[12],v=t[13],p=t[14],_=t[15],E=r*o-n*a,S=r*u-i*a,T=r*c-s*a,g=n*u-i*o,R=n*c-s*o,b=i*c-s*u,y=l*v-h*m,A=l*p-d*m,j=l*_-f*m,w=h*p-d*v,O=h*_-f*v,C=d*_-f*p,L=E*C-S*O+T*w+g*j-R*A+b*y;return L?(L=1/L,e[0]=(o*C-u*O+c*w)*L,e[1]=(u*j-a*C-c*A)*L,e[2]=(a*O-o*j+c*y)*L,e[3]=(i*O-n*C-s*w)*L,e[4]=(r*C-i*j+s*A)*L,e[5]=(n*j-r*O-s*y)*L,e[6]=(v*b-p*R+_*g)*L,e[7]=(p*T-m*b-_*S)*L,e[8]=(m*R-v*T+_*E)*L,e):null}function A(e,t,r){return e[0]=2/t,e[1]=0,e[2]=0,e[3]=0,e[4]=-2/r,e[5]=0,e[6]=-1,e[7]=1,e[8]=1,e}function j(e){return"mat3("+e[0]+", "+e[1]+", "+e[2]+", "+e[3]+", "+e[4]+", "+e[5]+", "+e[6]+", "+e[7]+", "+e[8]+")"}function w(e){return Math.sqrt(Math.pow(e[0],2)+Math.pow(e[1],2)+Math.pow(e[2],2)+Math.pow(e[3],2)+Math.pow(e[4],2)+Math.pow(e[5],2)+Math.pow(e[6],2)+Math.pow(e[7],2)+Math.pow(e[8],2))}function O(e,t,r){return e[0]=t[0]+r[0],e[1]=t[1]+r[1],e[2]=t[2]+r[2],e[3]=t[3]+r[3],e[4]=t[4]+r[4],e[5]=t[5]+r[5],e[6]=t[6]+r[6],e[7]=t[7]+r[7],e[8]=t[8]+r[8],e}function C(e,t,r){return e[0]=t[0]-r[0],e[1]=t[1]-r[1],e[2]=t[2]-r[2],e[3]=t[3]-r[3],e[4]=t[4]-r[4],e[5]=t[5]-r[5],e[6]=t[6]-r[6],e[7]=t[7]-r[7],e[8]=t[8]-r[8],e}function L(e,t,r){return e[0]=t[0]*r,e[1]=t[1]*r,e[2]=t[2]*r,e[3]=t[3]*r,e[4]=t[4]*r,e[5]=t[5]*r,e[6]=t[6]*r,e[7]=t[7]*r,e[8]=t[8]*r,e}function D(e,t,r,n){return e[0]=t[0]+r[0]*n,e[1]=t[1]+r[1]*n,e[2]=t[2]+r[2]*n,e[3]=t[3]+r[3]*n,e[4]=t[4]+r[4]*n,e[5]=t[5]+r[5]*n,e[6]=t[6]+r[6]*n,e[7]=t[7]+r[7]*n,e[8]=t[8]+r[8]*n,e}function P(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===t[3]&&e[4]===t[4]&&e[5]===t[5]&&e[6]===t[6]&&e[7]===t[7]&&e[8]===t[8]}function x(e,t){var r=e[0],i=e[1],s=e[2],a=e[3],o=e[4],u=e[5],c=e[6],l=e[7],h=e[8],d=t[0],f=t[1],m=t[2],v=t[3],p=t[4],_=t[5],E=t[6],S=t[7],T=t[8];return Math.abs(r-d)<=n.EPSILON*Math.max(1,Math.abs(r),Math.abs(d))&&Math.abs(i-f)<=n.EPSILON*Math.max(1,Math.abs(i),Math.abs(f))&&Math.abs(s-m)<=n.EPSILON*Math.max(1,Math.abs(s),Math.abs(m))&&Math.abs(a-v)<=n.EPSILON*Math.max(1,Math.abs(a),Math.abs(v))&&Math.abs(o-p)<=n.EPSILON*Math.max(1,Math.abs(o),Math.abs(p))&&Math.abs(u-_)<=n.EPSILON*Math.max(1,Math.abs(u),Math.abs(_))&&Math.abs(c-E)<=n.EPSILON*Math.max(1,Math.abs(c),Math.abs(E))&&Math.abs(l-S)<=n.EPSILON*Math.max(1,Math.abs(l),Math.abs(S))&&Math.abs(h-T)<=n.EPSILON*Math.max(1,Math.abs(h),Math.abs(T))}var I=v,M=C},"../node_modules/gl-matrix/lib/gl-matrix/mat4.js":function(e,t,r){"use strict";r.r(t),r.d(t,"create",(function(){return i})),r.d(t,"clone",(function(){return s})),r.d(t,"copy",(function(){return a})),r.d(t,"fromValues",(function(){return o})),r.d(t,"set",(function(){return u})),r.d(t,"identity",(function(){return c})),r.d(t,"transpose",(function(){return l})),r.d(t,"invert",(function(){return h})),r.d(t,"adjoint",(function(){return d})),r.d(t,"determinant",(function(){return f})),r.d(t,"multiply",(function(){return m})),r.d(t,"translate",(function(){return v})),r.d(t,"scale",(function(){return p})),r.d(t,"rotate",(function(){return _})),r.d(t,"rotateX",(function(){return E})),r.d(t,"rotateY",(function(){return S})),r.d(t,"rotateZ",(function(){return T})),r.d(t,"fromTranslation",(function(){return g})),r.d(t,"fromScaling",(function(){return R})),r.d(t,"fromRotation",(function(){return b})),r.d(t,"fromXRotation",(function(){return y})),r.d(t,"fromYRotation",(function(){return A})),r.d(t,"fromZRotation",(function(){return j})),r.d(t,"fromRotationTranslation",(function(){return w})),r.d(t,"fromQuat2",(function(){return O})),r.d(t,"getTranslation",(function(){return C})),r.d(t,"getScaling",(function(){return L})),r.d(t,"getRotation",(function(){return D})),r.d(t,"fromRotationTranslationScale",(function(){return P})),r.d(t,"fromRotationTranslationScaleOrigin",(function(){return x})),r.d(t,"fromQuat",(function(){return I})),r.d(t,"frustum",(function(){return M})),r.d(t,"perspective",(function(){return F})),r.d(t,"perspectiveFromFieldOfView",(function(){return G})),r.d(t,"ortho",(function(){return N})),r.d(t,"lookAt",(function(){return B})),r.d(t,"targetTo",(function(){return U})),r.d(t,"str",(function(){return V})),r.d(t,"frob",(function(){return k})),r.d(t,"add",(function(){return H})),r.d(t,"subtract",(function(){return q})),r.d(t,"multiplyScalar",(function(){return z})),r.d(t,"multiplyScalarAndAdd",(function(){return W})),r.d(t,"exactEquals",(function(){return Y})),r.d(t,"equals",(function(){return X})),r.d(t,"mul",(function(){return K})),r.d(t,"sub",(function(){return Q}));var n=r("../node_modules/gl-matrix/lib/gl-matrix/common.js");function i(){var e=new n.ARRAY_TYPE(16);return n.ARRAY_TYPE!=Float32Array&&(e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[11]=0,e[12]=0,e[13]=0,e[14]=0),e[0]=1,e[5]=1,e[10]=1,e[15]=1,e}function s(e){var t=new n.ARRAY_TYPE(16);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t}function a(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e}function o(e,t,r,i,s,a,o,u,c,l,h,d,f,m,v,p){var _=new n.ARRAY_TYPE(16);return _[0]=e,_[1]=t,_[2]=r,_[3]=i,_[4]=s,_[5]=a,_[6]=o,_[7]=u,_[8]=c,_[9]=l,_[10]=h,_[11]=d,_[12]=f,_[13]=m,_[14]=v,_[15]=p,_}function u(e,t,r,n,i,s,a,o,u,c,l,h,d,f,m,v,p){return e[0]=t,e[1]=r,e[2]=n,e[3]=i,e[4]=s,e[5]=a,e[6]=o,e[7]=u,e[8]=c,e[9]=l,e[10]=h,e[11]=d,e[12]=f,e[13]=m,e[14]=v,e[15]=p,e}function c(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function l(e,t){if(e===t){var r=t[1],n=t[2],i=t[3],s=t[6],a=t[7],o=t[11];e[1]=t[4],e[2]=t[8],e[3]=t[12],e[4]=r,e[6]=t[9],e[7]=t[13],e[8]=n,e[9]=s,e[11]=t[14],e[12]=i,e[13]=a,e[14]=o}else e[0]=t[0],e[1]=t[4],e[2]=t[8],e[3]=t[12],e[4]=t[1],e[5]=t[5],e[6]=t[9],e[7]=t[13],e[8]=t[2],e[9]=t[6],e[10]=t[10],e[11]=t[14],e[12]=t[3],e[13]=t[7],e[14]=t[11],e[15]=t[15];return e}function h(e,t){var r=t[0],n=t[1],i=t[2],s=t[3],a=t[4],o=t[5],u=t[6],c=t[7],l=t[8],h=t[9],d=t[10],f=t[11],m=t[12],v=t[13],p=t[14],_=t[15],E=r*o-n*a,S=r*u-i*a,T=r*c-s*a,g=n*u-i*o,R=n*c-s*o,b=i*c-s*u,y=l*v-h*m,A=l*p-d*m,j=l*_-f*m,w=h*p-d*v,O=h*_-f*v,C=d*_-f*p,L=E*C-S*O+T*w+g*j-R*A+b*y;return L?(L=1/L,e[0]=(o*C-u*O+c*w)*L,e[1]=(i*O-n*C-s*w)*L,e[2]=(v*b-p*R+_*g)*L,e[3]=(d*R-h*b-f*g)*L,e[4]=(u*j-a*C-c*A)*L,e[5]=(r*C-i*j+s*A)*L,e[6]=(p*T-m*b-_*S)*L,e[7]=(l*b-d*T+f*S)*L,e[8]=(a*O-o*j+c*y)*L,e[9]=(n*j-r*O-s*y)*L,e[10]=(m*R-v*T+_*E)*L,e[11]=(h*T-l*R-f*E)*L,e[12]=(o*A-a*w-u*y)*L,e[13]=(r*w-n*A+i*y)*L,e[14]=(v*S-m*g-p*E)*L,e[15]=(l*g-h*S+d*E)*L,e):null}function d(e,t){var r=t[0],n=t[1],i=t[2],s=t[3],a=t[4],o=t[5],u=t[6],c=t[7],l=t[8],h=t[9],d=t[10],f=t[11],m=t[12],v=t[13],p=t[14],_=t[15];return e[0]=o*(d*_-f*p)-h*(u*_-c*p)+v*(u*f-c*d),e[1]=-(n*(d*_-f*p)-h*(i*_-s*p)+v*(i*f-s*d)),e[2]=n*(u*_-c*p)-o*(i*_-s*p)+v*(i*c-s*u),e[3]=-(n*(u*f-c*d)-o*(i*f-s*d)+h*(i*c-s*u)),e[4]=-(a*(d*_-f*p)-l*(u*_-c*p)+m*(u*f-c*d)),e[5]=r*(d*_-f*p)-l*(i*_-s*p)+m*(i*f-s*d),e[6]=-(r*(u*_-c*p)-a*(i*_-s*p)+m*(i*c-s*u)),e[7]=r*(u*f-c*d)-a*(i*f-s*d)+l*(i*c-s*u),e[8]=a*(h*_-f*v)-l*(o*_-c*v)+m*(o*f-c*h),e[9]=-(r*(h*_-f*v)-l*(n*_-s*v)+m*(n*f-s*h)),e[10]=r*(o*_-c*v)-a*(n*_-s*v)+m*(n*c-s*o),e[11]=-(r*(o*f-c*h)-a*(n*f-s*h)+l*(n*c-s*o)),e[12]=-(a*(h*p-d*v)-l*(o*p-u*v)+m*(o*d-u*h)),e[13]=r*(h*p-d*v)-l*(n*p-i*v)+m*(n*d-i*h),e[14]=-(r*(o*p-u*v)-a*(n*p-i*v)+m*(n*u-i*o)),e[15]=r*(o*d-u*h)-a*(n*d-i*h)+l*(n*u-i*o),e}function f(e){var t=e[0],r=e[1],n=e[2],i=e[3],s=e[4],a=e[5],o=e[6],u=e[7],c=e[8],l=e[9],h=e[10],d=e[11],f=e[12],m=e[13],v=e[14],p=e[15];return(t*a-r*s)*(h*p-d*v)-(t*o-n*s)*(l*p-d*m)+(t*u-i*s)*(l*v-h*m)+(r*o-n*a)*(c*p-d*f)-(r*u-i*a)*(c*v-h*f)+(n*u-i*o)*(c*m-l*f)}function m(e,t,r){var n=t[0],i=t[1],s=t[2],a=t[3],o=t[4],u=t[5],c=t[6],l=t[7],h=t[8],d=t[9],f=t[10],m=t[11],v=t[12],p=t[13],_=t[14],E=t[15],S=r[0],T=r[1],g=r[2],R=r[3];return e[0]=S*n+T*o+g*h+R*v,e[1]=S*i+T*u+g*d+R*p,e[2]=S*s+T*c+g*f+R*_,e[3]=S*a+T*l+g*m+R*E,S=r[4],T=r[5],g=r[6],R=r[7],e[4]=S*n+T*o+g*h+R*v,e[5]=S*i+T*u+g*d+R*p,e[6]=S*s+T*c+g*f+R*_,e[7]=S*a+T*l+g*m+R*E,S=r[8],T=r[9],g=r[10],R=r[11],e[8]=S*n+T*o+g*h+R*v,e[9]=S*i+T*u+g*d+R*p,e[10]=S*s+T*c+g*f+R*_,e[11]=S*a+T*l+g*m+R*E,S=r[12],T=r[13],g=r[14],R=r[15],e[12]=S*n+T*o+g*h+R*v,e[13]=S*i+T*u+g*d+R*p,e[14]=S*s+T*c+g*f+R*_,e[15]=S*a+T*l+g*m+R*E,e}function v(e,t,r){var n=r[0],i=r[1],s=r[2],a=void 0,o=void 0,u=void 0,c=void 0,l=void 0,h=void 0,d=void 0,f=void 0,m=void 0,v=void 0,p=void 0,_=void 0;return t===e?(e[12]=t[0]*n+t[4]*i+t[8]*s+t[12],e[13]=t[1]*n+t[5]*i+t[9]*s+t[13],e[14]=t[2]*n+t[6]*i+t[10]*s+t[14],e[15]=t[3]*n+t[7]*i+t[11]*s+t[15]):(a=t[0],o=t[1],u=t[2],c=t[3],l=t[4],h=t[5],d=t[6],f=t[7],m=t[8],v=t[9],p=t[10],_=t[11],e[0]=a,e[1]=o,e[2]=u,e[3]=c,e[4]=l,e[5]=h,e[6]=d,e[7]=f,e[8]=m,e[9]=v,e[10]=p,e[11]=_,e[12]=a*n+l*i+m*s+t[12],e[13]=o*n+h*i+v*s+t[13],e[14]=u*n+d*i+p*s+t[14],e[15]=c*n+f*i+_*s+t[15]),e}function p(e,t,r){var n=r[0],i=r[1],s=r[2];return e[0]=t[0]*n,e[1]=t[1]*n,e[2]=t[2]*n,e[3]=t[3]*n,e[4]=t[4]*i,e[5]=t[5]*i,e[6]=t[6]*i,e[7]=t[7]*i,e[8]=t[8]*s,e[9]=t[9]*s,e[10]=t[10]*s,e[11]=t[11]*s,e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e}function _(e,t,r,i){var s,a,o,u,c,l,h,d,f,m,v,p,_,E,S,T,g,R,b,y,A,j,w,O,C=i[0],L=i[1],D=i[2],P=Math.sqrt(C*C+L*L+D*D);return P<n.EPSILON?null:(C*=P=1/P,L*=P,D*=P,s=Math.sin(r),o=1-(a=Math.cos(r)),u=t[0],c=t[1],l=t[2],h=t[3],d=t[4],f=t[5],m=t[6],v=t[7],p=t[8],_=t[9],E=t[10],S=t[11],T=C*C*o+a,g=L*C*o+D*s,R=D*C*o-L*s,b=C*L*o-D*s,y=L*L*o+a,A=D*L*o+C*s,j=C*D*o+L*s,w=L*D*o-C*s,O=D*D*o+a,e[0]=u*T+d*g+p*R,e[1]=c*T+f*g+_*R,e[2]=l*T+m*g+E*R,e[3]=h*T+v*g+S*R,e[4]=u*b+d*y+p*A,e[5]=c*b+f*y+_*A,e[6]=l*b+m*y+E*A,e[7]=h*b+v*y+S*A,e[8]=u*j+d*w+p*O,e[9]=c*j+f*w+_*O,e[10]=l*j+m*w+E*O,e[11]=h*j+v*w+S*O,t!==e&&(e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e)}function E(e,t,r){var n=Math.sin(r),i=Math.cos(r),s=t[4],a=t[5],o=t[6],u=t[7],c=t[8],l=t[9],h=t[10],d=t[11];return t!==e&&(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[4]=s*i+c*n,e[5]=a*i+l*n,e[6]=o*i+h*n,e[7]=u*i+d*n,e[8]=c*i-s*n,e[9]=l*i-a*n,e[10]=h*i-o*n,e[11]=d*i-u*n,e}function S(e,t,r){var n=Math.sin(r),i=Math.cos(r),s=t[0],a=t[1],o=t[2],u=t[3],c=t[8],l=t[9],h=t[10],d=t[11];return t!==e&&(e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[0]=s*i-c*n,e[1]=a*i-l*n,e[2]=o*i-h*n,e[3]=u*i-d*n,e[8]=s*n+c*i,e[9]=a*n+l*i,e[10]=o*n+h*i,e[11]=u*n+d*i,e}function T(e,t,r){var n=Math.sin(r),i=Math.cos(r),s=t[0],a=t[1],o=t[2],u=t[3],c=t[4],l=t[5],h=t[6],d=t[7];return t!==e&&(e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[0]=s*i+c*n,e[1]=a*i+l*n,e[2]=o*i+h*n,e[3]=u*i+d*n,e[4]=c*i-s*n,e[5]=l*i-a*n,e[6]=h*i-o*n,e[7]=d*i-u*n,e}function g(e,t){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=t[0],e[13]=t[1],e[14]=t[2],e[15]=1,e}function R(e,t){return e[0]=t[0],e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=t[1],e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=t[2],e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function b(e,t,r){var i,s,a,o=r[0],u=r[1],c=r[2],l=Math.sqrt(o*o+u*u+c*c);return l<n.EPSILON?null:(o*=l=1/l,u*=l,c*=l,i=Math.sin(t),a=1-(s=Math.cos(t)),e[0]=o*o*a+s,e[1]=u*o*a+c*i,e[2]=c*o*a-u*i,e[3]=0,e[4]=o*u*a-c*i,e[5]=u*u*a+s,e[6]=c*u*a+o*i,e[7]=0,e[8]=o*c*a+u*i,e[9]=u*c*a-o*i,e[10]=c*c*a+s,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e)}function y(e,t){var r=Math.sin(t),n=Math.cos(t);return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=n,e[6]=r,e[7]=0,e[8]=0,e[9]=-r,e[10]=n,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function A(e,t){var r=Math.sin(t),n=Math.cos(t);return e[0]=n,e[1]=0,e[2]=-r,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=r,e[9]=0,e[10]=n,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function j(e,t){var r=Math.sin(t),n=Math.cos(t);return e[0]=n,e[1]=r,e[2]=0,e[3]=0,e[4]=-r,e[5]=n,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function w(e,t,r){var n=t[0],i=t[1],s=t[2],a=t[3],o=n+n,u=i+i,c=s+s,l=n*o,h=n*u,d=n*c,f=i*u,m=i*c,v=s*c,p=a*o,_=a*u,E=a*c;return e[0]=1-(f+v),e[1]=h+E,e[2]=d-_,e[3]=0,e[4]=h-E,e[5]=1-(l+v),e[6]=m+p,e[7]=0,e[8]=d+_,e[9]=m-p,e[10]=1-(l+f),e[11]=0,e[12]=r[0],e[13]=r[1],e[14]=r[2],e[15]=1,e}function O(e,t){var r=new n.ARRAY_TYPE(3),i=-t[0],s=-t[1],a=-t[2],o=t[3],u=t[4],c=t[5],l=t[6],h=t[7],d=i*i+s*s+a*a+o*o;return d>0?(r[0]=2*(u*o+h*i+c*a-l*s)/d,r[1]=2*(c*o+h*s+l*i-u*a)/d,r[2]=2*(l*o+h*a+u*s-c*i)/d):(r[0]=2*(u*o+h*i+c*a-l*s),r[1]=2*(c*o+h*s+l*i-u*a),r[2]=2*(l*o+h*a+u*s-c*i)),w(e,t,r),e}function C(e,t){return e[0]=t[12],e[1]=t[13],e[2]=t[14],e}function L(e,t){var r=t[0],n=t[1],i=t[2],s=t[4],a=t[5],o=t[6],u=t[8],c=t[9],l=t[10];return e[0]=Math.sqrt(r*r+n*n+i*i),e[1]=Math.sqrt(s*s+a*a+o*o),e[2]=Math.sqrt(u*u+c*c+l*l),e}function D(e,t){var r=t[0]+t[5]+t[10],n=0;return r>0?(n=2*Math.sqrt(r+1),e[3]=.25*n,e[0]=(t[6]-t[9])/n,e[1]=(t[8]-t[2])/n,e[2]=(t[1]-t[4])/n):t[0]>t[5]&&t[0]>t[10]?(n=2*Math.sqrt(1+t[0]-t[5]-t[10]),e[3]=(t[6]-t[9])/n,e[0]=.25*n,e[1]=(t[1]+t[4])/n,e[2]=(t[8]+t[2])/n):t[5]>t[10]?(n=2*Math.sqrt(1+t[5]-t[0]-t[10]),e[3]=(t[8]-t[2])/n,e[0]=(t[1]+t[4])/n,e[1]=.25*n,e[2]=(t[6]+t[9])/n):(n=2*Math.sqrt(1+t[10]-t[0]-t[5]),e[3]=(t[1]-t[4])/n,e[0]=(t[8]+t[2])/n,e[1]=(t[6]+t[9])/n,e[2]=.25*n),e}function P(e,t,r,n){var i=t[0],s=t[1],a=t[2],o=t[3],u=i+i,c=s+s,l=a+a,h=i*u,d=i*c,f=i*l,m=s*c,v=s*l,p=a*l,_=o*u,E=o*c,S=o*l,T=n[0],g=n[1],R=n[2];return e[0]=(1-(m+p))*T,e[1]=(d+S)*T,e[2]=(f-E)*T,e[3]=0,e[4]=(d-S)*g,e[5]=(1-(h+p))*g,e[6]=(v+_)*g,e[7]=0,e[8]=(f+E)*R,e[9]=(v-_)*R,e[10]=(1-(h+m))*R,e[11]=0,e[12]=r[0],e[13]=r[1],e[14]=r[2],e[15]=1,e}function x(e,t,r,n,i){var s=t[0],a=t[1],o=t[2],u=t[3],c=s+s,l=a+a,h=o+o,d=s*c,f=s*l,m=s*h,v=a*l,p=a*h,_=o*h,E=u*c,S=u*l,T=u*h,g=n[0],R=n[1],b=n[2],y=i[0],A=i[1],j=i[2],w=(1-(v+_))*g,O=(f+T)*g,C=(m-S)*g,L=(f-T)*R,D=(1-(d+_))*R,P=(p+E)*R,x=(m+S)*b,I=(p-E)*b,M=(1-(d+v))*b;return e[0]=w,e[1]=O,e[2]=C,e[3]=0,e[4]=L,e[5]=D,e[6]=P,e[7]=0,e[8]=x,e[9]=I,e[10]=M,e[11]=0,e[12]=r[0]+y-(w*y+L*A+x*j),e[13]=r[1]+A-(O*y+D*A+I*j),e[14]=r[2]+j-(C*y+P*A+M*j),e[15]=1,e}function I(e,t){var r=t[0],n=t[1],i=t[2],s=t[3],a=r+r,o=n+n,u=i+i,c=r*a,l=n*a,h=n*o,d=i*a,f=i*o,m=i*u,v=s*a,p=s*o,_=s*u;return e[0]=1-h-m,e[1]=l+_,e[2]=d-p,e[3]=0,e[4]=l-_,e[5]=1-c-m,e[6]=f+v,e[7]=0,e[8]=d+p,e[9]=f-v,e[10]=1-c-h,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function M(e,t,r,n,i,s,a){var o=1/(r-t),u=1/(i-n),c=1/(s-a);return e[0]=2*s*o,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=2*s*u,e[6]=0,e[7]=0,e[8]=(r+t)*o,e[9]=(i+n)*u,e[10]=(a+s)*c,e[11]=-1,e[12]=0,e[13]=0,e[14]=a*s*2*c,e[15]=0,e}function F(e,t,r,n,i){var s=1/Math.tan(t/2),a=void 0;return e[0]=s/r,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=s,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[11]=-1,e[12]=0,e[13]=0,e[15]=0,null!=i&&i!==1/0?(a=1/(n-i),e[10]=(i+n)*a,e[14]=2*i*n*a):(e[10]=-1,e[14]=-2*n),e}function G(e,t,r,n){var i=Math.tan(t.upDegrees*Math.PI/180),s=Math.tan(t.downDegrees*Math.PI/180),a=Math.tan(t.leftDegrees*Math.PI/180),o=Math.tan(t.rightDegrees*Math.PI/180),u=2/(a+o),c=2/(i+s);return e[0]=u,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=c,e[6]=0,e[7]=0,e[8]=-(a-o)*u*.5,e[9]=(i-s)*c*.5,e[10]=n/(r-n),e[11]=-1,e[12]=0,e[13]=0,e[14]=n*r/(r-n),e[15]=0,e}function N(e,t,r,n,i,s,a){var o=1/(t-r),u=1/(n-i),c=1/(s-a);return e[0]=-2*o,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=-2*u,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=2*c,e[11]=0,e[12]=(t+r)*o,e[13]=(i+n)*u,e[14]=(a+s)*c,e[15]=1,e}function B(e,t,r,i){var s=void 0,a=void 0,o=void 0,u=void 0,l=void 0,h=void 0,d=void 0,f=void 0,m=void 0,v=void 0,p=t[0],_=t[1],E=t[2],S=i[0],T=i[1],g=i[2],R=r[0],b=r[1],y=r[2];return Math.abs(p-R)<n.EPSILON&&Math.abs(_-b)<n.EPSILON&&Math.abs(E-y)<n.EPSILON?c(e):(d=p-R,f=_-b,m=E-y,s=T*(m*=v=1/Math.sqrt(d*d+f*f+m*m))-g*(f*=v),a=g*(d*=v)-S*m,o=S*f-T*d,(v=Math.sqrt(s*s+a*a+o*o))?(s*=v=1/v,a*=v,o*=v):(s=0,a=0,o=0),u=f*o-m*a,l=m*s-d*o,h=d*a-f*s,(v=Math.sqrt(u*u+l*l+h*h))?(u*=v=1/v,l*=v,h*=v):(u=0,l=0,h=0),e[0]=s,e[1]=u,e[2]=d,e[3]=0,e[4]=a,e[5]=l,e[6]=f,e[7]=0,e[8]=o,e[9]=h,e[10]=m,e[11]=0,e[12]=-(s*p+a*_+o*E),e[13]=-(u*p+l*_+h*E),e[14]=-(d*p+f*_+m*E),e[15]=1,e)}function U(e,t,r,n){var i=t[0],s=t[1],a=t[2],o=n[0],u=n[1],c=n[2],l=i-r[0],h=s-r[1],d=a-r[2],f=l*l+h*h+d*d;f>0&&(l*=f=1/Math.sqrt(f),h*=f,d*=f);var m=u*d-c*h,v=c*l-o*d,p=o*h-u*l;return(f=m*m+v*v+p*p)>0&&(m*=f=1/Math.sqrt(f),v*=f,p*=f),e[0]=m,e[1]=v,e[2]=p,e[3]=0,e[4]=h*p-d*v,e[5]=d*m-l*p,e[6]=l*v-h*m,e[7]=0,e[8]=l,e[9]=h,e[10]=d,e[11]=0,e[12]=i,e[13]=s,e[14]=a,e[15]=1,e}function V(e){return"mat4("+e[0]+", "+e[1]+", "+e[2]+", "+e[3]+", "+e[4]+", "+e[5]+", "+e[6]+", "+e[7]+", "+e[8]+", "+e[9]+", "+e[10]+", "+e[11]+", "+e[12]+", "+e[13]+", "+e[14]+", "+e[15]+")"}function k(e){return Math.sqrt(Math.pow(e[0],2)+Math.pow(e[1],2)+Math.pow(e[2],2)+Math.pow(e[3],2)+Math.pow(e[4],2)+Math.pow(e[5],2)+Math.pow(e[6],2)+Math.pow(e[7],2)+Math.pow(e[8],2)+Math.pow(e[9],2)+Math.pow(e[10],2)+Math.pow(e[11],2)+Math.pow(e[12],2)+Math.pow(e[13],2)+Math.pow(e[14],2)+Math.pow(e[15],2))}function H(e,t,r){return e[0]=t[0]+r[0],e[1]=t[1]+r[1],e[2]=t[2]+r[2],e[3]=t[3]+r[3],e[4]=t[4]+r[4],e[5]=t[5]+r[5],e[6]=t[6]+r[6],e[7]=t[7]+r[7],e[8]=t[8]+r[8],e[9]=t[9]+r[9],e[10]=t[10]+r[10],e[11]=t[11]+r[11],e[12]=t[12]+r[12],e[13]=t[13]+r[13],e[14]=t[14]+r[14],e[15]=t[15]+r[15],e}function q(e,t,r){return e[0]=t[0]-r[0],e[1]=t[1]-r[1],e[2]=t[2]-r[2],e[3]=t[3]-r[3],e[4]=t[4]-r[4],e[5]=t[5]-r[5],e[6]=t[6]-r[6],e[7]=t[7]-r[7],e[8]=t[8]-r[8],e[9]=t[9]-r[9],e[10]=t[10]-r[10],e[11]=t[11]-r[11],e[12]=t[12]-r[12],e[13]=t[13]-r[13],e[14]=t[14]-r[14],e[15]=t[15]-r[15],e}function z(e,t,r){return e[0]=t[0]*r,e[1]=t[1]*r,e[2]=t[2]*r,e[3]=t[3]*r,e[4]=t[4]*r,e[5]=t[5]*r,e[6]=t[6]*r,e[7]=t[7]*r,e[8]=t[8]*r,e[9]=t[9]*r,e[10]=t[10]*r,e[11]=t[11]*r,e[12]=t[12]*r,e[13]=t[13]*r,e[14]=t[14]*r,e[15]=t[15]*r,e}function W(e,t,r,n){return e[0]=t[0]+r[0]*n,e[1]=t[1]+r[1]*n,e[2]=t[2]+r[2]*n,e[3]=t[3]+r[3]*n,e[4]=t[4]+r[4]*n,e[5]=t[5]+r[5]*n,e[6]=t[6]+r[6]*n,e[7]=t[7]+r[7]*n,e[8]=t[8]+r[8]*n,e[9]=t[9]+r[9]*n,e[10]=t[10]+r[10]*n,e[11]=t[11]+r[11]*n,e[12]=t[12]+r[12]*n,e[13]=t[13]+r[13]*n,e[14]=t[14]+r[14]*n,e[15]=t[15]+r[15]*n,e}function Y(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===t[3]&&e[4]===t[4]&&e[5]===t[5]&&e[6]===t[6]&&e[7]===t[7]&&e[8]===t[8]&&e[9]===t[9]&&e[10]===t[10]&&e[11]===t[11]&&e[12]===t[12]&&e[13]===t[13]&&e[14]===t[14]&&e[15]===t[15]}function X(e,t){var r=e[0],i=e[1],s=e[2],a=e[3],o=e[4],u=e[5],c=e[6],l=e[7],h=e[8],d=e[9],f=e[10],m=e[11],v=e[12],p=e[13],_=e[14],E=e[15],S=t[0],T=t[1],g=t[2],R=t[3],b=t[4],y=t[5],A=t[6],j=t[7],w=t[8],O=t[9],C=t[10],L=t[11],D=t[12],P=t[13],x=t[14],I=t[15];return Math.abs(r-S)<=n.EPSILON*Math.max(1,Math.abs(r),Math.abs(S))&&Math.abs(i-T)<=n.EPSILON*Math.max(1,Math.abs(i),Math.abs(T))&&Math.abs(s-g)<=n.EPSILON*Math.max(1,Math.abs(s),Math.abs(g))&&Math.abs(a-R)<=n.EPSILON*Math.max(1,Math.abs(a),Math.abs(R))&&Math.abs(o-b)<=n.EPSILON*Math.max(1,Math.abs(o),Math.abs(b))&&Math.abs(u-y)<=n.EPSILON*Math.max(1,Math.abs(u),Math.abs(y))&&Math.abs(c-A)<=n.EPSILON*Math.max(1,Math.abs(c),Math.abs(A))&&Math.abs(l-j)<=n.EPSILON*Math.max(1,Math.abs(l),Math.abs(j))&&Math.abs(h-w)<=n.EPSILON*Math.max(1,Math.abs(h),Math.abs(w))&&Math.abs(d-O)<=n.EPSILON*Math.max(1,Math.abs(d),Math.abs(O))&&Math.abs(f-C)<=n.EPSILON*Math.max(1,Math.abs(f),Math.abs(C))&&Math.abs(m-L)<=n.EPSILON*Math.max(1,Math.abs(m),Math.abs(L))&&Math.abs(v-D)<=n.EPSILON*Math.max(1,Math.abs(v),Math.abs(D))&&Math.abs(p-P)<=n.EPSILON*Math.max(1,Math.abs(p),Math.abs(P))&&Math.abs(_-x)<=n.EPSILON*Math.max(1,Math.abs(_),Math.abs(x))&&Math.abs(E-I)<=n.EPSILON*Math.max(1,Math.abs(E),Math.abs(I))}var K=m,Q=q},"../node_modules/gl-matrix/lib/gl-matrix/quat.js":function(e,t,r){"use strict";r.r(t),r.d(t,"create",(function(){return o})),r.d(t,"identity",(function(){return u})),r.d(t,"setAxisAngle",(function(){return c})),r.d(t,"getAxisAngle",(function(){return l})),r.d(t,"multiply",(function(){return h})),r.d(t,"rotateX",(function(){return d})),r.d(t,"rotateY",(function(){return f})),r.d(t,"rotateZ",(function(){return m})),r.d(t,"calculateW",(function(){return v})),r.d(t,"slerp",(function(){return p})),r.d(t,"random",(function(){return _})),r.d(t,"invert",(function(){return E})),r.d(t,"conjugate",(function(){return S})),r.d(t,"fromMat3",(function(){return T})),r.d(t,"fromEuler",(function(){return g})),r.d(t,"str",(function(){return R})),r.d(t,"clone",(function(){return C})),r.d(t,"fromValues",(function(){return L})),r.d(t,"copy",(function(){return D})),r.d(t,"set",(function(){return P})),r.d(t,"add",(function(){return x})),r.d(t,"mul",(function(){return I})),r.d(t,"scale",(function(){return M})),r.d(t,"dot",(function(){return F})),r.d(t,"lerp",(function(){return G})),r.d(t,"length",(function(){return N})),r.d(t,"len",(function(){return B})),r.d(t,"squaredLength",(function(){return U})),r.d(t,"sqrLen",(function(){return V})),r.d(t,"normalize",(function(){return k})),r.d(t,"exactEquals",(function(){return H})),r.d(t,"equals",(function(){return q})),r.d(t,"rotationTo",(function(){return z})),r.d(t,"sqlerp",(function(){return W})),r.d(t,"setAxes",(function(){return Y}));var n=r("../node_modules/gl-matrix/lib/gl-matrix/common.js"),i=r("../node_modules/gl-matrix/lib/gl-matrix/mat3.js"),s=r("../node_modules/gl-matrix/lib/gl-matrix/vec3.js"),a=r("../node_modules/gl-matrix/lib/gl-matrix/vec4.js");function o(){var e=new n.ARRAY_TYPE(4);return n.ARRAY_TYPE!=Float32Array&&(e[0]=0,e[1]=0,e[2]=0),e[3]=1,e}function u(e){return e[0]=0,e[1]=0,e[2]=0,e[3]=1,e}function c(e,t,r){r*=.5;var n=Math.sin(r);return e[0]=n*t[0],e[1]=n*t[1],e[2]=n*t[2],e[3]=Math.cos(r),e}function l(e,t){var r=2*Math.acos(t[3]),i=Math.sin(r/2);return i>n.EPSILON?(e[0]=t[0]/i,e[1]=t[1]/i,e[2]=t[2]/i):(e[0]=1,e[1]=0,e[2]=0),r}function h(e,t,r){var n=t[0],i=t[1],s=t[2],a=t[3],o=r[0],u=r[1],c=r[2],l=r[3];return e[0]=n*l+a*o+i*c-s*u,e[1]=i*l+a*u+s*o-n*c,e[2]=s*l+a*c+n*u-i*o,e[3]=a*l-n*o-i*u-s*c,e}function d(e,t,r){r*=.5;var n=t[0],i=t[1],s=t[2],a=t[3],o=Math.sin(r),u=Math.cos(r);return e[0]=n*u+a*o,e[1]=i*u+s*o,e[2]=s*u-i*o,e[3]=a*u-n*o,e}function f(e,t,r){r*=.5;var n=t[0],i=t[1],s=t[2],a=t[3],o=Math.sin(r),u=Math.cos(r);return e[0]=n*u-s*o,e[1]=i*u+a*o,e[2]=s*u+n*o,e[3]=a*u-i*o,e}function m(e,t,r){r*=.5;var n=t[0],i=t[1],s=t[2],a=t[3],o=Math.sin(r),u=Math.cos(r);return e[0]=n*u+i*o,e[1]=i*u-n*o,e[2]=s*u+a*o,e[3]=a*u-s*o,e}function v(e,t){var r=t[0],n=t[1],i=t[2];return e[0]=r,e[1]=n,e[2]=i,e[3]=Math.sqrt(Math.abs(1-r*r-n*n-i*i)),e}function p(e,t,r,i){var s=t[0],a=t[1],o=t[2],u=t[3],c=r[0],l=r[1],h=r[2],d=r[3],f=void 0,m=void 0,v=void 0,p=void 0,_=void 0;return(m=s*c+a*l+o*h+u*d)<0&&(m=-m,c=-c,l=-l,h=-h,d=-d),1-m>n.EPSILON?(f=Math.acos(m),v=Math.sin(f),p=Math.sin((1-i)*f)/v,_=Math.sin(i*f)/v):(p=1-i,_=i),e[0]=p*s+_*c,e[1]=p*a+_*l,e[2]=p*o+_*h,e[3]=p*u+_*d,e}function _(e){var t=n.RANDOM(),r=n.RANDOM(),i=n.RANDOM(),s=Math.sqrt(1-t),a=Math.sqrt(t);return e[0]=s*Math.sin(2*Math.PI*r),e[1]=s*Math.cos(2*Math.PI*r),e[2]=a*Math.sin(2*Math.PI*i),e[3]=a*Math.cos(2*Math.PI*i),e}function E(e,t){var r=t[0],n=t[1],i=t[2],s=t[3],a=r*r+n*n+i*i+s*s,o=a?1/a:0;return e[0]=-r*o,e[1]=-n*o,e[2]=-i*o,e[3]=s*o,e}function S(e,t){return e[0]=-t[0],e[1]=-t[1],e[2]=-t[2],e[3]=t[3],e}function T(e,t){var r=t[0]+t[4]+t[8],n=void 0;if(r>0)n=Math.sqrt(r+1),e[3]=.5*n,n=.5/n,e[0]=(t[5]-t[7])*n,e[1]=(t[6]-t[2])*n,e[2]=(t[1]-t[3])*n;else{var i=0;t[4]>t[0]&&(i=1),t[8]>t[3*i+i]&&(i=2);var s=(i+1)%3,a=(i+2)%3;n=Math.sqrt(t[3*i+i]-t[3*s+s]-t[3*a+a]+1),e[i]=.5*n,n=.5/n,e[3]=(t[3*s+a]-t[3*a+s])*n,e[s]=(t[3*s+i]+t[3*i+s])*n,e[a]=(t[3*a+i]+t[3*i+a])*n}return e}function g(e,t,r,n){var i=.5*Math.PI/180;t*=i,r*=i,n*=i;var s=Math.sin(t),a=Math.cos(t),o=Math.sin(r),u=Math.cos(r),c=Math.sin(n),l=Math.cos(n);return e[0]=s*u*l-a*o*c,e[1]=a*o*l+s*u*c,e[2]=a*u*c-s*o*l,e[3]=a*u*l+s*o*c,e}function R(e){return"quat("+e[0]+", "+e[1]+", "+e[2]+", "+e[3]+")"}var b,y,A,j,w,O,C=a.clone,L=a.fromValues,D=a.copy,P=a.set,x=a.add,I=h,M=a.scale,F=a.dot,G=a.lerp,N=a.length,B=N,U=a.squaredLength,V=U,k=a.normalize,H=a.exactEquals,q=a.equals,z=(b=s.create(),y=s.fromValues(1,0,0),A=s.fromValues(0,1,0),function(e,t,r){var n=s.dot(t,r);return n<-.999999?(s.cross(b,y,t),s.len(b)<1e-6&&s.cross(b,A,t),s.normalize(b,b),c(e,b,Math.PI),e):n>.999999?(e[0]=0,e[1]=0,e[2]=0,e[3]=1,e):(s.cross(b,t,r),e[0]=b[0],e[1]=b[1],e[2]=b[2],e[3]=1+n,k(e,e))}),W=(j=o(),w=o(),function(e,t,r,n,i,s){return p(j,t,i,s),p(w,r,n,s),p(e,j,w,2*s*(1-s)),e}),Y=(O=i.create(),function(e,t,r,n){return O[0]=r[0],O[3]=r[1],O[6]=r[2],O[1]=n[0],O[4]=n[1],O[7]=n[2],O[2]=-t[0],O[5]=-t[1],O[8]=-t[2],k(e,T(e,O))})},"../node_modules/gl-matrix/lib/gl-matrix/quat2.js":function(e,t,r){"use strict";r.r(t),r.d(t,"create",(function(){return a})),r.d(t,"clone",(function(){return o})),r.d(t,"fromValues",(function(){return u})),r.d(t,"fromRotationTranslationValues",(function(){return c})),r.d(t,"fromRotationTranslation",(function(){return l})),r.d(t,"fromTranslation",(function(){return h})),r.d(t,"fromRotation",(function(){return d})),r.d(t,"fromMat4",(function(){return f})),r.d(t,"copy",(function(){return m})),r.d(t,"identity",(function(){return v})),r.d(t,"set",(function(){return p})),r.d(t,"getReal",(function(){return _})),r.d(t,"getDual",(function(){return E})),r.d(t,"setReal",(function(){return S})),r.d(t,"setDual",(function(){return T})),r.d(t,"getTranslation",(function(){return g})),r.d(t,"translate",(function(){return R})),r.d(t,"rotateX",(function(){return b})),r.d(t,"rotateY",(function(){return y})),r.d(t,"rotateZ",(function(){return A})),r.d(t,"rotateByQuatAppend",(function(){return j})),r.d(t,"rotateByQuatPrepend",(function(){return w})),r.d(t,"rotateAroundAxis",(function(){return O})),r.d(t,"add",(function(){return C})),r.d(t,"multiply",(function(){return L})),r.d(t,"mul",(function(){return D})),r.d(t,"scale",(function(){return P})),r.d(t,"dot",(function(){return x})),r.d(t,"lerp",(function(){return I})),r.d(t,"invert",(function(){return M})),r.d(t,"conjugate",(function(){return F})),r.d(t,"length",(function(){return G})),r.d(t,"len",(function(){return N})),r.d(t,"squaredLength",(function(){return B})),r.d(t,"sqrLen",(function(){return U})),r.d(t,"normalize",(function(){return V})),r.d(t,"str",(function(){return k})),r.d(t,"exactEquals",(function(){return H})),r.d(t,"equals",(function(){return q}));var n=r("../node_modules/gl-matrix/lib/gl-matrix/common.js"),i=r("../node_modules/gl-matrix/lib/gl-matrix/quat.js"),s=r("../node_modules/gl-matrix/lib/gl-matrix/mat4.js");function a(){var e=new n.ARRAY_TYPE(8);return n.ARRAY_TYPE!=Float32Array&&(e[0]=0,e[1]=0,e[2]=0,e[4]=0,e[5]=0,e[6]=0,e[7]=0),e[3]=1,e}function o(e){var t=new n.ARRAY_TYPE(8);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t}function u(e,t,r,i,s,a,o,u){var c=new n.ARRAY_TYPE(8);return c[0]=e,c[1]=t,c[2]=r,c[3]=i,c[4]=s,c[5]=a,c[6]=o,c[7]=u,c}function c(e,t,r,i,s,a,o){var u=new n.ARRAY_TYPE(8);u[0]=e,u[1]=t,u[2]=r,u[3]=i;var c=.5*s,l=.5*a,h=.5*o;return u[4]=c*i+l*r-h*t,u[5]=l*i+h*e-c*r,u[6]=h*i+c*t-l*e,u[7]=-c*e-l*t-h*r,u}function l(e,t,r){var n=.5*r[0],i=.5*r[1],s=.5*r[2],a=t[0],o=t[1],u=t[2],c=t[3];return e[0]=a,e[1]=o,e[2]=u,e[3]=c,e[4]=n*c+i*u-s*o,e[5]=i*c+s*a-n*u,e[6]=s*c+n*o-i*a,e[7]=-n*a-i*o-s*u,e}function h(e,t){return e[0]=0,e[1]=0,e[2]=0,e[3]=1,e[4]=.5*t[0],e[5]=.5*t[1],e[6]=.5*t[2],e[7]=0,e}function d(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=0,e[5]=0,e[6]=0,e[7]=0,e}function f(e,t){var r=i.create();s.getRotation(r,t);var a=new n.ARRAY_TYPE(3);return s.getTranslation(a,t),l(e,r,a),e}function m(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e}function v(e){return e[0]=0,e[1]=0,e[2]=0,e[3]=1,e[4]=0,e[5]=0,e[6]=0,e[7]=0,e}function p(e,t,r,n,i,s,a,o,u){return e[0]=t,e[1]=r,e[2]=n,e[3]=i,e[4]=s,e[5]=a,e[6]=o,e[7]=u,e}var _=i.copy;function E(e,t){return e[0]=t[4],e[1]=t[5],e[2]=t[6],e[3]=t[7],e}var S=i.copy;function T(e,t){return e[4]=t[0],e[5]=t[1],e[6]=t[2],e[7]=t[3],e}function g(e,t){var r=t[4],n=t[5],i=t[6],s=t[7],a=-t[0],o=-t[1],u=-t[2],c=t[3];return e[0]=2*(r*c+s*a+n*u-i*o),e[1]=2*(n*c+s*o+i*a-r*u),e[2]=2*(i*c+s*u+r*o-n*a),e}function R(e,t,r){var n=t[0],i=t[1],s=t[2],a=t[3],o=.5*r[0],u=.5*r[1],c=.5*r[2],l=t[4],h=t[5],d=t[6],f=t[7];return e[0]=n,e[1]=i,e[2]=s,e[3]=a,e[4]=a*o+i*c-s*u+l,e[5]=a*u+s*o-n*c+h,e[6]=a*c+n*u-i*o+d,e[7]=-n*o-i*u-s*c+f,e}function b(e,t,r){var n=-t[0],s=-t[1],a=-t[2],o=t[3],u=t[4],c=t[5],l=t[6],h=t[7],d=u*o+h*n+c*a-l*s,f=c*o+h*s+l*n-u*a,m=l*o+h*a+u*s-c*n,v=h*o-u*n-c*s-l*a;return i.rotateX(e,t,r),n=e[0],s=e[1],a=e[2],o=e[3],e[4]=d*o+v*n+f*a-m*s,e[5]=f*o+v*s+m*n-d*a,e[6]=m*o+v*a+d*s-f*n,e[7]=v*o-d*n-f*s-m*a,e}function y(e,t,r){var n=-t[0],s=-t[1],a=-t[2],o=t[3],u=t[4],c=t[5],l=t[6],h=t[7],d=u*o+h*n+c*a-l*s,f=c*o+h*s+l*n-u*a,m=l*o+h*a+u*s-c*n,v=h*o-u*n-c*s-l*a;return i.rotateY(e,t,r),n=e[0],s=e[1],a=e[2],o=e[3],e[4]=d*o+v*n+f*a-m*s,e[5]=f*o+v*s+m*n-d*a,e[6]=m*o+v*a+d*s-f*n,e[7]=v*o-d*n-f*s-m*a,e}function A(e,t,r){var n=-t[0],s=-t[1],a=-t[2],o=t[3],u=t[4],c=t[5],l=t[6],h=t[7],d=u*o+h*n+c*a-l*s,f=c*o+h*s+l*n-u*a,m=l*o+h*a+u*s-c*n,v=h*o-u*n-c*s-l*a;return i.rotateZ(e,t,r),n=e[0],s=e[1],a=e[2],o=e[3],e[4]=d*o+v*n+f*a-m*s,e[5]=f*o+v*s+m*n-d*a,e[6]=m*o+v*a+d*s-f*n,e[7]=v*o-d*n-f*s-m*a,e}function j(e,t,r){var n=r[0],i=r[1],s=r[2],a=r[3],o=t[0],u=t[1],c=t[2],l=t[3];return e[0]=o*a+l*n+u*s-c*i,e[1]=u*a+l*i+c*n-o*s,e[2]=c*a+l*s+o*i-u*n,e[3]=l*a-o*n-u*i-c*s,o=t[4],u=t[5],c=t[6],l=t[7],e[4]=o*a+l*n+u*s-c*i,e[5]=u*a+l*i+c*n-o*s,e[6]=c*a+l*s+o*i-u*n,e[7]=l*a-o*n-u*i-c*s,e}function w(e,t,r){var n=t[0],i=t[1],s=t[2],a=t[3],o=r[0],u=r[1],c=r[2],l=r[3];return e[0]=n*l+a*o+i*c-s*u,e[1]=i*l+a*u+s*o-n*c,e[2]=s*l+a*c+n*u-i*o,e[3]=a*l-n*o-i*u-s*c,o=r[4],u=r[5],c=r[6],l=r[7],e[4]=n*l+a*o+i*c-s*u,e[5]=i*l+a*u+s*o-n*c,e[6]=s*l+a*c+n*u-i*o,e[7]=a*l-n*o-i*u-s*c,e}function O(e,t,r,i){if(Math.abs(i)<n.EPSILON)return m(e,t);var s=Math.sqrt(r[0]*r[0]+r[1]*r[1]+r[2]*r[2]);i*=.5;var a=Math.sin(i),o=a*r[0]/s,u=a*r[1]/s,c=a*r[2]/s,l=Math.cos(i),h=t[0],d=t[1],f=t[2],v=t[3];e[0]=h*l+v*o+d*c-f*u,e[1]=d*l+v*u+f*o-h*c,e[2]=f*l+v*c+h*u-d*o,e[3]=v*l-h*o-d*u-f*c;var p=t[4],_=t[5],E=t[6],S=t[7];return e[4]=p*l+S*o+_*c-E*u,e[5]=_*l+S*u+E*o-p*c,e[6]=E*l+S*c+p*u-_*o,e[7]=S*l-p*o-_*u-E*c,e}function C(e,t,r){return e[0]=t[0]+r[0],e[1]=t[1]+r[1],e[2]=t[2]+r[2],e[3]=t[3]+r[3],e[4]=t[4]+r[4],e[5]=t[5]+r[5],e[6]=t[6]+r[6],e[7]=t[7]+r[7],e}function L(e,t,r){var n=t[0],i=t[1],s=t[2],a=t[3],o=r[4],u=r[5],c=r[6],l=r[7],h=t[4],d=t[5],f=t[6],m=t[7],v=r[0],p=r[1],_=r[2],E=r[3];return e[0]=n*E+a*v+i*_-s*p,e[1]=i*E+a*p+s*v-n*_,e[2]=s*E+a*_+n*p-i*v,e[3]=a*E-n*v-i*p-s*_,e[4]=n*l+a*o+i*c-s*u+h*E+m*v+d*_-f*p,e[5]=i*l+a*u+s*o-n*c+d*E+m*p+f*v-h*_,e[6]=s*l+a*c+n*u-i*o+f*E+m*_+h*p-d*v,e[7]=a*l-n*o-i*u-s*c+m*E-h*v-d*p-f*_,e}var D=L;function P(e,t,r){return e[0]=t[0]*r,e[1]=t[1]*r,e[2]=t[2]*r,e[3]=t[3]*r,e[4]=t[4]*r,e[5]=t[5]*r,e[6]=t[6]*r,e[7]=t[7]*r,e}var x=i.dot;function I(e,t,r,n){var i=1-n;return x(t,r)<0&&(n=-n),e[0]=t[0]*i+r[0]*n,e[1]=t[1]*i+r[1]*n,e[2]=t[2]*i+r[2]*n,e[3]=t[3]*i+r[3]*n,e[4]=t[4]*i+r[4]*n,e[5]=t[5]*i+r[5]*n,e[6]=t[6]*i+r[6]*n,e[7]=t[7]*i+r[7]*n,e}function M(e,t){var r=B(t);return e[0]=-t[0]/r,e[1]=-t[1]/r,e[2]=-t[2]/r,e[3]=t[3]/r,e[4]=-t[4]/r,e[5]=-t[5]/r,e[6]=-t[6]/r,e[7]=t[7]/r,e}function F(e,t){return e[0]=-t[0],e[1]=-t[1],e[2]=-t[2],e[3]=t[3],e[4]=-t[4],e[5]=-t[5],e[6]=-t[6],e[7]=t[7],e}var G=i.length,N=G,B=i.squaredLength,U=B;function V(e,t){var r=B(t);if(r>0){r=Math.sqrt(r);var n=t[0]/r,i=t[1]/r,s=t[2]/r,a=t[3]/r,o=t[4],u=t[5],c=t[6],l=t[7],h=n*o+i*u+s*c+a*l;e[0]=n,e[1]=i,e[2]=s,e[3]=a,e[4]=(o-n*h)/r,e[5]=(u-i*h)/r,e[6]=(c-s*h)/r,e[7]=(l-a*h)/r}return e}function k(e){return"quat2("+e[0]+", "+e[1]+", "+e[2]+", "+e[3]+", "+e[4]+", "+e[5]+", "+e[6]+", "+e[7]+")"}function H(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===t[3]&&e[4]===t[4]&&e[5]===t[5]&&e[6]===t[6]&&e[7]===t[7]}function q(e,t){var r=e[0],i=e[1],s=e[2],a=e[3],o=e[4],u=e[5],c=e[6],l=e[7],h=t[0],d=t[1],f=t[2],m=t[3],v=t[4],p=t[5],_=t[6],E=t[7];return Math.abs(r-h)<=n.EPSILON*Math.max(1,Math.abs(r),Math.abs(h))&&Math.abs(i-d)<=n.EPSILON*Math.max(1,Math.abs(i),Math.abs(d))&&Math.abs(s-f)<=n.EPSILON*Math.max(1,Math.abs(s),Math.abs(f))&&Math.abs(a-m)<=n.EPSILON*Math.max(1,Math.abs(a),Math.abs(m))&&Math.abs(o-v)<=n.EPSILON*Math.max(1,Math.abs(o),Math.abs(v))&&Math.abs(u-p)<=n.EPSILON*Math.max(1,Math.abs(u),Math.abs(p))&&Math.abs(c-_)<=n.EPSILON*Math.max(1,Math.abs(c),Math.abs(_))&&Math.abs(l-E)<=n.EPSILON*Math.max(1,Math.abs(l),Math.abs(E))}},"../node_modules/gl-matrix/lib/gl-matrix/vec2.js":function(e,t,r){"use strict";r.r(t),r.d(t,"create",(function(){return i})),r.d(t,"clone",(function(){return s})),r.d(t,"fromValues",(function(){return a})),r.d(t,"copy",(function(){return o})),r.d(t,"set",(function(){return u})),r.d(t,"add",(function(){return c})),r.d(t,"subtract",(function(){return l})),r.d(t,"multiply",(function(){return h})),r.d(t,"divide",(function(){return d})),r.d(t,"ceil",(function(){return f})),r.d(t,"floor",(function(){return m})),r.d(t,"min",(function(){return v})),r.d(t,"max",(function(){return p})),r.d(t,"round",(function(){return _})),r.d(t,"scale",(function(){return E})),r.d(t,"scaleAndAdd",(function(){return S})),r.d(t,"distance",(function(){return T})),r.d(t,"squaredDistance",(function(){return g})),r.d(t,"length",(function(){return R})),r.d(t,"squaredLength",(function(){return b})),r.d(t,"negate",(function(){return y})),r.d(t,"inverse",(function(){return A})),r.d(t,"normalize",(function(){return j})),r.d(t,"dot",(function(){return w})),r.d(t,"cross",(function(){return O})),r.d(t,"lerp",(function(){return C})),r.d(t,"random",(function(){return L})),r.d(t,"transformMat2",(function(){return D})),r.d(t,"transformMat2d",(function(){return P})),r.d(t,"transformMat3",(function(){return x})),r.d(t,"transformMat4",(function(){return I})),r.d(t,"rotate",(function(){return M})),r.d(t,"angle",(function(){return F})),r.d(t,"str",(function(){return G})),r.d(t,"exactEquals",(function(){return N})),r.d(t,"equals",(function(){return B})),r.d(t,"len",(function(){return V})),r.d(t,"sub",(function(){return k})),r.d(t,"mul",(function(){return H})),r.d(t,"div",(function(){return q})),r.d(t,"dist",(function(){return z})),r.d(t,"sqrDist",(function(){return W})),r.d(t,"sqrLen",(function(){return Y})),r.d(t,"forEach",(function(){return X}));var n=r("../node_modules/gl-matrix/lib/gl-matrix/common.js");function i(){var e=new n.ARRAY_TYPE(2);return n.ARRAY_TYPE!=Float32Array&&(e[0]=0,e[1]=0),e}function s(e){var t=new n.ARRAY_TYPE(2);return t[0]=e[0],t[1]=e[1],t}function a(e,t){var r=new n.ARRAY_TYPE(2);return r[0]=e,r[1]=t,r}function o(e,t){return e[0]=t[0],e[1]=t[1],e}function u(e,t,r){return e[0]=t,e[1]=r,e}function c(e,t,r){return e[0]=t[0]+r[0],e[1]=t[1]+r[1],e}function l(e,t,r){return e[0]=t[0]-r[0],e[1]=t[1]-r[1],e}function h(e,t,r){return e[0]=t[0]*r[0],e[1]=t[1]*r[1],e}function d(e,t,r){return e[0]=t[0]/r[0],e[1]=t[1]/r[1],e}function f(e,t){return e[0]=Math.ceil(t[0]),e[1]=Math.ceil(t[1]),e}function m(e,t){return e[0]=Math.floor(t[0]),e[1]=Math.floor(t[1]),e}function v(e,t,r){return e[0]=Math.min(t[0],r[0]),e[1]=Math.min(t[1],r[1]),e}function p(e,t,r){return e[0]=Math.max(t[0],r[0]),e[1]=Math.max(t[1],r[1]),e}function _(e,t){return e[0]=Math.round(t[0]),e[1]=Math.round(t[1]),e}function E(e,t,r){return e[0]=t[0]*r,e[1]=t[1]*r,e}function S(e,t,r,n){return e[0]=t[0]+r[0]*n,e[1]=t[1]+r[1]*n,e}function T(e,t){var r=t[0]-e[0],n=t[1]-e[1];return Math.sqrt(r*r+n*n)}function g(e,t){var r=t[0]-e[0],n=t[1]-e[1];return r*r+n*n}function R(e){var t=e[0],r=e[1];return Math.sqrt(t*t+r*r)}function b(e){var t=e[0],r=e[1];return t*t+r*r}function y(e,t){return e[0]=-t[0],e[1]=-t[1],e}function A(e,t){return e[0]=1/t[0],e[1]=1/t[1],e}function j(e,t){var r=t[0],n=t[1],i=r*r+n*n;return i>0&&(i=1/Math.sqrt(i),e[0]=t[0]*i,e[1]=t[1]*i),e}function w(e,t){return e[0]*t[0]+e[1]*t[1]}function O(e,t,r){var n=t[0]*r[1]-t[1]*r[0];return e[0]=e[1]=0,e[2]=n,e}function C(e,t,r,n){var i=t[0],s=t[1];return e[0]=i+n*(r[0]-i),e[1]=s+n*(r[1]-s),e}function L(e,t){t=t||1;var r=2*n.RANDOM()*Math.PI;return e[0]=Math.cos(r)*t,e[1]=Math.sin(r)*t,e}function D(e,t,r){var n=t[0],i=t[1];return e[0]=r[0]*n+r[2]*i,e[1]=r[1]*n+r[3]*i,e}function P(e,t,r){var n=t[0],i=t[1];return e[0]=r[0]*n+r[2]*i+r[4],e[1]=r[1]*n+r[3]*i+r[5],e}function x(e,t,r){var n=t[0],i=t[1];return e[0]=r[0]*n+r[3]*i+r[6],e[1]=r[1]*n+r[4]*i+r[7],e}function I(e,t,r){var n=t[0],i=t[1];return e[0]=r[0]*n+r[4]*i+r[12],e[1]=r[1]*n+r[5]*i+r[13],e}function M(e,t,r,n){var i=t[0]-r[0],s=t[1]-r[1],a=Math.sin(n),o=Math.cos(n);return e[0]=i*o-s*a+r[0],e[1]=i*a+s*o+r[1],e}function F(e,t){var r=e[0],n=e[1],i=t[0],s=t[1],a=r*r+n*n;a>0&&(a=1/Math.sqrt(a));var o=i*i+s*s;o>0&&(o=1/Math.sqrt(o));var u=(r*i+n*s)*a*o;return u>1?0:u<-1?Math.PI:Math.acos(u)}function G(e){return"vec2("+e[0]+", "+e[1]+")"}function N(e,t){return e[0]===t[0]&&e[1]===t[1]}function B(e,t){var r=e[0],i=e[1],s=t[0],a=t[1];return Math.abs(r-s)<=n.EPSILON*Math.max(1,Math.abs(r),Math.abs(s))&&Math.abs(i-a)<=n.EPSILON*Math.max(1,Math.abs(i),Math.abs(a))}var U,V=R,k=l,H=h,q=d,z=T,W=g,Y=b,X=(U=i(),function(e,t,r,n,i,s){var a=void 0,o=void 0;for(t||(t=2),r||(r=0),o=n?Math.min(n*t+r,e.length):e.length,a=r;a<o;a+=t)U[0]=e[a],U[1]=e[a+1],i(U,U,s),e[a]=U[0],e[a+1]=U[1];return e})},"../node_modules/gl-matrix/lib/gl-matrix/vec3.js":function(e,t,r){"use strict";r.r(t),r.d(t,"create",(function(){return i})),r.d(t,"clone",(function(){return s})),r.d(t,"length",(function(){return a})),r.d(t,"fromValues",(function(){return o})),r.d(t,"copy",(function(){return u})),r.d(t,"set",(function(){return c})),r.d(t,"add",(function(){return l})),r.d(t,"subtract",(function(){return h})),r.d(t,"multiply",(function(){return d})),r.d(t,"divide",(function(){return f})),r.d(t,"ceil",(function(){return m})),r.d(t,"floor",(function(){return v})),r.d(t,"min",(function(){return p})),r.d(t,"max",(function(){return _})),r.d(t,"round",(function(){return E})),r.d(t,"scale",(function(){return S})),r.d(t,"scaleAndAdd",(function(){return T})),r.d(t,"distance",(function(){return g})),r.d(t,"squaredDistance",(function(){return R})),r.d(t,"squaredLength",(function(){return b})),r.d(t,"negate",(function(){return y})),r.d(t,"inverse",(function(){return A})),r.d(t,"normalize",(function(){return j})),r.d(t,"dot",(function(){return w})),r.d(t,"cross",(function(){return O})),r.d(t,"lerp",(function(){return C})),r.d(t,"hermite",(function(){return L})),r.d(t,"bezier",(function(){return D})),r.d(t,"random",(function(){return P})),r.d(t,"transformMat4",(function(){return x})),r.d(t,"transformMat3",(function(){return I})),r.d(t,"transformQuat",(function(){return M})),r.d(t,"rotateX",(function(){return F})),r.d(t,"rotateY",(function(){return G})),r.d(t,"rotateZ",(function(){return N})),r.d(t,"angle",(function(){return B})),r.d(t,"str",(function(){return U})),r.d(t,"exactEquals",(function(){return V})),r.d(t,"equals",(function(){return k})),r.d(t,"sub",(function(){return q})),r.d(t,"mul",(function(){return z})),r.d(t,"div",(function(){return W})),r.d(t,"dist",(function(){return Y})),r.d(t,"sqrDist",(function(){return X})),r.d(t,"len",(function(){return K})),r.d(t,"sqrLen",(function(){return Q})),r.d(t,"forEach",(function(){return Z}));var n=r("../node_modules/gl-matrix/lib/gl-matrix/common.js");function i(){var e=new n.ARRAY_TYPE(3);return n.ARRAY_TYPE!=Float32Array&&(e[0]=0,e[1]=0,e[2]=0),e}function s(e){var t=new n.ARRAY_TYPE(3);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t}function a(e){var t=e[0],r=e[1],n=e[2];return Math.sqrt(t*t+r*r+n*n)}function o(e,t,r){var i=new n.ARRAY_TYPE(3);return i[0]=e,i[1]=t,i[2]=r,i}function u(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e}function c(e,t,r,n){return e[0]=t,e[1]=r,e[2]=n,e}function l(e,t,r){return e[0]=t[0]+r[0],e[1]=t[1]+r[1],e[2]=t[2]+r[2],e}function h(e,t,r){return e[0]=t[0]-r[0],e[1]=t[1]-r[1],e[2]=t[2]-r[2],e}function d(e,t,r){return e[0]=t[0]*r[0],e[1]=t[1]*r[1],e[2]=t[2]*r[2],e}function f(e,t,r){return e[0]=t[0]/r[0],e[1]=t[1]/r[1],e[2]=t[2]/r[2],e}function m(e,t){return e[0]=Math.ceil(t[0]),e[1]=Math.ceil(t[1]),e[2]=Math.ceil(t[2]),e}function v(e,t){return e[0]=Math.floor(t[0]),e[1]=Math.floor(t[1]),e[2]=Math.floor(t[2]),e}function p(e,t,r){return e[0]=Math.min(t[0],r[0]),e[1]=Math.min(t[1],r[1]),e[2]=Math.min(t[2],r[2]),e}function _(e,t,r){return e[0]=Math.max(t[0],r[0]),e[1]=Math.max(t[1],r[1]),e[2]=Math.max(t[2],r[2]),e}function E(e,t){return e[0]=Math.round(t[0]),e[1]=Math.round(t[1]),e[2]=Math.round(t[2]),e}function S(e,t,r){return e[0]=t[0]*r,e[1]=t[1]*r,e[2]=t[2]*r,e}function T(e,t,r,n){return e[0]=t[0]+r[0]*n,e[1]=t[1]+r[1]*n,e[2]=t[2]+r[2]*n,e}function g(e,t){var r=t[0]-e[0],n=t[1]-e[1],i=t[2]-e[2];return Math.sqrt(r*r+n*n+i*i)}function R(e,t){var r=t[0]-e[0],n=t[1]-e[1],i=t[2]-e[2];return r*r+n*n+i*i}function b(e){var t=e[0],r=e[1],n=e[2];return t*t+r*r+n*n}function y(e,t){return e[0]=-t[0],e[1]=-t[1],e[2]=-t[2],e}function A(e,t){return e[0]=1/t[0],e[1]=1/t[1],e[2]=1/t[2],e}function j(e,t){var r=t[0],n=t[1],i=t[2],s=r*r+n*n+i*i;return s>0&&(s=1/Math.sqrt(s),e[0]=t[0]*s,e[1]=t[1]*s,e[2]=t[2]*s),e}function w(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]}function O(e,t,r){var n=t[0],i=t[1],s=t[2],a=r[0],o=r[1],u=r[2];return e[0]=i*u-s*o,e[1]=s*a-n*u,e[2]=n*o-i*a,e}function C(e,t,r,n){var i=t[0],s=t[1],a=t[2];return e[0]=i+n*(r[0]-i),e[1]=s+n*(r[1]-s),e[2]=a+n*(r[2]-a),e}function L(e,t,r,n,i,s){var a=s*s,o=a*(2*s-3)+1,u=a*(s-2)+s,c=a*(s-1),l=a*(3-2*s);return e[0]=t[0]*o+r[0]*u+n[0]*c+i[0]*l,e[1]=t[1]*o+r[1]*u+n[1]*c+i[1]*l,e[2]=t[2]*o+r[2]*u+n[2]*c+i[2]*l,e}function D(e,t,r,n,i,s){var a=1-s,o=a*a,u=s*s,c=o*a,l=3*s*o,h=3*u*a,d=u*s;return e[0]=t[0]*c+r[0]*l+n[0]*h+i[0]*d,e[1]=t[1]*c+r[1]*l+n[1]*h+i[1]*d,e[2]=t[2]*c+r[2]*l+n[2]*h+i[2]*d,e}function P(e,t){t=t||1;var r=2*n.RANDOM()*Math.PI,i=2*n.RANDOM()-1,s=Math.sqrt(1-i*i)*t;return e[0]=Math.cos(r)*s,e[1]=Math.sin(r)*s,e[2]=i*t,e}function x(e,t,r){var n=t[0],i=t[1],s=t[2],a=r[3]*n+r[7]*i+r[11]*s+r[15];return a=a||1,e[0]=(r[0]*n+r[4]*i+r[8]*s+r[12])/a,e[1]=(r[1]*n+r[5]*i+r[9]*s+r[13])/a,e[2]=(r[2]*n+r[6]*i+r[10]*s+r[14])/a,e}function I(e,t,r){var n=t[0],i=t[1],s=t[2];return e[0]=n*r[0]+i*r[3]+s*r[6],e[1]=n*r[1]+i*r[4]+s*r[7],e[2]=n*r[2]+i*r[5]+s*r[8],e}function M(e,t,r){var n=r[0],i=r[1],s=r[2],a=r[3],o=t[0],u=t[1],c=t[2],l=i*c-s*u,h=s*o-n*c,d=n*u-i*o,f=i*d-s*h,m=s*l-n*d,v=n*h-i*l,p=2*a;return l*=p,h*=p,d*=p,f*=2,m*=2,v*=2,e[0]=o+l+f,e[1]=u+h+m,e[2]=c+d+v,e}function F(e,t,r,n){var i=[],s=[];return i[0]=t[0]-r[0],i[1]=t[1]-r[1],i[2]=t[2]-r[2],s[0]=i[0],s[1]=i[1]*Math.cos(n)-i[2]*Math.sin(n),s[2]=i[1]*Math.sin(n)+i[2]*Math.cos(n),e[0]=s[0]+r[0],e[1]=s[1]+r[1],e[2]=s[2]+r[2],e}function G(e,t,r,n){var i=[],s=[];return i[0]=t[0]-r[0],i[1]=t[1]-r[1],i[2]=t[2]-r[2],s[0]=i[2]*Math.sin(n)+i[0]*Math.cos(n),s[1]=i[1],s[2]=i[2]*Math.cos(n)-i[0]*Math.sin(n),e[0]=s[0]+r[0],e[1]=s[1]+r[1],e[2]=s[2]+r[2],e}function N(e,t,r,n){var i=[],s=[];return i[0]=t[0]-r[0],i[1]=t[1]-r[1],i[2]=t[2]-r[2],s[0]=i[0]*Math.cos(n)-i[1]*Math.sin(n),s[1]=i[0]*Math.sin(n)+i[1]*Math.cos(n),s[2]=i[2],e[0]=s[0]+r[0],e[1]=s[1]+r[1],e[2]=s[2]+r[2],e}function B(e,t){var r=o(e[0],e[1],e[2]),n=o(t[0],t[1],t[2]);j(r,r),j(n,n);var i=w(r,n);return i>1?0:i<-1?Math.PI:Math.acos(i)}function U(e){return"vec3("+e[0]+", "+e[1]+", "+e[2]+")"}function V(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]}function k(e,t){var r=e[0],i=e[1],s=e[2],a=t[0],o=t[1],u=t[2];return Math.abs(r-a)<=n.EPSILON*Math.max(1,Math.abs(r),Math.abs(a))&&Math.abs(i-o)<=n.EPSILON*Math.max(1,Math.abs(i),Math.abs(o))&&Math.abs(s-u)<=n.EPSILON*Math.max(1,Math.abs(s),Math.abs(u))}var H,q=h,z=d,W=f,Y=g,X=R,K=a,Q=b,Z=(H=i(),function(e,t,r,n,i,s){var a=void 0,o=void 0;for(t||(t=3),r||(r=0),o=n?Math.min(n*t+r,e.length):e.length,a=r;a<o;a+=t)H[0]=e[a],H[1]=e[a+1],H[2]=e[a+2],i(H,H,s),e[a]=H[0],e[a+1]=H[1],e[a+2]=H[2];return e})},"../node_modules/gl-matrix/lib/gl-matrix/vec4.js":function(e,t,r){"use strict";r.r(t),r.d(t,"create",(function(){return i})),r.d(t,"clone",(function(){return s})),r.d(t,"fromValues",(function(){return a})),r.d(t,"copy",(function(){return o})),r.d(t,"set",(function(){return u})),r.d(t,"add",(function(){return c})),r.d(t,"subtract",(function(){return l})),r.d(t,"multiply",(function(){return h})),r.d(t,"divide",(function(){return d})),r.d(t,"ceil",(function(){return f})),r.d(t,"floor",(function(){return m})),r.d(t,"min",(function(){return v})),r.d(t,"max",(function(){return p})),r.d(t,"round",(function(){return _})),r.d(t,"scale",(function(){return E})),r.d(t,"scaleAndAdd",(function(){return S})),r.d(t,"distance",(function(){return T})),r.d(t,"squaredDistance",(function(){return g})),r.d(t,"length",(function(){return R})),r.d(t,"squaredLength",(function(){return b})),r.d(t,"negate",(function(){return y})),r.d(t,"inverse",(function(){return A})),r.d(t,"normalize",(function(){return j})),r.d(t,"dot",(function(){return w})),r.d(t,"lerp",(function(){return O})),r.d(t,"random",(function(){return C})),r.d(t,"transformMat4",(function(){return L})),r.d(t,"transformQuat",(function(){return D})),r.d(t,"str",(function(){return P})),r.d(t,"exactEquals",(function(){return x})),r.d(t,"equals",(function(){return I})),r.d(t,"sub",(function(){return F})),r.d(t,"mul",(function(){return G})),r.d(t,"div",(function(){return N})),r.d(t,"dist",(function(){return B})),r.d(t,"sqrDist",(function(){return U})),r.d(t,"len",(function(){return V})),r.d(t,"sqrLen",(function(){return k})),r.d(t,"forEach",(function(){return H}));var n=r("../node_modules/gl-matrix/lib/gl-matrix/common.js");function i(){var e=new n.ARRAY_TYPE(4);return n.ARRAY_TYPE!=Float32Array&&(e[0]=0,e[1]=0,e[2]=0,e[3]=0),e}function s(e){var t=new n.ARRAY_TYPE(4);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t}function a(e,t,r,i){var s=new n.ARRAY_TYPE(4);return s[0]=e,s[1]=t,s[2]=r,s[3]=i,s}function o(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e}function u(e,t,r,n,i){return e[0]=t,e[1]=r,e[2]=n,e[3]=i,e}function c(e,t,r){return e[0]=t[0]+r[0],e[1]=t[1]+r[1],e[2]=t[2]+r[2],e[3]=t[3]+r[3],e}function l(e,t,r){return e[0]=t[0]-r[0],e[1]=t[1]-r[1],e[2]=t[2]-r[2],e[3]=t[3]-r[3],e}function h(e,t,r){return e[0]=t[0]*r[0],e[1]=t[1]*r[1],e[2]=t[2]*r[2],e[3]=t[3]*r[3],e}function d(e,t,r){return e[0]=t[0]/r[0],e[1]=t[1]/r[1],e[2]=t[2]/r[2],e[3]=t[3]/r[3],e}function f(e,t){return e[0]=Math.ceil(t[0]),e[1]=Math.ceil(t[1]),e[2]=Math.ceil(t[2]),e[3]=Math.ceil(t[3]),e}function m(e,t){return e[0]=Math.floor(t[0]),e[1]=Math.floor(t[1]),e[2]=Math.floor(t[2]),e[3]=Math.floor(t[3]),e}function v(e,t,r){return e[0]=Math.min(t[0],r[0]),e[1]=Math.min(t[1],r[1]),e[2]=Math.min(t[2],r[2]),e[3]=Math.min(t[3],r[3]),e}function p(e,t,r){return e[0]=Math.max(t[0],r[0]),e[1]=Math.max(t[1],r[1]),e[2]=Math.max(t[2],r[2]),e[3]=Math.max(t[3],r[3]),e}function _(e,t){return e[0]=Math.round(t[0]),e[1]=Math.round(t[1]),e[2]=Math.round(t[2]),e[3]=Math.round(t[3]),e}function E(e,t,r){return e[0]=t[0]*r,e[1]=t[1]*r,e[2]=t[2]*r,e[3]=t[3]*r,e}function S(e,t,r,n){return e[0]=t[0]+r[0]*n,e[1]=t[1]+r[1]*n,e[2]=t[2]+r[2]*n,e[3]=t[3]+r[3]*n,e}function T(e,t){var r=t[0]-e[0],n=t[1]-e[1],i=t[2]-e[2],s=t[3]-e[3];return Math.sqrt(r*r+n*n+i*i+s*s)}function g(e,t){var r=t[0]-e[0],n=t[1]-e[1],i=t[2]-e[2],s=t[3]-e[3];return r*r+n*n+i*i+s*s}function R(e){var t=e[0],r=e[1],n=e[2],i=e[3];return Math.sqrt(t*t+r*r+n*n+i*i)}function b(e){var t=e[0],r=e[1],n=e[2],i=e[3];return t*t+r*r+n*n+i*i}function y(e,t){return e[0]=-t[0],e[1]=-t[1],e[2]=-t[2],e[3]=-t[3],e}function A(e,t){return e[0]=1/t[0],e[1]=1/t[1],e[2]=1/t[2],e[3]=1/t[3],e}function j(e,t){var r=t[0],n=t[1],i=t[2],s=t[3],a=r*r+n*n+i*i+s*s;return a>0&&(a=1/Math.sqrt(a),e[0]=r*a,e[1]=n*a,e[2]=i*a,e[3]=s*a),e}function w(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]+e[3]*t[3]}function O(e,t,r,n){var i=t[0],s=t[1],a=t[2],o=t[3];return e[0]=i+n*(r[0]-i),e[1]=s+n*(r[1]-s),e[2]=a+n*(r[2]-a),e[3]=o+n*(r[3]-o),e}function C(e,t){var r,i,s,a,o,u;t=t||1;do{o=(r=2*n.RANDOM()-1)*r+(i=2*n.RANDOM()-1)*i}while(o>=1);do{u=(s=2*n.RANDOM()-1)*s+(a=2*n.RANDOM()-1)*a}while(u>=1);var c=Math.sqrt((1-o)/u);return e[0]=t*r,e[1]=t*i,e[2]=t*s*c,e[3]=t*a*c,e}function L(e,t,r){var n=t[0],i=t[1],s=t[2],a=t[3];return e[0]=r[0]*n+r[4]*i+r[8]*s+r[12]*a,e[1]=r[1]*n+r[5]*i+r[9]*s+r[13]*a,e[2]=r[2]*n+r[6]*i+r[10]*s+r[14]*a,e[3]=r[3]*n+r[7]*i+r[11]*s+r[15]*a,e}function D(e,t,r){var n=t[0],i=t[1],s=t[2],a=r[0],o=r[1],u=r[2],c=r[3],l=c*n+o*s-u*i,h=c*i+u*n-a*s,d=c*s+a*i-o*n,f=-a*n-o*i-u*s;return e[0]=l*c+f*-a+h*-u-d*-o,e[1]=h*c+f*-o+d*-a-l*-u,e[2]=d*c+f*-u+l*-o-h*-a,e[3]=t[3],e}function P(e){return"vec4("+e[0]+", "+e[1]+", "+e[2]+", "+e[3]+")"}function x(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===t[3]}function I(e,t){var r=e[0],i=e[1],s=e[2],a=e[3],o=t[0],u=t[1],c=t[2],l=t[3];return Math.abs(r-o)<=n.EPSILON*Math.max(1,Math.abs(r),Math.abs(o))&&Math.abs(i-u)<=n.EPSILON*Math.max(1,Math.abs(i),Math.abs(u))&&Math.abs(s-c)<=n.EPSILON*Math.max(1,Math.abs(s),Math.abs(c))&&Math.abs(a-l)<=n.EPSILON*Math.max(1,Math.abs(a),Math.abs(l))}var M,F=l,G=h,N=d,B=T,U=g,V=R,k=b,H=(M=i(),function(e,t,r,n,i,s){var a=void 0,o=void 0;for(t||(t=4),r||(r=0),o=n?Math.min(n*t+r,e.length):e.length,a=r;a<o;a+=t)M[0]=e[a],M[1]=e[a+1],M[2]=e[a+2],M[3]=e[a+3],i(M,M,s),e[a]=M[0],e[a+1]=M[1],e[a+2]=M[2],e[a+3]=M[3];return e})},"../node_modules/process/browser.js":function(e,t){var r,n,i=e.exports={};function s(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function o(e){if(r===setTimeout)return setTimeout(e,0);if((r===s||!r)&&setTimeout)return r=setTimeout,setTimeout(e,0);try{return r(e,0)}catch(t){try{return r.call(null,e,0)}catch(t){return r.call(this,e,0)}}}!function(){try{r="function"==typeof setTimeout?setTimeout:s}catch(e){r=s}try{n="function"==typeof clearTimeout?clearTimeout:a}catch(e){n=a}}();var u,c=[],l=!1,h=-1;function d(){l&&u&&(l=!1,u.length?c=u.concat(c):h=-1,c.length&&f())}function f(){if(!l){var e=o(d);l=!0;for(var t=c.length;t;){for(u=c,c=[];++h<t;)u&&u[h].run();h=-1,t=c.length}u=null,l=!1,function(e){if(n===clearTimeout)return clearTimeout(e);if((n===a||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(e);try{n(e)}catch(t){try{return n.call(null,e)}catch(t){return n.call(this,e)}}}(e)}}function m(e,t){this.fun=e,this.array=t}function v(){}i.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];c.push(new m(e,t)),1!==c.length||l||o(f)},m.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=v,i.addListener=v,i.once=v,i.off=v,i.removeListener=v,i.removeAllListeners=v,i.emit=v,i.prependListener=v,i.prependOnceListener=v,i.listeners=function(e){return[]},i.binding=function(e){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(e){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},"../node_modules/reflect-metadata/Reflect.js":function(e,t,r){(function(e,t){var r;!function(r){!function(n){var i="object"==typeof t?t:"object"==typeof self?self:"object"==typeof this?this:Function("return this;")(),s=a(r);function a(e,t){return function(r,n){"function"!=typeof e[r]&&Object.defineProperty(e,r,{configurable:!0,writable:!0,value:n}),t&&t(r,n)}}void 0===i.Reflect?i.Reflect=r:s=a(i.Reflect,s),function(t){var r=Object.prototype.hasOwnProperty,n="function"==typeof Symbol,i=n&&void 0!==Symbol.toPrimitive?Symbol.toPrimitive:"@@toPrimitive",s=n&&void 0!==Symbol.iterator?Symbol.iterator:"@@iterator",a="function"==typeof Object.create,o={__proto__:[]}instanceof Array,u=!a&&!o,c={create:a?function(){return x(Object.create(null))}:o?function(){return x({__proto__:null})}:function(){return x({})},has:u?function(e,t){return r.call(e,t)}:function(e,t){return t in e},get:u?function(e,t){return r.call(e,t)?e[t]:void 0}:function(e,t){return e[t]}},l=Object.getPrototypeOf(Function),h="object"==typeof e&&e.env&&"true"===e.env.REFLECT_METADATA_USE_MAP_POLYFILL,d=h||"function"!=typeof Map||"function"!=typeof Map.prototype.entries?function(){var e={},t=[],r=function(){function e(e,t,r){this._index=0,this._keys=e,this._values=t,this._selector=r}return e.prototype["@@iterator"]=function(){return this},e.prototype[s]=function(){return this},e.prototype.next=function(){var e=this._index;if(e>=0&&e<this._keys.length){var r=this._selector(this._keys[e],this._values[e]);return e+1>=this._keys.length?(this._index=-1,this._keys=t,this._values=t):this._index++,{value:r,done:!1}}return{value:void 0,done:!0}},e.prototype.throw=function(e){throw this._index>=0&&(this._index=-1,this._keys=t,this._values=t),e},e.prototype.return=function(e){return this._index>=0&&(this._index=-1,this._keys=t,this._values=t),{value:e,done:!0}},e}();return function(){function t(){this._keys=[],this._values=[],this._cacheKey=e,this._cacheIndex=-2}return Object.defineProperty(t.prototype,"size",{get:function(){return this._keys.length},enumerable:!0,configurable:!0}),t.prototype.has=function(e){return this._find(e,!1)>=0},t.prototype.get=function(e){var t=this._find(e,!1);return t>=0?this._values[t]:void 0},t.prototype.set=function(e,t){var r=this._find(e,!0);return this._values[r]=t,this},t.prototype.delete=function(t){var r=this._find(t,!1);if(r>=0){for(var n=this._keys.length,i=r+1;i<n;i++)this._keys[i-1]=this._keys[i],this._values[i-1]=this._values[i];return this._keys.length--,this._values.length--,t===this._cacheKey&&(this._cacheKey=e,this._cacheIndex=-2),!0}return!1},t.prototype.clear=function(){this._keys.length=0,this._values.length=0,this._cacheKey=e,this._cacheIndex=-2},t.prototype.keys=function(){return new r(this._keys,this._values,n)},t.prototype.values=function(){return new r(this._keys,this._values,i)},t.prototype.entries=function(){return new r(this._keys,this._values,a)},t.prototype["@@iterator"]=function(){return this.entries()},t.prototype[s]=function(){return this.entries()},t.prototype._find=function(e,t){return this._cacheKey!==e&&(this._cacheIndex=this._keys.indexOf(this._cacheKey=e)),this._cacheIndex<0&&t&&(this._cacheIndex=this._keys.length,this._keys.push(e),this._values.push(void 0)),this._cacheIndex},t}();function n(e,t){return e}function i(e,t){return t}function a(e,t){return[e,t]}}():Map,f=h||"function"!=typeof Set||"function"!=typeof Set.prototype.entries?function(){function e(){this._map=new d}return Object.defineProperty(e.prototype,"size",{get:function(){return this._map.size},enumerable:!0,configurable:!0}),e.prototype.has=function(e){return this._map.has(e)},e.prototype.add=function(e){return this._map.set(e,e),this},e.prototype.delete=function(e){return this._map.delete(e)},e.prototype.clear=function(){this._map.clear()},e.prototype.keys=function(){return this._map.keys()},e.prototype.values=function(){return this._map.values()},e.prototype.entries=function(){return this._map.entries()},e.prototype["@@iterator"]=function(){return this.keys()},e.prototype[s]=function(){return this.keys()},e}():Set,m=new(h||"function"!=typeof WeakMap?function(){var e=16,t=c.create(),n=i();return function(){function e(){this._key=i()}return e.prototype.has=function(e){var t=s(e,!1);return void 0!==t&&c.has(t,this._key)},e.prototype.get=function(e){var t=s(e,!1);return void 0!==t?c.get(t,this._key):void 0},e.prototype.set=function(e,t){return s(e,!0)[this._key]=t,this},e.prototype.delete=function(e){var t=s(e,!1);return void 0!==t&&delete t[this._key]},e.prototype.clear=function(){this._key=i()},e}();function i(){var e;do{e="@@WeakMap@@"+o()}while(c.has(t,e));return t[e]=!0,e}function s(e,t){if(!r.call(e,n)){if(!t)return;Object.defineProperty(e,n,{value:c.create()})}return e[n]}function a(e,t){for(var r=0;r<t;++r)e[r]=255*Math.random()|0;return e}function o(){var t,r=(t=e,"function"==typeof Uint8Array?"undefined"!=typeof crypto?crypto.getRandomValues(new Uint8Array(t)):"undefined"!=typeof msCrypto?msCrypto.getRandomValues(new Uint8Array(t)):a(new Uint8Array(t),t):a(new Array(t),t));r[6]=79&r[6]|64,r[8]=191&r[8]|128;for(var n="",i=0;i<e;++i){var s=r[i];4!==i&&6!==i&&8!==i||(n+="-"),s<16&&(n+="0"),n+=s.toString(16).toLowerCase()}return n}}():WeakMap);function v(e,t,r){var n=m.get(e);if(g(n)){if(!r)return;n=new d,m.set(e,n)}var i=n.get(t);if(g(i)){if(!r)return;i=new d,n.set(t,i)}return i}function p(e,t,r){var n=v(t,r,!1);return!g(n)&&!!n.has(e)}function _(e,t,r){var n=v(t,r,!1);if(!g(n))return n.get(e)}function E(e,t,r,n){v(r,n,!0).set(e,t)}function S(e,t){var r=[],n=v(e,t,!1);if(g(n))return r;for(var i=function(e){var t=C(e,s);if(!w(t))throw new TypeError;var r=t.call(e);if(!b(r))throw new TypeError;return r}(n.keys()),a=0;;){var o=L(i);if(!o)return r.length=a,r;var u=o.value;try{r[a]=u}catch(e){try{D(i)}finally{throw e}}a++}}function T(e){if(null===e)return 1;switch(typeof e){case"undefined":return 0;case"boolean":return 2;case"string":return 3;case"symbol":return 4;case"number":return 5;case"object":return null===e?1:6;default:return 6}}function g(e){return void 0===e}function R(e){return null===e}function b(e){return"object"==typeof e?null!==e:"function"==typeof e}function y(e,t){switch(T(e)){case 0:case 1:case 2:case 3:case 4:case 5:return e}var r=3===t?"string":5===t?"number":"default",n=C(e,i);if(void 0!==n){var s=n.call(e,r);if(b(s))throw new TypeError;return s}return function(e,t){if("string"===t){var r=e.toString;if(w(r))if(!b(i=r.call(e)))return i;if(w(n=e.valueOf))if(!b(i=n.call(e)))return i}else{var n;if(w(n=e.valueOf))if(!b(i=n.call(e)))return i;var i,s=e.toString;if(w(s))if(!b(i=s.call(e)))return i}throw new TypeError}(e,"default"===r?"number":r)}function A(e){var t=y(e,3);return"symbol"==typeof t?t:function(e){return""+e}(t)}function j(e){return Array.isArray?Array.isArray(e):e instanceof Object?e instanceof Array:"[object Array]"===Object.prototype.toString.call(e)}function w(e){return"function"==typeof e}function O(e){return"function"==typeof e}function C(e,t){var r=e[t];if(null!=r){if(!w(r))throw new TypeError;return r}}function L(e){var t=e.next();return!t.done&&t}function D(e){var t=e.return;t&&t.call(e)}function P(e){var t=Object.getPrototypeOf(e);if("function"!=typeof e||e===l)return t;if(t!==l)return t;var r=e.prototype,n=r&&Object.getPrototypeOf(r);if(null==n||n===Object.prototype)return t;var i=n.constructor;return"function"!=typeof i?t:i===e?t:i}function x(e){return e.__=void 0,delete e.__,e}t("decorate",(function(e,t,r,n){if(g(r)){if(!j(e))throw new TypeError;if(!O(t))throw new TypeError;return function(e,t){for(var r=e.length-1;r>=0;--r){var n=(0,e[r])(t);if(!g(n)&&!R(n)){if(!O(n))throw new TypeError;t=n}}return t}(e,t)}if(!j(e))throw new TypeError;if(!b(t))throw new TypeError;if(!b(n)&&!g(n)&&!R(n))throw new TypeError;return R(n)&&(n=void 0),function(e,t,r,n){for(var i=e.length-1;i>=0;--i){var s=(0,e[i])(t,r,n);if(!g(s)&&!R(s)){if(!b(s))throw new TypeError;n=s}}return n}(e,t,r=A(r),n)})),t("metadata",(function(e,t){return function(r,n){if(!b(r))throw new TypeError;if(!g(n)&&!function(e){switch(T(e)){case 3:case 4:return!0;default:return!1}}(n))throw new TypeError;E(e,t,r,n)}})),t("defineMetadata",(function(e,t,r,n){if(!b(r))throw new TypeError;return g(n)||(n=A(n)),E(e,t,r,n)})),t("hasMetadata",(function(e,t,r){if(!b(t))throw new TypeError;return g(r)||(r=A(r)),function e(t,r,n){if(p(t,r,n))return!0;var i=P(r);return!R(i)&&e(t,i,n)}(e,t,r)})),t("hasOwnMetadata",(function(e,t,r){if(!b(t))throw new TypeError;return g(r)||(r=A(r)),p(e,t,r)})),t("getMetadata",(function(e,t,r){if(!b(t))throw new TypeError;return g(r)||(r=A(r)),function e(t,r,n){if(p(t,r,n))return _(t,r,n);var i=P(r);return R(i)?void 0:e(t,i,n)}(e,t,r)})),t("getOwnMetadata",(function(e,t,r){if(!b(t))throw new TypeError;return g(r)||(r=A(r)),_(e,t,r)})),t("getMetadataKeys",(function(e,t){if(!b(e))throw new TypeError;return g(t)||(t=A(t)),function e(t,r){var n=S(t,r),i=P(t);if(null===i)return n;var s=e(i,r);if(s.length<=0)return n;if(n.length<=0)return s;for(var a=new f,o=[],u=0,c=n;u<c.length;u++){var l=c[u];a.has(l)||(a.add(l),o.push(l))}for(var h=0,d=s;h<d.length;h++){l=d[h];a.has(l)||(a.add(l),o.push(l))}return o}(e,t)})),t("getOwnMetadataKeys",(function(e,t){if(!b(e))throw new TypeError;return g(t)||(t=A(t)),S(e,t)})),t("deleteMetadata",(function(e,t,r){if(!b(t))throw new TypeError;g(r)||(r=A(r));var n=v(t,r,!1);if(g(n))return!1;if(!n.delete(e))return!1;if(n.size>0)return!0;var i=m.get(t);return i.delete(r),i.size>0||(m.delete(t),!0)}))}(s)}()}(r||(r={}))}).call(this,r("../node_modules/process/browser.js"),r("../node_modules/webpack/buildin/global.js"))},"../node_modules/webpack/buildin/global.js":function(e,t){var r;r=function(){return this}();try{r=r||new Function("return this")()}catch(e){"object"==typeof window&&(r=window)}e.exports=r},"./config.js":function(e,t,r){"use strict";r.r(t),r.d(t,"config",(function(){return d}));var n=r("./core/index.js"),i=r("./curve/index.js"),s=r("./eve/index.js"),a=r("./interior/index.js"),o=r("./particle/index.js"),u=r("./sof/index.js"),c=r("./state/index.js"),l=r("./global/class/index.js"),h=r("./global/math/index.js"),d={debug:!1,device:{textureQuality:0,shaderQuality:"hi",antialiasing:!0,anisotropicFiltering:!0,webgl2:!0,webvr:!1,performanceClock:!0},resMan:{systemMirror:!1,autoPurgeResources:!0,purgeTime:60,maxPrepareTime:.05},logger:{name:"CCPWGL2",history:50,throttle:10,display:!0,visible:{error:!0,warning:!1,log:!1,info:!1,debug:!1}},store:{path:{res:"https://developers.eveonline.com/ccpwgl/assetpath/1097993/",cdn:"http://localhost:3000/"},extension:{sm_hi:n.Tw2EffectRes,sm_lo:n.Tw2EffectRes,wbg:n.Tw2GeometryRes,png:n.Tw2TextureRes,dds:n.Tw2TextureRes,cube:n.Tw2TextureRes,mp4:n.Tw2VideoRes,ogg:n.Tw2VideoRes,webm:n.Tw2VideoRes,black:n.Tw2LoadingObject,red:n.Tw2LoadingObject},class:[n,i,s,a,o,u,c,{Tw2EventEmitter:l.Tw2EventEmitter,Tw2Notifications:l.Tw2Notifications}],type:{float:n.Tw2FloatParameter,number:n.Tw2FloatParameter,texture:n.Tw2TextureParameter,vector2:n.Tw2Vector2Parameter,vector3:n.Tw2Vector3Parameter,vector4:n.Tw2Vector4Parameter,matrix4:n.Tw2Matrix4Parameter},variable:{WorldMat:h.mat4.create(),ViewMat:h.mat4.create(),ProjectionMat:h.mat4.create(),ViewProjectionMat:h.mat4.create(),ViewportSize:h.vec4.create(),Time:h.vec4.create(),u_DecalMatrix:h.mat4.create(),u_InvDecalMatrix:h.mat4.create(),EveSpaceSceneEnvMap:"",EnvMap1:"",EnvMap2:"",EnvMap3:"",ShadowLightness:0,OccluderValue:h.vec4.fromValues(1,1,0,0),LensflareFxOccScale:h.vec4.fromValues(1,1,0,0),LensflareFxDirectionScale:h.vec4.create()}}}},"./core/Tr2DistanceTracker.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tr2DistanceTracker",(function(){return i}));var n=r("./global/index.js");class i{constructor(){this.name="",this.direction=n.vec3.create(),this.targetPosition=n.vec3.create()}static black(e){return[["name",e.string],["direction",e.vector3],["targetPosition",e.vector3]]}}i.__isStaging=4},"./core/Tr2RuntimeInstanceData.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tr2RuntimeInstanceData",(function(){return a}));var n=r("./global/index.js"),i=r("./core/vertex/index.js"),s=r("./particle/element/Tw2ParticleElementDeclaration.js");class a extends n.Tw2BaseClass{constructor(...e){super(...e),this._count=0,this._data=null,this._dirty=!0,this._declaration=null,this._vb=null,this._vertexStride=0}GetMaxInstanceCount(){return this._data?this._data.length:1}SetElementLayout(e){this._vb&&(n.device.gl.deleteBuffer(this._vb),this._vb=null),this._vertexStride=0,this._declaration=new i.Tw2VertexDeclaration;for(var t=0;t<e.length;++t){var r=new s.Tw2ParticleElementDeclaration;r.elementType=e[t][0],r.dimension=e[t][2],r.usageIndex=e[t][1];var a=r.GetDeclaration();a.offset=4*this._vertexStride,this._declaration.elements.push(a),this._vertexStride+=r.dimension}this._declaration.RebuildHash()}SetData(e){this._declaration&&(this._data=e,this._count=this._data.length,this._dirty=!0,this.UpdateData())}SetItemElement(e,t,r){if(this._declaration.elements[t].elements>1)for(var n=0;n<this._declaration.elements[t].elements;++n)this._data[e][t][n]=r[n];else this._data[e][t]=r;this._dirty=!0}SetItemElementRef(e,t,r){this._data[e][t]=r,this._dirty=!0}GetItemElement(e,t){return this._data[e][t]}UpdateData(){if(this._dirty&&this._declaration){for(var e=n.device.gl,t=new Float32Array(this._data.length*this._vertexStride),r=0,i=0;i<this._data.length;++i)for(var s=0;s<this._declaration.elements.length;++s)if(1===this._declaration.elements[s].elements)t[r++]=this._data[i][s];else for(var a=0;a<this._declaration.elements[s].elements;++a)t[r++]=this._data[i][s][a];this._vb||(this._vb=e.createBuffer()),e.bindBuffer(e.ARRAY_BUFFER,this._vb),e.bufferData(e.ARRAY_BUFFER,t,e.STATIC_DRAW),e.bindBuffer(e.ARRAY_BUFFER,null),this._dirty=!1}}Unload(){this._vb&&(n.device.gl.deleteBuffer(this._vb),this._vb=null)}GetInstanceBuffer(){return this._vb}GetInstanceDeclaration(){return this._declaration}GetInstanceStride(){return 4*this._vertexStride}GetInstanceCount(){return this._count}static black(e){return[]}}},"./core/TriObserverLocal.js":function(e,t,r){"use strict";r.r(t),r.d(t,"TriObserverLocal",(function(){return i}));var n=r("./global/index.js");class i extends n.Tw2BaseClass{constructor(...e){super(...e),this.front=n.vec3.create()}static black(e){return[["front",e.vector3]]}}i.__isStaging=4},"./core/Tw2Error.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tw2Error",(function(){return s})),r.d(t,"ErrWebglContext",(function(){return a})),r.d(t,"ErrWebxrNotSupported",(function(){return o})),r.d(t,"ErrWebxrDeviceNotFound",(function(){return u})),r.d(t,"ErrWebxrRequestFailed",(function(){return c})),r.d(t,"ErrWebxrSessionNotSupported",(function(){return l})),r.d(t,"ErrStoreKeyReserved",(function(){return h})),r.d(t,"ErrStoreValueInvalid",(function(){return d})),r.d(t,"ErrStoreValueMissing",(function(){return f})),r.d(t,"ErrStoreInvalid",(function(){return m})),r.d(t,"ErrHTTPRequest",(function(){return v})),r.d(t,"ErrHTTPStatus",(function(){return p})),r.d(t,"ErrBinaryFormat",(function(){return _})),r.d(t,"ErrBinaryReaderReadError",(function(){return E})),r.d(t,"ErrBinaryObjectTypeNotFound",(function(){return S})),r.d(t,"ErrGeometryMeshMissingParticleElement",(function(){return T})),r.d(t,"ErrGeometryMeshElementComponentsMissing",(function(){return g})),r.d(t,"ErrGeometryMeshAreaMissing",(function(){return R})),r.d(t,"ErrGeometryMeshBoneNameInvalid",(function(){return b})),r.d(t,"ErrGeometryMeshEffectBinding",(function(){return y})),r.d(t,"ErrGeometryFileType",(function(){return A})),r.d(t,"ErrResourcePrefixUnregistered",(function(){return j})),r.d(t,"ErrResourcePrefixUndefined",(function(){return w})),r.d(t,"ErrResourceExtensionUnregistered",(function(){return O})),r.d(t,"ErrResourceExtensionUndefined",(function(){return C})),r.d(t,"ErrResourceFormat",(function(){return L})),r.d(t,"ErrShaderVersion",(function(){return D})),r.d(t,"ErrShaderHeaderSize",(function(){return P})),r.d(t,"ErrShaderPermutationValue",(function(){return x})),r.d(t,"ErrShaderCompile",(function(){return I})),r.d(t,"ErrShaderLink",(function(){return M})),r.d(t,"ErrDeclarationValueType",(function(){return F})),r.d(t,"ErrSingletonInstantiation",(function(){return G})),r.d(t,"ErrInvalidDecoratorUsage",(function(){return N})),r.d(t,"ErrAbstractClass",(function(){return B})),r.d(t,"ErrAbstractMethod",(function(){return U})),r.d(t,"ErrFeatureNotImplemented",(function(){return V})),r.d(t,"ErrIndexBounds",(function(){return k})),r.d(t,"ErrBindingValueUndefined",(function(){return H})),r.d(t,"ErrBindingType",(function(){return q})),r.d(t,"ErrBindingReference",(function(){return z})),r.d(t,"ErrSOFHullNotFound",(function(){return W})),r.d(t,"ErrSOFFactionNotFound",(function(){return Y})),r.d(t,"ErrSOFRaceNotFound",(function(){return X})),r.d(t,"ErrSOFMaterialNotFound",(function(){return K})),r.d(t,"ErrSOFPatternNotFound",(function(){return Q})),r.d(t,"ErrWrapped",(function(){return Z}));var n=r("./global/util/index.js"),i=Object(n.isFunction)(Error.captureStackTrace);class s extends Error{constructor(e={},t="Undefined error"){var r=t;"string"==typeof e?(r=e,e={}):e.message&&(r=e.message,delete e.message),super(),this.message=Object(n.template)(r,e),this.name=this.constructor.name,this.data=e,i?Error.captureStackTrace(this,s):this.stack=new Error(this.message).stack}emitOn(e,t="error"){return e&&e.emit&&e.emit(t,this),this}}s.__category="error";class a extends s{constructor(e){super(e,"Unable to create webgl context (%version%)")}}class o extends s{constructor(e){super(e,"Webxr not supported")}}class u extends s{constructor(e){super(e,"Webxr device not found")}}class c extends s{constructor(e){super(e,"Webxr request failed (%err%)")}}class l extends s{constructor(e){super(e,"Webxr session not supported (%err%)")}}class h extends s{constructor(e){super(e,"Reserved key for '%store%' store (%key%)")}}class d extends s{constructor(e){super(e,"Invalid value for '%store%' store key (%key%)")}}class f extends s{constructor(e){super(e,"Missing '%store%' store key (%key%)")}}class m extends s{constructor(e){super(e,"Invalid store")}}class v extends s{constructor(e){super(e,"Communication error while requesting resource")}}class p extends s{constructor(e){super(e,"%statusText=Communication status error while loading resource% (%status%)")}}class _ extends s{constructor(e){super(e,"Invalid binary format (%formatError=undefined%)")}}class E extends s{constructor(e){super(e,"Error reading binary (%readError=undefined%)")}}class S extends s{constructor(e){super(e,"Binary object type not found (%type%)")}}class T extends s{constructor(e){super(e,"Input geometry mesh lacks element required by particle system")}}class g extends s{constructor(e){super(e,"Input geometry mesh elements do not have the required number of components")}}class R extends s{constructor(e){super(e,"Geometry mesh missing expected area at index %areaIndex%")}}class b extends s{constructor(e){super(e,"Geometry mesh has invalid bone name for model")}}class y extends s{constructor(e){super(e,"Error binding geometry mesh to effect")}}class A extends s{constructor(e){super(e,"Invalid geometry file type (%fileType%)")}}class j extends s{constructor(e){super(e,"Unregistered resource prefix (%prefix%)")}}class w extends s{constructor(e){super(e,"Undefined resource prefix")}}class O extends s{constructor(e){super(e,"Unregistered resource extension (%extension%)")}}class C extends s{constructor(e){super(e,"Undefined resource extension")}}class L extends s{constructor(e){super(e,"Invalid resource format")}}class D extends s{constructor(e){super(e,"Invalid version of effect file (%version%)")}}class P extends s{constructor(e){super(e,"Effect file contains no compiled effects")}}class x extends s{constructor(e){super(e,"Invalid shader permutation value")}}class I extends s{constructor(e){super(e,"Error compiling %shaderType% shader (%infoLog%)")}}class M extends s{constructor(e){super(e,"Error linking shaders")}}class F extends s{constructor(e){super(e,"Invalid declaration value type (%declaration%:%valueType%)")}}class G extends s{constructor(e){super(e,"Cannot re-instantiate singleton (%class%)")}}class N extends s{constructor(e){super(e,"Invalid decorator usage (%reason%)")}}class B extends s{constructor(e){super(e,"Abstract class cannot be directly instantiated (%class%)")}}class U extends s{constructor(e){super(e,"Abstract class method not implemented on child class (%method%)")}}class V extends s{constructor(e){super(e,"%feature=Feature% not implemented")}}class k extends s{constructor(e){super(e,"Array index out of bounds")}}class H extends s{constructor(e){super(e,"Error binding '%name=unknown%', '%object%' property is undefined (%property%)")}}class q extends s{constructor(e){super(e,"Error binding '%name=unknown%', cannot identify binding type")}}class z extends s{constructor(e){super(e,"Error binding '%name=unknown%', could not find '%object%' object reference")}}class W extends s{constructor(e){super(e,"SOF Hull not found (%name%)")}}class Y extends s{constructor(e){super(e,"SOF Faction not found (%name%)")}}class X extends s{constructor(e){super(e,"SOF Race not found (%name%)")}}class K extends s{constructor(e){super(e,"SOF Material not found (%name%)")}}class Q extends s{constructor(e){super(e,"SOF Pattern not found (%name%)")}}class Z extends s{constructor(e){super(e,"Invalid wrapped object(s) (%reason%)")}}},"./core/Tw2Frustum.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tw2Frustum",(function(){return i}));var n=r("./global/index.js");class i{constructor(){this.planes=[n.vec4.create(),n.vec4.create(),n.vec4.create(),n.vec4.create(),n.vec4.create(),n.vec4.create()],this.viewPos=n.vec3.create(),this.viewDir=n.vec3.create(),this.halfWidthProjection=1}Initialize(e,t,r,s,a){var o=i.global.mat4_0,u=s||n.mat4.invert(o,e);this.viewPos.set(u.subarray(12,14)),this.viewDir.set(u.subarray(8,10)),this.halfWidthProjection=t[0]*r*.5;var c=a||n.mat4.multiply(o,t,e);this.planes[0][0]=c[2],this.planes[0][1]=c[6],this.planes[0][2]=c[10],this.planes[0][3]=c[14],this.planes[1][0]=c[3]+c[0],this.planes[1][1]=c[7]+c[4],this.planes[1][2]=c[11]+c[8],this.planes[1][3]=c[15]+c[12],this.planes[2][0]=c[3]-c[1],this.planes[2][1]=c[7]-c[5],this.planes[2][2]=c[11]-c[9],this.planes[2][3]=c[15]-c[13],this.planes[3][0]=c[3]-c[0],this.planes[3][1]=c[7]-c[4],this.planes[3][2]=c[11]-c[8],this.planes[3][3]=c[15]-c[12],this.planes[4][0]=c[3]+c[1],this.planes[4][1]=c[7]+c[5],this.planes[4][2]=c[11]+c[9],this.planes[4][3]=c[15]+c[13],this.planes[5][0]=c[3]-c[2],this.planes[5][1]=c[7]-c[6],this.planes[5][2]=c[11]-c[10],this.planes[5][3]=c[15]-c[14];for(var l=0;l<6;++l){var h=n.vec3.length(this.planes[l]);this.planes[l][0]/=h,this.planes[l][1]/=h,this.planes[l][2]/=h,this.planes[l][3]/=h}}IsSphereVisible(e,t){for(var r=0;r<6;++r)if(this.planes[r][0]*e[0]+this.planes[r][1]*e[1]+this.planes[r][2]*e[2]+this.planes[r][3]<-t)return!1;return!0}GetPixelSizeAcross(e,t){var r=n.vec3.subtract(i.global.vec3_0,this.viewPos,e),s=n.vec3.dot(this.viewDir,r);return s<1e-5&&(s=1e-5),t<1e-5?0:t/s*this.halfWidthProjection*2}}i.global={vec3_0:n.vec3.create(),mat4_0:n.mat4.create()}},"./core/Tw2RenderTarget.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tw2RenderTarget",(function(){return s}));var n=r("./global/index.js"),i=r("./core/resource/Tw2TextureRes.js");class s{constructor(){this._id=n.util.generateID(),this.name="",this.texture=null,this.width=null,this.height=null,this.hasDepth=null,this._frameBuffer=null,this._renderBuffer=null}Destroy(){var e=n.device.gl;this.texture&&(e.deleteTexture(this.texture.texture),this.texture=null),this._renderBuffer&&(e.deleteRenderbuffer(this._renderBuffer),this._renderBuffer=null),this._frameBuffer&&(e.deleteFramebuffer(this._frameBuffer),this._frameBuffer=null)}Create(e,t,r){var s=n.device.gl;this.Destroy(),this.texture=new i.Tw2TextureRes,this.texture.Attach(s.createTexture()),this._frameBuffer=s.createFramebuffer(),s.bindFramebuffer(s.FRAMEBUFFER,this._frameBuffer),s.bindTexture(s.TEXTURE_2D,this.texture.texture),s.texImage2D(s.TEXTURE_2D,0,s.RGBA,e,t,0,s.RGBA,s.UNSIGNED_BYTE,null),s.texParameteri(s.TEXTURE_2D,s.TEXTURE_MAG_FILTER,s.LINEAR),s.texParameteri(s.TEXTURE_2D,s.TEXTURE_MIN_FILTER,s.LINEAR),s.bindTexture(s.TEXTURE_2D,null),this._renderBuffer=null,r&&(this._renderBuffer=s.createRenderbuffer(),s.bindRenderbuffer(s.RENDERBUFFER,this._renderBuffer),s.renderbufferStorage(s.RENDERBUFFER,s.DEPTH_COMPONENT16,e,t)),s.framebufferTexture2D(s.FRAMEBUFFER,s.COLOR_ATTACHMENT0,s.TEXTURE_2D,this.texture.texture,0),r&&s.framebufferRenderbuffer(s.FRAMEBUFFER,s.DEPTH_ATTACHMENT,s.RENDERBUFFER,this._renderBuffer),s.bindRenderbuffer(s.RENDERBUFFER,null),s.bindFramebuffer(s.FRAMEBUFFER,null),this.texture.width=this.width=e,this.texture.height=this.height=t,this.hasDepth=r}Set(){n.device.gl.bindFramebuffer(n.device.gl.FRAMEBUFFER,this._frameBuffer),n.device.gl.viewport(0,0,this.width,this.height)}Unset(){n.device.gl.bindFramebuffer(n.device.gl.FRAMEBUFFER,null),n.device.gl.viewport(0,0,n.device.viewportWidth,n.device.viewportHeight)}}},"./core/batch/Tw2BatchAccumulator.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tw2BatchAccumulator",(function(){return i}));var n=r("./global/index.js");class i{constructor(e=null){this.batches=[],this._sortMethod=null,this._sortMethod=e}get length(){return this.batches.length}Commit(e){this.batches.push(e)}Clear(){this.batches=[]}Render(e="Main"){this._sortMethod&&this.batches.sort(this._sortMethod);for(var t=0;t<this.batches.length;++t)this.batches[t]instanceof i?this.batches[t].Render(e):(this.batches[t].renderMode!==n.device.RM_ANY&&n.device.SetStandardStates(this.batches[t].renderMode),n.device.perObjectData=this.batches[t].perObjectData,this.batches[t].Commit(e))}}},"./core/batch/Tw2ForwardingRenderBatch.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tw2ForwardingRenderBatch",(function(){return i}));var n=r("./core/batch/Tw2RenderBatch.js");class i extends n.Tw2RenderBatch{constructor(...e){super(...e),this.geometryProvider=null}Commit(e){this.geometryProvider&&this.geometryProvider.Render(this,e)}}},"./core/batch/Tw2GeometryBatch.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tw2GeometryBatch",(function(){return i}));var n=r("./core/batch/Tw2RenderBatch.js");class i extends n.Tw2RenderBatch{constructor(...e){super(...e),this.geometryRes=null,this.meshIx=0,this.start=0,this.count=1,this.effect=null}Commit(e){this.geometryRes&&this.effect&&this.geometryRes.RenderAreas(this.meshIx,this.start,this.count,this.effect,e)}}},"./core/batch/Tw2GeometryLineBatch.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tw2GeometryLineBatch",(function(){return i}));var n=r("./core/batch/Tw2GeometryBatch.js");class i extends n.Tw2GeometryBatch{Commit(e){this.geometryRes&&this.effect&&this.geometryRes.RenderLines(this.meshIx,this.start,this.count,this.effect,e)}}},"./core/batch/Tw2InstancedMeshBatch.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tw2InstancedMeshBatch",(function(){return i}));var n=r("./core/batch/Tw2GeometryBatch.js");class i extends n.Tw2GeometryBatch{constructor(...e){super(...e),this.instanceMesh=null}Commit(e){this.instanceMesh&&this.effect&&this.instanceMesh.RenderAreas(this.meshIx,this.start,this.count,this.effect,e)}}},"./core/batch/Tw2RenderBatch.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tw2RenderBatch",(function(){return i}));var n=r("./global/index.js");class i{constructor(){this.renderMode=n.RM_ANY,this.perObjectData=null}Commit(e){}}},"./core/batch/index.js":function(e,t,r){"use strict";r.r(t);var n=r("./core/batch/Tw2BatchAccumulator.js");r.d(t,"Tw2BatchAccumulator",(function(){return n.Tw2BatchAccumulator}));var i=r("./core/batch/Tw2ForwardingRenderBatch.js");r.d(t,"Tw2ForwardingRenderBatch",(function(){return i.Tw2ForwardingRenderBatch}));var s=r("./core/batch/Tw2GeometryBatch.js");r.d(t,"Tw2GeometryBatch",(function(){return s.Tw2GeometryBatch}));var a=r("./core/batch/Tw2GeometryLineBatch.js");r.d(t,"Tw2GeometryLineBatch",(function(){return a.Tw2GeometryLineBatch}));var o=r("./core/batch/Tw2RenderBatch.js");r.d(t,"Tw2RenderBatch",(function(){return o.Tw2RenderBatch}));var u=r("./core/batch/Tw2InstancedMeshBatch.js");r.d(t,"Tw2InstancedMeshBatch",(function(){return u.Tw2InstancedMeshBatch}))},"./core/data/Tw2PerObjectData.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tw2PerObjectData",(function(){return i}));var n=r("./core/data/Tw2RawData.js");class i{constructor(){this.vs=null,this.ps=null,this.ffe=null}static from(e,t){var r=new i;return e&&(e.ps&&(r.ps=n.Tw2RawData.from(e.ps,t)),e.vs&&(r.vs=n.Tw2RawData.from(e.vs,t)),e.ffe&&(r.ffe=n.Tw2RawData.from(e.ffe,t))),r}}},"./core/data/Tw2RawData.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tw2RawData",(function(){return i}));var n=r("./core/Tw2Error.js");class i{constructor(){this.data=null,this.elements={},this._nextOffset=0}Has(e){return e in this.elements}Set(e,t){for(var r=this.elements[e],n=0;n<r.size;n++)this.data[n+r.offset]=t[n]}SetIndex(e,t,r){var i=this.elements[e];if(t<0||t>=i.size)throw new n.ErrIndexBounds;this.data[t+i.offset]=r}Get(e){return this.elements[e].array}Declare(e,t){var r="number"!=typeof t,n=r?t.length:t,i=r?t:null;this.elements[e]={offset:this._nextOffset,array:null,size:n,value:i},this._nextOffset+=n}Create(){for(var e in this.data=new Float32Array(this._nextOffset),this.elements)if(this.elements.hasOwnProperty(e)){var t=this.elements[e];if(t.array=this.data.subarray(t.offset,t.offset+t.size),t.value){for(var r=0;r<t.size;r++)t.array[r]=t.value[r];Reflect.deleteProperty(t,"value")}}}static from(e,t){var r=new i;if(e){for(var n=0;n<e.length;n++)r.Declare(e[n][0],e[n][1]);t&&t.skipUpdate||r.Create()}return r}}},"./core/data/index.js":function(e,t,r){"use strict";r.r(t);var n=r("./core/data/Tw2PerObjectData.js");r.d(t,"Tw2PerObjectData",(function(){return n.Tw2PerObjectData}));var i=r("./core/data/Tw2RawData.js");r.d(t,"Tw2RawData",(function(){return i.Tw2RawData}))},"./core/geometry/Tw2BlendShapeData.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tw2BlendShapeData",(function(){return i}));var n=r("./core/vertex/index.js");class i{constructor(){this.name="",this.declaration=new n.Tw2VertexDeclaration,this.buffers=[],this.indexes=null,this.weightProxy=null}}},"./core/geometry/Tw2GeometryAnimation.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tw2GeometryAnimation",(function(){return n}));class n{constructor(){this.name="",this.duration=0,this.trackGroups=[]}}},"./core/geometry/Tw2GeometryBone.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tw2GeometryBone",(function(){return i}));var n=r("./global/index.js");class i{constructor(){this.name="",this.parentIndex=-1,this.position=n.vec3.create(),this.orientation=n.quat.create(),this.scaleShear=n.mat3.create(),this.localTransform=n.mat4.create(),this.worldTransform=n.mat4.create(),this.worldTransformInv=n.mat4.create()}UpdateTransform(){n.mat4.fromMat3(this.localTransform,this.scaleShear),n.quat.normalize(this.orientation,this.orientation);var e=n.mat4.fromQuat(i.global.mat4_0,this.orientation);return n.mat4.multiply(this.localTransform,this.localTransform,e),this.localTransform[12]=this.position[0],this.localTransform[13]=this.position[1],this.localTransform[14]=this.position[2],this.localTransform}}i.global={mat4_0:n.mat4.create()}},"./core/geometry/Tw2GeometryCurve.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tw2GeometryCurve",(function(){return n}));class n{constructor(){this.dimension=0,this.degree=0,this.knots=null,this.controls=null}}},"./core/geometry/Tw2GeometryMesh.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tw2GeometryMesh",(function(){return a}));var n=r("./global/index.js"),i=r("./core/vertex/index.js"),s=r("./global/util/index.js");r("./core/geometry/Tw2GeometryMeshArea.js");class a{constructor(){this.name="",this.declaration=new i.Tw2VertexDeclaration,this.areas=[],this.buffer=null,this.bufferLength=0,this.bufferData=null,this.indexes=null,this.indexData=null,this.indexType=0,this.minBounds=n.vec3.fromValues(0,0,0),this.maxBounds=n.vec3.fromValues(0,0,0),this.boundsSpherePosition=n.vec3.create(),this.boundsSphereRadius=0,this.bones=[],this.boneBindings=[],this._faces=0,this._vertices=0,this._areas=0}GetBoundingBox(e,t){return n.box3.fromBounds(e,this.minBounds,this.maxBounds),t&&n.box3.transformMat4(e,e,t),!0}GetBoundingSphere(e,t){return n.sph3.fromPositionRadius(e,this.boundsSpherePosition,this.boundsSphereRadius),t&&n.sph3.transformMat4(e,e,t),!0}RebuildBounds(e){var t=this.minBounds,r=this.maxBounds;n.box3.bounds.empty(t,r);for(var i=0;i<this.areas.length;i++){var s=this.areas[i];this.RebuildAreaBounds(s,this.bufferData,this.indexData,e),n.box3.bounds.union(t,r,t,r,s.minBounds,s.maxBounds)}this.boundsSphereRadius=n.box3.bounds.toPositionRadius(t,r,this.boundsSpherePosition)}RebuildAreaBounds(e,t,r,i){if(!i||!t||!r)return!1;var s=this.declaration.FindUsage(0,0);if(!s)return!1;var o=this.declaration.stride/4,u=s.offset,c=a.GetBoundsFromVertices(n.box3.create(),e.start,e.count,o,u,t,r);return n.box3.toObjectBounds(c,e),n.box3.toObjectPositionRadius(c,e),!0}static GetFaceVertexIndices(e,t,r){if(t>=r.length/3)throw new Error("Invalid index: "+t);for(var n=0;n<3;n++)e[n]=r[3*t+n];return e}static GetVertexPosition(e,t,r,i,a){if(!Object(s.isNumber)(t)||t>a.length/r)throw new Error("Invalid vertex index: "+t);var o=t*r;return n.vec3.set(e,a[o+i],a[o+i+1],a[o+i+2])}static GetBoundsFromVertices(e,t,r,i,s,a,o){r/=3,t=t/2/3;var u=[],c=n.vec3.create(),l=n.vec3.create();n.box3.empty(e);for(var h=0;h<r;h++){this.GetFaceVertexIndices(c,h+t,o);for(var d=0;d<3;d++)u.includes(c[d])||(u.push(c[d]),this.GetVertexPosition(l,c[d],i,s,a),n.box3.addPoint(e,e,l))}return e}}},"./core/geometry/Tw2GeometryMeshArea.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tw2GeometryMeshArea",(function(){return i}));var n=r("./global/index.js");class i{constructor(){this.name="",this.start=0,this.count=0,this.minBounds=n.vec3.fromValues(0,0,0),this.maxBounds=n.vec3.fromValues(0,0,0),this.boundsSpherePosition=n.vec3.create(),this.boundsSphereRadius=0}GetBoundingBox(e,t){return n.box3.fromBounds(e,this.minBounds,this.maxBounds),t&&n.box3.transformMat4(e,e,t),!0}GetBoundingSphere(e,t){return n.sph3.fromPositionRadius(e,this.boundsSpherePosition,this.boundsSphereRadius),t&&n.sph3.transformMat4(e,e,t),!0}}},"./core/geometry/Tw2GeometryMeshBinding.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tw2GeometryMeshBinding",(function(){return n}));class n{constructor(){this.mesh=null,this.bones=[]}}},"./core/geometry/Tw2GeometryModel.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tw2GeometryModel",(function(){return n}));class n{constructor(){this.name="",this.meshBindings=[],this.skeleton=null}FindBoneByName(e){if(!this.skeleton)return null;for(var t=0;t<this.skeleton.bones.length;++t)if(this.skeleton.bones[t].name===e)return this.skeleton.bones[t];return null}}},"./core/geometry/Tw2GeometrySkeleton.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tw2GeometrySkeleton",(function(){return n}));class n{constructor(){this.bones=[]}}},"./core/geometry/Tw2GeometryTrackGroup.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tw2GeometryTrackGroup",(function(){return n}));class n{constructor(){this.name="",this.model=null,this.transformTracks=[]}}},"./core/geometry/Tw2GeometryTransformTrack.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tw2GeometryTransformTrack",(function(){return n}));class n{constructor(){this.name="",this.position=null,this.orientation=null,this.scaleShear=null}}},"./core/geometry/index.js":function(e,t,r){"use strict";r.r(t);var n=r("./core/geometry/Tw2BlendShapeData.js");r.d(t,"Tw2BlendShapeData",(function(){return n.Tw2BlendShapeData}));var i=r("./core/geometry/Tw2GeometryAnimation.js");r.d(t,"Tw2GeometryAnimation",(function(){return i.Tw2GeometryAnimation}));var s=r("./core/geometry/Tw2GeometryBone.js");r.d(t,"Tw2GeometryBone",(function(){return s.Tw2GeometryBone}));var a=r("./core/geometry/Tw2GeometryCurve.js");r.d(t,"Tw2GeometryCurve",(function(){return a.Tw2GeometryCurve}));var o=r("./core/geometry/Tw2GeometryMesh.js");r.d(t,"Tw2GeometryMesh",(function(){return o.Tw2GeometryMesh}));var u=r("./core/geometry/Tw2GeometryMeshArea.js");r.d(t,"Tw2GeometryMeshArea",(function(){return u.Tw2GeometryMeshArea}));var c=r("./core/geometry/Tw2GeometryMeshBinding.js");r.d(t,"Tw2GeometryMeshBinding",(function(){return c.Tw2GeometryMeshBinding}));var l=r("./core/geometry/Tw2GeometryModel.js");r.d(t,"Tw2GeometryModel",(function(){return l.Tw2GeometryModel}));var h=r("./core/geometry/Tw2GeometrySkeleton.js");r.d(t,"Tw2GeometrySkeleton",(function(){return h.Tw2GeometrySkeleton}));var d=r("./core/geometry/Tw2GeometryTrackGroup.js");r.d(t,"Tw2GeometryTrackGroup",(function(){return d.Tw2GeometryTrackGroup}));var f=r("./core/geometry/Tw2GeometryTransformTrack.js");r.d(t,"Tw2GeometryTransformTrack",(function(){return f.Tw2GeometryTransformTrack}))},"./core/index.js":function(e,t,r){"use strict";r.r(t);var n=r("./core/batch/index.js");r.d(t,"Tw2BatchAccumulator",(function(){return n.Tw2BatchAccumulator})),r.d(t,"Tw2ForwardingRenderBatch",(function(){return n.Tw2ForwardingRenderBatch})),r.d(t,"Tw2GeometryBatch",(function(){return n.Tw2GeometryBatch})),r.d(t,"Tw2GeometryLineBatch",(function(){return n.Tw2GeometryLineBatch})),r.d(t,"Tw2RenderBatch",(function(){return n.Tw2RenderBatch})),r.d(t,"Tw2InstancedMeshBatch",(function(){return n.Tw2InstancedMeshBatch}));var i=r("./core/data/index.js");r.d(t,"Tw2PerObjectData",(function(){return i.Tw2PerObjectData})),r.d(t,"Tw2RawData",(function(){return i.Tw2RawData}));var s=r("./core/geometry/index.js");r.d(t,"Tw2BlendShapeData",(function(){return s.Tw2BlendShapeData})),r.d(t,"Tw2GeometryAnimation",(function(){return s.Tw2GeometryAnimation})),r.d(t,"Tw2GeometryBone",(function(){return s.Tw2GeometryBone})),r.d(t,"Tw2GeometryCurve",(function(){return s.Tw2GeometryCurve})),r.d(t,"Tw2GeometryMesh",(function(){return s.Tw2GeometryMesh})),r.d(t,"Tw2GeometryMeshArea",(function(){return s.Tw2GeometryMeshArea})),r.d(t,"Tw2GeometryMeshBinding",(function(){return s.Tw2GeometryMeshBinding})),r.d(t,"Tw2GeometryModel",(function(){return s.Tw2GeometryModel})),r.d(t,"Tw2GeometrySkeleton",(function(){return s.Tw2GeometrySkeleton})),r.d(t,"Tw2GeometryTrackGroup",(function(){return s.Tw2GeometryTrackGroup})),r.d(t,"Tw2GeometryTransformTrack",(function(){return s.Tw2GeometryTransformTrack}));var a=r("./core/lighting/index.js");r.d(t,"Tr2PointLight",(function(){return a.Tr2PointLight})),r.d(t,"Tr2ShLightingManager",(function(){return a.Tr2ShLightingManager}));var o=r("./core/mesh/index.js");r.d(t,"Tr2MeshLod",(function(){return o.Tr2MeshLod})),r.d(t,"Tw2Effect",(function(){return o.Tw2Effect})),r.d(t,"Tw2InstancedMesh",(function(){return o.Tw2InstancedMesh})),r.d(t,"Tw2Mesh",(function(){return o.Tw2Mesh})),r.d(t,"Tw2MeshArea",(function(){return o.Tw2MeshArea})),r.d(t,"Tw2MeshLineArea",(function(){return o.Tw2MeshLineArea}));var u=r("./core/model/index.js");r.d(t,"Tw2Animation",(function(){return u.Tw2Animation})),r.d(t,"Tw2AnimationController",(function(){return u.Tw2AnimationController})),r.d(t,"Tw2Bone",(function(){return u.Tw2Bone})),r.d(t,"Tw2BoneBinding",(function(){return u.Tw2BoneBinding})),r.d(t,"Tw2MeshBinding",(function(){return u.Tw2MeshBinding})),r.d(t,"Tw2Model",(function(){return u.Tw2Model})),r.d(t,"Tw2Track",(function(){return u.Tw2Track})),r.d(t,"Tw2TrackGroup",(function(){return u.Tw2TrackGroup}));var c=r("./core/parameter/index.js");r.d(t,"Tw2Parameter",(function(){return c.Tw2Parameter})),r.d(t,"Tw2FloatParameter",(function(){return c.Tw2FloatParameter})),r.d(t,"Tw2Matrix4Parameter",(function(){return c.Tw2Matrix4Parameter})),r.d(t,"Tw2MatrixParameter",(function(){return c.Tw2MatrixParameter})),r.d(t,"Tw2TransformParameter",(function(){return c.Tw2TransformParameter})),r.d(t,"Tw2VariableParameter",(function(){return c.Tw2VariableParameter})),r.d(t,"Tw2Vector2Parameter",(function(){return c.Tw2Vector2Parameter})),r.d(t,"Tw2Vector3Parameter",(function(){return c.Tw2Vector3Parameter})),r.d(t,"Tw2Vector4Parameter",(function(){return c.Tw2Vector4Parameter})),r.d(t,"Tw2TextureParameter",(function(){return c.Tw2TextureParameter}));var l=r("./core/post/index.js");r.d(t,"Tw2PostEffect",(function(){return l.Tw2PostEffect})),r.d(t,"Tw2PostEffectManager",(function(){return l.Tw2PostEffectManager})),r.d(t,"Tw2PostEffectStep",(function(){return l.Tw2PostEffectStep})),r.d(t,"Tr2PostProcess",(function(){return l.Tr2PostProcess}));var h=r("./core/reader/index.js");r.d(t,"Tw2BinaryReader",(function(){return h.Tw2BinaryReader})),r.d(t,"Tw2BlackReader",(function(){return h.Tw2BlackReader})),r.d(t,"Tw2ObjectReader",(function(){return h.Tw2ObjectReader}));var d=r("./core/resource/index.js");r.d(t,"Tw2EffectRes",(function(){return d.Tw2EffectRes})),r.d(t,"Tw2GeometryRes",(function(){return d.Tw2GeometryRes})),r.d(t,"Tw2LoadingObject",(function(){return d.Tw2LoadingObject})),r.d(t,"Tw2LodResource",(function(){return d.Tw2LodResource})),r.d(t,"Tw2Resource",(function(){return d.Tw2Resource})),r.d(t,"Tw2Shader",(function(){return d.Tw2Shader})),r.d(t,"Tw2TextureRes",(function(){return d.Tw2TextureRes})),r.d(t,"Tw2VideoRes",(function(){return d.Tw2VideoRes}));var f=r("./core/sampler/index.js");r.d(t,"Tw2SamplerState",(function(){return f.Tw2SamplerState})),r.d(t,"Tw2SamplerOverride",(function(){return f.Tw2SamplerOverride}));var m=r("./core/value/index.js");r.d(t,"Tw2Float",(function(){return m.Tw2Float})),r.d(t,"TriMatrix",(function(){return m.TriMatrix}));var v=r("./core/vertex/index.js");r.d(t,"Tw2VertexDeclaration",(function(){return v.Tw2VertexDeclaration})),r.d(t,"Tw2VertexElement",(function(){return v.Tw2VertexElement}));var p=r("./core/Tr2DistanceTracker.js");r.d(t,"Tr2DistanceTracker",(function(){return p.Tr2DistanceTracker}));var _=r("./core/Tr2RuntimeInstanceData.js");r.d(t,"Tr2RuntimeInstanceData",(function(){return _.Tr2RuntimeInstanceData}));var E=r("./core/TriObserverLocal.js");r.d(t,"TriObserverLocal",(function(){return E.TriObserverLocal}));var S=r("./core/Tw2Error.js");r.d(t,"Tw2Error",(function(){return S.Tw2Error})),r.d(t,"ErrWebglContext",(function(){return S.ErrWebglContext})),r.d(t,"ErrWebxrNotSupported",(function(){return S.ErrWebxrNotSupported})),r.d(t,"ErrWebxrDeviceNotFound",(function(){return S.ErrWebxrDeviceNotFound})),r.d(t,"ErrWebxrRequestFailed",(function(){return S.ErrWebxrRequestFailed})),r.d(t,"ErrWebxrSessionNotSupported",(function(){return S.ErrWebxrSessionNotSupported})),r.d(t,"ErrStoreKeyReserved",(function(){return S.ErrStoreKeyReserved})),r.d(t,"ErrStoreValueInvalid",(function(){return S.ErrStoreValueInvalid})),r.d(t,"ErrStoreValueMissing",(function(){return S.ErrStoreValueMissing})),r.d(t,"ErrStoreInvalid",(function(){return S.ErrStoreInvalid})),r.d(t,"ErrHTTPRequest",(function(){return S.ErrHTTPRequest})),r.d(t,"ErrHTTPStatus",(function(){return S.ErrHTTPStatus})),r.d(t,"ErrBinaryFormat",(function(){return S.ErrBinaryFormat})),r.d(t,"ErrBinaryReaderReadError",(function(){return S.ErrBinaryReaderReadError})),r.d(t,"ErrBinaryObjectTypeNotFound",(function(){return S.ErrBinaryObjectTypeNotFound})),r.d(t,"ErrGeometryMeshMissingParticleElement",(function(){return S.ErrGeometryMeshMissingParticleElement})),r.d(t,"ErrGeometryMeshElementComponentsMissing",(function(){return S.ErrGeometryMeshElementComponentsMissing})),r.d(t,"ErrGeometryMeshAreaMissing",(function(){return S.ErrGeometryMeshAreaMissing})),r.d(t,"ErrGeometryMeshBoneNameInvalid",(function(){return S.ErrGeometryMeshBoneNameInvalid})),r.d(t,"ErrGeometryMeshEffectBinding",(function(){return S.ErrGeometryMeshEffectBinding})),r.d(t,"ErrGeometryFileType",(function(){return S.ErrGeometryFileType})),r.d(t,"ErrResourcePrefixUnregistered",(function(){return S.ErrResourcePrefixUnregistered})),r.d(t,"ErrResourcePrefixUndefined",(function(){return S.ErrResourcePrefixUndefined})),r.d(t,"ErrResourceExtensionUnregistered",(function(){return S.ErrResourceExtensionUnregistered})),r.d(t,"ErrResourceExtensionUndefined",(function(){return S.ErrResourceExtensionUndefined})),r.d(t,"ErrResourceFormat",(function(){return S.ErrResourceFormat})),r.d(t,"ErrShaderVersion",(function(){return S.ErrShaderVersion})),r.d(t,"ErrShaderHeaderSize",(function(){return S.ErrShaderHeaderSize})),r.d(t,"ErrShaderPermutationValue",(function(){return S.ErrShaderPermutationValue})),r.d(t,"ErrShaderCompile",(function(){return S.ErrShaderCompile})),r.d(t,"ErrShaderLink",(function(){return S.ErrShaderLink})),r.d(t,"ErrDeclarationValueType",(function(){return S.ErrDeclarationValueType})),r.d(t,"ErrSingletonInstantiation",(function(){return S.ErrSingletonInstantiation})),r.d(t,"ErrInvalidDecoratorUsage",(function(){return S.ErrInvalidDecoratorUsage})),r.d(t,"ErrAbstractClass",(function(){return S.ErrAbstractClass})),r.d(t,"ErrAbstractMethod",(function(){return S.ErrAbstractMethod})),r.d(t,"ErrFeatureNotImplemented",(function(){return S.ErrFeatureNotImplemented})),r.d(t,"ErrIndexBounds",(function(){return S.ErrIndexBounds})),r.d(t,"ErrBindingValueUndefined",(function(){return S.ErrBindingValueUndefined})),r.d(t,"ErrBindingType",(function(){return S.ErrBindingType})),r.d(t,"ErrBindingReference",(function(){return S.ErrBindingReference})),r.d(t,"ErrSOFHullNotFound",(function(){return S.ErrSOFHullNotFound})),r.d(t,"ErrSOFFactionNotFound",(function(){return S.ErrSOFFactionNotFound})),r.d(t,"ErrSOFRaceNotFound",(function(){return S.ErrSOFRaceNotFound})),r.d(t,"ErrSOFMaterialNotFound",(function(){return S.ErrSOFMaterialNotFound})),r.d(t,"ErrSOFPatternNotFound",(function(){return S.ErrSOFPatternNotFound})),r.d(t,"ErrWrapped",(function(){return S.ErrWrapped}));var T=r("./core/Tw2Frustum.js");r.d(t,"Tw2Frustum",(function(){return T.Tw2Frustum}));var g=r("./core/Tw2RenderTarget.js");r.d(t,"Tw2RenderTarget",(function(){return g.Tw2RenderTarget}))},"./core/lighting/Tr2PointLight.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tr2PointLight",(function(){return i}));var n=r("./global/index.js");class i extends n.Tw2BaseClass{constructor(...e){super(...e),this.name="",this.brightness=0,this.color=n.vec4.create(),this.innerRadius=0,this.noiseAmplitude=0,this.noiseFrequency=0,this.noiseOctaves=0,this.position=n.vec3.create(),this.radius=0}static black(e){return[["name",e.string],["brightness",e.float],["color",e.vector4],["innerRadius",e.float],["noiseAmplitude",e.float],["noiseFrequency",e.float],["noiseOctaves",e.float],["position",e.vector3],["radius",e.float]]}}i.__isStaging=4},"./core/lighting/Tr2ShLightingManager.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tr2ShLightingManager",(function(){return i}));var n=r("./global/index.js");class i extends n.Tw2BaseClass{constructor(...e){super(...e),this.primaryIntensity=0,this.secondaryIntensity=0}static black(e){return[["primaryIntensity",e.float],["secondaryIntensity",e.float]]}}i.__isStaging=4},"./core/lighting/index.js":function(e,t,r){"use strict";r.r(t);var n=r("./core/lighting/Tr2PointLight.js");r.d(t,"Tr2PointLight",(function(){return n.Tr2PointLight}));var i=r("./core/lighting/Tr2ShLightingManager.js");r.d(t,"Tr2ShLightingManager",(function(){return i.Tr2ShLightingManager}))},"./core/mesh/Tr2MeshLod.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tr2MeshLod",(function(){return s}));var n=r("./global/index.js"),i=r("./global/engine/index.js");class s extends n.Tw2BaseClass{constructor(...e){super(...e),this.additiveAreas=[],this.associatedResources=[],this.decalAreas=[],this.depthAreas=[],this.distortionAreas=[],this.geometryRes=null,this.opaqueAreas=[],this.pickableAreas=[],this.transparentAreas=[],this.display=!0,this.geometryResource=null,this.visible={opaqueAreas:!0,transparentAreas:!0,additiveAreas:!0,pickableAreas:!0,distortionAreas:!0,decalAreas:!0,depthAreas:!0}}Initialize(){}OnResPrepared(e){this.geometryResource=e}IsGood(){return this.geometryResource&&this.geometryResource.IsGood()}GetResources(e=[]){for(var t=0;t<this.associatedResources;t++)e[t]&&!e.includes(this.associatedResources[t])&&e.push(this.associatedResources[t]);return n.util.perArrayChild(this.additiveAreas,"GetResources",e),n.util.perArrayChild(this.decalAreas,"GetResources",e),n.util.perArrayChild(this.depthAreas,"GetResources",e),n.util.perArrayChild(this.distortionAreas,"GetResources",e),n.util.perArrayChild(this.opaqueAreas,"GetResources",e),n.util.perArrayChild(this.pickableAreas,"GetResources",e),n.util.perArrayChild(this.transparentAreas,"GetResources",e),e}GetBatches(e,t,r){if(!this.IsGood()||!this.display)return!1;var n=this.constructor.GetAreaBatches;switch(e){case i.RM_ADDITIVE:return void(this.visible.additiveAreas&&n(this,this.additiveAreas,e,t,r));case i.RM_DECAL:return void(this.visible.decalAreas&&n(this,this.opaqueAreas,e,t,r));case i.RM_DEPTH:case i.RM_DISTORTION:return;case i.RM_OPAQUE:return void(this.visible.opaqueAreas&&n(this,this.opaqueAreas,e,t,r));case i.RM_PICKABLE:return void(this.visible.pickableAreas&&n(this,this.pickableAreas,e,t,r));case i.RM_TRANSPARENT:return void(this.visible.transparentAreas&&n(this,this.transparentAreas,e,t,r))}}EmptyAreas(){this.additiveAreas.splice(0),this.decalAreas.splice(0),this.depthAreas.splice(0),this.distortionAreas.splice(0),this.opaqueAreas.splice(0),this.pickableAreas.splice(0),this.transparentAreas.splice(0)}static GetAreaBatches(e,t,r,n,i){for(var s=0;s<t.length;++s){var a=t[s];if(a.effect&&a.display){var o=new a.constructor.batchType;o.renderMode=r,o.perObjectData=i,o.geometryRes=e.geometryResource,o.meshIx=0,o.start=a.index,o.count=a.count,o.effect=a.effect,n.Commit(o)}}}static black(e){return[["additiveAreas",e.array],["associatedResources",e.array],["decalAreas",e.array],["depthAreas",e.array],["distortionAreas",e.array],["geometryRes",e.object],["opaqueAreas",e.array],["pickableAreas",e.array],["transparentAreas",e.array]]}}s.__isStaging=3},"./core/mesh/Tw2Effect.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tw2Effect",(function(){return a}));var n=r("./global/index.js"),i=r("./core/parameter/Tw2TextureParameter.js"),s=r("./core/parameter/Tw2Vector4Parameter.js");class a extends n.Tw2BaseClass{constructor(...e){super(...e),this.name="",this.effectFilePath="",this.effectRes=null,this.parameters={},this.techniques={},this.samplerOverrides={},this.options={},this.shader=null,this.autoParameter=!1}Initialize(){if(""!==this.effectFilePath){this.effectFilePath=this.effectFilePath.toLowerCase();var e=a.ToEffectResPath(this.effectFilePath);this.effectRes=n.tw2.GetResource(e,e=>this.OnResPrepared(e))}}OnValueChanged(e){this.BindParameters()}IsGood(){return this.KeepAlive(),null!==this.shader}KeepAlive(){for(var e=this.GetResources(),t=0;t<e.length;t++)e[t].KeepAlive()}GetResources(e=[]){for(var t in this.effectRes&&!e.includes(this.effectRes)&&e.push(this.effectRes),this.parameters)this.parameters.hasOwnProperty(t)&&"GetResources"in this.parameters[t]&&this.parameters[t].GetResources(e);return e}OnResPrepared(e){return this.shader=e.GetShader(this.options),this.BindParameters(),!0}UnBindParameters(){for(var e in this.techniques)if(this.techniques.hasOwnProperty(e))for(var t=this.techniques[e],r=0;r<t.length;++r)for(var n=0;n<t[r].stages.length;++n)for(var i=0;i<t[r].stages[n].reroutedParameters.length;++i)t[r].stages[n].reroutedParameters[i].Unbind();this.techniques={}}BindParameters(){if(this.UnBindParameters(),!this.IsGood())return!1;for(var e in this.shader.techniques)if(this.shader.techniques.hasOwnProperty(e)){for(var t=this.shader.techniques[e],r=[],s=0;s<t.passes.length;++s){var o=[];o.stages=[];for(var u=0;u<t.passes[s].stages.length;++u){var c=t.passes[s].stages[u],l={};l.constantBuffer=new Float32Array(c.constantSize),l.reroutedParameters=[],l.parameters=[],l.textures=[],l.constantBuffer.set(c.constantValues);for(var h=0;h<c.constants.length;++h){var d=c.constants[h],f=d.name,m=d.Type;if(!a.ConstantIgnore.includes(f))if(f in this.parameters){var v=this.parameters[f];v.Bind(l.constantBuffer,d.offset,d.size)?l.reroutedParameters.push(v):l.parameters.push({parameter:v,constantBuffer:l.constantBuffer,offset:d.offset,size:d.size})}else if(n.tw2.HasVariable(f))l.parameters.push({parameter:n.tw2.GetVariable(f),constantBuffer:l.constantBuffer,offset:d.offset,size:d.size});else if(d.isAutoregister&&m){var p=n.tw2.CreateVariable(f,void 0,m);p&&l.parameters.push({parameter:p,constantBuffer:l.constantBuffer,offset:d.offset,size:d.size})}else if(this.autoParameter&&1===d.elements){var _=l.constantBuffer.subarray(d.offset,d.offset+d.size);0===_.length?_=void 0:1===_.length&&(_=_[0]);var E=n.tw2.CreateVariable(f,_,m);E&&(this.parameters[f]=E,E.Bind(l.constantBuffer,d.offset,d.size)?l.reroutedParameters.push(E):l.parameter.push({parameter:E,constantBuffer:l.constantBuffer,offset:d.offset,size:d.size}))}}for(var S=0;S<c.textures.length;++S){var T=c.textures[S].name,g=null;if(T in this.parameters)g=this.parameters[T];else if(n.tw2.HasVariable(T))g=n.tw2.GetVariable(T);else if(c.textures[S].isAutoregister)g=n.tw2.CreateVariable(T,void 0,i.Tw2TextureParameter);else{if(!this.autoParameter)continue;g=this.parameters[T]=new i.Tw2TextureParameter(T)}for(var R={parameter:g,slot:c.textures[S].registerIndex,sampler:null},b=0;b<c.samplers.length;++b)if(c.samplers[b].registerIndex===R.slot){c.samplers[b].name in this.samplerOverrides?R.sampler=this.samplerOverrides[c.samplers[b].name].GetSampler(n.device,c.samplers[b]):R.sampler=c.samplers[b];break}0===u&&(R.slot+=12),l.textures.push(R)}o.stages.push(l)}r.push(o)}this.techniques[e]=r}return n.device.effectObserver&&n.device.effectObserver.OnEffectChanged(this),this.autoParameter=!1,!0}ApplyPass(e,t){if(this.IsGood()&&e in this.techniques&&!(t>=this.techniques[e].length)){this.shader.ApplyPass(e,t);for(var r=this.techniques[e][t],i=this.shader.techniques[e].passes[t],s=n.device,a=s.gl,o=s.IsAlphaTestEnabled()&&i.shadowShaderProgram?i.shadowShaderProgram:i.shaderProgram,u=0;u<2;++u){for(var c=r.stages[u],l=0;l<c.parameters.length;++l){var h=c.parameters[l];h.parameter.Apply(h.constantBuffer,h.offset,h.size)}for(var d=0;d<c.textures.length;++d){var f=c.textures[d];f.parameter.Apply(f.slot,f.sampler,o.volumeSlices[f.sampler.registerIndex])}}var m=o.constantBufferHandles;m[0]&&a.uniform4fv(m[0],r.stages[0].constantBuffer),m[7]&&a.uniform4fv(m[7],r.stages[1].constantBuffer),s.perFrameVSData&&m[1]&&a.uniform4fv(m[1],s.perFrameVSData.data),s.perFramePSData&&m[2]&&a.uniform4fv(m[2],s.perFramePSData.data);var v=s.perObjectData;v&&(v.vs&&m[3]&&a.uniform4fv(m[3],v.vs.data),v.ps&&m[4]&&a.uniform4fv(m[4],v.ps.data),v.ffe&&m[5]&&a.uniform4fv(m[5],v.ffe.data))}}GetPassCount(e){return null!==this.shader&&e in this.techniques?this.techniques[e].length:0}GetPassInput(e,t){return null===this.shader||!(e in this.techniques)||t>=this.techniques[e].length?null:n.device.IsAlphaTestEnabled()&&this.shader.techniques[e].passes[t].shadowShaderProgram?this.shader.techniques[e].passes[t].shadowShaderProgram.input:this.shader.techniques[e].passes[t].shaderProgram.input}Render(e){for(var t=this.GetPassCount("Main"),r=0;r<t;++r)this.ApplyPass("Main",r),e(this,r)}GetTextures(e={}){for(var t in this.parameters)if(this.parameters.hasOwnProperty(t)&&this.parameters[t]instanceof i.Tw2TextureParameter){var r=this.parameters[t].GetValue();r&&(e[t]=r)}return e}SetTextures(e={},t){var r=!1;for(var n in e)if(e.hasOwnProperty(n)&&void 0!==e[n]){var s=e[n],a=this.parameters[n];i.Tw2TextureParameter.isValue(s)&&(a?a.EqualsValue(s)||(a.SetValue(s),r=!0):(this.parameters[n]=new i.Tw2TextureParameter(n,s),r=!0))}return r&&!t&&this.UpdateValues(),r}GetParameters(e={}){for(var t in this.parameters)!this.parameters.hasOwnProperty(t)||this.parameters[t]instanceof i.Tw2TextureParameter||(e[t]=this.parameters[t].GetValue());return e}SetParameters(e={},t){var r=!1;for(var i in e)if(e.hasOwnProperty(i)&&void 0!==e[i]){var s=e[i],a=this.parameters[i];if(a)a.constructor.isValue(s)&&!a.EqualsValue(s)&&this.parameters[i].SetValue(s)&&(r=!0);else{var o=n.tw2.CreateVariable(i,s);o&&(this.parameters[i]=o,r=!0)}}return r&&!t&&this.UpdateValues(),r}SetOverrides(e={},t){var r=!1;for(var n in e)if(e.hasOwnProperty(n)&&void 0!==e[n]){var s=this.parameters[n];if(s||(s=this.parameters[n]=new i.Tw2TextureParameter(n),r=!0),s instanceof i.Tw2TextureParameter){var a=!1,o=e[n];for(var u in o)if(o.hasOwnProperty(u)&&i.Tw2TextureParameter.overrideProperties.includes(u)&&o[u]!==s[u]){a=!0;break}a&&(s.SetOverrides(e[n]),r=!0)}}return r&&!t&&this.UpdateValues(),r}GetOverrides(e={}){for(var t in this.parameters)if(this.parameters.hasOwnProperty(t)){var r=this.parameters[t];r&&r instanceof i.Tw2TextureParameter&&r.useAllOverrides&&(e[t]=this.parameters[t].GetOverrides())}return e}PopulateParameters(){return this.autoParameter=!0,this.BindParameters()}static ToEffectResPath(e){return(e=e?e.substr(0,e.lastIndexOf(".")).replace("/effect/",n.device.effectDir)+".sm_"+n.device.shaderModel:"").toLowerCase()}static FromEffectResPath(e,t="fx"){return(e=e.substr(0,e.lastIndexOf(".")).replace(n.device.effectDir,"/effect/")+"."+t).toLowerCase()}static set(e,t,r={}){if(!t)return!1;var{parameters:i,textures:s,overrides:a,options:o,effectFilePath:u=""}=t,c=n.util.assignIfExists(e,t,["name","display","autoParameter"]);return i&&e.SetParameters(i,!0)&&(c=!0),a&&e.SetOverrides(a,!0)&&(c=!0),s&&e.SetTextures(s,!0)&&(c=!0),o&&(e.options=Object.assign(o),e.effectRes&&(e.shader=e.effectRes.GetShader(o)),c=!0),"create"===r.verb&&u&&(e.effectFilePath=u.toLowerCase()),c&&!r.skipUpdate&&e.UpdateValues(r),c}static get(e,t={}){return n.util.assignIfExists(t,e,["name","display","effectFilePath"]),t.parameters=e.GetParameters(),t.textures=e.GetTextures(),t.overrides=e.GetOverrides(),t.options=Object.assign(e.options),t}static black(e){return[["effectFilePath",e.path],["name",e.string],["parameters",e.fromList({key:"name"})],["resources",e.fromList({key:"name",reroute:"parameters"})],["constParameters",e.fromList({key:"name",reroute:"parameters",struct:o})],["options",e.notImplemented],["samplerOverrides",e.notImplemented]]}}a.ConstantIgnore=["PerFrameVS","PerObjectVS","PerFramePS","PerObjectPS","PerObjectPSInt"],a.__isStaging=1;class o{static blackStruct(e){var t=new s.Tw2Vector4Parameter;return Object.defineProperty(t,"isConstant",{value:!0,writable:!1}),t.name=e.ReadStringU16(),e.ExpectU16(0,"unknown content"),e.ExpectU16(0,"unknown content"),e.ExpectU16(0,"unknown content"),t.SetValue(new Float32Array([e.ReadF32(),e.ReadF32(),e.ReadF32(),e.ReadF32()])),t}}},"./core/mesh/Tw2InstancedMesh.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tw2InstancedMesh",(function(){return u}));var n=r("./global/index.js"),i=r("./core/batch/index.js"),s=r("./global/engine/index.js"),a=r("./global/util/index.js"),o=(r("./core/mesh/Tw2MeshArea.js"),r("./core/mesh/Tw2Mesh.js"));class u extends n.Tw2BaseClass{constructor(...e){super(...e),this.additiveAreas=[],this.decalAreas=[],this.depthAreas=[],this.distortionAreas=[],this.geometryResPath="",this.instanceGeometryResPath="",this.instanceGeometryResource=null,this.instanceMeshIndex=0,this.maxBounds=n.vec3.create(),this.minBounds=n.vec3.create(),this.opaqueAreas=[],this.transparentAreas=[],this.name="",this.display=!0,this.geometryResource=null,this.pickableAreas=[],this.visible={additiveAreas:!0,decalAreas:!0,depthAreas:!0,distortionAreas:!0,opaqueAreas:!0,pickableAreas:!0,transparentAreas:!0}}Initialize(){""!==this.geometryResPath&&(this.geometryResource=n.resMan.GetResource(this.geometryResPath)),""!==this.instanceGeometryResPath&&(this.instanceGeometryResource=n.resMan.GetResource(this.instanceGeometryResPath))}IsGood(){var e=this.instanceGeometryResource,t=this.geometryResource&&this.geometryResource.IsGood(),r=!!e&&(!e.IsGood||e.IsGood());return t&&r}GetResources(e=[]){return this.geometryResource&&!e.includes(this.geometryResource)&&e.push(this.geometryResource),this.instanceGeometryResource&&"GetResources"in this.instanceGeometryResource&&this.instanceGeometryResource.GetResources(e),n.util.perArrayChild(this.additiveAreas,"GetResources",e),n.util.perArrayChild(this.decalAreas,"GetResources",e),n.util.perArrayChild(this.depthAreas,"GetResources",e),n.util.perArrayChild(this.distortionAreas,"GetResources",e),n.util.perArrayChild(this.opaqueAreas,"GetResources",e),n.util.perArrayChild(this.pickableAreas,"GetResources",e),n.util.perArrayChild(this.transparentAreas,"GetResources",e),e}GetBatches(e,t,r){if(!this.IsGood()||!this.display)return!1;var n=this.constructor.GetAreaBatches;switch(e){case s.RM_ADDITIVE:return void(this.visible.additiveAreas&&n(this,this.additiveAreas,e,t,r));case s.RM_DECAL:return void(this.visible.decalAreas&&n(this,this.opaqueAreas,e,t,r));case s.RM_DEPTH:case s.RM_DISTORTION:return;case s.RM_OPAQUE:return void(this.visible.opaqueAreas&&n(this,this.opaqueAreas,e,t,r));case s.RM_PICKABLE:return void(this.visible.pickableAreas&&n(this,this.pickableAreas,e,t,r));case s.RM_TRANSPARENT:return void(this.visible.transparentAreas&&n(this,this.transparentAreas,e,t,r))}}RenderAreas(e,t,r,n,i){if(this.IsGood()){var s=this.instanceGeometryResource.GetInstanceBuffer(this.instanceMeshIndex);s&&this.geometryResource.RenderAreasInstanced(e,t,r,n,i,s,this.instanceGeometryResource.GetInstanceDeclaration(this.instanceMeshIndex),this.instanceGeometryResource.GetInstanceStride(this.instanceMeshIndex),this.instanceGeometryResource.GetInstanceCount(this.instanceMeshIndex))}}EmptyAreas(){this.additiveAreas.splice(0),this.decalAreas.splice(0),this.depthAreas.splice(0),this.distortionAreas.splice(0),this.opaqueAreas.splice(0),this.pickableAreas.splice(0),this.transparentAreas.splice(0)}static from(e,t){var r=new u;if(r.meshIndex=Object(a.get)(t,"index",0),e){Object(a.assignIfExists)(r,e,["name","display","geometryResPath","instanceGeometryResPath","instanceMeshIndex"]);var n=["additiveAreas","decalAreas","depthAreas","distortionAreas","opaqueAreas","pickableAreas","transparentAreas"];Object(a.assignIfExists)(r.visible,e.visible,n),o.Tw2Mesh.createAreaIfExists(r,e,n)}return t&&t.skipUpdate||r.Initialize(),r}static GetAreaBatches(e,t,r,n,s){for(var a=0;a<t.length;++a){var o=t[a];if(o.effect&&o.display){var u=new i.Tw2InstancedMeshBatch;u.renderMode=r,u.perObjectData=s,u.instanceMesh=e,u.meshIx=o.meshIndex,u.start=o.index,u.count=o.count,u.effect=o.effect,n.Commit(u)}}}static black(e){return[["additiveAreas",e.array],["decalAreas",e.array],["depthAreas",e.array],["distortionAreas",e.array],["geometryResPath",e.path],["instanceGeometryResPath",e.path],["instanceGeometryResource",e.object],["instanceMeshIndex",e.uint],["minBounds",e.vector3],["maxBounds",e.vector3],["opaqueAreas",e.array],["transparentAreas",e.array]]}}u.__isStaging=1},"./core/mesh/Tw2Mesh.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tw2Mesh",(function(){return a}));var n=r("./global/index.js"),i=r("./global/engine/index.js"),s=r("./global/util/index.js");class a extends n.Tw2BaseClass{constructor(...e){super(...e),this.name="",this.additiveAreas=[],this.decalAreas=[],this.deferGeometryLoad=!1,this.depthAreas=[],this.depthNormalAreas=[],this.distortionAreas=[],this.geometryResPath="",this.meshIndex=0,this.opaqueAreas=[],this.opaquePrepassAreas=[],this.pickableAreas=[],this.transparentAreas=[],this.display=!0,this.geometryResource=null,this.visible={additiveAreas:!0,decalAreas:!0,depthAreas:!0,depthNormalAreas:!0,distortionAreas:!0,opaqueAreas:!0,opaquePrepassAreas:!0,pickableAreas:!0,transparentAreas:!0}}Initialize(){""!==this.geometryResPath&&(this.geometryResource=n.resMan.GetResource(this.geometryResPath))}IsGood(){return this.geometryResource&&this.geometryResource.IsGood()}GetResources(e=[]){return this.geometryResource&&!e.includes(this.geometryResource)&&e.push(this.geometryResource),n.util.perArrayChild(this.additiveAreas,"GetResources",e),n.util.perArrayChild(this.decalAreas,"GetResources",e),n.util.perArrayChild(this.depthAreas,"GetResources",e),n.util.perArrayChild(this.distortionAreas,"GetResources",e),n.util.perArrayChild(this.opaqueAreas,"GetResources",e),n.util.perArrayChild(this.pickableAreas,"GetResources",e),n.util.perArrayChild(this.transparentAreas,"GetResources",e),e}GetBatches(e,t,r){if(!this.IsGood()||!this.display)return!1;var n=this.constructor.GetAreaBatches;switch(e){case i.RM_ADDITIVE:return void(this.visible.additiveAreas&&n(this,this.additiveAreas,e,t,r));case i.RM_DECAL:return void(this.visible.decalAreas&&n(this,this.opaqueAreas,e,t,r));case i.RM_DEPTH:case i.RM_DISTORTION:return;case i.RM_OPAQUE:return void(this.visible.opaqueAreas&&n(this,this.opaqueAreas,e,t,r));case i.RM_PICKABLE:return void(this.visible.pickableAreas&&n(this,this.pickableAreas,e,t,r));case i.RM_TRANSPARENT:return void(this.visible.transparentAreas&&n(this,this.transparentAreas,e,t,r))}}EmptyAreas(){this.additiveAreas.splice(0),this.decalAreas.splice(0),this.depthAreas.splice(0),this.depthNormalAreas.splice(0),this.distortionAreas.splice(0),this.opaqueAreas.splice(0),this.opaquePrepassAreas.splice(0),this.pickableAreas.splice(0),this.transparentAreas.splice(0)}static GetAreaBatches(e,t,r,n,i){for(var s=0;s<t.length;++s){var a=t[s];if(a.effect&&a.display){var o=new a.constructor.batchType;o.renderMode=r,o.perObjectData=i,o.geometryRes=e.geometryResource,o.meshIx=e.meshIndex,o.start=a.index,o.count=a.count,o.effect=a.effect,n.Commit(o)}}}static createAreaIfExists(e,t,r){r=Object(s.toArray)(r);for(var i=0;i<r.length;i++){var a=r[i];if(a in t&&a in e)for(var o=0;o<t[a].length;o++){var u=t[a][o].__type||"Tw2MeshArea",c=n.tw2.GetClass(u);e[a].push(c.from(t[a][o],{index:o}))}}}static from(e,t){var r=new a;if(r.index=Object(s.get)(t,"index",0),e){Object(s.assignIfExists)(r,e,["name","display","deferGeometryLoad","geometryResPath","meshIndex"]);var n=["additiveAreas","decalAreas","depthAreas","depthNormalAreas","distortionAreas","opaqueAreas","opaquePrepassAreas","pickableAreas","transparentAreas"];Object(s.assignIfExists)(r.visible,e.visible,n),this.createAreaIfExists(r,e,n)}return t&&t.skipUpdate||r.Initialize(),r}static black(e){return[["additiveAreas",e.array],["decalAreas",e.array],["deferGeometryLoad",e.boolean],["depthAreas",e.array],["depthNormalAreas",e.array],["distortionAreas",e.array],["geometryResPath",e.path],["meshIndex",e.uint],["name",e.string],["opaqueAreas",e.array],["opaquePrepassAreas",e.array],["pickableAreas",e.array],["transparentAreas",e.array]]}}a.__isStaging=1},"./core/mesh/Tw2MeshArea.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tw2MeshArea",(function(){return o}));var n=r("./core/batch/index.js"),i=r("./global/index.js"),s=r("./global/util/index.js"),a=r("./core/mesh/Tw2Effect.js");class o extends i.Tw2BaseClass{constructor(...e){super(...e),this.name="",this.count=1,this.effect=null,this.index=0,this.reversed=!1,this.useSHLighting=!1,this.display=!0}get meshIndex(){return this.index}set meshIndex(e){this.index=e}static from(e,t){var r=new this;return Object(s.assignIfExists)(r,t,"index"),e&&(Object(s.assignIfExists)(r,e,["name","display","count","index","reversed","useSHLighting"]),e.effect&&(r.effect=a.Tw2Effect.from(e.effect))),r}static black(e){return[["count",e.uint],["effect",e.object],["index",e.uint],["name",e.string],["reversed",e.boolean],["useSHLighting",e.boolean]]}}o.batchType=n.Tw2GeometryBatch,o.__isStaging=1},"./core/mesh/Tw2MeshLineArea.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tw2MeshLineArea",(function(){return s}));var n=r("./core/batch/index.js"),i=r("./core/mesh/Tw2MeshArea.js");class s extends i.Tw2MeshArea{}s.batchType=n.Tw2GeometryLineBatch},"./core/mesh/index.js":function(e,t,r){"use strict";r.r(t);var n=r("./core/mesh/Tr2MeshLod.js");r.d(t,"Tr2MeshLod",(function(){return n.Tr2MeshLod}));var i=r("./core/mesh/Tw2Effect.js");r.d(t,"Tw2Effect",(function(){return i.Tw2Effect}));var s=r("./core/mesh/Tw2InstancedMesh.js");r.d(t,"Tw2InstancedMesh",(function(){return s.Tw2InstancedMesh}));var a=r("./core/mesh/Tw2Mesh.js");r.d(t,"Tw2Mesh",(function(){return a.Tw2Mesh}));var o=r("./core/mesh/Tw2MeshArea.js");r.d(t,"Tw2MeshArea",(function(){return o.Tw2MeshArea}));var u=r("./core/mesh/Tw2MeshLineArea.js");r.d(t,"Tw2MeshLineArea",(function(){return u.Tw2MeshLineArea}))},"./core/model/Tw2Animation.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tw2Animation",(function(){return i}));var n=r("./global/index.js");class i extends n.Tw2EventEmitter{constructor(e){super(),this.animationRes=null,this.time=0,this.timeScale=1,this.cycle=!1,this.trackGroups=[],this._callback=null,this._controller=null,this._state=i.State.FINISHED,this._controller=e}get name(){return this.animationRes?this.animationRes.name:null}get duration(){return this.animationRes?this.animationRes.duration:0}get percent(){return this.animationRes?Math.min(this.time,this.duration)/this.duration:0}AddCallback(e){this._callback=e}UpdateCallback(){this._callback&&this._callback(this,this._controller)&&(this._callback=null)}Play(e={}){var t=this.IsPaused(),{time:r=(t?this.time:0),cycle:n=this.cycle,timeScale:s=this.timeScale,callback:a,events:o,percent:u}=e;void 0!==u&&(r=this.duration*u),this.time=Math.max(Math.min(r,this.duration),0),this.timeScale=s,this.cycle=n,this._state=i.State.PLAYING,o&&this.add(o),a&&this.AddCallback(a),t?this.emit("unpause",{animation:this,controller:this._controller}):this.emit("play",{animation:this,controller:this._controller})}Pause(){this.IsPlaying()&&(this._state=i.State.PAUSED,this.emit("pause",{animation:this,controller:this._controller}))}Stop(){this.IsFinished()||(this._state=i.State.FINISHED,this.time=this.duration,this.emit("end",{animation:this,controller:this._controller}),this.UpdateCallback())}IsGood(){return!!this.animationRes}IsPlaying(){return this._state===i.State.PLAYING||this._state===i.State.CYCLING}IsPaused(){return this._state===i.State.PAUSED}IsFinished(){return this._state===i.State.FINISHED}Update(e){return!this.IsFinished()&&(!!this.IsPaused()||(this.time+=e*this.timeScale,this.time>=this.duration&&(this.cycle?(this._state=i.State.CYCLING,this.time=this.time%this.duration,this.emit("cycle",{animation:this,controller:this._controller}),this.UpdateCallback()):this.Stop()),!0))}}i.State={PAUSED:0,PLAYING:1,CYCLING:2,FINISHED:3}},"./core/model/Tw2AnimationController.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tw2AnimationController",(function(){return d}));var n=r("./global/index.js"),i=r("./core/resource/index.js"),s=r("./core/model/Tw2Animation.js"),a=r("./core/model/Tw2Bone.js"),o=r("./core/model/Tw2BoneBinding.js"),u=r("./core/model/Tw2Model.js"),c=r("./core/model/Tw2Track.js"),l=r("./core/model/Tw2TrackGroup.js"),h=r("./core/model/Tw2MeshBinding.js");class d extends n.Tw2BaseClass{constructor(e){super(),this.geometryResources=[],this.models=[],this.animations=[],this.meshBindings=[],this.update=!0,this._isLoaded=!1,this._isPlaying=!1,this._boundsDirty=!1,this._pendingCommands=[],e&&this.SetGeometryResource(e)}IsGood(){for(var e=this.geometryResources.length>0,t=0;t<this.geometryResources.length;t++)this.geometryResources[t]&&this.geometryResources[t].IsGood()||(e=!1);if(!e||!this.animations.length)return!1;for(var r=0;r<this.animations.length;r++)if(!this.animations[r].IsGood())return!1;return!0}IsPlaying(){return this._isPlaying}IsLoaded(){return this._isLoaded}GetAnimationsByName(e={}){if(!this.IsLoaded())return null;for(var t=0;t<this.animations.length;t++)e[this.animations[t].name]=this.animations[t];return e}GetAnimation(e){for(var t=0;t<this.animations.length;t++)if(this.animations[t].name===e)return this.animations[t];return null}PlayAnimation(e,t){if(0!==this.animations.length){var r=this.GetAnimation(e);r&&r.Play(t)}else this._pendingCommands.push({func:this.PlayAnimation,args:[e,t]})}GetPlayingAnimations(){for(var e=[],t=0;t<this.animations.length;t++)this.animations[t].IsPlaying()&&e.push(this.animations[t].name);return e}StopAnimation(e){if(0!==this.animations.length){e=n.util.toArray(e);for(var t=0;t<this.animations.length;++t)e.includes(this.animations[t].name)&&this.animations[t].Stop()}else this._pendingCommands.push({func:this.StopAnimation,args:e})}StopAllAnimations(){if(0!==this.animations.length)for(var e=0;e<this.animations.length;++e)this.animations[e].Stop();else this._pendingCommands.push({func:this.StopAllAnimations,args:null})}StopAllAnimationsExcept(e){if(0!==this.animations.length){e=n.util.toArray(e);for(var t=0;t<this.animations.length;++t)e.includes(this.animations[t].name)||this.animations[t].Stop()}else this._pendingCommands.push({func:this.StopAllAnimationsExcept,args:e})}SetGeometryResource(e){this.models.splice(0);for(var t=0;t<this.animations.length;t++){var r=this.animations[t];this.animations.splice(t,1),t--,this.emit("removed",{animation:r,controller:this}),r.OnDestroy()}this.meshBindings.splice(0);for(var n=0;n<this.geometryResources.length;++n)this.geometryResources[n].UnregisterNotification(this);this._isLoaded=!1,this.geometryResources.splice(0),e&&(this.geometryResources.push(e),e.RegisterNotification(this))}AddGeometryResource(e){this.geometryResources.includes(e)||(this.geometryResources.push(e),e.RegisterNotification(this))}ResetBoneTransforms(){for(var e=0;e<this.models.length;++e)for(var t=0;t<this.models[e].bones.length;++t){var r=this.models[e].bones[t],i=r.boneRes;n.mat4.copy(r.localTransform,i.localTransform),-1!==i.parentIndex?n.mat4.multiply(r.worldTransform,r.localTransform,this.models[e].bones[r.boneRes.parentIndex].worldTransform):n.mat4.set(r.worldTransform,r.localTransform),n.mat4.identity(r.offsetTransform)}for(var s=n.mat4.identity(d.global.mat4_0),a=0;a<this.meshBindings.length;++a)for(var o=0;o<this.meshBindings[a].meshIndex.length;++o)for(var u=0;16*u<this.meshBindings[a].meshIndex[o].length;++u)for(var c=0;c<16;++c)this.meshBindings[a].meshIndex[o][16*u+c]=s[c]}GetBoneMatrices(e,t){if(0===this.geometryResources.length)return new Float32Array;t||(t=this.geometryResources[0]);var r=d.FindMeshBindings(this,t);return r&&void 0!==r.meshIndex[e]?r.meshIndex[e]:new Float32Array}FindBoneForMesh(e,t){var r=this.FindModelForMesh(t);if(r)for(var n=0;n<r.bones.length;n++)if(r.bones[n].boneRes.name===e)return r.bones[n];return null}FindModelForMesh(e,t){if(0===this.geometryResources.length)return null;if(t||(t=this.geometryResources[0]),!t.IsGood())return null;for(var r=t.meshes[e],n=0;n<this.models.length;++n)for(;0<this.models[n].modelRes.meshBindings.length;++n)if(this.models[n].modelRes.meshBindings[0].mesh===r)return this.models[n];return null}GetResources(e=[]){for(var t=0;t<this.geometryResources.length;t++)e.includes(this.geometryResources[t])||e.push(this.geometryResources[t]);return e}OnResPrepared(e){if(e.UnregisterNotification(this),this.geometryResources.includes(e)){for(var t=0;t<this.geometryResources.length;++t)if(!this.geometryResources[t].IsGood())return;for(var r=0;r<this.geometryResources.length;++r)d.DoRebuildCachedData(this,this.geometryResources[r])}}Update(e){var t=this._isPlaying;if(this._isPlaying=!1,this.models&&this.update){for(var r=0;r<this.geometryResources.length;++r)this.geometryResources[r].KeepAlive();for(var i=d.global,s=i.mat4_0,a=i.quat_0,o=i.vec3_0,u=i.mat3_0,c=0;c<this.animations.length;++c){var l=this.animations[c];if(l.Update(e)){this._isPlaying=!0;for(var h=l.animationRes,f=0;f<l.trackGroups.length;++f)for(var m=0;m<l.trackGroups[f].transformTracks.length;++m){var v=l.trackGroups[f].transformTracks[m];v.trackRes.position?n.curve.evaluate(v.trackRes.position,l.time,o,l.cycle,h.duration):o[0]=o[1]=o[2]=0,v.trackRes.orientation?(n.curve.evaluate(v.trackRes.orientation,l.time,a,l.cycle,h.duration),n.quat.normalize(a,a)):n.quat.identity(a),v.trackRes.scaleShear?n.curve.evaluate(v.trackRes.scaleShear,l.time,u,l.cycle,h.duration):n.mat3.identity(u),n.mat4.fromMat3(v.bone.localTransform,u),n.mat4.multiply(v.bone.localTransform,v.bone.localTransform,n.mat4.fromQuat(s,a)),v.bone.localTransform[12]=o[0],v.bone.localTransform[13]=o[1],v.bone.localTransform[14]=o[2]}}}for(var p=0;p<this.models.length;++p)for(var _=0;_<this.models[p].bones.length;++_){var E=this.models[p].bones[_];-1!==E.boneRes.parentIndex?n.mat4.multiply(E.worldTransform,this.models[p].bones[E.boneRes.parentIndex].worldTransform,E.localTransform):n.mat4.copy(E.worldTransform,E.localTransform),n.mat4.multiply(E.offsetTransform,E.worldTransform,E.boneRes.worldTransformInv);for(var S=0;S<E.bindingArrays.length;++S){var T=E.bindingArrays[S],g=E.offsetTransform;T.array[T.offset+0]=g[0],T.array[T.offset+1]=g[4],T.array[T.offset+2]=g[8],T.array[T.offset+3]=g[12],T.array[T.offset+4]=g[1],T.array[T.offset+5]=g[5],T.array[T.offset+6]=g[9],T.array[T.offset+7]=g[13],T.array[T.offset+8]=g[2],T.array[T.offset+9]=g[6],T.array[T.offset+10]=g[10],T.array[T.offset+11]=g[14]}}(this._isPlaying||this._isPlaying!==t)&&(this._boundsDirty=!0)}}RenderDebugInfo(e){for(var t=0;t<this.models.length;++t)for(var r=0;r<this.models[t].bones.length;++r){var n=this.models[t].bones[r];if(n.boneRes.parentIndex>=0){var i=this.models[t].bones[n.boneRes.parentIndex];e.AddLine([n.worldTransform[12],n.worldTransform[13],n.worldTransform[14]],[i.worldTransform[12],i.worldTransform[13],i.worldTransform[14]])}}}static AddAnimationsFromRes(e,t){for(var r=0;r<t.animations.length;++r){for(var n=null,i=void 0,a=0;a<e.animations.length;++a)if(e.animations[a].animationRes===t.animations[r]){n=e.animations[r];break}n||((n=new s.Tw2Animation(e)).animationRes=t.animations[r],e.animations.push(n),i=!0);for(var o=0;o<n.animationRes.trackGroups.length;++o){for(var u=!1,h=0;h<n.trackGroups.length;++h)if(n.trackGroups[h].trackGroupRes===n.animationRes.trackGroups[o]){u=!0;break}if(!u){for(var d=null,f=0;f<e.models.length;++f)if(e.models[f].modelRes.name===n.animationRes.trackGroups[o].name){d=e.models[f];break}if(null!==d){var m=new l.Tw2TrackGroup;m.trackGroupRes=n.animationRes.trackGroups[o];for(var v=0;v<m.trackGroupRes.transformTracks.length;++v)for(var p=0;p<d.bones.length;++p)if(d.bones[p].boneRes.name===m.trackGroupRes.transformTracks[v].name){var _=new c.Tw2Track;_.trackRes=m.trackGroupRes.transformTracks[v],_.bone=d.bones[p],m.transformTracks.push(_);break}n.trackGroups.push(m)}}}i&&e.emit("added",{controller:e,animation:n})}}static AddModel(e,t){for(var r=0;r<e.models.length;++r)if(e.models[r].modelRes.name===t.name)return null;var n=new u.Tw2Model;n.modelRes=t;var i=t.skeleton;if(null!==i)for(var s=0;s<i.bones.length;++s){var o=new a.Tw2Bone;o.boneRes=i.bones[s],n.bones.push(o),n.bonesByName[o.boneRes.name]=o}return e.models.push(n),n}static FindMeshBindings(e,t){for(var r=0;r<e.meshBindings.length;++r)if(e.meshBindings[r].resource===t)return e.meshBindings[r];return null}static DoRebuildCachedData(e,t){if(t.meshes.length)for(var r=0;r<t.models.length;++r)d.AddModel(e,t.models[r]);for(var n=0;n<e.geometryResources.length;++n)this.AddAnimationsFromRes(e,e.geometryResources[n]);if(0===t.models.length){for(var s=0;s<t.meshes.length;++s)i.Tw2GeometryRes.BindMeshToModel(t.meshes[s],e.geometryResources[0].models[0],t);t.models.push(e.geometryResources[0].models[0])}for(var a=0;a<t.models.length;++a){for(var u=null,c=0;c<e.models.length;++c)if(e.models[c].modelRes.name===t.models[a].name){u=e.models[c];break}if(null!==u)for(var l=0;l<t.models[a].meshBindings.length;++l){var f=t.meshes.indexOf(t.models[a].meshBindings[l].mesh),m=d.FindMeshBindings(e,t);null===m&&((m=new h.Tw2MeshBinding).resource=t,e.meshBindings.push(m)),m.meshIndex[f]=new Float32Array(12*t.models[a].meshBindings[l].bones.length);for(var v=0;v<t.models[a].meshBindings[l].bones.length;++v)for(var p=0;p<u.bones.length;++p)if(u.bones[p].boneRes.name===t.models[a].meshBindings[l].bones[v].name){var _=new o.Tw2BoneBinding;_.array=m.meshIndex[f],_.offset=12*v,u.bones[p].bindingArrays.push(_);break}}}if(t.meshes.length&&t.models.length&&e.ResetBoneTransforms(),e._isLoaded=!0,e.emit("loaded",{controller:e}),e.animations.length){if(e._pendingCommands.length)for(var E=0;E<e._pendingCommands.length;++E)e._pendingCommands[E].args?e._pendingCommands[E].func.apply(e,e._pendingCommands[E].args):e._pendingCommands[E].func.apply(e);e._pendingCommands.splice(0)}}}d.global={vec3_0:n.vec3.create(),quat_0:n.quat.create(),mat3_0:n.mat3.create(),mat4_0:n.mat4.create()},d.keys={primary:["update"]}},"./core/model/Tw2Bone.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tw2Bone",(function(){return i}));var n=r("./global/index.js");class i{constructor(){this.boneRes=null,this.bindingArrays=[],this.localTransform=n.mat4.create(),this.worldTransform=n.mat4.create(),this.offsetTransform=n.mat4.create()}}},"./core/model/Tw2BoneBinding.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tw2BoneBinding",(function(){return n}));class n{constructor(){this.array=null,this.offset=0}}},"./core/model/Tw2MeshBinding.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tw2MeshBinding",(function(){return n}));class n{constructor(){this.meshIndex=[],this.resource=null}}},"./core/model/Tw2Model.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tw2Model",(function(){return n}));class n{constructor(){this.modelRes=null,this.bones=[],this.bonesByName={}}}},"./core/model/Tw2Track.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tw2Track",(function(){return n}));class n{constructor(){this.trackRes=null,this.bone=null}}},"./core/model/Tw2TrackGroup.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tw2TrackGroup",(function(){return n}));class n{constructor(){this.trackGroupRes=null,this.model=null,this.transformTracks=[]}}},"./core/model/index.js":function(e,t,r){"use strict";r.r(t);var n=r("./core/model/Tw2Animation.js");r.d(t,"Tw2Animation",(function(){return n.Tw2Animation}));var i=r("./core/model/Tw2AnimationController.js");r.d(t,"Tw2AnimationController",(function(){return i.Tw2AnimationController}));var s=r("./core/model/Tw2Bone.js");r.d(t,"Tw2Bone",(function(){return s.Tw2Bone}));var a=r("./core/model/Tw2BoneBinding.js");r.d(t,"Tw2BoneBinding",(function(){return a.Tw2BoneBinding}));var o=r("./core/model/Tw2MeshBinding.js");r.d(t,"Tw2MeshBinding",(function(){return o.Tw2MeshBinding}));var u=r("./core/model/Tw2Model.js");r.d(t,"Tw2Model",(function(){return u.Tw2Model}));var c=r("./core/model/Tw2Track.js");r.d(t,"Tw2Track",(function(){return c.Tw2Track}));var l=r("./core/model/Tw2TrackGroup.js");r.d(t,"Tw2TrackGroup",(function(){return l.Tw2TrackGroup}))},"./core/parameter/Tw2FloatParameter.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tw2FloatParameter",(function(){return s}));var n=r("./core/parameter/Tw2Parameter.js"),i=r("./global/index.js");class s extends n.Tw2Parameter{constructor(e="",t=1){super(e),this.value=1,this.value=i.util.isArrayLike(t)?t[0]:t}SetValue(e,t){return!this.EqualsValue(e)&&(this.value=e,this.UpdateValues(t),!0)}GetValue(){return this.value}Apply(e,t){e[t]=this.value}Bind(e,t,r){return!this._constantBuffer&&(this._constantBuffer=e,this._offset=t,this.Apply(e,t),!0)}Unbind(){this._constantBuffer=null}EqualsValue(e){return this.value===e}static isValue(e){return i.util.isNumber(e)}static black(e){return[["name",e.string],["value",e.float]]}}s.constantBufferSize=1},"./core/parameter/Tw2Matrix4Parameter.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tw2Matrix4Parameter",(function(){return s})),r.d(t,"Tw2MatrixParameter",(function(){return a}));var n=r("./global/index.js"),i=r("./core/parameter/Tw2VectorParameter.js");class s extends i.Tw2VectorParameter{constructor(e="",t=n.mat4.create()){super(e,t)}Compose(e,t,r){"value"in e&&(e=e.value),"value"in t&&(t=t.value),"value"in r&&(r=r.value),n.mat4.fromRotationTranslationScale(this.value,e,t,r),this.UpdateValues()}Decompose(e,t,r){n.mat4.getRotation("value"in e?e.value:e,this.value),n.mat4.getTranslation("value"in t?t.value:t,this.value),n.mat4.getScaling("value"in r?r.value:r,this.value),"UpdateValues"in e&&e.UpdateValues(),"UpdateValues"in t&&t.UpdateValues(),"UpdateValues"in r&&r.UpdateValues()}get x(){return this.GetIndexValue(12)}set x(e){this.SetIndexValue(12,e)}get y(){return this.GetIndexValue(13)}set y(e){this.SetIndexValue(13,e)}get z(){return this.GetIndexValue(14)}set z(e){this.SetIndexValue(14,e)}static black(e){return[["name",e.string],["value",e.matrix]]}}function a(e,t){return console.warn("Tw2MatrixParameter is deprecated, use Tw2Matrix4Parameter instead"),new s(e,t)}s.constantBufferSize=16},"./core/parameter/Tw2Parameter.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tw2Parameter",(function(){return m}));var n,i,s,a,o,u,c,l,h,d=r("./global/index.js");function f(e,t,r,n,i){var s={};return Object.keys(n).forEach((function(e){s[e]=n[e]})),s.enumerable=!!s.enumerable,s.configurable=!!s.configurable,("value"in s||s.initializer)&&(s.writable=!0),s=r.slice().reverse().reduce((function(r,n){return n(e,t,r)||r}),s),i&&void 0!==s.initializer&&(s.value=s.initializer?s.initializer.call(i):void 0,s.initializer=void 0),void 0===s.initializer&&(Object.defineProperty(e,t,s),s=null),s}var m=(n=d.meta.abstract,i=d.meta.abstract,s=d.meta.abstract,a=d.meta.abstract,o=d.meta.abstract,n((h=l=class extends d.Tw2BaseClass{get size(){return this.constructor.constantBufferSize}constructor(e=""){super(),this.name=e}GetValue(){}Bind(e,t,r){}Unbind(){}Apply(e,t,r){}},l.constantBufferSize=0,f((c=h).prototype,"GetValue",[i],Object.getOwnPropertyDescriptor(c.prototype,"GetValue"),c.prototype),f(c.prototype,"Bind",[s],Object.getOwnPropertyDescriptor(c.prototype,"Bind"),c.prototype),f(c.prototype,"Unbind",[a],Object.getOwnPropertyDescriptor(c.prototype,"Unbind"),c.prototype),f(c.prototype,"Apply",[o],Object.getOwnPropertyDescriptor(c.prototype,"Apply"),c.prototype),u=c))||u)},"./core/parameter/Tw2TextureParameter.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tw2TextureParameter",(function(){return o}));var n=r("./global/index.js"),i=r("./core/sampler/index.js"),s=r("./core/parameter/Tw2Parameter.js"),a=r("./core/resource/Tw2TextureRes.js");class o extends s.Tw2Parameter{constructor(e,t){super(e),this.resourcePath="",this.addressUMode=1,this.addressVMode=1,this.addressWMode=1,this.filterMode=2,this.maxAnisotropy=4,this.mipFilterMode=2,this.textureRes=null,this.useAllOverrides=!1,this.forceAddressMode=!1,this._sampler=null,t&&(this.resourcePath=t,this.Initialize())}get isTextureAttached(){return this.textureRes&&this.textureRes._isAttached}Initialize(){this.UpdateValues()}SetValue(e){this.resourcePath=e,this.UpdateValues()}GetValue(){return this.isTextureAttached?null:this.resourcePath}SetTextureRes(e){return this.textureRes!==e&&(this.resourcePath="",this.textureRes=e,this.textureRes&&(this.textureRes._isAttached=!0),!0)}OnValueChanged(e,t){if(this.resourcePath=this.resourcePath.toLowerCase(),""!==this.resourcePath)if(0===this.resourcePath.indexOf("rgba:/")){if(!this.textureRes||this.textureRes.path!==this.resourcePath){var r=this.resourcePath.replace("rgba:/","").split(","),i=n.device.CreateSolidTexture([parseFloat(r[0]),parseFloat(r[1]),parseFloat(r[2]),void 0!==r[3]?parseFloat(r[3]):255]);this.textureRes=new a.Tw2TextureRes,this.textureRes.path=this.resourcePath,this.textureRes.Attach(i)}}else this.textureRes=n.resMan.GetResource(this.resourcePath);else this.textureRes=null;this.UpdateOverrides()}Apply(e,t,r){this.textureRes&&(this.useAllOverrides&&this._sampler&&(this._sampler.samplerType=t.samplerType,this._sampler.isVolume=t.isVolume,this._sampler.registerIndex=t.registerIndex,t=this._sampler),n.device.gl.activeTexture(n.device.gl.TEXTURE0+e),this.textureRes.Bind(t,r))}SetOverrides(e={}){if(n.util.assignIfExists(this,e,o.overrideProperties))return this.UpdateValues(),!0}GetOverrides(e={}){return n.util.assignIfExists(e,this,o.overrideProperties),e}UpdateOverrides(){if(this.useAllOverrides){this._sampler=this._sampler||new i.Tw2SamplerState,this._sampler.forceAddressModes=this.forceAddressModes;var{wrapModes:e,gl:t}=n.device,r=this._sampler;if(1===this.filterMode){switch(this.mipFilterMode){case 0:r.minFilter=t.NEAREST;break;case 1:r.minFilter=t.NEAREST_MIPMAP_NEAREST;break;default:r.minFilter=t.NEAREST_MIPMAP_LINEAR}r.minFilterNoMips=t.NEAREST,r.magFilter=t.NEAREST}else{switch(this.mipFilterMode){case 0:r.minFilter=t.LINEAR;break;case 1:r.minFilter=t.LINEAR_MIPMAP_NEAREST;break;default:r.minFilter=t.LINEAR_MIPMAP_LINEAR}r.minFilterNoMips=t.LINEAR,r.magFilter=t.LINEAR}r.addressU=e[this.addressUMode],r.addressV=e[this.addressVMode],r.addressW=e[this.addressWMode],r.anisotropy=this.maxAnisotropy,r.ComputeHash()}else this._sampler&&(this._sampler=null)}EqualsValue(e){return e.toLowerCase()===this.GetValue()}GetResources(e=[]){return this.textureRes&&!e.includes(this.textureRes)&&e.push(this.textureRes),e}static isValue(e){return n.util.isString(e)}static black(e){return[["name",e.string],["resourcePath",e.path]]}}o.overrideProperties=["useAllOverrides","addressUMode","addressVMode","addressWMode","filterMode","mipFilterMode","maxAnisotropy","forceAddressModes"]},"./core/parameter/Tw2TransformParameter.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tw2TransformParameter",(function(){return a}));var n=r("./core/parameter/Tw2Parameter.js"),i=r("./global/math/index.js"),s=r("./global/util/index.js");class a extends n.Tw2Parameter{constructor(e,t){a.init(),super(),this.name="",this.rotation=i.quat.create(),this.translation=i.vec3.create(),this.scaling=i.vec3.fromValues(1,1,1),this._localTransform=i.mat4.create(),this._worldTransform=i.mat4.create(),this._rebuildLocal=!0,this._rebuildWorld=!0,e&&(this.name=e),t&&(4===t.length?this.SetRotation(t):this.SetTransform(t),this.RebuildTransforms())}Initialize(){this.UpdateValues()}OnValueChanged(e){e&&e.skipRebuild||this.RebuildTransforms({force:!0,skipUpdate:!0})}RebuildTransforms(e){var t=!!e&&e.force,r=!!e&&e.skipUpdate;return(t||this._rebuildLocal)&&(i.mat4.fromRotationTranslationScale(this._localTransform,this.rotation,this.translation,this.scaling),this._rebuildLocal=!1,t=!0),(t||this._rebuildWorld)&&(this._parentTransform?i.mat4.multiply(this._worldTransform,this._parentTransform,this._localTransform):i.mat4.copy(this._worldTransform,this._localTransform),this._worldInverse&&i.mat4.invert(this._worldInverse,this._worldTransform),this._worldTranspose&&i.mat4.transpose(this._worldTranspose,this._worldTransform),this._worldInverseTranspose&&(this._worldInverse?i.mat4.transpose(this._worldInverseTranspose,this._worldInverse):(i.mat4.invert(this._worldInverseTranspose,this._worldTransform),i.mat4.transpose(this._worldInverseTranspose,this._worldInverseTranspose))),this._constantBuffer&&this.Apply(this._constantBuffer,this._offset,this.size),this._rebuildWorld=!1,r||this.UpdateValues({skipRebuild:!0}),t=!0),t}Bind(e,t,r){return!this._constantBuffer&&r>=this.size&&(this._constantBuffer=e,this._offset=t,this.Apply(e,t,r),!0)}Apply(e,t,r){this._worldTranspose||(this.RebuildTransforms(),this._worldTranspose=i.mat4.create(),i.mat4.transpose(this._worldTranspose,this._worldTransform)),r>=this.constructor.constantBufferSize?e.set(this._worldTranspose,t):e.set(this._worldTranspose.subarray(0,r),t)}GetValue(e){return this.RebuildTransforms(),this._worldTranspose||(this._worldTranspose=i.mat4.create(),i.mat4.transpose(this._worldTranspose,this._worldTransform)),i.mat4.copy(e,this._worldTranspose)}SetParentTransform(e){return!e&&this._parentTransform?(this._parentTransform=null,this._rebuildWorld=!0):this._parentTransform?i.mat4.equals(e,this._parentTransform)||(i.mat4.copy(this._parentTransform,e),this._rebuildWorld=!0):(this._parentTransform=i.mat4.clone(e),this._rebuildWorld=!0),this}GetWorldTransform(e){return this.RebuildTransforms(),i.mat4.copy(e,this._worldTransform)}DecomposeWorld(e,t,r){return this.RebuildTransforms(),i.mat4.getRotation(e,this._worldTransform),i.mat4.getTranslation(t,this._worldTransform),i.mat4.getScaling(r,this._worldTransform),this}GetWorldRotation(e){return this.RebuildTransforms(),i.mat4.getRotation(e,this._worldTransform)}GetWorldDirection(e){return this.RebuildTransforms(),i.vec3.set(e,this._worldTransform[8],this._worldTransform[9],this._worldTransform[10]),i.vec3.normalize(e,e)}GetWorldEuler(e){var{quat_0:t}=a.global;return this.GetWorldRotation(t),i.vec3.euler.fromQuat(e,t)}GetWorldAxisAngle(e){var{quat_0:t}=a.global;return this.RebuildTransforms(),i.mat4.getRotation(t,this._worldTransform),i.quat.getAxisAngle(e,t)}GetWorldTranslation(e){return this.RebuildTransforms(),i.mat4.getTranslation(e,this._worldTransform)}GetWorldScaling(e){return this.RebuildTransforms(),i.mat4.getScaling(e,this._worldTransform)}GetWorldMaxScale(){var{vec3_0:e}=a.global;return this.GetWorldScaling(e),Math.max(e[0],e[1],e[2])}GetWorldToLocal(e,t){if(this.RebuildTransforms(),this._worldInverse)return i.vec3.transformMat4(e,t,this._worldInverse);var{mat4_0:r}=a.global;return i.mat4.invert(r,this._worldTransform),i.vec3.transformMat4(e,t,r)}GetTransform(e){return i.mat4.copy(e,this._localTransform)}SetTransform(e){return i.mat4.getRotation(this.rotation,e),i.mat4.getScaling(this.scaling,e),i.mat4.getTranslation(this.translation,e),i.mat4.copy(this._localTransform,e),this._rebuildWorld=!0,this}Compose(e,t,r){return i.quat.copy(this.rotation,e),i.vec3.copy(this.translation,t),i.vec3.copy(this.scaling,r),this._rebuildLocal=!0,this}Decompose(e,t,r){return this.RebuildTransforms(),i.quat.copy(e,this.rotation),i.vec3.copy(t,this.translation),i.vec3.copy(r,this.scaling),this}GetLocalToWorld(e,t){return this.RebuildTransforms(),i.vec3.transformMat4(e,t,this._worldTransform)}GetDirection(e){return this.RebuildTransforms(),i.vec3.set(e,this._localTransform[8],this._localTransform[9],this._localTransform[10]),i.vec3.normalize(e,e)}GetRotation(e){return this.RebuildTransforms(),i.quat.copy(e,this.rotation)}GetEuler(e){var{quat_0:t}=a.global;return this.GetRotation(t),i.vec3.euler.fromQuat(e,t)}GetRotationMatrix(e){return i.mat4.fromRotation(e,this.rotation)}SetRotation(e){return i.quat.copy(this.rotation,e),this._rebuildLocal=!0,this}SetRotationFromValues(e,t,r,n){var{quat_0:s}=a.global;return i.quat.set(s,e,t,r,n),this.SetRotation(s)}SetRotationFromAxes(e,t,r){var{quat_0:n}=a.global;return i.quat.setAxes(n,e,t,r),this.SetRotation(n)}SetRotationFromAxisAngle(e,t){return i.quat.setAxisAngle(this.rotation,e,t),this._rebuildLocal=!0,this}SetRotationFromEuler(e){return i.vec3.euler.getQuat(this.rotation,e),this._rebuildLocal=!0,this}SetRotationFromEulerValues(e,t,r){var{vec3_0:n}=a.global;return i.vec3.set(n,e,t,r),this.SetRotationFromEuler(n)}SetRotationFromMat4(e){var{quat_0:t}=a.global;return i.mat4.getRotation(t,e),this.SetRotation(t)}RotateX(e){return i.quat.rotateX(this.rotation,this.rotation,e),this._rebuildLocal=!0,this}RotateY(e){return i.quat.rotateY(this.rotation,this.rotation,e),this._rebuildLocal=!0,this}RotateZ(e){return i.quat.rotateZ(this.rotation,this.rotation,e),this._rebuildLocal=!0,this}RotateOnAxisAngle(e,t){var{quat_0:r}=a.global;return i.quat.setAxisAngle(r,e,t),i.quat.multiply(this.rotation,this.rotation,r),this._rebuildLocal=!0,this}GetAxisAngle(e){return i.quat.getAxisAngle(e,this.rotation)}LookAt(e,t){this.RebuildTransforms();var{mat4_0:r}=a.global;return i.mat4.copy(r,this._localTransform),t?i.mat4.lookAtGL(r,this.translation,e,i.vec3.Y_AXIS):i.mat4.lookAtGL(r,e,this.translation,i.vec3.Y_AXIS),i.mat4.getRotation(this.rotation,r),this._rebuildLocal=!0,this}LookAtWorld(e,t){var{vec3_0:r}=a.global;return this.GetWorldToLocal(r,e),this.LookAt(r,t)}GetTranslation(e){return this.RebuildTransforms(),i.vec3.copy(e,this.translation)}SetTranslation(e){return i.vec3.copy(this.translation,e),this._rebuildLocal=!0,this}SetTranslationFromValues(e,t,r){return i.vec3.set(this.translation,e,t,r),this._rebuildLocal=!0,this}SetTranslationFromMat4(e){return i.mat4.getTranslation(this.translation,e),this._rebuildLocal=!0,this}TranslateOnAxis(e,t){var{vec3_0:r}=a.global;return i.vec3.transformQuat(r,e,this.rotation),i.vec3.scaleAndAdd(this.translation,this.translation,r,t),this._rebuildLocal=!0,this}TranslateX(e){return this.TranslateOnAxis(i.vec3.X_AXIS,e)}TranslateY(e){return this.TranslateOnAxis(i.vec3.Y_AXIS,e)}TranslateZ(e){return this.TranslateOnAxis(i.vec3.Z_AXIS,e)}GetScale(e){return this.RebuildTransforms(),i.vec3.copy(e,this.scaling)}GetMaxScale(){return Math.max(this.scaling[0],this.scaling[1],this.scaling[2])}SetScale(e){return i.vec3.copy(this.scaling,e),this._rebuildLocal=!0,this}SetScaleFromValues(e,t,r){var{vec3_0:n}=a.global;return i.vec3.set(n,e,t,r),this.SetScale(n)}SetScaleX(e){return this.SetScaleFromValues(e,this.scaling[1],this.scaling[2])}SetScaleY(e){return this.SetScaleFromValues(this.scaling[0],e,this.scaling[2])}SetScaleZ(e){return this.SetScaleFromValues(this.scaling[0],this.scaling[1],e)}SetScaleUniform(e){return this.SetScaleFromValues(e,e,e)}SetScaleFromMat4(e){return i.mat4.getScaling(this.scaling,e),this._rebuildLocal=!0,this}Scale(e){return i.vec3.multiply(this.scaling,this.scaling,e),this._rebuildLocal=!0,this}ScaleValues(e,t,r){var{vec3_0:n}=a.global;return i.vec3.set(n,e,t,r),this.Scale(n)}ScaleMat4(e){var{vec3_0:t}=a.global;return i.mat4.getScaling(t,e),this.Scale(t)}ScaleUniform(e){return this.ScaleValues(e,e,e)}ScaleX(e){return this.ScaleValues(e,1,1)}ScaleY(e){return this.ScaleValues(1,e,1)}ScaleZ(e){return this.ScaleValues(1,1,e)}static set(e,t,r={}){if(!t)return!1;this.init();var n,a,o,{vec3_0:u,vec3_1:c,quat_0:l}=this.global,h=!1;return t.transform?(n=i.mat4.getRotation(l,t.transform),a=i.mat4.getTranslation(u,t.transform),o=i.mat4.getScaling(c,t.transform)):(n=t.rotation||t.orientation,a=t.position||t.translation,o=t.scale||t.scaling||t.radius),(n||a||void 0!==o)&&(n&&(3===n.length&&(n=i.vec3.euler.getQuat(l,n)),i.quat.equals(e.rotation,n)||(i.quat.copy(e.rotation,n),h=!0)),a&&!i.vec3.equals(e.translation,a)&&(i.vec3.copy(e.translation,a),h=!0),void 0!==o&&(Object(s.isNumber)(o)&&(o=i.vec3.set(c,o,o,o)),i.vec3.equals(e.scaling,o)||(i.vec3.copy(e.scaling,o),h=!0)),h&&!r.skipUpdate&&e.RebuildTransforms({force:!0})),t.name&&e.name!==t.name&&(e.name=t.name,h=!0),h}static get(e,t={}){return t.rotation=e.GetRotation([]),t.translation=e.GetTranslation([]),t.scaling=e.GetScale([]),t}static init(){this.global||(this.global={vec3_0:i.vec3.create(),vec3_1:i.vec3.create(),quat_0:i.quat.create(),mat4_0:i.mat4.create()})}static black(e){return[["name",e.string],["rotation",e.vector4]]}}a.constantBufferSize=16,a.global=null},"./core/parameter/Tw2VariableParameter.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tw2VariableParameter",(function(){return s}));var n=r("./global/index.js"),i=r("./core/parameter/Tw2Parameter.js");class s extends i.Tw2Parameter{constructor(e="",t=""){super(e),this.variableName="",this.variableName=t}get variable(){return n.tw2.GetVariable(this.variableName)}get size(){return this.variable?this.variable.size:0}SetValue(e,t){return n.tw2.SetVariableValue(this.variableName,e,t)}GetValue(e=[]){return n.tw2.GetVariableValue(this.variableName,e)}Apply(e,t,r){this.variable&&this.variable.Apply(e,t,r)}static black(e){return[["name",e.string],["variableName",e.string]]}}},"./core/parameter/Tw2Vector2Parameter.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tw2Vector2Parameter",(function(){return s}));var n=r("./global/index.js"),i=r("./core/parameter/Tw2VectorParameter.js");class s extends i.Tw2VectorParameter{constructor(e="",t=n.vec2.fromValues(1,1)){super(e,t)}get x(){return this.GetIndexValue(0)}set x(e){this.SetIndexValue(0,e)}get y(){return this.GetIndexValue(1)}set y(e){this.SetIndexValue(1,e)}}s.constantBufferSize=2},"./core/parameter/Tw2Vector3Parameter.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tw2Vector3Parameter",(function(){return s}));var n=r("./global/index.js"),i=r("./core/parameter/Tw2VectorParameter.js");class s extends i.Tw2VectorParameter{constructor(e="",t=n.vec3.fromValues(1,1,1)){super(e,t)}get x(){return this.GetIndexValue(0)}set x(e){this.SetIndexValue(0,e)}get y(){return this.GetIndexValue(1)}set y(e){this.SetIndexValue(1,e)}get z(){return this.GetIndexValue(2)}set z(e){this.SetIndexValue(2,e)}}s.constantBufferSize=3},"./core/parameter/Tw2Vector4Parameter.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tw2Vector4Parameter",(function(){return s}));var n=r("./global/index.js"),i=r("./core/parameter/Tw2VectorParameter.js");class s extends i.Tw2VectorParameter{constructor(e="",t=n.vec4.fromValues(1,1,1,1)){super(e,t)}get x(){return this.GetIndexValue(0)}set x(e){this.SetIndexValue(0,e)}get y(){return this.GetIndexValue(1)}set y(e){this.SetIndexValue(1,e)}get z(){return this.GetIndexValue(2)}set z(e){this.SetIndexValue(2,e)}get w(){return this.GetIndexValue(3)}set w(e){this.SetIndexValue(3,e)}static black(e){return[["name",e.string],["value",e.vector4]]}}s.constantBufferSize=4},"./core/parameter/Tw2VectorParameter.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tw2VectorParameter",(function(){return s}));var n=r("./core/Tw2Error.js"),i=r("./global/index.js");class s extends i.Tw2BaseClass{get size(){return this.constructor.constantBufferSize}constructor(e,t){super(),this.value=new Float32Array(this.size),this.name=e,t&&this.value.set(t)}SetValue(e,t){return!this.EqualsValue(e)&&(this.value.set(e),this.UpdateValues(t),!0)}SetIndexValue(e,t,r){if(void 0===this.value[e])throw new n.ErrIndexBounds;this.value[e]!==t&&(this.value[e]=t,this.UpdateValues(r))}GetValue(e=[]){for(var t=this._constantBuffer?this._constantBuffer.subarray(this._offset,this._offset+this.size):this.value,r=0;r<t.length;r++)e[r]=t[r];return e}GetIndexValue(e){if(void 0!==this.value[e])return this.value[e];throw new n.ErrIndexBounds}OnValueChanged(e,t){this._constantBuffer&&this.Apply(this._constantBuffer,this._offset)}Bind(e,t,r){return!this._constantBuffer&&r>=this.size&&(this._constantBuffer=e,this._offset=t,this.Apply(e,t,r),!0)}Unbind(){this._constantBuffer=null}Apply(e,t,r){e.set(this.value,t)}EqualsValue(e){for(var t=0;t<this.size;t++)if(this.value[t]!==e[t])return!1;return!0}static isValue(e){return i.util.isArrayLike(e)&&e.length===this.constantBufferSize}}s.constantBufferSize=0},"./core/parameter/index.js":function(e,t,r){"use strict";r.r(t);var n=r("./core/parameter/Tw2Parameter.js");r.d(t,"Tw2Parameter",(function(){return n.Tw2Parameter}));var i=r("./core/parameter/Tw2FloatParameter.js");r.d(t,"Tw2FloatParameter",(function(){return i.Tw2FloatParameter}));var s=r("./core/parameter/Tw2Matrix4Parameter.js");r.d(t,"Tw2Matrix4Parameter",(function(){return s.Tw2Matrix4Parameter})),r.d(t,"Tw2MatrixParameter",(function(){return s.Tw2MatrixParameter}));var a=r("./core/parameter/Tw2TransformParameter.js");r.d(t,"Tw2TransformParameter",(function(){return a.Tw2TransformParameter}));var o=r("./core/parameter/Tw2VariableParameter.js");r.d(t,"Tw2VariableParameter",(function(){return o.Tw2VariableParameter}));var u=r("./core/parameter/Tw2Vector2Parameter.js");r.d(t,"Tw2Vector2Parameter",(function(){return u.Tw2Vector2Parameter}));var c=r("./core/parameter/Tw2Vector3Parameter.js");r.d(t,"Tw2Vector3Parameter",(function(){return c.Tw2Vector3Parameter}));var l=r("./core/parameter/Tw2Vector4Parameter.js");r.d(t,"Tw2Vector4Parameter",(function(){return l.Tw2Vector4Parameter}));var h=r("./core/parameter/Tw2TextureParameter.js");r.d(t,"Tw2TextureParameter",(function(){return h.Tw2TextureParameter}))},"./core/post/Tr2PostProcess.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tr2PostProcess",(function(){return i}));var n=r("./global/index.js");class i extends n.Tw2BaseClass{constructor(...e){super(...e),this.stages=[]}static black(e){return[["stages",e.array]]}}i.__isStaging=4},"./core/post/Tw2PostEffect.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tw2PostEffect",(function(){return c}));var n=r("./global/index.js"),i=r("./core/Tw2RenderTarget.js"),s=r("./core/resource/Tw2TextureRes.js"),a=r("./core/parameter/index.js"),o=r("./core/post/Tw2PostEffectStep.js"),u=r("./global/util/index.js");class c extends n.Tw2BaseClass{constructor(...e){super(...e),this.display=!0,this.index=-1,this.curveSet=null,this.steps=[],this._width=0,this._height=0,this._targets={},this._texture=null,this._visibleSteps=[],this._dirty=!0,this._onChildModified=e=>this.UpdateValues({controller:e})}OnValueChanged(){this._dirty=!0}IsGood(){for(var e=0,t=0;t<this.steps.length;t++)this.steps[t].IsGood()&&e++;return e===this.steps.length}KeepAlive(){for(var e=0;e<this.steps.length;e++)this.steps[e].KeepAlive()}GetResources(e=[]){for(var t=0;t<this.steps.length;t++)this.steps[t].GetResources(e);return e}CreateItem(e={}){var t=o.Tw2PostEffectStep.from(e);return this.AddItem(t),t}AddItem(e){this.steps.includes(e)||(-1===e.index&&(e.index=this.steps.length),e._onModified=this._onChildModified,this.steps.push(e),this.UpdateValues())}RemoveItem(e){var t=this.steps.indexOf(e);-1!==t&&(e._onModified=null,this.steps.splice(t,1),this.UpdateValues())}ClearItems(){for(var e=0;e<this.steps.length;e++)this.steps[e]._onModified=null;this.steps=[],this.UpdateValues()}GetTarget(e){return e&&e in this._targets?this._targets[e]:null}HasTarget(e){return!(!e||!this._targets[e])}CreateTarget(e,t=n.device.viewportWidth,r=n.device.viewportHeight){return this._targets[e]||(this._targets[e]=new i.Tw2RenderTarget,this._targets[e].name=e),this._targets[e].Create(t,r,!1),this._targets[e]}Update(e){this.curveSet&&this.curveSet.Update(e)}Render(){var e=n.device,t=e.gl,r=e.viewportWidth,i=e.viewportHeight;if(!this.IsGood()||!this.display||r<=0||i<=0)return!1;if(r!==this._width||i!==this._height||this._dirty||!this._texture){this._texture||(this._texture=new s.Tw2TextureRes,this._texture.Attach(t.createTexture())),t.bindTexture(t.TEXTURE_2D,this._texture.texture),t.texImage2D(t.TEXTURE_2D,0,t.RGBA,r,i,0,t.RGBA,t.UNSIGNED_BYTE,null),t.bindTexture(t.TEXTURE_2D,null),this._width=r,this._height=i,this._visibleSteps=[];for(var o=0;o<this.steps.length;++o){var u=this.steps[o],c=u.inputs,l=u.effect,h=l.shader,d=l.parameters;for(var f in h.HasTexture("BlitCurrent")&&!d.BlitCurrent&&(d.BlitCurrent=new a.Tw2TextureParameter("BlitCurrent","rgba:/0,0,0,255")),h.HasTexture("BlitOriginal")&&!d.BlitOriginal&&(d.BlitOriginal=new a.Tw2TextureParameter("BlitOriginal","rgba:/0,0,0,255")),u.target?u._renderTarget=this.CreateTarget(u.target,r,i):u._renderTarget=null,c)if(c.hasOwnProperty(f))if(h.HasTexture(f)){d[f]||(d[f]=new a.Tw2TextureParameter(f));var m=d[f],v=c[f];v?m.SetTextureRes(this.CreateTarget(v,r,i).texture):m.SetTextureRes(this._texture)}else console.warn("Invalid input parameter ".concat(f)),delete c[f];if("BlitCurrent"in c&&h.HasConstant("g_texelSize")){d.g_texelSize||(d.g_texelSize=new a.Tw2Vector4Parameter("g_texelSize",[1,1,1,1]));var p=d.g_texelSize,_=this.GetTarget(c.BlitCurrent);_?(p.value[0]=1/_.width,p.value[1]=1/_.width):(p.value[0]=1/r,p.value[1]=1/r),p.UpdateValues(this)}u.display&&this._visibleSteps.push(u),u._dirty=!1}this._visibleSteps.sort((e,t)=>e.index-t.index),this._dirty=!1}t.bindTexture(t.TEXTURE_2D,this._texture.texture),t.copyTexImage2D(t.TEXTURE_2D,0,e.alphaBlendBackBuffer?t.RGBA:t.RGB,0,0,r,i,0),t.bindTexture(t.TEXTURE_2D,null),e.SetStandardStates(n.device.RM_OPAQUE);for(var E=0,S=0;S<this._visibleSteps.length;++S){var T=this._visibleSteps[S];T.display&&(T._renderTarget?T._renderTarget.Set():(t.bindFramebuffer(t.FRAMEBUFFER,null),t.viewport(0,0,r,i)),e.RenderFullScreenQuad(T.effect),E++)}return!!E}static from(e={}){var t=new this;if(Object(u.assignIfExists)(t,e,["name","display","index"]),e.steps)for(var r=0;r<e.steps.length;r++)t.CreateItem(e.steps[r]);return t}}c.Item=o.Tw2PostEffectStep},"./core/post/Tw2PostEffectManager.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tw2PostEffectManager",(function(){return s}));var n=r("./core/post/Tw2PostEffect.js"),i=r("./global/class/Tw2BaseClass.js");class s extends i.Tw2BaseClass{constructor(...e){super(...e),this.name="Post manager",this.display=!0,this.effects=[],this._dirty=!0,this._onChildValueChanged=e=>this.UpdateValues({controller:e}),this._visibleEffects=[]}OnValueChanged(){this._dirty=!0}IsGood(){for(var e=0,t=0;t<this.effects.length;t++)this.effects[t].IsGood()&&e++;return e===this.effects.length}KeepAlive(){for(var e=0;e<this.effects.length;e++)this.effects[e].KeepAlive()}GetResources(e=[]){for(var t=0;t<this.effects.length;t++)this.effects[t].GetResources(e);return e}CreateItem(e={}){var t=n.Tw2PostEffect.from(e);return this.AddItem(t),t}AddItem(e){this.effects.includes(e)||(-1===e.index&&(e.index=this.effects.length),e._onModified=this._onChildValueChanged,this.effects.push(e),this.UpdateValues())}RemoveItem(e){var t=this.effects.indexOf(e);-1!==t&&(e._onModified=null,this.effects.splice(t,1),this.UpdateValues())}ClearItems(){for(var e=0;e<this.effects.length;e++)this.effects[e]._onModified=null,this.effects[e].ClearItems();this.effects=[],this.UpdateValues()}Update(e){if(this._dirty){this._visibleEffects=[];for(var t=0;t<this.effects.length;t++)this.effects[t].display&&this._visibleEffects.push(this.effects[t]);this._visibleEffects.sort((e,t)=>e.index-t.index),this._dirty=!1}for(var r=0;r<this.effects.length;r++)this.effects[r].Update(e)}Render(){if(!this.display)return this.KeepAlive(),!1;for(var e=0,t=0;t<this._visibleEffects.length;t++)this._visibleEffects[t].Render()&&e++;return!!e}}s.Item=n.Tw2PostEffect},"./core/post/Tw2PostEffectStep.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tw2PostEffectStep",(function(){return a}));var n=r("./global/util/index.js"),i=r("./core/mesh/Tw2Effect.js"),s=r("./global/class/Tw2BaseClass.js");class a extends s.Tw2BaseClass{constructor(...e){super(...e),this.index=-1,this.display=!0,this.effect=null,this.target=null,this.inputs={},this._renderTarget=null,this._dirty=!0}OnValueChanged(){this._dirty=!0}IsGood(){return!!this.effect&&this.effect.IsGood()}KeepAlive(){this.effect&&this.effect.KeepAlive()}GetResources(e=[]){return this.effect&&this.effect.GetResources(e),e}static from(e={}){var t=new this;return Object(n.assignIfExists)(t,e,["name","display","target","index"]),e.inputs&&Object.assign(t.inputs,e.inputs),t.effect=i.Tw2Effect.from({name:e.name,autoParameter:!0,effectFilePath:e.effectFilePath,parameters:e.parameters,textures:e.textures,overrides:e.overrides}),t}}},"./core/post/index.js":function(e,t,r){"use strict";r.r(t);var n=r("./core/post/Tw2PostEffect.js");r.d(t,"Tw2PostEffect",(function(){return n.Tw2PostEffect}));var i=r("./core/post/Tw2PostEffectManager.js");r.d(t,"Tw2PostEffectManager",(function(){return i.Tw2PostEffectManager}));var s=r("./core/post/Tw2PostEffectStep.js");r.d(t,"Tw2PostEffectStep",(function(){return s.Tw2PostEffectStep}));var a=r("./core/post/Tr2PostProcess.js");r.d(t,"Tr2PostProcess",(function(){return a.Tr2PostProcess}))},"./core/reader/Tw2BinaryReader.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tw2BinaryReader",(function(){return n}));class n{constructor(e){this.data=null,this.cursor=0,this.data=e}ReadUInt8(){return this.data[this.cursor++]}ReadInt8(){var e=this.data[this.cursor++];return e>127&&(e=e-255-1),e}ReadUInt16(){return this.data[this.cursor++]+(this.data[this.cursor++]<<8)}ReadInt16(){var e=this.data[this.cursor++]+(this.data[this.cursor++]<<8);return e>32767&&(e=e-65535-1),e}ReadUInt32(){return this.data[this.cursor++]+(this.data[this.cursor++]<<8)+(this.data[this.cursor++]<<16)+(this.data[this.cursor++]<<24>>>0)}ReadInt32(){var e=this.data[this.cursor++]+(this.data[this.cursor++]<<8)+(this.data[this.cursor++]<<16)+(this.data[this.cursor++]<<24>>>0);return e>2147483647&&(e=e-4294967295-1),e}ReadFloat16(){var e=this.data[this.cursor++],t=this.data[this.cursor++],r=(t>>2&31)-15,n=(3&t)<<8|e;return 0===n&&-15===r?0:(1-2*(t>>7))*(1+n*Math.pow(2,-10))*Math.pow(2,r)}ReadFloat32(){var e=this.data[this.cursor++],t=this.data[this.cursor++],r=this.data[this.cursor++],n=this.data[this.cursor++],i=(n<<1&255|r>>7)-127,s=(127&r)<<16|t<<8|e;return 0===s&&-127===i?0:(1-2*(n>>7))*(1+s*Math.pow(2,-23))*Math.pow(2,i)}ReadString(){for(var e=this.data[this.cursor++],t="",r=0;r<e;++r)t+=String.fromCharCode(this.data[this.cursor++]);return t}}},"./core/reader/Tw2BlackBinaryReader.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tw2BlackBinaryReader",(function(){return i}));var n=r("./core/Tw2Error.js");class i{constructor(e,t){this.data=null,this.context=null,this.cursor=0,this.data=e,this.context=t,this.cursor=0}get length(){return this.data.byteLength-this.cursor}get stringTable(){return this.context._stringTable}get references(){return this.context._ids}AtEnd(){return 0===this.length}ReadBinaryReader(e){return new i(this.ReadDataView(e),this.context)}ReadCString(){for(var e=this.data,t=this.cursor;0!==this.ReadU8(););var r=e.byteOffset+t,n=this.cursor-t-1,s=new Uint8Array(e.buffer,r,n);return i.stringDecoder.decode(s)}ReadCWString(){for(var e=this.data,t=this.cursor;0!==this.ReadU16(););var r=e.byteOffset+t,n=this.cursor-t-2,s=new Uint8Array(e.buffer,r,n);return i.wstringDecoder.decode(s)}ReadDataView(e){if(e<0)throw new n.ErrBinaryReaderReadError({readError:'Argument should be positive: got "'.concat(e,'"')});if(this.length<e)throw new n.ErrBinaryReaderReadError({readError:"Argument is too big: remaining ".concat(this.length,', got "').concat(e,'"')});var t=this.data,r=new DataView(t.buffer,t.byteOffset+this.cursor,e);return this.cursor+=e,r}ReadF32(){var e=this.data.getFloat32(this.cursor,!0);return this.cursor+=4,e}ReadF64(){var e=this.data.getFloat64(this.cursor,!0);return this.cursor+=8,e}ReadStringU16(){var e=this.ReadU16();if(e>this.stringTable.length)throw new n.ErrBinaryReaderReadError({readError:'Reading string "'.concat(e,'" but only ').concat(this.stringTable.length," exist")});return this.stringTable[e]}ReadU8(){var e=this.data.getUint8(this.cursor);return this.cursor+=1,e}ReadU16(){var e=this.data.getUint16(this.cursor,!0);return this.cursor+=2,e}ReadU16Array(e){if(e<0)throw new n.ErrBinaryReaderReadError({readError:'Argument should be positive but got "'.concat(e,'"')});for(var t=new Uint16Array(e),r=0;r<e;r++)t[r]=this.ReadU16();return t}ReadU32(){var e=this.data.getUint32(this.cursor,!0);return this.cursor+=4,e}ReadU32Array(e){if(e<0)throw new n.ErrBinaryReaderReadError({readError:"Argument should be positive: got ".concat(e)});for(var t=new Uint32Array(e),r=0;r<e;r++)t[r]=this.ReadU32();return t}ExpectEnd(e){if(0!==this.length)throw new n.ErrBinaryReaderReadError({readError:"".concat(e,": expected 0 bytes remaining, got ").concat(this.length)})}ExpectU8(e,t){i.expect(this.ReadU8(),e,t)}ExpectU16(e,t){i.expect(this.ReadU16(),e,t)}ExpectU32(e,t){i.expect(this.ReadU32(),e,t)}static expect(e,t,r){if(e!==t)throw new n.ErrBinaryReaderReadError({readError:"".concat(r,": expected ").concat(t,", got ").concat(e)})}}i.stringDecoder=new TextDecoder("utf-8"),i.wstringDecoder=new TextDecoder("utf-16le")},"./core/reader/Tw2BlackPropertyReaders.js":function(e,t,r){"use strict";r.r(t),r.d(t,"path",(function(){return a})),r.d(t,"object",(function(){return o})),r.d(t,"rawObject",(function(){return u})),r.d(t,"array",(function(){return c})),r.d(t,"boolean",(function(){return l})),r.d(t,"string",(function(){return h})),r.d(t,"enums",(function(){return d})),r.d(t,"float",(function(){return f})),r.d(t,"ushort",(function(){return m})),r.d(t,"uint",(function(){return v})),r.d(t,"byte",(function(){return p})),r.d(t,"vector2",(function(){return _})),r.d(t,"vector3",(function(){return E})),r.d(t,"color",(function(){return S})),r.d(t,"vector4",(function(){return T})),r.d(t,"matrix",(function(){return g})),r.d(t,"indexBuffer",(function(){return R})),r.d(t,"struct",(function(){return b})),r.d(t,"structList",(function(){return y})),r.d(t,"fromList",(function(){return A})),r.d(t,"notImplemented",(function(){return j}));var n=r("./global/index.js"),i=r("./core/Tw2Error.js"),s=r("./global/util/index.js");function a(e){var t=e.ReadStringU16();0===t.indexOf("res:")&&(t="cdn:"+t.substring(4));var r="",n=t.lastIndexOf(".");switch(-1!==n&&(r=t.substr(n+1).toLowerCase()),r){case"dds":case"png":t=(t=(t=t.replace("_lowdetail","")).replace("_mediumdetail","")).replace(r,"0.".concat(r));break;case"gr2":t=t.replace(r,"wbg").replace("cdn:","res:");break;case"red":t=t.replace(r,"black");break;case"sm_hi":case"sm_lo":t=t.replace(r,"fx");break;case"sm_depth":t=""}return t}function o(e,t){var r=e.context,a=void 0!==t,o=n.tw2.constructor.DEBUG_ENABLED;if(!a){if(0===(t=e.ReadU32()))return null;if(e.references.has(t))return e.references.get(t)}var u=e.ReadBinaryReader(e.ReadU32()),c=u.ReadStringU16(),l=r.ConstructType(c),h=n.tw2.HasBlack(c)?n.tw2.GetBlack(c):null;if(a||e.references.set(t,l),!h&&!n.meta.has("black",l))throw new i.ErrBinaryObjectTypeNotFound({type:c});for(;!u.AtEnd();){var d=u.ReadStringU16(),f=void 0;if(h&&h.has(d)&&(f=h.get(d)),!h&&n.meta.has("black",l,d)&&(f=n.meta.get("black",l,d)),!f)throw o&&console.dir(l),new i.ErrBinaryReaderReadError({readError:'Unknown property "'.concat(d,'" for "').concat(c,'"')});if(!Object(s.isFunction)(f))throw o&&console.dir(l),new i.ErrBinaryReaderReadError({readError:'Invalid reader for property "'.concat(d,'" for "').concat(c,'"')});try{f.custom?f(u,l,d):(d in l||!o||console.log("'".concat(c,"' missing property: '").concat(d,"'")),l[d]=f(u))}catch(e){throw o&&console.dir(l),new i.ErrBinaryReaderReadError({message:"".concat(d," > ")+e.message})}}return u.ExpectEnd("object did not read to end"),"Initialize"in l&&l.Initialize(),l}function u(e){return o(e,null)}function c(e){for(var t=[],r=e.ReadU32(),n=0;n<r;n++)t[n]=o(e);return t}function l(e){return 0!==e.ReadU8()}function h(e){return e.ReadStringU16()}function d(e){for(var t=e.ReadStringU16().split(","),r={},n=0;n<t.length;n++){var i=t[n].split("=");r[i[0]]=Number(i[1])}return r}function f(e){return e.ReadF32()}function m(e){return e.ReadU16()}function v(e){return e.ReadU32()}function p(e){return e.ReadU8()}function _(e){return n.vec2.fromValues(e.ReadF32(),e.ReadF32())}function E(e){return n.vec3.fromValues(e.ReadF32(),e.ReadF32(),e.ReadF32())}function S(e){return n.vec4.fromValues(e.ReadF32(),e.ReadF32(),e.ReadF32(),e.ReadF32())}function T(e){return n.vec4.fromValues(e.ReadF32(),e.ReadF32(),e.ReadF32(),e.ReadF32())}function g(e){return n.mat4.fromValues(e.ReadF32(),e.ReadF32(),e.ReadF32(),e.ReadF32(),e.ReadF32(),e.ReadF32(),e.ReadF32(),e.ReadF32(),e.ReadF32(),e.ReadF32(),e.ReadF32(),e.ReadF32(),e.ReadF32(),e.ReadF32(),e.ReadF32(),e.ReadF32())}function R(e){var t=e.ReadU32();if(4===e.ReadU16())return e.ReadU32Array(t);throw"unsupported for now"}function b(e){return function(t){return e.blackStruct(t)}}function y(e){return function(t){for(var r=t.ReadU32(),n=t.ReadU16(),i=[],s=0;s<r;s++){var a=t.ReadBinaryReader(n);i[s]=e.blackStruct(a),a.ExpectEnd("struct read to end")}return i}}function A(e){Object(s.isString)(e)&&(e={key:e});var{key:t,struct:r,reroute:n}=e,i=function(e,i,a){var o=i[n||a];if(!Object(s.isPlain)(o))throw new Error("Target is not a plain object");for(var u=r?y(r)(e):c(e),l=0;l<u.length;l++){var h=u[l],d=u[l][t];if(void 0===d)throw new Error("Array element property '".concat(t,"' is undefined"));d in o&&console.warn("Property '".concat(d,"' already defined")),o[d]=h}};return i.custom=!0,i}function j(e,t,r){throw new i.ErrFeatureNotImplemented({feature:"Black reader for property '".concat(r,"'")})}j.custom=!0},"./core/reader/Tw2BlackReader.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tw2BlackReader",(function(){return o}));var n=r("./global/index.js"),i=r("./core/reader/Tw2BlackBinaryReader.js"),s=r("./core/Tw2Error.js"),a=r("./core/reader/Tw2BlackPropertyReaders.js");r("./global/util/index.js");class o{constructor(e){this.data=null,this._ids=null,this._comments=null,this._reader=null,this._start=0,this._stringTable=null,e&&(this.data=e instanceof ArrayBuffer?new DataView(e):e,this.Initialize())}Initialize(){if(!(this.data&&this.data instanceof DataView))throw new s.ErrBinaryFormat({formatError:"expected DataView"});var e=new i.Tw2BlackBinaryReader(this.data,this);if(2980901150!==e.ReadU32())throw new s.ErrBinaryFormat({formatError:"wrong FOURCC"});if(1!==e.ReadU32())throw new s.ErrBinaryFormat({formatError:"wrong version"});var t=e.ReadBinaryReader(e.ReadU32()),r=t.ReadU16();this._stringTable=[];for(var n=0;n<r;n++)this._stringTable[n]=t.ReadCString();t.ExpectEnd();var a=e.ReadBinaryReader(e.ReadU32()),o=a.ReadU16();this._comments=[];for(var u=0;u<o;u++)this._comments[u]=a.ReadCWString();a.ExpectEnd(),this._ids=new Map,this._reader=e,this._start=e.cursor}Construct(){return this._reader.cursor=this._start,Object(a.object)(this._reader)}ConstructType(e){if(n.tw2.HasClass(e))return new(n.tw2.GetClass(e));if(o.DEBUG_ENABLED)return{_type:e};throw new s.ErrBinaryObjectTypeNotFound({type:e})}}o.DEBUG_ENABLED=!0},"./core/reader/Tw2ObjectReader.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tw2ObjectReader",(function(){return a}));var n=r("./global/index.js"),i=r("./core/reader/Tw2BinaryReader.js"),s=r("./core/Tw2Error.js");class a{constructor(e){this.xmlNode=null,this._inputStack=null,this._initializeObjects=null,this._ids={},this._reader=null,this._stringTable=null,this._start=null,e&&(this.xmlNode=e,e&&this.Initialize())}Initialize(){if(!a.IsValidXML(this.xmlNode))throw new s.ErrBinaryFormat({formatError:"Invalid binary, expected binred"});this._reader=new i.Tw2BinaryReader(new Uint8Array(this.xmlNode)),this._reader.cursor+=6,this._stringTable=[];for(var e=this._reader.ReadUInt32(),t=0;t<e;++t){var r=this._reader.ReadUInt16();this._stringTable.push(String.fromCharCode.apply(null,this._reader.data.subarray(this._reader.cursor,this._reader.cursor+r))),this._reader.cursor+=r}this._start=this._reader.cursor}Construct(){return this._reader.cursor=this._start,a.ReadElement(this)}static IsValidXML(e){return e&&"binred"===String.fromCharCode.apply(null,new Uint8Array(e).subarray(0,6))}static ConstructObject(e){if("json"===e.type)return e;var t;if(n.tw2.HasClass(e.type))t=n.tw2.GetClass(e.type);else{if(!a.DEBUG_ENABLED)throw new s.ErrBinaryObjectTypeNotFound({type:e.type});t=Object}var r=new t;for(var i in e)if(e.hasOwnProperty(i)&&"type"!==i)if(e[i].constructor===Object){if(this.DEBUG_ENABLED&&(r[i]=r[i]||{}),r[i])for(var o in e[i])e[i].hasOwnProperty(o)&&(r[i][o]=e[i][o])}else r[i]=e[i];return"Initialize"in r&&r.Initialize(),r}static ReadUint(e,t){switch(48&t){case this.ElementSize.SMALL:return e._reader.ReadUInt8();case this.ElementSize.MEDIUM:return e._reader.ReadUInt16();default:return e._reader.ReadUInt32()}}static ReadElementData(e,t){var r,n,i,a,o;switch(15&t){case this.ElementRawType.NULL:return null;case this.ElementRawType.BOOL:switch(48&t){case this.ElementSize.SMALL:return 0!==e._reader.ReadUInt8();case this.ElementSize.MEDIUM:return!1;default:return!0}case this.ElementRawType.INT:switch(48&t){case this.ElementSize.SMALL:return e._reader.ReadInt8();case this.ElementSize.MEDIUM:return e._reader.ReadInt16();default:return e._reader.ReadInt32()}case this.ElementRawType.UINT:return this.ReadUint(e,t);case this.ElementRawType.FLOAT:switch(48&t){case this.ElementSize.SMALL:return e._reader.ReadFloat16();case this.ElementSize.MEDIUM:return e._reader.ReadFloat32();default:throw new s.ErrFeatureNotImplemented({feature:"Element raw type Float64"})}case this.ElementRawType.STRING:return r=this.ReadUint(e,t),e._stringTable[r];case this.ElementRawType.ARRAY:for(a=this.ReadUint(e,t),i=[],n=0;n<a;++n)i.push(this.ReadElement(e));return i;case this.ElementRawType.MAPPING:for(a=this.ReadUint(e,t),i={},n=0;n<a;++n)i[e._stringTable[this.ReadUint(e,t)]]=this.ReadElement(e);return i;case this.ElementRawType.OBJECT:for(a=this.ReadUint(e,t),i={},n=0;n<a;++n)i[e._stringTable[this.ReadUint(e,t)]]=this.ReadElement(e);return this.ConstructObject(i);case this.ElementRawType.TYPED_ARRAY:for(a=this.ReadUint(e,t),o=e._reader.ReadUInt8(),i=[],n=0;n<a;++n)i.push(this.ReadElementData(e,o));return o in this.TypedArrays&&(i=new this.TypedArrays[o](i)),i;case this.ElementRawType.TYPED_MAPPING:for(a=this.ReadUint(e,t),o=e._reader.ReadUInt8(),i={},n=0;n<a;++n)i[e._stringTable[this.ReadUint(e,t)]]=this.ReadElementData(e,o);return i}}static ReadElement(e){var t,r=e._reader.ReadUInt8();if(r===this.REFERENCE_BIT)return e._ids[e._reader.ReadUInt16()];0!=(r&this.ID_BIT)&&(t=e._reader.ReadUInt16());var n=this.ReadElementData(e,63&r);return 0!=(r&this.ID_BIT)&&(e._ids[t]=n),n}}a.DEBUG_ENABLED=!1,a.ID_BIT=64,a.REFERENCE_BIT=128,a.ElementRawType={NULL:0,BOOL:1,INT:2,UINT:3,FLOAT:4,STRING:5,ARRAY:6,MAPPING:7,OBJECT:8,TYPED_ARRAY:9,TYPED_MAPPING:10},a.ElementSize={SMALL:0,MEDIUM:16,LARGE:32},a.TypedArrays={2:Int8Array,3:Uint8Array,18:Int16Array,19:Uint16Array,34:Int32Array,35:Uint32Array,4:Float32Array,20:Float32Array,36:Float64Array};var o=a.ElementRawType,u=a.ElementSize;a.ElementTypes={NULL:o.NULL|u.SMALL,BOOL:o.BOOL|u.SMALL,FALSE:o.BOOL|u.MEDIUM,TRUE:o.BOOL|u.LARGE,INT8:o.INT|u.SMALL,UINT8:o.UINT|u.SMALL,INT16:o.INT|u.MEDIUM,UINT16:o.UINT|u.MEDIUM,INT32:o.INT|u.LARGE,UINT32:o.UINT|u.LARGE,FLOAT16:o.FLOAT|u.SMALL,FLOAT32:o.FLOAT|u.MEDIUM,FLOAT64:o.FLOAT|u.LARGE,SHORT_STRING:o.STRING|u.SMALL,MEDIUM_STRING:o.STRING|u.MEDIUM,LARGE_STRING:o.STRING|u.LARGE,SHORT_ARRAY:o.ARRAY|u.SMALL,MEDIUM_ARRAY:o.ARRAY|u.MEDIUM,LARGE_ARRAY:o.ARRAY|u.LARGE,SHORT_MAPPING:o.MAPPING|u.SMALL,MEDIUM_MAPPING:o.MAPPING|u.MEDIUM,LARGE_MAPPING:o.MAPPING|u.LARGE,SHORT_OBJECT:o.OBJECT|u.SMALL,MEDIUM_OBJECT:o.OBJECT|u.MEDIUM,LARGE_OBJECT:o.OBJECT|u.LARGE,SHORT_TYPED_ARRAY:o.TYPED_ARRAY|u.SMALL,MEDIUM_TYPED_ARRAY:o.TYPED_ARRAY|u.MEDIUM,LARGE_TYPED_ARRAY:o.TYPED_ARRAY|u.LARGE,SHORT_TYPED_MAPPING:o.TYPED_MAPPING|u.SMALL,MEDIUM_TYPED_MAPPING:o.TYPED_MAPPING|u.MEDIUM,LARGE_TYPED_MAPPING:o.TYPED_MAPPING|u.LARGE}},"./core/reader/index.js":function(e,t,r){"use strict";r.r(t);var n=r("./core/reader/Tw2BinaryReader.js");r.d(t,"Tw2BinaryReader",(function(){return n.Tw2BinaryReader}));var i=r("./core/reader/Tw2BlackReader.js");r.d(t,"Tw2BlackReader",(function(){return i.Tw2BlackReader}));var s=r("./core/reader/Tw2ObjectReader.js");r.d(t,"Tw2ObjectReader",(function(){return s.Tw2ObjectReader}))},"./core/resource/Tw2EffectRes.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tw2EffectRes",(function(){return o}));var n=r("./core/reader/index.js"),i=r("./core/resource/Tw2Resource.js"),s=r("./core/resource/Tw2Shader.js"),a=r("./core/Tw2Error.js");class o extends i.Tw2Resource{constructor(...e){super(...e),this.passes=[],this.annotations={},this.permutations=[],this.offsets=[],this.reader=null,this.version=0,this.stringTable="",this.shaders={}}Prepare(e){this.permutations=[],this.offsets=[],this.passes=[],this.annotations={},this.reader=null,this.version=0,this.stringTable="",this.shaders={};var t=new n.Tw2BinaryReader(new Uint8Array(e)),r="";function i(){for(var e=t.ReadUInt32(),n=e;r.charCodeAt(n);)++n;return r.substr(e,n-e)}var s=t.ReadUInt32();if(s<2||s>8)this.OnError(new a.ErrShaderVersion({path:this.path,version:s}));else{var o,u;if(s<5){if(0===(o=t.ReadUInt32()))return void this.OnError(new a.ErrShaderHeaderSize({path:this.path}));t.ReadUInt32();var c=t.ReadUInt32();t.cursor=8+3*o*4,u=t.ReadUInt32(),this.stringTableOffset=t.cursor,r=String.fromCharCode.apply(null,t.data.subarray(t.cursor,t.cursor+u)),t.cursor=c}else{u=t.ReadUInt32(),this.stringTableOffset=t.cursor,r=String.fromCharCode.apply(null,t.data.subarray(t.cursor,t.cursor+u)),t.cursor+=u;for(var l=t.ReadUInt8(),h=0;h<l;++h){for(var d={name:i(),defaultOption:t.ReadUInt8(),description:i(),type:t.ReadUInt8(),options:{},optionCount:t.ReadUInt8()},f=0;f<d.optionCount;++f)d.options[i()]=f;this.permutations.push(d)}if(0===(o=t.ReadUInt32()))return void this.OnError(new a.ErrShaderHeaderSize({path:this.path}));for(var m=0;m<o;++m)this.offsets.push({index:t.ReadUInt32(),offset:t.ReadUInt32(),size:t.ReadUInt32()});t.ReadUInt32(),t.cursor=t.ReadUInt32()}this.reader=t,this.version=s,this.stringTable=r,this.OnPrepared()}}GetShader(e){if(!this.IsGood())return null;for(var t=0,r=1,n=0;n<this.permutations.length;++n){var i=this.permutations[n],o=i.defaultOption;if(e.hasOwnProperty(i.name)){var u=e[i.name];if(!i.options.hasOwnProperty(u))return this.OnError(new a.ErrShaderPermutationValue({path:this.path,permutation:i.name,valueName:u})),null;o=i.options[u]}t+=o*r,r*=i.optionCount}if(this.shaders.hasOwnProperty(t))return this.shaders[t];this.reader.cursor=this.offsets[t].offset;var c=null;try{c=new s.Tw2Shader(this.reader,this.version,this.stringTable,this.stringTableOffset,this.path)}catch(e){return this.OnError(e),null}return this.shaders[t]=c,c}}o.prototype.requestResponseType="arraybuffer"},"./core/resource/Tw2GeometryRes.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tw2GeometryRes",(function(){return c}));var n=r("./global/index.js"),i=r("./core/reader/index.js"),s=r("./core/vertex/index.js"),a=r("./core/resource/Tw2Resource.js"),o=r("./core/Tw2Error.js"),u=r("./core/geometry/index.js");class c extends a.Tw2Resource{constructor(...e){super(...e),this.meshes=[],this.minBounds=n.vec3.fromValues(0,0,0),this.maxBounds=n.vec3.fromValues(0,0,0),this.boundsSpherePosition=n.vec3.create(),this.boundsSphereRadius=0,this.models=[],this.animations=[],this.systemMirror=n.resMan.systemMirror}GetBoundingBox(e,t){return n.box3.fromBounds(e,this.minBounds,this.maxBounds),t&&n.box3.transformMat4(e,e,t),!0}GetBoundingSphere(e,t){return n.sph3.fromPositionRadius(e,this.boundsSpherePosition,this.boundsSphereRadius),t&&n.sph3.transformMat4(e,e,t),!0}RebuildBounds(e){var t=this.minBounds,r=this.maxBounds;n.box3.bounds.empty(t,r);for(var i=0;i<this.meshes.length;i++){var s=this.meshes[i];s.RebuildBounds(e),n.box3.bounds.union(t,r,t,r,s.minBounds,s.maxBounds)}this.boundsSphereRadius=n.box3.bounds.toPositionRadius(t,r,this.boundsSpherePosition)}GetInstanceBuffer(e){return e<this.meshes.length?this.meshes[e].buffer:void 0}GetInstanceDeclaration(e){return this.meshes[e].declaration}GetInstanceStride(e){return this.meshes[e].declaration.stride}GetInstanceCount(e){return 4*this.meshes[e].bufferLength/this.meshes[e].declaration.stride}Prepare(e){var t=n.device.gl,r=new i.Tw2BinaryReader(new Uint8Array(e));r.ReadUInt8();for(var s=r.ReadUInt8(),a=0;a<s;++a){var o=new u.Tw2GeometryMesh;o.name=r.ReadString();var l=c.ReadVertexBuffer(r,o.declaration,this.path);l?(o.bufferLength=l.length,o.buffer=t.createBuffer(),t.bindBuffer(t.ARRAY_BUFFER,o.buffer),t.bufferData(t.ARRAY_BUFFER,l,t.STATIC_DRAW)):o.buffer=null;var h=c.ReadIndexBuffer(r);h?(o.indexes=t.createBuffer(),o.indexType=2===h.BYTES_PER_ELEMENT?t.UNSIGNED_SHORT:t.UNSIGNED_INT,t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,o.indexes),t.bufferData(t.ELEMENT_ARRAY_BUFFER,h,t.STATIC_DRAW)):o.indexes=null;for(var d=r.ReadUInt8(),f=0;f<d;++f){var m=new u.Tw2GeometryMeshArea;o.areas.push(m),m.name=r.ReadString(),m.start=r.ReadUInt32()*h.BYTES_PER_ELEMENT,m.count=3*r.ReadUInt32(),n.vec3.set(m.minBounds,r.ReadFloat32(),r.ReadFloat32(),r.ReadFloat32()),n.vec3.set(m.maxBounds,r.ReadFloat32(),r.ReadFloat32(),r.ReadFloat32()),m.boundsSphereRadius=n.box3.bounds.toPositionRadius(m.minBounds,m.maxBounds,m.boundsSpherePosition),n.box3.bounds.isEmpty(m.minBounds,m.maxBounds)&&(o.RebuildAreaBounds(m,l,h,!0)||console.log("Could not generate bounds for area: "+m.name||!1))}var v=r.ReadUInt8();o.boneBindings=[];for(var p=0;p<v;++p)o.boneBindings[p]=r.ReadString();var _=r.ReadUInt16();if((_||this.systemMirror)&&(o.bufferData=l,o.indexData=h),_){o.blendShapes=[];for(var E=0;E<_;++E)o.blendShapes[E]=new u.Tw2BlendShapeData,o.blendShapes[E].name=r.ReadString(),o.blendShapes[E].buffer=c.ReadVertexBuffer(r,o.blendShapes[E].declaration,this.path),o.blendShapes[E].indexes=c.ReadIndexBuffer(r)}o._areas=d,o._faces=h.length/3,o._vertices=l.length/(o.declaration.stride/4),this.meshes[a]=o}this.RebuildBounds();for(var S=r.ReadUInt8(),T=0;T<S;++T){var g=new u.Tw2GeometryModel;g.name=r.ReadString(),g.skeleton=new u.Tw2GeometrySkeleton;for(var R=r.ReadUInt8(),b=0;b<R;++b){var y=new u.Tw2GeometryBone;y.name=r.ReadString();var A=r.ReadUInt8();if(y.parentIndex=r.ReadUInt8(),255===y.parentIndex&&(y.parentIndex=-1),0!=(1&A)?n.vec3.set(y.position,r.ReadFloat32(),r.ReadFloat32(),r.ReadFloat32()):n.vec3.set(y.position,0,0,0),0!=(2&A)?n.quat.set(y.orientation,r.ReadFloat32(),r.ReadFloat32(),r.ReadFloat32(),r.ReadFloat32()):n.quat.identity(y.orientation),0!=(4&A))for(var j=0;j<9;++j)y.scaleShear[j]=r.ReadFloat32();else n.mat3.identity(y.scaleShear);g.skeleton.bones[b]=y}for(var w=0;w<g.skeleton.bones.length;++w)g.skeleton.bones[w].UpdateTransform(),-1!==g.skeleton.bones[w].parentIndex?n.mat4.multiply(g.skeleton.bones[w].worldTransform,g.skeleton.bones[g.skeleton.bones[w].parentIndex].worldTransform,g.skeleton.bones[w].localTransform):n.mat4.copy(g.skeleton.bones[w].worldTransform,g.skeleton.bones[w].localTransform),n.mat4.invert(g.skeleton.bones[w].worldTransformInv,g.skeleton.bones[w].worldTransform);for(var O=r.ReadUInt8(),C=0;C<O;++C){var L=r.ReadUInt8();L<this.meshes.length&&c.BindMeshToModel(this.meshes[L],g,this)}this.models[this.models.length]=g}for(var D=r.ReadUInt8(),P=0;P<D;++P){var x=new u.Tw2GeometryAnimation;x.name=r.ReadString(),x.duration=r.ReadFloat32();for(var I=r.ReadUInt8(),M=0;M<I;++M){var F=new u.Tw2GeometryTrackGroup;F.name=r.ReadString();for(var G=0;G<this.models.length;++G)if(this.models[G].name===F.name){F.model=this.models[G];break}for(var N=r.ReadUInt8(),B=0;B<N;++B){var U=new u.Tw2GeometryTransformTrack;if(U.name=r.ReadString(),U.orientation=c.ReadCurve(r),U.position=c.ReadCurve(r),U.scaleShear=c.ReadCurve(r),U.orientation)for(var V=0,k=0,H=0,q=0,z=0;z<U.orientation.controls.length;z+=4){var W=U.orientation.controls[z],Y=U.orientation.controls[z+1],X=U.orientation.controls[z+2],K=U.orientation.controls[z+3];V*W+k*Y+H*X+q*K<0&&(U.orientation.controls[z]=-W,U.orientation.controls[z+1]=-Y,U.orientation.controls[z+2]=-X,U.orientation.controls[z+3]=-K),V=W,k=Y,H=X,q=K}F.transformTracks[F.transformTracks.length]=U}x.trackGroups[x.trackGroups.length]=F}this.animations[this.animations.length]=x}this.OnPrepared()}static BindMeshToModel(e,t,r){var n=new u.Tw2GeometryMeshBinding;n.mesh=e;for(var i=0;i<n.mesh.boneBindings.length;++i){var s=n.mesh.boneBindings[i],a=t.FindBoneByName(s);if(!a)throw new o.ErrGeometryMeshBoneNameInvalid({path:r.path,mesh:n.mesh.name,bone:s,model:t.name});n.bones[n.bones.length]=a}t.meshBindings[t.meshBindings.length]=n}RenderAreasInstanced(e,t,r,i,s,a,u,c,l){if(this.KeepAlive(),!this.IsGood()||!i.IsGood()||e>=this.meshes.length)return!1;var h=n.device,d=h.gl,f=this.meshes[e],m=i.GetPassCount(s);d.bindBuffer(d.ELEMENT_ARRAY_BUFFER,f.indexes);for(var v=0;v<m;++v){i.ApplyPass(s,v);var p=i.GetPassInput(s,v);if(0!==p.elements.length){d.bindBuffer(d.ARRAY_BUFFER,f.buffer),f.declaration.SetPartialDeclaration(h,p,f.declaration.stride),d.bindBuffer(d.ARRAY_BUFFER,a);var _=u.SetPartialDeclaration(h,p,c,8,1);h.ApplyShadowState();for(var E=0;E<r;++E)if(E+t<f.areas.length){for(var S=f.areas[E+t],T=S.start,g=S.count;E+1<r;){if(!(S=f.areas[E+1+t]))return this.OnError(new o.ErrGeometryMeshAreaMissing({path:this.path,areaIndex:E+1+t})),!1;if(S.start!==T+2*g)break;g+=S.count,++E}d.drawElementsInstanced(d.TRIANGLES,g,f.indexType,T,l)}u.ResetInstanceDivisors(h,_)}}return!0}RenderAreas(e,t,r,i,s){if(this.KeepAlive(),!this.IsGood()||!i.IsGood()||e>=this.meshes.length)return!1;var a=n.device,u=a.gl,c=this.meshes[e]||this.meshes[0],l=i.GetPassCount(s);u.bindBuffer(u.ARRAY_BUFFER,c.buffer),u.bindBuffer(u.ELEMENT_ARRAY_BUFFER,c.indexes);for(var h=0;h<l;++h){i.ApplyPass(s,h);var d=i.GetPassInput(s,h);if(!c.declaration.SetDeclaration(a,d,c.declaration.stride))return this.OnError(new o.ErrGeometryMeshEffectBinding({path:this.path,pass:h,passInput:d,meshStride:c.declaration.stride})),!1;a.ApplyShadowState();for(var f=0;f<r;++f)if(f+t<c.areas.length){for(var m=c.areas[f+t],v=m.start,p=m.count;f+1<r;){if(!(m=c.areas[f+1+t]))return this.OnError(new o.ErrGeometryMeshAreaMissing({path:this.path,areaIndex:f+1+t})),!1;if(m.start!==v+2*p)break;p+=m.count,++f}u.drawElements(u.TRIANGLES,p,c.indexType,v)}}return!0}RenderLines(e,t,r,i,s){if(this.KeepAlive(),!this.IsGood()||!i.IsGood()||e>=this.meshes.length)return!1;var a=n.device,u=a.gl,c=this.meshes[e],l=i.GetPassCount(s);u.bindBuffer(u.ARRAY_BUFFER,c.buffer),u.bindBuffer(u.ELEMENT_ARRAY_BUFFER,c.indexes);for(var h=0;h<l;++h){i.ApplyPass(s,h);var d=i.GetPassInput(s,h);if(!c.declaration.SetDeclaration(a,d,c.declaration.stride))return this.OnError(new o.ErrGeometryMeshEffectBinding({path:this.path,pass:h,passInput:d,meshStride:c.declaration.stride})),!1;a.ApplyShadowState();for(var f=0;f<r;++f)if(f+t<c.areas.length){for(var m=c.areas[f+t],v=m.start,p=m.count;f+1<r;){if(!(m=c.areas[f+1+t]))return this.OnError(new o.ErrGeometryMeshAreaMissing({path:this.path,areaIndex:f+1+t})),!1;if(m.start!==v+2*p)break;p+=m.count,++f}u.drawElements(u.LINES,p,c.indexType,v)}}return!0}RenderDebugInfo(e){if(!this.IsGood())return!1;for(var t=0;t<this.models.length;++t)if(this.models[t].skeleton)for(var r=0;r<this.models[t].skeleton.bones.length;++r){var n=this.models[t].skeleton.bones[r];if(n.parentIndex>=0){var i=this.models[t].skeleton.bones[n.parentIndex];e.AddLine([n.worldTransform[12],n.worldTransform[13],n.worldTransform[14]],[i.worldTransform[12],i.worldTransform[13],i.worldTransform[14]],[0,.7,0,1],[0,.7,0,1])}}}Unload(e){for(var t=0;t<this.meshes.length;++t){var r=n.device.gl;this.meshes[t].buffer&&(r.deleteBuffer(this.meshes[t].buffer),this.meshes[t].buffer=null),this.meshes[t].indexes&&(r.deleteBuffer(this.meshes[t].indexes),this.meshes[t].indexes=null)}return this.OnUnloaded(e),!0}static ReadVertexBuffer(e,t,r){for(var i=e.ReadUInt8(),a=0,u=0;u<i;++u){var c=new s.Tw2VertexElement;c.usage=e.ReadUInt8(),c.usageIndex=e.ReadUInt8(),c.fileType=e.ReadUInt8(),c.type=n.device.gl.FLOAT,c.elements=1+(c.fileType>>5),c.offset=4*a,t.elements[u]=c,a+=c.elements}t.RebuildHash(),t.stride=4*a;var l=e.ReadUInt32();if(0===l)return null;for(var h=new Float32Array(a*l),d=0,f=0;f<l;++f)for(var m=0;m<i;++m){var v=t.elements[m];switch(15&v.fileType){case 0:if(0!=(16&v.fileType))for(var p=0;p<v.elements;++p)h[d++]=e.ReadInt8()/127;else for(var _=0;_<v.elements;++_)h[d++]=e.ReadInt8();break;case 1:if(0!=(16&v.fileType))for(var E=0;E<v.elements;++E)h[d++]=e.ReadInt8()/32767;else for(var S=0;S<v.elements;++S)h[d++]=e.ReadInt16();break;case 2:for(var T=0;T<v.elements;++T)h[d++]=e.ReadInt32();break;case 3:for(var g=0;g<v.elements;++g)h[d++]=e.ReadFloat16();break;case 4:for(var R=0;R<v.elements;++R)h[d++]=e.ReadFloat32();break;case 8:if(0!=(16&v.fileType))for(var b=0;b<v.elements;++b)h[d++]=e.ReadUInt8()/255;else for(var y=0;y<v.elements;++y)h[d++]=e.ReadUInt8();break;case 9:if(0!=(16&v.fileType))for(var A=0;A<t.elements[m].elements;++A)h[d++]=e.ReadUInt8()/65535;else for(var j=0;j<v.elements;++j)h[d++]=e.ReadUInt16();break;case 10:for(var w=0;w<v.elements;++w)h[d++]=e.ReadUInt32();break;default:throw new o.ErrGeometryFileType({path:r,key:"fileType",value:15&v.fileType})}}return h}static ReadIndexBuffer(e){var t=e.ReadUInt8(),r=e.ReadUInt32();if(0===t){for(var n=new Uint16Array(r),i=0;i<r;++i)n[i]=e.ReadUInt16();return n}for(var s=new Uint32Array(r),a=0;a<r;++a)s[a]=e.ReadUInt32();return s}static ReadCurve(e){if(0===e.ReadUInt8())return null;var t=new u.Tw2GeometryCurve;t.dimension=e.ReadUInt8(),t.degree=e.ReadUInt8();var r=e.ReadUInt32();t.knots=new Float32Array(r);for(var n=0;n<r;++n)t.knots[n]=e.ReadFloat32();var i=e.ReadUInt32();t.controls=new Float32Array(i);for(var s=0;s<i;++s)t.controls[s]=e.ReadFloat32();return t}static black(e){return[]}}c.prototype.requestResponseType="arraybuffer"},"./core/resource/Tw2LoadingObject.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tw2LoadingObject",(function(){return u}));var n=r("./global/index.js"),i=r("./core/resource/Tw2Resource.js"),s=r("./core/reader/Tw2ObjectReader.js"),a=r("./core/reader/Tw2BlackReader.js"),o=r("./core/Tw2Error.js");class u extends i.Tw2Resource{constructor(...e){super(...e),this.path="",this._view=null,this._inPrepare=null,this._objects=[],this._constructor=null}AddObject(e,t){var r=this.GetLastError();r?t&&t(r):this._objects.push({onResolved:e,onRejected:t})}Prepare(e){var t=this.path.lastIndexOf(".");if(-1===t)return null;var r,n=this.path.substr(t+1);if(null===this._inPrepare){switch(this._view=e,n){case"red":this._constructor=new s.Tw2ObjectReader(e);break;case"black":this._constructor=new a.Tw2BlackReader(e);break;default:throw new o.ErrResourceExtensionUnregistered({extension:n})}this._inPrepare=0,r=this._constructor.Construct()}for(;this._inPrepare<this._objects.length;){var i=this._objects[this._inPrepare];try{r?(i.onResolved(r),r=null):i.onResolved(this._constructor.Construct())}catch(e){i.onRejected&&(i.onRejected(e),i.onRejected=null),this.OnWarning({err:e,message:"Error preparing child object"})}this._inPrepare++}this.OnPrepared()}OnError(e){super.OnError(e);for(var t=0;t<this._objects.length;t++)this._objects[t].onRejected&&this._objects[t].onRejected(e);return n.resMan.motherLode.Remove(this.path),this._objects.splice(0),e}OnPrepared(e){n.resMan.motherLode.Remove(this.path),this._objects.splice(0),super.OnPrepared(e)}}u.prototype.requestResponseType="arraybuffer"},"./core/resource/Tw2LodResource.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tw2LodResource",(function(){return i}));var n=r("./global/index.js");class i extends n.Tw2BaseClass{get highDetailRes(){return this.GetLODResource(3)}get mediumDetailRes(){return this.GetLODResource(2)}get lowDetailRes(){return this.GetLODResource(1)}constructor(e="",t){super(),this.name="",this.highDetailResPath="",this.lowDetailResPath="",this.mediumDetailResPath="",this.name=e,t&&this.SetPaths(...t)}SetPaths(e="",t="",r=""){var n=!1;return e!==this.highDetailResPath&&(this.highDetailResPath=e,n=!0),t!==this.mediumDetailResPath&&(this.mediumDetailResPath=t,n=!0),r!==this.lowDetailResPath&&(this.lowDetailResPath=r,n=!0),n}GetLODResource(e=3){var t,r=this.highDetailResPath,i=this.mediumDetailResPath,s=this.lowDetailResPath;return e>2?r?t=r:i?t=i:s&&(t=s):2===e?i?t=i:r?t=r:s&&(t=s):s?t=s:i?t=i:r&&(t=r),t?n.resMan.GetResource(t):null}static from(e){var t=new i;return e&&(t.name=e.name||"",t.SetPaths(e.highDetailResPath,e.mediumDetailResPath,e.lowDetailResPath)),t}static black(e){return[["name",e.string],["highDetailResPath",e.path],["lowDetailResPath",e.path],["mediumDetailResPath",e.path]]}}i.__isStaging=2},"./core/resource/Tw2Resource.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tw2Resource",(function(){return o}));var n=r("./global/index.js"),i=r("./core/Tw2Error.js"),s=r("./global/util/index.js"),a=r("./global/class/Tw2Notifications.js");class o extends a.Tw2Notifications{constructor(...e){super(...e),this.path="",this.activeFrame=0,this.doNotPurge=0,this._state=o.State.NO_INIT,this._errors=[],this._requested=0}IsGood(){return this.KeepAlive(),this.IsPrepared()||this.IsLoaded()}IsRequested(){return this._state===o.State.REQUESTED}IsLoaded(){return this._state===o.State.LOADED}IsPrepared(){return this._state===o.State.PREPARED}IsUnloaded(){return this._state===o.State.UNLOADED}IsPurged(){return this._state===o.State.PURGED}HasErrors(){return this._state===o.State.ERROR}HasCompleted(){return this.HasErrors()||this.IsPurged()||this.IsPrepared()}Unload(e){return!1}Reload(e){(this.IsLoaded()||this.IsPrepared())&&this.Unload({hide:!0,detail:"reloading"}),(this.IsPurged()||this.IsUnloaded())&&n.resMan.LoadResource(this,e)}KeepAlive(){this.activeFrame=n.resMan.activeFrame,(this.IsPurged()||this.IsUnloaded())&&this.Reload({hide:!0,detail:"inuse"})}GetErrors(){return Array.from(this._errors)}GetLastError(){return this._errors[0]}OnWarning(e){n.resMan.OnPathEvent(this.path,"warning",e),this.UpdateNotifications(o.Callback.WARNING)}OnDebug(e){n.resMan.OnPathEvent(this.path,"debug",e),this.UpdateNotifications(o.Callback.DEBUG)}OnError(e=new i.Tw2Error){var t=this.IsLoaded()||this.IsPrepared();return this._errors.includes(e)||this._errors.unshift(e),this._SetState(o.State.ERROR),t&&this.Unload({hide:!0,detail:"errored"}),n.resMan.OnPathEvent(this.path,"error",e),this.UpdateNotifications(o.Callback.ERROR,e),e}OnRequested(e){var t=this._state===o.State.NO_INIT?"REQUESTED":"RELOADING";this._SetState(o.State.REQUESTED)&&(this._requested=Date.now(),n.resMan.OnPathEvent(this.path,t.toLowerCase(),e),this.UpdateNotifications(o.Callback[t]))}OnLoaded(e={}){this._SetState(o.State.LOADED)&&(e.time=.001*(Date.now()-this._requested),n.resMan.OnPathEvent(this.path,"loaded",e),this.UpdateNotifications(o.Callback.LOADED))}OnPrepared(e={}){this._SetState(o.State.PREPARED)&&(e.time=.001*(Date.now()-this._requested),n.resMan.OnPathEvent(this.path,"prepared",e),this.UpdateNotifications(o.Callback.PREPARED))}OnUnloaded(e){this._SetState(o.State.UNLOADED)&&(n.resMan.OnPathEvent(this.path,"unloaded",e),this.UpdateNotifications(o.Callback.UNLOADED))}OnPurged(e){this._SetState(o.State.PURGED),n.resMan.OnPathEvent(this.path,"purged",e),this.UpdateNotifications(o.Callback.PURGED,this.GetLastError())}_SetState(e){return this._state!==o.State.ERROR&&(this._state=e,!0)}RegisterCallbacks(e,t){if(this.KeepAlive(),e||t){this.RegisterNotification((function(r,n){return!!r.HasCompleted()&&(n?t&&t(n):e&&e(r),!0)}))}}static onNotification(e,t){var r,n;switch(e._state){case o.State.ERROR:r=o.Callback.ERROR,n=e.GetLastError();break;case o.State.REQUESTED:r=o.Callback.REQUESTED;break;case o.State.LOADED:r=o.Callback.LOADED;break;case o.State.PREPARED:r=o.Callback.PREPARED;break;case o.State.UNLOADED:r=o.Callback.UNLOADED;break;case o.State.PURGED:r=o.Callback.PURGED,n=e.GetLastError()}return Object(s.isFunction)(t)?!!t(e,n,r):!!(r&&r in t)&&!!t[r](e,n)}}o.__isResource=!0,o.State={ERROR:-3,PURGED:-2,UNLOADED:-1,NO_INIT:0,REQUESTED:1,LOADED:2,PREPARED:3},o.Callback={ERROR:"OnResError",PURGED:"OnResPurged",UNLOADED:"OnResUnloaded",REQUESTED:"OnResRequested",LOADED:"OnResLoaded",PREPARED:"OnResPrepared",WARNING:"OnResWarning",DEBUG:"OnResDebug"},o.prototype.DoCustomLoad=null,o.prototype.requestResponseType=null},"./core/resource/Tw2Shader.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tw2Shader",(function(){return u}));var n=r("./global/index.js"),i=r("./core/vertex/index.js"),s=r("./core/sampler/index.js"),a=r("./core/Tw2Error.js"),o=r("./core/resource/shaderOverrides.json");class u{constructor(e,t,r,a,o){function c(){for(var t=e.ReadUInt32(),n=t;r.charCodeAt(n);)++n;return r.substr(t,n-t)}this.techniques={},this.annotations={};var{wrapModes:l,gl:h}=n.device,d=1;t>6&&(d=e.ReadUInt8());for(var f=0;f<d;++f){var m={name:"Main",passes:[]};t>6&&(m.name=c()),this.techniques[m.name]=m;for(var v=e.ReadUInt8(),p=0;p<v;++p){for(var _={stages:[{},{}]},E=e.ReadUInt8(),S=!0,T=0;T<E;++T){var g={};g.inputDefinition=new i.Tw2VertexDeclaration,g.constants=[],g.textures=[],g.samplers=[];var R=e.ReadUInt8(),b=e.ReadUInt8();g.stageType=0===R?"vertex":"fragment";for(var y=0;y<b;++y){var A=e.ReadUInt8(),j=e.ReadUInt8(),w=e.ReadUInt8(),O=e.ReadUInt8();g.inputDefinition.elements[y]=i.Tw2VertexElement.from({usage:A,usageIndex:w,type:0,registerIndex:j,usedMask:O})}g.inputDefinition.RebuildHash();var C=void 0,L=void 0,D=void 0,P=void 0;if(t<5)C=e.ReadUInt32(),L=e.data.subarray(e.cursor,e.cursor+C),e.cursor+=C,D=e.ReadUInt32(),P=e.data.subarray(e.cursor,e.cursor+D),e.cursor+=D;else{C=e.ReadUInt32();var x=e.ReadUInt32();L=u.InspectShaderCode(r.substr(x,C),o),D=e.ReadUInt32(),x=e.ReadUInt32(),P=u.InspectShaderCode(r.substr(x,D),o),u.DEBUG_ENABLED&&(g.shaderCode=L,g.shadowShaderCode=P)}try{g.shader=u.CompileShader(R,"",L,o)}catch(e){throw console.group(),console.error(e.message),console.dir(g),console.groupEnd(),e}S?(g.shadowShader=0===D?u.CompileShader(R,"\n#define PS\n",L,o,!0):u.CompileShader(R,"",P,o,!0),null===g.shadowShader&&(S=!1)):g.shadowShader=null,t>=3&&(e.ReadUInt32(),e.ReadUInt32(),e.ReadUInt32()),g.constantSize=0;for(var I=e.ReadUInt32(),M=0;M<I;++M){var F={};if(F.name=c(),F.offset=e.ReadUInt32()/4,F.size=e.ReadUInt32()/4,F.type=e.ReadUInt8(),F.dimension=e.ReadUInt8(),F.elements=e.ReadUInt32(),F.isSRGB=e.ReadUInt8(),F.isAutoregister=e.ReadUInt8(),g.constants[M]=F,!u.ConstantIgnore.includes(F.name)){var G=F.offset+F.size;G>g.constantSize&&(g.constantSize=G)}}var N=e.ReadUInt32()/4;if(g.constantValues=new Float32Array(N),t<5)for(var B=0;B<N;++B)g.constantValues[B]=e.ReadFloat32();else{var U=e.ReadUInt32(),V=e.cursor;e.cursor=a+U;for(var k=0;k<N;++k)g.constantValues[k]=e.ReadFloat32();e.cursor=V}g.constantSize=Math.max(g.constantSize,N);for(var H=e.ReadUInt8(),q=0;q<H;++q){var z={};z.registerIndex=e.ReadUInt8(),z.name=c(),z.type=e.ReadUInt8(),z.isSRGB=e.ReadUInt8(),z.isAutoregister=e.ReadUInt8(),g.textures.push(z)}for(var W=e.ReadUInt8(),Y=0;Y<W;++Y){var X=new s.Tw2SamplerState;if(X.registerIndex=e.ReadUInt8(),X.name=t>=4?c():"",X._comparison=e.ReadUInt8(),X.minFilter=e.ReadUInt8(),X.magFilter=e.ReadUInt8(),X.mipFilter=e.ReadUInt8(),X.addressU=e.ReadUInt8(),X.addressV=e.ReadUInt8(),X.addressW=e.ReadUInt8(),X.mipLODBias=e.ReadFloat32(),X._maxAnisotropy=e.ReadUInt8(),X._comparisonFunc=e.ReadUInt8(),X._borderColor=n.quat.fromValues(e.ReadFloat32(),e.ReadFloat32(),e.ReadFloat32(),e.ReadFloat32()),X._minLOD=e.ReadFloat32(),X._maxLOD=e.ReadFloat32(),t<4&&e.ReadUInt8(),1===X.minFilter){switch(X.mipFilter){case 0:X.minFilter=h.NEAREST;break;case 1:X.minFilter=h.NEAREST_MIPMAP_NEAREST;break;default:X.minFilter=h.NEAREST_MIPMAP_LINEAR}X.minFilterNoMips=h.NEAREST}else{switch(X.mipFilter){case 0:X.minFilter=h.LINEAR;break;case 1:X.minFilter=h.LINEAR_MIPMAP_NEAREST;break;default:X.minFilter=h.LINEAR_MIPMAP_LINEAR}X.minFilterNoMips=h.LINEAR}X.magFilter=1===X.magFilter?h.NEAREST:h.LINEAR,X.addressU=l[X.addressU],X.addressV=l[X.addressV],X.addressW=l[X.addressW],3!==X.minFilter&&3!==X.magFilter&&3!==X.mipFilter||(X.anisotropy=Math.max(X.maxAnisotropy,1));for(var K=0;K<g.textures.length;++K)if(g.textures[K].registerIndex===X.registerIndex){X.samplerType=4===g.textures[K].type?h.TEXTURE_CUBE_MAP:h.TEXTURE_2D,X.isVolume=3===g.textures[K].type;break}X.ComputeHash(),g.samplers.push(X)}t>=3&&e.ReadUInt8(),t>7&&e.ReadUInt8(),_.stages[R]=g}_.states=[];for(var Q=e.ReadUInt8(),Z=0;Z<Q;++Z){var $=e.ReadUInt32(),J=e.ReadUInt32();_.states.push({state:$,value:J})}_.shaderProgram=u.CreateProgram(_.stages[0].shader,_.stages[1].shader,_,o),S?(_.shadowShaderProgram=u.CreateProgram(_.stages[0].shadowShader,_.stages[1].shadowShader,_,o,!0),null===_.shadowShaderProgram&&(_.shadowShaderProgram=_.shaderProgram)):_.shadowShaderProgram=_.shaderProgram,m.passes[p]=_}}for(var ee=e.ReadUInt16(),te=0;te<ee;++te){for(var re=c(),ne=[],ie=e.ReadUInt8(),se=0;se<ie;++se)switch(ne[se]={},ne[se].name=c(),ne[se].type=e.ReadUInt8(),ne[se].type){case 0:ne[se].value=0!==e.ReadUInt32();break;case 1:ne[se].value=e.ReadInt32();break;case 2:ne[se].value=e.ReadFloat32();break;default:ne[se].value=c()}this.annotations[re]=ne}}ApplyPass(e,t){var r=n.device,i=r.gl;t=this.techniques[e].passes[t];for(var s=0;s<t.states.length;++s)r.SetRenderState(t.states[s].state,t.states[s].value);r.IsAlphaTestEnabled()?(i.useProgram(t.shadowShaderProgram.program),r.shadowHandles=t.shadowShaderProgram):(i.useProgram(t.shaderProgram.program),r.shadowHandles=null)}HasConstant(e){return this.constructor.Has(this.techniques,"constants",e)}HasTexture(e){return this.constructor.Has(this.techniques,"textures",e)}HasSampler(e){return this.constructor.Has(this.techniques,"samplers",e)}static Has(e,t,r){for(var n in e)if(e.hasOwnProperty(n))for(var i=e[n],s=0;s<i.passes.length;s++)for(var a=i.passes[s],o=0;o<a.stages.length;o++)for(var u=a.stages[o],c=0;c<u[t].length;c++)if(u[t][c].name===r)return!0;return!1}static CompileShader(e,t,r,i,s){var o=n.device.gl,u=o.createShader(0===e?o.VERTEX_SHADER:o.FRAGMENT_SHADER),c=n.device.GetExtension("CCP_shader_binary");if(c)c.shaderBinary(u,r);else{var l=t+(n.util.isString(r)?r:String.fromCharCode.apply(null,r));l=l.substr(0,l.length-1),o.shaderSource(u,l),o.compileShader(u)}if(!o.getShaderParameter(u,o.COMPILE_STATUS)){if(!s)throw new a.ErrShaderCompile({path:i,shaderType:0===e?"vertex":"fragment",infoLog:o.getShaderInfoLog(u)});return null}return u}static CreateProgram(e,t,r,s,o){var u=n.device.gl,c={};if(c.program=u.createProgram(),u.attachShader(c.program,e),u.attachShader(c.program,t),u.linkProgram(c.program),!u.getProgramParameter(c.program,u.LINK_STATUS)){if(!o)throw new a.ErrShaderLink({path:s,infoLog:u.getProgramInfoLog(c.program)});return null}u.useProgram(c.program),c.constantBufferHandles=[];for(var l=0;l<16;++l)c.constantBufferHandles[l]=u.getUniformLocation(c.program,"cb"+l);c.samplerHandles=[];for(var h=0;h<16;++h)c.samplerHandles[h]=u.getUniformLocation(c.program,"s"+h),u.uniform1i(c.samplerHandles[h],h);for(var d=0;d<16;++d)c.samplerHandles[d+12]=u.getUniformLocation(c.program,"vs"+d),u.uniform1i(c.samplerHandles[d+12],d+12);c.input=new i.Tw2VertexDeclaration;for(var f=0;f<r.stages[0].inputDefinition.elements.length;++f){var m="attr"+f,v=u.getAttribLocation(c.program,m);if(v>=0){var p=i.Tw2VertexElement.from({usage:r.stages[0].inputDefinition.elements[f].usage,usageIndex:r.stages[0].inputDefinition.elements[f].usageIndex,location:v,attr:m});c.input.elements.push(p)}}c.input.RebuildHash(),c.shadowStateInt=u.getUniformLocation(c.program,"ssi"),c.shadowStateFloat=u.getUniformLocation(c.program,"ssf"),c.shadowStateYFlip=u.getUniformLocation(c.program,"ssyf"),u.uniform3f(c.shadowStateYFlip,0,0,1),c.volumeSlices=[];for(var _=0;_<r.stages[1].samplers.length;++_)r.stages[1].samplers[_].isVolume&&(c.volumeSlices[r.stages[1].samplers[_].registerIndex]=u.getUniformLocation(c.program,"s"+r.stages[1].samplers[_].registerIndex+"sl"));return c}static InspectShaderCode(e,t){var r=t.substring(t.lastIndexOf("/")+1,t.lastIndexOf(".")).toLowerCase(),n=o[r];if(!n)return e;for(var i in n)n.hasOwnProperty(i)&&(e=e.replace(i,n[i]));return e}}u.ConstantIgnore=["PerFrameVS","PerObjectVS","PerFramePS","PerObjectPS"],u.DEBUG_ENABLED=!1},"./core/resource/Tw2TextureRes.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tw2TextureRes",(function(){return a}));var n=r("./core/resource/Tw2Resource.js"),i=r("./core/Tw2Error.js"),s=r("./global/index.js");class a extends n.Tw2Resource{constructor(...e){super(...e),this.texture=null,this.isCube=!1,this.width=0,this.height=0,this.hasMipMaps=!1,this._currentSampler=0,this._isAttached=!1,this._extension=""}Prepare(e){var t=s.device.gl,r="ccpGLFormat"in e?e.ccpGLFormat:t.RGBA;switch(this._extension){case"cube":this.texture=t.createTexture(),t.bindTexture(t.TEXTURE_CUBE_MAP,this.texture);var n=document.createElement("canvas");n.width=n.height=e.height;for(var o=n.getContext("2d"),u=0;u<6;++u)o.drawImage(e,u*n.width,0,n.width,n.height,0,0,n.width,n.height),t.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+u,0,r,r,t.UNSIGNED_BYTE,n);t.generateMipmap(t.TEXTURE_CUBE_MAP),t.bindTexture(t.TEXTURE_CUBE_MAP,null),this.width=n.width,this.height=n.height,this.hasMipMaps=!0;break;case"png":this.texture=t.createTexture(),t.bindTexture(t.TEXTURE_2D,this.texture),t.texImage2D(t.TEXTURE_2D,0,r,r,t.UNSIGNED_BYTE,e),this.hasMipMaps=a.IsPowerOfTwo(e.width)&&a.IsPowerOfTwo(e.height),this.hasMipMaps&&t.generateMipmap(t.TEXTURE_2D),t.bindTexture(t.TEXTURE_2D,null),this.width=e.width,this.height=e.height;break;case"dds":var c=s.device.GetExtension("compressed_texture_s3tc"),l=new Int32Array(e,0,s.DDS_HEADER_LENGTH_INT),h=l[s.DDS_HEADER_OFFSET_PF_FOURCC],d=l[s.DDS_HEADER_OFFSET_MAGIC]===s.DDS_MAGIC,f=(l[s.DDS_HEADER_OFFSET_CAPS2]&s.DDSCAPS2_CUBEMAP)===s.DDSCAPS2_CUBEMAP,m=l[s.DDS_HEADER_OFFSET_PF_FOURCC];if(!c)throw new i.ErrResourceFormat("Compressed textures not supported by your device");if(!d)throw new i.ErrResourceFormat("Invalid DDS, missing magic number");if(!h)throw new i.ErrResourceFormat("Invalid DDS, missing FourCC code");var v,p,_=l[s.DDS_HEADER_OFFSET_WIDTH],E=l[s.DDS_HEADER_OFFSET_HEIGHT],S=l[s.DDS_HEADER_OFFSET_SIZE]+4;switch(m){case s.FOURCC_DXT1:v=8,p=c.COMPRESSED_RGBA_S3TC_DXT1_EXT;break;case s.FOURCC_DXT3:v=16,p=c.COMPRESSED_RGBA_S3TC_DXT3_EXT;break;case s.FOURCC_DXT5:v=16,p=c.COMPRESSED_RGBA_S3TC_DXT5_EXT;break;default:var T=a.Int32ToFourCC(m);throw new i.ErrResourceFormat("Invalid DDS, ".concat(T," unsupported"))}if(this.hasMipMaps=!1,this.isCube=f,this.width=_,this.height=E,this.isCube)throw new i.ErrFeatureNotImplemented({feature:"DDS cube maps"});this.texture=t.createTexture(),t.bindTexture(t.TEXTURE_2D,this.texture);for(var g=0;g<1;++g){var R=Math.max(4,_)/4*Math.max(4,E)/4*v,b=new Uint8Array(e,S,R);t.compressedTexImage2D(t.TEXTURE_2D,g,p,_,E,0,b),S+=R,_*=.5,E*=.5}t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,t.LINEAR),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t.LINEAR),t.bindTexture(t.TEXTURE_2D,null);break;default:throw new i.ErrResourceFormat("Invalid format, ".concat(this._extension," unsupported"))}this._isAttached=!1,this.OnPrepared()}DoCustomLoad(e,t){switch(t){case"cube":this._extension=t,this.isCube=!0,e=e.substr(0,e.length-5)+".png";break;case"png":this._extension=t,this.isCube=!1;break;case"dds":return this._extension=t,s.resMan.Fetch(a.AddMipLevelSkipCount(e),"arraybuffer").then(e=>{this.OnLoaded(),s.resMan.Queue(this,e)}).catch(e=>{this.OnError(e)}),!0;default:throw new i.ErrResourceExtensionUnregistered({path:e,extension:t})}s.resMan.AddPendingLoad(e);var r=new Image;return r.crossOrigin="anonymous",r.onerror=()=>{s.resMan.RemovePendingLoad(e),this.OnError(new i.ErrHTTPRequest({path:e}))},r.onload=()=>{s.resMan.RemovePendingLoad(e),s.resMan.Queue(this,r),this.OnLoaded()},r.src=a.AddMipLevelSkipCount(e),!0}Unload(e){return this.texture&&(s.device.gl.deleteTexture(this.texture),this.texture=null),this._extension=null,this._isAttached=!1,this.OnUnloaded(e),!0}Attach(e){this.path="",this.texture=e,this._extension=null,this._isAttached=!0,this.OnLoaded({hide:!0,path:"attachment"}),this.OnPrepared({hide:!0,path:"attachment"})}Reload(e){if(!this._isAttached)return super.Reload(e)}Bind(e,t){var r=s.device,n=r.gl;this.KeepAlive();var i=e.samplerType;if(i===(this.isCube?n.TEXTURE_CUBE_MAP:n.TEXTURE_2D))if(this.texture)e.isVolume&&n.uniform1f(t,this.height/this.width),n.bindTexture(i,this.texture),e.hash!==this._currentSampler&&(e.Apply(r,this.hasMipMaps),this._currentSampler=e.hash);else{var a=i===n.TEXTURE_2D?r.GetFallbackTexture():r.GetFallbackCubeMap();n.bindTexture(i,a)}}static IsPowerOfTwo(e){return 0==(e&e-1)}static AddMipLevelSkipCount(e){var t=s.device;if(t.mipLevelSkipCount>0){var r=e.lastIndexOf(".");r>=0&&(e=e.substr(0,r-2)+"."+t.mipLevelSkipCount.toString()+e.substr(r))}return e}static Int32ToFourCC(e){return String.fromCharCode(255&e,e>>8&255,e>>16&255,e>>24&255)}static CreateImageFrom2DTexture(e,t=512,r=512,n=s.device.gl.RGBA){var i=s.device.gl,a=i.createFramebuffer();i.bindFramebuffer(i.FRAMEBUFFER,a),i.framebufferTexture2D(i.FRAMEBUFFER,i.COLOR_ATTACHMENT0,i.TEXTURE_2D,e,0);var o=new Uint8Array(t*r*4);i.readPixels(0,0,t,r,i.RGBA,i.UNSIGNED_BYTE,o),i.deleteFramebuffer(a);var u=document.createElement("canvas");u.width=t,u.height=r;var c=u.getContext("2d"),l=c.createImageData(t,r);l.data.set(o),c.putImageData(l,0,0);var h=new Image;return h.src=u.toDataURL(),h}}},"./core/resource/Tw2VideoRes.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tw2VideoRes",(function(){return a}));var n=r("./global/index.js"),i=r("./core/resource/Tw2Resource.js"),s=r("./core/Tw2Error.js");class a extends i.Tw2Resource{constructor(...e){super(...e),this.texture=null,this.video=null,this.width=0,this.height=0,this.cycle=!0,this.playOnLoad=!0,this._currentSampler=0,this._currentTime=-1,this._playable=!1,this._isPlaying=!1,this._onPlaying=null,this._onPause=null,this._onEnded=null}IsGood(){return this.KeepAlive(),super.IsGood()&&this.video&&this._playable}KeepAlive(){this.activeFrame=n.resMan.activeFrame}Play(e=!1,t=null){this.cycle=e,this._onEnded=t,this.video&&this._playable?(this.video.loop=this.cycle,this.video.play()):this.playOnLoad=!0}Pause(){this.video?this.video.pause():this.playOnLoad=!1}Prepare(e){var t=n.device.gl;switch(this._extension){case"mp4":case"webm":case"ogg":this.texture=t.createTexture(),t.bindTexture(t.TEXTURE_2D,this.texture),t.texImage2D(t.TEXTURE_2D,0,t.RGBA,t.RGBA,t.UNSIGNED_BYTE,this.video),t.bindTexture(t.TEXTURE_2D,null),this.width=this.video.width,this.height=this.video.height,this.video.loop=this.cycle,this.playOnLoad&&this.video.play();break;default:throw new s.ErrResourceExtensionUnregistered({path:this.path,extension:this._extension})}this.OnPrepared()}DoCustomLoad(e,t){switch(t){case"mp4":case"webm":case"ogg":this._extension=t;break;default:throw new s.ErrResourceExtensionUnregistered({path:e,extension:t})}return n.resMan.AddPendingLoad(e),this.video=document.createElement("video"),this.video.crossOrigin="anonymous",this.video.muted=!0,this.video.onerror=()=>{n.resMan.RemovePendingLoad(e),this.video=null,this.OnError(new s.ErrHTTPRequest({path:e}))},this.video.oncanplay=()=>{this._playable=!0,this.video.oncanplay=null,n.resMan.RemovePendingLoad(e),n.resMan.Queue(this,void 0,t),this.OnLoaded()},this.video.onended=()=>{this._isPlaying=!1,this._onEnded&&this._onEnded(this)},this.video.onpause=()=>{this._isPlaying=!1,this._onPause&&this._onPause(this)},this.video.onplaying=()=>{this._isPlaying=!0,this._onPlaying&&this._onPlaying(this)},this.video.src=e,!0}Unload(e){return this.texture&&(n.device.gl.deleteTexture(this.texture),this.texture=null),this._extension=null,this._isPlaying=!1,this._playable=!1,this.playOnLoad=!0,this.video=null,this.OnUnloaded(e),!0}Bind(e){var t=n.device,r=t.gl;this.KeepAlive();var i=e.samplerType;i===r.TEXTURE_2D&&(this.texture?(this._currentTime=this.video.currentTime,r.bindTexture(r.TEXTURE_2D,this.texture),r.texImage2D(r.TEXTURE_2D,0,r.RGBA,r.RGBA,r.UNSIGNED_BYTE,this.video),r.bindTexture(r.TEXTURE_2D,null),r.bindTexture(i,this.texture),e.hash!==this._currentSampler&&(e.Apply(t,!1),this._currentSampler=e.hash)):r.bindTexture(r.TEXTURE_2D,t.GetFallbackTexture()))}}},"./core/resource/index.js":function(e,t,r){"use strict";r.r(t);var n=r("./core/resource/Tw2EffectRes.js");r.d(t,"Tw2EffectRes",(function(){return n.Tw2EffectRes}));var i=r("./core/resource/Tw2GeometryRes.js");r.d(t,"Tw2GeometryRes",(function(){return i.Tw2GeometryRes}));var s=r("./core/resource/Tw2LoadingObject.js");r.d(t,"Tw2LoadingObject",(function(){return s.Tw2LoadingObject}));var a=r("./core/resource/Tw2LodResource.js");r.d(t,"Tw2LodResource",(function(){return a.Tw2LodResource}));var o=r("./core/resource/Tw2Resource.js");r.d(t,"Tw2Resource",(function(){return o.Tw2Resource}));var u=r("./core/resource/Tw2Shader.js");r.d(t,"Tw2Shader",(function(){return u.Tw2Shader}));var c=r("./core/resource/Tw2TextureRes.js");r.d(t,"Tw2TextureRes",(function(){return c.Tw2TextureRes}));var l=r("./core/resource/Tw2VideoRes.js");r.d(t,"Tw2VideoRes",(function(){return l.Tw2VideoRes}))},"./core/resource/shaderOverrides.json":function(e){e.exports=JSON.parse('{"blinkinglightspool":{"r0.xy=r0.xx*c[0+a0.x].xy;":"if(a0.x==0){r0.xy=r0.xx*c[0].xy;}else if(a0.x==1){r0.xy=r0.xx*c[1].xy;}else if(a0.x==2){r0.xy=r0.xx*c[2].xy;}else if(a0.x==3){r0.xy=r0.xx*c[3].xy;}else if(a0.x==4){r0.xy=r0.xx*c[4].xy;}","texcoord=r3.zzww*c[0+a0.x].zwzz;":"if(a0.x==0){texcoord=r3.zzww*c[0].zwzz;}else if(a0.x==1){texcoord=r3.zzww*c[1].zwzz;}else if(a0.x==2){texcoord=r3.zzww*c[2].zwzz;}else if(a0.x==3){texcoord=r3.zzww*c[3].zwzz;}else if(a0.x==4){texcoord=r3.zzww*c[4].zwzz;}"},"boostervolumetric":{"for(int i=0;i<i0.x;++i){":"for(int i=0;i<12;++i){"},"fxarmorimpactv5":{"for(int i=0;i<i0.x;++i){":"for(int i=0;i<255;++i){"},"flarequad":{"r1.xyz=r0.zzw*c[0+a0.x].xyx;":"if(a0.x==0){r1.xyz=r0.zzw*c[0].xyx;}else if(a0.x==1){r1.xyz=r0.zzw*c[1].xyx;}else if(a0.x==2){r1.xyz=r0.zzw*c[2].xyx;}else if (a0.x==3){r1.xyz=r0.zzw*c[3].xyx;}else if(a0.x==4){r1.xyz=r0.zzw*c[4].xyx;}else if(a0.x==5){r1.xyz=r0.zzw*c[5].xyx;}","texcoord.xyw=r0.zzw*c[0+a0.x].zwz;":"if(a0.x==0){texcoord.xyw=r0.zzw*c[0].zwz;}else if(a0.x==1){texcoord.xyw=r0.zzw*c[1].zwz;}else if(a0.x==2){texcoord.xyw=r0.zzw*c[2].zwz;}else if(a0.x==3){texcoord.xyw=r0.zzw*c[3].zwz;}else if(a0.x==4){texcoord.xyw=r0.zzw*c[4].zwz;}else if(a0.x==5){texcoord.xyw=r0.zzw*c[5].zwz;}","r0.x=saturate(sqrt(abs(r0.x)));":"r0.x=clamp(sqrt(abs(r0.x)),0.0,1.0);"}}')},"./core/sampler/Tw2SamplerOverride.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tw2SamplerOverride",(function(){return i}));var n=r("./core/sampler/Tw2SamplerState.js");class i{constructor(){this.name="",this.addressU=0,this.addressV=0,this.addressW=0,this.filter=0,this.mipFilter=0,this.lodBias=0,this.maxMipLevel=0,this.maxAnisotropy=0,this.forceAddressModes=!1,this._sampler=null}GetSampler(e,t){if(this._sampler)return this._sampler;this._sampler=new n.Tw2SamplerState;var r=this._sampler;r.registerIndex=t.registerIndex,r.name=t.name,r.forceAddressModes=this.forceAddressModes;var{wrapModes:i,gl:s}=e;if(1===this.filter){switch(this.mipFilter){case 0:r.minFilter=s.NEAREST;break;case 1:r.minFilter=s.NEAREST_MIPMAP_NEAREST;break;default:r.minFilter=s.NEAREST_MIPMAP_LINEAR}r.minFilterNoMips=s.NEAREST,r.magFilter=s.NEAREST}else{switch(this.mipFilter){case 0:r.minFilter=s.LINEAR;break;case 1:r.minFilter=s.LINEAR_MIPMAP_NEAREST;break;default:r.minFilter=s.LINEAR_MIPMAP_LINEAR}r.minFilterNoMips=s.LINEAR,r.magFilter=s.LINEAR}return 3!==this.filter&&3!==this.mipFilter||(r.anisotropy=Math.max(this.maxAnisotropy,1)),r.addressU=i[this.addressU],r.addressV=i[this.addressV],r.addressW=i[this.addressW],r.samplerType=t.samplerType,r.isVolume=t.isVolume,r.ComputeHash(),r}}},"./core/sampler/Tw2SamplerState.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tw2SamplerState",(function(){return i}));var n=r("./global/index.js");class i{constructor(){this.name="",this.registerIndex=0,this.minFilter=n.GL_LINEAR,this.maxFilter=n.GL_LINEAR,this.magFilter=n.GL_LINEAR,this.minFilterNoMips=n.GL_LINEAR,this.addressU=n.GL_REPEAT,this.addressV=n.GL_REPEAT,this.addressW=n.GL_REPEAT,this.anisotropy=1,this.samplerType=n.GL_TEXTURE_2D,this.isVolume=!1,this.hash=0,this.forceAddressModes=!1,this._borderColor=null,this._comparison=null,this._comparisonFunc=null,this._mipLODBias=null,this._minLOD=null,this._maxLOD=null}get filterMode(){return this.minFilterNoMips in n.FilterMode?n.FilterMode[this.minFilterNoMips]:2}get mipFilterMode(){return this.minFilter in n.MipFilterMode?n.MipFilterMode[this.minFilter]:2}ComputeHash(){this.hash=2166136261,this.hash*=16777619,this.hash^=this.minFilter,this.hash*=16777619,this.hash^=this.maxFilter,this.hash*=16777619,this.hash^=this.addressU,this.hash*=16777619,this.hash^=this.addressV,this.hash*=16777619,this.hash^=this.anisotropy,this.hash+=this.forceAddressModes?1:0}Apply(e,t){var r=this.samplerType,n=e.gl,i=e.GetExtension("EXT_texture_filter_anisotropic"),s=t||this.forceAddressModes;n.texParameteri(r,n.TEXTURE_WRAP_S,s?this.addressU:n.CLAMP_TO_EDGE),n.texParameteri(r,n.TEXTURE_WRAP_T,s?this.addressV:n.CLAMP_TO_EDGE),n.texParameteri(r,n.TEXTURE_MIN_FILTER,t?this.minFilter:this.minFilterNoMips),n.texParameteri(r,n.TEXTURE_MAG_FILTER,this.magFilter),i&&e.enableAnisotropicFiltering&&n.texParameterf(r,i.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(this.anisotropy,i.maxAnisotropy))}}},"./core/sampler/index.js":function(e,t,r){"use strict";r.r(t);var n=r("./core/sampler/Tw2SamplerState.js");r.d(t,"Tw2SamplerState",(function(){return n.Tw2SamplerState}));var i=r("./core/sampler/Tw2SamplerOverride.js");r.d(t,"Tw2SamplerOverride",(function(){return i.Tw2SamplerOverride}))},"./core/value/TriMatrix.js":function(e,t,r){"use strict";r.r(t),r.d(t,"TriMatrix",(function(){return i}));var n=r("./global/index.js");class i extends n.Tw2BaseClass{constructor(...e){super(...e),this._11=0,this._12=0,this._13=0,this._14=0,this._21=0,this._22=0,this._23=0,this._24=0,this._31=0,this._32=0,this._33=0,this._34=0,this._41=0,this._42=0,this._43=0,this._44=0}static black(e){return[["_11",e.float],["_12",e.float],["_13",e.float],["_14",e.float],["_21",e.float],["_22",e.float],["_23",e.float],["_24",e.float],["_31",e.float],["_32",e.float],["_33",e.float],["_34",e.float],["_41",e.float],["_42",e.float],["_43",e.float],["_44",e.float]]}}},"./core/value/Tw2Float.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tw2Float",(function(){return i}));var n=r("./global/index.js");class i extends n.Tw2BaseClass{constructor(...e){super(...e),this.value=0}static black(e){return[["value",e.float]]}}},"./core/value/index.js":function(e,t,r){"use strict";r.r(t);var n=r("./core/value/Tw2Float.js");r.d(t,"Tw2Float",(function(){return n.Tw2Float}));var i=r("./core/value/TriMatrix.js");r.d(t,"TriMatrix",(function(){return i.TriMatrix}))},"./core/vertex/Tw2VertexDeclaration.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tw2VertexDeclaration",(function(){return i}));var n=r("./core/vertex/Tw2VertexElement.js");class i{constructor(){this.elements=[],this.elementsSorted=[],this.stride=null}Clear(){this.elements.splice(0,this.elements.length),this.RebuildHash()}SetStride(e){return this.stride=e,this}RebuildHash(){this.elementsSorted.splice(0,this.elementsSorted.length);for(var e=0;e<this.elements.length;++e)this.elementsSorted.push(this.elements[e]);this.elementsSorted.sort(i.CompareDeclarationElements)}FindUsage(e,t){for(var r=0;r<this.elementsSorted.length;++r){var n=this.elementsSorted[r];if(n.usage===e){if(n.usageIndex===t)return n;if(n.usageIndex>t)return null}if(n.usage>e)return null}return null}SetDeclaration(e,t,r){for(var n=e.gl,s=0,a=0;a<t.elementsSorted.length;++a){var o=t.elementsSorted[a];if(!(o.location<0))for(;;){if(s>=this.elementsSorted.length){n.disableVertexAttribArray(o.location),n.vertexAttrib4f(o.location,0,0,0,0);break}var u=this.elementsSorted[s],c=i.CompareDeclarationElements(u,o);if(c>0){n.disableVertexAttribArray(o.location),n.vertexAttrib4f(o.location,0,0,0,0);break}if(0===c){u.customSetter?u.customSetter(o):(n.enableVertexAttribArray(o.location),n.vertexAttribPointer(o.location,u.elements,u.type,!1,r,u.offset));break}s++}}return!0}SetPartialDeclaration(e,t,r,n,s){for(var a=e.gl,o=[],u=0,c=0;c<t.elementsSorted.length;++c){var l=t.elementsSorted[c];if(!(l.location<0))for(;;){var h=this.elementsSorted[u],d=i.CompareDeclarationElements(h,l,n);if(0===d){h.customSetter?h.customSetter(l):(a.enableVertexAttribArray(l.location),a.vertexAttribPointer(l.location,h.elements,h.type,!1,r,h.offset),a.vertexAttribDivisor(l.location,s),s&&o.push(l.location));break}if(d>0){s||(a.disableVertexAttribArray(l.location),a.vertexAttrib4f(l.location,0,0,0,0));break}if(++u>=this.elementsSorted.length)return s||(a.disableVertexAttribArray(l.location),a.vertexAttrib4f(l.location,0,0,0,0)),o}}return o}ResetInstanceDivisors(e,t){if(t)for(var r=0;r<t.length;++r)e.gl.vertexAttribDivisor(t[r],0)}static CompareDeclarationElements(e,t,r=0){return e.usage<t.usage?-1:e.usage>t.usage?1:e.usageIndex+r<t.usageIndex?-1:e.usageIndex+r>t.usageIndex?1:0}static from(e,t){var r=new i;if(e){for(var s=0,a=0;a<e.length;a++)e[a].offset=s,r.elements.push(n.Tw2VertexElement.from(e[a])),s+=4*e[a].elements;t&&t.skipUpdate||r.RebuildHash()}return r}}},"./core/vertex/Tw2VertexElement.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tw2VertexElement",(function(){return i}));var n=r("./global/index.js");class i{constructor(){this.customSetter=null,this.elements=null,this.location=null,this.offset=0,this.type=null,this.usage=-1,this.usageIndex=null,this._registerIndex=null,this._usedMask=null,this._attr=null}get string(){return i.TypeMap[this.usage]||"UNKNOWN"}static from(e){var t=new i;if(e){var{usage:r,usageIndex:s}=e;t.usage="string"==typeof r?this.Type[r.toUpperCase()]:r,t.usageIndex=s;var{elements:a=null,type:o=n.GL_FLOAT,offset:u=0,location:c=null,customSetter:l=null}=e;t.offset=u,t.elements=a,t.type=o,t.location=c,t.customSetter=l;var{registerIndex:h=null,usedMask:d=null,attr:f=null}=e;t._registerIndex=h,t._usedMask=d,t._attr=f}return t}}i.Type={POSITION:0,COLOR:1,NORMAL:2,TANGENT:3,BINORMAL:4,TEXCOORD:5,BLENDWEIGHT:6,BLENDINDICES:7},i.TypeMap=["POSITION","COLOR","NORMAL","TANGENT","BINORMAL","TEXCOORD","BLENDWEIGHT","BLENDINDICES"]},"./core/vertex/index.js":function(e,t,r){"use strict";r.r(t);var n=r("./core/vertex/Tw2VertexDeclaration.js");r.d(t,"Tw2VertexDeclaration",(function(){return n.Tw2VertexDeclaration}));var i=r("./core/vertex/Tw2VertexElement.js");r.d(t,"Tw2VertexElement",(function(){return i.Tw2VertexElement}))},"./curve/Tw2CurveSet.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tw2CurveSet",(function(){return i}));var n=r("./global/index.js");class i extends n.Tw2BaseClass{constructor(...e){super(...e),this.name="",this.bindings=[],this.curves=[],this.playOnLoad=!0,this.ranges=[],this.scale=1,this.useSimTimeRebase=!1,this.scaledTime=0,this._isPlaying=!1}Initialize(){this.playOnLoad&&this.Play()}Play(){this._isPlaying=!0,this.scaledTime=0}PlayFrom(e=0){this._isPlaying=!0,this.scaledTime=e*this.scale}Stop(){this._isPlaying=!1}Update(e){if(this._isPlaying){this.scaledTime+=e*this.scale;for(var t=0;t<this.curves.length;++t)this.curves[t].UpdateValue(this.scaledTime);for(var r=0;r<this.bindings.length;++r)this.bindings[r].CopyValue()}}GetRangeByName(e){for(var t=0;t<this.ranges.length;t++)if(this.ranges[t].name===e)return this.ranges[t];return null}GetMaxCurveDuration(){for(var e=0,t=0;t<this.curves.length;++t)"GetLength"in this.curves[t]&&(e=Math.max(e,this.curves[t].GetLength()));return e}static black(e){return[["bindings",e.array],["curves",e.array],["name",e.string],["playOnLoad",e.boolean],["ranges",e.array],["scale",e.float],["useSimTimeRebase",e.boolean]]}}},"./curve/Tw2CurveSetRange.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tw2CurveSetRange",(function(){return i}));var n=r("./global/index.js");class i extends n.Tw2BaseClass{constructor(...e){super(...e),this.name="",this.endTime=0,this.looped=!1,this.startTime=0}static black(e){return[["endTime",e.float],["looped",e.boolean],["name",e.string],["startTime",e.float]]}}i.__isStaging=4},"./curve/Tw2ValueBinding.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tw2ValueBinding",(function(){return o}));var n=r("./global/index.js"),i=r("./core/parameter/index.js"),s=r("./global/util/index.js"),a=r("./core/Tw2Error.js");class o extends n.Tw2BaseClass{constructor(...e){super(...e),this.name="",this.destinationAttribute="",this.destinationObject=null,this.offset=n.vec4.create(),this.scale=1,this.sourceAttribute="",this.sourceObject=null,this._copyFunc=null,this._destinationElement=null,this._destinationIsArray=null,this._destinationIsRGBA=null,this._sourceElement=null,this._sourceIsArray=null,this._sourceIsRGBA=null}Initialize(){this.UpdateValues()}OnValueChanged(){if(null===this._copyFunc&&this.sourceObject&&""!==this.sourceAttribute&&this.destinationObject&&""!==this.destinationAttribute){var e=!1,t=!1,r=this.sourceAttribute.substr(-2);".x"===r||".r"===r?(e=!0,this._sourceElement=0,this.sourceAttribute=this.sourceAttribute.substr(0,this.sourceAttribute.length-2),this._sourceIsRGBA=".r"===r):".y"===r||".g"===r?(e=!0,this._sourceElement=1,this.sourceAttribute=this.sourceAttribute.substr(0,this.sourceAttribute.length-2),this._sourceIsRGBA=".g"===r):".z"===r||".b"===r?(e=!0,this._sourceElement=2,this.sourceAttribute=this.sourceAttribute.substr(0,this.sourceAttribute.length-2),this._sourceIsRGBA=".b"===r):".w"===r||".a"===r?(e=!0,this._sourceElement=3,this.sourceAttribute=this.sourceAttribute.substr(0,this.sourceAttribute.length-2),this._sourceIsRGBA=".a"===r):this.sourceObject instanceof i.Tw2Vector4Parameter&&("v1"===this.sourceAttribute?(e=!0,this._sourceElement=0,this.sourceAttribute="value"):"v2"===this.sourceAttribute?(e=!0,this._sourceElement=1,this.sourceAttribute="value"):"v3"===this.sourceAttribute?(e=!0,this._sourceElement=2,this.sourceAttribute="value"):"v4"===this.sourceAttribute&&(e=!0,this._sourceElement=3,this.sourceAttribute="value"));var n=this.destinationAttribute.substr(-2);".x"===n||".r"===n?(t=!0,this._destinationElement=0,this.destinationAttribute=this.destinationAttribute.substr(0,this.destinationAttribute.length-2),this._destinationIsRGBA=".r"===n):".y"===n||".g"===n?(t=!0,this._destinationElement=1,this.destinationAttribute=this.destinationAttribute.substr(0,this.destinationAttribute.length-2),this._destinationIsRGBA=".g"===n):".z"===n||".b"===n?(t=!0,this._destinationElement=2,this.destinationAttribute=this.destinationAttribute.substr(0,this.destinationAttribute.length-2),this._destinationIsRGBA=".b"===n):".w"===n||".a"===n?(t=!0,this._destinationElement=3,this.destinationAttribute=this.destinationAttribute.substr(0,this.destinationAttribute.length-2),this._destinationIsRGBA=".a"===n):this.destinationObject instanceof i.Tw2Vector4Parameter&&("v1"===this.destinationAttribute?(t=!0,this._destinationElement=0,this.destinationAttribute="value"):"v2"===this.destinationAttribute?(t=!0,this._destinationElement=1,this.destinationAttribute="value"):"v3"===this.destinationAttribute?(t=!0,this._destinationElement=2,this.destinationAttribute="value"):"v4"===this.destinationAttribute&&(t=!0,this._destinationElement=3,this.destinationAttribute="value"));var u=this.sourceObject[this.sourceAttribute],c=this.destinationObject[this.destinationAttribute];if(void 0===u)throw new a.ErrBindingValueUndefined({name:this.name,object:"source",property:this.sourceAttribute});if(void 0===c)throw new a.ErrBindingValueUndefined({name:this.name,object:"destination",property:this.destinationAttribute});var l,h=this._sourceIsArray=Object(s.isArrayLike)(u),d=this._destinationIsArray=Object(s.isArrayLike)(c),f=o;if(h===d&&typeof u==typeof c?h?e?l=t?f.CopyElementToElement:f.ReplicateElement:u.length<=c.length?l=f.CopyArray:16===u.length&&(l=f.ExtractPos):l=f.CopyValueToValue:h&&e&&Object(s.isNumber)(c)?l=f.CopyElementToValue:d&&Object(s.isNumber)(u)?l=t?f.CopyValueToElement:f.ReplicateValue:Object(s.isNumber)(u)&&Object(s.isBoolean)(c)?l=f.CopyFloatToBoolean:Object(s.isBoolean)(u)&&Object(s.isNumber)(c)&&(l=f.CopyBooleanToFloat),!l)throw new a.ErrBindingType({name:this.name});this._copyFunc=l}}CopyValue(e=this){this._copyFunc&&(this._copyFunc(this),"UpdateValues"in this.destinationObject?this.destinationObject.UpdateValues({controller:e}):"OnValueChanged"in this.destinationObject&&this.destinationObject.OnValueChanged({controller:e}))}GetDestinationTarget(){return this._copyFunc?this.constructor.GetAttribute(this.destinationObject,this.destinationAttribute,this._destinationElement,this._destinationIsRGBA):this.destinationAttribute}GetSourceTarget(){return this._copyFunc?this.constructor.GetAttribute(this.sourceObject,this.sourceAttribute,this._sourceElement,this._sourceIsRGBA):this.sourceAttribute}SetSource(e,t,r,n){var{object:i,attribute:s}=this.constructor.GetTargets(e,t,r,n);this.sourceObject=i,this.sourceAttribute=s,this._copyFunc=null}SetDestination(e,t,r,n){var{object:i,attribute:s}=this.constructor.GetTargets(e,t,r,n);this.destinationObject=i,this.destinationAttribute=s,this._copyFunc=null}static GetAttribute(e,t,r,n){if(e instanceof i.Tw2Vector4Parameter&&"value"===t)switch(r){case 0:return"v0";case 1:return"v1";case 2:return"v2";case 3:return"v4";default:return t}switch(r){case 0:return t+n?".r":".x";case 1:return t+n?".g":".y";case 2:return t+n?".b":".z";case 3:return t+n?".a":".w";default:return t}}static GetTargets(e,t,r,n){if(void 0!==r&&void 0===n&&(n=t.toUpperCase().includes("COLOR")),e instanceof i.Tw2Vector4Parameter&&"value"===t)switch(r){case 0:t="v0";break;case 1:t="v1";break;case 2:t="v2";break;case 3:t="v3"}else switch(r){case 0:t+=n?".r":".x";break;case 1:t+=n?".g":".y";break;case 2:t+=n?".b":".z";break;case 3:t+=n?".a":".w"}return{object:e,attribute:t}}static CopyValueToValue(e){e.destinationObject[e.destinationAttribute]=e.sourceObject[e.sourceAttribute]*e.scale+e.offset[0]}static CopyArray(e){for(var t=Math.min(e.destinationObject[e.destinationAttribute].length,e.sourceObject[e.sourceAttribute].length),r=0;r<t;++r)e.destinationObject[e.destinationAttribute][r]=e.sourceObject[e.sourceAttribute][r]*e.scale+e.offset[r]}static CopyElementToElement(e){e.destinationObject[e.destinationAttribute][e._destinationElement]=e.sourceObject[e.sourceAttribute][e._sourceElement]*e.scale+e.offset[0]}static ReplicateValue(e){for(var t=0;t<e.destinationObject[e.destinationAttribute].length;++t)e.destinationObject[e.destinationAttribute][t]=e.sourceObject[e.sourceAttribute]*e.scale+e.offset[t]}static ReplicateElement(e){for(var t=0;t<e.destinationObject[e.destinationAttribute].length;++t)e.destinationObject[e.destinationAttribute][t]=e.sourceObject[e.sourceAttribute][e._sourceElement]*e.scale+e.offset[t]}static ExtractPos(e){for(var t=0;t<e.destinationObject[e.destinationAttribute].length;++t)e.destinationObject[e.destinationAttribute][t]=e.sourceObject[e.sourceAttribute][t+12]*e.scale+e.offset[t]}static CopyElementToValue(e){e.destinationObject[e.destinationAttribute]=e.sourceObject[e.sourceAttribute][e._sourceElement]*e.scale+e.offset[0]}static CopyValueToElement(e){e.destinationObject[e.destinationAttribute][e._destinationElement]=e.sourceObject[e.sourceAttribute]*e.scale+e.offset[0]}static CopyFloatToBoolean(e){e.destinationObject[e.destinationAttribute]=0!==e.sourceObject[e.sourceAttribute]}static CopyBooleanToFloat(e){e.destinationObject[e.destinationAttribute]=e.sourceObject[e.sourceAttribute]?1:0}static black(e){return[["destinationObject",e.object],["destinationAttribute",e.string],["name",e.string],["offset",e.vector4],["scale",e.float],["sourceObject",e.object],["sourceAttribute",e.string]]}}},"./curve/adapter/Tr2RotationAdapter.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tr2RotationAdapter",(function(){return s}));var n=r("./curve/adapter/Tw2CurveAdapter.js"),i=r("./global/index.js");class s extends n.Tw2CurveAdapter{constructor(...e){super(...e),this.value=i.vec4.create()}GetValueAt(e,t){return this.curve&&this.curve.GetValueAt(e,this.value),i.vec4.copy(t,this.value)}static black(e){return[["curve",e.object],["value",e.vector4]]}}s.outputDimension=4,s.__isStaging=4},"./curve/adapter/Tr2TranslationAdapter.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tr2TranslationAdapter",(function(){return s}));var n=r("./global/index.js"),i=r("./curve/adapter/Tw2CurveAdapter.js");class s extends i.Tw2CurveAdapter{constructor(...e){super(...e),this.value=n.vec3.create()}GetValueAt(e,t){this.curve&&this.curve.GetValueAt(e,this.value),n.vec3.copy(t,this.value)}static black(e){return[["curve",e.object],["value",e.vector3]]}}s.outputDimension=3,s.__isStaging=4},"./curve/adapter/Tw2CurveAdapter.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tw2CurveAdapter",(function(){return i}));var n=r("./curve/curve/Tw2Curve.js");class i extends n.Tw2Curve{constructor(...e){super(...e),this.name="",this.curve=null,this.value=null}Sort(){this.curve&&this.curve.Sort()}UpdateValue(e){this.GetValueAt(e,this.value)}}i.valueProperty="value",i.curveType=n.Tw2Curve.Type.ADAPTER},"./curve/adapter/index.js":function(e,t,r){"use strict";r.r(t);var n=r("./curve/adapter/Tr2RotationAdapter.js");r.d(t,"Tr2RotationAdapter",(function(){return n.Tr2RotationAdapter}));var i=r("./curve/adapter/Tr2TranslationAdapter.js");r.d(t,"Tr2TranslationAdapter",(function(){return i.Tr2TranslationAdapter}));var s=r("./curve/adapter/Tw2CurveAdapter.js");r.d(t,"Tw2CurveAdapter",(function(){return s.Tw2CurveAdapter}))},"./curve/curve/AudEventCurve.js":function(e,t,r){"use strict";r.r(t),r.d(t,"AudEventKey",(function(){return i})),r.d(t,"AudEventCurve",(function(){return s}));var n=r("./curve/curve/Tw2Curve.js");class i extends n.Tw2CurveKey{constructor(...e){super(...e),this.time=0,this.value=0}static black(e){return[["time",e.float],["value",e.ushort]]}}class s extends n.Tw2Curve{constructor(...e){super(...e),this.keys=[],this.sourceTriObserver=null}static black(e){return[["name",e.string],["keys",e.array],["sourceTriObserver, r.object"]]}}s.__isStaging=4},"./curve/curve/Tr2BoneMatrixCurve.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tr2BoneMatrixCurve",(function(){return i}));var n=r("./curve/curve/Tw2Curve.js");class i extends n.Tw2Curve{static black(e){return[["name",e.string]]}}i.__isStaging=4},"./curve/curve/Tr2CurveScalar.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tw2CurveScalarKey",(function(){return i})),r.d(t,"Tr2CurveScalar",(function(){return s}));var n=r("./curve/curve/Tw2Curve.js");class i extends n.Tw2CurveKey{constructor(...e){super(...e),this.endTangent=0,this.extrapolation=0,this.index=0,this.interpolation=1,this.startTangent=0,this.value=0}static blackStruct(e){var t=new this;return t.time=e.ReadF32(),t.value=e.ReadF32(),t.startTangent=e.ReadF32(),t.endTangent=e.ReadF32(),t.index=e.ReadU16(),t.interpolation=e.ReadU8(),t.extrapolation=e.ReadU8(),t}}class s extends n.Tw2Curve{constructor(...e){super(...e),this.extrapolationAfter=0,this.extrapolationBefore=0,this.keys=[],this.timeOffset=0,this.timeScale=0,this.currentValue=0,this._length=0}Sort(){this._length=n.Tw2Curve.Sort3(this.keys)}GetLength(){return this._length}static black(e){return[["name",e.string],["timeOffset",e.float],["timeScale",e.float],["extrapolationAfter",e.uint],["extrapolationBefore",e.uint],["keys",e.structList(i)]]}}s.inputDimension=1,s.outputDimension=1,s.valueProperty="currentValue",s.curveType=n.Tw2Curve.Type.CURVE3,s.Key=i,s.Interpolation={},s.Extrapolation={},s.__isStaging=4},"./curve/curve/Tr2ScalarExprKeyCurve.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tr2ScalarExprKey",(function(){return i})),r.d(t,"Tr2ScalarExprKeyCurve",(function(){return s}));var n=r("./curve/curve/Tw2Curve.js");class i extends n.Tw2CurveKey{constructor(...e){super(...e),this.input1=-1,this.input2=-1,this.input3=-1,this.interpolation=0,this.left=0,this.right=0,this.time=0,this.timeExpression="",this.value=0}static black(e){return[["input1",e.float],["input2",e.float],["input3",e.float],["interpolation",e.uint],["left",e.float],["right",e.float],["time",e.float],["timeExpression",e.string],["value",e.float]]}}i.__isStaging=4;class s extends n.Tw2Curve{constructor(...e){super(...e),this.interpolation=0,this.keys=[]}static black(e){return[["interpolation",e.uint],["keys",e.array],["name",e.string]]}}s.__isStaging=4},"./curve/curve/Tw2Curve.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tw2CurveKey",(function(){return m})),r.d(t,"Tw2Curve",(function(){return v}));var n,i,s,a,o,u,c,l,h,d=r("./global/index.js");function f(e,t,r,n,i){var s={};return Object.keys(n).forEach((function(e){s[e]=n[e]})),s.enumerable=!!s.enumerable,s.configurable=!!s.configurable,("value"in s||s.initializer)&&(s.writable=!0),s=r.slice().reverse().reduce((function(r,n){return n(e,t,r)||r}),s),i&&void 0!==s.initializer&&(s.value=s.initializer?s.initializer.call(i):void 0,s.initializer=void 0),void 0===s.initializer&&(Object.defineProperty(e,t,s),s=null),s}var m=(0,d.meta.abstract)(n=class extends d.Tw2BaseClass{constructor(...e){super(...e),this.name="",this.time=0}})||n,v=(i=d.meta.abstract,s=d.meta.abstract,a=d.meta.abstract,o=d.meta.abstract,i((h=l=class e extends d.Tw2BaseClass{constructor(...e){super(...e),this.name=""}Initialize(){this.Sort()}Sort(){}GetLength(){}UpdateValue(e){}static Compare(e,t){return e.time<t.time?-1:e.time>t.time?1:0}static Sort(t,r=t.keys){r&&r.length&&(r.sort(e.Compare),t.length=r[r.length-1].time)}static Sort2(t){if(t.keys&&t.keys.length){t.keys.sort(e.Compare);var r=t.keys[t.keys.length-1];if(r.time>t.length){var n=t.length,i=t.endValue,s=t.endTangent;t.length=r.time,t.endValue=r.value,t.endTangent=r.leftTangent,n>0&&(r.time=n,r.value=i,r.leftTangent=s)}}}static Sort3(e){e.sort((e,t)=>e.index<t.index?-1:e.index>t.index?1:0);for(var t=0,r=0;r<e.length;r++)e[r].index=r,r===e.length-1&&(t=e[r].time);return t}},l.inputDimension=null,l.outputDimension=null,l.valueProperty=null,l.curveType=null,l.Key=null,l.Interpolation=null,l.Extrapolation=null,l.Type={CURVE:1,CURVE2:2,CURVE3:3,CURVE_MAYA:4,CURVE_NO_KEYS:5,SEQUENCER:100,SEQUENCER2:101,EXPRESSION:200,ADAPTER:300},l.global={vec3_0:d.vec3.create(),vec4_0:d.vec4.create(),quat_0:d.quat.create(),quat_1:d.quat.create()},f((c=h).prototype,"Sort",[s],Object.getOwnPropertyDescriptor(c.prototype,"Sort"),c.prototype),f(c.prototype,"GetLength",[a],Object.getOwnPropertyDescriptor(c.prototype,"GetLength"),c.prototype),f(c.prototype,"UpdateValue",[o],Object.getOwnPropertyDescriptor(c.prototype,"UpdateValue"),c.prototype),u=c))||u)},"./curve/curve/Tw2CurveConstant.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tw2CurveConstant",(function(){return s}));var n=r("./global/index.js"),i=r("./curve/curve/Tw2Curve.js");class s extends i.Tw2Curve{constructor(...e){super(...e),this.value=n.vec4.create()}Sort(){}GetLength(){return 0}UpdateValue(e,t){n.vec4.copy(t,this.value)}static black(e){return[["name",e.string],["value",e.vector4]]}}s.inputDimension=4,s.outputDimension=4,s.valueProperty="value",s.curveType=i.Tw2Curve.Type.CURVE_NO_KEYS,s.__isStaging=4},"./curve/curve/Tw2EventCurve.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tw2EventKey",(function(){return i})),r.d(t,"Tw2EventCurve",(function(){return s}));var n=r("./curve/curve/Tw2Curve.js");class i extends n.Tw2CurveKey{constructor(...e){super(...e),this.value=0}static black(e){return[["time",e.float],["value",e.ushort]]}}class s extends n.Tw2Curve{constructor(...e){super(...e),this.extrapolation=0,this.keys=[],this.value=0,this._time=0,this._currentKey=0,this._length=0}Sort(){this.keys.length&&(this.keys.sort(n.Tw2Curve.Compare),this._length=this.keys[this.keys.length-1].time)}GetLength(){return this._length}UpdateValue(e){if(this._length<=0)return this.value;var t=this._time;if(this._time=e,this._time<t&&(this._currentKey=0),this.extrapolation===s.Extrapolation.CYCLE){var r=this._time%this._length;r<t&&(this._currentKey=0),this._time=r}for(;this._currentKey<this.keys.length&&this._time>=this.keys[this._currentKey].time;)this.value=this.keys[this._currentKey].value,++this._currentKey}static black(e){return[["extrapolation",e.uint],["name",e.string],["keys",e.array],["value",e.ushort]]}}s.dimension=1,s.outputDimension=1,s.valueProperty="value",s.curveType=n.Tw2Curve.Type.CURVE,s.Key=i,s.Extrapolation={NONE:0,CYCLE:3}},"./curve/curve/Tw2PerlinCurve.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tw2PerlinCurve",(function(){return s}));var n=r("./curve/curve/Tw2Curve.js"),i=r("./global/math/index.js");class s extends n.Tw2Curve{constructor(...e){super(...e),this.N=0,this.alpha=0,this.beta=0,this.offset=0,this.scale=0,this.speed=0,this.value=0}Sort(){}GetLength(){return 0}UpdateValue(e){this.value=this.GetValueAt(e)}GetValueAt(e){return e-=this.offset,(i.noise.perlin1D(e*this.speed,this.alpha,this.beta,this.N)+1)/2*this.scale+this.offset}static black(e){return[["alpha",e.float],["beta",e.float],["N",e.uint],["name",e.string],["offset",e.float],["scale",e.float],["speed",e.float],["value",e.float]]}}s.outputDimension=1,s.valueProperty="value",s.curveType=n.Tw2Curve.Type.CURVE_NO_KEYS},"./curve/curve/index.js":function(e,t,r){"use strict";r.r(t);var n=r("./curve/curve/AudEventCurve.js");r.d(t,"AudEventKey",(function(){return n.AudEventKey})),r.d(t,"AudEventCurve",(function(){return n.AudEventCurve}));var i=r("./curve/curve/Tr2BoneMatrixCurve.js");r.d(t,"Tr2BoneMatrixCurve",(function(){return i.Tr2BoneMatrixCurve}));var s=r("./curve/curve/Tw2CurveConstant.js");r.d(t,"Tw2CurveConstant",(function(){return s.Tw2CurveConstant}));var a=r("./curve/curve/Tr2CurveScalar.js");r.d(t,"Tw2CurveScalarKey",(function(){return a.Tw2CurveScalarKey})),r.d(t,"Tr2CurveScalar",(function(){return a.Tr2CurveScalar}));var o=r("./curve/curve/Tr2ScalarExprKeyCurve.js");r.d(t,"Tr2ScalarExprKey",(function(){return o.Tr2ScalarExprKey})),r.d(t,"Tr2ScalarExprKeyCurve",(function(){return o.Tr2ScalarExprKeyCurve}));var u=r("./curve/curve/Tw2EventCurve.js");r.d(t,"Tw2EventKey",(function(){return u.Tw2EventKey})),r.d(t,"Tw2EventCurve",(function(){return u.Tw2EventCurve}));var c=r("./curve/curve/Tw2PerlinCurve.js");r.d(t,"Tw2PerlinCurve",(function(){return c.Tw2PerlinCurve}));var l=r("./curve/curve/Tw2Curve.js");r.d(t,"Tw2CurveKey",(function(){return l.Tw2CurveKey})),r.d(t,"Tw2Curve",(function(){return l.Tw2Curve}));var h=r("./curve/curve/legacy/index.js");r.d(t,"Tw2ColorKey",(function(){return h.Tw2ColorKey})),r.d(t,"Tw2ColorCurve",(function(){return h.Tw2ColorCurve})),r.d(t,"Tw2ColorKey2",(function(){return h.Tw2ColorKey2})),r.d(t,"Tw2ColorCurve2",(function(){return h.Tw2ColorCurve2})),r.d(t,"Tw2QuaternionKey2",(function(){return h.Tw2QuaternionKey2})),r.d(t,"Tw2QuaternionCurve",(function(){return h.Tw2QuaternionCurve})),r.d(t,"Tw2RandomConstantCurve",(function(){return h.Tw2RandomConstantCurve})),r.d(t,"Tw2Torque",(function(){return h.Tw2Torque})),r.d(t,"Tw2RigidOrientation",(function(){return h.Tw2RigidOrientation})),r.d(t,"Tw2QuaternionKey",(function(){return h.Tw2QuaternionKey})),r.d(t,"Tw2RotationCurve",(function(){return h.Tw2RotationCurve})),r.d(t,"Tw2ScalarKey",(function(){return h.Tw2ScalarKey})),r.d(t,"Tw2ScalarCurve",(function(){return h.Tw2ScalarCurve})),r.d(t,"Tw2ScalarKey2",(function(){return h.Tw2ScalarKey2})),r.d(t,"Tw2ScalarCurve2",(function(){return h.Tw2ScalarCurve2})),r.d(t,"Tw2SineCurve",(function(){return h.Tw2SineCurve})),r.d(t,"Tw2Vector2Key",(function(){return h.Tw2Vector2Key})),r.d(t,"Tw2Vector2Curve",(function(){return h.Tw2Vector2Curve})),r.d(t,"Tw2Vector3Key",(function(){return h.Tw2Vector3Key})),r.d(t,"Tw2Vector3Curve",(function(){return h.Tw2Vector3Curve})),r.d(t,"Tw2VectorKey",(function(){return h.Tw2VectorKey})),r.d(t,"Tw2VectorCurve",(function(){return h.Tw2VectorCurve}))},"./curve/curve/legacy/Tw2ColorCurve.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tw2ColorKey",(function(){return s})),r.d(t,"Tw2ColorCurve",(function(){return a}));var n=r("./global/index.js"),i=r("./curve/curve/Tw2Curve.js");class s extends i.Tw2CurveKey{constructor(...e){super(...e),this.value=n.vec4.create(),this.left=n.vec4.create(),this.right=n.vec4.create(),this.interpolation=0}}class a extends i.Tw2Curve{constructor(...e){super(...e),this.start=0,this.value=n.vec4.create(),this.extrapolation=0,this.keys=[],this._currentKey=1,this.length=0}Sort(){i.Tw2Curve.Sort(this)}GetLength(){return this.length}UpdateValue(e){this.GetValueAt(e,this.value)}GetValueAt(e,t){if(0===this.length)return n.vec4.copy(t,this.value);var r=this.keys[0],i=this.keys[this.keys.length-1];if(e>=i.time)switch(this.extrapolation){case a.Extrapolation.NONE:return n.vec4.copy(t,this.value);case a.Extrapolation.CONSTANT:return n.vec4.copy(t,i.value);case a.Extrapolation.GRADIENT:return n.vec4.scaleAndAdd(t,i.value,i.right,e-i.time);default:e%=i.time}else if(e<0||e<r.time)switch(this.extrapolation){case a.Extrapolation.NONE:return n.vec4.copy(t,this.value);case a.Extrapolation.GRADIENT:return n.vec4.scaleAndAdd(t,r.value,r.left,e*this.length-i.time);default:return n.vec4.copy(t,r.value)}for(var s=this.keys[this._currentKey],o=this.keys[this._currentKey-1];e>=s.time||e<o.time;)e<o.time&&(this._currentKey=0),this._currentKey++,s=this.keys[this._currentKey],o=this.keys[this._currentKey-1];var u=(e-o.time)/(s.time-o.time);switch(o.interpolation){case a.Interpolation.CONSTANT:return n.vec4.copy(t,o.value);default:return t[0]=o.value[0]*(1-u)+s.value[0]*u,t[1]=o.value[1]*(1-u)+s.value[1]*u,t[2]=o.value[2]*(1-u)+s.value[2]*u,t[3]=o.value[3]*(1-u)+s.value[3]*u,t}}}a.inputDimension=4,a.outputDimension=4,a.valueProperty="value",a.curveType=i.Tw2Curve.Type.CURVE,a.Key=s,a.Extrapolation={NONE:0,CONSTANT:1,GRADIENT:2,CYCLE:3},a.Interpolation={NONE:0,CONSTANT:1,LINEAR:2}},"./curve/curve/legacy/Tw2ColorCurve2.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tw2ColorKey2",(function(){return s})),r.d(t,"Tw2ColorCurve2",(function(){return a}));var n=r("./global/index.js"),i=r("./curve/curve/Tw2Curve.js");class s extends i.Tw2CurveKey{constructor(...e){super(...e),this.value=n.vec4.create(),this.leftTangent=n.vec4.create(),this.rightTangent=n.vec4.create(),this.interpolation=1}}class a extends i.Tw2Curve{constructor(...e){super(...e),this.cycle=!1,this.reversed=!1,this.timeOffset=0,this.timeScale=1,this.startValue=n.vec4.fromValues(0,0,0,1),this.currentValue=n.vec4.fromValues(0,0,0,1),this.endValue=n.vec4.fromValues(0,0,0,1),this.startTangent=n.vec4.create(),this.endTangent=n.vec4.create(),this.interpolation=1,this.keys=[],this.length=0}Sort(){i.Tw2Curve.Sort2(this)}GetLength(){return this.length}UpdateValue(e){this.GetValueAt(e,this.currentValue)}GetValueAt(e,t){if(e=e/this.timeScale+this.timeOffset,this.length<=0||e<=0)return n.vec4.copy(t,this.startValue);if(e>this.length){if(!this.cycle)return this.reversed?n.vec4.copy(t,this.startValue):n.vec4.copy(t,this.endValue);e%=this.length}if(this.reversed&&(e=this.length-e),0===this.keys.length)return this.Interpolate(e,null,null,t);var r=this.keys[0],i=this.keys[this.keys.length-1];if(e<=r.time)return this.Interpolate(e,null,r,t);if(e>=i.time)return this.Interpolate(e,i,null,t);for(var s=0;s+1<this.keys.length&&(r=this.keys[s],i=this.keys[s+1],!(r.time<=e&&i.time>e));++s);return this.Interpolate(e,r,i,t)}Interpolate(e,t,r,i){n.vec4.copy(i,this.startValue);var s=this.startValue,o=this.endValue,u=this.interpolation,c=this.length;switch(null!==t&&(u=t.interpolation,e-=t.time),u){case a.Interpolation.LINEAR:return t&&r?(s=t.value,o=r.value,c=r.time-t.time):r?(o=r.value,c=r.time):t&&(s=t.value,c=this.length-t.time),i[0]=s[0]+(o[0]-s[0])*(e/c),i[1]=s[1]+(o[1]-s[1])*(e/c),i[2]=s[2]+(o[2]-s[2])*(e/c),i[3]=s[3]+(o[3]-s[3])*(e/c),i;default:return i}}}a.inputDimension=4,a.outputDimension=4,a.valueProperty="currentValue",a.curveType=i.Tw2Curve.Type.CURVE2,a.Key=s,a.Interpolation={CONSTANT:0,LINEAR:1}},"./curve/curve/legacy/Tw2QuaternionCurve.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tw2QuaternionKey2",(function(){return s})),r.d(t,"Tw2QuaternionCurve",(function(){return a}));var n=r("./global/index.js"),i=r("./curve/curve/Tw2Curve.js");class s extends i.Tw2CurveKey{constructor(...e){super(...e),this.value=n.quat.create(),this.leftTangent=n.vec4.create(),this.rightTangent=n.vec4.create(),this.interpolation=1}}class a extends i.Tw2Curve{constructor(...e){super(...e),this.cycle=!1,this.reversed=!1,this.timeOffset=0,this.timeScale=1,this.startValue=n.quat.create(),this.currentValue=n.quat.create(),this.endValue=n.quat.create(),this.startTangent=n.vec4.create(),this.endTangent=n.vec4.create(),this.interpolation=1,this.keys=[],this.length=0}Sort(){i.Tw2Curve.Sort2(this)}GetLength(){return this.length}UpdateValue(e){this.GetValueAt(e,this.currentValue)}GetValueAt(e,t){if(e=e/this.timeScale+this.timeOffset,this.length<=0||e<=0)return t[0]=this.startValue[0],t[1]=this.startValue[1],t[2]=this.startValue[2],t;if(e>this.length){if(!this.cycle)return this.reversed?(t[0]=this.startValue[0],t[1]=this.startValue[1],t[2]=this.startValue[2],t):(t[0]=this.endValue[0],t[1]=this.endValue[1],t[2]=this.endValue[2],t);e%=this.length}if(this.reversed&&(e=this.length-e),0===this.keys.length)return this.Interpolate(e,null,null,t);var r=this.keys[0],n=this.keys[this.keys.length-1];if(e<=r.time)return this.Interpolate(e,null,r,t);if(e>=n.time)return this.Interpolate(e,n,null,t);for(var i=0;i+1<this.keys.length&&(r=this.keys[i],n=this.keys[i+1],!(r.time<=e&&n.time>e));++i);return this.Interpolate(e,r,n,t)}Interpolate(e,t,r,i){i[0]=this.startValue[0],i[1]=this.startValue[1],i[2]=this.startValue[2];var s=this.startValue,o=this.endValue,u=this.interpolation,c=this.length;switch(null!==t&&(u=t.interpolation,e-=t.time),u){case a.Interpolation.SPHERICAL_LINEAR:return t&&r?(s=t.value,o=r.value,c=r.time-t.time):r?(o=r.value,c=r.time):t&&(s=t.value,c=this.length-t.time),n.quat.slerp(i,s,o,e/c),i;default:return i}}}a.inputDimension=4,a.outputDimension=4,a.valueProperty="currentValue",a.curveType=i.Tw2Curve.Type.CURVE2,a.Key=s,a.Interpolation={CONSTANT:0,SPHERICAL_LINEAR:4}},"./curve/curve/legacy/Tw2RandomConstantCurve.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tw2RandomConstantCurve",(function(){return i}));var n=r("./curve/curve/Tw2Curve.js");class i extends n.Tw2Curve{constructor(...e){super(...e),this.value=0,this.min=0,this.max=1,this.hold=!0}Sort(){}GetLength(){return 0}UpdateValue(){this.value=this.GetValueAt()}GetValueAt(){return this.hold?this.value:this.min+(this.max-this.min)*Math.random()}}i.outputDimension=1,i.valueProperty="value",i.curveType=n.Tw2Curve.Type.CURVE_NO_KEYS},"./curve/curve/legacy/Tw2RigidOrientation.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tw2Torque",(function(){return s})),r.d(t,"Tw2RigidOrientation",(function(){return a}));var n=r("./global/index.js"),i=r("./curve/curve/Tw2Curve.js");class s extends i.Tw2CurveKey{constructor(...e){super(...e),this.rot0=n.quat.create(),this.omega0=n.vec3.create(),this.torque=n.vec3.create()}}class a extends i.Tw2Curve{constructor(...e){super(...e),this.name="",this.I=1,this.drag=1,this.value=n.quat.create(),this.start=0,this.states=[],this.length=0}Sort(){i.Tw2Curve.Sort(this,this.states)}GetLength(){return this.length}UpdateValue(e){this.GetValueAt(e,this.value)}GetValueAt(e,t){if(0===this.states.length||e<0||e<this.states[0].time)return n.quat.copy(t,this.value);var r=0;if(e>=this.states[this.states.length-1].time)r=this.states.length-1;else for(;r+1<this.states.length&&!(e>=this.states[r].time&&e<this.states[r+1].time);++r);var s=i.Tw2Curve.global.vec3_0,a=i.Tw2Curve.global.quat_0,o=this.states[r];return n.vec3.exponentialDecay(s,o.omega0,o.torque,this.I,this.drag,e-o.time),n.quat.exp(a,s),n.quat.multiply(t,this.states[r].rot0,a),t}}a.inputDimension=4,a.outputDimension=4,a.valueProperty="value",a.curveType=i.Tw2Curve.Type.CURVE,a.Key=s},"./curve/curve/legacy/Tw2RotationCurve.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tw2QuaternionKey",(function(){return s})),r.d(t,"Tw2RotationCurve",(function(){return a}));var n=r("./global/index.js"),i=r("./curve/curve/Tw2Curve.js");class s extends i.Tw2CurveKey{constructor(...e){super(...e),this.value=n.quat.create(),this.left=n.vec4.create(),this.right=n.vec4.create(),this.interpolation=5}}class a extends i.Tw2Curve{constructor(...e){super(...e),this.start=0,this.value=n.quat.create(),this.extrapolation=0,this.keys=[],this.length=0,this._currentKey=1}Sort(){i.Tw2Curve.Sort(this)}GetLength(){return this.length}UpdateValue(e){this.GetValueAt(e,this.value)}GetValueAt(e,t){if(0===this.length)return n.quat.copy(t,this.value);var r=i.Tw2Curve.global,s=this.keys[0],o=this.keys[this.keys.length-1];if(e>=o.time)switch(this.extrapolation){case a.Extrapolation.NONE:return n.quat.copy(t,this.value);case a.Extrapolation.CONSTANT:return n.quat.copy(t,o.value);default:e%=o.time}else if(e<0||e<s.time)switch(this.extrapolation){case a.Extrapolation.NONE:return n.quat.copy(t,this.value);default:return n.quat.copy(t,s.value)}for(var u=this.keys[this._currentKey],c=this.keys[this._currentKey-1];e>=u.time||e<c.time;)e<c.time&&(this._currentKey=0),this._currentKey++,u=this.keys[this._currentKey],c=this.keys[this._currentKey-1];var l=(e-c.time)/(u.time-c.time);switch(c.interpolation){case a.Interpolation.CONSTANT:return n.quat.copy(t,c.value);case a.Interpolation.LINEAR:return t[0]=c.value[0]*(1-l)+u.value[0]*l,t[1]=c.value[1]*(1-l)+u.value[1]*l,t[2]=c.value[2]*(1-l)+u.value[2]*l,t[3]=c.value[3]*(1-l)+u.value[3]*l,t;case a.Interpolation.HERMITE:for(var h=n.quat.identity(r.quat_0),d=[c.value,c.right,u.left,u.value],f=3;f>0;f--){var m=n.num.biCumulative(l,f);m>1&&n.quat.multiply(t,h,d[f]),t[0]=-d[f-1][0],t[1]=-d[f-1][1],t[2]=-d[f-1][2],t[3]=d[f-1][3],n.quat.multiply(t,t,d[f]),n.quat.pow(t,t,m),n.quat.multiply(h,h,t)}return n.quat.multiply(t,h,c.value);case a.Interpolation.SLERP:return n.quat.slerp(t,c.value,u.value,l);default:return n.quat.sqlerp(t,c.value,c.right,u.left,u.value,l)}}}a.outputDimention=4,a.inputDimension=4,a.valueProperty="value",a.curveType=i.Tw2Curve.Type.CURVE,a.Child=s,a.Extrapolation={NONE:0,CONSTANT:1,GRADIENT:2,CYCLE:3},a.Interpolation={NONE:0,CONSTANT:1,LINEAR:2,HERMITE:3,SLERP:5,SQUAD:6}},"./curve/curve/legacy/Tw2ScalarCurve.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tw2ScalarKey",(function(){return i})),r.d(t,"Tw2ScalarCurve",(function(){return s}));var n=r("./curve/curve/Tw2Curve.js");class i extends n.Tw2CurveKey{constructor(...e){super(...e),this.value=0,this.left=0,this.right=0,this.interpolation=0}}class s extends n.Tw2Curve{constructor(...e){super(...e),this.start=0,this.timeScale=1,this.timeOffset=0,this.value=0,this.extrapolation=0,this.keys=[],this._currentKey=1,this.length=0}Sort(){n.Tw2Curve.Sort(this)}GetLength(){return this.length}UpdateValue(e){this.value=this.GetValueAt(e)}GetValueAt(e){if(e=e/this.timeScale-this.timeOffset,0===this.length)return this.value;var t=this.keys[0],r=this.keys[this.keys.length-1];if(e>=r.time)switch(this.extrapolation){case s.Extrapolation.NONE:return this.value;case s.Extrapolation.CONSTANT:return r.value;case s.Extrapolation.GRADIENT:return r.value+(e-r.time)*r.right;default:e%=r.time}else if(e<0||e<t.time)switch(this.extrapolation){case s.Extrapolation.NONE:return this.value;case s.Extrapolation.GRADIENT:return t.value+(e*this.length-r.time)*t.left;default:return t.value}for(var n=this.keys[this._currentKey],i=this.keys[this._currentKey-1];e>=n.time||e<i.time;)e<i.time&&(this._currentKey=0),this._currentKey++,n=this.keys[this._currentKey],i=this.keys[this._currentKey-1];var a=(e-i.time)/(n.time-i.time);switch(i.interpolation){case s.Interpolation.CONSTANT:return i.value;case s.Interpolation.LINEAR:return i.value*(1-a)+n.value*a;case s.Interpolation.HERMITE:var o=-2*a*a*a+3*a*a,u=a*a*a-2*a*a+a,c=a*a*a-a*a;return(2*a*a*a-3*a*a+1)*i.value+o*n.value+u*i.right+c*n.left;default:var l=1+(Math.sqrt(i.value/n.value)-1)*Math.exp(-e/i.right);return l*l*n.value}}}s.inputDimension=1,s.outputDimension=1,s.valueProperty="value",s.curveType=n.Tw2Curve.Type.CURVE,s.Key=i,s.Extrapolation={NONE:0,CONSTANT:1,GRADIENT:2,CYCLE:3},s.Interpolation={NONE:0,CONSTANT:1,LINEAR:2,HERMITE:3,CATMULROM:4}},"./curve/curve/legacy/Tw2ScalarCurve2.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tw2ScalarKey2",(function(){return i})),r.d(t,"Tw2ScalarCurve2",(function(){return s}));var n=r("./curve/curve/Tw2Curve.js");class i extends n.Tw2CurveKey{constructor(...e){super(...e),this.value=0,this.leftTangent=0,this.rightTangent=0,this.interpolation=1}}class s extends n.Tw2Curve{constructor(...e){super(...e),this.cycle=!1,this.reversed=!1,this.timeOffset=0,this.timeScale=1,this.startValue=0,this.currentValue=0,this.endValue=0,this.startTangent=0,this.endTangent=0,this.interpolation=1,this.keys=[],this.length=0}Sort(){n.Tw2Curve.Sort2(this)}GetLength(){return this.length}UpdateValue(e){this.currentValue=this.GetValueAt(e)}GetValueAt(e){if(e=e/this.timeScale+this.timeOffset,this.length<=0||e<=0)return this.startValue;if(e>this.length){if(!this.cycle)return this.reversed?this.startValue:this.endValue;e%=this.length}if(this.reversed&&(e=this.length-e),0===this.keys.length)return this.Interpolate(e,null,null);var t=this.keys[0],r=this.keys[this.keys.length-1];if(e<=t.time)return this.Interpolate(e,null,t);if(e>=r.time)return this.Interpolate(e,r,null);for(var n=0;n+1<this.keys.length&&(t=this.keys[n],r=this.keys[n+1],!(t.time<=e&&r.time>e));++n);return this.Interpolate(e,t,r)}Interpolate(e,t,r){var n=this.startValue,i=this.endValue,a=this.interpolation,o=this.length;switch(null!==t&&(a=t.interpolation,e-=t.time),a){case s.Interpolation.LINEAR:return t&&r?(n=t.value,i=r.value,o=r.time-t.time):r?(i=r.value,o=r.time):t&&(n=t.value,o=this.length-t.time),n+e/o*(i-n);case s.Interpolation.HERMITE:var u=this.startTangent,c=this.endTangent;t&&r?(n=t.value,u=t.rightTangent,i=r.value,c=r.leftTangent,o=r.time-t.time):r?(i=r.value,c=r.leftTangent,o=r.time):t&&(n=t.value,u=t.rightTangent,o=this.length-t.time);var l=e/o,h=l*l,d=h*l,f=-2*d+3*h,m=d-h;return n*(1-f)+i*f+u*(l+m-h)+c*m;default:return this.startValue}}}s.inputDimension=1,s.outputDimension=1,s.valueProperty="currentValue",s.curveType=n.Tw2Curve.Type.CURVE2,s.Key=i,s.Interpolation={CONSTANT:0,LINEAR:1,HERMITE:2}},"./curve/curve/legacy/Tw2SineCurve.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tw2SineCurve",(function(){return i}));var n=r("./curve/curve/Tw2Curve.js");class i extends n.Tw2Curve{constructor(...e){super(...e),this.value=0,this.offset=0,this.scale=1,this.speed=1}Sort(){}GetLength(){return 0}UpdateValue(e){this.value=this.GetValueAt(e)}GetValueAt(e){return Math.sin(e*Math.PI*2*this.speed)*this.scale+this.offset}}i.outputDimension=1,i.valueProperty="value",i.curveType=n.Tw2Curve.Type.CURVE_NO_KEYS},"./curve/curve/legacy/Tw2Vector2Curve.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tw2Vector2Key",(function(){return s})),r.d(t,"Tw2Vector2Curve",(function(){return a}));var n=r("./global/index.js"),i=r("./curve/curve/Tw2Curve.js");class s extends i.Tw2CurveKey{constructor(...e){super(...e),this.value=n.vec2.create(),this.leftTangent=n.vec2.create(),this.rightTangent=n.vec2.create(),this.interpolation=1}}class a extends i.Tw2Curve{constructor(...e){super(...e),this.cycle=!1,this.reversed=!1,this.timeOffset=0,this.timeScale=1,this.startValue=n.vec2.create(),this.currentValue=n.vec2.create(),this.endValue=n.vec2.create(),this.startTangent=n.vec2.create(),this.endTangent=n.vec2.create(),this.interpolation=1,this.keys=[],this.length=0}Sort(){i.Tw2Curve.Sort2(this)}GetLength(){return this.length}UpdateValue(e){this.GetValueAt(e,this.currentValue)}GetValueAt(e,t){if(e=e/this.timeScale+this.timeOffset,this.length<=0||e<=0)return n.vec2.copy(t,this.startValue);if(e>this.length){if(!this.cycle)return this.reversed?n.vec2.copy(t,this.startValue):n.vec2.copy(t,this.endValue);e%=this.length}if(this.reversed&&(e=this.length-e),0===this.keys.length)return this.Interpolate(e,null,null,t);var r=this.keys[0],i=this.keys[this.keys.length-1];if(e<=r.time)return this.Interpolate(e,null,r,t);if(e>=i.time)return this.Interpolate(e,i,null,t);for(var s=0;s+1<this.keys.length&&(r=this.keys[s],i=this.keys[s+1],!(r.time<=e&&i.time>e));++s);return this.Interpolate(e,r,i,t)}Interpolate(e,t,r,i){n.vec2.copy(i,this.startValue);var s=this.startValue,o=this.endValue,u=this.interpolation,c=this.length;switch(null!==t&&(u=t.interpolation,e-=t.time),u){case a.Interpolation.LINEAR:return t&&r?(s=t.value,o=r.value,c=r.time-t.time):r?(o=r.value,c=r.time):t&&(s=t.value,c=this.length-t.time),i[0]=s[0]+(o[0]-s[0])*(e/c),i[1]=s[1]+(o[1]-s[1])*(e/c),i;case a.Interpolation.HERMITE:var l=this.startTangent,h=this.endTangent;t&&r?(s=t.value,l=t.rightTangent,o=r.value,h=r.leftTangent,c=r.time-t.time):r?(o=r.value,h=r.leftTangent,c=r.time):t&&(s=t.value,l=t.rightTangent,c=this.length-t.time);var d=e/c,f=d*d,m=f*d,v=-2*m+3*f,p=1-v,_=m-f,E=d+_-f;return i[0]=s[0]*p+o[0]*v+l[0]*E+h[0]*_,i[1]=s[1]*p+o[1]*v+l[1]*E+h[1]*_,i;default:return i}}}a.inputDimension=2,a.outputDimension=2,a.valueProperty="value",a.curveType=i.Tw2Curve.Type.CURVE2,a.Key=s,a.Interpolation={CONSTANT:0,LINEAR:1,HERMITE:2}},"./curve/curve/legacy/Tw2Vector3Curve.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tw2Vector3Key",(function(){return s})),r.d(t,"Tw2Vector3Curve",(function(){return a}));var n=r("./global/index.js"),i=r("./curve/curve/Tw2Curve.js");class s extends i.Tw2CurveKey{constructor(...e){super(...e),this.value=n.vec3.create(),this.leftTangent=n.vec3.create(),this.rightTangent=n.vec3.create(),this.interpolation=1}}class a extends i.Tw2Curve{constructor(...e){super(...e),this.cycle=!1,this.reversed=!1,this.timeOffset=0,this.timeScale=1,this.startValue=n.vec3.create(),this.currentValue=n.vec3.create(),this.endValue=n.vec3.create(),this.startTangent=n.vec3.create(),this.endTangent=n.vec3.create(),this.interpolation=1,this.keys=[],this.length=0}Sort(){i.Tw2Curve.Sort2(this)}GetLength(){return this.length}UpdateValue(e){this.GetValueAt(e,this.currentValue)}GetValueAt(e,t){if(e=e/this.timeScale+this.timeOffset,this.length<=0||e<=0)return n.vec3.copy(t,this.startValue);if(e>this.length){if(!this.cycle)return this.reversed?n.vec3.copy(t,this.startValue):n.vec3.copy(t,this.endValue);e%=this.length}if(this.reversed&&(e=this.length-e),0===this.keys.length)return this.Interpolate(e,null,null,t);var r=this.keys[0],i=this.keys[this.keys.length-1];if(e<=r.time)return this.Interpolate(e,null,r,t);if(e>=i.time)return this.Interpolate(e,i,null,t);for(var s=0;s+1<this.keys.length&&(r=this.keys[s],i=this.keys[s+1],!(r.time<=e&&i.time>e));++s);return this.Interpolate(e,r,i,t)}Interpolate(e,t,r,i){n.vec3.copy(i,this.startValue);var s=this.startValue,o=this.endValue,u=this.interpolation,c=this.length;switch(null!==t&&(u=t.interpolation,e-=t.time),u){case a.Interpolation.LINEAR:return t&&r?(s=t.value,o=r.value,c=r.time-t.time):r?(o=r.value,c=r.time):t&&(s=t.value,c=this.length-t.time),i[0]=s[0]+(o[0]-s[0])*(e/c),i[1]=s[1]+(o[1]-s[1])*(e/c),i[2]=s[2]+(o[2]-s[2])*(e/c),i;case a.Interpolation.HERMITE:var l=this.startTangent,h=this.endTangent;t&&r?(s=t.value,l=t.rightTangent,o=r.value,h=r.leftTangent,c=r.time-t.time):r?(o=r.value,h=r.leftTangent,c=r.time):t&&(s=t.value,l=t.rightTangent,c=this.length-t.time);var d=e/c,f=d*d,m=f*d,v=-2*m+3*f,p=1-v,_=m-f,E=d+_-f;return i[0]=s[0]*p+o[0]*v+l[0]*E+h[0]*_,i[1]=s[1]*p+o[1]*v+l[1]*E+h[1]*_,i[2]=s[2]*p+o[2]*v+l[2]*E+h[2]*_,i;default:return i}}}a.inputDimension=3,a.outputDimension=3,a.valueProperty="currentValue",a.curveType=i.Tw2Curve.Type.CURVE2,a.Key=s,a.Interpolation={CONSTANT:0,LINEAR:1,HERMITE:2}},"./curve/curve/legacy/Tw2VectorCurve.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tw2VectorKey",(function(){return s})),r.d(t,"Tw2VectorCurve",(function(){return a}));var n=r("./global/index.js"),i=r("./curve/curve/Tw2Curve.js");class s extends i.Tw2CurveKey{constructor(...e){super(...e),this.value=n.vec3.create(),this.left=n.vec3.create(),this.right=n.vec3.create(),this.interpolation=0}}class a extends i.Tw2Curve{constructor(...e){super(...e),this.start=0,this.value=n.vec3.create(),this.extrapolation=0,this.keys=[],this._currentKey=1,this.length=0}Sort(){i.Tw2Curve.Sort(this)}GetLength(){return this.length}UpdateValue(e){this.GetValueAt(e,this.value)}GetValueAt(e,t){if(0===this.length)return n.vec3.copy(t,this.value);var r=this.keys[0],i=this.keys[this.keys.length-1];if(e>=i.time)switch(this.extrapolation){case a.Extrapolation.NONE:return n.vec3.copy(t,this.value);case a.Extrapolation.CONSTANT:return n.vec3.copy(t,i.value);case a.Extrapolation.GRADIENT:return n.vec3.scaleAndAdd(t,i.value,i.right,e-i.time);default:e%=i.time}else if(e<0||e<r.time)switch(this.extrapolation){case a.Extrapolation.NONE:return n.vec3.copy(t,this.value);case a.Extrapolation.GRADIENT:return n.vec3.scaleAndAdd(t,r.value,r.left,e*this.length-i.time);default:return n.vec3.copy(t,r.value)}for(var s=this.keys[this._currentKey],o=this.keys[this._currentKey-1];e>=s.time||e<o.time;)e<o.time&&(this._currentKey=0),this._currentKey++,s=this.keys[this._currentKey],o=this.keys[this._currentKey-1];var u=(e-o.time)/(s.time-o.time);switch(o.interpolation){case a.Interpolation.CONSTANT:return n.vec3.copy(t,o.value);case a.Interpolation.LINEAR:return t[0]=o.value[0]*(1-u)+s.value[0]*u,t[1]=o.value[1]*(1-u)+s.value[1]*u,t[2]=o.value[2]*(1-u)+s.value[2]*u,t;case a.Interpolation.HERMITE:var c=2*u*u*u-3*u*u+1,l=-2*u*u*u+3*u*u,h=u*u*u-2*u*u+u,d=u*u*u-u*u;return t[0]=c*o.value[0]+l*s.value[0]+h*o.right[0]+d*s.left[0],t[1]=c*o.value[1]+l*s.value[1]+h*o.right[1]+d*s.left[1],t[2]=c*o.value[2]+l*s.value[2]+h*o.right[2]+d*s.left[2],t;default:return t}}}a.inputDimension=3,a.outputDimension=3,a.valueProperty="value",a.curveType=i.Tw2Curve.Type.CURVE,a.Key=s,a.Extrapolation={NONE:0,CONSTANT:1,GRADIENT:2,CYCLE:3},a.Interpolation={NONE:0,CONSTANT:1,LINEAR:2,HERMITE:3}},"./curve/curve/legacy/index.js":function(e,t,r){"use strict";r.r(t);var n=r("./curve/curve/legacy/Tw2ColorCurve.js");r.d(t,"Tw2ColorKey",(function(){return n.Tw2ColorKey})),r.d(t,"Tw2ColorCurve",(function(){return n.Tw2ColorCurve}));var i=r("./curve/curve/legacy/Tw2ColorCurve2.js");r.d(t,"Tw2ColorKey2",(function(){return i.Tw2ColorKey2})),r.d(t,"Tw2ColorCurve2",(function(){return i.Tw2ColorCurve2}));var s=r("./curve/curve/legacy/Tw2QuaternionCurve.js");r.d(t,"Tw2QuaternionKey2",(function(){return s.Tw2QuaternionKey2})),r.d(t,"Tw2QuaternionCurve",(function(){return s.Tw2QuaternionCurve}));var a=r("./curve/curve/legacy/Tw2RandomConstantCurve.js");r.d(t,"Tw2RandomConstantCurve",(function(){return a.Tw2RandomConstantCurve}));var o=r("./curve/curve/legacy/Tw2RigidOrientation.js");r.d(t,"Tw2Torque",(function(){return o.Tw2Torque})),r.d(t,"Tw2RigidOrientation",(function(){return o.Tw2RigidOrientation}));var u=r("./curve/curve/legacy/Tw2RotationCurve.js");r.d(t,"Tw2QuaternionKey",(function(){return u.Tw2QuaternionKey})),r.d(t,"Tw2RotationCurve",(function(){return u.Tw2RotationCurve}));var c=r("./curve/curve/legacy/Tw2ScalarCurve.js");r.d(t,"Tw2ScalarKey",(function(){return c.Tw2ScalarKey})),r.d(t,"Tw2ScalarCurve",(function(){return c.Tw2ScalarCurve}));var l=r("./curve/curve/legacy/Tw2ScalarCurve2.js");r.d(t,"Tw2ScalarKey2",(function(){return l.Tw2ScalarKey2})),r.d(t,"Tw2ScalarCurve2",(function(){return l.Tw2ScalarCurve2}));var h=r("./curve/curve/legacy/Tw2SineCurve.js");r.d(t,"Tw2SineCurve",(function(){return h.Tw2SineCurve}));var d=r("./curve/curve/legacy/Tw2Vector2Curve.js");r.d(t,"Tw2Vector2Key",(function(){return d.Tw2Vector2Key})),r.d(t,"Tw2Vector2Curve",(function(){return d.Tw2Vector2Curve}));var f=r("./curve/curve/legacy/Tw2Vector3Curve.js");r.d(t,"Tw2Vector3Key",(function(){return f.Tw2Vector3Key})),r.d(t,"Tw2Vector3Curve",(function(){return f.Tw2Vector3Curve}));var m=r("./curve/curve/legacy/Tw2VectorCurve.js");r.d(t,"Tw2VectorKey",(function(){return m.Tw2VectorKey})),r.d(t,"Tw2VectorCurve",(function(){return m.Tw2VectorCurve}))},"./curve/expression/Tr2CurveEulerRotationExpression.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tr2CurveEulerRotationExpression",(function(){return s}));var n=r("./global/index.js"),i=r("./curve/expression/Tw2CurveExpression.js");class s extends i.Tw2CurveExpression{constructor(...e){super(...e),this.expressionPitch="",this.expressionRoll="",this.expressionYaw="",this.currentValue=n.quat.create()}static black(e){return[["inputs",e.array],["name",e.string],["expressionYaw",e.string],["expressionPitch",e.string],["expressionRoll",e.string]]}}s.inputDimension=1,s.outputDimension=4,s.valueProperty="currentValue",s.childProperties=["expressionPitch","expressionRoll","expressionYaw"],s.__isStaging=4},"./curve/expression/Tr2CurveScalarExpression.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tr2CurveScalarExpression",(function(){return i}));var n=r("./curve/expression/Tw2CurveExpression.js");class i extends n.Tw2CurveExpression{constructor(...e){super(...e),this.expression="",this.input1=-1,this.input2=-1,this.input3=-1,this.currentValue=0}static black(e){return[["inputs",e.array],["name",e.string],["expression",e.string],["input1",e.float],["input2",e.float],["input3",e.float]]}}i.inputDimension=1,i.outputDimension=1,i.valueProperty="currentValue",i.childProperties=["expression"],i.__isStaging=4},"./curve/expression/Tr2CurveVector3Expression.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tr2CurveVector3Expression",(function(){return s}));var n=r("./global/index.js"),i=r("./curve/expression/Tw2CurveExpression.js");class s extends i.Tw2CurveExpression{constructor(...e){super(...e),this.expressionX="",this.expressionY="",this.expressionZ="",this.currentValue=n.vec3.create()}static black(e){return[["inputs",e.array],["name",e.string],["expressionX",e.string],["expressionY",e.string],["expressionZ",e.string]]}}s.inputDimension=1,s.outputDimension=3,s.valueProperty="currentValue",s.childProperties=["expressionX","expressionY","expressionZ"],s.__isStaging=4},"./curve/expression/Tw2CurveExpression.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tw2CurveExpression",(function(){return i}));var n=r("./curve/index.js");class i extends n.Tw2Curve{constructor(...e){super(...e),this.name="",this.inputs=[]}UpdateValue(e){this.GetValueAt(e,this.currentValue)}}i.curveType=n.Tw2Curve.Type.EXPRESSION},"./curve/expression/index.js":function(e,t,r){"use strict";r.r(t);var n=r("./curve/expression/Tr2CurveEulerRotationExpression.js");r.d(t,"Tr2CurveEulerRotationExpression",(function(){return n.Tr2CurveEulerRotationExpression}));var i=r("./curve/expression/Tr2CurveScalarExpression.js");r.d(t,"Tr2CurveScalarExpression",(function(){return i.Tr2CurveScalarExpression}));var s=r("./curve/expression/Tr2CurveVector3Expression.js");r.d(t,"Tr2CurveVector3Expression",(function(){return s.Tr2CurveVector3Expression}));var a=r("./curve/expression/Tw2CurveExpression.js");r.d(t,"Tw2CurveExpression",(function(){return a.Tw2CurveExpression}))},"./curve/index.js":function(e,t,r){"use strict";r.r(t);var n=r("./curve/Tw2CurveSet.js");r.d(t,"Tw2CurveSet",(function(){return n.Tw2CurveSet}));var i=r("./curve/Tw2CurveSetRange.js");r.d(t,"Tw2CurveSetRange",(function(){return i.Tw2CurveSetRange}));var s=r("./curve/Tw2ValueBinding.js");r.d(t,"Tw2ValueBinding",(function(){return s.Tw2ValueBinding}));var a=r("./curve/adapter/index.js");r.d(t,"Tr2RotationAdapter",(function(){return a.Tr2RotationAdapter})),r.d(t,"Tr2TranslationAdapter",(function(){return a.Tr2TranslationAdapter})),r.d(t,"Tw2CurveAdapter",(function(){return a.Tw2CurveAdapter}));var o=r("./curve/curve/index.js");r.d(t,"AudEventKey",(function(){return o.AudEventKey})),r.d(t,"AudEventCurve",(function(){return o.AudEventCurve})),r.d(t,"Tr2BoneMatrixCurve",(function(){return o.Tr2BoneMatrixCurve})),r.d(t,"Tw2CurveConstant",(function(){return o.Tw2CurveConstant})),r.d(t,"Tw2CurveScalarKey",(function(){return o.Tw2CurveScalarKey})),r.d(t,"Tr2CurveScalar",(function(){return o.Tr2CurveScalar})),r.d(t,"Tr2ScalarExprKey",(function(){return o.Tr2ScalarExprKey})),r.d(t,"Tr2ScalarExprKeyCurve",(function(){return o.Tr2ScalarExprKeyCurve})),r.d(t,"Tw2EventKey",(function(){return o.Tw2EventKey})),r.d(t,"Tw2EventCurve",(function(){return o.Tw2EventCurve})),r.d(t,"Tw2PerlinCurve",(function(){return o.Tw2PerlinCurve})),r.d(t,"Tw2CurveKey",(function(){return o.Tw2CurveKey})),r.d(t,"Tw2Curve",(function(){return o.Tw2Curve})),r.d(t,"Tw2ColorKey",(function(){return o.Tw2ColorKey})),r.d(t,"Tw2ColorCurve",(function(){return o.Tw2ColorCurve})),r.d(t,"Tw2ColorKey2",(function(){return o.Tw2ColorKey2})),r.d(t,"Tw2ColorCurve2",(function(){return o.Tw2ColorCurve2})),r.d(t,"Tw2QuaternionKey2",(function(){return o.Tw2QuaternionKey2})),r.d(t,"Tw2QuaternionCurve",(function(){return o.Tw2QuaternionCurve})),r.d(t,"Tw2RandomConstantCurve",(function(){return o.Tw2RandomConstantCurve})),r.d(t,"Tw2Torque",(function(){return o.Tw2Torque})),r.d(t,"Tw2RigidOrientation",(function(){return o.Tw2RigidOrientation})),r.d(t,"Tw2QuaternionKey",(function(){return o.Tw2QuaternionKey})),r.d(t,"Tw2RotationCurve",(function(){return o.Tw2RotationCurve})),r.d(t,"Tw2ScalarKey",(function(){return o.Tw2ScalarKey})),r.d(t,"Tw2ScalarCurve",(function(){return o.Tw2ScalarCurve})),r.d(t,"Tw2ScalarKey2",(function(){return o.Tw2ScalarKey2})),r.d(t,"Tw2ScalarCurve2",(function(){return o.Tw2ScalarCurve2})),r.d(t,"Tw2SineCurve",(function(){return o.Tw2SineCurve})),r.d(t,"Tw2Vector2Key",(function(){return o.Tw2Vector2Key})),r.d(t,"Tw2Vector2Curve",(function(){return o.Tw2Vector2Curve})),r.d(t,"Tw2Vector3Key",(function(){return o.Tw2Vector3Key})),r.d(t,"Tw2Vector3Curve",(function(){return o.Tw2Vector3Curve})),r.d(t,"Tw2VectorKey",(function(){return o.Tw2VectorKey})),r.d(t,"Tw2VectorCurve",(function(){return o.Tw2VectorCurve}));var u=r("./curve/expression/index.js");r.d(t,"Tr2CurveEulerRotationExpression",(function(){return u.Tr2CurveEulerRotationExpression})),r.d(t,"Tr2CurveScalarExpression",(function(){return u.Tr2CurveScalarExpression})),r.d(t,"Tr2CurveVector3Expression",(function(){return u.Tr2CurveVector3Expression})),r.d(t,"Tw2CurveExpression",(function(){return u.Tw2CurveExpression}));var c=r("./curve/legacy/index.js");r.d(t,"Tw2WbgTrack",(function(){return c.Tw2WbgTrack})),r.d(t,"Tw2WbgTransformTrack",(function(){return c.Tw2WbgTransformTrack})),r.d(t,"Tw2TransformTrack",(function(){return c.Tw2TransformTrack})),r.d(t,"Tw2MayaEulerRotationCurve",(function(){return c.Tw2MayaEulerRotationCurve})),r.d(t,"Tw2MayaScalarCurve",(function(){return c.Tw2MayaScalarCurve})),r.d(t,"Tw2MayaVector3Curve",(function(){return c.Tw2MayaVector3Curve})),r.d(t,"Tw2MayaAnimationEngine",(function(){return c.Tw2MayaAnimationEngine}));var l=r("./curve/sequencer/index.js");r.d(t,"TriColorSequencer",(function(){return l.TriColorSequencer})),r.d(t,"Tw2CurveColor",(function(){return l.Tw2CurveColor})),r.d(t,"Tw2CurveEulerRotation",(function(){return l.Tw2CurveEulerRotation})),r.d(t,"Tw2CurveVector3",(function(){return l.Tw2CurveVector3})),r.d(t,"Tw2CurveSequencer",(function(){return l.Tw2CurveSequencer})),r.d(t,"Tw2ColorSequencer",(function(){return l.Tw2ColorSequencer})),r.d(t,"Tw2EulerRotation",(function(){return l.Tw2EulerRotation})),r.d(t,"Tw2QuaternionSequencer",(function(){return l.Tw2QuaternionSequencer})),r.d(t,"Tw2RGBAScalarSequencer",(function(){return l.Tw2RGBAScalarSequencer})),r.d(t,"Tw2ScalarSequencer",(function(){return l.Tw2ScalarSequencer})),r.d(t,"Tw2VectorSequencer",(function(){return l.Tw2VectorSequencer})),r.d(t,"Tw2XYZScalarSequencer",(function(){return l.Tw2XYZScalarSequencer})),r.d(t,"Tw2YPRSequencer",(function(){return l.Tw2YPRSequencer}))},"./curve/legacy/index.js":function(e,t,r){"use strict";r.r(t);var n=r("./curve/legacy/tracks/index.js");r.d(t,"Tw2WbgTrack",(function(){return n.Tw2WbgTrack})),r.d(t,"Tw2WbgTransformTrack",(function(){return n.Tw2WbgTransformTrack})),r.d(t,"Tw2TransformTrack",(function(){return n.Tw2TransformTrack}));var i=r("./curve/legacy/maya/index.js");r.d(t,"Tw2MayaEulerRotationCurve",(function(){return i.Tw2MayaEulerRotationCurve})),r.d(t,"Tw2MayaScalarCurve",(function(){return i.Tw2MayaScalarCurve})),r.d(t,"Tw2MayaVector3Curve",(function(){return i.Tw2MayaVector3Curve})),r.d(t,"Tw2MayaAnimationEngine",(function(){return i.Tw2MayaAnimationEngine}))},"./curve/legacy/maya/Tw2MayaAnimationEngine.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tw2MayaAnimationEngine",(function(){return s}));var n=r("./global/index.js"),i=r("./core/index.js");class s{constructor(){this._id=n.util.generateID(),this.curves=[],this.hermiteSegments=[],this.bezierSegments=[],this._currentCurveIndex=0,this._evalCache=null}Evaluate(e,t){if(this.curves.length<=e)return 0;if(this._currentCurveIndex=e,!this._evalCache){this._evalCache=new Array(this.curves.length);for(var r=0;r<this._evalCache.length;++r)this._evalCache[r]=-1}var n=this.curves[e],i=n[s.AnimCurveFields.SEGMENT_OFFSET],a=null;return t<(a=n[s.AnimCurveFields.IS_WEIGHTED]?this.bezierSegments:this.hermiteSegments)[i][s.AnimSegment.TIME]?n[s.AnimCurveFields.PRE_INFINITY]===s.INFINITY?a[i][s.AnimSegment.VALUE]:this._EvaluateInfinities(n,a,i,t,!0):t>n[s.AnimCurveFields.END_TIME]?n[s.AnimCurveFields.POST_INFINITY]===s.INFINITY?n[s.AnimCurveFields.END_VALUE]:this._EvaluateInfinities(n,a,i,t,!1):this._EvaluateImpl(n,a,i,t)}_EvaluateImpl(e,t,r,n){var i,a=!1,o=null,u=null;if(this._evalCache[this._currentCurveIndex]>=0)if(u=r+this._evalCache[this._currentCurveIndex],this._evalCache[this._currentCurveIndex]<e[s.AnimCurveFields.NUM_SEGMENTS-1]&&n>t[u][s.AnimSegment.TIME]){if(n===t[o=r+this._evalCache[this._currentCurveIndex]+1][s.AnimSegment.TIME])return this._evalCache[this._currentCurveIndex]++,t[o][s.AnimSegment.VALUE];n<t[o][s.AnimSegment.TIME]?(i=this._evalCache[this._currentCurveIndex]+1,a=!0):o=null}else if(this._evalCache[this._currentCurveIndex]>0&&n<t[u][s.AnimSegment.TIME]){var c=r+this._evalCache[this._currentCurveIndex]-1;if(n>t[c][s.AnimSegment.TIME])i=this._evalCache[this._currentCurveIndex],a=!0;else if(n===t[c][s.AnimSegment.TIME])return this._evalCache[this._currentCurveIndex]--,t[c][s.AnimSegment.VALUE]}if(!a){var l=this._Find(e,n,t,r);if(i=l[1],l[0]||0===i)return i===e[s.AnimCurveFields.NUM_SEGMENTS]?(i--,this._evalCache[this._currentCurveIndex]=i,e[s.AnimCurveFields.END_VALUE]):(this._evalCache[this._currentCurveIndex]=i,t[r+i][s.AnimSegment.VALUE]);if(i===e[s.AnimCurveFields.NUM_SEGMENTS]+1)return this._evalCache[this._currentCurveIndex]=0,e[s.AnimCurveFields.END_VALUE]}if(this._evalCache[this._currentCurveIndex]!==i-1&&(this._evalCache[this._currentCurveIndex]=i-1,u=r+this._evalCache[this._currentCurveIndex],null===o&&(o=r+i)),e[s.AnimCurveFields.IS_WEIGHTED]){var h=t[u];if(h[s.BezierSegment.IS_STEP])return h[s.BezierSegment.VALUE];if(h[s.BezierSegment.IS_STEP_NEXT])return null===o?e[s.AnimCurveFields.END_VALUE]:t[o][s.BezierSegment.VALUE];var d=e[s.AnimCurveFields.END_TIME];return this._evalCache[this._currentCurveIndex]+1<e[s.AnimCurveFields.NUM_SEGMENTS]&&(d=t[o][s.BezierSegment.TIME]),this._EvaluateBezier(h,n,d)}var f=t[u];return f[s.HermiteSegment.IS_STEP]?f[s.HermiteSegment.VALUE]:f[s.HermiteSegment.IS_STEP_NEXT]?null===o?e[s.AnimCurveFields.END_VALUE]:t[o][s.HermiteSegment.VALUE]:this._EvaluateHermite(f,n)}_EvaluateInfinities(e,t,r,n,s){throw new i.ErrFeatureNotImplemented({feature:"Maya animation engine evaluate infinities"})}_EvaluateHermite(e,t){var r=t-e[s.HermiteSegment.TIME],n=e[s.HermiteSegment.COEFF];return r*(r*(r*n[0]+n[1])+n[2])+n[3]}_EvaluateBezier(e,t,r){var i,a;if(a=(t-e[s.BezierSegment.TIME])/(r-e[s.BezierSegment.TIME]),e[s.BezierSegment.IS_LINEAR])i=a;else{var o=n.vec4.create();o[3]=e[s.BezierSegment.COEFF][3],o[2]=e[s.BezierSegment.COEFF][2],o[1]=e[s.BezierSegment.COEFF][1],o[0]=e[s.BezierSegment.COEFF][0]-a;var u=[];i=1===n.curve.polyZeroes(o,3,0,1,1,1,u)?u[0]:0}var c=e[s.BezierSegment.POLYY];return i*(i*(i*c[3]+c[2])+c[1])+c[0]}_Find(e,t,r,n){var i,a,o,u,c=0,l=0;if((i=e[s.AnimCurveFields.NUM_SEGMENTS]+1)>0){o=0,u=i-1;do{if(t<(l=(a=o+u>>1)<i-1?r[n+a][s.AnimSegment.TIME]:e[s.AnimCurveFields.END_TIME]))u=a-1;else{if(!(t>l))return[!0,c=a];o=a+1}}while(o<=u);c=o}return[!1,c]}GetNumberOfCurves(){return this.curves.length}GetLength(e){if(e<0||e>=this.curves.length)return 0;var t,r=this.curves[e];return t=r[s.AnimCurveFields.IS_WEIGHTED]?this.bezierSegments[r[s.AnimCurveFields.SEGMENT_OFFSET]]:this.hermiteSegments[r[s.AnimCurveFields.SEGMENT_OFFSET]],r[s.AnimCurveFields.END_TIME]-t[s.AnimSegment.TIME]}}s.AnimCurveFields={NUM_SEGMENTS:0,SEGMENT_OFFSET:1,END_TIME:2,END_VALUE:3,IN_TANGENT:4,OUT_TANGENT:5,PRE_INFINITY:6,POST_INFINITY:7,IS_WEIGHTED:8},s.AnimSegment={TIME:0,VALUE:1},s.HermiteSegment={TIME:0,VALUE:1,COEFF:2,IS_STEP:3,IS_STEP_NEXT:4},s.BezierSegment={TIME:0,VALUE:1,COEFF:2,POLYY:3,IS_STEP:4,IS_STEP_NEXT:5,IS_LINEAR:6},s.INFINITY=0},"./curve/legacy/maya/Tw2MayaEulerRotationCurve.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tw2MayaEulerRotationCurve",(function(){return s}));var n=r("./global/index.js"),i=r("./curve/index.js");class s extends i.Tw2Curve{constructor(...e){super(...e),this.xIndex=-1,this.yIndex=-1,this.zIndex=-1,this.animationEngine=null,this.eulerValue=n.vec3.create(),this.updateQuaternion=!1,this.quatValue=n.quat.create(),this.length=0}Sort(){this.ComputeLength()}GetLength(){return this.length}UpdateValue(e){if(this.animationEngine&&(this.xIndex&&(this.eulerValue[0]=this.animationEngine.Evaluate(this.xIndex,e)),this.yIndex&&(this.yIndex===this.xIndex?this.eulerValue[1]=this.eulerValue[0]:this.eulerValue[1]=this.animationEngine.Evaluate(this.yIndex,e)),this.zIndex&&(this.zIndex===this.xIndex?this.eulerValue[2]=this.eulerValue[0]:this.eulerValue[2]=this.animationEngine.Evaluate(this.zIndex,e)),this.updateQuaternion)){var t=Math.sin(this.eulerValue[0]/2),r=Math.cos(this.eulerValue[0]/2),n=Math.sin(this.eulerValue[1]/2),i=Math.cos(this.eulerValue[1]/2),s=Math.sin(this.eulerValue[2]/2),a=Math.cos(this.eulerValue[2]/2);this.quatValue[0]=t*i*s+r*n*a,this.quatValue[1]=t*i*a-r*n*s,this.quatValue[2]=r*i*s-t*n*a,this.quatValue[3]=r*i*a+t*n*s}}ComputeLength(){this.animationEngine&&0!==this.animationEngine.GetNumberOfCurves()&&(this.length=0,this.xIndex>=0&&(this.length=this.animationEngine.GetLength(this.xIndex)),this.yIndex>=0&&(this.length=Math.max(this.length,this.animationEngine.GetLength(this.yIndex))),this.zIndex>=0&&(this.length=Math.max(this.length,this.animationEngine.GetLength(this.zIndex))))}}s.outputDimension=3,s.valueProperty="eulerValue",s.curveType=i.Tw2Curve.Type.CURVE_MAYA},"./curve/legacy/maya/Tw2MayaScalarCurve.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tw2MayaScalarCurve",(function(){return i}));var n=r("./curve/index.js");class i extends n.Tw2Curve{constructor(...e){super(...e),this.index=-1,this.animationEngine=null,this.value=0,this.length=0}Sort(){this.ComputeLength()}GetLength(){return this.length}UpdateValue(e){this.animationEngine&&(this.value=this.animationEngine.Evaluate(this.index,e))}ComputeLength(){this.animationEngine&&0!==this.animationEngine.GetNumberOfCurves()&&this.index>=0&&(this.length=this.animationEngine.GetLength(this.index))}}i.outputDimension=1,i.valueProperty="value",i.curveType=n.Tw2Curve.Type.CURVE_MAYA},"./curve/legacy/maya/Tw2MayaVector3Curve.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tw2MayaVector3Curve",(function(){return s}));var n=r("./global/index.js"),i=r("./curve/index.js");class s extends i.Tw2Curve{constructor(...e){super(...e),this.xIndex=-1,this.yIndex=-1,this.zIndex=-1,this.animationEngine=null,this.value=n.vec3.create(),this.length=0}Sort(){this.ComputeLength()}GetLength(){return this.length}UpdateValue(e){this.animationEngine&&(this.xIndex&&(this.value[0]=this.animationEngine.Evaluate(this.xIndex,e)),this.yIndex&&(this.yIndex===this.xIndex?this.value[1]=this.value[0]:this.value[1]=this.animationEngine.Evaluate(this.yIndex,e)),this.zIndex&&(this.zIndex===this.xIndex?this.value[2]=this.value[0]:this.value[2]=this.animationEngine.Evaluate(this.zIndex,e)))}ComputeLength(){this.animationEngine&&0!==this.animationEngine.GetNumberOfCurves()&&(this.length=0,this.xIndex>=0&&(this.length=this.animationEngine.GetLength(this.xIndex)),this.yIndex>=0&&(this.length=Math.max(this.length,this.animationEngine.GetLength(this.yIndex))),this.zIndex>=0&&(this.length=Math.max(this.length,this.animationEngine.GetLength(this.zIndex))))}}s.outputDimension=3,s.valueProperty="value",s.curveType=i.Tw2Curve.Type.CURVE_MAYA},"./curve/legacy/maya/index.js":function(e,t,r){"use strict";r.r(t);var n=r("./curve/legacy/maya/Tw2MayaEulerRotationCurve.js");r.d(t,"Tw2MayaEulerRotationCurve",(function(){return n.Tw2MayaEulerRotationCurve}));var i=r("./curve/legacy/maya/Tw2MayaScalarCurve.js");r.d(t,"Tw2MayaScalarCurve",(function(){return i.Tw2MayaScalarCurve}));var s=r("./curve/legacy/maya/Tw2MayaVector3Curve.js");r.d(t,"Tw2MayaVector3Curve",(function(){return s.Tw2MayaVector3Curve}));var a=r("./curve/legacy/maya/Tw2MayaAnimationEngine.js");r.d(t,"Tw2MayaAnimationEngine",(function(){return a.Tw2MayaAnimationEngine}))},"./curve/legacy/tracks/Tw2TransformTrack.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tw2TransformTrack",(function(){return i}));var n=r("./global/index.js");class i{constructor(){this._id=n.util.generateID(),this.name="",this.resPath="",this.res=null,this.group="",this.cycle=!1,this.duration=0,this.translation=n.vec3.create(),this.rotation=n.quat.create(),this.scale=n.vec3.fromValues(0,0,0),this.scaleShear=n.mat4.create(),this.positionCurve=null,this.orientationCurve=null,this.scaleCurve=null}Initialize(){""!==this.resPath&&(this.res=n.resMan.GetResource(this.resPath))}GetLength(){return this.duration}UpdateValue(e){this.res&&this.res.IsGood()&&(this.positionCurve||this.FindTracks(),this.positionCurve&&(this.cycle&&(e%=this.duration),e>this.duration||e<0||(n.curve.evaluate(this.positionCurve,e,this.translation,this.cycle,this.duration),n.curve.evaluate(this.orientationCurve,e,this.rotation,this.cycle,this.duration),n.quat.normalize(this.rotation,this.rotation),n.curve.evaluate(this.scaleCurve,e,this.scaleShear,this.cycle,this.duration),n.mat4.getScaling(this.scale,this.scaleCurve))))}FindTracks(){for(var e=null,t=0;t<this.res.animations.length;++t)for(var r=0;r<this.res.animations[t].trackGroups.length;++r)if(this.res.animations[t].trackGroups[r].name===this.group){this.duration=this.res.animations[t].duration,e=this.res.animations[t].trackGroups[r];break}if(e)for(var n=0;n<e.transformTracks.length;++n)if(this.name===e.transformTracks[n].name){this.positionCurve=e.transformTracks[n].position,this.orientationCurve=e.transformTracks[n].orientation,this.scaleCurve=e.transformTracks[n].scaleShear;break}}}},"./curve/legacy/tracks/Tw2WbgTrack.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tw2WbgTrack",(function(){return i})),r.d(t,"Tw2WbgTransformTrack",(function(){return s}));var n=r("./global/index.js");function i(){this._id=n.util.generateID(),this.name="",this.geometryResPath="",this.geometryRes=null,this.group="",this.duration=0,this.cycle=!1,this.Initialize=function(){this.geometryResPath&&(this.geometryRes=n.resMan.GetResource(this.geometryResPath,e=>(function(e){if(e.name&&e.group&&e.geometryRes)for(var t=0;t<e.geometryRes.animations.length;++t)for(var r=e.geometryRes.animations[t],n=0;n<r.trackGroups.length;++n)r.trackGroups[n].name===e.group&&e._ApplyTracks(r.trackGroups[n],r.duration)})(this)))},this.UpdateValue=function(e){this._TracksReady()&&(this.cycle&&(e%=this.duration),e<=this.duration&&e>=0&&this._UpdateValue(e))}}function s(){this._id=n.util.generateID(),this.translation=n.vec3.create(),this.rotation=n.quat.create(),this.rotation[3]=1,this.scale=n.vec3.create();var e=null,t=null,r=null,i=n.mat4.create();this._TracksReady=function(){return e||t||r},this._ApplyTracks=function(n,i){for(var s=0;s<n.transformTracks.length;++s){var a=n.transformTracks[s];a.name===this.name&&(this.duration=i,e=a.position,t=a.orientation,r=a.scaleShear)}this.UpdateValue(0)},this._UpdateValue=function(s){e&&n.curve.evaluate(e,s,this.translation,this.cycle,this.duration),t&&(n.curve.evaluate(t,s,this.rotation,this.cycle,this.duration),n.quat.normalize(this.rotation,this.rotation)),r&&n.curve.evaluate(r,s,i,this.cycle,this.duration),this.scale[0]=i[0],this.scale[1]=i[5],this.scale[2]=i[10]}}s.prototype=new i},"./curve/legacy/tracks/index.js":function(e,t,r){"use strict";r.r(t);var n=r("./curve/legacy/tracks/Tw2WbgTrack.js");r.d(t,"Tw2WbgTrack",(function(){return n.Tw2WbgTrack})),r.d(t,"Tw2WbgTransformTrack",(function(){return n.Tw2WbgTransformTrack}));var i=r("./curve/legacy/tracks/Tw2TransformTrack.js");r.d(t,"Tw2TransformTrack",(function(){return i.Tw2TransformTrack}))},"./curve/sequencer/TriColorSequencer.js":function(e,t,r){"use strict";r.r(t),r.d(t,"TriColorSequencer",(function(){return s}));var n=r("./global/index.js"),i=r("./curve/sequencer/Tw2CurveSequencer.js");class s extends i.Tw2CurveSequencer{constructor(...e){super(...e),this.functions=[],this.value=n.vec4.create()}Sort(){i.Tw2CurveSequencer.Sort(this)}GetLength(){return i.Tw2CurveSequencer.GetLengthFromKeys(this)}UpdateValue(e){this.GetValueAt(e,this.value)}GetValueAt(e,t){var r=i.Tw2CurveSequencer.global.vec4_0;n.vec4.set(r,0,0,0,0);for(var s=0;s<this.functions.length;s++)this.functions[s].GetValueAt(e,t),n.vec4.add(t,t,r);return t}static black(e){return[["functions",e.array],["name",e.string],["value",e.vector4]]}}s.inputDimension=4,s.outputDimension=4,s.valueProperty="value",s.curveType=i.Tw2CurveSequencer.Type.SEQUENCER,s.childArray="functions",s.__isStaging=2},"./curve/sequencer/Tw2CurveColor.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tw2CurveColor",(function(){return s}));var n=r("./curve/sequencer/Tw2CurveSequencer.js"),i=r("./global/index.js");class s extends n.Tw2CurveSequencer{constructor(...e){super(...e),this.r=null,this.g=null,this.b=null,this.a=null,this.currentValue=i.vec4.fromValues(0,0,0,0)}Sort(){n.Tw2CurveSequencer.Sort2(this)}GetLength(){return n.Tw2CurveSequencer.GetLengthFromProperties(this)}UpdateValue(e){this.GetValueAt(e,this.currentValue)}GetValueAt(e,t){return t[0]=this.r?this.r.GetValueAt(e):0,t[1]=this.g?this.g.GetValueAt(e):0,t[2]=this.b?this.b.GetValueAt(e):0,t[3]=this.a?this.a.GetValueAt(e):0,t}static black(e){return[["name",e.string],["r",e.rawObject],["g",e.rawObject],["b",e.rawObject],["a",e.rawObject]]}}s.inputDimension=1,s.outputDimension=4,s.valueProperty="currentValue",s.curveType=n.Tw2CurveSequencer.Type.SEQUENCER,s.childProperties=["r","g","b","a"],s.__isStaging=2},"./curve/sequencer/Tw2CurveEulerRotation.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tw2CurveEulerRotation",(function(){return s}));var n=r("./curve/sequencer/Tw2CurveSequencer.js"),i=r("./global/index.js");class s extends n.Tw2CurveSequencer{constructor(...e){super(...e),this.pitch=null,this.roll=null,this.yaw=null,this.currentValue=i.quat.create()}Sort(){n.Tw2CurveSequencer.Sort2(this)}GetLength(){return n.Tw2CurveSequencer.GetLengthFromProperties(this)}UpdateValue(e){this.GetValueAt(e,this.currentValue)}GetValueAt(e,t){var r=this.yaw?this.yaw.GetValueAt(e):0,n=this.pitch?this.pitch.GetValueAt(e):0,i=this.roll?this.roll.GetValueAt(e):0,s=Math.sin(r/2),a=Math.cos(r/2),o=Math.sin(n/2),u=Math.cos(n/2),c=Math.sin(i/2),l=Math.cos(i/2);return t[0]=s*u*c+a*o*l,t[1]=s*u*l-a*o*c,t[2]=a*u*c-s*o*l,t[3]=a*u*l+s*o*c,t}static black(e){return[["name",e.string],["pitch",e.rawObject],["roll",e.rawObject],["yaw",e.rawObject]]}}s.inputDimension=1,s.outputDimension=4,s.valueProperty="currentValue",s.curveType=n.Tw2CurveSequencer.Type.SEQUENCER2,s.childProperties=["yaw","pitch","roll"],s.__isStaging=2},"./curve/sequencer/Tw2CurveSequencer.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tw2CurveSequencer",(function(){return i}));var n=r("./curve/curve/Tw2Curve.js");class i extends n.Tw2Curve{static Sort(e,t=e.constructor.childArray){var r=e[t];if(r&&r.length)for(var n=0;n<r.length;n++)r[n]&&"Sort"in r[n]&&r[n].Sort()}static Sort2(e,t=e.constructor.childProperties){if(t)for(var r=0;r<t.length;r++){var n=e[t[r]];n&&"Sort"in n&&n.Sort()}}static GetLengthFromKeys(e,t=e.constructor.childArray){for(var r=e[t],n=0,i=0;i<r.length;++i)"GetLength"in r[i]&&(n=Math.max(n,r[i].GetLength()));return n}static GetLengthFromProperties(e,t=e.constructor.childProperties){for(var r=0,n=0;n<t.length;n++){var i=e[t[n]];i&&"GetLength"in i&&(r=Math.max(r,i.GetLength()))}return r}}i.inputDimension=null,i.outputDimension=null,i.childProperties=null,i.childArray=null,i.Operator=null},"./curve/sequencer/Tw2CurveVector3.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tw2CurveVector3",(function(){return s}));var n=r("./curve/sequencer/Tw2CurveSequencer.js"),i=r("./global/index.js");class s extends n.Tw2CurveSequencer{constructor(...e){super(...e),this.x=null,this.y=null,this.z=null,this.currentValue=i.vec3.create()}Sort(){n.Tw2CurveSequencer.Sort2(this)}GetLength(){return n.Tw2CurveSequencer.GetLengthFromProperties(this)}UpdateValue(e){this.GetValueAt(e,this.currentValue)}GetValueAt(e,t){return t[0]=this.x?this.x.GetValueAt(e):0,t[1]=this.y?this.y.GetValueAt(e):0,t[2]=this.z?this.z.GetValueAt(e):0,t}static black(e){return[["name",e.string],["x",e.rawObject],["y",e.rawObject],["z",e.rawObject]]}}s.inputDimension=1,s.outputDimension=3,s.valueProperty="currentValue",s.curveType=n.Tw2CurveSequencer.Type.SEQUENCER2,s.childProperties=["x","y","z"],s.__isStaging=2},"./curve/sequencer/index.js":function(e,t,r){"use strict";r.r(t);var n=r("./curve/sequencer/TriColorSequencer.js");r.d(t,"TriColorSequencer",(function(){return n.TriColorSequencer}));var i=r("./curve/sequencer/Tw2CurveColor.js");r.d(t,"Tw2CurveColor",(function(){return i.Tw2CurveColor}));var s=r("./curve/sequencer/Tw2CurveEulerRotation.js");r.d(t,"Tw2CurveEulerRotation",(function(){return s.Tw2CurveEulerRotation}));var a=r("./curve/sequencer/Tw2CurveVector3.js");r.d(t,"Tw2CurveVector3",(function(){return a.Tw2CurveVector3}));var o=r("./curve/sequencer/Tw2CurveSequencer.js");r.d(t,"Tw2CurveSequencer",(function(){return o.Tw2CurveSequencer}));var u=r("./curve/sequencer/legacy/index.js");r.d(t,"Tw2ColorSequencer",(function(){return u.Tw2ColorSequencer})),r.d(t,"Tw2EulerRotation",(function(){return u.Tw2EulerRotation})),r.d(t,"Tw2QuaternionSequencer",(function(){return u.Tw2QuaternionSequencer})),r.d(t,"Tw2RGBAScalarSequencer",(function(){return u.Tw2RGBAScalarSequencer})),r.d(t,"Tw2ScalarSequencer",(function(){return u.Tw2ScalarSequencer})),r.d(t,"Tw2VectorSequencer",(function(){return u.Tw2VectorSequencer})),r.d(t,"Tw2XYZScalarSequencer",(function(){return u.Tw2XYZScalarSequencer})),r.d(t,"Tw2YPRSequencer",(function(){return u.Tw2YPRSequencer}))},"./curve/sequencer/legacy/Tw2ColorSequencer.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tw2ColorSequencer",(function(){return s}));var n=r("./global/index.js"),i=r("./curve/sequencer/Tw2CurveSequencer.js");class s extends i.Tw2CurveSequencer{constructor(...e){super(...e),this.start=0,this.value=n.vec4.create(),this.operator=0,this.functions=[]}Sort(){i.Tw2CurveSequencer.Sort(this)}GetLength(){return i.Tw2CurveSequencer.GetLengthFromKeys(this)}UpdateValue(e){this.GetValueAt(e,this.value)}GetValueAt(e,t){var r=i.Tw2CurveSequencer.global.vec4_0;switch(this.operator){case s.Operator.MULTIPLY:n.vec4.set(t,1,1,1,1);for(var a=0;a<this.functions.length;++a)this.functions[a].GetValueAt(e,r),n.vec4.multiply(t,t,r);break;default:n.vec4.set(t,0,0,0,0);for(var o=0;o<this.functions.length;++o)this.functions[o].GetValueAt(e,r),n.vec4.add(t,t,r)}return t}}s.inputDimension=4,s.outputDimension=4,s.valueProperty="value",s.curveType=i.Tw2CurveSequencer.Type.SEQUENCER,s.childArray="functions",s.Operator={MULTIPLY:0,ADD:1}},"./curve/sequencer/legacy/Tw2EulerRotation.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tw2EulerRotation",(function(){return s}));var n=r("./global/index.js"),i=r("./curve/sequencer/Tw2CurveSequencer.js");class s extends i.Tw2CurveSequencer{constructor(...e){super(...e),this.yawCurve=null,this.pitchCurve=null,this.rollCurve=null,this.currentValue=n.quat.create()}Sort(){i.Tw2CurveSequencer.Sort2(this)}GetLength(){return i.Tw2CurveSequencer.GetLengthFromProperties(this)}UpdateValue(e){this.GetValueAt(e,this.currentValue)}GetValueAt(e,t){var r=this.yawCurve?this.yawCurve.GetValueAt(e):0,n=this.pitchCurve?this.pitchCurve.GetValueAt(e):0,i=this.rollCurve?this.rollCurve.GetValueAt(e):0,s=Math.sin(r/2),a=Math.cos(r/2),o=Math.sin(n/2),u=Math.cos(n/2),c=Math.sin(i/2),l=Math.cos(i/2);return t[0]=s*u*c+a*o*l,t[1]=s*u*l-a*o*c,t[2]=a*u*c-s*o*l,t[3]=a*u*l+s*o*c,t}}s.inputDimension=1,s.outputDimension=4,s.valueProperty="currentValue",s.curveType=i.Tw2CurveSequencer.Type.SEQUENCER2,s.childProperties=["yawCurve","pitchCurve","rollCurve"]},"./curve/sequencer/legacy/Tw2QuaternionSequencer.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tw2QuaternionSequencer",(function(){return s}));var n=r("./global/index.js"),i=r("./curve/sequencer/Tw2CurveSequencer.js");class s extends i.Tw2CurveSequencer{constructor(...e){super(...e),this.start=0,this.value=n.quat.create(),this.functions=[]}Sort(){i.Tw2CurveSequencer.Sort(this)}GetLength(){return i.Tw2CurveSequencer.GetLengthFromKeys(this)}UpdateValue(e){this.GetValueAt(e,this.value)}GetValueAt(e,t){n.quat.identity(t);for(var r=i.Tw2CurveSequencer.global.quat_0,s=0;s<this.functions.length;++s)this.functions[s].GetValueAt(e,r),n.quat.multiply(t,t,r);return t}}s.inputDimension=4,s.outputDimension=4,s.valueProperty="value",s.curveType=i.Tw2CurveSequencer.Type.SEQUENCER,s.childArray="functions"},"./curve/sequencer/legacy/Tw2RGBAScalarSequencer.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tw2RGBAScalarSequencer",(function(){return s}));var n=r("./global/index.js"),i=r("./curve/sequencer/Tw2CurveSequencer.js");class s extends i.Tw2CurveSequencer{constructor(...e){super(...e),this.value=n.vec4.create(),this.RedCurve=null,this.GreenCurve=null,this.BlueCurve=null,this.AlphaCurve=null}Sort(){i.Tw2CurveSequencer.Sort2(this)}GetLength(){return i.Tw2CurveSequencer.GetLengthFromProperties(this)}UpdateValue(e){this.GetValueAt(e,this.value)}GetValueAt(e,t){return t[0]=this.RedCurve?this.RedCurve.GetValueAt(e):0,t[1]=this.GreenCurve?this.GreenCurve.GetValueAt(e):0,t[2]=this.BlueCurve?this.BlueCurve.GetValueAt(e):0,t[3]=this.AlphaCurve?this.AlphaCurve.GetValueAt(e):0,t}}s.inputDimension=1,s.outputDimension=4,s.valueProperty="value",s.curveType=i.Tw2CurveSequencer.Type.SEQUENCER2,s.childProperties=["RedCurve","GreenCurve","BlueCurve","AlphaCurve"]},"./curve/sequencer/legacy/Tw2ScalarSequencer.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tw2ScalarSequencer",(function(){return i}));var n=r("./curve/sequencer/Tw2CurveSequencer.js");class i extends n.Tw2CurveSequencer{constructor(...e){super(...e),this.value=0,this.operator=0,this.functions=[],this.inMinClamp=0,this.inMaxClamp=1,this.outMinClamp=0,this.outMaxClamp=1,this.clamping=!1}Sort(){n.Tw2CurveSequencer.Sort(this)}GetLength(){return n.Tw2CurveSequencer.GetLengthFromKeys(this)}UpdateValue(e){this.value=this.GetValueAt(e)}GetValueAt(e){var t;switch(this.operator){case i.Operator.MULTIPLY:t=1;for(var r=0;r<this.functions.length;++r){var n=this.functions[r].GetValueAt(e);this.clamping&&(n=Math.min(Math.max(n,this.inMinClamp),this.inMaxClamp)),t*=n}break;default:t=0;for(var s=0;s<this.functions.length;++s){var a=this.functions[s].GetValueAt(e);this.clamping&&(a=Math.min(Math.max(a,this.inMinClamp),this.inMaxClamp)),t+=a}}return this.clamping&&(t=Math.min(Math.max(t,this.outMinClamp),this.outMaxClamp)),t}}i.inputDimension=1,i.outputDimension=1,i.valueProperty="value",i.curveType=n.Tw2CurveSequencer.Type.SEQUENCER,i.childArray="functions",i.Operator={MULTIPLY:0,ADD:1}},"./curve/sequencer/legacy/Tw2VectorSequencer.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tw2VectorSequencer",(function(){return s}));var n=r("./global/index.js"),i=r("./curve/sequencer/Tw2CurveSequencer.js");class s extends i.Tw2CurveSequencer{constructor(...e){super(...e),this.start=0,this.value=n.vec3.create(),this.operator=0,this.functions=[]}Sort(){i.Tw2CurveSequencer.Sort(this)}GetLength(){return i.Tw2CurveSequencer.GetLengthFromKeys(this)}UpdateValue(e){this.GetValueAt(e,this.value)}GetValueAt(e,t){var r=i.Tw2CurveSequencer.global.vec3_0;switch(this.operator){case s.Operator.MULTIPLY:n.vec3.set(t,1,1,1);for(var a=0;a<this.functions.length;++a)this.functions[a].GetValueAt(e,r),n.vec3.multiply(t,t,r);return t;default:n.vec3.set(t,0,0,0);for(var o=0;o<this.functions.length;++o)this.functions[o].GetValueAt(e,r),n.vec3.add(t,t,r);return t}}}s.inputDimension=3,s.outputDimension=3,s.valueProperty="value",s.curveType=i.Tw2CurveSequencer.Type.SEQUENCER,s.childArray="functions",s.Operator={MULTIPLY:0,ADD:1}},"./curve/sequencer/legacy/Tw2XYZScalarSequencer.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tw2XYZScalarSequencer",(function(){return s}));var n=r("./global/index.js"),i=r("./curve/sequencer/Tw2CurveSequencer.js");class s extends i.Tw2CurveSequencer{constructor(...e){super(...e),this.value=n.vec3.create(),this.XCurve=null,this.YCurve=null,this.ZCurve=null}Sort(){i.Tw2CurveSequencer.Sort2(this)}GetLength(){return i.Tw2CurveSequencer.GetLengthFromProperties(this)}UpdateValue(e){this.GetValueAt(e,this.value)}GetValueAt(e,t){return t[0]=this.XCurve?this.XCurve.GetValueAt(e):0,t[1]=this.YCurve?this.YCurve.GetValueAt(e):0,t[2]=this.ZCurve?this.ZCurve.GetValueAt(e):0,t}}s.inputDimension=1,s.outputDimension=3,s.valueProperty="value",s.curveType=i.Tw2CurveSequencer.Type.SEQUENCER2,s.childProperties=["XCurve","YCurve","ZCurve"]},"./curve/sequencer/legacy/Tw2YPRSequencer.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tw2YPRSequencer",(function(){return s}));var n=r("./global/index.js"),i=r("./curve/sequencer/Tw2CurveSequencer.js");class s extends i.Tw2CurveSequencer{constructor(...e){super(...e),this.value=n.quat.create(),this.YawPitchRoll=n.vec3.create(),this.YawCurve=null,this.PitchCurve=null,this.RollCurve=null}Sort(){i.Tw2CurveSequencer.Sort2(this)}GetLength(){return i.Tw2CurveSequencer.GetLengthFromProperties(this)}UpdateValue(e){this.GetValueAt(e,this.value)}GetValueAt(e,t){this.YawCurve&&(this.YawPitchRoll[0]=this.YawCurve.GetValueAt(e)),this.PitchCurve&&(this.YawPitchRoll[1]=this.PitchCurve.GetValueAt(e)),this.RollCurve&&(this.YawPitchRoll[2]=this.RollCurve.GetValueAt(e));var r=Math.sin(this.YawPitchRoll[0]/180*Math.PI/2),n=Math.cos(this.YawPitchRoll[0]/180*Math.PI/2),i=Math.sin(this.YawPitchRoll[1]/180*Math.PI/2),s=Math.cos(this.YawPitchRoll[1]/180*Math.PI/2),a=Math.sin(this.YawPitchRoll[2]/180*Math.PI/2),o=Math.cos(this.YawPitchRoll[2]/180*Math.PI/2);return t[0]=r*s*a+n*i*o,t[1]=r*s*o-n*i*a,t[2]=n*s*a-r*i*o,t[3]=n*s*o+r*i*a,t}}s.inputDimension=1,s.outputDimension=4,s.valueProperty="value",s.curveType=i.Tw2CurveSequencer.Type.SEQUENCER2,s.childProperties=["YawCurve","PitchCurve","RollCurve"]},"./curve/sequencer/legacy/index.js":function(e,t,r){"use strict";r.r(t);var n=r("./curve/sequencer/legacy/Tw2ColorSequencer.js");r.d(t,"Tw2ColorSequencer",(function(){return n.Tw2ColorSequencer}));var i=r("./curve/sequencer/legacy/Tw2EulerRotation.js");r.d(t,"Tw2EulerRotation",(function(){return i.Tw2EulerRotation}));var s=r("./curve/sequencer/legacy/Tw2QuaternionSequencer.js");r.d(t,"Tw2QuaternionSequencer",(function(){return s.Tw2QuaternionSequencer}));var a=r("./curve/sequencer/legacy/Tw2RGBAScalarSequencer.js");r.d(t,"Tw2RGBAScalarSequencer",(function(){return a.Tw2RGBAScalarSequencer}));var o=r("./curve/sequencer/legacy/Tw2ScalarSequencer.js");r.d(t,"Tw2ScalarSequencer",(function(){return o.Tw2ScalarSequencer}));var u=r("./curve/sequencer/legacy/Tw2VectorSequencer.js");r.d(t,"Tw2VectorSequencer",(function(){return u.Tw2VectorSequencer}));var c=r("./curve/sequencer/legacy/Tw2XYZScalarSequencer.js");r.d(t,"Tw2XYZScalarSequencer",(function(){return c.Tw2XYZScalarSequencer}));var l=r("./curve/sequencer/legacy/Tw2YPRSequencer.js");r.d(t,"Tw2YPRSequencer",(function(){return l.Tw2YPRSequencer}))},"./eve/EveCamera.js":function(e,t,r){"use strict";r.r(t),r.d(t,"EveCamera",(function(){return i}));var n=r("./global/index.js");class i extends n.Tw2BaseClass{constructor(...e){super(...e),this.fieldOfView=0,this.friction=0,this.frontClip=0,this.idleMove=!1,this.idleScale=0,this.idleSpeed=0,this.intr=n.vec3.create(),this.maxSpeed=0,this.noiseScale=0,this.noiseScaleCurve=null,this.pitch=0,this.pos=n.vec3.create(),this.rotationAroundParent=n.quat.create(),this.translationFromParent=0,this.yaw=0,this.zoomCurve=null}static black(e){return[["fieldOfView",e.float],["friction",e.float],["frontClip",e.float],["idleMove",e.boolean],["idleScale",e.float],["idleSpeed",e.float],["intr",e.vector3],["pitch",e.float],["pos",e.vector3],["maxSpeed",e.float],["noiseScale",e.float],["noiseScaleCurve",e.object],["rotationAroundParent",e.vector4],["translationFromParent",e.float],["yaw",e.float],["zoomCurve",e.object]]}}i.__isStaging=4},"./eve/EveLineContainer.js":function(e,t,r){"use strict";r.r(t),r.d(t,"EveLineContainer",(function(){return i}));var n=r("./global/index.js");class i extends n.Tw2BaseClass{constructor(...e){super(...e),this.lineSet=null}static black(e){return[["lineSet",e.object]]}}i.__isStaging=4},"./eve/EveSpaceScene.js":function(e,t,r){"use strict";r.r(t),r.d(t,"EveSpaceScene",(function(){return s}));var n=r("./global/index.js"),i=r("./core/index.js");class s extends n.Tw2BaseClass{constructor(){super(),this.ambientColor=n.vec4.fromValues(.25,.25,.25,1),this.backgroundEffect=null,this.backgroundObjects=[],this.backgroundRenderingEnabled=!0,this.curveSets=[],this.enableShadows=!1,this.envMap1ResPath="",this.envMap2ResPath="",this.envMapResPath="",this.envMapRotation=n.quat.create(),this.externalParameters=[],this.fogColor=n.vec4.fromValues(.25,.25,.25,1),this.fogEnd=0,this.fogMax=0,this.fogStart=0,this.nebulaIntensity=1,this.objects=[],this.postProcessPath="",this.selfShadowOnly=!1,this.shLightingManager=null,this.shadowFadeThreshold=0,this.shadowThreshold=0,this.starfield=null,this.sunDiffuseColor=n.vec4.fromValues(1,1,1,1),this.sunDiffuseColorWithDynamicLights=n.vec4.fromValues(1,1,1,1),this.sunDirection=n.vec3.fromValues(1,-1,1),this.useSunDiffuseColorWithDynamicLights=!1,this.clearColor=n.vec4.fromValues(0,0,0,1),this.display=!0,this.envMapScaling=n.vec3.fromValues(1,1,1),this.fogBlur=0,this.fogType=0,this.lensflares=[],this.planets=[],this.lineSets=[],this.postProcess=null,this.visible={backgroundObjects:!0,clearColor:!0,debug:!1,environmentReflection:!0,environmentDiffuse:!0,environmentBlur:!0,fog:!0,lensflares:!0,lineSets:!0,objects:!0,planets:!0,post:!0,starField:!0},this._debugHelper=null,this._batches=new i.Tw2BatchAccumulator,this._emptyTexture=null,this._frustum=new i.Tw2Frustum,this._lodEnabled=!1,this._perFrameVS=i.Tw2RawData.from(s.perFrameData.vs),this._perFramePS=i.Tw2RawData.from(s.perFrameData.ps),this._envMapRes=null,this._envMap1Res=null,this._envMap2Res=null,Object.defineProperty(this.visible,"environment",{get:()=>this.backgroundRenderingEnabled,set:e=>this.backgroundRenderingEnabled=e?1:0}),Object.defineProperty(this.visible,"shadow",{get:()=>this.enableShadows,set:e=>this.enableShadows=e?1:0}),s.init()}Initialize(){if(this.SetEnvMapReflection(this.envMapPath),this.SetEnvMapDiffuse(this.envMap1ResPath),this.SetEnvMapBlur(this.envMap2ResPath),this.SetPostProcess(this.postProcessPath),this.objects.length){for(var e=0;e<this.objects.length;e++)this.backgroundObjects.push(this.objects[e]);this.objects.splice(0)}}SetPostProcess(e=""){e?(this.postProcessPath=e.toLowerCase(),n.resMan.GetObject(e,e=>this.postProcess=e)):(this.postProcessPath="",this.postProcess=null)}SetEnvMapReflection(e=""){e?(this.envMapResPath=e,this._envMapRes=n.resMan.GetResource(e)):(this.envMapPath="",this._envMapRes=null)}SetEnvMapDiffuse(e=""){e?(this.envMap1ResPath=e.toLowerCase(),this._envMap1Res=n.resMan.GetResource(e)):(this.envMap1ResPath="",this._envMap1Res=null)}SetEnvMapBlur(e=""){if(!e)return this.envMap2ResPath="",void(this._envMap1Res=null);this.envMap2ResPath=e.toLowerCase(),this._envMap2Res=n.resMan.GetResource(e)}EnableLod(e){this._lodEnabled=e,e||this.PerChildObject("ResetLod")}KeepAlive(){var e=this.GetResources();this.GetChildResources(e);for(var t=0;t<e.length;t++)e[t].KeepAlive()}GetResources(e=[]){for(var t=0;t<this.lensflares.length;t++)this.lensflares[t].GetResources(e);return this.backgroundEffect&&this.backgroundEffect.GetResources(e),this.postProcess&&this.postProcess.GetResources(e),this.starfield&&this.starfield.GetResources(e),this._envMapRes&&!e.includes(this._envMapRes)&&e.push(this._envMapRes),this._envMap1Res&&!e.includes(this._envMap1Res)&&e.push(this._envMapRes),this._envMap2Res&&!e.includes(this._envMap2Res)&&e.push(this._envMapRes),e}GetChildResources(e=[]){return this.PerChildObject("GetResources",e),e}PerChildObject(e,...t){for(var r=0;r<this.planets.length;r++)e in this.planets[r]&&this.planets[r][e](...t);for(var n=0;n<this.objects.length;n++)e in this.objects[n]&&this.objects[n][e](...t);for(var i=0;i<this.backgroundObjects.length;i++)e in this.backgroundObjects[i]&&this.backgroundObjects[i][e](...t);for(var s=0;s<this.lineSets.length;s++)e in this.lineSets[s]&&this.lineSets[s][e](...t)}GetEmptyTexture(){return this._emptyTexture||(this._emptyTexture=n.resMan.GetResource("res:/texture/global/black.dds.0.png")),this._emptyTexture}Update(e){for(var t=0;t<this.curveSets.length;t++)this.curveSets[t].Update(e);this.PerChildObject("Update",e)}RenderBatches(e,t,r=this._batches){for(var n=0;n<t.length;++n)"GetBatches"in t[n]&&t[n].GetBatches(e,r)}Render(e){this.ApplyPerFrameData();var t=n.device,r=s.global,i=void 0,a=this.visible;if(a.environment&&this.backgroundEffect&&(t.SetStandardStates(t.RM_FULLSCREEN),t.RenderCameraSpaceQuad(this.backgroundEffect)),a.planets&&this.planets.length){var o=n.mat4.copy(r.mat4_0,t.projection),u=n.mat4.copy(r.mat4_1,t.projection);u[10]=1e11/(1e4-1e11),u[14]=1e15/(1e4-1e11),t.SetProjection(u,!0),this.ApplyPerFrameData();for(var c=0;c<this.planets.length;++c)this.planets[c].UpdateViewDependentData&&this.planets[c].UpdateViewDependentData(i,e);this._batches.Clear(),t.gl.depthRange(.9,1),this.RenderBatches(t.RM_OPAQUE,this.planets),this.RenderBatches(t.RM_DECAL,this.planets),this.RenderBatches(t.RM_TRANSPARENT,this.planets),this.RenderBatches(t.RM_ADDITIVE,this.planets),this._batches.Render(),t.SetProjection(o,!0),this.ApplyPerFrameData(),t.gl.depthRange(0,.9)}if(this._lodEnabled&&(this._frustum.Initialize(t.view,t.projection,t.viewportWidth,t.viewInverse,t.viewProjection),this.PerChildObject("UpdateLod",this._frustum)),a.objects)for(var l=0;l<this.objects.length;++l)this.objects[l].UpdateViewDependentData&&this.objects[l].UpdateViewDependentData(i,e);if(a.backgroundObjects)for(var h=0;h<this.backgroundObjects.length;h++)this.backgroundObjects[h].UpdateViewDependentData&&this.backgroundObjects[h].UpdateViewDependentData(i,e);if(a.lineSets)for(var d=0;d<this.lineSets.length;d++)this.lineSets[d].UpdateViewDependentData(i,e);if(a.lensflares)for(var f=0;f<this.lensflares.length;++f)this.lensflares[f].PrepareRender();if(this._batches.Clear(),a.planets)for(var m=0;m<this.planets.length;++m)this.planets[m].GetZOnlyBatches(t.RM_OPAQUE,this._batches);if(a.objects&&(this.RenderBatches(t.RM_OPAQUE,this.objects),this.RenderBatches(t.RM_DECAL,this.objects),this.RenderBatches(t.RM_TRANSPARENT,this.objects),this.RenderBatches(t.RM_ADDITIVE,this.objects)),a.backgroundObjects&&(this.RenderBatches(t.RM_OPAQUE,this.backgroundObjects),this.RenderBatches(t.RM_DECAL,this.backgroundObjects),this.RenderBatches(t.RM_TRANSPARENT,this.backgroundObjects),this.RenderBatches(t.RM_ADDITIVE,this.backgroundObjects)),a.lineSets&&(this.RenderBatches(t.RM_TRANSPARENT,this.lineSets),this.RenderBatches(t.RM_ADDITIVE,this.lineSets)),a.lensflares)for(var v=0;v<this.lensflares.length;++v)this.lensflares[v].GetBatches(t.RM_ADDITIVE,this._batches);if(this.starfield,this.postProcess,this._batches.Render(),a.lensflares)for(var p=0;p<this.lensflares.length;++p)this.lensflares[p].UpdateOccluders();a.debug&&s.DebugRenderer&&(this._debugHelper||(this._debugHelper=new s.DebugRenderer),this.PerChildObject("RenderDebugInfo",this._debugHelper),this._debugHelper.Render())}ApplyPerFrameData(){var e=n.device,t=s.global,r=t.mat4_2,i=t.vec3_0,a=this.visible;n.mat4.fromQuat(r,this.envMapRotation),n.mat4.scale(r,r,this.envMapScaling),n.mat4.transpose(r,r),n.vec3.negate(i,this.sunDirection),n.vec3.normalize(i,i);var o=this.fogEnd-this.fogStart;Math.abs(o)<1e-5&&(o=1e-5);var u=1/o,c=this._perFrameVS;c.Set("FogFactors",[this.fogEnd*u,u,this.visible.fog?this.fogMax:0,1]),c.Set("ViewportAdjustment",[1,1,1,1]),c.Set("MiscSettings",[e.currentTime,0,e.viewportWidth,e.viewportHeight]),c.Set("SunData.DirWorld",i),c.Set("SunData.DiffuseColor",this.sunDiffuseColor),c.Set("TargetResolution",e.targetResolution),c.Set("ViewInverseTransposeMat",e.viewInverse),c.Set("ViewProjectionMat",e.viewProjectionTranspose),c.Set("ViewMat",e.viewTranspose),c.Set("ProjectionMat",e.projectionTranspose),c.Set("EnvMapRotationMat",r),e.perFrameVSData=c;var l=this._perFramePS;l.Set("ViewInverseTransposeMat",e.viewInverse),l.Set("ViewMat",e.viewTranspose),l.Set("EnvMapRotationMat",r),l.Set("SunData.DirWorld",i),l.Set("SunData.DiffuseColor",this.sunDiffuseColor),l.Set("SceneData.AmbientColor",this.ambientColor),l.Set("MiscSettings",[e.currentTime,this.fogType,this.fogBlur,1]),l.Set("SceneData.FogColor",this.fogColor),l.Set("FovXY",[e.targetResolution[3],e.targetResolution[2]]),l.Set("ShadowMapSettings",[1,1,0,0]),l.Set("TargetResolution",e.targetResolution),l.SetIndex("SceneData.NebulaIntensity",0,this.nebulaIntensity),l.SetIndex("ViewportSize",0,e.viewportWidth),l.SetIndex("ViewportSize",1,e.viewportHeight),l.SetIndex("ShadowCameraRange",0,1),l.SetIndex("ProjectionToView",0,-e.projection[14]),l.SetIndex("ProjectionToView",1,-e.projection[10]-1),e.perFramePSData=l;var h=this._envMapRes&&a.environmentReflection?this._envMapRes:this.GetEmptyTexture(),d=this._envMap1Res&&a.environmentDiffuse?this._envMap1Res:this.GetEmptyTexture(),f=this._envMap2Res&&a.environmentBlur?this._envMap2Res:this.GetEmptyTexture();n.tw2.GetVariable("EveSpaceSceneEnvMap").SetTextureRes(h),n.tw2.GetVariable("EnvMap1").SetTextureRes(d),n.tw2.GetVariable("EnvMap2").SetTextureRes(f)}static init(){s.global||(s.global={vec3_0:n.vec3.create(),vec4_0:n.vec4.create(),mat4_0:n.mat4.create(),mat4_1:n.mat4.create(),mat4_2:n.mat4.create()})}static black(e){return[["ambientColor",e.color],["backgroundEffect",e.object],["backgroundObjects",e.array],["backgroundRenderingEnabled",e.boolean],["curveSets",e.array],["enableShadows",e.boolean],["envMapResPath",e.path],["envMap1ResPath",e.path],["envMap2ResPath",e.path],["envMapRotation",e.vector4],["externalParameters",e.array],["fogColor",e.color],["fogStart",e.float],["fogEnd",e.float],["fogMax",e.float],["nebulaIntensity",e.float],["objects",e.array],["postProcessPath",e.path],["selfShadowOnly",e.boolean],["starfield",e.object],["shadowFadeThreshold",e.float],["shadowThreshold",e.float],["shLightingManager",e.object],["sunDiffuseColor",e.color],["sunDiffuseColorWithDynamicLights",e.vector4],["sunDirection",e.vector3],["useSunDiffuseColorWithDynamicLights",e.boolean]]}}s.perFrameData={ps:[["ViewInverseTransposeMat",16],["ViewMat",16],["EnvMapRotationMat",16],["SunData.DirWorld",4],["SunData.DiffuseColor",4],["SceneData.AmbientColor",3],["SceneData.NebulaIntensity",1],["SceneData.FogColor",4],["ViewportOffset",2],["ViewportSize",2],["TargetResolution",4],["ShadowMapSettings",4],["ShadowCameraRange",4],["ProjectionToView",2],["FovXY",2],["MiscSettings",4]],vs:[["ViewInverseTransposeMat",16],["ViewProjectionMat",16],["ViewMat",16],["ProjectionMat",16],["ShadowViewMat",16],["ShadowViewProjectionMat",16],["EnvMapRotationMat",16],["SunData.DirWorld",4],["SunData.DiffuseColor",4],["FogFactors",4],["TargetResolution",4],["ViewportAdjustment",4],["MiscSettings",4]]},s.global=null,s.DebugRenderer=window.Tw2DebugRenderer||null,s.__isStaging=2,s.__isScene=!0},"./eve/animation/EveAnimation.js":function(e,t,r){"use strict";r.r(t),r.d(t,"EveAnimation",(function(){return n}));class n{constructor(){this.name="",this.loops=0}static black(e){return[["name",e.string],["loops",e.uint]]}}},"./eve/animation/EveAnimationCommand.js":function(e,t,r){"use strict";r.r(t),r.d(t,"EveAnimationCommand",(function(){return n}));class n{constructor(){this.command=-1}static black(e){return[["command",e.uint]]}}},"./eve/animation/EveAnimationCurve.js":function(e,t,r){"use strict";r.r(t),r.d(t,"EveAnimationCurve",(function(){return n}));class n{constructor(){this.name=""}static black(e){return[["name",e.string]]}}},"./eve/animation/EveAnimationState.js":function(e,t,r){"use strict";r.r(t),r.d(t,"EveAnimationState",(function(){return i}));var n=r("./eve/animation/EveAnimationStateTransition.js");class i{constructor(){this.name="",this.animation=null,this.curves=[],this.commands=[],this.initCommands=[],this.transitions=[]}static black(e){return[["name",e.string],["animation",e.object],["curves",e.array],["commands",e.array],["initCommands",e.array],["transitions",e.structList(n.EveAnimationStateTransition)]]}}},"./eve/animation/EveAnimationStateMachine.js":function(e,t,r){"use strict";r.r(t),r.d(t,"EveAnimationStateMachine",(function(){return n}));class n{constructor(){this.name="",this.autoPlayDefault=!0,this.states=[],this.transitions=[],this.trackMask="",this.defaultAnimation=""}static black(e){return[["name",e.string],["autoPlayDefault",e.boolean],["states",e.array],["transitions",e.array],["trackMask",e.string],["defaultAnimation",e.string]]}}},"./eve/animation/EveAnimationStateTransition.js":function(e,t,r){"use strict";r.r(t),r.d(t,"EveAnimationStateTransition",(function(){return n}));class n{constructor(){this.state="",this.transition=""}static blackStruct(e){var t=new n;return t.state=e.ReadStringU16(),e.ExpectU8(0,"unknown content"),e.ExpectU8(0,"unknown content"),e.ExpectU8(0,"unknown content"),e.ExpectU8(0,"unknown content"),e.ExpectU8(0,"unknown content"),e.ExpectU8(0,"unknown content"),t.transition=e.ReadStringU16(),e.ExpectU8(0,"unknown content"),e.ExpectU8(0,"unknown content"),e.ExpectU8(0,"unknown content"),e.ExpectU8(0,"unknown content"),e.ExpectU8(0,"unknown content"),e.ExpectU8(0,"unknown content"),t}}},"./eve/animation/index.js":function(e,t,r){"use strict";r.r(t);var n=r("./eve/animation/EveAnimation.js");r.d(t,"EveAnimation",(function(){return n.EveAnimation}));var i=r("./eve/animation/EveAnimationCommand.js");r.d(t,"EveAnimationCommand",(function(){return i.EveAnimationCommand}));var s=r("./eve/animation/EveAnimationCurve.js");r.d(t,"EveAnimationCurve",(function(){return s.EveAnimationCurve}));var a=r("./eve/animation/EveAnimationState.js");r.d(t,"EveAnimationState",(function(){return a.EveAnimationState}));var o=r("./eve/animation/EveAnimationStateMachine.js");r.d(t,"EveAnimationStateMachine",(function(){return o.EveAnimationStateMachine}))},"./eve/child/EveChild.js":function(e,t,r){"use strict";r.r(t),r.d(t,"EveChild",(function(){return f}));var n,i,s,a,o,u,c,l,h=r("./global/index.js");function d(e,t,r,n,i){var s={};return Object.keys(n).forEach((function(e){s[e]=n[e]})),s.enumerable=!!s.enumerable,s.configurable=!!s.configurable,("value"in s||s.initializer)&&(s.writable=!0),s=r.slice().reverse().reduce((function(r,n){return n(e,t,r)||r}),s),i&&void 0!==s.initializer&&(s.value=s.initializer?s.initializer.call(i):void 0,s.initializer=void 0),void 0===s.initializer&&(Object.defineProperty(e,t,s),s=null),s}var f=(n=h.meta.abstract,i=h.meta.abstract,s=h.meta.abstract,a=h.meta.abstract,n((l=c=class extends h.Tw2BaseClass{Update(e,t){}GetResources(e=[]){}GetBatches(e,t,r){}},c.global={mat4_0:h.mat4.create(),vec3_0:h.vec3.create()},c.perObjectData={ffe:[["world",16],["worldInverseTranspose",16]]},c.__isEffectChild=!0,d((u=l).prototype,"Update",[i],Object.getOwnPropertyDescriptor(u.prototype,"Update"),u.prototype),d(u.prototype,"GetResources",[s],Object.getOwnPropertyDescriptor(u.prototype,"GetResources"),u.prototype),d(u.prototype,"GetBatches",[a],Object.getOwnPropertyDescriptor(u.prototype,"GetBatches"),u.prototype),o=u))||o)},"./eve/child/EveChildBulletStorm.js":function(e,t,r){"use strict";r.r(t),r.d(t,"EveChildBulletStorm",(function(){return i}));var n=r("./eve/child/EveChild.js");class i extends n.EveChild{constructor(...e){super(...e),this.effect=null,this.multiplier=0,this.range=0,this.sourceLocatorSet="",this.speed=0}GetResources(e=[]){return this.effect&&this.effect.GetResources(e),e}static black(e){return[["effect",e.object],["multiplier",e.uint],["range",e.float],["speed",e.float],["sourceLocatorSet",e.string]]}}i.__isStaging=4},"./eve/child/EveChildCloud.js":function(e,t,r){"use strict";r.r(t),r.d(t,"EveChildCloud",(function(){return s}));var n=r("./global/index.js"),i=r("./eve/child/EveChild.js");class s extends i.EveChild{constructor(...e){super(...e),this.name="",this.cellScreenSize=0,this.effect=null,this.preTesselationLevel=0,this.rotation=n.quat.create(),this.scaling=n.vec3.fromValues(1,1,1),this.sortingModifier=0,this.translation=n.vec3.create()}GetResources(e=[]){return this.effect&&this.effect.GetResources(e),e}static black(e){return[["cellScreenSize",e.float],["sortingModifier",e.float],["effect",e.object],["name",e.string],["preTesselationLevel",e.uint],["rotation",e.vector4],["scaling",e.vector3],["translation",e.vector3]]}}s.__isStaging=4},"./eve/child/EveChildContainer.js":function(e,t,r){"use strict";r.r(t),r.d(t,"EveChildContainer",(function(){return s}));var n=r("./eve/child/EveChild.js"),i=r("./global/index.js");class s extends n.EveChild{constructor(...e){super(...e),this.name="",this.controllers=[],this.curveSets=[],this.display=!0,this.hideOnLowQuality=!1,this.inheritProperties=null,this.lights=[],this.localTransform=i.mat4.create(),this.objects=[],this.observers=[],this.rotation=i.quat.create(),this.scaling=i.vec3.fromValues(1,1,1),this.staticTransform=!1,this.transformModifiers=[],this.translation=i.vec3.create(),this.useSRT=!0,this._worldTransform=i.mat4.create(),this._worldTransformLast=i.mat4.create()}GetResources(e=[]){for(var t=0;t<this.objects.length;t++)this.objects[t].GetResources(e);return e}Update(e,t){this.useSRT&&i.mat4.fromRotationTranslationScale(this.localTransform,this.rotation,this.translation,this.scaling),i.mat4.copy(this._worldTransformLast,this._worldTransform),i.mat4.multiply(this._worldTransform,t,this.localTransform);for(var r=0;r<this.curveSets.length;r++)this.curveSets[r].Update(e);for(var n=0;n<this.objects.length;n++)this.objects[n].Update(e,this._worldTransform)}GetBatches(e,t,r){if(this.display)for(var n=0;n<this.objects.length;n++)this.objects[n].GetBatches(e,t,r)}static black(e){return[["boneIndex",e.uint],["controllers",e.array],["display",e.boolean],["localTransform",e.matrix],["name",e.string],["curveSets",e.array],["hideOnLowQuality",e.boolean],["inheritProperties",e.object],["lights",e.array],["observers",e.array],["objects",e.array],["rotation",e.vector4],["scaling",e.vector3],["staticTransform",e.boolean],["transformModifiers",e.array],["translation",e.vector3]]}}s.__isStaging=2},"./eve/child/EveChildExplosion.js":function(e,t,r){"use strict";r.r(t),r.d(t,"EveChildExplosion",(function(){return s}));var n=r("./global/index.js"),i=r("./eve/child/EveChild.js");class s extends i.EveChild{constructor(...e){super(...e),this.name="",this.globalDuration=0,this.globalExplosion=null,this.globalExplosionDelay=0,this.globalScaling=n.vec3.fromValues(1,1,1),this.localDuration=0,this.localExplosion=null,this.localExplosionInterval=0,this.localExplosionIntervalFactor=0,this.localExplosionShared=null,this.localExplosions=[],this.localTransform=n.mat4.create(),this.rotation=n.quat.create(),this.scaling=n.vec3.fromValues(1,1,1)}GetResources(e=[]){this.localExplosion&&this.localExplosion.GetResources(e),this.localExplosionShared&&this.localExplosionShared.GetResources(e);for(var t=0;t<this.localExplosions.length;t++)this.localExplosions[t].GetResources(e);return e}static black(e){return[["globalDuration",e.float],["globalExplosion",e.object],["globalExplosionDelay",e.float],["globalExplosions",e.array],["globalScaling",e.vector3],["localDuration",e.float],["localExplosion",e.object],["localExplosions",e.array],["localExplosionInterval",e.float],["localExplosionIntervalFactor",e.float],["localExplosionShared",e.object],["localTransform",e.matrix],["name",e.string],["rotation",e.vector4],["scaling",e.vector3]]}}s.__isStaging=4},"./eve/child/EveChildInheritProperties.js":function(e,t,r){"use strict";r.r(t),r.d(t,"EveChildInheritProperties",(function(){return n}));class n{static black(e){return[]}}n.__isStaging=4},"./eve/child/EveChildLink.js":function(e,t,r){"use strict";r.r(t),r.d(t,"EveChildLink",(function(){return s}));var n=r("./global/index.js"),i=r("./eve/child/EveChild.js");class s extends i.EveChild{constructor(...e){super(...e),this.name="",this.linkStrengthBindings=[],this.linkStrengthCurves=[],this.mesh=null,this.rotation=n.quat.create()}GetResources(e=[]){return this.mesh&&this.mesh.GetResources(e),e}static black(e){return[["linkStrengthBindings",e.array],["linkStrengthCurves",e.array],["mesh",e.object],["name",e.string],["rotation",e.vector4]]}}s.__isStaging=4},"./eve/child/EveChildMesh.js":function(e,t,r){"use strict";r.r(t),r.d(t,"EveChildMesh",(function(){return a}));var n=r("./global/index.js"),i=r("./core/index.js"),s=r("./eve/child/EveChild.js");class a extends s.EveChild{constructor(...e){super(...e),this.name="",this.display=!0,this.localTransform=n.mat4.create(),this.lowestLodVisible=2,this.mesh=null,this.minScreenSize=0,this.rotation=n.quat.create(),this.scaling=n.vec3.fromValues(1,1,1),this.sortValueOffset=0,this.staticTransform=!1,this.transformModifiers=[],this.translation=n.vec3.create(),this.useSRT=!0,this.useSpaceObjectData=!0,this._worldTransform=n.mat4.create(),this._worldTransformLast=n.mat4.create(),this._perObjectData=null}GetResources(e=[]){return this.mesh&&this.mesh.GetResources(e),e}Update(e,t){this.useSRT&&(n.quat.normalize(this.rotation,this.rotation),n.mat4.fromRotationTranslationScale(this.localTransform,this.rotation,this.translation,this.scaling)),n.mat4.copy(this._worldTransformLast,this._worldTransform),n.mat4.multiply(this._worldTransform,t,this.localTransform)}GetBatches(e,t,r){this.display&&this.mesh&&(this.useSpaceObjectData?(this._perObjectData||(this._perObjectData=new i.Tw2PerObjectData,this._perObjectData.vs=new i.Tw2RawData,this._perObjectData.vs.data=new Float32Array(r.vs.data.length),this._perObjectData.vs.data[33]=1,this._perObjectData.vs.data[35]=1,this._perObjectData.ps=new i.Tw2RawData,this._perObjectData.ps.data=new Float32Array(r.ps.data.length),this._perObjectData.ps.data[1]=1,this._perObjectData.ps.data[3]=1),this._perObjectData.vs.data.set(r.vs.data),this._perObjectData.ps.data.set(r.ps.data),n.mat4.transpose(this._perObjectData.vs.data,this._worldTransform),n.mat4.transpose(this._perObjectData.vs.data.subarray(16),this._worldTransformLast)):(this._perObjectData||(this._perObjectData=i.Tw2PerObjectData.from(s.EveChild.perObjectData)),n.mat4.transpose(this._perObjectData.ffe.Get("world"),this._worldTransform),n.mat4.invert(this._perObjectData.ffe.Get("worldInverseTranspose"),this._worldTransform)),this.mesh.GetBatches(e,t,this._perObjectData))}static black(e){return[["display",e.boolean],["localTransform",e.matrix],["lowestLodVisible",e.uint],["mesh",e.object],["minScreenSize",e.float],["name",e.string],["rotation",e.vector4],["scaling",e.vector3],["sortValueOffset",e.float],["staticTransform",e.boolean],["transformModifiers",e.array],["translation",e.vector3],["useSpaceObjectData",e.boolean],["useSRT",e.boolean]]}}a.__isStaging=1},"./eve/child/EveChildParticleSphere.js":function(e,t,r){"use strict";r.r(t),r.d(t,"EveChildParticleSphere",(function(){return i}));var n=r("./eve/child/EveChild.js");class i extends n.EveChild{constructor(...e){super(...e),this.name="",this.generators=[],this.maxSpeed=0,this.mesh=null,this.movementScale=0,this.particleSystem=null,this.positionShiftDecreaseSpeed=0,this.positionShiftIncreaseSpeed=0,this.positionShiftMax=0,this.positionShiftMin=0,this.radius=0,this.useSpaceObjectData=!1}GetResources(e=[]){return this.mesh&&this.mesh.GetResources(e),this.particleSystem&&this.particleSystem.GetResources&&this.particleSystem.GetResources(e),e}static black(e){return[["generators",e.array],["maxSpeed",e.float],["mesh",e.object],["movementScale",e.float],["name",e.string],["particleSystem",e.object],["positionShiftDecreaseSpeed",e.float],["positionShiftIncreaseSpeed",e.float],["positionShiftMax",e.float],["positionShiftMin",e.float],["radius",e.float],["useSpaceObjectData",e.boolean]]}}i.__isStaging=4},"./eve/child/EveChildParticleSystem.js":function(e,t,r){"use strict";r.r(t),r.d(t,"EveChildParticleSystem",(function(){return a}));var n=r("./global/index.js"),i=r("./core/index.js"),s=r("./eve/child/EveChild.js");class a extends s.EveChild{constructor(...e){super(...e),this.name="",this.display=!0,this.localTransform=n.mat4.create(),this.lodSphereRadius=0,this.mesh=null,this.minScreenSize=0,this.particleEmitters=[],this.particleSystems=[],this.rotation=n.quat.create(),this.scaling=n.vec3.fromValues(1,1,1),this.translation=n.vec3.create(),this.useDynamicLod=!1,this.useSRT=!0,this._worldTransform=n.mat4.create(),this._worldTransformLast=n.mat4.create(),this._perObjectData=i.Tw2PerObjectData.from(s.EveChild.perObjectData)}GetResources(e=[]){this.mesh&&this.mesh.GetResources(e);for(var t=0;t<this.particleEmitters.length;t++)this.particleEmitters[t].GetResources(e);for(var r=0;r<this.particleSystems.length;r++)this.particleSystems[r].GetResources(e);return e}Update(e,t){this.useSRT&&(n.quat.normalize(this.rotation,this.rotation),n.mat4.fromRotationTranslationScale(this.localTransform,this.rotation,this.translation,this.scaling)),n.mat4.copy(this._worldTransformLast,this._worldTransform),n.mat4.multiply(this._worldTransform,t,this.localTransform);for(var r=0;r<this.particleEmitters.length;++r)this.particleEmitters[r].Update(e);for(var i=0;i<this.particleSystems.length;++i)this.particleSystems[i].Update(e)}GetBatches(e,t){this.display&&this.mesh&&(n.mat4.transpose(this._perObjectData.ffe.Get("world"),this._worldTransform),n.mat4.invert(this._perObjectData.ffe.Get("worldInverseTranspose"),this._worldTransform),this.mesh.GetBatches(e,t,this._perObjectData))}static black(e){return[["display",e.boolean],["localTransform",e.matrix],["lodSphereRadius",e.float],["mesh",e.object],["minScreenSize",e.float],["name",e.string],["particleEmitters",e.array],["particleSystems",e.array],["rotation",e.vector4],["scaling",e.vector3],["translation",e.vector3],["useDynamicLod",e.boolean]]}}a.__isStaging=1},"./eve/child/EveChildQuad.js":function(e,t,r){"use strict";r.r(t),r.d(t,"EveChildQuad",(function(){return s}));var n=r("./global/index.js"),i=r("./eve/child/EveChild.js");class s extends i.EveChild{constructor(...e){super(...e),this.name="",this.brightness=0,this.color=n.vec4.create(),this.effect=null,this.localTransform=n.mat4.create(),this.minScreenSize=0,this.rotation=n.quat.create(),this.scaling=n.vec3.fromValues(1,1,1),this.translation=n.vec3.create()}GetResources(e=[]){return this.effect&&this.effect.GetResources(e),e}static black(e){return[["brightness",e.float],["color",e.color],["effect",e.object],["localTransform",e.matrix],["minScreenSize",e.float],["name",e.string],["rotation",e.vector4],["scaling",e.vector3],["translation",e.vector3]]}}s.__isStaging=4},"./eve/child/index.js":function(e,t,r){"use strict";r.r(t);var n=r("./eve/child/EveChildBulletStorm.js");r.d(t,"EveChildBulletStorm",(function(){return n.EveChildBulletStorm}));var i=r("./eve/child/EveChildCloud.js");r.d(t,"EveChildCloud",(function(){return i.EveChildCloud}));var s=r("./eve/child/EveChildContainer.js");r.d(t,"EveChildContainer",(function(){return s.EveChildContainer}));var a=r("./eve/child/EveChildExplosion.js");r.d(t,"EveChildExplosion",(function(){return a.EveChildExplosion}));var o=r("./eve/child/EveChildInheritProperties.js");r.d(t,"EveChildInheritProperties",(function(){return o.EveChildInheritProperties}));var u=r("./eve/child/EveChildLink.js");r.d(t,"EveChildLink",(function(){return u.EveChildLink}));var c=r("./eve/child/EveChildMesh.js");r.d(t,"EveChildMesh",(function(){return c.EveChildMesh}));var l=r("./eve/child/EveChildParticleSphere.js");r.d(t,"EveChildParticleSphere",(function(){return l.EveChildParticleSphere}));var h=r("./eve/child/EveChildParticleSystem.js");r.d(t,"EveChildParticleSystem",(function(){return h.EveChildParticleSystem}));var d=r("./eve/child/EveChildQuad.js");r.d(t,"EveChildQuad",(function(){return d.EveChildQuad}));var f=r("./eve/child/legacy/index.js");r.d(t,"EveChildBillboard",(function(){return f.EveChildBillboard}));var m=r("./eve/child/modifier/index.js");r.d(t,"EveChildModifierAttachToBone",(function(){return m.EveChildModifierAttachToBone})),r.d(t,"EveChildModifierBillboard2D",(function(){return m.EveChildModifierBillboard2D})),r.d(t,"EveChildModifierBillboard3D",(function(){return m.EveChildModifierBillboard3D})),r.d(t,"EveChildModifierCameraOrientedRotationConstrained",(function(){return m.EveChildModifierCameraOrientedRotationConstrained})),r.d(t,"EveChildModifierSRT",(function(){return m.EveChildModifierSRT})),r.d(t,"EveChildModifierTranslateWithCamera",(function(){return m.EveChildModifierTranslateWithCamera}))},"./eve/child/legacy/EveChildBillboard.js":function(e,t,r){"use strict";r.r(t),r.d(t,"EveChildBillboard",(function(){return o}));var n=r("./global/index.js"),i=r("./core/index.js"),s=r("./eve/child/EveChild.js"),{device:a}=n.tw2;class o extends s.EveChild{constructor(...e){super(...e),this.display=!0,this.localTransform=n.mat4.create(),this.lowestLodVisible=2,this.mesh=null,this.rotation=n.quat.create(),this.translation=n.vec3.create(),this.scaling=n.vec3.fromValues(1,1,1),this.staticTransform=!1,this.useSRT=!0,this._perObjectData=i.Tw2PerObjectData.from(s.EveChild.perObjectData),this._worldTransform=n.mat4.create(),this._worldTransformLast=n.mat4.create()}GetResources(e){return this.mesh&&this.mesh.GetResources(e),e}Update(e,t){this.useSRT&&(n.quat.normalize(this.rotation,this.rotation),n.mat4.fromRotationTranslationScale(this.localTransform,this.rotation,this.translation,this.scaling)),n.mat4.copy(this._worldTransformLast,this._worldTransform),n.mat4.multiply(this._worldTransform,t,this.localTransform);var r=s.EveChild.global.mat4_0,i=s.EveChild.global.vec3_0;n.mat4.lookAt(r,a.eyePosition,this._worldTransform.subarray(12),[0,1,0]),n.mat4.transpose(r,r),n.mat4.getScaling(i,t),n.vec3.multiply(i,i,this.scaling),this._worldTransform[0]=r[0]*i[0],this._worldTransform[1]=r[1]*i[0],this._worldTransform[2]=r[2]*i[0],this._worldTransform[4]=r[4]*i[1],this._worldTransform[5]=r[5]*i[1],this._worldTransform[6]=r[6]*i[1],this._worldTransform[8]=r[8]*i[2],this._worldTransform[9]=r[9]*i[2],this._worldTransform[10]=r[10]*i[2]}GetBatches(e,t){this.display&&this.mesh&&(n.mat4.transpose(this._perObjectData.ffe.Get("world"),this._worldTransform),n.mat4.invert(this._perObjectData.ffe.Get("worldInverseTranspose"),this._worldTransform),this.mesh.GetBatches(e,t,this._perObjectData))}}},"./eve/child/legacy/index.js":function(e,t,r){"use strict";r.r(t);var n=r("./eve/child/legacy/EveChildBillboard.js");r.d(t,"EveChildBillboard",(function(){return n.EveChildBillboard}))},"./eve/child/modifier/EveChildModifierAttachToBone.js":function(e,t,r){"use strict";r.r(t),r.d(t,"EveChildModifierAttachToBone",(function(){return i}));var n=r("./global/index.js");class i extends n.Tw2BaseClass{constructor(...e){super(...e),this.boneIndex=-1}static black(e){return[["boneIndex",e.uint]]}}i.__isStaging=4},"./eve/child/modifier/EveChildModifierBillboard2D.js":function(e,t,r){"use strict";r.r(t),r.d(t,"EveChildModifierBillboard2D",(function(){return i}));var n=r("./global/index.js");class i extends n.Tw2BaseClass{}i.black=function(e){return[]},i.__isStaging=4},"./eve/child/modifier/EveChildModifierBillboard3D.js":function(e,t,r){"use strict";r.r(t),r.d(t,"EveChildModifierBillboard3D",(function(){return i}));var n=r("./global/index.js");class i extends n.Tw2BaseClass{}i.black=function(e){return[]},i.__isStaging=4},"./eve/child/modifier/EveChildModifierCameraOrientedRotationConstrained.js":function(e,t,r){"use strict";r.r(t),r.d(t,"EveChildModifierCameraOrientedRotationConstrained",(function(){return i}));var n=r("./global/index.js");class i extends n.Tw2BaseClass{}i.black=function(e){return[]},i.__isStaging=4},"./eve/child/modifier/EveChildModifierSRT.js":function(e,t,r){"use strict";r.r(t),r.d(t,"EveChildModifierSRT",(function(){return i}));var n=r("./global/index.js");class i extends n.Tw2BaseClass{constructor(...e){super(...e),this.rotation=n.quat.create(),this.scaling=n.vec3.fromValues(1,1,1),this.translation=n.vec3.create()}static black(e){return[["rotation",e.vector4],["scaling",e.vector3],["translation",e.vector3]]}}i.__isStaging=2},"./eve/child/modifier/EveChildModifierTranslateWithCamera.js":function(e,t,r){"use strict";r.r(t),r.d(t,"EveChildModifierTranslateWithCamera",(function(){return i}));var n=r("./global/index.js");class i extends n.Tw2BaseClass{}i.black=function(e){return[]},i.__isStaging=4},"./eve/child/modifier/index.js":function(e,t,r){"use strict";r.r(t);var n=r("./eve/child/modifier/EveChildModifierAttachToBone.js");r.d(t,"EveChildModifierAttachToBone",(function(){return n.EveChildModifierAttachToBone}));var i=r("./eve/child/modifier/EveChildModifierBillboard2D.js");r.d(t,"EveChildModifierBillboard2D",(function(){return i.EveChildModifierBillboard2D}));var s=r("./eve/child/modifier/EveChildModifierBillboard3D.js");r.d(t,"EveChildModifierBillboard3D",(function(){return s.EveChildModifierBillboard3D}));var a=r("./eve/child/modifier/EveChildModifierCameraOrientedRotationConstrained.js");r.d(t,"EveChildModifierCameraOrientedRotationConstrained",(function(){return a.EveChildModifierCameraOrientedRotationConstrained}));var o=r("./eve/child/modifier/EveChildModifierSRT.js");r.d(t,"EveChildModifierSRT",(function(){return o.EveChildModifierSRT}));var u=r("./eve/child/modifier/EveChildModifierTranslateWithCamera.js");r.d(t,"EveChildModifierTranslateWithCamera",(function(){return u.EveChildModifierTranslateWithCamera}))},"./eve/effect/EveLensflare.js":function(e,t,r){"use strict";r.r(t),r.d(t,"EveLensflare",(function(){return a}));var n=r("./global/index.js"),i=r("./core/index.js"),s=r("./eve/effect/EveOccluder.js");class a extends n.Tw2BaseClass{constructor(){super(),this.name="",this.backgroundOccluders=[],this.bindings=[],this.distanceToCenterCurves=[],this.distanceToEdgeCurves=[],this.mesh=null,this.occluders=[],this.position=n.vec3.create(),this.radialAngleCurves=[],this.xDistanceToCenter=[],this.yDistanceToCenter=[],this.zDistanceToCenter=[],this.display=!0,this.update=!0,this.doOcclusionQueries=!0,this.cameraFactor=20,this.flares=[],this.occlusionIntensity=1,this.backgroundOcclusionIntensity=1,this.curveSets=[],this._direction=n.vec3.create(),this._transform=n.mat4.create(),this._backBuffer=null,a.init()}UpdateOccluders(){if(this.doOcclusionQueries){var e=n.device,t=e.gl,r=a.global;if(!r.occluderLevels[0].texture||r.occluderLevels[0].width<2*this.occluders.length)for(var i=0;i<r.occluderLevels.length;++i)r.occluderLevels[i].Create(2*this.occluders.length,1,!1);for(var o=0;o<this.flares.length;++o)"_backBuffer"in this.flares[o]&&(this.flares[o]._backBuffer.textureRes=r.occluderLevels.texture);this.occlusionIntensity=1,this.backgroundOcclusionIntensity=1,r.occluderLevels[r.occludedLevelIndex].Set(),e.SetStandardStates(e.RM_OPAQUE),t.clearColor(0,0,0,1),t.clear(t.COLOR_BUFFER_BIT),r.occluderLevels[r.occludedLevelIndex].Unset();var u=1;e.antialiasing&&(u=e.msaaSamples,t.sampleCoverage(1/u,!1));for(var c=0;c<this.occluders.length;++c)e.SetRenderState(n.RS_COLORWRITEENABLE,8),t.colorMask(!1,!1,!1,!0),t.clearColor(0,0,0,0),t.clear(t.COLOR_BUFFER_BIT),e.antialiasing&&(t.enable(t.SAMPLE_COVERAGE),t.sampleCoverage(.25,!1)),this.occluders[c].UpdateValue(this._transform,c),e.antialiasing&&t.disable(t.SAMPLE_COVERAGE),r.backBuffer.texture||r.backBuffer.Attach(t.createTexture()),t.bindTexture(t.TEXTURE_2D,r.backBuffer.texture),r.backBuffer.width===e.viewportWidth&&r.backBuffer.height===e.viewportHeight||(t.texImage2D(t.TEXTURE_2D,0,t.RGBA,e.viewportWidth,e.viewportHeight,0,t.RGBA,t.UNSIGNED_BYTE,null),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,t.LINEAR),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t.LINEAR),r.backBuffer.width=e.viewportWidth,r.backBuffer.height=e.viewportHeight),t.copyTexImage2D(t.TEXTURE_2D,0,e.alphaBlendBackBuffer?t.RGBA:t.RGB,0,0,r.backBuffer.width,r.backBuffer.height,0),t.bindTexture(t.TEXTURE_2D,null),r.occluderLevels[r.occludedLevelIndex].Set(),s.EveOccluder.CollectSamples(r.backBuffer,c,r.occluderLevels[0].width/2,u),r.occluderLevels[r.occludedLevelIndex].Unset();e.antialiasing&&t.sampleCoverage(1,!1),r.occluderLevels[(r.occludedLevelIndex+1)%r.occluderLevels.length].Set();var l=new Uint8Array(4*r.occluderLevels[0].width);t.readPixels(0,0,2,1,t.RGBA,t.UNSIGNED_BYTE,l),r.occluderLevels[(r.occludedLevelIndex+1)%r.occluderLevels.length].Unset(),this.occlusionIntensity=1;for(var h=0;h<2*r.occluderLevels[0].width;h+=4)this.occlusionIntensity*=l[h+1]?l[h]/l[h+1]:1;this.backgroundOcclusionIntensity=this.occlusionIntensity,n.tw2.SetVariableValue("LensflareFxOccScale",[this.occlusionIntensity,this.occlusionIntensity,0,0]),r.occludedLevelIndex=(r.occludedLevelIndex+1)%r.occluderLevels.length}}GetBatches(e,t,r){if(this.display){var i=n.vec4.set(a.global.vec4_0,0,0,1,0);if(n.vec4.transformMat4(i,i,n.device.viewInverse),n.vec3.dot(i,this._direction)<0)return;for(var s=0;s<this.flares.length;++s)this.flares[s].GetBatches(e,t,r);this.mesh&&this.mesh.GetBatches(e,t,r)}}PrepareRender(){if(this.display){var e=a.global,t=e.vec4_0,r=e.vec3_0,i=n.mat4.identity(e.mat4_0),s=e.vec3_2,o=e.vec3_3,u=e.vec3_1,c=e.vec4_1;n.vec3.transformMat4(r,[0,0,0],n.device.viewInverse),0===n.vec3.length(this.position)?n.vec3.negate(u,r):(n.vec3.negate(u,this.position),n.vec3.normalize(this._direction,u)),n.vec4.transformMat4(t,[0,0,1,0],n.device.viewInverse),n.vec3.scaleAndAdd(s,r,t,-this.cameraFactor),n.vec3.negate(o,this._direction),n.mat4.arcFromForward(this._transform,o),n.mat4.setTranslation(this._transform,s),n.mat4.scale(i,i,[this.occlusionIntensity,this.occlusionIntensity,1]);var l=this._direction;n.tw2.SetVariableValue("LensflareFxDirectionScale",[l[0],l[1],l[2],1]),n.vec4.set(c,l[0],l[1],l[2],0),n.vec4.transformMat4(c,c,n.device.view),n.vec4.transformMat4(c,c,n.device.projection),c[0]/=c[3],c[1]/=c[3];for(var h=1-Math.min(1-Math.abs(c[0]),1-Math.abs(c[1])),d=Math.sqrt(c[0]*c[0]+c[1]*c[1]),f=Math.atan2(c[1],c[0])+Math.PI,m=0;m<this.distanceToEdgeCurves.length;++m)this.distanceToEdgeCurves[m].UpdateValue(h);for(var v=0;v<this.distanceToCenterCurves.length;++v)this.distanceToCenterCurves[v].UpdateValue(d);for(var p=0;p<this.radialAngleCurves.length;++p)this.radialAngleCurves[p].UpdateValue(f);for(var _=0;_<this.xDistanceToCenter.length;++_)this.xDistanceToCenter[_].UpdateValue(c[0]+10);for(var E=0;E<this.yDistanceToCenter.length;++E)this.yDistanceToCenter[E].UpdateValue(c[1]+10);for(var S=0;S<this.bindings.length;++S)this.bindings[S].CopyValue();for(var T=0;T<this.flares.length;++T)this.flares[T].UpdateViewDependentData(this._transform)}}static init(){if(!a.global){var e=a.global={};e.vec3_0=n.vec3.create(),e.vec3_1=n.vec3.create(),e.vec3_2=n.vec3.create(),e.vec3_3=n.vec3.create(),e.vec4_0=n.vec4.create(),e.vec4_1=n.vec4.create(),e.mat4_0=n.mat4.create(),e.backBuffer=new i.Tw2TextureRes,e.backBuffer.width=0,e.backBuffer.height=0,e.backBuffer.hasMipMaps=!1,e.occludedLevelIndex=0,e.occluderLevels=[new i.Tw2RenderTarget,new i.Tw2RenderTarget,new i.Tw2RenderTarget,new i.Tw2RenderTarget]}}static black(e){return[["backgroundOccluders",e.array],["bindings",e.array],["distanceToCenterCurves",e.array],["distanceToEdgeCurves",e.array],["mesh",e.object],["name",e.string],["occluders",e.array],["position",e.vector3],["radialAngleCurves",e.array],["xDistanceToCenter",e.array],["yDistanceToCenter",e.array],["zDistanceToCenter",e.array]]}}a.global=null,a.__isStaging=1,a.__isLensflare=!0},"./eve/effect/EveMeshOverlayEffect.js":function(e,t,r){"use strict";r.r(t),r.d(t,"EveMeshOverlayEffect",(function(){return o}));var n=r("./core/index.js"),i=r("./curve/index.js"),s=r("./global/index.js"),a=r("./global/util/index.js");class o extends s.Tw2BaseClass{constructor(...e){super(...e),this.name="",this.additiveEffects=[],this.curveSet=null,this.distortionEffects=[],this.opaqueEffects=[],this.transparentEffects=[],this.decalEffects=[],this.display=!0,this.update=!0,this.visible={opaqueEffects:!0,decalEffects:!0,transparentEffects:!0,additiveEffects:!0,distortionEffects:!0}}static createAreaEffects(e,t,r){r=Object(a.toArray)(r);for(var i=0;i<r.length;i++){var s=r[i];if(s in t&&s in e)for(var o=0;o<t[s].length;o++)e[s].push(n.Tw2Effect.from(t[s][o]))}}static from(e,t){var r=new o;if(e){Object(a.assignIfExists)(r,e,["name","display","update"]),e.curveSet&&(r.curveSet=i.Tw2CurveSet.from(e.curveSet));var n=["additiveEffects","distortionEffects","opaqueEffects","transparentEffects","decalEffects"];e.visible&&Object(a.assignIfExists)(r.visible,e.visible,n),this.createAreaEffects(r,e,n)}return!t||t.skipUpdate,r}Update(e){this.update&&this.curveSet&&this.curveSet.Update(e)}GetBatches(e,t,r,i){if(this.display&&i&&i.IsGood())for(var s=this.GetEffects(e),a=0;a<s.length;a++){var o=new n.Tw2GeometryBatch;o.renderMode=e,o.perObjectData=r,o.geometryRes=i.geometryResource,o.meshIx=i.meshIndex,o.start=0,o.count=i.geometryResource.meshes[i.meshIndex].areas.length,o.effect=s[a],t.Commit(o)}}GetEffects(e){if(this.display)switch(e){case s.RM_OPAQUE:if(this.visible.opaqueEffects)return this.opaqueEffects;break;case s.RM_TRANSPARENT:if(this.visible.transparentEffects)return this.transparentEffects;break;case s.RM_ADDITIVE:if(this.visible.additiveEffects)return this.additiveEffects;break;case s.RM_DECAL:if(this.visible.decalEffects)return this.decalEffects;break;case s.RM_DISTORTION:if(this.visible.distortionEffects)return this.distortionEffects}return[]}static black(e){return[["additiveEffects",e.array],["curveSet",e.object],["distortionEffects",e.array],["name",e.string],["opaqueEffects",e.array],["transparentEffects",e.array]]}}o.__isStaging=1},"./eve/effect/EveOccluder.js":function(e,t,r){"use strict";r.r(t),r.d(t,"EveOccluder",(function(){return s}));var n=r("./global/index.js"),i=r("./core/index.js");class s extends n.Tw2BaseClass{constructor(){super(),this.name="",this.sprites=[],s.init()}UpdateValue(e,t){if(n.device.alphaBlendBackBuffer){var r=n.device,i=s.global,a=i.mat4_0,o=i.vec4_0;i.accumulator.Clear();for(var u=0;u<this.sprites.length;++u)this.sprites[u].UpdateViewDependentData(e),this.sprites[u].GetBatches(r.RM_DECAL,i.accumulator);n.tw2.SetVariableValue("OccluderValue",[(1<<2*t)/255,(2<<2*t)/255,0,0]),i.accumulator.Render(),n.mat4.multiply(a,r.viewProjection,this.sprites[0].worldTransform),n.vec4.transformMat4(o,[0,0,0,1],a);var c=.5*(o[0]/o[3]+1),l=.5*(o[1]/o[3]+1);n.vec4.set(o,.5,.5,0,1),n.vec4.transformMat4(o,o,a);var h=.5*(o[0]/o[3]+1),d=.5*(o[1]/o[3]+1);o[0]=c,o[1]=l,o[2]=h-c,o[3]=d-l,i.effect.parameters.OccluderPosition.SetValue(o)}}static CollectSamples(e,t,r,i){var s=n.device,a=this.global,o=a.effect,u=a.vertexBuffer,c=a.decl;if(!o.effectRes||!o.effectRes.IsGood())return!1;o.parameters.BackBuffer.SetTextureRes(e),o.parameters.OccluderIndex.SetValue([t,r,i]),s.SetStandardStates(s.RM_ADDITIVE),s.gl.bindBuffer(s.gl.ARRAY_BUFFER,u);for(var l=0;l<o.GetPassCount("Main");++l){if(o.ApplyPass("Main",l),c.SetDeclaration(s,o.GetPassInput("Main",l),16))return!1;s.ApplyShadowState(),s.gl.drawArrays(s.gl.TRIANGLES,0,1530)}return!0}static init(){if(!s.global){var e=n.device,t=s.global={};t.mat4_0=n.mat4.create(),t.vec4_0=n.vec4.create(),t.accumulator=new i.Tw2BatchAccumulator,t.effect=i.Tw2Effect.from({name:"Occluder sampler",effectFilePath:"res:/graphics/effect/managed/space/specialfx/lensflares/collectsamples.fx",parameters:{OccluderPosition:[1,1,1,1],OccluderIndex:[1,1,1],BackBuffer:""}}),t.vertexBuffer=null,t.decl=i.Tw2VertexDeclaration.from([{usage:"POSITION",usageIndex:0,elements:2},{usage:"TEXCOORD",usageIndex:0,elements:2}]),t.decl.RebuildHash();for(var r=new Float32Array(6120),a=0,o=0;o<16;++o)for(var u=0;u<16;++u){var c=(o+Math.random())/16*2-1,l=(u+Math.random())/16*2-1;r[a++]=1,r[a++]=1,r[a++]=c,r[a++]=l,r[a++]=-1,r[a++]=1,r[a++]=c,r[a++]=l,r[a++]=1,r[a++]=-1,r[a++]=c,r[a++]=l,r[a++]=-1,r[a++]=1,r[a++]=c,r[a++]=l,r[a++]=1,r[a++]=-1,r[a++]=c,r[a++]=l,r[a++]=-1,r[a++]=-1,r[a++]=c,r[a++]=l}t.vertexBuffer=e.gl.createBuffer(),e.gl.bindBuffer(e.gl.ARRAY_BUFFER,t.vertexBuffer),e.gl.bufferData(e.gl.ARRAY_BUFFER,r,e.gl.STATIC_DRAW),e.gl.bindBuffer(e.gl.ARRAY_BUFFER,null)}}static black(e){return[["name",e.string],["sprites",e.array]]}}s.global=null},"./eve/effect/EveStarfield.js":function(e,t,r){"use strict";r.r(t),r.d(t,"EveStarfield",(function(){return i}));var n=r("./global/index.js");class i extends n.Tw2BaseClass{constructor(...e){super(...e),this.effect=null,this.maxDist=0,this.maxFlashRate=0,this.minDist=0,this.minFlashIntensity=0,this.minFlashRate=0,this.numStars=0,this.seed=0}static black(e){return[["effect",e.object],["maxDist",e.float],["maxFlashRate",e.float],["minDist",e.float],["minFlashIntensity",e.float],["minFlashRate",e.float],["numStars",e.uint],["seed",e.uint]]}}i.__isStaging=4},"./eve/effect/EveStretch.js":function(e,t,r){"use strict";r.r(t),r.d(t,"EveStretch",(function(){return s}));var n=r("./global/index.js"),i=r("./core/index.js");class s extends n.Tw2BaseClass{constructor(){super(),this.name="",this.curveSets=[],this.dest=null,this.destObject=null,this.length=new i.Tw2Float,this.moveCompletion=null,this.moveObject=null,this.progressCurve=null,this.source=null,this.sourceLights=[],this.sourceObject=null,this.stretchObject=null,this.useCurveLod=!1,this.display=!0,this.update=!0,this._destinationPosition=n.vec3.create(),this._displayDestObject=!0,this._displaySourceObject=!0,this._isNegZForward=!1,this._useTransformsForStretch=!1,this._sourcePosition=n.vec3.create(),this._sourceTransform=null,this._time=0,this._useParentMatrix=!1,s.init()}GetResources(e=[]){return this.source&&this.source.GetResources&&this.source.GetResources(e),this.dest&&this.dest.GetResources&&this.dest.GetResources(e),this.sourceObject&&this.sourceObject.GetResources&&this.sourceObject.GetResources(e),this.destObject&&this.destObject.GetResources&&this.destObject.GetResources(e),this.stretchObject&&this.stretchObject.GetResources&&this.stretchObject.GetResources(e),e}SetSourcePosition(e){this._useTransformsForStretch=!1,n.vec3.copy(this._sourcePosition,e)}SetSourcePositionFromTransform(e){this._useTransformsForStretch=!1,this._sourcePosition[0]=e[12],this._sourcePosition[1]=e[13],this._sourcePosition[2]=e[14]}SetDestinationPosition(e){n.vec3.copy(this._destinationPosition,e)}SetSourceTransform(e){this._useTransformsForStretch=!0,this._sourceTransform=e}SetIsNegZForward(e){this._isNegZForward=e}UpdateViewDependentData(e){if(this.display){var t=s.global,r=n.vec3.subtract(t.vec3_0,this._destinationPosition,this._sourcePosition),i=n.mat4.identity(t.mat4_0),a=n.vec3.set(t.vec3_1,0,0,0),o=n.vec3.set(t.vec3_2,0,0,0),u=n.mat4.identity(t.mat4_1),c=n.vec3.length(r);n.vec3.normalize(r,r),this._useTransformsForStretch?(n.mat4.rotateX(i,i,-Math.PI/2),n.mat4.multiply(i,this._sourceTransform,i)):(Math.abs(r[1])>.9?o[2]=1:o[1]=1,n.vec3.cross(a,o,r),n.vec3.normalize(a,a),n.vec3.cross(o,r,a),i[0]=a[0],i[1]=a[1],i[2]=a[2],i[4]=-r[0],i[5]=-r[1],i[6]=-r[2],i[8]=o[0],i[9]=o[1],i[10]=o[2],n.mat4.multiply(i,e,i)),this.destObject&&this._displayDestObject&&(n.mat4.setTranslation(i,this._destinationPosition),this.destObject.UpdateViewDependentData(i)),this.sourceObject&&this._displaySourceObject&&(this._useTransformsForStretch?(n.mat4.identity(i),n.mat4.rotateX(i,i,-Math.PI/2),n.mat4.multiply(i,this._sourceTransform,i)):n.mat4.setTranslation(i,this._sourcePosition),this.sourceObject.UpdateViewDependentData(i)),this.stretchObject&&(this._useTransformsForStretch?(n.mat4.identity(i),n.mat4.scale(i,i,[1,1,c]),n.mat4.multiply(i,this._sourceTransform,i)):(i[0]=a[0],i[1]=a[1],i[2]=a[2],i[4]=o[0],i[5]=o[1],i[6]=o[2],i[8]=-r[0],i[9]=-r[1],i[10]=-r[2],this._isNegZForward&&(c=-c),n.mat4.scale(u,u,[1,1,c]),n.mat4.multiply(i,i,u)),this.stretchObject.UpdateViewDependentData(i))}}Update(e){for(var t=0;t<this.curveSets.length;++t)this.curveSets[t].Update(e);this._time+=e,this.source?this.source.GetValueAt(this._time,this._sourcePosition):this._useTransformsForStretch&&(this._sourcePosition[0]=this._sourceTransform[12],this._sourcePosition[1]=this._sourceTransform[13],this._sourcePosition[2]=this._sourceTransform[14]),this.dest&&this.source.GetValueAt(this._time,this._destinationPosition);var r=n.vec3.subtract(s.global.vec3_0,this._destinationPosition,this._sourcePosition);this.length.value=n.vec3.length(r),n.vec3.normalize(r,r),this.sourceObject&&this._displaySourceObject&&this.sourceObject.Update(e),this.destObject&&this._displayDestObject&&this.destObject.Update(e),this.stretchObject&&this.stretchObject.Update(e)}GetBatches(e,t,r){this.display&&(this.sourceObject&&this._displaySourceObject&&this.sourceObject.GetBatches(e,t,r),this.destObject&&this._displayDestObject&&this.destObject.GetBatches(e,t,r),this.stretchObject&&this.stretchObject.GetBatches(e,t,r))}static init(){s.global||(s.global={vec3_0:n.vec3.create(),vec3_1:n.vec3.create(),vec3_2:n.vec3.create(),mat4_0:n.mat4.create(),mat4_1:n.mat4.create()})}static black(e){return[["curveSets",e.array],["dest",e.object],["destObject",e.object],["length",e.object],["moveCompletion",e.object],["moveObject",e.object],["name",e.string],["progressCurve",e.object],["source",e.object],["sourceLights",e.array],["sourceObject",e.object],["stretchObject",e.object],["useCurveLod",e.boolean]]}}s.global=null,s.__isStaging=1},"./eve/effect/EveStretch2.js":function(e,t,r){"use strict";r.r(t),r.d(t,"EveStretch2",(function(){return i}));var n=r("./global/index.js");class i extends n.Tw2BaseClass{constructor(...e){super(...e),this.name="",this.destinationEmitter=null,this.destinationLight=null,this.effect=null,this.loop=null,this.sourceEmitter=null,this.sourceLight=null,this.quadCount=0}static black(e){return[["destinationEmitter",e.object],["destinationLight",e.object],["effect",e.object],["loop",e.object],["name",e.string],["sourceEmitter",e.object],["sourceLight",e.object],["quadCount",e.uint]]}}i.__isStaging=4},"./eve/effect/EveTurretFiringFX.js":function(e,t,r){"use strict";r.r(t),r.d(t,"EvePerMuzzleData",(function(){return i})),r.d(t,"EveTurretFiringFX",(function(){return s}));var n=r("./global/index.js");class i extends n.Tw2BaseClass{constructor(...e){super(...e),this.constantDelay=0,this.currentStartDelay=0,this.elapsedTime=0,this.muzzlePositionBone=null,this.muzzleTransform=n.mat4.create(),this.readyToStart=!1,this.started=!1}}class s extends n.Tw2BaseClass{constructor(...e){super(...e),this.name="",this.boneName="",this.destinationObserver=null,this.firingDelay1=0,this.firingDelay2=0,this.firingDelay3=0,this.firingDelay4=0,this.firingDurationOverride=0,this.firingPeakTime=0,this.isLoopFiring=!1,this.maxRadius=0,this.maxScale=0,this.minRadius=0,this.minScale=0,this.scaleEffectTarget=!1,this.sourceObserver=null,this.startCurveSet=null,this.stopCurveSet=null,this.stretch=[],this.useMuzzleTransform=!1,this.display=!0,this.firingDelay5=0,this.firingDelay6=0,this.firingDelay7=0,this.firingDelay8=0,this._endPosition=n.vec3.create(),this._firingDuration=0,this._isFiring=!1,this._perMuzzleData=[]}Initialize(){this._firingDuration=this.GetCurveDuration();for(var e=0;e<this.stretch.length;++e)this._perMuzzleData[e]=new i;var t=this._perMuzzleData;t.length>0&&(t[0].constantDelay=this.firingDelay1),t.length>1&&(t[1].constantDelay=this.firingDelay2),t.length>2&&(t[2].constantDelay=this.firingDelay3),t.length>3&&(t[3].constantDelay=this.firingDelay4),t.length>4&&(t[4].constantDelay=this.firingDelay5),t.length>5&&(t[5].constantDelay=this.firingDelay6),t.length>6&&(t[6].constantDelay=this.firingDelay7),t.length>7&&(t[7].constantDelay=this.firingDelay8)}GetCurveDuration(){for(var e=0,t=0;t<this.stretch.length;++t)for(var r=this.stretch[t],n=0;n<r.curveSets.length;++n)e=Math.max(e,r.curveSets[n].GetMaxCurveDuration());return e}GetPerMuzzleEffectCount(){return this.stretch.length}SetEndPosition(e){this._endPosition[0]=e[0],this._endPosition[1]=e[1],this._endPosition[2]=e[2]}SetMuzzleBoneID(e,t){this._perMuzzleData[e].muzzlePositionBone=t}GetMuzzleTransform(e){return this._perMuzzleData[e].muzzleTransform}PrepareFiring(e,t=-1){for(var r=0;r<this.stretch.length;++r)t<0||t===r?(this._perMuzzleData[r].currentStartDelay=e+this._perMuzzleData[r].constantDelay,this._perMuzzleData[r].started=!1,this._perMuzzleData[r].readyToStart=!1,this._perMuzzleData[r].elapsedTime=0):(this._perMuzzleData[r].currentStartDelay=Number.MAX_VALUE,this._perMuzzleData[r].started=!1,this._perMuzzleData[r].readyToStart=!1,this._perMuzzleData[r].elapsedTime=0);this._isFiring=!0}StartMuzzleEffect(e){for(var t=this.stretch[e],r=0;r<t.curveSets.length;++r){var n=t.curveSets[r];switch(n.name){case"play_start":case"play_loop":n.PlayFrom(-this._perMuzzleData[e].currentStartDelay);break;case"play_stop":n.Stop()}}this._perMuzzleData[e].started=!0,this._perMuzzleData[e].readyToStart=!1}StopFiring(){for(var e=0;e<this.stretch.length;++e){for(var t=this.stretch[e],r=0;r<t.curveSets.length;++r){var n=t.curveSets[r];switch(n.name){case"play_start":case"play_loop":n.Stop();break;case"play_stop":n.Play()}}this._perMuzzleData[e].started=!1,this._perMuzzleData[e].readyToStart=!1,this._perMuzzleData[e].currentStartDelay=0,this._perMuzzleData[e].elapsedTime=0}this._isFiring=!1}UpdateViewDependentData(e){for(var t=0;t<this.stretch.length;++t)this.stretch[t].UpdateViewDependentData(e)}Update(e){for(var t=0;t<this.stretch.length;++t)this._perMuzzleData[t].started&&(this._perMuzzleData[t].elapsedTime+=e),(this._perMuzzleData[t].elapsedTime<this._firingDuration||this.isLoopFiring)&&this._isFiring&&(this._perMuzzleData[t].started?(this.useMuzzleTransform?this.stretch[t].SetSourceTransform(this._perMuzzleData[t].muzzleTransform):this.stretch[t].SetSourcePositionFromTransform(this._perMuzzleData[t].muzzleTransform),this.stretch[t].SetDestinationPosition(this._endPosition),this.stretch[t].SetIsNegZForward(!0)):(this._perMuzzleData[t].readyToStart?(this.StartMuzzleEffect(t),this._perMuzzleData[t].currentStartDelay=0,this._perMuzzleData[t].elapsedTime=0):this._perMuzzleData[t].currentStartDelay-=e,this._perMuzzleData[t].currentStartDelay<=0&&(this._perMuzzleData[t].readyToStart=!0))),this.stretch[t].Update(e)}GetBatches(e,t,r){if(this.display&&this._isFiring)for(var n=0;n<this.stretch.length;++n)this._perMuzzleData[n].started&&(this._firingDuration>=this._perMuzzleData[n].elapsedTime||this.isLoopFiring)&&this.stretch[n].GetBatches(e,t,r)}static black(e){return[["boneName",e.string],["destinationObserver",e.object],["firingDelay1",e.float],["firingDelay2",e.float],["firingDelay3",e.float],["firingDelay4",e.float],["firingDurationOverride",e.float],["firingPeakTime",e.float],["isLoopFiring",e.boolean],["maxRadius",e.float],["maxScale",e.float],["minRadius",e.float],["minScale",e.float],["name",e.string],["scaleEffectTarget",e.boolean],["sourceObserver",e.object],["startCurveSet",e.object],["stopCurveSet",e.object],["stretch",e.array],["useMuzzleTransform",e.boolean]]}}s.__isStaging=1},"./eve/effect/index.js":function(e,t,r){"use strict";r.r(t);var n=r("./eve/effect/EveLensflare.js");r.d(t,"EveLensflare",(function(){return n.EveLensflare}));var i=r("./eve/effect/EveMeshOverlayEffect.js");r.d(t,"EveMeshOverlayEffect",(function(){return i.EveMeshOverlayEffect}));var s=r("./eve/effect/EveOccluder.js");r.d(t,"EveOccluder",(function(){return s.EveOccluder}));var a=r("./eve/effect/EveStarfield.js");r.d(t,"EveStarfield",(function(){return a.EveStarfield}));var o=r("./eve/effect/EveStretch.js");r.d(t,"EveStretch",(function(){return o.EveStretch}));var u=r("./eve/effect/EveStretch2.js");r.d(t,"EveStretch2",(function(){return u.EveStretch2}));var c=r("./eve/effect/EveTurretFiringFX.js");r.d(t,"EvePerMuzzleData",(function(){return c.EvePerMuzzleData})),r.d(t,"EveTurretFiringFX",(function(){return c.EveTurretFiringFX}))},"./eve/index.js":function(e,t,r){"use strict";r.r(t);var n=r("./eve/animation/index.js");r.d(t,"EveAnimation",(function(){return n.EveAnimation})),r.d(t,"EveAnimationCommand",(function(){return n.EveAnimationCommand})),r.d(t,"EveAnimationCurve",(function(){return n.EveAnimationCurve})),r.d(t,"EveAnimationState",(function(){return n.EveAnimationState})),r.d(t,"EveAnimationStateMachine",(function(){return n.EveAnimationStateMachine}));var i=r("./eve/child/index.js");r.d(t,"EveChildBulletStorm",(function(){return i.EveChildBulletStorm})),r.d(t,"EveChildCloud",(function(){return i.EveChildCloud})),r.d(t,"EveChildContainer",(function(){return i.EveChildContainer})),r.d(t,"EveChildExplosion",(function(){return i.EveChildExplosion})),r.d(t,"EveChildInheritProperties",(function(){return i.EveChildInheritProperties})),r.d(t,"EveChildLink",(function(){return i.EveChildLink})),r.d(t,"EveChildMesh",(function(){return i.EveChildMesh})),r.d(t,"EveChildParticleSphere",(function(){return i.EveChildParticleSphere})),r.d(t,"EveChildParticleSystem",(function(){return i.EveChildParticleSystem})),r.d(t,"EveChildQuad",(function(){return i.EveChildQuad})),r.d(t,"EveChildBillboard",(function(){return i.EveChildBillboard})),r.d(t,"EveChildModifierAttachToBone",(function(){return i.EveChildModifierAttachToBone})),r.d(t,"EveChildModifierBillboard2D",(function(){return i.EveChildModifierBillboard2D})),r.d(t,"EveChildModifierBillboard3D",(function(){return i.EveChildModifierBillboard3D})),r.d(t,"EveChildModifierCameraOrientedRotationConstrained",(function(){return i.EveChildModifierCameraOrientedRotationConstrained})),r.d(t,"EveChildModifierSRT",(function(){return i.EveChildModifierSRT})),r.d(t,"EveChildModifierTranslateWithCamera",(function(){return i.EveChildModifierTranslateWithCamera}));var s=r("./eve/effect/index.js");r.d(t,"EveLensflare",(function(){return s.EveLensflare})),r.d(t,"EveMeshOverlayEffect",(function(){return s.EveMeshOverlayEffect})),r.d(t,"EveOccluder",(function(){return s.EveOccluder})),r.d(t,"EveStarfield",(function(){return s.EveStarfield})),r.d(t,"EveStretch",(function(){return s.EveStretch})),r.d(t,"EveStretch2",(function(){return s.EveStretch2})),r.d(t,"EvePerMuzzleData",(function(){return s.EvePerMuzzleData})),r.d(t,"EveTurretFiringFX",(function(){return s.EveTurretFiringFX}));var a=r("./eve/item/index.js");r.d(t,"EveBanner",(function(){return a.EveBanner})),r.d(t,"EveBoosterSet2Batch",(function(){return a.EveBoosterSet2Batch})),r.d(t,"EveBoosterSet2Item",(function(){return a.EveBoosterSet2Item})),r.d(t,"EveBoosterSet2",(function(){return a.EveBoosterSet2})),r.d(t,"EveCurveLineSetItem",(function(){return a.EveCurveLineSetItem})),r.d(t,"EveCurveLineSet",(function(){return a.EveCurveLineSet})),r.d(t,"EveCustomMask",(function(){return a.EveCustomMask})),r.d(t,"EveHazeSetBatch",(function(){return a.EveHazeSetBatch})),r.d(t,"EveHazeSetItem",(function(){return a.EveHazeSetItem})),r.d(t,"EveHazeSet",(function(){return a.EveHazeSet})),r.d(t,"EveLocator2",(function(){return a.EveLocator2})),r.d(t,"EveLocator",(function(){return a.EveLocator})),r.d(t,"EveObjectSetItem",(function(){return a.EveObjectSetItem})),r.d(t,"EveObjectSet",(function(){return a.EveObjectSet})),r.d(t,"EvePlaneSetBatch",(function(){return a.EvePlaneSetBatch})),r.d(t,"EvePlaneSetItem",(function(){return a.EvePlaneSetItem})),r.d(t,"EvePlaneSet",(function(){return a.EvePlaneSet})),r.d(t,"EveSpaceObjectDecal",(function(){return a.EveSpaceObjectDecal})),r.d(t,"EveSpotlightSetBatch",(function(){return a.EveSpotlightSetBatch})),r.d(t,"EveSpotlightSetItem",(function(){return a.EveSpotlightSetItem})),r.d(t,"EveSpotlightSet",(function(){return a.EveSpotlightSet})),r.d(t,"EveSpriteLineSetBatch",(function(){return a.EveSpriteLineSetBatch})),r.d(t,"EveSpriteLineSetItem",(function(){return a.EveSpriteLineSetItem})),r.d(t,"EveSpriteLineSet",(function(){return a.EveSpriteLineSet})),r.d(t,"EveSpriteSetBatch",(function(){return a.EveSpriteSetBatch})),r.d(t,"EveSpriteSetItem",(function(){return a.EveSpriteSetItem})),r.d(t,"EveSpriteSet",(function(){return a.EveSpriteSet})),r.d(t,"EveTrailSetRenderBatch",(function(){return a.EveTrailSetRenderBatch})),r.d(t,"EveTrailsSet",(function(){return a.EveTrailsSet})),r.d(t,"EveTurretSetItem",(function(){return a.EveTurretSetItem})),r.d(t,"EveTurretSet",(function(){return a.EveTurretSet})),r.d(t,"EveBoosterBatch",(function(){return a.EveBoosterBatch})),r.d(t,"EveBoosterSetItem",(function(){return a.EveBoosterSetItem})),r.d(t,"EveBoosterSet",(function(){return a.EveBoosterSet}));var o=r("./eve/object/index.js");r.d(t,"EveEffectRoot2",(function(){return o.EveEffectRoot2})),r.d(t,"EveMissileWarhead",(function(){return o.EveMissileWarhead})),r.d(t,"EveMissile",(function(){return o.EveMissile})),r.d(t,"EveMobile",(function(){return o.EveMobile})),r.d(t,"EveRootTransform",(function(){return o.EveRootTransform})),r.d(t,"EveShip2",(function(){return o.EveShip2})),r.d(t,"EveStation2",(function(){return o.EveStation2})),r.d(t,"EveTransform",(function(){return o.EveTransform})),r.d(t,"EveEffectRoot",(function(){return o.EveEffectRoot})),r.d(t,"EvePlanet",(function(){return o.EvePlanet})),r.d(t,"EveShip",(function(){return o.EveShip})),r.d(t,"EveSpaceObject",(function(){return o.EveSpaceObject})),r.d(t,"EveStation",(function(){return o.EveStation}));var u=r("./eve/particle/index.js");r.d(t,"EveParticleDirectForce",(function(){return u.EveParticleDirectForce})),r.d(t,"EveParticleDragForce",(function(){return u.EveParticleDragForce}));var c=r("./eve/pi/index.js");r.d(t,"EveConnector",(function(){return c.EveConnector})),r.d(t,"EveLocalPositionCurve",(function(){return c.EveLocalPositionCurve})),r.d(t,"EveSpherePin",(function(){return c.EveSpherePin}));var l=r("./eve/ui/index.js");r.d(t,"EveTacticalOverlay",(function(){return l.EveTacticalOverlay})),r.d(t,"EveUiObject",(function(){return l.EveUiObject}));var h=r("./eve/EveCamera.js");r.d(t,"EveCamera",(function(){return h.EveCamera}));var d=r("./eve/EveLineContainer.js");r.d(t,"EveLineContainer",(function(){return d.EveLineContainer}));var f=r("./eve/EveSpaceScene.js");r.d(t,"EveSpaceScene",(function(){return f.EveSpaceScene}))},"./eve/item/EveBanner.js":function(e,t,r){"use strict";r.r(t),r.d(t,"EveBanner",(function(){return i}));var n=r("./global/index.js");class i extends n.Tw2BaseClass{constructor(...e){super(...e),this.angleX=0,this.angleY=0,this.boneIndex=0,this.position=n.vec3.create(),this.rotation=n.quat.create(),this.scaling=n.vec3.fromValues(1,1,1),this.usage=0,this.display=!0,this.transform=n.mat4.create()}OnValueChanged(){n.mat4.fromRotationTranslationScale(this.transform,this.rotation,this.position,this.scaling)}}},"./eve/item/EveBoosterSet2.js":function(e,t,r){"use strict";r.r(t),r.d(t,"EveBoosterSet2Batch",(function(){return a})),r.d(t,"EveBoosterSet2Item",(function(){return o})),r.d(t,"EveBoosterSet2",(function(){return u}));var n=r("./global/index.js"),i=r("./core/index.js"),s=r("./eve/item/EveObjectSet.js");class a extends i.Tw2RenderBatch{constructor(...e){super(...e),this.boosterSet=null}Commit(e){this.boosterSet.Render(e)}}class o extends s.EveObjectSetItem{}o.__isStaging=4;class u extends s.EveObjectSet{constructor(...e){super(...e),this.alwaysOn=!1,this.alwaysOnIntensity=0,this.effect=null,this.glowColor=n.vec4.create(),this.glowScale=0,this.glows=null,this.haloColor=n.vec4.create(),this.haloScaleX=0,this.haloScaleY=0,this.lightColor=n.vec4.create(),this.lightFlickerAmplitude=0,this.lightFlickerFrequency=0,this.lightRadius=0,this.lightWarpColor=n.vec4.create(),this.lightWarpRadius=0,this.symHaloScale=0,this.trails=null,this.warpGlowColor=n.vec4.create(),this.warpHaloColor=n.vec4.create()}static black(e){return[["alwaysOn",e.boolean],["alwaysOnIntensity",e.float],["effect",e.object],["glows",e.object],["glowColor",e.color],["glowScale",e.float],["haloColor",e.color],["haloScaleX",e.float],["haloScaleY",e.float],["lightFlickerAmplitude",e.float],["lightFlickerColor",e.color],["lightFlickerFrequency",e.float],["lightFlickerRadius",e.float],["lightColor",e.color],["lightRadius",e.float],["lightWarpColor",e.color],["lightWarpRadius",e.float],["symHaloScale",e.float],["trails",e.object],["warpGlowColor",e.color],["warpHaloColor",e.color]]}}u.__isStaging=4},"./eve/item/EveCurveLineSet.js":function(e,t,r){"use strict";r.r(t),r.d(t,"EveCurveLineSetItem",(function(){return a})),r.d(t,"EveCurveLineSet",(function(){return o}));var n=r("./global/index.js"),i=r("./core/index.js"),s=r("./eve/item/EveObjectSet.js");class a extends s.EveObjectSetItem{constructor(...e){super(...e),this.animationSpeed=0,this.animationScale=1,this.color1=n.vec4.fromValues(1,1,1,1),this.color2=n.vec4.fromValues(1,1,1,1),this.intermediatePosition=n.vec3.create(),this.multiColor=n.vec4.fromValues(0,0,0,1),this.multiColorBorder=-1,this.numOfSegments=1,this.overlayColor=n.vec4.fromValues(0,0,0,1),this.position1=n.vec3.create(),this.position2=n.vec3.create(),this.type=a.Type.INVALID,this.width=1}ChangePositionFromRay(e,t,r=a.DEFAULT_RAY_LENGTH){n.vec3.copy(this.position1,e),n.vec3.scaleAndAdd(this.position2,e,t,r),this.UpdateValues()}ChangeColor(e,t){n.vec3.copy(this.color1,e),n.vec3.copy(this.color2,t),this.UpdateValues()}ChangeWidth(e){this.width=e,this.UpdateValues()}ChangeCartesian(e,t,r){n.vec3.copy(this.position1,e),n.vec3.copy(this.position2,t),n.vec3.copy(this.intermediatePosition,r),this.UpdateValues()}ChangePositionCartesian(e,t){n.vec3.copy(this.position1,e),n.vec3.copy(this.position2,t),this.UpdateValues()}ChangeIntermediateCartesian(e){n.vec3.copy(this.intermediatePosition,e),this.UpdateValues()}ChangeSpherical(e,t,r,i){n.vec3.fromSpherical(this.position1,e,i),n.vec3.fromSpherical(this.position2,t,i),n.vec3.fromSpherical(this.intermediatePosition,r,i),this.UpdateValues()}ChangePositionSpherical(e,t,r){n.vec3.fromSpherical(this.position1,e,r),n.vec3.fromSpherical(this.position2,t,r),this.UpdateValues()}ChangeIntermediateSpherical(e,t){n.vec3.fromSpherical(this.intermediatePosition,e,t),this.UpdateValues()}ChangeMultiColor(e,t){n.vec4.copy(this.multiColor,e),this.multiColorBorder=t,this.UpdateValues()}ChangeAnimation(e,t,r){n.vec4.copy(this.overlayColor,e),this.animationSpeed=t,this.animationScale=r,this.UpdateValues()}ChangeSegmentation(e){this.type!==a.Type.STRAIGHT&&(this.numOfSegments=e,this.UpdateValues())}static from(e={}){var t=new this;return n.util.assignIfExists(t,e,["name","display","type","position1","color1","position2","color2","intermediatePosition","width","multiColor","multiColorBorder","overlayColor","animationSpeed","animationScale","numOfSegments"]),t}}a.Type={INVALID:0,STRAIGHT:1,SPHERED:2,CURVED:3},a.DEFAULT_RAY_LENGTH=1e3,a.DEFAULT_CURVED_SEGMENTS=20,a.DEFAULT_SPHERED_SEGMENTS=20;class o extends s.EveObjectSet{constructor(){super(),this.lineEffect=i.Tw2Effect.from({effectFilePath:"res:/Graphics/Effect/Managed/Space/SpecialFX/Lines3D.fx",textures:{TexMap:"res:/texture/global/white.dds.0.png",OverlayTexMap:"res:/texture/global/white.dds.0.png"}}),this.pickEffect=null,this.lineWidthFactor=1,this.additive=!1,this.depthOffset=0,this.pickable=!0,this.rotation=n.quat.create(),this.scaling=n.vec3.fromValues(1,1,1),this.translation=n.vec3.create(),this.transform=n.mat4.create(),this._parentTransform=n.mat4.create(),this._vertexSize=26,this._vbSize=0,this._vb=null,this._perObjectData=i.Tw2PerObjectData.from(o.perObjectData),this._decl=i.Tw2VertexDeclaration.from(o.vertexDeclarations).SetStride(104),o.init()}get lines(){return this.items}set lines(e){this.items=e}get lineCount(){for(var e=0,t=0;t<this.items.length;t++)this.items[t].type!==a.Type.INVALID&&(e+=this.items[t].numOfSegments);return e}Initialize(){this.UpdateValues(),this.Rebuild()}GetResources(e=[]){return this.lineEffect&&this.lineEffect.GetResources(e),e}AddStraightLineFromRay(e,t,r,n,i,s){var a=this.AddStraightLine([0,0,0],[0,0,0],n,i,s);return a.ChangePositionFromRay(e,t,r),a}AddStraightLine(e,t,r,n,i){return this.CreateItem({type:a.Type.STRAIGHT,position1:e,position2:t,color1:n,color2:i,width:r})}AddCurvedLineCrt(e,t,r,n,i,s){return this.CreateItem({type:a.Type.CURVED,position1:e,position2:t,intermediatePosition:r,color1:i,color2:s,width:n,numOfSegments:a.DEFAULT_CURVED_SEGMENTS})}AddCurvedLineSph(e,t,r,i,s,u,c){var l=o.global;return this.CreateItem({type:a.Type.CURVED,position1:n.vec3.fromSpherical(l.vec3_0,e,r),position2:n.vec3.fromSpherical(l.vec3_1,t,r),intermediatePosition:n.vec3.fromSpherical(l.vec3_2,i,r),color1:u,color2:c,width:s,numOfSegments:a.DEFAULT_CURVED_SEGMENTS})}AddSpheredLineCrt(e,t,r,n,i,s){return this.CreateItem({type:a.Type.SPHERED,position1:e,position2:t,intermediatePosition:r,color1:i,color2:s,width:n,numOfSegments:a.DEFAULT_SPHERED_SEGMENTS})}AddSpheredLineSph(e,t,r,i,s,u,c){var l=o.global;return this.CreateItem({type:a.Type.SPHERED,position1:n.vec3.fromSpherical(l.vec3_0,e,r),position2:n.vec3.fromSpherical(l.vec3_1,t,r),intermediatePosition:n.vec3.fromSpherical(l.vec3_2,i,r),color1:u,color2:c,width:s,numOfSegments:a.DEFAULT_SPHERED_SEGMENTS})}OnValueChanged(){n.mat4.fromRotationTranslationScale(this.transform,this.rotation,this.translation,this.scaling),this._dirty=!0}UpdateViewDependentData(e){n.mat4.copy(this._parentTransform,e)}Unload(e){this._vb&&(n.device.gl.deleteBuffer(this._vb),this._vb=null),super.Unload(e)}Rebuild(){this.RebuildItems(),this._vbSize=this.lineCount,this._dirty=!1;var e=this._visibleItems.length;if(e){for(var t,r=o.global,i=new Float32Array(6*this._vbSize*this._vertexSize),s=r.vec3_0,u=r.vec3_1,c=r.vec3_2,l=r.vec3_3,h=r.vec3_4,d=r.vec3_5,f=r.vec3_6,m=r.mat4_0,v=r.vec3_7,p=r.vec3_8,_=r.vec3_9,E=r.vec3_10,S=r.vec4_0,T=r.vec4_1,g=0,R=0;R<e;++R){var b=this._visibleItems[R];switch(b.type){case a.Type.INVALID:break;case a.Type.STRAIGHT:o.WriteLineVerticesToBuffer(this,b.position1,b.color1,0,b.position2,b.color2,1,R,i,g),g+=6*this._vertexSize;break;case a.Type.SPHERED:n.vec3.subtract(s,b.position1,b.intermediatePosition),n.vec3.subtract(u,b.position2,b.intermediatePosition),n.vec3.normalize(c,s),n.vec3.normalize(l,u),n.vec3.cross(h,s,u);var y=Math.acos(n.vec3.dot(c,l))/b.numOfSegments;n.mat4.identity(m),n.mat4.rotate(m,m,y,h),n.vec3.copy(v,s),n.vec4.copy(S,b.color1);for(var A=0;A<this.lines[R].numOfSegments;++A){var j=(A+1)/b.numOfSegments;n.vec3.transformMat4(p,v,m),T[0]=b.color1[0]*(1-j)+b.color2[0]*j,T[1]=b.color1[1]*(1-j)+b.color2[1]*j,T[2]=b.color1[2]*(1-j)+b.color2[2]*j,T[3]=b.color1[3]*(1-j)+b.color2[3]*j,n.vec3.add(_,v,b.intermediatePosition),n.vec3.add(E,p,b.intermediatePosition),o.WriteLineVerticesToBuffer(this,_,S,A/b.numOfSegments,E,T,j,R,i,g),g+=6*this._vertexSize,t=v,v=p,p=t,t=S,S=T,T=t}break;case a.Type.CURVED:n.vec3.subtract(d,b.intermediatePosition,b.position1),n.vec3.subtract(f,b.position2,b.intermediatePosition),n.vec3.copy(_,b.position1),n.vec3.copy(S,b.color1);for(var w=0;w<b.numOfSegments;++w){var O=(w+1)/b.numOfSegments;n.vec3.hermite(E,b.position1,d,b.position2,f,O),T[0]=b.color1[0]*(1-O)+b.color2[0]*O,T[1]=b.color1[1]*(1-O)+b.color2[1]*O,T[2]=b.color1[2]*(1-O)+b.color2[2]*O,T[3]=b.color1[3]*(1-O)+b.color2[3]*O,o.WriteLineVerticesToBuffer(this,_,S,w/b.numOfSegments,E,T,O,R,i,g),g+=6*this._vertexSize,t=_,_=E,E=t,t=S,S=T,T=t}}}this._vb=n.device.gl.createBuffer(),n.device.gl.bindBuffer(n.device.gl.ARRAY_BUFFER,this._vb),n.device.gl.bufferData(n.device.gl.ARRAY_BUFFER,i,n.device.gl.STATIC_DRAW),n.device.gl.bindBuffer(n.device.gl.ARRAY_BUFFER,null),super.Rebuild()}else super.Rebuild()}GetBatches(e,t){if(this.display&&this._vb){var r;switch(e){case n.device.RM_TRANSPARENT:if(this.additive||!this.lineEffect)return;r=this.lineEffect;break;case n.device.RM_ADDITIVE:if(!this.additive||!this.lineEffect)return;r=this.lineEffect;break;case n.device.RM_PICKABLE:if(!this.pickable||!this.pickEffect)return;r=this.pickEffect}var s=new i.Tw2ForwardingRenderBatch,a=o.global.mat4_0;n.mat4.multiply(a,this.transform,this._parentTransform),n.mat4.transpose(this._perObjectData.vs.Get("WorldMat"),a),n.mat4.transpose(this._perObjectData.ps.Get("WorldMat"),a),s.perObjectData=this._perObjectData,s.geometryProvider=this,s.renderMode=e,s.effect=r,t.Commit(s)}}Render(e,t){if(!e.effect||!e.effect.IsGood()||!this._vb)return!1;var r=n.device,i=r.gl;i.bindBuffer(i.ARRAY_BUFFER,this._vb);for(var s=e.effect.GetPassCount(t),a=0;a<s;++a){e.effect.ApplyPass(t,a);var o=e.effect.GetPassInput(t,a);if(!this._decl.SetDeclaration(r,o,this._decl.stride))return!1;r.ApplyShadowState(),i.drawArrays(i.TRIANGLES,0,6*this._vbSize)}return!0}static FillColorVertices(e,t,r){return t[r++]=e.multiColor[0],t[r++]=e.multiColor[1],t[r++]=e.multiColor[2],t[r++]=e.multiColor[3],t[r++]=e.overlayColor[0],t[r++]=e.overlayColor[1],t[r++]=e.overlayColor[2],t[r++]=e.overlayColor[3],r}static WriteLineVerticesToBuffer(e,t,r,n,i,s,a,u,c,l){var h=e.items[u];c[l++]=t[0],c[l++]=t[1],c[l++]=t[2],c[l++]=i[0]-t[0],c[l++]=i[1]-t[1],c[l++]=i[2]-t[2],c[l++]=-e.lineWidthFactor*h.width,c[l++]=0,c[l++]=n,c[l++]=h.multiColorBorder,c[l++]=a-n,c[l++]=h.animationSpeed,c[l++]=h.animationScale,c[l++]=u,c[l++]=r[0],c[l++]=r[1],c[l++]=r[2],c[l++]=r[3],l=o.FillColorVertices(h,c,l),c[l++]=t[0],c[l++]=t[1],c[l++]=t[2],c[l++]=i[0]-t[0],c[l++]=i[1]-t[1],c[l++]=i[2]-t[2],c[l++]=e.lineWidthFactor*h.width,c[l++]=0,c[l++]=n,c[l++]=h.multiColorBorder,c[l++]=a-n,c[l++]=h.animationSpeed,c[l++]=h.animationScale,c[l++]=u,c[l++]=r[0],c[l++]=r[1],c[l++]=r[2],c[l++]=r[3],l=o.FillColorVertices(h,c,l),c[l++]=i[0],c[l++]=i[1],c[l++]=i[2],c[l++]=t[0]-i[0],c[l++]=t[1]-i[1],c[l++]=t[2]-i[2],c[l++]=-e.lineWidthFactor*h.width,c[l++]=1,c[l++]=a,c[l++]=h.multiColorBorder,c[l++]=a-n,c[l++]=h.animationSpeed,c[l++]=h.animationScale,c[l++]=u,c[l++]=s[0],c[l++]=s[1],c[l++]=s[2],c[l++]=s[3],l=o.FillColorVertices(h,c,l),c[l++]=t[0],c[l++]=t[1],c[l++]=t[2],c[l++]=i[0]-t[0],c[l++]=i[1]-t[1],c[l++]=i[2]-t[2],c[l++]=e.lineWidthFactor*h.width,c[l++]=0,c[l++]=n,c[l++]=h.multiColorBorder,c[l++]=a-n,c[l++]=h.animationSpeed,c[l++]=h.animationScale,c[l++]=u,c[l++]=r[0],c[l++]=r[1],c[l++]=r[2],c[l++]=r[3],l=o.FillColorVertices(h,c,l),c[l++]=i[0],c[l++]=i[1],c[l++]=i[2],c[l++]=t[0]-i[0],c[l++]=t[1]-i[1],c[l++]=t[2]-i[2],c[l++]=e.lineWidthFactor*h.width,c[l++]=1,c[l++]=a,c[l++]=h.multiColorBorder,c[l++]=a-n,c[l++]=h.animationSpeed,c[l++]=h.animationScale,c[l++]=u,c[l++]=s[0],c[l++]=s[1],c[l++]=s[2],c[l++]=s[3],l=o.FillColorVertices(h,c,l),c[l++]=i[0],c[l++]=i[1],c[l++]=i[2],c[l++]=t[0]-i[0],c[l++]=t[1]-i[1],c[l++]=t[2]-i[2],c[l++]=-e.lineWidthFactor*h.width,c[l++]=1,c[l++]=a,c[l++]=h.multiColorBorder,c[l++]=a-n,c[l++]=h.animationSpeed,c[l++]=h.animationScale,c[l++]=u,c[l++]=s[0],c[l++]=s[1],c[l++]=s[2],c[l++]=s[3],o.FillColorVertices(h,c,l)}static init(){o.global||(o.global={vec3_0:n.vec3.create(),vec3_1:n.vec3.create(),vec3_2:n.vec3.create(),vec3_3:n.vec3.create(),vec3_4:n.vec3.create(),vec3_5:n.vec3.create(),vec3_6:n.vec3.create(),vec3_7:n.vec3.create(),vec3_8:n.vec3.create(),vec3_9:n.vec3.create(),vec3_10:n.vec3.create(),vec4_0:n.vec4.create(),vec4_1:n.vec4.create(),mat4_0:n.mat4.create()})}static black(e){return[["lineEffect",e.object],["pickEffect",e.object]]}}o.Item=a,o.global=null,o.perObjectData={vs:[["WorldMat",16]],ps:[["WorldMat",16]]},o.vertexDeclarations=[{usage:"POSITION",usageIndex:0,elements:3},{usage:"TEXCOORD",usageIndex:0,elements:4},{usage:"TEXCOORD",usageIndex:1,elements:4},{usage:"TEXCOORD",usageIndex:2,elements:3},{usage:"COLOR",usageIndex:0,elements:4},{usage:"COLOR",usageIndex:1,elements:4},{usage:"COLOR",usageIndex:2,elements:4}],o.__isStaging=1},"./eve/item/EveCustomMask.js":function(e,t,r){"use strict";r.r(t),r.d(t,"EveCustomMask",(function(){return a}));var n=r("./global/index.js"),i=r("./core/parameter/index.js");function s(e,t,r,n,i,s,a){try{var o=e[s](a),u=o.value}catch(e){return void r(e)}o.done?t(u):Promise.resolve(u).then(n,i)}class a extends i.Tw2TransformParameter{constructor(...e){super(...e),this.materialIndex=0,this.targetMaterials=n.vec4.create(),this.display=!0,this.isMirrored=!1,this.parameters={PatternMaskMap:new i.Tw2TextureParameter("PatternMaskMap"),DiffuseColor:new i.Tw2Vector4Parameter("DiffuseColor"),FresnelColor:new i.Tw2Vector4Parameter("FresnelColor"),Gloss:new i.Tw2Vector4Parameter("Gloss")},this._worldInverseTranspose=n.mat4.create()}SetMaterial(e){var t,r=this;return(t=function*(){var t=yield n.tw2.eveSof.FetchMaterial(e),{DiffuseColor:i,FresnelColor:s,Gloss:a}=t.parameters;r.parameters.DiffuseColor.SetValue(i),r.parameters.FresnelColor.SetValue(s),r.parameters.Gloss.SetValue(a)},function(){var e=this,r=arguments;return new Promise((function(n,i){var a=t.apply(e,r);function o(e){s(a,n,i,o,u,"next",e)}function u(e){s(a,n,i,o,u,"throw",e)}o(void 0)}))})()}UpdatePerObjectData(e,t,r,i){this.SetParentTransform(e);var s=this.display&&i?this.targetMaterials:n.vec4.ZERO;t.ps.Set("CustomMaskTarget"+r,s),t.ps.SetIndex("CustomMaskMaterialID"+r,0,this.materialIndex),t.vs.SetIndex("CustomMaskData"+r,1,this.isMirrored?1:0),t.vs.Set("CustomMaskMatrix"+r,this._worldInverseTranspose)}static black(e){return[["materialIndex",e.byte],["position",e.vector3],["rotation",e.vector4],["scaling",e.vector3],["targetMaterials",e.vector4]]}}a.__isStaging=1},"./eve/item/EveHazeSet.js":function(e,t,r){"use strict";r.r(t),r.d(t,"EveHazeSetBatch",(function(){return a})),r.d(t,"EveHazeSetItem",(function(){return o})),r.d(t,"EveHazeSet",(function(){return u}));var n=r("./global/index.js"),i=r("./core/index.js"),s=r("./eve/item/EveObjectSet.js");class a extends i.Tw2RenderBatch{constructor(...e){super(...e),this.hazeSet=null}Commit(e){this.hazeSet.Render(e)}}class o extends s.EveObjectSetItem{constructor(...e){super(...e),this.boosterGainInfluence=!1,this.colorType=0,this.hazeBrightness=0,this.hazeFalloff=0,this.position=n.vec3.create(),this.rotation=n.quat.create(),this.scaling=n.vec3.fromValues(1,1,1),this.sourceBrightness=0,this.sourceSize=0,this.transform=n.mat4.create()}OnValueChanged(){n.mat4.fromRotationTranslationScale(this.transform,this.rotation,this.position,this.scaling),this._dirty=!0}}class u extends s.EveObjectSet{Unload(){}Rebuild(){}GetBatches(e,t,r){}Render(e){}}},"./eve/item/EveLocator2.js":function(e,t,r){"use strict";r.r(t),r.d(t,"EveLocator2",(function(){return s})),r.d(t,"EveLocator",(function(){return s}));var n=r("./global/index.js"),i=r("./global/util/index.js");class s extends n.Tw2BaseClass{constructor(...e){super(...e),this.name="",this.transform=n.mat4.create(),this.atlasIndex0=null,this.atlasIndex1=null,this.bone=null}FindBone(e){return this.bone=e.FindBoneForMesh(this.name,0),this.bone}static from(e,t){var r=new s;return e&&Object(i.assignIfExists)(r,e,["transform","name","atlasIndex0","atlasIndex1"]),r}static black(e){return[["name",e.string],["transform",e.matrix]]}}s.Prefix={AUDIO:"locator_audio",ATTACH:"locator_attach",BOOSTER:"locator_booster",TURRET:"locator_turret",XL_TURRET:"locator_xl"},s.__isStaging=1},"./eve/item/EveObjectSet.js":function(e,t,r){"use strict";r.r(t),r.d(t,"EveObjectSetItem",(function(){return f})),r.d(t,"EveObjectSet",(function(){return m}));var n,i,s,a,o,u,c,l,h=r("./global/index.js");function d(e,t,r,n,i){var s={};return Object.keys(n).forEach((function(e){s[e]=n[e]})),s.enumerable=!!s.enumerable,s.configurable=!!s.configurable,("value"in s||s.initializer)&&(s.writable=!0),s=r.slice().reverse().reduce((function(r,n){return n(e,t,r)||r}),s),i&&void 0!==s.initializer&&(s.value=s.initializer?s.initializer.call(i):void 0,s.initializer=void 0),void 0===s.initializer&&(Object.defineProperty(e,t,s),s=null),s}var f=(0,h.meta.abstract)(n=class extends h.Tw2BaseClass{constructor(...e){super(...e),this.display=!0,this._dirty=!0}OnValueChanged(){this._dirty=!0}})||n,m=(i=h.meta.abstract,s=h.meta.abstract,a=h.meta.abstract,i((l=c=class extends h.Tw2BaseClass{constructor(...e){super(...e),this.autoRebuild=!0,this.display=!0,this.items=[],this._dirty=!0,this._visibleItems=[]}Initialize(){this.Rebuild()}OnValueChanged(){this._dirty=!0}OnItemModified(e,t){this.items.includes(e)?(this._dirty=!0,this.emit("item_modified",e,t)):(this.emit("item_removed",e,t),e.off("modified",this.OnItemModified))}CreateItem(e={},t,r){var n=this.constructor.Item.from(e);return this.AddItem(n,!0,!0),r||this.emit("item_created",n),t||this.UpdateValues(),n}AddItem(e,t,r){return!this.items.includes(e)&&(this.items.push(e),this._dirty=!0,e.on("modified",this.OnItemModified,this),r||this.emit("item_added",e),t||this.UpdateValues(e),!0)}RemoveItem(e,t,r){var n=this.items.indexOf(e);return-1!==n&&(this.items.splice(n,1),this._dirty=!0,e.off("modified",this.OnItemModified),r||this.emit("item_removed",e),t||this.UpdateValues(e),!0)}ClearItems(e,t){var r;t||(r=Array.from(this.items));for(var n=0;n<this.items.length;n++)this.RemoveItem(this.items[n],!0,!0),n--;t||this.emit("items_cleared",r),e||this.UpdateValues()}RebuildItems(){this._visibleItems.splice(0);for(var e=0;e<this.items.length;e++){var t=this.items[e];t.has("modified",this.OnItemModified)||(this.emit("item_added",t),t.on("modified",this.OnItemModified,this)),t.display&&this._visibleItems.push(t),t._dirty&&this.emit("item_rebuilt",t),t._dirty=!1}this._dirty=!0}AreItemsDirty(){for(var e=0;e<this.items.length;e++)if(this.items[e]._dirty)return!0;return!1}Update(e){!this._dirty&&this.autoRebuild&&this.AreItemsDirty()&&(this._dirty=!0),this._dirty&&this.Rebuild()}Unload(e){e||this.emit("unloaded")}Rebuild(){this.emit("rebuilt")}GetBatches(e,t,r){}Render(){}},c.Item=null,c.global={vec3_0:h.vec3.create(),vec3_1:h.vec3.create(),vec3_2:h.vec3.create(),vec4_0:h.vec4.create(),vec4_1:h.vec4.create(),mat4_0:h.mat4.create()},d((u=l).prototype,"GetBatches",[s],Object.getOwnPropertyDescriptor(u.prototype,"GetBatches"),u.prototype),d(u.prototype,"Render",[a],Object.getOwnPropertyDescriptor(u.prototype,"Render"),u.prototype),o=u))||o)},"./eve/item/EvePlaneSet.js":function(e,t,r){"use strict";r.r(t),r.d(t,"EvePlaneSetBatch",(function(){return u})),r.d(t,"EvePlaneSetItem",(function(){return c})),r.d(t,"EvePlaneSet",(function(){return l}));var n=r("./global/index.js"),i=r("./core/index.js"),s=r("./eve/item/EveObjectSet.js"),a=r("./global/util/index.js"),o=r("./core/mesh/index.js");class u extends i.Tw2RenderBatch{constructor(...e){super(...e),this.planeSet=null}Commit(e){this.planeSet.Render(e)}}class c extends s.EveObjectSetItem{constructor(...e){super(...e),this.name="",this.color=n.vec4.create(),this.layer1Scroll=n.vec4.create(),this.layer1Transform=n.vec4.create(),this.layer2Scroll=n.vec4.create(),this.layer2Transform=n.vec4.create(),this.maskAtlasID=0,this.position=n.vec3.create(),this.rotation=n.quat.create(),this.scaling=n.vec3.fromValues(1,1,1),this.boneIndex=0,this.groupIndex=-1,this.transform=n.mat4.create()}OnValueChanged(){n.mat4.fromRotationTranslationScale(this.transform,this.rotation,this.translation,this.scaling),this._dirty=!0}static from(e){var t=new c;return e&&(n.util.assignIfExists(t,e,["name","display","boneIndex","groupIndex","position","scaling","rotation","transform","color","layer1Transform","layer2Transform","layer1Scroll","layer2Scroll","maskAtlasID"]),void 0!==e.maskMapAtlasIndex&&(t.maskAtlasID=e.maskMapAtlasIndex)),t}static black(e){return[["color",e.color],["layer1Scroll",e.vector4],["layer1Transform",e.vector4],["layer2Scroll",e.vector4],["layer2Transform",e.vector4],["maskAtlasID",e.uint],["name",e.string],["position",e.vector3],["rotation",e.vector4],["scaling",e.vector3]]}}class l extends s.EveObjectSet{constructor(...e){super(...e),this.name="",this.effect=null,this.hideOnLowQuality=!1,this.pickBufferID=0,this._time=0,this._vertexBuffer=null,this._indexBuffer=null,this._decl=i.Tw2VertexDeclaration.from(l.vertexDeclarations)}get planes(){return this.items}set planes(e){this.items=e}GetResources(e=[]){return this.effect&&this.effect.GetResources(e),e}Update(e,t){this._time+=e,super.Update(e)}Unload(e){this._vertexBuffer&&(n.device.gl.deleteBuffer(this._vertexBuffer),this._vertexBuffer=null),this._indexBuffer&&(n.device.gl.deleteBuffer(this._indexBuffer),this._indexBuffer=null),super.Unload(e)}Rebuild(){this.Unload(!0),this.RebuildItems(),this._dirty=!1;var e=this._visibleItems.length;if(e){l.global.mat4_0;for(var t=new Float32Array(4*e*35),r=0;r<e;++r){var i=this._visibleItems[r],s=4*r*35;t[s+35-3]=0,t[s+35+35-3]=1,t[s+70+35-3]=2,t[s+105+35-3]=3;for(var a=n.mat4.fromRotationTranslationScale(i.transform,i.rotation,i.position,i.scaling),o=0;o<4;++o){var u=s+35*o;t[u]=a[0],t[u+1]=a[4],t[u+2]=a[8],t[u+3]=a[12],t[u+4]=a[1],t[u+5]=a[5],t[u+6]=a[9],t[u+7]=a[13],t[u+8]=a[2],t[u+9]=a[6],t[u+10]=a[10],t[u+11]=a[14],t[u+12]=i.color[0],t[u+13]=i.color[1],t[u+14]=i.color[2],t[u+15]=i.color[3],t[u+16]=i.layer1Transform[0],t[u+17]=i.layer1Transform[1],t[u+18]=i.layer1Transform[2],t[u+19]=i.layer1Transform[3],t[u+20]=i.layer2Transform[0],t[u+21]=i.layer2Transform[1],t[u+22]=i.layer2Transform[2],t[u+23]=i.layer2Transform[3],t[u+24]=i.layer1Scroll[0],t[u+25]=i.layer1Scroll[1],t[u+26]=i.layer1Scroll[2],t[u+27]=i.layer1Scroll[3],t[u+28]=i.layer2Scroll[0],t[u+29]=i.layer2Scroll[1],t[u+30]=i.layer2Scroll[2],t[u+31]=i.layer2Scroll[3],t[u+33]=i.boneIndex,t[u+34]=i.maskAtlasID}}this._vertexBuffer=n.device.gl.createBuffer(),n.device.gl.bindBuffer(n.device.gl.ARRAY_BUFFER,this._vertexBuffer),n.device.gl.bufferData(n.device.gl.ARRAY_BUFFER,t,n.device.gl.STATIC_DRAW),n.device.gl.bindBuffer(n.device.gl.ARRAY_BUFFER,null);for(var c=new Uint16Array(6*e),h=0;h<e;++h){var d=6*h,f=4*h;c[d]=f,c[d+1]=f+2,c[d+2]=f+1,c[d+3]=f,c[d+4]=f+3,c[d+5]=f+2}this._indexBuffer=n.device.gl.createBuffer(),n.device.gl.bindBuffer(n.device.gl.ELEMENT_ARRAY_BUFFER,this._indexBuffer),n.device.gl.bufferData(n.device.gl.ELEMENT_ARRAY_BUFFER,c,n.device.gl.STATIC_DRAW),n.device.gl.bindBuffer(n.device.gl.ELEMENT_ARRAY_BUFFER,null),this._indexBuffer.count=6*e,super.Rebuild()}else super.Rebuild()}GetBatches(e,t,r){if(this.display&&e===n.device.RM_ADDITIVE&&this._indexBuffer&&this._vertexBuffer&&this._visibleItems.length){var i=new u;i.renderMode=n.device.RM_ADDITIVE,i.planeSet=this,i.perObjectData=r,t.Commit(i)}}Render(e){if(!(this.effect&&this.effect.IsGood()&&this._vertexBuffer&&this._indexBuffer))return!1;var t=n.device,r=t.gl;t.SetStandardStates(t.RM_ADDITIVE),r.bindBuffer(r.ARRAY_BUFFER,this._vertexBuffer),r.bindBuffer(r.ELEMENT_ARRAY_BUFFER,this._indexBuffer);for(var i=0;i<this.effect.GetPassCount(e);++i){if(this.effect.ApplyPass(e,i),!this._decl.SetDeclaration(t,this.effect.GetPassInput(e,i),140))return!1;t.ApplyShadowState(),r.drawElements(r.TRIANGLES,this._indexBuffer.count,r.UNSIGNED_SHORT,0)}return!0}static from(e,t){var r=new l;if(e&&(Object(a.assignIfExists)(r,e,["name","display","hideOnLowQuality"]),e.effect&&(r.effect=o.Tw2Effect.from(e.effect)),e.items))for(var n=0;n<e.items.length;n++)r.CreateItem(e.items[n]);return t&&t.skipUpdate||r.Initialize(),r}static black(e){return[["effect",e.object],["hideOnLowQuality",e.boolean],["name",e.string],["pickBufferID",e.byte],["planes",e.array]]}}l.Item=c,l.vertexDeclarations=[{usage:"TEXCOORD",usageIndex:0,elements:4},{usage:"TEXCOORD",usageIndex:1,elements:4},{usage:"TEXCOORD",usageIndex:2,elements:4},{usage:"COLOR",usageIndex:0,elements:4},{usage:"TEXCOORD",usageIndex:3,elements:4},{usage:"TEXCOORD",usageIndex:4,elements:4},{usage:"TEXCOORD",usageIndex:5,elements:4},{usage:"TEXCOORD",usageIndex:6,elements:4},{usage:"TEXCOORD",usageIndex:7,elements:3}]},"./eve/item/EveSpaceObjectDecal.js":function(e,t,r){"use strict";r.r(t),r.d(t,"EveSpaceObjectDecal",(function(){return o}));var n=r("./global/index.js"),i=r("./core/index.js"),s=r("./global/util/index.js"),a=r("./core/mesh/index.js");class o extends n.Tw2BaseClass{constructor(...e){super(...e),this.name="",this.decalEffect=null,this.indexBuffer=[],this.position=n.vec3.create(),this.rotation=n.quat.create(),this.scaling=n.vec3.fromValues(1,1,1),this.display=!0,this.groupIndex=-1,this.parentBoneIndex=-1,this.pickable=!0,this.pickEffect=null,this._indexBuffer=null,this._parentGeometry=null,this._perObjectData=i.Tw2PerObjectData.from(o.perObjectData),this._transform=n.mat4.create(),this._transformInv=n.mat4.create(),this._dirty=!0}Initialize(){this.Rebuild(),this.UpdateValues()}GetResources(e=[]){return this.decalEffect&&this.decalEffect.GetResources(e),this.pickEffect&&this.pickEffect.GetResources(e),e}OnValueChanged(){n.mat4.fromRotationTranslationScale(this._transform,this.rotation,this.position,this.scaling),n.mat4.invert(this._transformInv,this._transform)}SetParentGeometry(e){this._parentGeometry=e}Unload(e){this._indexBuffer&&(n.device.gl.deleteBuffer(this._indexBuffer),this._indexBuffer=null),e||this.emit("unloaded")}Rebuild(){if(this.Unload(!0),this.indexBuffer){var e=n.device.gl,t=new Uint16Array(this.indexBuffer);this._indexBuffer=e.createBuffer(),e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,this._indexBuffer),e.bufferData(e.ELEMENT_ARRAY_BUFFER,t,e.STATIC_DRAW)}this._dirty=!1,this.emit("rebuilt")}GetBatches(e,t,r,s){var a;switch(e){case n.device.RM_DECAL:a=this.decalEffect;break;case n.device.RM_PICKABLE:a=this.pickable?this.pickEffect:null}if(this._dirty&&this.Rebuild(),this.display&&a&&this._parentGeometry&&this._parentGeometry.meshes[0]&&this._indexBuffer&&a.IsGood()&&this._parentGeometry.IsGood()){var o=new i.Tw2ForwardingRenderBatch;if(this._perObjectData.vs.Set("worldMatrix",r.vs.Get("WorldMat")),this.parentBoneIndex>=0){var u=r.vs.Get("JointMat"),c=12*this.parentBoneIndex;if(u[c]||u[c+4]||u[c+8]){var l=this._perObjectData.vs.Get("parentBoneMatrix");l[0]=u[c],l[1]=u[c+4],l[2]=u[c+8],l[3]=0,l[4]=u[c+1],l[5]=u[c+5],l[6]=u[c+9],l[7]=0,l[8]=u[c+2],l[9]=u[c+6],l[10]=u[c+10],l[11]=0,l[12]=u[c+3],l[13]=u[c+7],l[14]=u[c+11],l[15]=1,n.mat4.transpose(l,l)}}n.mat4.invert(this._perObjectData.vs.Get("invWorldMatrix"),this._perObjectData.vs.Get("worldMatrix")),n.mat4.transpose(this._perObjectData.vs.Get("decalMatrix"),this._transform),n.mat4.transpose(this._perObjectData.vs.Get("invDecalMatrix"),this._transformInv),this._perObjectData.ps.Get("displayData")[0]=s||0,this._perObjectData.ps.Set("shipData",r.ps.data),o.perObjectData=this._perObjectData,o.geometryProvider=this,o.renderMode=e,o.effect=a,t.Commit(o)}}Render(e,t){var r=this._parentGeometry.meshes[0],i=r.indexes,s=r.areas[0].start,a=r.areas[0].count,o=r.indexType;n.tw2.SetVariableValue("u_DecalMatrix",this._transform),n.tw2.SetVariableValue("u_InvDecalMatrix",this._transformInv),r.indexes=this._indexBuffer,r.areas[0].start=0,r.areas[0].count=this.indexBuffer.length,r.indexType=n.device.gl.UNSIGNED_SHORT,this._parentGeometry.RenderAreas(0,0,1,e.effect,t),r.indexes=i,r.areas[0].start=s,r.areas[0].count=a,r.indexType=o}static from(e,t){var r=new o;if(e){Object(s.assignIfExists)(r,e,["name","display","pickable","position","rotation","scaling","groupIndex","parentBoneIndex"]),e.indexBuffer&&(r.indexBuffer=new Uint16Array(e.indexBuffer)),e.pickEffect&&(r.pickEffect=a.Tw2Effect.from(e.pickEffect));var n=e.decalEffect||e.effect;n&&(r.decalEffect=a.Tw2Effect.from(n))}return t&&t.skipUpdate||r.Initialize(),r}static black(e){return[["decalEffect",e.object],["name",e.string],["position",e.vector3],["rotation",e.vector4],["scaling",e.vector3],["indexBuffer",e.indexBuffer]]}}o.perObjectData={vs:[["worldMatrix",16],["invWorldMatrix",16],["decalMatrix",16],["invDecalMatrix",16],["parentBoneMatrix",n.mat4.identity([])]],ps:[["displayData",4],["shipData",12]]}},"./eve/item/EveSpotlightSet.js":function(e,t,r){"use strict";r.r(t),r.d(t,"EveSpotlightSetBatch",(function(){return u})),r.d(t,"EveSpotlightSetItem",(function(){return c})),r.d(t,"EveSpotlightSet",(function(){return l}));var n=r("./global/index.js"),i=r("./core/index.js"),s=r("./eve/item/EveObjectSet.js"),a=r("./global/util/index.js"),o=r("./core/mesh/index.js");class u extends i.Tw2RenderBatch{constructor(...e){super(...e),this.spotlightSet=null}Commit(e){this.spotlightSet.RenderCones(e),this.spotlightSet.RenderGlow(e)}}class c extends s.EveObjectSetItem{constructor(...e){super(...e),this.name="",this.coneColor=n.vec4.create(),this.flareColor=n.vec4.create(),this.spriteColor=n.vec4.create(),this.spriteScale=n.vec3.fromValues(1,1,1),this.transform=n.mat4.create(),this.boosterGainInfluence=0,this.boneIndex=0,this.display=!0,this.groupIndex=-1,this.coneIntensity=0,this.spriteIntensity=0,this.flareIntensity=0}static from(e={}){var t=new this;return n.util.assignIfExists(t,e,["name","display","boosterGainInfluence","boneIndex","groupIndex","coneIntensity","spriteIntensity","flareIntensity","transform","coneColor","spriteColor","flareColor","spriteScale"]),t}static black(e){return[["coneColor",e.color],["flareColor",e.color],["name",e.string],["spriteColor",e.color],["spriteScale",e.vector3],["transform",e.matrix]]}}class l extends s.EveObjectSet{constructor(...e){super(...e),this.name="",this.coneEffect=null,this.glowEffect=null,this.intensity=1,this._coneVertexBuffer=null,this._spriteVertexBuffer=null,this._indexBuffer=null,this._decl=i.Tw2VertexDeclaration.from(l.vertexDeclarations)}get spotlightItems(){return this.items}set spotlightItems(e){this.items=e}GetResources(e=[]){return this.coneEffect&&this.coneEffect.GetResources(e),this.glowEffect&&this.glowEffect.GetResources(e),e}Unload(e){this._coneVertexBuffer&&(n.device.gl.deleteBuffer(this._coneVertexBuffer),this._coneVertexBuffer=null),this._spriteVertexBuffer&&(n.device.gl.deleteBuffer(this._spriteVertexBuffer),this._spriteVertexBuffer=null),this._indexBuffer&&(n.device.gl.deleteBuffer(this._indexBuffer),this._indexBuffer=null),super.Unload(e)}Rebuild(){this.Unload(!0),this.RebuildItems(),this._dirty=!1;var e=this._visibleItems.length;if(e){for(var t=n.device,r=[1,0,2,3],i=new Float32Array(22*(4*e*4)),s=0;s<e;++s)for(var a=this._visibleItems[s],o=0;o<4;++o)for(var u=0;u<4;++u){var c=22*(4*s*4+4*o+u);i[c]=a.coneColor[0]*a.coneIntensity*this.intensity,i[c+1]=a.coneColor[1]*a.coneIntensity*this.intensity,i[c+2]=a.coneColor[2]*a.coneIntensity*this.intensity,i[c+3]=a.coneColor[3],i[c+4]=a.transform[0],i[c+5]=a.transform[4],i[c+6]=a.transform[8],i[c+7]=a.transform[12],i[c+8]=a.transform[1],i[c+9]=a.transform[5],i[c+10]=a.transform[9],i[c+11]=a.transform[13],i[c+12]=a.transform[2],i[c+13]=a.transform[6],i[c+14]=a.transform[10],i[c+15]=a.transform[14],i[c+16]=1,i[c+17]=1,i[c+18]=1,i[c+19]=4*o+r[u],i[c+20]=a.boneIndex,i[c+21]=a.boosterGainInfluence?255:0}this._coneVertexBuffer=t.gl.createBuffer(),t.gl.bindBuffer(t.gl.ARRAY_BUFFER,this._coneVertexBuffer),t.gl.bufferData(t.gl.ARRAY_BUFFER,i,t.gl.STATIC_DRAW),this._coneVertexBuffer.count=4*e*6;for(var l=new Float32Array(22*(2*e*4)),h=[1,0,2,3],d=0;d<e;++d)for(var f=this._visibleItems[d],m=0;m<2;++m)for(var v=0;v<4;++v){var p=22*(2*d*4+4*m+v);m%2==0?(l[p]=f.spriteColor[0]*f.spriteIntensity*this.intensity,l[p+1]=f.spriteColor[1]*f.spriteIntensity*this.intensity,l[p+2]=f.spriteColor[2]*f.spriteIntensity*this.intensity,l[p+3]=f.spriteColor[3],l[p+16]=f.spriteScale[0],l[p+17]=1,l[p+18]=1):(l[p]=f.flareColor[0]*f.flareIntensity*this.intensity,l[p+1]=f.flareColor[1]*f.flareIntensity*this.intensity,l[p+2]=f.flareColor[2]*f.flareIntensity*this.intensity,l[p+3]=f.flareColor[3],l[p+16]=1,l[p+17]=f.spriteScale[1],l[p+18]=f.spriteScale[2]),l[p+4]=f.transform[0],l[p+5]=f.transform[4],l[p+6]=f.transform[8],l[p+7]=f.transform[12],l[p+8]=f.transform[1],l[p+9]=f.transform[5],l[p+10]=f.transform[9],l[p+11]=f.transform[13],l[p+12]=f.transform[2],l[p+13]=f.transform[6],l[p+14]=f.transform[10],l[p+15]=f.transform[14],l[p+19]=4*m+h[v],l[p+20]=f.boneIndex,l[p+21]=f.boosterGainInfluence?255:0}this._spriteVertexBuffer=t.gl.createBuffer(),t.gl.bindBuffer(t.gl.ARRAY_BUFFER,this._spriteVertexBuffer),t.gl.bufferData(t.gl.ARRAY_BUFFER,l,t.gl.STATIC_DRAW),this._spriteVertexBuffer.count=2*e*6;for(var _=new Uint16Array(4*e*6),E=0;E<4*e;++E){var S=6*E,T=4*E;_[S]=T,_[S+1]=T+1,_[S+2]=T+2,_[S+3]=T+2,_[S+4]=T+3,_[S+5]=T}this._indexBuffer=t.gl.createBuffer(),t.gl.bindBuffer(t.gl.ELEMENT_ARRAY_BUFFER,this._indexBuffer),t.gl.bufferData(t.gl.ELEMENT_ARRAY_BUFFER,_,t.gl.STATIC_DRAW),t.gl.bindBuffer(t.gl.ELEMENT_ARRAY_BUFFER,null),this._indexBuffer.count=e,super.Rebuild()}else super.Rebuild()}GetBatches(e,t,r){if(this.display&&e===n.device.RM_ADDITIVE&&this._indexBuffer&&this._indexBuffer.count){var i=new u;i.renderMode=n.device.RM_ADDITIVE,i.spotlightSet=this,i.perObjectData=r,t.Commit(i)}}RenderCones(e){return l.Render(this,this.coneEffect,e,this._coneVertexBuffer)}RenderGlow(e){return l.Render(this,this.glowEffect,e,this._spriteVertexBuffer)}static Render(e,t,r,i){if(!(t&&t.IsGood()&&i&&e._indexBuffer))return!1;var s=n.device,a=s.gl;s.SetStandardStates(s.RM_ADDITIVE),a.bindBuffer(a.ARRAY_BUFFER,i),a.bindBuffer(a.ELEMENT_ARRAY_BUFFER,e._indexBuffer);for(var o=0;o<t.GetPassCount(r);++o){if(t.ApplyPass(r,o),!e._decl.SetDeclaration(s,t.GetPassInput(r,o),88))return!1;s.ApplyShadowState(),s.gl.drawElements(a.TRIANGLES,i.count,a.UNSIGNED_SHORT,0)}return!0}static from(e,t){var r=new l;if(e&&(Object(a.assignIfExists)(r,e,["name","display","intensity"]),e.coneEffect&&(Object(a.isFunction)(e.coneEffect)?r.coneEffect=e.coneEffect:r.coneEffect=o.Tw2Effect.from(e.coneEffect)),e.glowEffect&&(Object(a.isFunction)(e.glowEffect)?r.glowEffect=e.glowEffect:r.glowEffect=o.Tw2Effect.from(e.glowEffect)),e.items))for(var n=0;n<e.items.length;n++)r.CreateItem(e.items[n]);return t&&t.skipUpdate||r.Initialize(),r}static black(e){return[["coneEffect",e.object],["glowEffect",e.object],["intensity",e.float],["name",e.string],["spotlightItems",e.array]]}}l.Item=c,l.vertexDeclarations=[{usage:"COLOR",usageIndex:0,elements:4},{usage:"TEXCOORD",usageIndex:0,elements:4},{usage:"TEXCOORD",usageIndex:1,elements:4},{usage:"TEXCOORD",usageIndex:2,elements:4},{usage:"TEXCOORD",usageIndex:3,elements:3},{usage:"TEXCOORD",usageIndex:4,elements:3}]},"./eve/item/EveSpriteLineSet.js":function(e,t,r){"use strict";r.r(t),r.d(t,"EveSpriteLineSetBatch",(function(){return s})),r.d(t,"EveSpriteLineSetItem",(function(){return a})),r.d(t,"EveSpriteLineSet",(function(){return o}));var n=r("./global/index.js"),i=r("./eve/item/EveObjectSet.js");class s{constructor(){this.spriteLineSet=null}Commit(e){this.spriteLineSet.Render(e)}}class a extends i.EveObjectSetItem{constructor(...e){super(...e),this.blinkPhase=0,this.blinkPhaseShift=0,this.blinkRate=0,this.boneIndex=0,this.colorType=0,this.falloff=0,this.intensity=0,this.isCircle=!1,this.maxScale=0,this.minScale=0,this.position=n.vec3.create(),this.rotation=n.quat.create(),this.scaling=n.vec3.fromValues(1,1,1),this.spacing=0,this.display=!0,this.transform=n.mat4.create(),this._dirty=!0}OnValueChanged(){n.mat4.fromRotationTranslationScale(this.transform,this.rotation,this.position,this.scaling),this._dirty=!0}}class o extends i.EveObjectSet{Unload(){}Rebuild(){}GetBatches(e,t,r){}Render(e){}}},"./eve/item/EveSpriteSet.js":function(e,t,r){"use strict";r.r(t),r.d(t,"EveSpriteSetBatch",(function(){return u})),r.d(t,"EveSpriteSetItem",(function(){return c})),r.d(t,"EveSpriteSet",(function(){return l}));var n=r("./global/index.js"),i=r("./core/index.js"),s=r("./eve/item/EveObjectSet.js"),a=r("./global/util/index.js"),o=r("./core/mesh/index.js");class u extends i.Tw2RenderBatch{constructor(...e){super(...e),this.boosterGlow=!1,this.spriteSet=null,this.world=null,this.boosterGain=0,this.warpIntensity=0}Commit(e){this.boosterGlow?this.spriteSet.RenderBoosterGlow(e,this.world,this.boosterGain,this.warpIntensity):this.spriteSet.Render(e,this.world,this.perObjectData)}}class c extends s.EveObjectSetItem{constructor(...e){super(...e),this.name="",this.blinkPhase=0,this.blinkRate=0,this.boneIndex=0,this.color=n.vec4.create(),this.falloff=0,this.maxScale=0,this.minScale=0,this.position=n.vec3.create(),this.warpColor=n.vec4.create(),this.groupIndex=-1,this.groupName=""}static from(e){var t=new this;return e&&n.util.assignIfExists(t,e,["name","display","blinkRate","blinkPhase","minScale","maxScale","falloff","boneIndex","groupIndex","position","color","warpColor","groupName"]),t}static black(e){return[["blinkPhase",e.float],["blinkRate",e.float],["boneIndex",e.uint],["color",e.color],["falloff",e.float],["maxScale",e.float],["minScale",e.float],["name",e.string],["position",e.vector3],["warpColor",e.color]]}}class l extends s.EveObjectSet{constructor(...e){super(...e),this.name="",this.effect=null,this.intensity=0,this.skinned=!1,this.useQuads=null,this._time=0,this._vertexBuffer=null,this._indexBuffer=null,this._instanceBuffer=null,this._decl=null,this._vdecl=i.Tw2VertexDeclaration.from([{usage:"TEXCOORD",usageType:5,elements:1}]),this._worldSpriteScale=1}get sprites(){return this.items}set sprites(e){this.items=e}Initialize(){this.UseQuads(!!this.useQuads),this.Rebuild()}GetResources(e=[]){return this.effect&&this.effect.GetResources(e),e}UseQuads(e){this.useQuads=e,this._decl=i.Tw2VertexDeclaration.from(e?l.quadVertexDeclarations:l.vertexDeclarations),this._dirty=!0}Update(e,t){this._time+=e,void 0!==this._worldSpriteScale&&this._worldSpriteScale!==t&&(this._worldSpriteScale=t,this._dirty=!0),super.Update(e)}Unload(e){var t=n.device.gl;this._vertexBuffer&&(t.deleteBuffer(this._vertexBuffer),this._vertexBuffer=null),this._indexBuffer&&(t.deleteBuffer(this._indexBuffer),this._indexBuffer=null),this._instanceBuffer&&(t.deleteBuffer(this._instanceBuffer),this._instanceBuffer=null),super.Unload(e)}Rebuild(){this.RebuildItems(),this._dirty=!1;var e=this._visibleItems.length;if(e){var t=n.device.gl;if(this.useQuads)return this._vertexBuffer=t.createBuffer(),t.bindBuffer(t.ARRAY_BUFFER,this._vertexBuffer),t.bufferData(t.ARRAY_BUFFER,new Float32Array([0,1,2,2,3,0]),t.STATIC_DRAW),t.bindBuffer(t.ARRAY_BUFFER,null),void(this._instanceBuffer=t.createBuffer());for(var r=new Float32Array(4*e*13),i=0;i<e;++i){var s=this._visibleItems[i],a=4*i*13;r[a]=0,r[a+13]=1,r[a+26]=2,r[a+39]=3;for(var o=0;o<4;++o){var u=a+13*o;r[u+1]=s.boneIndex,r[u+2]=s.position[0],r[u+3]=s.position[1],r[u+4]=s.position[2],r[u+5]=s.color[0],r[u+6]=s.color[1],r[u+7]=s.color[2],r[u+8]=s.blinkPhase,r[u+9]=s.blinkRate,r[u+10]=s.minScale*this._worldSpriteScale,r[u+11]=s.maxScale*this._worldSpriteScale,r[u+12]=s.falloff}}this._vertexBuffer=t.createBuffer(),t.bindBuffer(t.ARRAY_BUFFER,this._vertexBuffer),t.bufferData(t.ARRAY_BUFFER,r,t.STATIC_DRAW),t.bindBuffer(t.ARRAY_BUFFER,null);for(var c=new Uint16Array(6*e),l=0;l<e;++l){var h=6*l,d=4*l;c[h]=d,c[h+1]=d+2,c[h+2]=d+1,c[h+3]=d,c[h+4]=d+3,c[h+5]=d+2}this._indexBuffer=t.createBuffer(),t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,this._indexBuffer),t.bufferData(t.ELEMENT_ARRAY_BUFFER,c,t.STATIC_DRAW),t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,null),this._indexBuffer.count=6*e,super.Rebuild()}else super.Rebuild()}GetBatches(e,t,r,i){if(this.display&&e===n.device.RM_ADDITIVE&&this._vertexBuffer&&this._visibleItems.length){var s=new u;s.world=i,s.renderMode=n.device.RM_ADDITIVE,s.spriteSet=this,s.perObjectData=r,t.Commit(s)}}GetBoosterGlowBatches(e,t,r,i,s,a){if(this.display&&e===n.device.RM_ADDITIVE&&this._vertexBuffer&&this._visibleItems.length){var o=new u;o.boosterGlow=!0,o.world=i,o.boosterGain=s,o.warpIntensity=a,o.renderMode=n.device.RM_ADDITIVE,o.spriteSet=this,o.perObjectData=r,t.Commit(o)}}Render(e,t,r){if(this.useQuads)return this.RenderQuads(e,t,r);if(!(this.effect&&this.effect.IsGood()&&this._indexBuffer&&this._vertexBuffer))return!1;var i=n.device,s=i.gl;i.SetStandardStates(i.RM_ADDITIVE),s.bindBuffer(s.ARRAY_BUFFER,this._vertexBuffer),s.bindBuffer(s.ELEMENT_ARRAY_BUFFER,this._indexBuffer);for(var a=0;a<this.effect.GetPassCount(e);++a){if(this.effect.ApplyPass(e,a),!this._decl.SetDeclaration(i,this.effect.GetPassInput(e,a),52))return!1;i.ApplyShadowState(),s.drawElements(s.TRIANGLES,this._indexBuffer.count,s.UNSIGNED_SHORT,0)}return!0}RenderBoosterGlow(e,t,r,i){if(!(this.effect&&this.effect.IsGood()&&this._instanceBuffer&&this._vertexBuffer))return!1;var a=n.device,o=a.gl,u=s.EveObjectSet.global.vec3_0,c=this._visibleItems.length,l=new Float32Array(17*c);a.SetStandardStates(a.RM_ADDITIVE);for(var h=0,d=0;d<c;++d){var f=this._visibleItems[d];n.vec3.transformMat4(u,f.position,t),l[h++]=u[0],l[h++]=u[1],l[h++]=u[2],l[h++]=t[8],l[h++]=f.blinkPhase,l[h++]=t[9],l[h++]=f.minScale*this._worldSpriteScale,l[h++]=f.maxScale*this._worldSpriteScale,l[h++]=t[10],l[h++]=f.color[0],l[h++]=f.color[1],l[h++]=f.color[2],l[h++]=r,l[h++]=f.warpColor[0],l[h++]=f.warpColor[1],l[h++]=f.warpColor[2],l[h++]=i}o.bindBuffer(o.ARRAY_BUFFER,this._instanceBuffer),o.bufferData(o.ARRAY_BUFFER,l,o.DYNAMIC_DRAW);for(var m=0;m<this.effect.GetPassCount(e);++m){this.effect.ApplyPass(e,m);var v=this.effect.GetPassInput(e,m);o.bindBuffer(o.ARRAY_BUFFER,this._vertexBuffer),this._vdecl.SetPartialDeclaration(a,v,4),o.bindBuffer(o.ARRAY_BUFFER,this._instanceBuffer);var p=this._decl.SetPartialDeclaration(a,v,68,0,1);a.ApplyShadowState(),o.drawArraysInstanced(o.TRIANGLES,0,6,c),this._decl.ResetInstanceDivisors(a,p)}return!0}RenderQuads(e,t,r){if(!(this.effect&&this.effect.IsGood()&&this._instanceBuffer&&this._vertexBuffer))return!1;var i=n.device,a=i.gl,o=this._visibleItems.length,u=new Float32Array(17*o),c=s.EveObjectSet.global.vec3_0,l=r.vs.Get("JointMat");i.SetStandardStates(i.RM_ADDITIVE);for(var h=0,d=0;d<o;++d){var f=this._visibleItems[d];if(this.skinned){var m=12*f.boneIndex;c[0]=l[m]*f.position[0]+l[m+1]*f.position[1]+l[m+2]*f.position[2]+l[m+3],c[1]=l[m+4]*f.position[0]+l[m+5]*f.position[1]+l[m+6]*f.position[2]+l[m+7],c[2]=l[m+8]*f.position[0]+l[m+9]*f.position[1]+l[m+10]*f.position[2]+l[m+11],n.vec3.transformMat4(c,c,t)}else n.vec3.transformMat4(c,f.position,t);u[h++]=c[0],u[h++]=c[1],u[h++]=c[2],u[h++]=1,u[h++]=f.blinkPhase,u[h++]=f.blinkRate,u[h++]=f.minScale*this._worldSpriteScale,u[h++]=f.maxScale*this._worldSpriteScale,u[h++]=f.falloff,u[h++]=f.color[0],u[h++]=f.color[1],u[h++]=f.color[2],u[h++]=1,u[h++]=f.warpColor[0],u[h++]=f.warpColor[1],u[h++]=f.warpColor[2],u[h++]=1}a.bindBuffer(a.ARRAY_BUFFER,this._instanceBuffer),a.bufferData(a.ARRAY_BUFFER,u,a.DYNAMIC_DRAW);for(var v=0;v<this.effect.GetPassCount(e);++v){this.effect.ApplyPass(e,v);var p=this.effect.GetPassInput(e,v);a.bindBuffer(a.ARRAY_BUFFER,this._vertexBuffer),this._vdecl.SetPartialDeclaration(i,p,4),a.bindBuffer(a.ARRAY_BUFFER,this._instanceBuffer);var _=this._decl.SetPartialDeclaration(i,p,68,0,1);i.ApplyShadowState(),a.drawArraysInstanced(a.TRIANGLES,0,6,o),this._decl.ResetInstanceDivisors(i,_)}return!0}static from(e,t){var r=new l;if(e&&(Object(a.assignIfExists)(r,e,["name","intensity","skinned","useQuads"]),e.effect&&(r.effect=o.Tw2Effect.from(e.effect)),e.items))for(var n=0;n<e.items.length;n++)r.CreateItem(e.items[n]);return t&&t.skipUpdate||r.Initialize(),r}static black(e){return[["effect",e.object],["name",e.string],["intensity",e.float],["skinned",e.boolean],["sprites",e.array]]}}l.Item=c,l.vertexDeclarations=[{usage:"TEXCOORD",usageIndex:5,elements:2},{usage:"POSITION",usageIndex:0,elements:3},{usage:"COLOR",usageIndex:0,elements:3},{usage:"TEXCOORD",usageIndex:0,elements:1},{usage:"TEXCOORD",usageIndex:1,elements:1},{usage:"TEXCOORD",usageIndex:2,elements:1},{usage:"TEXCOORD",usageIndex:3,elements:1},{usage:"TEXCOORD",usageIndex:4,elements:1}],l.quadVertexDeclarations=[{usage:"POSITION",usageIndex:0,elements:3},{usage:"TEXCOORD",usageIndex:0,elements:4},{usage:"TEXCOORD",usageIndex:1,elements:2},{usage:"COLOR",usageIndex:0,elements:4},{usage:"COLOR",usageIndex:1,elements:4}]},"./eve/item/EveTrailsSet.js":function(e,t,r){"use strict";r.r(t),r.d(t,"EveTrailSetRenderBatch",(function(){return s})),r.d(t,"EveTrailsSet",(function(){return a}));var n=r("./global/index.js"),i=r("./core/batch/index.js");class s extends i.Tw2RenderBatch{constructor(...e){super(...e),this.trailsSet=null}Commit(e){this.boosters.Render(e)}}class a extends n.Tw2BaseClass{constructor(...e){super(...e),this.effect=null,this.geometryResPath="",this.display=!0,this.geometryRes=null}Initialize(){this.geometryResPath&&(this.geometryRes=n.resMan.GetResource(this.geometryResPath,e=>this.OnResPrepared(e)))}OnResPrepared(e){}GetResources(e=[]){return this.effect&&this.effect.GetResources(e),this.geometryRes&&!e.includes(this.geometryRes)&&e.push(this.geometryRes),e}Update(e){}Unload(){}Rebuild(){}GetBatches(e,t,r){}Render(e){}static black(e){return[["effect",e.object],["geometryResPath",e.path]]}}a.__isStaging=4},"./eve/item/EveTurretSet.js":function(e,t,r){"use strict";r.r(t),r.d(t,"EveTurretSetItem",(function(){return u})),r.d(t,"EveTurretSet",(function(){return c}));var n,i,s=r("./global/index.js"),a=r("./core/index.js"),o=r("./eve/item/EveObjectSet.js");class u extends o.EveObjectSetItem{constructor(...e){super(...e),this.locatorName=null,this.updateFromLocator=!1,this.canFireWhenHidden=!1,this.position=s.vec3.create(),this.rotation=s.quat.create(),this._bone=null,this._localTransform=s.mat4.create(),this._localRotation=s.quat.create()}OnValueChanged(){this._dirty=!0,this.UpdateTransforms()}UpdateTransforms(){s.mat4.fromRotationTranslation(this._localTransform,this.rotation,this.position),this._bone?(s.mat4.multiply(this._localTransform,this._bone.offsetTransform,this._localTransform),s.mat4.getRotation(this._localRotation,this._localTransform)):s.quat.copy(this._localRotation,this.rotation)}static from(e={}){var t=new this;return s.util.assignIfExists(t,e,["name","display","locatorName","updateFromLocator","position","rotation","canFireWhenHidden"]),t.UpdateValues(),t}}class c extends o.EveObjectSet{constructor(...e){super(...e),this.bottomClipHeight=0,this.boundingSphere=s.vec4.create(),this.chooseRandomLocator=!1,this.cyclingFireGroupCount=0,this.firingEffectResPath="",this.geometryResPath="",this.impactSize=0,this.laserMissBehaviour=!1,this.locatorName="",this.maxCyclingFirePos=0,this.projectileMissBehaviour=!1,this.sysBoneHeight=0,this.sysBonePitch01Factor=0,this.sysBonePitch02Factor=0,this.sysBonePitchFactor=0,this.sysBonePitchMax=0,this.sysBonePitchMin=0,this.sysBonePitchOffset=0,this.turretEffect=null,this.updatePitchPose=!1,this.useDynamicBounds=!1,this.useRandomFiringDelay=!1,this.firingEffect=null,this.geometryResource=null,this.visible={turrets:!0,firingEffects:!0},this._activeAnimation=new a.Tw2AnimationController,this._activeTurret=-1,this._currentCyclingFiresPos=0,this._fireCallback=null,this._fireCallbackPending=!1,this._hasCyclingFiringPos=!1,this._inactiveAnimation=new a.Tw2AnimationController,this._locatorDirty=!0,this._parentTransform=s.mat4.create(),this._perObjectDataActive=a.Tw2PerObjectData.from(c.perObjectData),this._perObjectDataInactive=a.Tw2PerObjectData.from(c.perObjectData),this._state=c.State.IDLE,this._targetPosition=s.vec3.create(),this._recheckTimeLeft=0}get turrets(){return this.items}set turrets(e){this.items=e}Initialize(){this.turretEffect&&""!==this.geometryResPath&&(this.geometryResource=s.resMan.GetResource(this.geometryResPath,e=>this.OnResPrepared(e)),this._activeAnimation.SetGeometryResource(this.geometryResource),this._inactiveAnimation.SetGeometryResource(this.geometryResource)),""!==this.firingEffectResPath&&s.resMan.GetObject(this.firingEffectResPath,e=>this.firingEffect=e),this.Rebuild()}InitializeFiringEffect(){if(this.firingEffect&&this.geometryResource&&this.geometryResource.models.length)for(var e=this.geometryResource.models[0],t=0;t<this.firingEffect.GetPerMuzzleEffectCount();++t)this.firingEffect.SetMuzzleBoneID(t,e.FindBoneByName(c.positionBoneSkeletonNames[t]))}GetResources(e=[]){return this.turretEffect&&this.turretEffect.GetResources(e),this.firingEffect&&this.firingEffect.GetResources(e),this.geometryResource&&!e.includes(this.geometryResource)&&e.push(this.geometryResource),e}OnTurretFired(e){this._fireCallback=e}SetTargetPosition(e){s.vec3.copy(this._targetPosition,e)}GetClosestTurret(){for(var e=-1,t=-2,r=c.global,n=r.vec3_0,i=r.vec4_0,a=r.vec4_1,o=0;o<this.items.length;++o){var u=this.items[o];if(u.display||u.canFireWhenHidden){a[0]=u._localTransform[12],a[1]=u._localTransform[13],a[2]=u._localTransform[14],a[3]=1,s.vec4.transformMat4(a,a,this._parentTransform),s.vec3.subtract(n,this._targetPosition,a),s.vec3.normalize(n,n),s.vec4.set(i,0,1,0,0),s.vec4.transformMat4(i,i,u._localTransform),s.vec4.transformMat4(i,i,this._parentTransform);var l=s.vec3.dot(i,n);l>t&&(e=this.items.indexOf(u),t=l)}}return e}EnterStateDeactive(){this._state!==c.State.INACTIVE&&this._state!==c.State.PACKING&&(this.turretEffect?(this._activeAnimation.StopAllAnimations(),this._inactiveAnimation.StopAllAnimations(),this._activeAnimation.PlayAnimation("Pack",!1,()=>{this._state=c.State.INACTIVE,this._activeAnimation.PlayAnimation("Inactive",!0)}),this._inactiveAnimation.PlayAnimation("Pack",!1,()=>{this._state=c.State.INACTIVE,this._inactiveAnimation.PlayAnimation("Inactive",!0)}),this._state=c.State.PACKING):this._state=c.State.INACTIVE,this._activeTurret=-1,this.DoStopFiring())}EnterStateIdle(){this._state!==c.State.IDLE&&this._state!==c.State.UNPACKING&&(this.turretEffect?(this._activeAnimation.StopAllAnimations(),this._inactiveAnimation.StopAllAnimations(),this._state===c.State.FIRING?(this._activeAnimation.PlayAnimation("Active",!0),this._inactiveAnimation.PlayAnimation("Active",!0)):(this._activeAnimation.PlayAnimation("Deploy",!1,()=>{this._state=c.State.IDLE,this._activeAnimation.PlayAnimation("Active",!0)}),this._inactiveAnimation.PlayAnimation("Deploy",!1,()=>{this._state=c.State.IDLE,this._inactiveAnimation.PlayAnimation("Active",!0)})),this._state=c.State.UNPACKING):this._state=c.State.IDLE,this._activeTurret=-1,this.DoStopFiring())}EnterStateFiring(){if(!this.turretEffect||this._state===c.State.FIRING)return this.DoStartFiring(),void(this.turretEffect&&this._activeAnimation.PlayAnimation("Fire",!1,()=>{this._activeAnimation.PlayAnimation("Active",!0)}));this._activeAnimation.StopAllAnimations(),this._inactiveAnimation.StopAllAnimations(),this._state===c.State.INACTIVE?(this._activeAnimation.PlayAnimation("Deploy",!1,()=>{this.DoStartFiring(),this._activeAnimation.PlayAnimation("Fire",!1,()=>{this._activeAnimation.PlayAnimation("Active",!0)})}),this._inactiveAnimation.PlayAnimation("Deploy",!1,()=>{this._inactiveAnimation.PlayAnimation("Active",!0)}),this._state=c.State.UNPACKING):(this.DoStartFiring(),this._activeAnimation.PlayAnimation("Fire",!1,()=>{this._activeAnimation.PlayAnimation("Active",!0)}),this._inactiveAnimation.PlayAnimation("Active",!0))}OnResPrepared(e){this.geometryResource=e;for(var t=a.Tw2VertexElement.from({usage:"TEXCOORD",usageIndex:1,elements:2}),r=this.geometryResource.meshes,n=this._activeAnimation,i=this._inactiveAnimation,s=0;s<r.length;++s)r[s].declaration.elements.push(t),r[s].declaration.RebuildHash();switch(this._state){case c.State.INACTIVE:n.PlayAnimation("Inactive",!0),i.PlayAnimation("Inactive",!0);break;case c.State.IDLE:n.PlayAnimation("Active",!0),i.PlayAnimation("Active",!0);break;case c.State.FIRING:n.PlayAnimation("Fire",!1,()=>n.PlayAnimation("Active",!0)),i.PlayAnimation("Active",!0);break;case c.State.PACKING:this.EnterStateIdle();break;case c.State.UNPACKING:this.EnterStateDeactive()}}FindItemByLocatorName(e){for(var t=0;t<this.items.length;t++)if(this.items[t].locatorName===e)return this.items[t];return null}UpdateItemsFromLocators(e){for(var t=c.global,r=Array.from(this.items),n=t.mat4_0,i=0;i<e.length;i++){var{name:a,transform:o,bone:u=null}=e[i],l=this.FindItemByLocatorName(a);l?r.splice(r.indexOf(l),1):l=this.CreateItem({name:a,locatorName:a,updateFromLocator:!0}),l.updateFromLocator&&(l._bone=u,s.mat4.copy(n,o),s.vec3.normalize(n.subarray(0,3),n.subarray(0,3)),s.vec3.normalize(n.subarray(4,7),n.subarray(4,7)),s.vec3.normalize(n.subarray(8,11),n.subarray(8,11)),s.mat4.getRotation(l.rotation,n),s.mat4.getTranslation(l.position,n),l.UpdateValues())}for(var h=0;h<r.length;h++)r[h].locatorName&&(this.RemoveItem(r[h]),h--);this.RebuildItemsFromLocators(),this._dirty&&this.Rebuild()}RebuildItemsFromLocators(){this._locatorDirty=!0}UpdateViewDependentData(e){s.mat4.copy(this._parentTransform,e),this.firingEffect&&this.firingEffect.UpdateViewDependentData(e)}Rebuild(){this.RebuildItems(),this._dirty=!1,super.Rebuild()}Update(e){if(super.Update(e),this.turretEffect&&(this._activeAnimation.Update(e),this._inactiveAnimation.Update(e)),this.firingEffect&&this._visibleItems.length){if(-1!==this._activeTurret){this.firingEffect.isLoopFiring&&this._state===c.State.FIRING&&(this._recheckTimeLeft-=e,this._recheckTimeLeft<=0&&this.DoStartFiring());var t=this.items[this._activeTurret];if(this._activeAnimation.models.length)for(var r=this._activeAnimation.models[0].bonesByName,n=0;n<this.firingEffect.GetPerMuzzleEffectCount();++n){var i=r[c.positionBoneSkeletonNames[n]].worldTransform,a=this.firingEffect.GetMuzzleTransform(n);s.mat4.multiply(a,t._localTransform,i),s.mat4.multiply(a,this._parentTransform,a)}else for(var o=0;o<this.firingEffect.GetPerMuzzleEffectCount();++o)s.mat4.multiply(this.firingEffect.GetMuzzleTransform(o),this._parentTransform,t._localTransform);if(this._fireCallbackPending){if(this._fireCallback){for(var u=[],l=0;l<this.firingEffect.GetPerMuzzleEffectCount();++l)u.push(this.firingEffect.GetMuzzleTransform(l));this._fireCallback(this,u,t)}this._fireCallbackPending=!1}}this.firingEffect.SetEndPosition(this._targetPosition),this.firingEffect.Update(e)}}GetBatches(e,t,r,n){if(this.turretEffect&&this.geometryResource&&this.display&&this._visibleItems.length){if(e===s.device.RM_OPAQUE&&this.visible.turrets){var i=this._inactiveAnimation.GetBoneMatrices(0);if(0!==i.length){this.UpdatePerObjectData(this._perObjectDataInactive.vs,i),this._perObjectDataInactive.ps=r.ps;var o=new a.Tw2ForwardingRenderBatch;if(o.renderMode=e,o.renderActive=!1,o.perObjectData=this._perObjectDataInactive,o.geometryProvider=this,t.Commit(o),this._state===c.State.FIRING){var u=this._activeAnimation.GetBoneMatrices(0);if(0!==u.length){this.UpdatePerObjectData(this._perObjectDataActive.vs,u,!0),this._perObjectDataActive.ps=r.ps;var l=new a.Tw2ForwardingRenderBatch;l.renderActive=!0,l.perObjectData=this._perObjectDataActive,l.geometryProvider=this,t.Commit(l)}}}}this.GetFiringEffectBatches(e,t,r,n)}}GetFiringEffectBatches(e,t,r,n){this.firingEffect&&this.display&&this._visibleItems.length&&this.visible.firingEffects&&!n&&this.firingEffect.GetBatches(e,t,r)}Render(e,t){if(!this.turretEffect||!this.turretEffect.IsGood()||!this._visibleItems.length)return!1;for(var r=0,n=function(e){s.device.gl.disableVertexAttribArray(e.location),s.device.gl.vertexAttrib2f(e.location,r,r)},i=0;i<this.geometryResource.meshes.length;++i){this.geometryResource.meshes[i].declaration.FindUsage(a.Tw2VertexElement.Type.TEXCOORD,1).customSetter=n}for(var o=0;r<this.items.length;++r)if(this.items[r].display){var u=this._state===c.State.FIRING&&r===this._activeTurret;e.renderActive===u&&(this.geometryResource.RenderAreas(0,0,1,this.turretEffect,t),o++)}return!!o}UpdatePerObjectData(e,t,r){s.mat4.transpose(e.Get("shipMatrix"),this._parentTransform);var n=t.length/12;e.Get("turretSetData")[0]=n,e.Get("baseCutoffData")[0]=this.bottomClipHeight;for(var i=e.Get("turretTranslation"),a=e.Get("turretRotation"),o=e.Get("turretPoseTransAndRot"),u=0;u<this._visibleItems.length;++u){for(var l=this._visibleItems[u],h=0;h<n;++h)o[2*(u*n+h)*4]=t[12*h+3],o[2*(u*n+h)*4+1]=t[12*h+7],o[2*(u*n+h)*4+2]=t[12*h+11],o[2*(u*n+h)*4+3]=1,c.mat3x4toquat(t,h,o,2*(u*n+h)+1);l._bone&&!r&&l.UpdateTransforms(),i[4*u]=l._localTransform[12],i[4*u+1]=l._localTransform[13],i[4*u+2]=l._localTransform[14],i[4*u+3]=1,a[4*u]=l.rotation[0],a[4*u+1]=l.rotation[1],a[4*u+2]=l.rotation[2],a[4*u+3]=l.rotation[3]}}DoStartFiring(){this._hasCyclingFiringPos&&(this._currentCyclingFiresPos=1-this._currentCyclingFiresPos),this.firingEffect&&this.firingEffect.PrepareFiring(0,this._hasCyclingFiringPos?this._currentCyclingFiresPos:-1),this._activeTurret=this.GetClosestTurret(),this._state=c.State.FIRING,this._recheckTimeLeft=2,this._fireCallback&&(this._fireCallbackPending=!0)}DoStopFiring(){this.firingEffect&&this.firingEffect.StopFiring()}static black(e){return[["name",e.string],["bottomClipHeight",e.float],["boundingSphere",e.vector4],["chooseRandomLocator",e.boolean],["cyclingFireGroupCount",e.uint],["firingEffectResPath",e.path],["geometryResPath",e.path],["impactSize",e.float],["laserMissBehaviour",e.boolean],["locatorName",e.string],["maxCyclingFirePos",e.uint],["projectileMissBehaviour",e.boolean],["sysBoneHeight",e.float],["sysBonePitchMax",e.float],["sysBonePitchMin",e.float],["sysBonePitchFactor",e.float],["sysBonePitch01Factor",e.float],["sysBonePitch02Factor",e.float],["sysBonePitchOffset",e.float],["turretEffect",e.object],["updatePitchPose",e.boolean],["useDynamicBounds",e.boolean],["useRandomFiringDelay",e.boolean]]}}c.Item=u,c.State={INACTIVE:0,IDLE:1,FIRING:2,PACKING:2,UNPACKING:4},c.worldNames=["turretWorld0","turretWorld1","turretWorld2"],c.positionBoneSkeletonNames=["Pos_Fire01","Pos_Fire02","Pos_Fire03","Pos_Fire04","Pos_Fire05","Pos_Fire06","Pos_Fire07","Pos_Fire08"],c.perObjectData={vs:[["baseCutoffData",4],["turretSetData",4],["shipMatrix",16],["turretTranslation",96],["turretRotation",96],["turretPoseTransAndRot",576]]},c.mat3x4toquat=function(e,t,r,a){n||(n=s.mat4.create(),i=s.quat.create()),t*=12,a*=4,n[0]=e[t],n[1]=e[t+4],n[2]=e[t+8],n[3]=0,n[4]=e[t+1],n[5]=e[t+5],n[6]=e[t+9],n[7]=0,n[8]=e[t+2],n[9]=e[t+6],n[10]=e[t+10],n[11]=0,n[12]=e[t+3],n[13]=e[t+7],n[14]=e[t+11],n[15]=1,s.mat4.getRotation(i,n),r[a]=i[0],r[a+1]=i[1],r[a+2]=i[2],r[a+3]=i[3]},c.__isStaging=1},"./eve/item/index.js":function(e,t,r){"use strict";r.r(t);var n=r("./eve/item/legacy/index.js");r.d(t,"EveBoosterBatch",(function(){return n.EveBoosterBatch})),r.d(t,"EveBoosterSetItem",(function(){return n.EveBoosterSetItem})),r.d(t,"EveBoosterSet",(function(){return n.EveBoosterSet}));var i=r("./eve/item/EveBanner.js");r.d(t,"EveBanner",(function(){return i.EveBanner}));var s=r("./eve/item/EveBoosterSet2.js");r.d(t,"EveBoosterSet2Batch",(function(){return s.EveBoosterSet2Batch})),r.d(t,"EveBoosterSet2Item",(function(){return s.EveBoosterSet2Item})),r.d(t,"EveBoosterSet2",(function(){return s.EveBoosterSet2}));var a=r("./eve/item/EveCurveLineSet.js");r.d(t,"EveCurveLineSetItem",(function(){return a.EveCurveLineSetItem})),r.d(t,"EveCurveLineSet",(function(){return a.EveCurveLineSet}));var o=r("./eve/item/EveCustomMask.js");r.d(t,"EveCustomMask",(function(){return o.EveCustomMask}));var u=r("./eve/item/EveHazeSet.js");r.d(t,"EveHazeSetBatch",(function(){return u.EveHazeSetBatch})),r.d(t,"EveHazeSetItem",(function(){return u.EveHazeSetItem})),r.d(t,"EveHazeSet",(function(){return u.EveHazeSet}));var c=r("./eve/item/EveLocator2.js");r.d(t,"EveLocator2",(function(){return c.EveLocator2})),r.d(t,"EveLocator",(function(){return c.EveLocator}));var l=r("./eve/item/EveObjectSet.js");r.d(t,"EveObjectSetItem",(function(){return l.EveObjectSetItem})),r.d(t,"EveObjectSet",(function(){return l.EveObjectSet}));var h=r("./eve/item/EvePlaneSet.js");r.d(t,"EvePlaneSetBatch",(function(){return h.EvePlaneSetBatch})),r.d(t,"EvePlaneSetItem",(function(){return h.EvePlaneSetItem})),r.d(t,"EvePlaneSet",(function(){return h.EvePlaneSet}));var d=r("./eve/item/EveSpaceObjectDecal.js");r.d(t,"EveSpaceObjectDecal",(function(){return d.EveSpaceObjectDecal}));var f=r("./eve/item/EveSpotlightSet.js");r.d(t,"EveSpotlightSetBatch",(function(){return f.EveSpotlightSetBatch})),r.d(t,"EveSpotlightSetItem",(function(){return f.EveSpotlightSetItem})),r.d(t,"EveSpotlightSet",(function(){return f.EveSpotlightSet}));var m=r("./eve/item/EveSpriteLineSet.js");r.d(t,"EveSpriteLineSetBatch",(function(){return m.EveSpriteLineSetBatch})),r.d(t,"EveSpriteLineSetItem",(function(){return m.EveSpriteLineSetItem})),r.d(t,"EveSpriteLineSet",(function(){return m.EveSpriteLineSet}));var v=r("./eve/item/EveSpriteSet.js");r.d(t,"EveSpriteSetBatch",(function(){return v.EveSpriteSetBatch})),r.d(t,"EveSpriteSetItem",(function(){return v.EveSpriteSetItem})),r.d(t,"EveSpriteSet",(function(){return v.EveSpriteSet}));var p=r("./eve/item/EveTrailsSet.js");r.d(t,"EveTrailSetRenderBatch",(function(){return p.EveTrailSetRenderBatch})),r.d(t,"EveTrailsSet",(function(){return p.EveTrailsSet}));var _=r("./eve/item/EveTurretSet.js");r.d(t,"EveTurretSetItem",(function(){return _.EveTurretSetItem})),r.d(t,"EveTurretSet",(function(){return _.EveTurretSet}))},"./eve/item/legacy/EveBoosterSet.js":function(e,t,r){"use strict";r.r(t),r.d(t,"EveBoosterBatch",(function(){return c})),r.d(t,"EveBoosterSetItem",(function(){return l})),r.d(t,"EveBoosterSet",(function(){return h}));var n=r("./global/index.js"),i=r("./core/index.js"),s=r("./eve/item/EveObjectSet.js"),a=r("./global/util/index.js"),o=r("./core/mesh/index.js"),u=r("./eve/item/EveSpriteSet.js");class c extends i.Tw2RenderBatch{constructor(...e){super(...e),this.boosters=null}Commit(e){this.boosters.Render(e)}}class l extends s.EveObjectSetItem{constructor(...e){super(...e),this.atlas0=0,this.atlas1=0,this.customValues=null,this.locatorName=null,this.seed=7*Math.random(),this.transform=n.mat4.create(),this.updateFromLocator=!1,this.visible={glow:!0,symHalo:!0,halo:!0,trail:!0,customValues:!0},this.wavePhase=Math.random()}GetPosition(e){return n.mat4.getTranslation(e,this.transform)}GetDirection(e){n.vec3.set(e,this.transform[8],this.transform[9],this.transform[10]),n.vec3.normalize(e,e);var t=this.GetScale();return t<3&&n.vec3.scale(e,e,t/3),e}GetScale(){var e=this.transform;return Math.max(n.vec3.length([e[0],e[1],e[2]]),n.vec3.length([e[4],e[5],e[6]]))}static from(e){var t=new this;return e&&(n.util.assignIfExists(t.visible,e.visible,["glow","symHalo","halo","trail"]),n.util.assignIfExists(t,e,["name","display","seed","wavePhase","transform","locatorName","updateFromLocator","atlas0","atlas1"])),t}}class h extends s.EveObjectSet{constructor(...e){super(...e),this.alwaysOn=!0,this.effect=null,this.glowColor=n.vec4.create(),this.glows=null,this.glowScale=1,this.haloColor=n.vec4.create(),this.haloScaleX=1,this.haloScaleY=1,this.maxVel=250,this.symHaloScale=1,this.trailColor=n.vec4.create(),this.trailSize=n.vec4.create(),this.warpGlowColor=n.vec4.create(),this.warpHaloColor=n.vec4.create(),this.glowDistance=2.5,this.haloDistance=3.01,this.symHaloDistance=3,this.visible={glows:!0,symHalos:!0,halos:!0,trails:!0},this._parentTransform=n.mat4.create(),this._positions=null,this._decl=i.Tw2VertexDeclaration.from(h.vertexDeclarations),this._perObjectData=i.Tw2PerObjectData.from(h.perObjectData),this._locatorDirty=!0}GetResources(e=[]){return this.effect&&this.effect.GetResources(e),e}RebuildItems(e){var t=this.glows,r=h.global,i=r.vec3_0;t&&t.ClearItems(),this._visibleItems=[];for(var s=0;s<this.items.length;s++){var a=this.items[s];if(a.display){if(this._visibleItems.push(a),t){var o=a.customValues&&a.customValues.display?a.customValues:this,u=a.GetPosition(r.vec3_1),c=a.GetDirection(r.vec3_2),l=a.GetScale();this.visible.glows&&a.visible.glow&&t.CreateItem({name:a.name+"_glow",position:n.vec3.subtract(i,u,n.vec3.scale(i,c,o.glowDistance)),blinkRate:a.seed,blinkPhase:a.seed,minScale:o.glowScale*l,maxScale:o.glowScale*l,color:o.glowColor,warpColor:o.warpGlowColor}),this.visible.symHalos&&a.visible.symHalo&&t.CreateItem({name:a.name+"_symHalo",position:n.vec3.subtract(i,u,n.vec3.scale(i,c,o.symHaloDistance)),blinkRate:a.seed,blinkPhase:a.seed+1,minScale:o.symHaloScale*l,maxScale:o.symHaloScale*l,color:o.haloColor,warpColor:o.warpHaloColor}),this.visible.halos&&a.visible.halo&&t.CreateItem({name:a.name+"_halo",position:n.vec3.subtract(i,u,n.vec3.scale(i,c,o.haloDistance)),blinkRate:a.seed,blinkPhase:a.seed+1,minScale:o.haloScaleX*l,maxScale:o.haloScaleY*l,color:o.haloColor,warpColor:o.warpHaloColor})}a._dirty=!1}}this._dirty=!0}FindItemByLocatorName(e){for(var t=0;t<this.items.length;t++)if(this.items[t].locatorName&&this.items[t].locatorName===e)return this.items[t];return null}UpdateItemsFromLocators(e){for(var t=Array.from(this.items),r=0;r<e.length;r++){var{name:i,transform:s,atlasIndex0:a,atlasIndex1:o}=e[r],u=this.FindItemByLocatorName(i);u?(t.splice(t.indexOf(u),1),u.updateFromLocator&&(n.mat4.copy(u.transform,s),u.atlas0=a,u.atlas1=o,u.UpdateValues())):this.CreateItem({name:i,locatorName:i,updateFromLocator:!0,atlas0:a,atlas1:o,transform:s})}for(var c=0;c<t.length;c++)null!==t[c].locatorName&&(this.RemoveItem(t[c]),c--);this._locatorDirty=!1,this._dirty&&this.Rebuild()}RebuildItemsFromLocators(){this._locatorDirty=!0}Update(e,t,r){n.mat4.copy(this._parentTransform,t),super.Update(e),this.glows&&this.glows.Update(e,r)}Unload(e){this._positions&&(n.device.gl.deleteBuffer(this._positions),this._positions=null),this.glows&&this.glows.Unload(e),super.Unload(e)}Rebuild(){this.RebuildItems();var e=this._visibleItems.length;if(this._dirty=!1,e){for(var t=n.device,r=h._box,i=new Float32Array(e*r.length*6*28),s=[0,3,1,3,2,1],a=0,o=0;o<e;++o)for(var u=this._visibleItems[o],c=0;c<r.length;++c)for(var l=0;l<s.length;++l)i[a++]=r[c][s[l]][0],i[a++]=r[c][s[l]][1],i[a++]=r[c][s[l]][2],i[a++]=0,i[a++]=0,i.set(u.transform,a),a+=16,i[a++]=0,i[a++]=1,i[a++]=1,i[a++]=1,i[a++]=u.wavePhase,i[a++]=u.atlas0,i[a++]=u.atlas1;this._positions=t.gl.createBuffer(),t.gl.bindBuffer(t.gl.ARRAY_BUFFER,this._positions),t.gl.bufferData(t.gl.ARRAY_BUFFER,i,t.gl.STATIC_DRAW),t.gl.bindBuffer(t.gl.ARRAY_BUFFER,null),this._positions.count=12*e*3,this.glows&&this.glows.Rebuild(),super.Rebuild()}else super.Rebuild()}GetBatches(e,t,r){if(this.display&&e===n.device.RM_ADDITIVE&&this._positions&&this._visibleItems.length){if(this.effect){var i=new c;n.mat4.transpose(this._perObjectData.vs.Get("WorldMat"),this._parentTransform),this._perObjectData.vs.Set("Shipdata",r.vs.Get("Shipdata")),this._perObjectData.ps=r.ps,i.perObjectData=this._perObjectData,i.boosters=this,i.renderMode=n.device.RM_ADDITIVE,t.Commit(i)}this.glows&&this.glows.GetBoosterGlowBatches(e,t,r,this._parentTransform,r.vs.Get("Shipdata")[0],0)}}Render(e){if(!this.effect||!this.effect.IsGood()||!this._positions)return!1;var t=n.device,r=t.gl;r.bindBuffer(r.ARRAY_BUFFER,this._positions);for(var i=0;i<this.effect.GetPassCount(e);++i){if(this.effect.ApplyPass(e,i),!this._decl.SetDeclaration(t,this.effect.GetPassInput(e,i),112))return!1;t.ApplyShadowState(),r.drawArrays(r.TRIANGLES,0,this._positions.count)}return!0}static from(e,t){var r=new h;if(e&&(Object(a.assignIfExists)(r,e,["alwaysOn","glowColor","glowScale","haloColor","haloScaleX","haloScaleY","maxVel","symHaloScale","trailColor","trailSize","warpGlowColor","name","display","glowDistance","haloDistance","symHaloDistance","warpHaloColor"]),void 0!==e.warpHalpColor&&(r.warpHaloColor=e.warpHalpColor),e.visible&&Object(a.assignIfExists)(r.visible,e.visible,["glows","symHalos","halos","trails"]),e.effect&&(r.effect=o.Tw2Effect.from(e.effect)),e.glows&&(r.glows=u.EveSpriteSet.from(e.glows)),e.items))for(var n=0;n<e.items.length;n++)r.CreateItem(e.items[n]);return t&&t.skipUpdate||r.Initialize(),r}}h.Item=l,h.perObjectData={vs:[["WorldMat",16],["Shipdata",4]]},h.vertexDeclarations=[{usage:"POSITION",usageIndex:0,elements:3},{usage:"TEXCOORD",usageIndex:0,elements:2},{usage:"TEXCOORD",usageIndex:1,elements:4},{usage:"TEXCOORD",usageIndex:2,elements:4},{usage:"TEXCOORD",usageIndex:3,elements:4},{usage:"TEXCOORD",usageIndex:4,elements:4},{usage:"TEXCOORD",usageIndex:5,elements:4},{usage:"TEXCOORD",usageIndex:6,elements:1},{usage:"TEXCOORD",usageIndex:7,elements:2}],h._box=[[[-1,-1,0],[1,-1,0],[1,1,0],[-1,1,0]],[[-1,-1,-1],[-1,1,-1],[1,1,-1],[1,-1,-1]],[[-1,-1,0],[-1,1,0],[-1,1,-1],[-1,-1,-1]],[[1,-1,0],[1,-1,-1],[1,1,-1],[1,1,0]],[[-1,-1,0],[-1,-1,-1],[1,-1,-1],[1,-1,0]],[[-1,1,0],[1,1,0],[1,1,-1],[-1,1,-1]]]},"./eve/item/legacy/index.js":function(e,t,r){"use strict";r.r(t);var n=r("./eve/item/legacy/EveBoosterSet.js");r.d(t,"EveBoosterBatch",(function(){return n.EveBoosterBatch})),r.d(t,"EveBoosterSetItem",(function(){return n.EveBoosterSetItem})),r.d(t,"EveBoosterSet",(function(){return n.EveBoosterSet}))},"./eve/object/EveEffectRoot2.js":function(e,t,r){"use strict";r.r(t),r.d(t,"EveEffectRoot2",(function(){return s}));var n=r("./global/index.js"),i=r("./eve/object/legacy/EveObject.js");class s extends i.EveObject{constructor(...e){super(...e),this.name="",this.boundingSphereCenter=n.vec3.create(),this.boundingSphereRadius=0,this.curveSets=[],this.duration=0,this.dynamicLOD=!1,this.effectChildren=[],this.lights=[],this.observers=[],this.rotation=n.quat.create(),this.scaling=n.vec3.fromValues(1,1,1),this.secondaryLightingEmissiveColor=n.vec4.create(),this.secondaryLightingSphereRadius=0,this.translation=n.vec3.create()}static black(e){return[["boundingSphereCenter",e.vector3],["boundingSphereRadius",e.float],["curveSets",e.array],["duration",e.float],["dynamicLOD",e.boolean],["effectChildren",e.array],["lights",e.array],["name",e.string],["observers",e.array],["rotation",e.vector4],["scaling",e.vector3],["secondaryLightingEmissiveColor",e.color],["secondaryLightingSphereRadius",e.float],["translation",e.vector3]]}}s.__isStaging=4},"./eve/object/EveMissile.js":function(e,t,r){"use strict";r.r(t),r.d(t,"EveMissileWarhead",(function(){return a})),r.d(t,"EveMissile",(function(){return o}));var n=r("./global/index.js"),i=r("./core/index.js"),s=r("./eve/object/legacy/EveObject.js");class a extends s.EveObject{constructor(...e){super(...e),this.acceleration=1,this.durationEjectPhase=0,this.impactDuration=.6,this.impactSize=0,this.maxExplosionDistance=40,this.mesh=null,this.particleEmitters=[],this.pathOffsetNoiseScale=0,this.pathOffsetNoiseSpeed=0,this.spriteSet=null,this.startEjectVelocity=0,this.warheadLength=0,this.warheadRadius=0,this._perObjectData=i.Tw2PerObjectData.from(a.perObjectData),this._state=a.State.READY,this._time=0,this._transform=n.mat4.create(),this._velocity=n.vec3.create()}Initialize(){this.spriteSet&&this.spriteSet.UseQuads(!0)}GetResources(e=[]){return this.mesh&&this.mesh.GetResources(e),this.spriteSet&&this.spriteSet.GetResources(e),e}Launch(e){n.mat4.copy(this._transform,e),this._velocity[0]=e[8]*this.startEjectVelocity,this._velocity[1]=e[9]*this.startEjectVelocity,this._velocity[2]=e[10]*this.startEjectVelocity,this._time=0,this._state=a.State.IN_FLIGHT}UpdateViewDependentData(){this.display&&this._state!==a.State.DEAD&&(n.mat4.transpose(this._perObjectData.vs.Get("WorldMat"),this._transform),n.mat4.transpose(this._perObjectData.vs.Get("WorldMatLast"),this._transform))}Update(e,t,r){if(this._state===a.State.IN_FLIGHT){var i=s.EveObject.global,o=n.mat4.getTranslation(i.vec3_0,this._transform),u=i.vec3_1,c=i.vec3_2,l=i.vec3_3;this._time+=e,this._time>this.durationEjectPhase?(n.vec3.subtract(o,this._velocity,t),n.vec3.lerp(o,o,t,1-Math.exp(.9999*-e)),n.mat4.setTranslation(this._transform,o),n.vec3.subtract(u,r,o),n.vec3.length(u)<this.maxExplosionDistance&&(console.log(o,u),this._state=a.State.DEAD)):(n.vec3.scale(u,this._velocity,e),this._transform[12]+=u[0],this._transform[13]+=u[1],this._transform[14]+=u[2]);var h=n.vec3.normalize(u,this._velocity);Math.abs(h[0])<.99?n.vec3.cross(c,h,[1,0,0]):n.vec3.cross(c,h,[0,1,0]),n.vec3.normalize(c,c),n.vec3.cross(l,c,h),this._transform[0]=c[0],this._transform[1]=c[1],this._transform[2]=c[2],this._transform[4]=l[0],this._transform[5]=l[1],this._transform[6]=l[2],this._transform[8]=h[0],this._transform[9]=h[1],this._transform[10]=h[2]}this.spriteSet&&this.spriteSet.Update(e)}GetBatches(e,t){this.display&&this.mesh&&this._state!==a.State.DEAD&&(this.mesh&&this.mesh.GetBatches(e,t,this._perObjectData),this.spriteSet&&this.spriteSet.GetBatches(e,t,this._perObjectData,this._transform))}static black(e){return[["acceleration",e.float],["durationEjectPhase",e.float],["impactDuration",e.float],["impactSize",e.float],["maxExplosionDistance",e.float],["mesh",e.object],["particleEmitters",e.array],["pathOffsetNoiseScale",e.float],["pathOffsetNoiseSpeed",e.float],["spriteSet",e.object],["startEjectVelocity",e.float],["warheadLength",e.float],["warheadRadius",e.float]]}}a.perObjectData={vs:[["WorldMat",16],["WorldMatLast",16],["Shipdata",[0,1,0,-10]],["Clipdata1",4],["JointMat",696]],ps:[["Shipdata",[0,1,0,1]],["Clipdata1",4],["Clipdata2",4]]},a.State={READY:0,IN_FLIGHT:1,DEAD:2},a.__isStaging=2;class o extends s.EveObject{constructor(...e){super(...e),this.boundingSphereCenter=n.vec3.create(),this.boundingSphereRadius=0,this.modelTranslationCurve=null,this.warheads=[],this.curveSets=[],this.speed=1,this._position=n.vec3.create(),this._target=n.vec3.create(),this._warheadExplosionCallback=null,this._missileFinishedCallback=null}OnWarheadExplosion(e){this._warheadExplosionCallback=e}OnMissileFinished(e){this._missileFinishedCallback=e}Launch(e,t,r){if(n.vec3.copy(this._position,e),n.vec3.copy(this._target,r),this.warheads.length>t.length)this.warheads.splice(t.length);else for(;this.warheads.length<t.length;)this.warheads.push(this.constructor.CloneWarhead(this.warheads[0]));for(var i=0;i<this.warheads.length;++i)this.warheads[0].Launch(t[i])}GetResources(e=[]){for(var t=0;t<this.warheads.length;++t)this.warheads[t].GetResources(e);return e}UpdateViewDependentData(){for(var e=0;e<this.warheads.length;++e)this.warheads[e].UpdateViewDependentData()}Update(e){var t=n.vec3.subtract(s.EveObject.global.vec3_0,this._target,this._position),r=n.vec3.length(t);r>.1&&(n.vec3.normalize(t,t),n.vec3.scale(t,t,Math.min(e*this.speed,r)),n.vec3.add(this._position,this._position,t));for(var i=0;i<this.curveSets.length;++i)this.curveSets[i].Update(e);for(var o=!1,u=0;u<this.warheads.length;++u){var c=this.warheads[u]._state;this.warheads[u].Update(e,this._position,this._target),c!==a.State.DEAD&&this.warheads[u]._state===a.State.DEAD&&(this._warheadExplosionCallback&&this._warheadExplosionCallback(this.warheads[u]),o=!0)}if(o&&this._missileFinishedCallback){for(var l=0;l<this.warheads.length;++l)if(this.warheads[l]._state!==a.State.DEAD)return;this._missileFinishedCallback(this)}}GetBatches(e,t){if(this.display)for(var r=0;r<this.warheads.length;++r)this.warheads[r].GetBatches(e,t)}static CloneWarhead(e){var t=new a;return t.mesh=e.mesh,t.spriteSet=e.spriteSet,t}static black(e){return[["boundingSphereCenter",e.vector3],["boundingSphereRadius",e.float],["modelTranslationCurve",e.object],["name",e.string],["warheads",e.array]]}}o.__isStaging=2},"./eve/object/EveMobile.js":function(e,t,r){"use strict";r.r(t),r.d(t,"EveMobile",(function(){return s}));var n=r("./global/index.js"),i=r("./eve/object/legacy/EveObject.js");class s extends i.EveObject{constructor(...e){super(...e),this.name="",this.attachments=[],this.boundingSphereCenter=n.vec3.create(),this.boundingSphereRadius=0,this.children=[],this.controllers=[],this.curveSets=[],this.locatorSets=[],this.meshLod=null,this.observers=[],this.shadowEffect=null}static black(e){return[["attachments",e.array],["boundingSphereCenter",e.vector3],["boundingSphereRadius",e.float],["children",e.array],["controllers",e.array],["curveSets",e.array],["locatorSets",e.array],["name",e.string],["meshLod",e.object],["observers",e.array],["shadowEffect",e.object]]}}s.__isStaging=4},"./eve/object/EveRootTransform.js":function(e,t,r){"use strict";r.r(t),r.d(t,"EveRootTransform",(function(){return s}));var n=r("./global/index.js"),i=r("./eve/object/legacy/EveObject.js");class s extends i.EveObject{constructor(...e){super(...e),this.name="",this.boundingSphereRadius=0,this.children=[],this.curveSets=[],this.display=!1,this.mesh=null,this.modifier=0,this.observers=[],this.rotation=n.quat.create(),this.rotationCurve=null,this.scaling=n.vec3.fromValues(1,1,1),this.sortValueMultiplier=0,this.translation=n.vec3.create(),this.translationCurve=null}static black(e){return[["boundingSphereRadius",e.float],["children",e.array],["curveSets",e.array],["display",e.boolean],["mesh",e.object],["modifier",e.uint],["name",e.string],["observers",e.array],["position",e.vector3],["rotation",e.vector4],["rotationCurve",e.object],["scaling",e.vector3],["sortValueMultiplier",e.float],["translation",e.vector3],["translationCurve",e.object],["useDistanceBasedScale",e.boolean]]}}s.__isStaging=4},"./eve/object/EveShip2.js":function(e,t,r){"use strict";r.r(t),r.d(t,"EveShip2",(function(){return s}));var n=r("./global/index.js"),i=r("./eve/object/legacy/EveObject.js");class s extends i.EveObject{constructor(...e){super(...e),this.attachments=[],this.boosters=null,this.boundingSphereCenter=n.vec3.create(),this.boundingSphereRadius=0,this.children=[],this.customMasks=[],this.decals=[],this.dna="",this.locatorSets=[],this.locators=[],this.mesh=null,this.rotationCurve=null,this.shadowEffect=null,this.shapeEllipsoidCenter=n.vec3.create(),this.shapeEllipsoidRadius=n.vec3.create(),this.translationCurve=null}static black(e){return[["attachments",e.array],["boosters",e.object],["boundingSphereCenter",e.vector3],["boundingSphereRadius",e.float],["children",e.array],["customMasks",e.array],["decals",e.array],["dna",e.string],["locatorSets",e.array],["locators",e.array],["mesh",e.object],["name",e.string],["meshLod",e.object],["rotationCurve",e.object],["shadowEffect",e.object],["shapeEllipsoidCenter",e.vector3],["shapeEllipsoidRadius",e.vector3],["translationCurve",e.object]]}}s.__isStaging=4,s.__isShip=!0},"./eve/object/EveStation2.js":function(e,t,r){"use strict";r.r(t),r.d(t,"EveStation2",(function(){return s}));var n=r("./global/index.js"),i=r("./eve/object/legacy/EveObject.js");class s extends i.EveObject{constructor(...e){super(...e),this.attachments=[],this.boundingSphereCenter=n.vec3.create(),this.boundingSphereRadius=0,this.children=[],this.curveSets=[],this.decals=[],this.effectChildren=[],this.lights=[],this.locatorSets=[],this.locators=[],this.mesh=null,this.meshLod=null,this.modelRotationCurve=null,this.modelScale=0,this.observers=[],this.rotationCurve=null,this.shadowEffect=null,this.translationCurve=null}static black(e){return[["attachments",e.array],["boundingSphereCenter",e.vector3],["boundingSphereRadius",e.float],["children",e.array],["curveSets",e.array],["decals",e.array],["effectChildren",e.array],["lights",e.array],["locatorSets",e.array],["locators",e.array],["name",e.string],["mesh",e.object],["meshLod",e.object],["modelScale",e.float],["observers",e.array],["rotationCurve",e.object],["modelRotationCurve",e.object],["shadowEffect",e.object],["translationCurve",e.object]]}}s.__isStaging=4},"./eve/object/EveTransform.js":function(e,t,r){"use strict";r.r(t),r.d(t,"EveTransform",(function(){return a}));var n=r("./global/index.js"),i=r("./core/index.js"),s=r("./eve/object/legacy/EveObject.js");class a extends s.EveObject{constructor(...e){super(...e),this.name="",this.children=[],this.curveSets=[],this.display=!0,this.distanceBasedScaleArg1=.2,this.distanceBasedScaleArg2=.63,this.hideOnLowQuality=!1,this.mesh=null,this.modifier=a.Modifier.NONE,this.observers=[],this.overrideBoundsMax=n.vec3.create(),this.overrideBoundsMin=n.vec3.create(),this.particleEmitters=[],this.particleSystems=[],this.rotation=n.quat.create(),this.scaling=n.vec3.fromValues(1,1,1),this.sortValueMultiplier=1,this.translation=n.vec3.create(),this.update=!1,this.useDistanceBasedScale=!1,this.useLodLevel=!1,this.visibilityThreshold=0,this.visible={mesh:!0,children:!0},this.localTransform=n.mat4.create(),this.worldTransform=n.mat4.create(),this._perObjectData=i.Tw2PerObjectData.from(a.perObjectData)}Initialize(){n.mat4.fromRotationTranslationScale(this.localTransform,this.rotation,this.translation,this.scaling)}SetTransform(e){n.mat4.getRotation(this.rotation,e),n.mat4.getScaling(this.scaling,e),n.mat4.getTranslation(this.translation,e)}GetResources(e=[]){this.mesh&&this.mesh.GetResources(e);for(var t=0;t<this.children.length;t++)this.children[t].GetResources(e);return e}UpdateViewDependentData(e){var t=n.device,r=s.EveObject.global,i=r.vec3_0,o=r.vec3_1,u=r.vec3_2,c=t.viewInverse;switch(e||(e=r.mat4_ID),n.quat.normalize(this.rotation,this.rotation),n.mat4.fromRotationTranslationScale(this.localTransform,this.rotation,this.translation,this.scaling),n.mat4.getScaling(o,e),this.modifier){case a.Modifier.BILLBOARD:case a.Modifier.SIMPLE_HALO:var l=r.vec3_3;if(n.mat4.multiply(this.worldTransform,e,this.localTransform),n.vec3.multiply(i,this.scaling,o),this.modifier===a.Modifier.SIMPLE_HALO){n.vec3.subtract(u,t.GetEyePosition(u),this.worldTransform.subarray(12)),n.vec3.normalize(l,this.worldTransform.subarray(8)),n.vec3.normalize(u,u);var h=n.vec3.dot(u,l);h<0&&(h=0),n.vec3.scale(i,i,h*h)}this.worldTransform[0]=c[0]*i[0],this.worldTransform[1]=c[1]*i[0],this.worldTransform[2]=c[2]*i[0],this.worldTransform[4]=c[4]*i[1],this.worldTransform[5]=c[5]*i[1],this.worldTransform[6]=c[6]*i[1],this.worldTransform[8]=c[8]*i[2],this.worldTransform[9]=c[9]*i[2],this.worldTransform[10]=c[10]*i[2];break;case a.Modifier.EVE_CAMERA_ROTATION:var d=r.vec3_3;n.vec3.transformMat4(d,this.translation,e),n.mat4.fromRotationTranslationScale(this.localTransform,this.rotation,d,this.scaling),n.mat4.multiply(this.worldTransform,c,this.localTransform),this.worldTransform[12]=this.localTransform[12],this.worldTransform[13]=this.localTransform[13],this.worldTransform[14]=this.localTransform[14];break;case a.Modifier.EVE_CAMERA_ROTATION_ALIGNED:case a.Modifier.EVE_SIMPLE_HALO:var f=r.vec3_3,m=r.vec3_4,v=r.vec3_5,p=r.vec3_6,_=r.vec3_7,E=r.mat4_0,S=r.mat4_1,T=r.mat4_2;if(n.mat4.translate(this.worldTransform,e,this.translation),n.mat4.transpose(E,e),t.GetEyePosition(u),u[0]-=this.worldTransform[12],u[1]-=this.worldTransform[13],u[2]-=this.worldTransform[14],n.vec3.copy(f,u),n.vec3.transformMat4(f,f,E),n.vec3.divide(f,f,o),n.vec3.normalize(f,f),n.vec3.set(m,t.view[0],t.view[4],t.view[8]),n.vec3.transformMat4(m,m,E),n.vec3.normalize(m,m),n.vec3.cross(v,f,m),n.vec3.normalize(v,v),n.vec3.cross(m,v,f),S[0]=m[0],S[1]=m[1],S[2]=m[2],S[4]=v[0],S[5]=v[1],S[6]=v[2],S[8]=f[0],S[9]=f[1],S[10]=f[2],S[15]=1,n.mat4.fromQuat(T,this.rotation),n.mat4.multiply(S,S,T),this.modifier===a.Modifier.EVE_SIMPLE_HALO){n.vec3.normalize(p,this.worldTransform.subarray(8)),n.vec3.normalize(_,u);var g=-n.vec3.dot(_,p);g<0&&(g=0),n.mat4.multiply(this.worldTransform,this.worldTransform,S),n.mat4.scale(this.worldTransform,this.worldTransform,[this.scaling[0]*g,this.scaling[1]*g,this.scaling[2]*g])}else n.mat4.scale(this.worldTransform,this.worldTransform,this.scaling),n.mat4.multiply(this.worldTransform,this.worldTransform,S);break;case a.Modifier.LOOK_AT_CAMERA:var R=r.mat4_0;n.mat4.multiply(this.worldTransform,e,this.localTransform),n.mat4.lookAt(R,c.subarray(12),this.worldTransform.subarray(12),[0,1,0]),n.mat4.transpose(R,R),n.vec3.multiply(i,this.scaling,o),this.worldTransform[0]=R[0]*i[0],this.worldTransform[1]=R[1]*i[0],this.worldTransform[2]=R[2]*i[0],this.worldTransform[4]=R[4]*i[1],this.worldTransform[5]=R[5]*i[1],this.worldTransform[6]=R[6]*i[1],this.worldTransform[8]=R[8]*i[2],this.worldTransform[9]=R[9]*i[2],this.worldTransform[10]=R[10]*i[2];break;default:n.mat4.multiply(this.worldTransform,e,this.localTransform)}for(var b=0;b<this.children.length;++b)this.children[b].UpdateViewDependentData(this.worldTransform)}Update(e){for(var t=0;t<this.children.length;++t)this.children[t].Update(e);for(var r=0;r<this.particleEmitters.length;++r)this.particleEmitters[r].Update(e);for(var n=0;n<this.particleSystems.length;++n)this.particleSystems[n].Update(e);for(var i=0;i<this.curveSets.length;++i)this.curveSets[i].Update(e)}GetBatches(e,t,r){if(this.display&&(this.visible.mesh&&this.mesh&&(n.mat4.transpose(this._perObjectData.ffe.Get("World"),this.worldTransform),n.mat4.invert(this._perObjectData.ffe.Get("WorldInverseTranspose"),this.worldTransform),r&&(this._perObjectData.vs=r.vs,this._perObjectData.ps=r.ps),this.mesh.GetBatches(e,t,this._perObjectData)),this.visible.children))for(var i=0;i<this.children.length;++i)this.children[i].GetBatches(e,t,r)}static Multiply3x3(e,t,r){r||(r=t);var n=t[0],i=t[1];return t=t[2],r[0]=e[0]*n+e[4]*i+e[8]*t,r[1]=e[1]*n+e[5]*i+e[9]*t,r[2]=e[2]*n+e[6]*i+e[10]*t,r}static black(e){return[["children",e.array],["curveSets",e.array],["display",e.boolean],["distanceBasedScaleArg1",e.float],["distanceBasedScaleArg2",e.float],["hideOnLowQuality",e.boolean],["name",e.string],["mesh",e.object],["meshLod",e.object],["modifier",e.uint],["observers",e.array],["overrideBoundsMax",e.vector3],["overrideBoundsMin",e.vector3],["particleEmitters",e.array],["particleSystems",e.array],["rotation",e.vector4],["scaling",e.vector3],["sortValueMultiplier",e.float],["translation",e.vector3],["update",e.boolean],["useDistanceBasedScale",e.boolean],["useLodLevel",e.boolean],["visibilityThreshold",e.float]]}}a.perObjectData={ffe:[["World",16],["WorldInverseTranspose",16]]},a.Modifier={NONE:0,BILLBOARD:1,TRANSLATE_WITH_CAMERA:2,LOOK_AT_CAMERA:3,SIMPLE_HALO:4,EVE_CAMERA_ROTATION_ALIGNED:100,EVE_BOOSTER:101,EVE_SIMPLE_HALO:102,EVE_CAMERA_ROTATION:103},a.__isStaging=1},"./eve/object/index.js":function(e,t,r){"use strict";r.r(t);var n=r("./eve/object/legacy/index.js");r.d(t,"EveEffectRoot",(function(){return n.EveEffectRoot})),r.d(t,"EvePlanet",(function(){return n.EvePlanet})),r.d(t,"EveShip",(function(){return n.EveShip})),r.d(t,"EveSpaceObject",(function(){return n.EveSpaceObject})),r.d(t,"EveStation",(function(){return n.EveStation}));var i=r("./eve/object/EveEffectRoot2.js");r.d(t,"EveEffectRoot2",(function(){return i.EveEffectRoot2}));var s=r("./eve/object/EveMissile.js");r.d(t,"EveMissileWarhead",(function(){return s.EveMissileWarhead})),r.d(t,"EveMissile",(function(){return s.EveMissile}));var a=r("./eve/object/EveMobile.js");r.d(t,"EveMobile",(function(){return a.EveMobile}));var o=r("./eve/object/EveRootTransform.js");r.d(t,"EveRootTransform",(function(){return o.EveRootTransform}));var u=r("./eve/object/EveShip2.js");r.d(t,"EveShip2",(function(){return u.EveShip2}));var c=r("./eve/object/EveStation2.js");r.d(t,"EveStation2",(function(){return c.EveStation2}));var l=r("./eve/object/EveTransform.js");r.d(t,"EveTransform",(function(){return l.EveTransform}))},"./eve/object/legacy/EveEffectRoot.js":function(e,t,r){"use strict";r.r(t),r.d(t,"EveEffectRoot",(function(){return o}));var n=r("./global/index.js"),i=r("./core/index.js"),s=r("./eve/object/legacy/EveObject.js"),a=r("./eve/object/legacy/EveSpaceObject.js");class o extends s.EveObject{constructor(...e){super(...e),this.curveSets=[],this.effectChildren=[],this.duration=0,this.scaling=n.vec3.fromValues(1,1,1),this.rotation=n.quat.create(),this.translation=n.vec3.create(),this.localTransform=n.mat4.create(),this.boundingSphereCenter=n.vec3.create(),this.boundingSphereRadius=0,this._worldTransform=n.mat4.create(),this._perObjectData=i.Tw2PerObjectData.from(a.EveSpaceObject.perObjectData)}SetTransform(e){n.mat4.getRotation(this.rotation,e),n.mat4.getScaling(this.scaling,e),n.mat4.getTranslation(this.translation,e)}GetResources(e=[]){for(var t=0;t<this.effectChildren.length;++t)this.effectChildren[t].GetResources(e);return e}Start(){for(var e=0;e<this.curveSets.length;++e)this.curveSets[e].Play()}Stop(){for(var e=0;e<this.curveSets.length;++e)this.curveSets[e].Stop()}UpdateViewDependentData(e){n.mat4.fromRotationTranslationScale(this.localTransform,this.rotation,this.translation,this.scaling),e?n.mat4.multiply(this._worldTransform,e,this.localTransform):n.mat4.copy(this._worldTransform,this.localTransform)}Update(e){for(var t=0;t<this.curveSets.length;++t)this.curveSets[t].Update(e);for(var r=0;r<this.effectChildren.length;++r)this.effectChildren[r].Update(e,this._worldTransform)}GetBatches(e,t){if(this.display)for(var r=0;r<this.effectChildren.length;++r)this.effectChildren[r].GetBatches(e,t,this._perObjectData)}}},"./eve/object/legacy/EveObject.js":function(e,t,r){"use strict";r.r(t),r.d(t,"EveObject",(function(){return f}));var n,i,s,a,o,u,c,l,h=r("./global/index.js");function d(e,t,r,n,i){var s={};return Object.keys(n).forEach((function(e){s[e]=n[e]})),s.enumerable=!!s.enumerable,s.configurable=!!s.configurable,("value"in s||s.initializer)&&(s.writable=!0),s=r.slice().reverse().reduce((function(r,n){return n(e,t,r)||r}),s),i&&void 0!==s.initializer&&(s.value=s.initializer?s.initializer.call(i):void 0,s.initializer=void 0),void 0===s.initializer&&(Object.defineProperty(e,t,s),s=null),s}var f=(n=h.meta.abstract,i=h.meta.abstract,s=h.meta.abstract,a=h.meta.abstract,n((l=c=class extends h.Tw2BaseClass{constructor(...e){super(...e),this.name="",this.display=!0}GetResources(e=[]){}Update(e){}GetBatches(e,t){}},c.global={vec3_0:h.vec3.create(),vec3_1:h.vec3.create(),vec3_2:h.vec3.create(),vec3_3:h.vec3.create(),vec3_4:h.vec3.create(),vec3_5:h.vec3.create(),vec3_6:h.vec3.create(),vec3_7:h.vec3.create(),mat4_0:h.mat4.create(),mat4_1:h.mat4.create(),mat4_2:h.mat4.create(),mat4_ID:h.mat4.create()},d((u=l).prototype,"GetResources",[i],Object.getOwnPropertyDescriptor(u.prototype,"GetResources"),u.prototype),d(u.prototype,"Update",[s],Object.getOwnPropertyDescriptor(u.prototype,"Update"),u.prototype),d(u.prototype,"GetBatches",[a],Object.getOwnPropertyDescriptor(u.prototype,"GetBatches"),u.prototype),o=u))||o)},"./eve/object/legacy/EvePlanet.js":function(e,t,r){"use strict";r.r(t),r.d(t,"EvePlanet",(function(){return o}));var n=r("./global/index.js"),i=r("./core/index.js"),s=r("./eve/object/EveTransform.js"),a=r("./eve/object/legacy/EveObject.js");class o extends a.EveObject{constructor(...e){super(...e),this.highDetail=new s.EveTransform,this.effectHeight=new i.Tw2Effect,this.heightMap=new i.Tw2RenderTarget,this.zOnlyModel=null,this.itemID=0,this.heightMapResPath1="",this.heightMapResPath2="",this.heightDirty=!1,this.lockedResources=[],this.watchedResources=[],this._lod=3,this._useLOD=!0,this._atmosphere=null,this._planet=null}Create(e={},t){var{name:r="",itemID:i=0,resPath:s,atmospherePath:a,heightMap1:u,heightMap2:c}=e;this.name=r,this.itemID=i,this.heightMapResPath1=u,this.heightMapResPath2=c,this.highDetail.children=[],this.heightDirty=!0;var l=1;function h(){--l<1&&t&&t()}s&&l++,a&&l++,s&&n.resMan.GetObject(s,e=>{this._planet=e,o.MeshLoaded(this,e),h()}),a&&n.resMan.GetObject(a,e=>{this._atmosphere=e,this.highDetail.children.push(e),h()}),n.resMan.GetObject("res:/dx9/model/worldobject/planet/planetzonly.red",e=>{this.zOnlyModel=e,h()})}ResetLod(){this._lod=3}UpdateLod(e){var{scaling:t,translation:r}=this.highDetail;this._lod=this._useLOD&&e.IsSphereVisible(r,t[0])?3:0}UseLOD(e){this._useLOD=e}SetTransform(e){this.highDetail.SetTransform(e)}GetResources(e=[]){return this.highDetail&&this.highDetail.GetResources(e),this.effectHeight&&this.effectHeight.GetResources(e),e}GetPlanetResources(e,t,r){if(!t.includes(e))if(t.push(e),e&&e.constructor.__isResource)r.push(e);else for(var i in e)e.hasOwnProperty(i)&&n.util.isObjectLike(e[i])&&this.GetPlanetResources(e[i],t,r)}UpdateViewDependentData(e){this.highDetail.UpdateViewDependentData(e),this.zOnlyModel&&(this.zOnlyModel.translation=this.highDetail.translation,this.zOnlyModel.scaling=this.highDetail.scaling,this.zOnlyModel.UpdateViewDependentData(e))}Update(e){this.display&&this._useLOD&&this.highDetail.Update(e)}CreateHeightMap(){this.heightMap.Set(),n.device.SetStandardStates(n.device.RM_FULLSCREEN),n.device.gl.clearColor(0,0,0,0),n.device.gl.clear(n.device.gl.COLOR_BUFFER_BIT),n.device.RenderFullScreenQuad(this.effectHeight),this.heightMap.Unset()}GetBatches(e,t){if(this.display&&this.heightDirty&&this.watchedResources.length&&""!==this.heightMapResPath1){for(var r=0;r<this.watchedResources.length;++r)if(this.watchedResources[r]&&!this.watchedResources[r].IsGood())return;this.watchedResources=[],this.CreateHeightMap(),this.heightDirty=!1;for(var n=0;n<this.lockedResources.length;++n)this.lockedResources[n]&&this.lockedResources[n].doNotPurge--;var i=this.highDetail.children[0].mesh,s=null;i.transparentAreas.length?s=i.transparentAreas[0].effect:i.opaqueAreas.length&&(s=i.opaqueAreas[0].effect),s&&(s.parameters.HeightMap.textureRes=this.heightMap.texture)}this.display&&this._lod&&this.highDetail.GetBatches(e,t)}GetZOnlyBatches(e,t){this.display&&this._lod&&this.zOnlyModel&&this.zOnlyModel.GetBatches(e,t)}static MeshLoaded(e,t){e.highDetail.children.unshift(t),e.lockedResources.splice(0),e.GetPlanetResources(e.highDetail,[],e.lockedResources);var r,n=e.highDetail.children[0].mesh,s=null;for(var a in r=(r=n.transparentAreas.length?(s=n.transparentAreas[0].effect).effectFilePath:n.opaqueAreas.length?(s=n.opaqueAreas[0].effect).effectFilePath:"res:/Graphics/Effect/Managed/Space/Planet/EarthlikePlanet.fx").replace(".fx","BlitHeight.fx"),e.watchedResources.splice(0),s.parameters)s.parameters.hasOwnProperty(a)&&(e.effectHeight.parameters[a]=s.parameters[a],"textureRes"in s.parameters[a]&&e.watchedResources.push(s.parameters[a].textureRes));for(var o=0;o<e.highDetail.children[0].children.length;++o)if(n=e.highDetail.children[0].children[o].mesh){if(s=null,n.transparentAreas.length)s=n.transparentAreas[0].effect;else{if(!n.opaqueAreas.length)continue;s=n.opaqueAreas[0].effect}for(var u in s.parameters)s.parameters.hasOwnProperty(u)&&(e.effectHeight.parameters[u]=s.parameters[u],"textureRes"in s.parameters[u]&&e.watchedResources.push(s.parameters[u].textureRes))}var c=new i.Tw2TextureParameter("NormalHeight1",e.heightMapResPath1);c.Initialize(),e.watchedResources.push(c.textureRes),e.lockedResources.push(c.textureRes),e.effectHeight.parameters.NormalHeight1=c;var l=new i.Tw2TextureParameter("NormalHeight2",e.heightMapResPath2);l.Initialize(),e.watchedResources.push(l.textureRes),e.lockedResources.push(l.textureRes),e.effectHeight.parameters.NormalHeight2=l,e.effectHeight.parameters.Random=new i.Tw2FloatParameter("Random",e.itemID%100),e.effectHeight.parameters.TargetTextureHeight=new i.Tw2FloatParameter("TargetTextureHeight",1024),e.effectHeight.effectFilePath=r,e.effectHeight.Initialize(),e.heightDirty=!0,e.heightMap.Create(2048,1024,!1),e.watchedResources.push(e.effectHeight.effectRes);for(var h=0;h<e.lockedResources.length;++h)e.lockedResources[h]&&(e.lockedResources[h].doNotPurge++,e.lockedResources[h].IsPurged()&&e.lockedResources[h].Reload())}}o.__isPlanet=!0},"./eve/object/legacy/EveShip.js":function(e,t,r){"use strict";r.r(t),r.d(t,"EveShip",(function(){return s}));var n=r("./eve/object/legacy/EveSpaceObject.js"),i=r("./global/util/index.js");class s extends n.EveSpaceObject{constructor(...e){super(...e),this.boosters=null,this.turretSets=[],this.boosterGain=1}Initialize(){super.Initialize(),this.boosters&&this.RebuildBoosterSet()}GetResources(e=[]){super.GetResources(e);for(var t=0;t<this.turretSets.length;t++)this.turretSets[t].GetResources(e);return this.boosters&&this.boosters.GetResources(e),e}RebuildBoosterSet(){this.boosters&&this.boosters.UpdateItemsFromLocators(this.FindLocatorsByPrefix("locator_booster"))}RebuildTurretPositions(){for(var e=0;e<this.turretSets.length;e++)this.RebuildTurretSet(e)}RebuildTurretSet(e){if(Object(i.isNumber)(e)||(e=this.turretSets.indexOf(e)),void 0!==this.turretSets[e]){for(var t=this.turretSets[e],r=t.locatorName,n=this.GetLocatorCount(r),s=[],a=0;a<n;++a){var o=r+String.fromCharCode("a".charCodeAt(0)+a),u=this.FindLocatorByName(o);u&&(u.FindBone(this.animation),s.push(u))}t.UpdateItemsFromLocators(s)}}UpdateViewDependentData(e,t){super.UpdateViewDependentData(e,t);for(var r=0;r<this.turretSets.length;++r)this.turretSets[r].UpdateViewDependentData(this._worldTransform)}Update(e){super.Update(e),this.boosters&&(this.boosters._locatorDirty&&this.RebuildBoosterSet(),this.boosters.Update(e,this._worldTransform,this._worldSpriteScale));for(var t=0;t<this.turretSets.length;++t)this.turretSets[t]._locatorDirty&&this.RebuildTurretSet(t),this.turretSets[t].Update(e)}GetBatches(e,t){if(this.display&&(super.GetBatches(e,t),this._perObjectData.vs.Get("Shipdata")[0]=this.boosterGain,this._perObjectData.ps.Get("Shipdata")[0]=this.boosterGain,this.boosters&&this.visible.boosters&&this.boosters.GetBatches(e,t,this._perObjectData),this.visible.turretSets))if(this.lod>1)for(var r=0;r<this.turretSets.length;++r)this.turretSets[r].GetBatches(e,t,this._perObjectData,this.visible.firingEffects);else if(this.visible.firingEffects)for(var n=0;n<this.turretSets.length;++n)this.turretSets[n].firingEffect&&this.turretSets[n].firingEffect.GetBatches(e,t,this._perObjectData)}}s.__isShip=!0},"./eve/object/legacy/EveSpaceObject.js":function(e,t,r){"use strict";r.r(t),r.d(t,"EveSpaceObject",(function(){return a})),r.d(t,"EveStation",(function(){return a}));var n=r("./global/index.js"),i=r("./core/index.js"),s=r("./eve/object/legacy/EveObject.js");r("./eve/item/index.js");class a extends s.EveObject{constructor(...e){super(...e),this.visible={mesh:!0,children:!0,effectChildren:!0,planeSets:!0,spotlightSets:!0,decals:!0,spriteSets:!0,overlayEffects:!0,lineSets:!0,killmarks:!0,customMasks:!0,turretSets:!0,boosters:!0},this.mesh=null,this.animation=new i.Tw2AnimationController,this.locators=[],this.spriteSets=[],this.turretSets=[],this.decals=[],this.spotlightSets=[],this.planeSets=[],this.curveSets=[],this.lineSets=[],this.overlayEffects=[],this.children=[],this.effectChildren=[],this.customMasks=[],this.lod=3,this.killCount=0,this.transform=n.mat4.create(),this.boundingSphereCenter=n.vec3.create(),this.boundingSphereRadius=0,this.shapeEllipsoidRadius=n.vec3.create(),this.shapeEllipsoidCenter=n.vec3.create(),this._worldSpriteScale=1,this._worldTransform=n.mat4.create(),this._perObjectData=i.Tw2PerObjectData.from(a.perObjectData)}Initialize(){if(this.mesh){this.animation.SetGeometryResource(this.mesh.geometryResource);for(var e=0;e<this.decals.length;++e)this.decals[e].SetParentGeometry(this.mesh.geometryResource)}}SetTransform(e,t){t?n.mat4.multiply(this.transform,e,t):n.mat4.copy(this.transform,e)}GetResources(e=[]){return this.mesh&&this.mesh.GetResources(e),this.animation&&this.animation.GetResources(e),n.util.perArrayChild(this.spriteSets,"GetResources",e),n.util.perArrayChild(this.turretSets,"GetResources",e),n.util.perArrayChild(this.decals,"GetResources",e),n.util.perArrayChild(this.spotlightSets,"GetResources",e),n.util.perArrayChild(this.planeSets,"GetResources",e),n.util.perArrayChild(this.lineSets,"GetResources",e),n.util.perArrayChild(this.overlayEffects,"GetResources",e),n.util.perArrayChild(this.effectChildren,"GetResources",e),n.util.perArrayChild(this.children,"GetResources",e),e}ResetLod(){this.lod=3}UpdateLod(e){if(this._useLOD){var t=n.vec3.transformMat4(a.global.vec3_0,this.boundingSphereCenter,this._worldTransform);if(e.IsSphereVisible(t,this.boundingSphereRadius)){var r=e.GetPixelSizeAcross(t,this.boundingSphereRadius);r<=a.LOD_THRESHOLD_NONE?this.lod=0:r<=a.LOD_THRESHOLD_LOW?this.lod=1:r<=a.LOD_THRESHOLD_MEDIUM?this.lod=2:this.lod=3}else this.lod=0}else this.lod=3;this.mesh&&"SetQuality"in this.mesh&&this.mesh.SetQuality(3-this.lod)}UseLOD(e){this._useLOD=e}FindTurretPrefixes(e=[]){function t(t){if(!t)return!1;var r=t[0].substring(0,t[0].length-1);return e.includes(r)||e.push(r),!0}for(var r=0;r<this.locators.length;r++){var n=this.locators[r].name;t(/^locator_turret_([0-9]+)[a-z]$/i.exec(n))||t(/^locator_xl_([0-9]+)[a-z]$/i.exec(n))}return e.sort(),e}GetLocatorCount(e){return this.FindLocatorsByPrefix(e).length}FindLocatorJointByName(e){var t=this.FindLocatorBoneByName(e);return t?t.worldTransform:null}FindLocatorTransformByName(e){var t=this.FindLocatorByName(e);return t?t.transform:null}HasLocatorPrefix(e){for(var t=0;t<this.locators.length;t++)if(0===this.locators[t].name.indexOf(e))return!0;return!1}FindLocatorBoneByName(e){return this.animation.FindBoneForMesh(e,0)}FindLocatorByName(e){for(var t=0;t<this.locators.length;t++)if(this.locators[t].name===e)return this.locators[t];return null}FindLocatorsByPrefix(e,t=[]){for(var r=0;r<this.locators.length;r++)0===this.locators[r].name.indexOf(e)&&t.push(this.locators[r]);return t}UpdateViewDependentData(e,t){e?n.mat4.multiply(this._worldTransform,e,this.transform):n.mat4.copy(this._worldTransform,this.transform),this._worldSpriteScale=n.mat4.maxScaleOnAxis(this._worldTransform);for(var r=0;r<this.children.length;++r)this.children[r].UpdateViewDependentData(this._worldTransform);n.mat4.transpose(this._perObjectData.vs.Get("WorldMat"),this._worldTransform),n.mat4.transpose(this._perObjectData.vs.Get("WorldMatLast"),this._worldTransform);var i=this._perObjectData.vs.Get("EllipsoidCenter"),s=this._perObjectData.vs.Get("EllipsoidRadii");if(this.shapeEllipsoidRadius[0]>0)i[0]=this.shapeEllipsoidCenter[0],i[1]=this.shapeEllipsoidCenter[1],i[2]=this.shapeEllipsoidCenter[2],s[0]=this.shapeEllipsoidRadius[0],s[1]=this.shapeEllipsoidRadius[1],s[2]=this.shapeEllipsoidRadius[2];else if(this.mesh&&this.mesh.IsGood()){var{maxBounds:a,minBounds:o}=this.mesh.geometryResource;n.vec3.subtract(i,a,o),n.vec3.scale(i,i,.8660254035),n.vec3.add(s,a,o),n.vec3.scale(s,s,.5)}for(var u=0;u<this.customMasks.length;++u)this.customMasks[u].UpdatePerObjectData(this._worldTransform,this._perObjectData,u,this.visible.customMasks);this.animation.animations.length&&this._perObjectData.vs.Set("JointMat",this.animation.GetBoneMatrices(0));for(var c=0;c<this.lineSets.length;++c)this.lineSets[c].UpdateViewDependentData(this._worldTransform)}Update(e){if(this.lod>0){for(var t=0;t<this.spriteSets.length;++t)this.spriteSets[t].Update(e,this._worldSpriteScale);for(var r=0;r<this.planeSets.length;r++)this.planeSets[r].Update(e);for(var n=0;n<this.spotlightSets.length;n++)this.spotlightSets[n].Update(e);for(var i=0;i<this.children.length;++i)this.children[i].Update(e);for(var s=0;s<this.effectChildren.length;++s)this.effectChildren[s].Update(e,this._worldTransform,this.lod);for(var a=0;a<this.curveSets.length;++a)this.curveSets[a].Update(e);for(var o=0;o<this.overlayEffects.length;++o)this.overlayEffects[o].Update(e);for(var u=0;u<this.lineSets.length;u++)this.lineSets[u].Update(e);this.animation.Update(e)}}GetBatches(e,t){if(this.display){var r=this.visible;if(r.mesh&&this.mesh&&this.lod>0&&this.mesh.GetBatches(e,t,this._perObjectData),this.lod>1){if(r.spriteSets)for(var n=0;n<this.spriteSets.length;n++)this.spriteSets[n].GetBatches(e,t,this._perObjectData,this._worldTransform);if(r.spotlightSets)for(var i=0;i<this.spotlightSets.length;i++)this.spotlightSets[i].GetBatches(e,t,this._perObjectData);if(r.planeSets)for(var s=0;s<this.planeSets.length;s++)this.planeSets[s].GetBatches(e,t,this._perObjectData);if(r.decals)for(var a=0;a<this.decals.length;a++)this.decals[a].GetBatches(e,t,this._perObjectData,r.killmarks?this.killCount:0);if(r.lineSets)for(var o=0;o<this.lineSets.length;o++)this.lineSets[o].GetBatches(e,t);if(r.overlayEffects&&this.mesh&&this.mesh.IsGood())for(var u=0;u<this.overlayEffects.length;u++)this.overlayEffects[u].GetBatches(e,t,this._perObjectData,this.mesh)}if(r.children)for(var c=0;c<this.children.length;c++)this.children[c].GetBatches(e,t,this._perObjectData);if(r.effectChildren)for(var l=0;l<this.effectChildren.length;l++)this.effectChildren[l]._parentLod=this.lod,this.effectChildren[l].GetBatches(e,t,this._perObjectData)}}RenderDebugInfo(e){this.animation.RenderDebugInfo(e)}}a.LOD_THRESHOLD_NONE=100,a.LOD_THRESHOLD_LOW=200,a.LOD_THRESHOLD_MEDIUM=500,a.perObjectData={vs:[["WorldMat",16],["WorldMatLast",16],["Shipdata",[0,1,0,-10]],["Clipdata1",4],["EllipsoidRadii",4],["EllipsoidCenter",4],["CustomMaskMatrix0",n.mat4.identity([])],["CustomMaskMatrix1",n.mat4.identity([])],["CustomMaskData0",[1,0,0,0]],["CustomMaskData1",[1,0,0,0]],["JointMat",696]],ps:[["Shipdata",[0,1,0,1]],["Clipdata1",4],["Clipdata2",4],["ShLighting",28],["CustomMaskMaterialID0",4],["CustomMaskMaterialID1",4],["CustomMaskTarget0",4],["CustomMaskTarget1",4]]}},"./eve/object/legacy/index.js":function(e,t,r){"use strict";r.r(t);var n=r("./eve/object/legacy/EveEffectRoot.js");r.d(t,"EveEffectRoot",(function(){return n.EveEffectRoot}));var i=r("./eve/object/legacy/EvePlanet.js");r.d(t,"EvePlanet",(function(){return i.EvePlanet}));var s=r("./eve/object/legacy/EveShip.js");r.d(t,"EveShip",(function(){return s.EveShip}));var a=r("./eve/object/legacy/EveSpaceObject.js");r.d(t,"EveSpaceObject",(function(){return a.EveSpaceObject})),r.d(t,"EveStation",(function(){return a.EveStation}))},"./eve/particle/EveParticleDirectForce.js":function(e,t,r){"use strict";r.r(t),r.d(t,"EveParticleDirectForce",(function(){return s}));var n=r("./global/index.js"),i=r("./particle/force/Tw2ParticleForce.js");class s extends i.Tw2ParticleForce{constructor(...e){super(...e),this.force=n.vec3.create()}static black(e){return[["force",e.vector3]]}}s.__isStaging=4},"./eve/particle/EveParticleDragForce.js":function(e,t,r){"use strict";r.r(t),r.d(t,"EveParticleDragForce",(function(){return i}));var n=r("./particle/force/Tw2ParticleForce.js");class i extends n.Tw2ParticleForce{constructor(...e){super(...e),this.drag=0}static black(e){return[["drag",e.float]]}}i.__isStaging=4},"./eve/particle/index.js":function(e,t,r){"use strict";r.r(t);var n=r("./eve/particle/EveParticleDirectForce.js");r.d(t,"EveParticleDirectForce",(function(){return n.EveParticleDirectForce}));var i=r("./eve/particle/EveParticleDragForce.js");r.d(t,"EveParticleDragForce",(function(){return i.EveParticleDragForce}))},"./eve/pi/EveConnector.js":function(e,t,r){"use strict";r.r(t),r.d(t,"EveConnector",(function(){return i}));var n=r("./global/index.js");class i extends n.Tw2BaseClass{constructor(...e){super(...e),this.animationColor=n.vec4.create(),this.animationScale=0,this.animationSpeed=0,this.color=n.vec4.create(),this.destObject=null,this.destPosition=n.vec3.create(),this.isAnimated=!1,this.lineWidth=0,this.sourceObject=null,this.type=0}static black(e){return[["animationColor",e.color],["animationScale",e.float],["animationSpeed",e.float],["color",e.color],["destObject",e.object],["destPosition",e.vector3],["isAnimated",e.boolean],["lineWidth",e.float],["sourceObject",e.object],["sourcePosition",e.vector3],["type",e.uint]]}}i.__isStaging=4},"./eve/pi/EveLocalPositionCurve.js":function(e,t,r){"use strict";r.r(t),r.d(t,"EveLocalPositionCurve",(function(){return i}));var n=r("./global/index.js");class i extends n.Tw2BaseClass{constructor(...e){super(...e),this.value=n.vec3.create()}static black(e){return[["value",e.vector3]]}}i.__isStaging=3},"./eve/pi/EveSpherePin.js":function(e,t,r){"use strict";r.r(t),r.d(t,"EveSpherePin",(function(){return i}));var n=r("./global/index.js");class i extends n.Tw2BaseClass{constructor(...e){super(...e),this.name="",this.centerNormal=n.vec3.create(),this.color=n.vec4.create(),this.curveSets=[],this.enablePicking=!1,this.geometryResPath="",this.pinColor=n.vec4.create(),this.pinEffect=null,this.pinMaxRadius=0,this.pinRadius=0,this.pinRotation=0,this.sortValueMultiplier=0}static black(e){return[["centerNormal",e.vector3],["color",e.color],["curveSets",e.array],["enablePicking",e.boolean],["geometryResPath",e.path],["name",e.string],["pinColor",e.color],["pinEffect",e.object],["pinMaxRadius",e.float],["pinRadius",e.float],["pinRotation",e.float],["sortValueMultiplier",e.float]]}}i.__isStaging=4},"./eve/pi/index.js":function(e,t,r){"use strict";r.r(t);var n=r("./eve/pi/EveConnector.js");r.d(t,"EveConnector",(function(){return n.EveConnector}));var i=r("./eve/pi/EveLocalPositionCurve.js");r.d(t,"EveLocalPositionCurve",(function(){return i.EveLocalPositionCurve}));var s=r("./eve/pi/EveSpherePin.js");r.d(t,"EveSpherePin",(function(){return s.EveSpherePin}))},"./eve/ui/EveTacticalOverlay.js":function(e,t,r){"use strict";r.r(t),r.d(t,"EveTacticalOverlay",(function(){return i}));var n=r("./global/index.js");class i extends n.Tw2BaseClass{constructor(...e){super(...e),this.anchorEffect=null,this.arcSegmentMultiplier=0,this.connectorEffect=null,this.segmentsHigh=0,this.segmentsLow=0,this.segmentsMedium=0,this.targetMaxSegments=0,this.velocityEffect=null}static black(e){return[["anchorEffect",e.object],["arcSegmentMultiplier",e.float],["connectorEffect",e.object],["segmentsLow",e.float],["segmentsMedium",e.float],["segmentsHigh",e.float],["targetMaxSegments",e.float],["velocityEffect",e.object]]}}i.__isStaging=4},"./eve/ui/EveUiObject.js":function(e,t,r){"use strict";r.r(t),r.d(t,"EveUiObject",(function(){return i}));var n=r("./global/index.js");class i extends n.Tw2BaseClass{constructor(...e){super(...e),this.name="",this.boundingSphereRadius=0,this.mesh=null,this.modelScale=0}static black(e){return[["boundingSphereRadius",e.float],["name",e.string],["mesh",e.object],["modelScale",e.float]]}}i.__isStaging=4},"./eve/ui/index.js":function(e,t,r){"use strict";r.r(t);var n=r("./eve/ui/EveTacticalOverlay.js");r.d(t,"EveTacticalOverlay",(function(){return n.EveTacticalOverlay}));var i=r("./eve/ui/EveUiObject.js");r.d(t,"EveUiObject",(function(){return i.EveUiObject}))},"./global/Tw2Library.js":function(e,t,r){"use strict";r.r(t),r.d(t,"tw2",(function(){return S})),r.d(t,"resMan",(function(){return T})),r.d(t,"device",(function(){return g}));var n,i=r("./global/meta/index.js"),s=r("./global/class/index.js"),a=r("./global/engine/index.js"),o=r("./global/math/index.js"),u=r("./global/util/index.js"),c=r("./global/engine/Tw2Constant.js"),l=r("./core/reader/Tw2BlackPropertyReaders.js"),h=r("./core/Tw2Error.js");function d(e,t,r,n,i,s,a){try{var o=e[s](a),u=o.value}catch(e){return void r(e)}o.done?t(u):Promise.resolve(u).then(n,i)}function f(e){return function(){var t=this,r=arguments;return new Promise((function(n,i){var s=e.apply(t,r);function a(e){d(s,n,i,a,o,"next",e)}function o(e){d(s,n,i,a,o,"throw",e)}a(void 0)}))}}function m(e,t){if(!e._store[t])throw new h.ErrStoreInvalid({store:t})}function v(e,t,r,n){m(e,t);var i=e._store[t];return i.has(r)||n&&n.isClassName&&Object(u.isTr2OrTri)(r)&&i.has(Object(u.toTw2)(r))}function p(e,t,r,n){m(e,t);var i=e._store[t];if(i.has(r))return e._store[t].get(r);if(n&&n.isClassName&&Object(u.isTr2OrTri)(r)){var s=Object(u.toTw2)(r);if(i.has(s)){var a=i.get(s);return e.emit("store.substituted",t,s,a,r),a}}throw e.emit("store.missing",t,r),new h.ErrStoreValueMissing({store:t,key:r})}function _(e,t,r,n,i){if(m(e,t),!n)throw new h.ErrStoreValueInvalid({store:t,key:r});if(i){if(i.reserved&&i.reserved.includes(r))throw new h.ErrStoreKeyReserved({store:t,key:r});if(i.isValue&&!i.isValue(n))throw new h.ErrStoreValueInvalid({store:t,key:r});i.onBeforeSet&&(n=i.onBeforeSet(n))}return e._store[t].set(r,n),e.emit("store.set",t,r,n).msg("debug",{name:"Store",message:"".concat(t," registered: ").concat(r)}),n}function E(e,t,r){var n="Set"+t.charAt(0).toUpperCase()+t.substring(1);if(!e[n])throw new Error("Invalid store value setter '".concat(n,"'"));r=Object(u.toArray)(r);for(var i=0;i<r.length;i++)for(var s in r[i])r[i].hasOwnProperty(s)&&e[n](s,r[i][s])}var S=new(Object(i.singleton)(n=class e extends s.Tw2EventEmitter{get gl(){return this.device.gl}get now(){return this.device.now}get frame(){return this.device.frameCounter}get canvas(){return this.device.canvas}get dt(){return this.device.dt}get width(){return this.device.viewportWidth}get height(){return this.device.viewportHeight}get aspect(){return this.device.viewportAspect}constructor(){var e;super(),this.math=o,this.util=u,this.consts=c,this.logger=new a.Tw2Logger(this),this.resMan=new a.Tw2ResMan(this),this.device=new a.Tw2Device(this),this._store={black:new Map,variable:new Map,extension:new Map,class:new Map,path:new Map,dynamicPath:new Map,type:new Map},this._debug=!1,Object.defineProperty(this,"eveSof",{get:()=>{if(!e){var t=this.GetClass("EveSOF");e=new t(this)}return e}}),s.Tw2EventEmitter.defaultLogger=this}SetDebug(e){this._debug!==e&&(this._debug=e,this._store.class.forEach(t=>{"DEBUG_ENABLED"in t&&(t.DEBUG_ENABLED=e)}),this.logger.Debug(e),this.emit("debug_mode",e),this.Log("warn","Debugging ".concat(e?"enabled":"disabled")))}SetLibrary(e){"tw2"in e&&Reflect.defineProperty(e,"tw2",{value:this,writable:!1,configurable:!1})}Initialize(e={}){if(this.Register(e),this.device.CreateDevice(e.canvas,e.glParams),e.render){this.on("tick",e.render);var t=()=>{this.RequestAnimationFrame(t),this.StartFrame(),this.EndFrame()};this.RequestAnimationFrame(t)}}StartFrame(){this.device.StartFrame(),this.resMan.Tick(this.device)}EndFrame(){this.emit("tick",this.device.dt),this.device.EndFrame()}RequestAnimationFrame(e){return this.device.RequestAnimationFrame(e)}CancelAnimationFrame(e){return this.device.CancelAnimationFrame(e)}Log(e,t,r="Library"){return this.logger.Log(e,t,r)}Register(e={}){e.uuid&&Object(u.enableUUID)(e.uuid),e.logger&&this.logger.Register(e.logger),e.debug&&this.SetDebug(!0),e.resMan&&this.resMan.Register(e.resMan),e.device&&this.device.Register(e.device);var{store:t}=e;if(t)for(var r in t.type&&E(this,"type",t.type),t)t.hasOwnProperty(r)&&"type"!==r&&E(this,r,t[r])}GetFullURL(e){return this.resMan.BuildUrl(e)}SetStandardStates(e){return this.device.SetStandardStates(e),this}GLColorMask(e){return this.device.gl.colorMask(e[0],e[1],e[2],e[3]),this}GLClearColor(e){return this.device.gl.clearColor(e[0],e[1],e[2],e[3]),this}GLClearDepth(e){return this.device.gl.clearDepth(e),this}GLViewport(e){return this.device.gl.viewport(e[0],e[1],e[2],e[3]),this}GLClear(e){return this.device.gl.clear(e),this}SetProjectionMatrix(e){return this.device.SetProjection(e),this}SetViewMatrix(e){return this.device.SetView(e),this}GetDeviceExtension(e){return this.device.GetExtension(e)}GetResource(e,t,r){return this.resMan.GetResource(e,t,r)}FetchResource(e){var t=this;return f((function*(){return t.resMan.FetchResource(e)}))()}FetchObject(e,t){var r=this;return f((function*(){var n;if(n=Object(u.isDNA)(e)?yield r.eveSof.FetchObject(e):yield r.resMan.FetchObject(e),!r.IsClass(n,t))throw new Error("Unexpected constructor");return n}))()}FetchBuildClass(e){var t=this;return f((function*(){return Object(u.isDNA)(e)?yield t.eveSof.FetchHullBuildClass(e):2}))()}IsClass(e,t){if(!t)return!0;var r;t=Object(u.toArray)(t);for(var n=0;n<t.length;n++){var i=t[n],s=!1;if(Object(u.isString)(i)&&("!"===i.charAt(0)&&(s=!0,i=i.substring(1)),i="Array"===i?Array:"Object"===i?Object:this.GetClass(i)),e instanceof i){r=!s;break}}return r}CreateVariable(e,t,r){if(Object(u.isPlain)(t)&&(r=t.Type||t.type,t=t.value),Object(u.isFunction)(r))return new r(e,t);if(Object(u.isString)(r)&&(r=this.GetType(r)),r||(r=this.GetTypeByValue(t)),Object(u.isFunction)(r))return new r(e,t);throw new Error("Could not identify variable type")}HasVariable(e){return v(this,"variable",e)}GetVariable(e){return p(this,"variable",e)}GetVariableValue(e,t){var r=this.GetVariable(e);if(r.GetValue)return r.GetValue(t);throw new Error("Variable missing 'GetValue' method")}SetVariable(e,t){return Object(u.isObjectObject)(t)||(t=this.CreateVariable(e,t)),_(this,"variable",e,t)}SetVariableValue(e,t,r){var n=this.GetVariable(e);if(n.SetValue)return n.SetValue(t,r);throw new Error("Variable missing 'SetValue' method")}HasExtension(e){return v(this,"extension",e)}GetExtension(e){return p(this,"extension",e)}SetExtension(e,t){return _(this,"extension",e,t,{isValue:u.isFunction})}HasBlack(e){return v(this,"black",e,{isClassName:!0})}GetBlack(e){return p(this,"black",e,{isClassName:!0})}SetBlack(e,t){return Object(u.isFunction)(t)&&(t=t(l)),_(this,"black",e,t,{isValue:u.isArray,onBeforeSet:e=>new Map(e)})}HasClass(e){return v(this,"class",e,{isClassName:!0})}GetClass(e){return p(this,"class",e,{isClassName:!0})}SetClass(t,r){var n=_(this,"class",t,r,{isValue:u.isFunction});return e.prototype[t]=n,"DEBUG_ENABLED"in n&&(n.DEBUG_ENABLED=this._debug),n.black&&this.SetBlack(t,n.black),n}HasPath(e){return v(this,"path",e)}GetPath(e){return p(this,"path",e)}SetPath(e,t){return Object(u.isString)(t)&&"/"!==t.charAt(t.length-1)&&(t+="/"),_(this,"path",e,t,{isValue:u.isString,onBeforeSet:e=>e.toLowerCase()})}HasDynamicPath(e){return v(this,"dynamicPath",e)}GetDynamicPath(e){return p(this,"dynamicPath",e)}SetDynamicPath(e,t){return _(this,"dynamicPath",e,t,{isValue(e){if(!Object(u.isArray)(e))return!1;for(var t=0;t<e.length;t++)if(!Object(u.isString)(e[t]))return!1;return!0},onBeforeSet(e){e.forEach(e=>e.toLowerCase())}})}HasType(e){return v(this,"type",e)}GetType(e){return p(this,"type",e)}GetTypeByValue(e){var t=this._store.type;for(var[r,n]of t)if("isValue"in n&&n.isValue(e))return n;throw new Error("Could not identify a type from the given value")}SetType(e,t){return _(this,"type",e,t,u.isFunction)}})||n),T=S.resMan,g=S.device},"./global/class/Tw2BaseClass.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tw2BaseClass",(function(){return h}));var n,i,s,a,o=r("./global/meta/index.js"),u=r("./global/util/index.js"),c=r("./global/class/Tw2EventEmitter.js");function l(e,t,r,n,i){var s={};return Object.keys(n).forEach((function(e){s[e]=n[e]})),s.enumerable=!!s.enumerable,s.configurable=!!s.configurable,("value"in s||s.initializer)&&(s.writable=!0),s=r.slice().reverse().reduce((function(r,n){return n(e,t,r)||r}),s),i&&void 0!==s.initializer&&(s.value=s.initializer?s.initializer.call(i):void 0,s.initializer=void 0),void 0===s.initializer&&(Object.defineProperty(e,t,s),s=null),s}var h=Object(o.abstract)((a=s=class e extends c.Tw2EventEmitter{constructor(){super(),e.defineID(this)}Copy(e,t){return this.constructor.copy(this,e,t)}Clone(e){return this.constructor.clone(this,e)}Set(e,t){return this.constructor.set(this,e,t)}Get(e,t){return this.constructor.get(this,e,t)}OnValueChanged(e){}UpdateValues(e){this.OnValueChanged(e),e&&e.skipEvents||this.emit("modified",this,e)}OnModified(e,t,r){this.on("modified",e,t,r)}OffModified(e){this.off("modified",e)}OnDestroy(e){}Destroy(e){this.OnDestroy(e),e&&e.skipEvents||this.emit("destroy",this,e),this.del("*")}Traverse(e,t,r="",n=new Set){if(!n.has(this)){n.add(this);var i=e(this,t,r);return i||function(e,t,r=""){var{list:n,type:i}=function(e){if(e.constructor.hasOwnProperty("__keys")&&null!==e.constructor.__keys)return e.constructor.__keys;var t=e.constructor.__keys={};function r(e,r){t[e]||(t[e]=[]),t[e].includes(r)||t[e].push(r)}for(var n in e)if(e.hasOwnProperty(n)){if("_"===n.charAt(0))continue;var i=e[n];Object(u.isPrimary)(i)?r("primary",n):Object(u.isArray)(i)?i.length&&Object(u.isPrimary)(i[0])?r("array",n):r("list",n):Object(u.isTyped)(i)?r("typed",n):Object(u.isPlain)(i)?r("plain",n):(null===i||Object(u.isObjectObject)(i))&&r("type",n)}return e.constructor.__keys}(e);if(n)for(var s=0;s<n.length;s++)for(var a=n[s],o=e[a],c=0;c<o.length;c++){var l=o[c];if(Object(u.isObjectObject)(l)){var h="".concat(r,"/").concat(a,"/").concat(c),d=t(l,e,h);if(d)return d}}if(i)for(var f=0;f<i.length;f++){var m=i[f],v=e[m];if(Object(u.isObjectObject)(v)){var p="".concat(r,"/").concat(m),_=t(v,e,p);if(_)return _}}}(this,(function(t,r,i){var s;if(Object(u.isFunction)(t.Traverse)?s=t.Traverse(e,r,i,n):n.has(t)||(n.add(t),s=e(t,r,i)),s)return s}),r)}}static copy(e,t,r={}){r.verb="copy";var n=this.get(t,{},{skipIDs:!0});return this.set(e,n,r)}static clone(e,t={}){var r=this.get(e,{},{skipIDs:!0});return this.from(r,t)}static from(e,t={}){if(e&&e instanceof this)return e;var r=new this,n="Initialize"in r;return e&&Object.keys(e)&&this.set(r,e,{skipUpdate:n,verb:"create"}),n&&!t.skipUpdate&&r.Initialize(),r}static set(e,t,r={}){}static get(e,t={},r={}){}static defineID(e){Reflect.defineProperty(e,"_id",{value:Object(u.generateID)(),writable:!1,configurable:!0})}},s.black=null,s.__category=null,s.__keys=null,l(i=a,"set",[o.abstract],Object.getOwnPropertyDescriptor(i,"set"),i),l(i,"get",[o.abstract],Object.getOwnPropertyDescriptor(i,"get"),i),n=i))||n},"./global/class/Tw2EventEmitter.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tw2EventEmitter",(function(){return s}));var n=r("./global/util/index.js"),i=new WeakMap;class s{emit(e,...t){var r=i.get(this);return r?((e=e.toLowerCase())in r&&(r[e].forEach((n,i)=>{i.call(n.context,...t),n.once&&r[e].delete(i)}),0===r[e].size&&Reflect.deleteProperty(r,e)),this):this}add(e){if(!e)return this;for(var t in e)if(e.hasOwnProperty(t)){var r=e[t],i=t,s=void 0,a=void 0;if(-1!==t.indexOf(".once")&&t.lastIndexOf(".once")===t.length-5&&(i=t.substring(0,t.length-5),a=!0),Object(n.isArray)(r)&&((r=r[0])[1]&&(s=r[1]),Object(n.isBoolean)(r[2])&&!Object(n.isBoolean)(a)&&(a=r[2])),!Object(n.isFunction)(r))throw new Error("Invalid listener");this.on(i,r,s,a)}return this}on(e,t,r,n=!1){var s=i.get(this);return s||(s={},i.set(this,s)),s[e=e.toLowerCase()]||(s[e]=new Map),!s[e].has(t)&&this.constructor.onListener&&this.constructor.onListener(e,t,r)&&n?this:(s[e].set(t,{context:r,once:n}),this)}once(e,t,r){return this.on(e,t,r,!0)}off(e,t){var r=i.get(this);if(!r)return this;if("*"===e){for(var n in r)r.hasOwnProperty(n)&&(r[n].delete(t),0===r[n].size&&Reflect.deleteProperty(r,n));return this}return(e=e.toLowerCase())in r&&(r[e].delete(t),0===r[e].size&&Reflect.deleteProperty(r,e)),this}bind(e,t,r){function n(...n){r&&r.call(e,...n),e.emit(t,...n)}return n._target=e,this.on(t,n)}unbind(e,t){var r=this;if(!e)return this;var n=i.get(this);if(!n){if("*"===t){var s=function(t){n.hasOwnProperty(t)&&n[t].forEach((n,i)=>{i._target===e&&r.off(t,i)})};for(var a in n)s(a);return this}return(t=t.toLowerCase())in n&&n[t].forEach((r,n)=>{n._target===e&&this.off(t,n)}),this}}has(e,t){var r=i.get(this);if(!r)return!1;if("*"===e){for(var n in r)if(r.hasOwnProperty(n)&&r[n].has(t))return!0;return!1}return!!(t&&e in r)&&("*"===t?!!r[e].size:r[e].has(t))}del(e){var t=i.get(this);if(!t)return this;if("*"===e){for(var r in this.emit("kill"),t)t.hasOwnProperty(r)&&(t[r].clear(),Reflect.deleteProperty(t,r));return i.delete(this),this}return(e=e.toLowerCase())in t&&(t[e].clear(),Reflect.deleteProperty(t,e)),this}msg(e,t){return this.constructor.defaultLogger?this.constructor.defaultLogger.Log(e,t,this.constructor.__category):t}}s.onListener=null,s.defaultLogger=null,s.__category=null},"./global/class/Tw2Notifications.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tw2Notifications",(function(){return i}));var n=r("./global/util/index.js");class i{RegisterNotification(e){this.HasNotification(e)||this.constructor.onNotification&&this.constructor.onNotification(this,e)||(this._notifications=this._notifications||new Set,this._notifications.add(e))}UpdateNotifications(e,t){this._notifications&&(this._notifications.forEach(r=>{var i=!1;Object(n.isFunction)(r)?i=r(this,t,e):e&&e in r&&(i=r[e](this,t)),i&&this.UnregisterNotification(r)}),0===this._notifications.size&&this.ClearNotifications())}HasNotification(e){return!!this._notifications&&this._notifications.has(e)}UnregisterNotification(e){this._notifications&&this._notifications.delete(e)}ClearNotifications(){this._notifications&&(this._notifications.clear(),Reflect.deleteProperty(this,"_notifications"))}}i.onNotification=null},"./global/class/Tw2Schema.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tw2Schema",(function(){return n}));class n{}},"./global/class/index.js":function(e,t,r){"use strict";r.r(t);var n=r("./global/class/Tw2BaseClass.js");r.d(t,"Tw2BaseClass",(function(){return n.Tw2BaseClass}));var i=r("./global/class/Tw2EventEmitter.js");r.d(t,"Tw2EventEmitter",(function(){return i.Tw2EventEmitter}));var s=r("./global/class/Tw2Notifications.js");r.d(t,"Tw2Notifications",(function(){return s.Tw2Notifications}));var a=r("./global/class/Tw2Schema.js");r.d(t,"Tw2Schema",(function(){return a.Tw2Schema}))},"./global/engine/Tw2Constant.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Type",(function(){return n})),r.d(t,"TypeCategory",(function(){return i})),r.d(t,"TypeTypeCategory",(function(){return s})),r.d(t,"TypeLength",(function(){return a})),r.d(t,"GL_COLOR_BUFFER_BIT",(function(){return o})),r.d(t,"GL_DEPTH_BUFFER_BIT",(function(){return u})),r.d(t,"GL_STENCIL_BUFFER_BIT",(function(){return c})),r.d(t,"GL_TEXTURE_2D",(function(){return l})),r.d(t,"GL_TEXTURE_CUBE_MAP",(function(){return h})),r.d(t,"GL_TEXTURE_3D",(function(){return d})),r.d(t,"GL_TEXTURE_MAG_FILTER",(function(){return f})),r.d(t,"GL_TEXTURE_MIN_FILTER",(function(){return m})),r.d(t,"GL_TEXTURE_WRAP_S",(function(){return v})),r.d(t,"GL_TEXTURE_WRAP_T",(function(){return p})),r.d(t,"GL_BYTE",(function(){return _})),r.d(t,"GL_UNSIGNED_BYTE",(function(){return E})),r.d(t,"GL_SHORT",(function(){return S})),r.d(t,"GL_UNSIGNED_SHORT",(function(){return T})),r.d(t,"GL_INT",(function(){return g})),r.d(t,"GL_UNSIGNED_INT",(function(){return R})),r.d(t,"GL_FLOAT",(function(){return b})),r.d(t,"GL_HALF_FLOAT_OES",(function(){return y})),r.d(t,"GL_HALF_FLOAT",(function(){return A})),r.d(t,"GL_DEPTH_COMPONENT16",(function(){return j})),r.d(t,"GL_DEPTH_COMPONENT24",(function(){return w})),r.d(t,"GL_DEPTH_COMPONENT32F",(function(){return O})),r.d(t,"GL_FLOAT_VEC2",(function(){return C})),r.d(t,"GL_FLOAT_VEC3",(function(){return L})),r.d(t,"GL_FLOAT_VEC4",(function(){return D})),r.d(t,"GL_INT_VEC2",(function(){return P})),r.d(t,"GL_INT_VEC3",(function(){return x})),r.d(t,"GL_INT_VEC4",(function(){return I})),r.d(t,"GL_BOOL",(function(){return M})),r.d(t,"GL_BOOL_VEC2",(function(){return F})),r.d(t,"GL_BOOL_VEC3",(function(){return G})),r.d(t,"GL_BOOL_VEC4",(function(){return N})),r.d(t,"GL_FLOAT_MAT2",(function(){return B})),r.d(t,"GL_FLOAT_MAT3",(function(){return U})),r.d(t,"GL_FLOAT_MAT4",(function(){return V})),r.d(t,"GL_TYPE_LENGTH",(function(){return k})),r.d(t,"GL_SAMPLER_2D",(function(){return H})),r.d(t,"GL_SAMPLER_3D",(function(){return q})),r.d(t,"GL_SAMPLER_CUBE",(function(){return z})),r.d(t,"GL_DEPTH_COMPONENT",(function(){return W})),r.d(t,"GL_ALPHA",(function(){return Y})),r.d(t,"GL_RGB",(function(){return X})),r.d(t,"GL_RGBA",(function(){return K})),r.d(t,"GL_LUMINANCE",(function(){return Q})),r.d(t,"GL_LUMINANCE_ALPHA",(function(){return Z})),r.d(t,"GL_DEPTH_STENCIL",(function(){return $})),r.d(t,"GL_UNSIGNED_INT_24_8_WEBGL",(function(){return J})),r.d(t,"GL_R8",(function(){return ee})),r.d(t,"GL_R16F",(function(){return te})),r.d(t,"GL_R32F",(function(){return re})),r.d(t,"GL_R8UI",(function(){return ne})),r.d(t,"GL_RG8",(function(){return ie})),r.d(t,"GL_RG16F",(function(){return se})),r.d(t,"GL_RG32F",(function(){return ae})),r.d(t,"GL_RGB8",(function(){return oe})),r.d(t,"GL_SRGB8",(function(){return ue})),r.d(t,"GL_RGB565",(function(){return ce})),r.d(t,"GL_R11F_G11F_B10F",(function(){return le})),r.d(t,"GL_RGB9_E5",(function(){return he})),r.d(t,"GL_RGB16F",(function(){return de})),r.d(t,"GL_RGB32F",(function(){return fe})),r.d(t,"GL_RGB8UI",(function(){return me})),r.d(t,"GL_RGBA8",(function(){return ve})),r.d(t,"GL_RGB5_A1",(function(){return pe})),r.d(t,"GL_RGBA16F",(function(){return _e})),r.d(t,"GL_RGBA32F",(function(){return Ee})),r.d(t,"GL_RGBA8UI",(function(){return Se})),r.d(t,"GL_RGBA16I",(function(){return Te})),r.d(t,"GL_RGBA16UI",(function(){return ge})),r.d(t,"GL_RGBA32I",(function(){return Re})),r.d(t,"GL_RGBA32UI",(function(){return be})),r.d(t,"GL_NEAREST",(function(){return ye})),r.d(t,"GL_LINEAR",(function(){return Ae})),r.d(t,"GL_NEAREST_MIPMAP_NEAREST",(function(){return je})),r.d(t,"GL_LINEAR_MIPMAP_NEAREST",(function(){return we})),r.d(t,"GL_NEAREST_MIPMAP_LINEAR",(function(){return Oe})),r.d(t,"GL_LINEAR_MIPMAP_LINEAR",(function(){return Ce})),r.d(t,"GL_REPEAT",(function(){return Le})),r.d(t,"GL_CLAMP_TO_EDGE",(function(){return De})),r.d(t,"GL_MIRRORED_REPEAT",(function(){return Pe})),r.d(t,"GL_ZERO",(function(){return xe})),r.d(t,"GL_ONE",(function(){return Ie})),r.d(t,"GL_SRC_COLOR",(function(){return Me})),r.d(t,"GL_ONE_MINUS_SRC_COLOR",(function(){return Fe})),r.d(t,"GL_SRC_ALPHA",(function(){return Ge})),r.d(t,"GL_ONE_MINUS_SRC_ALPHA",(function(){return Ne})),r.d(t,"GL_DST_ALPHA",(function(){return Be})),r.d(t,"GL_ONE_MINUS_DST_ALPHA",(function(){return Ue})),r.d(t,"GL_DST_COLOR",(function(){return Ve})),r.d(t,"GL_ONE_MINUS_DST_COLOR",(function(){return ke})),r.d(t,"GL_SRC_ALPHA_SATURATE",(function(){return He})),r.d(t,"GL_CONSTANT_COLOR",(function(){return qe})),r.d(t,"GL_ONE_MINUS_CONSTANT_COLOR",(function(){return ze})),r.d(t,"GL_CONSTANT_ALPHA",(function(){return We})),r.d(t,"GL_ONE_MINUS_CONSTANT_ALPHA",(function(){return Ye})),r.d(t,"GL_VERTEX_SHADER",(function(){return Xe})),r.d(t,"GL_FRAGMENT_SHADER",(function(){return Ke})),r.d(t,"GL_FRONT",(function(){return Qe})),r.d(t,"GL_BACK",(function(){return Ze})),r.d(t,"GL_FRONT_AND_BACK",(function(){return $e})),r.d(t,"GL_NEVER",(function(){return Je})),r.d(t,"GL_LESS",(function(){return et})),r.d(t,"GL_EQUAL",(function(){return tt})),r.d(t,"GL_LEQUAL",(function(){return rt})),r.d(t,"GL_GREATER",(function(){return nt})),r.d(t,"GL_NOTEQUAL",(function(){return it})),r.d(t,"GL_GEQUAL",(function(){return st})),r.d(t,"GL_ALWAYS",(function(){return at})),r.d(t,"GL_KEEP",(function(){return ot})),r.d(t,"GL_REPLACE",(function(){return ut})),r.d(t,"GL_INCR",(function(){return ct})),r.d(t,"GL_DECR",(function(){return lt})),r.d(t,"GL_INCR_WRAP",(function(){return ht})),r.d(t,"GL_DECR_WRAP",(function(){return dt})),r.d(t,"GL_INVERT",(function(){return ft})),r.d(t,"GL_STREAM_DRAW",(function(){return mt})),r.d(t,"GL_STATIC_DRAW",(function(){return vt})),r.d(t,"GL_DYNAMIC_DRAW",(function(){return pt})),r.d(t,"GL_ARRAY_BUFFER",(function(){return _t})),r.d(t,"GL_ELEMENT_ARRAY_BUFFER",(function(){return Et})),r.d(t,"GL_POINTS",(function(){return St})),r.d(t,"GL_LINES",(function(){return Tt})),r.d(t,"GL_LINE_LOOP",(function(){return gt})),r.d(t,"GL_LINE_STRIP",(function(){return Rt})),r.d(t,"GL_TRIANGLES",(function(){return bt})),r.d(t,"GL_TRIANGLE_STRIP",(function(){return yt})),r.d(t,"GL_TRIANGLE_FAN",(function(){return At})),r.d(t,"GL_CW",(function(){return jt})),r.d(t,"GL_CCW",(function(){return wt})),r.d(t,"GL_CULL_FACE",(function(){return Ot})),r.d(t,"GL_DEPTH_TEST",(function(){return Ct})),r.d(t,"GL_BLEND",(function(){return Lt})),r.d(t,"RM_ANY",(function(){return Dt})),r.d(t,"RM_OPAQUE",(function(){return Pt})),r.d(t,"RM_DECAL",(function(){return xt})),r.d(t,"RM_TRANSPARENT",(function(){return It})),r.d(t,"RM_ADDITIVE",(function(){return Mt})),r.d(t,"RM_DEPTH",(function(){return Ft})),r.d(t,"RM_FULLSCREEN",(function(){return Gt})),r.d(t,"RM_PICKABLE",(function(){return Nt})),r.d(t,"RM_DISTORTION",(function(){return Bt})),r.d(t,"RS_ZENABLE",(function(){return Ut})),r.d(t,"RS_FILLMODE",(function(){return Vt})),r.d(t,"RS_SHADEMODE",(function(){return kt})),r.d(t,"RS_ZWRITEENABLE",(function(){return Ht})),r.d(t,"RS_ALPHATESTENABLE",(function(){return qt})),r.d(t,"RS_LASTPIXEL",(function(){return zt})),r.d(t,"RS_SRCBLEND",(function(){return Wt})),r.d(t,"RS_DESTBLEND",(function(){return Yt})),r.d(t,"RS_CULLMODE",(function(){return Xt})),r.d(t,"RS_ZFUNC",(function(){return Kt})),r.d(t,"RS_ALPHAREF",(function(){return Qt})),r.d(t,"RS_ALPHAFUNC",(function(){return Zt})),r.d(t,"RS_DITHERENABLE",(function(){return $t})),r.d(t,"RS_ALPHABLENDENABLE",(function(){return Jt})),r.d(t,"RS_FOGENABLE",(function(){return er})),r.d(t,"RS_SPECULARENABLE",(function(){return tr})),r.d(t,"RS_FOGCOLOR",(function(){return rr})),r.d(t,"RS_FOGTABLEMODE",(function(){return nr})),r.d(t,"RS_FOGSTART",(function(){return ir})),r.d(t,"RS_FOGEND",(function(){return sr})),r.d(t,"RS_FOGDENSITY",(function(){return ar})),r.d(t,"RS_RANGEFOGENABLE",(function(){return or})),r.d(t,"RS_STENCILENABLE",(function(){return ur})),r.d(t,"RS_STENCILFAIL",(function(){return cr})),r.d(t,"RS_STENCILZFAIL",(function(){return lr})),r.d(t,"RS_STENCILPASS",(function(){return hr})),r.d(t,"RS_STENCILFUNC",(function(){return dr})),r.d(t,"RS_STENCILREF",(function(){return fr})),r.d(t,"RS_STENCILMASK",(function(){return mr})),r.d(t,"RS_STENCILWRITEMASK",(function(){return vr})),r.d(t,"RS_TEXTUREFACTOR",(function(){return pr})),r.d(t,"RS_WRAP0",(function(){return _r})),r.d(t,"RS_WRAP1",(function(){return Er})),r.d(t,"RS_WRAP2",(function(){return Sr})),r.d(t,"RS_WRAP3",(function(){return Tr})),r.d(t,"RS_WRAP4",(function(){return gr})),r.d(t,"RS_WRAP5",(function(){return Rr})),r.d(t,"RS_WRAP6",(function(){return br})),r.d(t,"RS_WRAP7",(function(){return yr})),r.d(t,"RS_CLIPPING",(function(){return Ar})),r.d(t,"RS_LIGHTING",(function(){return jr})),r.d(t,"RS_AMBIENT",(function(){return wr})),r.d(t,"RS_FOGVERTEXMODE",(function(){return Or})),r.d(t,"RS_COLORVERTEX",(function(){return Cr})),r.d(t,"RS_LOCALVIEWER",(function(){return Lr})),r.d(t,"RS_NORMALIZENORMALS",(function(){return Dr})),r.d(t,"RS_DIFFUSEMATERIALSOURCE",(function(){return Pr})),r.d(t,"RS_SPECULARMATERIALSOURCE",(function(){return xr})),r.d(t,"RS_AMBIENTMATERIALSOURCE",(function(){return Ir})),r.d(t,"RS_EMISSIVEMATERIALSOURCE",(function(){return Mr})),r.d(t,"RS_VERTEXBLEND",(function(){return Fr})),r.d(t,"RS_CLIPPLANEENABLE",(function(){return Gr})),r.d(t,"RS_POINTSIZE",(function(){return Nr})),r.d(t,"RS_POINTSIZE_MIN",(function(){return Br})),r.d(t,"RS_POINTSPRITEENABLE",(function(){return Ur})),r.d(t,"RS_POINTSCALEENABLE",(function(){return Vr})),r.d(t,"RS_POINTSCALE_A",(function(){return kr})),r.d(t,"RS_POINTSCALE_B",(function(){return Hr})),r.d(t,"RS_POINTSCALE_C",(function(){return qr})),r.d(t,"RS_MULTISAMPLEANTIALIAS",(function(){return zr})),r.d(t,"RS_MULTISAMPLEMASK",(function(){return Wr})),r.d(t,"RS_PATCHEDGESTYLE",(function(){return Yr})),r.d(t,"RS_DEBUGMONITORTOKEN",(function(){return Xr})),r.d(t,"RS_POINTSIZE_MAX",(function(){return Kr})),r.d(t,"RS_INDEXEDVERTEXBLENDENABLE",(function(){return Qr})),r.d(t,"RS_COLORWRITEENABLE",(function(){return Zr})),r.d(t,"RS_TWEENFACTOR",(function(){return $r})),r.d(t,"RS_BLENDOP",(function(){return Jr})),r.d(t,"RS_POSITIONDEGREE",(function(){return en})),r.d(t,"RS_NORMALDEGREE",(function(){return tn})),r.d(t,"RS_SCISSORTESTENABLE",(function(){return rn})),r.d(t,"RS_SLOPESCALEDEPTHBIAS",(function(){return nn})),r.d(t,"RS_ANTIALIASEDLINEENABLE",(function(){return sn})),r.d(t,"RS_TWOSIDEDSTENCILMODE",(function(){return an})),r.d(t,"RS_CCW_STENCILFAIL",(function(){return on})),r.d(t,"RS_CCW_STENCILZFAIL",(function(){return un})),r.d(t,"RS_CCW_STENCILPASS",(function(){return cn})),r.d(t,"RS_CCW_STENCILFUNC",(function(){return ln})),r.d(t,"RS_COLORWRITEENABLE1",(function(){return hn})),r.d(t,"RS_COLORWRITEENABLE2",(function(){return dn})),r.d(t,"RS_COLORWRITEENABLE3",(function(){return fn})),r.d(t,"RS_BLENDFACTOR",(function(){return mn})),r.d(t,"RS_SRGBWRITEENABLE",(function(){return vn})),r.d(t,"RS_DEPTHBIAS",(function(){return pn})),r.d(t,"RS_SEPARATEALPHABLENDENABLE",(function(){return _n})),r.d(t,"RS_SRCBLENDALPHA",(function(){return En})),r.d(t,"RS_DESTBLENDALPHA",(function(){return Sn})),r.d(t,"RS_BLENDOPALPHA",(function(){return Tn})),r.d(t,"CULL_NONE",(function(){return gn})),r.d(t,"CULL_CW",(function(){return Rn})),r.d(t,"CULL_CCW",(function(){return bn})),r.d(t,"CMP_NEVER",(function(){return yn})),r.d(t,"CMP_LESS",(function(){return An})),r.d(t,"CMP_EQUAL",(function(){return jn})),r.d(t,"CMP_LEQUAL",(function(){return wn})),r.d(t,"CMP_GREATER",(function(){return On})),r.d(t,"CMP_NOTEQUAL",(function(){return Cn})),r.d(t,"CMP_GREATEREQUAL",(function(){return Ln})),r.d(t,"CMP_ALWAYS",(function(){return Dn})),r.d(t,"BLEND_ZERO",(function(){return Pn})),r.d(t,"BLEND_ONE",(function(){return xn})),r.d(t,"BLEND_SRCCOLOR",(function(){return In})),r.d(t,"BLEND_INVSRCCOLOR",(function(){return Mn})),r.d(t,"BLEND_SRCALPHA",(function(){return Fn})),r.d(t,"BLEND_INVSRCALPHA",(function(){return Gn})),r.d(t,"BLEND_DESTALPHA",(function(){return Nn})),r.d(t,"BLEND_INVDESTALPHA",(function(){return Bn})),r.d(t,"BLEND_DESTCOLOR",(function(){return Un})),r.d(t,"BLEND_INVDESTCOLOR",(function(){return Vn})),r.d(t,"BLEND_SRCALPHASAT",(function(){return kn})),r.d(t,"BLEND_BOTHSRCALPHA",(function(){return Hn})),r.d(t,"BLEND_BOTHINVSRCALPHA",(function(){return qn})),r.d(t,"BLEND_BLENDFACTOR",(function(){return zn})),r.d(t,"BLEND_INVBLENDFACTOR",(function(){return Wn})),r.d(t,"BLENDOP_ADD",(function(){return Yn})),r.d(t,"BLENDOP_SUBTRACT",(function(){return Xn})),r.d(t,"BLENDOP_REVSUBTRACT",(function(){return Kn})),r.d(t,"BLENDOP_MIN",(function(){return Qn})),r.d(t,"BLENDOP_MAX",(function(){return Zn})),r.d(t,"TF_ALPHA",(function(){return $n})),r.d(t,"TF_LUMINANCE",(function(){return Jn})),r.d(t,"TF_LUMINANCE_ALPHA",(function(){return ei})),r.d(t,"TF_RGB",(function(){return ti})),r.d(t,"TF_RGBA",(function(){return ri})),r.d(t,"TF_RED",(function(){return ni})),r.d(t,"TF_R",(function(){return ii})),r.d(t,"TF_RG",(function(){return si})),r.d(t,"TF_RED_INTEGER",(function(){return ai})),r.d(t,"TF_R_INTEGER",(function(){return oi})),r.d(t,"TF_RG_INTEGER",(function(){return ui})),r.d(t,"TF_RGB_INTEGER",(function(){return ci})),r.d(t,"TF_RGBA_INTEGER",(function(){return li})),r.d(t,"TT_UNSIGNED_BYTE",(function(){return hi})),r.d(t,"TT_UNSIGNED_INT",(function(){return di})),r.d(t,"TT_FLOAT",(function(){return fi})),r.d(t,"TT_HALF_FLOAT",(function(){return mi})),r.d(t,"TT_BYTE",(function(){return vi})),r.d(t,"TT_SHORT",(function(){return pi})),r.d(t,"TT_UNSIGNED_SHORT",(function(){return _i})),r.d(t,"TT_INT",(function(){return Ei})),r.d(t,"TT_UNSIGNED_INTEGER",(function(){return Si})),r.d(t,"TT_UNSIGNED_SHORT_4_4_4_4",(function(){return Ti})),r.d(t,"TT_UNSIGNED_SHORT_5_5_5_1",(function(){return gi})),r.d(t,"TT_UNSIGNED_SHORT_5_6_5",(function(){return Ri})),r.d(t,"TT_UNSIGNED_INT_2_10_10_10_REV",(function(){return bi})),r.d(t,"TT_UNSIGNED_INT_24_8",(function(){return yi})),r.d(t,"TT_UNSIGNED_INT_10F_11F_11F_REV",(function(){return Ai})),r.d(t,"TT_UNSIGNED_INT_5_9_9_9_REV",(function(){return ji})),r.d(t,"TT_FLOAT_32_UNSIGNED_INT_24_8_REV",(function(){return wi})),r.d(t,"WrapModes",(function(){return Oi})),r.d(t,"BlendTable",(function(){return Ci})),r.d(t,"FilterMode",(function(){return Li})),r.d(t,"MipFilterMode",(function(){return Di})),r.d(t,"DDS_MAGIC",(function(){return Pi})),r.d(t,"DDSD_CAPS",(function(){return xi})),r.d(t,"DDSD_HEIGHT",(function(){return Ii})),r.d(t,"DDSD_WIDTH",(function(){return Mi})),r.d(t,"DDSD_PITCH",(function(){return Fi})),r.d(t,"DDSD_PIXELFORMAT",(function(){return Gi})),r.d(t,"DDSD_MIPMAPCOUNT",(function(){return Ni})),r.d(t,"DDSD_LINEARSIZE",(function(){return Bi})),r.d(t,"DDSD_DEPTH",(function(){return Ui})),r.d(t,"DDSCAPS_COMPLEX",(function(){return Vi})),r.d(t,"DDSCAPS_MIPMAP",(function(){return ki})),r.d(t,"DDSCAPS_TEXTURE",(function(){return Hi})),r.d(t,"DDSCAPS2_CUBEMAP",(function(){return qi})),r.d(t,"DDSCAPS2_CUBEMAP_POSITIVEX",(function(){return zi})),r.d(t,"DDSCAPS2_CUBEMAP_NEGATIVEX",(function(){return Wi})),r.d(t,"DDSCAPS2_CUBEMAP_POSITIVEY",(function(){return Yi})),r.d(t,"DDSCAPS2_CUBEMAP_NEGATIVEY",(function(){return Xi})),r.d(t,"DDSCAPS2_CUBEMAP_POSITIVEZ",(function(){return Ki})),r.d(t,"DDSCAPS2_CUBEMAP_NEGATIVEZ",(function(){return Qi})),r.d(t,"DDSCAPS2_VOLUME",(function(){return Zi})),r.d(t,"DDPF_ALPHAPIXELS",(function(){return $i})),r.d(t,"DDPF_ALPHA",(function(){return Ji})),r.d(t,"DDPF_FOURCC",(function(){return es})),r.d(t,"DDPF_RGB",(function(){return ts})),r.d(t,"DDPF_YUV",(function(){return rs})),r.d(t,"DDPF_LUMINANCE",(function(){return ns})),r.d(t,"DDS_HEADER_LENGTH_INT",(function(){return is})),r.d(t,"DDS_HEADER_OFFSET_MAGIC",(function(){return ss})),r.d(t,"DDS_HEADER_OFFSET_SIZE",(function(){return as})),r.d(t,"DDS_HEADER_OFFSET_FLAGS",(function(){return os})),r.d(t,"DDS_HEADER_OFFSET_HEIGHT",(function(){return us})),r.d(t,"DDS_HEADER_OFFSET_WIDTH",(function(){return cs})),r.d(t,"DDS_HEADER_OFFSET_MIPMAP_COUNT",(function(){return ls})),r.d(t,"DDS_HEADER_OFFSET_PF_FLAGS",(function(){return hs})),r.d(t,"DDS_HEADER_OFFSET_PF_FOURCC",(function(){return ds})),r.d(t,"DDS_HEADER_OFFSET_RGB_BPP",(function(){return fs})),r.d(t,"DDS_HEADER_OFFSET_R_MASK",(function(){return ms})),r.d(t,"DDS_HEADER_OFFSET_G_MASK",(function(){return vs})),r.d(t,"DDS_HEADER_OFFSET_B_MASK",(function(){return ps})),r.d(t,"DDS_HEADER_OFFSET_A_MASK",(function(){return _s})),r.d(t,"DDS_HEADER_OFFSET_CAPS1",(function(){return Es})),r.d(t,"DDS_HEADER_OFFSET_CAPS2",(function(){return Ss})),r.d(t,"DDS_HEADER_OFFSET_CAPS3",(function(){return Ts})),r.d(t,"DDS_HEADER_OFFSET_CAPS4",(function(){return gs})),r.d(t,"DDS_HEADER_OFFSET_DXGI_FORMAT",(function(){return Rs})),r.d(t,"FOURCC_DXT1",(function(){return bs})),r.d(t,"FOURCC_DXT5",(function(){return ys})),r.d(t,"FOURCC_DXT3",(function(){return As})),r.d(t,"FOURCC_DXT10",(function(){return js})),r.d(t,"FOURCC_D3DFMT_R16G16B16A16F",(function(){return ws})),r.d(t,"FOURCC_D3DFMT_R32G32B32A32F",(function(){return Os})),r.d(t,"DXGI_FORMAT_R16G16B16A16_FLOAT",(function(){return Cs})),r.d(t,"DXGI_FORMAT_B8G8R8X8_UNORM",(function(){return Ls})),r.d(t,"VendorRequestAnimationFrame",(function(){return Ds})),r.d(t,"VendorCancelAnimationFrame",(function(){return Ps})),r.d(t,"VendorRequestFullScreen",(function(){return xs})),r.d(t,"VendorExitFullScreen",(function(){return Is})),r.d(t,"VendorGetFullScreenElement",(function(){return Ms})),r.d(t,"VendorWebglPrefixes",(function(){return Fs}));var n={UNKNOWN:0,BOOLEAN:1,STRING:10,PATH:11,EXPRESSION:12,BYTE:20,UINT:21,USHORT:22,FLOAT:23,OBJECT:30,RAW:31,PLAIN:32,LIST:33,ARRAY:34,VECTOR:50,VECTOR2:52,VECTOR3:53,VECTOR4:54,COLOR:58,QUATERNION:59,MATRIX3:60,MATRIX4:61,INDEX_BUFFER:62},i={UNKNOWN:0,BOOLEAN:1,STRING:2,NUMBER:3,OBJECT:4,PLAIN:5,LIST:6,ARRAY:7,TYPED:8},s={[n.UNKNOWN]:i.UNKNOWN,[n.BOOLEAN]:i.BOOLEAN,[n.STRING]:i.STRING,[n.PATH]:i.STRING,[n.EXPRESSION]:i.STRING,[n.BYTE]:i.NUMBER,[n.UINT]:i.NUMBER,[n.USHORT]:i.NUMBER,[n.FLOAT]:i.NUMBER,[n.OBJECT]:i.OBJECT,[n.RAW]:i.OBJECT,[n.LIST]:i.LIST,[n.PLAIN]:i.PLAIN,[n.ARRAY]:i.ARRAY,[n.VECTOR]:i.TYPED,[n.VECTOR2]:i.TYPED,[n.VECTOR3]:i.TYPED,[n.VECTOR4]:i.TYPED,[n.MATRIX3]:i.TYPED,[n.MATRIX4]:i.TYPED,[n.INDEX_BUFFER]:i.TYPED},a={[n.VECTOR2]:2,[n.VECTOR3]:3,[n.VECTOR4]:4,[n.COLOR]:4,[n.QUATERNION]:4,[n.MATRIX3]:9,[n.MATRIX4]:16},o=16384,u=256,c=1024,l=3553,h=34067,d=32879,f=10240,m=10241,v=10242,p=10243,_=5120,E=5121,S=5122,T=5123,g=5124,R=5125,b=5126,y=36193,A=5131,j=33189,w=33190,O=36012,C=35664,L=35665,D=35666,P=35667,x=35668,I=35669,M=35670,F=35671,G=35672,N=35673,B=35674,U=35675,V=35676,k={[b]:1,[g]:1,[_]:1,[M]:1,[C]:2,[P]:2,[F]:2,[L]:3,[x]:3,[G]:3,[D]:4,[I]:4,[N]:4,[U]:9,[V]:16},H=35678,q=35679,z=35680,W=6402,Y=6406,X=6407,K=6408,Q=6409,Z=6410,$=34041,J=34042,ee=33321,te=33325,re=33326,ne=33330,ie=33323,se=33327,ae=33328,oe=32849,ue=35905,ce=36194,le=35898,he=35901,de=34843,fe=34837,me=36221,ve=32856,pe=32855,_e=34842,Ee=34836,Se=36220,Te=36232,ge=36214,Re=36226,be=36208,ye=9728,Ae=9729,je=9984,we=9985,Oe=9986,Ce=9987,Le=10497,De=33071,Pe=33648,xe=0,Ie=1,Me=768,Fe=769,Ge=770,Ne=771,Be=772,Ue=773,Ve=774,ke=775,He=776,qe=32769,ze=32770,We=32771,Ye=32772,Xe=35633,Ke=35632,Qe=1028,Ze=1029,$e=1032,Je=512,et=513,tt=514,rt=515,nt=516,it=517,st=518,at=519,ot=7680,ut=7681,ct=7682,lt=7683,ht=34055,dt=34056,ft=5386,mt=35040,vt=35044,pt=35048,_t=34962,Et=34963,St=0,Tt=1,gt=2,Rt=3,bt=4,yt=5,At=6,jt=2304,wt=2305,Ot=2884,Ct=2929,Lt=3042,Dt=-1,Pt=0,xt=1,It=2,Mt=3,Ft=4,Gt=5,Nt=6,Bt=7,Ut=7,Vt=8,kt=9,Ht=14,qt=15,zt=16,Wt=19,Yt=20,Xt=22,Kt=23,Qt=24,Zt=25,$t=26,Jt=27,er=28,tr=29,rr=34,nr=35,ir=36,sr=37,ar=38,or=48,ur=52,cr=53,lr=54,hr=55,dr=56,fr=57,mr=58,vr=59,pr=60,_r=128,Er=129,Sr=130,Tr=131,gr=132,Rr=133,br=134,yr=135,Ar=136,jr=137,wr=139,Or=140,Cr=141,Lr=142,Dr=143,Pr=145,xr=146,Ir=147,Mr=148,Fr=151,Gr=152,Nr=154,Br=155,Ur=156,Vr=157,kr=158,Hr=159,qr=160,zr=161,Wr=162,Yr=163,Xr=165,Kr=166,Qr=167,Zr=168,$r=170,Jr=171,en=172,tn=173,rn=174,nn=175,sn=176,an=185,on=186,un=187,cn=188,ln=189,hn=190,dn=191,fn=192,mn=193,vn=194,pn=195,_n=206,En=207,Sn=208,Tn=209,gn=1,Rn=2,bn=3,yn=1,An=2,jn=3,wn=4,On=5,Cn=6,Ln=7,Dn=8,Pn=1,xn=2,In=3,Mn=4,Fn=5,Gn=6,Nn=7,Bn=8,Un=9,Vn=10,kn=11,Hn=12,qn=13,zn=14,Wn=15,Yn=1,Xn=2,Kn=3,Qn=4,Zn=5,$n=0,Jn=1,ei=2,ti=4,ri=5,ni=6,ii=6,si=7,ai=8,oi=8,ui=9,ci=10,li=11,hi=0,di=0,fi=1,mi=2,vi=3,pi=4,_i=5,Ei=6,Si=7,Ti=8,gi=9,Ri=10,bi=11,yi=12,Ai=13,ji=14,wi=15,Oi=[0,Le,Pe,De,De,De],Ci=[-1,xe,Ie,Me,Fe,Ge,Ne,Be,Ue,Ve,ke,He,-1,-1,qe,ze],Li={[ye]:1,[Ae]:2},Di={[ye]:0,[Ae]:0,[je]:1,[we]:1,[Oe]:2,[Ce]:2},Pi=542327876,xi=1,Ii=2,Mi=4,Fi=8,Gi=4096,Ni=131072,Bi=524288,Ui=8388608,Vi=8,ki=4194304,Hi=4096,qi=512,zi=1024,Wi=2048,Yi=4096,Xi=8192,Ki=16384,Qi=32768,Zi=2097152,$i=1,Ji=2,es=4,ts=64,rs=512,ns=131072,is=31,ss=0,as=1,os=2,us=3,cs=4,ls=7,hs=20,ds=21,fs=22,ms=23,vs=24,ps=25,_s=26,Es=27,Ss=28,Ts=29,gs=30,Rs=32,bs=827611204,ys=894720068,As=861165636,js=827611204,ws=113,Os=116,Cs=10,Ls=88,Ds=["requestAnimationFrame","webkitRequestAnimationFrame","mozRequestAnimationFrame","oRequestAnimationFrame","msRequestAnimationFrame"],Ps=["cancelAnimationFrame","webkitRequestAnimationFrame","mozRequestAnimationFrame","oRequestAnimationFrame","msRequestAnimationFrame"],xs=["requestFullscreen","webkitRequestFullscreen","mozRequestFullScreen","msRequestFullscreen"],Is=["exitFullscreen","webkitExitFullscreen","mozCancelFullScreen","msExitFullscreen"],Ms=["fullscreenElement","webkitFullscreenElement","mozFullScreenElement","msFullscreenElement"],Fs=["","MOZ_","WEBKIT_","WEBGL_"]},"./global/engine/Tw2Device.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tw2Device",(function(){return f}));var n,i,s=r("./global/math/index.js"),a=r("./global/util/index.js"),o=r("./core/mesh/Tw2Effect.js"),u=r("./core/vertex/Tw2VertexDeclaration.js"),c=r("./global/class/Tw2EventEmitter.js"),l=r("./global/engine/Tw2Constant.js"),h=r("./core/index.js");function d(e,t,r,n,i,s,a){try{var o=e[s](a),u=o.value}catch(e){return void r(e)}o.done?t(u):Promise.resolve(u).then(n,i)}class f extends c.Tw2EventEmitter{get glVersion(){return this.gl?this.gl instanceof WebGLRenderingContext?1:2:0}get canvas(){return this.gl?this.gl.canvas:null}constructor(e){super(),this.name="Device",this.gl=null,this.xr=null,this.tw2=null,this.dt=0,this.frameCounter=0,this.startTime=null,this.currentTime=null,this.previousTime=null,this.eyePosition=s.vec3.create(),this.targetResolution=s.vec4.create(),this.world=s.mat4.create(),this.view=s.mat4.create(),this.viewInverse=s.mat4.create(),this.viewTranspose=s.mat4.create(),this.projection=s.mat4.create(),this.projectionInverse=s.mat4.create(),this.projectionTranspose=s.mat4.create(),this.viewProjection=s.mat4.create(),this.viewProjectionTranspose=s.mat4.create(),this.viewportWidth=0,this.viewportHeight=0,this.viewportAspect=0,this.viewportPixelRatio="devicePixelRatio"in window?window.devicePixelRatio:1,this.effectDir="/effect.gles2/",this.mipLevelSkipCount=0,this.shaderModel="hi",this.enableAnisotropicFiltering=!0,this.enableAntialiasing=!0,this.enableWebgl2=!0,this.enableWebxr=!0,this.alphaBlendBackBuffer=!0,this.antialiasing=!0,this.msaaSamples=0,this.wrapModes=[],this.shadowHandles=null,this.perObjectData=null,this.onResize=null,this._extensions={},this._alphaBlendState=null,this._alphaTestState=null,this._depthOffsetState=null,this._shadowStateBuffer=null,this._quadBuffer=null,this._quadDecl=null,this._cameraQuadBuffer=null,this._currentRenderMode=l.RM_ANY,this._fallbackCube=null,this._fallbackTexture=null,this._blitEffect=null,this._Date=Date,e.SetLibrary(this),this.startTime=this.now,this.currentTime=this.startTime}Register(e){if(e){if(this.gl)throw new Error("Setting device options after gl creation is not yet supported");"performanceClock"in e&&(e.performance&&"performance"in window?this._Date=performance:this._Date=Date),"textureQuality"in e&&(this.mipLevelSkipCount=e.textureQuality),"shaderQuality"in e&&(this.shaderModel=e.shaderQuality),"anisotropicFilter"in e&&(this.enableAnisotropicFiltering=e.anisotropicFilter),"antialiasing"in e&&(this.enableAntialiasing=e.antialiasing),"webgl2"in e&&(this.enableWebgl2=e.webgl2),"webxr"in e&&(this.enableWebxr=e.webxr)}}CreateDevice(e,t={}){this.gl=null,this.effectDir="/effect.gles2/",t.alpha=Object(a.get)(t,"alpha",!0),t.webgl2=this.enableWebgl2,t.xrCompatible=this.enableWebxr,t.antialiasing=!!this.enableAntialiasing&&Object(a.get)(t,"antialiasing",!0);var r=this.gl=f.CreateContext(t,e);this.msg("debug","Webgl".concat(this.glVersion," context created"));var n=()=>!1,i=()=>!0;if(1===this.glVersion){this.GetExtension("OES_standard_derivatives"),this.GetExtension("OES_element_index_uint"),this.GetExtension("OES_texture_float"),this.GetExtension("EXT_shader_texture_lod");var s=this.GetExtension("ANGLE_instanced_arrays");r.drawElementsInstanced=s?s.drawElementsInstancedANGLE.bind(s):n,r.drawArraysInstanced=s?s.drawArraysInstancedANGLE.bind(s):n,r.vertexAttribDivisor=s?s.vertexAttribDivisorANGLE.bind(s):n,r.hasInstancedArrays=s?i:n}else r.hasInstancedArrays=i;var o=this.GetExtension("EXT_texture_filter_anisotropic");if(o&&(o.maxAnisotropy=r.getParameter(o.MAX_TEXTURE_MAX_ANISOTROPY_EXT)),this.GetExtension("CCP_shader_binary")){var c=r.getParameter(this.gl.RENDERER).match(/Mali-(\w+).*/);c&&(this.effectDir="/effect.gles2.mali"+c[1]+"/")}this.alphaBlendBackBuffer=t.alpha,this.msaaSamples=this.gl.getParameter(this.gl.SAMPLES),this.antialiasing=this.msaaSamples>1,this.Resize();this._quadBuffer=r.createBuffer(),r.bindBuffer(r.ARRAY_BUFFER,this._quadBuffer),r.bufferData(r.ARRAY_BUFFER,new Float32Array([1,1,0,1,1,1,-1,1,0,1,0,1,1,-1,0,1,1,0,-1,-1,0,1,0,0]),r.STATIC_DRAW),this._cameraQuadBuffer=r.createBuffer(),this._quadDecl=u.Tw2VertexDeclaration.from([{usage:"POSITION",usageIndex:0,elements:4},{usage:"TEXCOORD",usageIndex:0,elements:2}]),this.wrapModes=Array.from(l.WrapModes),this._alphaBlendState={dirty:!1,states:{[l.RS_SRCBLEND]:l.BLEND_SRCALPHA,[l.RS_DESTBLEND]:l.BLEND_INVSRCALPHA,[l.RS_BLENDOP]:l.BLENDOP_ADD,[l.RS_SEPARATEALPHABLENDENABLE]:0,[l.RS_BLENDOPALPHA]:l.BLENDOP_ADD,[l.RS_SRCBLENDALPHA]:l.BLEND_SRCALPHA,[l.RS_DESTBLENDALPHA]:l.BLEND_INVSRCALPHA}},this._alphaTestState={dirty:!1,states:{[l.RS_ALPHATESTENABLE]:0,[l.RS_ALPHAREF]:-1,[l.RS_ALPHAFUNC]:l.CMP_GREATER,[l.RS_CLIPPING]:0,[l.RS_CLIPPLANEENABLE]:0}},this._depthOffsetState={dirty:!1,states:{[l.RS_SLOPESCALEDEPTHBIAS]:0,[l.RS_DEPTHBIAS]:0}},this._shadowStateBuffer=new Float32Array(24)}Resize(){this.onResize?this.onResize(this.canvas):(this.canvas.width=this.canvas.offsetWidth*this.viewportPixelRatio,this.canvas.height=this.canvas.offsetHeight*this.viewportPixelRatio),this.viewportWidth=this.canvas.clientWidth,this.viewportHeight=this.canvas.clientHeight,this.viewportAspect=this.viewportWidth/this.viewportHeight,this.tw2.SetVariableValue("ViewportSize",[this.viewportWidth,this.viewportHeight,this.viewportWidth,this.viewportHeight]),this.emit("resized",{width:this.viewportWidth,height:this.viewportHeight,aspect:this.viewportAspect,canvas:this.canvas})}get now(){return this._Date.now()}StartFrame(){this.canvas.clientWidth===this.viewportWidth&&this.canvas.clientHeight===this.viewportHeight||this.Resize();var e=null===this.previousTime?0:this.previousTime,t=this.now;this.currentTime=.001*(t-this.startTime),this.dt=null===this.previousTime?0:.001*(t-this.previousTime),this.previousTime=t,this.tw2.SetVariableValue("Time",[this.currentTime,this.currentTime-Math.floor(this.currentTime),this.frameCounter,e]),this.frameCounter++}EndFrame(){}SetWorld(e){s.mat4.copy(this.world,e)}SetView(e){s.mat4.copy(this.view,e),s.mat4.invert(this.viewInverse,this.view),s.mat4.transpose(this.viewTranspose,this.view),s.mat4.getTranslation(this.eyePosition,this.viewInverse),this.UpdateViewProjection()}SetProjection(e,t){s.mat4.copy(this.projection,e),s.mat4.transpose(this.projectionTranspose,this.projection),s.mat4.invert(this.projectionInverse,this.projection),this.GetTargetResolution(this.targetResolution),t&&this.UpdateViewProjection()}UpdateViewProjection(){s.mat4.multiply(this.viewProjection,this.projection,this.view),s.mat4.transpose(this.viewProjectionTranspose,this.viewProjection),this.tw2.SetVariableValue("ViewProjectionMat",this.viewProjection)}GetTargetResolution(e=s.vec4.create()){var t=this.projection[0]?this.projection[5]/this.projection[0]:0,r=1;t>1.6&&(r=t/1.6);var n=2*Math.atan(r/this.projection[5]);return e[0]=this.viewportWidth,e[1]=this.viewportHeight,e[2]=n,e[3]=n*t,e}GetEyePosition(e=s.vec3.create()){return s.vec3.copy(e,this.eyePosition)}IsAlphaTestEnabled(){return this._alphaTestState.states[l.RS_ALPHATESTENABLE]}IsFrameBufferComplete(e){return this.gl.checkFramebufferStatus(e)===this.gl.FRAMEBUFFER_COMPLETE}GetExtension(e){if(!(e in this._extensions)){for(var t,r=0;r<l.VendorWebglPrefixes.length&&!(t=this.gl.getExtension(l.VendorWebglPrefixes[r]+e));r++)t=null;this._extensions[e]=t}return this._extensions[e]}GetFallbackTexture(){return this._fallbackTexture||(this._fallbackTexture=this.CreateSolidTexture()),this._fallbackTexture}GetFallbackCubeMap(){return this._fallbackCube||(this._fallbackCube=this.CreateSolidCube()),this._fallbackCube}CreateSolidTexture(e=[0,0,0,0]){var t=this.gl,r=this.gl.createTexture();return t.bindTexture(t.TEXTURE_2D,r),t.texImage2D(t.TEXTURE_2D,0,t.RGBA,1,1,0,t.RGBA,t.UNSIGNED_BYTE,new Uint8Array(e)),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,t.NEAREST),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t.NEAREST),t.bindTexture(t.TEXTURE_2D,null),r}CreateSolidCube(e=[0,0,0,0]){var t=this.gl,r=this.gl.createTexture();t.bindTexture(t.TEXTURE_CUBE_MAP,r);for(var n=0;n<6;++n)t.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+n,0,t.RGBA,1,1,0,t.RGBA,t.UNSIGNED_BYTE,new Uint8Array(e));return t.texParameteri(t.TEXTURE_CUBE_MAP,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_CUBE_MAP,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_CUBE_MAP,t.TEXTURE_MAG_FILTER,t.NEAREST),t.texParameteri(t.TEXTURE_CUBE_MAP,t.TEXTURE_MIN_FILTER,t.NEAREST),t.bindTexture(t.TEXTURE_CUBE_MAP,null),r}RenderFullScreenQuad(e,t="Main"){if(!e||!e.IsGood())return!1;var r=this.gl;r.bindBuffer(r.ARRAY_BUFFER,this._quadBuffer);for(var n=0;n<e.GetPassCount(t);++n){if(e.ApplyPass(t,n),!this._quadDecl.SetDeclaration(this,e.GetPassInput(t,n),24))return!1;this.ApplyShadowState(),r.drawArrays(r.TRIANGLE_STRIP,0,4)}return!0}RenderTexture(e){return null===this._blitEffect&&(this._blitEffect=o.Tw2Effect.from({effectFilePath:"res:/graphics/effect/managed/space/system/blit.fx",textures:{BlitSource:""}})),this._blitEffect.parameters.BlitSource.SetTextureRes(e),this.RenderFullScreenQuad(this._blitEffect)}RenderCameraSpaceQuad(e,t="Main"){if(!e||!e.IsGood())return!1;for(var r=new Float32Array([1,1,0,1,1,1,-1,1,0,1,0,1,1,-1,0,1,1,0,-1,-1,0,1,0,0]),n=this.projectionInverse,i=0;i<4;++i){var a=r.subarray(6*i,6*i+4);s.vec4.transformMat4(a,a,n),s.vec3.scale(a,a,1/a[3]),a[3]=1}var o=this.gl;o.bindBuffer(o.ARRAY_BUFFER,this._cameraQuadBuffer),o.bufferData(o.ARRAY_BUFFER,r,o.STATIC_DRAW);for(var u=0;u<e.GetPassCount(t);++u){if(e.ApplyPass(t,u),!this._quadDecl.SetDeclaration(this,e.GetPassInput(t,u),24))return!1;this.ApplyShadowState(),o.drawArrays(o.TRIANGLE_STRIP,0,4)}return!0}SetRenderState(e,t){var r=this.gl;switch(this._currentRenderMode=l.RM_ANY,e){case l.RS_ZENABLE:return void(t?r.enable(r.DEPTH_TEST):r.disable(r.DEPTH_TEST));case l.RS_ZWRITEENABLE:return void r.depthMask(!!t);case l.RS_ALPHATESTENABLE:case l.RS_ALPHAREF:case l.RS_ALPHAFUNC:case l.RS_CLIPPING:case l.RS_CLIPPLANEENABLE:return void(this._alphaTestState[e]!==t&&(this._alphaTestState.states[e]=t,this._alphaTestState.dirty=!0));case l.RS_SRCBLEND:case l.RS_DESTBLEND:case l.RS_BLENDOP:case l.RS_SEPARATEALPHABLENDENABLE:case l.RS_BLENDOPALPHA:case l.RS_SRCBLENDALPHA:case l.RS_DESTBLENDALPHA:return void(this._alphaBlendState[e]!==t&&(this._alphaBlendState.states[e]=t,this._alphaBlendState.dirty=!0));case l.RS_CULLMODE:switch(t){case l.CULL_NONE:return void r.disable(r.CULL_FACE);case l.CULL_CW:return r.enable(r.CULL_FACE),void r.cullFace(r.FRONT);case l.CULL_CCW:return r.enable(r.CULL_FACE),void r.cullFace(r.BACK)}return;case l.RS_ZFUNC:return void r.depthFunc(512+t-1);case l.RS_ALPHABLENDENABLE:return void(t?r.enable(r.BLEND):r.disable(r.BLEND));case l.RS_COLORWRITEENABLE:return void r.colorMask(0!=(1&t),0!=(2&t),0!=(4&t),0!=(8&t));case l.RS_SCISSORTESTENABLE:return void(t?r.enable(r.SCISSOR_TEST):r.disable(r.SCISSOR_TEST));case l.RS_SLOPESCALEDEPTHBIAS:case l.RS_DEPTHBIAS:return t=s.num.dwordToFloat(t),void(this._depthOffsetState[e]!==t&&(this._depthOffsetState.states[e]=t,this._depthOffsetState.dirty=!0))}}ApplyShadowState(){var e,t,r,n=this.gl;if(this._alphaBlendState.dirty){var i=n.FUNC_ADD;this._alphaBlendState.states[l.RS_BLENDOP]===l.BLENDOP_SUBTRACT?i=n.FUNC_SUBTRACT:this._alphaBlendState.states[l.RS_BLENDOP]===l.BLENDOP_REVSUBTRACT&&(i=n.FUNC_REVERSE_SUBTRACT);var s=l.BlendTable[this._alphaBlendState.states[l.RS_SRCBLEND]],a=l.BlendTable[this._alphaBlendState.states[l.RS_DESTBLEND]];if(this._alphaBlendState.states[l.RS_SEPARATEALPHABLENDENABLE]){var o=n.FUNC_ADD;this._alphaBlendState.states[l.RS_BLENDOP]===l.BLENDOP_SUBTRACT?o=n.FUNC_SUBTRACT:this._alphaBlendState.states[l.RS_BLENDOP]===l.BLENDOP_REVSUBTRACT&&(o=n.FUNC_REVERSE_SUBTRACT);var u=l.BlendTable[this._alphaBlendState.states[l.RS_SRCBLENDALPHA]],c=l.BlendTable[this._alphaBlendState.states[l.RS_DESTBLENDALPHA]];n.blendEquationSeparate(i,o),n.blendFuncSeparate(s,a,u,c)}else n.blendEquation(i),n.blendFunc(s,a);this._alphaBlendState.dirty=!1}if(this._depthOffsetState.dirty&&(n.polygonOffset(this._depthOffsetState.states[l.RS_SLOPESCALEDEPTHBIAS],this._depthOffsetState.states[l.RS_DEPTHBIAS]),this._depthOffsetState.dirty=!1),this.shadowHandles&&this._alphaTestState.states[l.RS_ALPHATESTENABLE]){switch(this._alphaTestState.states[l.RS_ALPHAFUNC]){case l.CMP_NEVER:e=0,t=1,r=-256;break;case l.CMP_LESS:e=0,t=-1,r=this._alphaTestState.states[l.RS_ALPHAREF]-1;break;case l.CMP_EQUAL:e=1,t=0,r=this._alphaTestState.states[l.RS_ALPHAREF];break;case l.CMP_LEQUAL:e=0,t=-1,r=this._alphaTestState.states[l.RS_ALPHAREF];break;case l.CMP_GREATER:e=0,t=1,r=-this._alphaTestState.states[l.RS_ALPHAREF]-1;break;case l.CMP_GREATEREQUAL:e=0,t=1,r=-this._alphaTestState.states[l.RS_ALPHAREF];break;default:e=0,t=0,r=1}n.uniform4f(this.shadowHandles.shadowStateInt,t,r,e,0)}}SetStandardStates(e){if(this._currentRenderMode!==e){switch(this.gl.frontFace(this.gl.CW),e){case l.RM_OPAQUE:case l.RM_PICKABLE:this.SetRenderState(l.RS_ZENABLE,!0),this.SetRenderState(l.RS_ZWRITEENABLE,!0),this.SetRenderState(l.RS_ZFUNC,l.CMP_LEQUAL),this.SetRenderState(l.RS_CULLMODE,l.CULL_CW),this.SetRenderState(l.RS_ALPHABLENDENABLE,!1),this.SetRenderState(l.RS_ALPHATESTENABLE,!1),this.SetRenderState(l.RS_SEPARATEALPHABLENDENABLE,!1),this.SetRenderState(l.RS_SLOPESCALEDEPTHBIAS,0),this.SetRenderState(l.RS_DEPTHBIAS,0),this.SetRenderState(l.RS_COLORWRITEENABLE,15);break;case l.RM_DECAL:this.SetRenderState(l.RS_ALPHABLENDENABLE,!1),this.SetRenderState(l.RS_ALPHATESTENABLE,!0),this.SetRenderState(l.RS_ALPHAFUNC,l.CMP_GREATER),this.SetRenderState(l.RS_ALPHAREF,127),this.SetRenderState(l.RS_ZENABLE,!0),this.SetRenderState(l.RS_ZWRITEENABLE,!0),this.SetRenderState(l.RS_ZFUNC,l.CMP_LEQUAL),this.SetRenderState(l.RS_CULLMODE,l.CULL_CW),this.SetRenderState(l.RS_BLENDOP,l.BLENDOP_ADD),this.SetRenderState(l.RS_SLOPESCALEDEPTHBIAS,0),this.SetRenderState(l.RS_DEPTHBIAS,0),this.SetRenderState(l.RS_SEPARATEALPHABLENDENABLE,!1),this.SetRenderState(l.RS_COLORWRITEENABLE,15);break;case l.RM_TRANSPARENT:this.SetRenderState(l.RS_CULLMODE,l.CULL_CW),this.SetRenderState(l.RS_ALPHABLENDENABLE,!0),this.SetRenderState(l.RS_SRCBLEND,l.BLEND_SRCALPHA),this.SetRenderState(l.RS_DESTBLEND,l.BLEND_INVSRCALPHA),this.SetRenderState(l.RS_BLENDOP,l.BLENDOP_ADD),this.SetRenderState(l.RS_ZENABLE,!0),this.SetRenderState(l.RS_ZWRITEENABLE,!1),this.SetRenderState(l.RS_ZFUNC,l.CMP_LEQUAL),this.SetRenderState(l.RS_ALPHATESTENABLE,!1),this.SetRenderState(l.RS_SLOPESCALEDEPTHBIAS,0),this.SetRenderState(l.RS_DEPTHBIAS,0),this.SetRenderState(l.RS_SEPARATEALPHABLENDENABLE,!1),this.SetRenderState(l.RS_COLORWRITEENABLE,15);break;case l.RM_ADDITIVE:this.SetRenderState(l.RS_CULLMODE,l.CULL_NONE),this.SetRenderState(l.RS_ALPHABLENDENABLE,!0),this.SetRenderState(l.RS_SRCBLEND,l.BLEND_ONE),this.SetRenderState(l.RS_DESTBLEND,l.BLEND_ONE),this.SetRenderState(l.RS_BLENDOP,l.BLENDOP_ADD),this.SetRenderState(l.RS_ZENABLE,!0),this.SetRenderState(l.RS_ZWRITEENABLE,!1),this.SetRenderState(l.RS_ZFUNC,l.CMP_LEQUAL),this.SetRenderState(l.RS_ALPHATESTENABLE,!1),this.SetRenderState(l.RS_SLOPESCALEDEPTHBIAS,0),this.SetRenderState(l.RS_DEPTHBIAS,0),this.SetRenderState(l.RS_SEPARATEALPHABLENDENABLE,!1),this.SetRenderState(l.RS_COLORWRITEENABLE,15);break;case l.RM_FULLSCREEN:this.SetRenderState(l.RS_ALPHABLENDENABLE,!1),this.SetRenderState(l.RS_ALPHATESTENABLE,!1),this.SetRenderState(l.RS_CULLMODE,l.CULL_NONE),this.SetRenderState(l.RS_ZENABLE,!1),this.SetRenderState(l.RS_ZWRITEENABLE,!1),this.SetRenderState(l.RS_ZFUNC,l.CMP_ALWAYS),this.SetRenderState(l.RS_SLOPESCALEDEPTHBIAS,0),this.SetRenderState(l.RS_DEPTHBIAS,0),this.SetRenderState(l.RS_SEPARATEALPHABLENDENABLE,!1),this.SetRenderState(l.RS_COLORWRITEENABLE,15);break;case l.RM_DISTORTION:case l.RM_DEPTH:default:return}this._currentRenderMode=e}}RequestAnimationFrame(e){return this.xr?this.xr.RequestAnimationFrame(e):this.constructor.RequestAnimationFrame(e)}CancelAnimationFrame(e){return this.xr?this.xr.CancelAnimationFrame(e):this.constructor.CancelAnimationFrame(e)}static CreateContext(e={},t){Object(a.isString)(t)&&(t=document.getElementById(t)),t||(t=document.createElement("canvas"));var r=e.webgl2?["webgl2"]:["webgl","experimental-webgl"],n=null;for(var i of r)if(n=t.getContext(i,e))break;if(!n)throw new h.ErrWebglContext({version:e.webgl2?2:1});return n}static FindXRDevice(e){return(t=function*(){if(!navigator.xr)throw new h.ErrWebxrNotSupported;var t;try{t=yield navigator.xr.requestDevice()}catch(e){if("NotFoundError"===e.name||"NotFoundError"===e.message)throw new h.ErrWebxrDeviceNotFound({err:e.message});throw new h.ErrWebxrRequestFailed({err:e.message})}if(e)try{yield t.supportsSession(e)}catch(e){throw new h.ErrWebxrSessionNotSupported({err:e.message})}return t},function(){var e=this,r=arguments;return new Promise((function(n,i){var s=t.apply(e,r);function a(e){d(s,n,i,a,o,"next",e)}function o(e){d(s,n,i,a,o,"throw",e)}a(void 0)}))})();var t}}f.RequestAnimationFrame=(n=Object(a.get)(window,l.VendorRequestAnimationFrame),e=>n(e)),f.CancelAnimationFrame=(i=Object(a.get)(window,l.VendorCancelAnimationFrame),e=>i(e)),f.__category="Device",f.prototype.RM_ANY=l.RM_ANY,f.prototype.RM_OPAQUE=l.RM_OPAQUE,f.prototype.RM_DECAL=l.RM_DECAL,f.prototype.RM_TRANSPARENT=l.RM_TRANSPARENT,f.prototype.RM_ADDITIVE=l.RM_ADDITIVE,f.prototype.RM_DEPTH=l.RM_DEPTH,f.prototype.RM_DISTORTION=l.RM_DISTORTION,f.prototype.RM_FULLSCREEN=l.RM_FULLSCREEN,f.prototype.RM_PICKABLE=l.RM_PICKABLE},"./global/engine/Tw2Logger.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tw2Logger",(function(){return s}));var n=r("./global/class/Tw2EventEmitter.js"),i=r("./global/util/index.js");class s extends n.Tw2EventEmitter{constructor(e){super(),this.name="",this.display=!0,this.visible={log:!1,info:!1,debug:!1,warn:!1,error:!0},this.history=100,this.throttle=20,this._logs=[],this._throttled=null,this._debugMode=!1,e.SetLibrary(this)}Debug(e){this._debugMode=e}Register(e){e&&(Object(i.assignIfExists)(this,e,["name","display","history","throttle"]),Object(i.assignIfExists)(this.visible,e.visible,["log","info","debug","warn","error"]))}Log(e="log",t,r){if(t?Object(i.isString)(t)?t={message:t}:Object(i.isError)(t)&&(t={message:t.message,err:t}):t={message:""},t._logged)return t;if(t.type=e.toLowerCase(),t.name=t.name||r||s.constructor.category,t.message=t.message?t.message.charAt(0).toUpperCase()+t.message.substring(1):"",s.LogType[t.type.toUpperCase()]||(t.type="log"),this.display&&this.visible[t.type]||(t.hide=!0),!this.throttle||this._debugMode)this._throttled=null;else if(!t.hide){this._throttled||(this._throttled={}),this._throttled[t.type]||(this._throttled[t.type]=[]);var n=this._throttled[t.type];n.includes(t.message)?t.hide=!0:(n.unshift(t.message),n.splice(this.throttle))}if(!t.hide||this._debugMode){var a="";t.path&&!t.message.includes(t.path)&&(a+="'".concat(t.path,"' ")),t.time&&(a+="in ".concat(t.time.toFixed(3)," secs ")),t.detail&&(a+="(".concat(t.detail,") "));var o="".concat(this.name," ").concat(t.name,":");t.err||t.data?(console.group(o,t.message,a),t.err&&console.error(t.err.stack||t.err.toString()),t.data&&console.debug(JSON.stringify(t.data,null,4)),console.groupEnd()):console[t.type](o,t.message,a)}var u=this._debugMode?1e3:this.history;return u?(this._logs.unshift(t),this._logs.splice(u)):this._logs=[],t._logged=!0,this.emit(t.type,t),t}}s.LogType={ERROR:"error",WARNING:"warn",WARN:"warn",INFO:"info",LOG:"log",DEBUG:"debug"},s.__category="Logger"},"./global/engine/Tw2MotherLode.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tw2MotherLode",(function(){return n}));class n{constructor(){this._loadedObjects={},this._errors={}}AddError(e,t){return this._errors[e]=this._errors[e]||[],t.message.includes(e)||(t.message="".concat(t.message,' "').concat(e,'"')),this._errors[e].includes(t)||(t.path=e,this._errors[e].unshift(t)),t}GetErrors(e){return e&&e in this._errors?Array.from(this._errors[e]):[]}GetLastError(e){return e&&e in this._errors?this._errors[e][0]:void 0}HasErrors(e){return e&&e in this._errors}Find(e){return e in this._loadedObjects?this._loadedObjects[e]:null}Add(e,t){this._loadedObjects[e]=t}Has(e){return!!this._loadedObjects[e]}Remove(e){this._loadedObjects[e]&&Reflect.deleteProperty(this._loadedObjects,e)}Clear(e){for(var t in this._loadedObjects)this._loadedObjects.hasOwnProperty(t)&&(e&&e(this._loadedObjects[t]),this.Remove(t))}UnloadAndClear(e,t){this.Clear(r=>{r.Unload(t),e&&e(r)})}PurgeInactive(e,t,r){for(var n in this._loadedObjects)if(this._loadedObjects.hasOwnProperty(n)){var i=this._loadedObjects[n];if(i.doNotPurge)continue;if(i.IsPurged()){this.Remove(n);continue}var s=void 0;i.HasErrors()?s="errored":i.IsUnloaded()?s="unloaded":(i.IsLoaded()||i.IsPrepared())&&(e-i.activeFrame)%t>=r&&i.Unload({hide:!0,detail:"inactivity"})&&(s="inactivity"),s&&(i.OnPurged({detail:s}),this.Remove(n))}}}},"./global/engine/Tw2ResMan.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tw2ResMan",(function(){return l}));var n=r("./global/engine/Tw2MotherLode.js"),i=r("./core/resource/Tw2LoadingObject.js"),s=r("./global/class/Tw2EventEmitter.js"),a=r("./core/index.js"),o=r("./global/util/index.js");function u(e,t,r,n,i,s,a){try{var o=e[s](a),u=o.value}catch(e){return void r(e)}o.done?t(u):Promise.resolve(u).then(n,i)}function c(e){return function(){var t=this,r=arguments;return new Promise((function(n,i){var s=e.apply(t,r);function a(e){u(s,n,i,a,o,"next",e)}function o(e){u(s,n,i,a,o,"throw",e)}a(void 0)}))}}class l extends s.Tw2EventEmitter{get pendingLoads(){return this._pendingLoads.length}constructor(e){super(),this.motherLode=new n.Tw2MotherLode,this.systemMirror=!1,this.maxPrepareTime=.05,this.autoPurgeResources=!0,this.activeFrame=0,this.purgeTime=30,this._prepareBudget=0,this._prepareQueue=[],this._purgeTime=0,this._purgeFrame=0,this._purgeFrameLimit=1e3,this._pendingLoads=[],this._noLoadFrames=0,this.tw2=null,e.SetLibrary(this)}Register(e){e&&Object(o.assignIfExists)(this,e,["systemMirror","maxPrepareTime","autoPurgeResources","purgeTime"])}OnPathError(e,t=new a.Tw2Error({path:e})){e=l.NormalizePath(e);var r=this.motherLode.Find(e);return r?r.OnError(t):(this.OnPathEvent(e,"error",t),t)}OnPathEvent(e,t,r={}){var n=this.motherLode.Find(e),i=Object(o.isError)(r)?r:void 0;i&&(this.motherLode.AddError(e,i),r={err:i,message:i.message}),r.path=e,r.message=r.message||t,this.emit(t,e,n,i).msg(l.LogType[t.toUpperCase()],r)}IsLoading(){return this._noLoadFrames<2}Clear(e){this.motherLode.Clear(e)}UnloadAndClear(e,t){this.motherLode.UnloadAndClear(e,t)}Tick(e){0===this._prepareQueue.length&&0===this._pendingLoads.length?this._noLoadFrames<2&&this._noLoadFrames++:this._noLoadFrames=0,this._prepareBudget=this.maxPrepareTime;for(var t=e.now;this._prepareQueue.length;){var r=this._prepareQueue[0][0],n=this._prepareQueue[0][1],i=this._prepareQueue[0][2];this._prepareQueue.shift();try{if(r.Prepare(n,i),this._prepareBudget-=.001*(e.now-t),this._prepareBudget<0)break}catch(e){this._prepareBudget=0,r.OnError(e)}}return this._purgeTime+=e.dt,this._purgeTime>1&&(this.activeFrame+=1,this._purgeTime-=Math.floor(this._purgeTime),this._purgeFrame+=1,this._purgeFrame>=5&&this.autoPurgeResources&&this.motherLode.PurgeInactive(this._purgeFrame,this._purgeFrameLimit,this.purgeTime)),!0}Queue(e,t,r){this._prepareQueue.push([e,t,r])}GetResource(e,t,r){var n;if(e=l.NormalizePath(e),n=this.motherLode.Find(e))return n.RegisterCallbacks(t,r),n;try{n=new(this.GetResourceConstructor(e))}catch(t){return this.OnPathError(e,t),r&&r(t),null}return n.path=e,n.RegisterCallbacks(t,r),this.LoadResource(n)}FetchResource(e){var t=this;return c((function*(){return new Promise((r,n)=>{t.GetResource(e,r,n)})}))()}GetObject(e,t,r){e=l.NormalizePath(e);var n=this.motherLode.Find(e);n?n.AddObject(t,r):((n=new i.Tw2LoadingObject).path=e,n.AddObject(t,r),this.LoadResource(n))}FetchObject(e){var t=this;return c((function*(){return new Promise((r,n)=>{t.GetObject(e,r,n)})}))()}LoadResource(e,t){if(this.motherLode.Add(e.path,e),e.HasErrors())return e;try{var r=this.BuildUrl(e.path);if(e.OnRequested(t),e.DoCustomLoad&&e.DoCustomLoad(r,Object(o.getPathExtension)(r)))return e;e.HasErrors()||this.Fetch(r,e.requestResponseType).then(t=>{e.OnLoaded(),this.Queue(e,t)}).catch(t=>{e.OnError(t)})}catch(t){e.OnError(t)}return e}AddPendingLoad(e){this._pendingLoads.push(e)}RemovePendingLoad(e){var t=this._pendingLoads.indexOf(e);-1!==t&&this._pendingLoads.splice(t,1)}Fetch(e,t){var r=this;return c((function*(){return r.AddPendingLoad(e),fetch(e).then(e=>{if(!e.ok)throw e;if(Object(o.isFunction)(t))return t(e);switch(t){case"arraybuffer":return e.arrayBuffer();case"text":return e.text();case"json":return e.json();case"blob":return e.blob();default:throw new Error("Invalid fetch type: "+t)}}).then(t=>(r.RemovePendingLoad(e),t)).catch(t=>{if(r.RemovePendingLoad(e),t.text)return t.text().then(e=>{var r,{status:n,statusText:i}=t;try{i=(r=JSON.parse(e)).message||r.msg||r.error||r.err,Object(o.isBoolean)(i)&&(i=void 0)}catch(e){i="Failed to fetch resource"}throw new a.ErrHTTPStatus({status:n,statusText:i,json:r})});throw t})}))()}GetResourceConstructor(e){if(0===(e=l.NormalizePath(e)).indexOf("dynamic:/"))throw new a.ErrFeatureNotImplemented({feature:"Dynamic resources"});var t=Object(o.getPathExtension)(e);if(null===t)throw new a.ErrResourceExtensionUndefined({path:e});var r=this.tw2.GetExtension(t);if(!r)throw new a.ErrResourceExtensionUnregistered({path:e,extension:t});return r}BuildUrl(e){var t=e.indexOf(":/");if(-1===t)throw new a.ErrResourcePrefixUndefined({path:e});var r=e.substr(0,t);if("http"===r||"https"===r)return e;var n=this.tw2.GetPath(r);if(!n)throw new a.ErrResourcePrefixUnregistered({path:e,prefix:r});return n+e.substr(t+2)}static NormalizePath(e){return e=(e=e.toLowerCase()).replace("\\","/")}}l.LogType={ERROR:"error",PURGED:"info",UNLOADED:"info",REQUESTED:"info",RELOADING:"info",LOADED:"info",PREPARED:"log",WARNING:"warn",DEBUG:"debug"},l.__category="Resource Manager"},"./global/engine/index.js":function(e,t,r){"use strict";r.r(t);var n=r("./global/engine/Tw2Device.js");r.d(t,"Tw2Device",(function(){return n.Tw2Device}));var i=r("./global/engine/Tw2ResMan.js");r.d(t,"Tw2ResMan",(function(){return i.Tw2ResMan}));var s=r("./global/engine/Tw2Logger.js");r.d(t,"Tw2Logger",(function(){return s.Tw2Logger}));var a=r("./global/engine/Tw2Constant.js");r.d(t,"Type",(function(){return a.Type})),r.d(t,"TypeCategory",(function(){return a.TypeCategory})),r.d(t,"TypeTypeCategory",(function(){return a.TypeTypeCategory})),r.d(t,"TypeLength",(function(){return a.TypeLength})),r.d(t,"GL_COLOR_BUFFER_BIT",(function(){return a.GL_COLOR_BUFFER_BIT})),r.d(t,"GL_DEPTH_BUFFER_BIT",(function(){return a.GL_DEPTH_BUFFER_BIT})),r.d(t,"GL_STENCIL_BUFFER_BIT",(function(){return a.GL_STENCIL_BUFFER_BIT})),r.d(t,"GL_TEXTURE_2D",(function(){return a.GL_TEXTURE_2D})),r.d(t,"GL_TEXTURE_CUBE_MAP",(function(){return a.GL_TEXTURE_CUBE_MAP})),r.d(t,"GL_TEXTURE_3D",(function(){return a.GL_TEXTURE_3D})),r.d(t,"GL_TEXTURE_MAG_FILTER",(function(){return a.GL_TEXTURE_MAG_FILTER})),r.d(t,"GL_TEXTURE_MIN_FILTER",(function(){return a.GL_TEXTURE_MIN_FILTER})),r.d(t,"GL_TEXTURE_WRAP_S",(function(){return a.GL_TEXTURE_WRAP_S})),r.d(t,"GL_TEXTURE_WRAP_T",(function(){return a.GL_TEXTURE_WRAP_T})),r.d(t,"GL_BYTE",(function(){return a.GL_BYTE})),r.d(t,"GL_UNSIGNED_BYTE",(function(){return a.GL_UNSIGNED_BYTE})),r.d(t,"GL_SHORT",(function(){return a.GL_SHORT})),r.d(t,"GL_UNSIGNED_SHORT",(function(){return a.GL_UNSIGNED_SHORT})),r.d(t,"GL_INT",(function(){return a.GL_INT})),r.d(t,"GL_UNSIGNED_INT",(function(){return a.GL_UNSIGNED_INT})),r.d(t,"GL_FLOAT",(function(){return a.GL_FLOAT})),r.d(t,"GL_HALF_FLOAT_OES",(function(){return a.GL_HALF_FLOAT_OES})),r.d(t,"GL_HALF_FLOAT",(function(){return a.GL_HALF_FLOAT})),r.d(t,"GL_DEPTH_COMPONENT16",(function(){return a.GL_DEPTH_COMPONENT16})),r.d(t,"GL_DEPTH_COMPONENT24",(function(){return a.GL_DEPTH_COMPONENT24})),r.d(t,"GL_DEPTH_COMPONENT32F",(function(){return a.GL_DEPTH_COMPONENT32F})),r.d(t,"GL_FLOAT_VEC2",(function(){return a.GL_FLOAT_VEC2})),r.d(t,"GL_FLOAT_VEC3",(function(){return a.GL_FLOAT_VEC3})),r.d(t,"GL_FLOAT_VEC4",(function(){return a.GL_FLOAT_VEC4})),r.d(t,"GL_INT_VEC2",(function(){return a.GL_INT_VEC2})),r.d(t,"GL_INT_VEC3",(function(){return a.GL_INT_VEC3})),r.d(t,"GL_INT_VEC4",(function(){return a.GL_INT_VEC4})),r.d(t,"GL_BOOL",(function(){return a.GL_BOOL})),r.d(t,"GL_BOOL_VEC2",(function(){return a.GL_BOOL_VEC2})),r.d(t,"GL_BOOL_VEC3",(function(){return a.GL_BOOL_VEC3})),r.d(t,"GL_BOOL_VEC4",(function(){return a.GL_BOOL_VEC4})),r.d(t,"GL_FLOAT_MAT2",(function(){return a.GL_FLOAT_MAT2})),r.d(t,"GL_FLOAT_MAT3",(function(){return a.GL_FLOAT_MAT3})),r.d(t,"GL_FLOAT_MAT4",(function(){return a.GL_FLOAT_MAT4})),r.d(t,"GL_TYPE_LENGTH",(function(){return a.GL_TYPE_LENGTH})),r.d(t,"GL_SAMPLER_2D",(function(){return a.GL_SAMPLER_2D})),r.d(t,"GL_SAMPLER_3D",(function(){return a.GL_SAMPLER_3D})),r.d(t,"GL_SAMPLER_CUBE",(function(){return a.GL_SAMPLER_CUBE})),r.d(t,"GL_DEPTH_COMPONENT",(function(){return a.GL_DEPTH_COMPONENT})),r.d(t,"GL_ALPHA",(function(){return a.GL_ALPHA})),r.d(t,"GL_RGB",(function(){return a.GL_RGB})),r.d(t,"GL_RGBA",(function(){return a.GL_RGBA})),r.d(t,"GL_LUMINANCE",(function(){return a.GL_LUMINANCE})),r.d(t,"GL_LUMINANCE_ALPHA",(function(){return a.GL_LUMINANCE_ALPHA})),r.d(t,"GL_DEPTH_STENCIL",(function(){return a.GL_DEPTH_STENCIL})),r.d(t,"GL_UNSIGNED_INT_24_8_WEBGL",(function(){return a.GL_UNSIGNED_INT_24_8_WEBGL})),r.d(t,"GL_R8",(function(){return a.GL_R8})),r.d(t,"GL_R16F",(function(){return a.GL_R16F})),r.d(t,"GL_R32F",(function(){return a.GL_R32F})),r.d(t,"GL_R8UI",(function(){return a.GL_R8UI})),r.d(t,"GL_RG8",(function(){return a.GL_RG8})),r.d(t,"GL_RG16F",(function(){return a.GL_RG16F})),r.d(t,"GL_RG32F",(function(){return a.GL_RG32F})),r.d(t,"GL_RGB8",(function(){return a.GL_RGB8})),r.d(t,"GL_SRGB8",(function(){return a.GL_SRGB8})),r.d(t,"GL_RGB565",(function(){return a.GL_RGB565})),r.d(t,"GL_R11F_G11F_B10F",(function(){return a.GL_R11F_G11F_B10F})),r.d(t,"GL_RGB9_E5",(function(){return a.GL_RGB9_E5})),r.d(t,"GL_RGB16F",(function(){return a.GL_RGB16F})),r.d(t,"GL_RGB32F",(function(){return a.GL_RGB32F})),r.d(t,"GL_RGB8UI",(function(){return a.GL_RGB8UI})),r.d(t,"GL_RGBA8",(function(){return a.GL_RGBA8})),r.d(t,"GL_RGB5_A1",(function(){return a.GL_RGB5_A1})),r.d(t,"GL_RGBA16F",(function(){return a.GL_RGBA16F})),r.d(t,"GL_RGBA32F",(function(){return a.GL_RGBA32F})),r.d(t,"GL_RGBA8UI",(function(){return a.GL_RGBA8UI})),r.d(t,"GL_RGBA16I",(function(){return a.GL_RGBA16I})),r.d(t,"GL_RGBA16UI",(function(){return a.GL_RGBA16UI})),r.d(t,"GL_RGBA32I",(function(){return a.GL_RGBA32I})),r.d(t,"GL_RGBA32UI",(function(){return a.GL_RGBA32UI})),r.d(t,"GL_NEAREST",(function(){return a.GL_NEAREST})),r.d(t,"GL_LINEAR",(function(){return a.GL_LINEAR})),r.d(t,"GL_NEAREST_MIPMAP_NEAREST",(function(){return a.GL_NEAREST_MIPMAP_NEAREST})),r.d(t,"GL_LINEAR_MIPMAP_NEAREST",(function(){return a.GL_LINEAR_MIPMAP_NEAREST})),r.d(t,"GL_NEAREST_MIPMAP_LINEAR",(function(){return a.GL_NEAREST_MIPMAP_LINEAR})),r.d(t,"GL_LINEAR_MIPMAP_LINEAR",(function(){return a.GL_LINEAR_MIPMAP_LINEAR})),r.d(t,"GL_REPEAT",(function(){return a.GL_REPEAT})),r.d(t,"GL_CLAMP_TO_EDGE",(function(){return a.GL_CLAMP_TO_EDGE})),r.d(t,"GL_MIRRORED_REPEAT",(function(){return a.GL_MIRRORED_REPEAT})),r.d(t,"GL_ZERO",(function(){return a.GL_ZERO})),r.d(t,"GL_ONE",(function(){return a.GL_ONE})),r.d(t,"GL_SRC_COLOR",(function(){return a.GL_SRC_COLOR})),r.d(t,"GL_ONE_MINUS_SRC_COLOR",(function(){return a.GL_ONE_MINUS_SRC_COLOR})),r.d(t,"GL_SRC_ALPHA",(function(){return a.GL_SRC_ALPHA})),r.d(t,"GL_ONE_MINUS_SRC_ALPHA",(function(){return a.GL_ONE_MINUS_SRC_ALPHA})),r.d(t,"GL_DST_ALPHA",(function(){return a.GL_DST_ALPHA})),r.d(t,"GL_ONE_MINUS_DST_ALPHA",(function(){return a.GL_ONE_MINUS_DST_ALPHA})),r.d(t,"GL_DST_COLOR",(function(){return a.GL_DST_COLOR})),r.d(t,"GL_ONE_MINUS_DST_COLOR",(function(){return a.GL_ONE_MINUS_DST_COLOR})),r.d(t,"GL_SRC_ALPHA_SATURATE",(function(){return a.GL_SRC_ALPHA_SATURATE})),r.d(t,"GL_CONSTANT_COLOR",(function(){return a.GL_CONSTANT_COLOR})),r.d(t,"GL_ONE_MINUS_CONSTANT_COLOR",(function(){return a.GL_ONE_MINUS_CONSTANT_COLOR})),r.d(t,"GL_CONSTANT_ALPHA",(function(){return a.GL_CONSTANT_ALPHA})),r.d(t,"GL_ONE_MINUS_CONSTANT_ALPHA",(function(){return a.GL_ONE_MINUS_CONSTANT_ALPHA})),r.d(t,"GL_VERTEX_SHADER",(function(){return a.GL_VERTEX_SHADER})),r.d(t,"GL_FRAGMENT_SHADER",(function(){return a.GL_FRAGMENT_SHADER})),r.d(t,"GL_FRONT",(function(){return a.GL_FRONT})),r.d(t,"GL_BACK",(function(){return a.GL_BACK})),r.d(t,"GL_FRONT_AND_BACK",(function(){return a.GL_FRONT_AND_BACK})),r.d(t,"GL_NEVER",(function(){return a.GL_NEVER})),r.d(t,"GL_LESS",(function(){return a.GL_LESS})),r.d(t,"GL_EQUAL",(function(){return a.GL_EQUAL})),r.d(t,"GL_LEQUAL",(function(){return a.GL_LEQUAL})),r.d(t,"GL_GREATER",(function(){return a.GL_GREATER})),r.d(t,"GL_NOTEQUAL",(function(){return a.GL_NOTEQUAL})),r.d(t,"GL_GEQUAL",(function(){return a.GL_GEQUAL})),r.d(t,"GL_ALWAYS",(function(){return a.GL_ALWAYS})),r.d(t,"GL_KEEP",(function(){return a.GL_KEEP})),r.d(t,"GL_REPLACE",(function(){return a.GL_REPLACE})),r.d(t,"GL_INCR",(function(){return a.GL_INCR})),r.d(t,"GL_DECR",(function(){return a.GL_DECR})),r.d(t,"GL_INCR_WRAP",(function(){return a.GL_INCR_WRAP})),r.d(t,"GL_DECR_WRAP",(function(){return a.GL_DECR_WRAP})),r.d(t,"GL_INVERT",(function(){return a.GL_INVERT})),r.d(t,"GL_STREAM_DRAW",(function(){return a.GL_STREAM_DRAW})),r.d(t,"GL_STATIC_DRAW",(function(){return a.GL_STATIC_DRAW})),r.d(t,"GL_DYNAMIC_DRAW",(function(){return a.GL_DYNAMIC_DRAW})),r.d(t,"GL_ARRAY_BUFFER",(function(){return a.GL_ARRAY_BUFFER})),r.d(t,"GL_ELEMENT_ARRAY_BUFFER",(function(){return a.GL_ELEMENT_ARRAY_BUFFER})),r.d(t,"GL_POINTS",(function(){return a.GL_POINTS})),r.d(t,"GL_LINES",(function(){return a.GL_LINES})),r.d(t,"GL_LINE_LOOP",(function(){return a.GL_LINE_LOOP})),r.d(t,"GL_LINE_STRIP",(function(){return a.GL_LINE_STRIP})),r.d(t,"GL_TRIANGLES",(function(){return a.GL_TRIANGLES})),r.d(t,"GL_TRIANGLE_STRIP",(function(){return a.GL_TRIANGLE_STRIP})),r.d(t,"GL_TRIANGLE_FAN",(function(){return a.GL_TRIANGLE_FAN})),r.d(t,"GL_CW",(function(){return a.GL_CW})),r.d(t,"GL_CCW",(function(){return a.GL_CCW})),r.d(t,"GL_CULL_FACE",(function(){return a.GL_CULL_FACE})),r.d(t,"GL_DEPTH_TEST",(function(){return a.GL_DEPTH_TEST})),r.d(t,"GL_BLEND",(function(){return a.GL_BLEND})),r.d(t,"RM_ANY",(function(){return a.RM_ANY})),r.d(t,"RM_OPAQUE",(function(){return a.RM_OPAQUE})),r.d(t,"RM_DECAL",(function(){return a.RM_DECAL})),r.d(t,"RM_TRANSPARENT",(function(){return a.RM_TRANSPARENT})),r.d(t,"RM_ADDITIVE",(function(){return a.RM_ADDITIVE})),r.d(t,"RM_DEPTH",(function(){return a.RM_DEPTH})),r.d(t,"RM_FULLSCREEN",(function(){return a.RM_FULLSCREEN})),r.d(t,"RM_PICKABLE",(function(){return a.RM_PICKABLE})),r.d(t,"RM_DISTORTION",(function(){return a.RM_DISTORTION})),r.d(t,"RS_ZENABLE",(function(){return a.RS_ZENABLE})),r.d(t,"RS_FILLMODE",(function(){return a.RS_FILLMODE})),r.d(t,"RS_SHADEMODE",(function(){return a.RS_SHADEMODE})),r.d(t,"RS_ZWRITEENABLE",(function(){return a.RS_ZWRITEENABLE})),r.d(t,"RS_ALPHATESTENABLE",(function(){return a.RS_ALPHATESTENABLE})),r.d(t,"RS_LASTPIXEL",(function(){return a.RS_LASTPIXEL})),r.d(t,"RS_SRCBLEND",(function(){return a.RS_SRCBLEND})),r.d(t,"RS_DESTBLEND",(function(){return a.RS_DESTBLEND})),r.d(t,"RS_CULLMODE",(function(){return a.RS_CULLMODE})),r.d(t,"RS_ZFUNC",(function(){return a.RS_ZFUNC})),r.d(t,"RS_ALPHAREF",(function(){return a.RS_ALPHAREF})),r.d(t,"RS_ALPHAFUNC",(function(){return a.RS_ALPHAFUNC})),r.d(t,"RS_DITHERENABLE",(function(){return a.RS_DITHERENABLE})),r.d(t,"RS_ALPHABLENDENABLE",(function(){return a.RS_ALPHABLENDENABLE})),r.d(t,"RS_FOGENABLE",(function(){return a.RS_FOGENABLE})),r.d(t,"RS_SPECULARENABLE",(function(){return a.RS_SPECULARENABLE})),r.d(t,"RS_FOGCOLOR",(function(){return a.RS_FOGCOLOR})),r.d(t,"RS_FOGTABLEMODE",(function(){return a.RS_FOGTABLEMODE})),r.d(t,"RS_FOGSTART",(function(){return a.RS_FOGSTART})),r.d(t,"RS_FOGEND",(function(){return a.RS_FOGEND})),r.d(t,"RS_FOGDENSITY",(function(){return a.RS_FOGDENSITY})),r.d(t,"RS_RANGEFOGENABLE",(function(){return a.RS_RANGEFOGENABLE})),r.d(t,"RS_STENCILENABLE",(function(){return a.RS_STENCILENABLE})),r.d(t,"RS_STENCILFAIL",(function(){return a.RS_STENCILFAIL})),r.d(t,"RS_STENCILZFAIL",(function(){return a.RS_STENCILZFAIL})),r.d(t,"RS_STENCILPASS",(function(){return a.RS_STENCILPASS})),r.d(t,"RS_STENCILFUNC",(function(){return a.RS_STENCILFUNC})),r.d(t,"RS_STENCILREF",(function(){return a.RS_STENCILREF})),r.d(t,"RS_STENCILMASK",(function(){return a.RS_STENCILMASK})),r.d(t,"RS_STENCILWRITEMASK",(function(){return a.RS_STENCILWRITEMASK})),r.d(t,"RS_TEXTUREFACTOR",(function(){return a.RS_TEXTUREFACTOR})),r.d(t,"RS_WRAP0",(function(){return a.RS_WRAP0})),r.d(t,"RS_WRAP1",(function(){return a.RS_WRAP1})),r.d(t,"RS_WRAP2",(function(){return a.RS_WRAP2})),r.d(t,"RS_WRAP3",(function(){return a.RS_WRAP3})),r.d(t,"RS_WRAP4",(function(){return a.RS_WRAP4})),r.d(t,"RS_WRAP5",(function(){return a.RS_WRAP5})),r.d(t,"RS_WRAP6",(function(){return a.RS_WRAP6})),r.d(t,"RS_WRAP7",(function(){return a.RS_WRAP7})),r.d(t,"RS_CLIPPING",(function(){return a.RS_CLIPPING})),r.d(t,"RS_LIGHTING",(function(){return a.RS_LIGHTING})),r.d(t,"RS_AMBIENT",(function(){return a.RS_AMBIENT})),r.d(t,"RS_FOGVERTEXMODE",(function(){return a.RS_FOGVERTEXMODE})),r.d(t,"RS_COLORVERTEX",(function(){return a.RS_COLORVERTEX})),r.d(t,"RS_LOCALVIEWER",(function(){return a.RS_LOCALVIEWER})),r.d(t,"RS_NORMALIZENORMALS",(function(){return a.RS_NORMALIZENORMALS})),r.d(t,"RS_DIFFUSEMATERIALSOURCE",(function(){return a.RS_DIFFUSEMATERIALSOURCE})),r.d(t,"RS_SPECULARMATERIALSOURCE",(function(){return a.RS_SPECULARMATERIALSOURCE})),r.d(t,"RS_AMBIENTMATERIALSOURCE",(function(){return a.RS_AMBIENTMATERIALSOURCE})),r.d(t,"RS_EMISSIVEMATERIALSOURCE",(function(){return a.RS_EMISSIVEMATERIALSOURCE})),r.d(t,"RS_VERTEXBLEND",(function(){return a.RS_VERTEXBLEND})),r.d(t,"RS_CLIPPLANEENABLE",(function(){return a.RS_CLIPPLANEENABLE})),r.d(t,"RS_POINTSIZE",(function(){return a.RS_POINTSIZE})),r.d(t,"RS_POINTSIZE_MIN",(function(){return a.RS_POINTSIZE_MIN})),r.d(t,"RS_POINTSPRITEENABLE",(function(){return a.RS_POINTSPRITEENABLE})),r.d(t,"RS_POINTSCALEENABLE",(function(){return a.RS_POINTSCALEENABLE})),r.d(t,"RS_POINTSCALE_A",(function(){return a.RS_POINTSCALE_A})),r.d(t,"RS_POINTSCALE_B",(function(){return a.RS_POINTSCALE_B})),r.d(t,"RS_POINTSCALE_C",(function(){return a.RS_POINTSCALE_C})),r.d(t,"RS_MULTISAMPLEANTIALIAS",(function(){return a.RS_MULTISAMPLEANTIALIAS})),r.d(t,"RS_MULTISAMPLEMASK",(function(){return a.RS_MULTISAMPLEMASK})),r.d(t,"RS_PATCHEDGESTYLE",(function(){return a.RS_PATCHEDGESTYLE})),r.d(t,"RS_DEBUGMONITORTOKEN",(function(){return a.RS_DEBUGMONITORTOKEN})),r.d(t,"RS_POINTSIZE_MAX",(function(){return a.RS_POINTSIZE_MAX})),r.d(t,"RS_INDEXEDVERTEXBLENDENABLE",(function(){return a.RS_INDEXEDVERTEXBLENDENABLE})),r.d(t,"RS_COLORWRITEENABLE",(function(){return a.RS_COLORWRITEENABLE})),r.d(t,"RS_TWEENFACTOR",(function(){return a.RS_TWEENFACTOR})),r.d(t,"RS_BLENDOP",(function(){return a.RS_BLENDOP})),r.d(t,"RS_POSITIONDEGREE",(function(){return a.RS_POSITIONDEGREE})),r.d(t,"RS_NORMALDEGREE",(function(){return a.RS_NORMALDEGREE})),r.d(t,"RS_SCISSORTESTENABLE",(function(){return a.RS_SCISSORTESTENABLE})),r.d(t,"RS_SLOPESCALEDEPTHBIAS",(function(){return a.RS_SLOPESCALEDEPTHBIAS})),r.d(t,"RS_ANTIALIASEDLINEENABLE",(function(){return a.RS_ANTIALIASEDLINEENABLE})),r.d(t,"RS_TWOSIDEDSTENCILMODE",(function(){return a.RS_TWOSIDEDSTENCILMODE})),r.d(t,"RS_CCW_STENCILFAIL",(function(){return a.RS_CCW_STENCILFAIL})),r.d(t,"RS_CCW_STENCILZFAIL",(function(){return a.RS_CCW_STENCILZFAIL})),r.d(t,"RS_CCW_STENCILPASS",(function(){return a.RS_CCW_STENCILPASS})),r.d(t,"RS_CCW_STENCILFUNC",(function(){return a.RS_CCW_STENCILFUNC})),r.d(t,"RS_COLORWRITEENABLE1",(function(){return a.RS_COLORWRITEENABLE1})),r.d(t,"RS_COLORWRITEENABLE2",(function(){return a.RS_COLORWRITEENABLE2})),r.d(t,"RS_COLORWRITEENABLE3",(function(){return a.RS_COLORWRITEENABLE3})),r.d(t,"RS_BLENDFACTOR",(function(){return a.RS_BLENDFACTOR})),r.d(t,"RS_SRGBWRITEENABLE",(function(){return a.RS_SRGBWRITEENABLE})),r.d(t,"RS_DEPTHBIAS",(function(){return a.RS_DEPTHBIAS})),r.d(t,"RS_SEPARATEALPHABLENDENABLE",(function(){return a.RS_SEPARATEALPHABLENDENABLE})),r.d(t,"RS_SRCBLENDALPHA",(function(){return a.RS_SRCBLENDALPHA})),r.d(t,"RS_DESTBLENDALPHA",(function(){return a.RS_DESTBLENDALPHA})),r.d(t,"RS_BLENDOPALPHA",(function(){return a.RS_BLENDOPALPHA})),r.d(t,"CULL_NONE",(function(){return a.CULL_NONE})),r.d(t,"CULL_CW",(function(){return a.CULL_CW})),r.d(t,"CULL_CCW",(function(){return a.CULL_CCW})),r.d(t,"CMP_NEVER",(function(){return a.CMP_NEVER})),r.d(t,"CMP_LESS",(function(){return a.CMP_LESS})),r.d(t,"CMP_EQUAL",(function(){return a.CMP_EQUAL})),r.d(t,"CMP_LEQUAL",(function(){return a.CMP_LEQUAL})),r.d(t,"CMP_GREATER",(function(){return a.CMP_GREATER})),r.d(t,"CMP_NOTEQUAL",(function(){return a.CMP_NOTEQUAL})),r.d(t,"CMP_GREATEREQUAL",(function(){return a.CMP_GREATEREQUAL})),r.d(t,"CMP_ALWAYS",(function(){return a.CMP_ALWAYS})),r.d(t,"BLEND_ZERO",(function(){return a.BLEND_ZERO})),r.d(t,"BLEND_ONE",(function(){return a.BLEND_ONE})),r.d(t,"BLEND_SRCCOLOR",(function(){return a.BLEND_SRCCOLOR})),r.d(t,"BLEND_INVSRCCOLOR",(function(){return a.BLEND_INVSRCCOLOR})),r.d(t,"BLEND_SRCALPHA",(function(){return a.BLEND_SRCALPHA})),r.d(t,"BLEND_INVSRCALPHA",(function(){return a.BLEND_INVSRCALPHA})),r.d(t,"BLEND_DESTALPHA",(function(){return a.BLEND_DESTALPHA})),r.d(t,"BLEND_INVDESTALPHA",(function(){return a.BLEND_INVDESTALPHA})),r.d(t,"BLEND_DESTCOLOR",(function(){return a.BLEND_DESTCOLOR})),r.d(t,"BLEND_INVDESTCOLOR",(function(){return a.BLEND_INVDESTCOLOR})),r.d(t,"BLEND_SRCALPHASAT",(function(){return a.BLEND_SRCALPHASAT})),r.d(t,"BLEND_BOTHSRCALPHA",(function(){return a.BLEND_BOTHSRCALPHA})),r.d(t,"BLEND_BOTHINVSRCALPHA",(function(){return a.BLEND_BOTHINVSRCALPHA})),r.d(t,"BLEND_BLENDFACTOR",(function(){return a.BLEND_BLENDFACTOR})),r.d(t,"BLEND_INVBLENDFACTOR",(function(){return a.BLEND_INVBLENDFACTOR})),r.d(t,"BLENDOP_ADD",(function(){return a.BLENDOP_ADD})),r.d(t,"BLENDOP_SUBTRACT",(function(){return a.BLENDOP_SUBTRACT})),r.d(t,"BLENDOP_REVSUBTRACT",(function(){return a.BLENDOP_REVSUBTRACT})),r.d(t,"BLENDOP_MIN",(function(){return a.BLENDOP_MIN})),r.d(t,"BLENDOP_MAX",(function(){return a.BLENDOP_MAX})),r.d(t,"TF_ALPHA",(function(){return a.TF_ALPHA})),r.d(t,"TF_LUMINANCE",(function(){return a.TF_LUMINANCE})),r.d(t,"TF_LUMINANCE_ALPHA",(function(){return a.TF_LUMINANCE_ALPHA})),r.d(t,"TF_RGB",(function(){return a.TF_RGB})),r.d(t,"TF_RGBA",(function(){return a.TF_RGBA})),r.d(t,"TF_RED",(function(){return a.TF_RED})),r.d(t,"TF_R",(function(){return a.TF_R})),r.d(t,"TF_RG",(function(){return a.TF_RG})),r.d(t,"TF_RED_INTEGER",(function(){return a.TF_RED_INTEGER})),r.d(t,"TF_R_INTEGER",(function(){return a.TF_R_INTEGER})),r.d(t,"TF_RG_INTEGER",(function(){return a.TF_RG_INTEGER})),r.d(t,"TF_RGB_INTEGER",(function(){return a.TF_RGB_INTEGER})),r.d(t,"TF_RGBA_INTEGER",(function(){return a.TF_RGBA_INTEGER})),r.d(t,"TT_UNSIGNED_BYTE",(function(){return a.TT_UNSIGNED_BYTE})),r.d(t,"TT_UNSIGNED_INT",(function(){return a.TT_UNSIGNED_INT})),r.d(t,"TT_FLOAT",(function(){return a.TT_FLOAT})),r.d(t,"TT_HALF_FLOAT",(function(){return a.TT_HALF_FLOAT})),r.d(t,"TT_BYTE",(function(){return a.TT_BYTE})),r.d(t,"TT_SHORT",(function(){return a.TT_SHORT})),r.d(t,"TT_UNSIGNED_SHORT",(function(){return a.TT_UNSIGNED_SHORT})),r.d(t,"TT_INT",(function(){return a.TT_INT})),r.d(t,"TT_UNSIGNED_INTEGER",(function(){return a.TT_UNSIGNED_INTEGER})),r.d(t,"TT_UNSIGNED_SHORT_4_4_4_4",(function(){return a.TT_UNSIGNED_SHORT_4_4_4_4})),r.d(t,"TT_UNSIGNED_SHORT_5_5_5_1",(function(){return a.TT_UNSIGNED_SHORT_5_5_5_1})),r.d(t,"TT_UNSIGNED_SHORT_5_6_5",(function(){return a.TT_UNSIGNED_SHORT_5_6_5})),r.d(t,"TT_UNSIGNED_INT_2_10_10_10_REV",(function(){return a.TT_UNSIGNED_INT_2_10_10_10_REV})),r.d(t,"TT_UNSIGNED_INT_24_8",(function(){return a.TT_UNSIGNED_INT_24_8})),r.d(t,"TT_UNSIGNED_INT_10F_11F_11F_REV",(function(){return a.TT_UNSIGNED_INT_10F_11F_11F_REV})),r.d(t,"TT_UNSIGNED_INT_5_9_9_9_REV",(function(){return a.TT_UNSIGNED_INT_5_9_9_9_REV})),r.d(t,"TT_FLOAT_32_UNSIGNED_INT_24_8_REV",(function(){return a.TT_FLOAT_32_UNSIGNED_INT_24_8_REV})),r.d(t,"WrapModes",(function(){return a.WrapModes})),r.d(t,"BlendTable",(function(){return a.BlendTable})),r.d(t,"FilterMode",(function(){return a.FilterMode})),r.d(t,"MipFilterMode",(function(){return a.MipFilterMode})),r.d(t,"DDS_MAGIC",(function(){return a.DDS_MAGIC})),r.d(t,"DDSD_CAPS",(function(){return a.DDSD_CAPS})),r.d(t,"DDSD_HEIGHT",(function(){return a.DDSD_HEIGHT})),r.d(t,"DDSD_WIDTH",(function(){return a.DDSD_WIDTH})),r.d(t,"DDSD_PITCH",(function(){return a.DDSD_PITCH})),r.d(t,"DDSD_PIXELFORMAT",(function(){return a.DDSD_PIXELFORMAT})),r.d(t,"DDSD_MIPMAPCOUNT",(function(){return a.DDSD_MIPMAPCOUNT})),r.d(t,"DDSD_LINEARSIZE",(function(){return a.DDSD_LINEARSIZE})),r.d(t,"DDSD_DEPTH",(function(){return a.DDSD_DEPTH})),r.d(t,"DDSCAPS_COMPLEX",(function(){return a.DDSCAPS_COMPLEX})),r.d(t,"DDSCAPS_MIPMAP",(function(){return a.DDSCAPS_MIPMAP})),r.d(t,"DDSCAPS_TEXTURE",(function(){return a.DDSCAPS_TEXTURE})),r.d(t,"DDSCAPS2_CUBEMAP",(function(){return a.DDSCAPS2_CUBEMAP})),r.d(t,"DDSCAPS2_CUBEMAP_POSITIVEX",(function(){return a.DDSCAPS2_CUBEMAP_POSITIVEX})),r.d(t,"DDSCAPS2_CUBEMAP_NEGATIVEX",(function(){return a.DDSCAPS2_CUBEMAP_NEGATIVEX})),r.d(t,"DDSCAPS2_CUBEMAP_POSITIVEY",(function(){return a.DDSCAPS2_CUBEMAP_POSITIVEY})),r.d(t,"DDSCAPS2_CUBEMAP_NEGATIVEY",(function(){return a.DDSCAPS2_CUBEMAP_NEGATIVEY})),r.d(t,"DDSCAPS2_CUBEMAP_POSITIVEZ",(function(){return a.DDSCAPS2_CUBEMAP_POSITIVEZ})),r.d(t,"DDSCAPS2_CUBEMAP_NEGATIVEZ",(function(){return a.DDSCAPS2_CUBEMAP_NEGATIVEZ})),r.d(t,"DDSCAPS2_VOLUME",(function(){return a.DDSCAPS2_VOLUME})),r.d(t,"DDPF_ALPHAPIXELS",(function(){return a.DDPF_ALPHAPIXELS})),r.d(t,"DDPF_ALPHA",(function(){return a.DDPF_ALPHA})),r.d(t,"DDPF_FOURCC",(function(){return a.DDPF_FOURCC})),r.d(t,"DDPF_RGB",(function(){return a.DDPF_RGB})),r.d(t,"DDPF_YUV",(function(){return a.DDPF_YUV})),r.d(t,"DDPF_LUMINANCE",(function(){return a.DDPF_LUMINANCE})),r.d(t,"DDS_HEADER_LENGTH_INT",(function(){return a.DDS_HEADER_LENGTH_INT})),r.d(t,"DDS_HEADER_OFFSET_MAGIC",(function(){return a.DDS_HEADER_OFFSET_MAGIC})),r.d(t,"DDS_HEADER_OFFSET_SIZE",(function(){return a.DDS_HEADER_OFFSET_SIZE})),r.d(t,"DDS_HEADER_OFFSET_FLAGS",(function(){return a.DDS_HEADER_OFFSET_FLAGS})),r.d(t,"DDS_HEADER_OFFSET_HEIGHT",(function(){return a.DDS_HEADER_OFFSET_HEIGHT})),r.d(t,"DDS_HEADER_OFFSET_WIDTH",(function(){return a.DDS_HEADER_OFFSET_WIDTH})),r.d(t,"DDS_HEADER_OFFSET_MIPMAP_COUNT",(function(){return a.DDS_HEADER_OFFSET_MIPMAP_COUNT})),r.d(t,"DDS_HEADER_OFFSET_PF_FLAGS",(function(){return a.DDS_HEADER_OFFSET_PF_FLAGS})),r.d(t,"DDS_HEADER_OFFSET_PF_FOURCC",(function(){return a.DDS_HEADER_OFFSET_PF_FOURCC})),r.d(t,"DDS_HEADER_OFFSET_RGB_BPP",(function(){return a.DDS_HEADER_OFFSET_RGB_BPP})),r.d(t,"DDS_HEADER_OFFSET_R_MASK",(function(){return a.DDS_HEADER_OFFSET_R_MASK})),r.d(t,"DDS_HEADER_OFFSET_G_MASK",(function(){return a.DDS_HEADER_OFFSET_G_MASK})),r.d(t,"DDS_HEADER_OFFSET_B_MASK",(function(){return a.DDS_HEADER_OFFSET_B_MASK})),r.d(t,"DDS_HEADER_OFFSET_A_MASK",(function(){return a.DDS_HEADER_OFFSET_A_MASK})),r.d(t,"DDS_HEADER_OFFSET_CAPS1",(function(){return a.DDS_HEADER_OFFSET_CAPS1})),r.d(t,"DDS_HEADER_OFFSET_CAPS2",(function(){return a.DDS_HEADER_OFFSET_CAPS2})),r.d(t,"DDS_HEADER_OFFSET_CAPS3",(function(){return a.DDS_HEADER_OFFSET_CAPS3})),r.d(t,"DDS_HEADER_OFFSET_CAPS4",(function(){return a.DDS_HEADER_OFFSET_CAPS4})),r.d(t,"DDS_HEADER_OFFSET_DXGI_FORMAT",(function(){return a.DDS_HEADER_OFFSET_DXGI_FORMAT})),r.d(t,"FOURCC_DXT1",(function(){return a.FOURCC_DXT1})),r.d(t,"FOURCC_DXT5",(function(){return a.FOURCC_DXT5})),r.d(t,"FOURCC_DXT3",(function(){return a.FOURCC_DXT3})),r.d(t,"FOURCC_DXT10",(function(){return a.FOURCC_DXT10})),r.d(t,"FOURCC_D3DFMT_R16G16B16A16F",(function(){return a.FOURCC_D3DFMT_R16G16B16A16F})),r.d(t,"FOURCC_D3DFMT_R32G32B32A32F",(function(){return a.FOURCC_D3DFMT_R32G32B32A32F})),r.d(t,"DXGI_FORMAT_R16G16B16A16_FLOAT",(function(){return a.DXGI_FORMAT_R16G16B16A16_FLOAT})),r.d(t,"DXGI_FORMAT_B8G8R8X8_UNORM",(function(){return a.DXGI_FORMAT_B8G8R8X8_UNORM})),r.d(t,"VendorRequestAnimationFrame",(function(){return a.VendorRequestAnimationFrame})),r.d(t,"VendorCancelAnimationFrame",(function(){return a.VendorCancelAnimationFrame})),r.d(t,"VendorRequestFullScreen",(function(){return a.VendorRequestFullScreen})),r.d(t,"VendorExitFullScreen",(function(){return a.VendorExitFullScreen})),r.d(t,"VendorGetFullScreenElement",(function(){return a.VendorGetFullScreenElement})),r.d(t,"VendorWebglPrefixes",(function(){return a.VendorWebglPrefixes}))},"./global/index.js":function(e,t,r){"use strict";r.r(t);var n=r("./global/meta/index.js");r.d(t,"meta",(function(){return n}));var i=r("./global/util/index.js");r.d(t,"util",(function(){return i}));var s=r("./global/class/index.js");r.d(t,"Tw2BaseClass",(function(){return s.Tw2BaseClass})),r.d(t,"Tw2EventEmitter",(function(){return s.Tw2EventEmitter})),r.d(t,"Tw2Notifications",(function(){return s.Tw2Notifications})),r.d(t,"Tw2Schema",(function(){return s.Tw2Schema}));var a=r("./global/engine/Tw2Constant.js");r.d(t,"Type",(function(){return a.Type})),r.d(t,"TypeCategory",(function(){return a.TypeCategory})),r.d(t,"TypeTypeCategory",(function(){return a.TypeTypeCategory})),r.d(t,"TypeLength",(function(){return a.TypeLength})),r.d(t,"GL_COLOR_BUFFER_BIT",(function(){return a.GL_COLOR_BUFFER_BIT})),r.d(t,"GL_DEPTH_BUFFER_BIT",(function(){return a.GL_DEPTH_BUFFER_BIT})),r.d(t,"GL_STENCIL_BUFFER_BIT",(function(){return a.GL_STENCIL_BUFFER_BIT})),r.d(t,"GL_TEXTURE_2D",(function(){return a.GL_TEXTURE_2D})),r.d(t,"GL_TEXTURE_CUBE_MAP",(function(){return a.GL_TEXTURE_CUBE_MAP})),r.d(t,"GL_TEXTURE_3D",(function(){return a.GL_TEXTURE_3D})),r.d(t,"GL_TEXTURE_MAG_FILTER",(function(){return a.GL_TEXTURE_MAG_FILTER})),r.d(t,"GL_TEXTURE_MIN_FILTER",(function(){return a.GL_TEXTURE_MIN_FILTER})),r.d(t,"GL_TEXTURE_WRAP_S",(function(){return a.GL_TEXTURE_WRAP_S})),r.d(t,"GL_TEXTURE_WRAP_T",(function(){return a.GL_TEXTURE_WRAP_T})),r.d(t,"GL_BYTE",(function(){return a.GL_BYTE})),r.d(t,"GL_UNSIGNED_BYTE",(function(){return a.GL_UNSIGNED_BYTE})),r.d(t,"GL_SHORT",(function(){return a.GL_SHORT})),r.d(t,"GL_UNSIGNED_SHORT",(function(){return a.GL_UNSIGNED_SHORT})),r.d(t,"GL_INT",(function(){return a.GL_INT})),r.d(t,"GL_UNSIGNED_INT",(function(){return a.GL_UNSIGNED_INT})),r.d(t,"GL_FLOAT",(function(){return a.GL_FLOAT})),r.d(t,"GL_HALF_FLOAT_OES",(function(){return a.GL_HALF_FLOAT_OES})),r.d(t,"GL_HALF_FLOAT",(function(){return a.GL_HALF_FLOAT})),r.d(t,"GL_DEPTH_COMPONENT16",(function(){return a.GL_DEPTH_COMPONENT16})),r.d(t,"GL_DEPTH_COMPONENT24",(function(){return a.GL_DEPTH_COMPONENT24})),r.d(t,"GL_DEPTH_COMPONENT32F",(function(){return a.GL_DEPTH_COMPONENT32F})),r.d(t,"GL_FLOAT_VEC2",(function(){return a.GL_FLOAT_VEC2})),r.d(t,"GL_FLOAT_VEC3",(function(){return a.GL_FLOAT_VEC3})),r.d(t,"GL_FLOAT_VEC4",(function(){return a.GL_FLOAT_VEC4})),r.d(t,"GL_INT_VEC2",(function(){return a.GL_INT_VEC2})),r.d(t,"GL_INT_VEC3",(function(){return a.GL_INT_VEC3})),r.d(t,"GL_INT_VEC4",(function(){return a.GL_INT_VEC4})),r.d(t,"GL_BOOL",(function(){return a.GL_BOOL})),r.d(t,"GL_BOOL_VEC2",(function(){return a.GL_BOOL_VEC2})),r.d(t,"GL_BOOL_VEC3",(function(){return a.GL_BOOL_VEC3})),r.d(t,"GL_BOOL_VEC4",(function(){return a.GL_BOOL_VEC4})),r.d(t,"GL_FLOAT_MAT2",(function(){return a.GL_FLOAT_MAT2})),r.d(t,"GL_FLOAT_MAT3",(function(){return a.GL_FLOAT_MAT3})),r.d(t,"GL_FLOAT_MAT4",(function(){return a.GL_FLOAT_MAT4})),r.d(t,"GL_TYPE_LENGTH",(function(){return a.GL_TYPE_LENGTH})),r.d(t,"GL_SAMPLER_2D",(function(){return a.GL_SAMPLER_2D})),r.d(t,"GL_SAMPLER_3D",(function(){return a.GL_SAMPLER_3D})),r.d(t,"GL_SAMPLER_CUBE",(function(){return a.GL_SAMPLER_CUBE})),r.d(t,"GL_DEPTH_COMPONENT",(function(){return a.GL_DEPTH_COMPONENT})),r.d(t,"GL_ALPHA",(function(){return a.GL_ALPHA})),r.d(t,"GL_RGB",(function(){return a.GL_RGB})),r.d(t,"GL_RGBA",(function(){return a.GL_RGBA})),r.d(t,"GL_LUMINANCE",(function(){return a.GL_LUMINANCE})),r.d(t,"GL_LUMINANCE_ALPHA",(function(){return a.GL_LUMINANCE_ALPHA})),r.d(t,"GL_DEPTH_STENCIL",(function(){return a.GL_DEPTH_STENCIL})),r.d(t,"GL_UNSIGNED_INT_24_8_WEBGL",(function(){return a.GL_UNSIGNED_INT_24_8_WEBGL})),r.d(t,"GL_R8",(function(){return a.GL_R8})),r.d(t,"GL_R16F",(function(){return a.GL_R16F})),r.d(t,"GL_R32F",(function(){return a.GL_R32F})),r.d(t,"GL_R8UI",(function(){return a.GL_R8UI})),r.d(t,"GL_RG8",(function(){return a.GL_RG8})),r.d(t,"GL_RG16F",(function(){return a.GL_RG16F})),r.d(t,"GL_RG32F",(function(){return a.GL_RG32F})),r.d(t,"GL_RGB8",(function(){return a.GL_RGB8})),r.d(t,"GL_SRGB8",(function(){return a.GL_SRGB8})),r.d(t,"GL_RGB565",(function(){return a.GL_RGB565})),r.d(t,"GL_R11F_G11F_B10F",(function(){return a.GL_R11F_G11F_B10F})),r.d(t,"GL_RGB9_E5",(function(){return a.GL_RGB9_E5})),r.d(t,"GL_RGB16F",(function(){return a.GL_RGB16F})),r.d(t,"GL_RGB32F",(function(){return a.GL_RGB32F})),r.d(t,"GL_RGB8UI",(function(){return a.GL_RGB8UI})),r.d(t,"GL_RGBA8",(function(){return a.GL_RGBA8})),r.d(t,"GL_RGB5_A1",(function(){return a.GL_RGB5_A1})),r.d(t,"GL_RGBA16F",(function(){return a.GL_RGBA16F})),r.d(t,"GL_RGBA32F",(function(){return a.GL_RGBA32F})),r.d(t,"GL_RGBA8UI",(function(){return a.GL_RGBA8UI})),r.d(t,"GL_RGBA16I",(function(){return a.GL_RGBA16I})),r.d(t,"GL_RGBA16UI",(function(){return a.GL_RGBA16UI})),r.d(t,"GL_RGBA32I",(function(){return a.GL_RGBA32I})),r.d(t,"GL_RGBA32UI",(function(){return a.GL_RGBA32UI})),r.d(t,"GL_NEAREST",(function(){return a.GL_NEAREST})),r.d(t,"GL_LINEAR",(function(){return a.GL_LINEAR})),r.d(t,"GL_NEAREST_MIPMAP_NEAREST",(function(){return a.GL_NEAREST_MIPMAP_NEAREST})),r.d(t,"GL_LINEAR_MIPMAP_NEAREST",(function(){return a.GL_LINEAR_MIPMAP_NEAREST})),r.d(t,"GL_NEAREST_MIPMAP_LINEAR",(function(){return a.GL_NEAREST_MIPMAP_LINEAR})),r.d(t,"GL_LINEAR_MIPMAP_LINEAR",(function(){return a.GL_LINEAR_MIPMAP_LINEAR})),r.d(t,"GL_REPEAT",(function(){return a.GL_REPEAT})),r.d(t,"GL_CLAMP_TO_EDGE",(function(){return a.GL_CLAMP_TO_EDGE})),r.d(t,"GL_MIRRORED_REPEAT",(function(){return a.GL_MIRRORED_REPEAT})),r.d(t,"GL_ZERO",(function(){return a.GL_ZERO})),r.d(t,"GL_ONE",(function(){return a.GL_ONE})),r.d(t,"GL_SRC_COLOR",(function(){return a.GL_SRC_COLOR})),r.d(t,"GL_ONE_MINUS_SRC_COLOR",(function(){return a.GL_ONE_MINUS_SRC_COLOR})),r.d(t,"GL_SRC_ALPHA",(function(){return a.GL_SRC_ALPHA})),r.d(t,"GL_ONE_MINUS_SRC_ALPHA",(function(){return a.GL_ONE_MINUS_SRC_ALPHA})),r.d(t,"GL_DST_ALPHA",(function(){return a.GL_DST_ALPHA})),r.d(t,"GL_ONE_MINUS_DST_ALPHA",(function(){return a.GL_ONE_MINUS_DST_ALPHA})),r.d(t,"GL_DST_COLOR",(function(){return a.GL_DST_COLOR})),r.d(t,"GL_ONE_MINUS_DST_COLOR",(function(){return a.GL_ONE_MINUS_DST_COLOR})),r.d(t,"GL_SRC_ALPHA_SATURATE",(function(){return a.GL_SRC_ALPHA_SATURATE})),r.d(t,"GL_CONSTANT_COLOR",(function(){return a.GL_CONSTANT_COLOR})),r.d(t,"GL_ONE_MINUS_CONSTANT_COLOR",(function(){return a.GL_ONE_MINUS_CONSTANT_COLOR})),r.d(t,"GL_CONSTANT_ALPHA",(function(){return a.GL_CONSTANT_ALPHA})),r.d(t,"GL_ONE_MINUS_CONSTANT_ALPHA",(function(){return a.GL_ONE_MINUS_CONSTANT_ALPHA})),r.d(t,"GL_VERTEX_SHADER",(function(){return a.GL_VERTEX_SHADER})),r.d(t,"GL_FRAGMENT_SHADER",(function(){return a.GL_FRAGMENT_SHADER})),r.d(t,"GL_FRONT",(function(){return a.GL_FRONT})),r.d(t,"GL_BACK",(function(){return a.GL_BACK})),r.d(t,"GL_FRONT_AND_BACK",(function(){return a.GL_FRONT_AND_BACK})),r.d(t,"GL_NEVER",(function(){return a.GL_NEVER})),r.d(t,"GL_LESS",(function(){return a.GL_LESS})),r.d(t,"GL_EQUAL",(function(){return a.GL_EQUAL})),r.d(t,"GL_LEQUAL",(function(){return a.GL_LEQUAL})),r.d(t,"GL_GREATER",(function(){return a.GL_GREATER})),r.d(t,"GL_NOTEQUAL",(function(){return a.GL_NOTEQUAL})),r.d(t,"GL_GEQUAL",(function(){return a.GL_GEQUAL})),r.d(t,"GL_ALWAYS",(function(){return a.GL_ALWAYS})),r.d(t,"GL_KEEP",(function(){return a.GL_KEEP})),r.d(t,"GL_REPLACE",(function(){return a.GL_REPLACE})),r.d(t,"GL_INCR",(function(){return a.GL_INCR})),r.d(t,"GL_DECR",(function(){return a.GL_DECR})),r.d(t,"GL_INCR_WRAP",(function(){return a.GL_INCR_WRAP})),r.d(t,"GL_DECR_WRAP",(function(){return a.GL_DECR_WRAP})),r.d(t,"GL_INVERT",(function(){return a.GL_INVERT})),r.d(t,"GL_STREAM_DRAW",(function(){return a.GL_STREAM_DRAW})),r.d(t,"GL_STATIC_DRAW",(function(){return a.GL_STATIC_DRAW})),r.d(t,"GL_DYNAMIC_DRAW",(function(){return a.GL_DYNAMIC_DRAW})),r.d(t,"GL_ARRAY_BUFFER",(function(){return a.GL_ARRAY_BUFFER})),r.d(t,"GL_ELEMENT_ARRAY_BUFFER",(function(){return a.GL_ELEMENT_ARRAY_BUFFER})),r.d(t,"GL_POINTS",(function(){return a.GL_POINTS})),r.d(t,"GL_LINES",(function(){return a.GL_LINES})),r.d(t,"GL_LINE_LOOP",(function(){return a.GL_LINE_LOOP})),r.d(t,"GL_LINE_STRIP",(function(){return a.GL_LINE_STRIP})),r.d(t,"GL_TRIANGLES",(function(){return a.GL_TRIANGLES})),r.d(t,"GL_TRIANGLE_STRIP",(function(){return a.GL_TRIANGLE_STRIP})),r.d(t,"GL_TRIANGLE_FAN",(function(){return a.GL_TRIANGLE_FAN})),r.d(t,"GL_CW",(function(){return a.GL_CW})),r.d(t,"GL_CCW",(function(){return a.GL_CCW})),r.d(t,"GL_CULL_FACE",(function(){return a.GL_CULL_FACE})),r.d(t,"GL_DEPTH_TEST",(function(){return a.GL_DEPTH_TEST})),r.d(t,"GL_BLEND",(function(){return a.GL_BLEND})),r.d(t,"RM_ANY",(function(){return a.RM_ANY})),r.d(t,"RM_OPAQUE",(function(){return a.RM_OPAQUE})),r.d(t,"RM_DECAL",(function(){return a.RM_DECAL})),r.d(t,"RM_TRANSPARENT",(function(){return a.RM_TRANSPARENT})),r.d(t,"RM_ADDITIVE",(function(){return a.RM_ADDITIVE})),r.d(t,"RM_DEPTH",(function(){return a.RM_DEPTH})),r.d(t,"RM_FULLSCREEN",(function(){return a.RM_FULLSCREEN})),r.d(t,"RM_PICKABLE",(function(){return a.RM_PICKABLE})),r.d(t,"RM_DISTORTION",(function(){return a.RM_DISTORTION})),r.d(t,"RS_ZENABLE",(function(){return a.RS_ZENABLE})),r.d(t,"RS_FILLMODE",(function(){return a.RS_FILLMODE})),r.d(t,"RS_SHADEMODE",(function(){return a.RS_SHADEMODE})),r.d(t,"RS_ZWRITEENABLE",(function(){return a.RS_ZWRITEENABLE})),r.d(t,"RS_ALPHATESTENABLE",(function(){return a.RS_ALPHATESTENABLE})),r.d(t,"RS_LASTPIXEL",(function(){return a.RS_LASTPIXEL})),r.d(t,"RS_SRCBLEND",(function(){return a.RS_SRCBLEND})),r.d(t,"RS_DESTBLEND",(function(){return a.RS_DESTBLEND})),r.d(t,"RS_CULLMODE",(function(){return a.RS_CULLMODE})),r.d(t,"RS_ZFUNC",(function(){return a.RS_ZFUNC})),r.d(t,"RS_ALPHAREF",(function(){return a.RS_ALPHAREF})),r.d(t,"RS_ALPHAFUNC",(function(){return a.RS_ALPHAFUNC})),r.d(t,"RS_DITHERENABLE",(function(){return a.RS_DITHERENABLE})),r.d(t,"RS_ALPHABLENDENABLE",(function(){return a.RS_ALPHABLENDENABLE})),r.d(t,"RS_FOGENABLE",(function(){return a.RS_FOGENABLE})),r.d(t,"RS_SPECULARENABLE",(function(){return a.RS_SPECULARENABLE})),r.d(t,"RS_FOGCOLOR",(function(){return a.RS_FOGCOLOR})),r.d(t,"RS_FOGTABLEMODE",(function(){return a.RS_FOGTABLEMODE})),r.d(t,"RS_FOGSTART",(function(){return a.RS_FOGSTART})),r.d(t,"RS_FOGEND",(function(){return a.RS_FOGEND})),r.d(t,"RS_FOGDENSITY",(function(){return a.RS_FOGDENSITY})),r.d(t,"RS_RANGEFOGENABLE",(function(){return a.RS_RANGEFOGENABLE})),r.d(t,"RS_STENCILENABLE",(function(){return a.RS_STENCILENABLE})),r.d(t,"RS_STENCILFAIL",(function(){return a.RS_STENCILFAIL})),r.d(t,"RS_STENCILZFAIL",(function(){return a.RS_STENCILZFAIL})),r.d(t,"RS_STENCILPASS",(function(){return a.RS_STENCILPASS})),r.d(t,"RS_STENCILFUNC",(function(){return a.RS_STENCILFUNC})),r.d(t,"RS_STENCILREF",(function(){return a.RS_STENCILREF})),r.d(t,"RS_STENCILMASK",(function(){return a.RS_STENCILMASK})),r.d(t,"RS_STENCILWRITEMASK",(function(){return a.RS_STENCILWRITEMASK})),r.d(t,"RS_TEXTUREFACTOR",(function(){return a.RS_TEXTUREFACTOR})),r.d(t,"RS_WRAP0",(function(){return a.RS_WRAP0})),r.d(t,"RS_WRAP1",(function(){return a.RS_WRAP1})),r.d(t,"RS_WRAP2",(function(){return a.RS_WRAP2})),r.d(t,"RS_WRAP3",(function(){return a.RS_WRAP3})),r.d(t,"RS_WRAP4",(function(){return a.RS_WRAP4})),r.d(t,"RS_WRAP5",(function(){return a.RS_WRAP5})),r.d(t,"RS_WRAP6",(function(){return a.RS_WRAP6})),r.d(t,"RS_WRAP7",(function(){return a.RS_WRAP7})),r.d(t,"RS_CLIPPING",(function(){return a.RS_CLIPPING})),r.d(t,"RS_LIGHTING",(function(){return a.RS_LIGHTING})),r.d(t,"RS_AMBIENT",(function(){return a.RS_AMBIENT})),r.d(t,"RS_FOGVERTEXMODE",(function(){return a.RS_FOGVERTEXMODE})),r.d(t,"RS_COLORVERTEX",(function(){return a.RS_COLORVERTEX})),r.d(t,"RS_LOCALVIEWER",(function(){return a.RS_LOCALVIEWER})),r.d(t,"RS_NORMALIZENORMALS",(function(){return a.RS_NORMALIZENORMALS})),r.d(t,"RS_DIFFUSEMATERIALSOURCE",(function(){return a.RS_DIFFUSEMATERIALSOURCE})),r.d(t,"RS_SPECULARMATERIALSOURCE",(function(){return a.RS_SPECULARMATERIALSOURCE})),r.d(t,"RS_AMBIENTMATERIALSOURCE",(function(){return a.RS_AMBIENTMATERIALSOURCE})),r.d(t,"RS_EMISSIVEMATERIALSOURCE",(function(){return a.RS_EMISSIVEMATERIALSOURCE})),r.d(t,"RS_VERTEXBLEND",(function(){return a.RS_VERTEXBLEND})),r.d(t,"RS_CLIPPLANEENABLE",(function(){return a.RS_CLIPPLANEENABLE})),r.d(t,"RS_POINTSIZE",(function(){return a.RS_POINTSIZE})),r.d(t,"RS_POINTSIZE_MIN",(function(){return a.RS_POINTSIZE_MIN})),r.d(t,"RS_POINTSPRITEENABLE",(function(){return a.RS_POINTSPRITEENABLE})),r.d(t,"RS_POINTSCALEENABLE",(function(){return a.RS_POINTSCALEENABLE})),r.d(t,"RS_POINTSCALE_A",(function(){return a.RS_POINTSCALE_A})),r.d(t,"RS_POINTSCALE_B",(function(){return a.RS_POINTSCALE_B})),r.d(t,"RS_POINTSCALE_C",(function(){return a.RS_POINTSCALE_C})),r.d(t,"RS_MULTISAMPLEANTIALIAS",(function(){return a.RS_MULTISAMPLEANTIALIAS})),r.d(t,"RS_MULTISAMPLEMASK",(function(){return a.RS_MULTISAMPLEMASK})),r.d(t,"RS_PATCHEDGESTYLE",(function(){return a.RS_PATCHEDGESTYLE})),r.d(t,"RS_DEBUGMONITORTOKEN",(function(){return a.RS_DEBUGMONITORTOKEN})),r.d(t,"RS_POINTSIZE_MAX",(function(){return a.RS_POINTSIZE_MAX})),r.d(t,"RS_INDEXEDVERTEXBLENDENABLE",(function(){return a.RS_INDEXEDVERTEXBLENDENABLE})),r.d(t,"RS_COLORWRITEENABLE",(function(){return a.RS_COLORWRITEENABLE})),r.d(t,"RS_TWEENFACTOR",(function(){return a.RS_TWEENFACTOR})),r.d(t,"RS_BLENDOP",(function(){return a.RS_BLENDOP})),r.d(t,"RS_POSITIONDEGREE",(function(){return a.RS_POSITIONDEGREE})),r.d(t,"RS_NORMALDEGREE",(function(){return a.RS_NORMALDEGREE})),r.d(t,"RS_SCISSORTESTENABLE",(function(){return a.RS_SCISSORTESTENABLE})),r.d(t,"RS_SLOPESCALEDEPTHBIAS",(function(){return a.RS_SLOPESCALEDEPTHBIAS})),r.d(t,"RS_ANTIALIASEDLINEENABLE",(function(){return a.RS_ANTIALIASEDLINEENABLE})),r.d(t,"RS_TWOSIDEDSTENCILMODE",(function(){return a.RS_TWOSIDEDSTENCILMODE})),r.d(t,"RS_CCW_STENCILFAIL",(function(){return a.RS_CCW_STENCILFAIL})),r.d(t,"RS_CCW_STENCILZFAIL",(function(){return a.RS_CCW_STENCILZFAIL})),r.d(t,"RS_CCW_STENCILPASS",(function(){return a.RS_CCW_STENCILPASS})),r.d(t,"RS_CCW_STENCILFUNC",(function(){return a.RS_CCW_STENCILFUNC})),r.d(t,"RS_COLORWRITEENABLE1",(function(){return a.RS_COLORWRITEENABLE1})),r.d(t,"RS_COLORWRITEENABLE2",(function(){return a.RS_COLORWRITEENABLE2})),r.d(t,"RS_COLORWRITEENABLE3",(function(){return a.RS_COLORWRITEENABLE3})),r.d(t,"RS_BLENDFACTOR",(function(){return a.RS_BLENDFACTOR})),r.d(t,"RS_SRGBWRITEENABLE",(function(){return a.RS_SRGBWRITEENABLE})),r.d(t,"RS_DEPTHBIAS",(function(){return a.RS_DEPTHBIAS})),r.d(t,"RS_SEPARATEALPHABLENDENABLE",(function(){return a.RS_SEPARATEALPHABLENDENABLE})),r.d(t,"RS_SRCBLENDALPHA",(function(){return a.RS_SRCBLENDALPHA})),r.d(t,"RS_DESTBLENDALPHA",(function(){return a.RS_DESTBLENDALPHA})),r.d(t,"RS_BLENDOPALPHA",(function(){return a.RS_BLENDOPALPHA})),r.d(t,"CULL_NONE",(function(){return a.CULL_NONE})),r.d(t,"CULL_CW",(function(){return a.CULL_CW})),r.d(t,"CULL_CCW",(function(){return a.CULL_CCW})),r.d(t,"CMP_NEVER",(function(){return a.CMP_NEVER})),r.d(t,"CMP_LESS",(function(){return a.CMP_LESS})),r.d(t,"CMP_EQUAL",(function(){return a.CMP_EQUAL})),r.d(t,"CMP_LEQUAL",(function(){return a.CMP_LEQUAL})),r.d(t,"CMP_GREATER",(function(){return a.CMP_GREATER})),r.d(t,"CMP_NOTEQUAL",(function(){return a.CMP_NOTEQUAL})),r.d(t,"CMP_GREATEREQUAL",(function(){return a.CMP_GREATEREQUAL})),r.d(t,"CMP_ALWAYS",(function(){return a.CMP_ALWAYS})),r.d(t,"BLEND_ZERO",(function(){return a.BLEND_ZERO})),r.d(t,"BLEND_ONE",(function(){return a.BLEND_ONE})),r.d(t,"BLEND_SRCCOLOR",(function(){return a.BLEND_SRCCOLOR})),r.d(t,"BLEND_INVSRCCOLOR",(function(){return a.BLEND_INVSRCCOLOR})),r.d(t,"BLEND_SRCALPHA",(function(){return a.BLEND_SRCALPHA})),r.d(t,"BLEND_INVSRCALPHA",(function(){return a.BLEND_INVSRCALPHA})),r.d(t,"BLEND_DESTALPHA",(function(){return a.BLEND_DESTALPHA})),r.d(t,"BLEND_INVDESTALPHA",(function(){return a.BLEND_INVDESTALPHA})),r.d(t,"BLEND_DESTCOLOR",(function(){return a.BLEND_DESTCOLOR})),r.d(t,"BLEND_INVDESTCOLOR",(function(){return a.BLEND_INVDESTCOLOR})),r.d(t,"BLEND_SRCALPHASAT",(function(){return a.BLEND_SRCALPHASAT})),r.d(t,"BLEND_BOTHSRCALPHA",(function(){return a.BLEND_BOTHSRCALPHA})),r.d(t,"BLEND_BOTHINVSRCALPHA",(function(){return a.BLEND_BOTHINVSRCALPHA})),r.d(t,"BLEND_BLENDFACTOR",(function(){return a.BLEND_BLENDFACTOR})),r.d(t,"BLEND_INVBLENDFACTOR",(function(){return a.BLEND_INVBLENDFACTOR})),r.d(t,"BLENDOP_ADD",(function(){return a.BLENDOP_ADD})),r.d(t,"BLENDOP_SUBTRACT",(function(){return a.BLENDOP_SUBTRACT})),r.d(t,"BLENDOP_REVSUBTRACT",(function(){return a.BLENDOP_REVSUBTRACT})),r.d(t,"BLENDOP_MIN",(function(){return a.BLENDOP_MIN})),r.d(t,"BLENDOP_MAX",(function(){return a.BLENDOP_MAX})),r.d(t,"TF_ALPHA",(function(){return a.TF_ALPHA})),r.d(t,"TF_LUMINANCE",(function(){return a.TF_LUMINANCE})),r.d(t,"TF_LUMINANCE_ALPHA",(function(){return a.TF_LUMINANCE_ALPHA})),r.d(t,"TF_RGB",(function(){return a.TF_RGB})),r.d(t,"TF_RGBA",(function(){return a.TF_RGBA})),r.d(t,"TF_RED",(function(){return a.TF_RED})),r.d(t,"TF_R",(function(){return a.TF_R})),r.d(t,"TF_RG",(function(){return a.TF_RG})),r.d(t,"TF_RED_INTEGER",(function(){return a.TF_RED_INTEGER})),r.d(t,"TF_R_INTEGER",(function(){return a.TF_R_INTEGER})),r.d(t,"TF_RG_INTEGER",(function(){return a.TF_RG_INTEGER})),r.d(t,"TF_RGB_INTEGER",(function(){return a.TF_RGB_INTEGER})),r.d(t,"TF_RGBA_INTEGER",(function(){return a.TF_RGBA_INTEGER})),r.d(t,"TT_UNSIGNED_BYTE",(function(){return a.TT_UNSIGNED_BYTE})),r.d(t,"TT_UNSIGNED_INT",(function(){return a.TT_UNSIGNED_INT})),r.d(t,"TT_FLOAT",(function(){return a.TT_FLOAT})),r.d(t,"TT_HALF_FLOAT",(function(){return a.TT_HALF_FLOAT})),r.d(t,"TT_BYTE",(function(){return a.TT_BYTE})),r.d(t,"TT_SHORT",(function(){return a.TT_SHORT})),r.d(t,"TT_UNSIGNED_SHORT",(function(){return a.TT_UNSIGNED_SHORT})),r.d(t,"TT_INT",(function(){return a.TT_INT})),r.d(t,"TT_UNSIGNED_INTEGER",(function(){return a.TT_UNSIGNED_INTEGER})),r.d(t,"TT_UNSIGNED_SHORT_4_4_4_4",(function(){return a.TT_UNSIGNED_SHORT_4_4_4_4})),r.d(t,"TT_UNSIGNED_SHORT_5_5_5_1",(function(){return a.TT_UNSIGNED_SHORT_5_5_5_1})),r.d(t,"TT_UNSIGNED_SHORT_5_6_5",(function(){return a.TT_UNSIGNED_SHORT_5_6_5})),r.d(t,"TT_UNSIGNED_INT_2_10_10_10_REV",(function(){return a.TT_UNSIGNED_INT_2_10_10_10_REV})),r.d(t,"TT_UNSIGNED_INT_24_8",(function(){return a.TT_UNSIGNED_INT_24_8})),r.d(t,"TT_UNSIGNED_INT_10F_11F_11F_REV",(function(){return a.TT_UNSIGNED_INT_10F_11F_11F_REV})),r.d(t,"TT_UNSIGNED_INT_5_9_9_9_REV",(function(){return a.TT_UNSIGNED_INT_5_9_9_9_REV})),r.d(t,"TT_FLOAT_32_UNSIGNED_INT_24_8_REV",(function(){return a.TT_FLOAT_32_UNSIGNED_INT_24_8_REV})),r.d(t,"WrapModes",(function(){return a.WrapModes})),r.d(t,"BlendTable",(function(){return a.BlendTable})),r.d(t,"FilterMode",(function(){return a.FilterMode})),r.d(t,"MipFilterMode",(function(){return a.MipFilterMode})),r.d(t,"DDS_MAGIC",(function(){return a.DDS_MAGIC})),r.d(t,"DDSD_CAPS",(function(){return a.DDSD_CAPS})),r.d(t,"DDSD_HEIGHT",(function(){return a.DDSD_HEIGHT})),r.d(t,"DDSD_WIDTH",(function(){return a.DDSD_WIDTH})),r.d(t,"DDSD_PITCH",(function(){return a.DDSD_PITCH})),r.d(t,"DDSD_PIXELFORMAT",(function(){return a.DDSD_PIXELFORMAT})),r.d(t,"DDSD_MIPMAPCOUNT",(function(){return a.DDSD_MIPMAPCOUNT})),r.d(t,"DDSD_LINEARSIZE",(function(){return a.DDSD_LINEARSIZE})),r.d(t,"DDSD_DEPTH",(function(){return a.DDSD_DEPTH})),r.d(t,"DDSCAPS_COMPLEX",(function(){return a.DDSCAPS_COMPLEX})),r.d(t,"DDSCAPS_MIPMAP",(function(){return a.DDSCAPS_MIPMAP})),r.d(t,"DDSCAPS_TEXTURE",(function(){return a.DDSCAPS_TEXTURE})),r.d(t,"DDSCAPS2_CUBEMAP",(function(){return a.DDSCAPS2_CUBEMAP})),r.d(t,"DDSCAPS2_CUBEMAP_POSITIVEX",(function(){return a.DDSCAPS2_CUBEMAP_POSITIVEX})),r.d(t,"DDSCAPS2_CUBEMAP_NEGATIVEX",(function(){return a.DDSCAPS2_CUBEMAP_NEGATIVEX})),r.d(t,"DDSCAPS2_CUBEMAP_POSITIVEY",(function(){return a.DDSCAPS2_CUBEMAP_POSITIVEY})),r.d(t,"DDSCAPS2_CUBEMAP_NEGATIVEY",(function(){return a.DDSCAPS2_CUBEMAP_NEGATIVEY})),r.d(t,"DDSCAPS2_CUBEMAP_POSITIVEZ",(function(){return a.DDSCAPS2_CUBEMAP_POSITIVEZ})),r.d(t,"DDSCAPS2_CUBEMAP_NEGATIVEZ",(function(){return a.DDSCAPS2_CUBEMAP_NEGATIVEZ})),r.d(t,"DDSCAPS2_VOLUME",(function(){return a.DDSCAPS2_VOLUME})),r.d(t,"DDPF_ALPHAPIXELS",(function(){return a.DDPF_ALPHAPIXELS})),r.d(t,"DDPF_ALPHA",(function(){return a.DDPF_ALPHA})),r.d(t,"DDPF_FOURCC",(function(){return a.DDPF_FOURCC})),r.d(t,"DDPF_RGB",(function(){return a.DDPF_RGB})),r.d(t,"DDPF_YUV",(function(){return a.DDPF_YUV})),r.d(t,"DDPF_LUMINANCE",(function(){return a.DDPF_LUMINANCE})),r.d(t,"DDS_HEADER_LENGTH_INT",(function(){return a.DDS_HEADER_LENGTH_INT})),r.d(t,"DDS_HEADER_OFFSET_MAGIC",(function(){return a.DDS_HEADER_OFFSET_MAGIC})),r.d(t,"DDS_HEADER_OFFSET_SIZE",(function(){return a.DDS_HEADER_OFFSET_SIZE})),r.d(t,"DDS_HEADER_OFFSET_FLAGS",(function(){return a.DDS_HEADER_OFFSET_FLAGS})),r.d(t,"DDS_HEADER_OFFSET_HEIGHT",(function(){return a.DDS_HEADER_OFFSET_HEIGHT})),r.d(t,"DDS_HEADER_OFFSET_WIDTH",(function(){return a.DDS_HEADER_OFFSET_WIDTH})),r.d(t,"DDS_HEADER_OFFSET_MIPMAP_COUNT",(function(){return a.DDS_HEADER_OFFSET_MIPMAP_COUNT})),r.d(t,"DDS_HEADER_OFFSET_PF_FLAGS",(function(){return a.DDS_HEADER_OFFSET_PF_FLAGS})),r.d(t,"DDS_HEADER_OFFSET_PF_FOURCC",(function(){return a.DDS_HEADER_OFFSET_PF_FOURCC})),r.d(t,"DDS_HEADER_OFFSET_RGB_BPP",(function(){return a.DDS_HEADER_OFFSET_RGB_BPP})),r.d(t,"DDS_HEADER_OFFSET_R_MASK",(function(){return a.DDS_HEADER_OFFSET_R_MASK})),r.d(t,"DDS_HEADER_OFFSET_G_MASK",(function(){return a.DDS_HEADER_OFFSET_G_MASK})),r.d(t,"DDS_HEADER_OFFSET_B_MASK",(function(){return a.DDS_HEADER_OFFSET_B_MASK})),r.d(t,"DDS_HEADER_OFFSET_A_MASK",(function(){return a.DDS_HEADER_OFFSET_A_MASK})),r.d(t,"DDS_HEADER_OFFSET_CAPS1",(function(){return a.DDS_HEADER_OFFSET_CAPS1})),r.d(t,"DDS_HEADER_OFFSET_CAPS2",(function(){return a.DDS_HEADER_OFFSET_CAPS2})),r.d(t,"DDS_HEADER_OFFSET_CAPS3",(function(){return a.DDS_HEADER_OFFSET_CAPS3})),r.d(t,"DDS_HEADER_OFFSET_CAPS4",(function(){return a.DDS_HEADER_OFFSET_CAPS4})),r.d(t,"DDS_HEADER_OFFSET_DXGI_FORMAT",(function(){return a.DDS_HEADER_OFFSET_DXGI_FORMAT})),r.d(t,"FOURCC_DXT1",(function(){return a.FOURCC_DXT1})),r.d(t,"FOURCC_DXT5",(function(){return a.FOURCC_DXT5})),r.d(t,"FOURCC_DXT3",(function(){return a.FOURCC_DXT3})),r.d(t,"FOURCC_DXT10",(function(){return a.FOURCC_DXT10})),r.d(t,"FOURCC_D3DFMT_R16G16B16A16F",(function(){return a.FOURCC_D3DFMT_R16G16B16A16F})),r.d(t,"FOURCC_D3DFMT_R32G32B32A32F",(function(){return a.FOURCC_D3DFMT_R32G32B32A32F})),r.d(t,"DXGI_FORMAT_R16G16B16A16_FLOAT",(function(){return a.DXGI_FORMAT_R16G16B16A16_FLOAT})),r.d(t,"DXGI_FORMAT_B8G8R8X8_UNORM",(function(){return a.DXGI_FORMAT_B8G8R8X8_UNORM})),r.d(t,"VendorRequestAnimationFrame",(function(){return a.VendorRequestAnimationFrame})),r.d(t,"VendorCancelAnimationFrame",(function(){return a.VendorCancelAnimationFrame})),r.d(t,"VendorRequestFullScreen",(function(){return a.VendorRequestFullScreen})),r.d(t,"VendorExitFullScreen",(function(){return a.VendorExitFullScreen})),r.d(t,"VendorGetFullScreenElement",(function(){return a.VendorGetFullScreenElement})),r.d(t,"VendorWebglPrefixes",(function(){return a.VendorWebglPrefixes}));var o=r("./global/math/index.js");r.d(t,"num",(function(){return o.num})),r.d(t,"vec2",(function(){return o.vec2})),r.d(t,"vec3",(function(){return o.vec3})),r.d(t,"vec4",(function(){return o.vec4})),r.d(t,"quat",(function(){return o.quat})),r.d(t,"mat3",(function(){return o.mat3})),r.d(t,"mat4",(function(){return o.mat4})),r.d(t,"noise",(function(){return o.noise})),r.d(t,"curve",(function(){return o.curve})),r.d(t,"box3",(function(){return o.box3})),r.d(t,"tri3",(function(){return o.tri3})),r.d(t,"lne3",(function(){return o.lne3})),r.d(t,"pln",(function(){return o.pln})),r.d(t,"ray3",(function(){return o.ray3})),r.d(t,"sph3",(function(){return o.sph3}));var u=r("./global/Tw2Library.js");r.d(t,"tw2",(function(){return u.tw2})),r.d(t,"resMan",(function(){return u.resMan})),r.d(t,"device",(function(){return u.device}))},"./global/math/box3.js":function(e,t,r){"use strict";r.r(t),r.d(t,"box3",(function(){return s}));var n=r("./global/math/num.js"),i=r("./global/math/vec3.js"),s=(r("./global/math/sph3.js"),r("./global/math/mat4.js"),{bounds:{}}),a=null,o=null;s.$min=function(e){return e.subarray(0,3)},s.$max=function(e){return e.subarray(3,6)},s.addPoint=function(e,t,r){return e[0]=Math.min(t[0],r[0]),e[1]=Math.min(t[1],r[1]),e[2]=Math.min(t[2],r[2]),e[3]=Math.max(t[3],r[0]),e[4]=Math.max(t[4],r[1]),e[5]=Math.max(t[5],r[2]),e},s.addPoints=function(e,t,r){for(var n=t[0],i=t[1],s=t[2],a=t[3],o=t[4],u=t[5],c=0;c<r.length;c++)n=Math.min(n,r[c][0]),i=Math.min(i,r[c][1]),s=Math.min(s,r[c][2]),a=Math.max(a,r[c][0]),o=Math.max(o,r[c][1]),u=Math.max(u,r[c][2]);return e[0]=n,e[1]=i,e[2]=s,e[3]=a,e[4]=o,e[5]=u,e},s.clone=function(e){var t=new Float32Array(6);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t},s.contains=function(e,t){return e[0]<=t[0]&&t[3]<=e[3]&&e[1]<=t[1]&&t[4]<=e[4]&&e[2]<=t[2]&&t[5]<=e[5]},s.containsBounds=function(e,t,r){return e[0]<=t[0]&&r[0]<=e[3]&&e[1]<=t[1]&&r[1]<=e[4]&&e[2]<=t[2]&&r[2]<=e[5]},s.containsPoint=function(e,t){return!(t[0]<e[0]||t[0]>e[3]||t[1]<e[1]||t[1]>e[4]||t[2]<e[2]||t[2]>e[5])},s.containsValue=function(e,t,r,n){return!(t<e[0]||t>e[3]||r<e[1]||r>e[4]||n<e[2]||n>e[5])},s.copy=function(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e},s.copyMin=i.vec3.copy,s.copyMax=function(e,t){return e[3]=t[3],e[4]=t[4],e[5]=t[5],e},s.create=function(){return s.empty(new Float32Array(6))},s.distanceToPoint=function(e,t){var r=Math.max(e[0],Math.min(e[3],t[0]))-t[0],n=Math.max(e[1],Math.min(e[4],t[1]))-t[1],i=Math.max(e[2],Math.min(e[5],t[2]))-t[2];return Math.sqrt(r*r+n*n+i*i)},s.distanceToValues=function(e,t,r,n){var i=Math.max(e[0],Math.min(e[3],t))-t,s=Math.max(e[1],Math.min(e[4],r))-r,a=Math.max(e[2],Math.min(e[5],n))-n;return Math.sqrt(i*i+s*s+a*a)},s.empty=function(e){return e[0]=0,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=0,e},s.bounds.empty=function(e,t){e[0]=0,e[1]=0,e[2]=0,t[0]=0,t[1]=0,t[2]=0},s.equals=function(e,t){var r=e[0],i=e[1],s=e[2],a=e[3],o=e[4],u=e[5],c=t[0],l=t[1],h=t[2],d=t[3],f=t[4],m=t[5];return Math.abs(r-c)<=n.num.EPSILON*Math.max(1,Math.abs(r),Math.abs(c))&&Math.abs(i-l)<=n.num.EPSILON*Math.max(1,Math.abs(i),Math.abs(l))&&Math.abs(s-h)<=n.num.EPSILON*Math.max(1,Math.abs(s),Math.abs(h))&&Math.abs(a-d)<=n.num.EPSILON*Math.max(1,Math.abs(a),Math.abs(d))&&Math.abs(o-f)<=n.num.EPSILON*Math.max(1,Math.abs(o),Math.abs(f))&&Math.abs(u-m)<=n.num.EPSILON*Math.max(1,Math.abs(u),Math.abs(m))},s.equalsBounds=function(e,t,r){var i=e[0],s=e[1],a=e[2],o=e[3],u=e[4],c=e[5],l=t[0],h=t[1],d=t[2],f=r[0],m=r[1],v=r[2];return Math.abs(i-l)<=n.num.EPSILON*Math.max(1,Math.abs(i),Math.abs(l))&&Math.abs(s-h)<=n.num.EPSILON*Math.max(1,Math.abs(s),Math.abs(h))&&Math.abs(a-d)<=n.num.EPSILON*Math.max(1,Math.abs(a),Math.abs(d))&&Math.abs(o-f)<=n.num.EPSILON*Math.max(1,Math.abs(o),Math.abs(f))&&Math.abs(u-m)<=n.num.EPSILON*Math.max(1,Math.abs(u),Math.abs(m))&&Math.abs(c-v)<=n.num.EPSILON*Math.max(1,Math.abs(c),Math.abs(v))},s.exactEquals=function(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===t[3]&&e[4]===t[4]&&e[5]===t[5]},s.exactEqualsBounds=function(e,t,r){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===r[0]&&e[4]===r[1]&&e[5]===r[2]},s.expandScalar=function(e,t,r){return e[0]=t[0]-r,e[1]=t[1]-r,e[2]=t[2]-r,e[3]=t[3]+r,e[4]=t[4]+r,e[5]=t[5]+r,e},s.expandValues=function(e,t,r,n,i){return e[0]=t[0]-r,e[1]=t[1]-n,e[2]=t[2]-i,e[3]=t[3]+r,e[4]=t[4]+n,e[5]=t[5]+i,e},s.expandVec3=function(e,t,r){return e[0]=t[0]-r[0],e[1]=t[1]-r[1],e[2]=t[2]-r[2],e[3]=t[3]+r[0],e[4]=t[4]+r[1],e[5]=t[5]+r[2],e},s.fromArray=function(e,t,r=0){return e[0]=t[r],e[1]=t[r+1],e[2]=t[r+2],e[3]=t[r+3],e[4]=t[r+4],e[5]=t[r+5],e},s.fromBounds=function(e,t,r){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=r[0],e[4]=r[1],e[5]=r[2],e},s.fromObjectBounds=function(e,t,r){if(t.minBounds)s.fromBounds(e,t.minBounds,t.maxBounds);else{if(!t._boundingBox)throw new Error("Invalid object bounds");s.copy(e,t._boundingBox)}return r&&s.transformMat4(e,e,r),e},s.fromObjectPositionRadius=function(e,t,r){if(t.boundsSpherePosition)s.fromPositionRadius(e,t.boundsSpherePosition,t.boundsSphereRadius);else{if(!t.boundingSphereCenter)throw new Error("Invalid object bounds");s.fromPositionRadius(e,t.boundingSphereCenter,t.boundingSphereRadius)}return r&&s.transformMat4(e,e,r),e},s.fromPositionSize=function(e,t,r){return e[0]=t[0]-.5*r[0],e[1]=t[1]-.5*r[1],e[2]=t[2]-.5*r[2],e[3]=t[0]+.5*r[0],e[4]=t[1]+.5*r[1],e[5]=t[2]+.5*r[2],e},s.fromPoints=function(e,t){s.empty(e);for(var r=0;r<t.length;r++)e[0]=Math.min(e[0],t[r][0]),e[1]=Math.min(e[1],t[r][1]),e[2]=Math.min(e[2],t[r][2]),e[3]=Math.max(e[3],t[r][0]),e[4]=Math.max(e[4],t[r][1]),e[5]=Math.max(e[5],t[r][2]);return e},s.fromPositionRadius=function(e,t,r){return e[0]=t[0]-r,e[1]=t[1]-r,e[2]=t[2]-r,e[3]=t[0]+r,e[4]=t[1]+r,e[5]=t[2]+r,e},s.fromSph3=function(e,t){return e[0]=t[0]-t[3],e[1]=t[1]-t[3],e[2]=t[2]-t[3],e[3]=t[0]+t[3],e[4]=t[1]+t[3],e[5]=t[2]+t[3],e},s.fromValues=function(e,t,r,n,i,a){var o=s.create();return o[0]=e,o[1]=t,o[2]=r,o[3]=n,o[4]=i,o[5]=a,o},s.getClampedPoint=function(e,t,r){return e[0]=Math.max(t[0],Math.min(t[3],r[0])),e[1]=Math.max(t[1],Math.min(t[4],r[1])),e[2]=Math.max(t[2],Math.min(t[5],r[2])),e},s.getMax=function(e,t){return e[0]=t[3],e[1]=t[4],e[2]=t[5],e},s.getMin=function(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e},s.getSize=function(e,t){return e[0]=t[3]-t[0],e[1]=t[4]-t[1],e[2]=t[5]-t[2],e},s.getPosition=function(e,t){return e[0]=.5*(t[0]+t[3]),e[1]=.5*(t[1]+t[4]),e[2]=.5*(t[2]+t[5]),e},s.radius=function(e){var t=e[3]-e[0],r=e[4]-e[1],n=e[5]-e[2];return.5*Math.sqrt(t*t+r*r+n*n)},s.intersect=function(e,t,r){return e[0]=Math.max(t[0],r[0]),e[1]=Math.max(t[1],r[1]),e[2]=Math.max(t[2],r[2]),e[3]=Math.min(t[3],r[3]),e[4]=Math.min(t[4],r[4]),e[5]=Math.min(t[5],r[5]),e},s.intersectBounds=function(e,t,r,n){return e[0]=Math.max(t[0],r[0]),e[1]=Math.max(t[1],r[1]),e[2]=Math.max(t[2],r[2]),e[3]=Math.min(t[3],n[0]),e[4]=Math.min(t[4],n[1]),e[5]=Math.min(t[5],n[2]),e},s.intersects=function(e,t){return!(t[3]<e[0]||t[0]>e[3]||t[4]<e[1]||t[1]>e[4]||t[5]<e[2]||t[2]>e[5])},s.intersectsBounds=function(e,t,r){return!(r[0]<e[0]||t[0]>e[3]||r[1]<e[1]||t[1]>e[4]||r[2]<e[2]||t[2]>e[5])},s.intersectsNormalConstant=function(e,t,r){var n,i;return t[0]>0?(n=t[0]*e[0],i=t[0]*e[3]):(n=t[0]*e[3],i=t[0]*e[0]),t[1]>0?(n=t[1]*e[1],i=t[1]*e[4]):(n=t[1]*e[4],i=t[1]*e[1]),t[2]>0?(n+=t[2]*e[2],i+=t[2]*e[5]):(n+=t[2]*e[5],i+=t[2]*e[2]),n<=r&&i>=r},s.intersectsPln=function(e,t){return s.intersectsNormalConstant(e,t,t[3])},s.intersectsPoint=function(e,t){return t[0]>=e[0]&&t[0]<=e[3]&&t[1]>=e[1]&&t[1]<=e[4]&&t[2]>=e[2]&&t[2]<=e[5]},s.intersectsValues=function(e,t,r,n){return t>=e[0]&&t<=e[3]&&r>=e[1]&&r<=e[4]&&n>=e[2]&&n<=e[5]},s.intersectsPositionRadius=function(e,t,r){var n=Math.max(e[0],Math.min(e[3],t[0]))-t[0],i=Math.max(e[1],Math.min(e[4],t[1]))-t[1],s=Math.max(e[2],Math.min(e[5],t[2]))-t[2];return n*n+i*i+s*s<=r*r},s.intersectsSph3=function(e,t){var r=Math.max(e[0],Math.min(e[3],t[0]))-t[0],n=Math.max(e[1],Math.min(e[4],t[1]))-t[1],i=Math.max(e[2],Math.min(e[5],t[2]))-t[2];return r*r+n*n+i*i<=t[3]*t[3]},s.isEmpty=function(e){return e[0]+e[1]+e[2]+e[0]+e[1]+e[2]===0||(e[3]<e[0]||e[4]<e[1]||e[5]<e[2])},s.bounds.isEmpty=function(e,t){return e[0]+e[1]+e[2]+t[0]+t[1]+t[2]===0||(t[0]<e[0]||t[1]<e[1]||t[2]<e[2])},s.set=function(e,t,r,n,i,s,a){return e[0]=t,e[1]=r,e[2]=n,e[3]=i,e[4]=s,e[5]=a,e},s.squaredDistanceToPoint=function(e,t){var r=Math.max(e[0],Math.min(e[3],t[0]))-t[0],n=Math.max(e[1],Math.min(e[4],t[1]))-t[1],i=Math.max(e[2],Math.min(e[5],t[2]))-t[2];return r*r+n*n+i*i},s.surfaceArea=function(e){var t=e[3]-e[0],r=e[4]-e[1],n=e[5]-e[2];return 2*(t*(r+n)+r*n)},s.toArray=function(e,t,r=0){return t[r]=e[0],t[r+1]=e[1],t[r+2]=e[2],t[r+3]=e[3],t[r+4]=e[4],t[r+5]=e[5],e},s.toBounds=function(e,t,r){return t[0]=e[0],t[1]=e[1],t[2]=e[2],r[0]=e[3],r[1]=e[4],r[2]=e[5],e},s.toObjectBounds=function(e,t,r){if(!(t.minBounds||t._boundingBox))throw console.dir(t),new Error("Invalid object bounds");r&&(a||(a=s.create()),e=s.transformMat4(a,e,r)),t.minBounds?s.toBounds(e,t.minBounds,t.maxBounds):s.copy(t._boundingBox,e)},s.toObjectPositionRadius=function(e,t,r){if(r&&(a||(a=s.create()),e=s.transformMat4(a,e,r)),t.boundsSpherePosition)t.boundsSphereRadius=s.toPositionRadius(e,t.boundsSpherePosition);else{if(!t.boundingSphereCenter)throw new Error("Invalid object bounds");t.boundingSphereRadius=s.toPositionRadius(e,t.boundingSphereCenter)}},s.toPoints=function(e,t=[]){var r=e[0],n=e[1],i=e[2],s=e[3],a=e[4],o=e[5],u=s+Math.abs(r),c=a+Math.abs(n),l=o+Math.abs(i);return t.push([s+0,a+0,o+0]),t.push([s-u,a+0,o+0]),t.push([s+0,a+0,o-l]),t.push([s-u,a+0,o-l]),t.push([s+0,a-c,o+0]),t.push([s-u,a-c,o+0]),t.push([s+0,a-c,o-l]),t.push([s-u,a-c,o-l]),t},s.toPositionRadius=function(e,t){var r=e[3]-e[0],n=e[4]-e[1],i=e[5]-e[2];return t[0]=.5*(e[0]+e[3]),t[1]=.5*(e[1]+e[4]),t[2]=.5*(e[2]+e[5]),.5*Math.sqrt(r*r+n*n+i*i)},s.bounds.toPositionRadius=function(e,t,r){var n=t[0]-e[0],i=t[1]-e[1],s=t[2]-e[2];return r[0]=.5*(e[0]+t[0]),r[1]=.5*(e[1]+t[1]),r[2]=.5*(e[2]+t[2]),.5*Math.sqrt(n*n+i*i+s*s)},s.translate=function(e,t,r){return e[0]=t[0]+r[0],e[1]=t[1]+r[1],e[2]=t[2]+r[2],e[3]=t[3]+r[0],e[4]=t[4]+r[1],e[5]=t[5]+r[2],e},s.transformMat4=function(e,t,r){return o||(o=[i.vec3.create(),i.vec3.create(),i.vec3.create(),i.vec3.create(),i.vec3.create(),i.vec3.create(),i.vec3.create(),i.vec3.create()]),s.isEmpty(t)?s.empty(e):(i.vec3.transformMat4(o[0],[t[0],t[1],t[2]],r),i.vec3.transformMat4(o[1],[t[0],t[1],t[5]],r),i.vec3.transformMat4(o[2],[t[0],t[4],t[2]],r),i.vec3.transformMat4(o[3],[t[0],t[4],t[5]],r),i.vec3.transformMat4(o[4],[t[3],t[1],t[2]],r),i.vec3.transformMat4(o[5],[t[3],t[1],t[5]],r),i.vec3.transformMat4(o[6],[t[3],t[4],t[2]],r),i.vec3.transformMat4(o[7],[t[3],t[4],t[5]],r),s.fromPoints(e,o))},s.union=function(e,t,r){return e[0]=Math.min(t[0],r[0]),e[1]=Math.min(t[1],r[1]),e[2]=Math.min(t[2],r[2]),e[3]=Math.max(t[3],r[3]),e[4]=Math.max(t[4],r[4]),e[5]=Math.max(t[5],r[5]),e},s.unionBounds=function(e,t,r,n){return e[0]=Math.min(t[0],r[0]),e[1]=Math.min(t[1],r[1]),e[2]=Math.min(t[2],r[2]),e[3]=Math.max(t[3],n[0]),e[4]=Math.max(t[4],n[1]),e[5]=Math.max(t[5],n[2]),e},s.bounds.union=function(e,t,r,n,i,s){e[0]=Math.min(r[0],i[0]),e[1]=Math.min(r[1],i[1]),e[2]=Math.min(r[2],i[2]),t[0]=Math.max(n[0],s[0]),t[1]=Math.max(n[1],s[1]),t[2]=Math.max(n[2],s[2])}},"./global/math/curve.js":function(e,t,r){"use strict";r.r(t),r.d(t,"curve",(function(){return n}));var n={evaluate:function(e,t,r,n,i){for(var s=e.knots.length,a=s-1,o=0,u=0;u<e.knots.length;++u)if(e.knots[u]>t){a=u;break}if(0===e.degree)for(var c=0;c<e.dimension;++c)r[c]=e.controls[a*e.dimension+c];else if(1===e.degree){var l=n?(a+s-1)%s:0===a?0:a-1,h=e.knots[a]-e.knots[l];h<0&&(h+=i),h>0&&(o=(t-e.knots[e.knots.length-1])/h);for(var d=0;d<e.dimension;++d)r[d]=e.controls[l*e.dimension+d]*(1-o)+e.controls[a*e.dimension+d]*o}else{var f=n?(a+s-2)%s:0===a?0:a-2,m=n?(a+s-1)%s:0===a?0:a-1,v=f*e.dimension,p=m*e.dimension,_=a*e.dimension,E=e.knots[f],S=e.knots[m],T=e.knots[a],g=e.knots[(a+1)%s];E>T&&(T+=i,g+=i,t+=i),S>T&&(T+=i,g+=i,t+=i),g<T&&(g+=i);var R=t-S,b=R/(T-S),y=(t-E)/(T-E),A=y+b-b*y,j=b*(R/(g-S)),w=A-j;A=1-A;for(var O=0;O<e.dimension;++O)r[O]=A*e.controls[v+O]+w*e.controls[p+O]+j*e.controls[_+O]}},ag_horner1:function(e,t,r){for(var n=e[t];--t>=0;)n=r*n+e[t];return n},ag_zeroin2:function(e,t,r,i,s,a){var o,u,c,l,h,d,f,m,v,p;for(var _=!0;_&&(o=e,l=r,c=u=t-e),Math.abs(l)<Math.abs(i)&&(e=t,t=o,o=e,r=i,i=l,l=r),_=!1,h=2.384185792e-7*Math.abs(t)+.5*s,d=.5*(o-t),Math.abs(d)>h&&0!==i;)Math.abs(c)<h||Math.abs(r)<=Math.abs(i)?c=u=d:(p=i/r,e===o?(f=2*d*p,m=1-p):(f=p*(2*d*(m=r/l)*(m-(v=i/l))-(t-e)*(v-1)),m=(m-1)*(v-1)*(p-1)),f>0?m=-m:f=-f,p=c,c=u,2*f<3*d*m-Math.abs(h*m)&&f<Math.abs(.5*p*m)?u=f/m:c=u=d),e=t,r=i,Math.abs(u)>h?t+=u:d>0?t+=h:t-=h,(i=n.ag_horner1(a.p,a.deg,t))*(l/Math.abs(l))>0&&(_=!0);return t},ag_zeroin:function(e,t,r,i){var s,a;return s=n.ag_horner1(i.p,i.deg,e),Math.abs(s)<1.192092896e-7?e:(a=n.ag_horner1(i.p,i.deg,t),Math.abs(a)<1.192092896e-7?t:n.ag_zeroin2(e,t,s,a,r,i))},polyZeroes:function(e,t,r,i,s,a,o){var u,c,l,h,d,f,m,v,p,_,E,S,T,g,R,b=new Array(22),y=new Array(22),A=new Array(22),j={p:[],deg:0};for(m=_=0,v=0,u=0;u<t+1;++u)v+=Math.abs(e[u]);if(v<=(S=(Math.abs(r)+Math.abs(s))*(t+1)*1.192092896e-7))return-1;for(T=b,g=y,R=A,u=0;u<t+1;++u)T[u]=1/v*e[u];for(;Math.abs(T[t])<S;)t--;if(h=0,0===t)return h;if(1===t)return o[0]=-T[0]/T[1],c=i?r<o[0]+S:r<o[0]-S,l=a?s>o[0]-S:s>o[0]+S,(h=c&&l?1:0)&&(i&&o[0]<r?o[0]=r:a&&o[0]>s&&(o[0]=s)),h;for(j.p=T,j.deg=t,u=1;u<=t;u++)g[u-1]=u*T[u];if(0===(d=n.polyZeroes(g,t-1,r,0,s,0,R)).length)return 0;for(u=f=0;u<=d;u++){if(h>t)return h;0===u?(p=r,E=n.ag_horner1(T,t,p),Math.abs(E)<=S&&i&&(o[h++]=r)):(p=m,E=_),u===d?(m=s,f=0):m=R[u],_=n.ag_horner1(T,t,m),f?f=0:Math.abs(_)<S?(u!==d||a)&&(o[h++]=m,f=1):(E<0&&_>0||E>0&&_<0)&&(o[h++]=n.ag_zeroin(p,m,0,j),h>1&&o[h-2]>=o[h-1]-S&&(o[h-2]=.5*(o[h-2]+o[h-1]),h--))}return h}}},"./global/math/index.js":function(e,t,r){"use strict";r.r(t);var n=r("./global/math/num.js");r.d(t,"num",(function(){return n.num}));var i=r("./global/math/vec2.js");r.d(t,"vec2",(function(){return i.vec2}));var s=r("./global/math/vec3.js");r.d(t,"vec3",(function(){return s.vec3}));var a=r("./global/math/vec4.js");r.d(t,"vec4",(function(){return a.vec4}));var o=r("./global/math/quat.js");r.d(t,"quat",(function(){return o.quat}));var u=r("./global/math/mat3.js");r.d(t,"mat3",(function(){return u.mat3}));var c=r("./global/math/mat4.js");r.d(t,"mat4",(function(){return c.mat4}));var l=r("./global/math/noise.js");r.d(t,"noise",(function(){return l.noise}));var h=r("./global/math/curve.js");r.d(t,"curve",(function(){return h.curve}));var d=r("./global/math/box3.js");r.d(t,"box3",(function(){return d.box3}));var f=r("./global/math/tri3.js");r.d(t,"tri3",(function(){return f.tri3}));var m=r("./global/math/lne3.js");r.d(t,"lne3",(function(){return m.lne3}));var v=r("./global/math/pln.js");r.d(t,"pln",(function(){return v.pln}));var p=r("./global/math/ray3.js");r.d(t,"ray3",(function(){return p.ray3}));var _=r("./global/math/sph3.js");r.d(t,"sph3",(function(){return _.sph3}))},"./global/math/lne3.js":function(e,t,r){"use strict";r.r(t),r.d(t,"lne3",(function(){return o}));var n,i,s=r("./global/math/vec3.js"),a=r("./global/math/box3.js"),o={};o.$end=a.box3.$max,o.$start=a.box3.$min,o.clone=a.box3.clone,o.closestPointToPointParameter=function(e,t,r){n||(n=s.vec3.create(),i=s.vec3.create());var a=n,o=i;a[0]=t[0]-e[0],a[1]=t[1]-e[1],a[2]=t[2]-e[2],o[0]=e[3]-e[0],o[1]=e[4]-e[1],o[2]=e[5]-e[2];var u=o[0]*o[0]+o[1]*o[1]+o[2]*o[2],c=(o[0]*a[0]+o[1]*a[1]+o[2]*a[2])/u;return r&&(c=Math.max(0,Math.min(1,c))),c},o.copy=a.box3.copy,o.copyStart=s.vec3.copy,o.copyEnd=a.box3.copyMax,o.create=a.box3.create,o.equals=a.box3.equals,o.equalsStartEnd=a.box3.equalsBounds,o.exactEquals=a.box3.equals,o.exactEqualsStartEnd=a.box3.exactEqualsBounds,o.fromArray=a.box3.fromArray,o.fromStartEnd=a.box3.fromBounds,o.get=function(e,t,r){if(r<0||r>1)throw e[0]=0,e[1]=0,e[2]=0,new Error("Normalization error");return e[0]=(t[3]-t[0])*r+t[0],e[1]=(t[4]-t[1])*r+t[1],e[2]=(t[5]-t[2])*r+t[2],e},o.getCenter=function(e,t){return e[0]=.5*(t[0]+t[3]),e[1]=.5*(t[1]+t[4]),e[2]=.5*(t[2]+t[5]),e},o.getClosestPointToPoint=function(e,t,r,n){return o.get(e,t,o.closestPointToPointParameter(t,r,n))},o.getEnd=a.box3.getMax,o.getDelta=function(e,t){return e[0]=t[3]-t[0],e[1]=t[4]-t[1],e[2]=t[5]-t[2],e},o.getStart=a.box3.getMin,o.intersectsNormalConstant=function(e,t,r){var n=t[0]*e[0]+t[1]*e[1]+t[2]*e[2]+r,i=t[0]*e[3]+t[1]*e[4]+t[2]*e[5]+r;return n<0&&i>0||i<0&&n>0},o.length=function(e){var t=e[0]-e[3],r=e[1]-e[4],n=e[2]-e[5];return Math.sqrt(t*t+r*r+n*n)},o.set=a.box3.set,o.squaredLength=function(e){var t=e[0]-e[3],r=e[1]-e[4],n=e[2]-e[5];return t*t+r*r+n*n},o.toArray=a.box3.toArray,o.toStartEnd=a.box3.toBounds,o.transformMat4=function(e,t,r){var n=t[0],i=t[1],s=t[2],a=t[3],o=t[4],u=t[5];return e[0]=r[0]*n+r[4]*i+r[8]*s+r[12],e[1]=r[1]*n+r[5]*i+r[9]*s+r[13],e[2]=r[2]*n+r[6]*i+r[10]*s+r[14],e[3]=r[0]*a+r[4]*o+r[8]*u+r[12],e[4]=r[1]*a+r[5]*o+r[9]*u+r[13],e[5]=r[2]*a+r[6]*o+r[10]*u+r[14],e},o.translate=function(e,t,r){return e[0]=t[0]+r[0],e[1]=t[1]+r[1],e[2]=t[2]+r[2],e[3]=t[3]+r[0],e[4]=t[4]+r[1],e[5]=t[5]+r[2],e}},"./global/math/mat3.js":function(e,t,r){"use strict";r.r(t);var n=r("../node_modules/gl-matrix/lib/gl-matrix.js");r.d(t,"mat3",(function(){return n.mat3})),n.mat3.fromArray=function(e,t,r=0){return e[0]=t[r],e[1]=t[r+1],e[2]=t[r+2],e[3]=t[r+3],e[4]=t[r+4],e[5]=t[r+5],e[6]=t[r+6],e[7]=t[r+7],e[8]=t[r+8],e},n.mat3.setArray=function(e,t,r=0){return e[0]=t[r],e[1]=t[r+1],e[2]=t[r+2],e[3]=t[r+3],e[4]=t[r+4],e[5]=t[r+5],e[6]=t[r+6],e[7]=t[r+7],e[8]=t[r+8],e},n.mat3.toArray=function(e,t,r=0){return t[r]=e[0],t[r+1]=e[1],t[r+2]=e[2],t[r+3]=e[3],t[r+4]=e[4],t[r+5]=e[5],t[r+6]=e[6],t[r+7]=e[7],t[r+8]=e[8],e}},"./global/math/mat4.js":function(e,t,r){"use strict";r.r(t);var n,i=r("../node_modules/gl-matrix/lib/gl-matrix.js");r.d(t,"mat4",(function(){return i.mat4})),i.mat4.arcFromForward=function(e,t){n||(n=i.vec3.create());var r=i.vec3.normalize(n,t);if(i.mat4.identity(e),r[2]<-.99999)return e;if(r[2]>.99999)return e[5]=-1,e[10]=-1,e;var s=(1+r[2])/(r[0]*r[0]+r[1]*r[1]);return e[0]=s*r[1]*r[1]-r[2],e[1]=-s*r[0]*r[1],e[2]=r[0],e[4]=e[1],e[5]=s*r[0]*r[0]-r[2],e[6]=r[1],e[8]=-r[0],e[9]=-r[1],e[10]=-r[2],e},i.mat4.copyTranslation=function(e,t){return e[12]=t[12],e[13]=t[13],e[14]=t[14],e},i.mat4.fromMat3=function(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[4]=t[3],e[5]=t[4],e[6]=t[5],e[8]=t[6],e[9]=t[7],e[10]=t[8],e[3]=e[7]=e[11]=e[12]=e[13]=e[14]=0,e[15]=1,e},i.mat4.lookAtGL=function(){var e,t,r;return function(n,s,a,o){return e||(e=i.vec3.create(),t=i.vec3.create(),r=i.vec3.create()),i.vec3.subtract(r,s,a),0===i.vec3.squaredLength(r)&&(r[2]=1),i.vec3.normalize(r,r),i.vec3.cross(e,o,r),0===i.vec3.squaredLength(e)&&(r[2]+=1e-4,i.vec3.cross(e,o,r)),i.vec3.normalize(e,e),i.vec3.cross(t,r,e),n[0]=e[0],n[1]=e[1],n[2]=e[2],n[3]=0,n[4]=t[0],n[5]=t[1],n[6]=t[2],n[7]=0,n[8]=r[0],n[9]=r[1],n[10]=r[2],n[11]=0,n[12]=0,n[13]=0,n[14]=0,n[15]=1,n}}(),i.mat4.maxScaleOnAxis=function(e){var t=e[0],r=e[4],n=e[8],i=e[1],s=e[5],a=e[9],o=e[2],u=e[6],c=e[10],l=t*t+r*r+n*n,h=i*i+s*s+a*a,d=o*o+u*u+c*c;return Math.sqrt(Math.max(l,h,d))},i.mat4.perspectiveGL=function(e,t,r,n,s){var a=Math.tan(t/360*Math.PI)*n,o=a*r;return i.mat4.frustum(e,-o,o,-a,a,n,s),e},i.mat4.projectVec3=function(e,t,r){var n=r[0],i=r[1],s=r[2],a=t[0]*n+t[4]*i+t[8]*s+t[12],o=t[1]*n+t[5]*i+t[9]*s+t[13],u=t[2]*n+t[6]*i+t[10]*s+t[14],c=t[3]*n+t[7]*i+t[11]*s+t[15];return e[0]=(a/c+1)/2,e[1]=(o/c+1)/2,e[2]=(u/c+1)/2,e},i.mat4.setTranslation=function(e,t){return e[12]=t[0],e[13]=t[1],e[14]=t[2],e},i.mat4.setTranslationFromValues=function(e,t,r,n){return e[12]=t,e[13]=r,e[14]=n,e}},"./global/math/noise.js":function(e,t,r){"use strict";r.r(t),r.d(t,"noise",(function(){return f}));var n,i,s,a,o,u,c,l,h=r("./global/math/vec3.js"),d=r("./global/math/vec4.js"),f={};f.turbulence=(n=[],i=[],s=[],a=!1,function(e,t,r,o,u,c){a||function(){for(var e=0;e<256;e++)n[e]=d.vec4.fromValues(Math.random()-.5,Math.random()-.5,Math.random()-.5,Math.random()-.5),i[e]=e;for(var t=256;--t;){var r=i[t],o=Math.floor(256*Math.random());i[t]=i[o],i[o]=r}for(var u=0;u<256;u++)i[256+u]=i[u],n[256+u]=n[u],n[512+u]=n[u];for(var c=0;c<15;++c)s[c]=h.vec3.create();a=!0}(),t+=4096,r+=4096,o+=4096,u+=4096;var l=Math.floor(t),f=Math.floor(r),m=Math.floor(o),v=Math.floor(u),p=t-l,_=r-f,E=o-m,S=u-v,T=1+(l&=255),g=1+(f&=255),R=1+(m&=255),b=1+(v&=255),y=i[l],A=i[T],j=i[y+f],w=i[A+f],O=i[y+g],C=i[A+g],L=h.vec3.lerp(s[0],n[j+m+v],n[w+m+v],p),D=h.vec3.lerp(s[1],n[O+m+v],n[C+m+v],p),P=h.vec3.lerp(s[2],n[j+R+v],n[w+R+v],p),x=h.vec3.lerp(s[3],n[j+R+v],n[w+R+v],p),I=h.vec3.lerp(s[4],L,D,_),M=h.vec3.lerp(s[5],P,x,_),F=h.vec3.lerp(s[6],I,M,E);L=h.vec3.lerp(s[7],n[j+m+b],n[w+m+b],p),D=h.vec3.lerp(s[8],n[O+m+b],n[C+m+b],p),P=h.vec3.lerp(s[9],n[j+R+b],n[w+R+b],p),x=h.vec3.lerp(s[10],n[j+R+b],n[w+R+b],p),I=h.vec3.lerp(s[11],L,D,_),M=h.vec3.lerp(s[12],P,x,_);var G=h.vec3.lerp(s[13],I,M,E),N=h.vec3.lerp(s[14],F,G,S);return e[0]+=N[0]*c,e[1]+=N[1]*c,e[2]+=N[2]*c,e}),f.perlin1=(o=!1,u=256,c=null,l=null,function(e){o||function(){c=new Array(u+u+2),l=new Array(u+u+2);var e=0,t=0,r=0;for(e=0;e<u;e++)c[e]=e,l[e]=2*Math.random()-1;for(;--e;)r=c[e],c[e]=c[t=Math.floor(Math.random()*u)],c[t]=r;for(e=0;e<u+2;e++)c[u+e]=c[e],l[u+e]=l[e];o=!0}();var t=e+4096,r=255&Math.floor(t),n=r+1&255,i=t-Math.floor(t),s=i-1,a=i*i*(3-2*i),h=i*l[c[r]];return h+a*(s*l[c[n]]-h)}),f.perlin1D=function(e,t,r,n){for(var i=0,s=e,a=1,o=0;o<n;++o)i+=f.perlin1(s)/a,a*=t,s*=r;return i}},"./global/math/num.js":function(e,t,r){"use strict";r.r(t),r.d(t,"num",(function(){return s}));var n,i,s={};s.EPSILON=1e-6,s.RAD2DEG=180/Math.PI,s.DEG2RAD=Math.PI/180,s.TWO_PI=2*Math.PI,s.PI=Math.PI,s.biCumulative=function(e,t){if(1===t){var r=1-e;return 1-r*r*r}return 2===t?3*e*e-2*e*e*e:e*e*e},s.ceil=Math.ceil,s.clamp=function(e,t,r){return Math.max(t,Math.min(r,e))},s.decimalPlaces=function(e){var t=(""+e).match(/(?:\.(\d+))?(?:[eE]([+-]?\d+))?$/);return t?Math.max(0,(t[1]?t[1].length:0)-(t[2]?+t[2]:0)):0},s.degrees=function(e){return e*s.RAD2DEG},s.degreesUnwrapped=function(e){return s.unwrapDegrees(e*s.RAD2DEG)},s.dwordToFloat=function(e){var t=(16711680&e)>>16,r=(4278190080&e)>>24,n=(r<<1&255|t>>7)-127,i=(127&t)<<16|(65280&e)>>8<<8|255&e;return 0===i&&-127===n?0:(1-2*(r>>7))*(1+i*Math.pow(2,-23))*Math.pow(2,n)},s.equals=function(e,t){return Math.abs(e-t)<=s.EPSILON*Math.max(1,Math.abs(e),Math.abs(t))},s.exactEquals=function(e,t){return e===t},s.exponentialDecay=function(e,t,r,n,i){return t*i/n+r*(e*n-t)/(n*n)*(1-Math.pow(Math.E,-n*i/r))},s.fract=function(e){return e-Math.floor(e)},s.fromHalfFloat=function(e){var t=(32768&e)>>15,r=(31744&e)>>10,n=1023&e;return 0===r?(t?-1:1)*Math.pow(2,-14)*(n/Math.pow(2,10)):31===r?n?NaN:1/0*(t?-1:1):(t?-1:1)*Math.pow(2,r-15)*(1+n/Math.pow(2,10))},s.floor=Math.floor,s.getLongWordOrder=function(e){return 0===e||255===e||-16777216===e?0:1+s.getLongWordOrder(e>>8)},s.greaterThan=function(e,t){return e>t?1:0},s.greaterThanEqual=function(e,t){return s.isEqual(e,t)||e>t?1:0},s.greaterThanExactEqual=function(e,t){return e>=t?1:0},s.isEven=function(e){return Math.abs(e)%2==0},s.isFloat=function(e){return e%1!=0},s.isFinite=Number.isFinite,s.isInt=function(e){return e%1==0},s.isNaN=Number.isNaN,s.isOdd=function(e){return Math.abs(e)%2==1},s.isPowerOfTwo=function(e){return 0==(e&e-1)&&0!==e},s.lessThan=function(e,t){return e<t?1:0},s.lessThanEqual=function(e,t){return s.isEqual(e,t)||e<t?1:0},s.lessThanExactEqual=function(e,t){return e<=t?1:0},s.log2=function(e){return Math.log(e)*Math.LOG2E},s.max=Math.max,s.min=Math.min,s.nearestPowerOfTwo=function(e){return Math.pow(2,Math.round(Math.log(e)/Math.LN2))},s.normalizeInt=function(e,t,r,n){var i=r-t,s=e-t,a=s-s/i*i+t;return void 0===n?a:Number(a.toFixed(n))},s.normalizeFloat=function(e,t,r,n){var i=r-t,s=e-t,a=s-Math.floor(s/i)*i+t;return void 0===n?a:Number(a.toFixed(n))},s.radians=function(e){return e*s.DEG2RAD},s.radiansUnwrapped=function(e){return s.unwrapRadians(e*=s.DEG2RAD)},s.randomInt=function(e,t){return e+Math.floor(Math.random()*(t-e+1))},s.randomFloat=function(e,t){return e+Math.random()*(t-e)},s.round=Math.round,s.roundToZero=function(e){return e<0?Math.ceil(e):Math.floor(e)},s.step=s.greaterThan,s.smoothStep=function(e,t,r){return e<=t?0:e>=r?1:(e=(e-t)/(r-t))*e*(3-2*e)},s.smootherStep=function(e,t,r){return e<=t?0:e>=r?1:(e=(e-t)/(r-t))*e*e*(e*(6*e-15)+10)},s.toHalfFloat=function(e){n||(n=new Float32Array(1),i=new Int32Array(n.buffer)),n[0]=e;var t=i[0],r=t>>16&32768,s=t>>12&2047,a=t>>23&255;return a<103?r:a>142?(r|=31744,r|=(255===a?0:1)&&8388607&t):a<113?r|=((s|=2048)>>114-a)+(s>>113-a&1):(r|=a-112<<10|s>>1,r+=1&s)},s.unwrapDegrees=function(e){return(e%=360)>180&&(e-=360),e<-180&&(e+=360),e},s.unwrapRadians=function(e){return(e%=s.TWO_PI)>s.PI&&(e-=s.TWO_PI),e<-s.PI&&(e+=s.TWO_PI),e}},"./global/math/pln.js":function(e,t,r){"use strict";r.r(t),r.d(t,"pln",(function(){return l}));var n,i,s=r("./global/math/num.js"),a=r("./global/math/vec3.js"),o=r("./global/math/vec4.js"),u=r("./global/math/mat3.js"),c=r("./global/math/box3.js"),l={};l.$normal=function(e){return e.subarray(0,3)},l.clone=o.vec4.clone,l.constant=function(e){return e[3]},l.copy=o.vec4.copy,l.create=o.vec4.create,l.distanceToPoint=function(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]+e[3]},l.distanceToPositionRadius=function(e,t,r){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]-r},l.distanceToSph3=function(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]-t[3]},l.distanceToValues=function(e,t,r,n){return e[0]*t+e[1]*r+e[2]*n+e[3]},l.equals=o.vec4.equals,l.equalsNormalConstant=function(e,t,r){var n=e[0],i=e[1],a=e[2],o=e[3],u=t[0],c=t[1],l=t[2],h=r;return Math.abs(n-u)<=s.num.EPSILON*Math.max(1,Math.abs(n),Math.abs(u))&&Math.abs(i-c)<=s.num.EPSILON*Math.max(1,Math.abs(i),Math.abs(c))&&Math.abs(a-l)<=s.num.EPSILON*Math.max(1,Math.abs(a),Math.abs(l))&&Math.abs(o-h)<=s.num.EPSILON*Math.max(1,Math.abs(o),Math.abs(h))},l.exactEquals=o.vec4.exactEquals,l.exactEqualsNormalConstant=function(e,t,r){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===r},l.extract=function(e,t){return t[0]=e[0],t[1]=e[1],t[2]=e[2],e[3]},l.fromNormalConstant=function(e,t,r){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=r,e},l.fromCoplanarPoints=function(e,t,r,n){var i=n[0]-r[0],s=n[1]-r[1],a=n[2]-r[2],o=t[0]-r[0],u=t[1]-r[1],c=t[2]-r[2],l=s*c-a*u,h=a*o-i*c,d=i*u-s*o,f=l*l+h*h+d*d;if(!(f>0))throw e[0]=0,e[1]=0,e[2]=0,new Error("Normalization error");return f=1/Math.sqrt(f),e[0]=l*f,e[1]=h*f,e[2]=d*f,e[3]=-(t[0]*e[0]+t[1]*e[1]+t[2]*e[2]),e},l.fromNormalAndCoplanarPoint=function(e,t,r){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=-(r[0]*t[0]+r[1]*t[1]+r[2]*t[2]),e},l.getCoplanarPoint=function(e,t){return e[0]=t[0]*-t[3],e[1]=t[1]*-t[3],e[2]=t[2]*-t[3],e},l.getIntersectLne3=function(e,t,r){var n=r[0],i=r[1],s=r[2],a=r[3],o=r[4],u=r[5];e[0]=0,e[1]=0,e[2]=0;var c=a-n,l=o-i,h=u-s,d=t[0]*c+t[1]*l+t[2]*h;if(0===d){if(t[0]*n+t[1]*i+t[2]*s+t[3]===0)return e[0]=n,e[1]=i,e[2]=s,e;throw new Error("Denominator error")}var f=(n*t[0]+i*t[1]+s*t[2]+t[3])/d;if(f<0||f>1)throw new Error("Normalization error");return e[0]=c*f+n,e[1]=l*f+i,e[2]=h*f+s,e},l.getIntersectStartEnd=function(e,t,r,i){return n||(n=c.box3.create()),c.box3.from(n,r,i),l.getIntersectLne3(e,t,n)},l.getNormal=function(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e},l.getOrthoPoint=function(e,t,r){var n=t[0]*r[0]+t[1]*r[1]+t[2]*r[2]+t[3];return a.vec3.multiplyScalar(e,t,n),e},l.getProjectedPoint=function(e,t,r){return l.getOrthoPoint(e,t,r),e[0]=-(e[0]-r[0]),e[1]=-(e[1]-r[1]),e[2]=-(e[2]-r[2]),e},l.intersectsBounds=function(){var e;return function(t,r,n){return e||(e=c.box3.create()),c.box3.from(e,r,n),c.box3.intersectsPln(e,t)}}(),l.intersectsBox3=function(e,t){return c.box3.intersectsPln(t,e)},l.intersectsLne3=function(e,t){var r=e[0]*t[0]+e[1]*t[1]+e[2]*t[2]+e[3],n=e[0]*t[3]+e[1]*t[4]+e[2]*t[5]+e[3];return r<0&&n>0||n<0&&r>0},l.intersectsPositionRadius=function(e,t,r){var n=t[0]*e[0]+t[1]*e[1]+t[2]*e[2];return Math.abs(n-e[3])<=r},l.intersectsSph3=function(e,t){var r=t[0]*e[0]+t[1]*e[1]+t[2]*e[2];return Math.abs(r-e[3])<=t[3]},l.intersectsStartEnd=function(e,t,r){var n=e[0]*t[0]+e[1]*t[1]+e[2]*t[2]+e[3],i=e[0]*r[0]+e[1]*r[1]+e[2]*r[2]+e[3];return n<0&&i>0||i<0&&n>0},l.negate=function(e,t){return e[0]=-t[0],e[1]=-t[1],e[2]=-t[2],e[3]=-1*t[3],e},l.normalize=function(e,t){var r=t[0],n=t[1],i=t[2],s=r*r+n*n+i*i;if(!(s>0))throw e[0]=0,e[1]=0,e[2]=0,new Error("Normalization error");return s=1/Math.sqrt(s),e[0]=t[0]*s,e[1]=t[1]*s,e[2]=t[2]*s,e[3]=t[3]*s,e},l.set=o.vec4.set,l.setArray=o.vec4.setArray,l.toArray=function(e,t,r=0){return t[r]=e[0],t[r+1]=e[1],t[r+2]=e[2],t[r+3]=e[3],e},l.transformMat4=function(e,t,r,n){n||i||(i=u.mat3.create()),n=n||u.mat3.normalFromMat4(i,r);var s=t[0]*-t[3],a=t[1]*-t[3],o=t[2]*-t[3],c=r[0]*s+r[4]*a+r[8]*o+r[12],l=r[1]*s+r[5]*a+r[9]*o+r[13],h=r[2]*s+r[6]*a+r[10]*o+r[14],d=t[0],f=t[1],m=t[2],v=d*n[0]+f*n[3]+m*n[6],p=d*n[1]+f*n[4]+m*n[7],_=d*n[2]+f*n[5]+m*n[8],E=v*v+p*p+_*_;if(!(E>0))throw e[0]=0,e[1]=0,e[2]=0,new Error("Normalization error");return E=1/Math.sqrt(E),e[0]=v*E,e[1]=p*E,e[2]=_*E,e[3]=-(c*e[0]+l*e[1]+h*e[2]),e},l.translate=function(e,t,r){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3]-(r[0]*t[0]+r[1]*t[1]+r[2]*t[2]),e}},"./global/math/quat.js":function(e,t,r){"use strict";r.r(t);var n=r("../node_modules/gl-matrix/lib/gl-matrix.js");r.d(t,"quat",(function(){return n.quat})),n.quat.exp=function(e,t){var r=Math.sqrt(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);return r?(e[0]=Math.sin(r)*t[0]/r,e[1]=Math.sin(r)*t[1]/r,e[2]=Math.sin(r)*t[2]/r,e[3]=Math.cos(r)):(e[0]=0,e[1]=0,e[2]=0,e[3]=1),e},n.quat.ln=function(e,t){var r=n.quat.length(t);if(r>1.0001||r<.99999)e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=0;else if(r=Math.sqrt(t[0]*t[0]+t[1]*t[1]+t[2]*t[2])){var i=Math.atan2(r,t[3])/r;e[0]=i*t[0],e[1]=i*t[1],e[2]=i*t[2],e[3]=0}else e[0]=0,e[1]=0,e[2]=0,e[3]=0;return e},n.quat.pow=function(e,t,r){return 1===r?n.quat.copy(e,t):(n.quat.ln(e,t),e[0]*=r,e[1]*=r,e[2]*=r,e[3]*=r,n.quat.exp(e,e),e)}},"./global/math/ray3.js":function(e,t,r){"use strict";r.r(t),r.d(t,"ray3",(function(){return l}));var n,i,s,a=r("./global/math/vec3.js"),o=(r("./global/math/mat4.js"),r("./global/math/pln.js"),r("./global/math/sph3.js")),u=r("./global/math/box3.js"),c=r("./global/math/tri3.js"),l={};l.$origin=u.box3.$min,l.$direction=u.box3.$max,l.clone=u.box3.clone,l.copy=u.box3.copy,l.copyOrigin=u.box3.copyMin,l.copyDirection=u.box3.copyMax,l.create=u.box3.create,l.distance=function(e,t){return Math.sqrt(l.squaredDistance(e,t))},l.distanceNormalConstant=function(e,t,r){var n=t[0]*e[3]+t[1]*e[4]+t[2]*e[5],i=e[0]*t[0]+e[1]*t[1]+e[2]*t[2]+r;if(0===n){if(0===i)return 0;throw new Error("Determinant error")}var s=-i/n;return s>=0?s:null},l.distancePln=function(e,t){var r=t[0]*e[3]+t[1]*e[4]+t[2]*e[5],n=e[0]*t[0]+e[1]*t[1]+e[2]*t[2]+t[3];if(0===r){if(0===n)return 0;throw new Error("Determinant error")}var i=-n/r;return i>=0?i:null},l.equals=u.box3.equals,l.equalsOriginDestination=u.box3.equalsBounds,l.exactEquals=u.box3.exactEquals,l.exactEqualsOriginDestination=u.box3.exactEqualsBounds,l.from=u.box3.from,l.fromArray=u.box3.fromArray,l.fromStartEnd=function(e,t,r){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=r[0]-t[0],e[4]=r[1]-t[1],e[5]=r[2]-t[2],l.normalize(e,e)},l.fromPerspective=function(e,t,r,n){var i=2*(t[0]-n[0])/n[2]-1,s=2*(t[1]-n[1])/n[3]-1,a=r[3]*i+r[7]*s+-1*r[11]+r[15],o=r[3]*i+r[7]*s+1*r[11]+r[15];if(0===a||0===o)throw new Error("Perspective Divide Error");return e[0]=(r[0]*i+r[4]*s+-1*r[8]+r[12])/a,e[1]=(r[1]*i+r[5]*s+-1*r[9]+r[13])/a,e[2]=(r[2]*i+r[6]*s+-1*r[10]+r[14])/a,e[3]=(r[0]*i+r[4]*s+1*r[8]+r[12])/o-e[0],e[4]=(r[1]*i+r[5]*s+1*r[9]+r[13])/o-e[1],e[5]=(r[2]*i+r[6]*s+1*r[10]+r[14])/o-e[2],l.normalize(e,e)},l.unproject=function(e,t,r,n){var i=[t[0],t[1],0],s=[t[0],t[1],1];a.vec3.unproject(i,i,r,n),a.vec3.unproject(s,s,r,n),l.fromStartEnd(e,i,s)},l.get=function(e,t,r){return e[0]=t[0]+t[3]*r,e[1]=t[1]+t[4]*r,e[2]=t[2]+t[5]*r,e},l.getDirection=u.box3.getMax,l.getClosestPointToPoint=function(e,t,r){var n=r[0]-t[0],i=r[1]-t[1],s=r[2]-t[2],a=n*t[3]+i*t[4]+s*t[5];return a<0?(e[0]=t[0],e[1]=t[1],e[2]=t[2]):l.get(e,t,a),e},l.getIntersectBounds=function(e,t,r,n){var i,s,a,o,u,c,h=1/t[3],d=1/t[4],f=1/t[5];return h>=0?(i=(r[0]-t[0])*h,s=(n[0]-t[0])*h):(i=(n[0]-t[0])*h,s=(r[0]-t[0])*h),d>=0?(a=(r[1]-t[1])*d,o=(n[1]-t[1])*d):(a=(n[1]-t[1])*d,o=(r[1]-t[1])*d),i>o||a>s?null:((a>i||i!=i)&&(i=a),(o<s||s!=s)&&(s=o),f>=0?(u=(r[2]-t[2])*f,c=(n[2]-t[2])*f):(u=(n[2]-t[2])*f,c=(r[2]-t[2])*f),i>c||u>s?null:((u>i||i!=i)&&(i=u),(c<s||s!=s)&&(s=c),s<0?null:l.get(e,t,i>=0?i:s)))},l.getIntersectBox3=function(e,t,r){return n||(n=a.vec3.create(),i=a.vec3.create()),u.box3.getMin(n,r),u.box3.getMax(i,r),l.getIntersectBounds(e,t,n,i)},l.getIntersectTri3=function(){var e,t,r;return function(n,i,s,o){return e||(e=a.vec3.create(),t=a.vec3.create(),r=a.vec3.create()),c.tri3.getV1(e,s),c.tri3.getV2(t,s),c.tri3.getV3(r,s),l.getIntersectVertices(n,i,e,t,r,o)}}(),l.getIntersectVertices=function(){var e,t,r,n,i,s;return function(o,u,c,h,d,f){e||(e=a.vec3.create(),t=a.vec3.create(),r=a.vec3.create(),n=a.vec3.create(),i=a.vec3.create(),s=a.vec3.create());var m,v=l.getOrigin(i,u),p=l.getDirection(s,u),_=a.vec3.subtract(e,v,c),E=a.vec3.subtract(t,h,c),S=a.vec3.subtract(r,d,c),T=a.vec3.cross(n,E,S),g=a.vec3.dot(p,T);if(g>0){if(f)return null;m=1}else{if(!(g<0))return null;m=-1,g=-g}a.vec3.cross(S,_,S);var R=m*a.vec3.dot(p,S);if(R<0)return null;a.vec3.cross(E,E,_);var b=m*a.vec3.dot(p,E);if(b<0)return null;if(R+b>g)return null;var y=-m*a.vec3.dot(_,T);return y<0?null:l.get(o,u,y/g)}}(),l.getIntersectNormalConstant=function(e,t,r,n){var i=l.distanceNormalConstant(t,r,n);return null!==i?l.get(e,t,i):null},l.getIntersectPln=function(e,t,r){var n=l.distancePln(t,r);return null!==n?l.get(e,t,n):null},l.getIntersectPositionRadius=function(e,t,r,n){return s||(s=o.sph3.create()),o.sph3.from(s,r,n),l.getIntersectSph3(e,t,s)},l.getIntersectSph3=function(e,t,r){var n=r[0]-t[0],i=r[1]-t[1],s=r[2]-t[2],a=r[3]*r[3],o=n*t[3]+i*t[4]+s*t[5],u=n*n+i*i+s*s-o*o;if(u>a)return null;var c=Math.sqrt(a-u),h=o-c,d=o+c;return h<0&&d<0?null:h<0?l.get(e,t,d):l.get(e,t,h)},l.getOrigin=u.box3.getMin,l.intersectsBox3=function(){var e;return function(t,r){return e||(e=a.vec3.create()),l.vec3_0=null!==l.getIntersectBox3(e,t,r)}}(),l.intersectsBounds=function(){var e;return function(t,r,n){return e||(e=a.vec3.create()),null!==l.getIntersectBounds(e,t,r,n)}}(),l.intersectsNormalConstant=function(e,t,r){var n=e[0]*t[0]+e[1]*t[1]+e[2]*t[2]+r;return 0===n||(t[0]*e[3]+t[1]*e[4]+t[2]*e[5])*n<0},l.intersectsPln=function(e,t){var r=e[0]*t[0]+e[1]*t[1]+e[2]*t[2]+t[3];return 0===r||(t[0]*e[3]+t[1]*e[4]+t[2]*e[5])*r<0},l.intersectsPositionRadius=function(e,t,r){return l.distance(e,t)<=r},l.intersectsSph3=function(e,t){return l.distance(e,t)<=t[3]},l.lookAt=function(e,t,r){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=r[0]-t[0],e[4]=r[1]-t[1],e[5]=r[2]-t[2],l.normalize(e,e)},l.normalize=function(e,t){e[0]=t[0],e[1]=t[1],e[2]=t[2];var r=t[3],n=t[4],i=t[5],s=r*r+n*n+i*i;if(!(s>0))throw e[1]=0,e[2]=0,e[3]=0,new Error("Normalization error");return s=1/Math.sqrt(s),e[3]=r*s,e[4]=n*s,e[5]=i*s,e},l.recast=function(e,t,r){return e[0]=t[0]+t[3]*r,e[1]=t[1]+t[4]*r,e[2]=t[2]+t[5]*r,e[3]=t[3],e[4]=t[4],e[5]=t[5],e},l.set=u.box3.set,l.SORT=function(e,t){return e.distance-t.distance},l.squaredDistance=function(){var e,t;return function(r,n){e||(e=a.vec3.create(),t=a.vec3.create()),e[0]=n[0]-r[0],e[1]=n[1]-r[1],e[2]=n[2]-r[2];var i=e[0]*r[3]+e[1]*r[4]+e[2]*r[5];return i<0?(l.getOrigin(t,r),a.vec3.squaredDistance(t,n)):(l.get(e,r,i),a.vec3.squaredDistance(e,n))}}(),l.toArray=u.box3.toArray,l.toOriginDirection=function(e,t,r){return t[0]=e[0],t[1]=e[1],t[2]=e[2],r[0]=e[3],r[1]=e[4],r[2]=e[5],e},l.transformMat4=function(e,t,r){var n=t[0],i=t[1],s=t[2],a=t[3]+t[0],o=t[4]+t[1],u=t[5]+t[2],c=r[3]*n+r[7]*i+r[11]*s+r[15]||1,h=r[3]*a+r[7]*o+r[11]*u+r[15]||1;return e[0]=(r[0]*n+r[4]*i+r[8]*s+r[12])/c,e[1]=(r[1]*n+r[5]*i+r[9]*s+r[13])/c,e[2]=(r[2]*n+r[6]*i+r[10]*s+r[14])/c,e[3]=(r[0]*a+r[4]*o+r[8]*u+r[12])/h-e[0],e[4]=(r[1]*a+r[5]*o+r[9]*u+r[13])/h-e[1],e[5]=(r[2]*a+r[6]*o+r[10]*u+r[14])/h-e[2],l.normalize(e,e)},l.translate=function(e,t,r){return e[0]=t[0]+r[0],e[1]=t[1]+r[1],e[2]=t[2]+r[2],e}},"./global/math/sph3.js":function(e,t,r){"use strict";r.r(t),r.d(t,"sph3",(function(){return c}));var n,i=r("./global/math/vec3.js"),s=r("./global/math/vec4.js"),a=r("./global/math/mat4.js"),o=r("./global/math/pln.js"),u=r("./global/math/box3.js"),c={},l=null;c.$position=o.pln.$normal,c.clone=s.vec4.clone,c.containsPoint=function(e,t){var r=t[0]-e[0],n=t[1]-e[1],i=t[2]-e[2];return r*r+n*n+i*i<=e[3]*e[3]},c.copy=s.vec4.copy,c.create=s.vec4.create,c.distance=function(e,t){var r=t[0]-e[0],n=t[1]-e[1],i=t[2]-e[2],s=t[3]+e[3];return Math.sqrt(r*r+n*n+i*i)-s},c.distanceToPoint=function(e,t){var r=t[0]-e[0],n=t[1]-e[1],i=t[2]-e[2];return Math.sqrt(r*r+n*n+i*i)-e[3]},c.empty=function(e){return e[0]=0,e[1]=0,e[2]=0,e[3]=0,e},c.equals=s.vec4.equals,c.equalsPositionRadius=o.pln.equalsNormalConstant,c.exactEquals=s.vec4.exactEquals,c.exactEqualsPositionRadius=o.pln.exactEqualsNormalConstant,c.extract=o.pln.extract,c.fromBox3=function(e,t){var r=t[3]-t[0],n=t[4]-t[1],i=t[5]-t[2];return e[0]=.5*(t[0]+t[3]),e[1]=.5*(t[1]+t[4]),e[2]=.5*(t[2]+t[5]),e[3]=.5*Math.sqrt(r*r+n*n+i*i),e},c.fromBounds=function(e,t,r){var n=r[0]-t[0],i=r[1]-t[1],s=r[2]-t[2];return e[0]=.5*(t[0]+r[0]),e[1]=.5*(t[1]+r[1]),e[2]=.5*(t[2]+r[2]),e[3]=.5*Math.sqrt(n*n+i*i+s*s),e},c.fromObjectBounds=function(e,t,r){if(t.minBounds)c.fromBounds(e,t.minBounds,t.maxBounds);else{if(!t._boundingBox)throw new Error("Invalid object bounds");c.fromBox3(e,t._boundingBox)}return r&&c.transformMat4(e,e,r),e},c.fromObjectPositionRadius=function(e,t,r){if(t.boundsSpherePosition)c.fromPositionRadius(e,t.boundsSpherePosition,t.boundsSphereRadius);else{if(!t.boundingSphereCenter)throw new Error("Invalid object bounds");c.fromPositionRadius(e,t.boundingSphereCenter,t.boundingSphereRadius)}return r&&c.transformMat4(e,e,r),e},c.fromPositionRadius=o.pln.fromNormalConstant,c.fromTranslationRadius=function(e,t,r){return e[0]=t[12],e[1]=t[13],e[2]=t[14],e[3]=r,e},c.fromMat4=function(e,t){return e[0]=t[12],e[1]=t[13],e[2]=t[14],e[3]=a.mat4.maxScaleOnAxis(t),e},c.getClampedPoint=function(e,t,r){e[0]=r[0],e[1]=r[1],e[2]=r[2];var n=t[0]-r[0],s=t[1]-r[1],a=t[2]-r[2];return n*n+s*s+a*a>t[3]*t[3]&&(e[0]=e[0]-t[0],e[1]=e[1]-t[1],e[2]=e[2]-t[2],i.vec3.normalize(e,e),e[0]=e[0]*t[3]+t[0],e[1]=e[1]*t[3]+t[1],e[2]=e[2]*t[3]+t[2]),e},c.getPointFromLongLat=function(e,t,r,n){return e[0]=t[0]+t[3]*Math.sin(n)*Math.cos(r),e[1]=t[1]+t[3]*Math.sin(n)*Math.sin(r),e[2]=t[2]+t[3]*Math.cos(n),e},c.getPosition=o.pln.getNormal,c.intersectsSph3=function(e,t){var r=t[0]-e[0],n=t[1]-e[1],i=t[2]-e[2],s=e[3]+t[3];return r*r+n*n+i*i<=s*s},c.intersectsBox3=function(e,t){return u.box3.intersectsSph3(t,e)},c.intersectsBounds=function(e,t,r){var n=Math.max(t[0],Math.min(r[0],e[0]))-e[0],i=Math.max(t[1],Math.min(r[1],e[1]))-e[1],s=Math.max(t[2],Math.min(r[2],e[2]))-e[2];return n*n+i*i+s*s<=e[3]*e[3]},c.intersectsPositionRadius=function(e,t,r){var n=t[0]-e[0],i=t[1]-e[1],s=t[2]-e[2],a=e[3]+r;return n*n+i*i+s*s<=a*a},c.intersectsPln=function(e,t){return o.pln.intersectsSph3(t,e)},c.intersectsNormalConstant=function(e,t,r){var n=e[0]*t[0]+e[1]*t[1]+e[2]*t[2];return Math.abs(n-r)<=e[3]},c.isEmpty=function(e){return e[3]<=0},c.radius=o.pln.constant,c.set=s.vec4.set,c.setArray=s.vec4.setArray,c.setPoints=function(e,t,r){n||(n=u.box3.create()),r?(e[0]=r[0],e[1]=r[1],e[2]=r[2]):(u.box3.setPoints(n,t),e[0]=.5*(n[0]+n[3]),e[1]=.5*(n[1]+n[4]),e[2]=.5*(n[2]+n[5]));for(var i=0,s=0;s<t.length;s++){var a=e[0]-t[s][0],o=e[1]-t[s][1],c=e[2]-t[s][2];i=Math.max(i,a*a+o*o+c*c)}return e[3]=Math.sqrt(i),e},c.squaredDistance=function(e,t){var r=t[0]-e[0],n=t[1]-e[1],i=t[2]-e[2],s=t[3]+e[3];return r*r+n*n+i*i-s*s},c.squaredDistanceToPoint=function(e,t){var r=t[0]-e[0],n=t[1]-e[1],i=t[2]-e[2];return r*r+n*n+i*i-e[3]},c.toArray=s.vec4.toArray,c.toObjectBounds=function(e,t,r){if(!(t.minBounds||t._boundingBox))throw new Error("Invalid object bounds");r&&(l||(l=c.create()),e=c.transformMat4(l,e,r)),t.minBounds?c.toBounds(e,t.minBounds,t.maxBounds):u.box3.fromSph3(t._boundingBox,e)},c.toObjectPositionRadius=function(e,t,r){if(r&&(l||(l=c.create()),e=c.transformMat4(l,e,r)),t.boundsSpherePosition)t.boundsSphereRadius=c.toPositionRadius(e,t.boundsSpherePosition);else{if(!t.boundingSphereCenter)throw new Error("Invalid object bounds");t.boundingSphereRadius=c.toPositionRadius(e,t.boundingSphereCenter)}},c.transformMat4=function(e,t,r){var n=t[0],i=t[1],s=t[2],a=r[0]*r[0]+r[1]*r[1]+r[2]*r[2],o=r[4]*r[4]+r[5]*r[5]+r[6]*r[6],u=r[8]*r[8]+r[9]*r[9]+r[10]*r[10];return e[0]=r[0]*n+r[4]*i+r[8]*s+r[12],e[1]=r[1]*n+r[5]*i+r[9]*s+r[13],e[2]=r[2]*n+r[6]*i+r[10]*s+r[14],e[3]=t[3]*Math.sqrt(Math.max(a,o,u)),e},c.translate=function(e,t,r){return e[0]=t[0]+r[0],e[1]=t[1]+r[1],e[2]=t[2]+r[2],e}},"./global/math/tri3.js":function(e,t,r){"use strict";r.r(t),r.d(t,"tri3",(function(){return h}));var n,i,s,a,o=r("./global/math/vec3.js"),u=r("./global/math/mat3.js"),c=r("./global/math/pln.js"),l=r("./global/math/lne3.js"),h={};h.$v1=l.lne3.$start,h.$v2=l.lne3.$end,h.$v3=function(e){return e.subarray(6,9)},h.area=function(e){var t=e[7]-e[3],r=e[8]-e[4],n=e[9]-e[5],i=e[0]-e[3],s=e[1]-e[4],a=e[2]-e[5],o=t*a-n*s,u=n*i-t*a,c=t*s-r*i;return.5*Math.sqrt(o*o+u*u+c*c)},h.create=function(){var e=new Float32Array(9);return e[0]=0,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=0,e[6]=0,e[7]=0,e[8]=0,e},h.clone=u.mat3.clone,h.contains=function(e,t){return n||(n=o.vec3.create()),h.getBaryCentricCoordinates(n,e,t),n[0]>=0&&n[1]>=0&&n[0]+n[1]<=1},h.copy=u.mat3.copy,h.fromVertices=function(e,t,r,n){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=r[0],e[4]=r[1],e[5]=r[2],e[6]=n[0],e[7]=n[1],e[8]=n[2],e},h.fromArray=u.mat3.fromArray,h.getBaryCentricCoordinates=function(e,t,r){var n=t[7]-t[0],i=t[8]-t[1],s=t[9]-t[2],a=t[3]-t[0],o=t[4]-t[1],u=t[5]-t[2],c=r[0]-t[0],l=r[1]-t[1],h=r[2]-t[2],d=n[0]*n[0]+i[1]*i[1]+s[2]*s[2],f=n[0]*a[0]+i[1]*o[1]+s[2]*u[2],m=n[0]*c[0]+i[1]*l[1]+s[2]*h[2],v=a[0]*a[0]+o[1]*o[1]+u[2]*u[2],p=a[0]*c[0]+o[1]*l[1]+u[2]*h[2],_=d*v-f*f;if(0===_)throw e[0]=-2,e[1]=-1,e[2]=-1,new Error("Denominator error");var E=1/_,S=(v*m-f*p)*E,T=(d*p-f*m)*E;return e[0]=1-S-T,e[1]=T,e[2]=S,e},h.getClosestEdgeToPoint=function(e,t,r){i||(i=o.vec3.create(),s=o.vec3.create(),a=[l.lne3.create(),l.lne3.create(),l.lne3.create()]);var n=h.getClosestPointToPoint(i,t,r);l.lne3.set(a[0],t[0],t[1],t[2],t[3],t[4],t[5]),l.lne3.set(a[1],t[3],t[4],t[5],t[6],t[7],t[8]),l.lne3.set(a[2],t[6],t[7],t[8],t[0],t[1],t[2]);for(var u=1/0,c=0;c<a.length;c++){var d=l.lne3.getClosestPointToPoint(s,a[c],n,!0),f=o.vec3.squaredDistance(d,n);f<u&&(u=f,e[0]=a[c][0],e[1]=a[c][1],e[2]=a[c][2],e[3]=a[c][3],e[4]=a[c][4],e[5]=a[c][5])}return e},h.getClosestPointToPoint=function(){var e,t,r,n,i,s,a;return function(u,d,f){if(e||(e=c.pln.create(),t=[l.lne3.create(),l.lne3.create(),l.lne3.create()],r=o.vec3.create(),n=o.vec3.create(),i=o.vec3.create(),s=o.vec3.create(),a=o.vec3.create()),h.getV1(i,d),h.getV2(s,d),h.getV3(a,d),c.pln.fromCoplanarPoints(e,i,s,a),c.pln.getProjectedPoint(r,e,f),!0===h.contains(d,r))u[0]=r[0],u[1]=r[1],u[2]=r[2];else{l.lne3.set(t[0],d[0],d[1],d[2],d[3],d[4],d[5]),l.lne3.set(t[1],d[3],d[4],d[5],d[6],d[7],d[8]),l.lne3.set(t[2],d[6],d[7],d[8],d[0],d[1],d[2]);for(var m=1/0,v=0;v<t.length;v++){l.lne3.getClosestPointToPoint(n,t[v],r,!0);var p=o.vec3.squaredDistance(r,n);p<m&&(m=p,u[0]=n[0],u[1]=n[1],u[2]=n[2])}}return u}}(),h.getClosestVertexToPoint=function(){var e,t,r;return function(n,i,s){e||(e=o.vec3.create(),t=o.vec3.create(),r=o.vec3.create()),h.getClosestPointToPoint(n,i,s);for(var a,u,c,l,d=1/0,f=[h.getV1(e,i),h.getV2(t,i),h.getV3(r,i)],m=0;m<f.length;m++)(a=o.vec3.squaredDistance(f[m],n))<d&&(d=a,u=f[m][0],c=f[m][1],l=f[m][2]);return n[0]=u,n[1]=c,n[2]=l,n}}(),h.getMidpoint=function(e,t){return e[0]=(t[0]+t[3]+t[6])*(1/3),e[1]=(t[1]+t[4]+t[7])*(1/3),e[2]=(t[2]+t[5]+t[8])*(1/3),e},h.getNormal=function(e,t){var r=t[7]-t[3],n=t[8]-t[4],i=t[9]-t[5],s=t[0]-t[3],a=t[1]-t[4],o=t[2]-t[5],u=n*o-i*a,c=i*s-r*o,l=r*a-n*s,h=u*u+c*c+l*l;if(!(h>0))throw e[0]=0,e[1]=0,e[2]=0,new Error("Normalization error");return h=1/Math.sqrt(h),e[0]=u*h,e[1]=c*h,e[2]=l*h,e},h.getV1=l.lne3.getStart,h.getV2=l.lne3.getEnd,h.getV3=function(e,t){return e[0]=t[6],e[1]=t[7],e[2]=t[8],e},h.toArray=u.mat3.toArray,h.toVertices=function(e,t,r,n){return t[0]=e[0],t[1]=e[1],t[2]=e[2],r[0]=e[0],r[1]=e[1],r[2]=e[2],n[0]=e[0],n[1]=e[1],n[2]=e[2],e}},"./global/math/vec2.js":function(e,t,r){"use strict";r.r(t);var n=r("../node_modules/gl-matrix/lib/gl-matrix.js");r.d(t,"vec2",(function(){return n.vec2})),n.vec2.addScalar=function(e,t,r){return e[0]=t[0]+r,e[1]=t[1]+r,e},n.vec2.isEmpty=function(e){return 0===e[0]&&0===e[1]},n.vec2.divideScalar=function(e,t,r){return n.vec2.multiplyScalar(e,t,1/r)},n.vec2.multiplyScalar=function(e,t,r){return e[0]=t[0]*r,e[1]=t[1]*r,e},n.vec2.setScalar=function(e,t){return e[0]=t,e[1]=t,e},n.vec2.subtractScalar=function(e,t,r){return e[0]=t[0]-r,e[1]=t[1]-r,e}},"./global/math/vec3.js":function(e,t,r){"use strict";r.r(t);var n=r("../node_modules/gl-matrix/lib/gl-matrix.js");r.d(t,"vec3",(function(){return n.vec3}));var i,s,a,o=r("./global/math/num.js");n.vec3.X_AXIS=n.vec3.fromValues(1,0,0),n.vec3.Y_AXIS=n.vec3.fromValues(0,1,0),n.vec3.Z_AXIS=n.vec3.fromValues(0,0,1),n.vec3.addScalar=function(e,t,r){return e[0]=t[0]+r,e[1]=t[1]+r,e[2]=t[2]+r,e},n.vec3.degrees=function(e,t){return e[0]=t[0]*o.num.RAD2DEG,e[1]=t[1]*o.num.RAD2DEG,e[2]=t[2]*o.num.RAD2DEG,e},n.vec3.degreesUnwrapped=function(e,t){return e[0]=o.num.unwrapDegrees(t[0]*o.num.RAD2DEG),e[1]=o.num.unwrapDegrees(t[1]*o.num.RAD2DEG),e[2]=o.num.unwrapDegrees(t[2]*o.num.RAD2DEG),e},n.vec3.direction=function(e,t,r){return n.vec3.subtract(e,t,r),n.vec3.normalize(e,e),e},n.vec3.directionFromQuat=function(e,t,r){return n.vec3.transformQuat(e,t,r)},n.vec3.directionFromMat4=function(e,t,r){return i||(i=n.quat.create()),n.mat4.getRotation(i,r),n.vec3.transformQuat(e,t,i)},n.vec3.divideScalar=function(e,t,r){return n.vec3.multiplyScalar(e,t,1/r)},n.vec3.euler={},n.vec3.euler.DEFAULT_ORDER="XYZ",n.vec3.euler.fromQuat=function(e,t,r=n.vec3.euler.DEFAULT_ORDER){return s||(s=n.mat4.create()),n.mat4.fromQuat(s,t),n.vec3.euler.fromMat4(e,s,r)},n.vec3.euler.fromMat4=function(e,t,r=n.vec3.euler.DEFAULT_ORDER){var i=t[0],s=t[4],a=t[8],u=t[1],c=t[5],l=t[9],h=t[2],d=t[6],f=t[10],m=o.num.clamp;if("XYZ"===r)e[1]=Math.asin(m(a,-1,1)),Math.abs(a)<.99999?(e[0]=Math.atan2(-l,f),e[2]=Math.atan2(-s,i)):(e[0]=Math.atan2(d,c),e[2]=0);else if("YXZ"===r)e[0]=Math.asin(-m(l,-1,1)),Math.abs(l)<.99999?(e[1]=Math.atan2(a,f),e[2]=Math.atan2(u,c)):(e[1]=Math.atan2(-h,i),e[2]=0);else if("ZXY"===r)e[0]=Math.asin(m(d,-1,1)),Math.abs(d)<.99999?(e[1]=Math.atan2(-h,f),e[2]=Math.atan2(-s,c)):(e[1]=0,e[2]=Math.atan2(u,i));else if("ZYX"===r)e[1]=Math.asin(-m(h,-1,1)),Math.abs(h)<.99999?(e[0]=Math.atan2(d,f),e[2]=Math.atan2(u,i)):(e[0]=0,e[2]=Math.atan2(-s,c));else if("YZX"===r)e[2]=Math.asin(m(u,-1,1)),Math.abs(u)<.99999?(e[0]=Math.atan2(-l,c),e[1]=Math.atan2(-h,i)):(e[0]=0,e[1]=Math.atan2(a,f));else{if("XZY"!==r)throw e[0]=0,e[1]=0,e[2]=0,new Error("Unrecognised euler order: "+r);e[2]=Math.asin(-m(s,-1,1)),Math.abs(s)<.99999?(e[0]=Math.atan2(d,c),e[1]=Math.atan2(a,i)):(e[0]=Math.atan2(-l,f),e[1]=0)}return n.vec3.unwrapRadians(e,e)},n.vec3.euler.getQuat=function(e,t,r=n.vec3.euler.DEFAULT_ORDER){var i=o.num.unwrapRadians(t[0]),s=o.num.unwrapRadians(t[1]),a=o.num.unwrapRadians(t[2]),u=Math.cos(i/2),c=Math.cos(s/2),l=Math.cos(a/2),h=Math.sin(i/2),d=Math.sin(s/2),f=Math.sin(a/2);if("XYZ"===r)e[0]=h*c*l+u*d*f,e[1]=u*d*l-h*c*f,e[2]=u*c*f+h*d*l,e[3]=u*c*l-h*d*f;else if("YXZ"===r)e[0]=h*c*l+u*d*f,e[1]=u*d*l-h*c*f,e[2]=u*c*f-h*d*l,e[3]=u*c*l+h*d*f;else if("ZXY"===r)e[0]=h*c*l-u*d*f,e[1]=u*d*l+h*c*f,e[2]=u*c*f+h*d*l,e[3]=u*c*l-h*d*f;else if("ZYX"===r)e[0]=h*c*l-u*d*f,e[1]=u*d*l+h*c*f,e[2]=u*c*f-h*d*l,e[3]=u*c*l+h*d*f;else if("YZX"===r)e[0]=h*c*l+u*d*f,e[1]=u*d*l+h*c*f,e[2]=u*c*f-h*d*l,e[3]=u*c*l-h*d*f;else{if("XZY"!==r)throw e[0]=0,e[1]=0,e[2]=0,e[3]=1,new Error("Unrecognised euler order: "+r);e[0]=h*c*l-u*d*f,e[1]=u*d*l-h*c*f,e[2]=u*c*f+h*d*l,e[3]=u*c*l+h*d*f}return e},n.vec3.exponentialDecay=function(e,t,r,n,i,s){return e[0]=o.num.exponentialDecay(t[0],r[0],n,i,s),e[1]=o.num.exponentialDecay(t[1],r[1],n,i,s),e[2]=o.num.exponentialDecay(t[2],r[2],n,i,s),e},n.vec3.fromSpherical=function(e,t,r){var n=t[0],i=t[1],s=t[2];return e[0]=s*Math.sin(n)*Math.sin(i),e[1]=s*Math.cos(i),e[2]=s*Math.cos(n)*Math.sin(i),r&&(e[0]+=r[0],e[1]+=r[1],e[2]+=r[2]),e},n.vec3.getSpherical=function(e,t){var r=0,i=0,s=n.vec3.length(t);return 0!==s&&(r=Math.acos(Math.max(t[1]/s,Math.min(-1,1))),i=Math.atan2(t[0],t[2])),e[0]=r,e[1]=i,e[2]=s,e},n.vec3.isEmpty=function(e){return 0===e[0]&&0===e[1]&&0===e[2]},n.vec3.multiplyScalar=function(e,t,r){return e[0]=t[0]*r,e[1]=t[1]*r,e[2]=t[2]*r,e},n.vec3.polarToCartesian=function(e,t,r,n){return e[0]=t*Math.cos(r)*Math.sin(n),e[1]=t*Math.sin(r),e[2]=t*Math.cos(r)*Math.cos(n),e},n.vec3.project=function(e,t,r,n){var i=t[0],s=t[1],a=t[2],o=r[0]*i+r[4]*s+r[8]*a+r[12],u=r[1]*i+r[5]*s+r[9]*a+r[13],c=r[3]*i+r[7]*s+r[11]*a+r[15],l=(o/c+1)/2,h=1-(u/c+1)/2;return e[0]=l*n[2]+n[0],e[1]=h*n[3]+n[1],e[2]=c,e},n.vec3.radians=function(e,t){return e[0]=t[0]*o.num.DEG2RAD,e[1]=t[1]*o.num.DEG2RAD,e[2]=t[2]*o.num.DEG2RAD,e},n.vec3.radiansUnwrapped=function(e,t){return e[0]=o.num.unwrapRadians(t[0]*o.num.DEG2RAD),e[1]=o.num.unwrapRadians(t[1]*o.num.DEG2RAD),e[2]=o.num.unwrapRadians(t[2]*o.num.DEG2RAD),e},n.vec3.setScalar=function(e,t){return e[0]=t,e[1]=t,e[2]=t,e},n.vec3.subtractScalar=function(e,t,r){return e[0]=t[0]-r,e[1]=t[1]-r,e[2]=t[2]-r,e},n.vec3.unproject=function(e,t,r,i){a||(a=n.vec4.create());var s=t[0],o=t[1],u=t[2];if(a[0]=2*(s-i[0])/i[2]-1,a[1]=2*(o-i[1])/i[3]-1,a[2]=2*u-1,a[3]=1,n.vec4.transformMat4(a,a,r),0===a[3])throw e[0]=0,e[1]=0,e[2]=0,new Error("Perspective divide error");return e[0]=a[0]/a[3],e[1]=a[1]/a[3],e[2]=a[2]/a[3],e},n.vec3.unwrapDegrees=function(e,t){return e[0]=o.num.unwrapDegrees(t[0]),e[1]=o.num.unwrapDegrees(t[1]),e[2]=o.num.unwrapDegrees(t[2]),e},n.vec3.unwrapRadians=function(e,t){return e[0]=o.num.unwrapRadians(t[0]),e[1]=o.num.unwrapRadians(t[1]),e[2]=o.num.unwrapRadians(t[2]),e}},"./global/math/vec4.js":function(e,t,r){"use strict";r.r(t);var n=r("../node_modules/gl-matrix/lib/gl-matrix.js");r.d(t,"vec4",(function(){return n.vec4})),n.vec4.ZERO=n.vec4.fromValues(0,0,0,0),n.vec4.addScalar=function(e,t,r){return e[0]=t[0]+r,e[1]=t[1]+r,e[2]=t[2]+r,e[3]=t[3]+r,e},n.vec4.isEmpty=function(e){return 0===e[0]&&0===e[1]&&0===e[2]&&0===e[3]},n.vec4.divideScalar=function(e,t,r){return n.vec4.multiplyScalar(e,t,1/r)},n.vec4.multiplyScalar=function(e,t,r){return e[0]=t[0]*r,e[1]=t[1]*r,e[2]=t[2]*r,e[3]=t[3]*r,e},n.vec4.setScalar=function(e,t){return e[0]=t,e[1]=t,e[2]=t,e[3]=t,e},n.vec4.subtractScalar=function(e,t,r){return e[0]=t[0]-r,e[1]=t[1]-r,e[2]=t[2]-r,e[3]=t[3]-r,e}},"./global/meta/@abstract.js":function(e,t,r){"use strict";r.r(t),r.d(t,"abstract",(function(){return s}));var n=r("./core/Tw2Error.js"),i=r("./global/meta/helpers.js"),s=Object(i.decorate)({class:({target:e})=>(class t extends e{constructor(){if(super(),this.constructor===t)throw new n.ErrAbstractClass({class:e.name})}}),method:({property:e,descriptor:t})=>(t.value=function(){throw new n.ErrAbstractMethod({method:e})},t)})()},"./global/meta/@black.js":function(e,t,r){"use strict";r.r(t),r.d(t,"list",(function(){return l})),r.d(t,"object",(function(){return h})),r.d(t,"plain",(function(){return d})),r.d(t,"unknown",(function(){return f})),r.d(t,"boolean",(function(){return m})),r.d(t,"string",(function(){return v})),r.d(t,"path",(function(){return p})),r.d(t,"expression",(function(){return _})),r.d(t,"float",(function(){return E})),r.d(t,"uint",(function(){return S})),r.d(t,"byte",(function(){return T})),r.d(t,"ushort",(function(){return g})),r.d(t,"raw",(function(){return R})),r.d(t,"array",(function(){return b})),r.d(t,"vector2",(function(){return y})),r.d(t,"vector3",(function(){return A})),r.d(t,"vector4",(function(){return j})),r.d(t,"color",(function(){return w})),r.d(t,"quaternion",(function(){return O})),r.d(t,"matrix4",(function(){return C})),r.d(t,"indexBuffer",(function(){return L})),r.d(t,"fromList",(function(){return D})),r.d(t,"struct",(function(){return P}));var n=r("./core/reader/Tw2BlackPropertyReaders.js"),i=r("./global/engine/Tw2Constant.js"),s=r("./global/util/type.js"),a=r("./global/meta/helpers.js"),o=r("./global/meta/meta.js");function u({target:e,property:t,descriptor:r},n,i,s){Object(a.typeHandler)({target:e,property:t,descriptor:r},n,i),Object(o.set)("black",s,e,t),Object(o.set)("black",!0,e)}function c(e,t){return Object(a.decorate)({property({target:r,property:n,descriptor:i},s){u({target:r,property:n,descriptor:i},e,s,t)}})}var l=c(i.Type.LIST,n.array),h=c(i.Type.OBJECT,n.object),d=c(i.Type.PLAIN,n.notImplemented),f=c(i.Type.UNKNOWN,n.notImplemented)(),m=c(i.Type.BOOLEAN,n.boolean)(),v=c(i.Type.STRING,n.string)(),p=c(i.Type.PATH,n.path)(),_=c(i.Type.EXPRESSION,n.string)(),E=c(i.Type.FLOAT,n.float)(),S=c(i.Type.UINT,n.uint)(),T=c(i.Type.BYTE,n.byte)(),g=c(i.Type.USHORT,n.ushort)(),R=c(i.Type.RAW,n.rawObject)(),b=c(i.Type.ARRAY,n.array)(),y=c(i.Type.VECTOR2,n.vector2)(),A=c(i.Type.VECTOR3,n.vector3)(),j=c(i.Type.VECTOR4,n.vector4)(),w=c(i.Type.COLOR,n.color)(),O=c(i.Type.QUATERNION,n.vector4)(),C=c(i.Type.MATRIX4,n.matrix)(),L=c(i.Type.INDEX_BUFFER,n.indexBuffer)(),D=Object(a.decorate)({property({target:e,property:t,descriptor:r},s,a){u({target:e,property:t,descriptor:r},i.Type.PLAIN,a,n.fromList(s))}}),P=Object(a.decorate)({property({target:e,property:t,descriptor:r},a,o){var c=n.notImplemented,l=i.Type.UNKNOWN;Object(s.isArray)(a)?Object(s.isFunction)(a[0])&&(c=n.structList(a[0]),l=i.Type.LIST):Object(s.isString)(a)?(c=n.fromList({key:a}),l=i.Type.PLAIN):Object(s.isPlain)(a)?(c=n.fromList(a),l=i.Type.PLAIN):Object(s.isFunction)(a)&&(c=n.struct(a),l=i.Type.OBJECT),u({target:e,property:t,descriptor:r},l,o,c)}})},"./global/meta/@notImplemented.js":function(e,t,r){"use strict";r.r(t),r.d(t,"notImplemented",(function(){return s}));var n=r("./global/meta/meta.js"),i=r("./global/meta/helpers.js"),s=Object(i.decorate)({handler({target:e,property:t}){Object(n.set)("notImplemented",!0,e,t)}})()},"./global/meta/@singleton.js":function(e,t,r){"use strict";r.r(t),r.d(t,"singleton",(function(){return s}));var n=r("./core/Tw2Error.js"),i=r("./global/meta/helpers.js"),s=Object(i.decorate)({class({target:e}){var t=0;return class extends e{constructor(...r){if(++t>1)throw new n.ErrSingletonInstantiation({class:e.name});super(...r)}}}})()},"./global/meta/@type.js":function(e,t,r){"use strict";r.r(t),r.d(t,"list",(function(){return a})),r.d(t,"object",(function(){return o})),r.d(t,"plain",(function(){return u})),r.d(t,"unknown",(function(){return c})),r.d(t,"boolean",(function(){return l})),r.d(t,"string",(function(){return h})),r.d(t,"path",(function(){return d})),r.d(t,"expression",(function(){return f})),r.d(t,"float",(function(){return m})),r.d(t,"uint",(function(){return v})),r.d(t,"ushort",(function(){return p})),r.d(t,"byte",(function(){return _})),r.d(t,"raw",(function(){return E})),r.d(t,"array",(function(){return S})),r.d(t,"vector2",(function(){return T})),r.d(t,"vector3",(function(){return g})),r.d(t,"vector4",(function(){return R})),r.d(t,"color",(function(){return b})),r.d(t,"quaternion",(function(){return y})),r.d(t,"matrix3",(function(){return A})),r.d(t,"matrix4",(function(){return j})),r.d(t,"indexBuffer",(function(){return w}));var n=r("./global/engine/Tw2Constant.js"),i=r("./global/meta/helpers.js");function s(e){return Object(i.decorate)({property({target:t,property:r,descriptor:n},s){Object(i.typeHandler)({target:t,property:r,descriptor:n},e,s)}})}var a=s(n.Type.LIST),o=s(n.Type.OBJECT),u=s(n.Type.PLAIN),c=s(n.Type.UNKNOWN)(),l=s(n.Type.BOOLEAN)(),h=s(n.Type.STRING)(),d=s(n.Type.PATH)(),f=s(n.Type.EXPRESSION)(),m=s(n.Type.FLOAT)(),v=s(n.Type.UINT)(),p=s(n.Type.USHORT)(),_=s(n.Type.BYTE)(),E=s(n.Type.RAW)(),S=s(n.Type.ARRAY)(),T=s(n.Type.VECTOR2)(),g=s(n.Type.VECTOR3)(),R=s(n.Type.VECTOR4)(),b=s(n.Type.COLOR)(),y=s(n.Type.QUATERNION)(),A=s(n.Type.MATRIX3)(),j=s(n.Type.MATRIX4)(),w=s(n.Type.INDEX_BUFFER)()},"./global/meta/helpers.js":function(e,t,r){"use strict";r.r(t),r.d(t,"decorate",(function(){return u})),r.d(t,"typeHandler",(function(){return c}));var n=r("./global/util/index.js"),i=r("./core/Tw2Error.js"),s=r("./global/meta/index.js"),a=r("./global/engine/Tw2Constant.js"),o={class:()=>{throw new i.ErrInvalidDecoratorUsage({reason:"class"})},method:()=>{throw new i.ErrInvalidDecoratorUsage({reason:"method"})},property:()=>{throw new i.ErrInvalidDecoratorUsage({reason:"property"})}};function u(e,t){var r=function(e){if(Object(n.isFunction)(e)&&(e={handler:e}),!Object(n.isPlain)(e))throw new ReferenceError("Invalid options object");function t(e,t){return Object(n.isFunction)(t[e])?t[e]:t[e]&&Object(n.isFunction)(t.handler)?t.handler:o[e]}return{class:t("class",e),method:t("method",e),property:t("property",e)}}(e);return function(...e){return function(i,s,a){var o;console.group(),console.dir(i),s&&console.dir(s),a&&console.dir(a),console.groupEnd(),a&&((o=a)&&(void 0===o.writable&&(o.writable=!0),void 0===o.enumerable&&(o.enumerable=!0),void 0===o.configurable&&(o.configurable=!0)));var u=function(e,t){return t?Object(n.isFunction)(e[t])?"method":"property":"class"}(i,s);return void 0!==t?r[u]({target:i,property:s,descriptor:a},t,...e):r[u]({target:i,property:s,descriptor:a},...e)}}}function c({target:e,property:t,descriptor:r},i,o){return Object(n.isString)(i)&&(i=a.Type[i.toUpperCase()]),void 0===i&&(i=a.Type.UNKNOWN),Object(s.set)("type",i,e,t),o&&Object(s.set)("typeOf",Object(n.toArray)(o),e,t),"_"===t.charAt(0)&&Object(s.set)("private",!0,e,t),null===r.value&&Object(s.set)("nullable",!0,e,t),i}},"./global/meta/index.js":function(e,t,r){"use strict";r.r(t);var n=r("./global/meta/@black.js");r.d(t,"black",(function(){return n}));var i=r("./global/meta/meta.js");r.d(t,"data",(function(){return i.data})),r.d(t,"set",(function(){return i.set})),r.d(t,"has",(function(){return i.has})),r.d(t,"hasOwn",(function(){return i.hasOwn})),r.d(t,"get",(function(){return i.get})),r.d(t,"getOwn",(function(){return i.getOwn})),r.d(t,"del",(function(){return i.del})),r.d(t,"keys",(function(){return i.keys})),r.d(t,"ownKeys",(function(){return i.ownKeys})),r.d(t,"values",(function(){return i.values})),r.d(t,"ownValues",(function(){return i.ownValues}));var s=r("./global/meta/@abstract.js");r.d(t,"abstract",(function(){return s.abstract}));var a=r("./global/meta/@notImplemented.js");r.d(t,"notImplemented",(function(){return a.notImplemented}));var o=r("./global/meta/@type.js");r.d(t,"list",(function(){return o.list})),r.d(t,"object",(function(){return o.object})),r.d(t,"plain",(function(){return o.plain})),r.d(t,"unknown",(function(){return o.unknown})),r.d(t,"boolean",(function(){return o.boolean})),r.d(t,"string",(function(){return o.string})),r.d(t,"path",(function(){return o.path})),r.d(t,"expression",(function(){return o.expression})),r.d(t,"float",(function(){return o.float})),r.d(t,"uint",(function(){return o.uint})),r.d(t,"ushort",(function(){return o.ushort})),r.d(t,"byte",(function(){return o.byte})),r.d(t,"raw",(function(){return o.raw})),r.d(t,"array",(function(){return o.array})),r.d(t,"vector2",(function(){return o.vector2})),r.d(t,"vector3",(function(){return o.vector3})),r.d(t,"vector4",(function(){return o.vector4})),r.d(t,"color",(function(){return o.color})),r.d(t,"quaternion",(function(){return o.quaternion})),r.d(t,"matrix3",(function(){return o.matrix3})),r.d(t,"matrix4",(function(){return o.matrix4})),r.d(t,"indexBuffer",(function(){return o.indexBuffer}));var u=r("./global/meta/@singleton.js");r.d(t,"singleton",(function(){return u.singleton}))},"./global/meta/meta.js":function(e,t,r){"use strict";r.r(t),r.d(t,"data",(function(){return s})),r.d(t,"set",(function(){return a})),r.d(t,"has",(function(){return o})),r.d(t,"hasOwn",(function(){return u})),r.d(t,"get",(function(){return c})),r.d(t,"getOwn",(function(){return l})),r.d(t,"del",(function(){return h})),r.d(t,"keys",(function(){return f})),r.d(t,"ownKeys",(function(){return m})),r.d(t,"values",(function(){return p})),r.d(t,"ownValues",(function(){return _}));var n="tw2:";function i(e){return"".concat(n).concat(e)}function s(e,t=!0){return Reflect.metadata(i(e),t)}function a(e,t,r,n){Reflect.defineMetadata(i(e),t,r,n)}function o(e,t,r){return Reflect.hasMetadata(i(e),t,r)}function u(e,t,r){return Reflect.hasOwnMetadata(i(e),t,r)}function c(e,t,r){return Reflect.getMetadata(i(e),t,r)}function l(e,t,r){return Reflect.getOwnMetadata(i(e),t,r)}function h(e,t,r){return Reflect.deleteMetadata(i(e),t,r)}function d(e){for(var t=[],r=0;r<e.length;r++)0===e[r].indexOf(n)&&t.push(e[r].replace(n,""));return t}function f(e,t){return d(Reflect.getMetadataKeys(e,t))}function m(e,t){return d(Reflect.getOwnMetadataKeys(e,t))}function v(e,t,r,n){var i=r(e,t),s={};return i.forEach(r=>{var i=n(r,e,t);void 0!==i&&(s[r]=i)}),s}function p(e,t){return v(e,t,f,c)}function _(e,t){return v(e,t,m,l)}},"./global/util/arr.js":function(e,t,r){"use strict";r.r(t),r.d(t,"addToArray",(function(){return i})),r.d(t,"findElementByPropertyValue",(function(){return s})),r.d(t,"findIndexByPropertyValue",(function(){return a})),r.d(t,"perArrayChild",(function(){return o})),r.d(t,"removeFromArray",(function(){return u})),r.d(t,"toArray",(function(){return c})),r.d(t,"toUniqueArray",(function(){return l}));var n=r("./global/util/type.js");function i(e,...t){for(var r=!1,n=0;n<t.length;n++)-1===e.indexOf(t[n])&&(e.push(t[n]),r=!0);return r}function s(e,t,r,n){return e[a(e,t,r,n)]}function a(e,t,r,n){for(var i=0;i<e.length;i++)if(t in e[i]&&e[i][t]===r)return i;if(n)throw new n({[t]:r});return-1}function o(e,t,...r){for(var n=0;n<e.length;n++)t in e[n]&&e[n][t](...r)}function u(e,...t){for(var r=!1,n=0;n<t.length;n++){var i=e.indexOf(t[n]);-1!==i&&(e.splice(i,1),r=!0)}return r}function c(e){return Object(n.isArray)(e)?e:[e]}function l(e){return Array.from(new Set(c(e)))}},"./global/util/index.js":function(e,t,r){"use strict";r.r(t),r.d(t,"getPathExtension",(function(){return u}));var n=r("./global/util/arr.js");r.d(t,"addToArray",(function(){return n.addToArray})),r.d(t,"findElementByPropertyValue",(function(){return n.findElementByPropertyValue})),r.d(t,"findIndexByPropertyValue",(function(){return n.findIndexByPropertyValue})),r.d(t,"perArrayChild",(function(){return n.perArrayChild})),r.d(t,"removeFromArray",(function(){return n.removeFromArray})),r.d(t,"toArray",(function(){return n.toArray})),r.d(t,"toUniqueArray",(function(){return n.toUniqueArray}));var i=r("./global/util/obj.js");r.d(t,"assignIfExists",(function(){return i.assignIfExists})),r.d(t,"get",(function(){return i.get})),r.d(t,"template",(function(){return i.template})),r.d(t,"isPrimaryEqual",(function(){return i.isPrimaryEqual})),r.d(t,"isVectorEqual",(function(){return i.isVectorEqual})),r.d(t,"isEqual",(function(){return i.isEqual}));var s=r("./global/util/type.js");r.d(t,"isArray",(function(){return s.isArray})),r.d(t,"isArrayLike",(function(){return s.isArrayLike})),r.d(t,"isAsyncFunction",(function(){return s.isAsyncFunction})),r.d(t,"isBoolean",(function(){return s.isBoolean})),r.d(t,"isCanvas",(function(){return s.isCanvas})),r.d(t,"isDescriptor",(function(){return s.isDescriptor})),r.d(t,"isDNA",(function(){return s.isDNA})),r.d(t,"isError",(function(){return s.isError})),r.d(t,"isNumber",(function(){return s.isNumber})),r.d(t,"isFunction",(function(){return s.isFunction})),r.d(t,"isNoU",(function(){return s.isNoU})),r.d(t,"isNull",(function(){return s.isNull})),r.d(t,"isObject",(function(){return s.isObject})),r.d(t,"isObjectLike",(function(){return s.isObjectLike})),r.d(t,"isObjectObject",(function(){return s.isObjectObject})),r.d(t,"isPlain",(function(){return s.isPlain})),r.d(t,"isPrimary",(function(){return s.isPrimary})),r.d(t,"isPromise",(function(){return s.isPromise})),r.d(t,"isString",(function(){return s.isString})),r.d(t,"isSymbol",(function(){return s.isSymbol})),r.d(t,"isSubclassOf",(function(){return s.isSubclassOf})),r.d(t,"isTag",(function(){return s.isTag})),r.d(t,"isTr2OrTri",(function(){return s.isTr2OrTri})),r.d(t,"toTw2",(function(){return s.toTw2})),r.d(t,"getTypeUpper",(function(){return s.getTypeUpper})),r.d(t,"isTyped",(function(){return s.isTyped})),r.d(t,"isUndefined",(function(){return s.isUndefined})),r.d(t,"isVector",(function(){return s.isVector})),r.d(t,"isVector2",(function(){return s.isVector2})),r.d(t,"isVector3",(function(){return s.isVector3})),r.d(t,"isVector4",(function(){return s.isVector4})),r.d(t,"isMatrix3",(function(){return s.isMatrix3})),r.d(t,"isMatrix4",(function(){return s.isMatrix4}));var a=r("./global/util/uuid.js");r.d(t,"enableUUID",(function(){return a.enableUUID})),r.d(t,"generateID",(function(){return a.generateID}));var o=r("./global/util/url.js");function u(e){var t=e.lastIndexOf(".");return-1===t?null:e.substr(t+1)}r.d(t,"getURL",(function(){return o.getURL})),r.d(t,"getURLString",(function(){return o.getURLString})),r.d(t,"getURLInteger",(function(){return o.getURLInteger})),r.d(t,"getURLFloat",(function(){return o.getURLFloat})),r.d(t,"getURLBoolean",(function(){return o.getURLBoolean}))},"./global/util/obj.js":function(e,t,r){"use strict";r.r(t),r.d(t,"assignIfExists",(function(){return a})),r.d(t,"get",(function(){return o})),r.d(t,"template",(function(){return u})),r.d(t,"isPrimaryEqual",(function(){return c})),r.d(t,"isVectorEqual",(function(){return l})),r.d(t,"isEqual",(function(){return h}));var n=r("./global/util/type.js"),i=r("./global/util/arr.js"),s=r("./global/math/index.js");function a(e,t,r){if(!t)return!1;r=Object(i.toArray)(r);for(var s=!1,a=0;a<r.length;a++){var o=r[a];if(void 0!==t[o])if(s=!0,Object(n.isArrayLike)(e[o]))if(Object(n.isTyped)(e[o]))if(e[o].length!==t[o].length){var u=e[o].constructor;e[o]=new u(t[o])}else e[o].set(t[o]);else{e[o].splice(0);for(var c=0;c<t[o].length;c++)e[o].push(t[o][c])}else if(Object(n.isTyped)(t[o])){var l=t[o].constructor;e[o]=new l(t[o])}else e[o]=t[o]}return s}function o(e,t,r){if(!Object(n.isArray)(t))return void 0!==e[t]?e[t]:r;for(var i=0;i<t.length;i++)if(void 0!==e[t[i]])return e[t[i]];return r}function u(e,t={}){for(var r=e.match(/%([^%]+)?%/g)||[],n=0;n<r.length;n++){var i=r[n],s=i.substring(1,i.length-1).split("="),a=s[0]in t?t[s[0]]:s[1];e=e.replace(i,a)}return e}function c(e,t){return e===t||!(!Object(n.isNumber)(e)||!Object(n.isNumber)(t))&&s.num.equals(e,t)}function l(e,t){if(e===t)return!0;if(e.length!==t.length)return!1;for(var r=0;r<e.length;r++)if(!s.num.equals(e[r],t[r]))return!1;return!0}function h(e,t){if(e===t)return!0;if(Object(n.isNumber)(e))return!!Object(n.isNumber)(t)&&s.num.equals(e,t);if(Object(n.isVector)(e))return!!Object(n.isVector)(t)&&l(e,t);if(!Object(n.isObjectObject)(e)||!Object(n.isObjectObject)(t))return!1;if(e.constructor!==t.constructor)return!1;var r=Object.keys(e),i=Object.keys(t);if(r.length!==i.length)return!1;for(var a=0;a<r.length;a++){var o=r[a];if(!t.hasOwnProperty(o))return!1;if(!h(e[o],t[o]))return!1}for(var u=0;u<i.length;u++)if(e.hasOwnProperty(i[u]))return!1;return!0}},"./global/util/type.js":function(e,t,r){"use strict";r.r(t),r.d(t,"isArray",(function(){return i})),r.d(t,"isArrayLike",(function(){return s})),r.d(t,"isAsyncFunction",(function(){return a})),r.d(t,"isBoolean",(function(){return o})),r.d(t,"isCanvas",(function(){return u})),r.d(t,"isDescriptor",(function(){return c})),r.d(t,"isDNA",(function(){return l})),r.d(t,"isError",(function(){return h})),r.d(t,"isNumber",(function(){return d})),r.d(t,"isFunction",(function(){return f})),r.d(t,"isNoU",(function(){return m})),r.d(t,"isNull",(function(){return v})),r.d(t,"isObject",(function(){return p})),r.d(t,"isObjectLike",(function(){return _})),r.d(t,"isObjectObject",(function(){return E})),r.d(t,"isPlain",(function(){return S})),r.d(t,"isPrimary",(function(){return T})),r.d(t,"isPromise",(function(){return g})),r.d(t,"isString",(function(){return R})),r.d(t,"isSymbol",(function(){return b})),r.d(t,"isSubclassOf",(function(){return y})),r.d(t,"isTag",(function(){return A})),r.d(t,"isTr2OrTri",(function(){return j})),r.d(t,"toTw2",(function(){return w})),r.d(t,"getTypeUpper",(function(){return O})),r.d(t,"isTyped",(function(){return C})),r.d(t,"isUndefined",(function(){return L})),r.d(t,"isVector",(function(){return D})),r.d(t,"isVector2",(function(){return P})),r.d(t,"isVector3",(function(){return x})),r.d(t,"isVector4",(function(){return I})),r.d(t,"isMatrix3",(function(){return M})),r.d(t,"isMatrix4",(function(){return F}));var n=Object.prototype.toString,i=Array.isArray;function s(e){return!!e&&(i(e)||C(e))}function a(e){return!(!f(e)||"AsyncFunction"!==e.constructor.name)}function o(e){return A(e,"[object Boolean]")}function u(e){return!!(e&&e instanceof HTMLCanvasElement)}function c(e){if(!e||!e.hasOwnProperty)return!1;for(var t=["value","initializer","get","set"],r=0,n=t.length;r<n;r++)if(e.hasOwnProperty(t[r]))return!0;return!1}function l(e){return R(e)&&e.match(/(\w|\d|[-_])+:(\w|\d|[-_])+:(\w|\d|[-_])+/)}function h(e){return!!e&&(e instanceof Error||"Error"===e.constructor.__category)}function d(e){return A(e,"[object Number]")}function f(e){return"function"==typeof e}function m(e){return null==e}function v(e){return null===e}function p(e){var t=typeof e;return null!==e&&("object"===t||"function"===t)}function _(e){return null!==e&&"object"==typeof e}function E(e){return null!==e&&A(e,"[object Object]")}function S(e){if(!p(e)||!E)return!1;if(null===Object.getPrototypeOf(e))return!0;for(var t=e;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function T(e){return o(e)||d(e)||R(e)}function g(e){return p(e)&&f(e.then)}function R(e){return A(e,"[object String]")}function b(e){return"symbol"==typeof e||A(e,"[object Symbol]")}function y(e,t){if(!f(e))return!1;for(;f(e);){if(e===t)return!0;e=Reflect.getPrototypeOf(e)}return!1}function A(e,t){return n.call(e)===t}function j(e){return e&&0===e.indexOf("Tr2")||0===e.indexOf("Tri")}function w(e){return j(e)?e.replace("Tr2","Tw2").replace("Tri","Tw2"):e}function O(e){return Object.prototype.toString.call(e).slice(8,-1).toUpperCase()}function C(e){return!!e&&!!(e.buffer instanceof ArrayBuffer&&e.BYTES_PER_ELEMENT)}function L(e){return void 0===e}function D(e){if(e){if(C(e))return!0;if(i(e)){for(var t=0;t<e.length;t++)if(!d(e[t]))return!1;return!0}}return!1}function P(e){return!!D(e)&&2===e.length}function x(e){return!!D(e)&&3===e.length}function I(e){return!!D(e)&&4===e.length}function M(e){return!!D(e)&&9===e.length}function F(e){return!!D(e)&&16===e.length}},"./global/util/url.js":function(e,t,r){"use strict";r.r(t),r.d(t,"getURL",(function(){return l})),r.d(t,"getURLString",(function(){return h})),r.d(t,"getURLInteger",(function(){return d})),r.d(t,"getURLFloat",(function(){return f})),r.d(t,"getURLBoolean",(function(){return m}));for(var n={},i=window.location.search.substring(1).split("&"),s=0;s<i.length;s++){var a=i[s].split("="),o=a[0].toLowerCase(),u=unescape(a[1]);if(o){var c=u.toLowerCase();n[o]="true"===c||"false"!==c&&u}}function l(){return Object.assign({},n)}function h(e,t){return(e=e.toLowerCase())in n?n[e]:t}function d(e,t){return(e=e.toLowerCase())in n?parseInt(n[e],10):t}function f(e,t){return(e=e.toLowerCase())in n?parseFloat(n[e]):t}function m(e,t){return(e=e.toLowerCase())in n?n[e]:t}},"./global/util/uuid.js":function(e,t,r){"use strict";r.r(t),r.d(t,"enableUUID",(function(){return a})),r.d(t,"generateID",(function(){return o}));var n=null,i=0,s=null;function a(e){if(e!==n){if(null!==n)throw new Error("Cannot change id generation type once set");if(e){s=[];for(var t=0;t<256;t++)s[t]=(t<16?"0":"")+t.toString(16).toUpperCase()}n=e}}function o(){return null===n&&(n=!1),n?(e=4294967295*Math.random()|0,t=4294967295*Math.random()|0,r=4294967295*Math.random()|0,a=4294967295*Math.random()|0,s[255&e]+s[e>>8&255]+s[e>>16&255]+s[e>>24&255]+"-"+s[255&t]+s[t>>8&255]+"-"+s[t>>16&15|64]+s[t>>24&255]+"-"+s[63&r|128]+s[r>>8&255]+"-"+s[r>>16&255]+s[r>>24&255]+s[255&a]+s[a>>8&255]+s[a>>16&255]+s[a>>24&255]):i++;var e,t,r,a}},"./index.js":function(e,t,r){"use strict";r.r(t),r.d(t,"ccpwgl_int",(function(){return s}));r("../node_modules/core-js/modules/es.symbol.description.js"),r("../node_modules/core-js/modules/es.symbol.async-iterator.js"),r("../node_modules/core-js/modules/es.array.flat.js"),r("../node_modules/core-js/modules/es.array.flat-map.js"),r("../node_modules/core-js/modules/es.array.iterator.js"),r("../node_modules/core-js/modules/es.array.reverse.js"),r("../node_modules/core-js/modules/es.array.sort.js"),r("../node_modules/core-js/modules/es.array.unscopables.flat.js"),r("../node_modules/core-js/modules/es.array.unscopables.flat-map.js"),r("../node_modules/core-js/modules/es.array-buffer.constructor.js"),r("../node_modules/core-js/modules/es.array-buffer.slice.js"),r("../node_modules/core-js/modules/es.math.hypot.js"),r("../node_modules/core-js/modules/es.number.parse-float.js"),r("../node_modules/core-js/modules/es.object.define-getter.js"),r("../node_modules/core-js/modules/es.object.define-setter.js"),r("../node_modules/core-js/modules/es.object.from-entries.js"),r("../node_modules/core-js/modules/es.object.lookup-getter.js"),r("../node_modules/core-js/modules/es.object.lookup-setter.js"),r("../node_modules/core-js/modules/es.promise.js"),r("../node_modules/core-js/modules/es.promise.finally.js"),r("../node_modules/core-js/modules/es.string.pad-end.js"),r("../node_modules/core-js/modules/es.string.pad-start.js"),r("../node_modules/core-js/modules/es.string.replace.js"),r("../node_modules/core-js/modules/es.string.trim.js"),r("../node_modules/core-js/modules/es.string.trim-end.js"),r("../node_modules/core-js/modules/es.string.trim-start.js"),r("../node_modules/core-js/modules/es.typed-array.float32-array.js"),r("../node_modules/core-js/modules/es.typed-array.float64-array.js"),r("../node_modules/core-js/modules/es.typed-array.int8-array.js"),r("../node_modules/core-js/modules/es.typed-array.int16-array.js"),r("../node_modules/core-js/modules/es.typed-array.int32-array.js"),r("../node_modules/core-js/modules/es.typed-array.uint8-array.js"),r("../node_modules/core-js/modules/es.typed-array.uint8-clamped-array.js"),r("../node_modules/core-js/modules/es.typed-array.uint16-array.js"),r("../node_modules/core-js/modules/es.typed-array.uint32-array.js"),r("../node_modules/core-js/modules/es.typed-array.from.js"),r("../node_modules/core-js/modules/es.typed-array.of.js"),r("../node_modules/core-js/modules/web.dom-collections.for-each.js"),r("../node_modules/core-js/modules/web.dom-collections.iterator.js"),r("../node_modules/core-js/modules/web.immediate.js"),r("../node_modules/core-js/modules/web.queue-microtask.js"),r("../node_modules/core-js/modules/web.url.js"),r("../node_modules/core-js/modules/web.url.to-json.js"),r("../node_modules/core-js/modules/web.url-search-params.js"),r("../node_modules/reflect-metadata/Reflect.js");var n=r("./config.js"),i=r("./global/index.js");r.d(t,"tw2",(function(){return i.tw2})),i.tw2.Register(n.config);var s=i.tw2},"./interior/Tr2Model.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tr2Model",(function(){return i}));var n=r("./global/index.js");class i extends n.Tw2BaseClass{constructor(...e){super(...e),this.meshes=[]}static black(e){return[["meshes",e.array]]}}i.__isStaging=4},"./interior/character/Tr2IntSkinnedObject.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tr2IntSkinnedObject",(function(){return i}));var n=r("./global/index.js");class i extends n.Tw2BaseClass{constructor(...e){super(...e),this.curveSets=[],this.transform=null,this.visualModel=null}static black(e){return[["curveSets",e.array],["transform",e.object],["visualModel",e.object]]}}i.__isStaging=4},"./interior/character/Tr2SkinnedModel.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tr2SkinnedModel",(function(){return i}));var n=r("./global/index.js");class i extends n.Tw2BaseClass{constructor(...e){super(...e),this.name="",this.geometryResPath="",this.meshes=[],this.skeletonName=""}static black(e){return[["geometryResPath",e.string],["meshes",e.array],["name",e.string],["skeletonName",e.string]]}}i.__isStaging=4},"./interior/character/index.js":function(e,t,r){"use strict";r.r(t);var n=r("./interior/character/Tr2IntSkinnedObject.js");r.d(t,"Tr2IntSkinnedObject",(function(){return n.Tr2IntSkinnedObject}));var i=r("./interior/character/Tr2SkinnedModel.js");r.d(t,"Tr2SkinnedModel",(function(){return i.Tr2SkinnedModel}))},"./interior/index.js":function(e,t,r){"use strict";r.r(t);var n=r("./interior/character/index.js");r.d(t,"Tr2IntSkinnedObject",(function(){return n.Tr2IntSkinnedObject})),r.d(t,"Tr2SkinnedModel",(function(){return n.Tr2SkinnedModel}));var i=r("./interior/lighting/index.js");r.d(t,"Tr2InteriorLightSource",(function(){return i.Tr2InteriorLightSource})),r.d(t,"Tr2KelvinColor",(function(){return i.Tr2KelvinColor}));var s=r("./interior/scene/index.js");r.d(t,"Tr2InteriorPlaceable",(function(){return s.Tr2InteriorPlaceable})),r.d(t,"Tr2InteriorScene",(function(){return s.Tr2InteriorScene})),r.d(t,"WodPlaceableRes",(function(){return s.WodPlaceableRes}));var a=r("./interior/Tr2Model.js");r.d(t,"Tr2Model",(function(){return a.Tr2Model}))},"./interior/lighting/Tr2InteriorLightSource.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tr2InteriorLightSource",(function(){return i}));var n=r("./global/index.js");class i extends n.Tw2BaseClass{constructor(...e){super(...e),this.name="",this.color=n.vec4.create(),this.coneAlphaInner=0,this.coneAlphaOuter=0,this.coneDirection=n.vec3.create(),this.falloff=0,this.importanceBias=0,this.importanceScale=0,this.kelvinColor=null,this.position=n.vec3.create(),this.radius=0,this.useKelvinColor=!1}static black(e){return[["color",e.vector4],["coneAlphaInner",e.float],["coneAlphaOuter",e.float],["coneDirection",e.vector3],["falloff",e.float],["importanceBias",e.float],["importanceScale",e.float],["kelvinColor",e.object],["name",e.string],["position",e.vector3],["radius",e.float],["useKelvinColor",e.boolean]]}}i.__isStaging=4},"./interior/lighting/Tr2KelvinColor.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tr2KelvinColor",(function(){return i}));var n=r("./global/index.js");class i extends n.Tw2BaseClass{constructor(...e){super(...e),this.temperature=0,this.tint=0}static black(e){return[["temperature",e.float],["tint",e.float]]}}i.__isStaging=4},"./interior/lighting/index.js":function(e,t,r){"use strict";r.r(t);var n=r("./interior/lighting/Tr2InteriorLightSource.js");r.d(t,"Tr2InteriorLightSource",(function(){return n.Tr2InteriorLightSource}));var i=r("./interior/lighting/Tr2KelvinColor.js");r.d(t,"Tr2KelvinColor",(function(){return i.Tr2KelvinColor}))},"./interior/scene/Tr2InteriorPlaceable.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tr2InteriorPlaceable",(function(){return i}));var n=r("./global/index.js");class i extends n.Tw2BaseClass{constructor(...e){super(...e),this.placeableResPath="",this.transform=null}static black(e){return[["placeableResPath",e.path],["transform",e.object]]}}i.__isStaging=4},"./interior/scene/Tr2InteriorScene.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tr2InteriorScene",(function(){return i}));var n=r("./global/index.js");class i extends n.Tw2BaseClass{constructor(...e){super(...e),this.dynamics=[],this.lights=[]}static black(e){return[["dynamics",e.array],["lights",e.array]]}}i.__isStaging=4},"./interior/scene/WodPlaceableRes.js":function(e,t,r){"use strict";r.r(t),r.d(t,"WodPlaceableRes",(function(){return i}));var n=r("./global/index.js");class i extends n.Tw2BaseClass{constructor(...e){super(...e),this.farFadeDistance=0,this.nearFadeDistance=0,this.visualModel=null}}},"./interior/scene/index.js":function(e,t,r){"use strict";r.r(t);var n=r("./interior/scene/Tr2InteriorPlaceable.js");r.d(t,"Tr2InteriorPlaceable",(function(){return n.Tr2InteriorPlaceable}));var i=r("./interior/scene/Tr2InteriorScene.js");r.d(t,"Tr2InteriorScene",(function(){return i.Tr2InteriorScene}));var s=r("./interior/scene/WodPlaceableRes.js");r.d(t,"WodPlaceableRes",(function(){return s.WodPlaceableRes}))},"./particle/Tw2GpuParticleSystem.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tr2GpuParticleSystem",(function(){return i}));var n=r("./global/index.js");class i extends n.Tw2BaseClass{constructor(...e){super(...e),this.clear=null,this.emit=null,this.render=null,this.setDrawParameters=null,this.setSortParameters=null,this.sort=null,this.sortInner=null,this.sortStep=null,this.update=null}GetResources(e=[]){return this.clear&&this.clear.GetResources(e),this.emit&&this.emit.GetResources(e),this.render&&this.render.GetResources(e),this.setDrawParameters&&this.setDrawParameters.GetResources(e),this.setSortParameters&&this.setSortParameters.GetResources(e),this.sort&&this.sort.GetResources(e),this.sortInner&&this.sortInner.GetResources(e),this.sortStep&&this.sortStep.GetResources(e),this.update&&this.update.GetResources(e),e}static black(e){return[["clear",e.object],["emit",e.object],["render",e.object],["setDrawParameters",e.object],["setSortParameters",e.object],["sort",e.object],["sortInner",e.object],["sortStep",e.object],["update",e.object]]}}i.__isStaging=4},"./particle/Tw2ParticleSystem.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tw2ParticleSystem",(function(){return a}));var n=r("./global/index.js"),i=r("./core/index.js"),s=r("./particle/element/index.js");class a extends n.Tw2BaseClass{constructor(){super(),this.name="",this.applyAging=!0,this.applyForce=!0,this.constraints=[],this.elements=[],this.emitParticleDuringLifeEmitter=null,this.emitParticleOnDeathEmitter=null,this.forces=[],this.maxParticleCount=0,this.requiresSorting=!1,this.updateBoundingBox=!1,this.updateSimulation=!0,this.useSimTimeRebase=!1,this.isGlobal=!1,this.peakAliveCount=0,this._aabbMin=n.vec3.create(),this._aabbMax=n.vec3.create(),this._aliveCount=0,this._bufferDirty=!1,this._buffers=[null,null],this._declaration=null,this._elements=[],this._instanceStride=[null,null],this._isValid=!1,this._distancesBuffer=null,this._sortedBuffer=null,this._sortedIndexes=null,this._stdElements=[null,null,null,null],this._vb=null,this._vertexStride=[null,null],a.init()}Initialize(){this.UpdateElementDeclaration()}GetResources(e=[]){return e}UpdateElementDeclaration(){this._isValid=!1;var e=n.device.gl;if(this._vb&&(e.deleteBuffer(this._vb),this._vb=null),this._declaration=null,this._aliveCount=0,0!==this.elements.length){this._stdElements=[null,null,null,null],this._elements=[],this._instanceStride=[0,0],this._vertexStride=[0,0],this._declaration=new i.Tw2VertexDeclaration,this._buffers=[null,null];for(var t=0;t<this.elements.length;++t){var r=this.elements[t].usedByGPU?0:1,a=this.elements[t],o=s.Tw2ParticleElement.from({elementType:a.elementType,customName:a.customName,dimension:a.GetDimension(),usageIndex:a.usageIndex,usedByGPU:a.usedByGPU});if(o.startOffset=this._vertexStride[r],o.offset=o.startOffset,this.elements[t].elementType!==s.Tw2ParticleElement.Type.CUSTOM&&(this._stdElements[this.elements[t].elementType]=o),this._vertexStride[r]+=o.dimension,this._elements.push(o),0===r){var u=this.elements[t].GetDeclaration();u.offset=4*o.startOffset,this._declaration.elements.push(u)}}this._declaration.RebuildHash();for(var c=0;c<this._elements.length;++c){var l=this._elements[c].usedByGPU?0:1;this._elements[c].vertexStride=this._vertexStride[l]}this._instanceStride[0]=4*this._vertexStride[0],this._instanceStride[1]=4*this._vertexStride[1];for(var h=0;h<this._elements.length;++h){var d=this._elements[h].usedByGPU?0:1;this._elements[h].instanceStride=this._instanceStride[d]}this._buffers=[null,null],this._instanceStride[0]&&this.maxParticleCount&&(this._buffers[0]=new Float32Array(this._instanceStride[0]*this.maxParticleCount),this._vb=e.createBuffer(),e.bindBuffer(e.ARRAY_BUFFER,this._vb),e.bufferData(e.ARRAY_BUFFER,this._buffers[0].length,e.DYNAMIC_DRAW),e.bindBuffer(e.ARRAY_BUFFER,null)),this._instanceStride[1]&&(this._buffers[1]=new Float32Array(this._instanceStride[1]*this.maxParticleCount));for(var f=0;f<this._elements.length;++f){var m=this._elements[f].usedByGPU?0:1;this._elements[f].buffer=this._buffers[m]}this.requiresSorting&&(this._sortedIndexes=new Array(this.maxParticleCount),this._sortedBuffer=new Float32Array(this._instanceStride[0]*this.maxParticleCount),this._distancesBuffer=new Float32Array(this.maxParticleCount)),this._isValid=!0,this._bufferDirty=!0}}HasElement(e){return null!==this._stdElements[e]}GetElement(e){return this._stdElements[e]&&(this._stdElements[e].offset=this._stdElements[e].startOffset),this._stdElements[e]}BeginSpawnParticle(){return!this._isValid||this._aliveCount>=this.maxParticleCount?null:this._aliveCount++}EndSpawnParticle(){this._bufferDirty=!0}Update(e){if(e=Math.min(e,.1),this.applyAging&&this.HasElement(s.Tw2ParticleElement.Type.LIFETIME)){for(var t=this.GetElement(s.Tw2ParticleElement.Type.LIFETIME),r=this.emitParticleOnDeathEmitter?this.GetElement(s.Tw2ParticleElement.Type.POSITION):null,i=this.emitParticleOnDeathEmitter?this.GetElement(s.Tw2ParticleElement.Type.VELOCITY):null,o=0;o<this._aliveCount;++o)if(t.buffer[t.offset]+=e/t.buffer[t.offset+1],t.buffer[t.offset]>1){if(this.emitParticleOnDeathEmitter&&this.emitParticleOnDeathEmitter.SpawnParticles(r,i,1),this._aliveCount--,o<this._aliveCount){for(var u=0;u<2;++u)this._buffers[u]&&this._buffers[u].set(this._buffers[u].subarray(this._instanceStride[u]*this._aliveCount,this._instanceStride[u]*this._aliveCount+this._instanceStride[u]),o*this._instanceStride[u]);--o,this._bufferDirty=!0}}else t.offset+=t.instanceStride,r&&(r.offset+=r.instanceStride),i&&(i.offset+=i.instanceStride);t.dirty=!0}var c=a.global.vec3_0;if(this.updateSimulation&&this.HasElement(s.Tw2ParticleElement.Type.POSITION)&&this.HasElement(s.Tw2ParticleElement.Type.VELOCITY)){for(var l=this.applyForce&&this.forces.length,h=0;h<this.forces.length;++h)this.forces[h].Update(e);for(var d=this.GetElement(s.Tw2ParticleElement.Type.POSITION),f=this.GetElement(s.Tw2ParticleElement.Type.VELOCITY),m=l?this.GetElement(s.Tw2ParticleElement.Type.MASS):null,v=0;v<this._aliveCount;++v){if(l){for(var p=m?m.buffer[m.offset]:1,_=n.vec3.set(c,0,0,0),E=0;E<this.forces.length;++E)this.forces[E].ApplyForce(d,f,_,e,p);m&&n.vec3.scale(_,_,1/m.buffer[m.offset]),f.buffer[f.offset]+=_[0]*e,f.buffer[f.offset+1]+=_[1]*e,f.buffer[f.offset+2]+=_[2]*e}d.buffer[d.offset]+=f.buffer[f.offset]*e,d.buffer[d.offset+1]+=f.buffer[f.offset+1]*e,d.buffer[d.offset+2]+=f.buffer[f.offset+2]*e,this.emitParticleDuringLifeEmitter&&this.emitParticleDuringLifeEmitter.SpawnParticles(d,f,e),d.offset+=d.instanceStride,f.offset+=f.instanceStride,m&&(m.offset+=m.instanceStride)}d.dirty=!0,f.dirty=!0}if(this.updateSimulation&&this.constraints.length)for(var S=0;S<this.constraints.length;++S)this.constraints[S].ApplyConstraint(this._buffers,this._instanceStride,this._aliveCount,e);if(this.updateBoundingBox&&this.GetBoundingBox(this._aabbMin,this._aabbMax),this.emitParticleDuringLifeEmitter&&(!this.HasElement(s.Tw2ParticleElement.Type.POSITION)||!this.HasElement(s.Tw2ParticleElement.Type.VELOCITY))&&this.updateSimulation)for(var T=this.GetElement(s.Tw2ParticleElement.Type.POSITION),g=this.GetElement(s.Tw2ParticleElement.Type.VELOCITY),R=0;R<this._aliveCount;++R)this.emitParticleDuringLifeEmitter.SpawnParticles(T,g,1),T&&(T.offset+=T.instanceStride),g&&(g.offset+=g.instanceStride);for(var b=0;b<this._elements.length;++b){var y=this._elements[b];y.offset=y.startOffset,y.dirty&&(this._bufferDirty=!0,y.dirty=!1)}}GetBoundingBox(e,t){if(this._aliveCount&&this.HasElement(s.Tw2ParticleElement.Type.POSITION)){var r=this.GetElement(s.Tw2ParticleElement.Type.POSITION);e[0]=r.buffer[r.offset],e[1]=r.buffer[r.offset+1],e[2]=r.buffer[r.offset+2],t[0]=r.buffer[r.offset],t[1]=r.buffer[r.offset+1],t[2]=r.buffer[r.offset+2];for(var n=0;n<this._aliveCount;++n)e[0]=Math.min(e[0],r.buffer[r.offset]),e[1]=Math.min(e[1],r.buffer[r.offset+1]),e[2]=Math.min(e[2],r.buffer[r.offset+2]),t[0]=Math.max(t[0],r.buffer[r.offset]),t[1]=Math.max(t[1],r.buffer[r.offset+1]),t[2]=Math.max(t[2],r.buffer[r.offset+2]),r.offset+=r.instanceStride;return!0}return!1}_Sort(){for(var e=n.mat4.multiply(a.global.mat4_0,n.device.projection,n.device.view),t=this.GetElement(s.Tw2ParticleElement.Type.POSITION),r=this._aliveCount,i=this._distancesBuffer,o=0;o<r;++o){var u=t.offset+t.instanceStride*o,c=t.buffer[u]-e[12],l=c*c;l+=(c=t.buffer[u+1]-e[13])*c,l+=(c=t.buffer[u+2]-e[14])*c,i[o]=l}for(var h=0;h<this.maxParticleCount;++h)this._sortedIndexes[h]=h;this._sortedIndexes.sort((function(e,t){if(e>=r&&t>=r)return e<t?-1:e>t?1:0;if(e>=r)return 1;if(t>=r)return-1;var n=i[e],s=i[t];return n<s?1:n>s?-1:0}))}GetInstanceBuffer(){if(0!==this._aliveCount){var e=n.device.gl;if(this.requiresSorting&&this.HasElement(s.Tw2ParticleElement.Type.POSITION)&&this._buffers){this._Sort();for(var t=this._instanceStride[0],r=this._buffers[0],i=0;i<this._aliveCount;++i)for(var a=i*t,o=this._sortedIndexes[i]*t,u=0;u<t;++u)this._sortedBuffer[a+u]=r[u+o];e.bindBuffer(e.ARRAY_BUFFER,this._vb),e.bufferSubData(e.ARRAY_BUFFER,0,this._sortedBuffer.subarray(0,this._vertexStride[0]*this._aliveCount)),this._bufferDirty=!1}else this._bufferDirty&&(e.bindBuffer(e.ARRAY_BUFFER,this._vb),e.bufferSubData(e.ARRAY_BUFFER,0,this._buffers[0].subarray(0,this._vertexStride[0]*this._aliveCount)),this._bufferDirty=!1);return this._vb}}GetInstanceDeclaration(){return this._declaration}GetInstanceStride(){return this._instanceStride[0]}GetInstanceCount(){return this._aliveCount}static init(){a.global||(a.global={vec3_0:n.vec3.create(),mat4_0:n.mat4.create()})}static black(e){return[["constraints",e.array],["name",e.string],["applyAging",e.boolean],["applyForce",e.boolean],["elements",e.array],["emitParticleDuringLifeEmitter",e.object],["emitParticleOnDeathEmitter",e.object],["forces",e.array],["maxParticleCount",e.uint],["requiresSorting",e.boolean],["updateBoundingBox",e.boolean],["updateSimulation",e.boolean],["useSimTimeRebase",e.boolean]]}}a.global=null},"./particle/constraint/Tr2PlaneConstraint.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tr2PlaneConstraint",(function(){return _}));var n,i,s,a,o,u,c=r("./global/index.js"),l=r("./particle/constraint/Tw2ParticleConstraint.js");var h,d,f,m,v,p,_=(n=c.meta.abstract,i=c.meta.abstract,n((u=o=class extends l.Tw2ParticleConstraint{constructor(...e){super(...e),this.generators=[],this.reflectionNoise=0}ApplyConstraint(e,t,r,n){}static black(e){return[["reflectionNoise",e.float],["generators",e.array]]}},o.__isStaging=4,h=(a=u).prototype,d="ApplyConstraint",f=[i],m=Object.getOwnPropertyDescriptor(a.prototype,"ApplyConstraint"),v=a.prototype,p={},Object.keys(m).forEach((function(e){p[e]=m[e]})),p.enumerable=!!p.enumerable,p.configurable=!!p.configurable,("value"in p||p.initializer)&&(p.writable=!0),p=f.slice().reverse().reduce((function(e,t){return t(h,d,e)||e}),p),v&&void 0!==p.initializer&&(p.value=p.initializer?p.initializer.call(v):void 0,p.initializer=void 0),void 0===p.initializer&&(Object.defineProperty(h,d,p),p=null),s=a))||s)},"./particle/constraint/Tw2ParticleConstraint.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tw2ParticleConstraint",(function(){return m}));var n,i,s,a,o=r("./global/index.js");var u,c,l,h,d,f,m=(n=o.meta.abstract,i=o.meta.abstract,n((a=class extends o.Tw2BaseClass{ApplyConstraint(e,t,r,n){}},u=a.prototype,c="ApplyConstraint",l=[i],h=Object.getOwnPropertyDescriptor(a.prototype,"ApplyConstraint"),d=a.prototype,f={},Object.keys(h).forEach((function(e){f[e]=h[e]})),f.enumerable=!!f.enumerable,f.configurable=!!f.configurable,("value"in f||f.initializer)&&(f.writable=!0),f=l.slice().reverse().reduce((function(e,t){return t(u,c,e)||e}),f),d&&void 0!==f.initializer&&(f.value=f.initializer?f.initializer.call(d):void 0,f.initializer=void 0),void 0===f.initializer&&(Object.defineProperty(u,c,f),f=null),s=a))||s)},"./particle/constraint/index.js":function(e,t,r){"use strict";r.r(t);var n=r("./particle/constraint/Tr2PlaneConstraint.js");r.d(t,"Tr2PlaneConstraint",(function(){return n.Tr2PlaneConstraint}))},"./particle/element/Tw2ParticleElement.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tw2ParticleElement",(function(){return n}));class n{constructor(){this.elementType=null,this.customName=null,this.dimension=null,this.usageIndex=null,this.usedByGPU=null,this.buffer=null,this.startOffset=0,this.offset=0,this.instanceStride=0,this.vertexStride=0,this.dirty=!1}get string(){return n.TypeMap[this.elementType]||"UNKNOWN"}static from(e){var t=new n;if(e){var r=e.elementType;t.elementType="string"==typeof r?this.Type[r.toUpperCase()]:r,t.customName=e.customName,t.dimension=e.dimension,t.usageIndex=e.usageIndex,t.usedByGPU=e.usedByGPU?1:0}return t}}n.Type={LIFETIME:0,POSITION:1,VELOCITY:2,MASS:3,CUSTOM:4},n.TypeMap=["LIFETIME","POSITION","VELOCITY","MASS","CUSTOM"]},"./particle/element/Tw2ParticleElementDeclaration.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tw2ParticleElementDeclaration",(function(){return a}));var n=r("./core/index.js"),i=r("./particle/element/Tw2ParticleElement.js"),s=r("./global/index.js");class a extends s.Tw2BaseClass{constructor(...e){super(...e),this.customName="",this.dimension=1,this.elementType=4,this.usageIndex=0,this.usedByGPU=!0}GetDimension(){switch(this.elementType){case i.Tw2ParticleElement.Type.LIFETIME:return 2;case i.Tw2ParticleElement.Type.POSITION:case i.Tw2ParticleElement.Type.VELOCITY:return 3;case i.Tw2ParticleElement.Type.MASS:return 1}return this.dimension}GetDeclaration(){var e;switch(this.elementType){case i.Tw2ParticleElement.Type.LIFETIME:e=n.Tw2VertexElement.Type.TANGENT;break;case i.Tw2ParticleElement.Type.POSITION:e=n.Tw2VertexElement.Type.POSITION;break;case i.Tw2ParticleElement.Type.VELOCITY:e=n.Tw2VertexElement.Type.NORMAL;break;case i.Tw2ParticleElement.Type.MASS:e=n.Tw2VertexElement.Type.BINORMAL;break;default:e=n.Tw2VertexElement.Type.TEXCOORD}return n.Tw2VertexElement.from({usage:e,usageIndex:this.usageIndex,elements:this.GetDimension()})}static black(e){return[["customName",e.string],["dimension",e.uint],["elementType",e.uint],["usageIndex",e.uint],["usedByGPU",e.boolean]]}}},"./particle/element/index.js":function(e,t,r){"use strict";r.r(t);var n=r("./particle/element/Tw2ParticleElement.js");r.d(t,"Tw2ParticleElement",(function(){return n.Tw2ParticleElement}));var i=r("./particle/element/Tw2ParticleElementDeclaration.js");r.d(t,"Tw2ParticleElementDeclaration",(function(){return i.Tw2ParticleElementDeclaration}))},"./particle/emitter/Tr2GpuSharedEmitter.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tr2GpuSharedEmitter",(function(){return s}));var n=r("./global/index.js"),i=r("./particle/emitter/Tw2ParticleEmitter.js");class s extends i.Tw2ParticleEmitter{constructor(...e){super(...e),this.name="",this.angle=0,this.attractorPosition=n.vec3.create(),this.attractorStrength=0,this.color0=n.vec4.create(),this.color1=n.vec4.create(),this.color2=n.vec4.create(),this.color3=n.vec4.create(),this.colorMidpoint=0,this.continuousEmitter=!1,this.direction=n.vec3.create(),this.drag=0,this.emissionDensity=0,this.gravity=0,this.inheritVelocity=0,this.innerAngle=0,this.maxDisplacement=0,this.maxEmissionDensity=0,this.maxLifeTime=0,this.maxSpeed=0,this.minLifeTime=0,this.minSpeed=0,this.particleSystem=null,this.position=n.vec3.create(),this.radius=0,this.rate=0,this.scaledByParent=!1,this.sizeVariance=0,this.sizes=n.vec3.create(),this.textureIndex=0,this.turbulenceAmplitude=0,this.turbulenceFrequency=0,this.velocityStretchRotation=0}static black(e){return[["name",e.string],["particleSystem",e.object],["angle",e.float],["attractorPosition",e.vector3],["attractorStrength",e.float],["color0",e.vector4],["color1",e.vector4],["color2",e.vector4],["color3",e.vector4],["colorMidpoint",e.float],["continuousEmitter",e.boolean],["direction",e.vector3],["drag",e.float],["emissionDensity",e.float],["gravity",e.float],["maxDisplacement",e.float],["maxEmissionDensity",e.float],["maxLifeTime",e.float],["maxSpeed",e.float],["minLifeTime",e.float],["minSpeed",e.float],["position",e.vector3],["inheritVelocity",e.float],["innerAngle",e.float],["radius",e.float],["rate",e.float],["sizeVariance",e.float],["sizes",e.vector3],["scaledByParent",e.boolean],["textureIndex",e.uint],["turbulenceAmplitude",e.float],["turbulenceFrequency",e.float],["velocityStretchRotation",e.float]]}}s.__isStaging=4},"./particle/emitter/Tr2GpuUniqueEmitter.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tr2GpuUniqueEmitter",(function(){return s}));var n=r("./global/index.js"),i=r("./particle/emitter/Tw2ParticleEmitter.js");class s extends i.Tw2ParticleEmitter{constructor(...e){super(...e),this.name="",this.angle=0,this.attractorPosition=n.vec3.create(),this.attractorStrength=0,this.color0=n.vec4.create(),this.color1=n.vec4.create(),this.color2=n.vec4.create(),this.color3=n.vec4.create(),this.colorMidpoint=0,this.continuousEmitter=!1,this.direction=n.vec3.create(),this.drag=0,this.emissionDensity=0,this.gravity=0,this.inheritVelocity=0,this.innerAngle=0,this.maxDisplacement=0,this.maxEmissionDensity=0,this.maxLifeTime=0,this.maxSpeed=0,this.minLifeTime=0,this.minSpeed=0,this.particleSystem=null,this.position=n.vec3.create(),this.radius=0,this.rate=0,this.scaledByParent=!1,this.sizeVariance=0,this.sizes=n.vec3.create(),this.textureIndex=0,this.turbulenceAmplitude=0,this.turbulenceFrequency=0,this.velocityStretchRotation=0}static black(e){return[["name",e.string],["particleSystem",e.object],["angle",e.float],["attractorPosition",e.vector3],["attractorStrength",e.float],["color0",e.vector4],["color1",e.vector4],["color2",e.vector4],["color3",e.vector4],["colorMidpoint",e.float],["continuousEmitter",e.boolean],["direction",e.vector3],["drag",e.float],["emissionDensity",e.float],["gravity",e.float],["maxDisplacement",e.float],["maxEmissionDensity",e.float],["maxLifeTime",e.float],["maxSpeed",e.float],["minLifeTime",e.float],["minSpeed",e.float],["position",e.vector3],["inheritVelocity",e.float],["innerAngle",e.float],["radius",e.float],["rate",e.float],["sizeVariance",e.float],["sizes",e.vector3],["scaledByParent",e.boolean],["textureIndex",e.uint],["turbulenceAmplitude",e.float],["turbulenceFrequency",e.float],["velocityStretchRotation",e.float]]}}s.__isStaging=4},"./particle/emitter/Tw2DynamicEmitter.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tw2DynamicEmitter",(function(){return i}));var n=r("./particle/emitter/Tw2ParticleEmitter.js");class i extends n.Tw2ParticleEmitter{constructor(...e){super(...e),this.name="",this.generators=[],this.maxParticles=0,this.particleSystem=null,this.rate=0,this._accumulatedRate=0,this._isValid=!1}Initialize(){this.Rebind()}Update(e){this.SpawnParticles(null,null,Math.min(e,.1))}Rebind(){if(this._isValid=!1,this.particleSystem){for(var e=0;e<this.generators.length;++e)if(!this.generators[e].Bind(this.particleSystem))return;this._isValid=!0}}SpawnParticles(e,t,r){if(this._isValid){this._accumulatedRate+=this.rate*r;var n=Math.floor(this._accumulatedRate);this._accumulatedRate-=n;for(var i=0;i<n;++i){var s=this.particleSystem.BeginSpawnParticle();if(null===s)break;for(var a=0;a<this.generators.length;++a)this.generators[a].Generate(e,t,s);this.particleSystem.EndSpawnParticle()}}}static black(e){return[["name",e.string],["particleSystem",e.object],["generators",e.array],["maxParticles",e.uint],["rate",e.float]]}}},"./particle/emitter/Tw2ParticleEmitter.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tw2ParticleEmitter",(function(){return s}));var n,i=r("./global/index.js"),s=(0,i.meta.abstract)(n=class extends i.Tw2BaseClass{constructor(...e){super(...e),this.particleSystem=null}Initialize(){}GetResources(e=[]){return this.particleSystem&&this.particleSystem.GetResources(e),e}Update(e){}})||n},"./particle/emitter/Tw2StaticEmitter.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tw2StaticEmitter",(function(){return a}));var n=r("./global/index.js"),i=r("./core/index.js"),s=r("./particle/emitter/Tw2ParticleEmitter.js");class a extends s.Tw2ParticleEmitter{constructor(...e){super(...e),this.name="",this.geometryResourcePath="",this.meshIndex=0,this.geometryResource=null,this._spawned=!1}get geometryIndex(){return this.meshIndex}set geometryIndex(e){this.meshIndex=e}Initialize(){""!==this.geometryResourcePath&&(this.geometryResource=n.resMan.GetResource(this.geometryResourcePath,e=>{e.systemMirror=!0,this.OnResPrepared(e)})),this._spawned=!1}GetResources(e=[]){return this.particleSystem&&this.particleSystem.GetResources(e),this.geometryResource&&!e.includes(this.geometryResource)&&e.push(this.geometryResource),e}OnResPrepared(){this.geometryResource&&this.geometryResource.meshes.length&&(this.geometryResource.meshes[0].bufferData||(this.geometryResource.systemMirror=!0,this.geometryResource.Reload()))}Update(){var e=this.geometryResource;if(!this._spawned&&this.particleSystem&&e&&e.IsGood()&&e.meshes.length>this.meshIndex&&e.meshes[this.meshIndex].bufferData){this._spawned=!0;for(var t=e.meshes[this.meshIndex],r=this.particleSystem.elements,n=new Array(r.length),s=0;s<r.length;++s){var a=r[s].GetDeclaration(),o=t.declaration.FindUsage(a.usage,a.usageIndex-8);if(null===o)return void e.OnError(new i.ErrGeometryMeshMissingParticleElement({path:e.path,elementUsage:a.usage,elementUsageIndex:a.usageIndex}));if(o.elements<a.elements)return void e.OnError(new i.ErrGeometryMeshElementComponentsMissing({path:e.path,inputCount:o.elements,elementCount:a.elements,elementUsage:a.usage,elementUsageIndex:a.usageIndex}));n[s]=o.offset/4}for(var u=t.bufferData.length/t.declaration.stride*4,c=0;c<u;++c){var l=this.particleSystem.BeginSpawnParticle();if(null===l)break;for(var h=0;h<this.particleSystem._elements.length;++h)for(var d=this.particleSystem._elements[h],f=0;f<d.dimension;++f)d.buffer[d.instanceStride*l+d.startOffset+f]=t.bufferData[n[h]+f+c*t.declaration.stride/4];this.particleSystem.EndSpawnParticle()}}}static black(e){return[["name",e.string],["particleSystem",e.object],["geometryResourcePath",e.string],["meshIndex",e.uint]]}}},"./particle/emitter/index.js":function(e,t,r){"use strict";r.r(t);var n=r("./particle/emitter/Tr2GpuSharedEmitter.js");r.d(t,"Tr2GpuSharedEmitter",(function(){return n.Tr2GpuSharedEmitter}));var i=r("./particle/emitter/Tr2GpuUniqueEmitter.js");r.d(t,"Tr2GpuUniqueEmitter",(function(){return i.Tr2GpuUniqueEmitter}));var s=r("./particle/emitter/Tw2StaticEmitter.js");r.d(t,"Tw2StaticEmitter",(function(){return s.Tw2StaticEmitter}));var a=r("./particle/emitter/Tw2DynamicEmitter.js");r.d(t,"Tw2DynamicEmitter",(function(){return a.Tw2DynamicEmitter}))},"./particle/force/Tr2ForceSphereVolume.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tr2ForceSphereVolume",(function(){return s}));var n=r("./particle/force/Tw2ParticleForce.js"),i=r("./core/index.js");r("./core/reader/Tw2BlackPropertyReaders.js");class s extends n.Tw2ParticleForce{constructor(...e){super(...e),this.forces=[],this.radius=0}ApplyForce(e,t,r,n,s){throw new i.ErrFeatureNotImplemented}Update(e){for(var t=0;t<this.forces.length;t++)this.forces[t].Update(e)}static black(e){return[["forces",e.array],["radius",e.float]]}}s.__isStaging=4},"./particle/force/Tr2ParticleVortexForce.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tr2ParticleVortexForce",(function(){return s}));var n=r("./global/index.js"),i=r("./particle/force/Tw2ParticleForce.js");class s extends i.Tw2ParticleForce{constructor(...e){super(...e),this.axis=n.vec3.create(),this.magnitude=0,this.position=n.vec3.create()}ApplyForce(e,t,r,n,i){}Update(e){}static black(e){return[["axis",e.vector3],["magnitude",e.float],["position",e.vector3]]}}s.__isStaging=4},"./particle/force/Tw2ParticleAttractorForce.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tw2ParticleAttractorForce",(function(){return s}));var n=r("./global/index.js"),i=r("./particle/force/Tw2ParticleForce.js");class s extends i.Tw2ParticleForce{constructor(...e){super(...e),this.magnitude=0,this.position=n.vec3.create()}ApplyForce(e,t,r,s,a){var o=i.Tw2ParticleForce.global.vec3_0;o[0]=this.position[0]-e.buffer[e.offset],o[1]=this.position[1]-e.buffer[e.offset+1],o[2]=this.position[2]-e.buffer[e.offset+2],n.vec3.normalize(o,o),n.vec3.scale(o,o,this.magnitude),n.vec3.add(r,r,o)}static black(e){return[["magnitude",e.float],["position",e.vector3]]}}},"./particle/force/Tw2ParticleDirectForce.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tw2ParticleDirectForce",(function(){return s}));var n=r("./global/index.js"),i=r("./particle/force/Tw2ParticleForce.js");class s extends i.Tw2ParticleForce{constructor(...e){super(...e),this.force=n.vec3.create()}ApplyForce(e,t,r,i,s){n.vec3.add(r,r,this.force)}static black(e){return[["force",e.vector3]]}}},"./particle/force/Tw2ParticleDragForce.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tw2ParticleDragForce",(function(){return i}));var n=r("./particle/force/Tw2ParticleForce.js");class i extends n.Tw2ParticleForce{constructor(...e){super(...e),this.drag=.1}ApplyForce(e,t,r,n,i){r[0]+=t.buffer[t.offset]*-this.drag,r[1]+=t.buffer[t.offset+1]*-this.drag,r[2]+=t.buffer[t.offset+2]*-this.drag}static black(e){return[["drag",e.float]]}}},"./particle/force/Tw2ParticleFluidDragForce.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tw2ParticleFluidDragForce",(function(){return s}));var n=r("./global/index.js"),i=r("./particle/force/Tw2ParticleForce.js");class s extends i.Tw2ParticleForce{constructor(...e){super(...e),this.drag=.1}ApplyForce(e,t,r,s,a){var o=i.Tw2ParticleForce.global.vec3_0,u=i.Tw2ParticleForce.global.vec3_1,c=Math.sqrt(t.buffer[t.offset]*t.buffer[t.offset]+t.buffer[t.offset+1]*t.buffer[t.offset+1]+t.buffer[t.offset+2]*t.buffer[t.offset+2]);o[0]=t.buffer[t.offset]*-c*this.drag,o[1]=t.buffer[t.offset+1]*-c*this.drag,o[2]=t.buffer[t.offset+2]*-c*this.drag,n.vec3.scale(u,o,s*a),u[0]+=t.buffer[t.offset],u[1]+=t.buffer[t.offset+1],u[2]+=t.buffer[t.offset+2],t.buffer[t.offset]*u[0]+t.buffer[t.offset+1]*u[1]+t.buffer[t.offset+2]*u[2]<0?(r[0]=-t.buffer[t.offset]/s/a,r[1]=-t.buffer[t.offset+1]/s/a,r[2]=-t.buffer[t.offset+2]/s/a):n.vec3.copy(r,o)}static black(e){return[["drag",e.float]]}}},"./particle/force/Tw2ParticleForce.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tw2ParticleForce",(function(){return p}));var n,i,s,a,o,u,c=r("./global/index.js");var l,h,d,f,m,v,p=(n=c.meta.abstract,i=c.meta.abstract,n((u=o=class extends c.Tw2BaseClass{ApplyForce(e,t,r,n,i){}Update(e){}},o.global={vec3_0:c.vec3.create(),vec3_1:c.vec3.create(),vec4_0:c.vec4.create()},l=(a=u).prototype,h="ApplyForce",d=[i],f=Object.getOwnPropertyDescriptor(a.prototype,"ApplyForce"),m=a.prototype,v={},Object.keys(f).forEach((function(e){v[e]=f[e]})),v.enumerable=!!v.enumerable,v.configurable=!!v.configurable,("value"in v||v.initializer)&&(v.writable=!0),v=d.slice().reverse().reduce((function(e,t){return t(l,h,e)||e}),v),m&&void 0!==v.initializer&&(v.value=v.initializer?v.initializer.call(m):void 0,v.initializer=void 0),void 0===v.initializer&&(Object.defineProperty(l,h,v),v=null),s=a))||s)},"./particle/force/Tw2ParticleSpring.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tw2ParticleSpring",(function(){return s}));var n=r("./global/index.js"),i=r("./particle/force/Tw2ParticleForce.js");class s extends i.Tw2ParticleForce{constructor(...e){super(...e),this.springConstant=0,this.position=n.vec3.create()}ApplyForce(e,t,r,n,i){r[0]+=(this.position[0]-e.buffer[e.offset])*this.springConstant,r[1]+=(this.position[1]-e.buffer[e.offset+1])*this.springConstant,r[2]+=(this.position[2]-e.buffer[e.offset+2])*this.springConstant}static black(e){return[["position",e.vector3],["springConstant",e.float]]}}},"./particle/force/Tw2ParticleTurbulenceForce.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tw2ParticleTurbulenceForce",(function(){return s}));var n=r("./global/index.js"),i=r("./particle/force/Tw2ParticleForce.js");class s extends i.Tw2ParticleForce{constructor(...e){super(...e),this.amplitude=n.vec3.fromValues(1,1,1),this.frequency=n.vec4.fromValues(1,1,1,1),this.noiseLevel=3,this.noiseRatio=.5,this._time=0}ApplyForce(e,t,r,s,a){if(0!==this.noiseLevel){for(var o=e.buffer[e.offset]*this.frequency[0],u=e.buffer[e.offset+1]*this.frequency[1],c=e.buffer[e.offset+2]*this.frequency[2],l=this._time*this.frequency[3],h=0,d=.5,f=1/this.noiseRatio,m=n.vec4.set(i.Tw2ParticleForce.global.vec4_0,0,0,0,0),v=0;v<this.noiseLevel;++v)n.noise.turbulence(m,o,u,c,l,d),h+=d,o*=f,u*=f,c*=f,l*=f,d*=this.noiseRatio;r[0]+=m[0]*this.amplitude[0]*h,r[1]+=m[1]*this.amplitude[1]*h,r[2]+=m[2]*this.amplitude[2]*h}}Update(e){this._time+=e}static black(e){return[["amplitude",e.vector3],["frequency",e.vector4],["noiseLevel",e.float],["noiseRatio",e.float]]}}},"./particle/force/index.js":function(e,t,r){"use strict";r.r(t);var n=r("./particle/force/Tr2ForceSphereVolume.js");r.d(t,"Tr2ForceSphereVolume",(function(){return n.Tr2ForceSphereVolume}));var i=r("./particle/force/Tr2ParticleVortexForce.js");r.d(t,"Tr2ParticleVortexForce",(function(){return i.Tr2ParticleVortexForce}));var s=r("./particle/force/Tw2ParticleAttractorForce.js");r.d(t,"Tw2ParticleAttractorForce",(function(){return s.Tw2ParticleAttractorForce}));var a=r("./particle/force/Tw2ParticleDirectForce.js");r.d(t,"Tw2ParticleDirectForce",(function(){return a.Tw2ParticleDirectForce}));var o=r("./particle/force/Tw2ParticleDragForce.js");r.d(t,"Tw2ParticleDragForce",(function(){return o.Tw2ParticleDragForce}));var u=r("./particle/force/Tw2ParticleFluidDragForce.js");r.d(t,"Tw2ParticleFluidDragForce",(function(){return u.Tw2ParticleFluidDragForce}));var c=r("./particle/force/Tw2ParticleSpring.js");r.d(t,"Tw2ParticleSpring",(function(){return c.Tw2ParticleSpring}));var l=r("./particle/force/Tw2ParticleTurbulenceForce.js");r.d(t,"Tw2ParticleTurbulenceForce",(function(){return l.Tw2ParticleTurbulenceForce}))},"./particle/generators/Tw2ParticleAttributeGenerator.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tw2ParticleAttributeGenerator",(function(){return d}));var n,i,s,a,o,u,c,l=r("./global/index.js");function h(e,t,r,n,i){var s={};return Object.keys(n).forEach((function(e){s[e]=n[e]})),s.enumerable=!!s.enumerable,s.configurable=!!s.configurable,("value"in s||s.initializer)&&(s.writable=!0),s=r.slice().reverse().reduce((function(r,n){return n(e,t,r)||r}),s),i&&void 0!==s.initializer&&(s.value=s.initializer?s.initializer.call(i):void 0,s.initializer=void 0),void 0===s.initializer&&(Object.defineProperty(e,t,s),s=null),s}var d=(n=l.meta.abstract,i=l.meta.abstract,s=l.meta.abstract,n((c=u=class extends l.Tw2BaseClass{Bind(e){}Generate(e,t,r){}},u.global={vec3_0:l.vec3.create()},h((o=c).prototype,"Bind",[i],Object.getOwnPropertyDescriptor(o.prototype,"Bind"),o.prototype),h(o.prototype,"Generate",[s],Object.getOwnPropertyDescriptor(o.prototype,"Generate"),o.prototype),a=o))||a)},"./particle/generators/Tw2RandomIntegerAttributeGenerator.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tw2RandomIntegerAttributeGenerator",(function(){return a}));var n=r("./global/index.js"),i=r("./particle/element/Tw2ParticleElement.js"),s=r("./particle/generators/Tw2ParticleAttributeGenerator.js");class a extends s.Tw2ParticleAttributeGenerator{constructor(...e){super(...e),this.customName="",this.elementType=i.Tw2ParticleElement.Type.CUSTOM,this.minRange=n.vec4.create(),this.maxRange=n.vec4.create(),this._element=null}Bind(e){for(var t=0;t<e._elements.length;++t)if(e._elements[t].elementType===this.elementType&&(this.elementType!==i.Tw2ParticleElement.Type.CUSTOM||e._elements[t].customName===this.customName))return this._element=e._elements[t],!0;return!1}Generate(e,t,r){for(var n=0;n<this._element.dimension;++n)this._element.buffer[this._element.instanceStride*r+this._element.startOffset+n]=Math.floor(this.minRange[n]+Math.random()*(this.maxRange[n]-this.minRange[n])+.5)}static black(e){return[["customName",e.string],["minRange",e.vector4],["maxRange",e.vector4]]}}},"./particle/generators/Tw2RandomUniformAttributeGenerator.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tw2RandomUniformAttributeGenerator",(function(){return a}));var n=r("./global/index.js"),i=r("./particle/element/Tw2ParticleElement.js"),s=r("./particle/generators/Tw2ParticleAttributeGenerator.js");class a extends s.Tw2ParticleAttributeGenerator{constructor(...e){super(...e),this.customName="",this.elementType=i.Tw2ParticleElement.Type.CUSTOM,this.minRange=n.vec4.create(),this.maxRange=n.vec4.create(),this._element=null}Bind(e){for(var t=0;t<e._elements.length;++t)if(e._elements[t].elementType===this.elementType&&(this.elementType!==i.Tw2ParticleElement.Type.CUSTOM||e._elements[t].customName===this.customName))return this._element=e._elements[t],!0;return!1}Generate(e,t,r){for(var n=0;n<this._element.dimension;++n)this._element.buffer[this._element.instanceStride*r+this._element.startOffset+n]=this.minRange[n]+Math.random()*(this.maxRange[n]-this.minRange[n])}static black(e){return[["customName",e.string],["elementType",e.uint],["minRange",e.vector4],["maxRange",e.vector4]]}}},"./particle/generators/Tw2SphereShapeAttributeGenerator.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tw2SphereShapeAttributeGenerator",(function(){return a}));var n=r("./global/index.js"),i=r("./particle/element/Tw2ParticleElement.js"),s=r("./particle/generators/Tw2ParticleAttributeGenerator.js");class a extends s.Tw2ParticleAttributeGenerator{constructor(...e){super(...e),this.customName="",this.distributionExponent=0,this.maxPhi=360,this.maxRadius=0,this.maxSpeed=0,this.maxTheta=360,this.minPhi=0,this.minRadius=0,this.minSpeed=0,this.minTheta=0,this.parentVelocityFactor=1,this.position=n.vec3.create(),this.rotation=n.quat.create(),this.controlPosition=!0,this.controlVelocity=!0,this._position=null,this._velocity=null}Bind(e){this._position=null,this._velocity=null;for(var t=0;t<e._elements.length;++t)e._elements[t].elementType===i.Tw2ParticleElement.Type.POSITION&&this.controlPosition?this._position=e._elements[t]:e._elements[t].elementType===i.Tw2ParticleElement.Type.VELOCITY&&this.controlVelocity&&(this._velocity=e._elements[t]);return!(this.controlPosition&&null===this._position||this.controlVelocity&&null===this._velocity)}Generate(e,t,r){var i=(this.minPhi+Math.random()*(this.maxPhi-this.minPhi))/180*Math.PI,a=(this.minTheta+Math.random()*(this.maxTheta-this.minTheta))/180*Math.PI,o=s.Tw2ParticleAttributeGenerator.global.vec3_0;if(o[0]=Math.sin(i)*Math.cos(a),o[1]=-Math.cos(i),o[2]=Math.sin(i)*Math.sin(a),n.vec3.transformQuat(o,o,this.rotation),this._velocity){var u=this.minSpeed+Math.random()*(this.maxSpeed-this.minSpeed),c=this._velocity.instanceStride*r+this._velocity.startOffset;this._velocity.buffer[c]=o[0]*u,this._velocity.buffer[c+1]=o[1]*u,this._velocity.buffer[c+2]=o[2]*u,t&&(this._velocity.buffer[c]+=t.buffer[t.offset]*this.parentVelocityFactor,this._velocity.buffer[c+1]+=t.buffer[t.offset+1]*this.parentVelocityFactor,this._velocity.buffer[c+2]+=t.buffer[t.offset+2]*this.parentVelocityFactor)}if(this._position){n.vec3.scale(o,o,this.minRadius+Math.random()*(this.maxRadius-this.minRadius)),n.vec3.add(o,o,this.position),e&&(o[0]+=e.buffer[e.offset],o[1]+=e.buffer[e.offset+1],o[2]+=e.buffer[e.offset+2]);var l=this._position.instanceStride*r+this._position.startOffset;this._position.buffer[l]=o[0],this._position.buffer[l+1]=o[1],this._position.buffer[l+2]=o[2]}}static black(e){return[["customName",e.string],["distributionExponent",e.float],["maxPhi",e.float],["maxRadius",e.float],["maxSpeed",e.float],["maxTheta",e.float],["minPhi",e.float],["minRadius",e.float],["minSpeed",e.float],["minTheta",e.float],["parentVelocityFactor",e.float],["position",e.vector3],["rotation",e.vector4]]}}a.__isStaging=1},"./particle/generators/index.js":function(e,t,r){"use strict";r.r(t);var n=r("./particle/generators/Tw2RandomIntegerAttributeGenerator.js");r.d(t,"Tw2RandomIntegerAttributeGenerator",(function(){return n.Tw2RandomIntegerAttributeGenerator}));var i=r("./particle/generators/Tw2RandomUniformAttributeGenerator.js");r.d(t,"Tw2RandomUniformAttributeGenerator",(function(){return i.Tw2RandomUniformAttributeGenerator}));var s=r("./particle/generators/Tw2SphereShapeAttributeGenerator.js");r.d(t,"Tw2SphereShapeAttributeGenerator",(function(){return s.Tw2SphereShapeAttributeGenerator}))},"./particle/index.js":function(e,t,r){"use strict";r.r(t);var n=r("./particle/constraint/index.js");r.d(t,"Tr2PlaneConstraint",(function(){return n.Tr2PlaneConstraint}));var i=r("./particle/element/index.js");r.d(t,"Tw2ParticleElementDeclaration",(function(){return i.Tw2ParticleElementDeclaration})),r.d(t,"Tw2ParticleElement",(function(){return i.Tw2ParticleElement}));var s=r("./particle/emitter/index.js");r.d(t,"Tr2GpuSharedEmitter",(function(){return s.Tr2GpuSharedEmitter})),r.d(t,"Tr2GpuUniqueEmitter",(function(){return s.Tr2GpuUniqueEmitter})),r.d(t,"Tw2StaticEmitter",(function(){return s.Tw2StaticEmitter})),r.d(t,"Tw2DynamicEmitter",(function(){return s.Tw2DynamicEmitter}));var a=r("./particle/force/index.js");r.d(t,"Tr2ForceSphereVolume",(function(){return a.Tr2ForceSphereVolume})),r.d(t,"Tr2ParticleVortexForce",(function(){return a.Tr2ParticleVortexForce})),r.d(t,"Tw2ParticleAttractorForce",(function(){return a.Tw2ParticleAttractorForce})),r.d(t,"Tw2ParticleDirectForce",(function(){return a.Tw2ParticleDirectForce})),r.d(t,"Tw2ParticleDragForce",(function(){return a.Tw2ParticleDragForce})),r.d(t,"Tw2ParticleFluidDragForce",(function(){return a.Tw2ParticleFluidDragForce})),r.d(t,"Tw2ParticleSpring",(function(){return a.Tw2ParticleSpring})),r.d(t,"Tw2ParticleTurbulenceForce",(function(){return a.Tw2ParticleTurbulenceForce}));var o=r("./particle/generators/index.js");r.d(t,"Tw2RandomIntegerAttributeGenerator",(function(){return o.Tw2RandomIntegerAttributeGenerator})),r.d(t,"Tw2RandomUniformAttributeGenerator",(function(){return o.Tw2RandomUniformAttributeGenerator})),r.d(t,"Tw2SphereShapeAttributeGenerator",(function(){return o.Tw2SphereShapeAttributeGenerator}));var u=r("./particle/Tw2GpuParticleSystem.js");r.d(t,"Tr2GpuParticleSystem",(function(){return u.Tr2GpuParticleSystem}));var c=r("./particle/Tw2ParticleSystem.js");r.d(t,"Tw2ParticleSystem",(function(){return c.Tw2ParticleSystem}))},"./sof/EveSOF.js":function(e,t,r){"use strict";r.r(t),r.d(t,"EveSOF",(function(){return l}));var n=r("./global/index.js"),i=r("./global/util/index.js"),s=r("./curve/index.js"),a=r("./core/index.js"),o=r("./eve/index.js");function u(e,t,r,n,i,s,a){try{var o=e[s](a),u=o.value}catch(e){return void r(e)}o.done?t(u):Promise.resolve(u).then(n,i)}function c(e){return function(){var t=this,r=arguments;return new Promise((function(n,i){var s=e.apply(t,r);function a(e){u(s,n,i,a,o,"next",e)}function o(e){u(s,n,i,a,o,"throw",e)}a(void 0)}))}}function l(e){var t=this,r=this,u=null,l=null;function h(e){return e?Object(i.get)(u.generic,"shaderPrefixAnimated",""):Object(i.get)(u.generic,"shaderPrefix","")}function d(e,t,r,n,s){var a=null;if(Object(i.get)(n,"resPathInsert","").length&&(a=n.resPathInsert),"respathinsert"in s&&1===s.respathinsert.length){if("none"===s.respathinsert[0])return e;a=s.respathinsert[0]}if("MaterialMap"===t||"PaintMaskMap"===t||"PmdgMap"===t){var o=e.lastIndexOf("/"),u=e;if(o>=0&&(u=e.substr(0,o+1)+a+"/"+e.substr(o+1)),(o=u.lastIndexOf("_"))>=0){u=u.substr(0,o)+"_"+a+u.substr(o);var c=Object(i.get)(r,"textureOverrides",{});if(t in c&&n.name in c[t])return u}}return e}function f(e,t){for(var r=0;r<e.length;++r)if(t.substr(0,e[r].length)===e[r])return r;return null}function m(e,t,r,n){var s,a,o,c;return"mesh"in r&&null!==(a=f(s=u.generic.materialPrefixes,e))&&a<r.mesh.length&&0==(Object(i.get)(t,"blockedMaterials",0)&1<<a)&&(o=Object(i.get)(u.material,r.mesh[a],null))?(c=e.substr(s[a].length),Object(i.get)(o.parameters,c,void 0)):(a=f(s=u.generic.patternMaterialPrefixes,e),"pattern"in r&&null!==a&&1+a<r.pattern.length&&(o=Object(i.get)(u.material,r.pattern[1+a],null))?(c=e.substr(s[a].length),Object(i.get)(o.parameters,c,void 0)):null!==a&&(o=Object(i.get)(u.material,n.defaultPatternLayer1MaterialName,null))?(c=e.substr(s[a].length),Object(i.get)(o.parameters,c,void 0)):void 0)}function v(e){switch(e){case 2:return 4;case 1:return 3;default:return 1}}function p(e,t,r,n,s,o,c,l,f){for(var p,_,E,S,T=Object(i.get)(r,t,[]),g=0;g<T.length;++g){for(var R=T[g],b=new a.Tw2Effect,y=0;y<2;y++){var A=f[y];if(A){var{PatternMaskMap:j,DiffuseColor:w,FresnelColor:O,Gloss:C}=A.parameters;b.parameters[j.name]=j,b.parameters[w.name]=w,b.parameters[O.name]=O,b.parameters[C.name]=C}else console.error("Missing mask "+y)}b.effectFilePath=u.generic.areaShaderLocation+(p=l||R.shader,_=r.isSkinned,E=void 0,S=void 0,E=h(_),S=(p="/"+p).lastIndexOf("/"),p.substr(0,S+1)+E+p.substr(S+1));for(var L=Object(i.get)(Object(i.get)(u.generic.areaShaders,R.shader,{}),"parameters",[]),D=0;D<L.length;++D){var P=L[D],x=m(P,R,c,s);(x=(x=(x=(x=x||Object(i.get)(Object(i.get)(Object(i.get)(u.generic.hullAreas,R.name,{}),"parameters",{}),P))||Object(i.get)(Object(i.get)(Object(i.get)(s.hullAreas,R.name,{}),"parameters",{}),P))||Object(i.get)(Object(i.get)(Object(i.get)(n.areas,R.name,{}),"parameters",{}),P))||Object(i.get)(Object(i.get)(R,"parameters",{}),P))&&(b.parameters[P]?b.parameters[P].SetValue(x):b.parameters[P]=new a.Tw2Vector4Parameter(P,x))}var I=Object(i.get)(R,"textures",{});for(var M in I)if(I.hasOwnProperty(M)){var F=d(I[M],M,R,n,c);b.parameters[M]?b.parameters[M].SetValue(F):b.parameters[M]=new a.Tw2TextureParameter(M,F)}for(var G=0;G<o.layers.length;++G){var N=o.layers[G]?o.layers[G].textureName:"";if(N&&!b.parameters[N]){var B=new a.Tw2TextureParameter(o.layers[G].textureName);B.resourcePath=o.layers[G].textureResFilePath,B.useAllOverrides=!0,B.addressUMode=v(Object(i.get)(o.layers[G],"projectionTypeU",0)),B.addressVMode=v(Object(i.get)(o.layers[G],"projectionTypeV",0)),B.Initialize(),b.parameters[o.layers[G].textureName]=B}}var U=Object(i.get)(Object(i.get)(u.generic.areaShaders,R.shader,{}),"defaultTextures",{});for(var V in U)U.hasOwnProperty(V)&&(V in b.parameters||(b.parameters[V]=new a.Tw2TextureParameter(V,U[V])));b.Initialize();var k=new a.Tw2MeshArea;k.name=R.name,k.effect=b,k.index=Object(i.get)(R,"index",0),k.count=Object(i.get)(R,"count",1),e.push(k)}}function _(e,t=-1){if(!e)return null;var r="group".concat(t);return e[r]?e[r]:null}this.SKIP_EMPTY_ITEMS=!0;var E="res:/graphics/effect/managed/space/spaceobject/fx/spotlightcone.fx",S="res:/graphics/effect/managed/space/spaceobject/fx/skinned_spotlightcone.fx",T="res:/graphics/effect/managed/space/spaceobject/fx/spotlightglow.fx",g="res:/graphics/effect/managed/space/spaceobject/fx/skinned_spotlightglow.fx";var R="res:/graphics/effect/managed/space/spaceobject/fx/planeglow.fx",b="res:/graphics/effect/managed/space/spaceobject/fx/skinned_planeglow.fx";var y="res:/Graphics/Effect/Managed/Space/Booster/BoosterVolumetric.fx",A="res:/Graphics/Effect/Managed/Space/Booster/BoosterGlowAnimated.fx",j="res:/Texture/global/noise.dds.0.png",w="res:/Texture/Global/noise32cube_volume.dds.0.png",O="res:/Texture/Particle/whitesharp.dds.0.png";function C(t,r,a,o){function u(r){return function(u){u.constructor.__isEffectChild?t.effectChildren.push(u):t.children.push(u),n.vec3.copy(u.translation,Object(i.get)(r,"translation",[0,0,0])),n.quat.copy(u.rotation,Object(i.get)(r,"rotation",[0,0,0,1])),n.vec3.copy(u.scaling,Object(i.get)(r,"scaling",[1,1,1]));var c=Object(i.get)(r,"id",-1);-1!==c&&o[c]&&function t(r,n,i){if(Array.isArray(r.particleEmitters)){for(var a=0;a<r.particleEmitters.length;++a)if("rate"in r.particleEmitters[a]){var o=new s.Tw2ValueBinding;o.sourceObject=i,o.sourceAttribute="currentValue",o.destinationObject=r.particleEmitters[a],o.destinationAttribute="rate",o.Initialize(),n.bindings.push(o)}for(a=0;a<r.children.length;++a)t(r.children[a],n,i)}else e.Log({type:"warning",name:"Space object factory",message:"Unable to bind particle emitters: ".concat(r.constructor.name)})}(u,a,o[c])}}for(var c=Object(i.get)(r,"children",[]),l=0;l<c.length;++l){var h=c[l].redFilePath;h?e.resMan.GetObject(h,u(c[l])):e.Log({type:"warning",name:"Space object factory",message:'No resource path found for "'.concat(r.name,'" child at index ').concat(l)})}}function L(e,t,r){for(var n=-1,s=0;s<u.generic.materialPrefixes.length;++s)e.substr(0,u.generic.materialPrefixes[s].length)===u.generic.materialPrefixes[s]&&(n=s,e=e.substr(u.generic.materialPrefixes[s].length));if(-1!==n){var a=Object(i.get)(t,"materialUsageMtl"+(n+1),n);if(a>=0&&a<u.generic.materialPrefixes.length&&(e=u.generic.materialPrefixes[a]+e)in r.parameters)return r.parameters[e]}}var D,P=[0,0,0,0];function x(e,t,r,n){switch(n){case"overridable":return t||(r||P);case"half_overridable":return e.indexOf("GlowColor")>=0?r||P:t||(r||P);case"not_overridable":case"half_overridable_2":return r||P}return P}function I(e,t){for(var r=0;r<e.length;r++)if(e[r].name===t)return r;return-1}this.SetupTurretMaterial=function(e,t,r,n,i){return this.FetchTurretMaterial(e,t,r).then(n).catch(i)},this.FetchTurretMaterial=function(){var e=c((function*(e,t,r){return yield this.FetchSOF(),function(e,t,r){var i=u.faction[t],s=u.faction[r],o=null;i&&i.areas&&"hull"in i.areas&&(o=i.areas.hull);var c=null;if(s&&s.areas&&"hull"in s.areas&&(c=s.areas.hull),(o||c)&&e.turretEffect){var l=e.turretEffect.parameters;for(var h in l)if(l.hasOwnProperty(h)){if(l[h].constructor.prototype!==a.Tw2Vector4Parameter.prototype)continue;var d=null,f=null;o&&(d=L(h,i,o)),c&&(f=L(h,i,o)),n.vec4.copy(l[h].value,x(h,d,f,e.turretEffect.name))}e.turretEffect.BindParameters()}}(e,t,r),e}));return function(t,r,n){return e.apply(this,arguments)}}(),this.FetchSOF=(D=null,c((function*(){return D||(l=a.Tw2Effect.from({effectFilePath:"res:/graphics/effect/managed/space/spaceobject/fx/blinkinglightspool.fx",parameters:{MainIntensity:1,GradientMap:"res:/texture/particle/whitesharp_gradient.dds.0.png"}}),D=e.FetchObject("res:/dx9/model/spaceobjectfactory/data.red").then(e=>u=e).catch(t=>{e.Log({type:"error",name:"Space object factory",message:"Could not load data"})})),D}))),this.ExtendPatternsFrom=function(){var t=c((function*(t){if(!t)throw new Error("Invalid respath: undefined");var r,n=yield this.FetchSOF(),s=yield e.FetchObject(t);if(Object(i.isArray)(s.pattern))r=s.pattern;else for(var a in r=[],s.pattern)s.pattern.hasOwnProperty(a)&&r.push(s.pattern[a]);for(var o=0;o<r.length;o++){var u=I(r[o].name);-1===u?n.pattern.push(r[o]):n.pattern[u]=r[o]}}));return function(e){return t.apply(this,arguments)}}(),this.ExtendMaterialsFrom=function(){var t=c((function*(t){if(!t)throw new Error("Invalid respath: undefined");var r=yield this.FetchSOF(),n=yield e.FetchObject(t),s=n.material;if(t.includes(".black"))if(Object(i.isArray)(s))s.forEach(e=>{r.material[e.name]=e.Assign()});else for(var a in s)s.hasOwnProperty(a)&&(r.material[a]=s[a].Assign());else Object.assign(r.material,n.material)}));return function(e){return t.apply(this,arguments)}}();var M=function(){var e=c((function*(e){var r=yield t.FetchSOF();if(r[e])return r[e];throw new Error("Invalid sof object (".concat(e,")"))}));return function(t){return e.apply(this,arguments)}}(),F=function(){var e=c((function*(e,t,r){var n=yield M(e);if(Object(i.isArray)(n)){for(var s=0;s<n.length;s++)if(n[t].name===e)return n[t]}else if(n[t])return n[t];if(r)throw new r({name:t});throw new Error("Invalid sof object key (".concat(e,":").concat(t,")"))}));return function(t,r,n){return e.apply(this,arguments)}}(),G=function(){var e=c((function*(e){var t=yield M(e),r={};if(Object(i.isArray)(t)){for(var n=0;n<t.length;n++)r[t[n].name]=t[n].description||t[n].name;return r}for(var s in t)t.hasOwnProperty(s)&&(r[s]=t[s].description||t[s].name);return r}));return function(t){return e.apply(this,arguments)}}(),N=function(){var e=c((function*(e,r){yield t.FetchHull(e);for(var{projections:n=[]}=r,i=0;i<n.length;i++)if(n[i].name===e){var s={};return s.name=r.name,s.layer1=r.layer1,s.layer2=r.layer2,s.transformLayer1=n[i].transformLayer1,s.transformLayer2=n[i].transformLayer2,s}}));return function(t,r){return e.apply(this,arguments)}}();this.FetchObject=function(){var e=c((function*(e){if(!Object(i.isDNA)(e))throw new Error("Invalid DNA (".concat(e,")"));for(var c=e.split(":"),d={},f=3;f<c.length;++f){var m=c[f].split("?");d[m[0]]=m[1].split(";")}var L=yield t.FetchHull(c[0]),D=yield t.FetchFaction(c[1]),P=yield t.FetchRace(c[2]);if(d.mesh)for(var x=0;x<d.mesh.length;x++)yield t.FetchMaterial(d.mesh[x]);if(d.pattern&&d.pattern.length>1)for(var I=1;I<d.pattern.length;I++)yield t.FetchMaterial(d.pattern[I]);var M=new(2===Object(i.get)(L,"buildClass",0)?o.EveSpaceObject:o.EveShip),F=function(e,t,r){var n={patterns:[],layers:[]};if("pattern"in r){for(var s={},a=0;a<u.pattern.length;++a)if(u.pattern[a].name===r.pattern[0]){s=u.pattern[a];break}n.layers.push(Object(i.get)(s,"layer1",{})),n.layers.push(Object(i.get)(s,"layer2",{}));for(var o=Object(i.get)(s,"projections",[]),c={},l=0;l<o.length;++l)if(o[l].name===e.name){c=o[l];break}n.patterns.push(Object(i.get)(c,"transformLayer1",{})),n.patterns.push(Object(i.get)(c,"transformLayer2",{}))}else{var h=Object(i.get)(t,"defaultPattern",{});n.layers.push(Object(i.get)(h,"layer1",{})),n.layers.push(Object(i.get)(h,"layer2",{}));var d=Object(i.get)(e,"defaultPattern",{});n.patterns.push(Object(i.get)(d,"transformLayer1",{})),n.patterns.push(Object(i.get)(d,"transformLayer2",{}))}return n}(L,P,d);!function(e,t={}){for(var{patterns:r=[],layers:i=[]}=t,s=0;s<2;++s){var a=r[s]||{},u=i[s]||{},{rotation:c=n.quat.create(),scaling:l=n.vec3.fromValues(1,1,1),position:h=n.vec3.create(),isMirrored:d=!1}=a,{display:f=!!i[s].textureName,materialSource:m=0,textureName:p="PatternMask".concat(s+1,"Map"),textureResFilePath:_="res:/texture/global/black.dds.0.png",projectionTypeU:E=0,projectionTypeV:S=0,isTargetMtl1:T=!0,isTargetMtl2:g=!0,isTargetMtl3:R=!0,isTargetMtl4:b=!0}=u,y=e.customMasks[s]||new o.EveCustomMask;y.name="Pattern".concat(s+1),y.display=f,n.quat.copy(y.rotation,c),n.vec3.copy(y.scaling,l),n.vec3.copy(y.translation,h),n.vec4.set(y.targetMaterials,T?1:0,g?1:0,R?1:0,b?1:0),y.materialIndex=m,y.isMirrored=!!d;var{PatternMaskMap:A,DiffuseColor:j,FresnelColor:w,Gloss:O}=y.parameters;A.name=p,A.resourcePath=_,A.useAllOverrides=!0,A.addressUMode=v(E),A.addressVMode=v(S),A.Initialize();var C="PMtl".concat(s+1);j.name="".concat(C,"DiffuseColor"),w.name="".concat(C,"FresnelColor"),O.name="".concat(C,"Gloss"),y.Initialize(),e.customMasks[s]!==y&&e.customMasks.push(y)}}(M,F),function(e,t,r,n,s,u){var c=e.mesh||new a.Tw2Mesh;c.geometryResPath=t.geometryResFilePath,e.mesh!==c?(e.boundingSphereCenter[0]=t.boundingSphere[0],e.boundingSphereCenter[1]=t.boundingSphere[1],e.boundingSphereCenter[2]=t.boundingSphere[2],e.boundingSphereRadius=t.boundingSphere[3]):c.EmptyAreas();var l=e.customMasks;l[0]=l[0]||new o.EveCustomMask,l[1]=l[1]||new o.EveCustomMask;var h=[t,r,n,u,s,void 0,l];p(Object(i.get)(c,"opaqueAreas",[]),"opaqueAreas",...h),p(Object(i.get)(c,"transparentAreas",[]),"transparentAreas",...h),p(Object(i.get)(c,"additiveAreas",[]),"additiveAreas",...h),p(Object(i.get)(c,"decalAreas",[]),"decalAreas",...h),p(Object(i.get)(c,"depthAreas",[]),"depthAreas",...h),e.mesh!==c&&("shapeEllipsoidCenter"in t&&(e.shapeEllipsoidCenter=t.shapeEllipsoidCenter),"shapeEllipsoidRadius"in t&&(e.shapeEllipsoidRadius=t.shapeEllipsoidRadius)),e.mesh=c,c.Initialize()}(M,L,D,P,d,F),function(e,t,r={}){for(var n=Object(i.get)(t,"hullDecals",[]),s=0;s<n.length;++s){var a=n[s],c=_(r.decals,a.groupIndex);if(!c||c.isVisible){var l=c&&c.shader||a.shader;if(l){var d=u.generic.decalShaderLocation+"/"+h(!1)+l,f=Object.assign({},a.parameters),m=Object.assign(Object(i.get)(Object(i.get)(u.generic.decalShaders,a.shader,{}),"defaultTextures",{}));c&&(Object.assign(f,c.parameters),Object.assign(m,c.textures)),Object.assign(m,a.textures),e.decals.push(o.EveSpaceObjectDecal.from({name:a.name,groupIndex:a.groupIndex,parentBoneIndex:a.boneIndex,indexBuffer:a.indexBuffer,position:a.position,rotation:a.rotation,scaling:a.scaling,effect:{effectFilePath:d,parameters:f,textures:m}}))}}}}(M,L,D),function(e,t,s){for(var a=Object(i.get)(t,"spriteSets",[]),u=Object(i.get)(s,"spriteSets",{}),c=0;c<a.length;++c){for(var h=a[c],d=Object(i.get)(h,"items",[]),f=[],m=0;m<d.length;m++){var v=Object.assign({blinkRate:.1,maxScale:10,minScale:1},d[m]),p=_(u,v.groupIndex);p&&(v.groupName=p.name,Object(i.assignIfExists)(v,p,"color")),(!r.SKIP_EMPTY_ITEMS||v.color&&!n.vec3.isEmpty(v.color))&&f.push(v)}r.SKIP_EMPTY_ITEMS&&!f.length||e.spriteSets.push(o.EveSpriteSet.from({name:h.name,useQuads:!0,skinned:!(!t.isSkinned||!h.skinned),effect:l,items:f}))}}(M,L,D),function(e,t,n){for(var s=Object(i.get)(t,"spotlightSets",[]),a=Object(i.get)(n,"spotlightSets",{}),u=0;u<s.length;++u){for(var c=s[u],l=Object(i.get)(c,"items",[]),h=c.skinned,d=[],f=0;f<l.length;++f){var m=Object.assign({},l[f]),v=_(a,m.groupIndex);v&&Object(i.assignIfExists)(m,v,["coneColor","spriteColor","flareColor"]),r.SKIP_EMPTY_ITEMS&&!v||d.push(m)}r.SKIP_EMPTY_ITEMS&&!d.length||e.spotlightSets.push(o.EveSpotlightSet.from({name:c.name,items:d,coneEffect:{effectFilePath:h?S:E,parameters:{TextureMap:c.coneTextureResPath,zOffset:Object(i.get)(c,"zOffset",0)}},glowEffect:{effectFilePath:h?g:T,parameters:{TextureMap:c.glowTextureResPath}}}))}}(M,L,D),function(e,t,s){for(var a=Object(i.get)(t,"planeSets",[]),u=Object(i.get)(s,"planeSets",{}),c=0;c<a.length;++c){for(var l=a[c],h=Object(i.get)(l,"items",[]),d=[],f=0;f<h.length;++f){var m=Object.assign({boneIndex:-1},h[f]),v=_(u,m.groupIndex);v&&Object(i.assignIfExists)(m,v,"color"),(!r.SKIP_EMPTY_ITEMS||m.color&&!n.vec3.isEmpty(m.color))&&d.push(m)}r.SKIP_EMPTY_ITEMS&&!d.length||e.planeSets.push(o.EvePlaneSet.from({name:l.name,items:d,effect:{effectFilePath:l.skinned?b:R,textures:{Layer1Map:l.layer1MapResPath,Layer2Map:l.layer2MapResPath,MaskMap:l.maskMapResPath,PlaneData:Object(i.get)(l,"planeData",[1,0,0,0])}}}))}}(M,L,D),function(e,t,r){if(t.booster){for(var n=[0,0,0,0],s=Object(i.get)(r,"booster",{}),a=t.booster,u=Object(i.get)(a,"items",[]),c=0;c<u.length;++c)e.locators.push(o.EveLocator2.from({name:"locator_booster_"+(c+1),transform:u[c].transform,atlasIndex0:Object(i.get)(u[c],"atlasIndex0",0),atlasIndex1:Object(i.get)(u[c],"atlasIndex1",0)}));e.boosters=o.EveBoosterSet.from({glowScale:s.glowScale,symHaloScale:s.symHaloScale,haloScaleX:s.haloScaleX,haloScaleY:s.haloScaleY,haloColor:s.haloColor,glowColor:s.glowColor,warpGlowColor:s.warpGlowColor,warpHaloColor:s.warpHalpColor,trailColor:s.trailColor,trailSize:s.trailSize,effect:{effectFilePath:y,parameters:{NoiseFunction0:Object(i.get)(s.shape0,"noiseFunction",0),NoiseSpeed0:Object(i.get)(s.shape0,"noiseSpeed",0),NoiseAmplitudeStart0:Object(i.get)(s.shape0,"noiseAmplitureStart",n),NoiseAmplitudeEnd0:Object(i.get)(s.shape0,"noiseAmplitureEnd",n),NoiseFrequency0:Object(i.get)(s.shape0,"noiseFrequency",n),Color0:Object(i.get)(s.shape0,"color",n),NoiseFunction1:Object(i.get)(s.shape1,"noiseFunction",0),NoiseSpeed1:Object(i.get)(s.shape1,"noiseSpeed",0),NoiseAmplitudeStart1:Object(i.get)(s.shape1,"noiseAmplitureStart",n),NoiseAmplitudeEnd1:Object(i.get)(s.shape1,"noiseAmplitureEnd",n),NoiseFrequency1:Object(i.get)(s.shape1,"noiseFrequency",n),Color1:Object(i.get)(s.shape1,"color",n),WarpNoiseFunction0:Object(i.get)(s.warpShape0,"noiseFunction",0),WarpNoiseSpeed0:Object(i.get)(s.warpShape0,"noiseSpeed",0),WarpNoiseAmplitudeStart0:Object(i.get)(s.warpShape0,"noiseAmplitureStart",n),WarpNoiseAmplitudeEnd0:Object(i.get)(s.warpShape0,"noiseAmplitureEnd",n),WarpNoiseFrequency0:Object(i.get)(s.warpShape0,"noiseFrequency",n),WarpColor0:Object(i.get)(s.warpShape0,"color",n),WarpNoiseFunction1:Object(i.get)(s.warpShape1,"noiseFunction",0),WarpNoiseSpeed1:Object(i.get)(s.warpShape1,"noiseSpeed",0),WarpNoiseAmplitudeStart1:Object(i.get)(s.warpShape1,"noiseAmplitureStart",n),WarpNoiseAmplitudeEnd1:Object(i.get)(s.warpShape1,"noiseAmplitureEnd",n),WarpNoiseFrequency1:Object(i.get)(s.warpShape1,"noiseFrequency",n),WarpColor1:Object(i.get)(s.warpShape1,"color",n),ShapeAtlasSize:[Object(i.get)(s,"shapeAtlasHeight",0),Object(i.get)(s,"shapeAtlasCount",0),0,0],BoosterScale:Object(i.get)(s,"scale",[1,1,1,1])},textures:{ShapeMap:s.shapeAtlasResPath,GradientMap0:s.gradient0ResPath,GradientMap1:s.gradient1ResPath,NoiseMap:w}},glows:{useQuads:!0,effect:{effectFilePath:A,textures:{DiffuseMap:O,NoiseMap:j}}}})}}(M,L,P),function(e,t){for(var r=Object(i.get)(t,"locatorTurrets",[]),n=0;n<r.length;++n)e.locators.push(o.EveLocator2.from(r[n]))}(M,L);var G=function(e,t){for(var r=[],n=null,a=Object(i.get)(t,"animations",[]),o=0;o<a.length;++o)if(-1!==Object(i.get)(a[o],"id",-1)&&-1!==Object(i.get)(a[o],"startRate",-1)){n||(n=new s.Tw2CurveSet);var u=new s.Tw2ScalarCurve2;u.keys.push(new s.Tw2ScalarKey2),u.keys.push(new s.Tw2ScalarKey2),u.keys[0].value=Object(i.get)(a[o],"startRate",-1),u.keys[1].time=1,u.keys[1].value=Object(i.get)(a[o],"endRate",-1),u.Initialize(),n.curves.push(u),e.curveSets.push(n),r[Object(i.get)(a[o],"id",-1)]=u}return n&&n.Initialize(),[n,r]}(M,L);return C(M,L,G[0],G[1]),function(e,t,r,n,s,u){for(var c=Object(i.get)(t,"instancedMeshes",[]),l=0;l<c.length;++l){var h=c[l],d=new a.Tw2InstancedMesh;d.instanceGeometryResPath=h.instanceGeometryResPath,d.geometryResPath=h.geometryResPath,d.Initialize(),p(Object(i.get)(d,"opaqueAreas",[]),"opaqueAreas",t,r,n,u,s,h.shader);var f=new o.EveChildMesh;f.mesh=d,e.effectChildren.push(f)}}(M,L,D,P,d,F),M.Initialize(),M}));return function(t){return e.apply(this,arguments)}}(),this.FetchHull=function(){var e=c((function*(e){return F("hull",e,a.ErrSOFHullNotFound)}));return function(t){return e.apply(this,arguments)}}(),this.FetchHullNames=c((function*(){return G("hull")})),this.FetchHullPattern=function(){var e=c((function*(e,r){var n=yield t.FetchPattern(r),i=N(e,n);if(i)return i;throw new Error("Invalid pattern for hull (".concat(e,":").concat(r,")"))}));return function(t,r){return e.apply(this,arguments)}}(),this.FetchHullPatternNames=function(){var e=c((function*(e){var t=yield M("pattern"),r=[];return t.forEach(t=>{for(var n=0;n<t.projections.length;n++)if(t.projections[n].name===e){r.push(t.name);break}}),r.sort(),r}));return function(t){return e.apply(this,arguments)}}(),this.FetchHullBuildClass=function(){var e=c((function*(e){var r=e.split(":")[0];return 2===(yield t.FetchHull(r)).buildClass?2:1}));return function(t){return e.apply(this,arguments)}}(),this.FetchRace=function(){var e=c((function*(e){return F("race",e,a.ErrSOFRaceNotFound)}));return function(t){return e.apply(this,arguments)}}(),this.FetchRaceNames=c((function*(){return G("race")})),this.FetchFaction=function(){var e=c((function*(e){return F("faction",e,a.ErrSOFFactionNotFound)}));return function(t){return e.apply(this,arguments)}}(),this.FetchFactionNames=c((function*(){return G("faction")})),this.FetchMaterial=function(){var e=c((function*(e){return F("material",e,a.ErrSOFMaterialNotFound)}));return function(t){return e.apply(this,arguments)}}(),this.FetchMaterialNames=c((function*(){return G("material")})),this.FetchPattern=function(){var e=c((function*(e){return F("pattern",e,a.ErrSOFPatternNotFound)}));return function(t){return e.apply(this,arguments)}}(),this.FetchPatternNames=c((function*(){return G("pattern")}))}},"./sof/EveSOFData.js":function(e,t,r){"use strict";r.r(t),r.d(t,"EveSOFData",(function(){return g}));var n,i,s,a,o,u,c,l,h,d,f,m,v,p=r("./global/index.js"),_=r("./global/util/index.js"),E=r("./core/index.js");function S(e,t,r,n){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(n):void 0})}function T(e,t,r,n,i){var s={};return Object.keys(n).forEach((function(e){s[e]=n[e]})),s.enumerable=!!s.enumerable,s.configurable=!!s.configurable,("value"in s||s.initializer)&&(s.writable=!0),s=r.slice().reverse().reduce((function(r,n){return n(e,t,r)||r}),s),i&&void 0!==s.initializer&&(s.value=s.initializer?s.initializer.call(i):void 0,s.initializer=void 0),void 0===s.initializer&&(Object.defineProperty(e,t,s),s=null),s}var g=(n=p.meta.black.fromList("name"),i=p.meta.black.object(),s=p.meta.black.fromList("name"),a=p.meta.black.fromList("name"),o=p.meta.black.fromList("name"),u=p.meta.black.fromList("name"),l=T((c=class e{constructor(){S(this,"faction",l,this),S(this,"generic",h,this),S(this,"hull",d,this),S(this,"material",f,this),S(this,"pattern",m,this),S(this,"race",v,this)}Initialize(){}GetHull(e){return Object(_.findElementByPropertyValue)(this.hull,"name",e,E.ErrSOFHullNotFound)}GetHullNames(t){return e.GetNames(this.hull,t)}HasHull(e){return!!Object(_.findElementByPropertyValue)(this.hull,"name",e)}GetHullBuildClass(e){return 2===this.GetHull(e).buildClass?2:1}GetHullPatternNames(e){this.GetHull(e);for(var t=[],r=0;r<this.pattern.length;r++)this.pattern[r].HasProjection(e)&&t.push(this.pattern[r].name);return t.sort()}HasHullPattern(e,t){var r=this.GetHull(e);return!!this.HasPattern(t)&&this.GetPattern(t).HasProjection(r.name)}GetHullPattern(e,t){this.GetHull(e);return this.GetPattern(t).GetHullPattern(e)}GetFaction(e){return Object(_.findElementByPropertyValue)(this.faction,"name",e,E.ErrSOFFactionNotFound)}GetFactionNames(t){return e.GetNames(this.faction,t)}HasFaction(e){return!!Object(_.findElementByPropertyValue)(this.faction,"name",e)}GetRace(e){return Object(_.findElementByPropertyValue)(this.race,"name",e,E.ErrSOFRaceNotFound)}GetRaceNames(t){return e.GetNames(this.race,t)}HasRace(e){return Object(_.findElementByPropertyValue)(this.race,"name",e)}GetMaterial(e){return Object(_.findElementByPropertyValue)(this.material,"name",e,E.ErrSOFMaterialNotFound)}GetMaterialNames(t){return e.GetNames(this.material,t)}HasMaterial(e){return!!Object(_.findElementByPropertyValue)(this.material,"name",e)}GetPattern(e){return Object(_.findElementByPropertyValue)(this.pattern,"name",e,E.ErrSOFPatternNotFound)}GetPatternNames(t){return e.GetNames(this.pattern,t)}HasPattern(e){return!!Object(_.findElementByPropertyValue)(this.pattern,"name",e)}static GetNames(e,t={}){for(var r=!Object(_.isArray)(t),n=0;n<e.length;n++)r?t[e[n].name]=e[n].description||"":t.push(r);return r||t.sort(),t}}).prototype,"faction",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),h=T(c.prototype,"generic",[i],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),d=T(c.prototype,"hull",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),f=T(c.prototype,"material",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),m=T(c.prototype,"pattern",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),v=T(c.prototype,"race",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),c)},"./sof/faction/EveSOFDataFaction.js":function(e,t,r){"use strict";r.r(t),r.d(t,"EveSOFDataFaction",(function(){return n}));class n{constructor(){this.name="",this.areaTypes=null,this.children=[],this.colorSet=null,this.defaultPattern=null,this.defaultPatternLayer1MaterialName="",this.description="",this.logoSet=null,this.materialUsageMtl1=0,this.materialUsageMtl2=0,this.materialUsageMtl3=0,this.materialUsageMtl4=0,this.planeSets=[],this.resPathInsert="",this.spotlightSets=[],this.visibilityGroupSet=null}static black(e){return[["areas",e.array],["areaTypes",e.object],["colorSet",e.object],["children",e.array],["defaultPattern",e.object],["defaultPatternLayer1MaterialName",e.string],["description",e.string],["logoSet",e.object],["materialUsageMtl1",e.uint],["materialUsageMtl2",e.uint],["materialUsageMtl3",e.uint],["materialUsageMtl4",e.uint],["name",e.string],["planeSets",e.array],["resPathInsert",e.string],["spotlightSets",e.array],["spriteSets",e.array],["visibilityGroupSet",e.object]]}}},"./sof/faction/EveSOFDataFactionChild.js":function(e,t,r){"use strict";r.r(t),r.d(t,"EveSOFDataFactionChild",(function(){return n}));class n{constructor(){this.name="",this.groupIndex=-1,this.isVisible=!1}static black(e){return[["groupIndex",e.uint],["name",e.string],["isVisible",e.boolean]]}}},"./sof/faction/EveSOFDataFactionColorSet.js":function(e,t,r){"use strict";r.r(t),r.d(t,"EveSOFDataFactionColorSet",(function(){return i}));var n=r("./global/index.js");class i{constructor(){this.Black=n.vec4.create(),this.Blue=n.vec4.create(),this.Booster=n.vec4.create(),this.Cyan=n.vec4.create(),this.Darkhull=n.vec4.create(),this.Fire=n.vec4.create(),this.Glass=n.vec4.create(),this.Green=n.vec4.create(),this.Hull=n.vec4.create(),this.Killmark=n.vec4.create(),this.Orange=n.vec4.create(),this.Primary=n.vec4.create(),this.PrimaryLight=n.vec4.create(),this.Reactor=n.vec4.create(),this.Red=n.vec4.create(),this.Secondary=n.vec4.create(),this.SecondaryLight=n.vec4.create(),this.Tertiary=n.vec4.create(),this.TertiaryLight=n.vec4.create(),this.White=n.vec4.create(),this.WhiteLight=n.vec4.create(),this.Yellow=n.vec4.create()}Get(e){return(e=e.charAt(0).toUpperCase()+e.substring(1).toLowerCase())in this?this[e]:null}static black(e){return[["Black",e.vector4],["Blue",e.vector4],["Booster",e.vector4],["Cyan",e.vector4],["Darkhull",e.vector4],["Fire",e.vector4],["Glass",e.vector4],["Green",e.vector4],["Hull",e.vector4],["Killmark",e.vector4],["Orange",e.vector4],["Primary",e.vector4],["PrimaryLight",e.vector4],["Reactor",e.vector4],["Red",e.vector4],["Secondary",e.vector4],["SecondaryLight",e.vector4],["Tertiary",e.vector4],["TertiaryLight",e.vector4],["White",e.vector4],["WhiteLight",e.vector4],["Yellow",e.vector4]]}}},"./sof/faction/EveSOFDataFactionPlaneSet.js":function(e,t,r){"use strict";r.r(t),r.d(t,"EveSOFDataFactionPlaneSet",(function(){return i}));var n=r("./global/index.js");class i{constructor(){this.name="",this.color=n.vec4.create(),this.groupIndex=-1}static black(e){return[["color",e.vector4],["groupIndex",e.uint],["name",e.string]]}}},"./sof/faction/EveSOFDataFactionSpotlightSet.js":function(e,t,r){"use strict";r.r(t),r.d(t,"EveSOFDataFactionSpotlightSet",(function(){return i}));var n=r("./global/index.js");class i{constructor(){this.name="",this.coneColor=n.vec4.create(),this.flareColor=n.vec4.create(),this.groupIndex=-1,this.spriteColor=n.vec4.create()}static black(e){return[["coneColor",e.vector4],["flareColor",e.vector4],["groupIndex",e.uint],["name",e.string],["spriteColor",e.vector4]]}}},"./sof/faction/EveSOFDataFactionVisibilityGroupSet.js":function(e,t,r){"use strict";r.r(t),r.d(t,"EveSOFDataFactionVisibilityGroupSet",(function(){return n}));class n{constructor(){this.visibilityGroups=[]}static black(e){return[["visibilityGroups",e.array]]}}},"./sof/faction/index.js":function(e,t,r){"use strict";r.r(t);var n=r("./sof/faction/EveSOFDataFaction.js");r.d(t,"EveSOFDataFaction",(function(){return n.EveSOFDataFaction}));var i=r("./sof/faction/EveSOFDataFactionChild.js");r.d(t,"EveSOFDataFactionChild",(function(){return i.EveSOFDataFactionChild}));var s=r("./sof/faction/EveSOFDataFactionColorSet.js");r.d(t,"EveSOFDataFactionColorSet",(function(){return s.EveSOFDataFactionColorSet}));var a=r("./sof/faction/EveSOFDataFactionPlaneSet.js");r.d(t,"EveSOFDataFactionPlaneSet",(function(){return a.EveSOFDataFactionPlaneSet}));var o=r("./sof/faction/EveSOFDataFactionSpotlightSet.js");r.d(t,"EveSOFDataFactionSpotlightSet",(function(){return o.EveSOFDataFactionSpotlightSet}));var u=r("./sof/faction/EveSOFDataFactionVisibilityGroupSet.js");r.d(t,"EveSOFDataFactionVisibilityGroupSet",(function(){return u.EveSOFDataFactionVisibilityGroupSet}))},"./sof/generic/EveSOFDataGeneric.js":function(e,t,r){"use strict";r.r(t),r.d(t,"EveSOFDataGeneric",(function(){return s})),r.d(t,"ErrSOFAreaShaderNotFound",(function(){return a})),r.d(t,"ErrSOFDecalShaderNotFound",(function(){return o})),r.d(t,"ErrSOFMaterialPrefixNotFound",(function(){return u})),r.d(t,"ErrSOFPatternMaterialPrefixNotFound",(function(){return c}));var n=r("./core/index.js"),i=r("./global/util/index.js");class s{constructor(){this.areaShaderLocation="",this.areaShaders=[],this.bannerShader=null,this.damage=null,this.decalShaderLocation="",this.decalShaders=[],this.genericWreckMaterial=null,this.hullDamage=null,this.materialPrefixes=[],this.patternMaterialPrefixes=[],this.resPathDefaultAlliance="",this.resPathDefaultCeo="",this.resPathDefaultCorp="",this.shaderPrefixAnimated="",this.swarm=null,this.variants=[]}CreateEffect(e,t,r){var s={},a={},o={},u=this.GetShaderPath(e.shader||e.effectFilePath,t);function c(e,t){t&&(Object(i.isArray)(t)?t.forEach(t=>t.Assign(e)):Object(i.isPlain)(t)&&Object.assign(e,t))}return c(s,e.defaultParameters),c(a,e.defaultTextures),r&&(c(s,r.parameters),c(a,r.textures),c(o,r.overrides)),n.Tw2Effect.from({effectFilePath:u,parameters:s,textures:a,overrides:o})}GetShaderPrefix(e){return e?this.shaderPrefixAnimated:""}GetShaderPath(e,t){var r=this.GetShaderPrefix(t);"/"!==e.charAt(0)&&(e+="/");var n=e.lastIndexOf("/");return e.substring(0,n+1)+r+e.substring(n+1)}HasAreaShader(e){return!!Object(i.findElementByPropertyValue)(this.areaShaders,"name",e)}GetAreaShader(e){return Object(i.findElementByPropertyValue)(this.areaShaders,"name",e,a)}HasDecalShader(e){return!!Object(i.findElementByPropertyValue)(this.decalShaders,"name",e)}GetDecalShader(e){return Object(i.findElementByPropertyValue)(this.decalShaders,"name",e,o)}GetMaterialPrefixes(){for(var e=[],t=0;t<this.materialPrefixes.length;t++)e.push(this.materialPrefixes[t].str);return e}GetPatternMaterialPrefixes(){for(var e=[],t=0;t<this.patternMaterialPrefixes.length;t++)e.push(this.patternMaterialPrefixes[t].str);return e}GetMaterialPrefix(e){var t=e-1;if(void 0===this.materialPrefixes[t])throw new u({index:e});return this.materialPrefixes[t].str}GetPatternMaterialPrefix(e){var t=e-1;if(void 0===this.patternMaterialPrefixes[t])throw new c({index:e});return this.patternMaterialPrefixes[t].str}static black(e){return[["areaShaderLocation",e.path],["areaShaders",e.array],["bannerShader",e.rawObject],["decalShaderLocation",e.path],["decalShaders",e.array],["damage",e.object],["genericWreckMaterial",e.object],["hullAreas",e.array],["hullDamage",e.object],["materialPrefixes",e.array],["patternMaterialPrefixes",e.array],["resPathDefaultAlliance",e.path],["resPathDefaultCeo",e.path],["resPathDefaultCorp",e.path],["shaderPrefixAnimated",e.string],["swarm",e.object],["variants",e.array]]}}class a extends n.Tw2Error{constructor(e){super(e,"SOF Area shader not found: %name%")}}class o extends n.Tw2Error{constructor(e){super(e,"SOF Decal area shader not found: %name%")}}class u extends n.Tw2Error{constructor(e){super(e,"SOF Material prefix index not found: %index%")}}class c extends n.Tw2Error{constructor(e){super(e,"SOF Pattern material prefix index not found: %index%")}}},"./sof/generic/EveSOFDataGenericDamage.js":function(e,t,r){"use strict";r.r(t),r.d(t,"EveSOFDataGenericDamage",(function(){return i}));var n=r("./global/index.js");class i{constructor(){this.armorParticleAngle=0,this.armorParticleColor0=n.vec4.create(),this.armorParticleColor1=n.vec4.create(),this.armorParticleColor2=n.vec4.create(),this.armorParticleColor3=n.vec4.create(),this.armorParticleDrag=0,this.armorParticleMinMaxLifeTime=n.vec2.create(),this.armorParticleMinMaxSpeed=n.vec2.create(),this.armorParticleRate=0,this.armorParticleSizes=n.vec4.create(),this.armorParticleTextureIndex=0,this.armorParticleTurbulenceAmplitude=0,this.armorParticleTurbulenceFrequency=0,this.armorParticleVelocityStretchRotation=0,this.armorShader="",this.flickerPerlinAlpha=0,this.flickerPerlinBeta=0,this.flickerPerlinN=0,this.flickerPerlinSpeed=0,this.shieldGeometryResFilePath="",this.shieldShaderEllipsoid="",this.shieldShaderHull=""}static black(e){return[["armorParticleAngle",e.float],["armorParticleColor0",e.vector4],["armorParticleColor1",e.vector4],["armorParticleColor2",e.vector4],["armorParticleColor3",e.vector4],["armorParticleDrag",e.float],["armorParticleMinMaxLifeTime",e.vector2],["armorParticleMinMaxSpeed",e.vector2],["armorParticleRate",e.float],["armorParticleSizes",e.vector4],["armorParticleTurbulenceAmplitude",e.float],["armorParticleTurbulenceFrequency",e.float],["armorParticleVelocityStretchRotation",e.float],["armorParticleTextureIndex",e.uint],["armorShader",e.string],["flickerPerlinAlpha",e.float],["flickerPerlinBeta",e.float],["flickerPerlinSpeed",e.float],["flickerPerlinN",e.uint],["shieldGeometryResFilePath",e.path],["shieldShaderEllipsoid",e.string],["shieldShaderHull",e.string]]}}},"./sof/generic/EveSOFDataGenericDecalShader.js":function(e,t,r){"use strict";r.r(t),r.d(t,"EveSOFDataGenericDecalShader",(function(){return n}));class n{constructor(){this.defaultTextures=[],this.parameters=[],this.parentTextures=[],this.shader=""}static black(e){return[["defaultTextures",e.array],["parameters",e.array],["parentTextures",e.array],["shader",e.string]]}}},"./sof/generic/EveSOFDataGenericHullDamage.js":function(e,t,r){"use strict";r.r(t),r.d(t,"EveSOFDataGenericHullDamage",(function(){return i}));var n=r("./global/index.js");class i{constructor(){this.hullParticleAngle=0,this.hullParticleColor0=n.vec4.create(),this.hullParticleColor1=n.vec4.create(),this.hullParticleColor2=n.vec4.create(),this.hullParticleColorMidpoint=0,this.hullParticleDrag=0,this.hullParticleMinMaxLifeTime=n.vec2.create(),this.hullParticleMinMaxSpeed=n.vec2.create(),this.hullParticleRate=0,this.hullParticleSizes=n.vec4.create(),this.hullParticleTextureIndex=0,this.hullParticleTurbulenceAmplitude=0,this.hullParticleTurbulenceFrequency=0}static black(e){return[["hullParticleAngle",e.float],["hullParticleColor0",e.vector4],["hullParticleColor1",e.vector4],["hullParticleColor2",e.vector4],["hullParticleColorMidpoint",e.float],["hullParticleDrag",e.float],["hullParticleMinMaxLifeTime",e.vector2],["hullParticleMinMaxSpeed",e.vector2],["hullParticleRate",e.float],["hullParticleSizes",e.vector4],["hullParticleTurbulenceAmplitude",e.float],["hullParticleTurbulenceFrequency",e.float],["hullParticleTextureIndex",e.uint]]}}},"./sof/generic/EveSOFDataGenericShader.js":function(e,t,r){"use strict";r.r(t),r.d(t,"EveSOFDataGenericShader",(function(){return n}));class n{constructor(){this.defaultParameters=[],this.defaultTextures=[],this.doGenerateDepthArea=!1,this.parameters=[],this.shader="",this.transparencyTextureName=""}static black(e){return[["defaultParameters",e.array],["defaultTextures",e.array],["doGenerateDepthArea",e.boolean],["parameters",e.array],["shader",e.path],["transparencyTextureName",e.string]]}}},"./sof/generic/EveSOFDataGenericString.js":function(e,t,r){"use strict";r.r(t),r.d(t,"EveSOFDataGenericString",(function(){return n}));class n{constructor(){this.str=""}static black(e){return[["str",e.string]]}}},"./sof/generic/EveSOFDataGenericSwarm.js":function(e,t,r){"use strict";r.r(t),r.d(t,"EveSOFDataGenericSwarm",(function(){return n}));class n{constructor(){this.formationDistance=0,this.maxDeceleration=0,this.maxDistance0=0,this.separationDistance=0,this.wanderDistance=0,this.wanderFluctuation=0,this.wanderRadius=0,this.weightAlign=0,this.weightAnchor=0,this.weightCohesion=0,this.weightDeceleration=0,this.weightFormation=0,this.weightSeparation=0}static black(e){return[["formationDistance",e.float],["maxDistance0",e.float],["maxDeceleration",e.float],["separationDistance",e.float],["wanderDistance",e.float],["wanderFluctuation",e.float],["wanderRadius",e.float],["weightAlign",e.float],["weightAnchor",e.float],["weightCohesion",e.float],["weightDeceleration",e.float],["weightFormation",e.float],["weightSeparation",e.float]]}}},"./sof/generic/EveSOFDataGenericVariant.js":function(e,t,r){"use strict";r.r(t),r.d(t,"EveSOFDataGenericVariant",(function(){return n}));class n{constructor(){this.name="",this.hullArea=null,this.isTransparent=!1}static black(e){return[["hullArea",e.object],["isTransparent",e.boolean],["name",e.string]]}}},"./sof/generic/index.js":function(e,t,r){"use strict";r.r(t);var n=r("./sof/generic/EveSOFDataGeneric.js");r.d(t,"EveSOFDataGeneric",(function(){return n.EveSOFDataGeneric})),r.d(t,"ErrSOFAreaShaderNotFound",(function(){return n.ErrSOFAreaShaderNotFound})),r.d(t,"ErrSOFDecalShaderNotFound",(function(){return n.ErrSOFDecalShaderNotFound})),r.d(t,"ErrSOFMaterialPrefixNotFound",(function(){return n.ErrSOFMaterialPrefixNotFound})),r.d(t,"ErrSOFPatternMaterialPrefixNotFound",(function(){return n.ErrSOFPatternMaterialPrefixNotFound}));var i=r("./sof/generic/EveSOFDataGenericDamage.js");r.d(t,"EveSOFDataGenericDamage",(function(){return i.EveSOFDataGenericDamage}));var s=r("./sof/generic/EveSOFDataGenericDecalShader.js");r.d(t,"EveSOFDataGenericDecalShader",(function(){return s.EveSOFDataGenericDecalShader}));var a=r("./sof/generic/EveSOFDataGenericHullDamage.js");r.d(t,"EveSOFDataGenericHullDamage",(function(){return a.EveSOFDataGenericHullDamage}));var o=r("./sof/generic/EveSOFDataGenericShader.js");r.d(t,"EveSOFDataGenericShader",(function(){return o.EveSOFDataGenericShader}));var u=r("./sof/generic/EveSOFDataGenericString.js");r.d(t,"EveSOFDataGenericString",(function(){return u.EveSOFDataGenericString}));var c=r("./sof/generic/EveSOFDataGenericSwarm.js");r.d(t,"EveSOFDataGenericSwarm",(function(){return c.EveSOFDataGenericSwarm}));var l=r("./sof/generic/EveSOFDataGenericVariant.js");r.d(t,"EveSOFDataGenericVariant",(function(){return l.EveSOFDataGenericVariant}))},"./sof/hull/EveSOFDataHull.js":function(e,t,r){"use strict";r.r(t),r.d(t,"EveSOFDataHull",(function(){return i}));var n=r("./global/index.js");class i{constructor(){this.name="",this.additiveAreas=[],this.animations=[],this.audioPosition=n.vec3.create(),this.banners=[],this.booster=null,this.boundingSphere=n.vec4.create(),this.buildClass=0,this.castShadow=!1,this.category="",this.children=[],this.controllers=[],this.decalAreas=[],this.decalSets=[],this.defaultPattern=null,this.description="",this.distortionAreas=[],this.enableDynamicBoundingSphere=!1,this.geometryResFilePath="",this.hazeSets=[],this.hullDecals=[],this.impactEffectType=0,this.instancedMeshes=[],this.isSkinned=!1,this.lightSets=[],this.locatorSets=[],this.locatorTurrets=[],this.modelRotationCurvePath="",this.opaqueAreas=[],this.planeSets=[],this.shapeEllipsoidCenter=n.vec3.create(),this.shapeEllipsoidRadius=n.vec3.create(),this.soundEmitters=[],this.spotlightSets=[],this.spriteLineSets=[],this.spriteSets=[],this.transparentAreas=[]}static black(e){return[["additiveAreas",e.array],["animations",e.array],["audioPosition",e.vector3],["banners",e.array],["booster",e.object],["boundingSphere",e.vector4],["buildClass",e.uint],["castShadow",e.boolean],["category",e.string],["children",e.array],["controllers",e.array],["decalAreas",e.array],["decalSets",e.array],["defaultPattern",e.object],["depthAreas",e.array],["description",e.string],["distortionAreas",e.array],["enableDynamicBoundingSphere",e.boolean],["geometryResFilePath",e.path],["hazeSets",e.array],["hullDecals",e.array],["impactEffectType",e.uint],["instancedMeshes",e.array],["isSkinned",e.boolean],["lightSets",e.array],["locatorSets",e.array],["locatorTurrets",e.array],["name",e.string],["opaqueAreas",e.array],["planeSets",e.array],["modelRotationCurvePath",e.string],["shapeEllipsoidCenter",e.vector3],["shapeEllipsoidRadius",e.vector3],["soundEmitters",e.array],["spotlightSets",e.array],["spriteLineSets",e.array],["spriteSets",e.array],["transparentAreas",e.array]]}}},"./sof/hull/EveSOFDataHullAnimation.js":function(e,t,r){"use strict";r.r(t),r.d(t,"EveSOFDataHullAnimation",(function(){return i}));var n=r("./global/index.js");class i{constructor(){this.name="",this.endRate=0,this.endRotationTime=0,this.endRotationValue=n.quat.create(),this.id=0,this.startRate=0,this.startRotationTime=0,this.startRotationValue=n.quat.create()}static black(e){return[["endRate",e.float],["endRotationTime",e.float],["endRotationValue",e.vector4],["id",e.uint],["name",e.string],["startRate",e.float],["startRotationTime",e.float],["startRotationValue",e.vector4]]}}},"./sof/hull/EveSOFDataHullArea.js":function(e,t,r){"use strict";r.r(t),r.d(t,"EveSOFDataHullArea",(function(){return n}));class n{constructor(){this.name="",this.areaType=0,this.blockedMaterials=0,this.count=0,this.index=0,this.parameters=[],this.shader="",this.textures=[]}static black(e){return[["areaType",e.uint],["blockedMaterials",e.uint],["count",e.uint],["index",e.uint],["name",e.string],["parameters",e.array],["shader",e.string],["textures",e.array]]}}},"./sof/hull/EveSOFDataHullBanner.js":function(e,t,r){"use strict";r.r(t),r.d(t,"EveSOFDataHullBanner",(function(){return i}));var n=r("./global/index.js");class i{constructor(){this.name="",this.angleX=0,this.angleY=0,this.boneIndex=-1,this.lightOverride=null,this.position=n.vec3.create(),this.rotation=n.quat.create(),this.scaling=n.vec3.fromValues(1,1,1),this.usage=0}static black(e){return[["angleX",e.float],["angleY",e.float],["angleZ",e.float],["boneIndex",e.uint],["lightOverride",e.object],["name",e.string],["position",e.vector3],["rotation",e.vector4],["scaling",e.vector3],["usage",e.uint]]}}},"./sof/hull/EveSOFDataHullBannerLight.js":function(e,t,r){"use strict";r.r(t),r.d(t,"EveSOFDataHullBannerLight",(function(){return n}));class n{static black(e){return[]}}},"./sof/hull/EveSOFDataHullBooster.js":function(e,t,r){"use strict";r.r(t),r.d(t,"EveSOFDataHullBooster",(function(){return n}));class n{constructor(){this.alwaysOn=!1,this.hasTrails=!1,this.items=[]}static black(e){return[["alwaysOn",e.boolean],["hasTrails",e.boolean],["items",e.array]]}}},"./sof/hull/EveSOFDataHullBoosterItem.js":function(e,t,r){"use strict";r.r(t),r.d(t,"EveSOFDataHullBoosterItem",(function(){return i}));var n=r("./global/index.js");class i{constructor(){this.atlasIndex0=0,this.atlasIndex1=0,this.functionality=n.vec4.create(),this.hasTrail=!1,this.lightScale=1,this.transform=n.mat4.create()}static black(e){return[["atlasIndex0",e.uint],["atlasIndex1",e.uint],["functionality",e.vector4],["hasTrail",e.boolean],["lightScale",e.float],["transform",e.matrix]]}}},"./sof/hull/EveSOFDataHullChild.js":function(e,t,r){"use strict";r.r(t),r.d(t,"EveSOFDataHullChild",(function(){return i}));var n=r("./global/index.js");class i{constructor(){this.name="",this.groupIndex=-1,this.id=0,this.lowestLodVisible=0,this.redFilePath="",this.rotation=n.quat.create(),this.scaling=n.vec3.fromValues(1,1,1),this.translation=n.vec3.create()}static black(e){return[["groupIndex",e.uint],["id",e.uint],["lowestLodVisible",e.uint],["name",e.string],["redFilePath",e.path],["rotation",e.vector4],["scaling",e.vector3],["translation",e.vector3]]}}},"./sof/hull/EveSOFDataHullController.js":function(e,t,r){"use strict";r.r(t),r.d(t,"EveSOFDataHullController",(function(){return n}));class n{constructor(){this.path=""}static black(e){return[["path",e.path]]}}},"./sof/hull/EveSOFDataHullDecalSet.js":function(e,t,r){"use strict";r.r(t),r.d(t,"EveSOFDataHullDecalSet",(function(){return n}));class n{constructor(){this.name="",this.items=[],this.visibilityGroup=""}static black(e){return[["name",e.string],["items",e.array],["visibilityGroup",e.string]]}}},"./sof/hull/EveSOFDataHullDecalSetItem.js":function(e,t,r){"use strict";r.r(t),r.d(t,"EveSOFDataHullDecalSetItem",(function(){return i}));var n=r("./global/index.js");class i{constructor(){this.name="",this.boneIndex=-1,this.indexBuffer=[],this.glowColorType=0,this.logoType=0,this.meshIndex=0,this.parameters=[],this.position=n.vec3.create(),this.rotation=n.quat.create(),this.scaling=n.vec3.fromValues(1,1,1),this.textures=[],this.usage=0,this.visibilityGroup=""}static black(e){return[["name",e.string],["boneIndex",e.uint],["indexBuffer",e.indexBuffer],["glowColorType",e.uint],["logoType",e.uint],["meshIndex",e.uint],["parameters",e.array],["position",e.vector3],["rotation",e.vector4],["scaling",e.vector3],["textures",e.array],["usage",e.uint],["visibilityGroup",e.string]]}}},"./sof/hull/EveSOFDataHullHazeSet.js":function(e,t,r){"use strict";r.r(t),r.d(t,"EveSOFDataHullHazeSet",(function(){return n}));class n{constructor(){this.name="",this.items=[],this.visibilityGroup=0}static black(e){return[["items",e.array],["name",e.string],["visibilityGroup",e.string]]}}},"./sof/hull/EveSOFDataHullHazeSetItem.js":function(e,t,r){"use strict";r.r(t),r.d(t,"EveSOFDataHullHazeSetItem",(function(){return i}));var n=r("./global/index.js");class i{constructor(){this.boosterGainInfluence=!1,this.colorType=0,this.hazeBrightness=0,this.hazeFalloff=0,this.position=n.vec3.create(),this.rotation=n.quat.create(),this.scaling=n.vec3.fromValues(1,1,1),this.sourceBrightness=0,this.sourceSize=0}static black(e){return[["boosterGainInfluence",e.boolean],["colorType",e.uint],["hazeBrightness",e.float],["hazeFalloff",e.float],["position",e.vector3],["rotation",e.vector4],["scaling",e.vector3],["sourceBrightness",e.float],["sourceSize",e.float]]}}},"./sof/hull/EveSOFDataHullLightSet.js":function(e,t,r){"use strict";r.r(t),r.d(t,"EveSOFDataHullLightSet",(function(){return n}));class n{constructor(){this.name="",this.items=[],this.visibilityGroup=""}static black(e){return[["name",e.string],["items",e.array],["visibilityGroup",e.string]]}}},"./sof/hull/EveSOFDataHullLightSetItem.js":function(e,t,r){"use strict";r.r(t),r.d(t,"EveSOFDataHullLightSetItem",(function(){return i}));var n=r("./global/index.js");class i{constructor(){this.name="",this.brightness=0,this.innerRadius=0,this.lightColor=n.vec4.create(),this.noiseAmplitude=0,this.noiseFrequency=0,this.position=n.vec3.create(),this.radius=0}static black(e){return[["name",e.string],["brightness",e.float],["innerRadius",e.float],["lightColor",e.vector4],["noiseAmplitude",e.float],["noiseFrequency",e.float],["position",e.vector3],["radius",e.float]]}}},"./sof/hull/EveSOFDataHullLightSetSpotLight.js":function(e,t,r){"use strict";r.r(t),r.d(t,"EveSOFDataHullLightSetSpotLight",(function(){return i}));var n=r("./global/index.js");class i{constructor(){this.name="",this.brightness=0,this.innerAngle=0,this.innerRadius=0,this.lightColor=n.vec4.create(),this.outerAngle=0,this.position=n.vec3.create(),this.radius=0,this.rotation=n.quat.create()}static black(e){return[["name",e.string],["brightness",e.float],["innerAngle",e.float],["innerRadius",e.float],["lightColor",e.color],["outerAngle",e.float],["position",e.vector3],["radius",e.uint],["rotation",e.vector4]]}}},"./sof/hull/EveSOFDataHullLightSetTexturedPointLight.js":function(e,t,r){"use strict";r.r(t),r.d(t,"EveSOFDataHullLightSetTexturedPointLight",(function(){return i}));var n=r("./global/index.js");class i{constructor(){this.name="",this.brightness=0,this.innerRadius=0,this.position=n.vec3.create(),this.radius=0,this.texturePath=""}static black(e){return[["name",e.string],["brightness",e.float],["innerRadius",e.float],["position",e.vector3],["radius",e.float],["texturePath",e.path]]}}},"./sof/hull/EveSOFDataHullLocator.js":function(e,t,r){"use strict";r.r(t),r.d(t,"EveSOFDataHullLocator",(function(){return i}));var n=r("./global/index.js");class i{constructor(){this.name="",this.transform=n.mat4.create()}static black(e){return[["name",e.string],["transform",e.matrix]]}}},"./sof/hull/EveSOFDataHullLocatorSet.js":function(e,t,r){"use strict";r.r(t),r.d(t,"EveSOFDataHullLocatorSet",(function(){return n}));class n{constructor(){this.name="",this.locators=[]}static black(e){return[["name",e.string],["locators",e.array]]}}},"./sof/hull/EveSOFDataHullPlaneSet.js":function(e,t,r){"use strict";r.r(t),r.d(t,"EveSOFDataHullPlaneSet",(function(){return n}));class n{constructor(){this.name="",this.atlasSize=0,this.items=[],this.layer1MapResPath="",this.layer2MapResPath="",this.maskMapResPath="",this.skinned=!1,this.usage=0}static black(e){return[["atlasSize",e.uint],["items",e.array],["layer1MapResPath",e.path],["layer2MapResPath",e.path],["maskMapResPath",e.path],["name",e.string],["planeData",e.vector4],["skinned",e.boolean],["usage",e.uint]]}}},"./sof/hull/EveSOFDataHullPlaneSetItem.js":function(e,t,r){"use strict";r.r(t),r.d(t,"EveSOFDataHullPlaneSetItem",(function(){return i}));var n=r("./global/index.js");class i{constructor(){this.boneIndex=-1,this.color=n.vec4.create(),this.groupIndex=-1,this.layer1Scroll=n.vec4.create(),this.layer1Transform=n.vec4.create(),this.layer2Scroll=n.vec4.create(),this.layer2Transform=n.vec4.create(),this.maskMapAtlasIndex=0,this.position=n.vec3.create(),this.rotation=n.quat.create(),this.scaling=n.vec3.fromValues(1,1,1)}static black(e){return[["boneIndex",e.uint],["color",e.vector4],["groupIndex",e.uint],["layer1Scroll",e.vector4],["layer1Transform",e.vector4],["layer2Scroll",e.vector4],["layer2Transform",e.vector4],["maskMapAtlasIndex",e.uint],["position",e.vector3],["rotation",e.vector4],["scaling",e.vector3]]}}},"./sof/hull/EveSOFDataHullSoundEmitter.js":function(e,t,r){"use strict";r.r(t),r.d(t,"EveSOFDataHullSoundEmitter",(function(){return n}));class n{constructor(){this.name="",this.prefix=""}static black(e){return[["name",e.string],["prefix",e.string]]}}},"./sof/hull/EveSOFDataHullSpotlightSet.js":function(e,t,r){"use strict";r.r(t),r.d(t,"EveSOFDataHullSpotlightSet",(function(){return n}));class n{constructor(){this.name="",this.coneTextureResPath="",this.glowTextureResPath="",this.items=[],this.skinned=!1,this.zOffset=0}static black(e){return[["coneTextureResPath",e.path],["glowTextureResPath",e.path],["items",e.array],["name",e.string],["skinned",e.boolean],["zOffset",e.float]]}}},"./sof/hull/EveSOFDataHullSpotlightSetItem.js":function(e,t,r){"use strict";r.r(t),r.d(t,"EveSOFDataHullSpotlightSetItem",(function(){return i}));var n=r("./global/index.js");class i{constructor(){this.boneIndex=-1,this.boosterGainInfluence=!1,this.coneIntensity=0,this.flareIntensity=0,this.groupIndex=-1,this.spriteIntensity=0,this.spriteScale=n.vec3.fromValues(1,1,1),this.transform=n.mat4.create()}static black(e){return[["boneIndex",e.uint],["boosterGainInfluence",e.boolean],["coneIntensity",e.float],["flareIntensity",e.float],["groupIndex",e.uint],["spriteScale",e.vector3],["spriteIntensity",e.float],["transform",e.matrix]]}}},"./sof/hull/EveSOFDataHullSpriteLineSet.js":function(e,t,r){"use strict";r.r(t),r.d(t,"EveSOFDataHullSpriteLineSet",(function(){return n}));class n{constructor(){this.name="",this.items=[],this.skinned=!1,this.visibilityGroup=""}static black(e){return[["items",e.array],["name",e.string],["skinned",e.boolean],["visibilityGroup",e.string]]}}},"./sof/hull/EveSOFDataHullSpriteLineSetItem.js":function(e,t,r){"use strict";r.r(t),r.d(t,"EveSOFDataHullSpriteLineSetItem",(function(){return i}));var n=r("./global/index.js");class i{constructor(){this.blinkPhase=0,this.blinkPhaseShift=0,this.blinkRate=0,this.boneIndex=-1,this.colorType=0,this.falloff=0,this.intensity=0,this.isCircle=!1,this.maxScale=0,this.minScale=0,this.position=n.vec3.create(),this.rotation=n.quat.create(),this.scaling=n.vec3.fromValues(1,1,1),this.spacing=0}static black(e){return[["blinkRate",e.float],["blinkPhase",e.float],["blinkPhaseShift",e.float],["boneIndex",e.uint],["colorType",e.uint],["falloff",e.float],["groupIndex",e.uint],["intensity",e.float],["isCircle",e.boolean],["maxScale",e.float],["minScale",e.float],["position",e.vector3],["rotation",e.vector4],["scaling",e.vector3],["spacing",e.float]]}}},"./sof/hull/EveSOFDataHullSpriteSet.js":function(e,t,r){"use strict";r.r(t),r.d(t,"EveSOFDataHullSpriteSet",(function(){return n}));class n{constructor(){this.name="",this.items=[],this.skinned=!1,this.visibilityGroup=""}static black(e){return[["name",e.string],["items",e.array],["skinned",e.boolean],["visibilityGroup",e.string]]}}},"./sof/hull/EveSOFDataHullSpriteSetItem.js":function(e,t,r){"use strict";r.r(t),r.d(t,"EveSOFDataHullSpriteSetItem",(function(){return i}));var n=r("./global/index.js");class i{constructor(){this.blinkPhase=0,this.blinkRate=0,this.boneIndex=-1,this.colorType=0,this.falloff=0,this.intensity=0,this.maxScale=0,this.minScale=0,this.position=n.vec3.create()}static black(e){return[["blinkRate",e.float],["blinkPhase",e.float],["boneIndex",e.uint],["colorType",e.uint],["falloff",e.float],["groupIndex",e.uint],["intensity",e.float],["maxScale",e.float],["minScale",e.float],["position",e.vector3]]}}},"./sof/hull/index.js":function(e,t,r){"use strict";r.r(t);var n=r("./sof/hull/EveSOFDataHull.js");r.d(t,"EveSOFDataHull",(function(){return n.EveSOFDataHull}));var i=r("./sof/hull/EveSOFDataHullAnimation.js");r.d(t,"EveSOFDataHullAnimation",(function(){return i.EveSOFDataHullAnimation}));var s=r("./sof/hull/EveSOFDataHullArea.js");r.d(t,"EveSOFDataHullArea",(function(){return s.EveSOFDataHullArea}));var a=r("./sof/hull/EveSOFDataHullBanner.js");r.d(t,"EveSOFDataHullBanner",(function(){return a.EveSOFDataHullBanner}));var o=r("./sof/hull/EveSOFDataHullBannerLight.js");r.d(t,"EveSOFDataHullBannerLight",(function(){return o.EveSOFDataHullBannerLight}));var u=r("./sof/hull/EveSOFDataHullBooster.js");r.d(t,"EveSOFDataHullBooster",(function(){return u.EveSOFDataHullBooster}));var c=r("./sof/hull/EveSOFDataHullBoosterItem.js");r.d(t,"EveSOFDataHullBoosterItem",(function(){return c.EveSOFDataHullBoosterItem}));var l=r("./sof/hull/EveSOFDataHullChild.js");r.d(t,"EveSOFDataHullChild",(function(){return l.EveSOFDataHullChild}));var h=r("./sof/hull/EveSOFDataHullController.js");r.d(t,"EveSOFDataHullController",(function(){return h.EveSOFDataHullController}));var d=r("./sof/hull/EveSOFDataHullDecalSet.js");r.d(t,"EveSOFDataHullDecalSet",(function(){return d.EveSOFDataHullDecalSet}));var f=r("./sof/hull/EveSOFDataHullDecalSetItem.js");r.d(t,"EveSOFDataHullDecalSetItem",(function(){return f.EveSOFDataHullDecalSetItem}));var m=r("./sof/hull/EveSOFDataHullHazeSet.js");r.d(t,"EveSOFDataHullHazeSet",(function(){return m.EveSOFDataHullHazeSet}));var v=r("./sof/hull/EveSOFDataHullHazeSetItem.js");r.d(t,"EveSOFDataHullHazeSetItem",(function(){return v.EveSOFDataHullHazeSetItem}));var p=r("./sof/hull/EveSOFDataHullLightSet.js");r.d(t,"EveSOFDataHullLightSet",(function(){return p.EveSOFDataHullLightSet}));var _=r("./sof/hull/EveSOFDataHullLightSetItem.js");r.d(t,"EveSOFDataHullLightSetItem",(function(){return _.EveSOFDataHullLightSetItem}));var E=r("./sof/hull/EveSOFDataHullLightSetSpotLight.js");r.d(t,"EveSOFDataHullLightSetSpotLight",(function(){return E.EveSOFDataHullLightSetSpotLight}));var S=r("./sof/hull/EveSOFDataHullLightSetTexturedPointLight.js");r.d(t,"EveSOFDataHullLightSetTexturedPointLight",(function(){return S.EveSOFDataHullLightSetTexturedPointLight}));var T=r("./sof/hull/EveSOFDataHullLocator.js");r.d(t,"EveSOFDataHullLocator",(function(){return T.EveSOFDataHullLocator}));var g=r("./sof/hull/EveSOFDataHullLocatorSet.js");r.d(t,"EveSOFDataHullLocatorSet",(function(){return g.EveSOFDataHullLocatorSet}));var R=r("./sof/hull/EveSOFDataHullPlaneSet.js");r.d(t,"EveSOFDataHullPlaneSet",(function(){return R.EveSOFDataHullPlaneSet}));var b=r("./sof/hull/EveSOFDataHullPlaneSetItem.js");r.d(t,"EveSOFDataHullPlaneSetItem",(function(){return b.EveSOFDataHullPlaneSetItem}));var y=r("./sof/hull/EveSOFDataHullSoundEmitter.js");r.d(t,"EveSOFDataHullSoundEmitter",(function(){return y.EveSOFDataHullSoundEmitter}));var A=r("./sof/hull/EveSOFDataHullSpotlightSet.js");r.d(t,"EveSOFDataHullSpotlightSet",(function(){return A.EveSOFDataHullSpotlightSet}));var j=r("./sof/hull/EveSOFDataHullSpotlightSetItem.js");r.d(t,"EveSOFDataHullSpotlightSetItem",(function(){return j.EveSOFDataHullSpotlightSetItem}));var w=r("./sof/hull/EveSOFDataHullSpriteLineSet.js");r.d(t,"EveSOFDataHullSpriteLineSet",(function(){return w.EveSOFDataHullSpriteLineSet}));var O=r("./sof/hull/EveSOFDataHullSpriteLineSetItem.js");r.d(t,"EveSOFDataHullSpriteLineSetItem",(function(){return O.EveSOFDataHullSpriteLineSetItem}));var C=r("./sof/hull/EveSOFDataHullSpriteSet.js");r.d(t,"EveSOFDataHullSpriteSet",(function(){return C.EveSOFDataHullSpriteSet}));var L=r("./sof/hull/EveSOFDataHullSpriteSetItem.js");r.d(t,"EveSOFDataHullSpriteSetItem",(function(){return L.EveSOFDataHullSpriteSetItem}))},"./sof/index.js":function(e,t,r){"use strict";r.r(t);var n=r("./sof/faction/index.js");r.d(t,"EveSOFDataFaction",(function(){return n.EveSOFDataFaction})),r.d(t,"EveSOFDataFactionChild",(function(){return n.EveSOFDataFactionChild})),r.d(t,"EveSOFDataFactionColorSet",(function(){return n.EveSOFDataFactionColorSet})),r.d(t,"EveSOFDataFactionPlaneSet",(function(){return n.EveSOFDataFactionPlaneSet})),r.d(t,"EveSOFDataFactionSpotlightSet",(function(){return n.EveSOFDataFactionSpotlightSet})),r.d(t,"EveSOFDataFactionVisibilityGroupSet",(function(){return n.EveSOFDataFactionVisibilityGroupSet}));var i=r("./sof/generic/index.js");r.d(t,"EveSOFDataGeneric",(function(){return i.EveSOFDataGeneric})),r.d(t,"ErrSOFAreaShaderNotFound",(function(){return i.ErrSOFAreaShaderNotFound})),r.d(t,"ErrSOFDecalShaderNotFound",(function(){return i.ErrSOFDecalShaderNotFound})),r.d(t,"ErrSOFMaterialPrefixNotFound",(function(){return i.ErrSOFMaterialPrefixNotFound})),r.d(t,"ErrSOFPatternMaterialPrefixNotFound",(function(){return i.ErrSOFPatternMaterialPrefixNotFound})),r.d(t,"EveSOFDataGenericDamage",(function(){return i.EveSOFDataGenericDamage})),r.d(t,"EveSOFDataGenericDecalShader",(function(){return i.EveSOFDataGenericDecalShader})),r.d(t,"EveSOFDataGenericHullDamage",(function(){return i.EveSOFDataGenericHullDamage})),r.d(t,"EveSOFDataGenericShader",(function(){return i.EveSOFDataGenericShader})),r.d(t,"EveSOFDataGenericString",(function(){return i.EveSOFDataGenericString})),r.d(t,"EveSOFDataGenericSwarm",(function(){return i.EveSOFDataGenericSwarm})),r.d(t,"EveSOFDataGenericVariant",(function(){return i.EveSOFDataGenericVariant}));var s=r("./sof/hull/index.js");r.d(t,"EveSOFDataHull",(function(){return s.EveSOFDataHull})),r.d(t,"EveSOFDataHullAnimation",(function(){return s.EveSOFDataHullAnimation})),r.d(t,"EveSOFDataHullArea",(function(){return s.EveSOFDataHullArea})),r.d(t,"EveSOFDataHullBanner",(function(){return s.EveSOFDataHullBanner})),r.d(t,"EveSOFDataHullBannerLight",(function(){return s.EveSOFDataHullBannerLight})),r.d(t,"EveSOFDataHullBooster",(function(){return s.EveSOFDataHullBooster})),r.d(t,"EveSOFDataHullBoosterItem",(function(){return s.EveSOFDataHullBoosterItem})),r.d(t,"EveSOFDataHullChild",(function(){return s.EveSOFDataHullChild})),r.d(t,"EveSOFDataHullController",(function(){return s.EveSOFDataHullController})),r.d(t,"EveSOFDataHullDecalSet",(function(){return s.EveSOFDataHullDecalSet})),r.d(t,"EveSOFDataHullDecalSetItem",(function(){return s.EveSOFDataHullDecalSetItem})),r.d(t,"EveSOFDataHullHazeSet",(function(){return s.EveSOFDataHullHazeSet})),r.d(t,"EveSOFDataHullHazeSetItem",(function(){return s.EveSOFDataHullHazeSetItem})),r.d(t,"EveSOFDataHullLightSet",(function(){return s.EveSOFDataHullLightSet})),r.d(t,"EveSOFDataHullLightSetItem",(function(){return s.EveSOFDataHullLightSetItem})),r.d(t,"EveSOFDataHullLightSetSpotLight",(function(){return s.EveSOFDataHullLightSetSpotLight})),r.d(t,"EveSOFDataHullLightSetTexturedPointLight",(function(){return s.EveSOFDataHullLightSetTexturedPointLight})),r.d(t,"EveSOFDataHullLocator",(function(){return s.EveSOFDataHullLocator})),r.d(t,"EveSOFDataHullLocatorSet",(function(){return s.EveSOFDataHullLocatorSet})),r.d(t,"EveSOFDataHullPlaneSet",(function(){return s.EveSOFDataHullPlaneSet})),r.d(t,"EveSOFDataHullPlaneSetItem",(function(){return s.EveSOFDataHullPlaneSetItem})),r.d(t,"EveSOFDataHullSoundEmitter",(function(){return s.EveSOFDataHullSoundEmitter})),r.d(t,"EveSOFDataHullSpotlightSet",(function(){return s.EveSOFDataHullSpotlightSet})),r.d(t,"EveSOFDataHullSpotlightSetItem",(function(){return s.EveSOFDataHullSpotlightSetItem})),r.d(t,"EveSOFDataHullSpriteLineSet",(function(){return s.EveSOFDataHullSpriteLineSet})),r.d(t,"EveSOFDataHullSpriteLineSetItem",(function(){return s.EveSOFDataHullSpriteLineSetItem})),r.d(t,"EveSOFDataHullSpriteSet",(function(){return s.EveSOFDataHullSpriteSet})),r.d(t,"EveSOFDataHullSpriteSetItem",(function(){return s.EveSOFDataHullSpriteSetItem}));var a=r("./sof/pattern/index.js");r.d(t,"EveSOFDataPattern",(function(){return a.EveSOFDataPattern})),r.d(t,"ErrSOFProjectionNotFound",(function(){return a.ErrSOFProjectionNotFound})),r.d(t,"EveSOFDataPatternLayer",(function(){return a.EveSOFDataPatternLayer})),r.d(t,"EveSOFDataPatternPerHull",(function(){return a.EveSOFDataPatternPerHull})),r.d(t,"EveSOFDataPatternTransform",(function(){return a.EveSOFDataPatternTransform}));var o=r("./sof/race/index.js");r.d(t,"EveSOFDataRace",(function(){return o.EveSOFDataRace})),r.d(t,"EveSOFDataRaceDamage",(function(){return o.EveSOFDataRaceDamage}));var u=r("./sof/shared/index.js");r.d(t,"EveSOFDataArea",(function(){return u.EveSOFDataArea})),r.d(t,"EveSOFDataAreaMaterial",(function(){return u.EveSOFDataAreaMaterial})),r.d(t,"EveSOFDataBooster",(function(){return u.EveSOFDataBooster})),r.d(t,"EveSOFDataBoosterShape",(function(){return u.EveSOFDataBoosterShape})),r.d(t,"EveSOFDataInstancedMesh",(function(){return u.EveSOFDataInstancedMesh})),r.d(t,"EveSOFDataLogo",(function(){return u.EveSOFDataLogo})),r.d(t,"EveSOFDataLogoSet",(function(){return u.EveSOFDataLogoSet})),r.d(t,"EveSOFDataMaterial",(function(){return u.EveSOFDataMaterial})),r.d(t,"EveSOFDataParameter",(function(){return u.EveSOFDataParameter})),r.d(t,"EveSOFDataTexture",(function(){return u.EveSOFDataTexture})),r.d(t,"EveSOFDataTransform",(function(){return u.EveSOFDataTransform}));var c=r("./sof/EveSOFData.js");r.d(t,"EveSOFData",(function(){return c.EveSOFData}));var l=r("./sof/EveSOF.js");r.d(t,"EveSOF",(function(){return l.EveSOF}))},"./sof/pattern/EveSOFDataPattern.js":function(e,t,r){"use strict";r.r(t),r.d(t,"EveSOFDataPattern",(function(){return s})),r.d(t,"ErrSOFProjectionNotFound",(function(){return a}));var n=r("./global/util/index.js"),i=r("./core/index.js");class s{constructor(){this.name="",this.layer1=null,this.layer2=null,this.projections=[]}GetHullPattern(e){var t=this.GetProjection(e);return{name:this.name,layer1:this.layer1,layer2:this.layer2,transformLayer1:t.transformLayer1,transformLayer2:t.transformLayer2}}HasProjection(e){return!!Object(n.findElementByPropertyValue)(this.projections,"name",e)}GetProjection(e){for(var t=0;t<this.projections.length;t++)if(this.projections[t].name===e)return this.projections[t];throw new a({pattern:this.name,projection:e})}static black(e){return[["name",e.string],["layer1",e.object],["layer2",e.object],["projections",e.array]]}}class a extends i.Tw2Error{constructor(e){super(e,"SOF Pattern projection '%projection%' not found for pattern '%pattern%'")}}},"./sof/pattern/EveSOFDataPatternLayer.js":function(e,t,r){"use strict";r.r(t),r.d(t,"EveSOFDataPatternLayer",(function(){return n}));class n{constructor(){this.isTargetMtl1=!0,this.isTargetMtl2=!0,this.isTargetMtl3=!0,this.isTargetMtl4=!0,this.materialSource=0,this.projectionTypeU=0,this.projectionTypeV=0,this.textureName="",this.textureResFilePath=""}static ToAddress(e){switch(e){case 2:return 4;case 1:return 3;default:return 1}}static FromProjection(e){switch(e){case 4:return 2;case 3:return 1;default:return 0}}static black(e){return[["isTargetMtl1",e.boolean],["isTargetMtl2",e.boolean],["isTargetMtl3",e.boolean],["isTargetMtl4",e.boolean],["materialSource",e.uint],["projectionTypeU",e.uint],["projectionTypeV",e.uint],["textureName",e.string],["textureResFilePath",e.path]]}}},"./sof/pattern/EveSOFDataPatternPerHull.js":function(e,t,r){"use strict";r.r(t),r.d(t,"EveSOFDataPatternPerHull",(function(){return n}));class n{constructor(){this.name="",this.transformLayer1=null,this.transformLayer2=null}AssignTransforms(e=[]){return this.transformLayer1&&(e[0]=this.transformLayer1.Reduce()),this.transformLayer2&&(e[1]=this.transformLayer2.Reduce()),e}static black(e){return[["name",e.string],["transformLayer1",e.object],["transformLayer2",e.object]]}}},"./sof/pattern/EveSOFDataPatternTransform.js":function(e,t,r){"use strict";r.r(t),r.d(t,"EveSOFDataPatternTransform",(function(){return i}));var n=r("./global/index.js");class i{constructor(){this.isMirrored=!1,this.position=n.vec3.create(),this.rotation=n.quat.create(),this.scaling=n.vec3.fromValues(1,1,1)}static black(e){return[["isMirrored",e.boolean],["position",e.vector3],["rotation",e.vector4],["scaling",e.vector3]]}}},"./sof/pattern/index.js":function(e,t,r){"use strict";r.r(t);var n=r("./sof/pattern/EveSOFDataPattern.js");r.d(t,"EveSOFDataPattern",(function(){return n.EveSOFDataPattern})),r.d(t,"ErrSOFProjectionNotFound",(function(){return n.ErrSOFProjectionNotFound}));var i=r("./sof/pattern/EveSOFDataPatternLayer.js");r.d(t,"EveSOFDataPatternLayer",(function(){return i.EveSOFDataPatternLayer}));var s=r("./sof/pattern/EveSOFDataPatternPerHull.js");r.d(t,"EveSOFDataPatternPerHull",(function(){return s.EveSOFDataPatternPerHull}));var a=r("./sof/pattern/EveSOFDataPatternTransform.js");r.d(t,"EveSOFDataPatternTransform",(function(){return a.EveSOFDataPatternTransform}))},"./sof/race/EveSOFDataRace.js":function(e,t,r){"use strict";r.r(t),r.d(t,"EveSOFDataRace",(function(){return n}));class n{constructor(){this.name="",this.booster=null,this.damage=null}static black(e){return[["booster",e.object],["damage",e.object],["name",e.string]]}}},"./sof/race/EveSOFDataRaceDamage.js":function(e,t,r){"use strict";r.r(t),r.d(t,"EveSOFDataRaceDamage",(function(){return n}));class n{constructor(){this.armorImpactParameters=[],this.armorImpactTextures=[],this.shieldImpactParameters=[],this.shieldImpactTextures=[]}static black(e){return[["armorImpactParameters",e.array],["armorImpactTextures",e.array],["shieldImpactParameters",e.array],["shieldImpactTextures",e.array]]}}},"./sof/race/index.js":function(e,t,r){"use strict";r.r(t);var n=r("./sof/race/EveSOFDataRace.js");r.d(t,"EveSOFDataRace",(function(){return n.EveSOFDataRace}));var i=r("./sof/race/EveSOFDataRaceDamage.js");r.d(t,"EveSOFDataRaceDamage",(function(){return i.EveSOFDataRaceDamage}))},"./sof/shared/EveSOFDataArea.js":function(e,t,r){"use strict";r.r(t),r.d(t,"EveSOFDataArea",(function(){return n}));class n{constructor(){this.Black=null,this.Blue=null,this.Booster=null,this.Cyan=null,this.Darkhull=null,this.Fire=null,this.Glass=null,this.Green=null,this.Hull=null,this.Killmark=null,this.Monument=null,this.Orange=null,this.Primary=null,this.Reactor=null,this.Red=null,this.Rock=null,this.Sails=null,this.Secondary=null,this.Tertiary=null,this.White=null,this.Yellow=null}Get(e){return 0===e.indexOf("area_")&&(e=e.substring(5)),(e=e.charAt(0).toUpperCase()+e.substring(1).toLowerCase())in this?this[e]:null}static black(e){return[["Black",e.object],["Blue",e.object],["Booster",e.object],["Cyan",e.object],["Darkhull",e.object],["Fire",e.object],["Glass",e.object],["Green",e.object],["Hull",e.object],["Killmark",e.object],["Monument",e.object],["Orange",e.object],["Primary",e.object],["Reactor",e.object],["Red",e.object],["Rock",e.object],["Sails",e.object],["Secondary",e.object],["Tertiary",e.object],["White",e.object],["Yellow",e.object]]}}},"./sof/shared/EveSOFDataAreaMaterial.js":function(e,t,r){"use strict";r.r(t),r.d(t,"EveSOFDataAreaMaterial",(function(){return n}));class n{constructor(){this.colorType=0,this.material1="",this.material2="",this.material3="",this.material4=""}static black(e){return[["colorType",e.uint],["material1",e.string],["material2",e.string],["material3",e.string],["material4",e.string]]}}},"./sof/shared/EveSOFDataBooster.js":function(e,t,r){"use strict";r.r(t),r.d(t,"EveSOFDataBooster",(function(){return i}));var n=r("./global/index.js");class i{constructor(){this.glowColor=n.vec4.create(),this.glowScale=0,this.gradient0ResPath="",this.gradient1ResPath="",this.haloColor=n.vec4.create(),this.haloScaleX=0,this.haloScaleY=0,this.lightColor=n.vec4.create(),this.lightFlickerAmplitude=0,this.lightFlickerFrequency=0,this.lightRadius=0,this.lightWarpColor=n.vec4.create(),this.lightWarpRadius=0,this.shape0=null,this.shape1=null,this.shapeAtlasCount=0,this.shapeAtlasHeight=0,this.shapeAtlasResPath="",this.symHaloScale=0,this.trailColor=n.vec4.create(),this.trailSize=n.vec4.create(),this.warpGlowColor=n.vec4.create(),this.warpHaloColor=n.vec4.create(),this.warpShape0=null,this.warpShape1=null}get warpHalpColor(){return this.warpHaloColor}set warpHalpColor(e){this.warpHaloColor=e}static black(e){return[["glowColor",e.vector4],["glowScale",e.float],["gradient0ResPath",e.path],["gradient1ResPath",e.path],["haloColor",e.vector4],["haloScaleX",e.float],["haloScaleY",e.float],["lightFlickerAmplitude",e.float],["lightFlickerColor",e.vector4],["lightFlickerFrequency",e.float],["lightFlickerRadius",e.float],["lightColor",e.vector4],["lightRadius",e.float],["lightWarpColor",e.vector4],["lightWarpRadius",e.float],["shape0",e.object],["shape1",e.object],["shapeAtlasCount",e.uint],["shapeAtlasHeight",e.uint],["shapeAtlasResPath",e.path],["shapeAtlasWidth",e.uint],["symHaloScale",e.float],["trailColor",e.vector4],["trailSize",e.vector4],["volumetric",e.boolean],["warpGlowColor",e.vector4],["warpHalpColor",e.vector4],["warpShape0",e.object],["warpShape1",e.object]]}}},"./sof/shared/EveSOFDataBoosterShape.js":function(e,t,r){"use strict";r.r(t),r.d(t,"EveSOFDataBoosterShape",(function(){return i}));var n=r("./global/index.js");class i{constructor(){this.color=n.vec4.create(),this.noiseAmplitureEnd=n.vec4.create(),this.noiseAmplitureStart=n.vec4.create(),this.noiseFrequency=n.vec4.create(),this.noiseFunction=0,this.noiseSpeed=0}static black(e){return[["color",e.vector4],["noiseFunction",e.float],["noiseSpeed",e.float],["noiseAmplitureStart",e.vector4],["noiseAmplitureEnd",e.vector4],["noiseFrequency",e.vector4]]}}},"./sof/shared/EveSOFDataInstancedMesh.js":function(e,t,r){"use strict";r.r(t),r.d(t,"EveSOFDataInstancedMesh",(function(){return i}));class n{constructor(e){this.data=e}static blackStruct(e){var t=[e.ReadF32(),e.ReadF32(),e.ReadF32(),e.ReadF32(),e.ReadF32(),e.ReadF32(),e.ReadF32(),e.ReadF32(),e.ReadF32(),e.ReadF32(),e.ReadF32()];return new n(t)}}class i{constructor(){this.name="",this.geometryResPath="",this.instances=[],this.lowestLodVisible=0,this.shader="",this.textures=[]}static black(e){return[["geometryResPath",e.path],["instances",e.structList(n)],["lowestLodVisible",e.uint],["name",e.string],["shader",e.string],["textures",e.array]]}}},"./sof/shared/EveSOFDataLogo.js":function(e,t,r){"use strict";r.r(t),r.d(t,"EveSOFDataLogo",(function(){return n}));class n{constructor(){this.textures=[]}static black(e){return[["textures",e.array]]}}},"./sof/shared/EveSOFDataLogoSet.js":function(e,t,r){"use strict";r.r(t),r.d(t,"EveSOFDataLogoSet",(function(){return n}));class n{constructor(){this.Marking_01=null,this.Marking_02=null,this.Primary=null,this.Secondary=null,this.Tertiary=null}static black(e){return[["Marking_01",e.object],["Marking_02",e.object],["Primary",e.object],["Secondary",e.object],["Tertiary",e.object]]}}},"./sof/shared/EveSOFDataMaterial.js":function(e,t,r){"use strict";r.r(t),r.d(t,"EveSOFDataMaterial",(function(){return n}));class n{constructor(){this.name="",this.parameters=[]}Assign(e={},t){return e.name=this.name,e.parameters=this.AssignParameters(e.parameters,t),e}AssignParameters(e={},t){return this.parameters.forEach(r=>r.Assign(e,t)),e}static black(e){return[["name",e.string],["parameters",e.array]]}}},"./sof/shared/EveSOFDataParameter.js":function(e,t,r){"use strict";r.r(t),r.d(t,"EveSOFDataParameter",(function(){return i}));var n=r("./global/index.js");class i{constructor(){this.name="",this.value=n.vec4.create()}Assign(e={},t){return e[t?t+this.name:this.name]=Array.from(this.value),e}static black(e){return[["name",e.string],["value",e.vector4]]}}},"./sof/shared/EveSOFDataTexture.js":function(e,t,r){"use strict";r.r(t),r.d(t,"EveSOFDataTexture",(function(){return n}));class n{constructor(){this.name="",this.resFilePath=""}Assign(e={}){return e[this.name]=this.resFilePath,e}static black(e){return[["name",e.string],["resFilePath",e.path]]}}},"./sof/shared/EveSOFDataTransform.js":function(e,t,r){"use strict";r.r(t),r.d(t,"EveSOFDataTransform",(function(){return i}));var n=r("./global/index.js");class i{constructor(){this.boneIndex=-1,this.position=n.vec3.create(),this.rotation=n.quat.create(),this.scaling=n.vec3.fromValues(1,1,1)}static black(e){return[["boneIndex",e.uint],["position",e.vector3],["rotation",e.vector4],["scaling",e.vector3]]}}},"./sof/shared/index.js":function(e,t,r){"use strict";r.r(t);var n=r("./sof/shared/EveSOFDataArea.js");r.d(t,"EveSOFDataArea",(function(){return n.EveSOFDataArea}));var i=r("./sof/shared/EveSOFDataAreaMaterial.js");r.d(t,"EveSOFDataAreaMaterial",(function(){return i.EveSOFDataAreaMaterial}));var s=r("./sof/shared/EveSOFDataBooster.js");r.d(t,"EveSOFDataBooster",(function(){return s.EveSOFDataBooster}));var a=r("./sof/shared/EveSOFDataBoosterShape.js");r.d(t,"EveSOFDataBoosterShape",(function(){return a.EveSOFDataBoosterShape}));var o=r("./sof/shared/EveSOFDataInstancedMesh.js");r.d(t,"EveSOFDataInstancedMesh",(function(){return o.EveSOFDataInstancedMesh}));var u=r("./sof/shared/EveSOFDataLogo.js");r.d(t,"EveSOFDataLogo",(function(){return u.EveSOFDataLogo}));var c=r("./sof/shared/EveSOFDataLogoSet.js");r.d(t,"EveSOFDataLogoSet",(function(){return c.EveSOFDataLogoSet}));var l=r("./sof/shared/EveSOFDataMaterial.js");r.d(t,"EveSOFDataMaterial",(function(){return l.EveSOFDataMaterial}));var h=r("./sof/shared/EveSOFDataParameter.js");r.d(t,"EveSOFDataParameter",(function(){return h.EveSOFDataParameter}));var d=r("./sof/shared/EveSOFDataTexture.js");r.d(t,"EveSOFDataTexture",(function(){return d.EveSOFDataTexture}));var f=r("./sof/shared/EveSOFDataTransform.js");r.d(t,"EveSOFDataTransform",(function(){return f.EveSOFDataTransform}))},"./state/Tr2StateMachine.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tr2StateMachine",(function(){return i}));var n=r("./global/index.js");class i extends n.Tw2BaseClass{constructor(...e){super(...e),this.name="",this.startState=0,this.states=[]}static black(e){return[["name",e.string],["states",e.array],["startState",e.uint]]}}i.__isStaging=4},"./state/Tr2StateMachineState.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tr2StateMachineState",(function(){return i}));var n=r("./global/index.js");class i extends n.Tw2BaseClass{constructor(...e){super(...e),this.name="",this.actions=[],this.finalizer=null,this.transitions=[]}static black(e){return[["actions",e.array],["finalizer",e.object],["name",e.string],["transitions",e.array]]}}i.__isStaging=4},"./state/Tr2StateMachineTransition.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tr2StateMachineTransition",(function(){return i}));var n=r("./global/index.js");class i extends n.Tw2BaseClass{constructor(...e){super(...e),this.name="",this.condition=""}static black(e){return[["condition",e.string],["name",e.string]]}}i.__isStaging=4},"./state/Tr2SyncToAnimation.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tr2SyncToAnimation",(function(){return i}));var n=r("./global/index.js");class i extends n.Tw2BaseClass{static black(e){return[]}}i.__isStaging=4},"./state/action/Tr2ActionAnimateCurveSet.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tr2ActionAnimateCurveSet",(function(){return i}));var n=r("./global/index.js");class i extends n.Tw2BaseClass{constructor(...e){super(...e),this.curveSet=null,this.value=""}static black(e){return[["curveSet",e.object],["value",e.string]]}}i.__isStaging=4},"./state/action/Tr2ActionAnimateValue.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tr2ActionAnimateValue",(function(){return i}));var n=r("./global/index.js");class i extends n.Tw2BaseClass{constructor(...e){super(...e),this.attribute="",this.curve=null,this.path="",this.value=""}static black(e){return[["attribute",e.string],["curve",e.object],["path",e.path],["value",e.string]]}}i.__isStaging=4},"./state/action/Tr2ActionChildEffect.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tr2ActionChildEffect",(function(){return i}));var n=r("./global/index.js");class i extends n.Tw2BaseClass{constructor(...e){super(...e),this.childName="",this.path="",this.removeOnStop=!1}static black(e){return[["childName",e.string],["path",e.path],["removeOnStop",e.boolean]]}}i.__isStaging=4},"./state/action/Tr2ActionOverlay.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tr2ActionOverlay",(function(){return i}));var n=r("./global/index.js");class i extends n.Tw2BaseClass{constructor(...e){super(...e),this.path=""}static black(e){return[["path",e.path]]}}i.__isStaging=4},"./state/action/Tr2ActionPlayCurveSet.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tr2ActionPlayCurveSet",(function(){return i}));var n=r("./global/index.js");class i extends n.Tw2BaseClass{constructor(...e){super(...e),this.curveSetName="",this.rangeName="",this.syncToRange=!1}static black(e){return[["curveSetName",e.string],["rangeName",e.string],["syncToRange",e.boolean]]}}i.__isStaging=4},"./state/action/Tr2ActionPlayMeshAnimation.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tr2ActionPlayMeshAnimation",(function(){return i}));var n=r("./global/index.js");class i extends n.Tw2BaseClass{constructor(...e){super(...e),this.animation="",this.loops=0,this.mask=""}static black(e){return[["animation",e.string],["loops",e.uint],["mask",e.string]]}}i.__isStaging=4},"./state/action/Tr2ActionPlaySound.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tr2ActionPlaySound",(function(){return n}));class n{constructor(){this.emitter="",this.event=""}static black(e){return[["emitter",e.string],["event",e.string]]}}n.__isStaging=4},"./state/action/Tr2ActionResetClipSphereCenter.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tr2ActionResetClipSphereCenter",(function(){return i}));var n=r("./global/index.js");class i extends n.Tw2BaseClass{static black(e){return[]}}i.__isStaging=4},"./state/action/Tr2ActionSetValue.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tr2ActionSetValue",(function(){return i}));var n=r("./global/index.js");class i extends n.Tw2BaseClass{constructor(...e){super(...e),this.attribute="",this.path="",this.value=""}static black(e){return[["attribute",e.string],["path",e.path],["value",e.string]]}}i.__isStaging=4},"./state/action/Tr2ActionSpawnParticles.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tr2ActionSpawnParticles",(function(){return n}));class n{static black(e){return[]}}n.__isStaging=4},"./state/action/index.js":function(e,t,r){"use strict";r.r(t);var n=r("./state/action/Tr2ActionAnimateCurveSet.js");r.d(t,"Tr2ActionAnimateCurveSet",(function(){return n.Tr2ActionAnimateCurveSet}));var i=r("./state/action/Tr2ActionAnimateValue.js");r.d(t,"Tr2ActionAnimateValue",(function(){return i.Tr2ActionAnimateValue}));var s=r("./state/action/Tr2ActionChildEffect.js");r.d(t,"Tr2ActionChildEffect",(function(){return s.Tr2ActionChildEffect}));var a=r("./state/action/Tr2ActionOverlay.js");r.d(t,"Tr2ActionOverlay",(function(){return a.Tr2ActionOverlay}));var o=r("./state/action/Tr2ActionPlayCurveSet.js");r.d(t,"Tr2ActionPlayCurveSet",(function(){return o.Tr2ActionPlayCurveSet}));var u=r("./state/action/Tr2ActionPlayMeshAnimation.js");r.d(t,"Tr2ActionPlayMeshAnimation",(function(){return u.Tr2ActionPlayMeshAnimation}));var c=r("./state/action/Tr2ActionPlaySound.js");r.d(t,"Tr2ActionPlaySound",(function(){return c.Tr2ActionPlaySound}));var l=r("./state/action/Tr2ActionResetClipSphereCenter.js");r.d(t,"Tr2ActionResetClipSphereCenter",(function(){return l.Tr2ActionResetClipSphereCenter}));var h=r("./state/action/Tr2ActionSetValue.js");r.d(t,"Tr2ActionSetValue",(function(){return h.Tr2ActionSetValue}));var d=r("./state/action/Tr2ActionSpawnParticles.js");r.d(t,"Tr2ActionSpawnParticles",(function(){return d.Tr2ActionSpawnParticles}))},"./state/controller/Tr2Controller.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tr2Controller",(function(){return i}));var n=r("./global/index.js");class i extends n.Tw2BaseClass{constructor(...e){super(...e),this.name="",this.isShared=!1,this.stateMachines=[],this.variables=[]}static black(e){return[["isShared",e.boolean],["stateMachines",e.array],["name",e.string],["variables",e.array]]}}i.__isStaging=4},"./state/controller/Tr2ControllerFloatVariable.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tr2ControllerFloatVariable",(function(){return n}));class n{constructor(){this.name="",this.defaultValue=0,this.enumValues={},this.variableType=0}GetEnumsAsString(){var e=[];for(var t in this.enumValues)this.enumValues.hasOwnProperty(t)&&e.push("".concat(t,"=").concat(this.enumValues[t]));return e.sort().join(",")}static black(e){return[["name",e.string],["defaultValue",e.float],["enumValues",e.enums],["variableType",e.uint]]}}n.__isStaging=4},"./state/controller/Tr2ControllerReference.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tr2ControllerReference",(function(){return i}));var n=r("./global/index.js");class i extends n.Tw2BaseClass{constructor(...e){super(...e),this.path=""}static black(e){return[["path",e.path]]}}i.__isStaging=4},"./state/controller/index.js":function(e,t,r){"use strict";r.r(t);var n=r("./state/controller/Tr2Controller.js");r.d(t,"Tr2Controller",(function(){return n.Tr2Controller}));var i=r("./state/controller/Tr2ControllerFloatVariable.js");r.d(t,"Tr2ControllerFloatVariable",(function(){return i.Tr2ControllerFloatVariable}));var s=r("./state/controller/Tr2ControllerReference.js");r.d(t,"Tr2ControllerReference",(function(){return s.Tr2ControllerReference}))},"./state/index.js":function(e,t,r){"use strict";r.r(t);var n=r("./state/action/index.js");r.d(t,"Tr2ActionAnimateCurveSet",(function(){return n.Tr2ActionAnimateCurveSet})),r.d(t,"Tr2ActionAnimateValue",(function(){return n.Tr2ActionAnimateValue})),r.d(t,"Tr2ActionChildEffect",(function(){return n.Tr2ActionChildEffect})),r.d(t,"Tr2ActionOverlay",(function(){return n.Tr2ActionOverlay})),r.d(t,"Tr2ActionPlayCurveSet",(function(){return n.Tr2ActionPlayCurveSet})),r.d(t,"Tr2ActionPlayMeshAnimation",(function(){return n.Tr2ActionPlayMeshAnimation})),r.d(t,"Tr2ActionPlaySound",(function(){return n.Tr2ActionPlaySound})),r.d(t,"Tr2ActionResetClipSphereCenter",(function(){return n.Tr2ActionResetClipSphereCenter})),r.d(t,"Tr2ActionSetValue",(function(){return n.Tr2ActionSetValue})),r.d(t,"Tr2ActionSpawnParticles",(function(){return n.Tr2ActionSpawnParticles}));var i=r("./state/controller/index.js");r.d(t,"Tr2Controller",(function(){return i.Tr2Controller})),r.d(t,"Tr2ControllerFloatVariable",(function(){return i.Tr2ControllerFloatVariable})),r.d(t,"Tr2ControllerReference",(function(){return i.Tr2ControllerReference}));r("./state/variable/index.js");var s=r("./state/Tr2StateMachine.js");r.d(t,"Tr2StateMachine",(function(){return s.Tr2StateMachine}));var a=r("./state/Tr2StateMachineState.js");r.d(t,"Tr2StateMachineState",(function(){return a.Tr2StateMachineState}));var o=r("./state/Tr2StateMachineTransition.js");r.d(t,"Tr2StateMachineTransition",(function(){return o.Tr2StateMachineTransition}));var u=r("./state/Tr2SyncToAnimation.js");r.d(t,"Tr2SyncToAnimation",(function(){return u.Tr2SyncToAnimation}))},"./state/variable/Tr2ControllerFloatVariable.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tr2ControllerFloatVariable",(function(){return i}));var n=r("./global/index.js");class i extends n.Tw2BaseClass{constructor(...e){super(...e),this.defaultValue=0,this.variableType=0}}},"./state/variable/index.js":function(e,t,r){"use strict";r.r(t);var n=r("./state/variable/Tr2ControllerFloatVariable.js");r.d(t,"Tr2ControllerFloatVariable",(function(){return n.Tr2ControllerFloatVariable}))}})}));