!function(e,t){if("object"==typeof exports&&"object"==typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var r=t();for(var i in r)("object"==typeof exports?exports:e)[i]=r[i]}}(window,(function(){return function(e){var t={};function r(i){if(t[i])return t[i].exports;var n=t[i]={i:i,l:!1,exports:{}};return e[i].call(n.exports,n,n.exports,r),n.l=!0,n.exports}return r.m=e,r.c=t,r.d=function(e,t,i){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(r.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)r.d(i,n,function(t){return e[t]}.bind(null,n));return i},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s="./index.js")}({"../node_modules/core-js/internals/a-function.js":function(e,t){e.exports=function(e){if("function"!=typeof e)throw TypeError(String(e)+" is not a function");return e}},"../node_modules/core-js/internals/a-possible-prototype.js":function(e,t,r){var i=r("../node_modules/core-js/internals/is-object.js");e.exports=function(e){if(!i(e)&&null!==e)throw TypeError("Can't set "+String(e)+" as a prototype");return e}},"../node_modules/core-js/internals/add-to-unscopables.js":function(e,t,r){var i=r("../node_modules/core-js/internals/well-known-symbol.js"),n=r("../node_modules/core-js/internals/object-create.js"),a=r("../node_modules/core-js/internals/create-non-enumerable-property.js"),o=i("unscopables"),l=Array.prototype;null==l[o]&&a(l,o,n(null)),e.exports=function(e){l[o][e]=!0}},"../node_modules/core-js/internals/advance-string-index.js":function(e,t,r){"use strict";var i=r("../node_modules/core-js/internals/string-multibyte.js").charAt;e.exports=function(e,t,r){return t+(r?i(e,t).length:1)}},"../node_modules/core-js/internals/an-instance.js":function(e,t){e.exports=function(e,t,r){if(!(e instanceof t))throw TypeError("Incorrect "+(r?r+" ":"")+"invocation");return e}},"../node_modules/core-js/internals/an-object.js":function(e,t,r){var i=r("../node_modules/core-js/internals/is-object.js");e.exports=function(e){if(!i(e))throw TypeError(String(e)+" is not an object");return e}},"../node_modules/core-js/internals/array-buffer-view-core.js":function(e,t,r){"use strict";var i,n=r("../node_modules/core-js/internals/descriptors.js"),a=r("../node_modules/core-js/internals/global.js"),o=r("../node_modules/core-js/internals/is-object.js"),l=r("../node_modules/core-js/internals/has.js"),s=r("../node_modules/core-js/internals/classof.js"),u=r("../node_modules/core-js/internals/create-non-enumerable-property.js"),c=r("../node_modules/core-js/internals/redefine.js"),f=r("../node_modules/core-js/internals/object-define-property.js").f,d=r("../node_modules/core-js/internals/object-get-prototype-of.js"),h=r("../node_modules/core-js/internals/object-set-prototype-of.js"),b=r("../node_modules/core-js/internals/well-known-symbol.js"),m=r("../node_modules/core-js/internals/uid.js"),p=a.DataView,v=p&&p.prototype,g=a.Int8Array,E=g&&g.prototype,y=a.Uint8ClampedArray,T=y&&y.prototype,w=g&&d(g),_=E&&d(E),S=Object.prototype,R=S.isPrototypeOf,j=b("toStringTag"),O=m("TYPED_ARRAY_TAG"),A=!(!a.ArrayBuffer||!p),z=A&&!!h&&"Opera"!==s(a.opera),P=!1,C={Int8Array:1,Uint8Array:1,Uint8ClampedArray:1,Int16Array:2,Uint16Array:2,Int32Array:4,Uint32Array:4,Float32Array:4,Float64Array:8},D=function(e){return o(e)&&l(C,s(e))};for(i in C)a[i]||(z=!1);if((!z||"function"!=typeof w||w===Function.prototype)&&(w=function(){throw TypeError("Incorrect invocation")},z))for(i in C)a[i]&&h(a[i],w);if((!z||!_||_===S)&&(_=w.prototype,z))for(i in C)a[i]&&h(a[i].prototype,_);if(z&&d(T)!==_&&h(T,_),n&&!l(_,j))for(i in P=!0,f(_,j,{get:function(){return o(this)?this[O]:void 0}}),C)a[i]&&u(a[i],O,i);A&&h&&d(v)!==S&&h(v,S),e.exports={NATIVE_ARRAY_BUFFER:A,NATIVE_ARRAY_BUFFER_VIEWS:z,TYPED_ARRAY_TAG:P&&O,aTypedArray:function(e){if(D(e))return e;throw TypeError("Target is not a typed array")},aTypedArrayConstructor:function(e){if(h){if(R.call(w,e))return e}else for(var t in C)if(l(C,i)){var r=a[t];if(r&&(e===r||R.call(r,e)))return e}throw TypeError("Target is not a typed array constructor")},exportTypedArrayMethod:function(e,t,r){if(n){if(r)for(var i in C){var o=a[i];o&&l(o.prototype,e)&&delete o.prototype[e]}_[e]&&!r||c(_,e,r?t:z&&E[e]||t)}},exportTypedArrayStaticMethod:function(e,t,r){var i,o;if(n){if(h){if(r)for(i in C)(o=a[i])&&l(o,e)&&delete o[e];if(w[e]&&!r)return;try{return c(w,e,r?t:z&&g[e]||t)}catch(e){}}for(i in C)!(o=a[i])||o[e]&&!r||c(o,e,t)}},isView:function(e){var t=s(e);return"DataView"===t||l(C,t)},isTypedArray:D,TypedArray:w,TypedArrayPrototype:_}},"../node_modules/core-js/internals/array-buffer.js":function(e,t,r){"use strict";var i=r("../node_modules/core-js/internals/global.js"),n=r("../node_modules/core-js/internals/descriptors.js"),a=r("../node_modules/core-js/internals/array-buffer-view-core.js").NATIVE_ARRAY_BUFFER,o=r("../node_modules/core-js/internals/create-non-enumerable-property.js"),l=r("../node_modules/core-js/internals/redefine-all.js"),s=r("../node_modules/core-js/internals/fails.js"),u=r("../node_modules/core-js/internals/an-instance.js"),c=r("../node_modules/core-js/internals/to-integer.js"),f=r("../node_modules/core-js/internals/to-length.js"),d=r("../node_modules/core-js/internals/to-index.js"),h=r("../node_modules/core-js/internals/ieee754.js"),b=r("../node_modules/core-js/internals/object-get-own-property-names.js").f,m=r("../node_modules/core-js/internals/object-define-property.js").f,p=r("../node_modules/core-js/internals/array-fill.js"),v=r("../node_modules/core-js/internals/set-to-string-tag.js"),g=r("../node_modules/core-js/internals/internal-state.js"),E=g.get,y=g.set,T=i.ArrayBuffer,w=T,_=i.DataView,S=i.RangeError,R=h.pack,j=h.unpack,O=function(e){return[255&e]},A=function(e){return[255&e,e>>8&255]},z=function(e){return[255&e,e>>8&255,e>>16&255,e>>24&255]},P=function(e){return e[3]<<24|e[2]<<16|e[1]<<8|e[0]},C=function(e){return R(e,23,4)},D=function(e){return R(e,52,8)},I=function(e,t){m(e.prototype,t,{get:function(){return E(this)[t]}})},x=function(e,t,r,i){var n=d(r),a=E(e);if(n+t>a.byteLength)throw S("Wrong index");var o=E(a.buffer).bytes,l=n+a.byteOffset,s=o.slice(l,l+t);return i?s:s.reverse()},L=function(e,t,r,i,n,a){var o=d(r),l=E(e);if(o+t>l.byteLength)throw S("Wrong index");for(var s=E(l.buffer).bytes,u=o+l.byteOffset,c=i(+n),f=0;f<t;f++)s[u+f]=c[a?f:t-f-1]};if(a){if(!s((function(){T(1)}))||!s((function(){new T(-1)}))||s((function(){return new T,new T(1.5),new T(NaN),"ArrayBuffer"!=T.name}))){for(var M,F=(w=function(e){return u(this,w),new T(d(e))}).prototype=T.prototype,G=b(T),k=0;G.length>k;)(M=G[k++])in w||o(w,M,T[M]);F.constructor=w}var N=new _(new w(2)),B=_.prototype.setInt8;N.setInt8(0,2147483648),N.setInt8(1,2147483649),!N.getInt8(0)&&N.getInt8(1)||l(_.prototype,{setInt8:function(e,t){B.call(this,e,t<<24>>24)},setUint8:function(e,t){B.call(this,e,t<<24>>24)}},{unsafe:!0})}else w=function(e){u(this,w,"ArrayBuffer");var t=d(e);y(this,{bytes:p.call(new Array(t),0),byteLength:t}),n||(this.byteLength=t)},_=function(e,t,r){u(this,_,"DataView"),u(e,w,"DataView");var i=E(e).byteLength,a=c(t);if(a<0||a>i)throw S("Wrong offset");if(a+(r=void 0===r?i-a:f(r))>i)throw S("Wrong length");y(this,{buffer:e,byteLength:r,byteOffset:a}),n||(this.buffer=e,this.byteLength=r,this.byteOffset=a)},n&&(I(w,"byteLength"),I(_,"buffer"),I(_,"byteLength"),I(_,"byteOffset")),l(_.prototype,{getInt8:function(e){return x(this,1,e)[0]<<24>>24},getUint8:function(e){return x(this,1,e)[0]},getInt16:function(e){var t=x(this,2,e,arguments.length>1?arguments[1]:void 0);return(t[1]<<8|t[0])<<16>>16},getUint16:function(e){var t=x(this,2,e,arguments.length>1?arguments[1]:void 0);return t[1]<<8|t[0]},getInt32:function(e){return P(x(this,4,e,arguments.length>1?arguments[1]:void 0))},getUint32:function(e){return P(x(this,4,e,arguments.length>1?arguments[1]:void 0))>>>0},getFloat32:function(e){return j(x(this,4,e,arguments.length>1?arguments[1]:void 0),23)},getFloat64:function(e){return j(x(this,8,e,arguments.length>1?arguments[1]:void 0),52)},setInt8:function(e,t){L(this,1,e,O,t)},setUint8:function(e,t){L(this,1,e,O,t)},setInt16:function(e,t){L(this,2,e,A,t,arguments.length>2?arguments[2]:void 0)},setUint16:function(e,t){L(this,2,e,A,t,arguments.length>2?arguments[2]:void 0)},setInt32:function(e,t){L(this,4,e,z,t,arguments.length>2?arguments[2]:void 0)},setUint32:function(e,t){L(this,4,e,z,t,arguments.length>2?arguments[2]:void 0)},setFloat32:function(e,t){L(this,4,e,C,t,arguments.length>2?arguments[2]:void 0)},setFloat64:function(e,t){L(this,8,e,D,t,arguments.length>2?arguments[2]:void 0)}});v(w,"ArrayBuffer"),v(_,"DataView"),e.exports={ArrayBuffer:w,DataView:_}},"../node_modules/core-js/internals/array-fill.js":function(e,t,r){"use strict";var i=r("../node_modules/core-js/internals/to-object.js"),n=r("../node_modules/core-js/internals/to-absolute-index.js"),a=r("../node_modules/core-js/internals/to-length.js");e.exports=function(e){for(var t=i(this),r=a(t.length),o=arguments.length,l=n(o>1?arguments[1]:void 0,r),s=o>2?arguments[2]:void 0,u=void 0===s?r:n(s,r);u>l;)t[l++]=e;return t}},"../node_modules/core-js/internals/array-for-each.js":function(e,t,r){"use strict";var i=r("../node_modules/core-js/internals/array-iteration.js").forEach,n=r("../node_modules/core-js/internals/sloppy-array-method.js");e.exports=n("forEach")?function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}:[].forEach},"../node_modules/core-js/internals/array-from.js":function(e,t,r){"use strict";var i=r("../node_modules/core-js/internals/bind-context.js"),n=r("../node_modules/core-js/internals/to-object.js"),a=r("../node_modules/core-js/internals/call-with-safe-iteration-closing.js"),o=r("../node_modules/core-js/internals/is-array-iterator-method.js"),l=r("../node_modules/core-js/internals/to-length.js"),s=r("../node_modules/core-js/internals/create-property.js"),u=r("../node_modules/core-js/internals/get-iterator-method.js");e.exports=function(e){var t,r,c,f,d,h=n(e),b="function"==typeof this?this:Array,m=arguments.length,p=m>1?arguments[1]:void 0,v=void 0!==p,g=0,E=u(h);if(v&&(p=i(p,m>2?arguments[2]:void 0,2)),null==E||b==Array&&o(E))for(r=new b(t=l(h.length));t>g;g++)s(r,g,v?p(h[g],g):h[g]);else for(d=(f=E.call(h)).next,r=new b;!(c=d.call(f)).done;g++)s(r,g,v?a(f,p,[c.value,g],!0):c.value);return r.length=g,r}},"../node_modules/core-js/internals/array-includes.js":function(e,t,r){var i=r("../node_modules/core-js/internals/to-indexed-object.js"),n=r("../node_modules/core-js/internals/to-length.js"),a=r("../node_modules/core-js/internals/to-absolute-index.js"),o=function(e){return function(t,r,o){var l,s=i(t),u=n(s.length),c=a(o,u);if(e&&r!=r){for(;u>c;)if((l=s[c++])!=l)return!0}else for(;u>c;c++)if((e||c in s)&&s[c]===r)return e||c||0;return!e&&-1}};e.exports={includes:o(!0),indexOf:o(!1)}},"../node_modules/core-js/internals/array-iteration.js":function(e,t,r){var i=r("../node_modules/core-js/internals/bind-context.js"),n=r("../node_modules/core-js/internals/indexed-object.js"),a=r("../node_modules/core-js/internals/to-object.js"),o=r("../node_modules/core-js/internals/to-length.js"),l=r("../node_modules/core-js/internals/array-species-create.js"),s=[].push,u=function(e){var t=1==e,r=2==e,u=3==e,c=4==e,f=6==e,d=5==e||f;return function(h,b,m,p){for(var v,g,E=a(h),y=n(E),T=i(b,m,3),w=o(y.length),_=0,S=p||l,R=t?S(h,w):r?S(h,0):void 0;w>_;_++)if((d||_ in y)&&(g=T(v=y[_],_,E),e))if(t)R[_]=g;else if(g)switch(e){case 3:return!0;case 5:return v;case 6:return _;case 2:s.call(R,v)}else if(c)return!1;return f?-1:u||c?c:R}};e.exports={forEach:u(0),map:u(1),filter:u(2),some:u(3),every:u(4),find:u(5),findIndex:u(6)}},"../node_modules/core-js/internals/array-species-create.js":function(e,t,r){var i=r("../node_modules/core-js/internals/is-object.js"),n=r("../node_modules/core-js/internals/is-array.js"),a=r("../node_modules/core-js/internals/well-known-symbol.js")("species");e.exports=function(e,t){var r;return n(e)&&("function"!=typeof(r=e.constructor)||r!==Array&&!n(r.prototype)?i(r)&&null===(r=r[a])&&(r=void 0):r=void 0),new(void 0===r?Array:r)(0===t?0:t)}},"../node_modules/core-js/internals/bind-context.js":function(e,t,r){var i=r("../node_modules/core-js/internals/a-function.js");e.exports=function(e,t,r){if(i(e),void 0===t)return e;switch(r){case 0:return function(){return e.call(t)};case 1:return function(r){return e.call(t,r)};case 2:return function(r,i){return e.call(t,r,i)};case 3:return function(r,i,n){return e.call(t,r,i,n)}}return function(){return e.apply(t,arguments)}}},"../node_modules/core-js/internals/call-with-safe-iteration-closing.js":function(e,t,r){var i=r("../node_modules/core-js/internals/an-object.js");e.exports=function(e,t,r,n){try{return n?t(i(r)[0],r[1]):t(r)}catch(t){var a=e.return;throw void 0!==a&&i(a.call(e)),t}}},"../node_modules/core-js/internals/check-correctness-of-iteration.js":function(e,t,r){var i=r("../node_modules/core-js/internals/well-known-symbol.js")("iterator"),n=!1;try{var a=0,o={next:function(){return{done:!!a++}},return:function(){n=!0}};o[i]=function(){return this},Array.from(o,(function(){throw 2}))}catch(e){}e.exports=function(e,t){if(!t&&!n)return!1;var r=!1;try{var a={};a[i]=function(){return{next:function(){return{done:r=!0}}}},e(a)}catch(e){}return r}},"../node_modules/core-js/internals/classof-raw.js":function(e,t){var r={}.toString;e.exports=function(e){return r.call(e).slice(8,-1)}},"../node_modules/core-js/internals/classof.js":function(e,t,r){var i=r("../node_modules/core-js/internals/to-string-tag-support.js"),n=r("../node_modules/core-js/internals/classof-raw.js"),a=r("../node_modules/core-js/internals/well-known-symbol.js")("toStringTag"),o="Arguments"==n(function(){return arguments}());e.exports=i?n:function(e){var t,r,i;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(r=function(e,t){try{return e[t]}catch(e){}}(t=Object(e),a))?r:o?n(t):"Object"==(i=n(t))&&"function"==typeof t.callee?"Arguments":i}},"../node_modules/core-js/internals/copy-constructor-properties.js":function(e,t,r){var i=r("../node_modules/core-js/internals/has.js"),n=r("../node_modules/core-js/internals/own-keys.js"),a=r("../node_modules/core-js/internals/object-get-own-property-descriptor.js"),o=r("../node_modules/core-js/internals/object-define-property.js");e.exports=function(e,t){for(var r=n(t),l=o.f,s=a.f,u=0;u<r.length;u++){var c=r[u];i(e,c)||l(e,c,s(t,c))}}},"../node_modules/core-js/internals/correct-prototype-getter.js":function(e,t,r){var i=r("../node_modules/core-js/internals/fails.js");e.exports=!i((function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype}))},"../node_modules/core-js/internals/create-iterator-constructor.js":function(e,t,r){"use strict";var i=r("../node_modules/core-js/internals/iterators-core.js").IteratorPrototype,n=r("../node_modules/core-js/internals/object-create.js"),a=r("../node_modules/core-js/internals/create-property-descriptor.js"),o=r("../node_modules/core-js/internals/set-to-string-tag.js"),l=r("../node_modules/core-js/internals/iterators.js"),s=function(){return this};e.exports=function(e,t,r){var u=t+" Iterator";return e.prototype=n(i,{next:a(1,r)}),o(e,u,!1,!0),l[u]=s,e}},"../node_modules/core-js/internals/create-non-enumerable-property.js":function(e,t,r){var i=r("../node_modules/core-js/internals/descriptors.js"),n=r("../node_modules/core-js/internals/object-define-property.js"),a=r("../node_modules/core-js/internals/create-property-descriptor.js");e.exports=i?function(e,t,r){return n.f(e,t,a(1,r))}:function(e,t,r){return e[t]=r,e}},"../node_modules/core-js/internals/create-property-descriptor.js":function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},"../node_modules/core-js/internals/create-property.js":function(e,t,r){"use strict";var i=r("../node_modules/core-js/internals/to-primitive.js"),n=r("../node_modules/core-js/internals/object-define-property.js"),a=r("../node_modules/core-js/internals/create-property-descriptor.js");e.exports=function(e,t,r){var o=i(t);o in e?n.f(e,o,a(0,r)):e[o]=r}},"../node_modules/core-js/internals/define-iterator.js":function(e,t,r){"use strict";var i=r("../node_modules/core-js/internals/export.js"),n=r("../node_modules/core-js/internals/create-iterator-constructor.js"),a=r("../node_modules/core-js/internals/object-get-prototype-of.js"),o=r("../node_modules/core-js/internals/object-set-prototype-of.js"),l=r("../node_modules/core-js/internals/set-to-string-tag.js"),s=r("../node_modules/core-js/internals/create-non-enumerable-property.js"),u=r("../node_modules/core-js/internals/redefine.js"),c=r("../node_modules/core-js/internals/well-known-symbol.js"),f=r("../node_modules/core-js/internals/is-pure.js"),d=r("../node_modules/core-js/internals/iterators.js"),h=r("../node_modules/core-js/internals/iterators-core.js"),b=h.IteratorPrototype,m=h.BUGGY_SAFARI_ITERATORS,p=c("iterator"),v=function(){return this};e.exports=function(e,t,r,c,h,g,E){n(r,t,c);var y,T,w,_=function(e){if(e===h&&A)return A;if(!m&&e in j)return j[e];switch(e){case"keys":case"values":case"entries":return function(){return new r(this,e)}}return function(){return new r(this)}},S=t+" Iterator",R=!1,j=e.prototype,O=j[p]||j["@@iterator"]||h&&j[h],A=!m&&O||_(h),z="Array"==t&&j.entries||O;if(z&&(y=a(z.call(new e)),b!==Object.prototype&&y.next&&(f||a(y)===b||(o?o(y,b):"function"!=typeof y[p]&&s(y,p,v)),l(y,S,!0,!0),f&&(d[S]=v))),"values"==h&&O&&"values"!==O.name&&(R=!0,A=function(){return O.call(this)}),f&&!E||j[p]===A||s(j,p,A),d[t]=A,h)if(T={values:_("values"),keys:g?A:_("keys"),entries:_("entries")},E)for(w in T)!m&&!R&&w in j||u(j,w,T[w]);else i({target:t,proto:!0,forced:m||R},T);return T}},"../node_modules/core-js/internals/define-well-known-symbol.js":function(e,t,r){var i=r("../node_modules/core-js/internals/path.js"),n=r("../node_modules/core-js/internals/has.js"),a=r("../node_modules/core-js/internals/wrapped-well-known-symbol.js"),o=r("../node_modules/core-js/internals/object-define-property.js").f;e.exports=function(e){var t=i.Symbol||(i.Symbol={});n(t,e)||o(t,e,{value:a.f(e)})}},"../node_modules/core-js/internals/descriptors.js":function(e,t,r){var i=r("../node_modules/core-js/internals/fails.js");e.exports=!i((function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}))},"../node_modules/core-js/internals/document-create-element.js":function(e,t,r){var i=r("../node_modules/core-js/internals/global.js"),n=r("../node_modules/core-js/internals/is-object.js"),a=i.document,o=n(a)&&n(a.createElement);e.exports=function(e){return o?a.createElement(e):{}}},"../node_modules/core-js/internals/dom-iterables.js":function(e,t){e.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},"../node_modules/core-js/internals/enum-bug-keys.js":function(e,t){e.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},"../node_modules/core-js/internals/export.js":function(e,t,r){var i=r("../node_modules/core-js/internals/global.js"),n=r("../node_modules/core-js/internals/object-get-own-property-descriptor.js").f,a=r("../node_modules/core-js/internals/create-non-enumerable-property.js"),o=r("../node_modules/core-js/internals/redefine.js"),l=r("../node_modules/core-js/internals/set-global.js"),s=r("../node_modules/core-js/internals/copy-constructor-properties.js"),u=r("../node_modules/core-js/internals/is-forced.js");e.exports=function(e,t){var r,c,f,d,h,b=e.target,m=e.global,p=e.stat;if(r=m?i:p?i[b]||l(b,{}):(i[b]||{}).prototype)for(c in t){if(d=t[c],f=e.noTargetGet?(h=n(r,c))&&h.value:r[c],!u(m?c:b+(p?".":"#")+c,e.forced)&&void 0!==f){if(typeof d==typeof f)continue;s(d,f)}(e.sham||f&&f.sham)&&a(d,"sham",!0),o(r,c,d,e)}}},"../node_modules/core-js/internals/fails.js":function(e,t){e.exports=function(e){try{return!!e()}catch(e){return!0}}},"../node_modules/core-js/internals/fix-regexp-well-known-symbol-logic.js":function(e,t,r){"use strict";var i=r("../node_modules/core-js/internals/create-non-enumerable-property.js"),n=r("../node_modules/core-js/internals/redefine.js"),a=r("../node_modules/core-js/internals/fails.js"),o=r("../node_modules/core-js/internals/well-known-symbol.js"),l=r("../node_modules/core-js/internals/regexp-exec.js"),s=o("species"),u=!a((function(){var e=/./;return e.exec=function(){var e=[];return e.groups={a:"7"},e},"7"!=="".replace(e,"$<a>")})),c=!a((function(){var e=/(?:)/,t=e.exec;e.exec=function(){return t.apply(this,arguments)};var r="ab".split(e);return 2!==r.length||"a"!==r[0]||"b"!==r[1]}));e.exports=function(e,t,r,f){var d=o(e),h=!a((function(){var t={};return t[d]=function(){return 7},7!=""[e](t)})),b=h&&!a((function(){var t=!1,r=/a/;return"split"===e&&((r={}).constructor={},r.constructor[s]=function(){return r},r.flags="",r[d]=/./[d]),r.exec=function(){return t=!0,null},r[d](""),!t}));if(!h||!b||"replace"===e&&!u||"split"===e&&!c){var m=/./[d],p=r(d,""[e],(function(e,t,r,i,n){return t.exec===l?h&&!n?{done:!0,value:m.call(t,r,i)}:{done:!0,value:e.call(r,t,i)}:{done:!1}})),v=p[0],g=p[1];n(String.prototype,e,v),n(RegExp.prototype,d,2==t?function(e,t){return g.call(e,this,t)}:function(e){return g.call(e,this)}),f&&i(RegExp.prototype[d],"sham",!0)}}},"../node_modules/core-js/internals/flatten-into-array.js":function(e,t,r){"use strict";var i=r("../node_modules/core-js/internals/is-array.js"),n=r("../node_modules/core-js/internals/to-length.js"),a=r("../node_modules/core-js/internals/bind-context.js"),o=function(e,t,r,l,s,u,c,f){for(var d,h=s,b=0,m=!!c&&a(c,f,3);b<l;){if(b in r){if(d=m?m(r[b],b,t):r[b],u>0&&i(d))h=o(e,t,d,n(d.length),h,u-1)-1;else{if(h>=9007199254740991)throw TypeError("Exceed the acceptable array length");e[h]=d}h++}b++}return h};e.exports=o},"../node_modules/core-js/internals/forced-object-prototype-accessors-methods.js":function(e,t,r){"use strict";var i=r("../node_modules/core-js/internals/is-pure.js"),n=r("../node_modules/core-js/internals/global.js"),a=r("../node_modules/core-js/internals/fails.js");e.exports=i||!a((function(){var e=Math.random();__defineSetter__.call(null,e,(function(){})),delete n[e]}))},"../node_modules/core-js/internals/forced-string-trim-method.js":function(e,t,r){var i=r("../node_modules/core-js/internals/fails.js"),n=r("../node_modules/core-js/internals/whitespaces.js");e.exports=function(e){return i((function(){return!!n[e]()||"​᠎"!="​᠎"[e]()||n[e].name!==e}))}},"../node_modules/core-js/internals/get-built-in.js":function(e,t,r){var i=r("../node_modules/core-js/internals/path.js"),n=r("../node_modules/core-js/internals/global.js"),a=function(e){return"function"==typeof e?e:void 0};e.exports=function(e,t){return arguments.length<2?a(i[e])||a(n[e]):i[e]&&i[e][t]||n[e]&&n[e][t]}},"../node_modules/core-js/internals/get-iterator-method.js":function(e,t,r){var i=r("../node_modules/core-js/internals/classof.js"),n=r("../node_modules/core-js/internals/iterators.js"),a=r("../node_modules/core-js/internals/well-known-symbol.js")("iterator");e.exports=function(e){if(null!=e)return e[a]||e["@@iterator"]||n[i(e)]}},"../node_modules/core-js/internals/get-iterator.js":function(e,t,r){var i=r("../node_modules/core-js/internals/an-object.js"),n=r("../node_modules/core-js/internals/get-iterator-method.js");e.exports=function(e){var t=n(e);if("function"!=typeof t)throw TypeError(String(e)+" is not iterable");return i(t.call(e))}},"../node_modules/core-js/internals/global.js":function(e,t,r){(function(t){var r=function(e){return e&&e.Math==Math&&e};e.exports=r("object"==typeof globalThis&&globalThis)||r("object"==typeof window&&window)||r("object"==typeof self&&self)||r("object"==typeof t&&t)||Function("return this")()}).call(this,r("../node_modules/webpack/buildin/global.js"))},"../node_modules/core-js/internals/has.js":function(e,t){var r={}.hasOwnProperty;e.exports=function(e,t){return r.call(e,t)}},"../node_modules/core-js/internals/hidden-keys.js":function(e,t){e.exports={}},"../node_modules/core-js/internals/host-report-errors.js":function(e,t,r){var i=r("../node_modules/core-js/internals/global.js");e.exports=function(e,t){var r=i.console;r&&r.error&&(1===arguments.length?r.error(e):r.error(e,t))}},"../node_modules/core-js/internals/html.js":function(e,t,r){var i=r("../node_modules/core-js/internals/get-built-in.js");e.exports=i("document","documentElement")},"../node_modules/core-js/internals/ie8-dom-define.js":function(e,t,r){var i=r("../node_modules/core-js/internals/descriptors.js"),n=r("../node_modules/core-js/internals/fails.js"),a=r("../node_modules/core-js/internals/document-create-element.js");e.exports=!i&&!n((function(){return 7!=Object.defineProperty(a("div"),"a",{get:function(){return 7}}).a}))},"../node_modules/core-js/internals/ieee754.js":function(e,t){var r=Math.abs,i=Math.pow,n=Math.floor,a=Math.log,o=Math.LN2;e.exports={pack:function(e,t,l){var s,u,c,f=new Array(l),d=8*l-t-1,h=(1<<d)-1,b=h>>1,m=23===t?i(2,-24)-i(2,-77):0,p=e<0||0===e&&1/e<0?1:0,v=0;for((e=r(e))!=e||e===1/0?(u=e!=e?1:0,s=h):(s=n(a(e)/o),e*(c=i(2,-s))<1&&(s--,c*=2),(e+=s+b>=1?m/c:m*i(2,1-b))*c>=2&&(s++,c/=2),s+b>=h?(u=0,s=h):s+b>=1?(u=(e*c-1)*i(2,t),s+=b):(u=e*i(2,b-1)*i(2,t),s=0));t>=8;f[v++]=255&u,u/=256,t-=8);for(s=s<<t|u,d+=t;d>0;f[v++]=255&s,s/=256,d-=8);return f[--v]|=128*p,f},unpack:function(e,t){var r,n=e.length,a=8*n-t-1,o=(1<<a)-1,l=o>>1,s=a-7,u=n-1,c=e[u--],f=127&c;for(c>>=7;s>0;f=256*f+e[u],u--,s-=8);for(r=f&(1<<-s)-1,f>>=-s,s+=t;s>0;r=256*r+e[u],u--,s-=8);if(0===f)f=1-l;else{if(f===o)return r?NaN:c?-1/0:1/0;r+=i(2,t),f-=l}return(c?-1:1)*r*i(2,f-t)}}},"../node_modules/core-js/internals/indexed-object.js":function(e,t,r){var i=r("../node_modules/core-js/internals/fails.js"),n=r("../node_modules/core-js/internals/classof-raw.js"),a="".split;e.exports=i((function(){return!Object("z").propertyIsEnumerable(0)}))?function(e){return"String"==n(e)?a.call(e,""):Object(e)}:Object},"../node_modules/core-js/internals/inherit-if-required.js":function(e,t,r){var i=r("../node_modules/core-js/internals/is-object.js"),n=r("../node_modules/core-js/internals/object-set-prototype-of.js");e.exports=function(e,t,r){var a,o;return n&&"function"==typeof(a=t.constructor)&&a!==r&&i(o=a.prototype)&&o!==r.prototype&&n(e,o),e}},"../node_modules/core-js/internals/inspect-source.js":function(e,t,r){var i=r("../node_modules/core-js/internals/shared.js"),n=Function.toString;e.exports=i("inspectSource",(function(e){return n.call(e)}))},"../node_modules/core-js/internals/internal-state.js":function(e,t,r){var i,n,a,o=r("../node_modules/core-js/internals/native-weak-map.js"),l=r("../node_modules/core-js/internals/global.js"),s=r("../node_modules/core-js/internals/is-object.js"),u=r("../node_modules/core-js/internals/create-non-enumerable-property.js"),c=r("../node_modules/core-js/internals/has.js"),f=r("../node_modules/core-js/internals/shared-key.js"),d=r("../node_modules/core-js/internals/hidden-keys.js"),h=l.WeakMap;if(o){var b=new h,m=b.get,p=b.has,v=b.set;i=function(e,t){return v.call(b,e,t),t},n=function(e){return m.call(b,e)||{}},a=function(e){return p.call(b,e)}}else{var g=f("state");d[g]=!0,i=function(e,t){return u(e,g,t),t},n=function(e){return c(e,g)?e[g]:{}},a=function(e){return c(e,g)}}e.exports={set:i,get:n,has:a,enforce:function(e){return a(e)?n(e):i(e,{})},getterFor:function(e){return function(t){var r;if(!s(t)||(r=n(t)).type!==e)throw TypeError("Incompatible receiver, "+e+" required");return r}}}},"../node_modules/core-js/internals/is-array-iterator-method.js":function(e,t,r){var i=r("../node_modules/core-js/internals/well-known-symbol.js"),n=r("../node_modules/core-js/internals/iterators.js"),a=i("iterator"),o=Array.prototype;e.exports=function(e){return void 0!==e&&(n.Array===e||o[a]===e)}},"../node_modules/core-js/internals/is-array.js":function(e,t,r){var i=r("../node_modules/core-js/internals/classof-raw.js");e.exports=Array.isArray||function(e){return"Array"==i(e)}},"../node_modules/core-js/internals/is-forced.js":function(e,t,r){var i=r("../node_modules/core-js/internals/fails.js"),n=/#|\.prototype\./,a=function(e,t){var r=l[o(e)];return r==u||r!=s&&("function"==typeof t?i(t):!!t)},o=a.normalize=function(e){return String(e).replace(n,".").toLowerCase()},l=a.data={},s=a.NATIVE="N",u=a.POLYFILL="P";e.exports=a},"../node_modules/core-js/internals/is-ios.js":function(e,t,r){var i=r("../node_modules/core-js/internals/user-agent.js");e.exports=/(iphone|ipod|ipad).*applewebkit/i.test(i)},"../node_modules/core-js/internals/is-object.js":function(e,t){e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},"../node_modules/core-js/internals/is-pure.js":function(e,t){e.exports=!1},"../node_modules/core-js/internals/iterate.js":function(e,t,r){var i=r("../node_modules/core-js/internals/an-object.js"),n=r("../node_modules/core-js/internals/is-array-iterator-method.js"),a=r("../node_modules/core-js/internals/to-length.js"),o=r("../node_modules/core-js/internals/bind-context.js"),l=r("../node_modules/core-js/internals/get-iterator-method.js"),s=r("../node_modules/core-js/internals/call-with-safe-iteration-closing.js"),u=function(e,t){this.stopped=e,this.result=t};(e.exports=function(e,t,r,c,f){var d,h,b,m,p,v,g,E=o(t,r,c?2:1);if(f)d=e;else{if("function"!=typeof(h=l(e)))throw TypeError("Target is not iterable");if(n(h)){for(b=0,m=a(e.length);m>b;b++)if((p=c?E(i(g=e[b])[0],g[1]):E(e[b]))&&p instanceof u)return p;return new u(!1)}d=h.call(e)}for(v=d.next;!(g=v.call(d)).done;)if("object"==typeof(p=s(d,E,g.value,c))&&p&&p instanceof u)return p;return new u(!1)}).stop=function(e){return new u(!0,e)}},"../node_modules/core-js/internals/iterators-core.js":function(e,t,r){"use strict";var i,n,a,o=r("../node_modules/core-js/internals/object-get-prototype-of.js"),l=r("../node_modules/core-js/internals/create-non-enumerable-property.js"),s=r("../node_modules/core-js/internals/has.js"),u=r("../node_modules/core-js/internals/well-known-symbol.js"),c=r("../node_modules/core-js/internals/is-pure.js"),f=u("iterator"),d=!1;[].keys&&("next"in(a=[].keys())?(n=o(o(a)))!==Object.prototype&&(i=n):d=!0),null==i&&(i={}),c||s(i,f)||l(i,f,(function(){return this})),e.exports={IteratorPrototype:i,BUGGY_SAFARI_ITERATORS:d}},"../node_modules/core-js/internals/iterators.js":function(e,t){e.exports={}},"../node_modules/core-js/internals/microtask.js":function(e,t,r){var i,n,a,o,l,s,u,c,f=r("../node_modules/core-js/internals/global.js"),d=r("../node_modules/core-js/internals/object-get-own-property-descriptor.js").f,h=r("../node_modules/core-js/internals/classof-raw.js"),b=r("../node_modules/core-js/internals/task.js").set,m=r("../node_modules/core-js/internals/is-ios.js"),p=f.MutationObserver||f.WebKitMutationObserver,v=f.process,g=f.Promise,E="process"==h(v),y=d(f,"queueMicrotask"),T=y&&y.value;T||(i=function(){var e,t;for(E&&(e=v.domain)&&e.exit();n;){t=n.fn,n=n.next;try{t()}catch(e){throw n?o():a=void 0,e}}a=void 0,e&&e.enter()},E?o=function(){v.nextTick(i)}:p&&!m?(l=!0,s=document.createTextNode(""),new p(i).observe(s,{characterData:!0}),o=function(){s.data=l=!l}):g&&g.resolve?(u=g.resolve(void 0),c=u.then,o=function(){c.call(u,i)}):o=function(){b.call(f,i)}),e.exports=T||function(e){var t={fn:e,next:void 0};a&&(a.next=t),n||(n=t,o()),a=t}},"../node_modules/core-js/internals/native-promise-constructor.js":function(e,t,r){var i=r("../node_modules/core-js/internals/global.js");e.exports=i.Promise},"../node_modules/core-js/internals/native-symbol.js":function(e,t,r){var i=r("../node_modules/core-js/internals/fails.js");e.exports=!!Object.getOwnPropertySymbols&&!i((function(){return!String(Symbol())}))},"../node_modules/core-js/internals/native-url.js":function(e,t,r){var i=r("../node_modules/core-js/internals/fails.js"),n=r("../node_modules/core-js/internals/well-known-symbol.js"),a=r("../node_modules/core-js/internals/is-pure.js"),o=n("iterator");e.exports=!i((function(){var e=new URL("b?a=1&b=2&c=3","http://a"),t=e.searchParams,r="";return e.pathname="c%20d",t.forEach((function(e,i){t.delete("b"),r+=i+e})),a&&!e.toJSON||!t.sort||"http://a/c%20d?a=1&c=3"!==e.href||"3"!==t.get("c")||"a=1"!==String(new URLSearchParams("?a=1"))||!t[o]||"a"!==new URL("https://a@b").username||"b"!==new URLSearchParams(new URLSearchParams("a=b")).get("a")||"xn--e1aybc"!==new URL("http://тест").host||"#%D0%B1"!==new URL("http://a#б").hash||"a1c3"!==r||"x"!==new URL("http://x",void 0).host}))},"../node_modules/core-js/internals/native-weak-map.js":function(e,t,r){var i=r("../node_modules/core-js/internals/global.js"),n=r("../node_modules/core-js/internals/inspect-source.js"),a=i.WeakMap;e.exports="function"==typeof a&&/native code/.test(n(a))},"../node_modules/core-js/internals/new-promise-capability.js":function(e,t,r){"use strict";var i=r("../node_modules/core-js/internals/a-function.js"),n=function(e){var t,r;this.promise=new e((function(e,i){if(void 0!==t||void 0!==r)throw TypeError("Bad Promise constructor");t=e,r=i})),this.resolve=i(t),this.reject=i(r)};e.exports.f=function(e){return new n(e)}},"../node_modules/core-js/internals/object-assign.js":function(e,t,r){"use strict";var i=r("../node_modules/core-js/internals/descriptors.js"),n=r("../node_modules/core-js/internals/fails.js"),a=r("../node_modules/core-js/internals/object-keys.js"),o=r("../node_modules/core-js/internals/object-get-own-property-symbols.js"),l=r("../node_modules/core-js/internals/object-property-is-enumerable.js"),s=r("../node_modules/core-js/internals/to-object.js"),u=r("../node_modules/core-js/internals/indexed-object.js"),c=Object.assign,f=Object.defineProperty;e.exports=!c||n((function(){if(i&&1!==c({b:1},c(f({},"a",{enumerable:!0,get:function(){f(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var e={},t={},r=Symbol();return e[r]=7,"abcdefghijklmnopqrst".split("").forEach((function(e){t[e]=e})),7!=c({},e)[r]||"abcdefghijklmnopqrst"!=a(c({},t)).join("")}))?function(e,t){for(var r=s(e),n=arguments.length,c=1,f=o.f,d=l.f;n>c;)for(var h,b=u(arguments[c++]),m=f?a(b).concat(f(b)):a(b),p=m.length,v=0;p>v;)h=m[v++],i&&!d.call(b,h)||(r[h]=b[h]);return r}:c},"../node_modules/core-js/internals/object-create.js":function(e,t,r){var i=r("../node_modules/core-js/internals/an-object.js"),n=r("../node_modules/core-js/internals/object-define-properties.js"),a=r("../node_modules/core-js/internals/enum-bug-keys.js"),o=r("../node_modules/core-js/internals/hidden-keys.js"),l=r("../node_modules/core-js/internals/html.js"),s=r("../node_modules/core-js/internals/document-create-element.js"),u=r("../node_modules/core-js/internals/shared-key.js")("IE_PROTO"),c=function(){},f=function(){var e,t=s("iframe"),r=a.length;for(t.style.display="none",l.appendChild(t),t.src=String("javascript:"),(e=t.contentWindow.document).open(),e.write("<script>document.F=Object<\/script>"),e.close(),f=e.F;r--;)delete f.prototype[a[r]];return f()};e.exports=Object.create||function(e,t){var r;return null!==e?(c.prototype=i(e),r=new c,c.prototype=null,r[u]=e):r=f(),void 0===t?r:n(r,t)},o[u]=!0},"../node_modules/core-js/internals/object-define-properties.js":function(e,t,r){var i=r("../node_modules/core-js/internals/descriptors.js"),n=r("../node_modules/core-js/internals/object-define-property.js"),a=r("../node_modules/core-js/internals/an-object.js"),o=r("../node_modules/core-js/internals/object-keys.js");e.exports=i?Object.defineProperties:function(e,t){a(e);for(var r,i=o(t),l=i.length,s=0;l>s;)n.f(e,r=i[s++],t[r]);return e}},"../node_modules/core-js/internals/object-define-property.js":function(e,t,r){var i=r("../node_modules/core-js/internals/descriptors.js"),n=r("../node_modules/core-js/internals/ie8-dom-define.js"),a=r("../node_modules/core-js/internals/an-object.js"),o=r("../node_modules/core-js/internals/to-primitive.js"),l=Object.defineProperty;t.f=i?l:function(e,t,r){if(a(e),t=o(t,!0),a(r),n)try{return l(e,t,r)}catch(e){}if("get"in r||"set"in r)throw TypeError("Accessors not supported");return"value"in r&&(e[t]=r.value),e}},"../node_modules/core-js/internals/object-get-own-property-descriptor.js":function(e,t,r){var i=r("../node_modules/core-js/internals/descriptors.js"),n=r("../node_modules/core-js/internals/object-property-is-enumerable.js"),a=r("../node_modules/core-js/internals/create-property-descriptor.js"),o=r("../node_modules/core-js/internals/to-indexed-object.js"),l=r("../node_modules/core-js/internals/to-primitive.js"),s=r("../node_modules/core-js/internals/has.js"),u=r("../node_modules/core-js/internals/ie8-dom-define.js"),c=Object.getOwnPropertyDescriptor;t.f=i?c:function(e,t){if(e=o(e),t=l(t,!0),u)try{return c(e,t)}catch(e){}if(s(e,t))return a(!n.f.call(e,t),e[t])}},"../node_modules/core-js/internals/object-get-own-property-names.js":function(e,t,r){var i=r("../node_modules/core-js/internals/object-keys-internal.js"),n=r("../node_modules/core-js/internals/enum-bug-keys.js").concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return i(e,n)}},"../node_modules/core-js/internals/object-get-own-property-symbols.js":function(e,t){t.f=Object.getOwnPropertySymbols},"../node_modules/core-js/internals/object-get-prototype-of.js":function(e,t,r){var i=r("../node_modules/core-js/internals/has.js"),n=r("../node_modules/core-js/internals/to-object.js"),a=r("../node_modules/core-js/internals/shared-key.js"),o=r("../node_modules/core-js/internals/correct-prototype-getter.js"),l=a("IE_PROTO"),s=Object.prototype;e.exports=o?Object.getPrototypeOf:function(e){return e=n(e),i(e,l)?e[l]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?s:null}},"../node_modules/core-js/internals/object-keys-internal.js":function(e,t,r){var i=r("../node_modules/core-js/internals/has.js"),n=r("../node_modules/core-js/internals/to-indexed-object.js"),a=r("../node_modules/core-js/internals/array-includes.js").indexOf,o=r("../node_modules/core-js/internals/hidden-keys.js");e.exports=function(e,t){var r,l=n(e),s=0,u=[];for(r in l)!i(o,r)&&i(l,r)&&u.push(r);for(;t.length>s;)i(l,r=t[s++])&&(~a(u,r)||u.push(r));return u}},"../node_modules/core-js/internals/object-keys.js":function(e,t,r){var i=r("../node_modules/core-js/internals/object-keys-internal.js"),n=r("../node_modules/core-js/internals/enum-bug-keys.js");e.exports=Object.keys||function(e){return i(e,n)}},"../node_modules/core-js/internals/object-property-is-enumerable.js":function(e,t,r){"use strict";var i={}.propertyIsEnumerable,n=Object.getOwnPropertyDescriptor,a=n&&!i.call({1:2},1);t.f=a?function(e){var t=n(this,e);return!!t&&t.enumerable}:i},"../node_modules/core-js/internals/object-set-prototype-of.js":function(e,t,r){var i=r("../node_modules/core-js/internals/an-object.js"),n=r("../node_modules/core-js/internals/a-possible-prototype.js");e.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var e,t=!1,r={};try{(e=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set).call(r,[]),t=r instanceof Array}catch(e){}return function(r,a){return i(r),n(a),t?e.call(r,a):r.__proto__=a,r}}():void 0)},"../node_modules/core-js/internals/own-keys.js":function(e,t,r){var i=r("../node_modules/core-js/internals/get-built-in.js"),n=r("../node_modules/core-js/internals/object-get-own-property-names.js"),a=r("../node_modules/core-js/internals/object-get-own-property-symbols.js"),o=r("../node_modules/core-js/internals/an-object.js");e.exports=i("Reflect","ownKeys")||function(e){var t=n.f(o(e)),r=a.f;return r?t.concat(r(e)):t}},"../node_modules/core-js/internals/parse-float.js":function(e,t,r){var i=r("../node_modules/core-js/internals/global.js"),n=r("../node_modules/core-js/internals/string-trim.js").trim,a=r("../node_modules/core-js/internals/whitespaces.js"),o=i.parseFloat,l=1/o(a+"-0")!=-1/0;e.exports=l?function(e){var t=n(String(e)),r=o(t);return 0===r&&"-"==t.charAt(0)?-0:r}:o},"../node_modules/core-js/internals/path.js":function(e,t,r){var i=r("../node_modules/core-js/internals/global.js");e.exports=i},"../node_modules/core-js/internals/perform.js":function(e,t){e.exports=function(e){try{return{error:!1,value:e()}}catch(e){return{error:!0,value:e}}}},"../node_modules/core-js/internals/promise-resolve.js":function(e,t,r){var i=r("../node_modules/core-js/internals/an-object.js"),n=r("../node_modules/core-js/internals/is-object.js"),a=r("../node_modules/core-js/internals/new-promise-capability.js");e.exports=function(e,t){if(i(e),n(t)&&t.constructor===e)return t;var r=a.f(e);return(0,r.resolve)(t),r.promise}},"../node_modules/core-js/internals/punycode-to-ascii.js":function(e,t,r){"use strict";var i=/[^\0-\u007E]/,n=/[.\u3002\uFF0E\uFF61]/g,a="Overflow: input needs wider integers to process",o=Math.floor,l=String.fromCharCode,s=function(e){return e+22+75*(e<26)},u=function(e,t,r){var i=0;for(e=r?o(e/700):e>>1,e+=o(e/t);e>455;i+=36)e=o(e/35);return o(i+36*e/(e+38))},c=function(e){var t,r,i=[],n=(e=function(e){for(var t=[],r=0,i=e.length;r<i;){var n=e.charCodeAt(r++);if(n>=55296&&n<=56319&&r<i){var a=e.charCodeAt(r++);56320==(64512&a)?t.push(((1023&n)<<10)+(1023&a)+65536):(t.push(n),r--)}else t.push(n)}return t}(e)).length,c=128,f=0,d=72;for(t=0;t<e.length;t++)(r=e[t])<128&&i.push(l(r));var h=i.length,b=h;for(h&&i.push("-");b<n;){var m=2147483647;for(t=0;t<e.length;t++)(r=e[t])>=c&&r<m&&(m=r);var p=b+1;if(m-c>o((2147483647-f)/p))throw RangeError(a);for(f+=(m-c)*p,c=m,t=0;t<e.length;t++){if((r=e[t])<c&&++f>2147483647)throw RangeError(a);if(r==c){for(var v=f,g=36;;g+=36){var E=g<=d?1:g>=d+26?26:g-d;if(v<E)break;var y=v-E,T=36-E;i.push(l(s(E+y%T))),v=o(y/T)}i.push(l(s(v))),d=u(f,p,b==h),f=0,++b}}++f,++c}return i.join("")};e.exports=function(e){var t,r,a=[],o=e.toLowerCase().replace(n,".").split(".");for(t=0;t<o.length;t++)r=o[t],a.push(i.test(r)?"xn--"+c(r):r);return a.join(".")}},"../node_modules/core-js/internals/redefine-all.js":function(e,t,r){var i=r("../node_modules/core-js/internals/redefine.js");e.exports=function(e,t,r){for(var n in t)i(e,n,t[n],r);return e}},"../node_modules/core-js/internals/redefine.js":function(e,t,r){var i=r("../node_modules/core-js/internals/global.js"),n=r("../node_modules/core-js/internals/create-non-enumerable-property.js"),a=r("../node_modules/core-js/internals/has.js"),o=r("../node_modules/core-js/internals/set-global.js"),l=r("../node_modules/core-js/internals/inspect-source.js"),s=r("../node_modules/core-js/internals/internal-state.js"),u=s.get,c=s.enforce,f=String(String).split("String");(e.exports=function(e,t,r,l){var s=!!l&&!!l.unsafe,u=!!l&&!!l.enumerable,d=!!l&&!!l.noTargetGet;"function"==typeof r&&("string"!=typeof t||a(r,"name")||n(r,"name",t),c(r).source=f.join("string"==typeof t?t:"")),e!==i?(s?!d&&e[t]&&(u=!0):delete e[t],u?e[t]=r:n(e,t,r)):u?e[t]=r:o(t,r)})(Function.prototype,"toString",(function(){return"function"==typeof this&&u(this).source||l(this)}))},"../node_modules/core-js/internals/regexp-exec-abstract.js":function(e,t,r){var i=r("../node_modules/core-js/internals/classof-raw.js"),n=r("../node_modules/core-js/internals/regexp-exec.js");e.exports=function(e,t){var r=e.exec;if("function"==typeof r){var a=r.call(e,t);if("object"!=typeof a)throw TypeError("RegExp exec method returned something other than an Object or null");return a}if("RegExp"!==i(e))throw TypeError("RegExp#exec called on incompatible receiver");return n.call(e,t)}},"../node_modules/core-js/internals/regexp-exec.js":function(e,t,r){"use strict";var i,n,a=r("../node_modules/core-js/internals/regexp-flags.js"),o=RegExp.prototype.exec,l=String.prototype.replace,s=o,u=(i=/a/,n=/b*/g,o.call(i,"a"),o.call(n,"a"),0!==i.lastIndex||0!==n.lastIndex),c=void 0!==/()??/.exec("")[1];(u||c)&&(s=function(e){var t,r,i,n,s=this;return c&&(r=new RegExp("^"+s.source+"$(?!\\s)",a.call(s))),u&&(t=s.lastIndex),i=o.call(s,e),u&&i&&(s.lastIndex=s.global?i.index+i[0].length:t),c&&i&&i.length>1&&l.call(i[0],r,(function(){for(n=1;n<arguments.length-2;n++)void 0===arguments[n]&&(i[n]=void 0)})),i}),e.exports=s},"../node_modules/core-js/internals/regexp-flags.js":function(e,t,r){"use strict";var i=r("../node_modules/core-js/internals/an-object.js");e.exports=function(){var e=i(this),t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.dotAll&&(t+="s"),e.unicode&&(t+="u"),e.sticky&&(t+="y"),t}},"../node_modules/core-js/internals/require-object-coercible.js":function(e,t){e.exports=function(e){if(null==e)throw TypeError("Can't call method on "+e);return e}},"../node_modules/core-js/internals/set-global.js":function(e,t,r){var i=r("../node_modules/core-js/internals/global.js"),n=r("../node_modules/core-js/internals/create-non-enumerable-property.js");e.exports=function(e,t){try{n(i,e,t)}catch(r){i[e]=t}return t}},"../node_modules/core-js/internals/set-species.js":function(e,t,r){"use strict";var i=r("../node_modules/core-js/internals/get-built-in.js"),n=r("../node_modules/core-js/internals/object-define-property.js"),a=r("../node_modules/core-js/internals/well-known-symbol.js"),o=r("../node_modules/core-js/internals/descriptors.js"),l=a("species");e.exports=function(e){var t=i(e),r=n.f;o&&t&&!t[l]&&r(t,l,{configurable:!0,get:function(){return this}})}},"../node_modules/core-js/internals/set-to-string-tag.js":function(e,t,r){var i=r("../node_modules/core-js/internals/object-define-property.js").f,n=r("../node_modules/core-js/internals/has.js"),a=r("../node_modules/core-js/internals/well-known-symbol.js")("toStringTag");e.exports=function(e,t,r){e&&!n(e=r?e:e.prototype,a)&&i(e,a,{configurable:!0,value:t})}},"../node_modules/core-js/internals/shared-key.js":function(e,t,r){var i=r("../node_modules/core-js/internals/shared.js"),n=r("../node_modules/core-js/internals/uid.js"),a=i("keys");e.exports=function(e){return a[e]||(a[e]=n(e))}},"../node_modules/core-js/internals/shared-store.js":function(e,t,r){var i=r("../node_modules/core-js/internals/global.js"),n=r("../node_modules/core-js/internals/set-global.js"),a=i["__core-js_shared__"]||n("__core-js_shared__",{});e.exports=a},"../node_modules/core-js/internals/shared.js":function(e,t,r){var i=r("../node_modules/core-js/internals/is-pure.js"),n=r("../node_modules/core-js/internals/shared-store.js");(e.exports=function(e,t){return n[e]||(n[e]=void 0!==t?t:{})})("versions",[]).push({version:"3.4.7",mode:i?"pure":"global",copyright:"© 2019 Denis Pushkarev (zloirock.ru)"})},"../node_modules/core-js/internals/sloppy-array-method.js":function(e,t,r){"use strict";var i=r("../node_modules/core-js/internals/fails.js");e.exports=function(e,t){var r=[][e];return!r||!i((function(){r.call(null,t||function(){throw 1},1)}))}},"../node_modules/core-js/internals/species-constructor.js":function(e,t,r){var i=r("../node_modules/core-js/internals/an-object.js"),n=r("../node_modules/core-js/internals/a-function.js"),a=r("../node_modules/core-js/internals/well-known-symbol.js")("species");e.exports=function(e,t){var r,o=i(e).constructor;return void 0===o||null==(r=i(o)[a])?t:n(r)}},"../node_modules/core-js/internals/string-multibyte.js":function(e,t,r){var i=r("../node_modules/core-js/internals/to-integer.js"),n=r("../node_modules/core-js/internals/require-object-coercible.js"),a=function(e){return function(t,r){var a,o,l=String(n(t)),s=i(r),u=l.length;return s<0||s>=u?e?"":void 0:(a=l.charCodeAt(s))<55296||a>56319||s+1===u||(o=l.charCodeAt(s+1))<56320||o>57343?e?l.charAt(s):a:e?l.slice(s,s+2):o-56320+(a-55296<<10)+65536}};e.exports={codeAt:a(!1),charAt:a(!0)}},"../node_modules/core-js/internals/string-pad.js":function(e,t,r){var i=r("../node_modules/core-js/internals/to-length.js"),n=r("../node_modules/core-js/internals/string-repeat.js"),a=r("../node_modules/core-js/internals/require-object-coercible.js"),o=Math.ceil,l=function(e){return function(t,r,l){var s,u,c=String(a(t)),f=c.length,d=void 0===l?" ":String(l),h=i(r);return h<=f||""==d?c:(s=h-f,(u=n.call(d,o(s/d.length))).length>s&&(u=u.slice(0,s)),e?c+u:u+c)}};e.exports={start:l(!1),end:l(!0)}},"../node_modules/core-js/internals/string-repeat.js":function(e,t,r){"use strict";var i=r("../node_modules/core-js/internals/to-integer.js"),n=r("../node_modules/core-js/internals/require-object-coercible.js");e.exports="".repeat||function(e){var t=String(n(this)),r="",a=i(e);if(a<0||a==1/0)throw RangeError("Wrong number of repetitions");for(;a>0;(a>>>=1)&&(t+=t))1&a&&(r+=t);return r}},"../node_modules/core-js/internals/string-trim.js":function(e,t,r){var i=r("../node_modules/core-js/internals/require-object-coercible.js"),n="["+r("../node_modules/core-js/internals/whitespaces.js")+"]",a=RegExp("^"+n+n+"*"),o=RegExp(n+n+"*$"),l=function(e){return function(t){var r=String(i(t));return 1&e&&(r=r.replace(a,"")),2&e&&(r=r.replace(o,"")),r}};e.exports={start:l(1),end:l(2),trim:l(3)}},"../node_modules/core-js/internals/task.js":function(e,t,r){var i,n,a,o=r("../node_modules/core-js/internals/global.js"),l=r("../node_modules/core-js/internals/fails.js"),s=r("../node_modules/core-js/internals/classof-raw.js"),u=r("../node_modules/core-js/internals/bind-context.js"),c=r("../node_modules/core-js/internals/html.js"),f=r("../node_modules/core-js/internals/document-create-element.js"),d=r("../node_modules/core-js/internals/is-ios.js"),h=o.location,b=o.setImmediate,m=o.clearImmediate,p=o.process,v=o.MessageChannel,g=o.Dispatch,E=0,y={},T=function(e){if(y.hasOwnProperty(e)){var t=y[e];delete y[e],t()}},w=function(e){return function(){T(e)}},_=function(e){T(e.data)},S=function(e){o.postMessage(e+"",h.protocol+"//"+h.host)};b&&m||(b=function(e){for(var t=[],r=1;arguments.length>r;)t.push(arguments[r++]);return y[++E]=function(){("function"==typeof e?e:Function(e)).apply(void 0,t)},i(E),E},m=function(e){delete y[e]},"process"==s(p)?i=function(e){p.nextTick(w(e))}:g&&g.now?i=function(e){g.now(w(e))}:v&&!d?(a=(n=new v).port2,n.port1.onmessage=_,i=u(a.postMessage,a,1)):!o.addEventListener||"function"!=typeof postMessage||o.importScripts||l(S)?i="onreadystatechange"in f("script")?function(e){c.appendChild(f("script")).onreadystatechange=function(){c.removeChild(this),T(e)}}:function(e){setTimeout(w(e),0)}:(i=S,o.addEventListener("message",_,!1))),e.exports={set:b,clear:m}},"../node_modules/core-js/internals/to-absolute-index.js":function(e,t,r){var i=r("../node_modules/core-js/internals/to-integer.js"),n=Math.max,a=Math.min;e.exports=function(e,t){var r=i(e);return r<0?n(r+t,0):a(r,t)}},"../node_modules/core-js/internals/to-index.js":function(e,t,r){var i=r("../node_modules/core-js/internals/to-integer.js"),n=r("../node_modules/core-js/internals/to-length.js");e.exports=function(e){if(void 0===e)return 0;var t=i(e),r=n(t);if(t!==r)throw RangeError("Wrong length or index");return r}},"../node_modules/core-js/internals/to-indexed-object.js":function(e,t,r){var i=r("../node_modules/core-js/internals/indexed-object.js"),n=r("../node_modules/core-js/internals/require-object-coercible.js");e.exports=function(e){return i(n(e))}},"../node_modules/core-js/internals/to-integer.js":function(e,t){var r=Math.ceil,i=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?i:r)(e)}},"../node_modules/core-js/internals/to-length.js":function(e,t,r){var i=r("../node_modules/core-js/internals/to-integer.js"),n=Math.min;e.exports=function(e){return e>0?n(i(e),9007199254740991):0}},"../node_modules/core-js/internals/to-object.js":function(e,t,r){var i=r("../node_modules/core-js/internals/require-object-coercible.js");e.exports=function(e){return Object(i(e))}},"../node_modules/core-js/internals/to-offset.js":function(e,t,r){var i=r("../node_modules/core-js/internals/to-positive-integer.js");e.exports=function(e,t){var r=i(e);if(r%t)throw RangeError("Wrong offset");return r}},"../node_modules/core-js/internals/to-positive-integer.js":function(e,t,r){var i=r("../node_modules/core-js/internals/to-integer.js");e.exports=function(e){var t=i(e);if(t<0)throw RangeError("The argument can't be less than 0");return t}},"../node_modules/core-js/internals/to-primitive.js":function(e,t,r){var i=r("../node_modules/core-js/internals/is-object.js");e.exports=function(e,t){if(!i(e))return e;var r,n;if(t&&"function"==typeof(r=e.toString)&&!i(n=r.call(e)))return n;if("function"==typeof(r=e.valueOf)&&!i(n=r.call(e)))return n;if(!t&&"function"==typeof(r=e.toString)&&!i(n=r.call(e)))return n;throw TypeError("Can't convert object to primitive value")}},"../node_modules/core-js/internals/to-string-tag-support.js":function(e,t,r){var i={};i[r("../node_modules/core-js/internals/well-known-symbol.js")("toStringTag")]="z",e.exports="[object z]"===String(i)},"../node_modules/core-js/internals/typed-array-constructor.js":function(e,t,r){"use strict";var i=r("../node_modules/core-js/internals/export.js"),n=r("../node_modules/core-js/internals/global.js"),a=r("../node_modules/core-js/internals/descriptors.js"),o=r("../node_modules/core-js/internals/typed-arrays-constructors-requires-wrappers.js"),l=r("../node_modules/core-js/internals/array-buffer-view-core.js"),s=r("../node_modules/core-js/internals/array-buffer.js"),u=r("../node_modules/core-js/internals/an-instance.js"),c=r("../node_modules/core-js/internals/create-property-descriptor.js"),f=r("../node_modules/core-js/internals/create-non-enumerable-property.js"),d=r("../node_modules/core-js/internals/to-length.js"),h=r("../node_modules/core-js/internals/to-index.js"),b=r("../node_modules/core-js/internals/to-offset.js"),m=r("../node_modules/core-js/internals/to-primitive.js"),p=r("../node_modules/core-js/internals/has.js"),v=r("../node_modules/core-js/internals/classof.js"),g=r("../node_modules/core-js/internals/is-object.js"),E=r("../node_modules/core-js/internals/object-create.js"),y=r("../node_modules/core-js/internals/object-set-prototype-of.js"),T=r("../node_modules/core-js/internals/object-get-own-property-names.js").f,w=r("../node_modules/core-js/internals/typed-array-from.js"),_=r("../node_modules/core-js/internals/array-iteration.js").forEach,S=r("../node_modules/core-js/internals/set-species.js"),R=r("../node_modules/core-js/internals/object-define-property.js"),j=r("../node_modules/core-js/internals/object-get-own-property-descriptor.js"),O=r("../node_modules/core-js/internals/internal-state.js"),A=r("../node_modules/core-js/internals/inherit-if-required.js"),z=O.get,P=O.set,C=R.f,D=j.f,I=Math.round,x=n.RangeError,L=s.ArrayBuffer,M=s.DataView,F=l.NATIVE_ARRAY_BUFFER_VIEWS,G=l.TYPED_ARRAY_TAG,k=l.TypedArray,N=l.TypedArrayPrototype,B=l.aTypedArrayConstructor,U=l.isTypedArray,V=function(e,t){for(var r=0,i=t.length,n=new(B(e))(i);i>r;)n[r]=t[r++];return n},H=function(e,t){C(e,t,{get:function(){return z(this)[t]}})},q=function(e){var t;return e instanceof L||"ArrayBuffer"==(t=v(e))||"SharedArrayBuffer"==t},W=function(e,t){return U(e)&&"symbol"!=typeof t&&t in e&&String(+t)==String(t)},Y=function(e,t){return W(e,t=m(t,!0))?c(2,e[t]):D(e,t)},X=function(e,t,r){return!(W(e,t=m(t,!0))&&g(r)&&p(r,"value"))||p(r,"get")||p(r,"set")||r.configurable||p(r,"writable")&&!r.writable||p(r,"enumerable")&&!r.enumerable?C(e,t,r):(e[t]=r.value,e)};a?(F||(j.f=Y,R.f=X,H(N,"buffer"),H(N,"byteOffset"),H(N,"byteLength"),H(N,"length")),i({target:"Object",stat:!0,forced:!F},{getOwnPropertyDescriptor:Y,defineProperty:X}),e.exports=function(e,t,r){var a=e.match(/\d+$/)[0]/8,l=e+(r?"Clamped":"")+"Array",s="get"+e,c="set"+e,m=n[l],p=m,v=p&&p.prototype,R={},j=function(e,t){C(e,t,{get:function(){return function(e,t){var r=z(e);return r.view[s](t*a+r.byteOffset,!0)}(this,t)},set:function(e){return function(e,t,i){var n=z(e);r&&(i=(i=I(i))<0?0:i>255?255:255&i),n.view[c](t*a+n.byteOffset,i,!0)}(this,t,e)},enumerable:!0})};F?o&&(p=t((function(e,t,r,i){return u(e,p,l),A(g(t)?q(t)?void 0!==i?new m(t,b(r,a),i):void 0!==r?new m(t,b(r,a)):new m(t):U(t)?V(p,t):w.call(p,t):new m(h(t)),e,p)})),y&&y(p,k),_(T(m),(function(e){e in p||f(p,e,m[e])})),p.prototype=v):(p=t((function(e,t,r,i){u(e,p,l);var n,o,s,c=0,f=0;if(g(t)){if(!q(t))return U(t)?V(p,t):w.call(p,t);n=t,f=b(r,a);var m=t.byteLength;if(void 0===i){if(m%a)throw x("Wrong length");if((o=m-f)<0)throw x("Wrong length")}else if((o=d(i)*a)+f>m)throw x("Wrong length");s=o/a}else s=h(t),n=new L(o=s*a);for(P(e,{buffer:n,byteOffset:f,byteLength:o,length:s,view:new M(n)});c<s;)j(e,c++)})),y&&y(p,k),v=p.prototype=E(N)),v.constructor!==p&&f(v,"constructor",p),G&&f(v,G,l),R[l]=p,i({global:!0,forced:p!=m,sham:!F},R),"BYTES_PER_ELEMENT"in p||f(p,"BYTES_PER_ELEMENT",a),"BYTES_PER_ELEMENT"in v||f(v,"BYTES_PER_ELEMENT",a),S(l)}):e.exports=function(){}},"../node_modules/core-js/internals/typed-array-from.js":function(e,t,r){var i=r("../node_modules/core-js/internals/to-object.js"),n=r("../node_modules/core-js/internals/to-length.js"),a=r("../node_modules/core-js/internals/get-iterator-method.js"),o=r("../node_modules/core-js/internals/is-array-iterator-method.js"),l=r("../node_modules/core-js/internals/bind-context.js"),s=r("../node_modules/core-js/internals/array-buffer-view-core.js").aTypedArrayConstructor;e.exports=function(e){var t,r,u,c,f,d,h=i(e),b=arguments.length,m=b>1?arguments[1]:void 0,p=void 0!==m,v=a(h);if(null!=v&&!o(v))for(d=(f=v.call(h)).next,h=[];!(c=d.call(f)).done;)h.push(c.value);for(p&&b>2&&(m=l(m,arguments[2],2)),r=n(h.length),u=new(s(this))(r),t=0;r>t;t++)u[t]=p?m(h[t],t):h[t];return u}},"../node_modules/core-js/internals/typed-arrays-constructors-requires-wrappers.js":function(e,t,r){var i=r("../node_modules/core-js/internals/global.js"),n=r("../node_modules/core-js/internals/fails.js"),a=r("../node_modules/core-js/internals/check-correctness-of-iteration.js"),o=r("../node_modules/core-js/internals/array-buffer-view-core.js").NATIVE_ARRAY_BUFFER_VIEWS,l=i.ArrayBuffer,s=i.Int8Array;e.exports=!o||!n((function(){s(1)}))||!n((function(){new s(-1)}))||!a((function(e){new s,new s(null),new s(1.5),new s(e)}),!0)||n((function(){return 1!==new s(new l(2),1,void 0).length}))},"../node_modules/core-js/internals/uid.js":function(e,t){var r=0,i=Math.random();e.exports=function(e){return"Symbol("+String(void 0===e?"":e)+")_"+(++r+i).toString(36)}},"../node_modules/core-js/internals/use-symbol-as-uid.js":function(e,t,r){var i=r("../node_modules/core-js/internals/native-symbol.js");e.exports=i&&!Symbol.sham&&"symbol"==typeof Symbol()},"../node_modules/core-js/internals/user-agent.js":function(e,t,r){var i=r("../node_modules/core-js/internals/get-built-in.js");e.exports=i("navigator","userAgent")||""},"../node_modules/core-js/internals/v8-version.js":function(e,t,r){var i,n,a=r("../node_modules/core-js/internals/global.js"),o=r("../node_modules/core-js/internals/user-agent.js"),l=a.process,s=l&&l.versions,u=s&&s.v8;u?n=(i=u.split("."))[0]+i[1]:o&&(!(i=o.match(/Edge\/(\d+)/))||i[1]>=74)&&(i=o.match(/Chrome\/(\d+)/))&&(n=i[1]),e.exports=n&&+n},"../node_modules/core-js/internals/webkit-string-pad-bug.js":function(e,t,r){var i=r("../node_modules/core-js/internals/user-agent.js");e.exports=/Version\/10\.\d+(\.\d+)?( Mobile\/\w+)? Safari\//.test(i)},"../node_modules/core-js/internals/well-known-symbol.js":function(e,t,r){var i=r("../node_modules/core-js/internals/global.js"),n=r("../node_modules/core-js/internals/shared.js"),a=r("../node_modules/core-js/internals/has.js"),o=r("../node_modules/core-js/internals/uid.js"),l=r("../node_modules/core-js/internals/native-symbol.js"),s=r("../node_modules/core-js/internals/use-symbol-as-uid.js"),u=n("wks"),c=i.Symbol,f=s?c:o;e.exports=function(e){return a(u,e)||(l&&a(c,e)?u[e]=c[e]:u[e]=f("Symbol."+e)),u[e]}},"../node_modules/core-js/internals/whitespaces.js":function(e,t){e.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},"../node_modules/core-js/internals/wrapped-well-known-symbol.js":function(e,t,r){var i=r("../node_modules/core-js/internals/well-known-symbol.js");t.f=i},"../node_modules/core-js/modules/es.array-buffer.constructor.js":function(e,t,r){"use strict";var i=r("../node_modules/core-js/internals/export.js"),n=r("../node_modules/core-js/internals/global.js"),a=r("../node_modules/core-js/internals/array-buffer.js"),o=r("../node_modules/core-js/internals/set-species.js"),l=a.ArrayBuffer;i({global:!0,forced:n.ArrayBuffer!==l},{ArrayBuffer:l}),o("ArrayBuffer")},"../node_modules/core-js/modules/es.array-buffer.slice.js":function(e,t,r){"use strict";var i=r("../node_modules/core-js/internals/export.js"),n=r("../node_modules/core-js/internals/fails.js"),a=r("../node_modules/core-js/internals/array-buffer.js"),o=r("../node_modules/core-js/internals/an-object.js"),l=r("../node_modules/core-js/internals/to-absolute-index.js"),s=r("../node_modules/core-js/internals/to-length.js"),u=r("../node_modules/core-js/internals/species-constructor.js"),c=a.ArrayBuffer,f=a.DataView,d=c.prototype.slice;i({target:"ArrayBuffer",proto:!0,unsafe:!0,forced:n((function(){return!new c(2).slice(1,void 0).byteLength}))},{slice:function(e,t){if(void 0!==d&&void 0===t)return d.call(o(this),e);for(var r=o(this).byteLength,i=l(e,r),n=l(void 0===t?r:t,r),a=new(u(this,c))(s(n-i)),h=new f(this),b=new f(a),m=0;i<n;)b.setUint8(m++,h.getUint8(i++));return a}})},"../node_modules/core-js/modules/es.array.flat-map.js":function(e,t,r){"use strict";var i=r("../node_modules/core-js/internals/export.js"),n=r("../node_modules/core-js/internals/flatten-into-array.js"),a=r("../node_modules/core-js/internals/to-object.js"),o=r("../node_modules/core-js/internals/to-length.js"),l=r("../node_modules/core-js/internals/a-function.js"),s=r("../node_modules/core-js/internals/array-species-create.js");i({target:"Array",proto:!0},{flatMap:function(e){var t,r=a(this),i=o(r.length);return l(e),(t=s(r,0)).length=n(t,r,r,i,0,1,e,arguments.length>1?arguments[1]:void 0),t}})},"../node_modules/core-js/modules/es.array.flat.js":function(e,t,r){"use strict";var i=r("../node_modules/core-js/internals/export.js"),n=r("../node_modules/core-js/internals/flatten-into-array.js"),a=r("../node_modules/core-js/internals/to-object.js"),o=r("../node_modules/core-js/internals/to-length.js"),l=r("../node_modules/core-js/internals/to-integer.js"),s=r("../node_modules/core-js/internals/array-species-create.js");i({target:"Array",proto:!0},{flat:function(){var e=arguments.length?arguments[0]:void 0,t=a(this),r=o(t.length),i=s(t,0);return i.length=n(i,t,t,r,0,void 0===e?1:l(e)),i}})},"../node_modules/core-js/modules/es.array.iterator.js":function(e,t,r){"use strict";var i=r("../node_modules/core-js/internals/to-indexed-object.js"),n=r("../node_modules/core-js/internals/add-to-unscopables.js"),a=r("../node_modules/core-js/internals/iterators.js"),o=r("../node_modules/core-js/internals/internal-state.js"),l=r("../node_modules/core-js/internals/define-iterator.js"),s=o.set,u=o.getterFor("Array Iterator");e.exports=l(Array,"Array",(function(e,t){s(this,{type:"Array Iterator",target:i(e),index:0,kind:t})}),(function(){var e=u(this),t=e.target,r=e.kind,i=e.index++;return!t||i>=t.length?(e.target=void 0,{value:void 0,done:!0}):"keys"==r?{value:i,done:!1}:"values"==r?{value:t[i],done:!1}:{value:[i,t[i]],done:!1}}),"values"),a.Arguments=a.Array,n("keys"),n("values"),n("entries")},"../node_modules/core-js/modules/es.array.reverse.js":function(e,t,r){"use strict";var i=r("../node_modules/core-js/internals/export.js"),n=r("../node_modules/core-js/internals/is-array.js"),a=[].reverse,o=[1,2];i({target:"Array",proto:!0,forced:String(o)===String(o.reverse())},{reverse:function(){return n(this)&&(this.length=this.length),a.call(this)}})},"../node_modules/core-js/modules/es.array.sort.js":function(e,t,r){"use strict";var i=r("../node_modules/core-js/internals/export.js"),n=r("../node_modules/core-js/internals/a-function.js"),a=r("../node_modules/core-js/internals/to-object.js"),o=r("../node_modules/core-js/internals/fails.js"),l=r("../node_modules/core-js/internals/sloppy-array-method.js"),s=[],u=s.sort,c=o((function(){s.sort(void 0)})),f=o((function(){s.sort(null)})),d=l("sort");i({target:"Array",proto:!0,forced:c||!f||d},{sort:function(e){return void 0===e?u.call(a(this)):u.call(a(this),n(e))}})},"../node_modules/core-js/modules/es.array.unscopables.flat-map.js":function(e,t,r){r("../node_modules/core-js/internals/add-to-unscopables.js")("flatMap")},"../node_modules/core-js/modules/es.array.unscopables.flat.js":function(e,t,r){r("../node_modules/core-js/internals/add-to-unscopables.js")("flat")},"../node_modules/core-js/modules/es.math.hypot.js":function(e,t,r){var i=r("../node_modules/core-js/internals/export.js"),n=Math.hypot,a=Math.abs,o=Math.sqrt;i({target:"Math",stat:!0,forced:!!n&&n(1/0,NaN)!==1/0},{hypot:function(e,t){for(var r,i,n=0,l=0,s=arguments.length,u=0;l<s;)u<(r=a(arguments[l++]))?(n=n*(i=u/r)*i+1,u=r):n+=r>0?(i=r/u)*i:r;return u===1/0?1/0:u*o(n)}})},"../node_modules/core-js/modules/es.number.parse-float.js":function(e,t,r){var i=r("../node_modules/core-js/internals/export.js"),n=r("../node_modules/core-js/internals/parse-float.js");i({target:"Number",stat:!0,forced:Number.parseFloat!=n},{parseFloat:n})},"../node_modules/core-js/modules/es.object.define-getter.js":function(e,t,r){"use strict";var i=r("../node_modules/core-js/internals/export.js"),n=r("../node_modules/core-js/internals/descriptors.js"),a=r("../node_modules/core-js/internals/forced-object-prototype-accessors-methods.js"),o=r("../node_modules/core-js/internals/to-object.js"),l=r("../node_modules/core-js/internals/a-function.js"),s=r("../node_modules/core-js/internals/object-define-property.js");n&&i({target:"Object",proto:!0,forced:a},{__defineGetter__:function(e,t){s.f(o(this),e,{get:l(t),enumerable:!0,configurable:!0})}})},"../node_modules/core-js/modules/es.object.define-setter.js":function(e,t,r){"use strict";var i=r("../node_modules/core-js/internals/export.js"),n=r("../node_modules/core-js/internals/descriptors.js"),a=r("../node_modules/core-js/internals/forced-object-prototype-accessors-methods.js"),o=r("../node_modules/core-js/internals/to-object.js"),l=r("../node_modules/core-js/internals/a-function.js"),s=r("../node_modules/core-js/internals/object-define-property.js");n&&i({target:"Object",proto:!0,forced:a},{__defineSetter__:function(e,t){s.f(o(this),e,{set:l(t),enumerable:!0,configurable:!0})}})},"../node_modules/core-js/modules/es.object.from-entries.js":function(e,t,r){var i=r("../node_modules/core-js/internals/export.js"),n=r("../node_modules/core-js/internals/iterate.js"),a=r("../node_modules/core-js/internals/create-property.js");i({target:"Object",stat:!0},{fromEntries:function(e){var t={};return n(e,(function(e,r){a(t,e,r)}),void 0,!0),t}})},"../node_modules/core-js/modules/es.object.lookup-getter.js":function(e,t,r){"use strict";var i=r("../node_modules/core-js/internals/export.js"),n=r("../node_modules/core-js/internals/descriptors.js"),a=r("../node_modules/core-js/internals/forced-object-prototype-accessors-methods.js"),o=r("../node_modules/core-js/internals/to-object.js"),l=r("../node_modules/core-js/internals/to-primitive.js"),s=r("../node_modules/core-js/internals/object-get-prototype-of.js"),u=r("../node_modules/core-js/internals/object-get-own-property-descriptor.js").f;n&&i({target:"Object",proto:!0,forced:a},{__lookupGetter__:function(e){var t,r=o(this),i=l(e,!0);do{if(t=u(r,i))return t.get}while(r=s(r))}})},"../node_modules/core-js/modules/es.object.lookup-setter.js":function(e,t,r){"use strict";var i=r("../node_modules/core-js/internals/export.js"),n=r("../node_modules/core-js/internals/descriptors.js"),a=r("../node_modules/core-js/internals/forced-object-prototype-accessors-methods.js"),o=r("../node_modules/core-js/internals/to-object.js"),l=r("../node_modules/core-js/internals/to-primitive.js"),s=r("../node_modules/core-js/internals/object-get-prototype-of.js"),u=r("../node_modules/core-js/internals/object-get-own-property-descriptor.js").f;n&&i({target:"Object",proto:!0,forced:a},{__lookupSetter__:function(e){var t,r=o(this),i=l(e,!0);do{if(t=u(r,i))return t.set}while(r=s(r))}})},"../node_modules/core-js/modules/es.promise.finally.js":function(e,t,r){"use strict";var i=r("../node_modules/core-js/internals/export.js"),n=r("../node_modules/core-js/internals/is-pure.js"),a=r("../node_modules/core-js/internals/native-promise-constructor.js"),o=r("../node_modules/core-js/internals/fails.js"),l=r("../node_modules/core-js/internals/get-built-in.js"),s=r("../node_modules/core-js/internals/species-constructor.js"),u=r("../node_modules/core-js/internals/promise-resolve.js"),c=r("../node_modules/core-js/internals/redefine.js");i({target:"Promise",proto:!0,real:!0,forced:!!a&&o((function(){a.prototype.finally.call({then:function(){}},(function(){}))}))},{finally:function(e){var t=s(this,l("Promise")),r="function"==typeof e;return this.then(r?function(r){return u(t,e()).then((function(){return r}))}:e,r?function(r){return u(t,e()).then((function(){throw r}))}:e)}}),n||"function"!=typeof a||a.prototype.finally||c(a.prototype,"finally",l("Promise").prototype.finally)},"../node_modules/core-js/modules/es.promise.js":function(e,t,r){"use strict";var i,n,a,o,l=r("../node_modules/core-js/internals/export.js"),s=r("../node_modules/core-js/internals/is-pure.js"),u=r("../node_modules/core-js/internals/global.js"),c=r("../node_modules/core-js/internals/get-built-in.js"),f=r("../node_modules/core-js/internals/native-promise-constructor.js"),d=r("../node_modules/core-js/internals/redefine.js"),h=r("../node_modules/core-js/internals/redefine-all.js"),b=r("../node_modules/core-js/internals/set-to-string-tag.js"),m=r("../node_modules/core-js/internals/set-species.js"),p=r("../node_modules/core-js/internals/is-object.js"),v=r("../node_modules/core-js/internals/a-function.js"),g=r("../node_modules/core-js/internals/an-instance.js"),E=r("../node_modules/core-js/internals/classof-raw.js"),y=r("../node_modules/core-js/internals/inspect-source.js"),T=r("../node_modules/core-js/internals/iterate.js"),w=r("../node_modules/core-js/internals/check-correctness-of-iteration.js"),_=r("../node_modules/core-js/internals/species-constructor.js"),S=r("../node_modules/core-js/internals/task.js").set,R=r("../node_modules/core-js/internals/microtask.js"),j=r("../node_modules/core-js/internals/promise-resolve.js"),O=r("../node_modules/core-js/internals/host-report-errors.js"),A=r("../node_modules/core-js/internals/new-promise-capability.js"),z=r("../node_modules/core-js/internals/perform.js"),P=r("../node_modules/core-js/internals/internal-state.js"),C=r("../node_modules/core-js/internals/is-forced.js"),D=r("../node_modules/core-js/internals/well-known-symbol.js"),I=r("../node_modules/core-js/internals/v8-version.js"),x=D("species"),L="Promise",M=P.get,F=P.set,G=P.getterFor(L),k=f,N=u.TypeError,B=u.document,U=u.process,V=c("fetch"),H=A.f,q=H,W="process"==E(U),Y=!!(B&&B.createEvent&&u.dispatchEvent),X=C(L,(function(){if(!(y(k)!==String(k))){if(66===I)return!0;if(!W&&"function"!=typeof PromiseRejectionEvent)return!0}if(s&&!k.prototype.finally)return!0;if(I>=51&&/native code/.test(k))return!1;var e=k.resolve(1),t=function(e){e((function(){}),(function(){}))};return(e.constructor={})[x]=t,!(e.then((function(){}))instanceof t)})),K=X||!w((function(e){k.all(e).catch((function(){}))})),Q=function(e){var t;return!(!p(e)||"function"!=typeof(t=e.then))&&t},Z=function(e,t,r){if(!t.notified){t.notified=!0;var i=t.reactions;R((function(){for(var n=t.value,a=1==t.state,o=0;i.length>o;){var l,s,u,c=i[o++],f=a?c.ok:c.fail,d=c.resolve,h=c.reject,b=c.domain;try{f?(a||(2===t.rejection&&te(e,t),t.rejection=1),!0===f?l=n:(b&&b.enter(),l=f(n),b&&(b.exit(),u=!0)),l===c.promise?h(N("Promise-chain cycle")):(s=Q(l))?s.call(l,d,h):d(l)):h(n)}catch(e){b&&!u&&b.exit(),h(e)}}t.reactions=[],t.notified=!1,r&&!t.rejection&&J(e,t)}))}},$=function(e,t,r){var i,n;Y?((i=B.createEvent("Event")).promise=t,i.reason=r,i.initEvent(e,!1,!0),u.dispatchEvent(i)):i={promise:t,reason:r},(n=u["on"+e])?n(i):"unhandledrejection"===e&&O("Unhandled promise rejection",r)},J=function(e,t){S.call(u,(function(){var r,i=t.value;if(ee(t)&&(r=z((function(){W?U.emit("unhandledRejection",i,e):$("unhandledrejection",e,i)})),t.rejection=W||ee(t)?2:1,r.error))throw r.value}))},ee=function(e){return 1!==e.rejection&&!e.parent},te=function(e,t){S.call(u,(function(){W?U.emit("rejectionHandled",e):$("rejectionhandled",e,t.value)}))},re=function(e,t,r,i){return function(n){e(t,r,n,i)}},ie=function(e,t,r,i){t.done||(t.done=!0,i&&(t=i),t.value=r,t.state=2,Z(e,t,!0))},ne=function(e,t,r,i){if(!t.done){t.done=!0,i&&(t=i);try{if(e===r)throw N("Promise can't be resolved itself");var n=Q(r);n?R((function(){var i={done:!1};try{n.call(r,re(ne,e,i,t),re(ie,e,i,t))}catch(r){ie(e,i,r,t)}})):(t.value=r,t.state=1,Z(e,t,!1))}catch(r){ie(e,{done:!1},r,t)}}};X&&(k=function(e){g(this,k,L),v(e),i.call(this);var t=M(this);try{e(re(ne,this,t),re(ie,this,t))}catch(e){ie(this,t,e)}},(i=function(e){F(this,{type:L,done:!1,notified:!1,parent:!1,reactions:[],rejection:!1,state:0,value:void 0})}).prototype=h(k.prototype,{then:function(e,t){var r=G(this),i=H(_(this,k));return i.ok="function"!=typeof e||e,i.fail="function"==typeof t&&t,i.domain=W?U.domain:void 0,r.parent=!0,r.reactions.push(i),0!=r.state&&Z(this,r,!1),i.promise},catch:function(e){return this.then(void 0,e)}}),n=function(){var e=new i,t=M(e);this.promise=e,this.resolve=re(ne,e,t),this.reject=re(ie,e,t)},A.f=H=function(e){return e===k||e===a?new n(e):q(e)},s||"function"!=typeof f||(o=f.prototype.then,d(f.prototype,"then",(function(e,t){var r=this;return new k((function(e,t){o.call(r,e,t)})).then(e,t)}),{unsafe:!0}),"function"==typeof V&&l({global:!0,enumerable:!0,forced:!0},{fetch:function(e){return j(k,V.apply(u,arguments))}}))),l({global:!0,wrap:!0,forced:X},{Promise:k}),b(k,L,!1,!0),m(L),a=c(L),l({target:L,stat:!0,forced:X},{reject:function(e){var t=H(this);return t.reject.call(void 0,e),t.promise}}),l({target:L,stat:!0,forced:s||X},{resolve:function(e){return j(s&&this===a?k:this,e)}}),l({target:L,stat:!0,forced:K},{all:function(e){var t=this,r=H(t),i=r.resolve,n=r.reject,a=z((function(){var r=v(t.resolve),a=[],o=0,l=1;T(e,(function(e){var s=o++,u=!1;a.push(void 0),l++,r.call(t,e).then((function(e){u||(u=!0,a[s]=e,--l||i(a))}),n)})),--l||i(a)}));return a.error&&n(a.value),r.promise},race:function(e){var t=this,r=H(t),i=r.reject,n=z((function(){var n=v(t.resolve);T(e,(function(e){n.call(t,e).then(r.resolve,i)}))}));return n.error&&i(n.value),r.promise}})},"../node_modules/core-js/modules/es.string.iterator.js":function(e,t,r){"use strict";var i=r("../node_modules/core-js/internals/string-multibyte.js").charAt,n=r("../node_modules/core-js/internals/internal-state.js"),a=r("../node_modules/core-js/internals/define-iterator.js"),o=n.set,l=n.getterFor("String Iterator");a(String,"String",(function(e){o(this,{type:"String Iterator",string:String(e),index:0})}),(function(){var e,t=l(this),r=t.string,n=t.index;return n>=r.length?{value:void 0,done:!0}:(e=i(r,n),t.index+=e.length,{value:e,done:!1})}))},"../node_modules/core-js/modules/es.string.pad-end.js":function(e,t,r){"use strict";var i=r("../node_modules/core-js/internals/export.js"),n=r("../node_modules/core-js/internals/string-pad.js").end;i({target:"String",proto:!0,forced:r("../node_modules/core-js/internals/webkit-string-pad-bug.js")},{padEnd:function(e){return n(this,e,arguments.length>1?arguments[1]:void 0)}})},"../node_modules/core-js/modules/es.string.pad-start.js":function(e,t,r){"use strict";var i=r("../node_modules/core-js/internals/export.js"),n=r("../node_modules/core-js/internals/string-pad.js").start;i({target:"String",proto:!0,forced:r("../node_modules/core-js/internals/webkit-string-pad-bug.js")},{padStart:function(e){return n(this,e,arguments.length>1?arguments[1]:void 0)}})},"../node_modules/core-js/modules/es.string.replace.js":function(e,t,r){"use strict";var i=r("../node_modules/core-js/internals/fix-regexp-well-known-symbol-logic.js"),n=r("../node_modules/core-js/internals/an-object.js"),a=r("../node_modules/core-js/internals/to-object.js"),o=r("../node_modules/core-js/internals/to-length.js"),l=r("../node_modules/core-js/internals/to-integer.js"),s=r("../node_modules/core-js/internals/require-object-coercible.js"),u=r("../node_modules/core-js/internals/advance-string-index.js"),c=r("../node_modules/core-js/internals/regexp-exec-abstract.js"),f=Math.max,d=Math.min,h=Math.floor,b=/\$([$&'`]|\d\d?|<[^>]*>)/g,m=/\$([$&'`]|\d\d?)/g;i("replace",2,(function(e,t,r){return[function(r,i){var n=s(this),a=null==r?void 0:r[e];return void 0!==a?a.call(r,n,i):t.call(String(n),r,i)},function(e,a){var s=r(t,e,this,a);if(s.done)return s.value;var h=n(e),b=String(this),m="function"==typeof a;m||(a=String(a));var p=h.global;if(p){var v=h.unicode;h.lastIndex=0}for(var g=[];;){var E=c(h,b);if(null===E)break;if(g.push(E),!p)break;""===String(E[0])&&(h.lastIndex=u(b,o(h.lastIndex),v))}for(var y,T="",w=0,_=0;_<g.length;_++){E=g[_];for(var S=String(E[0]),R=f(d(l(E.index),b.length),0),j=[],O=1;O<E.length;O++)j.push(void 0===(y=E[O])?y:String(y));var A=E.groups;if(m){var z=[S].concat(j,R,b);void 0!==A&&z.push(A);var P=String(a.apply(void 0,z))}else P=i(S,b,R,j,A,a);R>=w&&(T+=b.slice(w,R)+P,w=R+S.length)}return T+b.slice(w)}];function i(e,r,i,n,o,l){var s=i+e.length,u=n.length,c=m;return void 0!==o&&(o=a(o),c=b),t.call(l,c,(function(t,a){var l;switch(a.charAt(0)){case"$":return"$";case"&":return e;case"`":return r.slice(0,i);case"'":return r.slice(s);case"<":l=o[a.slice(1,-1)];break;default:var c=+a;if(0===c)return t;if(c>u){var f=h(c/10);return 0===f?t:f<=u?void 0===n[f-1]?a.charAt(1):n[f-1]+a.charAt(1):t}l=n[c-1]}return void 0===l?"":l}))}}))},"../node_modules/core-js/modules/es.string.trim-end.js":function(e,t,r){"use strict";var i=r("../node_modules/core-js/internals/export.js"),n=r("../node_modules/core-js/internals/string-trim.js").end,a=r("../node_modules/core-js/internals/forced-string-trim-method.js")("trimEnd"),o=a?function(){return n(this)}:"".trimEnd;i({target:"String",proto:!0,forced:a},{trimEnd:o,trimRight:o})},"../node_modules/core-js/modules/es.string.trim-start.js":function(e,t,r){"use strict";var i=r("../node_modules/core-js/internals/export.js"),n=r("../node_modules/core-js/internals/string-trim.js").start,a=r("../node_modules/core-js/internals/forced-string-trim-method.js")("trimStart"),o=a?function(){return n(this)}:"".trimStart;i({target:"String",proto:!0,forced:a},{trimStart:o,trimLeft:o})},"../node_modules/core-js/modules/es.string.trim.js":function(e,t,r){"use strict";var i=r("../node_modules/core-js/internals/export.js"),n=r("../node_modules/core-js/internals/string-trim.js").trim;i({target:"String",proto:!0,forced:r("../node_modules/core-js/internals/forced-string-trim-method.js")("trim")},{trim:function(){return n(this)}})},"../node_modules/core-js/modules/es.symbol.async-iterator.js":function(e,t,r){r("../node_modules/core-js/internals/define-well-known-symbol.js")("asyncIterator")},"../node_modules/core-js/modules/es.symbol.description.js":function(e,t,r){"use strict";var i=r("../node_modules/core-js/internals/export.js"),n=r("../node_modules/core-js/internals/descriptors.js"),a=r("../node_modules/core-js/internals/global.js"),o=r("../node_modules/core-js/internals/has.js"),l=r("../node_modules/core-js/internals/is-object.js"),s=r("../node_modules/core-js/internals/object-define-property.js").f,u=r("../node_modules/core-js/internals/copy-constructor-properties.js"),c=a.Symbol;if(n&&"function"==typeof c&&(!("description"in c.prototype)||void 0!==c().description)){var f={},d=function(){var e=arguments.length<1||void 0===arguments[0]?void 0:String(arguments[0]),t=this instanceof d?new c(e):void 0===e?c():c(e);return""===e&&(f[t]=!0),t};u(d,c);var h=d.prototype=c.prototype;h.constructor=d;var b=h.toString,m="Symbol(test)"==String(c("test")),p=/^Symbol\((.*)\)[^)]+$/;s(h,"description",{configurable:!0,get:function(){var e=l(this)?this.valueOf():this,t=b.call(e);if(o(f,e))return"";var r=m?t.slice(7,-1):t.replace(p,"$1");return""===r?void 0:r}}),i({global:!0,forced:!0},{Symbol:d})}},"../node_modules/core-js/modules/es.typed-array.float32-array.js":function(e,t,r){r("../node_modules/core-js/internals/typed-array-constructor.js")("Float32",(function(e){return function(t,r,i){return e(this,t,r,i)}}))},"../node_modules/core-js/modules/es.typed-array.float64-array.js":function(e,t,r){r("../node_modules/core-js/internals/typed-array-constructor.js")("Float64",(function(e){return function(t,r,i){return e(this,t,r,i)}}))},"../node_modules/core-js/modules/es.typed-array.from.js":function(e,t,r){"use strict";var i=r("../node_modules/core-js/internals/typed-arrays-constructors-requires-wrappers.js");(0,r("../node_modules/core-js/internals/array-buffer-view-core.js").exportTypedArrayStaticMethod)("from",r("../node_modules/core-js/internals/typed-array-from.js"),i)},"../node_modules/core-js/modules/es.typed-array.int16-array.js":function(e,t,r){r("../node_modules/core-js/internals/typed-array-constructor.js")("Int16",(function(e){return function(t,r,i){return e(this,t,r,i)}}))},"../node_modules/core-js/modules/es.typed-array.int32-array.js":function(e,t,r){r("../node_modules/core-js/internals/typed-array-constructor.js")("Int32",(function(e){return function(t,r,i){return e(this,t,r,i)}}))},"../node_modules/core-js/modules/es.typed-array.int8-array.js":function(e,t,r){r("../node_modules/core-js/internals/typed-array-constructor.js")("Int8",(function(e){return function(t,r,i){return e(this,t,r,i)}}))},"../node_modules/core-js/modules/es.typed-array.of.js":function(e,t,r){"use strict";var i=r("../node_modules/core-js/internals/array-buffer-view-core.js"),n=r("../node_modules/core-js/internals/typed-arrays-constructors-requires-wrappers.js"),a=i.aTypedArrayConstructor;(0,i.exportTypedArrayStaticMethod)("of",(function(){for(var e=0,t=arguments.length,r=new(a(this))(t);t>e;)r[e]=arguments[e++];return r}),n)},"../node_modules/core-js/modules/es.typed-array.uint16-array.js":function(e,t,r){r("../node_modules/core-js/internals/typed-array-constructor.js")("Uint16",(function(e){return function(t,r,i){return e(this,t,r,i)}}))},"../node_modules/core-js/modules/es.typed-array.uint32-array.js":function(e,t,r){r("../node_modules/core-js/internals/typed-array-constructor.js")("Uint32",(function(e){return function(t,r,i){return e(this,t,r,i)}}))},"../node_modules/core-js/modules/es.typed-array.uint8-array.js":function(e,t,r){r("../node_modules/core-js/internals/typed-array-constructor.js")("Uint8",(function(e){return function(t,r,i){return e(this,t,r,i)}}))},"../node_modules/core-js/modules/es.typed-array.uint8-clamped-array.js":function(e,t,r){r("../node_modules/core-js/internals/typed-array-constructor.js")("Uint8",(function(e){return function(t,r,i){return e(this,t,r,i)}}),!0)},"../node_modules/core-js/modules/web.dom-collections.for-each.js":function(e,t,r){var i=r("../node_modules/core-js/internals/global.js"),n=r("../node_modules/core-js/internals/dom-iterables.js"),a=r("../node_modules/core-js/internals/array-for-each.js"),o=r("../node_modules/core-js/internals/create-non-enumerable-property.js");for(var l in n){var s=i[l],u=s&&s.prototype;if(u&&u.forEach!==a)try{o(u,"forEach",a)}catch(e){u.forEach=a}}},"../node_modules/core-js/modules/web.dom-collections.iterator.js":function(e,t,r){var i=r("../node_modules/core-js/internals/global.js"),n=r("../node_modules/core-js/internals/dom-iterables.js"),a=r("../node_modules/core-js/modules/es.array.iterator.js"),o=r("../node_modules/core-js/internals/create-non-enumerable-property.js"),l=r("../node_modules/core-js/internals/well-known-symbol.js"),s=l("iterator"),u=l("toStringTag"),c=a.values;for(var f in n){var d=i[f],h=d&&d.prototype;if(h){if(h[s]!==c)try{o(h,s,c)}catch(e){h[s]=c}if(h[u]||o(h,u,f),n[f])for(var b in a)if(h[b]!==a[b])try{o(h,b,a[b])}catch(e){h[b]=a[b]}}}},"../node_modules/core-js/modules/web.immediate.js":function(e,t,r){var i=r("../node_modules/core-js/internals/export.js"),n=r("../node_modules/core-js/internals/global.js"),a=r("../node_modules/core-js/internals/task.js");i({global:!0,bind:!0,enumerable:!0,forced:!n.setImmediate||!n.clearImmediate},{setImmediate:a.set,clearImmediate:a.clear})},"../node_modules/core-js/modules/web.queue-microtask.js":function(e,t,r){var i=r("../node_modules/core-js/internals/export.js"),n=r("../node_modules/core-js/internals/global.js"),a=r("../node_modules/core-js/internals/microtask.js"),o=r("../node_modules/core-js/internals/classof-raw.js"),l=n.process,s="process"==o(l);i({global:!0,enumerable:!0,noTargetGet:!0},{queueMicrotask:function(e){var t=s&&l.domain;a(t?t.bind(e):e)}})},"../node_modules/core-js/modules/web.url-search-params.js":function(e,t,r){"use strict";r("../node_modules/core-js/modules/es.array.iterator.js");var i=r("../node_modules/core-js/internals/export.js"),n=r("../node_modules/core-js/internals/get-built-in.js"),a=r("../node_modules/core-js/internals/native-url.js"),o=r("../node_modules/core-js/internals/redefine.js"),l=r("../node_modules/core-js/internals/redefine-all.js"),s=r("../node_modules/core-js/internals/set-to-string-tag.js"),u=r("../node_modules/core-js/internals/create-iterator-constructor.js"),c=r("../node_modules/core-js/internals/internal-state.js"),f=r("../node_modules/core-js/internals/an-instance.js"),d=r("../node_modules/core-js/internals/has.js"),h=r("../node_modules/core-js/internals/bind-context.js"),b=r("../node_modules/core-js/internals/classof.js"),m=r("../node_modules/core-js/internals/an-object.js"),p=r("../node_modules/core-js/internals/is-object.js"),v=r("../node_modules/core-js/internals/object-create.js"),g=r("../node_modules/core-js/internals/create-property-descriptor.js"),E=r("../node_modules/core-js/internals/get-iterator.js"),y=r("../node_modules/core-js/internals/get-iterator-method.js"),T=r("../node_modules/core-js/internals/well-known-symbol.js"),w=n("fetch"),_=n("Headers"),S=T("iterator"),R=c.set,j=c.getterFor("URLSearchParams"),O=c.getterFor("URLSearchParamsIterator"),A=/\+/g,z=Array(4),P=function(e){return z[e-1]||(z[e-1]=RegExp("((?:%[\\da-f]{2}){"+e+"})","gi"))},C=function(e){try{return decodeURIComponent(e)}catch(t){return e}},D=function(e){var t=e.replace(A," "),r=4;try{return decodeURIComponent(t)}catch(e){for(;r;)t=t.replace(P(r--),C);return t}},I=/[!'()~]|%20/g,x={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+"},L=function(e){return x[e]},M=function(e){return encodeURIComponent(e).replace(I,L)},F=function(e,t){if(t)for(var r,i,n=t.split("&"),a=0;a<n.length;)(r=n[a++]).length&&(i=r.split("="),e.push({key:D(i.shift()),value:D(i.join("="))}))},G=function(e){this.entries.length=0,F(this.entries,e)},k=function(e,t){if(e<t)throw TypeError("Not enough arguments")},N=u((function(e,t){R(this,{type:"URLSearchParamsIterator",iterator:E(j(e).entries),kind:t})}),"Iterator",(function(){var e=O(this),t=e.kind,r=e.iterator.next(),i=r.value;return r.done||(r.value="keys"===t?i.key:"values"===t?i.value:[i.key,i.value]),r})),B=function(){f(this,B,"URLSearchParams");var e,t,r,i,n,a,o,l,s,u=arguments.length>0?arguments[0]:void 0,c=this,h=[];if(R(c,{type:"URLSearchParams",entries:h,updateURL:function(){},updateSearchParams:G}),void 0!==u)if(p(u))if("function"==typeof(e=y(u)))for(r=(t=e.call(u)).next;!(i=r.call(t)).done;){if((o=(a=(n=E(m(i.value))).next).call(n)).done||(l=a.call(n)).done||!a.call(n).done)throw TypeError("Expected sequence with length 2");h.push({key:o.value+"",value:l.value+""})}else for(s in u)d(u,s)&&h.push({key:s,value:u[s]+""});else F(h,"string"==typeof u?"?"===u.charAt(0)?u.slice(1):u:u+"")},U=B.prototype;l(U,{append:function(e,t){k(arguments.length,2);var r=j(this);r.entries.push({key:e+"",value:t+""}),r.updateURL()},delete:function(e){k(arguments.length,1);for(var t=j(this),r=t.entries,i=e+"",n=0;n<r.length;)r[n].key===i?r.splice(n,1):n++;t.updateURL()},get:function(e){k(arguments.length,1);for(var t=j(this).entries,r=e+"",i=0;i<t.length;i++)if(t[i].key===r)return t[i].value;return null},getAll:function(e){k(arguments.length,1);for(var t=j(this).entries,r=e+"",i=[],n=0;n<t.length;n++)t[n].key===r&&i.push(t[n].value);return i},has:function(e){k(arguments.length,1);for(var t=j(this).entries,r=e+"",i=0;i<t.length;)if(t[i++].key===r)return!0;return!1},set:function(e,t){k(arguments.length,1);for(var r,i=j(this),n=i.entries,a=!1,o=e+"",l=t+"",s=0;s<n.length;s++)(r=n[s]).key===o&&(a?n.splice(s--,1):(a=!0,r.value=l));a||n.push({key:o,value:l}),i.updateURL()},sort:function(){var e,t,r,i=j(this),n=i.entries,a=n.slice();for(n.length=0,r=0;r<a.length;r++){for(e=a[r],t=0;t<r;t++)if(n[t].key>e.key){n.splice(t,0,e);break}t===r&&n.push(e)}i.updateURL()},forEach:function(e){for(var t,r=j(this).entries,i=h(e,arguments.length>1?arguments[1]:void 0,3),n=0;n<r.length;)i((t=r[n++]).value,t.key,this)},keys:function(){return new N(this,"keys")},values:function(){return new N(this,"values")},entries:function(){return new N(this,"entries")}},{enumerable:!0}),o(U,S,U.entries),o(U,"toString",(function(){for(var e,t=j(this).entries,r=[],i=0;i<t.length;)e=t[i++],r.push(M(e.key)+"="+M(e.value));return r.join("&")}),{enumerable:!0}),s(B,"URLSearchParams"),i({global:!0,forced:!a},{URLSearchParams:B}),a||"function"!=typeof w||"function"!=typeof _||i({global:!0,enumerable:!0,forced:!0},{fetch:function(e){var t,r,i,n=[e];return arguments.length>1&&(t=arguments[1],p(t)&&(r=t.body,"URLSearchParams"===b(r)&&((i=t.headers?new _(t.headers):new _).has("content-type")||i.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"),t=v(t,{body:g(0,String(r)),headers:g(0,i)}))),n.push(t)),w.apply(this,n)}}),e.exports={URLSearchParams:B,getState:j}},"../node_modules/core-js/modules/web.url.js":function(e,t,r){"use strict";r("../node_modules/core-js/modules/es.string.iterator.js");var i,n=r("../node_modules/core-js/internals/export.js"),a=r("../node_modules/core-js/internals/descriptors.js"),o=r("../node_modules/core-js/internals/native-url.js"),l=r("../node_modules/core-js/internals/global.js"),s=r("../node_modules/core-js/internals/object-define-properties.js"),u=r("../node_modules/core-js/internals/redefine.js"),c=r("../node_modules/core-js/internals/an-instance.js"),f=r("../node_modules/core-js/internals/has.js"),d=r("../node_modules/core-js/internals/object-assign.js"),h=r("../node_modules/core-js/internals/array-from.js"),b=r("../node_modules/core-js/internals/string-multibyte.js").codeAt,m=r("../node_modules/core-js/internals/punycode-to-ascii.js"),p=r("../node_modules/core-js/internals/set-to-string-tag.js"),v=r("../node_modules/core-js/modules/web.url-search-params.js"),g=r("../node_modules/core-js/internals/internal-state.js"),E=l.URL,y=v.URLSearchParams,T=v.getState,w=g.set,_=g.getterFor("URL"),S=Math.floor,R=Math.pow,j=/[A-Za-z]/,O=/[\d+\-.A-Za-z]/,A=/\d/,z=/^(0x|0X)/,P=/^[0-7]+$/,C=/^\d+$/,D=/^[\dA-Fa-f]+$/,I=/[\u0000\u0009\u000A\u000D #%/:?@[\\]]/,x=/[\u0000\u0009\u000A\u000D #/:?@[\\]]/,L=/^[\u0000-\u001F ]+|[\u0000-\u001F ]+$/g,M=/[\u0009\u000A\u000D]/g,F=function(e,t){var r,i,n;if("["==t.charAt(0)){if("]"!=t.charAt(t.length-1))return"Invalid host";if(!(r=k(t.slice(1,-1))))return"Invalid host";e.host=r}else if(Y(e)){if(t=m(t),I.test(t))return"Invalid host";if(null===(r=G(t)))return"Invalid host";e.host=r}else{if(x.test(t))return"Invalid host";for(r="",i=h(t),n=0;n<i.length;n++)r+=q(i[n],B);e.host=r}},G=function(e){var t,r,i,n,a,o,l,s=e.split(".");if(s.length&&""==s[s.length-1]&&s.pop(),(t=s.length)>4)return e;for(r=[],i=0;i<t;i++){if(""==(n=s[i]))return e;if(a=10,n.length>1&&"0"==n.charAt(0)&&(a=z.test(n)?16:8,n=n.slice(8==a?1:2)),""===n)o=0;else{if(!(10==a?C:8==a?P:D).test(n))return e;o=parseInt(n,a)}r.push(o)}for(i=0;i<t;i++)if(o=r[i],i==t-1){if(o>=R(256,5-t))return null}else if(o>255)return null;for(l=r.pop(),i=0;i<r.length;i++)l+=r[i]*R(256,3-i);return l},k=function(e){var t,r,i,n,a,o,l,s=[0,0,0,0,0,0,0,0],u=0,c=null,f=0,d=function(){return e.charAt(f)};if(":"==d()){if(":"!=e.charAt(1))return;f+=2,c=++u}for(;d();){if(8==u)return;if(":"!=d()){for(t=r=0;r<4&&D.test(d());)t=16*t+parseInt(d(),16),f++,r++;if("."==d()){if(0==r)return;if(f-=r,u>6)return;for(i=0;d();){if(n=null,i>0){if(!("."==d()&&i<4))return;f++}if(!A.test(d()))return;for(;A.test(d());){if(a=parseInt(d(),10),null===n)n=a;else{if(0==n)return;n=10*n+a}if(n>255)return;f++}s[u]=256*s[u]+n,2!=++i&&4!=i||u++}if(4!=i)return;break}if(":"==d()){if(f++,!d())return}else if(d())return;s[u++]=t}else{if(null!==c)return;f++,c=++u}}if(null!==c)for(o=u-c,u=7;0!=u&&o>0;)l=s[u],s[u--]=s[c+o-1],s[c+--o]=l;else if(8!=u)return;return s},N=function(e){var t,r,i,n;if("number"==typeof e){for(t=[],r=0;r<4;r++)t.unshift(e%256),e=S(e/256);return t.join(".")}if("object"==typeof e){for(t="",i=function(e){for(var t=null,r=1,i=null,n=0,a=0;a<8;a++)0!==e[a]?(n>r&&(t=i,r=n),i=null,n=0):(null===i&&(i=a),++n);return n>r&&(t=i,r=n),t}(e),r=0;r<8;r++)n&&0===e[r]||(n&&(n=!1),i===r?(t+=r?":":"::",n=!0):(t+=e[r].toString(16),r<7&&(t+=":")));return"["+t+"]"}return e},B={},U=d({},B,{" ":1,'"':1,"<":1,">":1,"`":1}),V=d({},U,{"#":1,"?":1,"{":1,"}":1}),H=d({},V,{"/":1,":":1,";":1,"=":1,"@":1,"[":1,"\\":1,"]":1,"^":1,"|":1}),q=function(e,t){var r=b(e,0);return r>32&&r<127&&!f(t,e)?e:encodeURIComponent(e)},W={ftp:21,file:null,http:80,https:443,ws:80,wss:443},Y=function(e){return f(W,e.scheme)},X=function(e){return""!=e.username||""!=e.password},K=function(e){return!e.host||e.cannotBeABaseURL||"file"==e.scheme},Q=function(e,t){var r;return 2==e.length&&j.test(e.charAt(0))&&(":"==(r=e.charAt(1))||!t&&"|"==r)},Z=function(e){var t;return e.length>1&&Q(e.slice(0,2))&&(2==e.length||"/"===(t=e.charAt(2))||"\\"===t||"?"===t||"#"===t)},$=function(e){var t=e.path,r=t.length;!r||"file"==e.scheme&&1==r&&Q(t[0],!0)||t.pop()},J=function(e){return"."===e||"%2e"===e.toLowerCase()},ee={},te={},re={},ie={},ne={},ae={},oe={},le={},se={},ue={},ce={},fe={},de={},he={},be={},me={},pe={},ve={},ge={},Ee={},ye={},Te=function(e,t,r,n){var a,o,l,s,u,c=r||ee,d=0,b="",m=!1,p=!1,v=!1;for(r||(e.scheme="",e.username="",e.password="",e.host=null,e.port=null,e.path=[],e.query=null,e.fragment=null,e.cannotBeABaseURL=!1,t=t.replace(L,"")),t=t.replace(M,""),a=h(t);d<=a.length;){switch(o=a[d],c){case ee:if(!o||!j.test(o)){if(r)return"Invalid scheme";c=re;continue}b+=o.toLowerCase(),c=te;break;case te:if(o&&(O.test(o)||"+"==o||"-"==o||"."==o))b+=o.toLowerCase();else{if(":"!=o){if(r)return"Invalid scheme";b="",c=re,d=0;continue}if(r&&(Y(e)!=f(W,b)||"file"==b&&(X(e)||null!==e.port)||"file"==e.scheme&&!e.host))return;if(e.scheme=b,r)return void(Y(e)&&W[e.scheme]==e.port&&(e.port=null));b="","file"==e.scheme?c=he:Y(e)&&n&&n.scheme==e.scheme?c=ie:Y(e)?c=le:"/"==a[d+1]?(c=ne,d++):(e.cannotBeABaseURL=!0,e.path.push(""),c=ge)}break;case re:if(!n||n.cannotBeABaseURL&&"#"!=o)return"Invalid scheme";if(n.cannotBeABaseURL&&"#"==o){e.scheme=n.scheme,e.path=n.path.slice(),e.query=n.query,e.fragment="",e.cannotBeABaseURL=!0,c=ye;break}c="file"==n.scheme?he:ae;continue;case ie:if("/"!=o||"/"!=a[d+1]){c=ae;continue}c=se,d++;break;case ne:if("/"==o){c=ue;break}c=ve;continue;case ae:if(e.scheme=n.scheme,o==i)e.username=n.username,e.password=n.password,e.host=n.host,e.port=n.port,e.path=n.path.slice(),e.query=n.query;else if("/"==o||"\\"==o&&Y(e))c=oe;else if("?"==o)e.username=n.username,e.password=n.password,e.host=n.host,e.port=n.port,e.path=n.path.slice(),e.query="",c=Ee;else{if("#"!=o){e.username=n.username,e.password=n.password,e.host=n.host,e.port=n.port,e.path=n.path.slice(),e.path.pop(),c=ve;continue}e.username=n.username,e.password=n.password,e.host=n.host,e.port=n.port,e.path=n.path.slice(),e.query=n.query,e.fragment="",c=ye}break;case oe:if(!Y(e)||"/"!=o&&"\\"!=o){if("/"!=o){e.username=n.username,e.password=n.password,e.host=n.host,e.port=n.port,c=ve;continue}c=ue}else c=se;break;case le:if(c=se,"/"!=o||"/"!=b.charAt(d+1))continue;d++;break;case se:if("/"!=o&&"\\"!=o){c=ue;continue}break;case ue:if("@"==o){m&&(b="%40"+b),m=!0,l=h(b);for(var g=0;g<l.length;g++){var E=l[g];if(":"!=E||v){var y=q(E,H);v?e.password+=y:e.username+=y}else v=!0}b=""}else if(o==i||"/"==o||"?"==o||"#"==o||"\\"==o&&Y(e)){if(m&&""==b)return"Invalid authority";d-=h(b).length+1,b="",c=ce}else b+=o;break;case ce:case fe:if(r&&"file"==e.scheme){c=me;continue}if(":"!=o||p){if(o==i||"/"==o||"?"==o||"#"==o||"\\"==o&&Y(e)){if(Y(e)&&""==b)return"Invalid host";if(r&&""==b&&(X(e)||null!==e.port))return;if(s=F(e,b))return s;if(b="",c=pe,r)return;continue}"["==o?p=!0:"]"==o&&(p=!1),b+=o}else{if(""==b)return"Invalid host";if(s=F(e,b))return s;if(b="",c=de,r==fe)return}break;case de:if(!A.test(o)){if(o==i||"/"==o||"?"==o||"#"==o||"\\"==o&&Y(e)||r){if(""!=b){var T=parseInt(b,10);if(T>65535)return"Invalid port";e.port=Y(e)&&T===W[e.scheme]?null:T,b=""}if(r)return;c=pe;continue}return"Invalid port"}b+=o;break;case he:if(e.scheme="file","/"==o||"\\"==o)c=be;else{if(!n||"file"!=n.scheme){c=ve;continue}if(o==i)e.host=n.host,e.path=n.path.slice(),e.query=n.query;else if("?"==o)e.host=n.host,e.path=n.path.slice(),e.query="",c=Ee;else{if("#"!=o){Z(a.slice(d).join(""))||(e.host=n.host,e.path=n.path.slice(),$(e)),c=ve;continue}e.host=n.host,e.path=n.path.slice(),e.query=n.query,e.fragment="",c=ye}}break;case be:if("/"==o||"\\"==o){c=me;break}n&&"file"==n.scheme&&!Z(a.slice(d).join(""))&&(Q(n.path[0],!0)?e.path.push(n.path[0]):e.host=n.host),c=ve;continue;case me:if(o==i||"/"==o||"\\"==o||"?"==o||"#"==o){if(!r&&Q(b))c=ve;else if(""==b){if(e.host="",r)return;c=pe}else{if(s=F(e,b))return s;if("localhost"==e.host&&(e.host=""),r)return;b="",c=pe}continue}b+=o;break;case pe:if(Y(e)){if(c=ve,"/"!=o&&"\\"!=o)continue}else if(r||"?"!=o)if(r||"#"!=o){if(o!=i&&(c=ve,"/"!=o))continue}else e.fragment="",c=ye;else e.query="",c=Ee;break;case ve:if(o==i||"/"==o||"\\"==o&&Y(e)||!r&&("?"==o||"#"==o)){if(".."===(u=(u=b).toLowerCase())||"%2e."===u||".%2e"===u||"%2e%2e"===u?($(e),"/"==o||"\\"==o&&Y(e)||e.path.push("")):J(b)?"/"==o||"\\"==o&&Y(e)||e.path.push(""):("file"==e.scheme&&!e.path.length&&Q(b)&&(e.host&&(e.host=""),b=b.charAt(0)+":"),e.path.push(b)),b="","file"==e.scheme&&(o==i||"?"==o||"#"==o))for(;e.path.length>1&&""===e.path[0];)e.path.shift();"?"==o?(e.query="",c=Ee):"#"==o&&(e.fragment="",c=ye)}else b+=q(o,V);break;case ge:"?"==o?(e.query="",c=Ee):"#"==o?(e.fragment="",c=ye):o!=i&&(e.path[0]+=q(o,B));break;case Ee:r||"#"!=o?o!=i&&("'"==o&&Y(e)?e.query+="%27":e.query+="#"==o?"%23":q(o,B)):(e.fragment="",c=ye);break;case ye:o!=i&&(e.fragment+=q(o,U))}d++}},we=function(e){var t,r,i=c(this,we,"URL"),n=arguments.length>1?arguments[1]:void 0,o=String(e),l=w(i,{type:"URL"});if(void 0!==n)if(n instanceof we)t=_(n);else if(r=Te(t={},String(n)))throw TypeError(r);if(r=Te(l,o,null,t))throw TypeError(r);var s=l.searchParams=new y,u=T(s);u.updateSearchParams(l.query),u.updateURL=function(){l.query=String(s)||null},a||(i.href=Se.call(i),i.origin=Re.call(i),i.protocol=je.call(i),i.username=Oe.call(i),i.password=Ae.call(i),i.host=ze.call(i),i.hostname=Pe.call(i),i.port=Ce.call(i),i.pathname=De.call(i),i.search=Ie.call(i),i.searchParams=xe.call(i),i.hash=Le.call(i))},_e=we.prototype,Se=function(){var e=_(this),t=e.scheme,r=e.username,i=e.password,n=e.host,a=e.port,o=e.path,l=e.query,s=e.fragment,u=t+":";return null!==n?(u+="//",X(e)&&(u+=r+(i?":"+i:"")+"@"),u+=N(n),null!==a&&(u+=":"+a)):"file"==t&&(u+="//"),u+=e.cannotBeABaseURL?o[0]:o.length?"/"+o.join("/"):"",null!==l&&(u+="?"+l),null!==s&&(u+="#"+s),u},Re=function(){var e=_(this),t=e.scheme,r=e.port;if("blob"==t)try{return new URL(t.path[0]).origin}catch(e){return"null"}return"file"!=t&&Y(e)?t+"://"+N(e.host)+(null!==r?":"+r:""):"null"},je=function(){return _(this).scheme+":"},Oe=function(){return _(this).username},Ae=function(){return _(this).password},ze=function(){var e=_(this),t=e.host,r=e.port;return null===t?"":null===r?N(t):N(t)+":"+r},Pe=function(){var e=_(this).host;return null===e?"":N(e)},Ce=function(){var e=_(this).port;return null===e?"":String(e)},De=function(){var e=_(this),t=e.path;return e.cannotBeABaseURL?t[0]:t.length?"/"+t.join("/"):""},Ie=function(){var e=_(this).query;return e?"?"+e:""},xe=function(){return _(this).searchParams},Le=function(){var e=_(this).fragment;return e?"#"+e:""},Me=function(e,t){return{get:e,set:t,configurable:!0,enumerable:!0}};if(a&&s(_e,{href:Me(Se,(function(e){var t=_(this),r=String(e),i=Te(t,r);if(i)throw TypeError(i);T(t.searchParams).updateSearchParams(t.query)})),origin:Me(Re),protocol:Me(je,(function(e){var t=_(this);Te(t,String(e)+":",ee)})),username:Me(Oe,(function(e){var t=_(this),r=h(String(e));if(!K(t)){t.username="";for(var i=0;i<r.length;i++)t.username+=q(r[i],H)}})),password:Me(Ae,(function(e){var t=_(this),r=h(String(e));if(!K(t)){t.password="";for(var i=0;i<r.length;i++)t.password+=q(r[i],H)}})),host:Me(ze,(function(e){var t=_(this);t.cannotBeABaseURL||Te(t,String(e),ce)})),hostname:Me(Pe,(function(e){var t=_(this);t.cannotBeABaseURL||Te(t,String(e),fe)})),port:Me(Ce,(function(e){var t=_(this);K(t)||(""==(e=String(e))?t.port=null:Te(t,e,de))})),pathname:Me(De,(function(e){var t=_(this);t.cannotBeABaseURL||(t.path=[],Te(t,e+"",pe))})),search:Me(Ie,(function(e){var t=_(this);""==(e=String(e))?t.query=null:("?"==e.charAt(0)&&(e=e.slice(1)),t.query="",Te(t,e,Ee)),T(t.searchParams).updateSearchParams(t.query)})),searchParams:Me(xe),hash:Me(Le,(function(e){var t=_(this);""!=(e=String(e))?("#"==e.charAt(0)&&(e=e.slice(1)),t.fragment="",Te(t,e,ye)):t.fragment=null}))}),u(_e,"toJSON",(function(){return Se.call(this)}),{enumerable:!0}),u(_e,"toString",(function(){return Se.call(this)}),{enumerable:!0}),E){var Fe=E.createObjectURL,Ge=E.revokeObjectURL;Fe&&u(we,"createObjectURL",(function(e){return Fe.apply(E,arguments)})),Ge&&u(we,"revokeObjectURL",(function(e){return Ge.apply(E,arguments)}))}p(we,"URL"),n({global:!0,forced:!o,sham:!a},{URL:we})},"../node_modules/core-js/modules/web.url.to-json.js":function(e,t,r){"use strict";r("../node_modules/core-js/internals/export.js")({target:"URL",proto:!0,enumerable:!0},{toJSON:function(){return URL.prototype.toString.call(this)}})},"../node_modules/gl-matrix/lib/gl-matrix.js":function(e,t,r){"use strict";r.r(t);var i=r("../node_modules/gl-matrix/lib/gl-matrix/common.js");r.d(t,"glMatrix",(function(){return i}));var n=r("../node_modules/gl-matrix/lib/gl-matrix/mat2.js");r.d(t,"mat2",(function(){return n}));var a=r("../node_modules/gl-matrix/lib/gl-matrix/mat2d.js");r.d(t,"mat2d",(function(){return a}));var o=r("../node_modules/gl-matrix/lib/gl-matrix/mat3.js");r.d(t,"mat3",(function(){return o}));var l=r("../node_modules/gl-matrix/lib/gl-matrix/mat4.js");r.d(t,"mat4",(function(){return l}));var s=r("../node_modules/gl-matrix/lib/gl-matrix/quat.js");r.d(t,"quat",(function(){return s}));var u=r("../node_modules/gl-matrix/lib/gl-matrix/quat2.js");r.d(t,"quat2",(function(){return u}));var c=r("../node_modules/gl-matrix/lib/gl-matrix/vec2.js");r.d(t,"vec2",(function(){return c}));var f=r("../node_modules/gl-matrix/lib/gl-matrix/vec3.js");r.d(t,"vec3",(function(){return f}));var d=r("../node_modules/gl-matrix/lib/gl-matrix/vec4.js");r.d(t,"vec4",(function(){return d}))},"../node_modules/gl-matrix/lib/gl-matrix/common.js":function(e,t,r){"use strict";r.r(t),r.d(t,"EPSILON",(function(){return i})),r.d(t,"ARRAY_TYPE",(function(){return n})),r.d(t,"RANDOM",(function(){return a})),r.d(t,"setMatrixArrayType",(function(){return o})),r.d(t,"toRadian",(function(){return s})),r.d(t,"equals",(function(){return u}));var i=1e-6,n="undefined"!=typeof Float32Array?Float32Array:Array,a=Math.random;function o(e){n=e}var l=Math.PI/180;function s(e){return e*l}function u(e,t){return Math.abs(e-t)<=i*Math.max(1,Math.abs(e),Math.abs(t))}},"../node_modules/gl-matrix/lib/gl-matrix/mat2.js":function(e,t,r){"use strict";r.r(t),r.d(t,"create",(function(){return n})),r.d(t,"clone",(function(){return a})),r.d(t,"copy",(function(){return o})),r.d(t,"identity",(function(){return l})),r.d(t,"fromValues",(function(){return s})),r.d(t,"set",(function(){return u})),r.d(t,"transpose",(function(){return c})),r.d(t,"invert",(function(){return f})),r.d(t,"adjoint",(function(){return d})),r.d(t,"determinant",(function(){return h})),r.d(t,"multiply",(function(){return b})),r.d(t,"rotate",(function(){return m})),r.d(t,"scale",(function(){return p})),r.d(t,"fromRotation",(function(){return v})),r.d(t,"fromScaling",(function(){return g})),r.d(t,"str",(function(){return E})),r.d(t,"frob",(function(){return y})),r.d(t,"LDU",(function(){return T})),r.d(t,"add",(function(){return w})),r.d(t,"subtract",(function(){return _})),r.d(t,"exactEquals",(function(){return S})),r.d(t,"equals",(function(){return R})),r.d(t,"multiplyScalar",(function(){return j})),r.d(t,"multiplyScalarAndAdd",(function(){return O})),r.d(t,"mul",(function(){return A})),r.d(t,"sub",(function(){return z}));var i=r("../node_modules/gl-matrix/lib/gl-matrix/common.js");function n(){var e=new i.ARRAY_TYPE(4);return i.ARRAY_TYPE!=Float32Array&&(e[1]=0,e[2]=0),e[0]=1,e[3]=1,e}function a(e){var t=new i.ARRAY_TYPE(4);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t}function o(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e}function l(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=1,e}function s(e,t,r,n){var a=new i.ARRAY_TYPE(4);return a[0]=e,a[1]=t,a[2]=r,a[3]=n,a}function u(e,t,r,i,n){return e[0]=t,e[1]=r,e[2]=i,e[3]=n,e}function c(e,t){if(e===t){var r=t[1];e[1]=t[2],e[2]=r}else e[0]=t[0],e[1]=t[2],e[2]=t[1],e[3]=t[3];return e}function f(e,t){var r=t[0],i=t[1],n=t[2],a=t[3],o=r*a-n*i;return o?(o=1/o,e[0]=a*o,e[1]=-i*o,e[2]=-n*o,e[3]=r*o,e):null}function d(e,t){var r=t[0];return e[0]=t[3],e[1]=-t[1],e[2]=-t[2],e[3]=r,e}function h(e){return e[0]*e[3]-e[2]*e[1]}function b(e,t,r){var i=t[0],n=t[1],a=t[2],o=t[3],l=r[0],s=r[1],u=r[2],c=r[3];return e[0]=i*l+a*s,e[1]=n*l+o*s,e[2]=i*u+a*c,e[3]=n*u+o*c,e}function m(e,t,r){var i=t[0],n=t[1],a=t[2],o=t[3],l=Math.sin(r),s=Math.cos(r);return e[0]=i*s+a*l,e[1]=n*s+o*l,e[2]=i*-l+a*s,e[3]=n*-l+o*s,e}function p(e,t,r){var i=t[0],n=t[1],a=t[2],o=t[3],l=r[0],s=r[1];return e[0]=i*l,e[1]=n*l,e[2]=a*s,e[3]=o*s,e}function v(e,t){var r=Math.sin(t),i=Math.cos(t);return e[0]=i,e[1]=r,e[2]=-r,e[3]=i,e}function g(e,t){return e[0]=t[0],e[1]=0,e[2]=0,e[3]=t[1],e}function E(e){return"mat2("+e[0]+", "+e[1]+", "+e[2]+", "+e[3]+")"}function y(e){return Math.sqrt(Math.pow(e[0],2)+Math.pow(e[1],2)+Math.pow(e[2],2)+Math.pow(e[3],2))}function T(e,t,r,i){return e[2]=i[2]/i[0],r[0]=i[0],r[1]=i[1],r[3]=i[3]-e[2]*r[1],[e,t,r]}function w(e,t,r){return e[0]=t[0]+r[0],e[1]=t[1]+r[1],e[2]=t[2]+r[2],e[3]=t[3]+r[3],e}function _(e,t,r){return e[0]=t[0]-r[0],e[1]=t[1]-r[1],e[2]=t[2]-r[2],e[3]=t[3]-r[3],e}function S(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===t[3]}function R(e,t){var r=e[0],n=e[1],a=e[2],o=e[3],l=t[0],s=t[1],u=t[2],c=t[3];return Math.abs(r-l)<=i.EPSILON*Math.max(1,Math.abs(r),Math.abs(l))&&Math.abs(n-s)<=i.EPSILON*Math.max(1,Math.abs(n),Math.abs(s))&&Math.abs(a-u)<=i.EPSILON*Math.max(1,Math.abs(a),Math.abs(u))&&Math.abs(o-c)<=i.EPSILON*Math.max(1,Math.abs(o),Math.abs(c))}function j(e,t,r){return e[0]=t[0]*r,e[1]=t[1]*r,e[2]=t[2]*r,e[3]=t[3]*r,e}function O(e,t,r,i){return e[0]=t[0]+r[0]*i,e[1]=t[1]+r[1]*i,e[2]=t[2]+r[2]*i,e[3]=t[3]+r[3]*i,e}var A=b,z=_},"../node_modules/gl-matrix/lib/gl-matrix/mat2d.js":function(e,t,r){"use strict";r.r(t),r.d(t,"create",(function(){return n})),r.d(t,"clone",(function(){return a})),r.d(t,"copy",(function(){return o})),r.d(t,"identity",(function(){return l})),r.d(t,"fromValues",(function(){return s})),r.d(t,"set",(function(){return u})),r.d(t,"invert",(function(){return c})),r.d(t,"determinant",(function(){return f})),r.d(t,"multiply",(function(){return d})),r.d(t,"rotate",(function(){return h})),r.d(t,"scale",(function(){return b})),r.d(t,"translate",(function(){return m})),r.d(t,"fromRotation",(function(){return p})),r.d(t,"fromScaling",(function(){return v})),r.d(t,"fromTranslation",(function(){return g})),r.d(t,"str",(function(){return E})),r.d(t,"frob",(function(){return y})),r.d(t,"add",(function(){return T})),r.d(t,"subtract",(function(){return w})),r.d(t,"multiplyScalar",(function(){return _})),r.d(t,"multiplyScalarAndAdd",(function(){return S})),r.d(t,"exactEquals",(function(){return R})),r.d(t,"equals",(function(){return j})),r.d(t,"mul",(function(){return O})),r.d(t,"sub",(function(){return A}));var i=r("../node_modules/gl-matrix/lib/gl-matrix/common.js");function n(){var e=new i.ARRAY_TYPE(6);return i.ARRAY_TYPE!=Float32Array&&(e[1]=0,e[2]=0,e[4]=0,e[5]=0),e[0]=1,e[3]=1,e}function a(e){var t=new i.ARRAY_TYPE(6);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t}function o(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e}function l(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=1,e[4]=0,e[5]=0,e}function s(e,t,r,n,a,o){var l=new i.ARRAY_TYPE(6);return l[0]=e,l[1]=t,l[2]=r,l[3]=n,l[4]=a,l[5]=o,l}function u(e,t,r,i,n,a,o){return e[0]=t,e[1]=r,e[2]=i,e[3]=n,e[4]=a,e[5]=o,e}function c(e,t){var r=t[0],i=t[1],n=t[2],a=t[3],o=t[4],l=t[5],s=r*a-i*n;return s?(s=1/s,e[0]=a*s,e[1]=-i*s,e[2]=-n*s,e[3]=r*s,e[4]=(n*l-a*o)*s,e[5]=(i*o-r*l)*s,e):null}function f(e){return e[0]*e[3]-e[1]*e[2]}function d(e,t,r){var i=t[0],n=t[1],a=t[2],o=t[3],l=t[4],s=t[5],u=r[0],c=r[1],f=r[2],d=r[3],h=r[4],b=r[5];return e[0]=i*u+a*c,e[1]=n*u+o*c,e[2]=i*f+a*d,e[3]=n*f+o*d,e[4]=i*h+a*b+l,e[5]=n*h+o*b+s,e}function h(e,t,r){var i=t[0],n=t[1],a=t[2],o=t[3],l=t[4],s=t[5],u=Math.sin(r),c=Math.cos(r);return e[0]=i*c+a*u,e[1]=n*c+o*u,e[2]=i*-u+a*c,e[3]=n*-u+o*c,e[4]=l,e[5]=s,e}function b(e,t,r){var i=t[0],n=t[1],a=t[2],o=t[3],l=t[4],s=t[5],u=r[0],c=r[1];return e[0]=i*u,e[1]=n*u,e[2]=a*c,e[3]=o*c,e[4]=l,e[5]=s,e}function m(e,t,r){var i=t[0],n=t[1],a=t[2],o=t[3],l=t[4],s=t[5],u=r[0],c=r[1];return e[0]=i,e[1]=n,e[2]=a,e[3]=o,e[4]=i*u+a*c+l,e[5]=n*u+o*c+s,e}function p(e,t){var r=Math.sin(t),i=Math.cos(t);return e[0]=i,e[1]=r,e[2]=-r,e[3]=i,e[4]=0,e[5]=0,e}function v(e,t){return e[0]=t[0],e[1]=0,e[2]=0,e[3]=t[1],e[4]=0,e[5]=0,e}function g(e,t){return e[0]=1,e[1]=0,e[2]=0,e[3]=1,e[4]=t[0],e[5]=t[1],e}function E(e){return"mat2d("+e[0]+", "+e[1]+", "+e[2]+", "+e[3]+", "+e[4]+", "+e[5]+")"}function y(e){return Math.sqrt(Math.pow(e[0],2)+Math.pow(e[1],2)+Math.pow(e[2],2)+Math.pow(e[3],2)+Math.pow(e[4],2)+Math.pow(e[5],2)+1)}function T(e,t,r){return e[0]=t[0]+r[0],e[1]=t[1]+r[1],e[2]=t[2]+r[2],e[3]=t[3]+r[3],e[4]=t[4]+r[4],e[5]=t[5]+r[5],e}function w(e,t,r){return e[0]=t[0]-r[0],e[1]=t[1]-r[1],e[2]=t[2]-r[2],e[3]=t[3]-r[3],e[4]=t[4]-r[4],e[5]=t[5]-r[5],e}function _(e,t,r){return e[0]=t[0]*r,e[1]=t[1]*r,e[2]=t[2]*r,e[3]=t[3]*r,e[4]=t[4]*r,e[5]=t[5]*r,e}function S(e,t,r,i){return e[0]=t[0]+r[0]*i,e[1]=t[1]+r[1]*i,e[2]=t[2]+r[2]*i,e[3]=t[3]+r[3]*i,e[4]=t[4]+r[4]*i,e[5]=t[5]+r[5]*i,e}function R(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===t[3]&&e[4]===t[4]&&e[5]===t[5]}function j(e,t){var r=e[0],n=e[1],a=e[2],o=e[3],l=e[4],s=e[5],u=t[0],c=t[1],f=t[2],d=t[3],h=t[4],b=t[5];return Math.abs(r-u)<=i.EPSILON*Math.max(1,Math.abs(r),Math.abs(u))&&Math.abs(n-c)<=i.EPSILON*Math.max(1,Math.abs(n),Math.abs(c))&&Math.abs(a-f)<=i.EPSILON*Math.max(1,Math.abs(a),Math.abs(f))&&Math.abs(o-d)<=i.EPSILON*Math.max(1,Math.abs(o),Math.abs(d))&&Math.abs(l-h)<=i.EPSILON*Math.max(1,Math.abs(l),Math.abs(h))&&Math.abs(s-b)<=i.EPSILON*Math.max(1,Math.abs(s),Math.abs(b))}var O=d,A=w},"../node_modules/gl-matrix/lib/gl-matrix/mat3.js":function(e,t,r){"use strict";r.r(t),r.d(t,"create",(function(){return n})),r.d(t,"fromMat4",(function(){return a})),r.d(t,"clone",(function(){return o})),r.d(t,"copy",(function(){return l})),r.d(t,"fromValues",(function(){return s})),r.d(t,"set",(function(){return u})),r.d(t,"identity",(function(){return c})),r.d(t,"transpose",(function(){return f})),r.d(t,"invert",(function(){return d})),r.d(t,"adjoint",(function(){return h})),r.d(t,"determinant",(function(){return b})),r.d(t,"multiply",(function(){return m})),r.d(t,"translate",(function(){return p})),r.d(t,"rotate",(function(){return v})),r.d(t,"scale",(function(){return g})),r.d(t,"fromTranslation",(function(){return E})),r.d(t,"fromRotation",(function(){return y})),r.d(t,"fromScaling",(function(){return T})),r.d(t,"fromMat2d",(function(){return w})),r.d(t,"fromQuat",(function(){return _})),r.d(t,"normalFromMat4",(function(){return S})),r.d(t,"projection",(function(){return R})),r.d(t,"str",(function(){return j})),r.d(t,"frob",(function(){return O})),r.d(t,"add",(function(){return A})),r.d(t,"subtract",(function(){return z})),r.d(t,"multiplyScalar",(function(){return P})),r.d(t,"multiplyScalarAndAdd",(function(){return C})),r.d(t,"exactEquals",(function(){return D})),r.d(t,"equals",(function(){return I})),r.d(t,"mul",(function(){return x})),r.d(t,"sub",(function(){return L}));var i=r("../node_modules/gl-matrix/lib/gl-matrix/common.js");function n(){var e=new i.ARRAY_TYPE(9);return i.ARRAY_TYPE!=Float32Array&&(e[1]=0,e[2]=0,e[3]=0,e[5]=0,e[6]=0,e[7]=0),e[0]=1,e[4]=1,e[8]=1,e}function a(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[4],e[4]=t[5],e[5]=t[6],e[6]=t[8],e[7]=t[9],e[8]=t[10],e}function o(e){var t=new i.ARRAY_TYPE(9);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t}function l(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e}function s(e,t,r,n,a,o,l,s,u){var c=new i.ARRAY_TYPE(9);return c[0]=e,c[1]=t,c[2]=r,c[3]=n,c[4]=a,c[5]=o,c[6]=l,c[7]=s,c[8]=u,c}function u(e,t,r,i,n,a,o,l,s,u){return e[0]=t,e[1]=r,e[2]=i,e[3]=n,e[4]=a,e[5]=o,e[6]=l,e[7]=s,e[8]=u,e}function c(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=1,e[5]=0,e[6]=0,e[7]=0,e[8]=1,e}function f(e,t){if(e===t){var r=t[1],i=t[2],n=t[5];e[1]=t[3],e[2]=t[6],e[3]=r,e[5]=t[7],e[6]=i,e[7]=n}else e[0]=t[0],e[1]=t[3],e[2]=t[6],e[3]=t[1],e[4]=t[4],e[5]=t[7],e[6]=t[2],e[7]=t[5],e[8]=t[8];return e}function d(e,t){var r=t[0],i=t[1],n=t[2],a=t[3],o=t[4],l=t[5],s=t[6],u=t[7],c=t[8],f=c*o-l*u,d=-c*a+l*s,h=u*a-o*s,b=r*f+i*d+n*h;return b?(b=1/b,e[0]=f*b,e[1]=(-c*i+n*u)*b,e[2]=(l*i-n*o)*b,e[3]=d*b,e[4]=(c*r-n*s)*b,e[5]=(-l*r+n*a)*b,e[6]=h*b,e[7]=(-u*r+i*s)*b,e[8]=(o*r-i*a)*b,e):null}function h(e,t){var r=t[0],i=t[1],n=t[2],a=t[3],o=t[4],l=t[5],s=t[6],u=t[7],c=t[8];return e[0]=o*c-l*u,e[1]=n*u-i*c,e[2]=i*l-n*o,e[3]=l*s-a*c,e[4]=r*c-n*s,e[5]=n*a-r*l,e[6]=a*u-o*s,e[7]=i*s-r*u,e[8]=r*o-i*a,e}function b(e){var t=e[0],r=e[1],i=e[2],n=e[3],a=e[4],o=e[5],l=e[6],s=e[7],u=e[8];return t*(u*a-o*s)+r*(-u*n+o*l)+i*(s*n-a*l)}function m(e,t,r){var i=t[0],n=t[1],a=t[2],o=t[3],l=t[4],s=t[5],u=t[6],c=t[7],f=t[8],d=r[0],h=r[1],b=r[2],m=r[3],p=r[4],v=r[5],g=r[6],E=r[7],y=r[8];return e[0]=d*i+h*o+b*u,e[1]=d*n+h*l+b*c,e[2]=d*a+h*s+b*f,e[3]=m*i+p*o+v*u,e[4]=m*n+p*l+v*c,e[5]=m*a+p*s+v*f,e[6]=g*i+E*o+y*u,e[7]=g*n+E*l+y*c,e[8]=g*a+E*s+y*f,e}function p(e,t,r){var i=t[0],n=t[1],a=t[2],o=t[3],l=t[4],s=t[5],u=t[6],c=t[7],f=t[8],d=r[0],h=r[1];return e[0]=i,e[1]=n,e[2]=a,e[3]=o,e[4]=l,e[5]=s,e[6]=d*i+h*o+u,e[7]=d*n+h*l+c,e[8]=d*a+h*s+f,e}function v(e,t,r){var i=t[0],n=t[1],a=t[2],o=t[3],l=t[4],s=t[5],u=t[6],c=t[7],f=t[8],d=Math.sin(r),h=Math.cos(r);return e[0]=h*i+d*o,e[1]=h*n+d*l,e[2]=h*a+d*s,e[3]=h*o-d*i,e[4]=h*l-d*n,e[5]=h*s-d*a,e[6]=u,e[7]=c,e[8]=f,e}function g(e,t,r){var i=r[0],n=r[1];return e[0]=i*t[0],e[1]=i*t[1],e[2]=i*t[2],e[3]=n*t[3],e[4]=n*t[4],e[5]=n*t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e}function E(e,t){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=1,e[5]=0,e[6]=t[0],e[7]=t[1],e[8]=1,e}function y(e,t){var r=Math.sin(t),i=Math.cos(t);return e[0]=i,e[1]=r,e[2]=0,e[3]=-r,e[4]=i,e[5]=0,e[6]=0,e[7]=0,e[8]=1,e}function T(e,t){return e[0]=t[0],e[1]=0,e[2]=0,e[3]=0,e[4]=t[1],e[5]=0,e[6]=0,e[7]=0,e[8]=1,e}function w(e,t){return e[0]=t[0],e[1]=t[1],e[2]=0,e[3]=t[2],e[4]=t[3],e[5]=0,e[6]=t[4],e[7]=t[5],e[8]=1,e}function _(e,t){var r=t[0],i=t[1],n=t[2],a=t[3],o=r+r,l=i+i,s=n+n,u=r*o,c=i*o,f=i*l,d=n*o,h=n*l,b=n*s,m=a*o,p=a*l,v=a*s;return e[0]=1-f-b,e[3]=c-v,e[6]=d+p,e[1]=c+v,e[4]=1-u-b,e[7]=h-m,e[2]=d-p,e[5]=h+m,e[8]=1-u-f,e}function S(e,t){var r=t[0],i=t[1],n=t[2],a=t[3],o=t[4],l=t[5],s=t[6],u=t[7],c=t[8],f=t[9],d=t[10],h=t[11],b=t[12],m=t[13],p=t[14],v=t[15],g=r*l-i*o,E=r*s-n*o,y=r*u-a*o,T=i*s-n*l,w=i*u-a*l,_=n*u-a*s,S=c*m-f*b,R=c*p-d*b,j=c*v-h*b,O=f*p-d*m,A=f*v-h*m,z=d*v-h*p,P=g*z-E*A+y*O+T*j-w*R+_*S;return P?(P=1/P,e[0]=(l*z-s*A+u*O)*P,e[1]=(s*j-o*z-u*R)*P,e[2]=(o*A-l*j+u*S)*P,e[3]=(n*A-i*z-a*O)*P,e[4]=(r*z-n*j+a*R)*P,e[5]=(i*j-r*A-a*S)*P,e[6]=(m*_-p*w+v*T)*P,e[7]=(p*y-b*_-v*E)*P,e[8]=(b*w-m*y+v*g)*P,e):null}function R(e,t,r){return e[0]=2/t,e[1]=0,e[2]=0,e[3]=0,e[4]=-2/r,e[5]=0,e[6]=-1,e[7]=1,e[8]=1,e}function j(e){return"mat3("+e[0]+", "+e[1]+", "+e[2]+", "+e[3]+", "+e[4]+", "+e[5]+", "+e[6]+", "+e[7]+", "+e[8]+")"}function O(e){return Math.sqrt(Math.pow(e[0],2)+Math.pow(e[1],2)+Math.pow(e[2],2)+Math.pow(e[3],2)+Math.pow(e[4],2)+Math.pow(e[5],2)+Math.pow(e[6],2)+Math.pow(e[7],2)+Math.pow(e[8],2))}function A(e,t,r){return e[0]=t[0]+r[0],e[1]=t[1]+r[1],e[2]=t[2]+r[2],e[3]=t[3]+r[3],e[4]=t[4]+r[4],e[5]=t[5]+r[5],e[6]=t[6]+r[6],e[7]=t[7]+r[7],e[8]=t[8]+r[8],e}function z(e,t,r){return e[0]=t[0]-r[0],e[1]=t[1]-r[1],e[2]=t[2]-r[2],e[3]=t[3]-r[3],e[4]=t[4]-r[4],e[5]=t[5]-r[5],e[6]=t[6]-r[6],e[7]=t[7]-r[7],e[8]=t[8]-r[8],e}function P(e,t,r){return e[0]=t[0]*r,e[1]=t[1]*r,e[2]=t[2]*r,e[3]=t[3]*r,e[4]=t[4]*r,e[5]=t[5]*r,e[6]=t[6]*r,e[7]=t[7]*r,e[8]=t[8]*r,e}function C(e,t,r,i){return e[0]=t[0]+r[0]*i,e[1]=t[1]+r[1]*i,e[2]=t[2]+r[2]*i,e[3]=t[3]+r[3]*i,e[4]=t[4]+r[4]*i,e[5]=t[5]+r[5]*i,e[6]=t[6]+r[6]*i,e[7]=t[7]+r[7]*i,e[8]=t[8]+r[8]*i,e}function D(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===t[3]&&e[4]===t[4]&&e[5]===t[5]&&e[6]===t[6]&&e[7]===t[7]&&e[8]===t[8]}function I(e,t){var r=e[0],n=e[1],a=e[2],o=e[3],l=e[4],s=e[5],u=e[6],c=e[7],f=e[8],d=t[0],h=t[1],b=t[2],m=t[3],p=t[4],v=t[5],g=t[6],E=t[7],y=t[8];return Math.abs(r-d)<=i.EPSILON*Math.max(1,Math.abs(r),Math.abs(d))&&Math.abs(n-h)<=i.EPSILON*Math.max(1,Math.abs(n),Math.abs(h))&&Math.abs(a-b)<=i.EPSILON*Math.max(1,Math.abs(a),Math.abs(b))&&Math.abs(o-m)<=i.EPSILON*Math.max(1,Math.abs(o),Math.abs(m))&&Math.abs(l-p)<=i.EPSILON*Math.max(1,Math.abs(l),Math.abs(p))&&Math.abs(s-v)<=i.EPSILON*Math.max(1,Math.abs(s),Math.abs(v))&&Math.abs(u-g)<=i.EPSILON*Math.max(1,Math.abs(u),Math.abs(g))&&Math.abs(c-E)<=i.EPSILON*Math.max(1,Math.abs(c),Math.abs(E))&&Math.abs(f-y)<=i.EPSILON*Math.max(1,Math.abs(f),Math.abs(y))}var x=m,L=z},"../node_modules/gl-matrix/lib/gl-matrix/mat4.js":function(e,t,r){"use strict";r.r(t),r.d(t,"create",(function(){return n})),r.d(t,"clone",(function(){return a})),r.d(t,"copy",(function(){return o})),r.d(t,"fromValues",(function(){return l})),r.d(t,"set",(function(){return s})),r.d(t,"identity",(function(){return u})),r.d(t,"transpose",(function(){return c})),r.d(t,"invert",(function(){return f})),r.d(t,"adjoint",(function(){return d})),r.d(t,"determinant",(function(){return h})),r.d(t,"multiply",(function(){return b})),r.d(t,"translate",(function(){return m})),r.d(t,"scale",(function(){return p})),r.d(t,"rotate",(function(){return v})),r.d(t,"rotateX",(function(){return g})),r.d(t,"rotateY",(function(){return E})),r.d(t,"rotateZ",(function(){return y})),r.d(t,"fromTranslation",(function(){return T})),r.d(t,"fromScaling",(function(){return w})),r.d(t,"fromRotation",(function(){return _})),r.d(t,"fromXRotation",(function(){return S})),r.d(t,"fromYRotation",(function(){return R})),r.d(t,"fromZRotation",(function(){return j})),r.d(t,"fromRotationTranslation",(function(){return O})),r.d(t,"fromQuat2",(function(){return A})),r.d(t,"getTranslation",(function(){return z})),r.d(t,"getScaling",(function(){return P})),r.d(t,"getRotation",(function(){return C})),r.d(t,"fromRotationTranslationScale",(function(){return D})),r.d(t,"fromRotationTranslationScaleOrigin",(function(){return I})),r.d(t,"fromQuat",(function(){return x})),r.d(t,"frustum",(function(){return L})),r.d(t,"perspective",(function(){return M})),r.d(t,"perspectiveFromFieldOfView",(function(){return F})),r.d(t,"ortho",(function(){return G})),r.d(t,"lookAt",(function(){return k})),r.d(t,"targetTo",(function(){return N})),r.d(t,"str",(function(){return B})),r.d(t,"frob",(function(){return U})),r.d(t,"add",(function(){return V})),r.d(t,"subtract",(function(){return H})),r.d(t,"multiplyScalar",(function(){return q})),r.d(t,"multiplyScalarAndAdd",(function(){return W})),r.d(t,"exactEquals",(function(){return Y})),r.d(t,"equals",(function(){return X})),r.d(t,"mul",(function(){return K})),r.d(t,"sub",(function(){return Q}));var i=r("../node_modules/gl-matrix/lib/gl-matrix/common.js");function n(){var e=new i.ARRAY_TYPE(16);return i.ARRAY_TYPE!=Float32Array&&(e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[11]=0,e[12]=0,e[13]=0,e[14]=0),e[0]=1,e[5]=1,e[10]=1,e[15]=1,e}function a(e){var t=new i.ARRAY_TYPE(16);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t}function o(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e}function l(e,t,r,n,a,o,l,s,u,c,f,d,h,b,m,p){var v=new i.ARRAY_TYPE(16);return v[0]=e,v[1]=t,v[2]=r,v[3]=n,v[4]=a,v[5]=o,v[6]=l,v[7]=s,v[8]=u,v[9]=c,v[10]=f,v[11]=d,v[12]=h,v[13]=b,v[14]=m,v[15]=p,v}function s(e,t,r,i,n,a,o,l,s,u,c,f,d,h,b,m,p){return e[0]=t,e[1]=r,e[2]=i,e[3]=n,e[4]=a,e[5]=o,e[6]=l,e[7]=s,e[8]=u,e[9]=c,e[10]=f,e[11]=d,e[12]=h,e[13]=b,e[14]=m,e[15]=p,e}function u(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function c(e,t){if(e===t){var r=t[1],i=t[2],n=t[3],a=t[6],o=t[7],l=t[11];e[1]=t[4],e[2]=t[8],e[3]=t[12],e[4]=r,e[6]=t[9],e[7]=t[13],e[8]=i,e[9]=a,e[11]=t[14],e[12]=n,e[13]=o,e[14]=l}else e[0]=t[0],e[1]=t[4],e[2]=t[8],e[3]=t[12],e[4]=t[1],e[5]=t[5],e[6]=t[9],e[7]=t[13],e[8]=t[2],e[9]=t[6],e[10]=t[10],e[11]=t[14],e[12]=t[3],e[13]=t[7],e[14]=t[11],e[15]=t[15];return e}function f(e,t){var r=t[0],i=t[1],n=t[2],a=t[3],o=t[4],l=t[5],s=t[6],u=t[7],c=t[8],f=t[9],d=t[10],h=t[11],b=t[12],m=t[13],p=t[14],v=t[15],g=r*l-i*o,E=r*s-n*o,y=r*u-a*o,T=i*s-n*l,w=i*u-a*l,_=n*u-a*s,S=c*m-f*b,R=c*p-d*b,j=c*v-h*b,O=f*p-d*m,A=f*v-h*m,z=d*v-h*p,P=g*z-E*A+y*O+T*j-w*R+_*S;return P?(P=1/P,e[0]=(l*z-s*A+u*O)*P,e[1]=(n*A-i*z-a*O)*P,e[2]=(m*_-p*w+v*T)*P,e[3]=(d*w-f*_-h*T)*P,e[4]=(s*j-o*z-u*R)*P,e[5]=(r*z-n*j+a*R)*P,e[6]=(p*y-b*_-v*E)*P,e[7]=(c*_-d*y+h*E)*P,e[8]=(o*A-l*j+u*S)*P,e[9]=(i*j-r*A-a*S)*P,e[10]=(b*w-m*y+v*g)*P,e[11]=(f*y-c*w-h*g)*P,e[12]=(l*R-o*O-s*S)*P,e[13]=(r*O-i*R+n*S)*P,e[14]=(m*E-b*T-p*g)*P,e[15]=(c*T-f*E+d*g)*P,e):null}function d(e,t){var r=t[0],i=t[1],n=t[2],a=t[3],o=t[4],l=t[5],s=t[6],u=t[7],c=t[8],f=t[9],d=t[10],h=t[11],b=t[12],m=t[13],p=t[14],v=t[15];return e[0]=l*(d*v-h*p)-f*(s*v-u*p)+m*(s*h-u*d),e[1]=-(i*(d*v-h*p)-f*(n*v-a*p)+m*(n*h-a*d)),e[2]=i*(s*v-u*p)-l*(n*v-a*p)+m*(n*u-a*s),e[3]=-(i*(s*h-u*d)-l*(n*h-a*d)+f*(n*u-a*s)),e[4]=-(o*(d*v-h*p)-c*(s*v-u*p)+b*(s*h-u*d)),e[5]=r*(d*v-h*p)-c*(n*v-a*p)+b*(n*h-a*d),e[6]=-(r*(s*v-u*p)-o*(n*v-a*p)+b*(n*u-a*s)),e[7]=r*(s*h-u*d)-o*(n*h-a*d)+c*(n*u-a*s),e[8]=o*(f*v-h*m)-c*(l*v-u*m)+b*(l*h-u*f),e[9]=-(r*(f*v-h*m)-c*(i*v-a*m)+b*(i*h-a*f)),e[10]=r*(l*v-u*m)-o*(i*v-a*m)+b*(i*u-a*l),e[11]=-(r*(l*h-u*f)-o*(i*h-a*f)+c*(i*u-a*l)),e[12]=-(o*(f*p-d*m)-c*(l*p-s*m)+b*(l*d-s*f)),e[13]=r*(f*p-d*m)-c*(i*p-n*m)+b*(i*d-n*f),e[14]=-(r*(l*p-s*m)-o*(i*p-n*m)+b*(i*s-n*l)),e[15]=r*(l*d-s*f)-o*(i*d-n*f)+c*(i*s-n*l),e}function h(e){var t=e[0],r=e[1],i=e[2],n=e[3],a=e[4],o=e[5],l=e[6],s=e[7],u=e[8],c=e[9],f=e[10],d=e[11],h=e[12],b=e[13],m=e[14],p=e[15];return(t*o-r*a)*(f*p-d*m)-(t*l-i*a)*(c*p-d*b)+(t*s-n*a)*(c*m-f*b)+(r*l-i*o)*(u*p-d*h)-(r*s-n*o)*(u*m-f*h)+(i*s-n*l)*(u*b-c*h)}function b(e,t,r){var i=t[0],n=t[1],a=t[2],o=t[3],l=t[4],s=t[5],u=t[6],c=t[7],f=t[8],d=t[9],h=t[10],b=t[11],m=t[12],p=t[13],v=t[14],g=t[15],E=r[0],y=r[1],T=r[2],w=r[3];return e[0]=E*i+y*l+T*f+w*m,e[1]=E*n+y*s+T*d+w*p,e[2]=E*a+y*u+T*h+w*v,e[3]=E*o+y*c+T*b+w*g,E=r[4],y=r[5],T=r[6],w=r[7],e[4]=E*i+y*l+T*f+w*m,e[5]=E*n+y*s+T*d+w*p,e[6]=E*a+y*u+T*h+w*v,e[7]=E*o+y*c+T*b+w*g,E=r[8],y=r[9],T=r[10],w=r[11],e[8]=E*i+y*l+T*f+w*m,e[9]=E*n+y*s+T*d+w*p,e[10]=E*a+y*u+T*h+w*v,e[11]=E*o+y*c+T*b+w*g,E=r[12],y=r[13],T=r[14],w=r[15],e[12]=E*i+y*l+T*f+w*m,e[13]=E*n+y*s+T*d+w*p,e[14]=E*a+y*u+T*h+w*v,e[15]=E*o+y*c+T*b+w*g,e}function m(e,t,r){var i=r[0],n=r[1],a=r[2],o=void 0,l=void 0,s=void 0,u=void 0,c=void 0,f=void 0,d=void 0,h=void 0,b=void 0,m=void 0,p=void 0,v=void 0;return t===e?(e[12]=t[0]*i+t[4]*n+t[8]*a+t[12],e[13]=t[1]*i+t[5]*n+t[9]*a+t[13],e[14]=t[2]*i+t[6]*n+t[10]*a+t[14],e[15]=t[3]*i+t[7]*n+t[11]*a+t[15]):(o=t[0],l=t[1],s=t[2],u=t[3],c=t[4],f=t[5],d=t[6],h=t[7],b=t[8],m=t[9],p=t[10],v=t[11],e[0]=o,e[1]=l,e[2]=s,e[3]=u,e[4]=c,e[5]=f,e[6]=d,e[7]=h,e[8]=b,e[9]=m,e[10]=p,e[11]=v,e[12]=o*i+c*n+b*a+t[12],e[13]=l*i+f*n+m*a+t[13],e[14]=s*i+d*n+p*a+t[14],e[15]=u*i+h*n+v*a+t[15]),e}function p(e,t,r){var i=r[0],n=r[1],a=r[2];return e[0]=t[0]*i,e[1]=t[1]*i,e[2]=t[2]*i,e[3]=t[3]*i,e[4]=t[4]*n,e[5]=t[5]*n,e[6]=t[6]*n,e[7]=t[7]*n,e[8]=t[8]*a,e[9]=t[9]*a,e[10]=t[10]*a,e[11]=t[11]*a,e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e}function v(e,t,r,n){var a,o,l,s,u,c,f,d,h,b,m,p,v,g,E,y,T,w,_,S,R,j,O,A,z=n[0],P=n[1],C=n[2],D=Math.sqrt(z*z+P*P+C*C);return D<i.EPSILON?null:(z*=D=1/D,P*=D,C*=D,a=Math.sin(r),l=1-(o=Math.cos(r)),s=t[0],u=t[1],c=t[2],f=t[3],d=t[4],h=t[5],b=t[6],m=t[7],p=t[8],v=t[9],g=t[10],E=t[11],y=z*z*l+o,T=P*z*l+C*a,w=C*z*l-P*a,_=z*P*l-C*a,S=P*P*l+o,R=C*P*l+z*a,j=z*C*l+P*a,O=P*C*l-z*a,A=C*C*l+o,e[0]=s*y+d*T+p*w,e[1]=u*y+h*T+v*w,e[2]=c*y+b*T+g*w,e[3]=f*y+m*T+E*w,e[4]=s*_+d*S+p*R,e[5]=u*_+h*S+v*R,e[6]=c*_+b*S+g*R,e[7]=f*_+m*S+E*R,e[8]=s*j+d*O+p*A,e[9]=u*j+h*O+v*A,e[10]=c*j+b*O+g*A,e[11]=f*j+m*O+E*A,t!==e&&(e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e)}function g(e,t,r){var i=Math.sin(r),n=Math.cos(r),a=t[4],o=t[5],l=t[6],s=t[7],u=t[8],c=t[9],f=t[10],d=t[11];return t!==e&&(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[4]=a*n+u*i,e[5]=o*n+c*i,e[6]=l*n+f*i,e[7]=s*n+d*i,e[8]=u*n-a*i,e[9]=c*n-o*i,e[10]=f*n-l*i,e[11]=d*n-s*i,e}function E(e,t,r){var i=Math.sin(r),n=Math.cos(r),a=t[0],o=t[1],l=t[2],s=t[3],u=t[8],c=t[9],f=t[10],d=t[11];return t!==e&&(e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[0]=a*n-u*i,e[1]=o*n-c*i,e[2]=l*n-f*i,e[3]=s*n-d*i,e[8]=a*i+u*n,e[9]=o*i+c*n,e[10]=l*i+f*n,e[11]=s*i+d*n,e}function y(e,t,r){var i=Math.sin(r),n=Math.cos(r),a=t[0],o=t[1],l=t[2],s=t[3],u=t[4],c=t[5],f=t[6],d=t[7];return t!==e&&(e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[0]=a*n+u*i,e[1]=o*n+c*i,e[2]=l*n+f*i,e[3]=s*n+d*i,e[4]=u*n-a*i,e[5]=c*n-o*i,e[6]=f*n-l*i,e[7]=d*n-s*i,e}function T(e,t){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=t[0],e[13]=t[1],e[14]=t[2],e[15]=1,e}function w(e,t){return e[0]=t[0],e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=t[1],e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=t[2],e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function _(e,t,r){var n,a,o,l=r[0],s=r[1],u=r[2],c=Math.sqrt(l*l+s*s+u*u);return c<i.EPSILON?null:(l*=c=1/c,s*=c,u*=c,n=Math.sin(t),o=1-(a=Math.cos(t)),e[0]=l*l*o+a,e[1]=s*l*o+u*n,e[2]=u*l*o-s*n,e[3]=0,e[4]=l*s*o-u*n,e[5]=s*s*o+a,e[6]=u*s*o+l*n,e[7]=0,e[8]=l*u*o+s*n,e[9]=s*u*o-l*n,e[10]=u*u*o+a,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e)}function S(e,t){var r=Math.sin(t),i=Math.cos(t);return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=i,e[6]=r,e[7]=0,e[8]=0,e[9]=-r,e[10]=i,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function R(e,t){var r=Math.sin(t),i=Math.cos(t);return e[0]=i,e[1]=0,e[2]=-r,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=r,e[9]=0,e[10]=i,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function j(e,t){var r=Math.sin(t),i=Math.cos(t);return e[0]=i,e[1]=r,e[2]=0,e[3]=0,e[4]=-r,e[5]=i,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function O(e,t,r){var i=t[0],n=t[1],a=t[2],o=t[3],l=i+i,s=n+n,u=a+a,c=i*l,f=i*s,d=i*u,h=n*s,b=n*u,m=a*u,p=o*l,v=o*s,g=o*u;return e[0]=1-(h+m),e[1]=f+g,e[2]=d-v,e[3]=0,e[4]=f-g,e[5]=1-(c+m),e[6]=b+p,e[7]=0,e[8]=d+v,e[9]=b-p,e[10]=1-(c+h),e[11]=0,e[12]=r[0],e[13]=r[1],e[14]=r[2],e[15]=1,e}function A(e,t){var r=new i.ARRAY_TYPE(3),n=-t[0],a=-t[1],o=-t[2],l=t[3],s=t[4],u=t[5],c=t[6],f=t[7],d=n*n+a*a+o*o+l*l;return d>0?(r[0]=2*(s*l+f*n+u*o-c*a)/d,r[1]=2*(u*l+f*a+c*n-s*o)/d,r[2]=2*(c*l+f*o+s*a-u*n)/d):(r[0]=2*(s*l+f*n+u*o-c*a),r[1]=2*(u*l+f*a+c*n-s*o),r[2]=2*(c*l+f*o+s*a-u*n)),O(e,t,r),e}function z(e,t){return e[0]=t[12],e[1]=t[13],e[2]=t[14],e}function P(e,t){var r=t[0],i=t[1],n=t[2],a=t[4],o=t[5],l=t[6],s=t[8],u=t[9],c=t[10];return e[0]=Math.sqrt(r*r+i*i+n*n),e[1]=Math.sqrt(a*a+o*o+l*l),e[2]=Math.sqrt(s*s+u*u+c*c),e}function C(e,t){var r=t[0]+t[5]+t[10],i=0;return r>0?(i=2*Math.sqrt(r+1),e[3]=.25*i,e[0]=(t[6]-t[9])/i,e[1]=(t[8]-t[2])/i,e[2]=(t[1]-t[4])/i):t[0]>t[5]&&t[0]>t[10]?(i=2*Math.sqrt(1+t[0]-t[5]-t[10]),e[3]=(t[6]-t[9])/i,e[0]=.25*i,e[1]=(t[1]+t[4])/i,e[2]=(t[8]+t[2])/i):t[5]>t[10]?(i=2*Math.sqrt(1+t[5]-t[0]-t[10]),e[3]=(t[8]-t[2])/i,e[0]=(t[1]+t[4])/i,e[1]=.25*i,e[2]=(t[6]+t[9])/i):(i=2*Math.sqrt(1+t[10]-t[0]-t[5]),e[3]=(t[1]-t[4])/i,e[0]=(t[8]+t[2])/i,e[1]=(t[6]+t[9])/i,e[2]=.25*i),e}function D(e,t,r,i){var n=t[0],a=t[1],o=t[2],l=t[3],s=n+n,u=a+a,c=o+o,f=n*s,d=n*u,h=n*c,b=a*u,m=a*c,p=o*c,v=l*s,g=l*u,E=l*c,y=i[0],T=i[1],w=i[2];return e[0]=(1-(b+p))*y,e[1]=(d+E)*y,e[2]=(h-g)*y,e[3]=0,e[4]=(d-E)*T,e[5]=(1-(f+p))*T,e[6]=(m+v)*T,e[7]=0,e[8]=(h+g)*w,e[9]=(m-v)*w,e[10]=(1-(f+b))*w,e[11]=0,e[12]=r[0],e[13]=r[1],e[14]=r[2],e[15]=1,e}function I(e,t,r,i,n){var a=t[0],o=t[1],l=t[2],s=t[3],u=a+a,c=o+o,f=l+l,d=a*u,h=a*c,b=a*f,m=o*c,p=o*f,v=l*f,g=s*u,E=s*c,y=s*f,T=i[0],w=i[1],_=i[2],S=n[0],R=n[1],j=n[2],O=(1-(m+v))*T,A=(h+y)*T,z=(b-E)*T,P=(h-y)*w,C=(1-(d+v))*w,D=(p+g)*w,I=(b+E)*_,x=(p-g)*_,L=(1-(d+m))*_;return e[0]=O,e[1]=A,e[2]=z,e[3]=0,e[4]=P,e[5]=C,e[6]=D,e[7]=0,e[8]=I,e[9]=x,e[10]=L,e[11]=0,e[12]=r[0]+S-(O*S+P*R+I*j),e[13]=r[1]+R-(A*S+C*R+x*j),e[14]=r[2]+j-(z*S+D*R+L*j),e[15]=1,e}function x(e,t){var r=t[0],i=t[1],n=t[2],a=t[3],o=r+r,l=i+i,s=n+n,u=r*o,c=i*o,f=i*l,d=n*o,h=n*l,b=n*s,m=a*o,p=a*l,v=a*s;return e[0]=1-f-b,e[1]=c+v,e[2]=d-p,e[3]=0,e[4]=c-v,e[5]=1-u-b,e[6]=h+m,e[7]=0,e[8]=d+p,e[9]=h-m,e[10]=1-u-f,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function L(e,t,r,i,n,a,o){var l=1/(r-t),s=1/(n-i),u=1/(a-o);return e[0]=2*a*l,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=2*a*s,e[6]=0,e[7]=0,e[8]=(r+t)*l,e[9]=(n+i)*s,e[10]=(o+a)*u,e[11]=-1,e[12]=0,e[13]=0,e[14]=o*a*2*u,e[15]=0,e}function M(e,t,r,i,n){var a=1/Math.tan(t/2),o=void 0;return e[0]=a/r,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=a,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[11]=-1,e[12]=0,e[13]=0,e[15]=0,null!=n&&n!==1/0?(o=1/(i-n),e[10]=(n+i)*o,e[14]=2*n*i*o):(e[10]=-1,e[14]=-2*i),e}function F(e,t,r,i){var n=Math.tan(t.upDegrees*Math.PI/180),a=Math.tan(t.downDegrees*Math.PI/180),o=Math.tan(t.leftDegrees*Math.PI/180),l=Math.tan(t.rightDegrees*Math.PI/180),s=2/(o+l),u=2/(n+a);return e[0]=s,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=u,e[6]=0,e[7]=0,e[8]=-(o-l)*s*.5,e[9]=(n-a)*u*.5,e[10]=i/(r-i),e[11]=-1,e[12]=0,e[13]=0,e[14]=i*r/(r-i),e[15]=0,e}function G(e,t,r,i,n,a,o){var l=1/(t-r),s=1/(i-n),u=1/(a-o);return e[0]=-2*l,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=-2*s,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=2*u,e[11]=0,e[12]=(t+r)*l,e[13]=(n+i)*s,e[14]=(o+a)*u,e[15]=1,e}function k(e,t,r,n){var a=void 0,o=void 0,l=void 0,s=void 0,c=void 0,f=void 0,d=void 0,h=void 0,b=void 0,m=void 0,p=t[0],v=t[1],g=t[2],E=n[0],y=n[1],T=n[2],w=r[0],_=r[1],S=r[2];return Math.abs(p-w)<i.EPSILON&&Math.abs(v-_)<i.EPSILON&&Math.abs(g-S)<i.EPSILON?u(e):(d=p-w,h=v-_,b=g-S,a=y*(b*=m=1/Math.sqrt(d*d+h*h+b*b))-T*(h*=m),o=T*(d*=m)-E*b,l=E*h-y*d,(m=Math.sqrt(a*a+o*o+l*l))?(a*=m=1/m,o*=m,l*=m):(a=0,o=0,l=0),s=h*l-b*o,c=b*a-d*l,f=d*o-h*a,(m=Math.sqrt(s*s+c*c+f*f))?(s*=m=1/m,c*=m,f*=m):(s=0,c=0,f=0),e[0]=a,e[1]=s,e[2]=d,e[3]=0,e[4]=o,e[5]=c,e[6]=h,e[7]=0,e[8]=l,e[9]=f,e[10]=b,e[11]=0,e[12]=-(a*p+o*v+l*g),e[13]=-(s*p+c*v+f*g),e[14]=-(d*p+h*v+b*g),e[15]=1,e)}function N(e,t,r,i){var n=t[0],a=t[1],o=t[2],l=i[0],s=i[1],u=i[2],c=n-r[0],f=a-r[1],d=o-r[2],h=c*c+f*f+d*d;h>0&&(c*=h=1/Math.sqrt(h),f*=h,d*=h);var b=s*d-u*f,m=u*c-l*d,p=l*f-s*c;return(h=b*b+m*m+p*p)>0&&(b*=h=1/Math.sqrt(h),m*=h,p*=h),e[0]=b,e[1]=m,e[2]=p,e[3]=0,e[4]=f*p-d*m,e[5]=d*b-c*p,e[6]=c*m-f*b,e[7]=0,e[8]=c,e[9]=f,e[10]=d,e[11]=0,e[12]=n,e[13]=a,e[14]=o,e[15]=1,e}function B(e){return"mat4("+e[0]+", "+e[1]+", "+e[2]+", "+e[3]+", "+e[4]+", "+e[5]+", "+e[6]+", "+e[7]+", "+e[8]+", "+e[9]+", "+e[10]+", "+e[11]+", "+e[12]+", "+e[13]+", "+e[14]+", "+e[15]+")"}function U(e){return Math.sqrt(Math.pow(e[0],2)+Math.pow(e[1],2)+Math.pow(e[2],2)+Math.pow(e[3],2)+Math.pow(e[4],2)+Math.pow(e[5],2)+Math.pow(e[6],2)+Math.pow(e[7],2)+Math.pow(e[8],2)+Math.pow(e[9],2)+Math.pow(e[10],2)+Math.pow(e[11],2)+Math.pow(e[12],2)+Math.pow(e[13],2)+Math.pow(e[14],2)+Math.pow(e[15],2))}function V(e,t,r){return e[0]=t[0]+r[0],e[1]=t[1]+r[1],e[2]=t[2]+r[2],e[3]=t[3]+r[3],e[4]=t[4]+r[4],e[5]=t[5]+r[5],e[6]=t[6]+r[6],e[7]=t[7]+r[7],e[8]=t[8]+r[8],e[9]=t[9]+r[9],e[10]=t[10]+r[10],e[11]=t[11]+r[11],e[12]=t[12]+r[12],e[13]=t[13]+r[13],e[14]=t[14]+r[14],e[15]=t[15]+r[15],e}function H(e,t,r){return e[0]=t[0]-r[0],e[1]=t[1]-r[1],e[2]=t[2]-r[2],e[3]=t[3]-r[3],e[4]=t[4]-r[4],e[5]=t[5]-r[5],e[6]=t[6]-r[6],e[7]=t[7]-r[7],e[8]=t[8]-r[8],e[9]=t[9]-r[9],e[10]=t[10]-r[10],e[11]=t[11]-r[11],e[12]=t[12]-r[12],e[13]=t[13]-r[13],e[14]=t[14]-r[14],e[15]=t[15]-r[15],e}function q(e,t,r){return e[0]=t[0]*r,e[1]=t[1]*r,e[2]=t[2]*r,e[3]=t[3]*r,e[4]=t[4]*r,e[5]=t[5]*r,e[6]=t[6]*r,e[7]=t[7]*r,e[8]=t[8]*r,e[9]=t[9]*r,e[10]=t[10]*r,e[11]=t[11]*r,e[12]=t[12]*r,e[13]=t[13]*r,e[14]=t[14]*r,e[15]=t[15]*r,e}function W(e,t,r,i){return e[0]=t[0]+r[0]*i,e[1]=t[1]+r[1]*i,e[2]=t[2]+r[2]*i,e[3]=t[3]+r[3]*i,e[4]=t[4]+r[4]*i,e[5]=t[5]+r[5]*i,e[6]=t[6]+r[6]*i,e[7]=t[7]+r[7]*i,e[8]=t[8]+r[8]*i,e[9]=t[9]+r[9]*i,e[10]=t[10]+r[10]*i,e[11]=t[11]+r[11]*i,e[12]=t[12]+r[12]*i,e[13]=t[13]+r[13]*i,e[14]=t[14]+r[14]*i,e[15]=t[15]+r[15]*i,e}function Y(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===t[3]&&e[4]===t[4]&&e[5]===t[5]&&e[6]===t[6]&&e[7]===t[7]&&e[8]===t[8]&&e[9]===t[9]&&e[10]===t[10]&&e[11]===t[11]&&e[12]===t[12]&&e[13]===t[13]&&e[14]===t[14]&&e[15]===t[15]}function X(e,t){var r=e[0],n=e[1],a=e[2],o=e[3],l=e[4],s=e[5],u=e[6],c=e[7],f=e[8],d=e[9],h=e[10],b=e[11],m=e[12],p=e[13],v=e[14],g=e[15],E=t[0],y=t[1],T=t[2],w=t[3],_=t[4],S=t[5],R=t[6],j=t[7],O=t[8],A=t[9],z=t[10],P=t[11],C=t[12],D=t[13],I=t[14],x=t[15];return Math.abs(r-E)<=i.EPSILON*Math.max(1,Math.abs(r),Math.abs(E))&&Math.abs(n-y)<=i.EPSILON*Math.max(1,Math.abs(n),Math.abs(y))&&Math.abs(a-T)<=i.EPSILON*Math.max(1,Math.abs(a),Math.abs(T))&&Math.abs(o-w)<=i.EPSILON*Math.max(1,Math.abs(o),Math.abs(w))&&Math.abs(l-_)<=i.EPSILON*Math.max(1,Math.abs(l),Math.abs(_))&&Math.abs(s-S)<=i.EPSILON*Math.max(1,Math.abs(s),Math.abs(S))&&Math.abs(u-R)<=i.EPSILON*Math.max(1,Math.abs(u),Math.abs(R))&&Math.abs(c-j)<=i.EPSILON*Math.max(1,Math.abs(c),Math.abs(j))&&Math.abs(f-O)<=i.EPSILON*Math.max(1,Math.abs(f),Math.abs(O))&&Math.abs(d-A)<=i.EPSILON*Math.max(1,Math.abs(d),Math.abs(A))&&Math.abs(h-z)<=i.EPSILON*Math.max(1,Math.abs(h),Math.abs(z))&&Math.abs(b-P)<=i.EPSILON*Math.max(1,Math.abs(b),Math.abs(P))&&Math.abs(m-C)<=i.EPSILON*Math.max(1,Math.abs(m),Math.abs(C))&&Math.abs(p-D)<=i.EPSILON*Math.max(1,Math.abs(p),Math.abs(D))&&Math.abs(v-I)<=i.EPSILON*Math.max(1,Math.abs(v),Math.abs(I))&&Math.abs(g-x)<=i.EPSILON*Math.max(1,Math.abs(g),Math.abs(x))}var K=b,Q=H},"../node_modules/gl-matrix/lib/gl-matrix/quat.js":function(e,t,r){"use strict";r.r(t),r.d(t,"create",(function(){return l})),r.d(t,"identity",(function(){return s})),r.d(t,"setAxisAngle",(function(){return u})),r.d(t,"getAxisAngle",(function(){return c})),r.d(t,"multiply",(function(){return f})),r.d(t,"rotateX",(function(){return d})),r.d(t,"rotateY",(function(){return h})),r.d(t,"rotateZ",(function(){return b})),r.d(t,"calculateW",(function(){return m})),r.d(t,"slerp",(function(){return p})),r.d(t,"random",(function(){return v})),r.d(t,"invert",(function(){return g})),r.d(t,"conjugate",(function(){return E})),r.d(t,"fromMat3",(function(){return y})),r.d(t,"fromEuler",(function(){return T})),r.d(t,"str",(function(){return w})),r.d(t,"clone",(function(){return z})),r.d(t,"fromValues",(function(){return P})),r.d(t,"copy",(function(){return C})),r.d(t,"set",(function(){return D})),r.d(t,"add",(function(){return I})),r.d(t,"mul",(function(){return x})),r.d(t,"scale",(function(){return L})),r.d(t,"dot",(function(){return M})),r.d(t,"lerp",(function(){return F})),r.d(t,"length",(function(){return G})),r.d(t,"len",(function(){return k})),r.d(t,"squaredLength",(function(){return N})),r.d(t,"sqrLen",(function(){return B})),r.d(t,"normalize",(function(){return U})),r.d(t,"exactEquals",(function(){return V})),r.d(t,"equals",(function(){return H})),r.d(t,"rotationTo",(function(){return q})),r.d(t,"sqlerp",(function(){return W})),r.d(t,"setAxes",(function(){return Y}));var i=r("../node_modules/gl-matrix/lib/gl-matrix/common.js"),n=r("../node_modules/gl-matrix/lib/gl-matrix/mat3.js"),a=r("../node_modules/gl-matrix/lib/gl-matrix/vec3.js"),o=r("../node_modules/gl-matrix/lib/gl-matrix/vec4.js");function l(){var e=new i.ARRAY_TYPE(4);return i.ARRAY_TYPE!=Float32Array&&(e[0]=0,e[1]=0,e[2]=0),e[3]=1,e}function s(e){return e[0]=0,e[1]=0,e[2]=0,e[3]=1,e}function u(e,t,r){r*=.5;var i=Math.sin(r);return e[0]=i*t[0],e[1]=i*t[1],e[2]=i*t[2],e[3]=Math.cos(r),e}function c(e,t){var r=2*Math.acos(t[3]),n=Math.sin(r/2);return n>i.EPSILON?(e[0]=t[0]/n,e[1]=t[1]/n,e[2]=t[2]/n):(e[0]=1,e[1]=0,e[2]=0),r}function f(e,t,r){var i=t[0],n=t[1],a=t[2],o=t[3],l=r[0],s=r[1],u=r[2],c=r[3];return e[0]=i*c+o*l+n*u-a*s,e[1]=n*c+o*s+a*l-i*u,e[2]=a*c+o*u+i*s-n*l,e[3]=o*c-i*l-n*s-a*u,e}function d(e,t,r){r*=.5;var i=t[0],n=t[1],a=t[2],o=t[3],l=Math.sin(r),s=Math.cos(r);return e[0]=i*s+o*l,e[1]=n*s+a*l,e[2]=a*s-n*l,e[3]=o*s-i*l,e}function h(e,t,r){r*=.5;var i=t[0],n=t[1],a=t[2],o=t[3],l=Math.sin(r),s=Math.cos(r);return e[0]=i*s-a*l,e[1]=n*s+o*l,e[2]=a*s+i*l,e[3]=o*s-n*l,e}function b(e,t,r){r*=.5;var i=t[0],n=t[1],a=t[2],o=t[3],l=Math.sin(r),s=Math.cos(r);return e[0]=i*s+n*l,e[1]=n*s-i*l,e[2]=a*s+o*l,e[3]=o*s-a*l,e}function m(e,t){var r=t[0],i=t[1],n=t[2];return e[0]=r,e[1]=i,e[2]=n,e[3]=Math.sqrt(Math.abs(1-r*r-i*i-n*n)),e}function p(e,t,r,n){var a=t[0],o=t[1],l=t[2],s=t[3],u=r[0],c=r[1],f=r[2],d=r[3],h=void 0,b=void 0,m=void 0,p=void 0,v=void 0;return(b=a*u+o*c+l*f+s*d)<0&&(b=-b,u=-u,c=-c,f=-f,d=-d),1-b>i.EPSILON?(h=Math.acos(b),m=Math.sin(h),p=Math.sin((1-n)*h)/m,v=Math.sin(n*h)/m):(p=1-n,v=n),e[0]=p*a+v*u,e[1]=p*o+v*c,e[2]=p*l+v*f,e[3]=p*s+v*d,e}function v(e){var t=i.RANDOM(),r=i.RANDOM(),n=i.RANDOM(),a=Math.sqrt(1-t),o=Math.sqrt(t);return e[0]=a*Math.sin(2*Math.PI*r),e[1]=a*Math.cos(2*Math.PI*r),e[2]=o*Math.sin(2*Math.PI*n),e[3]=o*Math.cos(2*Math.PI*n),e}function g(e,t){var r=t[0],i=t[1],n=t[2],a=t[3],o=r*r+i*i+n*n+a*a,l=o?1/o:0;return e[0]=-r*l,e[1]=-i*l,e[2]=-n*l,e[3]=a*l,e}function E(e,t){return e[0]=-t[0],e[1]=-t[1],e[2]=-t[2],e[3]=t[3],e}function y(e,t){var r=t[0]+t[4]+t[8],i=void 0;if(r>0)i=Math.sqrt(r+1),e[3]=.5*i,i=.5/i,e[0]=(t[5]-t[7])*i,e[1]=(t[6]-t[2])*i,e[2]=(t[1]-t[3])*i;else{var n=0;t[4]>t[0]&&(n=1),t[8]>t[3*n+n]&&(n=2);var a=(n+1)%3,o=(n+2)%3;i=Math.sqrt(t[3*n+n]-t[3*a+a]-t[3*o+o]+1),e[n]=.5*i,i=.5/i,e[3]=(t[3*a+o]-t[3*o+a])*i,e[a]=(t[3*a+n]+t[3*n+a])*i,e[o]=(t[3*o+n]+t[3*n+o])*i}return e}function T(e,t,r,i){var n=.5*Math.PI/180;t*=n,r*=n,i*=n;var a=Math.sin(t),o=Math.cos(t),l=Math.sin(r),s=Math.cos(r),u=Math.sin(i),c=Math.cos(i);return e[0]=a*s*c-o*l*u,e[1]=o*l*c+a*s*u,e[2]=o*s*u-a*l*c,e[3]=o*s*c+a*l*u,e}function w(e){return"quat("+e[0]+", "+e[1]+", "+e[2]+", "+e[3]+")"}var _,S,R,j,O,A,z=o.clone,P=o.fromValues,C=o.copy,D=o.set,I=o.add,x=f,L=o.scale,M=o.dot,F=o.lerp,G=o.length,k=G,N=o.squaredLength,B=N,U=o.normalize,V=o.exactEquals,H=o.equals,q=(_=a.create(),S=a.fromValues(1,0,0),R=a.fromValues(0,1,0),function(e,t,r){var i=a.dot(t,r);return i<-.999999?(a.cross(_,S,t),a.len(_)<1e-6&&a.cross(_,R,t),a.normalize(_,_),u(e,_,Math.PI),e):i>.999999?(e[0]=0,e[1]=0,e[2]=0,e[3]=1,e):(a.cross(_,t,r),e[0]=_[0],e[1]=_[1],e[2]=_[2],e[3]=1+i,U(e,e))}),W=(j=l(),O=l(),function(e,t,r,i,n,a){return p(j,t,n,a),p(O,r,i,a),p(e,j,O,2*a*(1-a)),e}),Y=(A=n.create(),function(e,t,r,i){return A[0]=r[0],A[3]=r[1],A[6]=r[2],A[1]=i[0],A[4]=i[1],A[7]=i[2],A[2]=-t[0],A[5]=-t[1],A[8]=-t[2],U(e,y(e,A))})},"../node_modules/gl-matrix/lib/gl-matrix/quat2.js":function(e,t,r){"use strict";r.r(t),r.d(t,"create",(function(){return o})),r.d(t,"clone",(function(){return l})),r.d(t,"fromValues",(function(){return s})),r.d(t,"fromRotationTranslationValues",(function(){return u})),r.d(t,"fromRotationTranslation",(function(){return c})),r.d(t,"fromTranslation",(function(){return f})),r.d(t,"fromRotation",(function(){return d})),r.d(t,"fromMat4",(function(){return h})),r.d(t,"copy",(function(){return b})),r.d(t,"identity",(function(){return m})),r.d(t,"set",(function(){return p})),r.d(t,"getReal",(function(){return v})),r.d(t,"getDual",(function(){return g})),r.d(t,"setReal",(function(){return E})),r.d(t,"setDual",(function(){return y})),r.d(t,"getTranslation",(function(){return T})),r.d(t,"translate",(function(){return w})),r.d(t,"rotateX",(function(){return _})),r.d(t,"rotateY",(function(){return S})),r.d(t,"rotateZ",(function(){return R})),r.d(t,"rotateByQuatAppend",(function(){return j})),r.d(t,"rotateByQuatPrepend",(function(){return O})),r.d(t,"rotateAroundAxis",(function(){return A})),r.d(t,"add",(function(){return z})),r.d(t,"multiply",(function(){return P})),r.d(t,"mul",(function(){return C})),r.d(t,"scale",(function(){return D})),r.d(t,"dot",(function(){return I})),r.d(t,"lerp",(function(){return x})),r.d(t,"invert",(function(){return L})),r.d(t,"conjugate",(function(){return M})),r.d(t,"length",(function(){return F})),r.d(t,"len",(function(){return G})),r.d(t,"squaredLength",(function(){return k})),r.d(t,"sqrLen",(function(){return N})),r.d(t,"normalize",(function(){return B})),r.d(t,"str",(function(){return U})),r.d(t,"exactEquals",(function(){return V})),r.d(t,"equals",(function(){return H}));var i=r("../node_modules/gl-matrix/lib/gl-matrix/common.js"),n=r("../node_modules/gl-matrix/lib/gl-matrix/quat.js"),a=r("../node_modules/gl-matrix/lib/gl-matrix/mat4.js");function o(){var e=new i.ARRAY_TYPE(8);return i.ARRAY_TYPE!=Float32Array&&(e[0]=0,e[1]=0,e[2]=0,e[4]=0,e[5]=0,e[6]=0,e[7]=0),e[3]=1,e}function l(e){var t=new i.ARRAY_TYPE(8);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t}function s(e,t,r,n,a,o,l,s){var u=new i.ARRAY_TYPE(8);return u[0]=e,u[1]=t,u[2]=r,u[3]=n,u[4]=a,u[5]=o,u[6]=l,u[7]=s,u}function u(e,t,r,n,a,o,l){var s=new i.ARRAY_TYPE(8);s[0]=e,s[1]=t,s[2]=r,s[3]=n;var u=.5*a,c=.5*o,f=.5*l;return s[4]=u*n+c*r-f*t,s[5]=c*n+f*e-u*r,s[6]=f*n+u*t-c*e,s[7]=-u*e-c*t-f*r,s}function c(e,t,r){var i=.5*r[0],n=.5*r[1],a=.5*r[2],o=t[0],l=t[1],s=t[2],u=t[3];return e[0]=o,e[1]=l,e[2]=s,e[3]=u,e[4]=i*u+n*s-a*l,e[5]=n*u+a*o-i*s,e[6]=a*u+i*l-n*o,e[7]=-i*o-n*l-a*s,e}function f(e,t){return e[0]=0,e[1]=0,e[2]=0,e[3]=1,e[4]=.5*t[0],e[5]=.5*t[1],e[6]=.5*t[2],e[7]=0,e}function d(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=0,e[5]=0,e[6]=0,e[7]=0,e}function h(e,t){var r=n.create();a.getRotation(r,t);var o=new i.ARRAY_TYPE(3);return a.getTranslation(o,t),c(e,r,o),e}function b(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e}function m(e){return e[0]=0,e[1]=0,e[2]=0,e[3]=1,e[4]=0,e[5]=0,e[6]=0,e[7]=0,e}function p(e,t,r,i,n,a,o,l,s){return e[0]=t,e[1]=r,e[2]=i,e[3]=n,e[4]=a,e[5]=o,e[6]=l,e[7]=s,e}var v=n.copy;function g(e,t){return e[0]=t[4],e[1]=t[5],e[2]=t[6],e[3]=t[7],e}var E=n.copy;function y(e,t){return e[4]=t[0],e[5]=t[1],e[6]=t[2],e[7]=t[3],e}function T(e,t){var r=t[4],i=t[5],n=t[6],a=t[7],o=-t[0],l=-t[1],s=-t[2],u=t[3];return e[0]=2*(r*u+a*o+i*s-n*l),e[1]=2*(i*u+a*l+n*o-r*s),e[2]=2*(n*u+a*s+r*l-i*o),e}function w(e,t,r){var i=t[0],n=t[1],a=t[2],o=t[3],l=.5*r[0],s=.5*r[1],u=.5*r[2],c=t[4],f=t[5],d=t[6],h=t[7];return e[0]=i,e[1]=n,e[2]=a,e[3]=o,e[4]=o*l+n*u-a*s+c,e[5]=o*s+a*l-i*u+f,e[6]=o*u+i*s-n*l+d,e[7]=-i*l-n*s-a*u+h,e}function _(e,t,r){var i=-t[0],a=-t[1],o=-t[2],l=t[3],s=t[4],u=t[5],c=t[6],f=t[7],d=s*l+f*i+u*o-c*a,h=u*l+f*a+c*i-s*o,b=c*l+f*o+s*a-u*i,m=f*l-s*i-u*a-c*o;return n.rotateX(e,t,r),i=e[0],a=e[1],o=e[2],l=e[3],e[4]=d*l+m*i+h*o-b*a,e[5]=h*l+m*a+b*i-d*o,e[6]=b*l+m*o+d*a-h*i,e[7]=m*l-d*i-h*a-b*o,e}function S(e,t,r){var i=-t[0],a=-t[1],o=-t[2],l=t[3],s=t[4],u=t[5],c=t[6],f=t[7],d=s*l+f*i+u*o-c*a,h=u*l+f*a+c*i-s*o,b=c*l+f*o+s*a-u*i,m=f*l-s*i-u*a-c*o;return n.rotateY(e,t,r),i=e[0],a=e[1],o=e[2],l=e[3],e[4]=d*l+m*i+h*o-b*a,e[5]=h*l+m*a+b*i-d*o,e[6]=b*l+m*o+d*a-h*i,e[7]=m*l-d*i-h*a-b*o,e}function R(e,t,r){var i=-t[0],a=-t[1],o=-t[2],l=t[3],s=t[4],u=t[5],c=t[6],f=t[7],d=s*l+f*i+u*o-c*a,h=u*l+f*a+c*i-s*o,b=c*l+f*o+s*a-u*i,m=f*l-s*i-u*a-c*o;return n.rotateZ(e,t,r),i=e[0],a=e[1],o=e[2],l=e[3],e[4]=d*l+m*i+h*o-b*a,e[5]=h*l+m*a+b*i-d*o,e[6]=b*l+m*o+d*a-h*i,e[7]=m*l-d*i-h*a-b*o,e}function j(e,t,r){var i=r[0],n=r[1],a=r[2],o=r[3],l=t[0],s=t[1],u=t[2],c=t[3];return e[0]=l*o+c*i+s*a-u*n,e[1]=s*o+c*n+u*i-l*a,e[2]=u*o+c*a+l*n-s*i,e[3]=c*o-l*i-s*n-u*a,l=t[4],s=t[5],u=t[6],c=t[7],e[4]=l*o+c*i+s*a-u*n,e[5]=s*o+c*n+u*i-l*a,e[6]=u*o+c*a+l*n-s*i,e[7]=c*o-l*i-s*n-u*a,e}function O(e,t,r){var i=t[0],n=t[1],a=t[2],o=t[3],l=r[0],s=r[1],u=r[2],c=r[3];return e[0]=i*c+o*l+n*u-a*s,e[1]=n*c+o*s+a*l-i*u,e[2]=a*c+o*u+i*s-n*l,e[3]=o*c-i*l-n*s-a*u,l=r[4],s=r[5],u=r[6],c=r[7],e[4]=i*c+o*l+n*u-a*s,e[5]=n*c+o*s+a*l-i*u,e[6]=a*c+o*u+i*s-n*l,e[7]=o*c-i*l-n*s-a*u,e}function A(e,t,r,n){if(Math.abs(n)<i.EPSILON)return b(e,t);var a=Math.sqrt(r[0]*r[0]+r[1]*r[1]+r[2]*r[2]);n*=.5;var o=Math.sin(n),l=o*r[0]/a,s=o*r[1]/a,u=o*r[2]/a,c=Math.cos(n),f=t[0],d=t[1],h=t[2],m=t[3];e[0]=f*c+m*l+d*u-h*s,e[1]=d*c+m*s+h*l-f*u,e[2]=h*c+m*u+f*s-d*l,e[3]=m*c-f*l-d*s-h*u;var p=t[4],v=t[5],g=t[6],E=t[7];return e[4]=p*c+E*l+v*u-g*s,e[5]=v*c+E*s+g*l-p*u,e[6]=g*c+E*u+p*s-v*l,e[7]=E*c-p*l-v*s-g*u,e}function z(e,t,r){return e[0]=t[0]+r[0],e[1]=t[1]+r[1],e[2]=t[2]+r[2],e[3]=t[3]+r[3],e[4]=t[4]+r[4],e[5]=t[5]+r[5],e[6]=t[6]+r[6],e[7]=t[7]+r[7],e}function P(e,t,r){var i=t[0],n=t[1],a=t[2],o=t[3],l=r[4],s=r[5],u=r[6],c=r[7],f=t[4],d=t[5],h=t[6],b=t[7],m=r[0],p=r[1],v=r[2],g=r[3];return e[0]=i*g+o*m+n*v-a*p,e[1]=n*g+o*p+a*m-i*v,e[2]=a*g+o*v+i*p-n*m,e[3]=o*g-i*m-n*p-a*v,e[4]=i*c+o*l+n*u-a*s+f*g+b*m+d*v-h*p,e[5]=n*c+o*s+a*l-i*u+d*g+b*p+h*m-f*v,e[6]=a*c+o*u+i*s-n*l+h*g+b*v+f*p-d*m,e[7]=o*c-i*l-n*s-a*u+b*g-f*m-d*p-h*v,e}var C=P;function D(e,t,r){return e[0]=t[0]*r,e[1]=t[1]*r,e[2]=t[2]*r,e[3]=t[3]*r,e[4]=t[4]*r,e[5]=t[5]*r,e[6]=t[6]*r,e[7]=t[7]*r,e}var I=n.dot;function x(e,t,r,i){var n=1-i;return I(t,r)<0&&(i=-i),e[0]=t[0]*n+r[0]*i,e[1]=t[1]*n+r[1]*i,e[2]=t[2]*n+r[2]*i,e[3]=t[3]*n+r[3]*i,e[4]=t[4]*n+r[4]*i,e[5]=t[5]*n+r[5]*i,e[6]=t[6]*n+r[6]*i,e[7]=t[7]*n+r[7]*i,e}function L(e,t){var r=k(t);return e[0]=-t[0]/r,e[1]=-t[1]/r,e[2]=-t[2]/r,e[3]=t[3]/r,e[4]=-t[4]/r,e[5]=-t[5]/r,e[6]=-t[6]/r,e[7]=t[7]/r,e}function M(e,t){return e[0]=-t[0],e[1]=-t[1],e[2]=-t[2],e[3]=t[3],e[4]=-t[4],e[5]=-t[5],e[6]=-t[6],e[7]=t[7],e}var F=n.length,G=F,k=n.squaredLength,N=k;function B(e,t){var r=k(t);if(r>0){r=Math.sqrt(r);var i=t[0]/r,n=t[1]/r,a=t[2]/r,o=t[3]/r,l=t[4],s=t[5],u=t[6],c=t[7],f=i*l+n*s+a*u+o*c;e[0]=i,e[1]=n,e[2]=a,e[3]=o,e[4]=(l-i*f)/r,e[5]=(s-n*f)/r,e[6]=(u-a*f)/r,e[7]=(c-o*f)/r}return e}function U(e){return"quat2("+e[0]+", "+e[1]+", "+e[2]+", "+e[3]+", "+e[4]+", "+e[5]+", "+e[6]+", "+e[7]+")"}function V(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===t[3]&&e[4]===t[4]&&e[5]===t[5]&&e[6]===t[6]&&e[7]===t[7]}function H(e,t){var r=e[0],n=e[1],a=e[2],o=e[3],l=e[4],s=e[5],u=e[6],c=e[7],f=t[0],d=t[1],h=t[2],b=t[3],m=t[4],p=t[5],v=t[6],g=t[7];return Math.abs(r-f)<=i.EPSILON*Math.max(1,Math.abs(r),Math.abs(f))&&Math.abs(n-d)<=i.EPSILON*Math.max(1,Math.abs(n),Math.abs(d))&&Math.abs(a-h)<=i.EPSILON*Math.max(1,Math.abs(a),Math.abs(h))&&Math.abs(o-b)<=i.EPSILON*Math.max(1,Math.abs(o),Math.abs(b))&&Math.abs(l-m)<=i.EPSILON*Math.max(1,Math.abs(l),Math.abs(m))&&Math.abs(s-p)<=i.EPSILON*Math.max(1,Math.abs(s),Math.abs(p))&&Math.abs(u-v)<=i.EPSILON*Math.max(1,Math.abs(u),Math.abs(v))&&Math.abs(c-g)<=i.EPSILON*Math.max(1,Math.abs(c),Math.abs(g))}},"../node_modules/gl-matrix/lib/gl-matrix/vec2.js":function(e,t,r){"use strict";r.r(t),r.d(t,"create",(function(){return n})),r.d(t,"clone",(function(){return a})),r.d(t,"fromValues",(function(){return o})),r.d(t,"copy",(function(){return l})),r.d(t,"set",(function(){return s})),r.d(t,"add",(function(){return u})),r.d(t,"subtract",(function(){return c})),r.d(t,"multiply",(function(){return f})),r.d(t,"divide",(function(){return d})),r.d(t,"ceil",(function(){return h})),r.d(t,"floor",(function(){return b})),r.d(t,"min",(function(){return m})),r.d(t,"max",(function(){return p})),r.d(t,"round",(function(){return v})),r.d(t,"scale",(function(){return g})),r.d(t,"scaleAndAdd",(function(){return E})),r.d(t,"distance",(function(){return y})),r.d(t,"squaredDistance",(function(){return T})),r.d(t,"length",(function(){return w})),r.d(t,"squaredLength",(function(){return _})),r.d(t,"negate",(function(){return S})),r.d(t,"inverse",(function(){return R})),r.d(t,"normalize",(function(){return j})),r.d(t,"dot",(function(){return O})),r.d(t,"cross",(function(){return A})),r.d(t,"lerp",(function(){return z})),r.d(t,"random",(function(){return P})),r.d(t,"transformMat2",(function(){return C})),r.d(t,"transformMat2d",(function(){return D})),r.d(t,"transformMat3",(function(){return I})),r.d(t,"transformMat4",(function(){return x})),r.d(t,"rotate",(function(){return L})),r.d(t,"angle",(function(){return M})),r.d(t,"str",(function(){return F})),r.d(t,"exactEquals",(function(){return G})),r.d(t,"equals",(function(){return k})),r.d(t,"len",(function(){return B})),r.d(t,"sub",(function(){return U})),r.d(t,"mul",(function(){return V})),r.d(t,"div",(function(){return H})),r.d(t,"dist",(function(){return q})),r.d(t,"sqrDist",(function(){return W})),r.d(t,"sqrLen",(function(){return Y})),r.d(t,"forEach",(function(){return X}));var i=r("../node_modules/gl-matrix/lib/gl-matrix/common.js");function n(){var e=new i.ARRAY_TYPE(2);return i.ARRAY_TYPE!=Float32Array&&(e[0]=0,e[1]=0),e}function a(e){var t=new i.ARRAY_TYPE(2);return t[0]=e[0],t[1]=e[1],t}function o(e,t){var r=new i.ARRAY_TYPE(2);return r[0]=e,r[1]=t,r}function l(e,t){return e[0]=t[0],e[1]=t[1],e}function s(e,t,r){return e[0]=t,e[1]=r,e}function u(e,t,r){return e[0]=t[0]+r[0],e[1]=t[1]+r[1],e}function c(e,t,r){return e[0]=t[0]-r[0],e[1]=t[1]-r[1],e}function f(e,t,r){return e[0]=t[0]*r[0],e[1]=t[1]*r[1],e}function d(e,t,r){return e[0]=t[0]/r[0],e[1]=t[1]/r[1],e}function h(e,t){return e[0]=Math.ceil(t[0]),e[1]=Math.ceil(t[1]),e}function b(e,t){return e[0]=Math.floor(t[0]),e[1]=Math.floor(t[1]),e}function m(e,t,r){return e[0]=Math.min(t[0],r[0]),e[1]=Math.min(t[1],r[1]),e}function p(e,t,r){return e[0]=Math.max(t[0],r[0]),e[1]=Math.max(t[1],r[1]),e}function v(e,t){return e[0]=Math.round(t[0]),e[1]=Math.round(t[1]),e}function g(e,t,r){return e[0]=t[0]*r,e[1]=t[1]*r,e}function E(e,t,r,i){return e[0]=t[0]+r[0]*i,e[1]=t[1]+r[1]*i,e}function y(e,t){var r=t[0]-e[0],i=t[1]-e[1];return Math.sqrt(r*r+i*i)}function T(e,t){var r=t[0]-e[0],i=t[1]-e[1];return r*r+i*i}function w(e){var t=e[0],r=e[1];return Math.sqrt(t*t+r*r)}function _(e){var t=e[0],r=e[1];return t*t+r*r}function S(e,t){return e[0]=-t[0],e[1]=-t[1],e}function R(e,t){return e[0]=1/t[0],e[1]=1/t[1],e}function j(e,t){var r=t[0],i=t[1],n=r*r+i*i;return n>0&&(n=1/Math.sqrt(n),e[0]=t[0]*n,e[1]=t[1]*n),e}function O(e,t){return e[0]*t[0]+e[1]*t[1]}function A(e,t,r){var i=t[0]*r[1]-t[1]*r[0];return e[0]=e[1]=0,e[2]=i,e}function z(e,t,r,i){var n=t[0],a=t[1];return e[0]=n+i*(r[0]-n),e[1]=a+i*(r[1]-a),e}function P(e,t){t=t||1;var r=2*i.RANDOM()*Math.PI;return e[0]=Math.cos(r)*t,e[1]=Math.sin(r)*t,e}function C(e,t,r){var i=t[0],n=t[1];return e[0]=r[0]*i+r[2]*n,e[1]=r[1]*i+r[3]*n,e}function D(e,t,r){var i=t[0],n=t[1];return e[0]=r[0]*i+r[2]*n+r[4],e[1]=r[1]*i+r[3]*n+r[5],e}function I(e,t,r){var i=t[0],n=t[1];return e[0]=r[0]*i+r[3]*n+r[6],e[1]=r[1]*i+r[4]*n+r[7],e}function x(e,t,r){var i=t[0],n=t[1];return e[0]=r[0]*i+r[4]*n+r[12],e[1]=r[1]*i+r[5]*n+r[13],e}function L(e,t,r,i){var n=t[0]-r[0],a=t[1]-r[1],o=Math.sin(i),l=Math.cos(i);return e[0]=n*l-a*o+r[0],e[1]=n*o+a*l+r[1],e}function M(e,t){var r=e[0],i=e[1],n=t[0],a=t[1],o=r*r+i*i;o>0&&(o=1/Math.sqrt(o));var l=n*n+a*a;l>0&&(l=1/Math.sqrt(l));var s=(r*n+i*a)*o*l;return s>1?0:s<-1?Math.PI:Math.acos(s)}function F(e){return"vec2("+e[0]+", "+e[1]+")"}function G(e,t){return e[0]===t[0]&&e[1]===t[1]}function k(e,t){var r=e[0],n=e[1],a=t[0],o=t[1];return Math.abs(r-a)<=i.EPSILON*Math.max(1,Math.abs(r),Math.abs(a))&&Math.abs(n-o)<=i.EPSILON*Math.max(1,Math.abs(n),Math.abs(o))}var N,B=w,U=c,V=f,H=d,q=y,W=T,Y=_,X=(N=n(),function(e,t,r,i,n,a){var o=void 0,l=void 0;for(t||(t=2),r||(r=0),l=i?Math.min(i*t+r,e.length):e.length,o=r;o<l;o+=t)N[0]=e[o],N[1]=e[o+1],n(N,N,a),e[o]=N[0],e[o+1]=N[1];return e})},"../node_modules/gl-matrix/lib/gl-matrix/vec3.js":function(e,t,r){"use strict";r.r(t),r.d(t,"create",(function(){return n})),r.d(t,"clone",(function(){return a})),r.d(t,"length",(function(){return o})),r.d(t,"fromValues",(function(){return l})),r.d(t,"copy",(function(){return s})),r.d(t,"set",(function(){return u})),r.d(t,"add",(function(){return c})),r.d(t,"subtract",(function(){return f})),r.d(t,"multiply",(function(){return d})),r.d(t,"divide",(function(){return h})),r.d(t,"ceil",(function(){return b})),r.d(t,"floor",(function(){return m})),r.d(t,"min",(function(){return p})),r.d(t,"max",(function(){return v})),r.d(t,"round",(function(){return g})),r.d(t,"scale",(function(){return E})),r.d(t,"scaleAndAdd",(function(){return y})),r.d(t,"distance",(function(){return T})),r.d(t,"squaredDistance",(function(){return w})),r.d(t,"squaredLength",(function(){return _})),r.d(t,"negate",(function(){return S})),r.d(t,"inverse",(function(){return R})),r.d(t,"normalize",(function(){return j})),r.d(t,"dot",(function(){return O})),r.d(t,"cross",(function(){return A})),r.d(t,"lerp",(function(){return z})),r.d(t,"hermite",(function(){return P})),r.d(t,"bezier",(function(){return C})),r.d(t,"random",(function(){return D})),r.d(t,"transformMat4",(function(){return I})),r.d(t,"transformMat3",(function(){return x})),r.d(t,"transformQuat",(function(){return L})),r.d(t,"rotateX",(function(){return M})),r.d(t,"rotateY",(function(){return F})),r.d(t,"rotateZ",(function(){return G})),r.d(t,"angle",(function(){return k})),r.d(t,"str",(function(){return N})),r.d(t,"exactEquals",(function(){return B})),r.d(t,"equals",(function(){return U})),r.d(t,"sub",(function(){return H})),r.d(t,"mul",(function(){return q})),r.d(t,"div",(function(){return W})),r.d(t,"dist",(function(){return Y})),r.d(t,"sqrDist",(function(){return X})),r.d(t,"len",(function(){return K})),r.d(t,"sqrLen",(function(){return Q})),r.d(t,"forEach",(function(){return Z}));var i=r("../node_modules/gl-matrix/lib/gl-matrix/common.js");function n(){var e=new i.ARRAY_TYPE(3);return i.ARRAY_TYPE!=Float32Array&&(e[0]=0,e[1]=0,e[2]=0),e}function a(e){var t=new i.ARRAY_TYPE(3);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t}function o(e){var t=e[0],r=e[1],i=e[2];return Math.sqrt(t*t+r*r+i*i)}function l(e,t,r){var n=new i.ARRAY_TYPE(3);return n[0]=e,n[1]=t,n[2]=r,n}function s(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e}function u(e,t,r,i){return e[0]=t,e[1]=r,e[2]=i,e}function c(e,t,r){return e[0]=t[0]+r[0],e[1]=t[1]+r[1],e[2]=t[2]+r[2],e}function f(e,t,r){return e[0]=t[0]-r[0],e[1]=t[1]-r[1],e[2]=t[2]-r[2],e}function d(e,t,r){return e[0]=t[0]*r[0],e[1]=t[1]*r[1],e[2]=t[2]*r[2],e}function h(e,t,r){return e[0]=t[0]/r[0],e[1]=t[1]/r[1],e[2]=t[2]/r[2],e}function b(e,t){return e[0]=Math.ceil(t[0]),e[1]=Math.ceil(t[1]),e[2]=Math.ceil(t[2]),e}function m(e,t){return e[0]=Math.floor(t[0]),e[1]=Math.floor(t[1]),e[2]=Math.floor(t[2]),e}function p(e,t,r){return e[0]=Math.min(t[0],r[0]),e[1]=Math.min(t[1],r[1]),e[2]=Math.min(t[2],r[2]),e}function v(e,t,r){return e[0]=Math.max(t[0],r[0]),e[1]=Math.max(t[1],r[1]),e[2]=Math.max(t[2],r[2]),e}function g(e,t){return e[0]=Math.round(t[0]),e[1]=Math.round(t[1]),e[2]=Math.round(t[2]),e}function E(e,t,r){return e[0]=t[0]*r,e[1]=t[1]*r,e[2]=t[2]*r,e}function y(e,t,r,i){return e[0]=t[0]+r[0]*i,e[1]=t[1]+r[1]*i,e[2]=t[2]+r[2]*i,e}function T(e,t){var r=t[0]-e[0],i=t[1]-e[1],n=t[2]-e[2];return Math.sqrt(r*r+i*i+n*n)}function w(e,t){var r=t[0]-e[0],i=t[1]-e[1],n=t[2]-e[2];return r*r+i*i+n*n}function _(e){var t=e[0],r=e[1],i=e[2];return t*t+r*r+i*i}function S(e,t){return e[0]=-t[0],e[1]=-t[1],e[2]=-t[2],e}function R(e,t){return e[0]=1/t[0],e[1]=1/t[1],e[2]=1/t[2],e}function j(e,t){var r=t[0],i=t[1],n=t[2],a=r*r+i*i+n*n;return a>0&&(a=1/Math.sqrt(a),e[0]=t[0]*a,e[1]=t[1]*a,e[2]=t[2]*a),e}function O(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]}function A(e,t,r){var i=t[0],n=t[1],a=t[2],o=r[0],l=r[1],s=r[2];return e[0]=n*s-a*l,e[1]=a*o-i*s,e[2]=i*l-n*o,e}function z(e,t,r,i){var n=t[0],a=t[1],o=t[2];return e[0]=n+i*(r[0]-n),e[1]=a+i*(r[1]-a),e[2]=o+i*(r[2]-o),e}function P(e,t,r,i,n,a){var o=a*a,l=o*(2*a-3)+1,s=o*(a-2)+a,u=o*(a-1),c=o*(3-2*a);return e[0]=t[0]*l+r[0]*s+i[0]*u+n[0]*c,e[1]=t[1]*l+r[1]*s+i[1]*u+n[1]*c,e[2]=t[2]*l+r[2]*s+i[2]*u+n[2]*c,e}function C(e,t,r,i,n,a){var o=1-a,l=o*o,s=a*a,u=l*o,c=3*a*l,f=3*s*o,d=s*a;return e[0]=t[0]*u+r[0]*c+i[0]*f+n[0]*d,e[1]=t[1]*u+r[1]*c+i[1]*f+n[1]*d,e[2]=t[2]*u+r[2]*c+i[2]*f+n[2]*d,e}function D(e,t){t=t||1;var r=2*i.RANDOM()*Math.PI,n=2*i.RANDOM()-1,a=Math.sqrt(1-n*n)*t;return e[0]=Math.cos(r)*a,e[1]=Math.sin(r)*a,e[2]=n*t,e}function I(e,t,r){var i=t[0],n=t[1],a=t[2],o=r[3]*i+r[7]*n+r[11]*a+r[15];return o=o||1,e[0]=(r[0]*i+r[4]*n+r[8]*a+r[12])/o,e[1]=(r[1]*i+r[5]*n+r[9]*a+r[13])/o,e[2]=(r[2]*i+r[6]*n+r[10]*a+r[14])/o,e}function x(e,t,r){var i=t[0],n=t[1],a=t[2];return e[0]=i*r[0]+n*r[3]+a*r[6],e[1]=i*r[1]+n*r[4]+a*r[7],e[2]=i*r[2]+n*r[5]+a*r[8],e}function L(e,t,r){var i=r[0],n=r[1],a=r[2],o=r[3],l=t[0],s=t[1],u=t[2],c=n*u-a*s,f=a*l-i*u,d=i*s-n*l,h=n*d-a*f,b=a*c-i*d,m=i*f-n*c,p=2*o;return c*=p,f*=p,d*=p,h*=2,b*=2,m*=2,e[0]=l+c+h,e[1]=s+f+b,e[2]=u+d+m,e}function M(e,t,r,i){var n=[],a=[];return n[0]=t[0]-r[0],n[1]=t[1]-r[1],n[2]=t[2]-r[2],a[0]=n[0],a[1]=n[1]*Math.cos(i)-n[2]*Math.sin(i),a[2]=n[1]*Math.sin(i)+n[2]*Math.cos(i),e[0]=a[0]+r[0],e[1]=a[1]+r[1],e[2]=a[2]+r[2],e}function F(e,t,r,i){var n=[],a=[];return n[0]=t[0]-r[0],n[1]=t[1]-r[1],n[2]=t[2]-r[2],a[0]=n[2]*Math.sin(i)+n[0]*Math.cos(i),a[1]=n[1],a[2]=n[2]*Math.cos(i)-n[0]*Math.sin(i),e[0]=a[0]+r[0],e[1]=a[1]+r[1],e[2]=a[2]+r[2],e}function G(e,t,r,i){var n=[],a=[];return n[0]=t[0]-r[0],n[1]=t[1]-r[1],n[2]=t[2]-r[2],a[0]=n[0]*Math.cos(i)-n[1]*Math.sin(i),a[1]=n[0]*Math.sin(i)+n[1]*Math.cos(i),a[2]=n[2],e[0]=a[0]+r[0],e[1]=a[1]+r[1],e[2]=a[2]+r[2],e}function k(e,t){var r=l(e[0],e[1],e[2]),i=l(t[0],t[1],t[2]);j(r,r),j(i,i);var n=O(r,i);return n>1?0:n<-1?Math.PI:Math.acos(n)}function N(e){return"vec3("+e[0]+", "+e[1]+", "+e[2]+")"}function B(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]}function U(e,t){var r=e[0],n=e[1],a=e[2],o=t[0],l=t[1],s=t[2];return Math.abs(r-o)<=i.EPSILON*Math.max(1,Math.abs(r),Math.abs(o))&&Math.abs(n-l)<=i.EPSILON*Math.max(1,Math.abs(n),Math.abs(l))&&Math.abs(a-s)<=i.EPSILON*Math.max(1,Math.abs(a),Math.abs(s))}var V,H=f,q=d,W=h,Y=T,X=w,K=o,Q=_,Z=(V=n(),function(e,t,r,i,n,a){var o=void 0,l=void 0;for(t||(t=3),r||(r=0),l=i?Math.min(i*t+r,e.length):e.length,o=r;o<l;o+=t)V[0]=e[o],V[1]=e[o+1],V[2]=e[o+2],n(V,V,a),e[o]=V[0],e[o+1]=V[1],e[o+2]=V[2];return e})},"../node_modules/gl-matrix/lib/gl-matrix/vec4.js":function(e,t,r){"use strict";r.r(t),r.d(t,"create",(function(){return n})),r.d(t,"clone",(function(){return a})),r.d(t,"fromValues",(function(){return o})),r.d(t,"copy",(function(){return l})),r.d(t,"set",(function(){return s})),r.d(t,"add",(function(){return u})),r.d(t,"subtract",(function(){return c})),r.d(t,"multiply",(function(){return f})),r.d(t,"divide",(function(){return d})),r.d(t,"ceil",(function(){return h})),r.d(t,"floor",(function(){return b})),r.d(t,"min",(function(){return m})),r.d(t,"max",(function(){return p})),r.d(t,"round",(function(){return v})),r.d(t,"scale",(function(){return g})),r.d(t,"scaleAndAdd",(function(){return E})),r.d(t,"distance",(function(){return y})),r.d(t,"squaredDistance",(function(){return T})),r.d(t,"length",(function(){return w})),r.d(t,"squaredLength",(function(){return _})),r.d(t,"negate",(function(){return S})),r.d(t,"inverse",(function(){return R})),r.d(t,"normalize",(function(){return j})),r.d(t,"dot",(function(){return O})),r.d(t,"lerp",(function(){return A})),r.d(t,"random",(function(){return z})),r.d(t,"transformMat4",(function(){return P})),r.d(t,"transformQuat",(function(){return C})),r.d(t,"str",(function(){return D})),r.d(t,"exactEquals",(function(){return I})),r.d(t,"equals",(function(){return x})),r.d(t,"sub",(function(){return M})),r.d(t,"mul",(function(){return F})),r.d(t,"div",(function(){return G})),r.d(t,"dist",(function(){return k})),r.d(t,"sqrDist",(function(){return N})),r.d(t,"len",(function(){return B})),r.d(t,"sqrLen",(function(){return U})),r.d(t,"forEach",(function(){return V}));var i=r("../node_modules/gl-matrix/lib/gl-matrix/common.js");function n(){var e=new i.ARRAY_TYPE(4);return i.ARRAY_TYPE!=Float32Array&&(e[0]=0,e[1]=0,e[2]=0,e[3]=0),e}function a(e){var t=new i.ARRAY_TYPE(4);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t}function o(e,t,r,n){var a=new i.ARRAY_TYPE(4);return a[0]=e,a[1]=t,a[2]=r,a[3]=n,a}function l(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e}function s(e,t,r,i,n){return e[0]=t,e[1]=r,e[2]=i,e[3]=n,e}function u(e,t,r){return e[0]=t[0]+r[0],e[1]=t[1]+r[1],e[2]=t[2]+r[2],e[3]=t[3]+r[3],e}function c(e,t,r){return e[0]=t[0]-r[0],e[1]=t[1]-r[1],e[2]=t[2]-r[2],e[3]=t[3]-r[3],e}function f(e,t,r){return e[0]=t[0]*r[0],e[1]=t[1]*r[1],e[2]=t[2]*r[2],e[3]=t[3]*r[3],e}function d(e,t,r){return e[0]=t[0]/r[0],e[1]=t[1]/r[1],e[2]=t[2]/r[2],e[3]=t[3]/r[3],e}function h(e,t){return e[0]=Math.ceil(t[0]),e[1]=Math.ceil(t[1]),e[2]=Math.ceil(t[2]),e[3]=Math.ceil(t[3]),e}function b(e,t){return e[0]=Math.floor(t[0]),e[1]=Math.floor(t[1]),e[2]=Math.floor(t[2]),e[3]=Math.floor(t[3]),e}function m(e,t,r){return e[0]=Math.min(t[0],r[0]),e[1]=Math.min(t[1],r[1]),e[2]=Math.min(t[2],r[2]),e[3]=Math.min(t[3],r[3]),e}function p(e,t,r){return e[0]=Math.max(t[0],r[0]),e[1]=Math.max(t[1],r[1]),e[2]=Math.max(t[2],r[2]),e[3]=Math.max(t[3],r[3]),e}function v(e,t){return e[0]=Math.round(t[0]),e[1]=Math.round(t[1]),e[2]=Math.round(t[2]),e[3]=Math.round(t[3]),e}function g(e,t,r){return e[0]=t[0]*r,e[1]=t[1]*r,e[2]=t[2]*r,e[3]=t[3]*r,e}function E(e,t,r,i){return e[0]=t[0]+r[0]*i,e[1]=t[1]+r[1]*i,e[2]=t[2]+r[2]*i,e[3]=t[3]+r[3]*i,e}function y(e,t){var r=t[0]-e[0],i=t[1]-e[1],n=t[2]-e[2],a=t[3]-e[3];return Math.sqrt(r*r+i*i+n*n+a*a)}function T(e,t){var r=t[0]-e[0],i=t[1]-e[1],n=t[2]-e[2],a=t[3]-e[3];return r*r+i*i+n*n+a*a}function w(e){var t=e[0],r=e[1],i=e[2],n=e[3];return Math.sqrt(t*t+r*r+i*i+n*n)}function _(e){var t=e[0],r=e[1],i=e[2],n=e[3];return t*t+r*r+i*i+n*n}function S(e,t){return e[0]=-t[0],e[1]=-t[1],e[2]=-t[2],e[3]=-t[3],e}function R(e,t){return e[0]=1/t[0],e[1]=1/t[1],e[2]=1/t[2],e[3]=1/t[3],e}function j(e,t){var r=t[0],i=t[1],n=t[2],a=t[3],o=r*r+i*i+n*n+a*a;return o>0&&(o=1/Math.sqrt(o),e[0]=r*o,e[1]=i*o,e[2]=n*o,e[3]=a*o),e}function O(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]+e[3]*t[3]}function A(e,t,r,i){var n=t[0],a=t[1],o=t[2],l=t[3];return e[0]=n+i*(r[0]-n),e[1]=a+i*(r[1]-a),e[2]=o+i*(r[2]-o),e[3]=l+i*(r[3]-l),e}function z(e,t){var r,n,a,o,l,s;t=t||1;do{l=(r=2*i.RANDOM()-1)*r+(n=2*i.RANDOM()-1)*n}while(l>=1);do{s=(a=2*i.RANDOM()-1)*a+(o=2*i.RANDOM()-1)*o}while(s>=1);var u=Math.sqrt((1-l)/s);return e[0]=t*r,e[1]=t*n,e[2]=t*a*u,e[3]=t*o*u,e}function P(e,t,r){var i=t[0],n=t[1],a=t[2],o=t[3];return e[0]=r[0]*i+r[4]*n+r[8]*a+r[12]*o,e[1]=r[1]*i+r[5]*n+r[9]*a+r[13]*o,e[2]=r[2]*i+r[6]*n+r[10]*a+r[14]*o,e[3]=r[3]*i+r[7]*n+r[11]*a+r[15]*o,e}function C(e,t,r){var i=t[0],n=t[1],a=t[2],o=r[0],l=r[1],s=r[2],u=r[3],c=u*i+l*a-s*n,f=u*n+s*i-o*a,d=u*a+o*n-l*i,h=-o*i-l*n-s*a;return e[0]=c*u+h*-o+f*-s-d*-l,e[1]=f*u+h*-l+d*-o-c*-s,e[2]=d*u+h*-s+c*-l-f*-o,e[3]=t[3],e}function D(e){return"vec4("+e[0]+", "+e[1]+", "+e[2]+", "+e[3]+")"}function I(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===t[3]}function x(e,t){var r=e[0],n=e[1],a=e[2],o=e[3],l=t[0],s=t[1],u=t[2],c=t[3];return Math.abs(r-l)<=i.EPSILON*Math.max(1,Math.abs(r),Math.abs(l))&&Math.abs(n-s)<=i.EPSILON*Math.max(1,Math.abs(n),Math.abs(s))&&Math.abs(a-u)<=i.EPSILON*Math.max(1,Math.abs(a),Math.abs(u))&&Math.abs(o-c)<=i.EPSILON*Math.max(1,Math.abs(o),Math.abs(c))}var L,M=c,F=f,G=d,k=y,N=T,B=w,U=_,V=(L=n(),function(e,t,r,i,n,a){var o=void 0,l=void 0;for(t||(t=4),r||(r=0),l=i?Math.min(i*t+r,e.length):e.length,o=r;o<l;o+=t)L[0]=e[o],L[1]=e[o+1],L[2]=e[o+2],L[3]=e[o+3],n(L,L,a),e[o]=L[0],e[o+1]=L[1],e[o+2]=L[2],e[o+3]=L[3];return e})},"../node_modules/process/browser.js":function(e,t){var r,i,n=e.exports={};function a(){throw new Error("setTimeout has not been defined")}function o(){throw new Error("clearTimeout has not been defined")}function l(e){if(r===setTimeout)return setTimeout(e,0);if((r===a||!r)&&setTimeout)return r=setTimeout,setTimeout(e,0);try{return r(e,0)}catch(t){try{return r.call(null,e,0)}catch(t){return r.call(this,e,0)}}}!function(){try{r="function"==typeof setTimeout?setTimeout:a}catch(e){r=a}try{i="function"==typeof clearTimeout?clearTimeout:o}catch(e){i=o}}();var s,u=[],c=!1,f=-1;function d(){c&&s&&(c=!1,s.length?u=s.concat(u):f=-1,u.length&&h())}function h(){if(!c){var e=l(d);c=!0;for(var t=u.length;t;){for(s=u,u=[];++f<t;)s&&s[f].run();f=-1,t=u.length}s=null,c=!1,function(e){if(i===clearTimeout)return clearTimeout(e);if((i===o||!i)&&clearTimeout)return i=clearTimeout,clearTimeout(e);try{i(e)}catch(t){try{return i.call(null,e)}catch(t){return i.call(this,e)}}}(e)}}function b(e,t){this.fun=e,this.array=t}function m(){}n.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];u.push(new b(e,t)),1!==u.length||c||l(h)},b.prototype.run=function(){this.fun.apply(null,this.array)},n.title="browser",n.browser=!0,n.env={},n.argv=[],n.version="",n.versions={},n.on=m,n.addListener=m,n.once=m,n.off=m,n.removeListener=m,n.removeAllListeners=m,n.emit=m,n.prependListener=m,n.prependOnceListener=m,n.listeners=function(e){return[]},n.binding=function(e){throw new Error("process.binding is not supported")},n.cwd=function(){return"/"},n.chdir=function(e){throw new Error("process.chdir is not supported")},n.umask=function(){return 0}},"../node_modules/reflect-metadata/Reflect.js":function(e,t,r){(function(e,t){var r;!function(r){!function(i){var n="object"==typeof t?t:"object"==typeof self?self:"object"==typeof this?this:Function("return this;")(),a=o(r);function o(e,t){return function(r,i){"function"!=typeof e[r]&&Object.defineProperty(e,r,{configurable:!0,writable:!0,value:i}),t&&t(r,i)}}void 0===n.Reflect?n.Reflect=r:a=o(n.Reflect,a),function(t){var r=Object.prototype.hasOwnProperty,i="function"==typeof Symbol,n=i&&void 0!==Symbol.toPrimitive?Symbol.toPrimitive:"@@toPrimitive",a=i&&void 0!==Symbol.iterator?Symbol.iterator:"@@iterator",o="function"==typeof Object.create,l={__proto__:[]}instanceof Array,s=!o&&!l,u={create:o?function(){return I(Object.create(null))}:l?function(){return I({__proto__:null})}:function(){return I({})},has:s?function(e,t){return r.call(e,t)}:function(e,t){return t in e},get:s?function(e,t){return r.call(e,t)?e[t]:void 0}:function(e,t){return e[t]}},c=Object.getPrototypeOf(Function),f="object"==typeof e&&e.env&&"true"===e.env.REFLECT_METADATA_USE_MAP_POLYFILL,d=f||"function"!=typeof Map||"function"!=typeof Map.prototype.entries?function(){var e={},t=[],r=function(){function e(e,t,r){this._index=0,this._keys=e,this._values=t,this._selector=r}return e.prototype["@@iterator"]=function(){return this},e.prototype[a]=function(){return this},e.prototype.next=function(){var e=this._index;if(e>=0&&e<this._keys.length){var r=this._selector(this._keys[e],this._values[e]);return e+1>=this._keys.length?(this._index=-1,this._keys=t,this._values=t):this._index++,{value:r,done:!1}}return{value:void 0,done:!0}},e.prototype.throw=function(e){throw this._index>=0&&(this._index=-1,this._keys=t,this._values=t),e},e.prototype.return=function(e){return this._index>=0&&(this._index=-1,this._keys=t,this._values=t),{value:e,done:!0}},e}();return function(){function t(){this._keys=[],this._values=[],this._cacheKey=e,this._cacheIndex=-2}return Object.defineProperty(t.prototype,"size",{get:function(){return this._keys.length},enumerable:!0,configurable:!0}),t.prototype.has=function(e){return this._find(e,!1)>=0},t.prototype.get=function(e){var t=this._find(e,!1);return t>=0?this._values[t]:void 0},t.prototype.set=function(e,t){var r=this._find(e,!0);return this._values[r]=t,this},t.prototype.delete=function(t){var r=this._find(t,!1);if(r>=0){for(var i=this._keys.length,n=r+1;n<i;n++)this._keys[n-1]=this._keys[n],this._values[n-1]=this._values[n];return this._keys.length--,this._values.length--,t===this._cacheKey&&(this._cacheKey=e,this._cacheIndex=-2),!0}return!1},t.prototype.clear=function(){this._keys.length=0,this._values.length=0,this._cacheKey=e,this._cacheIndex=-2},t.prototype.keys=function(){return new r(this._keys,this._values,i)},t.prototype.values=function(){return new r(this._keys,this._values,n)},t.prototype.entries=function(){return new r(this._keys,this._values,o)},t.prototype["@@iterator"]=function(){return this.entries()},t.prototype[a]=function(){return this.entries()},t.prototype._find=function(e,t){return this._cacheKey!==e&&(this._cacheIndex=this._keys.indexOf(this._cacheKey=e)),this._cacheIndex<0&&t&&(this._cacheIndex=this._keys.length,this._keys.push(e),this._values.push(void 0)),this._cacheIndex},t}();function i(e,t){return e}function n(e,t){return t}function o(e,t){return[e,t]}}():Map,h=f||"function"!=typeof Set||"function"!=typeof Set.prototype.entries?function(){function e(){this._map=new d}return Object.defineProperty(e.prototype,"size",{get:function(){return this._map.size},enumerable:!0,configurable:!0}),e.prototype.has=function(e){return this._map.has(e)},e.prototype.add=function(e){return this._map.set(e,e),this},e.prototype.delete=function(e){return this._map.delete(e)},e.prototype.clear=function(){this._map.clear()},e.prototype.keys=function(){return this._map.keys()},e.prototype.values=function(){return this._map.values()},e.prototype.entries=function(){return this._map.entries()},e.prototype["@@iterator"]=function(){return this.keys()},e.prototype[a]=function(){return this.keys()},e}():Set,b=new(f||"function"!=typeof WeakMap?function(){var e=16,t=u.create(),i=n();return function(){function e(){this._key=n()}return e.prototype.has=function(e){var t=a(e,!1);return void 0!==t&&u.has(t,this._key)},e.prototype.get=function(e){var t=a(e,!1);return void 0!==t?u.get(t,this._key):void 0},e.prototype.set=function(e,t){return a(e,!0)[this._key]=t,this},e.prototype.delete=function(e){var t=a(e,!1);return void 0!==t&&delete t[this._key]},e.prototype.clear=function(){this._key=n()},e}();function n(){var e;do{e="@@WeakMap@@"+l()}while(u.has(t,e));return t[e]=!0,e}function a(e,t){if(!r.call(e,i)){if(!t)return;Object.defineProperty(e,i,{value:u.create()})}return e[i]}function o(e,t){for(var r=0;r<t;++r)e[r]=255*Math.random()|0;return e}function l(){var t,r=(t=e,"function"==typeof Uint8Array?"undefined"!=typeof crypto?crypto.getRandomValues(new Uint8Array(t)):"undefined"!=typeof msCrypto?msCrypto.getRandomValues(new Uint8Array(t)):o(new Uint8Array(t),t):o(new Array(t),t));r[6]=79&r[6]|64,r[8]=191&r[8]|128;for(var i="",n=0;n<e;++n){var a=r[n];4!==n&&6!==n&&8!==n||(i+="-"),a<16&&(i+="0"),i+=a.toString(16).toLowerCase()}return i}}():WeakMap);function m(e,t,r){var i=b.get(e);if(T(i)){if(!r)return;i=new d,b.set(e,i)}var n=i.get(t);if(T(n)){if(!r)return;n=new d,i.set(t,n)}return n}function p(e,t,r){var i=m(t,r,!1);return!T(i)&&!!i.has(e)}function v(e,t,r){var i=m(t,r,!1);if(!T(i))return i.get(e)}function g(e,t,r,i){m(r,i,!0).set(e,t)}function E(e,t){var r=[],i=m(e,t,!1);if(T(i))return r;for(var n=function(e){var t=z(e,a);if(!O(t))throw new TypeError;var r=t.call(e);if(!_(r))throw new TypeError;return r}(i.keys()),o=0;;){var l=P(n);if(!l)return r.length=o,r;var s=l.value;try{r[o]=s}catch(e){try{C(n)}finally{throw e}}o++}}function y(e){if(null===e)return 1;switch(typeof e){case"undefined":return 0;case"boolean":return 2;case"string":return 3;case"symbol":return 4;case"number":return 5;case"object":return null===e?1:6;default:return 6}}function T(e){return void 0===e}function w(e){return null===e}function _(e){return"object"==typeof e?null!==e:"function"==typeof e}function S(e,t){switch(y(e)){case 0:case 1:case 2:case 3:case 4:case 5:return e}var r=3===t?"string":5===t?"number":"default",i=z(e,n);if(void 0!==i){var a=i.call(e,r);if(_(a))throw new TypeError;return a}return function(e,t){if("string"===t){var r=e.toString;if(O(r))if(!_(n=r.call(e)))return n;if(O(i=e.valueOf))if(!_(n=i.call(e)))return n}else{var i;if(O(i=e.valueOf))if(!_(n=i.call(e)))return n;var n,a=e.toString;if(O(a))if(!_(n=a.call(e)))return n}throw new TypeError}(e,"default"===r?"number":r)}function R(e){var t=S(e,3);return"symbol"==typeof t?t:function(e){return""+e}(t)}function j(e){return Array.isArray?Array.isArray(e):e instanceof Object?e instanceof Array:"[object Array]"===Object.prototype.toString.call(e)}function O(e){return"function"==typeof e}function A(e){return"function"==typeof e}function z(e,t){var r=e[t];if(null!=r){if(!O(r))throw new TypeError;return r}}function P(e){var t=e.next();return!t.done&&t}function C(e){var t=e.return;t&&t.call(e)}function D(e){var t=Object.getPrototypeOf(e);if("function"!=typeof e||e===c)return t;if(t!==c)return t;var r=e.prototype,i=r&&Object.getPrototypeOf(r);if(null==i||i===Object.prototype)return t;var n=i.constructor;return"function"!=typeof n?t:n===e?t:n}function I(e){return e.__=void 0,delete e.__,e}t("decorate",(function(e,t,r,i){if(T(r)){if(!j(e))throw new TypeError;if(!A(t))throw new TypeError;return function(e,t){for(var r=e.length-1;r>=0;--r){var i=(0,e[r])(t);if(!T(i)&&!w(i)){if(!A(i))throw new TypeError;t=i}}return t}(e,t)}if(!j(e))throw new TypeError;if(!_(t))throw new TypeError;if(!_(i)&&!T(i)&&!w(i))throw new TypeError;return w(i)&&(i=void 0),function(e,t,r,i){for(var n=e.length-1;n>=0;--n){var a=(0,e[n])(t,r,i);if(!T(a)&&!w(a)){if(!_(a))throw new TypeError;i=a}}return i}(e,t,r=R(r),i)})),t("metadata",(function(e,t){return function(r,i){if(!_(r))throw new TypeError;if(!T(i)&&!function(e){switch(y(e)){case 3:case 4:return!0;default:return!1}}(i))throw new TypeError;g(e,t,r,i)}})),t("defineMetadata",(function(e,t,r,i){if(!_(r))throw new TypeError;return T(i)||(i=R(i)),g(e,t,r,i)})),t("hasMetadata",(function(e,t,r){if(!_(t))throw new TypeError;return T(r)||(r=R(r)),function e(t,r,i){if(p(t,r,i))return!0;var n=D(r);return!w(n)&&e(t,n,i)}(e,t,r)})),t("hasOwnMetadata",(function(e,t,r){if(!_(t))throw new TypeError;return T(r)||(r=R(r)),p(e,t,r)})),t("getMetadata",(function(e,t,r){if(!_(t))throw new TypeError;return T(r)||(r=R(r)),function e(t,r,i){if(p(t,r,i))return v(t,r,i);var n=D(r);return w(n)?void 0:e(t,n,i)}(e,t,r)})),t("getOwnMetadata",(function(e,t,r){if(!_(t))throw new TypeError;return T(r)||(r=R(r)),v(e,t,r)})),t("getMetadataKeys",(function(e,t){if(!_(e))throw new TypeError;return T(t)||(t=R(t)),function e(t,r){var i=E(t,r),n=D(t);if(null===n)return i;var a=e(n,r);if(a.length<=0)return i;if(i.length<=0)return a;for(var o=new h,l=[],s=0,u=i;s<u.length;s++){var c=u[s];o.has(c)||(o.add(c),l.push(c))}for(var f=0,d=a;f<d.length;f++){c=d[f];o.has(c)||(o.add(c),l.push(c))}return l}(e,t)})),t("getOwnMetadataKeys",(function(e,t){if(!_(e))throw new TypeError;return T(t)||(t=R(t)),E(e,t)})),t("deleteMetadata",(function(e,t,r){if(!_(t))throw new TypeError;T(r)||(r=R(r));var i=m(t,r,!1);if(T(i))return!1;if(!i.delete(e))return!1;if(i.size>0)return!0;var n=b.get(t);return n.delete(r),n.size>0||(b.delete(t),!0)}))}(a)}()}(r||(r={}))}).call(this,r("../node_modules/process/browser.js"),r("../node_modules/webpack/buildin/global.js"))},"../node_modules/webpack/buildin/global.js":function(e,t){var r;r=function(){return this}();try{r=r||new Function("return this")()}catch(e){"object"==typeof window&&(r=window)}e.exports=r},"./config.js":function(e,t,r){"use strict";r.r(t),r.d(t,"config",(function(){return f}));var i=r("./core/index.js"),n=r("./curve/index.js"),a=r("./eve/index.js"),o=r("./particle/index.js"),l=r("./sof/index.js"),s=r("./unsupported/index.js"),u=r("./global/class/index.js"),c=r("./global/math/index.js"),f={debug:!1,device:{textureQuality:0,shaderQuality:"hi",antialiasing:!0,anisotropicFiltering:!0,webgl2:!0,webvr:!1,performanceClock:!0},resMan:{systemMirror:!1,autoPurgeResources:!0,purgeTime:60,maxPrepareTime:.05},logger:{name:"CCPWGL2",history:50,throttle:10,display:!0,visible:{error:!0,warning:!1,log:!1,info:!1,debug:!1}},store:{path:{res:"https://developers.eveonline.com/ccpwgl/assetpath/1097993/",cdn:"http://localhost:3000/"},extension:{sm_hi:i.Tw2EffectRes,sm_lo:i.Tw2EffectRes,wbg:i.Tw2GeometryRes,png:i.Tw2TextureRes,dds:i.Tw2TextureRes,cube:i.Tw2TextureRes,mp4:i.Tw2VideoRes,ogg:i.Tw2VideoRes,webm:i.Tw2VideoRes,black:i.Tw2LoadingObject,red:i.Tw2LoadingObject},class:[i,n,a,o,l,s,{Tw2EventEmitter:u.Tw2EventEmitter,Tw2Notifications:u.Tw2Notifications}],type:{float:i.Tw2FloatParameter,number:i.Tw2FloatParameter,texture:i.Tw2TextureParameter,vector2:i.Tw2Vector2Parameter,vector3:i.Tw2Vector3Parameter,vector4:i.Tw2Vector4Parameter,matrix4:i.Tw2Matrix4Parameter},variable:{WorldMat:c.mat4.create(),ViewMat:c.mat4.create(),ProjectionMat:c.mat4.create(),ViewProjectionMat:c.mat4.create(),ViewportSize:c.vec4.create(),Time:c.vec4.create(),u_DecalMatrix:c.mat4.create(),u_InvDecalMatrix:c.mat4.create(),EveSpaceSceneEnvMap:"",EnvMap1:"",EnvMap2:"",EnvMap3:"",ShadowLightness:0,OccluderValue:c.vec4.fromValues(1,1,0,0),LensflareFxOccScale:c.vec4.fromValues(1,1,0,0),LensflareFxDirectionScale:c.vec4.create()}}}},"./core/Tw2Error.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tw2Error",(function(){return a})),r.d(t,"ErrWebglContext",(function(){return o})),r.d(t,"ErrWebxrNotSupported",(function(){return l})),r.d(t,"ErrWebxrDeviceNotFound",(function(){return s})),r.d(t,"ErrWebxrRequestFailed",(function(){return u})),r.d(t,"ErrWebxrSessionNotSupported",(function(){return c})),r.d(t,"ErrStoreKeyReserved",(function(){return f})),r.d(t,"ErrStoreValueInvalid",(function(){return d})),r.d(t,"ErrStoreValueMissing",(function(){return h})),r.d(t,"ErrStoreInvalid",(function(){return b})),r.d(t,"ErrHTTPRequest",(function(){return m})),r.d(t,"ErrHTTPStatus",(function(){return p})),r.d(t,"ErrBinaryFormat",(function(){return v})),r.d(t,"ErrBinaryReaderReadError",(function(){return g})),r.d(t,"ErrBinaryObjectTypeNotFound",(function(){return E})),r.d(t,"ErrGeometryMeshMissingParticleElement",(function(){return y})),r.d(t,"ErrGeometryMeshElementComponentsMissing",(function(){return T})),r.d(t,"ErrGeometryMeshAreaMissing",(function(){return w})),r.d(t,"ErrGeometryMeshBoneNameInvalid",(function(){return _})),r.d(t,"ErrGeometryMeshEffectBinding",(function(){return S})),r.d(t,"ErrGeometryFileType",(function(){return R})),r.d(t,"ErrResourcePrefixUnregistered",(function(){return j})),r.d(t,"ErrResourcePrefixUndefined",(function(){return O})),r.d(t,"ErrResourceExtensionUnregistered",(function(){return A})),r.d(t,"ErrResourceExtensionUndefined",(function(){return z})),r.d(t,"ErrResourceFormat",(function(){return P})),r.d(t,"ErrShaderVersion",(function(){return C})),r.d(t,"ErrShaderHeaderSize",(function(){return D})),r.d(t,"ErrShaderPermutationValue",(function(){return I})),r.d(t,"ErrShaderCompile",(function(){return x})),r.d(t,"ErrShaderLink",(function(){return L})),r.d(t,"ErrDeclarationValueType",(function(){return M})),r.d(t,"ErrSingletonInstantiation",(function(){return F})),r.d(t,"ErrInvalidDecoratorUsage",(function(){return G})),r.d(t,"ErrAbstractClass",(function(){return k})),r.d(t,"ErrAbstractMethod",(function(){return N})),r.d(t,"ErrFeatureNotImplemented",(function(){return B})),r.d(t,"ErrIndexBounds",(function(){return U})),r.d(t,"ErrBindingValueUndefined",(function(){return V})),r.d(t,"ErrBindingType",(function(){return H})),r.d(t,"ErrBindingReference",(function(){return q})),r.d(t,"ErrSOFHullNotFound",(function(){return W})),r.d(t,"ErrSOFFactionNotFound",(function(){return Y})),r.d(t,"ErrSOFRaceNotFound",(function(){return X})),r.d(t,"ErrSOFMaterialNotFound",(function(){return K})),r.d(t,"ErrSOFPatternNotFound",(function(){return Q})),r.d(t,"ErrWrapped",(function(){return Z}));var i=r("./global/util/index.js"),n=Object(i.isFunction)(Error.captureStackTrace);class a extends Error{constructor(e={},t="Undefined error"){var r=t;"string"==typeof e?(r=e,e={}):e.message&&(r=e.message,delete e.message),super(),this.message=Object(i.template)(r,e),this.name=this.constructor.name,this.data=e,n?Error.captureStackTrace(this,a):this.stack=new Error(this.message).stack}emitOn(e,t="error"){return e&&e.emit&&e.emit(t,this),this}}a.__category="error";class o extends a{constructor(e){super(e,"Unable to create webgl context (%version%)")}}class l extends a{constructor(e){super(e,"Webxr not supported")}}class s extends a{constructor(e){super(e,"Webxr device not found")}}class u extends a{constructor(e){super(e,"Webxr request failed (%err%)")}}class c extends a{constructor(e){super(e,"Webxr session not supported (%err%)")}}class f extends a{constructor(e){super(e,"Reserved key for '%store%' store (%key%)")}}class d extends a{constructor(e){super(e,"Invalid value for '%store%' store key (%key%)")}}class h extends a{constructor(e){super(e,"Missing '%store%' store key (%key%)")}}class b extends a{constructor(e){super(e,"Invalid store")}}class m extends a{constructor(e){super(e,"Communication error while requesting resource")}}class p extends a{constructor(e){super(e,"%statusText=Communication status error while loading resource% (%status%)")}}class v extends a{constructor(e){super(e,"Invalid binary format (%formatError=undefined%)")}}class g extends a{constructor(e){super(e,"Error reading binary (%readError=undefined%)")}}class E extends a{constructor(e){super(e,"Binary object type not found (%type%)")}}class y extends a{constructor(e){super(e,"Input geometry mesh lacks element required by particle system")}}class T extends a{constructor(e){super(e,"Input geometry mesh elements do not have the required number of components")}}class w extends a{constructor(e){super(e,"Geometry mesh missing expected area at index %areaIndex%")}}class _ extends a{constructor(e){super(e,"Geometry mesh has invalid bone name for model")}}class S extends a{constructor(e){super(e,"Error binding geometry mesh to effect")}}class R extends a{constructor(e){super(e,"Invalid geometry file type (%fileType%)")}}class j extends a{constructor(e){super(e,"Unregistered resource prefix (%prefix%)")}}class O extends a{constructor(e){super(e,"Undefined resource prefix")}}class A extends a{constructor(e){super(e,"Unregistered resource extension (%extension%)")}}class z extends a{constructor(e){super(e,"Undefined resource extension")}}class P extends a{constructor(e){super(e,"Invalid resource format")}}class C extends a{constructor(e){super(e,"Invalid version of effect file (%version%)")}}class D extends a{constructor(e){super(e,"Effect file contains no compiled effects")}}class I extends a{constructor(e){super(e,"Invalid shader permutation value")}}class x extends a{constructor(e){super(e,"Error compiling %shaderType% shader (%infoLog%)")}}class L extends a{constructor(e){super(e,"Error linking shaders")}}class M extends a{constructor(e){super(e,"Invalid declaration value type (%declaration%:%valueType%)")}}class F extends a{constructor(e){super(e,"Cannot re-instantiate singleton (%class%)")}}class G extends a{constructor(e){super(e,"Invalid decorator usage (%reason%)")}}class k extends a{constructor(e){super(e,"Abstract class cannot be directly instantiated (%class%)")}}class N extends a{constructor(e){super(e,"Abstract class method not implemented on class '%class%': (%method%)")}}class B extends a{constructor(e){super(e,"%feature=Feature% not implemented")}}class U extends a{constructor(e){super(e,"Array index out of bounds")}}class V extends a{constructor(e){super(e,"Error binding '%name=unknown%', '%object%' property is undefined (%property%)")}}class H extends a{constructor(e){super(e,"Error binding '%name=unknown%', cannot identify binding type")}}class q extends a{constructor(e){super(e,"Error binding '%name=unknown%', could not find '%object%' object reference")}}class W extends a{constructor(e){super(e,"SOF Hull not found (%name%)")}}class Y extends a{constructor(e){super(e,"SOF Faction not found (%name%)")}}class X extends a{constructor(e){super(e,"SOF Race not found (%name%)")}}class K extends a{constructor(e){super(e,"SOF Material not found (%name%)")}}class Q extends a{constructor(e){super(e,"SOF Pattern not found (%name%)")}}class Z extends a{constructor(e){super(e,"Invalid wrapped object(s) (%reason%)")}}},"./core/Tw2Frustum.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tw2Frustum",(function(){return l}));var i,n,a,o=r("./global/index.js"),l=o.meta.type("Tw2Frustum")((a=n=class e{constructor(){this._halfWidthProjection=1,this._planes=[o.vec4.create(),o.vec4.create(),o.vec4.create(),o.vec4.create(),o.vec4.create(),o.vec4.create()],this._viewPos=o.vec3.create(),this._viewDir=o.vec3.create()}Initialize(t,r,i,n,a){var l=e.global.mat4_0,s=n||o.mat4.invert(l,t);this._viewPos.set(s.subarray(12,14)),this._viewDir.set(s.subarray(8,10)),this._halfWidthProjection=r[0]*i*.5;var u=a||o.mat4.multiply(l,r,t),c=this._planes;c[0][0]=u[2],c[0][1]=u[6],c[0][2]=u[10],c[0][3]=u[14],c[1][0]=u[3]+u[0],c[1][1]=u[7]+u[4],c[1][2]=u[11]+u[8],c[1][3]=u[15]+u[12],c[2][0]=u[3]-u[1],c[2][1]=u[7]-u[5],c[2][2]=u[11]-u[9],c[2][3]=u[15]-u[13],c[3][0]=u[3]-u[0],c[3][1]=u[7]-u[4],c[3][2]=u[11]-u[8],c[3][3]=u[15]-u[12],c[4][0]=u[3]+u[1],c[4][1]=u[7]+u[5],c[4][2]=u[11]+u[9],c[4][3]=u[15]+u[13],c[5][0]=u[3]-u[2],c[5][1]=u[7]-u[6],c[5][2]=u[11]-u[10],c[5][3]=u[15]-u[14];for(var f=0;f<6;++f){var d=o.vec3.length(c[f]);c[f][0]/=d,c[f][1]/=d,c[f][2]/=d,c[f][3]/=d}}IsSphereVisible(e,t){for(var r=this._planes,i=0;i<6;++i)if(r[i][0]*e[0]+r[i][1]*e[1]+r[i][2]*e[2]+r[i][3]<-t)return!1;return!0}GetPixelSizeAcross(t,r){var i=o.vec3.subtract(e.global.vec3_0,this._viewPos,t),n=o.vec3.dot(this._viewDir,i);return n<1e-5&&(n=1e-5),r<1e-5?0:r/n*this._halfWidthProjection*2}},n.global={vec3_0:o.vec3.create(),mat4_0:o.mat4.create()},i=a))||i},"./core/Tw2RenderTarget.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tw2RenderTarget",(function(){return S}));var i,n,a,o,l,s,u,c,f,d,h,b,m,p,v,g,E,y=r("./global/index.js"),T=r("./core/resource/Tw2TextureRes.js");function w(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function _(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var S=(i=y.meta.type("Tw2RenderTarget"),n=y.meta.string,a=y.meta.object,o=y.meta.isPrivate,l=y.meta.float,s=y.meta.isPrivate,u=y.meta.float,c=y.meta.isPrivate,f=y.meta.boolean,d=y.meta.isPrivate,i((m=_((b=class{constructor(){w(this,"name",m,this),w(this,"texture",p,this),w(this,"width",v,this),w(this,"height",g,this),w(this,"hasDepth",E,this),this._id=y.util.generateID(),this._frameBuffer=null,this._renderBuffer=null}IsGood(){return this._frameBuffer&&this._renderBuffer&&this.texture}Destroy(){var{gl:e}=y.tw2.device;this.texture&&(e.deleteTexture(this.texture.texture),this.texture=null),this._renderBuffer&&(e.deleteRenderbuffer(this._renderBuffer),this._renderBuffer=null),this._frameBuffer&&(e.deleteFramebuffer(this._frameBuffer),this._frameBuffer=null),this.hasDepth=!1,this.width=0,this.height=0}Create(e,t,r){var{gl:i}=y.tw2.device;this.Destroy(),this.texture=new T.Tw2TextureRes,this.texture.Attach(i.createTexture()),this._frameBuffer=i.createFramebuffer(),i.bindFramebuffer(i.FRAMEBUFFER,this._frameBuffer),i.bindTexture(i.TEXTURE_2D,this.texture.texture),i.texImage2D(i.TEXTURE_2D,0,i.RGBA,e,t,0,i.RGBA,i.UNSIGNED_BYTE,null),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_MAG_FILTER,i.LINEAR),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_MIN_FILTER,i.LINEAR),i.bindTexture(i.TEXTURE_2D,null),this._renderBuffer=null,r&&(this._renderBuffer=i.createRenderbuffer(),i.bindRenderbuffer(i.RENDERBUFFER,this._renderBuffer),i.renderbufferStorage(i.RENDERBUFFER,i.DEPTH_COMPONENT16,e,t)),i.framebufferTexture2D(i.FRAMEBUFFER,i.COLOR_ATTACHMENT0,i.TEXTURE_2D,this.texture.texture,0),r&&i.framebufferRenderbuffer(i.FRAMEBUFFER,i.DEPTH_ATTACHMENT,i.RENDERBUFFER,this._renderBuffer),i.bindRenderbuffer(i.RENDERBUFFER,null),i.bindFramebuffer(i.FRAMEBUFFER,null),this.texture.width=this.width=e,this.texture.height=this.height=t,this.hasDepth=r}Set(){var{gl:e}=y.tw2.device;e.bindFramebuffer(e.FRAMEBUFFER,this._frameBuffer),e.viewport(0,0,this.width,this.height)}Unset(){var{gl:e,viewportWidth:t,viewportHeight:r}=y.tw2.device;e.bindFramebuffer(e.FRAMEBUFFER,null),e.viewport(0,0,t,r)}}).prototype,"name",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),p=_(b.prototype,"texture",[a,o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),v=_(b.prototype,"width",[l,s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),g=_(b.prototype,"height",[u,c],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),E=_(b.prototype,"hasDepth",[f,d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),h=b))||h)},"./core/Tw2RuntimeInstanceData.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tw2RuntimeInstanceData",(function(){return l}));var i,n=r("./global/index.js"),a=r("./core/vertex/index.js"),o=r("./particle/element/Tw2ParticleElementDeclaration.js"),l=n.meta.type("Tw2RuntimeInstanceData","Tr2RuntimeInstanceData")(i=n.meta.data("black")(i=class extends n.Tw2BaseClass{constructor(...e){super(...e),this._count=0,this._data=null,this._dirty=!0,this._declaration=null,this._vb=null,this._vertexStride=0}GetMaxInstanceCount(){return this._data?this._data.length:1}SetElementLayout(e){this._vb&&(n.device.gl.deleteBuffer(this._vb),this._vb=null),this._vertexStride=0,this._declaration=new a.Tw2VertexDeclaration;for(var t=0;t<e.length;++t){var r=new o.Tw2ParticleElementDeclaration;r.elementType=e[t][0],r.dimension=e[t][2],r.usageIndex=e[t][1];var i=r.GetDeclaration();i.offset=4*this._vertexStride,this._declaration.elements.push(i),this._vertexStride+=r.dimension}this._declaration.RebuildHash()}SetData(e){this._declaration&&(this._data=e,this._count=this._data.length,this._dirty=!0,this.UpdateData())}SetItemElement(e,t,r){if(this._declaration.elements[t].elements>1)for(var i=0;i<this._declaration.elements[t].elements;++i)this._data[e][t][i]=r[i];else this._data[e][t]=r;this._dirty=!0}SetItemElementRef(e,t,r){this._data[e][t]=r,this._dirty=!0}GetItemElement(e,t){return this._data[e][t]}UpdateData(){if(this._dirty&&this._declaration){for(var e=n.device.gl,t=new Float32Array(this._data.length*this._vertexStride),r=0,i=0;i<this._data.length;++i)for(var a=0;a<this._declaration.elements.length;++a)if(1===this._declaration.elements[a].elements)t[r++]=this._data[i][a];else for(var o=0;o<this._declaration.elements[a].elements;++o)t[r++]=this._data[i][a][o];this._vb||(this._vb=e.createBuffer()),e.bindBuffer(e.ARRAY_BUFFER,this._vb),e.bufferData(e.ARRAY_BUFFER,t,e.STATIC_DRAW),e.bindBuffer(e.ARRAY_BUFFER,null),this._dirty=!1}}Unload(){this._vb&&(n.device.gl.deleteBuffer(this._vb),this._vb=null)}GetInstanceBuffer(){return this._vb}GetInstanceDeclaration(){return this._declaration}GetInstanceStride(){return 4*this._vertexStride}GetInstanceCount(){return this._count}})||i)||i},"./core/batch/Tw2BatchAccumulator.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tw2BatchAccumulator",(function(){return n}));var i=r("./global/index.js");class n{constructor(e=null){this.batches=[],this._sortMethod=null,this._sortMethod=e}get length(){return this.batches.length}Commit(e){this.batches.push(e)}Clear(){this.batches=[]}Render(e="Main"){this._sortMethod&&this.batches.sort(this._sortMethod);for(var t=0;t<this.batches.length;++t)this.batches[t]instanceof n?this.batches[t].Render(e):(this.batches[t].renderMode!==i.device.RM_ANY&&i.device.SetStandardStates(this.batches[t].renderMode),i.device.perObjectData=this.batches[t].perObjectData,this.batches[t].Commit(e))}}},"./core/batch/Tw2ForwardingRenderBatch.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tw2ForwardingRenderBatch",(function(){return n}));var i=r("./core/batch/Tw2RenderBatch.js");class n extends i.Tw2RenderBatch{constructor(...e){super(...e),this.geometryProvider=null}Commit(e){this.geometryProvider&&this.geometryProvider.Render(this,e)}}},"./core/batch/Tw2GeometryBatch.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tw2GeometryBatch",(function(){return n}));var i=r("./core/batch/Tw2RenderBatch.js");class n extends i.Tw2RenderBatch{constructor(...e){super(...e),this.geometryRes=null,this.meshIx=0,this.start=0,this.count=1,this.effect=null}Commit(e){this.geometryRes&&this.effect&&this.geometryRes.RenderAreas(this.meshIx,this.start,this.count,this.effect,e)}}},"./core/batch/Tw2GeometryLineBatch.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tw2GeometryLineBatch",(function(){return n}));var i=r("./core/batch/Tw2GeometryBatch.js");class n extends i.Tw2GeometryBatch{Commit(e){this.geometryRes&&this.effect&&this.geometryRes.RenderLines(this.meshIx,this.start,this.count,this.effect,e)}}},"./core/batch/Tw2InstancedMeshBatch.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tw2InstancedMeshBatch",(function(){return n}));var i=r("./core/batch/Tw2GeometryBatch.js");class n extends i.Tw2GeometryBatch{constructor(...e){super(...e),this.instanceMesh=null}Commit(e){this.instanceMesh&&this.effect&&this.instanceMesh.RenderAreas(this.meshIx,this.start,this.count,this.effect,e)}}},"./core/batch/Tw2RenderBatch.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tw2RenderBatch",(function(){return n}));var i=r("./global/index.js");class n{constructor(){this.renderMode=i.RM_ANY,this.perObjectData=null}Commit(e){}}},"./core/batch/index.js":function(e,t,r){"use strict";r.r(t);var i=r("./core/batch/Tw2BatchAccumulator.js");r.d(t,"Tw2BatchAccumulator",(function(){return i.Tw2BatchAccumulator}));var n=r("./core/batch/Tw2ForwardingRenderBatch.js");r.d(t,"Tw2ForwardingRenderBatch",(function(){return n.Tw2ForwardingRenderBatch}));var a=r("./core/batch/Tw2GeometryBatch.js");r.d(t,"Tw2GeometryBatch",(function(){return a.Tw2GeometryBatch}));var o=r("./core/batch/Tw2GeometryLineBatch.js");r.d(t,"Tw2GeometryLineBatch",(function(){return o.Tw2GeometryLineBatch}));var l=r("./core/batch/Tw2RenderBatch.js");r.d(t,"Tw2RenderBatch",(function(){return l.Tw2RenderBatch}));var s=r("./core/batch/Tw2InstancedMeshBatch.js");r.d(t,"Tw2InstancedMeshBatch",(function(){return s.Tw2InstancedMeshBatch}))},"./core/data/Tw2PerObjectData.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tw2PerObjectData",(function(){return n}));var i=r("./core/data/Tw2RawData.js");class n{constructor(){this.vs=null,this.ps=null,this.ffe=null}static from(e,t){var r=new n;return e&&(e.ps&&(r.ps=i.Tw2RawData.from(e.ps,t)),e.vs&&(r.vs=i.Tw2RawData.from(e.vs,t)),e.ffe&&(r.ffe=i.Tw2RawData.from(e.ffe,t))),r}}},"./core/data/Tw2RawData.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tw2RawData",(function(){return n}));var i=r("./core/Tw2Error.js");class n{constructor(){this.data=null,this.elements={},this._nextOffset=0}Has(e){return e in this.elements}Set(e,t){for(var r=this.elements[e],i=0;i<r.size;i++)this.data[i+r.offset]=t[i]}SetIndex(e,t,r){var n=this.elements[e];if(t<0||t>=n.size)throw new i.ErrIndexBounds;this.data[t+n.offset]=r}Get(e){return this.elements[e].array}Declare(e,t){var r="number"!=typeof t,i=r?t.length:t,n=r?t:null;this.elements[e]={offset:this._nextOffset,array:null,size:i,value:n},this._nextOffset+=i}Create(){for(var e in this.data=new Float32Array(this._nextOffset),this.elements)if(this.elements.hasOwnProperty(e)){var t=this.elements[e];if(t.array=this.data.subarray(t.offset,t.offset+t.size),t.value){for(var r=0;r<t.size;r++)t.array[r]=t.value[r];Reflect.deleteProperty(t,"value")}}}static from(e,t){var r=new n;if(e){for(var i=0;i<e.length;i++)r.Declare(e[i][0],e[i][1]);t&&t.skipUpdate||r.Create()}return r}}},"./core/data/index.js":function(e,t,r){"use strict";r.r(t);var i=r("./core/data/Tw2PerObjectData.js");r.d(t,"Tw2PerObjectData",(function(){return i.Tw2PerObjectData}));var n=r("./core/data/Tw2RawData.js");r.d(t,"Tw2RawData",(function(){return n.Tw2RawData}))},"./core/geometry/Tw2BlendShapeData.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tw2BlendShapeData",(function(){return y}));var i,n,a,o,l,s,u,c,f,d,h,b,m,p=r("./global/index.js"),v=r("./core/vertex/index.js");function g(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function E(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var y=(i=p.meta.type("Tw2BlendShapeData"),n=p.meta.string,a=p.meta.objectOf("Tw2VertexDeclaration"),o=p.meta.vector,l=p.meta.unknown,s=p.meta.unknown,i((f=E((c=class{constructor(){g(this,"name",f,this),g(this,"declaration",d,this),g(this,"buffers",h,this),g(this,"indexes",b,this),g(this,"weightProxy",m,this)}}).prototype,"name",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),d=E(c.prototype,"declaration",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new v.Tw2VertexDeclaration}}),h=E(c.prototype,"buffers",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),b=E(c.prototype,"indexes",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),m=E(c.prototype,"weightProxy",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),u=c))||u)},"./core/geometry/Tw2GeometryAnimation.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tw2GeometryAnimation",(function(){return m}));var i,n,a,o,l,s,u,c,f,d=r("./global/index.js");function h(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function b(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var m=(i=d.meta.type("Tw2GeometryAnimation"),n=d.meta.string,a=d.meta.float,o=d.meta.listOf("Tw2GeometryTrackGroup"),i((u=b((s=class{constructor(){h(this,"name",u,this),h(this,"duration",c,this),h(this,"trackGroups",f,this)}}).prototype,"name",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),c=b(s.prototype,"duration",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),f=b(s.prototype,"trackGroups",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),l=s))||l)},"./core/geometry/Tw2GeometryBone.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tw2GeometryBone",(function(){return O}));var i,n,a,o,l,s,u,c,f,d,h,b,m,p,v,g,E,y,T,w,_,S=r("./global/index.js");function R(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function j(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var O=(i=S.meta.type("Tw2GeometryBone"),n=S.meta.string,a=S.meta.uint,o=S.meta.vector3,l=S.meta.quaternion,s=S.meta.matrix4,u=S.meta.matrix4,c=S.meta.matrix4,f=S.meta.matrix4,i((_=w=class e{constructor(){R(this,"name",b,this),R(this,"parentIndex",m,this),R(this,"position",p,this),R(this,"orientation",v,this),R(this,"scaleShear",g,this),R(this,"localTransform",E,this),R(this,"worldTransform",y,this),R(this,"worldTransformInv",T,this)}UpdateTransform(){S.mat4.fromMat3(this.localTransform,this.scaleShear),S.quat.normalize(this.orientation,this.orientation);var t=S.mat4.fromQuat(e.global.mat4_0,this.orientation);return S.mat4.multiply(this.localTransform,this.localTransform,t),this.localTransform[12]=this.position[0],this.localTransform[13]=this.position[1],this.localTransform[14]=this.position[2],this.localTransform}},w.global={mat4_0:S.mat4.create()},b=j((h=_).prototype,"name",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),m=j(h.prototype,"parentIndex",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return-1}}),p=j(h.prototype,"position",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return S.vec3.create()}}),v=j(h.prototype,"orientation",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return S.quat.create()}}),g=j(h.prototype,"scaleShear",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return S.mat3.create()}}),E=j(h.prototype,"localTransform",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return S.mat4.create()}}),y=j(h.prototype,"worldTransform",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return S.mat4.create()}}),T=j(h.prototype,"worldTransformInv",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return S.mat4.create()}}),d=h))||d)},"./core/geometry/Tw2GeometryCurve.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tw2GeometryCurve",(function(){return v}));var i,n,a,o,l,s,u,c,f,d,h,b=r("./global/index.js");function m(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function p(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var v=(i=b.meta.type("Tw2GeometryCurve"),n=b.meta.float,a=b.meta.float,o=b.meta.vector,l=b.meta.vector,i((c=p((u=class{constructor(){m(this,"dimension",c,this),m(this,"degree",f,this),m(this,"knots",d,this),m(this,"controls",h,this)}}).prototype,"dimension",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),f=p(u.prototype,"degree",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),d=p(u.prototype,"knots",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),h=p(u.prototype,"controls",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),s=u))||s)},"./core/geometry/Tw2GeometryMesh.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tw2GeometryMesh",(function(){return B}));var i,n,a,o,l,s,u,c,f,d,h,b,m,p,v,g,E,y,T,w,_,S,R,j,O,A,z,P,C,D,I,x,L,M=r("./global/index.js"),F=r("./core/vertex/index.js"),G=r("./global/util/index.js");r("./core/geometry/Tw2GeometryMeshArea.js");function k(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function N(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var B=(i=M.meta.type("Tw2GeometryMesh"),n=M.meta.string,a=M.meta.objectOf("Tw2VertexDeclaration"),o=M.meta.listOf("Tw2GeometryMeshArea"),l=M.meta.vector,s=M.meta.uint,u=M.meta.objectOf(WebGLBuffer),c=M.meta.objectOf(WebGLBuffer),f=M.meta.vector,d=M.meta.uint,h=M.meta.vector3,b=M.meta.vector3,m=M.meta.vector3,p=M.meta.float,v=M.meta.listOf("Tw2GeometryBone"),g=M.meta.listOf(String),i((T=N((y=class e{constructor(){k(this,"name",T,this),k(this,"declaration",w,this),k(this,"areas",_,this),k(this,"buffer",S,this),k(this,"bufferLength",R,this),k(this,"bufferData",j,this),k(this,"indexes",O,this),k(this,"indexData",A,this),k(this,"indexType",z,this),k(this,"minBounds",P,this),k(this,"maxBounds",C,this),k(this,"boundsSpherePosition",D,this),k(this,"boundsSphereRadius",I,this),k(this,"bones",x,this),k(this,"boneBindings",L,this),this._faces=0,this._vertices=0,this._areas=0}GetBoundingBox(e,t){return M.box3.fromBounds(e,this.minBounds,this.maxBounds),t&&M.box3.transformMat4(e,e,t),!0}GetBoundingSphere(e,t){return M.sph3.fromPositionRadius(e,this.boundsSpherePosition,this.boundsSphereRadius),t&&M.sph3.transformMat4(e,e,t),!0}RebuildBounds(e){var t=this.minBounds,r=this.maxBounds;M.box3.bounds.empty(t,r);for(var i=0;i<this.areas.length;i++){var n=this.areas[i];this.RebuildAreaBounds(n,this.bufferData,this.indexData,e),M.box3.bounds.union(t,r,t,r,n.minBounds,n.maxBounds)}this.boundsSphereRadius=M.box3.bounds.toPositionRadius(t,r,this.boundsSpherePosition)}RebuildAreaBounds(t,r,i,n){if(!n||!r||!i)return!1;var a=this.declaration.FindUsage(0,0);if(!a)return!1;var o=this.declaration.stride/4,l=a.offset,s=e.GetBoundsFromVertices(M.box3.create(),t.start,t.count,o,l,r,i);return M.box3.toObjectBounds(s,t),M.box3.toObjectPositionRadius(s,t),!0}static GetFaceVertexIndices(e,t,r){if(t>=r.length/3)throw new Error("Invalid index: "+t);for(var i=0;i<3;i++)e[i]=r[3*t+i];return e}static GetVertexPosition(e,t,r,i,n){if(!Object(G.isNumber)(t)||t>n.length/r)throw new Error("Invalid vertex index: "+t);var a=t*r;return M.vec3.set(e,n[a+i],n[a+i+1],n[a+i+2])}static GetBoundsFromVertices(e,t,r,i,n,a,o){r/=3,t=t/2/3;var l=[],s=M.vec3.create(),u=M.vec3.create();M.box3.empty(e);for(var c=0;c<r;c++){this.GetFaceVertexIndices(s,c+t,o);for(var f=0;f<3;f++)l.includes(s[f])||(l.push(s[f]),this.GetVertexPosition(u,s[f],i,n,a),M.box3.addPoint(e,e,u))}return e}}).prototype,"name",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),w=N(y.prototype,"declaration",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new F.Tw2VertexDeclaration}}),_=N(y.prototype,"areas",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),S=N(y.prototype,"buffer",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),R=N(y.prototype,"bufferLength",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),j=N(y.prototype,"bufferData",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),O=N(y.prototype,"indexes",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),A=N(y.prototype,"indexData",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),z=N(y.prototype,"indexType",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),P=N(y.prototype,"minBounds",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return M.vec3.fromValues(0,0,0)}}),C=N(y.prototype,"maxBounds",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return M.vec3.fromValues(0,0,0)}}),D=N(y.prototype,"boundsSpherePosition",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return M.vec3.create()}}),I=N(y.prototype,"boundsSphereRadius",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),x=N(y.prototype,"bones",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),L=N(y.prototype,"boneBindings",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),E=y))||E)},"./core/geometry/Tw2GeometryMeshArea.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tw2GeometryMeshArea",(function(){return _}));var i,n,a,o,l,s,u,c,f,d,h,b,m,p,v,g,E,y=r("./global/index.js");function T(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function w(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var _=(i=y.meta.type("Tw2GeometryMeshArea"),n=y.meta.string,a=y.meta.uint,o=y.meta.uint,l=y.meta.vector3,s=y.meta.vector3,u=y.meta.vector3,c=y.meta.float,i((h=w((d=class{constructor(){T(this,"name",h,this),T(this,"start",b,this),T(this,"count",m,this),T(this,"minBounds",p,this),T(this,"maxBounds",v,this),T(this,"boundsSpherePosition",g,this),T(this,"boundsSphereRadius",E,this)}GetBoundingBox(e,t){return y.box3.fromBounds(e,this.minBounds,this.maxBounds),t&&y.box3.transformMat4(e,e,t),!0}GetBoundingSphere(e,t){return y.sph3.fromPositionRadius(e,this.boundsSpherePosition,this.boundsSphereRadius),t&&y.sph3.transformMat4(e,e,t),!0}}).prototype,"name",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),b=w(d.prototype,"start",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),m=w(d.prototype,"count",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),p=w(d.prototype,"minBounds",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return y.vec3.fromValues(0,0,0)}}),v=w(d.prototype,"maxBounds",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return y.vec3.fromValues(0,0,0)}}),g=w(d.prototype,"boundsSpherePosition",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return y.vec3.create()}}),E=w(d.prototype,"boundsSphereRadius",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),f=d))||f)},"./core/geometry/Tw2GeometryMeshBinding.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tw2GeometryMeshBinding",(function(){return h}));var i,n,a,o,l,s,u,c=r("./global/index.js");function f(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function d(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var h=(i=c.meta.type("Tw2GeometryMeshBinding"),n=c.meta.objectOf("Tw2GeometryMesh"),a=c.meta.listOf("Tw2GeometryBone"),i((s=d((l=class{constructor(){f(this,"mesh",s,this),f(this,"bones",u,this)}}).prototype,"mesh",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),u=d(l.prototype,"bones",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),o=l))||o)},"./core/geometry/Tw2GeometryModel.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tw2GeometryModel",(function(){return m}));var i,n,a,o,l,s,u,c,f,d=r("./global/index.js");function h(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function b(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var m=(i=d.meta.type("Tw2GeometryModel"),n=d.meta.string,a=d.meta.listOf("Tw2GeometryMeshBinding"),o=d.meta.objectOf("Tw2GeometrySkeleton"),i((u=b((s=class{constructor(){h(this,"name",u,this),h(this,"meshBindings",c,this),h(this,"skeleton",f,this)}FindBoneByName(e){if(!this.skeleton)return null;for(var t=0;t<this.skeleton.bones.length;++t)if(this.skeleton.bones[t].name===e)return this.skeleton.bones[t];return null}}).prototype,"name",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),c=b(s.prototype,"meshBindings",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),f=b(s.prototype,"skeleton",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),l=s))||l)},"./core/geometry/Tw2GeometrySkeleton.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tw2GeometrySkeleton",(function(){return p}));var i,n,a,o,l,s,u=r("./global/index.js");var c,f,d,h,b,m,p=(i=u.meta.type("Tw2GeometrySkeleton"),n=u.meta.listOf("Tw2GeometryBone"),i((s=class{constructor(){var e,t,r,i;e=this,t="bones",i=this,(r=l)&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}},c=(o=s).prototype,f="bones",d=[n],h={configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}},m={},Object.keys(h).forEach((function(e){m[e]=h[e]})),m.enumerable=!!m.enumerable,m.configurable=!!m.configurable,("value"in m||m.initializer)&&(m.writable=!0),m=d.slice().reverse().reduce((function(e,t){return t(c,f,e)||e}),m),b&&void 0!==m.initializer&&(m.value=m.initializer?m.initializer.call(b):void 0,m.initializer=void 0),void 0===m.initializer&&(Object.defineProperty(c,f,m),m=null),l=m,a=o))||a)},"./core/geometry/Tw2GeometryTrackGroup.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tw2GeometryTrackGroup",(function(){return m}));var i,n,a,o,l,s,u,c,f,d=r("./global/index.js");function h(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function b(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var m=(i=d.meta.type("Tw2GeometryTrackGroup"),n=d.meta.string,a=d.meta.objectOf("Tw2GeometryModel"),o=d.meta.listOf("Tw2GeometryTransformTrack"),i((u=b((s=class{constructor(){h(this,"name",u,this),h(this,"model",c,this),h(this,"transformTracks",f,this)}}).prototype,"name",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),c=b(s.prototype,"model",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),f=b(s.prototype,"transformTracks",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),l=s))||l)},"./core/geometry/Tw2GeometryTransformTrack.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tw2GeometryTransformTrack",(function(){return v}));var i,n,a,o,l,s,u,c,f,d,h,b=r("./global/index.js");function m(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function p(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var v=(i=b.meta.type("Tw2GeometryTransformTrack"),n=b.meta.string,a=b.meta.objectOf("Tw2GeometryCurve"),o=b.meta.objectOf("Tw2GeometryCurve"),l=b.meta.unknown,i((c=p((u=class{constructor(){m(this,"name",c,this),m(this,"position",f,this),m(this,"orientation",d,this),m(this,"scaleShear",h,this)}}).prototype,"name",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),f=p(u.prototype,"position",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),d=p(u.prototype,"orientation",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),h=p(u.prototype,"scaleShear",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),s=u))||s)},"./core/geometry/index.js":function(e,t,r){"use strict";r.r(t);var i=r("./core/geometry/Tw2BlendShapeData.js");r.d(t,"Tw2BlendShapeData",(function(){return i.Tw2BlendShapeData}));var n=r("./core/geometry/Tw2GeometryAnimation.js");r.d(t,"Tw2GeometryAnimation",(function(){return n.Tw2GeometryAnimation}));var a=r("./core/geometry/Tw2GeometryBone.js");r.d(t,"Tw2GeometryBone",(function(){return a.Tw2GeometryBone}));var o=r("./core/geometry/Tw2GeometryCurve.js");r.d(t,"Tw2GeometryCurve",(function(){return o.Tw2GeometryCurve}));var l=r("./core/geometry/Tw2GeometryMesh.js");r.d(t,"Tw2GeometryMesh",(function(){return l.Tw2GeometryMesh}));var s=r("./core/geometry/Tw2GeometryMeshArea.js");r.d(t,"Tw2GeometryMeshArea",(function(){return s.Tw2GeometryMeshArea}));var u=r("./core/geometry/Tw2GeometryMeshBinding.js");r.d(t,"Tw2GeometryMeshBinding",(function(){return u.Tw2GeometryMeshBinding}));var c=r("./core/geometry/Tw2GeometryModel.js");r.d(t,"Tw2GeometryModel",(function(){return c.Tw2GeometryModel}));var f=r("./core/geometry/Tw2GeometrySkeleton.js");r.d(t,"Tw2GeometrySkeleton",(function(){return f.Tw2GeometrySkeleton}));var d=r("./core/geometry/Tw2GeometryTrackGroup.js");r.d(t,"Tw2GeometryTrackGroup",(function(){return d.Tw2GeometryTrackGroup}));var h=r("./core/geometry/Tw2GeometryTransformTrack.js");r.d(t,"Tw2GeometryTransformTrack",(function(){return h.Tw2GeometryTransformTrack}))},"./core/index.js":function(e,t,r){"use strict";r.r(t);var i=r("./core/batch/index.js");r.d(t,"Tw2BatchAccumulator",(function(){return i.Tw2BatchAccumulator})),r.d(t,"Tw2ForwardingRenderBatch",(function(){return i.Tw2ForwardingRenderBatch})),r.d(t,"Tw2GeometryBatch",(function(){return i.Tw2GeometryBatch})),r.d(t,"Tw2GeometryLineBatch",(function(){return i.Tw2GeometryLineBatch})),r.d(t,"Tw2RenderBatch",(function(){return i.Tw2RenderBatch})),r.d(t,"Tw2InstancedMeshBatch",(function(){return i.Tw2InstancedMeshBatch}));var n=r("./core/data/index.js");r.d(t,"Tw2PerObjectData",(function(){return n.Tw2PerObjectData})),r.d(t,"Tw2RawData",(function(){return n.Tw2RawData}));var a=r("./core/geometry/index.js");r.d(t,"Tw2BlendShapeData",(function(){return a.Tw2BlendShapeData})),r.d(t,"Tw2GeometryAnimation",(function(){return a.Tw2GeometryAnimation})),r.d(t,"Tw2GeometryBone",(function(){return a.Tw2GeometryBone})),r.d(t,"Tw2GeometryCurve",(function(){return a.Tw2GeometryCurve})),r.d(t,"Tw2GeometryMesh",(function(){return a.Tw2GeometryMesh})),r.d(t,"Tw2GeometryMeshArea",(function(){return a.Tw2GeometryMeshArea})),r.d(t,"Tw2GeometryMeshBinding",(function(){return a.Tw2GeometryMeshBinding})),r.d(t,"Tw2GeometryModel",(function(){return a.Tw2GeometryModel})),r.d(t,"Tw2GeometrySkeleton",(function(){return a.Tw2GeometrySkeleton})),r.d(t,"Tw2GeometryTrackGroup",(function(){return a.Tw2GeometryTrackGroup})),r.d(t,"Tw2GeometryTransformTrack",(function(){return a.Tw2GeometryTransformTrack}));var o=r("./core/mesh/index.js");r.d(t,"Tw2Effect",(function(){return o.Tw2Effect})),r.d(t,"Tw2InstancedMesh",(function(){return o.Tw2InstancedMesh})),r.d(t,"Tw2Mesh",(function(){return o.Tw2Mesh})),r.d(t,"Tw2MeshArea",(function(){return o.Tw2MeshArea})),r.d(t,"Tw2MeshLineArea",(function(){return o.Tw2MeshLineArea}));var l=r("./core/model/index.js");r.d(t,"Tw2Animation",(function(){return l.Tw2Animation})),r.d(t,"Tw2AnimationController",(function(){return l.Tw2AnimationController})),r.d(t,"Tw2Bone",(function(){return l.Tw2Bone})),r.d(t,"Tw2BoneBinding",(function(){return l.Tw2BoneBinding})),r.d(t,"Tw2MeshBinding",(function(){return l.Tw2MeshBinding})),r.d(t,"Tw2Model",(function(){return l.Tw2Model})),r.d(t,"Tw2Track",(function(){return l.Tw2Track})),r.d(t,"Tw2TrackGroup",(function(){return l.Tw2TrackGroup}));var s=r("./core/parameter/index.js");r.d(t,"Tw2Parameter",(function(){return s.Tw2Parameter})),r.d(t,"Tw2FloatParameter",(function(){return s.Tw2FloatParameter})),r.d(t,"Tw2Matrix4Parameter",(function(){return s.Tw2Matrix4Parameter})),r.d(t,"Tw2MatrixParameter",(function(){return s.Tw2MatrixParameter})),r.d(t,"Tw2TransformParameter",(function(){return s.Tw2TransformParameter})),r.d(t,"Tw2VariableParameter",(function(){return s.Tw2VariableParameter})),r.d(t,"Tw2Vector2Parameter",(function(){return s.Tw2Vector2Parameter})),r.d(t,"Tw2Vector3Parameter",(function(){return s.Tw2Vector3Parameter})),r.d(t,"Tw2Vector4Parameter",(function(){return s.Tw2Vector4Parameter})),r.d(t,"Tw2TextureParameter",(function(){return s.Tw2TextureParameter}));var u=r("./core/post/index.js");r.d(t,"Tw2PostEffect",(function(){return u.Tw2PostEffect})),r.d(t,"Tw2PostEffectManager",(function(){return u.Tw2PostEffectManager})),r.d(t,"Tw2PostEffectStep",(function(){return u.Tw2PostEffectStep}));var c=r("./core/reader/index.js");r.d(t,"Tw2BinaryReader",(function(){return c.Tw2BinaryReader})),r.d(t,"Tw2BlackReader",(function(){return c.Tw2BlackReader})),r.d(t,"Tw2ObjectReader",(function(){return c.Tw2ObjectReader}));var f=r("./core/resource/index.js");r.d(t,"Tw2EffectRes",(function(){return f.Tw2EffectRes})),r.d(t,"Tw2GeometryRes",(function(){return f.Tw2GeometryRes})),r.d(t,"Tw2LoadingObject",(function(){return f.Tw2LoadingObject})),r.d(t,"Tw2Resource",(function(){return f.Tw2Resource})),r.d(t,"Tw2Shader",(function(){return f.Tw2Shader})),r.d(t,"Tw2TextureRes",(function(){return f.Tw2TextureRes})),r.d(t,"Tw2VideoRes",(function(){return f.Tw2VideoRes}));var d=r("./core/sampler/index.js");r.d(t,"Tw2SamplerState",(function(){return d.Tw2SamplerState})),r.d(t,"Tw2SamplerOverride",(function(){return d.Tw2SamplerOverride}));var h=r("./core/value/index.js");r.d(t,"Tw2Float",(function(){return h.Tw2Float}));var b=r("./core/vertex/index.js");r.d(t,"Tw2VertexDeclaration",(function(){return b.Tw2VertexDeclaration})),r.d(t,"Tw2VertexElement",(function(){return b.Tw2VertexElement}));var m=r("./core/Tw2RuntimeInstanceData.js");r.d(t,"Tw2RuntimeInstanceData",(function(){return m.Tw2RuntimeInstanceData}));var p=r("./core/Tw2Error.js");r.d(t,"Tw2Error",(function(){return p.Tw2Error})),r.d(t,"ErrWebglContext",(function(){return p.ErrWebglContext})),r.d(t,"ErrWebxrNotSupported",(function(){return p.ErrWebxrNotSupported})),r.d(t,"ErrWebxrDeviceNotFound",(function(){return p.ErrWebxrDeviceNotFound})),r.d(t,"ErrWebxrRequestFailed",(function(){return p.ErrWebxrRequestFailed})),r.d(t,"ErrWebxrSessionNotSupported",(function(){return p.ErrWebxrSessionNotSupported})),r.d(t,"ErrStoreKeyReserved",(function(){return p.ErrStoreKeyReserved})),r.d(t,"ErrStoreValueInvalid",(function(){return p.ErrStoreValueInvalid})),r.d(t,"ErrStoreValueMissing",(function(){return p.ErrStoreValueMissing})),r.d(t,"ErrStoreInvalid",(function(){return p.ErrStoreInvalid})),r.d(t,"ErrHTTPRequest",(function(){return p.ErrHTTPRequest})),r.d(t,"ErrHTTPStatus",(function(){return p.ErrHTTPStatus})),r.d(t,"ErrBinaryFormat",(function(){return p.ErrBinaryFormat})),r.d(t,"ErrBinaryReaderReadError",(function(){return p.ErrBinaryReaderReadError})),r.d(t,"ErrBinaryObjectTypeNotFound",(function(){return p.ErrBinaryObjectTypeNotFound})),r.d(t,"ErrGeometryMeshMissingParticleElement",(function(){return p.ErrGeometryMeshMissingParticleElement})),r.d(t,"ErrGeometryMeshElementComponentsMissing",(function(){return p.ErrGeometryMeshElementComponentsMissing})),r.d(t,"ErrGeometryMeshAreaMissing",(function(){return p.ErrGeometryMeshAreaMissing})),r.d(t,"ErrGeometryMeshBoneNameInvalid",(function(){return p.ErrGeometryMeshBoneNameInvalid})),r.d(t,"ErrGeometryMeshEffectBinding",(function(){return p.ErrGeometryMeshEffectBinding})),r.d(t,"ErrGeometryFileType",(function(){return p.ErrGeometryFileType})),r.d(t,"ErrResourcePrefixUnregistered",(function(){return p.ErrResourcePrefixUnregistered})),r.d(t,"ErrResourcePrefixUndefined",(function(){return p.ErrResourcePrefixUndefined})),r.d(t,"ErrResourceExtensionUnregistered",(function(){return p.ErrResourceExtensionUnregistered})),r.d(t,"ErrResourceExtensionUndefined",(function(){return p.ErrResourceExtensionUndefined})),r.d(t,"ErrResourceFormat",(function(){return p.ErrResourceFormat})),r.d(t,"ErrShaderVersion",(function(){return p.ErrShaderVersion})),r.d(t,"ErrShaderHeaderSize",(function(){return p.ErrShaderHeaderSize})),r.d(t,"ErrShaderPermutationValue",(function(){return p.ErrShaderPermutationValue})),r.d(t,"ErrShaderCompile",(function(){return p.ErrShaderCompile})),r.d(t,"ErrShaderLink",(function(){return p.ErrShaderLink})),r.d(t,"ErrDeclarationValueType",(function(){return p.ErrDeclarationValueType})),r.d(t,"ErrSingletonInstantiation",(function(){return p.ErrSingletonInstantiation})),r.d(t,"ErrInvalidDecoratorUsage",(function(){return p.ErrInvalidDecoratorUsage})),r.d(t,"ErrAbstractClass",(function(){return p.ErrAbstractClass})),r.d(t,"ErrAbstractMethod",(function(){return p.ErrAbstractMethod})),r.d(t,"ErrFeatureNotImplemented",(function(){return p.ErrFeatureNotImplemented})),r.d(t,"ErrIndexBounds",(function(){return p.ErrIndexBounds})),r.d(t,"ErrBindingValueUndefined",(function(){return p.ErrBindingValueUndefined})),r.d(t,"ErrBindingType",(function(){return p.ErrBindingType})),r.d(t,"ErrBindingReference",(function(){return p.ErrBindingReference})),r.d(t,"ErrSOFHullNotFound",(function(){return p.ErrSOFHullNotFound})),r.d(t,"ErrSOFFactionNotFound",(function(){return p.ErrSOFFactionNotFound})),r.d(t,"ErrSOFRaceNotFound",(function(){return p.ErrSOFRaceNotFound})),r.d(t,"ErrSOFMaterialNotFound",(function(){return p.ErrSOFMaterialNotFound})),r.d(t,"ErrSOFPatternNotFound",(function(){return p.ErrSOFPatternNotFound})),r.d(t,"ErrWrapped",(function(){return p.ErrWrapped}));var v=r("./core/Tw2Frustum.js");r.d(t,"Tw2Frustum",(function(){return v.Tw2Frustum}));var g=r("./core/Tw2RenderTarget.js");r.d(t,"Tw2RenderTarget",(function(){return g.Tw2RenderTarget}))},"./core/mesh/Tw2Effect.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tw2Effect",(function(){return o}));var i=r("./global/index.js"),n=r("./core/parameter/Tw2TextureParameter.js"),a=r("./core/parameter/Tw2Vector4Parameter.js");class o extends i.Tw2BaseClass{constructor(...e){super(...e),this.name="",this.effectFilePath="",this.effectRes=null,this.parameters={},this.techniques={},this.samplerOverrides={},this.options={},this.shader=null,this.autoParameter=!1}Initialize(){if(""!==this.effectFilePath){this.effectFilePath=this.effectFilePath.toLowerCase();var e=o.ToEffectResPath(this.effectFilePath);this.effectRes=i.tw2.GetResource(e,e=>this.OnResPrepared(e))}}OnValueChanged(e){this.BindParameters()}IsGood(){return this.KeepAlive(),null!==this.shader}KeepAlive(){for(var e=this.GetResources(),t=0;t<e.length;t++)e[t].KeepAlive()}GetResources(e=[]){for(var t in this.effectRes&&!e.includes(this.effectRes)&&e.push(this.effectRes),this.parameters)this.parameters.hasOwnProperty(t)&&"GetResources"in this.parameters[t]&&this.parameters[t].GetResources(e);return e}OnResPrepared(e){return this.shader=e.GetShader(this.options),this.BindParameters(),!0}UnBindParameters(){for(var e in this.techniques)if(this.techniques.hasOwnProperty(e))for(var t=this.techniques[e],r=0;r<t.length;++r)for(var i=0;i<t[r].stages.length;++i)for(var n=0;n<t[r].stages[i].reroutedParameters.length;++n)t[r].stages[i].reroutedParameters[n].Unbind();this.techniques={}}BindParameters(){if(this.UnBindParameters(),!this.IsGood())return!1;for(var e in this.shader.techniques)if(this.shader.techniques.hasOwnProperty(e)){for(var t=this.shader.techniques[e],r=[],a=0;a<t.passes.length;++a){var l=[];l.stages=[];for(var s=0;s<t.passes[a].stages.length;++s){var u=t.passes[a].stages[s],c={};c.constantBuffer=new Float32Array(u.constantSize),c.reroutedParameters=[],c.parameters=[],c.textures=[],c.constantBuffer.set(u.constantValues);for(var f=0;f<u.constants.length;++f){var d=u.constants[f],h=d.name,b=d.Type;if(!o.ConstantIgnore.includes(h))if(h in this.parameters){var m=this.parameters[h];m.Bind(c.constantBuffer,d.offset,d.size)?c.reroutedParameters.push(m):c.parameters.push({parameter:m,constantBuffer:c.constantBuffer,offset:d.offset,size:d.size})}else if(i.tw2.HasVariable(h))c.parameters.push({parameter:i.tw2.GetVariable(h),constantBuffer:c.constantBuffer,offset:d.offset,size:d.size});else if(d.isAutoregister&&b){var p=i.tw2.CreateVariable(h,void 0,b);p&&c.parameters.push({parameter:p,constantBuffer:c.constantBuffer,offset:d.offset,size:d.size})}else if(this.autoParameter&&1===d.elements){var v=c.constantBuffer.subarray(d.offset,d.offset+d.size);0===v.length?v=void 0:1===v.length&&(v=v[0]);var g=i.tw2.CreateVariable(h,v,b);g&&(this.parameters[h]=g,g.Bind(c.constantBuffer,d.offset,d.size)?c.reroutedParameters.push(g):c.parameter.push({parameter:g,constantBuffer:c.constantBuffer,offset:d.offset,size:d.size}))}}for(var E=0;E<u.textures.length;++E){var y=u.textures[E].name,T=null;if(y in this.parameters)T=this.parameters[y];else if(i.tw2.HasVariable(y))T=i.tw2.GetVariable(y);else if(u.textures[E].isAutoregister)T=i.tw2.CreateVariable(y,void 0,n.Tw2TextureParameter);else{if(!this.autoParameter)continue;T=this.parameters[y]=new n.Tw2TextureParameter(y)}for(var w={parameter:T,slot:u.textures[E].registerIndex,sampler:null},_=0;_<u.samplers.length;++_)if(u.samplers[_].registerIndex===w.slot){u.samplers[_].name in this.samplerOverrides?w.sampler=this.samplerOverrides[u.samplers[_].name].GetSampler(i.device,u.samplers[_]):w.sampler=u.samplers[_];break}0===s&&(w.slot+=12),c.textures.push(w)}l.stages.push(c)}r.push(l)}this.techniques[e]=r}return i.device.effectObserver&&i.device.effectObserver.OnEffectChanged(this),this.autoParameter=!1,!0}ApplyPass(e,t){if(this.IsGood()&&e in this.techniques&&!(t>=this.techniques[e].length)){this.shader.ApplyPass(e,t);for(var r=this.techniques[e][t],n=this.shader.techniques[e].passes[t],a=i.device,o=a.gl,l=a.IsAlphaTestEnabled()&&n.shadowShaderProgram?n.shadowShaderProgram:n.shaderProgram,s=0;s<2;++s){for(var u=r.stages[s],c=0;c<u.parameters.length;++c){var f=u.parameters[c];f.parameter.Apply(f.constantBuffer,f.offset,f.size)}for(var d=0;d<u.textures.length;++d){var h=u.textures[d];h.parameter.Apply(h.slot,h.sampler,l.volumeSlices[h.sampler.registerIndex])}}var b=l.constantBufferHandles;b[0]&&o.uniform4fv(b[0],r.stages[0].constantBuffer),b[7]&&o.uniform4fv(b[7],r.stages[1].constantBuffer),a.perFrameVSData&&b[1]&&o.uniform4fv(b[1],a.perFrameVSData.data),a.perFramePSData&&b[2]&&o.uniform4fv(b[2],a.perFramePSData.data);var m=a.perObjectData;m&&(m.vs&&b[3]&&o.uniform4fv(b[3],m.vs.data),m.ps&&b[4]&&o.uniform4fv(b[4],m.ps.data),m.ffe&&b[5]&&o.uniform4fv(b[5],m.ffe.data))}}GetPassCount(e){return null!==this.shader&&e in this.techniques?this.techniques[e].length:0}GetPassInput(e,t){return null===this.shader||!(e in this.techniques)||t>=this.techniques[e].length?null:i.device.IsAlphaTestEnabled()&&this.shader.techniques[e].passes[t].shadowShaderProgram?this.shader.techniques[e].passes[t].shadowShaderProgram.input:this.shader.techniques[e].passes[t].shaderProgram.input}Render(e){for(var t=this.GetPassCount("Main"),r=0;r<t;++r)this.ApplyPass("Main",r),e(this,r)}GetTextures(e={}){for(var t in this.parameters)if(this.parameters.hasOwnProperty(t)&&this.parameters[t]instanceof n.Tw2TextureParameter){var r=this.parameters[t].GetValue();r&&(e[t]=r)}return e}SetTextures(e={},t){var r=!1;for(var i in e)if(e.hasOwnProperty(i)&&void 0!==e[i]){var a=e[i],o=this.parameters[i];n.Tw2TextureParameter.isValue(a)&&(o?o.EqualsValue(a)||(o.SetValue(a),r=!0):(this.parameters[i]=new n.Tw2TextureParameter(i,a),r=!0))}return r&&!t&&this.UpdateValues(),r}GetParameters(e={}){for(var t in this.parameters)!this.parameters.hasOwnProperty(t)||this.parameters[t]instanceof n.Tw2TextureParameter||(e[t]=this.parameters[t].GetValue());return e}SetParameters(e={},t){var r=!1;for(var n in e)if(e.hasOwnProperty(n)&&void 0!==e[n]){var a=e[n],o=this.parameters[n];if(o)o.constructor.isValue(a)&&!o.EqualsValue(a)&&this.parameters[n].SetValue(a)&&(r=!0);else{var l=i.tw2.CreateVariable(n,a);l&&(this.parameters[n]=l,r=!0)}}return r&&!t&&this.UpdateValues(),r}SetOverrides(e={},t){var r=!1;for(var i in e)if(e.hasOwnProperty(i)&&void 0!==e[i]){var a=this.parameters[i];if(a||(a=this.parameters[i]=new n.Tw2TextureParameter(i),r=!0),a instanceof n.Tw2TextureParameter){var o=!1,l=e[i];for(var s in l)if(l.hasOwnProperty(s)&&n.Tw2TextureParameter.overrideProperties.includes(s)&&l[s]!==a[s]){o=!0;break}o&&(a.SetOverrides(e[i]),r=!0)}}return r&&!t&&this.UpdateValues(),r}GetOverrides(e={}){for(var t in this.parameters)if(this.parameters.hasOwnProperty(t)){var r=this.parameters[t];r&&r instanceof n.Tw2TextureParameter&&r.useAllOverrides&&(e[t]=this.parameters[t].GetOverrides())}return e}PopulateParameters(){return this.autoParameter=!0,this.BindParameters()}static ToEffectResPath(e){return(e=e?e.substr(0,e.lastIndexOf(".")).replace("/effect/",i.device.effectDir)+".sm_"+i.device.shaderModel:"").toLowerCase()}static FromEffectResPath(e,t="fx"){return(e=e.substr(0,e.lastIndexOf(".")).replace(i.device.effectDir,"/effect/")+"."+t).toLowerCase()}static set(e,t,r={}){if(!t)return!1;var{parameters:n,textures:a,overrides:o,options:l,effectFilePath:s=""}=t,u=i.util.assignIfExists(e,t,["name","display","autoParameter"]);return n&&e.SetParameters(n,!0)&&(u=!0),o&&e.SetOverrides(o,!0)&&(u=!0),a&&e.SetTextures(a,!0)&&(u=!0),l&&(e.options=Object.assign(l),e.effectRes&&(e.shader=e.effectRes.GetShader(l)),u=!0),"create"===r.verb&&s&&(e.effectFilePath=s.toLowerCase()),u&&!r.skipUpdate&&e.UpdateValues(r),u}static get(e,t={}){return i.util.assignIfExists(t,e,["name","display","effectFilePath"]),t.parameters=e.GetParameters(),t.textures=e.GetTextures(),t.overrides=e.GetOverrides(),t.options=Object.assign(e.options),t}static black(e){return[["effectFilePath",e.path],["name",e.string],["parameters",e.fromList({key:"name"})],["resources",e.fromList({key:"name",reroute:"parameters"})],["constParameters",e.fromList({key:"name",reroute:"parameters",struct:l})],["options",e.notImplemented],["samplerOverrides",e.notImplemented]]}}o.ConstantIgnore=["PerFrameVS","PerObjectVS","PerFramePS","PerObjectPS","PerObjectPSInt"],o.__isStaging=1;class l{static blackStruct(e){var t=new a.Tw2Vector4Parameter;return Object.defineProperty(t,"isConstant",{value:!0,writable:!1}),t.name=e.ReadStringU16(),e.ExpectU16(0,"unknown content"),e.ExpectU16(0,"unknown content"),e.ExpectU16(0,"unknown content"),t.SetValue(new Float32Array([e.ReadF32(),e.ReadF32(),e.ReadF32(),e.ReadF32()])),t}}},"./core/mesh/Tw2InstancedMesh.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tw2InstancedMesh",(function(){return Y}));var i,n,a,o,l,s,u,c,f,d,h,b,m,p,v,g,E,y,T,w,_,S,R,j,O,A,z,P,C,D,I,x,L,M,F,G,k,N,B=r("./global/index.js"),U=r("./core/batch/index.js"),V=r("./core/mesh/Tw2Mesh.js"),H=r("./global/engine/index.js");function q(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function W(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var Y=(i=B.meta.type("Tw2InstancedMesh","Tr2InstancedMesh"),n=B.meta.string,a=B.meta.boolean,o=B.meta.black.listOf("Tw2MeshArea"),l=B.meta.black.listOf("Tw2MeshArea"),s=B.meta.notImplemented,u=B.meta.black.listOf("Tw2MeshArea"),c=B.meta.notImplemented,f=B.meta.black.listOf("Tw2MeshArea"),d=B.meta.black.path,h=B.meta.black.path,b=B.meta.black.object,m=B.meta.black.uint,p=B.meta.black.vector3,v=B.meta.black.vector3,g=B.meta.black.listOf("Tw2MeshArea"),E=B.meta.listOf("Tw2MeshArea"),y=B.meta.black.listOf("Tw2MeshArea"),T=B.meta.plain,i((N=class e extends B.Tw2BaseClass{constructor(...e){super(...e),q(this,"name",S,this),q(this,"display",R,this),q(this,"additiveAreas",j,this),q(this,"decalAreas",O,this),q(this,"depthAreas",A,this),q(this,"distortionAreas",z,this),q(this,"geometryResPath",P,this),q(this,"instanceGeometryResPath",C,this),q(this,"instanceGeometryResource",D,this),q(this,"instanceMeshIndex",I,this),q(this,"maxBounds",x,this),q(this,"minBounds",L,this),q(this,"opaqueAreas",M,this),q(this,"pickableAreas",F,this),q(this,"transparentAreas",G,this),q(this,"visible",k,this),this._geometryResource=null}get geometryResource(){return this._geometryResource}set geometryResource(e){this._geometryResource=e}Initialize(){""!==this.geometryResPath&&(this._geometryResource=B.resMan.GetResource(this.geometryResPath)),""!==this.instanceGeometryResPath&&(this.instanceGeometryResource=B.resMan.GetResource(this.instanceGeometryResPath))}IsGood(){var e=this.instanceGeometryResource,t=this._geometryResource&&this._geometryResource.IsGood(),r=!!e&&(!e.IsGood||e.IsGood());return t&&r}GetResources(e=[]){this._geometryResource&&!e.includes(this._geometryResource)&&e.push(this._geometryResource),this.instanceGeometryResource&&"GetResources"in this.instanceGeometryResource&&this.instanceGeometryResource.GetResources(e);var t=B.util.perArrayChild;return t(this.additiveAreas,"GetResources",e),t(this.decalAreas,"GetResources",e),t(this.depthAreas,"GetResources",e),t(this.distortionAreas,"GetResources",e),t(this.opaqueAreas,"GetResources",e),t(this.pickableAreas,"GetResources",e),t(this.transparentAreas,"GetResources",e),e}GetBatches(e,t,r){if(!this.IsGood()||!this.display)return!1;var i,n=this.constructor.GetAreaBatches;switch(e){case H.RM_ADDITIVE:this.visible.additiveAreas&&(i=this.additiveAreas);break;case H.RM_DECAL:this.visible.decalAreas&&(i=this.opaqueAreas);break;case H.RM_DEPTH:this.visible.depthAreas&&(i=this.depthAreas);break;case H.RM_DISTORTION:this.visible.distortionAreas&&(i=this.distortionAreas);break;case H.RM_OPAQUE:this.visible.opaqueAreas&&(i=this.opaqueAreas);break;case H.RM_PICKABLE:this.visible.pickableAreas&&(i=this.pickableAreas);break;case H.RM_TRANSPARENT:this.visible.transparentAreas&&(i=this.transparentAreas)}i&&n(this,i,e,t,r)}RenderAreas(e,t,r,i,n){if(this.IsGood()){var a=this.instanceGeometryResource.GetInstanceBuffer(this.instanceMeshIndex);a&&this._geometryResource.RenderAreasInstanced(e,t,r,i,n,a,this.instanceGeometryResource.GetInstanceDeclaration(this.instanceMeshIndex),this.instanceGeometryResource.GetInstanceStride(this.instanceMeshIndex),this.instanceGeometryResource.GetInstanceCount(this.instanceMeshIndex))}}EmptyAreas(){this.additiveAreas.splice(0),this.decalAreas.splice(0),this.depthAreas.splice(0),this.distortionAreas.splice(0),this.opaqueAreas.splice(0),this.pickableAreas.splice(0),this.transparentAreas.splice(0)}static from(t,r){var i=new e;if(i.meshIndex=B.util.get(r,"index",0),t){B.util.assignIfExists(i,t,["name","display","geometryResPath","instanceGeometryResPath","instanceMeshIndex"]);var n=["additiveAreas","decalAreas","depthAreas","distortionAreas","opaqueAreas","pickableAreas","transparentAreas"];B.util.assignIfExists(i.visible,t.visible,n),V.Tw2Mesh.createAreaIfExists(i,t,n)}return r&&r.skipUpdate||i.Initialize(),i}static GetAreaBatches(e,t,r,i,n){for(var a=0;a<t.length;++a){var o=t[a];if(o.effect&&o.display){var l=new U.Tw2InstancedMeshBatch;l.renderMode=r,l.perObjectData=n,l.instanceMesh=e,l.meshIx=o.meshIndex,l.start=o.index,l.count=o.count,l.effect=o.effect,i.Commit(l)}}}},S=W((_=N).prototype,"name",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),R=W(_.prototype,"display",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),j=W(_.prototype,"additiveAreas",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),O=W(_.prototype,"decalAreas",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),A=W(_.prototype,"depthAreas",[s,u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),z=W(_.prototype,"distortionAreas",[c,f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),P=W(_.prototype,"geometryResPath",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),C=W(_.prototype,"instanceGeometryResPath",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),D=W(_.prototype,"instanceGeometryResource",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),I=W(_.prototype,"instanceMeshIndex",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),x=W(_.prototype,"maxBounds",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return B.vec3.create()}}),L=W(_.prototype,"minBounds",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return B.vec3.create()}}),M=W(_.prototype,"opaqueAreas",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),F=W(_.prototype,"pickableAreas",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),G=W(_.prototype,"transparentAreas",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),k=W(_.prototype,"visible",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{additiveAreas:!0,decalAreas:!0,depthAreas:!0,distortionAreas:!0,opaqueAreas:!0,pickableAreas:!0,transparentAreas:!0}}}),w=_))||w)},"./core/mesh/Tw2Mesh.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tw2Mesh",(function(){return X}));var i,n,a,o,l,s,u,c,f,d,h,b,m,p,v,g,E,y,T,w,_,S,R,j,O,A,z,P,C,D,I,x,L,M,F,G,k,N,B,U,V,H=r("./global/index.js"),q=r("./global/engine/index.js");function W(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function Y(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var X=(i=H.meta.type("Tw2Mesh","Tr2Mesh"),n=H.meta.black.string,a=H.meta.black.listOf("Tw2MeshArea"),o=H.meta.black.listOf("Tw2MeshArea"),l=H.meta.notImplemented,s=H.meta.black.boolean,u=H.meta.notImplemented,c=H.meta.black.listOf("Tw2MeshArea"),f=H.meta.notImplemented,d=H.meta.black.listOf("Tw2MeshArea"),h=H.meta.boolean,b=H.meta.notImplemented,m=H.meta.black.listOf("Tw2MeshArea"),p=H.meta.black.path,v=H.meta.black.uint,g=H.meta.black.listOf("Tw2MeshArea"),E=H.meta.notImplemented,y=H.meta.black.listOf("Tw2MeshArea"),T=H.meta.black.listOf("Tw2MeshArea"),w=H.meta.black.listOf("Tw2MeshArea"),_=H.meta.plain,S=H.meta.objectOf("Tw2GeometryRes"),i((V=class e extends H.Tw2BaseClass{constructor(...e){super(...e),W(this,"name",O,this),W(this,"additiveAreas",A,this),W(this,"decalAreas",z,this),W(this,"deferGeometryLoad",P,this),W(this,"depthAreas",C,this),W(this,"depthNormalAreas",D,this),W(this,"display",I,this),W(this,"distortionAreas",x,this),W(this,"geometryResPath",L,this),W(this,"meshIndex",M,this),W(this,"opaqueAreas",F,this),W(this,"opaquePrepassAreas",G,this),W(this,"pickableAreas",k,this),W(this,"transparentAreas",N,this),W(this,"visible",B,this),W(this,"_geometryResource",U,this)}get geometryResource(){return this._geometryResource}set geometryResource(e){this._geometryResource=e}Initialize(){""!==this.geometryResPath&&(this._geometryResource=H.resMan.GetResource(this.geometryResPath))}IsGood(){return this._geometryResource&&this._geometryResource.IsGood()}GetResources(e=[]){this._geometryResource&&!e.includes(this._geometryResource)&&e.push(this._geometryResource);var t=H.util.perArrayChild;return t(this.additiveAreas,"GetResources",e),t(this.decalAreas,"GetResources",e),t(this.depthAreas,"GetResources",e),t(this.distortionAreas,"GetResources",e),t(this.opaqueAreas,"GetResources",e),t(this.pickableAreas,"GetResources",e),t(this.transparentAreas,"GetResources",e),e}GetBatches(e,t,r){if(!this.IsGood()||!this.display)return!1;var i,n=this.constructor.GetAreaBatches;switch(e){case q.RM_ADDITIVE:this.visible.additiveAreas&&(i=this.additiveAreas);break;case q.RM_DECAL:this.visible.decalAreas&&(i=this.decalAreas);break;case q.RM_DEPTH:this.visible.depthAreas&&(i=this.depthAreas);break;case q.RM_DISTORTION:this.visible.distortionAreas&&(i=this.distortionAreas);break;case q.RM_OPAQUE:this.visible.opaqueAreas&&(i=this.opaqueAreas);break;case q.RM_PICKABLE:this.visible.pickableAreas&&(i=this.pickableAreas);break;case q.RM_TRANSPARENT:this.visible.transparentAreas&&(i=this.transparentAreas)}i&&n(this,i,e,t,r)}EmptyAreas(){this.additiveAreas.splice(0),this.decalAreas.splice(0),this.depthAreas.splice(0),this.depthNormalAreas.splice(0),this.distortionAreas.splice(0),this.opaqueAreas.splice(0),this.opaquePrepassAreas.splice(0),this.pickableAreas.splice(0),this.transparentAreas.splice(0)}static GetAreaBatches(e,t,r,i,n){for(var a=0;a<t.length;++a){var o=t[a];if(o.effect&&o.display){var l=new o.constructor.batchType;l.renderMode=r,l.perObjectData=n,l.geometryRes=e._geometryResource,l.meshIx=e.meshIndex,l.start=o.index,l.count=o.count,l.effect=o.effect,i.Commit(l)}}}static createAreaIfExists(e,t,r){r=H.util.toArray(r);for(var i=0;i<r.length;i++){var n=r[i];if(n in t&&n in e)for(var a=0;a<t[n].length;a++){var o=t[n][a].__type||"Tw2MeshArea",l=H.tw2.GetClass(o);e[n].push(l.from(t[n][a],{index:a}))}}}static from(t,r){var i=new e;if(i.index=H.util.get(r,"index",0),t){H.util.assignIfExists(i,t,["name","display","deferGeometryLoad","geometryResPath","meshIndex"]);var n=["additiveAreas","decalAreas","depthAreas","depthNormalAreas","distortionAreas","opaqueAreas","opaquePrepassAreas","pickableAreas","transparentAreas"];H.util.assignIfExists(i.visible,t.visible,n),this.createAreaIfExists(i,t,n)}return r&&r.skipUpdate||i.Initialize(),i}},O=Y((j=V).prototype,"name",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),A=Y(j.prototype,"additiveAreas",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),z=Y(j.prototype,"decalAreas",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),P=Y(j.prototype,"deferGeometryLoad",[l,s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),C=Y(j.prototype,"depthAreas",[u,c],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),D=Y(j.prototype,"depthNormalAreas",[f,d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),I=Y(j.prototype,"display",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),x=Y(j.prototype,"distortionAreas",[b,m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),L=Y(j.prototype,"geometryResPath",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),M=Y(j.prototype,"meshIndex",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),F=Y(j.prototype,"opaqueAreas",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),G=Y(j.prototype,"opaquePrepassAreas",[E,y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),k=Y(j.prototype,"pickableAreas",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),N=Y(j.prototype,"transparentAreas",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),B=Y(j.prototype,"visible",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{additiveAreas:!0,decalAreas:!0,depthAreas:!0,depthNormalAreas:!0,distortionAreas:!0,opaqueAreas:!0,opaquePrepassAreas:!0,pickableAreas:!0,transparentAreas:!0}}}),U=Y(j.prototype,"_geometryResource",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),R=j))||R)},"./core/mesh/Tw2MeshArea.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tw2MeshArea",(function(){return P}));var i,n,a,o,l,s,u,c,f,d,h,b,m,p,v,g,E,y,T,w,_,S,R=r("./core/batch/index.js"),j=r("./global/index.js"),O=r("./core/mesh/Tw2Effect.js");function A(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function z(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var P=(i=j.meta.type("Tw2MeshArea","Tr2MeshArea"),n=j.meta.stage(1),a=j.meta.black.string,o=j.meta.boolean,l=j.meta.black.uint,s=j.meta.black.objectOf("Tw2Effect"),u=j.meta.black.uint,c=j.meta.notImplemented,f=j.meta.black.boolean,d=j.meta.notImplemented,h=j.meta.black.boolean,i(b=n((S=_=class extends j.Tw2BaseClass{constructor(...e){super(...e),A(this,"name",p,this),A(this,"display",v,this),A(this,"count",g,this),A(this,"effect",E,this),A(this,"index",y,this),A(this,"reversed",T,this),A(this,"useSHLighting",w,this)}get meshIndex(){return this.index}set meshIndex(e){this.index=e}static from(e,t){var r=new this;return j.util.assignIfExists(r,t,"index"),e&&(j.util.assignIfExists(r,e,["name","display","count","index","reversed","useSHLighting"]),e.effect&&(r.effect=O.Tw2Effect.from(e.effect))),r}},_.batchType=R.Tw2GeometryBatch,p=z((m=S).prototype,"name",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),v=z(m.prototype,"display",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),g=z(m.prototype,"count",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),E=z(m.prototype,"effect",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),y=z(m.prototype,"index",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),T=z(m.prototype,"reversed",[c,f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),w=z(m.prototype,"useSHLighting",[d,h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),b=m))||b)||b)},"./core/mesh/Tw2MeshLineArea.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tw2MeshLineArea",(function(){return P}));var i,n,a,o,l,s,u,c,f,d,h,b,m,p,v,g,E,y,T,w,_,S,R=r("./global/index.js"),j=r("./core/batch/index.js"),O=r("./core/mesh/Tw2MeshArea.js");function A(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function z(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var P=(i=R.meta.type("Tw2MeshLineArea"),n=R.meta.stage(1),a=R.meta.string,o=R.meta.boolean,l=R.meta.uint,s=R.meta.objectOf("Tw2Effect"),u=R.meta.uint,c=R.meta.notImplemented,f=R.meta.boolean,d=R.meta.notImplemented,h=R.meta.boolean,i(b=n((S=_=class extends O.Tw2MeshArea{constructor(...e){super(...e),A(this,"name",p,this),A(this,"display",v,this),A(this,"count",g,this),A(this,"effect",E,this),A(this,"index",y,this),A(this,"reversed",T,this),A(this,"useSHLighting",w,this)}},_.batchType=j.Tw2GeometryLineBatch,p=z((m=S).prototype,"name",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),v=z(m.prototype,"display",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),g=z(m.prototype,"count",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),E=z(m.prototype,"effect",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),y=z(m.prototype,"index",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),T=z(m.prototype,"reversed",[c,f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),w=z(m.prototype,"useSHLighting",[d,h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),b=m))||b)||b)},"./core/mesh/index.js":function(e,t,r){"use strict";r.r(t);var i=r("./core/mesh/Tw2Effect.js");r.d(t,"Tw2Effect",(function(){return i.Tw2Effect}));var n=r("./core/mesh/Tw2InstancedMesh.js");r.d(t,"Tw2InstancedMesh",(function(){return n.Tw2InstancedMesh}));var a=r("./core/mesh/Tw2Mesh.js");r.d(t,"Tw2Mesh",(function(){return a.Tw2Mesh}));var o=r("./core/mesh/Tw2MeshArea.js");r.d(t,"Tw2MeshArea",(function(){return o.Tw2MeshArea}));var l=r("./core/mesh/Tw2MeshLineArea.js");r.d(t,"Tw2MeshLineArea",(function(){return l.Tw2MeshLineArea}))},"./core/model/Tw2Animation.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tw2Animation",(function(){return S}));var i,n,a,o,l,s,u,c,f,d,h,b,m,p,v,g,E,y,T=r("./global/index.js");function w(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function _(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var S=(i=T.meta.type("Tw2Animation"),n=T.meta.objectOf("Tw2GeometryAnimation"),a=T.meta.isPrivate,o=T.meta.float,l=T.meta.isPrivate,s=T.meta.float,u=T.meta.boolean,c=T.meta.listOf("Tw2TrackGroup"),f=T.meta.isPrivate,i((y=E=class e extends T.Tw2EventEmitter{constructor(t){super(),w(this,"animationRes",b,this),w(this,"time",m,this),w(this,"timeScale",p,this),w(this,"cycle",v,this),w(this,"trackGroups",g,this),this._callback=null,this._controller=null,this._state=e.State.FINISHED,this._controller=t}get name(){return this.animationRes?this.animationRes.name:null}get duration(){return this.animationRes?this.animationRes.duration:0}get percent(){return this.animationRes?Math.min(this.time,this.duration)/this.duration:0}AddCallback(e){this._callback=e}UpdateCallback(){this._callback&&this._callback(this,this._controller)&&(this._callback=null)}Play(t={}){var r=this.IsPaused(),{time:i=(r?this.time:0),cycle:n=this.cycle,timeScale:a=this.timeScale,callback:o,events:l,percent:s}=t;void 0!==s&&(i=this.duration*s),this.time=Math.max(Math.min(i,this.duration),0),this.timeScale=a,this.cycle=n,this._state=e.State.PLAYING,l&&this.add(l),o&&this.AddCallback(o),r?this.emit("unpause",{animation:this,controller:this._controller}):this.emit("play",{animation:this,controller:this._controller})}Pause(){this.IsPlaying()&&(this._state=e.State.PAUSED,this.emit("pause",{animation:this,controller:this._controller}))}Stop(){this.IsFinished()||(this._state=e.State.FINISHED,this.time=this.duration,this.emit("end",{animation:this,controller:this._controller}),this.UpdateCallback())}IsGood(){return!!this.animationRes}IsPlaying(){return this._state===e.State.PLAYING||this._state===e.State.CYCLING}IsPaused(){return this._state===e.State.PAUSED}IsFinished(){return this._state===e.State.FINISHED}Update(t){return!this.IsFinished()&&(!!this.IsPaused()||(this.time+=t*this.timeScale,this.time>=this.duration&&(this.cycle?(this._state=e.State.CYCLING,this.time=this.time%this.duration,this.emit("cycle",{animation:this,controller:this._controller}),this.UpdateCallback()):this.Stop()),!0))}},E.State={PAUSED:0,PLAYING:1,CYCLING:2,FINISHED:3},b=_((h=y).prototype,"animationRes",[n,a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),m=_(h.prototype,"time",[o,l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),p=_(h.prototype,"timeScale",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),v=_(h.prototype,"cycle",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),g=_(h.prototype,"trackGroups",[c,f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),d=h))||d)},"./core/model/Tw2AnimationController.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tw2AnimationController",(function(){return x}));var i,n,a,o,l,s,u,c,f,d,h,b,m,p,v,g,E,y,T,w,_=r("./global/index.js"),S=r("./core/resource/index.js"),R=r("./core/model/Tw2Animation.js"),j=r("./core/model/Tw2Bone.js"),O=r("./core/model/Tw2BoneBinding.js"),A=r("./core/model/Tw2Model.js"),z=r("./core/model/Tw2Track.js"),P=r("./core/model/Tw2TrackGroup.js"),C=r("./core/model/Tw2MeshBinding.js");function D(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function I(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var x=(i=_.meta.type("Tw2AnimationController"),n=_.meta.todo("Handle rebuilding bounds in update function"),a=_.meta.listOf("Tw2GeometryRes"),o=_.meta.isPrivate,l=_.meta.listOf("Tw2Model"),s=_.meta.isPrivate,u=_.meta.listOf("Tw2Animation"),c=_.meta.isPrivate,f=_.meta.listOf("Tw2MeshBinding"),d=_.meta.isPrivate,h=_.meta.boolean,i(b=n((w=T=class e extends _.Tw2BaseClass{constructor(e){super(),D(this,"geometryResources",p,this),D(this,"models",v,this),D(this,"animations",g,this),D(this,"meshBindings",E,this),D(this,"update",y,this),this._isLoaded=!1,this._isPlaying=!1,this._boundsDirty=!1,this._pendingCommands=[],e&&this.SetGeometryResource(e)}IsGood(){for(var e=this.geometryResources.length>0,t=0;t<this.geometryResources.length;t++)this.geometryResources[t]&&this.geometryResources[t].IsGood()||(e=!1);if(!e||!this.animations.length)return!1;for(var r=0;r<this.animations.length;r++)if(!this.animations[r].IsGood())return!1;return!0}IsPlaying(){return this._isPlaying}IsLoaded(){return this._isLoaded}GetAnimationsByName(e={}){if(!this.IsLoaded())return null;for(var t=0;t<this.animations.length;t++)e[this.animations[t].name]=this.animations[t];return e}GetAnimation(e){for(var t=0;t<this.animations.length;t++)if(this.animations[t].name===e)return this.animations[t];return null}PlayAnimation(e,t){if(0!==this.animations.length){var r=this.GetAnimation(e);r&&r.Play(t)}else this._pendingCommands.push({func:this.PlayAnimation,args:[e,t]})}GetPlayingAnimations(){for(var e=[],t=0;t<this.animations.length;t++)this.animations[t].IsPlaying()&&e.push(this.animations[t].name);return e}StopAnimation(e){if(0!==this.animations.length){e=_.util.toArray(e);for(var t=0;t<this.animations.length;++t)e.includes(this.animations[t].name)&&this.animations[t].Stop()}else this._pendingCommands.push({func:this.StopAnimation,args:e})}StopAllAnimations(){if(0!==this.animations.length)for(var e=0;e<this.animations.length;++e)this.animations[e].Stop();else this._pendingCommands.push({func:this.StopAllAnimations,args:null})}StopAllAnimationsExcept(e){if(0!==this.animations.length){e=_.util.toArray(e);for(var t=0;t<this.animations.length;++t)e.includes(this.animations[t].name)||this.animations[t].Stop()}else this._pendingCommands.push({func:this.StopAllAnimationsExcept,args:e})}SetGeometryResource(e){this.models.splice(0);for(var t=0;t<this.animations.length;t++){var r=this.animations[t];this.animations.splice(t,1),t--,this.emit("removed",{animation:r,controller:this}),r.OnDestroy()}this.meshBindings.splice(0);for(var i=0;i<this.geometryResources.length;++i)this.geometryResources[i].UnregisterNotification(this);this._isLoaded=!1,this.geometryResources.splice(0),e&&(this.geometryResources.push(e),e.RegisterNotification(this))}AddGeometryResource(e){this.geometryResources.includes(e)||(this.geometryResources.push(e),e.RegisterNotification(this))}ResetBoneTransforms(){for(var t=0;t<this.models.length;++t)for(var r=0;r<this.models[t].bones.length;++r){var i=this.models[t].bones[r],n=i.boneRes;_.mat4.copy(i.localTransform,n.localTransform),-1!==n.parentIndex?_.mat4.multiply(i.worldTransform,i.localTransform,this.models[t].bones[i.boneRes.parentIndex].worldTransform):_.mat4.set(i.worldTransform,i.localTransform),_.mat4.identity(i.offsetTransform)}for(var a=_.mat4.identity(e.global.mat4_0),o=0;o<this.meshBindings.length;++o)for(var l=0;l<this.meshBindings[o].meshIndex.length;++l)for(var s=0;16*s<this.meshBindings[o].meshIndex[l].length;++s)for(var u=0;u<16;++u)this.meshBindings[o].meshIndex[l][16*s+u]=a[u]}GetBoneMatrices(t,r){if(0===this.geometryResources.length)return new Float32Array;r||(r=this.geometryResources[0]);var i=e.FindMeshBindings(this,r);return i&&void 0!==i.meshIndex[t]?i.meshIndex[t]:new Float32Array}FindBoneForMesh(e,t){var r=this.FindModelForMesh(t);if(r)for(var i=0;i<r.bones.length;i++)if(r.bones[i].boneRes.name===e)return r.bones[i];return null}FindModelForMesh(e,t){if(0===this.geometryResources.length)return null;if(t||(t=this.geometryResources[0]),!t.IsGood())return null;for(var r=t.meshes[e],i=0;i<this.models.length;++i)for(;0<this.models[i].modelRes.meshBindings.length;++i)if(this.models[i].modelRes.meshBindings[0].mesh===r)return this.models[i];return null}GetResources(e=[]){for(var t=0;t<this.geometryResources.length;t++)e.includes(this.geometryResources[t])||e.push(this.geometryResources[t]);return e}OnResPrepared(t){if(t.UnregisterNotification(this),this.geometryResources.includes(t)){for(var r=0;r<this.geometryResources.length;++r)if(!this.geometryResources[r].IsGood())return;for(var i=0;i<this.geometryResources.length;++i)e.DoRebuildCachedData(this,this.geometryResources[i])}}Update(t){var r=this._isPlaying;if(this._isPlaying=!1,this.models&&this.update){for(var i=0;i<this.geometryResources.length;++i)this.geometryResources[i].KeepAlive();for(var n=e.global,a=n.mat4_0,o=n.quat_0,l=n.vec3_0,s=n.mat3_0,u=0;u<this.animations.length;++u){var c=this.animations[u];if(c.Update(t)){this._isPlaying=!0;for(var f=c.animationRes,d=0;d<c.trackGroups.length;++d)for(var h=0;h<c.trackGroups[d].transformTracks.length;++h){var b=c.trackGroups[d].transformTracks[h];b.trackRes.position?_.curve.evaluate(b.trackRes.position,c.time,l,c.cycle,f.duration):l[0]=l[1]=l[2]=0,b.trackRes.orientation?(_.curve.evaluate(b.trackRes.orientation,c.time,o,c.cycle,f.duration),_.quat.normalize(o,o)):_.quat.identity(o),b.trackRes.scaleShear?_.curve.evaluate(b.trackRes.scaleShear,c.time,s,c.cycle,f.duration):_.mat3.identity(s),_.mat4.fromMat3(b.bone.localTransform,s),_.mat4.multiply(b.bone.localTransform,b.bone.localTransform,_.mat4.fromQuat(a,o)),b.bone.localTransform[12]=l[0],b.bone.localTransform[13]=l[1],b.bone.localTransform[14]=l[2]}}}for(var m=0;m<this.models.length;++m)for(var p=0;p<this.models[m].bones.length;++p){var v=this.models[m].bones[p];-1!==v.boneRes.parentIndex?_.mat4.multiply(v.worldTransform,this.models[m].bones[v.boneRes.parentIndex].worldTransform,v.localTransform):_.mat4.copy(v.worldTransform,v.localTransform),_.mat4.multiply(v.offsetTransform,v.worldTransform,v.boneRes.worldTransformInv);for(var g=0;g<v.bindingArrays.length;++g){var E=v.bindingArrays[g],y=v.offsetTransform;E.array[E.offset+0]=y[0],E.array[E.offset+1]=y[4],E.array[E.offset+2]=y[8],E.array[E.offset+3]=y[12],E.array[E.offset+4]=y[1],E.array[E.offset+5]=y[5],E.array[E.offset+6]=y[9],E.array[E.offset+7]=y[13],E.array[E.offset+8]=y[2],E.array[E.offset+9]=y[6],E.array[E.offset+10]=y[10],E.array[E.offset+11]=y[14]}}(this._isPlaying||this._isPlaying!==r)&&(this._boundsDirty=!0)}}RenderDebugInfo(e){for(var t=0;t<this.models.length;++t)for(var r=0;r<this.models[t].bones.length;++r){var i=this.models[t].bones[r];if(i.boneRes.parentIndex>=0){var n=this.models[t].bones[i.boneRes.parentIndex];e.AddLine([i.worldTransform[12],i.worldTransform[13],i.worldTransform[14]],[n.worldTransform[12],n.worldTransform[13],n.worldTransform[14]])}}}static AddAnimationsFromRes(e,t){for(var r=0;r<t.animations.length;++r){for(var i=null,n=void 0,a=0;a<e.animations.length;++a)if(e.animations[a].animationRes===t.animations[r]){i=e.animations[r];break}i||((i=new R.Tw2Animation(e)).animationRes=t.animations[r],e.animations.push(i),n=!0);for(var o=0;o<i.animationRes.trackGroups.length;++o){for(var l=!1,s=0;s<i.trackGroups.length;++s)if(i.trackGroups[s].trackGroupRes===i.animationRes.trackGroups[o]){l=!0;break}if(!l){for(var u=null,c=0;c<e.models.length;++c)if(e.models[c].modelRes.name===i.animationRes.trackGroups[o].name){u=e.models[c];break}if(null!==u){var f=new P.Tw2TrackGroup;f.trackGroupRes=i.animationRes.trackGroups[o];for(var d=0;d<f.trackGroupRes.transformTracks.length;++d)for(var h=0;h<u.bones.length;++h)if(u.bones[h].boneRes.name===f.trackGroupRes.transformTracks[d].name){var b=new z.Tw2Track;b.trackRes=f.trackGroupRes.transformTracks[d],b.bone=u.bones[h],f.transformTracks.push(b);break}i.trackGroups.push(f)}}}n&&e.emit("added",{controller:e,animation:i})}}static AddModel(e,t){for(var r=0;r<e.models.length;++r)if(e.models[r].modelRes.name===t.name)return null;var i=new A.Tw2Model;i.modelRes=t;var n=t.skeleton;if(null!==n)for(var a=0;a<n.bones.length;++a){var o=new j.Tw2Bone;o.boneRes=n.bones[a],i.bones.push(o),i.bonesByName[o.boneRes.name]=o}return e.models.push(i),i}static FindMeshBindings(e,t){for(var r=0;r<e.meshBindings.length;++r)if(e.meshBindings[r].resource===t)return e.meshBindings[r];return null}static DoRebuildCachedData(t,r){if(r.meshes.length)for(var i=0;i<r.models.length;++i)e.AddModel(t,r.models[i]);for(var n=0;n<t.geometryResources.length;++n)this.AddAnimationsFromRes(t,t.geometryResources[n]);if(0===r.models.length){for(var a=0;a<r.meshes.length;++a)S.Tw2GeometryRes.BindMeshToModel(r.meshes[a],t.geometryResources[0].models[0],r);r.models.push(t.geometryResources[0].models[0])}for(var o=0;o<r.models.length;++o){for(var l=null,s=0;s<t.models.length;++s)if(t.models[s].modelRes.name===r.models[o].name){l=t.models[s];break}if(null!==l)for(var u=0;u<r.models[o].meshBindings.length;++u){var c=r.meshes.indexOf(r.models[o].meshBindings[u].mesh),f=e.FindMeshBindings(t,r);null===f&&((f=new C.Tw2MeshBinding).resource=r,t.meshBindings.push(f)),f.meshIndex[c]=new Float32Array(12*r.models[o].meshBindings[u].bones.length);for(var d=0;d<r.models[o].meshBindings[u].bones.length;++d)for(var h=0;h<l.bones.length;++h)if(l.bones[h].boneRes.name===r.models[o].meshBindings[u].bones[d].name){var b=new O.Tw2BoneBinding;b.array=f.meshIndex[c],b.offset=12*d,l.bones[h].bindingArrays.push(b);break}}}if(r.meshes.length&&r.models.length&&t.ResetBoneTransforms(),t._isLoaded=!0,t.emit("loaded",{controller:t}),t.animations.length){if(t._pendingCommands.length)for(var m=0;m<t._pendingCommands.length;++m)t._pendingCommands[m].args?t._pendingCommands[m].func.apply(t,t._pendingCommands[m].args):t._pendingCommands[m].func.apply(t);t._pendingCommands.splice(0)}}},T.global={vec3_0:_.vec3.create(),quat_0:_.quat.create(),mat3_0:_.mat3.create(),mat4_0:_.mat4.create()},T.keys={primary:["update"]},p=I((m=w).prototype,"geometryResources",[a,o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),v=I(m.prototype,"models",[l,s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),g=I(m.prototype,"animations",[u,c],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),E=I(m.prototype,"meshBindings",[f,d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),y=I(m.prototype,"update",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),b=m))||b)||b)},"./core/model/Tw2Bone.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tw2Bone",(function(){return E}));var i,n,a,o,l,s,u,c,f,d,h,b,m,p=r("./global/index.js");function v(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function g(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var E=(i=p.meta.type("Tw2Bone"),n=p.meta.objectOf("Tw2GeometryBone"),a=p.meta.listOf("Tw2BoneBinding"),o=p.meta.matrix4,l=p.meta.matrix4,s=p.meta.matrix4,i((f=g((c=class{constructor(){v(this,"boneRes",f,this),v(this,"bindingArrays",d,this),v(this,"localTransform",h,this),v(this,"worldTransform",b,this),v(this,"offsetTransform",m,this)}}).prototype,"boneRes",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),d=g(c.prototype,"bindingArrays",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),h=g(c.prototype,"localTransform",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return p.mat4.create()}}),b=g(c.prototype,"worldTransform",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return p.mat4.create()}}),m=g(c.prototype,"offsetTransform",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return p.mat4.create()}}),u=c))||u)},"./core/model/Tw2BoneBinding.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tw2BoneBinding",(function(){return h}));var i,n,a,o,l,s,u,c=r("./global/index.js");function f(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function d(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var h=(i=c.meta.type("Tw2BoneBinding"),n=c.meta.vector,a=c.meta.uint,i((s=d((l=class{constructor(){f(this,"array",s,this),f(this,"offset",u,this)}}).prototype,"array",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),u=d(l.prototype,"offset",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),o=l))||o)},"./core/model/Tw2MeshBinding.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tw2MeshBinding",(function(){return h}));var i,n,a,o,l,s,u,c=r("./global/index.js");function f(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function d(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var h=(i=c.meta.type("Tw2MeshBinding"),n=c.meta.listOf("Float32Array"),a=c.meta.objectOf("Tw2GeometryRes"),i((s=d((l=class{constructor(){f(this,"meshIndex",s,this),f(this,"resource",u,this)}}).prototype,"meshIndex",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),u=d(l.prototype,"resource",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),o=l))||o)},"./core/model/Tw2Model.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tw2Model",(function(){return m}));var i,n,a,o,l,s,u,c,f,d=r("./global/index.js");function h(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function b(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var m=(i=d.meta.type("Tw2Model"),n=d.meta.objectOf("Tw2GeometryModel"),a=d.meta.listOf("Tw2Bone"),o=d.meta.plainOf("Tw2Bone"),i((u=b((s=class{constructor(){h(this,"modelRes",u,this),h(this,"bones",c,this),h(this,"bonesByName",f,this)}}).prototype,"modelRes",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),c=b(s.prototype,"bones",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),f=b(s.prototype,"bonesByName",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),l=s))||l)},"./core/model/Tw2Track.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tw2Track",(function(){return h}));var i,n,a,o,l,s,u,c=r("./global/index.js");function f(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function d(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var h=(i=c.meta.type("Tw2Track"),n=c.meta.objectOf("Tw2GeometryTransformTrack"),a=c.meta.objectOf("Tw2Bone"),i((s=d((l=class{constructor(){f(this,"trackRes",s,this),f(this,"bone",u,this)}}).prototype,"trackRes",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),u=d(l.prototype,"bone",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),o=l))||o)},"./core/model/Tw2TrackGroup.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tw2TrackGroup",(function(){return m}));var i,n,a,o,l,s,u,c,f,d=r("./global/index.js");function h(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function b(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var m=(i=d.meta.type("Tw2TrackGroup"),n=d.meta.objectOf("Tw2GeometryTrackGroup"),a=d.meta.objectOf("Tw2GeometryModel"),o=d.meta.listOf("Tw2Track"),i((u=b((s=class{constructor(){h(this,"trackGroupRes",u,this),h(this,"model",c,this),h(this,"transformTracks",f,this)}}).prototype,"trackGroupRes",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),c=b(s.prototype,"model",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),f=b(s.prototype,"transformTracks",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),l=s))||l)},"./core/model/index.js":function(e,t,r){"use strict";r.r(t);var i=r("./core/model/Tw2Animation.js");r.d(t,"Tw2Animation",(function(){return i.Tw2Animation}));var n=r("./core/model/Tw2AnimationController.js");r.d(t,"Tw2AnimationController",(function(){return n.Tw2AnimationController}));var a=r("./core/model/Tw2Bone.js");r.d(t,"Tw2Bone",(function(){return a.Tw2Bone}));var o=r("./core/model/Tw2BoneBinding.js");r.d(t,"Tw2BoneBinding",(function(){return o.Tw2BoneBinding}));var l=r("./core/model/Tw2MeshBinding.js");r.d(t,"Tw2MeshBinding",(function(){return l.Tw2MeshBinding}));var s=r("./core/model/Tw2Model.js");r.d(t,"Tw2Model",(function(){return s.Tw2Model}));var u=r("./core/model/Tw2Track.js");r.d(t,"Tw2Track",(function(){return u.Tw2Track}));var c=r("./core/model/Tw2TrackGroup.js");r.d(t,"Tw2TrackGroup",(function(){return c.Tw2TrackGroup}))},"./core/parameter/Tw2FloatParameter.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tw2FloatParameter",(function(){return p}));var i,n,a,o,l,s,u,c,f,d=r("./core/parameter/Tw2Parameter.js"),h=r("./global/index.js");function b(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function m(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var p=(i=h.meta.type("Tw2FloatParameter","Tr2FloatParameter"),n=h.meta.black.string,a=h.meta.black.float,i((f=c=class extends d.Tw2Parameter{constructor(e="",t=1){super(),b(this,"name",s,this),b(this,"value",u,this),e&&(this.name=e),void 0!==t&&(this.value=h.util.isArrayLike(t)?t[0]:t)}SetValue(e,t){return!this.EqualsValue(e)&&(this.value=e,this.UpdateValues(t),!0)}GetValue(){return this.value}Apply(e,t){e[t]=this.value}Bind(e,t,r){return!this._constantBuffer&&(this._constantBuffer=e,this._offset=t,this.Apply(e,t),!0)}Unbind(){this._constantBuffer=null}EqualsValue(e){return this.value===e}static isValue(e){return h.util.isNumber(e)}},c.constantBufferSize=1,s=m((l=f).prototype,"name",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),u=m(l.prototype,"value",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),o=l))||o)},"./core/parameter/Tw2Matrix4Parameter.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tw2Matrix4Parameter",(function(){return p})),r.d(t,"Tw2MatrixParameter",(function(){return v}));var i,n,a,o,l,s,u,c,f,d=r("./global/index.js"),h=r("./core/parameter/Tw2VectorParameter.js");function b(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function m(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var p=(i=d.meta.type("Tw2Matrix4Parameter","Tw2MatrixParameter"),n=d.meta.black.string,a=d.meta.black.matrix4,i((f=c=class extends h.Tw2VectorParameter{constructor(e="",t=d.mat4.create()){super(),b(this,"name",s,this),b(this,"value",u,this),e&&(this.name=e),t&&d.mat4.copy(this.value,t)}Compose(e,t,r){"value"in e&&(e=e.value),"value"in t&&(t=t.value),"value"in r&&(r=r.value),d.mat4.fromRotationTranslationScale(this.value,e,t,r),this.UpdateValues()}Decompose(e,t,r){d.mat4.getRotation("value"in e?e.value:e,this.value),d.mat4.getTranslation("value"in t?t.value:t,this.value),d.mat4.getScaling("value"in r?r.value:r,this.value),"UpdateValues"in e&&e.UpdateValues(),"UpdateValues"in t&&t.UpdateValues(),"UpdateValues"in r&&r.UpdateValues()}get x(){return this.GetIndexValue(12)}set x(e){this.SetIndexValue(12,e)}get y(){return this.GetIndexValue(13)}set y(e){this.SetIndexValue(13,e)}get z(){return this.GetIndexValue(14)}set z(e){this.SetIndexValue(14,e)}},c.constantBufferSize=16,s=m((l=f).prototype,"name",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),u=m(l.prototype,"value",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return d.mat4.create()}}),o=l))||o);function v(e,t){return console.warn("Tw2MatrixParameter is deprecated, use Tw2Matrix4Parameter instead"),new p(e,t)}},"./core/parameter/Tw2Parameter.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tw2Parameter",(function(){return v}));var i,n,a,o,l,s,u,c,f,d,h,b,m=r("./global/index.js");function p(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var v=(i=m.meta.type("Tw2Parameter"),n=m.meta.abstract,a=m.meta.string,o=m.meta.abstract,l=m.meta.abstract,s=m.meta.abstract,u=m.meta.abstract,i(c=n((b=h=class extends m.Tw2BaseClass{constructor(...e){var t,r,i,n;super(...e),t=this,r="name",n=this,(i=d)&&Object.defineProperty(t,r,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}get size(){return this.constructor.constantBufferSize}GetValue(){}Bind(e,t,r){}Unbind(){}Apply(e,t,r){}},h.constantBufferSize=0,d=p((f=b).prototype,"name",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),p(f.prototype,"GetValue",[o],Object.getOwnPropertyDescriptor(f.prototype,"GetValue"),f.prototype),p(f.prototype,"Bind",[l],Object.getOwnPropertyDescriptor(f.prototype,"Bind"),f.prototype),p(f.prototype,"Unbind",[s],Object.getOwnPropertyDescriptor(f.prototype,"Unbind"),f.prototype),p(f.prototype,"Apply",[u],Object.getOwnPropertyDescriptor(f.prototype,"Apply"),f.prototype),c=f))||c)||c)},"./core/parameter/Tw2TextureParameter.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tw2TextureParameter",(function(){return k}));var i,n,a,o,l,s,u,c,f,d,h,b,m,p,v,g,E,y,T,w,_,S,R,j,O,A,z,P,C,D,I=r("./global/index.js"),x=r("./core/sampler/index.js"),L=r("./core/parameter/Tw2Parameter.js"),M=r("./core/resource/Tw2TextureRes.js");function F(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function G(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var k=(i=I.meta.type("Tw2TextureParameter","TriTextureParameter"),n=I.meta.black.string,a=I.meta.black.path,o=I.meta.uint,l=I.meta.uint,s=I.meta.uint,u=I.meta.uint,c=I.meta.uint,f=I.meta.uint,d=I.meta.boolean,h=I.meta.boolean,b=I.meta.objectOf("Tw2TextureRes"),m=I.meta.todo("Make private"),p=I.meta.objectOf("Tw2SamplerState"),i((D=C=class e extends L.Tw2Parameter{constructor(e,t){super(),F(this,"name",E,this),F(this,"resourcePath",y,this),F(this,"addressUMode",T,this),F(this,"addressVMode",w,this),F(this,"addressWMode",_,this),F(this,"filterMode",S,this),F(this,"maxAnisotropy",R,this),F(this,"mipFilterMode",j,this),F(this,"useAllOverrides",O,this),F(this,"forceAddressModes",A,this),F(this,"textureRes",z,this),F(this,"_sampler",P,this),e&&(this.name=e),t&&this.SetValue(t)}get isTextureAttached(){return this.textureRes&&this.textureRes._isAttached}Initialize(){this.UpdateValues()}SetValue(e){this.resourcePath=e,this.UpdateValues()}GetValue(){return this.isTextureAttached?null:this.resourcePath}SetTextureRes(e){return this.textureRes!==e&&(this.resourcePath="",this.textureRes=e,this.textureRes&&(this.textureRes._isAttached=!0),!0)}OnValueChanged(e,t){if(this.resourcePath=this.resourcePath.toLowerCase(),""!==this.resourcePath)if(0===this.resourcePath.indexOf("rgba:/")){if(!this.textureRes||this.textureRes.path!==this.resourcePath){var r=this.resourcePath.replace("rgba:/","").split(","),i=I.device.CreateSolidTexture([parseFloat(r[0]),parseFloat(r[1]),parseFloat(r[2]),void 0!==r[3]?parseFloat(r[3]):255]);this.textureRes=new M.Tw2TextureRes,this.textureRes.path=this.resourcePath,this.textureRes.Attach(i)}}else this.textureRes=I.resMan.GetResource(this.resourcePath);else this.textureRes=null;this.UpdateOverrides()}Apply(e,t,r){this.textureRes&&(this.useAllOverrides&&this._sampler&&(this._sampler.samplerType=t.samplerType,this._sampler.isVolume=t.isVolume,this._sampler.registerIndex=t.registerIndex,t=this._sampler),I.device.gl.activeTexture(I.device.gl.TEXTURE0+e),this.textureRes.Bind(t,r))}SetOverrides(t={}){if(I.util.assignIfExists(this,t,e.overrideProperties))return this.UpdateValues(),!0}GetOverrides(t={}){return I.util.assignIfExists(t,this,e.overrideProperties),t}UpdateOverrides(){if(this.useAllOverrides){this._sampler=this._sampler||new x.Tw2SamplerState,this._sampler.forceAddressModes=this.forceAddressModes;var{wrapModes:e,gl:t}=I.device,r=this._sampler;if(1===this.filterMode){switch(this.mipFilterMode){case 0:r.minFilter=t.NEAREST;break;case 1:r.minFilter=t.NEAREST_MIPMAP_NEAREST;break;default:r.minFilter=t.NEAREST_MIPMAP_LINEAR}r.minFilterNoMips=t.NEAREST,r.magFilter=t.NEAREST}else{switch(this.mipFilterMode){case 0:r.minFilter=t.LINEAR;break;case 1:r.minFilter=t.LINEAR_MIPMAP_NEAREST;break;default:r.minFilter=t.LINEAR_MIPMAP_LINEAR}r.minFilterNoMips=t.LINEAR,r.magFilter=t.LINEAR}r.addressU=e[this.addressUMode],r.addressV=e[this.addressVMode],r.addressW=e[this.addressWMode],r.anisotropy=this.maxAnisotropy,r.ComputeHash()}else this._sampler&&(this._sampler=null)}EqualsValue(e){return e.toLowerCase()===this.GetValue()}GetResources(e=[]){return this.textureRes&&!e.includes(this.textureRes)&&e.push(this.textureRes),e}static isValue(e){return I.util.isString(e)}},C.overrideProperties=["useAllOverrides","addressUMode","addressVMode","addressWMode","filterMode","mipFilterMode","maxAnisotropy","forceAddressModes"],E=G((g=D).prototype,"name",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),y=G(g.prototype,"resourcePath",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),T=G(g.prototype,"addressUMode",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),w=G(g.prototype,"addressVMode",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),_=G(g.prototype,"addressWMode",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),S=G(g.prototype,"filterMode",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 2}}),R=G(g.prototype,"maxAnisotropy",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 4}}),j=G(g.prototype,"mipFilterMode",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 2}}),O=G(g.prototype,"useAllOverrides",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),A=G(g.prototype,"forceAddressModes",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),z=G(g.prototype,"textureRes",[b,m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),P=G(g.prototype,"_sampler",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),v=g))||v)},"./core/parameter/Tw2TransformParameter.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tw2TransformParameter",(function(){return y}));var i,n,a,o,l,s,u,c,f,d,h,b,m,p=r("./core/parameter/Tw2Parameter.js"),v=r("./global/index.js");function g(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function E(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var y=(i=v.meta.type("Tw2TransformParameter","Tr2TransformParameter"),n=v.meta.black.string,a=v.meta.black.quaternion,o=v.meta.vector3,l=v.meta.vector3,i((m=b=class e extends p.Tw2Parameter{constructor(t,r){e.init(),super(),g(this,"name",c,this),g(this,"rotation",f,this),g(this,"translation",d,this),g(this,"scaling",h,this),this._localTransform=v.mat4.create(),this._worldTransform=v.mat4.create(),this._rebuildLocal=!0,this._rebuildWorld=!0,t&&(this.name=t),r&&(4===r.length?this.SetRotation(r):this.SetTransform(r),this.RebuildTransforms())}Initialize(){this.UpdateValues()}OnValueChanged(e){e&&e.skipRebuild||this.RebuildTransforms({force:!0,skipUpdate:!0})}RebuildTransforms(e){var t=!!e&&e.force,r=!!e&&e.skipUpdate;return(t||this._rebuildLocal)&&(v.mat4.fromRotationTranslationScale(this._localTransform,this.rotation,this.translation,this.scaling),this._rebuildLocal=!1,t=!0),(t||this._rebuildWorld)&&(this._parentTransform?v.mat4.multiply(this._worldTransform,this._parentTransform,this._localTransform):v.mat4.copy(this._worldTransform,this._localTransform),this._worldInverse&&v.mat4.invert(this._worldInverse,this._worldTransform),this._worldTranspose&&v.mat4.transpose(this._worldTranspose,this._worldTransform),this._worldInverseTranspose&&(this._worldInverse?v.mat4.transpose(this._worldInverseTranspose,this._worldInverse):(v.mat4.invert(this._worldInverseTranspose,this._worldTransform),v.mat4.transpose(this._worldInverseTranspose,this._worldInverseTranspose))),this._constantBuffer&&this.Apply(this._constantBuffer,this._offset,this.size),this._rebuildWorld=!1,r||this.UpdateValues({skipRebuild:!0}),t=!0),t}Bind(e,t,r){return!this._constantBuffer&&r>=this.size&&(this._constantBuffer=e,this._offset=t,this.Apply(e,t,r),!0)}Apply(e,t,r){this._worldTranspose||(this.RebuildTransforms(),this._worldTranspose=v.mat4.create(),v.mat4.transpose(this._worldTranspose,this._worldTransform)),r>=this.constructor.constantBufferSize?e.set(this._worldTranspose,t):e.set(this._worldTranspose.subarray(0,r),t)}GetValue(e){return this.RebuildTransforms(),this._worldTranspose||(this._worldTranspose=v.mat4.create(),v.mat4.transpose(this._worldTranspose,this._worldTransform)),v.mat4.copy(e,this._worldTranspose)}SetParentTransform(e){return!e&&this._parentTransform?(this._parentTransform=null,this._rebuildWorld=!0):this._parentTransform?v.mat4.equals(e,this._parentTransform)||(v.mat4.copy(this._parentTransform,e),this._rebuildWorld=!0):(this._parentTransform=v.mat4.clone(e),this._rebuildWorld=!0),this}GetWorldTransform(e){return this.RebuildTransforms(),v.mat4.copy(e,this._worldTransform)}DecomposeWorld(e,t,r){return this.RebuildTransforms(),v.mat4.getRotation(e,this._worldTransform),v.mat4.getTranslation(t,this._worldTransform),v.mat4.getScaling(r,this._worldTransform),this}GetWorldRotation(e){return this.RebuildTransforms(),v.mat4.getRotation(e,this._worldTransform)}GetWorldDirection(e){return this.RebuildTransforms(),v.vec3.set(e,this._worldTransform[8],this._worldTransform[9],this._worldTransform[10]),v.vec3.normalize(e,e)}GetWorldEuler(t){var{quat_0:r}=e.global;return this.GetWorldRotation(r),v.vec3.euler.fromQuat(t,r)}GetWorldAxisAngle(t){var{quat_0:r}=e.global;return this.RebuildTransforms(),v.mat4.getRotation(r,this._worldTransform),v.quat.getAxisAngle(t,r)}GetWorldTranslation(e){return this.RebuildTransforms(),v.mat4.getTranslation(e,this._worldTransform)}GetWorldScaling(e){return this.RebuildTransforms(),v.mat4.getScaling(e,this._worldTransform)}GetWorldMaxScale(){var{vec3_0:t}=e.global;return this.GetWorldScaling(t),Math.max(t[0],t[1],t[2])}GetWorldToLocal(t,r){if(this.RebuildTransforms(),this._worldInverse)return v.vec3.transformMat4(t,r,this._worldInverse);var{mat4_0:i}=e.global;return v.mat4.invert(i,this._worldTransform),v.vec3.transformMat4(t,r,i)}GetTransform(e){return v.mat4.copy(e,this._localTransform)}SetTransform(e){return v.mat4.getRotation(this.rotation,e),v.mat4.getScaling(this.scaling,e),v.mat4.getTranslation(this.translation,e),v.mat4.copy(this._localTransform,e),this._rebuildWorld=!0,this}Compose(e,t,r){return v.quat.copy(this.rotation,e),v.vec3.copy(this.translation,t),v.vec3.copy(this.scaling,r),this._rebuildLocal=!0,this}Decompose(e,t,r){return this.RebuildTransforms(),v.quat.copy(e,this.rotation),v.vec3.copy(t,this.translation),v.vec3.copy(r,this.scaling),this}GetLocalToWorld(e,t){return this.RebuildTransforms(),v.vec3.transformMat4(e,t,this._worldTransform)}GetDirection(e){return this.RebuildTransforms(),v.vec3.set(e,this._localTransform[8],this._localTransform[9],this._localTransform[10]),v.vec3.normalize(e,e)}GetRotation(e){return this.RebuildTransforms(),v.quat.copy(e,this.rotation)}GetEuler(t){var{quat_0:r}=e.global;return this.GetRotation(r),v.vec3.euler.fromQuat(t,r)}GetRotationMatrix(e){return v.mat4.fromRotation(e,this.rotation)}SetRotation(e){return v.quat.copy(this.rotation,e),this._rebuildLocal=!0,this}SetRotationFromValues(t,r,i,n){var{quat_0:a}=e.global;return v.quat.set(a,t,r,i,n),this.SetRotation(a)}SetRotationFromAxes(t,r,i){var{quat_0:n}=e.global;return v.quat.setAxes(n,t,r,i),this.SetRotation(n)}SetRotationFromAxisAngle(e,t){return v.quat.setAxisAngle(this.rotation,e,t),this._rebuildLocal=!0,this}SetRotationFromEuler(e){return v.vec3.euler.getQuat(this.rotation,e),this._rebuildLocal=!0,this}SetRotationFromEulerValues(t,r,i){var{vec3_0:n}=e.global;return v.vec3.set(n,t,r,i),this.SetRotationFromEuler(n)}SetRotationFromMat4(t){var{quat_0:r}=e.global;return v.mat4.getRotation(r,t),this.SetRotation(r)}RotateX(e){return v.quat.rotateX(this.rotation,this.rotation,e),this._rebuildLocal=!0,this}RotateY(e){return v.quat.rotateY(this.rotation,this.rotation,e),this._rebuildLocal=!0,this}RotateZ(e){return v.quat.rotateZ(this.rotation,this.rotation,e),this._rebuildLocal=!0,this}RotateOnAxisAngle(t,r){var{quat_0:i}=e.global;return v.quat.setAxisAngle(i,t,r),v.quat.multiply(this.rotation,this.rotation,i),this._rebuildLocal=!0,this}GetAxisAngle(e){return v.quat.getAxisAngle(e,this.rotation)}LookAt(t,r){this.RebuildTransforms();var{mat4_0:i}=e.global;return v.mat4.copy(i,this._localTransform),r?v.mat4.lookAtGL(i,this.translation,t,v.vec3.Y_AXIS):v.mat4.lookAtGL(i,t,this.translation,v.vec3.Y_AXIS),v.mat4.getRotation(this.rotation,i),this._rebuildLocal=!0,this}LookAtWorld(t,r){var{vec3_0:i}=e.global;return this.GetWorldToLocal(i,t),this.LookAt(i,r)}GetTranslation(e){return this.RebuildTransforms(),v.vec3.copy(e,this.translation)}SetTranslation(e){return v.vec3.copy(this.translation,e),this._rebuildLocal=!0,this}SetTranslationFromValues(e,t,r){return v.vec3.set(this.translation,e,t,r),this._rebuildLocal=!0,this}SetTranslationFromMat4(e){return v.mat4.getTranslation(this.translation,e),this._rebuildLocal=!0,this}TranslateOnAxis(t,r){var{vec3_0:i}=e.global;return v.vec3.transformQuat(i,t,this.rotation),v.vec3.scaleAndAdd(this.translation,this.translation,i,r),this._rebuildLocal=!0,this}TranslateX(e){return this.TranslateOnAxis(v.vec3.X_AXIS,e)}TranslateY(e){return this.TranslateOnAxis(v.vec3.Y_AXIS,e)}TranslateZ(e){return this.TranslateOnAxis(v.vec3.Z_AXIS,e)}GetScale(e){return this.RebuildTransforms(),v.vec3.copy(e,this.scaling)}GetMaxScale(){return Math.max(this.scaling[0],this.scaling[1],this.scaling[2])}SetScale(e){return v.vec3.copy(this.scaling,e),this._rebuildLocal=!0,this}SetScaleFromValues(t,r,i){var{vec3_0:n}=e.global;return v.vec3.set(n,t,r,i),this.SetScale(n)}SetScaleX(e){return this.SetScaleFromValues(e,this.scaling[1],this.scaling[2])}SetScaleY(e){return this.SetScaleFromValues(this.scaling[0],e,this.scaling[2])}SetScaleZ(e){return this.SetScaleFromValues(this.scaling[0],this.scaling[1],e)}SetScaleUniform(e){return this.SetScaleFromValues(e,e,e)}SetScaleFromMat4(e){return v.mat4.getScaling(this.scaling,e),this._rebuildLocal=!0,this}Scale(e){return v.vec3.multiply(this.scaling,this.scaling,e),this._rebuildLocal=!0,this}ScaleValues(t,r,i){var{vec3_0:n}=e.global;return v.vec3.set(n,t,r,i),this.Scale(n)}ScaleMat4(t){var{vec3_0:r}=e.global;return v.mat4.getScaling(r,t),this.Scale(r)}ScaleUniform(e){return this.ScaleValues(e,e,e)}ScaleX(e){return this.ScaleValues(e,1,1)}ScaleY(e){return this.ScaleValues(1,e,1)}ScaleZ(e){return this.ScaleValues(1,1,e)}static set(e,t,r={}){return t&&((t=Object.assign({},t)).transform&&(t.rotation=v.mat4.getRotation([],t.transform),t.scaling=v.mat4.getScaling([],t.transform),t.translation=v.mat4.getTranslation([],t.translation),Reflect.deleteProperty(t,"transform")),v.util.isNumber(t.scaling)&&(t.scaling=[t.scaling,t.scaling,t.scaling]),t.rotation&&3===t.rotation.length&&(t.rotation=v.vec3.euler.getQuat([],t.rotation))),p.Tw2Parameter.set(e,t,r)}static init(){this.global||(this.global={vec3_0:v.vec3.create(),vec3_1:v.vec3.create(),quat_0:v.quat.create(),mat4_0:v.mat4.create()})}},b.constantBufferSize=16,b.global=null,c=E((u=m).prototype,"name",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),f=E(u.prototype,"rotation",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return v.quat.create()}}),d=E(u.prototype,"translation",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return v.vec3.create()}}),h=E(u.prototype,"scaling",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return v.vec3.fromValues(1,1,1)}}),s=u))||s)},"./core/parameter/Tw2VariableParameter.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tw2VariableParameter",(function(){return m}));var i,n,a,o,l,s,u,c,f=r("./global/index.js"),d=r("./core/parameter/Tw2Parameter.js");function h(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function b(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var m=(i=f.meta.type("Tw2VariableParameter","TriVariableParameter"),n=f.meta.black.string,a=f.meta.black.string,i((c=class extends d.Tw2Parameter{constructor(e,t){super(),h(this,"name",s,this),h(this,"variableName",u,this),e&&(this.name=e),t&&(this.variableName=t)}get variable(){return f.tw2.GetVariable(this.variableName)}get size(){return this.variable?this.variable.size:0}SetValue(e,t){return f.tw2.SetVariableValue(this.variableName,e,t)}GetValue(e=[]){return f.tw2.GetVariableValue(this.variableName,e)}Apply(e,t,r){this.variable&&this.variable.Apply(e,t,r)}},s=b((l=c).prototype,"name",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),u=b(l.prototype,"variableName",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),o=l))||o)},"./core/parameter/Tw2Vector2Parameter.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tw2Vector2Parameter",(function(){return p}));var i,n,a,o,l,s,u,c,f,d=r("./global/index.js"),h=r("./core/parameter/Tw2VectorParameter.js");function b(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function m(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var p=(i=d.meta.type("Tw2Vector2Parameter"),n=d.meta.string,a=d.meta.vector2,i((f=c=class extends h.Tw2VectorParameter{constructor(e,t){super(),b(this,"name",s,this),b(this,"value",u,this),e&&(this.name=e),t&&d.vec2.copy(this.value,t)}get x(){return this.GetIndexValue(0)}set x(e){this.SetIndexValue(0,e)}get y(){return this.GetIndexValue(1)}set y(e){this.SetIndexValue(1,e)}},c.constantBufferSize=2,s=m((l=f).prototype,"name",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),u=m(l.prototype,"value",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return d.vec2.fromValues(1,1)}}),o=l))||o)},"./core/parameter/Tw2Vector3Parameter.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tw2Vector3Parameter",(function(){return p}));var i,n,a,o,l,s,u,c,f,d=r("./global/index.js"),h=r("./core/parameter/Tw2VectorParameter.js");function b(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function m(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var p=(i=d.meta.type("Tw2Vector3Parameter"),n=d.meta.string,a=d.meta.vector3,i((f=c=class extends h.Tw2VectorParameter{constructor(e,t){super(),b(this,"name",s,this),b(this,"value",u,this),e&&(this.name=e),t&&d.vec3.copy(this.value,t)}get x(){return this.GetIndexValue(0)}set x(e){this.SetIndexValue(0,e)}get y(){return this.GetIndexValue(1)}set y(e){this.SetIndexValue(1,e)}get z(){return this.GetIndexValue(2)}set z(e){this.SetIndexValue(2,e)}},c.constantBufferSize=3,s=m((l=f).prototype,"name",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),u=m(l.prototype,"value",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return d.vec3.fromValues(1,1,1)}}),o=l))||o)},"./core/parameter/Tw2Vector4Parameter.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tw2Vector4Parameter",(function(){return p}));var i,n,a,o,l,s,u,c,f,d=r("./global/index.js"),h=r("./core/parameter/Tw2VectorParameter.js");function b(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function m(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var p=(i=d.meta.type("Tw2Vector4Parameter","TriVector4Parameter"),n=d.meta.black.string,a=d.meta.black.vector4,i((f=c=class extends h.Tw2VectorParameter{constructor(e,t){super(),b(this,"name",s,this),b(this,"value",u,this),e&&(this.name=e),t&&d.vec4.copy(this.value,t)}get x(){return this.GetIndexValue(0)}set x(e){this.SetIndexValue(0,e)}get y(){return this.GetIndexValue(1)}set y(e){this.SetIndexValue(1,e)}get z(){return this.GetIndexValue(2)}set z(e){this.SetIndexValue(2,e)}get w(){return this.GetIndexValue(3)}set w(e){this.SetIndexValue(3,e)}},c.constantBufferSize=4,s=m((l=f).prototype,"name",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),u=m(l.prototype,"value",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return d.vec4.fromValues(1,1,1,1)}}),o=l))||o)},"./core/parameter/Tw2VectorParameter.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tw2VectorParameter",(function(){return s}));var i,n,a,o=r("./core/Tw2Error.js"),l=r("./global/index.js"),s=l.meta.type("Tw2VectorParameter")(i=(0,l.meta.abstract)((a=n=class extends l.Tw2BaseClass{get size(){return this.constructor.constantBufferSize}SetValue(e,t){return!this.EqualsValue(e)&&(this.value.set(e),this.UpdateValues(t),!0)}SetIndexValue(e,t,r){if(void 0===this.value[e])throw new o.ErrIndexBounds;this.value[e]!==t&&(this.value[e]=t,this.UpdateValues(r))}GetValue(e=[]){for(var t=this._constantBuffer?this._constantBuffer.subarray(this._offset,this._offset+this.size):this.value,r=0;r<t.length;r++)e[r]=t[r];return e}GetIndexValue(e){if(void 0!==this.value[e])return this.value[e];throw new o.ErrIndexBounds}OnValueChanged(e,t){this._constantBuffer&&this.Apply(this._constantBuffer,this._offset)}Bind(e,t,r){return!this._constantBuffer&&r>=this.size&&(this._constantBuffer=e,this._offset=t,this.Apply(e,t,r),!0)}Unbind(){this._constantBuffer=null}Apply(e,t,r){e.set(this.value,t)}EqualsValue(e){for(var t=0;t<this.size;t++)if(this.value[t]!==e[t])return!1;return!0}static isValue(e){return l.util.isArrayLike(e)&&e.length===this.constantBufferSize}},n.constantBufferSize=0,i=a))||i)||i},"./core/parameter/index.js":function(e,t,r){"use strict";r.r(t);var i=r("./core/parameter/Tw2Parameter.js");r.d(t,"Tw2Parameter",(function(){return i.Tw2Parameter}));var n=r("./core/parameter/Tw2FloatParameter.js");r.d(t,"Tw2FloatParameter",(function(){return n.Tw2FloatParameter}));var a=r("./core/parameter/Tw2Matrix4Parameter.js");r.d(t,"Tw2Matrix4Parameter",(function(){return a.Tw2Matrix4Parameter})),r.d(t,"Tw2MatrixParameter",(function(){return a.Tw2MatrixParameter}));var o=r("./core/parameter/Tw2TransformParameter.js");r.d(t,"Tw2TransformParameter",(function(){return o.Tw2TransformParameter}));var l=r("./core/parameter/Tw2VariableParameter.js");r.d(t,"Tw2VariableParameter",(function(){return l.Tw2VariableParameter}));var s=r("./core/parameter/Tw2Vector2Parameter.js");r.d(t,"Tw2Vector2Parameter",(function(){return s.Tw2Vector2Parameter}));var u=r("./core/parameter/Tw2Vector3Parameter.js");r.d(t,"Tw2Vector3Parameter",(function(){return u.Tw2Vector3Parameter}));var c=r("./core/parameter/Tw2Vector4Parameter.js");r.d(t,"Tw2Vector4Parameter",(function(){return c.Tw2Vector4Parameter}));var f=r("./core/parameter/Tw2TextureParameter.js");r.d(t,"Tw2TextureParameter",(function(){return f.Tw2TextureParameter}))},"./core/post/Tw2PostEffect.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tw2PostEffect",(function(){return R}));var i,n,a,o,l,s,u,c,f,d,h,b,m,p,v=r("./global/index.js"),g=r("./core/Tw2RenderTarget.js"),E=r("./core/resource/Tw2TextureRes.js"),y=r("./core/parameter/index.js"),T=r("./core/post/Tw2PostEffectStep.js"),w=r("./global/util/index.js");function _(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function S(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var R=(i=v.meta.type("Tw2PostEffect"),n=v.meta.boolean,a=v.meta.uint,o=v.meta.isPrivate,l=v.meta.objectOf("Tw2CurveSet"),s=v.meta.listOf("Tw2PostEffectStep"),i((p=m=class extends v.Tw2BaseClass{constructor(...e){super(...e),_(this,"display",f,this),_(this,"index",d,this),_(this,"curveSet",h,this),_(this,"steps",b,this),this._width=0,this._height=0,this._targets={},this._texture=null,this._visibleSteps=[],this._dirty=!0,this._onChildModified=e=>this.UpdateValues({controller:e})}OnValueChanged(){this._dirty=!0}IsGood(){for(var e=0,t=0;t<this.steps.length;t++)this.steps[t].IsGood()&&e++;return e===this.steps.length}KeepAlive(){for(var e=0;e<this.steps.length;e++)this.steps[e].KeepAlive()}GetResources(e=[]){for(var t=0;t<this.steps.length;t++)this.steps[t].GetResources(e);return e}CreateItem(e={}){var t=T.Tw2PostEffectStep.from(e);return this.AddItem(t),t}AddItem(e){this.steps.includes(e)||(-1===e.index&&(e.index=this.steps.length),e._onModified=this._onChildModified,this.steps.push(e),this.UpdateValues())}RemoveItem(e){var t=this.steps.indexOf(e);-1!==t&&(e._onModified=null,this.steps.splice(t,1),this.UpdateValues())}ClearItems(){for(var e=0;e<this.steps.length;e++)this.steps[e]._onModified=null;this.steps=[],this.UpdateValues()}GetTarget(e){return e&&e in this._targets?this._targets[e]:null}HasTarget(e){return!(!e||!this._targets[e])}CreateTarget(e,t=v.device.viewportWidth,r=v.device.viewportHeight){return this._targets[e]||(this._targets[e]=new g.Tw2RenderTarget,this._targets[e].name=e),this._targets[e].Create(t,r,!1),this._targets[e]}Update(e){this.curveSet&&this.curveSet.Update(e)}Render(){var e=v.device,t=e.gl,r=e.viewportWidth,i=e.viewportHeight;if(!this.IsGood()||!this.display||r<=0||i<=0)return!1;if(r!==this._width||i!==this._height||this._dirty||!this._texture){this._texture||(this._texture=new E.Tw2TextureRes,this._texture.Attach(t.createTexture())),t.bindTexture(t.TEXTURE_2D,this._texture.texture),t.texImage2D(t.TEXTURE_2D,0,t.RGBA,r,i,0,t.RGBA,t.UNSIGNED_BYTE,null),t.bindTexture(t.TEXTURE_2D,null),this._width=r,this._height=i,this._visibleSteps=[];for(var n=0;n<this.steps.length;++n){var a=this.steps[n],o=a.inputs,l=a.effect,s=l.shader,u=l.parameters;for(var c in s.HasTexture("BlitCurrent")&&!u.BlitCurrent&&(u.BlitCurrent=new y.Tw2TextureParameter("BlitCurrent","rgba:/0,0,0,255")),s.HasTexture("BlitOriginal")&&!u.BlitOriginal&&(u.BlitOriginal=new y.Tw2TextureParameter("BlitOriginal","rgba:/0,0,0,255")),a.target?a._renderTarget=this.CreateTarget(a.target,r,i):a._renderTarget=null,o)if(o.hasOwnProperty(c))if(s.HasTexture(c)){u[c]||(u[c]=new y.Tw2TextureParameter(c));var f=u[c],d=o[c];d?f.SetTextureRes(this.CreateTarget(d,r,i).texture):f.SetTextureRes(this._texture)}else console.warn("Invalid input parameter ".concat(c)),delete o[c];if("BlitCurrent"in o&&s.HasConstant("g_texelSize")){u.g_texelSize||(u.g_texelSize=new y.Tw2Vector4Parameter("g_texelSize",[1,1,1,1]));var h=u.g_texelSize,b=this.GetTarget(o.BlitCurrent);b?(h.value[0]=1/b.width,h.value[1]=1/b.width):(h.value[0]=1/r,h.value[1]=1/r),h.UpdateValues(this)}a.display&&this._visibleSteps.push(a),a._dirty=!1}this._visibleSteps.sort((e,t)=>e.index-t.index),this._dirty=!1}t.bindTexture(t.TEXTURE_2D,this._texture.texture),t.copyTexImage2D(t.TEXTURE_2D,0,e.alphaBlendBackBuffer?t.RGBA:t.RGB,0,0,r,i,0),t.bindTexture(t.TEXTURE_2D,null),e.SetStandardStates(v.device.RM_OPAQUE);for(var m=0,p=0;p<this._visibleSteps.length;++p){var g=this._visibleSteps[p];g.display&&(g._renderTarget?g._renderTarget.Set():(t.bindFramebuffer(t.FRAMEBUFFER,null),t.viewport(0,0,r,i)),e.RenderFullScreenQuad(g.effect),m++)}return!!m}static from(e={}){var t=new this;if(Object(w.assignIfExists)(t,e,["name","display","index"]),e.steps)for(var r=0;r<e.steps.length;r++)t.CreateItem(e.steps[r]);return t}},m.Item=T.Tw2PostEffectStep,f=S((c=p).prototype,"display",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),d=S(c.prototype,"index",[a,o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return-1}}),h=S(c.prototype,"curveSet",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),b=S(c.prototype,"steps",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),u=c))||u)},"./core/post/Tw2PostEffectManager.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tw2PostEffectManager",(function(){return g}));var i,n,a,o,l,s,u,c,f,d,h,b=r("./core/post/Tw2PostEffect.js"),m=r("./global/index.js");function p(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function v(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var g=(i=m.meta.type("Tw2PostEffectManager"),n=m.meta.string,a=m.meta.boolean,o=m.meta.listOf("Tw2PostEffect"),i((h=d=class extends m.Tw2BaseClass{constructor(...e){super(...e),p(this,"name",u,this),p(this,"display",c,this),p(this,"effects",f,this),this._dirty=!0,this._onChildValueChanged=e=>this.UpdateValues({controller:e}),this._visibleEffects=[]}OnValueChanged(){this._dirty=!0}IsGood(){for(var e=0,t=0;t<this.effects.length;t++)this.effects[t].IsGood()&&e++;return e===this.effects.length}KeepAlive(){for(var e=0;e<this.effects.length;e++)this.effects[e].KeepAlive()}GetResources(e=[]){for(var t=0;t<this.effects.length;t++)this.effects[t].GetResources(e);return e}CreateItem(e={}){var t=b.Tw2PostEffect.from(e);return this.AddItem(t),t}AddItem(e){this.effects.includes(e)||(-1===e.index&&(e.index=this.effects.length),e._onModified=this._onChildValueChanged,this.effects.push(e),this.UpdateValues())}RemoveItem(e){var t=this.effects.indexOf(e);-1!==t&&(e._onModified=null,this.effects.splice(t,1),this.UpdateValues())}ClearItems(){for(var e=0;e<this.effects.length;e++)this.effects[e]._onModified=null,this.effects[e].ClearItems();this.effects=[],this.UpdateValues()}Update(e){if(this._dirty){this._visibleEffects=[];for(var t=0;t<this.effects.length;t++)this.effects[t].display&&this._visibleEffects.push(this.effects[t]);this._visibleEffects.sort((e,t)=>e.index-t.index),this._dirty=!1}for(var r=0;r<this.effects.length;r++)this.effects[r].Update(e)}Render(){if(!this.display)return this.KeepAlive(),!1;for(var e=0,t=0;t<this._visibleEffects.length;t++)this._visibleEffects[t].Render()&&e++;return!!e}},d.Item=b.Tw2PostEffect,u=v((s=h).prototype,"name",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return"Post manager"}}),c=v(s.prototype,"display",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),f=v(s.prototype,"effects",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),l=s))||l)},"./core/post/Tw2PostEffectStep.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tw2PostEffectStep",(function(){return w}));var i,n,a,o,l,s,u,c,f,d,h,b,m,p,v,g=r("./global/index.js"),E=r("./core/mesh/Tw2Effect.js");function y(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function T(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var w=(i=g.meta.type("Tw2PostEffectStep"),n=g.meta.uint,a=g.meta.isPrivate,o=g.meta.boolean,l=g.meta.objectOf("Tw2Effect"),s=g.meta.string,u=g.meta.plainOf("String"),i((v=class extends g.Tw2BaseClass{constructor(...e){super(...e),y(this,"index",d,this),y(this,"display",h,this),y(this,"effect",b,this),y(this,"target",m,this),y(this,"inputs",p,this),this._renderTarget=null,this._dirty=!0}OnValueChanged(){this._dirty=!0}IsGood(){return!!this.effect&&this.effect.IsGood()}KeepAlive(){this.effect&&this.effect.KeepAlive()}GetResources(e=[]){return this.effect&&this.effect.GetResources(e),e}static from(e={}){var t=new this;return g.util.assignIfExists(t,e,["name","display","target","index"]),e.inputs&&Object.assign(t.inputs,e.inputs),t.effect=E.Tw2Effect.from({name:e.name,autoParameter:!0,effectFilePath:e.effectFilePath,parameters:e.parameters,textures:e.textures,overrides:e.overrides}),t}},d=T((f=v).prototype,"index",[n,a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return-1}}),h=T(f.prototype,"display",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),b=T(f.prototype,"effect",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),m=T(f.prototype,"target",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),p=T(f.prototype,"inputs",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),c=f))||c)},"./core/post/index.js":function(e,t,r){"use strict";r.r(t);var i=r("./core/post/Tw2PostEffect.js");r.d(t,"Tw2PostEffect",(function(){return i.Tw2PostEffect}));var n=r("./core/post/Tw2PostEffectManager.js");r.d(t,"Tw2PostEffectManager",(function(){return n.Tw2PostEffectManager}));var a=r("./core/post/Tw2PostEffectStep.js");r.d(t,"Tw2PostEffectStep",(function(){return a.Tw2PostEffectStep}))},"./core/reader/Tw2BinaryReader.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tw2BinaryReader",(function(){return i}));class i{constructor(e){this.data=null,this.cursor=0,this.data=e}ReadUInt8(){return this.data[this.cursor++]}ReadInt8(){var e=this.data[this.cursor++];return e>127&&(e=e-255-1),e}ReadUInt16(){return this.data[this.cursor++]+(this.data[this.cursor++]<<8)}ReadInt16(){var e=this.data[this.cursor++]+(this.data[this.cursor++]<<8);return e>32767&&(e=e-65535-1),e}ReadUInt32(){return this.data[this.cursor++]+(this.data[this.cursor++]<<8)+(this.data[this.cursor++]<<16)+(this.data[this.cursor++]<<24>>>0)}ReadInt32(){var e=this.data[this.cursor++]+(this.data[this.cursor++]<<8)+(this.data[this.cursor++]<<16)+(this.data[this.cursor++]<<24>>>0);return e>2147483647&&(e=e-4294967295-1),e}ReadFloat16(){var e=this.data[this.cursor++],t=this.data[this.cursor++],r=(t>>2&31)-15,i=(3&t)<<8|e;return 0===i&&-15===r?0:(1-2*(t>>7))*(1+i*Math.pow(2,-10))*Math.pow(2,r)}ReadFloat32(){var e=this.data[this.cursor++],t=this.data[this.cursor++],r=this.data[this.cursor++],i=this.data[this.cursor++],n=(i<<1&255|r>>7)-127,a=(127&r)<<16|t<<8|e;return 0===a&&-127===n?0:(1-2*(i>>7))*(1+a*Math.pow(2,-23))*Math.pow(2,n)}ReadString(){for(var e=this.data[this.cursor++],t="",r=0;r<e;++r)t+=String.fromCharCode(this.data[this.cursor++]);return t}}},"./core/reader/Tw2BlackBinaryReader.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tw2BlackBinaryReader",(function(){return n}));var i=r("./core/Tw2Error.js");class n{constructor(e,t){this.data=null,this.context=null,this.cursor=0,this.data=e,this.context=t,this.cursor=0}get length(){return this.data.byteLength-this.cursor}get stringTable(){return this.context._stringTable}get references(){return this.context._ids}AtEnd(){return 0===this.length}ReadBinaryReader(e){return new n(this.ReadDataView(e),this.context)}ReadCString(){for(var e=this.data,t=this.cursor;0!==this.ReadU8(););var r=e.byteOffset+t,i=this.cursor-t-1,a=new Uint8Array(e.buffer,r,i);return n.stringDecoder.decode(a)}ReadCWString(){for(var e=this.data,t=this.cursor;0!==this.ReadU16(););var r=e.byteOffset+t,i=this.cursor-t-2,a=new Uint8Array(e.buffer,r,i);return n.wstringDecoder.decode(a)}ReadDataView(e){if(e<0)throw new i.ErrBinaryReaderReadError({readError:'Argument should be positive: got "'.concat(e,'"')});if(this.length<e)throw new i.ErrBinaryReaderReadError({readError:"Argument is too big: remaining ".concat(this.length,', got "').concat(e,'"')});var t=this.data,r=new DataView(t.buffer,t.byteOffset+this.cursor,e);return this.cursor+=e,r}ReadF32(){var e=this.data.getFloat32(this.cursor,!0);return this.cursor+=4,e}ReadF64(){var e=this.data.getFloat64(this.cursor,!0);return this.cursor+=8,e}ReadStringU16(){var e=this.ReadU16();if(e>this.stringTable.length)throw new i.ErrBinaryReaderReadError({readError:'Reading string "'.concat(e,'" but only ').concat(this.stringTable.length," exist")});return this.stringTable[e]}ReadU8(){var e=this.data.getUint8(this.cursor);return this.cursor+=1,e}ReadU16(){var e=this.data.getUint16(this.cursor,!0);return this.cursor+=2,e}ReadU16Array(e){if(e<0)throw new i.ErrBinaryReaderReadError({readError:'Argument should be positive but got "'.concat(e,'"')});for(var t=new Uint16Array(e),r=0;r<e;r++)t[r]=this.ReadU16();return t}ReadU32(){var e=this.data.getUint32(this.cursor,!0);return this.cursor+=4,e}ReadU32Array(e){if(e<0)throw new i.ErrBinaryReaderReadError({readError:"Argument should be positive: got ".concat(e)});for(var t=new Uint32Array(e),r=0;r<e;r++)t[r]=this.ReadU32();return t}ExpectEnd(e){if(0!==this.length)throw new i.ErrBinaryReaderReadError({readError:"".concat(e,": expected 0 bytes remaining, got ").concat(this.length)})}ExpectU8(e,t){n.expect(this.ReadU8(),e,t)}ExpectU16(e,t){n.expect(this.ReadU16(),e,t)}ExpectU32(e,t){n.expect(this.ReadU32(),e,t)}static expect(e,t,r){if(e!==t)throw new i.ErrBinaryReaderReadError({readError:"".concat(r,": expected ").concat(t,", got ").concat(e)})}}n.stringDecoder=new TextDecoder("utf-8"),n.wstringDecoder=new TextDecoder("utf-16le")},"./core/reader/Tw2BlackPropertyReaders.js":function(e,t,r){"use strict";r.r(t),r.d(t,"getReaderFromType",(function(){return s})),r.d(t,"path",(function(){return u})),r.d(t,"object",(function(){return c})),r.d(t,"rawObject",(function(){return f})),r.d(t,"array",(function(){return d})),r.d(t,"boolean",(function(){return h})),r.d(t,"string",(function(){return b})),r.d(t,"enums",(function(){return m})),r.d(t,"float",(function(){return p})),r.d(t,"ushort",(function(){return v})),r.d(t,"uint",(function(){return g})),r.d(t,"byte",(function(){return E})),r.d(t,"vector2",(function(){return y})),r.d(t,"vector3",(function(){return T})),r.d(t,"color",(function(){return w})),r.d(t,"vector4",(function(){return _})),r.d(t,"matrix",(function(){return S})),r.d(t,"indexBuffer",(function(){return R})),r.d(t,"struct",(function(){return j})),r.d(t,"structList",(function(){return O})),r.d(t,"fromList",(function(){return A})),r.d(t,"notImplemented",(function(){return z}));var i=r("./global/index.js"),n=r("./core/Tw2Error.js"),a=r("./global/util/index.js"),o=r("./global/engine/Tw2Constant.js"),l={[o.Type.UNKNOWN]:z,[o.Type.BOOLEAN]:h,[o.Type.PATH]:u,[o.Type.STRING]:b,[o.Type.BYTE]:E,[o.Type.UINT]:g,[o.Type.USHORT]:v,[o.Type.FLOAT]:p,[o.Type.VECTOR2]:y,[o.Type.VECTOR3]:T,[o.Type.VECTOR4]:_,[o.Type.QUATERNION]:_,[o.Type.MATRIX4]:S,[o.Type.COLOR]:w,[o.Type.OBJECT]:c,[o.Type.RAW]:f,[o.Type.LIST]:d,[o.Type.ARRAY]:d,[o.Type.PLAIN]:f,[o.Type.INDEX_BUFFER]:R,[o.Type.ENUM]:m};function s(e){return Object(a.isFunction)(e)?e:(Object(a.isString)(e)&&(e=o.Type[e.toUpperCase()]),void 0!==e&&void 0!==l[e]||(e=o.Type.UNKNOWN),l[e])}function u(e){var t=e.ReadStringU16();0===t.indexOf("res:")&&(t="cdn:"+t.substring(4));var r="",i=t.lastIndexOf(".");switch(-1!==i&&(r=t.substr(i+1).toLowerCase()),r){case"dds":case"png":t=(t=(t=t.replace("_lowdetail","")).replace("_mediumdetail","")).replace(r,"0.".concat(r));break;case"gr2":t=t.replace(r,"wbg").replace("cdn:","res:");break;case"red":t=t.replace(r,"black");break;case"sm_hi":case"sm_lo":t=t.replace(r,"fx");break;case"sm_depth":t=""}return t}function c(e,t){var r=e.context,o=void 0!==t,l=i.tw2.constructor.DEBUG_ENABLED;if(!o){if(0===(t=e.ReadU32()))return null;if(e.references.has(t))return e.references.get(t)}var u=e.ReadBinaryReader(e.ReadU32()),c=u.ReadStringU16(),f=r.ConstructType(c),d=i.tw2.HasBlack(c)?i.tw2.GetBlack(c):null;if(o||e.references.set(t,f),!d&&!i.meta.has("black",f.constructor))throw new n.ErrBinaryObjectTypeNotFound({type:c});for(;!u.AtEnd();){var h=u.ReadStringU16(),b=void 0;if(d&&d.has(h)&&(b=d.get(h)),!b&&i.meta.has("black",f,h)&&(b=i.meta.get("black",f,h)),l&&!b&&i.meta.has("type",f,h)){var m=i.meta.get("type",f,h)||0;b=s(m),console.log("Identifying reader from property '".concat(h,"' type: ").concat(m.toString()))}if(!b)throw l&&console.dir(f),new n.ErrBinaryReaderReadError({readError:'Unknown property "'.concat(h,'" for "').concat(c,'"')});if(!Object(a.isFunction)(b))throw l&&console.dir(f),new n.ErrBinaryReaderReadError({readError:'Invalid reader for property "'.concat(h,'" for "').concat(c,'"')});try{b.custom?b(u,f,h):(h in f||!l||console.log("'".concat(c,"' missing property: '").concat(h,"'")),f[h]=b(u))}catch(e){throw l&&console.dir(f),new n.ErrBinaryReaderReadError({message:"".concat(h," (").concat(f.constructor.name,") > ")+e.message})}}return u.ExpectEnd("object did not read to end"),"Initialize"in f&&f.Initialize(),f}function f(e){return c(e,null)}function d(e){for(var t=[],r=e.ReadU32(),i=0;i<r;i++)t[i]=c(e);return t}function h(e){return 0!==e.ReadU8()}function b(e){return e.ReadStringU16()}function m(e){for(var t=e.ReadStringU16().split(","),r={},i=0;i<t.length;i++){var n=t[i].split("=");r[n[0]]=Number(n[1])}return r}function p(e){return e.ReadF32()}function v(e){return e.ReadU16()}function g(e){return e.ReadU32()}function E(e){return e.ReadU8()}function y(e){return i.vec2.fromValues(e.ReadF32(),e.ReadF32())}function T(e){return i.vec3.fromValues(e.ReadF32(),e.ReadF32(),e.ReadF32())}function w(e){return i.vec4.fromValues(e.ReadF32(),e.ReadF32(),e.ReadF32(),e.ReadF32())}function _(e){return i.vec4.fromValues(e.ReadF32(),e.ReadF32(),e.ReadF32(),e.ReadF32())}function S(e){return i.mat4.fromValues(e.ReadF32(),e.ReadF32(),e.ReadF32(),e.ReadF32(),e.ReadF32(),e.ReadF32(),e.ReadF32(),e.ReadF32(),e.ReadF32(),e.ReadF32(),e.ReadF32(),e.ReadF32(),e.ReadF32(),e.ReadF32(),e.ReadF32(),e.ReadF32())}function R(e){var t=e.ReadU32();if(4===e.ReadU16())return e.ReadU32Array(t);throw"unsupported for now"}function j(e){return function(t){return e.blackStruct(t)}}function O(e){return function(t){for(var r=t.ReadU32(),i=t.ReadU16(),n=[],a=0;a<r;a++){var o=t.ReadBinaryReader(i);n[a]=e.blackStruct(o),o.ExpectEnd("struct read to end")}return n}}function A(e){Object(a.isString)(e)&&(e={key:e});var{key:t,struct:r,reroute:i,value:n}=e,o=function(e,o,l){var s=o[i||l];if(!Object(a.isPlain)(s))throw new Error("Target is not a plain object");for(var u=r?O(r)(e):d(e),c=0;c<u.length;c++){var f=u[c],h=u[c][t];if(void 0===h)throw new Error("Array element property is undefined: ".concat(t));if(h in s&&console.warn("Property '".concat(h,"' already defined")),void 0===n)s[h]=f;else{if(!(n in f))throw new Error("Property is undefined: ".concat(n));s[h]=f[n]}}};return o.custom=!0,o}function z(e,t,r){throw new n.ErrFeatureNotImplemented({feature:"Black reader for property '".concat(r,"'")})}z.custom=!0},"./core/reader/Tw2BlackReader.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tw2BlackReader",(function(){return l}));var i=r("./global/index.js"),n=r("./core/reader/Tw2BlackBinaryReader.js"),a=r("./core/Tw2Error.js"),o=r("./core/reader/Tw2BlackPropertyReaders.js");r("./global/util/index.js");class l{constructor(e){this.data=null,this._ids=null,this._comments=null,this._reader=null,this._start=0,this._stringTable=null,e&&(this.data=e instanceof ArrayBuffer?new DataView(e):e,this.Initialize())}Initialize(){if(!(this.data&&this.data instanceof DataView))throw new a.ErrBinaryFormat({formatError:"expected DataView"});var e=new n.Tw2BlackBinaryReader(this.data,this);if(2980901150!==e.ReadU32())throw new a.ErrBinaryFormat({formatError:"wrong FOURCC"});if(1!==e.ReadU32())throw new a.ErrBinaryFormat({formatError:"wrong version"});var t=e.ReadBinaryReader(e.ReadU32()),r=t.ReadU16();this._stringTable=[];for(var i=0;i<r;i++)this._stringTable[i]=t.ReadCString();t.ExpectEnd();var o=e.ReadBinaryReader(e.ReadU32()),l=o.ReadU16();this._comments=[];for(var s=0;s<l;s++)this._comments[s]=o.ReadCWString();o.ExpectEnd(),this._ids=new Map,this._reader=e,this._start=e.cursor}Construct(){return this._reader.cursor=this._start,Object(o.object)(this._reader)}ConstructType(e){if(i.tw2.HasClass(e))return new(i.tw2.GetClass(e));if(l.DEBUG_ENABLED)return{_type:e};throw new a.ErrBinaryObjectTypeNotFound({type:e})}}l.DEBUG_ENABLED=!0},"./core/reader/Tw2ObjectReader.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tw2ObjectReader",(function(){return o}));var i=r("./global/index.js"),n=r("./core/reader/Tw2BinaryReader.js"),a=r("./core/Tw2Error.js");class o{constructor(e){this.xmlNode=null,this._inputStack=null,this._initializeObjects=null,this._ids={},this._reader=null,this._stringTable=null,this._start=null,e&&(this.xmlNode=e,e&&this.Initialize())}Initialize(){if(!o.IsValidXML(this.xmlNode))throw new a.ErrBinaryFormat({formatError:"Invalid binary, expected binred"});this._reader=new n.Tw2BinaryReader(new Uint8Array(this.xmlNode)),this._reader.cursor+=6,this._stringTable=[];for(var e=this._reader.ReadUInt32(),t=0;t<e;++t){var r=this._reader.ReadUInt16();this._stringTable.push(String.fromCharCode.apply(null,this._reader.data.subarray(this._reader.cursor,this._reader.cursor+r))),this._reader.cursor+=r}this._start=this._reader.cursor}Construct(){return this._reader.cursor=this._start,o.ReadElement(this)}static IsValidXML(e){return e&&"binred"===String.fromCharCode.apply(null,new Uint8Array(e).subarray(0,6))}static ConstructObject(e){if("json"===e.type)return e;var t;if(i.tw2.HasClass(e.type))t=i.tw2.GetClass(e.type);else{if(!o.DEBUG_ENABLED)throw new a.ErrBinaryObjectTypeNotFound({type:e.type});t=Object}var r=new t;for(var n in e)if(e.hasOwnProperty(n)&&"type"!==n)if(e[n].constructor===Object){if(this.DEBUG_ENABLED&&(r[n]=r[n]||{}),r[n])for(var l in e[n])e[n].hasOwnProperty(l)&&(r[n][l]=e[n][l])}else r[n]=e[n];return"Initialize"in r&&r.Initialize(),r}static ReadUint(e,t){switch(48&t){case this.ElementSize.SMALL:return e._reader.ReadUInt8();case this.ElementSize.MEDIUM:return e._reader.ReadUInt16();default:return e._reader.ReadUInt32()}}static ReadElementData(e,t){var r,i,n,o,l;switch(15&t){case this.ElementRawType.NULL:return null;case this.ElementRawType.BOOL:switch(48&t){case this.ElementSize.SMALL:return 0!==e._reader.ReadUInt8();case this.ElementSize.MEDIUM:return!1;default:return!0}case this.ElementRawType.INT:switch(48&t){case this.ElementSize.SMALL:return e._reader.ReadInt8();case this.ElementSize.MEDIUM:return e._reader.ReadInt16();default:return e._reader.ReadInt32()}case this.ElementRawType.UINT:return this.ReadUint(e,t);case this.ElementRawType.FLOAT:switch(48&t){case this.ElementSize.SMALL:return e._reader.ReadFloat16();case this.ElementSize.MEDIUM:return e._reader.ReadFloat32();default:throw new a.ErrFeatureNotImplemented({feature:"Element raw type Float64"})}case this.ElementRawType.STRING:return r=this.ReadUint(e,t),e._stringTable[r];case this.ElementRawType.ARRAY:for(o=this.ReadUint(e,t),n=[],i=0;i<o;++i)n.push(this.ReadElement(e));return n;case this.ElementRawType.MAPPING:for(o=this.ReadUint(e,t),n={},i=0;i<o;++i)n[e._stringTable[this.ReadUint(e,t)]]=this.ReadElement(e);return n;case this.ElementRawType.OBJECT:for(o=this.ReadUint(e,t),n={},i=0;i<o;++i)n[e._stringTable[this.ReadUint(e,t)]]=this.ReadElement(e);return this.ConstructObject(n);case this.ElementRawType.TYPED_ARRAY:for(o=this.ReadUint(e,t),l=e._reader.ReadUInt8(),n=[],i=0;i<o;++i)n.push(this.ReadElementData(e,l));return l in this.TypedArrays&&(n=new this.TypedArrays[l](n)),n;case this.ElementRawType.TYPED_MAPPING:for(o=this.ReadUint(e,t),l=e._reader.ReadUInt8(),n={},i=0;i<o;++i)n[e._stringTable[this.ReadUint(e,t)]]=this.ReadElementData(e,l);return n}}static ReadElement(e){var t,r=e._reader.ReadUInt8();if(r===this.REFERENCE_BIT)return e._ids[e._reader.ReadUInt16()];0!=(r&this.ID_BIT)&&(t=e._reader.ReadUInt16());var i=this.ReadElementData(e,63&r);return 0!=(r&this.ID_BIT)&&(e._ids[t]=i),i}}o.DEBUG_ENABLED=!1,o.ID_BIT=64,o.REFERENCE_BIT=128,o.ElementRawType={NULL:0,BOOL:1,INT:2,UINT:3,FLOAT:4,STRING:5,ARRAY:6,MAPPING:7,OBJECT:8,TYPED_ARRAY:9,TYPED_MAPPING:10},o.ElementSize={SMALL:0,MEDIUM:16,LARGE:32},o.TypedArrays={2:Int8Array,3:Uint8Array,18:Int16Array,19:Uint16Array,34:Int32Array,35:Uint32Array,4:Float32Array,20:Float32Array,36:Float64Array};var l=o.ElementRawType,s=o.ElementSize;o.ElementTypes={NULL:l.NULL|s.SMALL,BOOL:l.BOOL|s.SMALL,FALSE:l.BOOL|s.MEDIUM,TRUE:l.BOOL|s.LARGE,INT8:l.INT|s.SMALL,UINT8:l.UINT|s.SMALL,INT16:l.INT|s.MEDIUM,UINT16:l.UINT|s.MEDIUM,INT32:l.INT|s.LARGE,UINT32:l.UINT|s.LARGE,FLOAT16:l.FLOAT|s.SMALL,FLOAT32:l.FLOAT|s.MEDIUM,FLOAT64:l.FLOAT|s.LARGE,SHORT_STRING:l.STRING|s.SMALL,MEDIUM_STRING:l.STRING|s.MEDIUM,LARGE_STRING:l.STRING|s.LARGE,SHORT_ARRAY:l.ARRAY|s.SMALL,MEDIUM_ARRAY:l.ARRAY|s.MEDIUM,LARGE_ARRAY:l.ARRAY|s.LARGE,SHORT_MAPPING:l.MAPPING|s.SMALL,MEDIUM_MAPPING:l.MAPPING|s.MEDIUM,LARGE_MAPPING:l.MAPPING|s.LARGE,SHORT_OBJECT:l.OBJECT|s.SMALL,MEDIUM_OBJECT:l.OBJECT|s.MEDIUM,LARGE_OBJECT:l.OBJECT|s.LARGE,SHORT_TYPED_ARRAY:l.TYPED_ARRAY|s.SMALL,MEDIUM_TYPED_ARRAY:l.TYPED_ARRAY|s.MEDIUM,LARGE_TYPED_ARRAY:l.TYPED_ARRAY|s.LARGE,SHORT_TYPED_MAPPING:l.TYPED_MAPPING|s.SMALL,MEDIUM_TYPED_MAPPING:l.TYPED_MAPPING|s.MEDIUM,LARGE_TYPED_MAPPING:l.TYPED_MAPPING|s.LARGE}},"./core/reader/index.js":function(e,t,r){"use strict";r.r(t);var i=r("./core/reader/Tw2BinaryReader.js");r.d(t,"Tw2BinaryReader",(function(){return i.Tw2BinaryReader}));var n=r("./core/reader/Tw2BlackReader.js");r.d(t,"Tw2BlackReader",(function(){return n.Tw2BlackReader}));var a=r("./core/reader/Tw2ObjectReader.js");r.d(t,"Tw2ObjectReader",(function(){return a.Tw2ObjectReader}))},"./core/resource/Tw2EffectRes.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tw2EffectRes",(function(){return l}));var i=r("./core/reader/index.js"),n=r("./core/resource/Tw2Resource.js"),a=r("./core/resource/Tw2Shader.js"),o=r("./core/Tw2Error.js");class l extends n.Tw2Resource{constructor(...e){super(...e),this.passes=[],this.annotations={},this.permutations=[],this.offsets=[],this.reader=null,this.version=0,this.stringTable="",this.shaders={}}Prepare(e){this.permutations=[],this.offsets=[],this.passes=[],this.annotations={},this.reader=null,this.version=0,this.stringTable="",this.shaders={};var t=new i.Tw2BinaryReader(new Uint8Array(e)),r="";function n(){for(var e=t.ReadUInt32(),i=e;r.charCodeAt(i);)++i;return r.substr(e,i-e)}var a=t.ReadUInt32();if(a<2||a>8)this.OnError(new o.ErrShaderVersion({path:this.path,version:a}));else{var l,s;if(a<5){if(0===(l=t.ReadUInt32()))return void this.OnError(new o.ErrShaderHeaderSize({path:this.path}));t.ReadUInt32();var u=t.ReadUInt32();t.cursor=8+3*l*4,s=t.ReadUInt32(),this.stringTableOffset=t.cursor,r=String.fromCharCode.apply(null,t.data.subarray(t.cursor,t.cursor+s)),t.cursor=u}else{s=t.ReadUInt32(),this.stringTableOffset=t.cursor,r=String.fromCharCode.apply(null,t.data.subarray(t.cursor,t.cursor+s)),t.cursor+=s;for(var c=t.ReadUInt8(),f=0;f<c;++f){for(var d={name:n(),defaultOption:t.ReadUInt8(),description:n(),type:t.ReadUInt8(),options:{},optionCount:t.ReadUInt8()},h=0;h<d.optionCount;++h)d.options[n()]=h;this.permutations.push(d)}if(0===(l=t.ReadUInt32()))return void this.OnError(new o.ErrShaderHeaderSize({path:this.path}));for(var b=0;b<l;++b)this.offsets.push({index:t.ReadUInt32(),offset:t.ReadUInt32(),size:t.ReadUInt32()});t.ReadUInt32(),t.cursor=t.ReadUInt32()}this.reader=t,this.version=a,this.stringTable=r,this.OnPrepared()}}GetShader(e){if(!this.IsGood())return null;for(var t=0,r=1,i=0;i<this.permutations.length;++i){var n=this.permutations[i],l=n.defaultOption;if(e.hasOwnProperty(n.name)){var s=e[n.name];if(!n.options.hasOwnProperty(s))return this.OnError(new o.ErrShaderPermutationValue({path:this.path,permutation:n.name,valueName:s})),null;l=n.options[s]}t+=l*r,r*=n.optionCount}if(this.shaders.hasOwnProperty(t))return this.shaders[t];this.reader.cursor=this.offsets[t].offset;var u=null;try{u=new a.Tw2Shader(this.reader,this.version,this.stringTable,this.stringTableOffset,this.path)}catch(e){return this.OnError(e),null}return this.shaders[t]=u,u}}l.prototype.requestResponseType="arraybuffer"},"./core/resource/Tw2GeometryRes.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tw2GeometryRes",(function(){return u}));var i=r("./global/index.js"),n=r("./core/reader/index.js"),a=r("./core/vertex/index.js"),o=r("./core/resource/Tw2Resource.js"),l=r("./core/Tw2Error.js"),s=r("./core/geometry/index.js");class u extends o.Tw2Resource{constructor(...e){super(...e),this.meshes=[],this.minBounds=i.vec3.fromValues(0,0,0),this.maxBounds=i.vec3.fromValues(0,0,0),this.boundsSpherePosition=i.vec3.create(),this.boundsSphereRadius=0,this.models=[],this.animations=[],this.systemMirror=i.resMan.systemMirror}GetBoundingBox(e,t){return i.box3.fromBounds(e,this.minBounds,this.maxBounds),t&&i.box3.transformMat4(e,e,t),!0}GetBoundingSphere(e,t){return i.sph3.fromPositionRadius(e,this.boundsSpherePosition,this.boundsSphereRadius),t&&i.sph3.transformMat4(e,e,t),!0}RebuildBounds(e){var t=this.minBounds,r=this.maxBounds;i.box3.bounds.empty(t,r);for(var n=0;n<this.meshes.length;n++){var a=this.meshes[n];a.RebuildBounds(e),i.box3.bounds.union(t,r,t,r,a.minBounds,a.maxBounds)}this.boundsSphereRadius=i.box3.bounds.toPositionRadius(t,r,this.boundsSpherePosition)}GetInstanceBuffer(e){return e<this.meshes.length?this.meshes[e].buffer:void 0}GetInstanceDeclaration(e){return this.meshes[e].declaration}GetInstanceStride(e){return this.meshes[e].declaration.stride}GetInstanceCount(e){return 4*this.meshes[e].bufferLength/this.meshes[e].declaration.stride}Prepare(e){var t=i.device.gl,r=new n.Tw2BinaryReader(new Uint8Array(e));r.ReadUInt8();for(var a=r.ReadUInt8(),o=0;o<a;++o){var l=new s.Tw2GeometryMesh;l.name=r.ReadString();var c=u.ReadVertexBuffer(r,l.declaration,this.path);c?(l.bufferLength=c.length,l.buffer=t.createBuffer(),t.bindBuffer(t.ARRAY_BUFFER,l.buffer),t.bufferData(t.ARRAY_BUFFER,c,t.STATIC_DRAW)):l.buffer=null;var f=u.ReadIndexBuffer(r);f?(l.indexes=t.createBuffer(),l.indexType=2===f.BYTES_PER_ELEMENT?t.UNSIGNED_SHORT:t.UNSIGNED_INT,t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,l.indexes),t.bufferData(t.ELEMENT_ARRAY_BUFFER,f,t.STATIC_DRAW)):l.indexes=null;for(var d=r.ReadUInt8(),h=0;h<d;++h){var b=new s.Tw2GeometryMeshArea;l.areas.push(b),b.name=r.ReadString(),b.start=r.ReadUInt32()*f.BYTES_PER_ELEMENT,b.count=3*r.ReadUInt32(),i.vec3.set(b.minBounds,r.ReadFloat32(),r.ReadFloat32(),r.ReadFloat32()),i.vec3.set(b.maxBounds,r.ReadFloat32(),r.ReadFloat32(),r.ReadFloat32()),b.boundsSphereRadius=i.box3.bounds.toPositionRadius(b.minBounds,b.maxBounds,b.boundsSpherePosition),i.box3.bounds.isEmpty(b.minBounds,b.maxBounds)&&(l.RebuildAreaBounds(b,c,f,!0)||console.log("Could not generate bounds for area: "+b.name||!1))}var m=r.ReadUInt8();l.boneBindings=[];for(var p=0;p<m;++p)l.boneBindings[p]=r.ReadString();var v=r.ReadUInt16();if((v||this.systemMirror)&&(l.bufferData=c,l.indexData=f),v){l.blendShapes=[];for(var g=0;g<v;++g)l.blendShapes[g]=new s.Tw2BlendShapeData,l.blendShapes[g].name=r.ReadString(),l.blendShapes[g].buffer=u.ReadVertexBuffer(r,l.blendShapes[g].declaration,this.path),l.blendShapes[g].indexes=u.ReadIndexBuffer(r)}l._areas=d,l._faces=f.length/3,l._vertices=c.length/(l.declaration.stride/4),this.meshes[o]=l}this.RebuildBounds();for(var E=r.ReadUInt8(),y=0;y<E;++y){var T=new s.Tw2GeometryModel;T.name=r.ReadString(),T.skeleton=new s.Tw2GeometrySkeleton;for(var w=r.ReadUInt8(),_=0;_<w;++_){var S=new s.Tw2GeometryBone;S.name=r.ReadString();var R=r.ReadUInt8();if(S.parentIndex=r.ReadUInt8(),255===S.parentIndex&&(S.parentIndex=-1),0!=(1&R)?i.vec3.set(S.position,r.ReadFloat32(),r.ReadFloat32(),r.ReadFloat32()):i.vec3.set(S.position,0,0,0),0!=(2&R)?i.quat.set(S.orientation,r.ReadFloat32(),r.ReadFloat32(),r.ReadFloat32(),r.ReadFloat32()):i.quat.identity(S.orientation),0!=(4&R))for(var j=0;j<9;++j)S.scaleShear[j]=r.ReadFloat32();else i.mat3.identity(S.scaleShear);T.skeleton.bones[_]=S}for(var O=0;O<T.skeleton.bones.length;++O)T.skeleton.bones[O].UpdateTransform(),-1!==T.skeleton.bones[O].parentIndex?i.mat4.multiply(T.skeleton.bones[O].worldTransform,T.skeleton.bones[T.skeleton.bones[O].parentIndex].worldTransform,T.skeleton.bones[O].localTransform):i.mat4.copy(T.skeleton.bones[O].worldTransform,T.skeleton.bones[O].localTransform),i.mat4.invert(T.skeleton.bones[O].worldTransformInv,T.skeleton.bones[O].worldTransform);for(var A=r.ReadUInt8(),z=0;z<A;++z){var P=r.ReadUInt8();P<this.meshes.length&&u.BindMeshToModel(this.meshes[P],T,this)}this.models[this.models.length]=T}for(var C=r.ReadUInt8(),D=0;D<C;++D){var I=new s.Tw2GeometryAnimation;I.name=r.ReadString(),I.duration=r.ReadFloat32();for(var x=r.ReadUInt8(),L=0;L<x;++L){var M=new s.Tw2GeometryTrackGroup;M.name=r.ReadString();for(var F=0;F<this.models.length;++F)if(this.models[F].name===M.name){M.model=this.models[F];break}for(var G=r.ReadUInt8(),k=0;k<G;++k){var N=new s.Tw2GeometryTransformTrack;if(N.name=r.ReadString(),N.orientation=u.ReadCurve(r),N.position=u.ReadCurve(r),N.scaleShear=u.ReadCurve(r),N.orientation)for(var B=0,U=0,V=0,H=0,q=0;q<N.orientation.controls.length;q+=4){var W=N.orientation.controls[q],Y=N.orientation.controls[q+1],X=N.orientation.controls[q+2],K=N.orientation.controls[q+3];B*W+U*Y+V*X+H*K<0&&(N.orientation.controls[q]=-W,N.orientation.controls[q+1]=-Y,N.orientation.controls[q+2]=-X,N.orientation.controls[q+3]=-K),B=W,U=Y,V=X,H=K}M.transformTracks[M.transformTracks.length]=N}I.trackGroups[I.trackGroups.length]=M}this.animations[this.animations.length]=I}this.OnPrepared()}static BindMeshToModel(e,t,r){var i=new s.Tw2GeometryMeshBinding;i.mesh=e;for(var n=0;n<i.mesh.boneBindings.length;++n){var a=i.mesh.boneBindings[n],o=t.FindBoneByName(a);if(!o)throw new l.ErrGeometryMeshBoneNameInvalid({path:r.path,mesh:i.mesh.name,bone:a,model:t.name});i.bones[i.bones.length]=o}t.meshBindings[t.meshBindings.length]=i}RenderAreasInstanced(e,t,r,n,a,o,s,u,c){if(this.KeepAlive(),!this.IsGood()||!n.IsGood()||e>=this.meshes.length)return!1;var f=i.device,d=f.gl,h=this.meshes[e],b=n.GetPassCount(a);d.bindBuffer(d.ELEMENT_ARRAY_BUFFER,h.indexes);for(var m=0;m<b;++m){n.ApplyPass(a,m);var p=n.GetPassInput(a,m);if(0!==p.elements.length){d.bindBuffer(d.ARRAY_BUFFER,h.buffer),h.declaration.SetPartialDeclaration(f,p,h.declaration.stride),d.bindBuffer(d.ARRAY_BUFFER,o);var v=s.SetPartialDeclaration(f,p,u,8,1);f.ApplyShadowState();for(var g=0;g<r;++g)if(g+t<h.areas.length){for(var E=h.areas[g+t],y=E.start,T=E.count;g+1<r;){if(!(E=h.areas[g+1+t]))return this.OnError(new l.ErrGeometryMeshAreaMissing({path:this.path,areaIndex:g+1+t})),!1;if(E.start!==y+2*T)break;T+=E.count,++g}d.drawElementsInstanced(d.TRIANGLES,T,h.indexType,y,c)}s.ResetInstanceDivisors(f,v)}}return!0}RenderAreas(e,t,r,n,a){if(this.KeepAlive(),!this.IsGood()||!n.IsGood()||e>=this.meshes.length)return!1;var o=i.device,s=o.gl,u=this.meshes[e]||this.meshes[0],c=n.GetPassCount(a);s.bindBuffer(s.ARRAY_BUFFER,u.buffer),s.bindBuffer(s.ELEMENT_ARRAY_BUFFER,u.indexes);for(var f=0;f<c;++f){n.ApplyPass(a,f);var d=n.GetPassInput(a,f);if(!u.declaration.SetDeclaration(o,d,u.declaration.stride))return this.OnError(new l.ErrGeometryMeshEffectBinding({path:this.path,pass:f,passInput:d,meshStride:u.declaration.stride})),!1;o.ApplyShadowState();for(var h=0;h<r;++h)if(h+t<u.areas.length){for(var b=u.areas[h+t],m=b.start,p=b.count;h+1<r;){if(!(b=u.areas[h+1+t]))return this.OnError(new l.ErrGeometryMeshAreaMissing({path:this.path,areaIndex:h+1+t})),!1;if(b.start!==m+2*p)break;p+=b.count,++h}s.drawElements(s.TRIANGLES,p,u.indexType,m)}}return!0}RenderLines(e,t,r,n,a){if(this.KeepAlive(),!this.IsGood()||!n.IsGood()||e>=this.meshes.length)return!1;var o=i.device,s=o.gl,u=this.meshes[e],c=n.GetPassCount(a);s.bindBuffer(s.ARRAY_BUFFER,u.buffer),s.bindBuffer(s.ELEMENT_ARRAY_BUFFER,u.indexes);for(var f=0;f<c;++f){n.ApplyPass(a,f);var d=n.GetPassInput(a,f);if(!u.declaration.SetDeclaration(o,d,u.declaration.stride))return this.OnError(new l.ErrGeometryMeshEffectBinding({path:this.path,pass:f,passInput:d,meshStride:u.declaration.stride})),!1;o.ApplyShadowState();for(var h=0;h<r;++h)if(h+t<u.areas.length){for(var b=u.areas[h+t],m=b.start,p=b.count;h+1<r;){if(!(b=u.areas[h+1+t]))return this.OnError(new l.ErrGeometryMeshAreaMissing({path:this.path,areaIndex:h+1+t})),!1;if(b.start!==m+2*p)break;p+=b.count,++h}s.drawElements(s.LINES,p,u.indexType,m)}}return!0}RenderDebugInfo(e){if(!this.IsGood())return!1;for(var t=0;t<this.models.length;++t)if(this.models[t].skeleton)for(var r=0;r<this.models[t].skeleton.bones.length;++r){var i=this.models[t].skeleton.bones[r];if(i.parentIndex>=0){var n=this.models[t].skeleton.bones[i.parentIndex];e.AddLine([i.worldTransform[12],i.worldTransform[13],i.worldTransform[14]],[n.worldTransform[12],n.worldTransform[13],n.worldTransform[14]],[0,.7,0,1],[0,.7,0,1])}}}Unload(e){for(var t=0;t<this.meshes.length;++t){var r=i.device.gl;this.meshes[t].buffer&&(r.deleteBuffer(this.meshes[t].buffer),this.meshes[t].buffer=null),this.meshes[t].indexes&&(r.deleteBuffer(this.meshes[t].indexes),this.meshes[t].indexes=null)}return this.OnUnloaded(e),!0}static ReadVertexBuffer(e,t,r){for(var n=e.ReadUInt8(),o=0,s=0;s<n;++s){var u=new a.Tw2VertexElement;u.usage=e.ReadUInt8(),u.usageIndex=e.ReadUInt8(),u.fileType=e.ReadUInt8(),u.type=i.device.gl.FLOAT,u.elements=1+(u.fileType>>5),u.offset=4*o,t.elements[s]=u,o+=u.elements}t.RebuildHash(),t.stride=4*o;var c=e.ReadUInt32();if(0===c)return null;for(var f=new Float32Array(o*c),d=0,h=0;h<c;++h)for(var b=0;b<n;++b){var m=t.elements[b];switch(15&m.fileType){case 0:if(0!=(16&m.fileType))for(var p=0;p<m.elements;++p)f[d++]=e.ReadInt8()/127;else for(var v=0;v<m.elements;++v)f[d++]=e.ReadInt8();break;case 1:if(0!=(16&m.fileType))for(var g=0;g<m.elements;++g)f[d++]=e.ReadInt8()/32767;else for(var E=0;E<m.elements;++E)f[d++]=e.ReadInt16();break;case 2:for(var y=0;y<m.elements;++y)f[d++]=e.ReadInt32();break;case 3:for(var T=0;T<m.elements;++T)f[d++]=e.ReadFloat16();break;case 4:for(var w=0;w<m.elements;++w)f[d++]=e.ReadFloat32();break;case 8:if(0!=(16&m.fileType))for(var _=0;_<m.elements;++_)f[d++]=e.ReadUInt8()/255;else for(var S=0;S<m.elements;++S)f[d++]=e.ReadUInt8();break;case 9:if(0!=(16&m.fileType))for(var R=0;R<t.elements[b].elements;++R)f[d++]=e.ReadUInt8()/65535;else for(var j=0;j<m.elements;++j)f[d++]=e.ReadUInt16();break;case 10:for(var O=0;O<m.elements;++O)f[d++]=e.ReadUInt32();break;default:throw new l.ErrGeometryFileType({path:r,key:"fileType",value:15&m.fileType})}}return f}static ReadIndexBuffer(e){var t=e.ReadUInt8(),r=e.ReadUInt32();if(0===t){for(var i=new Uint16Array(r),n=0;n<r;++n)i[n]=e.ReadUInt16();return i}for(var a=new Uint32Array(r),o=0;o<r;++o)a[o]=e.ReadUInt32();return a}static ReadCurve(e){if(0===e.ReadUInt8())return null;var t=new s.Tw2GeometryCurve;t.dimension=e.ReadUInt8(),t.degree=e.ReadUInt8();var r=e.ReadUInt32();t.knots=new Float32Array(r);for(var i=0;i<r;++i)t.knots[i]=e.ReadFloat32();var n=e.ReadUInt32();t.controls=new Float32Array(n);for(var a=0;a<n;++a)t.controls[a]=e.ReadFloat32();return t}static black(e){return[]}}u.prototype.requestResponseType="arraybuffer"},"./core/resource/Tw2LoadingObject.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tw2LoadingObject",(function(){return s}));var i=r("./global/index.js"),n=r("./core/resource/Tw2Resource.js"),a=r("./core/reader/Tw2ObjectReader.js"),o=r("./core/reader/Tw2BlackReader.js"),l=r("./core/Tw2Error.js");class s extends n.Tw2Resource{constructor(...e){super(...e),this.path="",this._view=null,this._inPrepare=null,this._objects=[],this._constructor=null}AddObject(e,t){var r=this.GetLastError();r?t&&t(r):this._objects.push({onResolved:e,onRejected:t})}Prepare(e){var t=this.path.lastIndexOf(".");if(-1===t)return null;var r,i=this.path.substr(t+1);if(null===this._inPrepare){switch(this._view=e,i){case"red":this._constructor=new a.Tw2ObjectReader(e);break;case"black":this._constructor=new o.Tw2BlackReader(e);break;default:throw new l.ErrResourceExtensionUnregistered({extension:i})}this._inPrepare=0,r=this._constructor.Construct()}for(;this._inPrepare<this._objects.length;){var n=this._objects[this._inPrepare];try{r?(n.onResolved(r),r=null):n.onResolved(this._constructor.Construct())}catch(e){n.onRejected&&(n.onRejected(e),n.onRejected=null),this.OnWarning({err:e,message:"Error preparing child object"})}this._inPrepare++}this.OnPrepared()}OnError(e){super.OnError(e);for(var t=0;t<this._objects.length;t++)this._objects[t].onRejected&&this._objects[t].onRejected(e);return i.resMan.motherLode.Remove(this.path),this._objects.splice(0),e}OnPrepared(e){i.resMan.motherLode.Remove(this.path),this._objects.splice(0),super.OnPrepared(e)}}s.prototype.requestResponseType="arraybuffer"},"./core/resource/Tw2Resource.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tw2Resource",(function(){return l}));var i=r("./global/index.js"),n=r("./core/Tw2Error.js"),a=r("./global/util/index.js"),o=r("./global/class/Tw2Notifications.js");class l extends o.Tw2Notifications{constructor(...e){super(...e),this.path="",this.activeFrame=0,this.doNotPurge=0,this._state=l.State.NO_INIT,this._errors=[],this._requested=0}IsGood(){return this.KeepAlive(),this.IsPrepared()||this.IsLoaded()}IsRequested(){return this._state===l.State.REQUESTED}IsLoaded(){return this._state===l.State.LOADED}IsPrepared(){return this._state===l.State.PREPARED}IsUnloaded(){return this._state===l.State.UNLOADED}IsPurged(){return this._state===l.State.PURGED}HasErrors(){return this._state===l.State.ERROR}HasCompleted(){return this.HasErrors()||this.IsPurged()||this.IsPrepared()}Unload(e){return!1}Reload(e){(this.IsLoaded()||this.IsPrepared())&&this.Unload({hide:!0,detail:"reloading"}),(this.IsPurged()||this.IsUnloaded())&&i.resMan.LoadResource(this,e)}KeepAlive(){this.activeFrame=i.resMan.activeFrame,(this.IsPurged()||this.IsUnloaded())&&this.Reload({hide:!0,detail:"inuse"})}GetErrors(){return Array.from(this._errors)}GetLastError(){return this._errors[0]}OnWarning(e){i.resMan.OnPathEvent(this.path,"warning",e),this.UpdateNotifications(l.Callback.WARNING)}OnDebug(e){i.resMan.OnPathEvent(this.path,"debug",e),this.UpdateNotifications(l.Callback.DEBUG)}OnError(e=new n.Tw2Error){var t=this.IsLoaded()||this.IsPrepared();return this._errors.includes(e)||this._errors.unshift(e),this._SetState(l.State.ERROR),t&&this.Unload({hide:!0,detail:"errored"}),i.resMan.OnPathEvent(this.path,"error",e),this.UpdateNotifications(l.Callback.ERROR,e),e}OnRequested(e){var t=this._state===l.State.NO_INIT?"REQUESTED":"RELOADING";this._SetState(l.State.REQUESTED)&&(this._requested=Date.now(),i.resMan.OnPathEvent(this.path,t.toLowerCase(),e),this.UpdateNotifications(l.Callback[t]))}OnLoaded(e={}){this._SetState(l.State.LOADED)&&(e.time=.001*(Date.now()-this._requested),i.resMan.OnPathEvent(this.path,"loaded",e),this.UpdateNotifications(l.Callback.LOADED))}OnPrepared(e={}){this._SetState(l.State.PREPARED)&&(e.time=.001*(Date.now()-this._requested),i.resMan.OnPathEvent(this.path,"prepared",e),this.UpdateNotifications(l.Callback.PREPARED))}OnUnloaded(e){this._SetState(l.State.UNLOADED)&&(i.resMan.OnPathEvent(this.path,"unloaded",e),this.UpdateNotifications(l.Callback.UNLOADED))}OnPurged(e){this._SetState(l.State.PURGED),i.resMan.OnPathEvent(this.path,"purged",e),this.UpdateNotifications(l.Callback.PURGED,this.GetLastError())}_SetState(e){return this._state!==l.State.ERROR&&(this._state=e,!0)}RegisterCallbacks(e,t){if(this.KeepAlive(),e||t){this.RegisterNotification((function(r,i){return!!r.HasCompleted()&&(i?t&&t(i):e&&e(r),!0)}))}}static onNotification(e,t){var r,i;switch(e._state){case l.State.ERROR:r=l.Callback.ERROR,i=e.GetLastError();break;case l.State.REQUESTED:r=l.Callback.REQUESTED;break;case l.State.LOADED:r=l.Callback.LOADED;break;case l.State.PREPARED:r=l.Callback.PREPARED;break;case l.State.UNLOADED:r=l.Callback.UNLOADED;break;case l.State.PURGED:r=l.Callback.PURGED,i=e.GetLastError()}return Object(a.isFunction)(t)?!!t(e,i,r):!!(r&&r in t)&&!!t[r](e,i)}}l.__isResource=!0,l.State={ERROR:-3,PURGED:-2,UNLOADED:-1,NO_INIT:0,REQUESTED:1,LOADED:2,PREPARED:3},l.Callback={ERROR:"OnResError",PURGED:"OnResPurged",UNLOADED:"OnResUnloaded",REQUESTED:"OnResRequested",LOADED:"OnResLoaded",PREPARED:"OnResPrepared",WARNING:"OnResWarning",DEBUG:"OnResDebug"},l.prototype.DoCustomLoad=null,l.prototype.requestResponseType=null},"./core/resource/Tw2Shader.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tw2Shader",(function(){return s}));var i=r("./global/index.js"),n=r("./core/vertex/index.js"),a=r("./core/sampler/index.js"),o=r("./core/Tw2Error.js"),l=r("./core/resource/shaderOverrides.json");class s{constructor(e,t,r,o,l){function u(){for(var t=e.ReadUInt32(),i=t;r.charCodeAt(i);)++i;return r.substr(t,i-t)}this.techniques={},this.annotations={};var{wrapModes:c,gl:f}=i.device,d=1;t>6&&(d=e.ReadUInt8());for(var h=0;h<d;++h){var b={name:"Main",passes:[]};t>6&&(b.name=u()),this.techniques[b.name]=b;for(var m=e.ReadUInt8(),p=0;p<m;++p){for(var v={stages:[{},{}]},g=e.ReadUInt8(),E=!0,y=0;y<g;++y){var T={};T.inputDefinition=new n.Tw2VertexDeclaration,T.constants=[],T.textures=[],T.samplers=[];var w=e.ReadUInt8(),_=e.ReadUInt8();T.stageType=0===w?"vertex":"fragment";for(var S=0;S<_;++S){var R=e.ReadUInt8(),j=e.ReadUInt8(),O=e.ReadUInt8(),A=e.ReadUInt8();T.inputDefinition.elements[S]=n.Tw2VertexElement.from({usage:R,usageIndex:O,type:0,registerIndex:j,usedMask:A})}T.inputDefinition.RebuildHash();var z=void 0,P=void 0,C=void 0,D=void 0;if(t<5)z=e.ReadUInt32(),P=e.data.subarray(e.cursor,e.cursor+z),e.cursor+=z,C=e.ReadUInt32(),D=e.data.subarray(e.cursor,e.cursor+C),e.cursor+=C;else{z=e.ReadUInt32();var I=e.ReadUInt32();P=s.InspectShaderCode(r.substr(I,z),l),C=e.ReadUInt32(),I=e.ReadUInt32(),D=s.InspectShaderCode(r.substr(I,C),l),s.DEBUG_ENABLED&&(T.shaderCode=P,T.shadowShaderCode=D)}try{T.shader=s.CompileShader(w,"",P,l)}catch(e){throw console.group(),console.error(e.message),console.dir(T),console.groupEnd(),e}E?(T.shadowShader=0===C?s.CompileShader(w,"\n#define PS\n",P,l,!0):s.CompileShader(w,"",D,l,!0),null===T.shadowShader&&(E=!1)):T.shadowShader=null,t>=3&&(e.ReadUInt32(),e.ReadUInt32(),e.ReadUInt32()),T.constantSize=0;for(var x=e.ReadUInt32(),L=0;L<x;++L){var M={};if(M.name=u(),M.offset=e.ReadUInt32()/4,M.size=e.ReadUInt32()/4,M.type=e.ReadUInt8(),M.dimension=e.ReadUInt8(),M.elements=e.ReadUInt32(),M.isSRGB=e.ReadUInt8(),M.isAutoregister=e.ReadUInt8(),T.constants[L]=M,!s.ConstantIgnore.includes(M.name)){var F=M.offset+M.size;F>T.constantSize&&(T.constantSize=F)}}var G=e.ReadUInt32()/4;if(T.constantValues=new Float32Array(G),t<5)for(var k=0;k<G;++k)T.constantValues[k]=e.ReadFloat32();else{var N=e.ReadUInt32(),B=e.cursor;e.cursor=o+N;for(var U=0;U<G;++U)T.constantValues[U]=e.ReadFloat32();e.cursor=B}T.constantSize=Math.max(T.constantSize,G);for(var V=e.ReadUInt8(),H=0;H<V;++H){var q={};q.registerIndex=e.ReadUInt8(),q.name=u(),q.type=e.ReadUInt8(),q.isSRGB=e.ReadUInt8(),q.isAutoregister=e.ReadUInt8(),T.textures.push(q)}for(var W=e.ReadUInt8(),Y=0;Y<W;++Y){var X=new a.Tw2SamplerState;if(X.registerIndex=e.ReadUInt8(),X.name=t>=4?u():"",X._comparison=e.ReadUInt8(),X.minFilter=e.ReadUInt8(),X.magFilter=e.ReadUInt8(),X.mipFilter=e.ReadUInt8(),X.addressU=e.ReadUInt8(),X.addressV=e.ReadUInt8(),X.addressW=e.ReadUInt8(),X.mipLODBias=e.ReadFloat32(),X._maxAnisotropy=e.ReadUInt8(),X._comparisonFunc=e.ReadUInt8(),X._borderColor=i.quat.fromValues(e.ReadFloat32(),e.ReadFloat32(),e.ReadFloat32(),e.ReadFloat32()),X._minLOD=e.ReadFloat32(),X._maxLOD=e.ReadFloat32(),t<4&&e.ReadUInt8(),1===X.minFilter){switch(X.mipFilter){case 0:X.minFilter=f.NEAREST;break;case 1:X.minFilter=f.NEAREST_MIPMAP_NEAREST;break;default:X.minFilter=f.NEAREST_MIPMAP_LINEAR}X.minFilterNoMips=f.NEAREST}else{switch(X.mipFilter){case 0:X.minFilter=f.LINEAR;break;case 1:X.minFilter=f.LINEAR_MIPMAP_NEAREST;break;default:X.minFilter=f.LINEAR_MIPMAP_LINEAR}X.minFilterNoMips=f.LINEAR}X.magFilter=1===X.magFilter?f.NEAREST:f.LINEAR,X.addressU=c[X.addressU],X.addressV=c[X.addressV],X.addressW=c[X.addressW],3!==X.minFilter&&3!==X.magFilter&&3!==X.mipFilter||(X.anisotropy=Math.max(X.maxAnisotropy,1));for(var K=0;K<T.textures.length;++K)if(T.textures[K].registerIndex===X.registerIndex){X.samplerType=4===T.textures[K].type?f.TEXTURE_CUBE_MAP:f.TEXTURE_2D,X.isVolume=3===T.textures[K].type;break}X.ComputeHash(),T.samplers.push(X)}t>=3&&e.ReadUInt8(),t>7&&e.ReadUInt8(),v.stages[w]=T}v.states=[];for(var Q=e.ReadUInt8(),Z=0;Z<Q;++Z){var $=e.ReadUInt32(),J=e.ReadUInt32();v.states.push({state:$,value:J})}v.shaderProgram=s.CreateProgram(v.stages[0].shader,v.stages[1].shader,v,l),E?(v.shadowShaderProgram=s.CreateProgram(v.stages[0].shadowShader,v.stages[1].shadowShader,v,l,!0),null===v.shadowShaderProgram&&(v.shadowShaderProgram=v.shaderProgram)):v.shadowShaderProgram=v.shaderProgram,b.passes[p]=v}}for(var ee=e.ReadUInt16(),te=0;te<ee;++te){for(var re=u(),ie=[],ne=e.ReadUInt8(),ae=0;ae<ne;++ae)switch(ie[ae]={},ie[ae].name=u(),ie[ae].type=e.ReadUInt8(),ie[ae].type){case 0:ie[ae].value=0!==e.ReadUInt32();break;case 1:ie[ae].value=e.ReadInt32();break;case 2:ie[ae].value=e.ReadFloat32();break;default:ie[ae].value=u()}this.annotations[re]=ie}}ApplyPass(e,t){var r=i.device,n=r.gl;t=this.techniques[e].passes[t];for(var a=0;a<t.states.length;++a)r.SetRenderState(t.states[a].state,t.states[a].value);r.IsAlphaTestEnabled()?(n.useProgram(t.shadowShaderProgram.program),r.shadowHandles=t.shadowShaderProgram):(n.useProgram(t.shaderProgram.program),r.shadowHandles=null)}HasConstant(e){return this.constructor.Has(this.techniques,"constants",e)}HasTexture(e){return this.constructor.Has(this.techniques,"textures",e)}HasSampler(e){return this.constructor.Has(this.techniques,"samplers",e)}static Has(e,t,r){for(var i in e)if(e.hasOwnProperty(i))for(var n=e[i],a=0;a<n.passes.length;a++)for(var o=n.passes[a],l=0;l<o.stages.length;l++)for(var s=o.stages[l],u=0;u<s[t].length;u++)if(s[t][u].name===r)return!0;return!1}static CompileShader(e,t,r,n,a){var l=i.device.gl,s=l.createShader(0===e?l.VERTEX_SHADER:l.FRAGMENT_SHADER),u=i.device.GetExtension("CCP_shader_binary");if(u)u.shaderBinary(s,r);else{var c=t+(i.util.isString(r)?r:String.fromCharCode.apply(null,r));c=c.substr(0,c.length-1),l.shaderSource(s,c),l.compileShader(s)}if(!l.getShaderParameter(s,l.COMPILE_STATUS)){if(!a)throw new o.ErrShaderCompile({path:n,shaderType:0===e?"vertex":"fragment",infoLog:l.getShaderInfoLog(s)});return null}return s}static CreateProgram(e,t,r,a,l){var s=i.device.gl,u={};if(u.program=s.createProgram(),s.attachShader(u.program,e),s.attachShader(u.program,t),s.linkProgram(u.program),!s.getProgramParameter(u.program,s.LINK_STATUS)){if(!l)throw new o.ErrShaderLink({path:a,infoLog:s.getProgramInfoLog(u.program)});return null}s.useProgram(u.program),u.constantBufferHandles=[];for(var c=0;c<16;++c)u.constantBufferHandles[c]=s.getUniformLocation(u.program,"cb"+c);u.samplerHandles=[];for(var f=0;f<16;++f)u.samplerHandles[f]=s.getUniformLocation(u.program,"s"+f),s.uniform1i(u.samplerHandles[f],f);for(var d=0;d<16;++d)u.samplerHandles[d+12]=s.getUniformLocation(u.program,"vs"+d),s.uniform1i(u.samplerHandles[d+12],d+12);u.input=new n.Tw2VertexDeclaration;for(var h=0;h<r.stages[0].inputDefinition.elements.length;++h){var b="attr"+h,m=s.getAttribLocation(u.program,b);if(m>=0){var p=n.Tw2VertexElement.from({usage:r.stages[0].inputDefinition.elements[h].usage,usageIndex:r.stages[0].inputDefinition.elements[h].usageIndex,location:m,attr:b});u.input.elements.push(p)}}u.input.RebuildHash(),u.shadowStateInt=s.getUniformLocation(u.program,"ssi"),u.shadowStateFloat=s.getUniformLocation(u.program,"ssf"),u.shadowStateYFlip=s.getUniformLocation(u.program,"ssyf"),s.uniform3f(u.shadowStateYFlip,0,0,1),u.volumeSlices=[];for(var v=0;v<r.stages[1].samplers.length;++v)r.stages[1].samplers[v].isVolume&&(u.volumeSlices[r.stages[1].samplers[v].registerIndex]=s.getUniformLocation(u.program,"s"+r.stages[1].samplers[v].registerIndex+"sl"));return u}static InspectShaderCode(e,t){var r=t.substring(t.lastIndexOf("/")+1,t.lastIndexOf(".")).toLowerCase(),i=l[r];if(!i)return e;for(var n in i)i.hasOwnProperty(n)&&(e=e.replace(n,i[n]));return e}}s.ConstantIgnore=["PerFrameVS","PerObjectVS","PerFramePS","PerObjectPS"],s.DEBUG_ENABLED=!1},"./core/resource/Tw2TextureRes.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tw2TextureRes",(function(){return o}));var i=r("./core/resource/Tw2Resource.js"),n=r("./core/Tw2Error.js"),a=r("./global/index.js");class o extends i.Tw2Resource{constructor(...e){super(...e),this.texture=null,this.isCube=!1,this.width=0,this.height=0,this.hasMipMaps=!1,this._currentSampler=0,this._isAttached=!1,this._extension=""}Prepare(e){var t=a.device.gl,r="ccpGLFormat"in e?e.ccpGLFormat:t.RGBA;switch(this._extension){case"cube":this.texture=t.createTexture(),t.bindTexture(t.TEXTURE_CUBE_MAP,this.texture);var i=document.createElement("canvas");i.width=i.height=e.height;for(var l=i.getContext("2d"),s=0;s<6;++s)l.drawImage(e,s*i.width,0,i.width,i.height,0,0,i.width,i.height),t.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+s,0,r,r,t.UNSIGNED_BYTE,i);t.generateMipmap(t.TEXTURE_CUBE_MAP),t.bindTexture(t.TEXTURE_CUBE_MAP,null),this.width=i.width,this.height=i.height,this.hasMipMaps=!0;break;case"png":this.texture=t.createTexture(),t.bindTexture(t.TEXTURE_2D,this.texture),t.texImage2D(t.TEXTURE_2D,0,r,r,t.UNSIGNED_BYTE,e),this.hasMipMaps=o.IsPowerOfTwo(e.width)&&o.IsPowerOfTwo(e.height),this.hasMipMaps&&t.generateMipmap(t.TEXTURE_2D),t.bindTexture(t.TEXTURE_2D,null),this.width=e.width,this.height=e.height;break;case"dds":var u=a.device.GetExtension("compressed_texture_s3tc"),c=new Int32Array(e,0,a.DDS_HEADER_LENGTH_INT),f=c[a.DDS_HEADER_OFFSET_PF_FOURCC],d=c[a.DDS_HEADER_OFFSET_MAGIC]===a.DDS_MAGIC,h=(c[a.DDS_HEADER_OFFSET_CAPS2]&a.DDSCAPS2_CUBEMAP)===a.DDSCAPS2_CUBEMAP,b=c[a.DDS_HEADER_OFFSET_PF_FOURCC];if(!u)throw new n.ErrResourceFormat("Compressed textures not supported by your device");if(!d)throw new n.ErrResourceFormat("Invalid DDS, missing magic number");if(!f)throw new n.ErrResourceFormat("Invalid DDS, missing FourCC code");var m,p,v=c[a.DDS_HEADER_OFFSET_WIDTH],g=c[a.DDS_HEADER_OFFSET_HEIGHT],E=c[a.DDS_HEADER_OFFSET_SIZE]+4;switch(b){case a.FOURCC_DXT1:m=8,p=u.COMPRESSED_RGBA_S3TC_DXT1_EXT;break;case a.FOURCC_DXT3:m=16,p=u.COMPRESSED_RGBA_S3TC_DXT3_EXT;break;case a.FOURCC_DXT5:m=16,p=u.COMPRESSED_RGBA_S3TC_DXT5_EXT;break;default:var y=o.Int32ToFourCC(b);throw new n.ErrResourceFormat("Invalid DDS, ".concat(y," unsupported"))}if(this.hasMipMaps=!1,this.isCube=h,this.width=v,this.height=g,this.isCube)throw new n.ErrFeatureNotImplemented({feature:"DDS cube maps"});this.texture=t.createTexture(),t.bindTexture(t.TEXTURE_2D,this.texture);for(var T=0;T<1;++T){var w=Math.max(4,v)/4*Math.max(4,g)/4*m,_=new Uint8Array(e,E,w);t.compressedTexImage2D(t.TEXTURE_2D,T,p,v,g,0,_),E+=w,v*=.5,g*=.5}t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,t.LINEAR),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t.LINEAR),t.bindTexture(t.TEXTURE_2D,null);break;default:throw new n.ErrResourceFormat("Invalid format, ".concat(this._extension," unsupported"))}this._isAttached=!1,this.OnPrepared()}DoCustomLoad(e,t){switch(t){case"cube":this._extension=t,this.isCube=!0,e=e.substr(0,e.length-5)+".png";break;case"png":this._extension=t,this.isCube=!1;break;case"dds":return this._extension=t,a.resMan.Fetch(o.AddMipLevelSkipCount(e),"arraybuffer").then(e=>{this.OnLoaded(),a.resMan.Queue(this,e)}).catch(e=>{this.OnError(e)}),!0;default:throw new n.ErrResourceExtensionUnregistered({path:e,extension:t})}a.resMan.AddPendingLoad(e);var r=new Image;return r.crossOrigin="anonymous",r.onerror=()=>{a.resMan.RemovePendingLoad(e),this.OnError(new n.ErrHTTPRequest({path:e}))},r.onload=()=>{a.resMan.RemovePendingLoad(e),a.resMan.Queue(this,r),this.OnLoaded()},r.src=o.AddMipLevelSkipCount(e),!0}Unload(e){return this.texture&&(a.device.gl.deleteTexture(this.texture),this.texture=null),this._extension=null,this._isAttached=!1,this.OnUnloaded(e),!0}Attach(e){this.path="",this.texture=e,this._extension=null,this._isAttached=!0,this.OnLoaded({hide:!0,path:"attachment"}),this.OnPrepared({hide:!0,path:"attachment"})}Reload(e){if(!this._isAttached)return super.Reload(e)}Bind(e,t){var r=a.device,i=r.gl;this.KeepAlive();var n=e.samplerType;if(n===(this.isCube?i.TEXTURE_CUBE_MAP:i.TEXTURE_2D))if(this.texture)e.isVolume&&i.uniform1f(t,this.height/this.width),i.bindTexture(n,this.texture),e.hash!==this._currentSampler&&(e.Apply(r,this.hasMipMaps),this._currentSampler=e.hash);else{var o=n===i.TEXTURE_2D?r.GetFallbackTexture():r.GetFallbackCubeMap();i.bindTexture(n,o)}}static IsPowerOfTwo(e){return 0==(e&e-1)}static AddMipLevelSkipCount(e){var t=a.device;if(t.mipLevelSkipCount>0){var r=e.lastIndexOf(".");r>=0&&(e=e.substr(0,r-2)+"."+t.mipLevelSkipCount.toString()+e.substr(r))}return e}static Int32ToFourCC(e){return String.fromCharCode(255&e,e>>8&255,e>>16&255,e>>24&255)}static CreateImageFrom2DTexture(e,t=512,r=512,i=a.device.gl.RGBA){var n=a.device.gl,o=n.createFramebuffer();n.bindFramebuffer(n.FRAMEBUFFER,o),n.framebufferTexture2D(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0,n.TEXTURE_2D,e,0);var l=new Uint8Array(t*r*4);n.readPixels(0,0,t,r,n.RGBA,n.UNSIGNED_BYTE,l),n.deleteFramebuffer(o);var s=document.createElement("canvas");s.width=t,s.height=r;var u=s.getContext("2d"),c=u.createImageData(t,r);c.data.set(l),u.putImageData(c,0,0);var f=new Image;return f.src=s.toDataURL(),f}}},"./core/resource/Tw2VideoRes.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tw2VideoRes",(function(){return o}));var i=r("./global/index.js"),n=r("./core/resource/Tw2Resource.js"),a=r("./core/Tw2Error.js");class o extends n.Tw2Resource{constructor(...e){super(...e),this.texture=null,this.video=null,this.width=0,this.height=0,this.cycle=!0,this.playOnLoad=!0,this._currentSampler=0,this._currentTime=-1,this._playable=!1,this._isPlaying=!1,this._onPlaying=null,this._onPause=null,this._onEnded=null}IsGood(){return this.KeepAlive(),super.IsGood()&&this.video&&this._playable}KeepAlive(){this.activeFrame=i.resMan.activeFrame}Play(e=!1,t=null){this.cycle=e,this._onEnded=t,this.video&&this._playable?(this.video.loop=this.cycle,this.video.play()):this.playOnLoad=!0}Pause(){this.video?this.video.pause():this.playOnLoad=!1}Prepare(e){var t=i.device.gl;switch(this._extension){case"mp4":case"webm":case"ogg":this.texture=t.createTexture(),t.bindTexture(t.TEXTURE_2D,this.texture),t.texImage2D(t.TEXTURE_2D,0,t.RGBA,t.RGBA,t.UNSIGNED_BYTE,this.video),t.bindTexture(t.TEXTURE_2D,null),this.width=this.video.width,this.height=this.video.height,this.video.loop=this.cycle,this.playOnLoad&&this.video.play();break;default:throw new a.ErrResourceExtensionUnregistered({path:this.path,extension:this._extension})}this.OnPrepared()}DoCustomLoad(e,t){switch(t){case"mp4":case"webm":case"ogg":this._extension=t;break;default:throw new a.ErrResourceExtensionUnregistered({path:e,extension:t})}return i.resMan.AddPendingLoad(e),this.video=document.createElement("video"),this.video.crossOrigin="anonymous",this.video.muted=!0,this.video.onerror=()=>{i.resMan.RemovePendingLoad(e),this.video=null,this.OnError(new a.ErrHTTPRequest({path:e}))},this.video.oncanplay=()=>{this._playable=!0,this.video.oncanplay=null,i.resMan.RemovePendingLoad(e),i.resMan.Queue(this,void 0,t),this.OnLoaded()},this.video.onended=()=>{this._isPlaying=!1,this._onEnded&&this._onEnded(this)},this.video.onpause=()=>{this._isPlaying=!1,this._onPause&&this._onPause(this)},this.video.onplaying=()=>{this._isPlaying=!0,this._onPlaying&&this._onPlaying(this)},this.video.src=e,!0}Unload(e){return this.texture&&(i.device.gl.deleteTexture(this.texture),this.texture=null),this._extension=null,this._isPlaying=!1,this._playable=!1,this.playOnLoad=!0,this.video=null,this.OnUnloaded(e),!0}Bind(e){var t=i.device,r=t.gl;this.KeepAlive();var n=e.samplerType;n===r.TEXTURE_2D&&(this.texture?(this._currentTime=this.video.currentTime,r.bindTexture(r.TEXTURE_2D,this.texture),r.texImage2D(r.TEXTURE_2D,0,r.RGBA,r.RGBA,r.UNSIGNED_BYTE,this.video),r.bindTexture(r.TEXTURE_2D,null),r.bindTexture(n,this.texture),e.hash!==this._currentSampler&&(e.Apply(t,!1),this._currentSampler=e.hash)):r.bindTexture(r.TEXTURE_2D,t.GetFallbackTexture()))}}},"./core/resource/index.js":function(e,t,r){"use strict";r.r(t);var i=r("./core/resource/Tw2EffectRes.js");r.d(t,"Tw2EffectRes",(function(){return i.Tw2EffectRes}));var n=r("./core/resource/Tw2GeometryRes.js");r.d(t,"Tw2GeometryRes",(function(){return n.Tw2GeometryRes}));var a=r("./core/resource/Tw2LoadingObject.js");r.d(t,"Tw2LoadingObject",(function(){return a.Tw2LoadingObject}));var o=r("./core/resource/Tw2Resource.js");r.d(t,"Tw2Resource",(function(){return o.Tw2Resource}));var l=r("./core/resource/Tw2Shader.js");r.d(t,"Tw2Shader",(function(){return l.Tw2Shader}));var s=r("./core/resource/Tw2TextureRes.js");r.d(t,"Tw2TextureRes",(function(){return s.Tw2TextureRes}));var u=r("./core/resource/Tw2VideoRes.js");r.d(t,"Tw2VideoRes",(function(){return u.Tw2VideoRes}))},"./core/resource/shaderOverrides.json":function(e){e.exports=JSON.parse('{"blinkinglightspool":{"r0.xy=r0.xx*c[0+a0.x].xy;":"if(a0.x==0){r0.xy=r0.xx*c[0].xy;}else if(a0.x==1){r0.xy=r0.xx*c[1].xy;}else if(a0.x==2){r0.xy=r0.xx*c[2].xy;}else if(a0.x==3){r0.xy=r0.xx*c[3].xy;}else if(a0.x==4){r0.xy=r0.xx*c[4].xy;}","texcoord=r3.zzww*c[0+a0.x].zwzz;":"if(a0.x==0){texcoord=r3.zzww*c[0].zwzz;}else if(a0.x==1){texcoord=r3.zzww*c[1].zwzz;}else if(a0.x==2){texcoord=r3.zzww*c[2].zwzz;}else if(a0.x==3){texcoord=r3.zzww*c[3].zwzz;}else if(a0.x==4){texcoord=r3.zzww*c[4].zwzz;}"},"boostervolumetric":{"for(int i=0;i<i0.x;++i){":"for(int i=0;i<12;++i){"},"fxarmorimpactv5":{"for(int i=0;i<i0.x;++i){":"for(int i=0;i<255;++i){"},"flarequad":{"r1.xyz=r0.zzw*c[0+a0.x].xyx;":"if(a0.x==0){r1.xyz=r0.zzw*c[0].xyx;}else if(a0.x==1){r1.xyz=r0.zzw*c[1].xyx;}else if(a0.x==2){r1.xyz=r0.zzw*c[2].xyx;}else if (a0.x==3){r1.xyz=r0.zzw*c[3].xyx;}else if(a0.x==4){r1.xyz=r0.zzw*c[4].xyx;}else if(a0.x==5){r1.xyz=r0.zzw*c[5].xyx;}","texcoord.xyw=r0.zzw*c[0+a0.x].zwz;":"if(a0.x==0){texcoord.xyw=r0.zzw*c[0].zwz;}else if(a0.x==1){texcoord.xyw=r0.zzw*c[1].zwz;}else if(a0.x==2){texcoord.xyw=r0.zzw*c[2].zwz;}else if(a0.x==3){texcoord.xyw=r0.zzw*c[3].zwz;}else if(a0.x==4){texcoord.xyw=r0.zzw*c[4].zwz;}else if(a0.x==5){texcoord.xyw=r0.zzw*c[5].zwz;}","r0.x=saturate(sqrt(abs(r0.x)));":"r0.x=clamp(sqrt(abs(r0.x)),0.0,1.0);"}}')},"./core/sampler/Tw2SamplerOverride.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tw2SamplerOverride",(function(){return D}));var i,n,a,o,l,s,u,c,f,d,h,b,m,p,v,g,E,y,T,w,_,S,R,j,O=r("./global/index.js"),A=r("./core/sampler/Tw2SamplerState.js");function z(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function P(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var C={NONE:0,REPEAT:1,MIRRORED_REPEAT:2,CLAMP_TO_EDGE:3},D=(i=O.meta.type("Tw2SamplerOverride"),n=O.meta.string,a=O.meta.enumerable(C,3),o=O.meta.enumerable(C,3),l=O.meta.enumerable(C,3),s=O.meta.enumerable({NEAREST:0,LINEAR:1},2),u=O.meta.enumerable({NONE:0,MIPMAP_NEAREST:1,MIPMAP_LINEAR:2},2),c=O.meta.notImplemented,f=O.meta.uint,d=O.meta.uint,h=O.meta.uint,b=O.meta.boolean,i((v=P((p=class{constructor(){z(this,"name",v,this),z(this,"addressU",g,this),z(this,"addressV",E,this),z(this,"addressW",y,this),z(this,"filter",T,this),z(this,"mipFilter",w,this),z(this,"lodBias",_,this),z(this,"maxMipLevel",S,this),z(this,"maxAnisotropy",R,this),z(this,"forceAddressModes",j,this),this._sampler=null,this._isDirty=!0}UpdateValues(){this._isDirty=!0}GetSampler(e,t){if(this._isDirty)this._isDirty=!1;else if(this._sampler)return this._sampler;this._sampler=new A.Tw2SamplerState;var r=this._sampler;r.registerIndex=t.registerIndex,r.name=t.name,r.forceAddressModes=this.forceAddressModes;var{wrapModes:i,gl:n}=e;if(1===this.filter){switch(this.mipFilter){case 0:r.minFilter=n.NEAREST;break;case 1:r.minFilter=n.NEAREST_MIPMAP_NEAREST;break;default:r.minFilter=n.NEAREST_MIPMAP_LINEAR}r.minFilterNoMips=n.NEAREST,r.magFilter=n.NEAREST}else{switch(this.mipFilter){case 0:r.minFilter=n.LINEAR;break;case 1:r.minFilter=n.LINEAR_MIPMAP_NEAREST;break;default:r.minFilter=n.LINEAR_MIPMAP_LINEAR}r.minFilterNoMips=n.LINEAR,r.magFilter=n.LINEAR}return 3!==this.filter&&3!==this.mipFilter||(r.anisotropy=Math.max(this.maxAnisotropy,1)),r.addressU=i[this.addressU],r.addressV=i[this.addressV],r.addressW=i[this.addressW],r.samplerType=t.samplerType,r.isVolume=t.isVolume,r.ComputeHash(),r}}).prototype,"name",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),g=P(p.prototype,"addressU",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),E=P(p.prototype,"addressV",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),y=P(p.prototype,"addressW",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),T=P(p.prototype,"filter",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),w=P(p.prototype,"mipFilter",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),_=P(p.prototype,"lodBias",[c,f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),S=P(p.prototype,"maxMipLevel",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),R=P(p.prototype,"maxAnisotropy",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),j=P(p.prototype,"forceAddressModes",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),m=p))||m)},"./core/sampler/Tw2SamplerState.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tw2SamplerState",(function(){return G}));var i,n,a,o,l,s,u,c,f,d,h,b,m,p,v,g,E,y,T,w,_,S,R,j,O,A,z,P,C,D,I,x,L=r("./global/index.js");function M(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function F(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var G=(i=L.meta.type("Tw2SamplerState"),n=L.meta.string,a=L.meta.uint,o=L.meta.uint,l=L.meta.uint,s=L.meta.uint,u=L.meta.uint,c=L.meta.uint,f=L.meta.uint,d=L.meta.uint,h=L.meta.uint,b=L.meta.uint,m=L.meta.boolean,p=L.meta.uint,v=L.meta.isPrivate,g=L.meta.boolean,i((T=F((y=class{constructor(){M(this,"name",T,this),M(this,"registerIndex",w,this),M(this,"minFilter",_,this),M(this,"maxFilter",S,this),M(this,"magFilter",R,this),M(this,"minFilterNoMips",j,this),M(this,"addressU",O,this),M(this,"addressV",A,this),M(this,"addressW",z,this),M(this,"anisotropy",P,this),M(this,"samplerType",C,this),M(this,"isVolume",D,this),M(this,"hash",I,this),M(this,"forceAddressModes",x,this),this._borderColor=null,this._comparison=null,this._comparisonFunc=null,this._mipLODBias=null,this._minLOD=null,this._maxLOD=null}get filterMode(){return this.minFilterNoMips in L.FilterMode?L.FilterMode[this.minFilterNoMips]:2}get mipFilterMode(){return this.minFilter in L.MipFilterMode?L.MipFilterMode[this.minFilter]:2}ComputeHash(){this.hash=2166136261,this.hash*=16777619,this.hash^=this.minFilter,this.hash*=16777619,this.hash^=this.maxFilter,this.hash*=16777619,this.hash^=this.addressU,this.hash*=16777619,this.hash^=this.addressV,this.hash*=16777619,this.hash^=this.anisotropy,this.hash+=this.forceAddressModes?1:0}Apply(e,t){var r=this.samplerType,i=e.gl,n=e.GetExtension("EXT_texture_filter_anisotropic"),a=t||this.forceAddressModes;i.texParameteri(r,i.TEXTURE_WRAP_S,a?this.addressU:i.CLAMP_TO_EDGE),i.texParameteri(r,i.TEXTURE_WRAP_T,a?this.addressV:i.CLAMP_TO_EDGE),i.texParameteri(r,i.TEXTURE_MIN_FILTER,t?this.minFilter:this.minFilterNoMips),i.texParameteri(r,i.TEXTURE_MAG_FILTER,this.magFilter),n&&e.enableAnisotropicFiltering&&i.texParameterf(r,n.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(this.anisotropy,n.maxAnisotropy))}}).prototype,"name",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),w=F(y.prototype,"registerIndex",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),_=F(y.prototype,"minFilter",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return L.GL_LINEAR}}),S=F(y.prototype,"maxFilter",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return L.GL_LINEAR}}),R=F(y.prototype,"magFilter",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return L.GL_LINEAR}}),j=F(y.prototype,"minFilterNoMips",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return L.GL_LINEAR}}),O=F(y.prototype,"addressU",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return L.GL_REPEAT}}),A=F(y.prototype,"addressV",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return L.GL_REPEAT}}),z=F(y.prototype,"addressW",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return L.GL_REPEAT}}),P=F(y.prototype,"anisotropy",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),C=F(y.prototype,"samplerType",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return L.GL_TEXTURE_2D}}),D=F(y.prototype,"isVolume",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),I=F(y.prototype,"hash",[p,v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),x=F(y.prototype,"forceAddressModes",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),E=y))||E)},"./core/sampler/index.js":function(e,t,r){"use strict";r.r(t);var i=r("./core/sampler/Tw2SamplerState.js");r.d(t,"Tw2SamplerState",(function(){return i.Tw2SamplerState}));var n=r("./core/sampler/Tw2SamplerOverride.js");r.d(t,"Tw2SamplerOverride",(function(){return n.Tw2SamplerOverride}))},"./core/value/Tw2Float.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tw2Float",(function(){return p}));var i,n,a,o,l,s,u=r("./global/index.js");var c,f,d,h,b,m,p=(i=u.meta.type("Tw2Float","TriFloat"),n=u.meta.black.float,i((s=class extends u.Tw2BaseClass{constructor(...e){var t,r,i,n;super(...e),t=this,r="value",n=this,(i=l)&&Object.defineProperty(t,r,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}},c=(o=s).prototype,f="value",d=[n],h={configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}},m={},Object.keys(h).forEach((function(e){m[e]=h[e]})),m.enumerable=!!m.enumerable,m.configurable=!!m.configurable,("value"in m||m.initializer)&&(m.writable=!0),m=d.slice().reverse().reduce((function(e,t){return t(c,f,e)||e}),m),b&&void 0!==m.initializer&&(m.value=m.initializer?m.initializer.call(b):void 0,m.initializer=void 0),void 0===m.initializer&&(Object.defineProperty(c,f,m),m=null),l=m,a=o))||a)},"./core/value/index.js":function(e,t,r){"use strict";r.r(t);var i=r("./core/value/Tw2Float.js");r.d(t,"Tw2Float",(function(){return i.Tw2Float}))},"./core/vertex/Tw2VertexDeclaration.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tw2VertexDeclaration",(function(){return m}));var i,n,a,o,l,s,u,c,f=r("./global/index.js"),d=r("./core/vertex/Tw2VertexElement.js");function h(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function b(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var m=(i=f.meta.type("Tw2VertexDeclaration"),n=f.meta.listOf("Tw2VertexElement"),a=f.meta.listOf("Tw2VertexElement"),o=f.meta.isPrivate,i((u=b((s=class e{constructor(){h(this,"elements",u,this),h(this,"elementsSorted",c,this)}UpdateValues(){this.RebuildHash()}Clear(){this.elements.splice(0,this.elements.length),this.RebuildHash()}SetStride(e){return this.stride=e,this}RebuildHash(){this.elementsSorted.splice(0,this.elementsSorted.length);for(var t=0;t<this.elements.length;++t)this.elementsSorted.push(this.elements[t]);this.elementsSorted.sort(e.CompareDeclarationElements)}FindUsage(e,t){for(var r=0;r<this.elementsSorted.length;++r){var i=this.elementsSorted[r];if(i.usage===e){if(i.usageIndex===t)return i;if(i.usageIndex>t)return null}if(i.usage>e)return null}return null}SetDeclaration(t,r,i){for(var n=t.gl,a=0,o=0;o<r.elementsSorted.length;++o){var l=r.elementsSorted[o];if(!(l.location<0))for(;;){if(a>=this.elementsSorted.length){n.disableVertexAttribArray(l.location),n.vertexAttrib4f(l.location,0,0,0,0);break}var s=this.elementsSorted[a],u=e.CompareDeclarationElements(s,l);if(u>0){n.disableVertexAttribArray(l.location),n.vertexAttrib4f(l.location,0,0,0,0);break}if(0===u){s.customSetter?s.customSetter(l):(n.enableVertexAttribArray(l.location),n.vertexAttribPointer(l.location,s.elements,s.type,!1,i,s.offset));break}a++}}return!0}SetPartialDeclaration(t,r,i,n,a){for(var o=t.gl,l=[],s=0,u=0;u<r.elementsSorted.length;++u){var c=r.elementsSorted[u];if(!(c.location<0))for(;;){var f=this.elementsSorted[s],d=e.CompareDeclarationElements(f,c,n);if(0===d){f.customSetter?f.customSetter(c):(o.enableVertexAttribArray(c.location),o.vertexAttribPointer(c.location,f.elements,f.type,!1,i,f.offset),o.vertexAttribDivisor(c.location,a),a&&l.push(c.location));break}if(d>0){a||(o.disableVertexAttribArray(c.location),o.vertexAttrib4f(c.location,0,0,0,0));break}if(++s>=this.elementsSorted.length)return a||(o.disableVertexAttribArray(c.location),o.vertexAttrib4f(c.location,0,0,0,0)),l}}return l}ResetInstanceDivisors(e,t){if(t)for(var r=0;r<t.length;++r)e.gl.vertexAttribDivisor(t[r],0)}static CompareDeclarationElements(e,t,r=0){return e.usage<t.usage?-1:e.usage>t.usage?1:e.usageIndex+r<t.usageIndex?-1:e.usageIndex+r>t.usageIndex?1:0}static from(t,r){var i=new e;if(t){for(var n=0,a=0;a<t.length;a++)t[a].offset=n,i.elements.push(d.Tw2VertexElement.from(t[a])),n+=4*t[a].elements;r&&r.skipUpdate||i.RebuildHash()}return i}}).prototype,"elements",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),c=b(s.prototype,"elementsSorted",[a,o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),l=s))||l)},"./core/vertex/Tw2VertexElement.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tw2VertexElement",(function(){return S}));var i,n,a,o,l,s,u,c,f,d,h,b,m,p,v,g,E,y=r("./global/index.js"),T=r("./global/engine/Tw2Constant.js");function w(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function _(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var S=(i=y.meta.type("Tw2VertexElement"),n=y.meta.uint,a=y.meta.uint,o=y.meta.uint,l=y.meta.uint,s=y.meta.uint,u=y.meta.uint,i((E=g=class e{constructor(){this.customSetter=null,w(this,"elements",d,this),w(this,"location",h,this),w(this,"offset",b,this),w(this,"type",m,this),w(this,"usage",p,this),w(this,"usageIndex",v,this),this._registerIndex=null,this._usedMask=null,this._attr=null}get string(){return e.TypeMap[this.usage]||"UNKNOWN"}static from(t){var r=new e;if(t){var{usage:i,usageIndex:n}=t;r.usage=y.util.isString(i)?this.Type[i.toUpperCase()]:i,r.usageIndex=n;var{elements:a=null,offset:o=0,location:l=null,customSetter:s=null}=t;r.offset=o,r.elements=a,r.location=l,r.customSetter=s;var{type:u=y.GL_FLOAT}=t;if(y.util.isString(u)&&("GL_"!==u.substring(0,3)&&(u="GL_"+u),void 0===(u=T[u])))throw new ReferenceError("Invalid gl type: ".concat(u));r.type=u;var{registerIndex:c=null,usedMask:f=null,attr:d=null}=t;r._registerIndex=c,r._usedMask=f,r._attr=d}return r}},g.Type={POSITION:0,COLOR:1,NORMAL:2,TANGENT:3,BINORMAL:4,TEXCOORD:5,BLENDWEIGHT:6,BLENDINDICES:7},g.TypeMap=["POSITION","COLOR","NORMAL","TANGENT","BINORMAL","TEXCOORD","BLENDWEIGHT","BLENDINDICES"],d=_((f=E).prototype,"elements",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),h=_(f.prototype,"location",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),b=_(f.prototype,"offset",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),m=_(f.prototype,"type",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),p=_(f.prototype,"usage",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return-1}}),v=_(f.prototype,"usageIndex",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),c=f))||c)},"./core/vertex/index.js":function(e,t,r){"use strict";r.r(t);var i=r("./core/vertex/Tw2VertexDeclaration.js");r.d(t,"Tw2VertexDeclaration",(function(){return i.Tw2VertexDeclaration}));var n=r("./core/vertex/Tw2VertexElement.js");r.d(t,"Tw2VertexElement",(function(){return n.Tw2VertexElement}))},"./curve/Tw2CurveSet.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tw2CurveSet",(function(){return O}));var i,n,a,o,l,s,u,c,f,d,h,b,m,p,v,g,E,y,T,w,_,S=r("./global/index.js");function R(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function j(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var O=(i=S.meta.type("Tw2CurveSet","TriCurveSet"),n=S.meta.black.string,a=S.meta.black.listOf("Tw2ValueBinding"),o=S.meta.black.listOf("Tw2Curve"),l=S.meta.black.boolean,s=S.meta.notImplemented,u=S.meta.black.listOf("TriCurveSetRange"),c=S.meta.black.float,f=S.meta.notImplemented,d=S.meta.float,i((_=class extends S.Tw2BaseClass{constructor(...e){super(...e),R(this,"name",m,this),R(this,"bindings",p,this),R(this,"curves",v,this),R(this,"playOnLoad",g,this),R(this,"ranges",E,this),R(this,"scale",y,this),R(this,"useSimTimeRebase",T,this),R(this,"scaledTime",w,this),this._isPlaying=!1}Initialize(){this.playOnLoad&&this.Play()}Play(){this._isPlaying=!0,this.scaledTime=0}PlayFrom(e=0){this._isPlaying=!0,this.scaledTime=e*this.scale}Stop(){this._isPlaying=!1}Update(e){if(this._isPlaying){this.scaledTime+=e*this.scale;for(var t=0;t<this.curves.length;++t)this.curves[t].UpdateValue(this.scaledTime);for(var r=0;r<this.bindings.length;++r)this.bindings[r].CopyValue()}}GetRangeByName(e){for(var t=0;t<this.ranges.length;t++)if(this.ranges[t].name===e)return this.ranges[t];return null}GetMaxCurveDuration(){for(var e=0,t=0;t<this.curves.length;++t)"GetLength"in this.curves[t]&&(e=Math.max(e,this.curves[t].GetLength()));return e}},m=j((b=_).prototype,"name",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),p=j(b.prototype,"bindings",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),v=j(b.prototype,"curves",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),g=j(b.prototype,"playOnLoad",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),E=j(b.prototype,"ranges",[s,u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),y=j(b.prototype,"scale",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),T=j(b.prototype,"useSimTimeRebase",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),w=j(b.prototype,"scaledTime",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),h=b))||h)},"./curve/Tw2ValueBinding.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tw2ValueBinding",(function(){return O}));var i,n,a,o,l,s,u,c,f,d,h,b,m,p,v,g,E,y,T=r("./global/index.js"),w=r("./core/parameter/index.js"),_=r("./global/util/index.js"),S=r("./core/Tw2Error.js");function R(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function j(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var O=(i=T.meta.type("Tw2ValueBinding","TriValueBinding"),n=T.meta.black.string,a=T.meta.black.string,o=T.meta.black.object,l=T.meta.black.vector4,s=T.meta.black.float,u=T.meta.black.string,c=T.meta.black.object,i((y=class e extends T.Tw2BaseClass{constructor(...e){super(...e),R(this,"name",h,this),R(this,"destinationAttribute",b,this),R(this,"destinationObject",m,this),R(this,"offset",p,this),R(this,"scale",v,this),R(this,"sourceAttribute",g,this),R(this,"sourceObject",E,this),this._copyFunc=null,this._destinationElement=null,this._destinationIsArray=null,this._destinationIsRGBA=null,this._sourceElement=null,this._sourceIsArray=null,this._sourceIsRGBA=null}Initialize(){this.UpdateValues()}OnValueChanged(){if(null===this._copyFunc&&this.sourceObject&&""!==this.sourceAttribute&&this.destinationObject&&""!==this.destinationAttribute){var t=!1,r=!1,i=this.sourceAttribute.substr(-2);".x"===i||".r"===i?(t=!0,this._sourceElement=0,this.sourceAttribute=this.sourceAttribute.substr(0,this.sourceAttribute.length-2),this._sourceIsRGBA=".r"===i):".y"===i||".g"===i?(t=!0,this._sourceElement=1,this.sourceAttribute=this.sourceAttribute.substr(0,this.sourceAttribute.length-2),this._sourceIsRGBA=".g"===i):".z"===i||".b"===i?(t=!0,this._sourceElement=2,this.sourceAttribute=this.sourceAttribute.substr(0,this.sourceAttribute.length-2),this._sourceIsRGBA=".b"===i):".w"===i||".a"===i?(t=!0,this._sourceElement=3,this.sourceAttribute=this.sourceAttribute.substr(0,this.sourceAttribute.length-2),this._sourceIsRGBA=".a"===i):this.sourceObject instanceof w.Tw2Vector4Parameter&&("v1"===this.sourceAttribute?(t=!0,this._sourceElement=0,this.sourceAttribute="value"):"v2"===this.sourceAttribute?(t=!0,this._sourceElement=1,this.sourceAttribute="value"):"v3"===this.sourceAttribute?(t=!0,this._sourceElement=2,this.sourceAttribute="value"):"v4"===this.sourceAttribute&&(t=!0,this._sourceElement=3,this.sourceAttribute="value"));var n=this.destinationAttribute.substr(-2);".x"===n||".r"===n?(r=!0,this._destinationElement=0,this.destinationAttribute=this.destinationAttribute.substr(0,this.destinationAttribute.length-2),this._destinationIsRGBA=".r"===n):".y"===n||".g"===n?(r=!0,this._destinationElement=1,this.destinationAttribute=this.destinationAttribute.substr(0,this.destinationAttribute.length-2),this._destinationIsRGBA=".g"===n):".z"===n||".b"===n?(r=!0,this._destinationElement=2,this.destinationAttribute=this.destinationAttribute.substr(0,this.destinationAttribute.length-2),this._destinationIsRGBA=".b"===n):".w"===n||".a"===n?(r=!0,this._destinationElement=3,this.destinationAttribute=this.destinationAttribute.substr(0,this.destinationAttribute.length-2),this._destinationIsRGBA=".a"===n):this.destinationObject instanceof w.Tw2Vector4Parameter&&("v1"===this.destinationAttribute?(r=!0,this._destinationElement=0,this.destinationAttribute="value"):"v2"===this.destinationAttribute?(r=!0,this._destinationElement=1,this.destinationAttribute="value"):"v3"===this.destinationAttribute?(r=!0,this._destinationElement=2,this.destinationAttribute="value"):"v4"===this.destinationAttribute&&(r=!0,this._destinationElement=3,this.destinationAttribute="value"));var a=this.sourceObject[this.sourceAttribute],o=this.destinationObject[this.destinationAttribute];if(void 0===a)throw new S.ErrBindingValueUndefined({name:this.name,object:"source",property:this.sourceAttribute});if(void 0===o)throw new S.ErrBindingValueUndefined({name:this.name,object:"destination",property:this.destinationAttribute});var l,s=this._sourceIsArray=Object(_.isArrayLike)(a),u=this._destinationIsArray=Object(_.isArrayLike)(o),c=e;if(s===u&&typeof a==typeof o?s?t?l=r?c.CopyElementToElement:c.ReplicateElement:a.length<=o.length?l=c.CopyArray:16===a.length&&(l=c.ExtractPos):l=c.CopyValueToValue:s&&t&&Object(_.isNumber)(o)?l=c.CopyElementToValue:u&&Object(_.isNumber)(a)?l=r?c.CopyValueToElement:c.ReplicateValue:Object(_.isNumber)(a)&&Object(_.isBoolean)(o)?l=c.CopyFloatToBoolean:Object(_.isBoolean)(a)&&Object(_.isNumber)(o)&&(l=c.CopyBooleanToFloat),!l)throw new S.ErrBindingType({name:this.name});this._copyFunc=l}}CopyValue(e=this){this._copyFunc&&(this._copyFunc(this),"UpdateValues"in this.destinationObject?this.destinationObject.UpdateValues({controller:e}):"OnValueChanged"in this.destinationObject&&this.destinationObject.OnValueChanged({controller:e}))}GetDestinationTarget(){return this._copyFunc?this.constructor.GetAttribute(this.destinationObject,this.destinationAttribute,this._destinationElement,this._destinationIsRGBA):this.destinationAttribute}GetSourceTarget(){return this._copyFunc?this.constructor.GetAttribute(this.sourceObject,this.sourceAttribute,this._sourceElement,this._sourceIsRGBA):this.sourceAttribute}SetSource(e,t,r,i){var{object:n,attribute:a}=this.constructor.GetTargets(e,t,r,i);this.sourceObject=n,this.sourceAttribute=a,this._copyFunc=null}SetDestination(e,t,r,i){var{object:n,attribute:a}=this.constructor.GetTargets(e,t,r,i);this.destinationObject=n,this.destinationAttribute=a,this._copyFunc=null}static GetAttribute(e,t,r,i){if(e instanceof w.Tw2Vector4Parameter&&"value"===t)switch(r){case 0:return"v0";case 1:return"v1";case 2:return"v2";case 3:return"v4";default:return t}switch(r){case 0:return t+i?".r":".x";case 1:return t+i?".g":".y";case 2:return t+i?".b":".z";case 3:return t+i?".a":".w";default:return t}}static GetTargets(e,t,r,i){if(void 0!==r&&void 0===i&&(i=t.toUpperCase().includes("COLOR")),e instanceof w.Tw2Vector4Parameter&&"value"===t)switch(r){case 0:t="v0";break;case 1:t="v1";break;case 2:t="v2";break;case 3:t="v3"}else switch(r){case 0:t+=i?".r":".x";break;case 1:t+=i?".g":".y";break;case 2:t+=i?".b":".z";break;case 3:t+=i?".a":".w"}return{object:e,attribute:t}}static CopyValueToValue(e){e.destinationObject[e.destinationAttribute]=e.sourceObject[e.sourceAttribute]*e.scale+e.offset[0]}static CopyArray(e){for(var t=Math.min(e.destinationObject[e.destinationAttribute].length,e.sourceObject[e.sourceAttribute].length),r=0;r<t;++r)e.destinationObject[e.destinationAttribute][r]=e.sourceObject[e.sourceAttribute][r]*e.scale+e.offset[r]}static CopyElementToElement(e){e.destinationObject[e.destinationAttribute][e._destinationElement]=e.sourceObject[e.sourceAttribute][e._sourceElement]*e.scale+e.offset[0]}static ReplicateValue(e){for(var t=0;t<e.destinationObject[e.destinationAttribute].length;++t)e.destinationObject[e.destinationAttribute][t]=e.sourceObject[e.sourceAttribute]*e.scale+e.offset[t]}static ReplicateElement(e){for(var t=0;t<e.destinationObject[e.destinationAttribute].length;++t)e.destinationObject[e.destinationAttribute][t]=e.sourceObject[e.sourceAttribute][e._sourceElement]*e.scale+e.offset[t]}static ExtractPos(e){for(var t=0;t<e.destinationObject[e.destinationAttribute].length;++t)e.destinationObject[e.destinationAttribute][t]=e.sourceObject[e.sourceAttribute][t+12]*e.scale+e.offset[t]}static CopyElementToValue(e){e.destinationObject[e.destinationAttribute]=e.sourceObject[e.sourceAttribute][e._sourceElement]*e.scale+e.offset[0]}static CopyValueToElement(e){e.destinationObject[e.destinationAttribute][e._destinationElement]=e.sourceObject[e.sourceAttribute]*e.scale+e.offset[0]}static CopyFloatToBoolean(e){e.destinationObject[e.destinationAttribute]=0!==e.sourceObject[e.sourceAttribute]}static CopyBooleanToFloat(e){e.destinationObject[e.destinationAttribute]=e.sourceObject[e.sourceAttribute]?1:0}},h=j((d=y).prototype,"name",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),b=j(d.prototype,"destinationAttribute",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),m=j(d.prototype,"destinationObject",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),p=j(d.prototype,"offset",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return T.vec4.create()}}),v=j(d.prototype,"scale",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),g=j(d.prototype,"sourceAttribute",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),E=j(d.prototype,"sourceObject",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),f=d))||f)},"./curve/curve/Tw2Curve.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tw2CurveKey",(function(){return R})),r.d(t,"Tw2Curve",(function(){return j}));var i,n,a,o,l,s,u,c,f,d,h,b,m,p,v,g,E,y,T,w=r("./global/index.js");function _(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function S(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var R=(i=w.meta.abstract,n=w.meta.type("Tw2CurveKey"),a=w.meta.string,o=w.meta.float,i(l=n((f=class extends w.Tw2BaseClass{constructor(...e){super(...e),_(this,"name",u,this),_(this,"time",c,this)}},u=S((s=f).prototype,"name",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),c=S(s.prototype,"time",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),l=s))||l)||l),j=(d=w.meta.abstract,h=w.meta.type("Tw2Curve"),b=w.meta.string,m=w.meta.abstract,p=w.meta.abstract,d(v=h((T=y=class e extends w.Tw2BaseClass{constructor(...e){super(...e),_(this,"name",E,this)}Initialize(){this.Sort()}Sort(){}GetLength(){}UpdateValue(e){}static Compare(e,t){return e.time<t.time?-1:e.time>t.time?1:0}static Sort(t,r=t.keys){r&&r.length&&(r.sort(e.Compare),t.length=r[r.length-1].time)}static Sort2(t){if(t.keys&&t.keys.length){t.keys.sort(e.Compare);var r=t.keys[t.keys.length-1];if(r.time>t.length){var i=t.length,n=t.endValue,a=t.endTangent;t.length=r.time,t.endValue=r.value,t.endTangent=r.leftTangent,i>0&&(r.time=i,r.value=n,r.leftTangent=a)}}}static Sort3(e){e.sort((e,t)=>e.index<t.index?-1:e.index>t.index?1:0);for(var t=0,r=0;r<e.length;r++)e[r].index=r,r===e.length-1&&(t=e[r].time);return t}},y.inputDimension=null,y.outputDimension=null,y.valueProperty=null,y.curveType=null,y.Key=null,y.Interpolation=null,y.Extrapolation=null,y.Type={CURVE:1,CURVE2:2,CURVE3:3,CURVE_MAYA:4,CURVE_NO_KEYS:5,SEQUENCER:100,SEQUENCER2:101,EXPRESSION:200,ADAPTER:300},y.global={vec3_0:w.vec3.create(),vec4_0:w.vec4.create(),quat_0:w.quat.create(),quat_1:w.quat.create()},E=S((g=T).prototype,"name",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),S(g.prototype,"GetLength",[m],Object.getOwnPropertyDescriptor(g.prototype,"GetLength"),g.prototype),S(g.prototype,"UpdateValue",[p],Object.getOwnPropertyDescriptor(g.prototype,"UpdateValue"),g.prototype),v=g))||v)||v)},"./curve/curve/Tw2EventCurve.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tw2EventKey",(function(){return C})),r.d(t,"Tw2EventCurve",(function(){return D}));var i,n,a,o,l,s,u,c,f,d,h,b,m,p,v,g,E,y,T,w,_,S,R,j=r("./curve/curve/Tw2Curve.js"),O=r("./global/index.js");function A(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function z(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var P={NONE:0,CYCLE:3},C=(i=O.meta.type("Tw2EventKey","TriEventKey"),n=O.meta.black.float,a=O.meta.black.ushort,i((c=class extends j.Tw2CurveKey{constructor(...e){super(...e),A(this,"time",s,this),A(this,"value",u,this)}},s=z((l=c).prototype,"time",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),u=z(l.prototype,"value",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),o=l))||o),D=(f=O.meta.type("Tw2EventCurve","TriEventCurve"),d=O.meta.black.string,h=O.meta.black.uint,b=O.meta.enumerable(P),m=O.meta.black.listOf("Tw2EventKey"),p=O.meta.black.ushort,v=O.meta.isPrivate,f((R=S=class e extends j.Tw2Curve{constructor(...e){super(...e),A(this,"name",y,this),A(this,"extrapolation",T,this),A(this,"keys",w,this),A(this,"value",_,this),this._time=0,this._currentKey=0,this._length=0}Sort(){this.keys.length&&(this.keys.sort(j.Tw2Curve.Compare),this._length=this.keys[this.keys.length-1].time)}GetLength(){return this._length}UpdateValue(t){if(this._length<=0)return this.value;var r=this._time;if(this._time=t,this._time<r&&(this._currentKey=0),this.extrapolation===e.Extrapolation.CYCLE){var i=this._time%this._length;i<r&&(this._currentKey=0),this._time=i}for(;this._currentKey<this.keys.length&&this._time>=this.keys[this._currentKey].time;)this.value=this.keys[this._currentKey].value,++this._currentKey}},S.dimension=1,S.outputDimension=1,S.valueProperty="value",S.curveType=j.Tw2Curve.Type.CURVE,S.Key=C,S.Extrapolation=P,y=z((E=R).prototype,"name",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),T=z(E.prototype,"extrapolation",[h,b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),w=z(E.prototype,"keys",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),_=z(E.prototype,"value",[p,v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),g=E))||g)},"./curve/curve/Tw2PerlinCurve.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tw2PerlinCurve",(function(){return z}));var i,n,a,o,l,s,u,c,f,d,h,b,m,p,v,g,E,y,T,w,_,S,R=r("./global/index.js"),j=r("./curve/curve/Tw2Curve.js");function O(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function A(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var z=(i=R.meta.type("Tw2PerlinCurve","TriPerlinCurve"),n=R.meta.black.string,a=R.meta.black.float,o=R.meta.black.float,l=R.meta.black.uint,s=R.meta.black.float,u=R.meta.black.float,c=R.meta.black.float,f=R.meta.black.float,d=R.meta.isPrivate,i((S=_=class extends j.Tw2Curve{constructor(...e){super(...e),O(this,"name",m,this),O(this,"alpha",p,this),O(this,"beta",v,this),O(this,"N",g,this),O(this,"offset",E,this),O(this,"scale",y,this),O(this,"speed",T,this),O(this,"value",w,this)}Sort(){}GetLength(){return 0}UpdateValue(e){this.value=this.GetValueAt(e)}GetValueAt(e){return e-=this.offset,(R.noise.perlin1D(e*this.speed,this.alpha,this.beta,this.N)+1)/2*this.scale+this.offset}},_.outputDimension=1,_.valueProperty="value",_.curveType=j.Tw2Curve.Type.CURVE_NO_KEYS,m=A((b=S).prototype,"name",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),p=A(b.prototype,"alpha",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),v=A(b.prototype,"beta",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),g=A(b.prototype,"N",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),E=A(b.prototype,"offset",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),y=A(b.prototype,"scale",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),T=A(b.prototype,"speed",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),w=A(b.prototype,"value",[f,d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),h=b))||h)},"./curve/curve/index.js":function(e,t,r){"use strict";r.r(t);var i=r("./curve/curve/Tw2EventCurve.js");r.d(t,"Tw2EventKey",(function(){return i.Tw2EventKey})),r.d(t,"Tw2EventCurve",(function(){return i.Tw2EventCurve}));var n=r("./curve/curve/Tw2PerlinCurve.js");r.d(t,"Tw2PerlinCurve",(function(){return n.Tw2PerlinCurve}));var a=r("./curve/curve/Tw2Curve.js");r.d(t,"Tw2CurveKey",(function(){return a.Tw2CurveKey})),r.d(t,"Tw2Curve",(function(){return a.Tw2Curve}));var o=r("./curve/curve/legacy/index.js");r.d(t,"Tw2ColorKey",(function(){return o.Tw2ColorKey})),r.d(t,"Tw2ColorCurve",(function(){return o.Tw2ColorCurve})),r.d(t,"Tw2ColorKey2",(function(){return o.Tw2ColorKey2})),r.d(t,"Tw2ColorCurve2",(function(){return o.Tw2ColorCurve2})),r.d(t,"Tw2QuaternionKey2",(function(){return o.Tw2QuaternionKey2})),r.d(t,"Tw2QuaternionCurve",(function(){return o.Tw2QuaternionCurve})),r.d(t,"Tw2RandomConstantCurve",(function(){return o.Tw2RandomConstantCurve})),r.d(t,"Tw2Torque",(function(){return o.Tw2Torque})),r.d(t,"Tw2RigidOrientation",(function(){return o.Tw2RigidOrientation})),r.d(t,"Tw2QuaternionKey",(function(){return o.Tw2QuaternionKey})),r.d(t,"Tw2RotationCurve",(function(){return o.Tw2RotationCurve})),r.d(t,"Tw2ScalarKey",(function(){return o.Tw2ScalarKey})),r.d(t,"Tw2ScalarCurve",(function(){return o.Tw2ScalarCurve})),r.d(t,"Tw2ScalarKey2",(function(){return o.Tw2ScalarKey2})),r.d(t,"Tw2ScalarCurve2",(function(){return o.Tw2ScalarCurve2})),r.d(t,"Tw2SineCurve",(function(){return o.Tw2SineCurve})),r.d(t,"Tw2Vector2Key",(function(){return o.Tw2Vector2Key})),r.d(t,"Tw2Vector2Curve",(function(){return o.Tw2Vector2Curve})),r.d(t,"Tw2Vector3Key",(function(){return o.Tw2Vector3Key})),r.d(t,"Tw2Vector3Curve",(function(){return o.Tw2Vector3Curve})),r.d(t,"Tw2VectorKey",(function(){return o.Tw2VectorKey})),r.d(t,"Tw2VectorCurve",(function(){return o.Tw2VectorCurve}))},"./curve/curve/legacy/Tw2ColorCurve.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tw2ColorKey",(function(){return G})),r.d(t,"Tw2ColorCurve",(function(){return k}));var i,n,a,o,l,s,u,c,f,d,h,b,m,p,v,g,E,y,T,w,_,S,R,j,O,A,z,P,C,D=r("./global/index.js"),I=r("./curve/curve/Tw2Curve.js");function x(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function L(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var M={NONE:0,CONSTANT:1,GRADIENT:2,CYCLE:3},F={NONE:0,CONSTANT:1,LINEAR:2},G=(i=D.meta.type("Tw2ColorKey"),n=D.meta.vector4,a=D.meta.vector4,o=D.meta.vector4,l=D.meta.enumerable(F),i((b=class extends I.Tw2CurveKey{constructor(...e){super(...e),x(this,"value",c,this),x(this,"left",f,this),x(this,"right",d,this),x(this,"interpolation",h,this)}},c=L((u=b).prototype,"value",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return D.vec4.create()}}),f=L(u.prototype,"left",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return D.vec4.create()}}),d=L(u.prototype,"right",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return D.vec4.create()}}),h=L(u.prototype,"interpolation",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),s=u))||s),k=(m=D.meta.type("Tw2ColorCurve"),p=D.meta.float,v=D.meta.vector4,g=D.meta.isPrivate,E=D.meta.enumerable(M),y=D.meta.listOf("Tw2ColorKey"),T=D.meta.float,w=D.meta.isPrivate,m((C=P=class extends I.Tw2Curve{constructor(...e){super(...e),x(this,"start",R,this),x(this,"value",j,this),x(this,"extrapolation",O,this),x(this,"keys",A,this),x(this,"length",z,this),this._currentKey=1}Sort(){I.Tw2Curve.Sort(this)}GetLength(){return this.length}UpdateValue(e){this.GetValueAt(e,this.value)}GetValueAt(e,t){if(0===this.length)return D.vec4.copy(t,this.value);var r=this.keys[0],i=this.keys[this.keys.length-1];if(e>=i.time)switch(this.extrapolation){case M.NONE:return D.vec4.copy(t,this.value);case M.CONSTANT:return D.vec4.copy(t,i.value);case M.GRADIENT:return D.vec4.scaleAndAdd(t,i.value,i.right,e-i.time);default:e%=i.time}else if(e<0||e<r.time)switch(this.extrapolation){case M.NONE:return D.vec4.copy(t,this.value);case M.GRADIENT:return D.vec4.scaleAndAdd(t,r.value,r.left,e*this.length-i.time);default:return D.vec4.copy(t,r.value)}for(var n=this.keys[this._currentKey],a=this.keys[this._currentKey-1];e>=n.time||e<a.time;)e<a.time&&(this._currentKey=0),this._currentKey++,n=this.keys[this._currentKey],a=this.keys[this._currentKey-1];var o=(e-a.time)/(n.time-a.time);switch(a.interpolation){case F.CONSTANT:return D.vec4.copy(t,a.value);default:return t[0]=a.value[0]*(1-o)+n.value[0]*o,t[1]=a.value[1]*(1-o)+n.value[1]*o,t[2]=a.value[2]*(1-o)+n.value[2]*o,t[3]=a.value[3]*(1-o)+n.value[3]*o,t}}},P.inputDimension=4,P.outputDimension=4,P.valueProperty="value",P.curveType=I.Tw2Curve.Type.CURVE,P.Key=G,P.Extrapolation=M,P.Interpolation=F,R=L((S=C).prototype,"start",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),j=L(S.prototype,"value",[v,g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return D.vec4.create()}}),O=L(S.prototype,"extrapolation",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),A=L(S.prototype,"keys",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),z=L(S.prototype,"length",[T,w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),_=S))||_)},"./curve/curve/legacy/Tw2ColorCurve2.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tw2ColorKey2",(function(){return Z})),r.d(t,"Tw2ColorCurve2",(function(){return $}));var i,n,a,o,l,s,u,c,f,d,h,b,m,p,v,g,E,y,T,w,_,S,R,j,O,A,z,P,C,D,I,x,L,M,F,G,k,N,B,U,V,H,q,W=r("./global/index.js"),Y=r("./curve/curve/Tw2Curve.js");function X(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function K(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var Q={CONSTANT:0,LINEAR:1},Z=(i=W.meta.type("Tw2ColorKey2"),n=W.meta.vector4,a=W.meta.vector4,o=W.meta.vector4,l=W.meta.enumerable(Q),i((b=class extends Y.Tw2CurveKey{constructor(...e){super(...e),X(this,"value",c,this),X(this,"leftTangent",f,this),X(this,"rightTangent",d,this),X(this,"interpolation",h,this)}},c=K((u=b).prototype,"value",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return W.vec4.create()}}),f=K(u.prototype,"leftTangent",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return W.vec4.create()}}),d=K(u.prototype,"rightTangent",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return W.vec4.create()}}),h=K(u.prototype,"interpolation",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),s=u))||s),$=(m=W.meta.type("Tw2ColorCurve2"),p=W.meta.boolean,v=W.meta.boolean,g=W.meta.float,E=W.meta.float,y=W.meta.vector4,T=W.meta.vector4,w=W.meta.isPrivate,_=W.meta.vector4,S=W.meta.vector4,R=W.meta.vector4,j=W.meta.enumerable(Q),O=W.meta.listOf("Tw2ColorKey2"),A=W.meta.float,z=W.meta.isPrivate,m((q=H=class extends Y.Tw2Curve{constructor(...e){super(...e),X(this,"cycle",D,this),X(this,"reversed",I,this),X(this,"timeOffset",x,this),X(this,"timeScale",L,this),X(this,"startValue",M,this),X(this,"currentValue",F,this),X(this,"endValue",G,this),X(this,"startTangent",k,this),X(this,"endTangent",N,this),X(this,"interpolation",B,this),X(this,"keys",U,this),X(this,"length",V,this)}Sort(){Y.Tw2Curve.Sort2(this)}GetLength(){return this.length}UpdateValue(e){this.GetValueAt(e,this.currentValue)}GetValueAt(e,t){if(e=e/this.timeScale+this.timeOffset,this.length<=0||e<=0)return W.vec4.copy(t,this.startValue);if(e>this.length){if(!this.cycle)return this.reversed?W.vec4.copy(t,this.startValue):W.vec4.copy(t,this.endValue);e%=this.length}if(this.reversed&&(e=this.length-e),0===this.keys.length)return this.Interpolate(e,null,null,t);var r=this.keys[0],i=this.keys[this.keys.length-1];if(e<=r.time)return this.Interpolate(e,null,r,t);if(e>=i.time)return this.Interpolate(e,i,null,t);for(var n=0;n+1<this.keys.length&&(r=this.keys[n],i=this.keys[n+1],!(r.time<=e&&i.time>e));++n);return this.Interpolate(e,r,i,t)}Interpolate(e,t,r,i){W.vec4.copy(i,this.startValue);var n=this.startValue,a=this.endValue,o=this.interpolation,l=this.length;switch(null!==t&&(o=t.interpolation,e-=t.time),o){case Q.LINEAR:return t&&r?(n=t.value,a=r.value,l=r.time-t.time):r?(a=r.value,l=r.time):t&&(n=t.value,l=this.length-t.time),i[0]=n[0]+(a[0]-n[0])*(e/l),i[1]=n[1]+(a[1]-n[1])*(e/l),i[2]=n[2]+(a[2]-n[2])*(e/l),i[3]=n[3]+(a[3]-n[3])*(e/l),i;default:return i}}},H.inputDimension=4,H.outputDimension=4,H.valueProperty="currentValue",H.curveType=Y.Tw2Curve.Type.CURVE2,H.Key=Z,H.Interpolation=Q,D=K((C=q).prototype,"cycle",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),I=K(C.prototype,"reversed",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),x=K(C.prototype,"timeOffset",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),L=K(C.prototype,"timeScale",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),M=K(C.prototype,"startValue",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return W.vec4.fromValues(0,0,0,1)}}),F=K(C.prototype,"currentValue",[T,w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return W.vec4.fromValues(0,0,0,1)}}),G=K(C.prototype,"endValue",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return W.vec4.fromValues(0,0,0,1)}}),k=K(C.prototype,"startTangent",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return W.vec4.create()}}),N=K(C.prototype,"endTangent",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return W.vec4.create()}}),B=K(C.prototype,"interpolation",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),U=K(C.prototype,"keys",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),V=K(C.prototype,"length",[A,z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),P=C))||P)},"./curve/curve/legacy/Tw2QuaternionCurve.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tw2QuaternionKey2",(function(){return Z})),r.d(t,"Tw2QuaternionCurve",(function(){return $}));var i,n,a,o,l,s,u,c,f,d,h,b,m,p,v,g,E,y,T,w,_,S,R,j,O,A,z,P,C,D,I,x,L,M,F,G,k,N,B,U,V,H,q,W=r("./global/index.js"),Y=r("./curve/curve/Tw2Curve.js");function X(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function K(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var Q={CONSTANT:0,SPHERICAL_LINEAR:4},Z=(i=W.meta.type("Tw2QuaternionKey2"),n=W.meta.quaternion,a=W.meta.vector4,o=W.meta.vector4,l=W.meta.enumerable(Q),i((b=class extends Y.Tw2CurveKey{constructor(...e){super(...e),X(this,"value",c,this),X(this,"leftTangent",f,this),X(this,"rightTangent",d,this),X(this,"interpolation",h,this)}},c=K((u=b).prototype,"value",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return W.quat.create()}}),f=K(u.prototype,"leftTangent",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return W.vec4.create()}}),d=K(u.prototype,"rightTangent",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return W.vec4.create()}}),h=K(u.prototype,"interpolation",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),s=u))||s),$=(m=W.meta.type("Tw2QuaternionCurve"),p=W.meta.boolean,v=W.meta.boolean,g=W.meta.float,E=W.meta.float,y=W.meta.quaternion,T=W.meta.quaternion,w=W.meta.isPrivate,_=W.meta.quaternion,S=W.meta.vector4,R=W.meta.vector4,j=W.meta.enumerable(Q),O=W.meta.listOf("Tw2QuaternionKey"),A=W.meta.float,z=W.meta.isPrivate,m((q=H=class extends Y.Tw2Curve{constructor(...e){super(...e),X(this,"cycle",D,this),X(this,"reversed",I,this),X(this,"timeOffset",x,this),X(this,"timeScale",L,this),X(this,"startValue",M,this),X(this,"currentValue",F,this),X(this,"endValue",G,this),X(this,"startTangent",k,this),X(this,"endTangent",N,this),X(this,"interpolation",B,this),X(this,"keys",U,this),X(this,"length",V,this)}Sort(){Y.Tw2Curve.Sort2(this)}GetLength(){return this.length}UpdateValue(e){this.GetValueAt(e,this.currentValue)}GetValueAt(e,t){if(e=e/this.timeScale+this.timeOffset,this.length<=0||e<=0)return t[0]=this.startValue[0],t[1]=this.startValue[1],t[2]=this.startValue[2],t;if(e>this.length){if(!this.cycle)return this.reversed?(t[0]=this.startValue[0],t[1]=this.startValue[1],t[2]=this.startValue[2],t):(t[0]=this.endValue[0],t[1]=this.endValue[1],t[2]=this.endValue[2],t);e%=this.length}if(this.reversed&&(e=this.length-e),0===this.keys.length)return this.Interpolate(e,null,null,t);var r=this.keys[0],i=this.keys[this.keys.length-1];if(e<=r.time)return this.Interpolate(e,null,r,t);if(e>=i.time)return this.Interpolate(e,i,null,t);for(var n=0;n+1<this.keys.length&&(r=this.keys[n],i=this.keys[n+1],!(r.time<=e&&i.time>e));++n);return this.Interpolate(e,r,i,t)}Interpolate(e,t,r,i){i[0]=this.startValue[0],i[1]=this.startValue[1],i[2]=this.startValue[2];var n=this.startValue,a=this.endValue,o=this.interpolation,l=this.length;switch(null!==t&&(o=t.interpolation,e-=t.time),o){case Q.SPHERICAL_LINEAR:return t&&r?(n=t.value,a=r.value,l=r.time-t.time):r?(a=r.value,l=r.time):t&&(n=t.value,l=this.length-t.time),W.quat.slerp(i,n,a,e/l),i;default:return i}}},H.inputDimension=4,H.outputDimension=4,H.valueProperty="currentValue",H.curveType=Y.Tw2Curve.Type.CURVE2,H.Key=Z,H.Interpolation=Q,D=K((C=q).prototype,"cycle",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),I=K(C.prototype,"reversed",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),x=K(C.prototype,"timeOffset",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),L=K(C.prototype,"timeScale",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),M=K(C.prototype,"startValue",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return W.quat.create()}}),F=K(C.prototype,"currentValue",[T,w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return W.quat.create()}}),G=K(C.prototype,"endValue",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return W.quat.create()}}),k=K(C.prototype,"startTangent",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return W.vec4.create()}}),N=K(C.prototype,"endTangent",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return W.vec4.create()}}),B=K(C.prototype,"interpolation",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),U=K(C.prototype,"keys",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),V=K(C.prototype,"length",[A,z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),P=C))||P)},"./curve/curve/legacy/Tw2RandomConstantCurve.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tw2RandomConstantCurve",(function(){return T}));var i,n,a,o,l,s,u,c,f,d,h,b,m,p,v=r("./global/index.js"),g=r("./curve/curve/Tw2Curve.js");function E(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function y(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var T=(i=v.meta.type("Tw2RandomConstantCurve"),n=v.meta.float,a=v.meta.isPrivate,o=v.meta.float,l=v.meta.float,s=v.meta.boolean,i((p=m=class extends g.Tw2Curve{constructor(...e){super(...e),E(this,"value",f,this),E(this,"min",d,this),E(this,"max",h,this),E(this,"hold",b,this)}Sort(){}GetLength(){return 0}UpdateValue(){this.value=this.GetValueAt()}GetValueAt(){return this.hold?this.value:this.min+(this.max-this.min)*Math.random()}},m.outputDimension=1,m.valueProperty="value",m.curveType=g.Tw2Curve.Type.CURVE_NO_KEYS,f=y((c=p).prototype,"value",[n,a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),d=y(c.prototype,"min",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),h=y(c.prototype,"max",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),b=y(c.prototype,"hold",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),u=c))||u)},"./curve/curve/legacy/Tw2RigidOrientation.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tw2Torque",(function(){return G})),r.d(t,"Tw2RigidOrientation",(function(){return k}));var i,n,a,o,l,s,u,c,f,d,h,b,m,p,v,g,E,y,T,w,_,S,R,j,O,A,z,P,C,D,I,x=r("./global/index.js"),L=r("./curve/curve/Tw2Curve.js");function M(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function F(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var G=(i=x.meta.type("Tw2Torque"),n=x.meta.quaternion,a=x.meta.vector4,o=x.meta.vector4,i((d=class extends L.Tw2CurveKey{constructor(...e){super(...e),M(this,"rot0",u,this),M(this,"omega0",c,this),M(this,"torque",f,this)}},u=F((s=d).prototype,"rot0",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return x.quat.create()}}),c=F(s.prototype,"omega0",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return x.vec3.create()}}),f=F(s.prototype,"torque",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return x.vec3.create()}}),l=s))||l),k=(h=x.meta.type("Tw2RigidOrientation"),b=x.meta.string,m=x.meta.float,p=x.meta.float,v=x.meta.quaternion,g=x.meta.isPrivate,E=x.meta.float,y=x.meta.listOf("Tw2Torque"),T=x.meta.float,w=x.meta.isPrivate,h((I=D=class extends L.Tw2Curve{constructor(...e){super(...e),M(this,"name",R,this),M(this,"I",j,this),M(this,"drag",O,this),M(this,"value",A,this),M(this,"start",z,this),M(this,"states",P,this),M(this,"length",C,this)}Sort(){L.Tw2Curve.Sort(this,this.states)}GetLength(){return this.length}UpdateValue(e){this.GetValueAt(e,this.value)}GetValueAt(e,t){if(0===this.states.length||e<0||e<this.states[0].time)return x.quat.copy(t,this.value);var r=0;if(e>=this.states[this.states.length-1].time)r=this.states.length-1;else for(;r+1<this.states.length&&!(e>=this.states[r].time&&e<this.states[r+1].time);++r);var i=L.Tw2Curve.global.vec3_0,n=L.Tw2Curve.global.quat_0,a=this.states[r];return x.vec3.exponentialDecay(i,a.omega0,a.torque,this.I,this.drag,e-a.time),x.quat.exp(n,i),x.quat.multiply(t,this.states[r].rot0,n),t}},D.inputDimension=4,D.outputDimension=4,D.valueProperty="value",D.curveType=L.Tw2Curve.Type.CURVE,D.Key=G,R=F((S=I).prototype,"name",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),j=F(S.prototype,"I",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),O=F(S.prototype,"drag",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),A=F(S.prototype,"value",[v,g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return x.quat.create()}}),z=F(S.prototype,"start",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),P=F(S.prototype,"states",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),C=F(S.prototype,"length",[T,w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),_=S))||_)},"./curve/curve/legacy/Tw2RotationCurve.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tw2QuaternionKey",(function(){return k})),r.d(t,"Tw2RotationCurve",(function(){return N}));var i,n,a,o,l,s,u,c,f,d,h,b,m,p,v,g,E,y,T,w,_,S,R,j,O,A,z,P,C,D,I=r("./global/index.js"),x=r("./curve/curve/Tw2Curve.js");function L(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function M(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var F={NONE:0,CONSTANT:1,GRADIENT:2,CYCLE:3},G={NONE:0,CONSTANT:1,LINEAR:2,HERMITE:3,SLERP:5,SQUAD:6},k=(i=I.meta.type("Tw2QuaternionKey"),n=I.meta.quaternion,a=I.meta.isPrivate,o=I.meta.vector4,l=I.meta.vector4,s=I.meta.enumerable(G),i((m=class extends x.Tw2CurveKey{constructor(...e){super(...e),L(this,"value",f,this),L(this,"left",d,this),L(this,"right",h,this),L(this,"interpolation",b,this)}},f=M((c=m).prototype,"value",[n,a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return I.quat.create()}}),d=M(c.prototype,"left",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return I.vec4.create()}}),h=M(c.prototype,"right",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return I.vec4.create()}}),b=M(c.prototype,"interpolation",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 5}}),u=c))||u),N=(p=I.meta.type("Tw2RotationCurve"),v=I.meta.float,g=I.meta.quaternion,E=I.meta.isPrivate,y=I.meta.enumerable(F),T=I.meta.listOf("Tw2QuaternionKey"),w=I.meta.float,_=I.meta.isPrivate,p((D=C=class e extends x.Tw2Curve{constructor(...e){super(...e),L(this,"start",j,this),L(this,"value",O,this),L(this,"extrapolation",A,this),L(this,"keys",z,this),L(this,"length",P,this),this._currentKey=1}Sort(){x.Tw2Curve.Sort(this)}GetLength(){return this.length}UpdateValue(e){this.GetValueAt(e,this.value)}GetValueAt(t,r){if(0===this.length)return I.quat.copy(r,this.value);var i=x.Tw2Curve.global,n=this.keys[0],a=this.keys[this.keys.length-1];if(t>=a.time)switch(this.extrapolation){case F.NONE:return I.quat.copy(r,this.value);case F.CONSTANT:return I.quat.copy(r,a.value);default:t%=a.time}else if(t<0||t<n.time)switch(this.extrapolation){case F.NONE:return I.quat.copy(r,this.value);default:return I.quat.copy(r,n.value)}for(var o=this.keys[this._currentKey],l=this.keys[this._currentKey-1];t>=o.time||t<l.time;)t<l.time&&(this._currentKey=0),this._currentKey++,o=this.keys[this._currentKey],l=this.keys[this._currentKey-1];var s=(t-l.time)/(o.time-l.time);switch(l.interpolation){case G.CONSTANT:return I.quat.copy(r,l.value);case e.Interpolation.LINEAR:return r[0]=l.value[0]*(1-s)+o.value[0]*s,r[1]=l.value[1]*(1-s)+o.value[1]*s,r[2]=l.value[2]*(1-s)+o.value[2]*s,r[3]=l.value[3]*(1-s)+o.value[3]*s,r;case G.HERMITE:for(var u=I.quat.identity(i.quat_0),c=[l.value,l.right,o.left,o.value],f=3;f>0;f--){var d=I.num.biCumulative(s,f);d>1&&I.quat.multiply(r,u,c[f]),r[0]=-c[f-1][0],r[1]=-c[f-1][1],r[2]=-c[f-1][2],r[3]=c[f-1][3],I.quat.multiply(r,r,c[f]),I.quat.pow(r,r,d),I.quat.multiply(u,u,r)}return I.quat.multiply(r,u,l.value);case e.Interpolation.SLERP:return I.quat.slerp(r,l.value,o.value,s);default:return I.quat.sqlerp(r,l.value,l.right,o.left,o.value,s)}}},C.outputDimension=4,C.inputDimension=4,C.valueProperty="value",C.curveType=x.Tw2Curve.Type.CURVE,C.Child=k,C.Extrapolation=F,C.Interpolation=G,j=M((R=D).prototype,"start",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),O=M(R.prototype,"value",[g,E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return I.quat.create()}}),A=M(R.prototype,"extrapolation",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),z=M(R.prototype,"keys",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),P=M(R.prototype,"length",[w,_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),S=R))||S)},"./curve/curve/legacy/Tw2ScalarCurve.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tw2ScalarKey",(function(){return U})),r.d(t,"Tw2ScalarCurve",(function(){return V}));var i,n,a,o,l,s,u,c,f,d,h,b,m,p,v,g,E,y,T,w,_,S,R,j,O,A,z,P,C,D,I,x,L,M=r("./global/index.js"),F=r("./curve/curve/Tw2Curve.js");function G(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function k(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var N={NONE:0,CONSTANT:1,GRADIENT:2,CYCLE:3},B={NONE:0,CONSTANT:1,LINEAR:2,HERMITE:3,CATMULROM:4},U=(i=M.meta.type("Tw2ScalarKey"),n=M.meta.float,a=M.meta.float,o=M.meta.float,l=M.meta.enumerable(B),i((b=class extends F.Tw2CurveKey{constructor(...e){super(...e),G(this,"value",c,this),G(this,"left",f,this),G(this,"right",d,this),G(this,"interpolation",h,this)}},c=k((u=b).prototype,"value",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),f=k(u.prototype,"left",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),d=k(u.prototype,"right",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),h=k(u.prototype,"interpolation",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),s=u))||s),V=(m=M.meta.type("Tw2ScalarCurve"),p=M.meta.float,v=M.meta.float,g=M.meta.float,E=M.meta.float,y=M.meta.isPrivate,T=M.meta.enumerable(N),w=M.meta.listOf("Tw2ScalarKey"),_=M.meta.float,S=M.meta.isPrivate,m((L=x=class extends F.Tw2Curve{constructor(...e){super(...e),G(this,"start",O,this),G(this,"timeScale",A,this),G(this,"timeOffset",z,this),G(this,"value",P,this),G(this,"extrapolation",C,this),G(this,"keys",D,this),G(this,"length",I,this),this._currentKey=1}Sort(){F.Tw2Curve.Sort(this)}GetLength(){return this.length}UpdateValue(e){this.value=this.GetValueAt(e)}GetValueAt(e){if(e=e/this.timeScale-this.timeOffset,0===this.length)return this.value;var t=this.keys[0],r=this.keys[this.keys.length-1];if(e>=r.time)switch(this.extrapolation){case N.NONE:return this.value;case N.CONSTANT:return r.value;case N.GRADIENT:return r.value+(e-r.time)*r.right;default:e%=r.time}else if(e<0||e<t.time)switch(this.extrapolation){case N.NONE:return this.value;case N.GRADIENT:return t.value+(e*this.length-r.time)*t.left;default:return t.value}for(var i=this.keys[this._currentKey],n=this.keys[this._currentKey-1];e>=i.time||e<n.time;)e<n.time&&(this._currentKey=0),this._currentKey++,i=this.keys[this._currentKey],n=this.keys[this._currentKey-1];var a=(e-n.time)/(i.time-n.time);switch(n.interpolation){case B.CONSTANT:return n.value;case B.LINEAR:return n.value*(1-a)+i.value*a;case B.HERMITE:var o=-2*a*a*a+3*a*a,l=a*a*a-2*a*a+a,s=a*a*a-a*a;return(2*a*a*a-3*a*a+1)*n.value+o*i.value+l*n.right+s*i.left;default:var u=1+(Math.sqrt(n.value/i.value)-1)*Math.exp(-e/n.right);return u*u*i.value}}},x.inputDimension=1,x.outputDimension=1,x.valueProperty="value",x.curveType=F.Tw2Curve.Type.CURVE,x.Key=U,x.Extrapolation=N,x.Interpolation=B,O=k((j=L).prototype,"start",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),A=k(j.prototype,"timeScale",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),z=k(j.prototype,"timeOffset",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),P=k(j.prototype,"value",[E,y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),C=k(j.prototype,"extrapolation",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),D=k(j.prototype,"keys",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),I=k(j.prototype,"length",[_,S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),R=j))||R)},"./curve/curve/legacy/Tw2ScalarCurve2.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tw2ScalarKey2",(function(){return Z})),r.d(t,"Tw2ScalarCurve2",(function(){return $}));var i,n,a,o,l,s,u,c,f,d,h,b,m,p,v,g,E,y,T,w,_,S,R,j,O,A,z,P,C,D,I,x,L,M,F,G,k,N,B,U,V,H,q,W=r("./global/index.js"),Y=r("./curve/curve/Tw2Curve.js");function X(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function K(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var Q={CONSTANT:0,LINEAR:1,HERMITE:2},Z=(i=W.meta.type("Tw2ScalarKey2"),n=W.meta.float,a=W.meta.float,o=W.meta.float,l=W.meta.enumerable(Q),i((b=class extends Y.Tw2CurveKey{constructor(...e){super(...e),X(this,"value",c,this),X(this,"leftTangent",f,this),X(this,"rightTangent",d,this),X(this,"interpolation",h,this)}},c=K((u=b).prototype,"value",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),f=K(u.prototype,"leftTangent",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),d=K(u.prototype,"rightTangent",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),h=K(u.prototype,"interpolation",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),s=u))||s),$=(m=W.meta.type("Tw2ScalarCurve2"),p=W.meta.boolean,v=W.meta.boolean,g=W.meta.float,E=W.meta.float,y=W.meta.float,T=W.meta.float,w=W.meta.isPrivate,_=W.meta.float,S=W.meta.float,R=W.meta.float,j=W.meta.enumerable(Q),O=W.meta.listOf("Tw2ScalarKey2"),A=W.meta.float,z=W.meta.isPrivate,m((q=H=class extends Y.Tw2Curve{constructor(...e){super(...e),X(this,"cycle",D,this),X(this,"reversed",I,this),X(this,"timeOffset",x,this),X(this,"timeScale",L,this),X(this,"startValue",M,this),X(this,"currentValue",F,this),X(this,"endValue",G,this),X(this,"startTangent",k,this),X(this,"endTangent",N,this),X(this,"interpolation",B,this),X(this,"keys",U,this),X(this,"length",V,this)}Sort(){Y.Tw2Curve.Sort2(this)}GetLength(){return this.length}UpdateValue(e){this.currentValue=this.GetValueAt(e)}GetValueAt(e){if(e=e/this.timeScale+this.timeOffset,this.length<=0||e<=0)return this.startValue;if(e>this.length){if(!this.cycle)return this.reversed?this.startValue:this.endValue;e%=this.length}if(this.reversed&&(e=this.length-e),0===this.keys.length)return this.Interpolate(e,null,null);var t=this.keys[0],r=this.keys[this.keys.length-1];if(e<=t.time)return this.Interpolate(e,null,t);if(e>=r.time)return this.Interpolate(e,r,null);for(var i=0;i+1<this.keys.length&&(t=this.keys[i],r=this.keys[i+1],!(t.time<=e&&r.time>e));++i);return this.Interpolate(e,t,r)}Interpolate(e,t,r){var i=this.startValue,n=this.endValue,a=this.interpolation,o=this.length;switch(null!==t&&(a=t.interpolation,e-=t.time),a){case Q.LINEAR:return t&&r?(i=t.value,n=r.value,o=r.time-t.time):r?(n=r.value,o=r.time):t&&(i=t.value,o=this.length-t.time),i+e/o*(n-i);case Q.HERMITE:var l=this.startTangent,s=this.endTangent;t&&r?(i=t.value,l=t.rightTangent,n=r.value,s=r.leftTangent,o=r.time-t.time):r?(n=r.value,s=r.leftTangent,o=r.time):t&&(i=t.value,l=t.rightTangent,o=this.length-t.time);var u=e/o,c=u*u,f=c*u,d=-2*f+3*c,h=f-c;return i*(1-d)+n*d+l*(u+h-c)+s*h;default:return this.startValue}}},H.inputDimension=1,H.outputDimension=1,H.valueProperty="currentValue",H.curveType=Y.Tw2Curve.Type.CURVE2,H.Key=Z,H.Interpolation=Q,D=K((C=q).prototype,"cycle",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),I=K(C.prototype,"reversed",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),x=K(C.prototype,"timeOffset",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),L=K(C.prototype,"timeScale",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),M=K(C.prototype,"startValue",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),F=K(C.prototype,"currentValue",[T,w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),G=K(C.prototype,"endValue",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),k=K(C.prototype,"startTangent",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),N=K(C.prototype,"endTangent",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),B=K(C.prototype,"interpolation",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),U=K(C.prototype,"keys",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),V=K(C.prototype,"length",[A,z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),P=C))||P)},"./curve/curve/legacy/Tw2SineCurve.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tw2SineCurve",(function(){return T}));var i,n,a,o,l,s,u,c,f,d,h,b,m,p,v=r("./global/index.js"),g=r("./curve/curve/Tw2Curve.js");function E(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function y(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var T=(i=v.meta.type("Tw2SineCurve"),n=v.meta.float,a=v.meta.isPrivate,o=v.meta.float,l=v.meta.float,s=v.meta.float,i((p=m=class extends g.Tw2Curve{constructor(...e){super(...e),E(this,"value",f,this),E(this,"offset",d,this),E(this,"scale",h,this),E(this,"speed",b,this)}Sort(){}GetLength(){return 0}UpdateValue(e){this.value=this.GetValueAt(e)}GetValueAt(e){return Math.sin(e*Math.PI*2*this.speed)*this.scale+this.offset}},m.outputDimension=1,m.valueProperty="value",m.curveType=g.Tw2Curve.Type.CURVE_NO_KEYS,f=y((c=p).prototype,"value",[n,a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),d=y(c.prototype,"offset",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),h=y(c.prototype,"scale",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),b=y(c.prototype,"speed",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),u=c))||u)},"./curve/curve/legacy/Tw2Vector2Curve.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tw2Vector2Key",(function(){return Z})),r.d(t,"Tw2Vector2Curve",(function(){return $}));var i,n,a,o,l,s,u,c,f,d,h,b,m,p,v,g,E,y,T,w,_,S,R,j,O,A,z,P,C,D,I,x,L,M,F,G,k,N,B,U,V,H,q,W=r("./global/index.js"),Y=r("./curve/curve/Tw2Curve.js");function X(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function K(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var Q={CONSTANT:0,LINEAR:1,HERMITE:2},Z=(i=W.meta.type("Tw2Vector2Key"),n=W.meta.vector2,a=W.meta.vector2,o=W.meta.vector2,l=W.meta.enumerable(Q),i((b=class extends Y.Tw2CurveKey{constructor(...e){super(...e),X(this,"value",c,this),X(this,"leftTangent",f,this),X(this,"rightTangent",d,this),X(this,"interpolation",h,this)}},c=K((u=b).prototype,"value",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return W.vec2.create()}}),f=K(u.prototype,"leftTangent",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return W.vec2.create()}}),d=K(u.prototype,"rightTangent",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return W.vec2.create()}}),h=K(u.prototype,"interpolation",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),s=u))||s),$=(m=W.meta.type("Tw2Vector2Curve"),p=W.meta.boolean,v=W.meta.boolean,g=W.meta.float,E=W.meta.float,y=W.meta.vector2,T=W.meta.vector2,w=W.meta.isPrivate,_=W.meta.vector2,S=W.meta.vector2,R=W.meta.vector2,j=W.meta.enumerable(Q),O=W.meta.listOf("Tw2Vector2Key"),A=W.meta.float,z=W.meta.isPrivate,m((q=H=class extends Y.Tw2Curve{constructor(...e){super(...e),X(this,"cycle",D,this),X(this,"reversed",I,this),X(this,"timeOffset",x,this),X(this,"timeScale",L,this),X(this,"startValue",M,this),X(this,"currentValue",F,this),X(this,"endValue",G,this),X(this,"startTangent",k,this),X(this,"endTangent",N,this),X(this,"interpolation",B,this),X(this,"keys",U,this),X(this,"length",V,this)}Sort(){Y.Tw2Curve.Sort2(this)}GetLength(){return this.length}UpdateValue(e){this.GetValueAt(e,this.currentValue)}GetValueAt(e,t){if(e=e/this.timeScale+this.timeOffset,this.length<=0||e<=0)return W.vec2.copy(t,this.startValue);if(e>this.length){if(!this.cycle)return this.reversed?W.vec2.copy(t,this.startValue):W.vec2.copy(t,this.endValue);e%=this.length}if(this.reversed&&(e=this.length-e),0===this.keys.length)return this.Interpolate(e,null,null,t);var r=this.keys[0],i=this.keys[this.keys.length-1];if(e<=r.time)return this.Interpolate(e,null,r,t);if(e>=i.time)return this.Interpolate(e,i,null,t);for(var n=0;n+1<this.keys.length&&(r=this.keys[n],i=this.keys[n+1],!(r.time<=e&&i.time>e));++n);return this.Interpolate(e,r,i,t)}Interpolate(e,t,r,i){W.vec2.copy(i,this.startValue);var n=this.startValue,a=this.endValue,o=this.interpolation,l=this.length;switch(null!==t&&(o=t.interpolation,e-=t.time),o){case Q.LINEAR:return t&&r?(n=t.value,a=r.value,l=r.time-t.time):r?(a=r.value,l=r.time):t&&(n=t.value,l=this.length-t.time),i[0]=n[0]+(a[0]-n[0])*(e/l),i[1]=n[1]+(a[1]-n[1])*(e/l),i;case Q.HERMITE:var s=this.startTangent,u=this.endTangent;t&&r?(n=t.value,s=t.rightTangent,a=r.value,u=r.leftTangent,l=r.time-t.time):r?(a=r.value,u=r.leftTangent,l=r.time):t&&(n=t.value,s=t.rightTangent,l=this.length-t.time);var c=e/l,f=c*c,d=f*c,h=-2*d+3*f,b=1-h,m=d-f,p=c+m-f;return i[0]=n[0]*b+a[0]*h+s[0]*p+u[0]*m,i[1]=n[1]*b+a[1]*h+s[1]*p+u[1]*m,i;default:return i}}},H.inputDimension=2,H.outputDimension=2,H.valueProperty="value",H.curveType=Y.Tw2Curve.Type.CURVE2,H.Key=Z,H.Interpolation=Q,D=K((C=q).prototype,"cycle",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),I=K(C.prototype,"reversed",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),x=K(C.prototype,"timeOffset",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),L=K(C.prototype,"timeScale",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),M=K(C.prototype,"startValue",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return W.vec2.create()}}),F=K(C.prototype,"currentValue",[T,w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return W.vec2.create()}}),G=K(C.prototype,"endValue",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return W.vec2.create()}}),k=K(C.prototype,"startTangent",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return W.vec2.create()}}),N=K(C.prototype,"endTangent",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return W.vec2.create()}}),B=K(C.prototype,"interpolation",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),U=K(C.prototype,"keys",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),V=K(C.prototype,"length",[A,z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),P=C))||P)},"./curve/curve/legacy/Tw2Vector3Curve.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tw2Vector3Key",(function(){return Z})),r.d(t,"Tw2Vector3Curve",(function(){return $}));var i,n,a,o,l,s,u,c,f,d,h,b,m,p,v,g,E,y,T,w,_,S,R,j,O,A,z,P,C,D,I,x,L,M,F,G,k,N,B,U,V,H,q,W=r("./global/index.js"),Y=r("./curve/curve/Tw2Curve.js");function X(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function K(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var Q={CONSTANT:0,LINEAR:1,HERMITE:2},Z=(i=W.meta.type("Tw2Vector3Key"),n=W.meta.vector3,a=W.meta.vector3,o=W.meta.vector3,l=W.meta.enumerable(Q),i((b=class extends Y.Tw2CurveKey{constructor(...e){super(...e),X(this,"value",c,this),X(this,"leftTangent",f,this),X(this,"rightTangent",d,this),X(this,"interpolation",h,this)}},c=K((u=b).prototype,"value",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return W.vec3.create()}}),f=K(u.prototype,"leftTangent",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return W.vec3.create()}}),d=K(u.prototype,"rightTangent",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return W.vec3.create()}}),h=K(u.prototype,"interpolation",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),s=u))||s),$=(m=W.meta.type("Tw2Vector3Curve"),p=W.meta.boolean,v=W.meta.boolean,g=W.meta.float,E=W.meta.float,y=W.meta.vector3,T=W.meta.vector3,w=W.meta.isPrivate,_=W.meta.vector3,S=W.meta.vector3,R=W.meta.vector3,j=W.meta.enumerable(Q),O=W.meta.listOf("Tw2Vector3Key"),A=W.meta.float,z=W.meta.isPrivate,m((q=H=class extends Y.Tw2Curve{constructor(...e){super(...e),X(this,"cycle",D,this),X(this,"reversed",I,this),X(this,"timeOffset",x,this),X(this,"timeScale",L,this),X(this,"startValue",M,this),X(this,"currentValue",F,this),X(this,"endValue",G,this),X(this,"startTangent",k,this),X(this,"endTangent",N,this),X(this,"interpolation",B,this),X(this,"keys",U,this),X(this,"length",V,this)}Sort(){Y.Tw2Curve.Sort2(this)}GetLength(){return this.length}UpdateValue(e){this.GetValueAt(e,this.currentValue)}GetValueAt(e,t){if(e=e/this.timeScale+this.timeOffset,this.length<=0||e<=0)return W.vec3.copy(t,this.startValue);if(e>this.length){if(!this.cycle)return this.reversed?W.vec3.copy(t,this.startValue):W.vec3.copy(t,this.endValue);e%=this.length}if(this.reversed&&(e=this.length-e),0===this.keys.length)return this.Interpolate(e,null,null,t);var r=this.keys[0],i=this.keys[this.keys.length-1];if(e<=r.time)return this.Interpolate(e,null,r,t);if(e>=i.time)return this.Interpolate(e,i,null,t);for(var n=0;n+1<this.keys.length&&(r=this.keys[n],i=this.keys[n+1],!(r.time<=e&&i.time>e));++n);return this.Interpolate(e,r,i,t)}Interpolate(e,t,r,i){W.vec3.copy(i,this.startValue);var n=this.startValue,a=this.endValue,o=this.interpolation,l=this.length;switch(null!==t&&(o=t.interpolation,e-=t.time),o){case Q.LINEAR:return t&&r?(n=t.value,a=r.value,l=r.time-t.time):r?(a=r.value,l=r.time):t&&(n=t.value,l=this.length-t.time),i[0]=n[0]+(a[0]-n[0])*(e/l),i[1]=n[1]+(a[1]-n[1])*(e/l),i[2]=n[2]+(a[2]-n[2])*(e/l),i;case Q.HERMITE:var s=this.startTangent,u=this.endTangent;t&&r?(n=t.value,s=t.rightTangent,a=r.value,u=r.leftTangent,l=r.time-t.time):r?(a=r.value,u=r.leftTangent,l=r.time):t&&(n=t.value,s=t.rightTangent,l=this.length-t.time);var c=e/l,f=c*c,d=f*c,h=-2*d+3*f,b=1-h,m=d-f,p=c+m-f;return i[0]=n[0]*b+a[0]*h+s[0]*p+u[0]*m,i[1]=n[1]*b+a[1]*h+s[1]*p+u[1]*m,i[2]=n[2]*b+a[2]*h+s[2]*p+u[2]*m,i;default:return i}}},H.inputDimension=3,H.outputDimension=3,H.valueProperty="currentValue",H.curveType=Y.Tw2Curve.Type.CURVE2,H.Key=Z,H.Interpolation=Q,D=K((C=q).prototype,"cycle",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),I=K(C.prototype,"reversed",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),x=K(C.prototype,"timeOffset",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),L=K(C.prototype,"timeScale",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),M=K(C.prototype,"startValue",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return W.vec3.create()}}),F=K(C.prototype,"currentValue",[T,w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return W.vec3.create()}}),G=K(C.prototype,"endValue",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return W.vec3.create()}}),k=K(C.prototype,"startTangent",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return W.vec3.create()}}),N=K(C.prototype,"endTangent",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return W.vec3.create()}}),B=K(C.prototype,"interpolation",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),U=K(C.prototype,"keys",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),V=K(C.prototype,"length",[A,z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),P=C))||P)},"./curve/curve/legacy/Tw2VectorCurve.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tw2VectorKey",(function(){return G})),r.d(t,"Tw2VectorCurve",(function(){return k}));var i,n,a,o,l,s,u,c,f,d,h,b,m,p,v,g,E,y,T,w,_,S,R,j,O,A,z,P,C,D=r("./global/index.js"),I=r("./curve/curve/Tw2Curve.js");function x(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function L(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var M={NONE:0,CONSTANT:1,GRADIENT:2,CYCLE:3},F={NONE:0,CONSTANT:1,LINEAR:2,HERMITE:3},G=(i=D.meta.type("Tw2VectorKey"),n=D.meta.vector3,a=D.meta.vector3,o=D.meta.vector3,l=D.meta.enumerable(F),i((b=class extends I.Tw2CurveKey{constructor(...e){super(...e),x(this,"value",c,this),x(this,"left",f,this),x(this,"right",d,this),x(this,"interpolation",h,this)}},c=L((u=b).prototype,"value",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return D.vec3.create()}}),f=L(u.prototype,"left",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return D.vec3.create()}}),d=L(u.prototype,"right",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return D.vec3.create()}}),h=L(u.prototype,"interpolation",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),s=u))||s),k=(m=D.meta.type("Tw2VectorCurve"),p=D.meta.float,v=D.meta.vector3,g=D.meta.isPrivate,E=D.meta.enumerable(M),y=D.meta.list,T=D.meta.float,w=D.meta.isPrivate,m((C=P=class extends I.Tw2Curve{constructor(...e){super(...e),x(this,"start",R,this),x(this,"value",j,this),x(this,"extrapolation",O,this),x(this,"keys",A,this),x(this,"length",z,this),this._currentKey=1}Sort(){I.Tw2Curve.Sort(this)}GetLength(){return this.length}UpdateValue(e){this.GetValueAt(e,this.value)}GetValueAt(e,t){if(0===this.length)return D.vec3.copy(t,this.value);var r=this.keys[0],i=this.keys[this.keys.length-1];if(e>=i.time)switch(this.extrapolation){case M.NONE:return D.vec3.copy(t,this.value);case M.CONSTANT:return D.vec3.copy(t,i.value);case M.GRADIENT:return D.vec3.scaleAndAdd(t,i.value,i.right,e-i.time);default:e%=i.time}else if(e<0||e<r.time)switch(this.extrapolation){case M.NONE:return D.vec3.copy(t,this.value);case M.GRADIENT:return D.vec3.scaleAndAdd(t,r.value,r.left,e*this.length-i.time);default:return D.vec3.copy(t,r.value)}for(var n=this.keys[this._currentKey],a=this.keys[this._currentKey-1];e>=n.time||e<a.time;)e<a.time&&(this._currentKey=0),this._currentKey++,n=this.keys[this._currentKey],a=this.keys[this._currentKey-1];var o=(e-a.time)/(n.time-a.time);switch(a.interpolation){case F.CONSTANT:return D.vec3.copy(t,a.value);case F.LINEAR:return t[0]=a.value[0]*(1-o)+n.value[0]*o,t[1]=a.value[1]*(1-o)+n.value[1]*o,t[2]=a.value[2]*(1-o)+n.value[2]*o,t;case F.HERMITE:var l=2*o*o*o-3*o*o+1,s=-2*o*o*o+3*o*o,u=o*o*o-2*o*o+o,c=o*o*o-o*o;return t[0]=l*a.value[0]+s*n.value[0]+u*a.right[0]+c*n.left[0],t[1]=l*a.value[1]+s*n.value[1]+u*a.right[1]+c*n.left[1],t[2]=l*a.value[2]+s*n.value[2]+u*a.right[2]+c*n.left[2],t;default:return t}}},P.inputDimension=3,P.outputDimension=3,P.valueProperty="value",P.curveType=I.Tw2Curve.Type.CURVE,P.Key=G,P.Extrapolation=M,P.Interpolation=F,R=L((S=C).prototype,"start",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),j=L(S.prototype,"value",[v,g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return D.vec3.create()}}),O=L(S.prototype,"extrapolation",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),A=L(S.prototype,"keys",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),z=L(S.prototype,"length",[T,w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),_=S))||_)},"./curve/curve/legacy/index.js":function(e,t,r){"use strict";r.r(t);var i=r("./curve/curve/legacy/Tw2ColorCurve.js");r.d(t,"Tw2ColorKey",(function(){return i.Tw2ColorKey})),r.d(t,"Tw2ColorCurve",(function(){return i.Tw2ColorCurve}));var n=r("./curve/curve/legacy/Tw2ColorCurve2.js");r.d(t,"Tw2ColorKey2",(function(){return n.Tw2ColorKey2})),r.d(t,"Tw2ColorCurve2",(function(){return n.Tw2ColorCurve2}));var a=r("./curve/curve/legacy/Tw2QuaternionCurve.js");r.d(t,"Tw2QuaternionKey2",(function(){return a.Tw2QuaternionKey2})),r.d(t,"Tw2QuaternionCurve",(function(){return a.Tw2QuaternionCurve}));var o=r("./curve/curve/legacy/Tw2RandomConstantCurve.js");r.d(t,"Tw2RandomConstantCurve",(function(){return o.Tw2RandomConstantCurve}));var l=r("./curve/curve/legacy/Tw2RigidOrientation.js");r.d(t,"Tw2Torque",(function(){return l.Tw2Torque})),r.d(t,"Tw2RigidOrientation",(function(){return l.Tw2RigidOrientation}));var s=r("./curve/curve/legacy/Tw2RotationCurve.js");r.d(t,"Tw2QuaternionKey",(function(){return s.Tw2QuaternionKey})),r.d(t,"Tw2RotationCurve",(function(){return s.Tw2RotationCurve}));var u=r("./curve/curve/legacy/Tw2ScalarCurve.js");r.d(t,"Tw2ScalarKey",(function(){return u.Tw2ScalarKey})),r.d(t,"Tw2ScalarCurve",(function(){return u.Tw2ScalarCurve}));var c=r("./curve/curve/legacy/Tw2ScalarCurve2.js");r.d(t,"Tw2ScalarKey2",(function(){return c.Tw2ScalarKey2})),r.d(t,"Tw2ScalarCurve2",(function(){return c.Tw2ScalarCurve2}));var f=r("./curve/curve/legacy/Tw2SineCurve.js");r.d(t,"Tw2SineCurve",(function(){return f.Tw2SineCurve}));var d=r("./curve/curve/legacy/Tw2Vector2Curve.js");r.d(t,"Tw2Vector2Key",(function(){return d.Tw2Vector2Key})),r.d(t,"Tw2Vector2Curve",(function(){return d.Tw2Vector2Curve}));var h=r("./curve/curve/legacy/Tw2Vector3Curve.js");r.d(t,"Tw2Vector3Key",(function(){return h.Tw2Vector3Key})),r.d(t,"Tw2Vector3Curve",(function(){return h.Tw2Vector3Curve}));var b=r("./curve/curve/legacy/Tw2VectorCurve.js");r.d(t,"Tw2VectorKey",(function(){return b.Tw2VectorKey})),r.d(t,"Tw2VectorCurve",(function(){return b.Tw2VectorCurve}))},"./curve/index.js":function(e,t,r){"use strict";r.r(t);var i=r("./curve/Tw2CurveSet.js");r.d(t,"Tw2CurveSet",(function(){return i.Tw2CurveSet}));var n=r("./curve/Tw2ValueBinding.js");r.d(t,"Tw2ValueBinding",(function(){return n.Tw2ValueBinding}));var a=r("./curve/curve/index.js");r.d(t,"Tw2EventKey",(function(){return a.Tw2EventKey})),r.d(t,"Tw2EventCurve",(function(){return a.Tw2EventCurve})),r.d(t,"Tw2PerlinCurve",(function(){return a.Tw2PerlinCurve})),r.d(t,"Tw2CurveKey",(function(){return a.Tw2CurveKey})),r.d(t,"Tw2Curve",(function(){return a.Tw2Curve})),r.d(t,"Tw2ColorKey",(function(){return a.Tw2ColorKey})),r.d(t,"Tw2ColorCurve",(function(){return a.Tw2ColorCurve})),r.d(t,"Tw2ColorKey2",(function(){return a.Tw2ColorKey2})),r.d(t,"Tw2ColorCurve2",(function(){return a.Tw2ColorCurve2})),r.d(t,"Tw2QuaternionKey2",(function(){return a.Tw2QuaternionKey2})),r.d(t,"Tw2QuaternionCurve",(function(){return a.Tw2QuaternionCurve})),r.d(t,"Tw2RandomConstantCurve",(function(){return a.Tw2RandomConstantCurve})),r.d(t,"Tw2Torque",(function(){return a.Tw2Torque})),r.d(t,"Tw2RigidOrientation",(function(){return a.Tw2RigidOrientation})),r.d(t,"Tw2QuaternionKey",(function(){return a.Tw2QuaternionKey})),r.d(t,"Tw2RotationCurve",(function(){return a.Tw2RotationCurve})),r.d(t,"Tw2ScalarKey",(function(){return a.Tw2ScalarKey})),r.d(t,"Tw2ScalarCurve",(function(){return a.Tw2ScalarCurve})),r.d(t,"Tw2ScalarKey2",(function(){return a.Tw2ScalarKey2})),r.d(t,"Tw2ScalarCurve2",(function(){return a.Tw2ScalarCurve2})),r.d(t,"Tw2SineCurve",(function(){return a.Tw2SineCurve})),r.d(t,"Tw2Vector2Key",(function(){return a.Tw2Vector2Key})),r.d(t,"Tw2Vector2Curve",(function(){return a.Tw2Vector2Curve})),r.d(t,"Tw2Vector3Key",(function(){return a.Tw2Vector3Key})),r.d(t,"Tw2Vector3Curve",(function(){return a.Tw2Vector3Curve})),r.d(t,"Tw2VectorKey",(function(){return a.Tw2VectorKey})),r.d(t,"Tw2VectorCurve",(function(){return a.Tw2VectorCurve}));var o=r("./curve/legacy/index.js");r.d(t,"Tw2WbgTrack",(function(){return o.Tw2WbgTrack})),r.d(t,"Tw2WbgTransformTrack",(function(){return o.Tw2WbgTransformTrack})),r.d(t,"Tw2TransformTrack",(function(){return o.Tw2TransformTrack})),r.d(t,"Tw2MayaEulerRotationCurve",(function(){return o.Tw2MayaEulerRotationCurve})),r.d(t,"Tw2MayaScalarCurve",(function(){return o.Tw2MayaScalarCurve})),r.d(t,"Tw2MayaVector3Curve",(function(){return o.Tw2MayaVector3Curve})),r.d(t,"Tw2MayaAnimationEngine",(function(){return o.Tw2MayaAnimationEngine}));var l=r("./curve/sequencer/index.js");r.d(t,"TriColorSequencer",(function(){return l.TriColorSequencer})),r.d(t,"Tw2CurveColor",(function(){return l.Tw2CurveColor})),r.d(t,"Tw2CurveEulerRotation",(function(){return l.Tw2CurveEulerRotation})),r.d(t,"Tw2CurveVector3",(function(){return l.Tw2CurveVector3})),r.d(t,"Tw2CurveSequencer",(function(){return l.Tw2CurveSequencer})),r.d(t,"Tw2ColorSequencer",(function(){return l.Tw2ColorSequencer})),r.d(t,"Tw2EulerRotation",(function(){return l.Tw2EulerRotation})),r.d(t,"Tw2QuaternionSequencer",(function(){return l.Tw2QuaternionSequencer})),r.d(t,"Tw2RGBAScalarSequencer",(function(){return l.Tw2RGBAScalarSequencer})),r.d(t,"Tw2ScalarSequencer",(function(){return l.Tw2ScalarSequencer})),r.d(t,"Tw2VectorSequencer",(function(){return l.Tw2VectorSequencer})),r.d(t,"Tw2XYZScalarSequencer",(function(){return l.Tw2XYZScalarSequencer})),r.d(t,"Tw2YPRSequencer",(function(){return l.Tw2YPRSequencer}))},"./curve/legacy/index.js":function(e,t,r){"use strict";r.r(t);var i=r("./curve/legacy/tracks/index.js");r.d(t,"Tw2WbgTrack",(function(){return i.Tw2WbgTrack})),r.d(t,"Tw2WbgTransformTrack",(function(){return i.Tw2WbgTransformTrack})),r.d(t,"Tw2TransformTrack",(function(){return i.Tw2TransformTrack}));var n=r("./curve/legacy/maya/index.js");r.d(t,"Tw2MayaEulerRotationCurve",(function(){return n.Tw2MayaEulerRotationCurve})),r.d(t,"Tw2MayaScalarCurve",(function(){return n.Tw2MayaScalarCurve})),r.d(t,"Tw2MayaVector3Curve",(function(){return n.Tw2MayaVector3Curve})),r.d(t,"Tw2MayaAnimationEngine",(function(){return n.Tw2MayaAnimationEngine}))},"./curve/legacy/maya/Tw2MayaAnimationEngine.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tw2MayaAnimationEngine",(function(){return g}));var i,n,a,o,l,s,u,c,f,d,h,b=r("./global/index.js"),m=r("./core/index.js");function p(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function v(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var g=(i=b.meta.type("Tw2MayaAnimationEngine"),n=b.meta.list,a=b.meta.list,o=b.meta.list,i((h=d=class e{constructor(){p(this,"curves",u,this),p(this,"hermiteSegments",c,this),p(this,"bezierSegments",f,this),this._id=b.util.generateID(),this._currentCurveIndex=0,this._evalCache=null}Evaluate(t,r){if(this.curves.length<=t)return 0;if(this._currentCurveIndex=t,!this._evalCache){this._evalCache=new Array(this.curves.length);for(var i=0;i<this._evalCache.length;++i)this._evalCache[i]=-1}var n=this.curves[t],a=n[e.AnimCurveFields.SEGMENT_OFFSET],o=null;return r<(o=n[e.AnimCurveFields.IS_WEIGHTED]?this.bezierSegments:this.hermiteSegments)[a][e.AnimSegment.TIME]?n[e.AnimCurveFields.PRE_INFINITY]===e.INFINITY?o[a][e.AnimSegment.VALUE]:this._EvaluateInfinities(n,o,a,r,!0):r>n[e.AnimCurveFields.END_TIME]?n[e.AnimCurveFields.POST_INFINITY]===e.INFINITY?n[e.AnimCurveFields.END_VALUE]:this._EvaluateInfinities(n,o,a,r,!1):this._EvaluateImpl(n,o,a,r)}_EvaluateImpl(t,r,i,n){var a,o=!1,l=null,s=null;if(this._evalCache[this._currentCurveIndex]>=0)if(s=i+this._evalCache[this._currentCurveIndex],this._evalCache[this._currentCurveIndex]<t[e.AnimCurveFields.NUM_SEGMENTS-1]&&n>r[s][e.AnimSegment.TIME]){if(n===r[l=i+this._evalCache[this._currentCurveIndex]+1][e.AnimSegment.TIME])return this._evalCache[this._currentCurveIndex]++,r[l][e.AnimSegment.VALUE];n<r[l][e.AnimSegment.TIME]?(a=this._evalCache[this._currentCurveIndex]+1,o=!0):l=null}else if(this._evalCache[this._currentCurveIndex]>0&&n<r[s][e.AnimSegment.TIME]){var u=i+this._evalCache[this._currentCurveIndex]-1;if(n>r[u][e.AnimSegment.TIME])a=this._evalCache[this._currentCurveIndex],o=!0;else if(n===r[u][e.AnimSegment.TIME])return this._evalCache[this._currentCurveIndex]--,r[u][e.AnimSegment.VALUE]}if(!o){var c=this._Find(t,n,r,i);if(a=c[1],c[0]||0===a)return a===t[e.AnimCurveFields.NUM_SEGMENTS]?(a--,this._evalCache[this._currentCurveIndex]=a,t[e.AnimCurveFields.END_VALUE]):(this._evalCache[this._currentCurveIndex]=a,r[i+a][e.AnimSegment.VALUE]);if(a===t[e.AnimCurveFields.NUM_SEGMENTS]+1)return this._evalCache[this._currentCurveIndex]=0,t[e.AnimCurveFields.END_VALUE]}if(this._evalCache[this._currentCurveIndex]!==a-1&&(this._evalCache[this._currentCurveIndex]=a-1,s=i+this._evalCache[this._currentCurveIndex],null===l&&(l=i+a)),t[e.AnimCurveFields.IS_WEIGHTED]){var f=r[s];if(f[e.BezierSegment.IS_STEP])return f[e.BezierSegment.VALUE];if(f[e.BezierSegment.IS_STEP_NEXT])return null===l?t[e.AnimCurveFields.END_VALUE]:r[l][e.BezierSegment.VALUE];var d=t[e.AnimCurveFields.END_TIME];return this._evalCache[this._currentCurveIndex]+1<t[e.AnimCurveFields.NUM_SEGMENTS]&&(d=r[l][e.BezierSegment.TIME]),this._EvaluateBezier(f,n,d)}var h=r[s];return h[e.HermiteSegment.IS_STEP]?h[e.HermiteSegment.VALUE]:h[e.HermiteSegment.IS_STEP_NEXT]?null===l?t[e.AnimCurveFields.END_VALUE]:r[l][e.HermiteSegment.VALUE]:this._EvaluateHermite(h,n)}_EvaluateInfinities(e,t,r,i,n){throw new m.ErrFeatureNotImplemented({feature:"Maya animation engine evaluate infinities"})}_EvaluateHermite(t,r){var i=r-t[e.HermiteSegment.TIME],n=t[e.HermiteSegment.COEFF];return i*(i*(i*n[0]+n[1])+n[2])+n[3]}_EvaluateBezier(t,r,i){var n,a;if(a=(r-t[e.BezierSegment.TIME])/(i-t[e.BezierSegment.TIME]),t[e.BezierSegment.IS_LINEAR])n=a;else{var o=b.vec4.create();o[3]=t[e.BezierSegment.COEFF][3],o[2]=t[e.BezierSegment.COEFF][2],o[1]=t[e.BezierSegment.COEFF][1],o[0]=t[e.BezierSegment.COEFF][0]-a;var l=[];n=1===b.curve.polyZeroes(o,3,0,1,1,1,l)?l[0]:0}var s=t[e.BezierSegment.POLYY];return n*(n*(n*s[3]+s[2])+s[1])+s[0]}_Find(t,r,i,n){var a,o,l,s,u=0,c=0;if((a=t[e.AnimCurveFields.NUM_SEGMENTS]+1)>0){l=0,s=a-1;do{if(r<(c=(o=l+s>>1)<a-1?i[n+o][e.AnimSegment.TIME]:t[e.AnimCurveFields.END_TIME]))s=o-1;else{if(!(r>c))return[!0,u=o];l=o+1}}while(l<=s);u=l}return[!1,u]}GetNumberOfCurves(){return this.curves.length}GetLength(t){if(t<0||t>=this.curves.length)return 0;var r,i=this.curves[t];return r=i[e.AnimCurveFields.IS_WEIGHTED]?this.bezierSegments[i[e.AnimCurveFields.SEGMENT_OFFSET]]:this.hermiteSegments[i[e.AnimCurveFields.SEGMENT_OFFSET]],i[e.AnimCurveFields.END_TIME]-r[e.AnimSegment.TIME]}},d.AnimCurveFields={NUM_SEGMENTS:0,SEGMENT_OFFSET:1,END_TIME:2,END_VALUE:3,IN_TANGENT:4,OUT_TANGENT:5,PRE_INFINITY:6,POST_INFINITY:7,IS_WEIGHTED:8},d.AnimSegment={TIME:0,VALUE:1},d.HermiteSegment={TIME:0,VALUE:1,COEFF:2,IS_STEP:3,IS_STEP_NEXT:4},d.BezierSegment={TIME:0,VALUE:1,COEFF:2,POLYY:3,IS_STEP:4,IS_STEP_NEXT:5,IS_LINEAR:6},d.INFINITY=0,u=v((s=h).prototype,"curves",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),c=v(s.prototype,"hermiteSegments",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),f=v(s.prototype,"bezierSegments",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),l=s))||l)},"./curve/legacy/maya/Tw2MayaEulerRotationCurve.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tw2MayaEulerRotationCurve",(function(){return C}));var i,n,a,o,l,s,u,c,f,d,h,b,m,p,v,g,E,y,T,w,_,S,R,j,O=r("./global/index.js"),A=r("./curve/index.js");function z(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function P(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var C=(i=O.meta.type("Tw2MayaEulerRotationCurve"),n=O.meta.float,a=O.meta.float,o=O.meta.float,l=O.meta.objectOf("Tw2MayaAnimationEngine"),s=O.meta.vector3,u=O.meta.isPrivate,c=O.meta.boolean,f=O.meta.quaternion,d=O.meta.isPrivate,h=O.meta.float,b=O.meta.isPrivate,i((j=R=class extends A.Tw2Curve{constructor(...e){super(...e),z(this,"xIndex",v,this),z(this,"yIndex",g,this),z(this,"zIndex",E,this),z(this,"animationEngine",y,this),z(this,"eulerValue",T,this),z(this,"updateQuaternion",w,this),z(this,"quatValue",_,this),z(this,"length",S,this)}Sort(){this.ComputeLength()}GetLength(){return this.length}UpdateValue(e){if(this.animationEngine&&(this.xIndex&&(this.eulerValue[0]=this.animationEngine.Evaluate(this.xIndex,e)),this.yIndex&&(this.yIndex===this.xIndex?this.eulerValue[1]=this.eulerValue[0]:this.eulerValue[1]=this.animationEngine.Evaluate(this.yIndex,e)),this.zIndex&&(this.zIndex===this.xIndex?this.eulerValue[2]=this.eulerValue[0]:this.eulerValue[2]=this.animationEngine.Evaluate(this.zIndex,e)),this.updateQuaternion)){var t=Math.sin(this.eulerValue[0]/2),r=Math.cos(this.eulerValue[0]/2),i=Math.sin(this.eulerValue[1]/2),n=Math.cos(this.eulerValue[1]/2),a=Math.sin(this.eulerValue[2]/2),o=Math.cos(this.eulerValue[2]/2);this.quatValue[0]=t*n*a+r*i*o,this.quatValue[1]=t*n*o-r*i*a,this.quatValue[2]=r*n*a-t*i*o,this.quatValue[3]=r*n*o+t*i*a}}ComputeLength(){this.animationEngine&&0!==this.animationEngine.GetNumberOfCurves()&&(this.length=0,this.xIndex>=0&&(this.length=this.animationEngine.GetLength(this.xIndex)),this.yIndex>=0&&(this.length=Math.max(this.length,this.animationEngine.GetLength(this.yIndex))),this.zIndex>=0&&(this.length=Math.max(this.length,this.animationEngine.GetLength(this.zIndex))))}},R.outputDimension=3,R.valueProperty="eulerValue",R.curveType=A.Tw2Curve.Type.CURVE_MAYA,v=P((p=j).prototype,"xIndex",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return-1}}),g=P(p.prototype,"yIndex",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return-1}}),E=P(p.prototype,"zIndex",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return-1}}),y=P(p.prototype,"animationEngine",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),T=P(p.prototype,"eulerValue",[s,u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return O.vec3.create()}}),w=P(p.prototype,"updateQuaternion",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),_=P(p.prototype,"quatValue",[f,d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return O.quat.create()}}),S=P(p.prototype,"length",[h,b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),m=p))||m)},"./curve/legacy/maya/Tw2MayaScalarCurve.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tw2MayaScalarCurve",(function(){return w}));var i,n,a,o,l,s,u,c,f,d,h,b,m,p,v,g=r("./global/index.js"),E=r("./curve/index.js");function y(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function T(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var w=(i=g.meta.type("Tw2MayaScalarCurve"),n=g.meta.float,a=g.meta.objectOf("Tw2MayaAnimationEngine"),o=g.meta.float,l=g.meta.isPrivate,s=g.meta.float,u=g.meta.isPrivate,i((v=p=class extends E.Tw2Curve{constructor(...e){super(...e),y(this,"index",d,this),y(this,"animationEngine",h,this),y(this,"value",b,this),y(this,"length",m,this)}Sort(){this.ComputeLength()}GetLength(){return this.length}UpdateValue(e){this.animationEngine&&(this.value=this.animationEngine.Evaluate(this.index,e))}ComputeLength(){this.animationEngine&&0!==this.animationEngine.GetNumberOfCurves()&&this.index>=0&&(this.length=this.animationEngine.GetLength(this.index))}},p.outputDimension=1,p.valueProperty="value",p.curveType=E.Tw2Curve.Type.CURVE_MAYA,d=T((f=v).prototype,"index",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return-1}}),h=T(f.prototype,"animationEngine",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),b=T(f.prototype,"value",[o,l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),m=T(f.prototype,"length",[s,u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),c=f))||c)},"./curve/legacy/maya/Tw2MayaVector3Curve.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tw2MayaVector3Curve",(function(){return j}));var i,n,a,o,l,s,u,c,f,d,h,b,m,p,v,g,E,y,T,w=r("./global/index.js"),_=r("./curve/index.js");function S(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function R(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var j=(i=w.meta.type("Tw2MayaVector3Curve"),n=w.meta.float,a=w.meta.float,o=w.meta.float,l=w.meta.objectOf("Tw2MayaAnimationEngine"),s=w.meta.vector3,u=w.meta.isPrivate,c=w.meta.float,f=w.meta.isPrivate,i((T=y=class extends _.Tw2Curve{constructor(...e){super(...e),S(this,"xIndex",b,this),S(this,"yIndex",m,this),S(this,"zIndex",p,this),S(this,"animationEngine",v,this),S(this,"value",g,this),S(this,"length",E,this)}Sort(){this.ComputeLength()}GetLength(){return this.length}UpdateValue(e){this.animationEngine&&(this.xIndex&&(this.value[0]=this.animationEngine.Evaluate(this.xIndex,e)),this.yIndex&&(this.yIndex===this.xIndex?this.value[1]=this.value[0]:this.value[1]=this.animationEngine.Evaluate(this.yIndex,e)),this.zIndex&&(this.zIndex===this.xIndex?this.value[2]=this.value[0]:this.value[2]=this.animationEngine.Evaluate(this.zIndex,e)))}ComputeLength(){this.animationEngine&&0!==this.animationEngine.GetNumberOfCurves()&&(this.length=0,this.xIndex>=0&&(this.length=this.animationEngine.GetLength(this.xIndex)),this.yIndex>=0&&(this.length=Math.max(this.length,this.animationEngine.GetLength(this.yIndex))),this.zIndex>=0&&(this.length=Math.max(this.length,this.animationEngine.GetLength(this.zIndex))))}},y.outputDimension=3,y.valueProperty="value",y.curveType=_.Tw2Curve.Type.CURVE_MAYA,b=R((h=T).prototype,"xIndex",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return-1}}),m=R(h.prototype,"yIndex",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return-1}}),p=R(h.prototype,"zIndex",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return-1}}),v=R(h.prototype,"animationEngine",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),g=R(h.prototype,"value",[s,u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return w.vec3.create()}}),E=R(h.prototype,"length",[c,f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),d=h))||d)},"./curve/legacy/maya/index.js":function(e,t,r){"use strict";r.r(t);var i=r("./curve/legacy/maya/Tw2MayaEulerRotationCurve.js");r.d(t,"Tw2MayaEulerRotationCurve",(function(){return i.Tw2MayaEulerRotationCurve}));var n=r("./curve/legacy/maya/Tw2MayaScalarCurve.js");r.d(t,"Tw2MayaScalarCurve",(function(){return n.Tw2MayaScalarCurve}));var a=r("./curve/legacy/maya/Tw2MayaVector3Curve.js");r.d(t,"Tw2MayaVector3Curve",(function(){return a.Tw2MayaVector3Curve}));var o=r("./curve/legacy/maya/Tw2MayaAnimationEngine.js");r.d(t,"Tw2MayaAnimationEngine",(function(){return o.Tw2MayaAnimationEngine}))},"./curve/legacy/tracks/Tw2TransformTrack.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tw2TransformTrack",(function(){return L}));var i,n,a,o,l,s,u,c,f,d,h,b,m,p,v,g,E,y,T,w,_,S,R,j,O,A,z,P,C,D=r("./global/index.js");function I(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function x(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var L=(i=D.meta.type("Tw2TransformTrack"),n=D.meta.string,a=D.meta.path,o=D.meta.object,l=D.meta.string,s=D.meta.boolean,u=D.meta.float,c=D.meta.vector3,f=D.meta.quaternion,d=D.meta.vector3,h=D.meta.matrix4,b=D.meta.object,m=D.meta.object,p=D.meta.object,i((E=x((g=class{constructor(){I(this,"name",E,this),I(this,"resPath",y,this),I(this,"res",T,this),I(this,"group",w,this),I(this,"cycle",_,this),I(this,"duration",S,this),I(this,"translation",R,this),I(this,"rotation",j,this),I(this,"scale",O,this),I(this,"scaleShear",A,this),I(this,"positionCurve",z,this),I(this,"orientationCurve",P,this),I(this,"scaleCurve",C,this),this._id=D.util.generateID()}Initialize(){""!==this.resPath&&(this.res=D.resMan.GetResource(this.resPath))}GetLength(){return this.duration}UpdateValue(e){this.res&&this.res.IsGood()&&(this.positionCurve||this.FindTracks(),this.positionCurve&&(this.cycle&&(e%=this.duration),e>this.duration||e<0||(D.curve.evaluate(this.positionCurve,e,this.translation,this.cycle,this.duration),D.curve.evaluate(this.orientationCurve,e,this.rotation,this.cycle,this.duration),D.quat.normalize(this.rotation,this.rotation),D.curve.evaluate(this.scaleCurve,e,this.scaleShear,this.cycle,this.duration),D.mat4.getScaling(this.scale,this.scaleCurve))))}FindTracks(){for(var e=null,t=0;t<this.res.animations.length;++t)for(var r=0;r<this.res.animations[t].trackGroups.length;++r)if(this.res.animations[t].trackGroups[r].name===this.group){this.duration=this.res.animations[t].duration,e=this.res.animations[t].trackGroups[r];break}if(e)for(var i=0;i<e.transformTracks.length;++i)if(this.name===e.transformTracks[i].name){this.positionCurve=e.transformTracks[i].position,this.orientationCurve=e.transformTracks[i].orientation,this.scaleCurve=e.transformTracks[i].scaleShear;break}}}).prototype,"name",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),y=x(g.prototype,"resPath",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),T=x(g.prototype,"res",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),w=x(g.prototype,"group",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),_=x(g.prototype,"cycle",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),S=x(g.prototype,"duration",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),R=x(g.prototype,"translation",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return D.vec3.create()}}),j=x(g.prototype,"rotation",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return D.quat.create()}}),O=x(g.prototype,"scale",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return D.vec3.fromValues(0,0,0)}}),A=x(g.prototype,"scaleShear",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return D.mat4.create()}}),z=x(g.prototype,"positionCurve",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),P=x(g.prototype,"orientationCurve",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),C=x(g.prototype,"scaleCurve",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),v=g))||v)},"./curve/legacy/tracks/Tw2WbgTrack.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tw2WbgTrack",(function(){return n})),r.d(t,"Tw2WbgTransformTrack",(function(){return a}));var i=r("./global/index.js");function n(){this.name="",this.geometryResPath="",this.geometryRes=null,this.group="",this.duration=0,this.cycle=!1,this._id=i.util.generateID(),this.Initialize=function(){this.geometryResPath&&(this.geometryRes=i.resMan.GetResource(this.geometryResPath,e=>(function(e){if(e.name&&e.group&&e.geometryRes)for(var t=0;t<e.geometryRes.animations.length;++t)for(var r=e.geometryRes.animations[t],i=0;i<r.trackGroups.length;++i)r.trackGroups[i].name===e.group&&e._ApplyTracks(r.trackGroups[i],r.duration)})(this)))},this.UpdateValue=function(e){this._TracksReady()&&(this.cycle&&(e%=this.duration),e<=this.duration&&e>=0&&this._UpdateValue(e))}}function a(){this._id=i.util.generateID(),this.translation=i.vec3.create(),this.rotation=i.quat.create(),this.rotation[3]=1,this.scale=i.vec3.create();var e=null,t=null,r=null,n=i.mat4.create();this._TracksReady=function(){return e||t||r},this._ApplyTracks=function(i,n){for(var a=0;a<i.transformTracks.length;++a){var o=i.transformTracks[a];o.name===this.name&&(this.duration=n,e=o.position,t=o.orientation,r=o.scaleShear)}this.UpdateValue(0)},this._UpdateValue=function(a){e&&i.curve.evaluate(e,a,this.translation,this.cycle,this.duration),t&&(i.curve.evaluate(t,a,this.rotation,this.cycle,this.duration),i.quat.normalize(this.rotation,this.rotation)),r&&i.curve.evaluate(r,a,n,this.cycle,this.duration),this.scale[0]=n[0],this.scale[1]=n[5],this.scale[2]=n[10]}}i.meta.set("type","Tw2WbgTrack",n),a.prototype=new n,i.meta.set("type","Tw2WbgTransformTrack",a)},"./curve/legacy/tracks/index.js":function(e,t,r){"use strict";r.r(t);var i=r("./curve/legacy/tracks/Tw2WbgTrack.js");r.d(t,"Tw2WbgTrack",(function(){return i.Tw2WbgTrack})),r.d(t,"Tw2WbgTransformTrack",(function(){return i.Tw2WbgTransformTrack}));var n=r("./curve/legacy/tracks/Tw2TransformTrack.js");r.d(t,"Tw2TransformTrack",(function(){return n.Tw2TransformTrack}))},"./curve/sequencer/TriColorSequencer.js":function(e,t,r){"use strict";r.r(t),r.d(t,"TriColorSequencer",(function(){return T}));var i,n,a,o,l,s,u,c,f,d,h,b,m,p,v=r("./global/index.js"),g=r("./curve/sequencer/Tw2CurveSequencer.js");function E(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function y(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var T=(i=v.meta.type("TriColorSequencer",!0),n=v.meta.todo("Make backwards compatible with old Tw2ColorSequencer"),a=v.meta.stage(2),o=v.meta.black.string,l=v.meta.listOf("Tr2CurveScalar"),s=v.meta.vector4,u=v.meta.isPrivate,i(c=n(c=a((p=m=class extends g.Tw2CurveSequencer{constructor(...e){super(...e),E(this,"name",d,this),E(this,"functions",h,this),E(this,"value",b,this)}Sort(){g.Tw2CurveSequencer.Sort(this)}GetLength(){return g.Tw2CurveSequencer.GetLengthFromKeys(this)}UpdateValue(e){this.GetValueAt(e,this.value)}GetValueAt(e,t){var r=g.Tw2CurveSequencer.global.vec4_0;v.vec4.set(r,0,0,0,0);for(var i=0;i<this.functions.length;i++)this.functions[i].GetValueAt(e,t),v.vec4.add(t,t,r);return t}},m.inputDimension=4,m.outputDimension=4,m.valueProperty="value",m.curveType=g.Tw2CurveSequencer.Type.SEQUENCER,m.childArray="functions",d=y((f=p).prototype,"name",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),h=y(f.prototype,"functions",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),b=y(f.prototype,"value",[s,u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return v.vec4.create()}}),c=f))||c)||c)||c)},"./curve/sequencer/Tw2CurveColor.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tw2CurveColor",(function(){return j}));var i,n,a,o,l,s,u,c,f,d,h,b,m,p,v,g,E,y,T,w=r("./global/index.js"),_=r("./curve/sequencer/Tw2CurveSequencer.js");function S(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function R(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var j=(i=w.meta.type("Tw2CurveColor","Tr2CurveColor"),n=w.meta.stage(2),a=w.meta.black.string,o=w.meta.black.rawOf("Tr2CurveScalar"),l=w.meta.black.rawOf("Tr2CurveScalar"),s=w.meta.black.rawOf("Tr2CurveScalar"),u=w.meta.black.rawOf("Tr2CurveScalar"),c=w.meta.color,f=w.meta.isPrivate,i(d=n((T=y=class extends _.Tw2CurveSequencer{constructor(...e){super(...e),S(this,"name",b,this),S(this,"r",m,this),S(this,"g",p,this),S(this,"b",v,this),S(this,"a",g,this),S(this,"currentValue",E,this)}Sort(){_.Tw2CurveSequencer.Sort2(this)}GetLength(){return _.Tw2CurveSequencer.GetLengthFromProperties(this)}UpdateValue(e){this.GetValueAt(e,this.currentValue)}GetValueAt(e,t){return t[0]=this.r?this.r.GetValueAt(e):0,t[1]=this.g?this.g.GetValueAt(e):0,t[2]=this.b?this.b.GetValueAt(e):0,t[3]=this.a?this.a.GetValueAt(e):0,t}},y.inputDimension=1,y.outputDimension=4,y.valueProperty="currentValue",y.curveType=_.Tw2CurveSequencer.Type.SEQUENCER,y.childProperties=["r","g","b","a"],b=R((h=T).prototype,"name",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),m=R(h.prototype,"r",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),p=R(h.prototype,"g",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),v=R(h.prototype,"b",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),g=R(h.prototype,"a",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),E=R(h.prototype,"currentValue",[c,f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return w.vec4.create()}}),d=h))||d)||d)},"./curve/sequencer/Tw2CurveEulerRotation.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tw2CurveEulerRotation",(function(){return S}));var i,n,a,o,l,s,u,c,f,d,h,b,m,p,v,g,E,y=r("./curve/sequencer/Tw2CurveSequencer.js"),T=r("./global/index.js");function w(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function _(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var S=(i=T.meta.type("Tw2CurveEulerRotation","Tr2CurveEulerRotation"),n=T.meta.stage(2),a=T.meta.black.string,o=T.meta.black.rawOf("Tr2CurveScalar"),l=T.meta.black.rawOf("Tr2CurveScalar"),s=T.meta.black.rawOf("Tr2CurveScalar"),u=T.meta.quaternion,c=T.meta.isPrivate,i(f=n((E=g=class extends y.Tw2CurveSequencer{constructor(...e){super(...e),w(this,"name",h,this),w(this,"pitch",b,this),w(this,"roll",m,this),w(this,"yaw",p,this),w(this,"currentValue",v,this)}Sort(){y.Tw2CurveSequencer.Sort2(this)}GetLength(){return y.Tw2CurveSequencer.GetLengthFromProperties(this)}UpdateValue(e){this.GetValueAt(e,this.currentValue)}GetValueAt(e,t){var r=this.yaw?this.yaw.GetValueAt(e):0,i=this.pitch?this.pitch.GetValueAt(e):0,n=this.roll?this.roll.GetValueAt(e):0,a=Math.sin(r/2),o=Math.cos(r/2),l=Math.sin(i/2),s=Math.cos(i/2),u=Math.sin(n/2),c=Math.cos(n/2);return t[0]=a*s*u+o*l*c,t[1]=a*s*c-o*l*u,t[2]=o*s*u-a*l*c,t[3]=o*s*c+a*l*u,t}},g.inputDimension=1,g.outputDimension=4,g.valueProperty="currentValue",g.curveType=y.Tw2CurveSequencer.Type.SEQUENCER2,g.childProperties=["yaw","pitch","roll"],h=_((d=E).prototype,"name",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),b=_(d.prototype,"pitch",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),m=_(d.prototype,"roll",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),p=_(d.prototype,"yaw",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),v=_(d.prototype,"currentValue",[u,c],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return T.quat.create()}}),f=d))||f)||f)},"./curve/sequencer/Tw2CurveSequencer.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tw2CurveSequencer",(function(){return s}));var i,n,a,o=r("./global/index.js"),l=r("./curve/curve/Tw2Curve.js"),s=o.meta.type("Tw2CurveSequencer")((a=n=class extends l.Tw2Curve{static Sort(e,t=e.constructor.childArray){var r=e[t];if(r&&r.length)for(var i=0;i<r.length;i++)r[i]&&"Sort"in r[i]&&r[i].Sort()}static Sort2(e,t=e.constructor.childProperties){if(t)for(var r=0;r<t.length;r++){var i=e[t[r]];i&&"Sort"in i&&i.Sort()}}static GetLengthFromKeys(e,t=e.constructor.childArray){for(var r=e[t],i=0,n=0;n<r.length;++n)"GetLength"in r[n]&&(i=Math.max(i,r[n].GetLength()));return i}static GetLengthFromProperties(e,t=e.constructor.childProperties){for(var r=0,i=0;i<t.length;i++){var n=e[t[i]];n&&"GetLength"in n&&(r=Math.max(r,n.GetLength()))}return r}},n.inputDimension=null,n.outputDimension=null,n.childProperties=null,n.childArray=null,n.Operator=null,i=a))||i},"./curve/sequencer/Tw2CurveVector3.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tw2CurveVector3",(function(){return S}));var i,n,a,o,l,s,u,c,f,d,h,b,m,p,v,g,E,y=r("./curve/sequencer/Tw2CurveSequencer.js"),T=r("./global/index.js");function w(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function _(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var S=(i=T.meta.type("Tw2CurveVector3","Tr2CurveVector3"),n=T.meta.stage(2),a=T.meta.black.string,o=T.meta.black.rawOf("Tr2CurveScalar"),l=T.meta.black.rawOf("Tr2CurveScalar"),s=T.meta.black.rawOf("Tr2CurveScalar"),u=T.meta.vector3,c=T.meta.isPrivate,i(f=n((E=g=class extends y.Tw2CurveSequencer{constructor(...e){super(...e),w(this,"name",h,this),w(this,"x",b,this),w(this,"y",m,this),w(this,"z",p,this),w(this,"currentValue",v,this)}Sort(){y.Tw2CurveSequencer.Sort2(this)}GetLength(){return y.Tw2CurveSequencer.GetLengthFromProperties(this)}UpdateValue(e){this.GetValueAt(e,this.currentValue)}GetValueAt(e,t){return t[0]=this.x?this.x.GetValueAt(e):0,t[1]=this.y?this.y.GetValueAt(e):0,t[2]=this.z?this.z.GetValueAt(e):0,t}},g.inputDimension=1,g.outputDimension=3,g.valueProperty="currentValue",g.curveType=y.Tw2CurveSequencer.Type.SEQUENCER2,g.childProperties=["x","y","z"],h=_((d=E).prototype,"name",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),b=_(d.prototype,"x",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),m=_(d.prototype,"y",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),p=_(d.prototype,"z",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),v=_(d.prototype,"currentValue",[u,c],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return T.vec3.create()}}),f=d))||f)||f)},"./curve/sequencer/index.js":function(e,t,r){"use strict";r.r(t);var i=r("./curve/sequencer/TriColorSequencer.js");r.d(t,"TriColorSequencer",(function(){return i.TriColorSequencer}));var n=r("./curve/sequencer/Tw2CurveColor.js");r.d(t,"Tw2CurveColor",(function(){return n.Tw2CurveColor}));var a=r("./curve/sequencer/Tw2CurveEulerRotation.js");r.d(t,"Tw2CurveEulerRotation",(function(){return a.Tw2CurveEulerRotation}));var o=r("./curve/sequencer/Tw2CurveVector3.js");r.d(t,"Tw2CurveVector3",(function(){return o.Tw2CurveVector3}));var l=r("./curve/sequencer/Tw2CurveSequencer.js");r.d(t,"Tw2CurveSequencer",(function(){return l.Tw2CurveSequencer}));var s=r("./curve/sequencer/legacy/index.js");r.d(t,"Tw2ColorSequencer",(function(){return s.Tw2ColorSequencer})),r.d(t,"Tw2EulerRotation",(function(){return s.Tw2EulerRotation})),r.d(t,"Tw2QuaternionSequencer",(function(){return s.Tw2QuaternionSequencer})),r.d(t,"Tw2RGBAScalarSequencer",(function(){return s.Tw2RGBAScalarSequencer})),r.d(t,"Tw2ScalarSequencer",(function(){return s.Tw2ScalarSequencer})),r.d(t,"Tw2VectorSequencer",(function(){return s.Tw2VectorSequencer})),r.d(t,"Tw2XYZScalarSequencer",(function(){return s.Tw2XYZScalarSequencer})),r.d(t,"Tw2YPRSequencer",(function(){return s.Tw2YPRSequencer}))},"./curve/sequencer/legacy/Tw2ColorSequencer.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tw2ColorSequencer",(function(){return _}));var i,n,a,o,l,s,u,c,f,d,h,b,m,p,v,g=r("./global/index.js"),E=r("./curve/sequencer/Tw2CurveSequencer.js");function y(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function T(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var w={MULTIPLY:0,ADD:1},_=(i=g.meta.type("Tw2ColorSequencer"),n=g.meta.string,a=g.meta.float,o=g.meta.vector4,l=g.meta.enumerable(w),s=g.meta.listOf("Tw2Curve"),i((v=p=class e extends E.Tw2CurveSequencer{constructor(...e){super(...e),y(this,"name",f,this),y(this,"start",d,this),y(this,"value",h,this),y(this,"operator",b,this),y(this,"functions",m,this)}Sort(){E.Tw2CurveSequencer.Sort(this)}GetLength(){return E.Tw2CurveSequencer.GetLengthFromKeys(this)}UpdateValue(e){this.GetValueAt(e,this.value)}GetValueAt(t,r){var i=E.Tw2CurveSequencer.global.vec4_0;switch(this.operator){case e.Operator.MULTIPLY:g.vec4.set(r,1,1,1,1);for(var n=0;n<this.functions.length;++n)this.functions[n].GetValueAt(t,i),g.vec4.multiply(r,r,i);break;default:g.vec4.set(r,0,0,0,0);for(var a=0;a<this.functions.length;++a)this.functions[a].GetValueAt(t,i),g.vec4.add(r,r,i)}return r}},p.inputDimension=4,p.outputDimension=4,p.valueProperty="value",p.curveType=E.Tw2CurveSequencer.Type.SEQUENCER,p.childArray="functions",p.Operator=w,f=T((c=v).prototype,"name",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),d=T(c.prototype,"start",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),h=T(c.prototype,"value",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return g.vec4.create()}}),b=T(c.prototype,"operator",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),m=T(c.prototype,"functions",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),u=c))||u)},"./curve/sequencer/legacy/Tw2EulerRotation.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tw2EulerRotation",(function(){return T}));var i,n,a,o,l,s,u,c,f,d,h,b,m,p,v=r("./global/index.js"),g=r("./curve/sequencer/Tw2CurveSequencer.js");function E(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function y(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var T=(i=v.meta.type("Tw2EulerRotation"),n=v.meta.objectOf("Tw2Curve"),a=v.meta.objectOf("Tw2Curve"),o=v.meta.objectOf("Tw2Curve"),l=v.meta.quaternion,s=v.meta.isPrivate,i((p=m=class extends g.Tw2CurveSequencer{constructor(...e){super(...e),E(this,"yawCurve",f,this),E(this,"pitchCurve",d,this),E(this,"rollCurve",h,this),E(this,"currentValue",b,this)}Sort(){g.Tw2CurveSequencer.Sort2(this)}GetLength(){return g.Tw2CurveSequencer.GetLengthFromProperties(this)}UpdateValue(e){this.GetValueAt(e,this.currentValue)}GetValueAt(e,t){var r=this.yawCurve?this.yawCurve.GetValueAt(e):0,i=this.pitchCurve?this.pitchCurve.GetValueAt(e):0,n=this.rollCurve?this.rollCurve.GetValueAt(e):0,a=Math.sin(r/2),o=Math.cos(r/2),l=Math.sin(i/2),s=Math.cos(i/2),u=Math.sin(n/2),c=Math.cos(n/2);return t[0]=a*s*u+o*l*c,t[1]=a*s*c-o*l*u,t[2]=o*s*u-a*l*c,t[3]=o*s*c+a*l*u,t}},m.inputDimension=1,m.outputDimension=4,m.valueProperty="currentValue",m.curveType=g.Tw2CurveSequencer.Type.SEQUENCER2,m.childProperties=["yawCurve","pitchCurve","rollCurve"],f=y((c=p).prototype,"yawCurve",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),d=y(c.prototype,"pitchCurve",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),h=y(c.prototype,"rollCurve",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),b=y(c.prototype,"currentValue",[l,s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return v.quat.create()}}),u=c))||u)},"./curve/sequencer/legacy/Tw2QuaternionSequencer.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tw2QuaternionSequencer",(function(){return E}));var i,n,a,o,l,s,u,c,f,d,h,b,m=r("./global/index.js"),p=r("./curve/sequencer/Tw2CurveSequencer.js");function v(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function g(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var E=(i=m.meta.type("Tw2QuaternionSequencer"),n=m.meta.float,a=m.meta.quaternion,o=m.meta.isPrivate,l=m.meta.listOf("Tw2Curve"),i((b=h=class extends p.Tw2CurveSequencer{constructor(...e){super(...e),v(this,"start",c,this),v(this,"value",f,this),v(this,"functions",d,this)}Sort(){p.Tw2CurveSequencer.Sort(this)}GetLength(){return p.Tw2CurveSequencer.GetLengthFromKeys(this)}UpdateValue(e){this.GetValueAt(e,this.value)}GetValueAt(e,t){m.quat.identity(t);for(var r=p.Tw2CurveSequencer.global.quat_0,i=0;i<this.functions.length;++i)this.functions[i].GetValueAt(e,r),m.quat.multiply(t,t,r);return t}},h.inputDimension=4,h.outputDimension=4,h.valueProperty="value",h.curveType=p.Tw2CurveSequencer.Type.SEQUENCER,h.childArray="functions",c=g((u=b).prototype,"start",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),f=g(u.prototype,"value",[a,o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return m.quat.create()}}),d=g(u.prototype,"functions",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),s=u))||s)},"./curve/sequencer/legacy/Tw2RGBAScalarSequencer.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tw2RGBAScalarSequencer",(function(){return _}));var i,n,a,o,l,s,u,c,f,d,h,b,m,p,v,g,E=r("./global/index.js"),y=r("./curve/sequencer/Tw2CurveSequencer.js");function T(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function w(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var _=(i=E.meta.type("Tw2RGBAScalarSequencer"),n=E.meta.vector4,a=E.meta.isPrivate,o=E.meta.objectOf("Tw2Curve"),l=E.meta.objectOf("Tw2Curve"),s=E.meta.objectOf("Tw2Curve"),u=E.meta.objectOf("Tw2Curve"),i((g=v=class extends y.Tw2CurveSequencer{constructor(...e){super(...e),T(this,"value",d,this),T(this,"RedCurve",h,this),T(this,"GreenCurve",b,this),T(this,"BlueCurve",m,this),T(this,"AlphaCurve",p,this)}Sort(){y.Tw2CurveSequencer.Sort2(this)}GetLength(){return y.Tw2CurveSequencer.GetLengthFromProperties(this)}UpdateValue(e){this.GetValueAt(e,this.value)}GetValueAt(e,t){return t[0]=this.RedCurve?this.RedCurve.GetValueAt(e):0,t[1]=this.GreenCurve?this.GreenCurve.GetValueAt(e):0,t[2]=this.BlueCurve?this.BlueCurve.GetValueAt(e):0,t[3]=this.AlphaCurve?this.AlphaCurve.GetValueAt(e):0,t}},v.inputDimension=1,v.outputDimension=4,v.valueProperty="value",v.curveType=y.Tw2CurveSequencer.Type.SEQUENCER2,v.childProperties=["RedCurve","GreenCurve","BlueCurve","AlphaCurve"],d=w((f=g).prototype,"value",[n,a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return E.vec4.create()}}),h=w(f.prototype,"RedCurve",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),b=w(f.prototype,"GreenCurve",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),m=w(f.prototype,"BlueCurve",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),p=w(f.prototype,"AlphaCurve",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),c=f))||c)},"./curve/sequencer/legacy/Tw2ScalarSequencer.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tw2ScalarSequencer",(function(){return P}));var i,n,a,o,l,s,u,c,f,d,h,b,m,p,v,g,E,y,T,w,_,S,R=r("./global/index.js"),j=r("./curve/sequencer/Tw2CurveSequencer.js");function O(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function A(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var z={MULTIPLY:0,ADD:1},P=(i=R.meta.type("Tw2ScalarSequencer"),n=R.meta.float,a=R.meta.isPrivate,o=R.meta.enumerable(z),l=R.meta.listOf("Tw2Curve"),s=R.meta.float,u=R.meta.float,c=R.meta.float,f=R.meta.float,d=R.meta.boolean,i((S=_=class e extends j.Tw2CurveSequencer{constructor(...e){super(...e),O(this,"value",m,this),O(this,"operator",p,this),O(this,"functions",v,this),O(this,"inMinClamp",g,this),O(this,"inMaxClamp",E,this),O(this,"outMinClamp",y,this),O(this,"outMaxClamp",T,this),O(this,"clamping",w,this)}Sort(){j.Tw2CurveSequencer.Sort(this)}GetLength(){return j.Tw2CurveSequencer.GetLengthFromKeys(this)}UpdateValue(e){this.value=this.GetValueAt(e)}GetValueAt(t){var r;switch(this.operator){case e.Operator.MULTIPLY:r=1;for(var i=0;i<this.functions.length;++i){var n=this.functions[i].GetValueAt(t);this.clamping&&(n=Math.min(Math.max(n,this.inMinClamp),this.inMaxClamp)),r*=n}break;default:r=0;for(var a=0;a<this.functions.length;++a){var o=this.functions[a].GetValueAt(t);this.clamping&&(o=Math.min(Math.max(o,this.inMinClamp),this.inMaxClamp)),r+=o}}return this.clamping&&(r=Math.min(Math.max(r,this.outMinClamp),this.outMaxClamp)),r}},_.inputDimension=1,_.outputDimension=1,_.valueProperty="value",_.curveType=j.Tw2CurveSequencer.Type.SEQUENCER,_.childArray="functions",_.Operator=z,m=A((b=S).prototype,"value",[n,a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),p=A(b.prototype,"operator",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),v=A(b.prototype,"functions",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),g=A(b.prototype,"inMinClamp",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),E=A(b.prototype,"inMaxClamp",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),y=A(b.prototype,"outMinClamp",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),T=A(b.prototype,"outMaxClamp",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),w=A(b.prototype,"clamping",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),h=b))||h)},"./curve/sequencer/legacy/Tw2VectorSequencer.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tw2VectorSequencer",(function(){return w}));var i,n,a,o,l,s,u,c,f,d,h,b,m,p,v=r("./global/index.js"),g=r("./curve/sequencer/Tw2CurveSequencer.js");function E(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function y(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var T={MULTIPLY:0,ADD:1},w=(i=v.meta.type("Tw2VectorSequencer"),n=v.meta.float,a=v.meta.vector3,o=v.meta.isPrivate,l=v.meta.enumerable(T),s=v.meta.listOf("Tw2Curve"),i((p=m=class e extends g.Tw2CurveSequencer{constructor(...e){super(...e),E(this,"start",f,this),E(this,"value",d,this),E(this,"operator",h,this),E(this,"functions",b,this)}Sort(){g.Tw2CurveSequencer.Sort(this)}GetLength(){return g.Tw2CurveSequencer.GetLengthFromKeys(this)}UpdateValue(e){this.GetValueAt(e,this.value)}GetValueAt(t,r){var i=g.Tw2CurveSequencer.global.vec3_0;switch(this.operator){case e.Operator.MULTIPLY:v.vec3.set(r,1,1,1);for(var n=0;n<this.functions.length;++n)this.functions[n].GetValueAt(t,i),v.vec3.multiply(r,r,i);return r;default:v.vec3.set(r,0,0,0);for(var a=0;a<this.functions.length;++a)this.functions[a].GetValueAt(t,i),v.vec3.add(r,r,i);return r}}},m.inputDimension=3,m.outputDimension=3,m.valueProperty="value",m.curveType=g.Tw2CurveSequencer.Type.SEQUENCER,m.childArray="functions",m.Operator=T,f=y((c=p).prototype,"start",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),d=y(c.prototype,"value",[a,o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return v.vec3.create()}}),h=y(c.prototype,"operator",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),b=y(c.prototype,"functions",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),u=c))||u)},"./curve/sequencer/legacy/Tw2XYZScalarSequencer.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tw2XYZScalarSequencer",(function(){return T}));var i,n,a,o,l,s,u,c,f,d,h,b,m,p,v=r("./global/index.js"),g=r("./curve/sequencer/Tw2CurveSequencer.js");function E(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function y(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var T=(i=v.meta.type("Tw2XYZScalarSequencer"),n=v.meta.vector3,a=v.meta.isPrivate,o=v.meta.objectOf("Tw2Curve"),l=v.meta.objectOf("Tw2Curve"),s=v.meta.objectOf("Tw2Curve"),i((p=m=class extends g.Tw2CurveSequencer{constructor(...e){super(...e),E(this,"value",f,this),E(this,"XCurve",d,this),E(this,"YCurve",h,this),E(this,"ZCurve",b,this)}Sort(){g.Tw2CurveSequencer.Sort2(this)}GetLength(){return g.Tw2CurveSequencer.GetLengthFromProperties(this)}UpdateValue(e){this.GetValueAt(e,this.value)}GetValueAt(e,t){return t[0]=this.XCurve?this.XCurve.GetValueAt(e):0,t[1]=this.YCurve?this.YCurve.GetValueAt(e):0,t[2]=this.ZCurve?this.ZCurve.GetValueAt(e):0,t}},m.inputDimension=1,m.outputDimension=3,m.valueProperty="value",m.curveType=g.Tw2CurveSequencer.Type.SEQUENCER2,m.childProperties=["XCurve","YCurve","ZCurve"],f=y((c=p).prototype,"value",[n,a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return v.vec3.create()}}),d=y(c.prototype,"XCurve",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),h=y(c.prototype,"YCurve",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),b=y(c.prototype,"ZCurve",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),u=c))||u)},"./curve/sequencer/legacy/Tw2YPRSequencer.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tw2YPRSequencer",(function(){return S}));var i,n,a,o,l,s,u,c,f,d,h,b,m,p,v,g,E,y=r("./global/index.js"),T=r("./curve/sequencer/Tw2CurveSequencer.js");function w(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function _(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var S=(i=y.meta.type("Tw2YPRSequencer"),n=y.meta.quaternion,a=y.meta.isPrivate,o=y.meta.vector3,l=y.meta.isPrivate,s=y.meta.objectOf("Tw2Curve"),u=y.meta.objectOf("Tw2Curve"),c=y.meta.objectOf("Tw2Curve"),i((E=g=class extends T.Tw2CurveSequencer{constructor(...e){super(...e),w(this,"value",h,this),w(this,"YawPitchRoll",b,this),w(this,"YawCurve",m,this),w(this,"PitchCurve",p,this),w(this,"RollCurve",v,this)}Sort(){T.Tw2CurveSequencer.Sort2(this)}GetLength(){return T.Tw2CurveSequencer.GetLengthFromProperties(this)}UpdateValue(e){this.GetValueAt(e,this.value)}GetValueAt(e,t){this.YawCurve&&(this.YawPitchRoll[0]=this.YawCurve.GetValueAt(e)),this.PitchCurve&&(this.YawPitchRoll[1]=this.PitchCurve.GetValueAt(e)),this.RollCurve&&(this.YawPitchRoll[2]=this.RollCurve.GetValueAt(e));var r=Math.sin(this.YawPitchRoll[0]/180*Math.PI/2),i=Math.cos(this.YawPitchRoll[0]/180*Math.PI/2),n=Math.sin(this.YawPitchRoll[1]/180*Math.PI/2),a=Math.cos(this.YawPitchRoll[1]/180*Math.PI/2),o=Math.sin(this.YawPitchRoll[2]/180*Math.PI/2),l=Math.cos(this.YawPitchRoll[2]/180*Math.PI/2);return t[0]=r*a*o+i*n*l,t[1]=r*a*l-i*n*o,t[2]=i*a*o-r*n*l,t[3]=i*a*l+r*n*o,t}},g.inputDimension=1,g.outputDimension=4,g.valueProperty="value",g.curveType=T.Tw2CurveSequencer.Type.SEQUENCER2,g.childProperties=["YawCurve","PitchCurve","RollCurve"],h=_((d=E).prototype,"value",[n,a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return y.quat.create()}}),b=_(d.prototype,"YawPitchRoll",[o,l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return y.vec3.create()}}),m=_(d.prototype,"YawCurve",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),p=_(d.prototype,"PitchCurve",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),v=_(d.prototype,"RollCurve",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),f=d))||f)},"./curve/sequencer/legacy/index.js":function(e,t,r){"use strict";r.r(t);var i=r("./curve/sequencer/legacy/Tw2ColorSequencer.js");r.d(t,"Tw2ColorSequencer",(function(){return i.Tw2ColorSequencer}));var n=r("./curve/sequencer/legacy/Tw2EulerRotation.js");r.d(t,"Tw2EulerRotation",(function(){return n.Tw2EulerRotation}));var a=r("./curve/sequencer/legacy/Tw2QuaternionSequencer.js");r.d(t,"Tw2QuaternionSequencer",(function(){return a.Tw2QuaternionSequencer}));var o=r("./curve/sequencer/legacy/Tw2RGBAScalarSequencer.js");r.d(t,"Tw2RGBAScalarSequencer",(function(){return o.Tw2RGBAScalarSequencer}));var l=r("./curve/sequencer/legacy/Tw2ScalarSequencer.js");r.d(t,"Tw2ScalarSequencer",(function(){return l.Tw2ScalarSequencer}));var s=r("./curve/sequencer/legacy/Tw2VectorSequencer.js");r.d(t,"Tw2VectorSequencer",(function(){return s.Tw2VectorSequencer}));var u=r("./curve/sequencer/legacy/Tw2XYZScalarSequencer.js");r.d(t,"Tw2XYZScalarSequencer",(function(){return u.Tw2XYZScalarSequencer}));var c=r("./curve/sequencer/legacy/Tw2YPRSequencer.js");r.d(t,"Tw2YPRSequencer",(function(){return c.Tw2YPRSequencer}))},"./eve/EveSpaceScene.js":function(e,t,r){"use strict";r.r(t),r.d(t,"EveSpaceScene",(function(){return Xe}));var i,n,a,o,l,s,u,c,f,d,h,b,m,p,v,g,E,y,T,w,_,S,R,j,O,A,z,P,C,D,I,x,L,M,F,G,k,N,B,U,V,H,q,W,Y,X,K,Q,Z,$,J,ee,te,re,ie,ne,ae,oe,le,se,ue,ce,fe,de,he,be,me,pe,ve,ge,Ee,ye,Te,we,_e,Se,Re,je,Oe,Ae,ze,Pe,Ce,De,Ie,xe,Le,Me,Fe,Ge,ke,Ne,Be,Ue,Ve,He=r("./global/index.js"),qe=r("./core/index.js");function We(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function Ye(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var Xe=(i=He.meta.type("EveSpaceScene",!0),n=He.meta.black.color,a=He.meta.black.objectOf("Tw2Effect"),o=He.meta.black.listOf("EveObject"),l=He.meta.black.boolean,s=He.meta.black.listOf("Tw2CurveSet"),u=He.meta.notImplemented,c=He.meta.black.boolean,f=He.meta.black.path,d=He.meta.black.path,h=He.meta.black.path,b=He.meta.black.quaternion,m=He.meta.notImplemented,p=He.meta.black.listOf("Tr2ExternalParameter"),v=He.meta.black.color,g=He.meta.black.float,E=He.meta.black.float,y=He.meta.black.float,T=He.meta.black.float,w=He.meta.black.listOf("EveObject"),_=He.meta.black.path,S=He.meta.notImplemented,R=He.meta.black.boolean,j=He.meta.notImplemented,O=He.meta.black.objectOf("Tr2ShLightingManager"),A=He.meta.notImplemented,z=He.meta.black.float,P=He.meta.todo("Identify ps/vs frame data"),C=He.meta.notImplemented,D=He.meta.black.float,I=He.meta.todo("Identify ps/vs frame data"),x=He.meta.notImplemented,L=He.meta.black.objectOf("EveStarField"),M=He.meta.black.color,F=He.meta.notImplemented,G=He.meta.black.color,k=He.meta.black.vector3,N=He.meta.notImplemented,B=He.meta.black.boolean,U=He.meta.color,V=He.meta.boolean,H=He.meta.vector3,q=He.meta.uint,W=He.meta.uint,Y=He.meta.listOf("EveLensflare"),X=He.meta.listOf("EvePlanet"),K=He.meta.listOf("EveCurveLineSet"),Q=He.meta.notImplemented,Z=He.meta.objectOf("Tr2PostProcess"),$=He.meta.notImplemented,J=He.meta.objectOf("Tw2Effect"),ee=He.meta.todo("Do shadows need their own render mode and batch accumulation?"),te=He.meta.plain,i((Ve=Ue=class e extends He.Tw2BaseClass{constructor(){super(),We(this,"ambientColor",ne,this),We(this,"backgroundEffect",ae,this),We(this,"backgroundObjects",oe,this),We(this,"backgroundRenderingEnabled",le,this),We(this,"curveSets",se,this),We(this,"enableShadows",ue,this),We(this,"envMap1ResPath",ce,this),We(this,"envMap2ResPath",fe,this),We(this,"envMapResPath",de,this),We(this,"envMapRotation",he,this),We(this,"externalParameters",be,this),We(this,"fogColor",me,this),We(this,"fogEnd",pe,this),We(this,"fogMax",ve,this),We(this,"fogStart",ge,this),We(this,"nebulaIntensity",Ee,this),We(this,"objects",ye,this),We(this,"postProcessPath",Te,this),We(this,"selfShadowOnly",we,this),We(this,"shLightingManager",_e,this),We(this,"shadowFadeThreshold",Se,this),We(this,"shadowThreshold",Re,this),We(this,"starfield",je,this),We(this,"sunDiffuseColor",Oe,this),We(this,"sunDiffuseColorWithDynamicLights",Ae,this),We(this,"sunDirection",ze,this),We(this,"useSunDiffuseColorWithDynamicLights",Pe,this),We(this,"clearColor",Ce,this),We(this,"display",De,this),We(this,"envMapScaling",Ie,this),We(this,"fogBlur",xe,this),We(this,"fogType",Le,this),We(this,"lensflares",Me,this),We(this,"planets",Fe,this),We(this,"lineSets",Ge,this),We(this,"postProcess",ke,this),We(this,"shadowEffect",Ne,this),We(this,"visible",Be,this),this._debugHelper=null,this._batches=new qe.Tw2BatchAccumulator,this._emptyTexture=null,this._frustum=new qe.Tw2Frustum,this._lodEnabled=!1,this._perFrameVS=qe.Tw2RawData.from(e.perFrameData.vs),this._perFramePS=qe.Tw2RawData.from(e.perFrameData.ps),this._envMapRes=null,this._envMap1Res=null,this._envMap2Res=null,Object.defineProperty(this.visible,"environment",{get:()=>this.backgroundRenderingEnabled,set:e=>this.backgroundRenderingEnabled=e?1:0}),Object.defineProperty(this.visible,"shadow",{get:()=>this.enableShadows,set:e=>this.enableShadows=e?1:0}),e.init()}Initialize(){if(this.SetEnvMapReflection(this.envMapPath),this.SetEnvMapDiffuse(this.envMap1ResPath),this.SetEnvMapBlur(this.envMap2ResPath),this.SetPostProcess(this.postProcessPath),this.objects.length){for(var e=0;e<this.objects.length;e++)this.backgroundObjects.push(this.objects[e]);this.objects.splice(0)}}SetPostProcess(e=""){e?(this.postProcessPath=e.toLowerCase(),He.resMan.GetObject(e,e=>this.postProcess=e)):(this.postProcessPath="",this.postProcess=null)}SetEnvMapReflection(e=""){e?(this.envMapResPath=e,this._envMapRes=He.resMan.GetResource(e)):(this.envMapPath="",this._envMapRes=null)}SetEnvMapDiffuse(e=""){e?(this.envMap1ResPath=e.toLowerCase(),this._envMap1Res=He.resMan.GetResource(e)):(this.envMap1ResPath="",this._envMap1Res=null)}SetEnvMapBlur(e=""){if(!e)return this.envMap2ResPath="",void(this._envMap1Res=null);this.envMap2ResPath=e.toLowerCase(),this._envMap2Res=He.resMan.GetResource(e)}EnableLod(e){this._lodEnabled=e,e||this.PerChildObject("ResetLod")}KeepAlive(){var e=this.GetResources();this.GetChildResources(e);for(var t=0;t<e.length;t++)e[t].KeepAlive()}GetResources(e=[]){for(var t=0;t<this.lensflares.length;t++)this.lensflares[t].GetResources(e);return this.backgroundEffect&&this.backgroundEffect.GetResources(e),this.postProcess&&this.postProcess.GetResources(e),this.starfield&&this.starfield.GetResources(e),this._envMapRes&&!e.includes(this._envMapRes)&&e.push(this._envMapRes),this._envMap1Res&&!e.includes(this._envMap1Res)&&e.push(this._envMapRes),this._envMap2Res&&!e.includes(this._envMap2Res)&&e.push(this._envMapRes),e}GetChildResources(e=[]){return this.PerChildObject("GetResources",e),e}PerChildObject(e,...t){for(var r=0;r<this.planets.length;r++)e in this.planets[r]&&this.planets[r][e](...t);for(var i=0;i<this.objects.length;i++)e in this.objects[i]&&this.objects[i][e](...t);for(var n=0;n<this.backgroundObjects.length;n++)e in this.backgroundObjects[n]&&this.backgroundObjects[n][e](...t);for(var a=0;a<this.lineSets.length;a++)e in this.lineSets[a]&&this.lineSets[a][e](...t)}GetEmptyTexture(){return this._emptyTexture||(this._emptyTexture=He.resMan.GetResource("res:/texture/global/black.dds.0.png")),this._emptyTexture}Update(e){for(var t=0;t<this.curveSets.length;t++)this.curveSets[t].Update(e);this.PerChildObject("Update",e)}RenderBatches(e,t,r=this._batches){for(var i=0;i<t.length;++i)"GetBatches"in t[i]&&t[i].GetBatches(e,r)}Render(t){this.ApplyPerFrameData();var r=He.device,i=e.global,n=void 0,a=this.visible;if(a.environment&&this.backgroundEffect&&(r.SetStandardStates(r.RM_FULLSCREEN),r.RenderCameraSpaceQuad(this.backgroundEffect)),a.planets&&this.planets.length){var o=He.mat4.copy(i.mat4_0,r.projection),l=He.mat4.copy(i.mat4_1,r.projection);l[10]=1e11/(1e4-1e11),l[14]=1e15/(1e4-1e11),r.SetProjection(l,!0),this.ApplyPerFrameData();for(var s=0;s<this.planets.length;++s)this.planets[s].UpdateViewDependentData&&this.planets[s].UpdateViewDependentData(n,t);this._batches.Clear(),r.gl.depthRange(.9,1),this.RenderBatches(r.RM_OPAQUE,this.planets),this.RenderBatches(r.RM_DECAL,this.planets),this.RenderBatches(r.RM_TRANSPARENT,this.planets),this.RenderBatches(r.RM_ADDITIVE,this.planets),this._batches.Render(),r.SetProjection(o,!0),this.ApplyPerFrameData(),r.gl.depthRange(0,.9)}if(this._lodEnabled&&(this._frustum.Initialize(r.view,r.projection,r.viewportWidth,r.viewInverse,r.viewProjection),this.PerChildObject("UpdateLod",this._frustum)),a.objects)for(var u=0;u<this.objects.length;++u)this.objects[u].UpdateViewDependentData&&this.objects[u].UpdateViewDependentData(n,t);if(a.backgroundObjects)for(var c=0;c<this.backgroundObjects.length;c++)this.backgroundObjects[c].UpdateViewDependentData&&this.backgroundObjects[c].UpdateViewDependentData(n,t);if(a.lineSets)for(var f=0;f<this.lineSets.length;f++)this.lineSets[f].UpdateViewDependentData(n,t);if(a.lensflares)for(var d=0;d<this.lensflares.length;++d)this.lensflares[d].PrepareRender();if(this._batches.Clear(),a.planets)for(var h=0;h<this.planets.length;++h)this.planets[h].GetZOnlyBatches(r.RM_OPAQUE,this._batches);if(a.objects&&(this.RenderBatches(r.RM_OPAQUE,this.objects),this.RenderBatches(r.RM_DECAL,this.objects),this.RenderBatches(r.RM_TRANSPARENT,this.objects),this.RenderBatches(r.RM_ADDITIVE,this.objects)),a.backgroundObjects&&(this.RenderBatches(r.RM_OPAQUE,this.backgroundObjects),this.RenderBatches(r.RM_DECAL,this.backgroundObjects),this.RenderBatches(r.RM_TRANSPARENT,this.backgroundObjects),this.RenderBatches(r.RM_ADDITIVE,this.backgroundObjects)),a.lineSets&&(this.RenderBatches(r.RM_TRANSPARENT,this.lineSets),this.RenderBatches(r.RM_ADDITIVE,this.lineSets)),a.lensflares)for(var b=0;b<this.lensflares.length;++b)this.lensflares[b].GetBatches(r.RM_ADDITIVE,this._batches);if(this.starfield,this.postProcess,this._batches.Render(),a.lensflares)for(var m=0;m<this.lensflares.length;++m)this.lensflares[m].UpdateOccluders();a.debug&&e.DebugRenderer&&(this._debugHelper||(this._debugHelper=new e.DebugRenderer),this.PerChildObject("RenderDebugInfo",this._debugHelper),this._debugHelper.Render())}ApplyPerFrameData(){var t=He.device,r=e.global,i=r.mat4_2,n=r.vec3_0,a=this.visible;He.mat4.fromQuat(i,this.envMapRotation),He.mat4.scale(i,i,this.envMapScaling),He.mat4.transpose(i,i),He.vec3.negate(n,this.sunDirection),He.vec3.normalize(n,n);var o=this.fogEnd-this.fogStart;Math.abs(o)<1e-5&&(o=1e-5);var l=1/o,s=this._perFrameVS;s.Set("FogFactors",[this.fogEnd*l,l,this.visible.fog?this.fogMax:0,1]),s.Set("ViewportAdjustment",[1,1,1,1]),s.Set("MiscSettings",[t.currentTime,0,t.viewportWidth,t.viewportHeight]),s.Set("SunData.DirWorld",n),s.Set("SunData.DiffuseColor",this.sunDiffuseColor),s.Set("TargetResolution",t.targetResolution),s.Set("ViewInverseTransposeMat",t.viewInverse),s.Set("ViewProjectionMat",t.viewProjectionTranspose),s.Set("ViewMat",t.viewTranspose),s.Set("ProjectionMat",t.projectionTranspose),s.Set("EnvMapRotationMat",i),t.perFrameVSData=s;var u=this._perFramePS;u.Set("ViewInverseTransposeMat",t.viewInverse),u.Set("ViewMat",t.viewTranspose),u.Set("EnvMapRotationMat",i),u.Set("SunData.DirWorld",n),u.Set("SunData.DiffuseColor",this.sunDiffuseColor),u.Set("SceneData.AmbientColor",this.ambientColor),u.Set("MiscSettings",[t.currentTime,this.fogType,this.fogBlur,1]),u.Set("SceneData.FogColor",this.fogColor),u.Set("FovXY",[t.targetResolution[3],t.targetResolution[2]]),u.Set("ShadowMapSettings",[1,1,0,0]),u.Set("TargetResolution",t.targetResolution),u.SetIndex("SceneData.NebulaIntensity",0,this.nebulaIntensity),u.SetIndex("ViewportSize",0,t.viewportWidth),u.SetIndex("ViewportSize",1,t.viewportHeight),u.SetIndex("ShadowCameraRange",0,1),u.SetIndex("ProjectionToView",0,-t.projection[14]),u.SetIndex("ProjectionToView",1,-t.projection[10]-1),t.perFramePSData=u;var c=this._envMapRes&&a.environmentReflection?this._envMapRes:this.GetEmptyTexture(),f=this._envMap1Res&&a.environmentDiffuse?this._envMap1Res:this.GetEmptyTexture(),d=this._envMap2Res&&a.environmentBlur?this._envMap2Res:this.GetEmptyTexture();He.tw2.GetVariable("EveSpaceSceneEnvMap").SetTextureRes(c),He.tw2.GetVariable("EnvMap1").SetTextureRes(f),He.tw2.GetVariable("EnvMap2").SetTextureRes(d)}static init(){e.global||(e.global={vec3_0:He.vec3.create(),vec4_0:He.vec4.create(),mat4_0:He.mat4.create(),mat4_1:He.mat4.create(),mat4_2:He.mat4.create()})}},Ue.perFrameData={ps:[["ViewInverseTransposeMat",16],["ViewMat",16],["EnvMapRotationMat",16],["SunData.DirWorld",4],["SunData.DiffuseColor",4],["SceneData.AmbientColor",3],["SceneData.NebulaIntensity",1],["SceneData.FogColor",4],["ViewportOffset",2],["ViewportSize",2],["TargetResolution",4],["ShadowMapSettings",4],["ShadowCameraRange",4],["ProjectionToView",2],["FovXY",2],["MiscSettings",4]],vs:[["ViewInverseTransposeMat",16],["ViewProjectionMat",16],["ViewMat",16],["ProjectionMat",16],["ShadowViewMat",16],["ShadowViewProjectionMat",16],["EnvMapRotationMat",16],["SunData.DirWorld",4],["SunData.DiffuseColor",4],["FogFactors",4],["TargetResolution",4],["ViewportAdjustment",4],["MiscSettings",4]]},Ue.global=null,Ue.DebugRenderer=window.Tw2DebugRenderer||null,ne=Ye((ie=Ve).prototype,"ambientColor",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return He.vec4.fromValues(.25,.25,.25,1)}}),ae=Ye(ie.prototype,"backgroundEffect",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),oe=Ye(ie.prototype,"backgroundObjects",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),le=Ye(ie.prototype,"backgroundRenderingEnabled",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),se=Ye(ie.prototype,"curveSets",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),ue=Ye(ie.prototype,"enableShadows",[u,c],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),ce=Ye(ie.prototype,"envMap1ResPath",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),fe=Ye(ie.prototype,"envMap2ResPath",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),de=Ye(ie.prototype,"envMapResPath",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),he=Ye(ie.prototype,"envMapRotation",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return He.quat.create()}}),be=Ye(ie.prototype,"externalParameters",[m,p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),me=Ye(ie.prototype,"fogColor",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return He.vec4.fromValues(.25,.25,.25,1)}}),pe=Ye(ie.prototype,"fogEnd",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),ve=Ye(ie.prototype,"fogMax",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),ge=Ye(ie.prototype,"fogStart",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Ee=Ye(ie.prototype,"nebulaIntensity",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),ye=Ye(ie.prototype,"objects",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Te=Ye(ie.prototype,"postProcessPath",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),we=Ye(ie.prototype,"selfShadowOnly",[S,R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),_e=Ye(ie.prototype,"shLightingManager",[j,O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Se=Ye(ie.prototype,"shadowFadeThreshold",[A,z,P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Re=Ye(ie.prototype,"shadowThreshold",[C,D,I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),je=Ye(ie.prototype,"starfield",[x,L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Oe=Ye(ie.prototype,"sunDiffuseColor",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return He.vec4.fromValues(1,1,1,1)}}),Ae=Ye(ie.prototype,"sunDiffuseColorWithDynamicLights",[F,G],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return He.vec4.fromValues(1,1,1,1)}}),ze=Ye(ie.prototype,"sunDirection",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return He.vec3.fromValues(1,-1,1)}}),Pe=Ye(ie.prototype,"useSunDiffuseColorWithDynamicLights",[N,B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Ce=Ye(ie.prototype,"clearColor",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return He.vec4.fromValues(0,0,0,1)}}),De=Ye(ie.prototype,"display",[V],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),Ie=Ye(ie.prototype,"envMapScaling",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return He.vec3.fromValues(1,1,1)}}),xe=Ye(ie.prototype,"fogBlur",[q],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Le=Ye(ie.prototype,"fogType",[W],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Me=Ye(ie.prototype,"lensflares",[Y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Fe=Ye(ie.prototype,"planets",[X],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Ge=Ye(ie.prototype,"lineSets",[K],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),ke=Ye(ie.prototype,"postProcess",[Q,Z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ne=Ye(ie.prototype,"shadowEffect",[$,J,ee],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Be=Ye(ie.prototype,"visible",[te],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{backgroundObjects:!0,clearColor:!0,debug:!1,environmentReflection:!0,environmentDiffuse:!0,environmentBlur:!0,fog:!0,lensflares:!0,lineSets:!0,objects:!0,planets:!0,post:!0,starField:!0}}}),re=ie))||re)},"./eve/child/EveChild.js":function(e,t,r){"use strict";r.r(t),r.d(t,"EveChild",(function(){return b}));var i,n,a,o,l,s,u,c,f,d=r("./global/index.js");function h(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var b=(i=d.meta.abstract,n=d.meta.type("EveChild"),a=d.meta.abstract,o=d.meta.abstract,l=d.meta.abstract,i(s=n((f=c=class extends d.Tw2BaseClass{Update(e,t){}GetResources(e=[]){}GetBatches(e,t,r){}},c.global={mat4_0:d.mat4.create(),vec3_0:d.vec3.create()},c.perObjectData={ffe:[["world",16],["worldInverseTranspose",16]]},c.__isEffectChild=!0,h((u=f).prototype,"Update",[a],Object.getOwnPropertyDescriptor(u.prototype,"Update"),u.prototype),h(u.prototype,"GetResources",[o],Object.getOwnPropertyDescriptor(u.prototype,"GetResources"),u.prototype),h(u.prototype,"GetBatches",[l],Object.getOwnPropertyDescriptor(u.prototype,"GetBatches"),u.prototype),s=u))||s)||s)},"./eve/child/EveChildBillboard.js":function(e,t,r){"use strict";r.r(t),r.d(t,"EveChildBillboard",(function(){return C}));var i,n,a,o,l,s,u,c,f,d,h,b,m,p,v,g,E,y,T,w,_,S,R,j=r("./global/index.js"),O=r("./core/index.js"),A=r("./eve/child/EveChild.js");function z(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function P(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var C=(i=j.meta.type("EveChildBillboard",!0),n=j.meta.todo("Deprecated?"),a=j.meta.boolean,o=j.meta.matrix4,l=j.meta.uint,s=j.meta.objectOf(["Tw2Mesh","Tw2InstancedMesh"]),u=j.meta.quaternion,c=j.meta.vector3,f=j.meta.vector3,d=j.meta.boolean,h=j.meta.boolean,i(b=n((R=class extends A.EveChild{constructor(...e){super(...e),z(this,"display",p,this),z(this,"localTransform",v,this),z(this,"lowestLodVisible",g,this),z(this,"mesh",E,this),z(this,"rotation",y,this),z(this,"translation",T,this),z(this,"scaling",w,this),z(this,"staticTransform",_,this),z(this,"useSRT",S,this),this._perObjectData=O.Tw2PerObjectData.from(A.EveChild.perObjectData),this._worldTransform=j.mat4.create(),this._worldTransformLast=j.mat4.create()}GetResources(e){return this.mesh&&this.mesh.GetResources(e),e}Update(e,t){this.useSRT&&(j.quat.normalize(this.rotation,this.rotation),j.mat4.fromRotationTranslationScale(this.localTransform,this.rotation,this.translation,this.scaling)),j.mat4.copy(this._worldTransformLast,this._worldTransform),j.mat4.multiply(this._worldTransform,t,this.localTransform);var r=A.EveChild.global.mat4_0,i=A.EveChild.global.vec3_0;j.mat4.lookAt(r,j.tw2.device.eyePosition,this._worldTransform.subarray(12),[0,1,0]),j.mat4.transpose(r,r),j.mat4.getScaling(i,t),j.vec3.multiply(i,i,this.scaling),this._worldTransform[0]=r[0]*i[0],this._worldTransform[1]=r[1]*i[0],this._worldTransform[2]=r[2]*i[0],this._worldTransform[4]=r[4]*i[1],this._worldTransform[5]=r[5]*i[1],this._worldTransform[6]=r[6]*i[1],this._worldTransform[8]=r[8]*i[2],this._worldTransform[9]=r[9]*i[2],this._worldTransform[10]=r[10]*i[2]}GetBatches(e,t){this.display&&this.mesh&&(j.mat4.transpose(this._perObjectData.ffe.Get("world"),this._worldTransform),j.mat4.invert(this._perObjectData.ffe.Get("worldInverseTranspose"),this._worldTransform),this.mesh.GetBatches(e,t,this._perObjectData))}},p=P((m=R).prototype,"display",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),v=P(m.prototype,"localTransform",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return j.mat4.create()}}),g=P(m.prototype,"lowestLodVisible",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 2}}),E=P(m.prototype,"mesh",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),y=P(m.prototype,"rotation",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return j.quat.create()}}),T=P(m.prototype,"translation",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return j.vec3.create()}}),w=P(m.prototype,"scaling",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return j.vec3.fromValues(1,1,1)}}),_=P(m.prototype,"staticTransform",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),S=P(m.prototype,"useSRT",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),b=m))||b)||b)},"./eve/child/EveChildContainer.js":function(e,t,r){"use strict";r.r(t),r.d(t,"EveChildContainer",(function(){return ae}));var i,n,a,o,l,s,u,c,f,d,h,b,m,p,v,g,E,y,T,w,_,S,R,j,O,A,z,P,C,D,I,x,L,M,F,G,k,N,B,U,V,H,q,W,Y,X,K,Q,Z,$,J,ee,te=r("./eve/child/EveChild.js"),re=r("./global/index.js");function ie(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function ne(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var ae=(i=re.meta.type("EveChildContainer",!0),n=re.meta.stage(2),a=re.meta.black.string,o=re.meta.notImplemented,l=re.meta.black.boolean,s=re.meta.black.uint,u=re.meta.notImplemented,c=re.meta.black.listOf("Tr2Controller"),f=re.meta.black.listOf("Tw2CurveSet"),d=re.meta.black.boolean,h=re.meta.notImplemented,b=re.meta.black.object,m=re.meta.notImplemented,p=re.meta.black.boolean,v=re.meta.notImplemented,g=re.meta.black.objectOf("EveChildInheritProperties"),E=re.meta.notImplemented,y=re.meta.black.listOf("Tr2PointLight"),T=re.meta.black.matrix4,w=re.meta.black.listOf("EveChild"),_=re.meta.notImplemented,S=re.meta.black.listOf("TriObserverLocal"),R=re.meta.black.quaternion,j=re.meta.black.vector3,O=re.meta.notImplemented,A=re.meta.black.boolean,z=re.meta.notImplemented,P=re.meta.black.listOf("EveChildModifier"),C=re.meta.black.vector3,D=re.meta.boolean,i(I=n((ee=class extends te.EveChild{constructor(...e){super(...e),ie(this,"name",L,this),ie(this,"alwaysOn",M,this),ie(this,"boneIndex",F,this),ie(this,"controllers",G,this),ie(this,"curveSets",k,this),ie(this,"display",N,this),ie(this,"displayFilter",B,this),ie(this,"hideOnLowQuality",U,this),ie(this,"inheritProperties",V,this),ie(this,"lights",H,this),ie(this,"localTransform",q,this),ie(this,"objects",W,this),ie(this,"observers",Y,this),ie(this,"rotation",X,this),ie(this,"scaling",K,this),ie(this,"staticTransform",Q,this),ie(this,"transformModifiers",Z,this),ie(this,"translation",$,this),ie(this,"useSRT",J,this),this._worldTransform=re.mat4.create(),this._worldTransformLast=re.mat4.create()}GetResources(e=[]){for(var t=0;t<this.objects.length;t++)this.objects[t].GetResources(e);return e}Update(e,t){this.useSRT&&re.mat4.fromRotationTranslationScale(this.localTransform,this.rotation,this.translation,this.scaling),re.mat4.copy(this._worldTransformLast,this._worldTransform),re.mat4.multiply(this._worldTransform,t,this.localTransform);for(var r=0;r<this.curveSets.length;r++)this.curveSets[r].Update(e);for(var i=0;i<this.objects.length;i++)this.objects[i].Update(e,this._worldTransform)}GetBatches(e,t,r){if(this.display)for(var i=0;i<this.objects.length;i++)this.objects[i].GetBatches(e,t,r)}},L=ne((x=ee).prototype,"name",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),M=ne(x.prototype,"alwaysOn",[o,l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),F=ne(x.prototype,"boneIndex",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return-1}}),G=ne(x.prototype,"controllers",[u,c],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),k=ne(x.prototype,"curveSets",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),N=ne(x.prototype,"display",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),B=ne(x.prototype,"displayFilter",[h,b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),U=ne(x.prototype,"hideOnLowQuality",[m,p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),V=ne(x.prototype,"inheritProperties",[v,g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),H=ne(x.prototype,"lights",[E,y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),q=ne(x.prototype,"localTransform",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return re.mat4.create()}}),W=ne(x.prototype,"objects",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Y=ne(x.prototype,"observers",[_,S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),X=ne(x.prototype,"rotation",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return re.quat.create()}}),K=ne(x.prototype,"scaling",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return re.vec3.fromValues(1,1,1)}}),Q=ne(x.prototype,"staticTransform",[O,A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Z=ne(x.prototype,"transformModifiers",[z,P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),$=ne(x.prototype,"translation",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return re.vec3.create()}}),J=ne(x.prototype,"useSRT",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),I=x))||I)||I)},"./eve/child/EveChildMesh.js":function(e,t,r){"use strict";r.r(t),r.d(t,"EveChildMesh",(function(){return W}));var i,n,a,o,l,s,u,c,f,d,h,b,m,p,v,g,E,y,T,w,_,S,R,j,O,A,z,P,C,D,I,x,L,M,F,G,k,N,B=r("./global/index.js"),U=r("./core/index.js"),V=r("./eve/child/EveChild.js");function H(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function q(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var W=(i=B.meta.type("EveChildMesh",!0),n=B.meta.desc("Mesh attachment to space object"),a=B.meta.black.string,o=B.meta.black.boolean,l=B.meta.black.matrix4,s=B.meta.notImplemented,u=B.meta.black.uint,c=B.meta.black.objectOf(["Tw2Mesh","Tw2InstancedMesh"]),f=B.meta.notImplemented,d=B.meta.black.float,h=B.meta.black.quaternion,b=B.meta.black.vector3,m=B.meta.notImplemented,p=B.meta.black.float,v=B.meta.notImplemented,g=B.meta.black.boolean,E=B.meta.notImplemented,y=B.meta.black.listOf("EveChildModifier"),T=B.meta.black.vector3,w=B.meta.black.boolean,_=B.meta.black.boolean,i(S=n((N=class extends V.EveChild{constructor(...e){super(...e),H(this,"name",j,this),H(this,"display",O,this),H(this,"localTransform",A,this),H(this,"lowestLodVisible",z,this),H(this,"mesh",P,this),H(this,"minScreenSize",C,this),H(this,"rotation",D,this),H(this,"scaling",I,this),H(this,"sortValueOffset",x,this),H(this,"staticTransform",L,this),H(this,"transformModifiers",M,this),H(this,"translation",F,this),H(this,"useSRT",G,this),H(this,"useSpaceObjectData",k,this),this._worldTransform=B.mat4.create(),this._worldTransformLast=B.mat4.create(),this._perObjectData=null}GetResources(e=[]){return this.mesh&&this.mesh.GetResources(e),e}Update(e,t){this.useSRT&&(B.quat.normalize(this.rotation,this.rotation),B.mat4.fromRotationTranslationScale(this.localTransform,this.rotation,this.translation,this.scaling)),B.mat4.copy(this._worldTransformLast,this._worldTransform),B.mat4.multiply(this._worldTransform,t,this.localTransform)}GetBatches(e,t,r){this.display&&this.mesh&&(this.useSpaceObjectData?(this._perObjectData||(this._perObjectData=new U.Tw2PerObjectData,this._perObjectData.vs=new U.Tw2RawData,this._perObjectData.vs.data=new Float32Array(r.vs.data.length),this._perObjectData.vs.data[33]=1,this._perObjectData.vs.data[35]=1,this._perObjectData.ps=new U.Tw2RawData,this._perObjectData.ps.data=new Float32Array(r.ps.data.length),this._perObjectData.ps.data[1]=1,this._perObjectData.ps.data[3]=1),this._perObjectData.vs.data.set(r.vs.data),this._perObjectData.ps.data.set(r.ps.data),B.mat4.transpose(this._perObjectData.vs.data,this._worldTransform),B.mat4.transpose(this._perObjectData.vs.data.subarray(16),this._worldTransformLast)):(this._perObjectData||(this._perObjectData=U.Tw2PerObjectData.from(V.EveChild.perObjectData)),B.mat4.transpose(this._perObjectData.ffe.Get("world"),this._worldTransform),B.mat4.invert(this._perObjectData.ffe.Get("worldInverseTranspose"),this._worldTransform)),this.mesh.GetBatches(e,t,this._perObjectData))}},j=q((R=N).prototype,"name",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),O=q(R.prototype,"display",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),A=q(R.prototype,"localTransform",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return B.mat4.create()}}),z=q(R.prototype,"lowestLodVisible",[s,u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 2}}),P=q(R.prototype,"mesh",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),C=q(R.prototype,"minScreenSize",[f,d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),D=q(R.prototype,"rotation",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return B.quat.create()}}),I=q(R.prototype,"scaling",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return B.vec3.fromValues(1,1,1)}}),x=q(R.prototype,"sortValueOffset",[m,p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),L=q(R.prototype,"staticTransform",[v,g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),M=q(R.prototype,"transformModifiers",[E,y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),F=q(R.prototype,"translation",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return B.vec3.create()}}),G=q(R.prototype,"useSRT",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),k=q(R.prototype,"useSpaceObjectData",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),S=R))||S)||S)},"./eve/child/EveChildParticleSystem.js":function(e,t,r){"use strict";r.r(t),r.d(t,"EveChildParticleSystem",(function(){return V}));var i,n,a,o,l,s,u,c,f,d,h,b,m,p,v,g,E,y,T,w,_,S,R,j,O,A,z,P,C,D,I,x,L,M,F,G=r("./global/index.js"),k=r("./core/index.js"),N=r("./eve/child/EveChild.js");function B(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function U(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var V=(i=G.meta.type("EveChildParticleSystem",!0),n=G.meta.stage(1),a=G.meta.black.string,o=G.meta.black.boolean,l=G.meta.black.matrix4,s=G.meta.notImplemented,u=G.meta.black.float,c=G.meta.black.objectOf("Tw2InstancedMesh"),f=G.meta.notImplemented,d=G.meta.black.float,h=G.meta.black.listOf("Tw2ParticleEmitter"),b=G.meta.black.listOf(["Tw2ParticleSystem","Tr2GpuParticleSystem"]),m=G.meta.black.quaternion,p=G.meta.black.vector3,v=G.meta.black.vector3,g=G.meta.notImplemented,E=G.meta.black.boolean,y=G.meta.boolean,T=G.meta.todo("Deprecated?"),i(w=n((F=class extends N.EveChild{constructor(...e){super(...e),B(this,"name",S,this),B(this,"display",R,this),B(this,"localTransform",j,this),B(this,"lodSphereRadius",O,this),B(this,"mesh",A,this),B(this,"minScreenSize",z,this),B(this,"particleEmitters",P,this),B(this,"particleSystems",C,this),B(this,"rotation",D,this),B(this,"scaling",I,this),B(this,"translation",x,this),B(this,"useDynamicLod",L,this),B(this,"useSRT",M,this),this._worldTransform=G.mat4.create(),this._worldTransformLast=G.mat4.create(),this._perObjectData=k.Tw2PerObjectData.from(N.EveChild.perObjectData)}GetResources(e=[]){this.mesh&&this.mesh.GetResources(e);for(var t=0;t<this.particleEmitters.length;t++)this.particleEmitters[t].GetResources(e);for(var r=0;r<this.particleSystems.length;r++)this.particleSystems[r].GetResources(e);return e}Update(e,t){this.useSRT&&(G.quat.normalize(this.rotation,this.rotation),G.mat4.fromRotationTranslationScale(this.localTransform,this.rotation,this.translation,this.scaling)),G.mat4.copy(this._worldTransformLast,this._worldTransform),G.mat4.multiply(this._worldTransform,t,this.localTransform);for(var r=0;r<this.particleEmitters.length;++r)this.particleEmitters[r].Update(e);for(var i=0;i<this.particleSystems.length;++i)this.particleSystems[i].Update(e)}GetBatches(e,t){this.display&&this.mesh&&(G.mat4.transpose(this._perObjectData.ffe.Get("world"),this._worldTransform),G.mat4.invert(this._perObjectData.ffe.Get("worldInverseTranspose"),this._worldTransform),this.mesh.GetBatches(e,t,this._perObjectData))}},S=U((_=F).prototype,"name",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),R=U(_.prototype,"display",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),j=U(_.prototype,"localTransform",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return G.mat4.create()}}),O=U(_.prototype,"lodSphereRadius",[s,u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),A=U(_.prototype,"mesh",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),z=U(_.prototype,"minScreenSize",[f,d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),P=U(_.prototype,"particleEmitters",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),C=U(_.prototype,"particleSystems",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),D=U(_.prototype,"rotation",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return G.quat.create()}}),I=U(_.prototype,"scaling",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return G.vec3.fromValues(1,1,1)}}),x=U(_.prototype,"translation",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return G.vec3.create()}}),L=U(_.prototype,"useDynamicLod",[g,E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),M=U(_.prototype,"useSRT",[y,T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),w=_))||w)||w)},"./eve/child/index.js":function(e,t,r){"use strict";r.r(t);var i=r("./eve/child/EveChild.js");r.d(t,"EveChild",(function(){return i.EveChild}));var n=r("./eve/child/EveChildBillboard.js");r.d(t,"EveChildBillboard",(function(){return n.EveChildBillboard}));var a=r("./eve/child/EveChildContainer.js");r.d(t,"EveChildContainer",(function(){return a.EveChildContainer}));var o=r("./eve/child/EveChildMesh.js");r.d(t,"EveChildMesh",(function(){return o.EveChildMesh}));var l=r("./eve/child/EveChildParticleSystem.js");r.d(t,"EveChildParticleSystem",(function(){return l.EveChildParticleSystem}))},"./eve/effect/EveLensflare.js":function(e,t,r){"use strict";r.r(t),r.d(t,"EveLensflare",(function(){return re}));var i,n,a,o,l,s,u,c,f,d,h,b,m,p,v,g,E,y,T,w,_,S,R,j,O,A,z,P,C,D,I,x,L,M,F,G,k,N,B,U,V,H,q,W,Y,X,K,Q,Z=r("./global/index.js"),$=r("./core/index.js"),J=r("./eve/effect/EveOccluder.js");function ee(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function te(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var re=(i=Z.meta.type("EveLensflare",!0),n=Z.meta.black.string,a=Z.meta.notImplemented,o=Z.meta.black.listOf("EveOccluder"),l=Z.meta.black.listOf("Tw2ValueBinding"),s=Z.meta.black.listOf("Tw2Curve"),u=Z.meta.black.listOf("Tw2Curve"),c=Z.meta.black.objectOf("Tw2Mesh"),f=Z.meta.black.listOf("EveOccluder"),d=Z.meta.black.vector3,h=Z.meta.black.listOf("Tw2Curve"),b=Z.meta.black.listOf("Tw2Curve"),m=Z.meta.black.listOf("Tw2Curve"),p=Z.meta.black.listOf("Tw2Curve"),v=Z.meta.boolean,g=Z.meta.boolean,E=Z.meta.boolean,y=Z.meta.float,T=Z.meta.listOf("EveLensflare"),w=Z.meta.todo("Deprecated?"),_=Z.meta.float,S=Z.meta.float,R=Z.meta.listOf("Tw2CurveSet"),j=Z.meta.todo("Deprecated?"),i((Q=K=class e extends Z.Tw2BaseClass{constructor(){super(),ee(this,"name",z,this),ee(this,"backgroundOccluders",P,this),ee(this,"bindings",C,this),ee(this,"distanceToCenterCurves",D,this),ee(this,"distanceToEdgeCurves",I,this),ee(this,"mesh",x,this),ee(this,"occluders",L,this),ee(this,"position",M,this),ee(this,"radialAngleCurves",F,this),ee(this,"xDistanceToCenter",G,this),ee(this,"yDistanceToCenter",k,this),ee(this,"zDistanceToCenter",N,this),ee(this,"display",B,this),ee(this,"update",U,this),ee(this,"doOcclusionQueries",V,this),ee(this,"cameraFactor",H,this),ee(this,"flares",q,this),ee(this,"occlusionIntensity",W,this),ee(this,"backgroundOcclusionIntensity",Y,this),ee(this,"curveSets",X,this),this._direction=Z.vec3.create(),this._transform=Z.mat4.create(),this._backBuffer=null,e.init()}UpdateOccluders(){if(this.doOcclusionQueries){var t=Z.device,r=t.gl,i=e.global;if(!i.occluderLevels[0].texture||i.occluderLevels[0].width<2*this.occluders.length)for(var n=0;n<i.occluderLevels.length;++n)i.occluderLevels[n].Create(2*this.occluders.length,1,!1);for(var a=0;a<this.flares.length;++a)"_backBuffer"in this.flares[a]&&(this.flares[a]._backBuffer.textureRes=i.occluderLevels.texture);this.occlusionIntensity=1,this.backgroundOcclusionIntensity=1,i.occluderLevels[i.occludedLevelIndex].Set(),t.SetStandardStates(t.RM_OPAQUE),r.clearColor(0,0,0,1),r.clear(r.COLOR_BUFFER_BIT),i.occluderLevels[i.occludedLevelIndex].Unset();var o=1;t.antialiasing&&(o=t.msaaSamples,r.sampleCoverage(1/o,!1));for(var l=0;l<this.occluders.length;++l)t.SetRenderState(Z.RS_COLORWRITEENABLE,8),r.colorMask(!1,!1,!1,!0),r.clearColor(0,0,0,0),r.clear(r.COLOR_BUFFER_BIT),t.antialiasing&&(r.enable(r.SAMPLE_COVERAGE),r.sampleCoverage(.25,!1)),this.occluders[l].UpdateValue(this._transform,l),t.antialiasing&&r.disable(r.SAMPLE_COVERAGE),i.backBuffer.texture||i.backBuffer.Attach(r.createTexture()),r.bindTexture(r.TEXTURE_2D,i.backBuffer.texture),i.backBuffer.width===t.viewportWidth&&i.backBuffer.height===t.viewportHeight||(r.texImage2D(r.TEXTURE_2D,0,r.RGBA,t.viewportWidth,t.viewportHeight,0,r.RGBA,r.UNSIGNED_BYTE,null),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MAG_FILTER,r.LINEAR),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MIN_FILTER,r.LINEAR),i.backBuffer.width=t.viewportWidth,i.backBuffer.height=t.viewportHeight),r.copyTexImage2D(r.TEXTURE_2D,0,t.alphaBlendBackBuffer?r.RGBA:r.RGB,0,0,i.backBuffer.width,i.backBuffer.height,0),r.bindTexture(r.TEXTURE_2D,null),i.occluderLevels[i.occludedLevelIndex].Set(),J.EveOccluder.CollectSamples(i.backBuffer,l,i.occluderLevels[0].width/2,o),i.occluderLevels[i.occludedLevelIndex].Unset();t.antialiasing&&r.sampleCoverage(1,!1),i.occluderLevels[(i.occludedLevelIndex+1)%i.occluderLevels.length].Set();var s=new Uint8Array(4*i.occluderLevels[0].width);r.readPixels(0,0,2,1,r.RGBA,r.UNSIGNED_BYTE,s),i.occluderLevels[(i.occludedLevelIndex+1)%i.occluderLevels.length].Unset(),this.occlusionIntensity=1;for(var u=0;u<2*i.occluderLevels[0].width;u+=4)this.occlusionIntensity*=s[u+1]?s[u]/s[u+1]:1;this.backgroundOcclusionIntensity=this.occlusionIntensity,Z.tw2.SetVariableValue("LensflareFxOccScale",[this.occlusionIntensity,this.occlusionIntensity,0,0]),i.occludedLevelIndex=(i.occludedLevelIndex+1)%i.occluderLevels.length}}GetBatches(t,r,i){if(this.display){var n=Z.vec4.set(e.global.vec4_0,0,0,1,0);if(Z.vec4.transformMat4(n,n,Z.device.viewInverse),Z.vec3.dot(n,this._direction)<0)return;for(var a=0;a<this.flares.length;++a)this.flares[a].GetBatches(t,r,i);this.mesh&&this.mesh.GetBatches(t,r,i)}}PrepareRender(){if(this.display){var t=e.global,r=t.vec4_0,i=t.vec3_0,n=Z.mat4.identity(t.mat4_0),a=t.vec3_2,o=t.vec3_3,l=t.vec3_1,s=t.vec4_1;Z.vec3.transformMat4(i,[0,0,0],Z.device.viewInverse),0===Z.vec3.length(this.position)?Z.vec3.negate(l,i):(Z.vec3.negate(l,this.position),Z.vec3.normalize(this._direction,l)),Z.vec4.transformMat4(r,[0,0,1,0],Z.device.viewInverse),Z.vec3.scaleAndAdd(a,i,r,-this.cameraFactor),Z.vec3.negate(o,this._direction),Z.mat4.arcFromForward(this._transform,o),Z.mat4.setTranslation(this._transform,a),Z.mat4.scale(n,n,[this.occlusionIntensity,this.occlusionIntensity,1]);var u=this._direction;Z.tw2.SetVariableValue("LensflareFxDirectionScale",[u[0],u[1],u[2],1]),Z.vec4.set(s,u[0],u[1],u[2],0),Z.vec4.transformMat4(s,s,Z.device.view),Z.vec4.transformMat4(s,s,Z.device.projection),s[0]/=s[3],s[1]/=s[3];for(var c=1-Math.min(1-Math.abs(s[0]),1-Math.abs(s[1])),f=Math.sqrt(s[0]*s[0]+s[1]*s[1]),d=Math.atan2(s[1],s[0])+Math.PI,h=0;h<this.distanceToEdgeCurves.length;++h)this.distanceToEdgeCurves[h].UpdateValue(c);for(var b=0;b<this.distanceToCenterCurves.length;++b)this.distanceToCenterCurves[b].UpdateValue(f);for(var m=0;m<this.radialAngleCurves.length;++m)this.radialAngleCurves[m].UpdateValue(d);for(var p=0;p<this.xDistanceToCenter.length;++p)this.xDistanceToCenter[p].UpdateValue(s[0]+10);for(var v=0;v<this.yDistanceToCenter.length;++v)this.yDistanceToCenter[v].UpdateValue(s[1]+10);for(var g=0;g<this.bindings.length;++g)this.bindings[g].CopyValue();for(var E=0;E<this.flares.length;++E)this.flares[E].UpdateViewDependentData(this._transform)}}static init(){if(!e.global){var t=e.global={};t.vec3_0=Z.vec3.create(),t.vec3_1=Z.vec3.create(),t.vec3_2=Z.vec3.create(),t.vec3_3=Z.vec3.create(),t.vec4_0=Z.vec4.create(),t.vec4_1=Z.vec4.create(),t.mat4_0=Z.mat4.create(),t.backBuffer=new $.Tw2TextureRes,t.backBuffer.width=0,t.backBuffer.height=0,t.backBuffer.hasMipMaps=!1,t.occludedLevelIndex=0,t.occluderLevels=[new $.Tw2RenderTarget,new $.Tw2RenderTarget,new $.Tw2RenderTarget,new $.Tw2RenderTarget]}}},K.global=null,z=te((A=Q).prototype,"name",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),P=te(A.prototype,"backgroundOccluders",[a,o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),C=te(A.prototype,"bindings",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),D=te(A.prototype,"distanceToCenterCurves",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),I=te(A.prototype,"distanceToEdgeCurves",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),x=te(A.prototype,"mesh",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),L=te(A.prototype,"occluders",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),M=te(A.prototype,"position",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Z.vec3.create()}}),F=te(A.prototype,"radialAngleCurves",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),G=te(A.prototype,"xDistanceToCenter",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),k=te(A.prototype,"yDistanceToCenter",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),N=te(A.prototype,"zDistanceToCenter",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),B=te(A.prototype,"display",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),U=te(A.prototype,"update",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),V=te(A.prototype,"doOcclusionQueries",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),H=te(A.prototype,"cameraFactor",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 20}}),q=te(A.prototype,"flares",[T,w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),W=te(A.prototype,"occlusionIntensity",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),Y=te(A.prototype,"backgroundOcclusionIntensity",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),X=te(A.prototype,"curveSets",[R,j],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),O=A))||O)},"./eve/effect/EveMeshOverlayEffect.js":function(e,t,r){"use strict";r.r(t),r.d(t,"EveMeshOverlayEffect",(function(){return I}));var i,n,a,o,l,s,u,c,f,d,h,b,m,p,v,g,E,y,T,w,_,S,R,j,O,A=r("./core/index.js"),z=r("./curve/index.js"),P=r("./global/index.js");function C(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function D(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var I=(i=P.meta.type("EveMeshOverlayEffect",!0),n=P.meta.black.string,a=P.meta.black.listOf("Tw2Effect"),o=P.meta.black.objectOf("Tw2CurveSet"),l=P.meta.black.listOf("Tw2Effect"),s=P.meta.boolean,u=P.meta.notImplemented,c=P.meta.black.listOf("Tw2Effect"),f=P.meta.black.listOf("Tw2Effect"),d=P.meta.black.listOf("Tw2Effect"),h=P.meta.boolean,b=P.meta.plain,i((O=class e extends P.Tw2BaseClass{constructor(...e){super(...e),C(this,"name",v,this),C(this,"additiveEffects",g,this),C(this,"curveSet",E,this),C(this,"decalEffects",y,this),C(this,"display",T,this),C(this,"distortionEffects",w,this),C(this,"opaqueEffects",_,this),C(this,"transparentEffects",S,this),C(this,"update",R,this),C(this,"visible",j,this)}Update(e){this.update&&this.curveSet&&this.curveSet.Update(e)}GetBatches(e,t,r,i){if(this.display&&i&&i.IsGood())for(var n=this.GetEffects(e),a=0;a<n.length;a++){var o=new A.Tw2GeometryBatch;o.renderMode=e,o.perObjectData=r,o.geometryRes=i.geometryResource,o.meshIx=i.meshIndex,o.start=0,o.count=i.geometryResource.meshes[i.meshIndex].areas.length,o.effect=n[a],t.Commit(o)}}GetEffects(e){if(this.display)switch(e){case P.RM_OPAQUE:if(this.visible.opaqueEffects)return this.opaqueEffects;break;case P.RM_TRANSPARENT:if(this.visible.transparentEffects)return this.transparentEffects;break;case P.RM_ADDITIVE:if(this.visible.additiveEffects)return this.additiveEffects;break;case P.RM_DECAL:if(this.visible.decalEffects)return this.decalEffects;break;case P.RM_DISTORTION:if(this.visible.distortionEffects)return this.distortionEffects}return[]}static createAreaEffects(e,t,r){r=P.util.toArray(r);for(var i=0;i<r.length;i++){var n=r[i];if(n in t&&n in e)for(var a=0;a<t[n].length;a++)e[n].push(A.Tw2Effect.from(t[n][a]))}}static from(t,r){var i=new e;if(t){P.util.assignIfExists(i,t,["name","display","update"]),t.curveSet&&(i.curveSet=z.Tw2CurveSet.from(t.curveSet));var n=["additiveEffects","distortionEffects","opaqueEffects","transparentEffects","decalEffects"];t.visible&&P.util.assignIfExists(i.visible,t.visible,n),this.createAreaEffects(i,t,n)}return!r||r.skipUpdate,i}},v=D((p=O).prototype,"name",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),g=D(p.prototype,"additiveEffects",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),E=D(p.prototype,"curveSet",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),y=D(p.prototype,"decalEffects",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),T=D(p.prototype,"display",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),w=D(p.prototype,"distortionEffects",[u,c],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),_=D(p.prototype,"opaqueEffects",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),S=D(p.prototype,"transparentEffects",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),R=D(p.prototype,"update",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),j=D(p.prototype,"visible",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{opaqueEffects:!0,decalEffects:!0,transparentEffects:!0,additiveEffects:!0,distortionEffects:!0}}}),m=p))||m)},"./eve/effect/EveOccluder.js":function(e,t,r){"use strict";r.r(t),r.d(t,"EveOccluder",(function(){return p}));var i,n,a,o,l,s,u,c,f,d=r("./global/index.js"),h=r("./core/index.js");function b(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function m(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var p=(i=d.meta.type("EveOccluder",!0),n=d.meta.black.string,a=d.meta.black.listOf("EveTransform"),i((f=c=class e extends d.Tw2BaseClass{constructor(){super(),b(this,"name",s,this),b(this,"sprites",u,this),e.init()}UpdateValue(t,r){if(d.tw2.device.alphaBlendBackBuffer){var i=d.tw2.device,n=e.global,a=n.mat4_0,o=n.vec4_0;n.accumulator.Clear();for(var l=0;l<this.sprites.length;++l)this.sprites[l].UpdateViewDependentData(t),this.sprites[l].GetBatches(i.RM_DECAL,n.accumulator);d.tw2.SetVariableValue("OccluderValue",[(1<<2*r)/255,(2<<2*r)/255,0,0]),n.accumulator.Render(),d.mat4.multiply(a,i.viewProjection,this.sprites[0].worldTransform),d.vec4.transformMat4(o,[0,0,0,1],a);var s=.5*(o[0]/o[3]+1),u=.5*(o[1]/o[3]+1);d.vec4.set(o,.5,.5,0,1),d.vec4.transformMat4(o,o,a);var c=.5*(o[0]/o[3]+1),f=.5*(o[1]/o[3]+1);o[0]=s,o[1]=u,o[2]=c-s,o[3]=f-u,n.effect.parameters.OccluderPosition.SetValue(o)}}static CollectSamples(e,t,r,i){var n=d.tw2.device,a=this.global,o=a.effect,l=a.vertexBuffer,s=a.decl;if(!o.effectRes||!o.effectRes.IsGood())return!1;o.parameters.BackBuffer.SetTextureRes(e),o.parameters.OccluderIndex.SetValue([t,r,i]),n.SetStandardStates(n.RM_ADDITIVE),n.gl.bindBuffer(n.gl.ARRAY_BUFFER,l);for(var u=0;u<o.GetPassCount("Main");++u){if(o.ApplyPass("Main",u),s.SetDeclaration(n,o.GetPassInput("Main",u),16))return!1;n.ApplyShadowState(),n.gl.drawArrays(n.gl.TRIANGLES,0,1530)}return!0}static init(){if(!e.global){var t=d.tw2.device,r=e.global={};r.mat4_0=d.mat4.create(),r.vec4_0=d.vec4.create(),r.accumulator=new h.Tw2BatchAccumulator,r.effect=h.Tw2Effect.from({name:"Occluder sampler",effectFilePath:"res:/graphics/effect/managed/space/specialfx/lensflares/collectsamples.fx",parameters:{OccluderPosition:[1,1,1,1],OccluderIndex:[1,1,1],BackBuffer:""}}),r.vertexBuffer=null,r.decl=h.Tw2VertexDeclaration.from([{usage:"POSITION",usageIndex:0,elements:2},{usage:"TEXCOORD",usageIndex:0,elements:2}]),r.decl.RebuildHash();for(var i=new Float32Array(6120),n=0,a=0;a<16;++a)for(var o=0;o<16;++o){var l=(a+Math.random())/16*2-1,s=(o+Math.random())/16*2-1;i[n++]=1,i[n++]=1,i[n++]=l,i[n++]=s,i[n++]=-1,i[n++]=1,i[n++]=l,i[n++]=s,i[n++]=1,i[n++]=-1,i[n++]=l,i[n++]=s,i[n++]=-1,i[n++]=1,i[n++]=l,i[n++]=s,i[n++]=1,i[n++]=-1,i[n++]=l,i[n++]=s,i[n++]=-1,i[n++]=-1,i[n++]=l,i[n++]=s}r.vertexBuffer=t.gl.createBuffer(),t.gl.bindBuffer(t.gl.ARRAY_BUFFER,r.vertexBuffer),t.gl.bufferData(t.gl.ARRAY_BUFFER,i,t.gl.STATIC_DRAW),t.gl.bindBuffer(t.gl.ARRAY_BUFFER,null)}}},c.global=null,s=m((l=f).prototype,"name",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),u=m(l.prototype,"sprites",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),o=l))||o)},"./eve/effect/EveStretch.js":function(e,t,r){"use strict";r.r(t),r.d(t,"EveStretch",(function(){return Y}));var i,n,a,o,l,s,u,c,f,d,h,b,m,p,v,g,E,y,T,w,_,S,R,j,O,A,z,P,C,D,I,x,L,M,F,G,k,N,B,U,V=r("./global/index.js"),H=r("./core/index.js");function q(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function W(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var Y=(i=V.meta.type("EveStretch",!0),n=V.meta.black.string,a=V.meta.black.listOf("Tw2CurveSet"),o=V.meta.boolean,l=V.meta.black.object,s=V.meta.black.object,u=V.meta.black.objectOf("Tw2Float"),c=V.meta.notImplemented,f=V.meta.black.objectOf("Tw2CurveSet"),d=V.meta.notImplemented,h=V.meta.black.object,b=V.meta.notImplemented,m=V.meta.black.objectOf("Tw2Curve"),p=V.meta.black.object,v=V.meta.notImplemented,g=V.meta.black.listOf("Tr2PointLight"),E=V.meta.black.object,y=V.meta.black.object,T=V.meta.boolean,w=V.meta.notImplemented,_=V.meta.black.boolean,i((U=B=class e extends V.Tw2BaseClass{constructor(){super(),q(this,"name",j,this),q(this,"curveSets",O,this),q(this,"display",A,this),q(this,"dest",z,this),q(this,"destObject",P,this),q(this,"length",C,this),q(this,"moveCompletion",D,this),q(this,"moveObject",I,this),q(this,"progressCurve",x,this),q(this,"source",L,this),q(this,"sourceLights",M,this),q(this,"sourceObject",F,this),q(this,"stretchObject",G,this),q(this,"update",k,this),q(this,"useCurveLod",N,this),this._destinationPosition=V.vec3.create(),this._displayDestObject=!0,this._displaySourceObject=!0,this._isNegZForward=!1,this._useTransformsForStretch=!1,this._sourcePosition=V.vec3.create(),this._sourceTransform=null,this._time=0,this._useParentMatrix=!1,e.init()}GetResources(e=[]){return this.source&&this.source.GetResources&&this.source.GetResources(e),this.dest&&this.dest.GetResources&&this.dest.GetResources(e),this.sourceObject&&this.sourceObject.GetResources&&this.sourceObject.GetResources(e),this.destObject&&this.destObject.GetResources&&this.destObject.GetResources(e),this.stretchObject&&this.stretchObject.GetResources&&this.stretchObject.GetResources(e),e}SetSourcePosition(e){this._useTransformsForStretch=!1,V.vec3.copy(this._sourcePosition,e)}SetSourcePositionFromTransform(e){this._useTransformsForStretch=!1,this._sourcePosition[0]=e[12],this._sourcePosition[1]=e[13],this._sourcePosition[2]=e[14]}SetDestinationPosition(e){V.vec3.copy(this._destinationPosition,e)}SetSourceTransform(e){this._useTransformsForStretch=!0,this._sourceTransform=e}SetIsNegZForward(e){this._isNegZForward=e}UpdateViewDependentData(t){if(this.display){var r=e.global,i=V.vec3.subtract(r.vec3_0,this._destinationPosition,this._sourcePosition),n=V.mat4.identity(r.mat4_0),a=V.vec3.set(r.vec3_1,0,0,0),o=V.vec3.set(r.vec3_2,0,0,0),l=V.mat4.identity(r.mat4_1),s=V.vec3.length(i);V.vec3.normalize(i,i),this._useTransformsForStretch?(V.mat4.rotateX(n,n,-Math.PI/2),V.mat4.multiply(n,this._sourceTransform,n)):(Math.abs(i[1])>.9?o[2]=1:o[1]=1,V.vec3.cross(a,o,i),V.vec3.normalize(a,a),V.vec3.cross(o,i,a),n[0]=a[0],n[1]=a[1],n[2]=a[2],n[4]=-i[0],n[5]=-i[1],n[6]=-i[2],n[8]=o[0],n[9]=o[1],n[10]=o[2],V.mat4.multiply(n,t,n)),this.destObject&&this._displayDestObject&&(V.mat4.setTranslation(n,this._destinationPosition),this.destObject.UpdateViewDependentData(n)),this.sourceObject&&this._displaySourceObject&&(this._useTransformsForStretch?(V.mat4.identity(n),V.mat4.rotateX(n,n,-Math.PI/2),V.mat4.multiply(n,this._sourceTransform,n)):V.mat4.setTranslation(n,this._sourcePosition),this.sourceObject.UpdateViewDependentData(n)),this.stretchObject&&(this._useTransformsForStretch?(V.mat4.identity(n),V.mat4.scale(n,n,[1,1,s]),V.mat4.multiply(n,this._sourceTransform,n)):(n[0]=a[0],n[1]=a[1],n[2]=a[2],n[4]=o[0],n[5]=o[1],n[6]=o[2],n[8]=-i[0],n[9]=-i[1],n[10]=-i[2],this._isNegZForward&&(s=-s),V.mat4.scale(l,l,[1,1,s]),V.mat4.multiply(n,n,l)),this.stretchObject.UpdateViewDependentData(n))}}Update(t){for(var r=0;r<this.curveSets.length;++r)this.curveSets[r].Update(t);this._time+=t,this.source?this.source.GetValueAt(this._time,this._sourcePosition):this._useTransformsForStretch&&(this._sourcePosition[0]=this._sourceTransform[12],this._sourcePosition[1]=this._sourceTransform[13],this._sourcePosition[2]=this._sourceTransform[14]),this.dest&&this.source.GetValueAt(this._time,this._destinationPosition);var i=V.vec3.subtract(e.global.vec3_0,this._destinationPosition,this._sourcePosition);this.length.value=V.vec3.length(i),V.vec3.normalize(i,i),this.sourceObject&&this._displaySourceObject&&this.sourceObject.Update(t),this.destObject&&this._displayDestObject&&this.destObject.Update(t),this.stretchObject&&this.stretchObject.Update(t)}GetBatches(e,t,r){this.display&&(this.sourceObject&&this._displaySourceObject&&this.sourceObject.GetBatches(e,t,r),this.destObject&&this._displayDestObject&&this.destObject.GetBatches(e,t,r),this.stretchObject&&this.stretchObject.GetBatches(e,t,r))}static init(){e.global||(e.global={vec3_0:V.vec3.create(),vec3_1:V.vec3.create(),vec3_2:V.vec3.create(),mat4_0:V.mat4.create(),mat4_1:V.mat4.create()})}},B.global=null,j=W((R=U).prototype,"name",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),O=W(R.prototype,"curveSets",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),A=W(R.prototype,"display",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),z=W(R.prototype,"dest",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),P=W(R.prototype,"destObject",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),C=W(R.prototype,"length",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new H.Tw2Float}}),D=W(R.prototype,"moveCompletion",[c,f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),I=W(R.prototype,"moveObject",[d,h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),x=W(R.prototype,"progressCurve",[b,m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),L=W(R.prototype,"source",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),M=W(R.prototype,"sourceLights",[v,g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),F=W(R.prototype,"sourceObject",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),G=W(R.prototype,"stretchObject",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),k=W(R.prototype,"update",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),N=W(R.prototype,"useCurveLod",[w,_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),S=R))||S)},"./eve/effect/EveTurretFiringFX.js":function(e,t,r){"use strict";r.r(t),r.d(t,"EveTurretFiringFX",(function(){return Te}));var i,n,a,o,l,s,u,c,f,d,h,b,m,p,v,g,E,y,T,w,_,S,R,j,O,A,z,P,C,D,I,x,L,M,F,G,k,N,B,U,V,H,q,W,Y,X,K,Q,Z,$,J,ee,te,re,ie,ne,ae,oe,le,se,ue,ce,fe,de,he,be,me,pe,ve=r("./global/index.js");function ge(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function Ee(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}class ye{constructor(){this.constantDelay=0,this.currentStartDelay=0,this.elapsedTime=0,this.muzzlePositionBone=null,this.muzzleTransform=ve.mat4.create(),this.readyToStart=!1,this.started=!1}}var Te=(i=ve.meta.type("EveTurretFiringFX",!0),n=ve.meta.stage(2),a=ve.meta.black.string,o=ve.meta.black.string,l=ve.meta.boolean,s=ve.meta.notImplemented,u=ve.meta.black.objectOf("TriObserverLocal"),c=ve.meta.black.float,f=ve.meta.black.float,d=ve.meta.black.float,h=ve.meta.black.float,b=ve.meta.float,m=ve.meta.todo("Deprecated?"),p=ve.meta.float,v=ve.meta.todo("Deprecated?"),g=ve.meta.float,E=ve.meta.todo("Deprecated?"),y=ve.meta.float,T=ve.meta.todo("Deprecated?"),w=ve.meta.notImplemented,_=ve.meta.black.float,S=ve.meta.notImplemented,R=ve.meta.black.float,j=ve.meta.black.boolean,O=ve.meta.notImplemented,A=ve.meta.black.float,z=ve.meta.black.float,P=ve.meta.notImplemented,C=ve.meta.black.float,D=ve.meta.black.float,I=ve.meta.notImplemented,x=ve.meta.black.boolean,L=ve.meta.notImplemented,M=ve.meta.black.objectOf("TriObserverLocal"),F=ve.meta.notImplemented,G=ve.meta.black.objectOf("Tw2CurveSet"),k=ve.meta.notImplemented,N=ve.meta.black.objectOf("Tw2CurveSet"),B=ve.meta.black.listOf(["EveStretch","EveStretch2"]),U=ve.meta.black.boolean,i(V=n((pe=class extends ve.Tw2BaseClass{constructor(...e){super(...e),ge(this,"name",q,this),ge(this,"boneName",W,this),ge(this,"display",Y,this),ge(this,"destinationObserver",X,this),ge(this,"firingDelay1",K,this),ge(this,"firingDelay2",Q,this),ge(this,"firingDelay3",Z,this),ge(this,"firingDelay4",$,this),ge(this,"firingDelay5",J,this),ge(this,"firingDelay6",ee,this),ge(this,"firingDelay7",te,this),ge(this,"firingDelay8",re,this),ge(this,"firingDurationOverride",ie,this),ge(this,"firingPeakTime",ne,this),ge(this,"isLoopFiring",ae,this),ge(this,"maxRadius",oe,this),ge(this,"maxScale",le,this),ge(this,"minRadius",se,this),ge(this,"minScale",ue,this),ge(this,"scaleEffectTarget",ce,this),ge(this,"sourceObserver",fe,this),ge(this,"startCurveSet",de,this),ge(this,"stopCurveSet",he,this),ge(this,"stretch",be,this),ge(this,"useMuzzleTransform",me,this),this._endPosition=ve.vec3.create(),this._firingDuration=0,this._isFiring=!1,this._perMuzzleData=[]}Initialize(){this._firingDuration=this.GetCurveDuration();for(var e=0;e<this.stretch.length;++e)this._perMuzzleData[e]=new ye;var t=this._perMuzzleData;t.length>0&&(t[0].constantDelay=this.firingDelay1),t.length>1&&(t[1].constantDelay=this.firingDelay2),t.length>2&&(t[2].constantDelay=this.firingDelay3),t.length>3&&(t[3].constantDelay=this.firingDelay4),t.length>4&&(t[4].constantDelay=this.firingDelay5),t.length>5&&(t[5].constantDelay=this.firingDelay6),t.length>6&&(t[6].constantDelay=this.firingDelay7),t.length>7&&(t[7].constantDelay=this.firingDelay8)}GetCurveDuration(){for(var e=0,t=0;t<this.stretch.length;++t)for(var r=this.stretch[t],i=0;i<r.curveSets.length;++i)e=Math.max(e,r.curveSets[i].GetMaxCurveDuration());return e}GetPerMuzzleEffectCount(){return this.stretch.length}SetEndPosition(e){this._endPosition[0]=e[0],this._endPosition[1]=e[1],this._endPosition[2]=e[2]}SetMuzzleBoneID(e,t){this._perMuzzleData[e].muzzlePositionBone=t}GetMuzzleTransform(e){return this._perMuzzleData[e].muzzleTransform}PrepareFiring(e,t=-1){for(var r=0;r<this.stretch.length;++r)t<0||t===r?(this._perMuzzleData[r].currentStartDelay=e+this._perMuzzleData[r].constantDelay,this._perMuzzleData[r].started=!1,this._perMuzzleData[r].readyToStart=!1,this._perMuzzleData[r].elapsedTime=0):(this._perMuzzleData[r].currentStartDelay=Number.MAX_VALUE,this._perMuzzleData[r].started=!1,this._perMuzzleData[r].readyToStart=!1,this._perMuzzleData[r].elapsedTime=0);this._isFiring=!0}StartMuzzleEffect(e){for(var t=this.stretch[e],r=0;r<t.curveSets.length;++r){var i=t.curveSets[r];switch(i.name){case"play_start":case"play_loop":i.PlayFrom(-this._perMuzzleData[e].currentStartDelay);break;case"play_stop":i.Stop()}}this._perMuzzleData[e].started=!0,this._perMuzzleData[e].readyToStart=!1}StopFiring(){for(var e=0;e<this.stretch.length;++e){for(var t=this.stretch[e],r=0;r<t.curveSets.length;++r){var i=t.curveSets[r];switch(i.name){case"play_start":case"play_loop":i.Stop();break;case"play_stop":i.Play()}}this._perMuzzleData[e].started=!1,this._perMuzzleData[e].readyToStart=!1,this._perMuzzleData[e].currentStartDelay=0,this._perMuzzleData[e].elapsedTime=0}this._isFiring=!1}UpdateViewDependentData(e){for(var t=0;t<this.stretch.length;++t)this.stretch[t].UpdateViewDependentData(e)}Update(e){for(var t=0;t<this.stretch.length;++t)this._perMuzzleData[t].started&&(this._perMuzzleData[t].elapsedTime+=e),(this._perMuzzleData[t].elapsedTime<this._firingDuration||this.isLoopFiring)&&this._isFiring&&(this._perMuzzleData[t].started?(this.useMuzzleTransform?this.stretch[t].SetSourceTransform(this._perMuzzleData[t].muzzleTransform):this.stretch[t].SetSourcePositionFromTransform(this._perMuzzleData[t].muzzleTransform),this.stretch[t].SetDestinationPosition(this._endPosition),this.stretch[t].SetIsNegZForward(!0)):(this._perMuzzleData[t].readyToStart?(this.StartMuzzleEffect(t),this._perMuzzleData[t].currentStartDelay=0,this._perMuzzleData[t].elapsedTime=0):this._perMuzzleData[t].currentStartDelay-=e,this._perMuzzleData[t].currentStartDelay<=0&&(this._perMuzzleData[t].readyToStart=!0))),this.stretch[t].Update(e)}GetBatches(e,t,r){if(this.display&&this._isFiring)for(var i=0;i<this.stretch.length;++i)this._perMuzzleData[i].started&&(this._firingDuration>=this._perMuzzleData[i].elapsedTime||this.isLoopFiring)&&this.stretch[i].GetBatches(e,t,r)}},q=Ee((H=pe).prototype,"name",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),W=Ee(H.prototype,"boneName",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),Y=Ee(H.prototype,"display",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),X=Ee(H.prototype,"destinationObserver",[s,u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),K=Ee(H.prototype,"firingDelay1",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Q=Ee(H.prototype,"firingDelay2",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Z=Ee(H.prototype,"firingDelay3",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),$=Ee(H.prototype,"firingDelay4",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),J=Ee(H.prototype,"firingDelay5",[b,m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),ee=Ee(H.prototype,"firingDelay6",[p,v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),te=Ee(H.prototype,"firingDelay7",[g,E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),re=Ee(H.prototype,"firingDelay8",[y,T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),ie=Ee(H.prototype,"firingDurationOverride",[w,_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),ne=Ee(H.prototype,"firingPeakTime",[S,R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),ae=Ee(H.prototype,"isLoopFiring",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),oe=Ee(H.prototype,"maxRadius",[O,A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),le=Ee(H.prototype,"maxScale",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),se=Ee(H.prototype,"minRadius",[P,C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),ue=Ee(H.prototype,"minScale",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),ce=Ee(H.prototype,"scaleEffectTarget",[I,x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),fe=Ee(H.prototype,"sourceObserver",[L,M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),de=Ee(H.prototype,"startCurveSet",[F,G],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),he=Ee(H.prototype,"stopCurveSet",[k,N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),be=Ee(H.prototype,"stretch",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),me=Ee(H.prototype,"useMuzzleTransform",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),V=H))||V)||V)},"./eve/effect/index.js":function(e,t,r){"use strict";r.r(t);var i=r("./eve/effect/EveLensflare.js");r.d(t,"EveLensflare",(function(){return i.EveLensflare}));var n=r("./eve/effect/EveMeshOverlayEffect.js");r.d(t,"EveMeshOverlayEffect",(function(){return n.EveMeshOverlayEffect}));var a=r("./eve/effect/EveOccluder.js");r.d(t,"EveOccluder",(function(){return a.EveOccluder}));var o=r("./eve/effect/EveStretch.js");r.d(t,"EveStretch",(function(){return o.EveStretch}));var l=r("./eve/effect/EveTurretFiringFX.js");r.d(t,"EveTurretFiringFX",(function(){return l.EveTurretFiringFX}))},"./eve/index.js":function(e,t,r){"use strict";r.r(t);var i=r("./eve/child/index.js");r.d(t,"EveChild",(function(){return i.EveChild})),r.d(t,"EveChildBillboard",(function(){return i.EveChildBillboard})),r.d(t,"EveChildContainer",(function(){return i.EveChildContainer})),r.d(t,"EveChildMesh",(function(){return i.EveChildMesh})),r.d(t,"EveChildParticleSystem",(function(){return i.EveChildParticleSystem}));var n=r("./eve/effect/index.js");r.d(t,"EveLensflare",(function(){return n.EveLensflare})),r.d(t,"EveMeshOverlayEffect",(function(){return n.EveMeshOverlayEffect})),r.d(t,"EveOccluder",(function(){return n.EveOccluder})),r.d(t,"EveStretch",(function(){return n.EveStretch})),r.d(t,"EveTurretFiringFX",(function(){return n.EveTurretFiringFX}));var a=r("./eve/item/index.js");r.d(t,"EveBoosterBatch",(function(){return a.EveBoosterBatch})),r.d(t,"EveBoosterSetItem",(function(){return a.EveBoosterSetItem})),r.d(t,"EveBoosterSet",(function(){return a.EveBoosterSet})),r.d(t,"EveCurveLineSetItem",(function(){return a.EveCurveLineSetItem})),r.d(t,"EveCurveLineSet",(function(){return a.EveCurveLineSet})),r.d(t,"EveCustomMask",(function(){return a.EveCustomMask})),r.d(t,"EveLocator2",(function(){return a.EveLocator2})),r.d(t,"EveLocator",(function(){return a.EveLocator})),r.d(t,"EveObjectSetItem",(function(){return a.EveObjectSetItem})),r.d(t,"EveObjectSet",(function(){return a.EveObjectSet})),r.d(t,"EvePlaneSetItem",(function(){return a.EvePlaneSetItem})),r.d(t,"EvePlaneSet",(function(){return a.EvePlaneSet})),r.d(t,"EveSpaceObjectDecal",(function(){return a.EveSpaceObjectDecal})),r.d(t,"EveSpotlightSetItem",(function(){return a.EveSpotlightSetItem})),r.d(t,"EveSpotlightSet",(function(){return a.EveSpotlightSet})),r.d(t,"EveSpriteSetItem",(function(){return a.EveSpriteSetItem})),r.d(t,"EveSpriteSet",(function(){return a.EveSpriteSet})),r.d(t,"EveTurretSetItem",(function(){return a.EveTurretSetItem})),r.d(t,"EveTurretSet",(function(){return a.EveTurretSet}));var o=r("./eve/object/index.js");r.d(t,"EveMissileWarhead",(function(){return o.EveMissileWarhead})),r.d(t,"EveMissile",(function(){return o.EveMissile})),r.d(t,"EveTransform",(function(){return o.EveTransform})),r.d(t,"EveEffectRoot",(function(){return o.EveEffectRoot})),r.d(t,"EvePlanet",(function(){return o.EvePlanet})),r.d(t,"EveShip",(function(){return o.EveShip})),r.d(t,"EveSpaceObject",(function(){return o.EveSpaceObject})),r.d(t,"EveStation",(function(){return o.EveStation}));var l=r("./eve/EveSpaceScene.js");r.d(t,"EveSpaceScene",(function(){return l.EveSpaceScene}))},"./eve/item/EveBoosterSet.js":function(e,t,r){"use strict";r.r(t),r.d(t,"EveBoosterBatch",(function(){return Te})),r.d(t,"EveBoosterSetItem",(function(){return we})),r.d(t,"EveBoosterSet",(function(){return _e}));var i,n,a,o,l,s,u,c,f,d,h,b,m,p,v,g,E,y,T,w,_,S,R,j,O,A,z,P,C,D,I,x,L,M,F,G,k,N,B,U,V,H,q,W,Y,X,K,Q,Z,$,J,ee,te,re,ie,ne,ae,oe,le,se,ue,ce,fe,de,he,be=r("./global/index.js"),me=r("./core/index.js"),pe=r("./eve/item/EveObjectSet.js"),ve=r("./core/mesh/index.js"),ge=r("./eve/item/EveSpriteSet.js");function Ee(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function ye(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}class Te extends me.Tw2RenderBatch{constructor(...e){super(...e),this.boosters=null}Commit(e){this.boosters.Render(e)}}var we=(i=be.meta.type("EveBoosterSetItem"),n=be.meta.uint,a=be.meta.uint,o=be.meta.plain,l=be.meta.string,s=be.meta.float,u=be.meta.matrix4,c=be.meta.boolean,f=be.meta.plain,d=be.meta.float,i((S=class extends pe.EveObjectSetItem{constructor(...e){super(...e),Ee(this,"atlas0",m,this),Ee(this,"atlas1",p,this),Ee(this,"customValues",v,this),Ee(this,"locatorName",g,this),Ee(this,"seed",E,this),Ee(this,"transform",y,this),Ee(this,"updateFromLocator",T,this),Ee(this,"visible",w,this),Ee(this,"wavePhase",_,this)}GetPosition(e){return be.mat4.getTranslation(e,this.transform)}GetDirection(e){be.vec3.set(e,this.transform[8],this.transform[9],this.transform[10]),be.vec3.normalize(e,e);var t=this.GetScale();return t<3&&be.vec3.scale(e,e,t/3),e}GetScale(){var e=this.transform;return Math.max(be.vec3.length([e[0],e[1],e[2]]),be.vec3.length([e[4],e[5],e[6]]))}static from(e){var t=new this;return e&&(be.util.assignIfExists(t.visible,e.visible,["glow","symHalo","halo","trail"]),be.util.assignIfExists(t,e,["name","display","seed","wavePhase","transform","locatorName","updateFromLocator","atlas0","atlas1"])),t}},m=ye((b=S).prototype,"atlas0",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),p=ye(b.prototype,"atlas1",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),v=ye(b.prototype,"customValues",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),g=ye(b.prototype,"locatorName",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),E=ye(b.prototype,"seed",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 7*Math.random()}}),y=ye(b.prototype,"transform",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return be.mat4.create()}}),T=ye(b.prototype,"updateFromLocator",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),w=ye(b.prototype,"visible",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{glow:!0,symHalo:!0,halo:!0,trail:!0,customValues:!0}}}),_=ye(b.prototype,"wavePhase",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Math.random()}}),h=b))||h),_e=(R=be.meta.type("EveBoosterSet",!0),j=be.meta.notImplemented,O=be.meta.boolean,A=be.meta.objectOf("Tw2Effect"),z=be.meta.color,P=be.meta.objectOf("EveSpriteSet"),C=be.meta.float,D=be.meta.color,I=be.meta.float,x=be.meta.float,L=be.meta.notImplemented,M=be.meta.float,F=be.meta.float,G=be.meta.color,k=be.meta.vector4,N=be.meta.color,B=be.meta.color,U=be.meta.float,V=be.meta.float,H=be.meta.float,q=be.meta.plain,R((he=de=class e extends pe.EveObjectSet{constructor(...t){super(...t),Ee(this,"alwaysOn",X,this),Ee(this,"effect",K,this),Ee(this,"glowColor",Q,this),Ee(this,"glows",Z,this),Ee(this,"glowScale",$,this),Ee(this,"haloColor",J,this),Ee(this,"haloScaleX",ee,this),Ee(this,"haloScaleY",te,this),Ee(this,"maxVel",re,this),Ee(this,"symHaloScale",ie,this),Ee(this,"trailColor",ne,this),Ee(this,"trailSize",ae,this),Ee(this,"warpGlowColor",oe,this),Ee(this,"warpHaloColor",le,this),Ee(this,"glowDistance",se,this),Ee(this,"haloDistance",ue,this),Ee(this,"symHaloDistance",ce,this),Ee(this,"visible",fe,this),this._parentTransform=be.mat4.create(),this._positions=null,this._decl=me.Tw2VertexDeclaration.from(e.vertexDeclarations),this._perObjectData=me.Tw2PerObjectData.from(e.perObjectData),this._locatorDirty=!0}GetResources(e=[]){return this.effect&&this.effect.GetResources(e),e}RebuildItems(t){var r=this.glows,i=e.global,n=i.vec3_0;r&&r.ClearItems(),this._visibleItems=[];for(var a=0;a<this.items.length;a++){var o=this.items[a];if(o.display){if(this._visibleItems.push(o),r){var l=o.customValues&&o.customValues.display?o.customValues:this,s=o.GetPosition(i.vec3_1),u=o.GetDirection(i.vec3_2),c=o.GetScale();this.visible.glows&&o.visible.glow&&r.CreateItem({name:o.name+"_glow",position:be.vec3.subtract(n,s,be.vec3.scale(n,u,l.glowDistance)),blinkRate:o.seed,blinkPhase:o.seed,minScale:l.glowScale*c,maxScale:l.glowScale*c,color:l.glowColor,warpColor:l.warpGlowColor}),this.visible.symHalos&&o.visible.symHalo&&r.CreateItem({name:o.name+"_symHalo",position:be.vec3.subtract(n,s,be.vec3.scale(n,u,l.symHaloDistance)),blinkRate:o.seed,blinkPhase:o.seed+1,minScale:l.symHaloScale*c,maxScale:l.symHaloScale*c,color:l.haloColor,warpColor:l.warpHaloColor}),this.visible.halos&&o.visible.halo&&r.CreateItem({name:o.name+"_halo",position:be.vec3.subtract(n,s,be.vec3.scale(n,u,l.haloDistance)),blinkRate:o.seed,blinkPhase:o.seed+1,minScale:l.haloScaleX*c,maxScale:l.haloScaleY*c,color:l.haloColor,warpColor:l.warpHaloColor})}o._dirty=!1}}this._dirty=!0}FindItemByLocatorName(e){for(var t=0;t<this.items.length;t++)if(this.items[t].locatorName&&this.items[t].locatorName===e)return this.items[t];return null}UpdateItemsFromLocators(e){for(var t=Array.from(this.items),r=0;r<e.length;r++){var{name:i,transform:n,atlasIndex0:a,atlasIndex1:o}=e[r],l=this.FindItemByLocatorName(i);l?(t.splice(t.indexOf(l),1),l.updateFromLocator&&(be.mat4.copy(l.transform,n),l.atlas0=a,l.atlas1=o,l.UpdateValues())):this.CreateItem({name:i,locatorName:i,updateFromLocator:!0,atlas0:a,atlas1:o,transform:n})}for(var s=0;s<t.length;s++)null!==t[s].locatorName&&(this.RemoveItem(t[s]),s--);this._locatorDirty=!1,this._dirty&&this.Rebuild()}RebuildItemsFromLocators(){this._locatorDirty=!0}Update(e,t,r){be.mat4.copy(this._parentTransform,t),super.Update(e),this.glows&&this.glows.Update(e,r)}Unload(e){this._positions&&(be.device.gl.deleteBuffer(this._positions),this._positions=null),this.glows&&this.glows.Unload(e),super.Unload(e)}Rebuild(){this.RebuildItems();var t=this._visibleItems.length;if(this._dirty=!1,t){for(var r=be.device,i=e._box,n=new Float32Array(t*i.length*6*28),a=[0,3,1,3,2,1],o=0,l=0;l<t;++l)for(var s=this._visibleItems[l],u=0;u<i.length;++u)for(var c=0;c<a.length;++c)n[o++]=i[u][a[c]][0],n[o++]=i[u][a[c]][1],n[o++]=i[u][a[c]][2],n[o++]=0,n[o++]=0,n.set(s.transform,o),o+=16,n[o++]=0,n[o++]=1,n[o++]=1,n[o++]=1,n[o++]=s.wavePhase,n[o++]=s.atlas0,n[o++]=s.atlas1;this._positions=r.gl.createBuffer(),r.gl.bindBuffer(r.gl.ARRAY_BUFFER,this._positions),r.gl.bufferData(r.gl.ARRAY_BUFFER,n,r.gl.STATIC_DRAW),r.gl.bindBuffer(r.gl.ARRAY_BUFFER,null),this._positions.count=12*t*3,this.glows&&this.glows.Rebuild(),super.Rebuild()}else super.Rebuild()}GetBatches(e,t,r){if(this.display&&e===be.device.RM_ADDITIVE&&this._positions&&this._visibleItems.length){if(this.effect){var i=new Te;be.mat4.transpose(this._perObjectData.vs.Get("WorldMat"),this._parentTransform),this._perObjectData.vs.Set("Shipdata",r.vs.Get("Shipdata")),this._perObjectData.ps=r.ps,i.perObjectData=this._perObjectData,i.boosters=this,i.renderMode=be.device.RM_ADDITIVE,t.Commit(i)}this.glows&&this.glows.GetBoosterGlowBatches(e,t,r,this._parentTransform,r.vs.Get("Shipdata")[0],0)}}Render(e){if(!this.effect||!this.effect.IsGood()||!this._positions)return!1;var t=be.device,r=t.gl;r.bindBuffer(r.ARRAY_BUFFER,this._positions);for(var i=0;i<this.effect.GetPassCount(e);++i){if(this.effect.ApplyPass(e,i),!this._decl.SetDeclaration(t,this.effect.GetPassInput(e,i),112))return!1;t.ApplyShadowState(),r.drawArrays(r.TRIANGLES,0,this._positions.count)}return!0}static from(t,r){var i=new e;if(t&&(be.util.assignIfExists(i,t,["alwaysOn","glowColor","glowScale","haloColor","haloScaleX","haloScaleY","maxVel","symHaloScale","trailColor","trailSize","warpGlowColor","name","display","glowDistance","haloDistance","symHaloDistance","warpHaloColor"]),void 0!==t.warpHalpColor&&(i.warpHaloColor=t.warpHalpColor),t.visible&&be.util.assignIfExists(i.visible,t.visible,["glows","symHalos","halos","trails"]),t.effect&&(i.effect=ve.Tw2Effect.from(t.effect)),t.glows&&(i.glows=ge.EveSpriteSet.from(t.glows)),t.items))for(var n=0;n<t.items.length;n++)i.CreateItem(t.items[n]);return r&&r.skipUpdate||i.Initialize(),i}},de.Item=we,de.perObjectData={vs:[["WorldMat",16],["Shipdata",4]]},de.vertexDeclarations=[{usage:"POSITION",usageIndex:0,elements:3},{usage:"TEXCOORD",usageIndex:0,elements:2},{usage:"TEXCOORD",usageIndex:1,elements:4},{usage:"TEXCOORD",usageIndex:2,elements:4},{usage:"TEXCOORD",usageIndex:3,elements:4},{usage:"TEXCOORD",usageIndex:4,elements:4},{usage:"TEXCOORD",usageIndex:5,elements:4},{usage:"TEXCOORD",usageIndex:6,elements:1},{usage:"TEXCOORD",usageIndex:7,elements:2}],de._box=[[[-1,-1,0],[1,-1,0],[1,1,0],[-1,1,0]],[[-1,-1,-1],[-1,1,-1],[1,1,-1],[1,-1,-1]],[[-1,-1,0],[-1,1,0],[-1,1,-1],[-1,-1,-1]],[[1,-1,0],[1,-1,-1],[1,1,-1],[1,1,0]],[[-1,-1,0],[-1,-1,-1],[1,-1,-1],[1,-1,0]],[[-1,1,0],[1,1,0],[1,1,-1],[-1,1,-1]]],X=ye((Y=he).prototype,"alwaysOn",[j,O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),K=ye(Y.prototype,"effect",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Q=ye(Y.prototype,"glowColor",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return be.vec4.create()}}),Z=ye(Y.prototype,"glows",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),$=ye(Y.prototype,"glowScale",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),J=ye(Y.prototype,"haloColor",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return be.vec4.create()}}),ee=ye(Y.prototype,"haloScaleX",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),te=ye(Y.prototype,"haloScaleY",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),re=ye(Y.prototype,"maxVel",[L,M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 250}}),ie=ye(Y.prototype,"symHaloScale",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),ne=ye(Y.prototype,"trailColor",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return be.vec4.create()}}),ae=ye(Y.prototype,"trailSize",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return be.vec4.create()}}),oe=ye(Y.prototype,"warpGlowColor",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return be.vec4.create()}}),le=ye(Y.prototype,"warpHaloColor",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return be.vec4.create()}}),se=ye(Y.prototype,"glowDistance",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 2.5}}),ue=ye(Y.prototype,"haloDistance",[V],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 3.01}}),ce=ye(Y.prototype,"symHaloDistance",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 3}}),fe=ye(Y.prototype,"visible",[q],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{glows:!0,symHalos:!0,halos:!0,trails:!0}}}),W=Y))||W)},"./eve/item/EveCurveLineSet.js":function(e,t,r){"use strict";r.r(t),r.d(t,"EveCurveLineSetItem",(function(){return he})),r.d(t,"EveCurveLineSet",(function(){return be}));var i,n,a,o,l,s,u,c,f,d,h,b,m,p,v,g,E,y,T,w,_,S,R,j,O,A,z,P,C,D,I,x,L,M,F,G,k,N,B,U,V,H,q,W,Y,X,K,Q,Z,$,J,ee,te,re,ie,ne,ae,oe,le=r("./global/index.js"),se=r("./core/index.js"),ue=r("./eve/item/EveObjectSet.js");function ce(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function fe(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var de={INVALID:0,STRAIGHT:1,SPHERED:2,CURVED:3},he=(i=le.meta.type("EveCurveLineSetItem"),n=le.meta.float,a=le.meta.float,o=le.meta.color,l=le.meta.color,s=le.meta.vector3,u=le.meta.color,c=le.meta.float,f=le.meta.uint,d=le.meta.color,h=le.meta.vector3,b=le.meta.vector3,m=le.meta.float,p=le.meta.enumerable(de),v=le.meta.isPrivate,i((x=I=class e extends ue.EveObjectSetItem{constructor(...e){super(...e),ce(this,"animationSpeed",y,this),ce(this,"animationScale",T,this),ce(this,"color1",w,this),ce(this,"color2",_,this),ce(this,"intermediatePosition",S,this),ce(this,"multiColor",R,this),ce(this,"multiColorBorder",j,this),ce(this,"numOfSegments",O,this),ce(this,"overlayColor",A,this),ce(this,"position1",z,this),ce(this,"position2",P,this),ce(this,"width",C,this),ce(this,"type",D,this)}ChangePositionFromRay(t,r,i=e.DEFAULT_RAY_LENGTH){le.vec3.copy(this.position1,t),le.vec3.scaleAndAdd(this.position2,t,r,i),this.UpdateValues()}ChangeColor(e,t){le.vec3.copy(this.color1,e),le.vec3.copy(this.color2,t),this.UpdateValues()}ChangeWidth(e){this.width=e,this.UpdateValues()}ChangeCartesian(e,t,r){le.vec3.copy(this.position1,e),le.vec3.copy(this.position2,t),le.vec3.copy(this.intermediatePosition,r),this.UpdateValues()}ChangePositionCartesian(e,t){le.vec3.copy(this.position1,e),le.vec3.copy(this.position2,t),this.UpdateValues()}ChangeIntermediateCartesian(e){le.vec3.copy(this.intermediatePosition,e),this.UpdateValues()}ChangeSpherical(e,t,r,i){le.vec3.fromSpherical(this.position1,e,i),le.vec3.fromSpherical(this.position2,t,i),le.vec3.fromSpherical(this.intermediatePosition,r,i),this.UpdateValues()}ChangePositionSpherical(e,t,r){le.vec3.fromSpherical(this.position1,e,r),le.vec3.fromSpherical(this.position2,t,r),this.UpdateValues()}ChangeIntermediateSpherical(e,t){le.vec3.fromSpherical(this.intermediatePosition,e,t),this.UpdateValues()}ChangeMultiColor(e,t){le.vec4.copy(this.multiColor,e),this.multiColorBorder=t,this.UpdateValues()}ChangeAnimation(e,t,r){le.vec4.copy(this.overlayColor,e),this.animationSpeed=t,this.animationScale=r,this.UpdateValues()}ChangeSegmentation(t){this.type!==e.Type.STRAIGHT&&(this.numOfSegments=t,this.UpdateValues())}static from(e={}){var t=new this;return le.util.assignIfExists(t,e,["name","display","type","position1","color1","position2","color2","intermediatePosition","width","multiColor","multiColorBorder","overlayColor","animationSpeed","animationScale","numOfSegments"]),t}},I.Type=de,I.DEFAULT_RAY_LENGTH=1e3,I.DEFAULT_CURVED_SEGMENTS=20,I.DEFAULT_SPHERED_SEGMENTS=20,y=fe((E=x).prototype,"animationSpeed",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),T=fe(E.prototype,"animationScale",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),w=fe(E.prototype,"color1",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return le.vec4.fromValues(1,1,1,1)}}),_=fe(E.prototype,"color2",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return le.vec4.fromValues(1,1,1,1)}}),S=fe(E.prototype,"intermediatePosition",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return le.vec3.create()}}),R=fe(E.prototype,"multiColor",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return le.vec4.fromValues(0,0,0,1)}}),j=fe(E.prototype,"multiColorBorder",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return-1}}),O=fe(E.prototype,"numOfSegments",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),A=fe(E.prototype,"overlayColor",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return le.vec4.fromValues(0,0,0,1)}}),z=fe(E.prototype,"position1",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return le.vec3.create()}}),P=fe(E.prototype,"position2",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return le.vec3.create()}}),C=fe(E.prototype,"width",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),D=fe(E.prototype,"type",[p,v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return de.INVALID}}),g=E))||g),be=(L=le.meta.type("EveCurveLineSet",!0),M=le.meta.boolean,F=le.meta.black.objectOf("Tw2Effect"),G=le.meta.float,k=le.meta.notImplemented,N=le.meta.float,B=le.meta.boolean,U=le.meta.black.objectOf("Tw2Effect"),V=le.meta.quaternion,H=le.meta.vector3,q=le.meta.vector3,W=le.meta.matrix4,L((oe=ae=class e extends ue.EveObjectSet{constructor(){super(),ce(this,"additive",K,this),ce(this,"lineEffect",Q,this),ce(this,"lineWidthFactor",Z,this),ce(this,"depthOffset",$,this),ce(this,"pickable",J,this),ce(this,"pickEffect",ee,this),ce(this,"rotation",te,this),ce(this,"scaling",re,this),ce(this,"translation",ie,this),ce(this,"transform",ne,this),this._worldTransform=le.mat4.create(),this._vertexSize=26,this._vbSize=0,this._vb=null,this._perObjectData=se.Tw2PerObjectData.from(e.perObjectData),this._decl=se.Tw2VertexDeclaration.from(e.vertexDeclarations).SetStride(104),e.init()}get lines(){return this.items}set lines(e){this.items=e}get lineCount(){for(var e=0,t=0;t<this.items.length;t++)this.items[t].type!==he.Type.INVALID&&(e+=this.items[t].numOfSegments);return e}Initialize(){this.UpdateValues(),this.Rebuild()}GetResources(e=[]){return this.lineEffect&&this.lineEffect.GetResources(e),e}AddStraightLineFromRay(e,t,r,i,n,a){var o=this.AddStraightLine([0,0,0],[0,0,0],i,n,a);return o.ChangePositionFromRay(e,t,r),o}AddStraightLine(e,t,r,i,n){return this.CreateItem({type:he.Type.STRAIGHT,position1:e,position2:t,color1:i,color2:n,width:r})}AddCurvedLineCrt(e,t,r,i,n,a){return this.CreateItem({type:he.Type.CURVED,position1:e,position2:t,intermediatePosition:r,color1:n,color2:a,width:i,numOfSegments:he.DEFAULT_CURVED_SEGMENTS})}AddCurvedLineSph(t,r,i,n,a,o,l){var s=e.global;return this.CreateItem({type:he.Type.CURVED,position1:le.vec3.fromSpherical(s.vec3_0,t,i),position2:le.vec3.fromSpherical(s.vec3_1,r,i),intermediatePosition:le.vec3.fromSpherical(s.vec3_2,n,i),color1:o,color2:l,width:a,numOfSegments:he.DEFAULT_CURVED_SEGMENTS})}AddSpheredLineCrt(e,t,r,i,n,a){return this.CreateItem({type:he.Type.SPHERED,position1:e,position2:t,intermediatePosition:r,color1:n,color2:a,width:i,numOfSegments:he.DEFAULT_SPHERED_SEGMENTS})}AddSpheredLineSph(t,r,i,n,a,o,l){var s=e.global;return this.CreateItem({type:he.Type.SPHERED,position1:le.vec3.fromSpherical(s.vec3_0,t,i),position2:le.vec3.fromSpherical(s.vec3_1,r,i),intermediatePosition:le.vec3.fromSpherical(s.vec3_2,n,i),color1:o,color2:l,width:a,numOfSegments:he.DEFAULT_SPHERED_SEGMENTS})}OnValueChanged(){le.mat4.fromRotationTranslationScale(this.transform,this.rotation,this.translation,this.scaling),this._dirty=!0}UpdateViewDependentData(e){e?le.mat4.multiply(this._worldTransform,e,this.transform):le.mat4.copy(this._worldTransform,this.transform)}Unload(e){this._vb&&(le.device.gl.deleteBuffer(this._vb),this._vb=null),super.Unload(e)}Rebuild(){this.RebuildItems(),this._vbSize=this.lineCount,this._dirty=!1;var t=this._visibleItems.length;if(t){for(var r,i=e.global,n=new Float32Array(6*this._vbSize*this._vertexSize),a=i.vec3_0,o=i.vec3_1,l=i.vec3_2,s=i.vec3_3,u=i.vec3_4,c=i.vec3_5,f=i.vec3_6,d=i.mat4_0,h=i.vec3_7,b=i.vec3_8,m=i.vec3_9,p=i.vec3_10,v=i.vec4_0,g=i.vec4_1,E=0,y=0;y<t;++y){var T=this._visibleItems[y];switch(T.type){case he.Type.INVALID:break;case he.Type.STRAIGHT:e.WriteLineVerticesToBuffer(this,T.position1,T.color1,0,T.position2,T.color2,1,y,n,E),E+=6*this._vertexSize;break;case he.Type.SPHERED:le.vec3.subtract(a,T.position1,T.intermediatePosition),le.vec3.subtract(o,T.position2,T.intermediatePosition),le.vec3.normalize(l,a),le.vec3.normalize(s,o),le.vec3.cross(u,a,o);var w=Math.acos(le.vec3.dot(l,s))/T.numOfSegments;le.mat4.identity(d),le.mat4.rotate(d,d,w,u),le.vec3.copy(h,a),le.vec4.copy(v,T.color1);for(var _=0;_<this.lines[y].numOfSegments;++_){var S=(_+1)/T.numOfSegments;le.vec3.transformMat4(b,h,d),g[0]=T.color1[0]*(1-S)+T.color2[0]*S,g[1]=T.color1[1]*(1-S)+T.color2[1]*S,g[2]=T.color1[2]*(1-S)+T.color2[2]*S,g[3]=T.color1[3]*(1-S)+T.color2[3]*S,le.vec3.add(m,h,T.intermediatePosition),le.vec3.add(p,b,T.intermediatePosition),e.WriteLineVerticesToBuffer(this,m,v,_/T.numOfSegments,p,g,S,y,n,E),E+=6*this._vertexSize,r=h,h=b,b=r,r=v,v=g,g=r}break;case he.Type.CURVED:le.vec3.subtract(c,T.intermediatePosition,T.position1),le.vec3.subtract(f,T.position2,T.intermediatePosition),le.vec3.copy(m,T.position1),le.vec3.copy(v,T.color1);for(var R=0;R<T.numOfSegments;++R){var j=(R+1)/T.numOfSegments;le.vec3.hermite(p,T.position1,c,T.position2,f,j),g[0]=T.color1[0]*(1-j)+T.color2[0]*j,g[1]=T.color1[1]*(1-j)+T.color2[1]*j,g[2]=T.color1[2]*(1-j)+T.color2[2]*j,g[3]=T.color1[3]*(1-j)+T.color2[3]*j,e.WriteLineVerticesToBuffer(this,m,v,R/T.numOfSegments,p,g,j,y,n,E),E+=6*this._vertexSize,r=m,m=p,p=r,r=v,v=g,g=r}}}this._vb=le.device.gl.createBuffer(),le.device.gl.bindBuffer(le.device.gl.ARRAY_BUFFER,this._vb),le.device.gl.bufferData(le.device.gl.ARRAY_BUFFER,n,le.device.gl.STATIC_DRAW),le.device.gl.bindBuffer(le.device.gl.ARRAY_BUFFER,null),super.Rebuild()}else super.Rebuild()}GetBatches(t,r){if(this.display&&this._vb){var i;switch(t){case le.device.RM_TRANSPARENT:if(this.additive||!this.lineEffect)return;i=this.lineEffect;break;case le.device.RM_ADDITIVE:if(!this.additive||!this.lineEffect)return;i=this.lineEffect;break;case le.device.RM_PICKABLE:if(!this.pickable||!this.pickEffect)return;i=this.pickEffect}var n=new se.Tw2ForwardingRenderBatch,a=le.mat4.transpose(e.global.mat4_0,this._worldTransform);this._perObjectData.vs.Set("WorldMat",a),this._perObjectData.ps.Set("WorldMat",a),n.perObjectData=this._perObjectData,n.geometryProvider=this,n.renderMode=t,n.effect=i,r.Commit(n)}}Render(e,t){if(!e.effect||!e.effect.IsGood()||!this._vb)return!1;var r=le.device,i=r.gl;i.bindBuffer(i.ARRAY_BUFFER,this._vb);for(var n=e.effect.GetPassCount(t),a=0;a<n;++a){e.effect.ApplyPass(t,a);var o=e.effect.GetPassInput(t,a);if(!this._decl.SetDeclaration(r,o,this._decl.stride))return!1;r.ApplyShadowState(),i.drawArrays(i.TRIANGLES,0,6*this._vbSize)}return!0}static FillColorVertices(e,t,r){return t[r++]=e.multiColor[0],t[r++]=e.multiColor[1],t[r++]=e.multiColor[2],t[r++]=e.multiColor[3],t[r++]=e.overlayColor[0],t[r++]=e.overlayColor[1],t[r++]=e.overlayColor[2],t[r++]=e.overlayColor[3],r}static WriteLineVerticesToBuffer(t,r,i,n,a,o,l,s,u,c){var f=t.items[s];u[c++]=r[0],u[c++]=r[1],u[c++]=r[2],u[c++]=a[0]-r[0],u[c++]=a[1]-r[1],u[c++]=a[2]-r[2],u[c++]=-t.lineWidthFactor*f.width,u[c++]=0,u[c++]=n,u[c++]=f.multiColorBorder,u[c++]=l-n,u[c++]=f.animationSpeed,u[c++]=f.animationScale,u[c++]=s,u[c++]=i[0],u[c++]=i[1],u[c++]=i[2],u[c++]=i[3],c=e.FillColorVertices(f,u,c),u[c++]=r[0],u[c++]=r[1],u[c++]=r[2],u[c++]=a[0]-r[0],u[c++]=a[1]-r[1],u[c++]=a[2]-r[2],u[c++]=t.lineWidthFactor*f.width,u[c++]=0,u[c++]=n,u[c++]=f.multiColorBorder,u[c++]=l-n,u[c++]=f.animationSpeed,u[c++]=f.animationScale,u[c++]=s,u[c++]=i[0],u[c++]=i[1],u[c++]=i[2],u[c++]=i[3],c=e.FillColorVertices(f,u,c),u[c++]=a[0],u[c++]=a[1],u[c++]=a[2],u[c++]=r[0]-a[0],u[c++]=r[1]-a[1],u[c++]=r[2]-a[2],u[c++]=-t.lineWidthFactor*f.width,u[c++]=1,u[c++]=l,u[c++]=f.multiColorBorder,u[c++]=l-n,u[c++]=f.animationSpeed,u[c++]=f.animationScale,u[c++]=s,u[c++]=o[0],u[c++]=o[1],u[c++]=o[2],u[c++]=o[3],c=e.FillColorVertices(f,u,c),u[c++]=r[0],u[c++]=r[1],u[c++]=r[2],u[c++]=a[0]-r[0],u[c++]=a[1]-r[1],u[c++]=a[2]-r[2],u[c++]=t.lineWidthFactor*f.width,u[c++]=0,u[c++]=n,u[c++]=f.multiColorBorder,u[c++]=l-n,u[c++]=f.animationSpeed,u[c++]=f.animationScale,u[c++]=s,u[c++]=i[0],u[c++]=i[1],u[c++]=i[2],u[c++]=i[3],c=e.FillColorVertices(f,u,c),u[c++]=a[0],u[c++]=a[1],u[c++]=a[2],u[c++]=r[0]-a[0],u[c++]=r[1]-a[1],u[c++]=r[2]-a[2],u[c++]=t.lineWidthFactor*f.width,u[c++]=1,u[c++]=l,u[c++]=f.multiColorBorder,u[c++]=l-n,u[c++]=f.animationSpeed,u[c++]=f.animationScale,u[c++]=s,u[c++]=o[0],u[c++]=o[1],u[c++]=o[2],u[c++]=o[3],c=e.FillColorVertices(f,u,c),u[c++]=a[0],u[c++]=a[1],u[c++]=a[2],u[c++]=r[0]-a[0],u[c++]=r[1]-a[1],u[c++]=r[2]-a[2],u[c++]=-t.lineWidthFactor*f.width,u[c++]=1,u[c++]=l,u[c++]=f.multiColorBorder,u[c++]=l-n,u[c++]=f.animationSpeed,u[c++]=f.animationScale,u[c++]=s,u[c++]=o[0],u[c++]=o[1],u[c++]=o[2],u[c++]=o[3],e.FillColorVertices(f,u,c)}static init(){e.global||(e.global={vec3_0:le.vec3.create(),vec3_1:le.vec3.create(),vec3_2:le.vec3.create(),vec3_3:le.vec3.create(),vec3_4:le.vec3.create(),vec3_5:le.vec3.create(),vec3_6:le.vec3.create(),vec3_7:le.vec3.create(),vec3_8:le.vec3.create(),vec3_9:le.vec3.create(),vec3_10:le.vec3.create(),vec4_0:le.vec4.create(),vec4_1:le.vec4.create(),mat4_0:le.mat4.create()})}},ae.Item=he,ae.global=null,ae.perObjectData={vs:[["WorldMat",16]],ps:[["WorldMat",16]]},ae.vertexDeclarations=[{usage:"POSITION",usageIndex:0,elements:3},{usage:"TEXCOORD",usageIndex:0,elements:4},{usage:"TEXCOORD",usageIndex:1,elements:4},{usage:"TEXCOORD",usageIndex:2,elements:3},{usage:"COLOR",usageIndex:0,elements:4},{usage:"COLOR",usageIndex:1,elements:4},{usage:"COLOR",usageIndex:2,elements:4}],K=fe((X=oe).prototype,"additive",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Q=fe(X.prototype,"lineEffect",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return se.Tw2Effect.from({effectFilePath:"res:/Graphics/Effect/Managed/Space/SpecialFX/Lines3D.fx",textures:{TexMap:"res:/texture/global/white.dds.0.png",OverlayTexMap:"res:/texture/global/white.dds.0.png"}})}}),Z=fe(X.prototype,"lineWidthFactor",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),$=fe(X.prototype,"depthOffset",[k,N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),J=fe(X.prototype,"pickable",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),ee=fe(X.prototype,"pickEffect",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),te=fe(X.prototype,"rotation",[V],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return le.quat.create()}}),re=fe(X.prototype,"scaling",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return le.vec3.fromValues(1,1,1)}}),ie=fe(X.prototype,"translation",[q],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return le.vec3.create()}}),ne=fe(X.prototype,"transform",[W],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return le.mat4.create()}}),Y=X))||Y)},"./eve/item/EveCustomMask.js":function(e,t,r){"use strict";r.r(t),r.d(t,"EveCustomMask",(function(){return P}));var i,n,a,o,l,s,u,c,f,d,h,b,m,p,v,g,E,y,T,w,_,S,R=r("./global/index.js"),j=r("./core/parameter/index.js");function O(e,t,r,i,n,a,o){try{var l=e[a](o),s=l.value}catch(e){return void r(e)}l.done?t(s):Promise.resolve(s).then(i,n)}function A(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function z(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var P=(i=R.meta.type("EveCustomMask",!0),n=R.meta.stage(1),a=R.meta.boolean,o=R.meta.boolean,l=R.meta.black.byte,s=R.meta.black.vector3,u=R.meta.black.quaternion,c=R.meta.black.vector3,f=R.meta.black.vector4,d=R.meta.plainOf("Tw2Parameter"),h=R.meta.todo("Move to direct class properties"),i(b=n((S=class extends j.Tw2TransformParameter{constructor(...e){super(...e),A(this,"display",p,this),A(this,"isMirrored",v,this),A(this,"materialIndex",g,this),A(this,"position",E,this),A(this,"rotation",y,this),A(this,"scaling",T,this),A(this,"targetMaterials",w,this),A(this,"parameters",_,this),this._worldInverseTranspose=R.mat4.create()}SetMaterial(e){var t,r=this;return(t=function*(){var t=yield R.tw2.eveSof.FetchMaterial(e),{DiffuseColor:i,FresnelColor:n,Gloss:a}=t.parameters;r.parameters.DiffuseColor.SetValue(i),r.parameters.FresnelColor.SetValue(n),r.parameters.Gloss.SetValue(a)},function(){var e=this,r=arguments;return new Promise((function(i,n){var a=t.apply(e,r);function o(e){O(a,i,n,o,l,"next",e)}function l(e){O(a,i,n,o,l,"throw",e)}o(void 0)}))})()}UpdatePerObjectData(e,t,r,i){this.SetParentTransform(e);var n=this.display&&i?this.targetMaterials:R.vec4.ZERO;t.ps.Set("CustomMaskTarget"+r,n),t.ps.SetIndex("CustomMaskMaterialID"+r,0,this.materialIndex),t.vs.SetIndex("CustomMaskData"+r,1,this.isMirrored?1:0),t.vs.Set("CustomMaskMatrix"+r,this._worldInverseTranspose)}},p=z((m=S).prototype,"display",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),v=z(m.prototype,"isMirrored",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),g=z(m.prototype,"materialIndex",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),E=z(m.prototype,"position",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return R.vec3.create()}}),y=z(m.prototype,"rotation",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return R.quat.create()}}),T=z(m.prototype,"scaling",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return R.vec3.fromValues(1,1,1)}}),w=z(m.prototype,"targetMaterials",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return R.vec4.create()}}),_=z(m.prototype,"parameters",[d,h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{PatternMaskMap:new j.Tw2TextureParameter("PatternMaskMap"),DiffuseColor:new j.Tw2Vector4Parameter("DiffuseColor"),FresnelColor:new j.Tw2Vector4Parameter("FresnelColor"),Gloss:new j.Tw2Vector4Parameter("Gloss")}}}),b=m))||b)||b)},"./eve/item/EveLocator2.js":function(e,t,r){"use strict";r.r(t),r.d(t,"EveLocator2",(function(){return j})),r.d(t,"EveLocator",(function(){return O}));var i,n,a,o,l,s,u,c,f,d,h,b,m,p,v,g,E,y,T,w,_=r("./global/index.js");function S(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function R(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var j=(i=_.meta.type("EveLocator2",!0),n=_.meta.stage(1),a=_.meta.black.string,o=_.meta.black.matrix4,l=_.meta.uint,s=_.meta.todo("Move to EveLocator only?"),u=_.meta.uint,c=_.meta.todo("Move to EveLocator only?"),f=_.meta.objectOf("Tw2Bone"),d=_.meta.isPrivate,i(h=n((T=y=class e extends _.Tw2BaseClass{constructor(...e){super(...e),S(this,"name",m,this),S(this,"transform",p,this),S(this,"atlasIndex0",v,this),S(this,"atlasIndex1",g,this),S(this,"bone",E,this)}FindBone(e){return this.bone=e.FindBoneForMesh(this.name,0),this.bone}static from(t,r){var i=new e;return t&&_.util.assignIfExists(i,t,["transform","name","atlasIndex0","atlasIndex1"]),i}},y.Prefix={AUDIO:"locator_audio",ATTACH:"locator_attach",BOOSTER:"locator_booster",TURRET:"locator_turret",XL_TURRET:"locator_xl"},m=R((b=T).prototype,"name",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),p=R(b.prototype,"transform",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return _.mat4.create()}}),v=R(b.prototype,"atlasIndex0",[l,s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),g=R(b.prototype,"atlasIndex1",[u,c],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),E=R(b.prototype,"bone",[f,d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),h=b))||h)||h),O=_.meta.type("EveLocator",!0)(w=class extends j{})||w},"./eve/item/EveObjectSet.js":function(e,t,r){"use strict";r.r(t),r.d(t,"EveObjectSetItem",(function(){return O})),r.d(t,"EveObjectSet",(function(){return A}));var i,n,a,o,l,s,u,c,f,d,h,b,m,p,v,g,E,y,T,w,_,S=r("./global/index.js");function R(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function j(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var O=(i=S.meta.abstract,n=S.meta.type("EveObjectSetItem"),a=S.meta.boolean,i(o=n((u=class extends S.Tw2BaseClass{constructor(...e){super(...e),R(this,"display",s,this),this._dirty=!0}OnValueChanged(){this._dirty=!0}},s=j((l=u).prototype,"display",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),o=l))||o)||o),A=(c=S.meta.abstract,f=S.meta.type("EveObjectSet"),d=S.meta.boolean,h=S.meta.boolean,b=S.meta.list,m=S.meta.abstract,p=S.meta.abstract,c(v=f((_=w=class extends S.Tw2BaseClass{constructor(...e){super(...e),R(this,"autoRebuild",E,this),R(this,"display",y,this),R(this,"items",T,this),this._dirty=!0,this._visibleItems=[]}Initialize(){this.Rebuild()}OnValueChanged(){this._dirty=!0}OnItemModified(e,t){this.items.includes(e)?(this._dirty=!0,this.emit("item_modified",e,t)):(this.emit("item_removed",e,t),e.off("modified",this.OnItemModified))}CreateItem(e={},t,r){var i=this.constructor.Item.from(e);return this.AddItem(i,!0,!0),r||this.emit("item_created",i),t||this.UpdateValues(),i}AddItem(e,t,r){return!this.items.includes(e)&&(this.items.push(e),this._dirty=!0,e.on("modified",this.OnItemModified,this),r||this.emit("item_added",e),t||this.UpdateValues(e),!0)}RemoveItem(e,t,r){var i=this.items.indexOf(e);return-1!==i&&(this.items.splice(i,1),this._dirty=!0,e.off("modified",this.OnItemModified),r||this.emit("item_removed",e),t||this.UpdateValues(e),!0)}ClearItems(e,t){var r;t||(r=Array.from(this.items));for(var i=0;i<this.items.length;i++)this.RemoveItem(this.items[i],!0,!0),i--;t||this.emit("items_cleared",r),e||this.UpdateValues()}RebuildItems(){this._visibleItems.splice(0);for(var e=0;e<this.items.length;e++){var t=this.items[e];t.has("modified",this.OnItemModified)||(this.emit("item_added",t),t.on("modified",this.OnItemModified,this)),t.display&&this._visibleItems.push(t),t._dirty&&this.emit("item_rebuilt",t),t._dirty=!1}this._dirty=!0}AreItemsDirty(){for(var e=0;e<this.items.length;e++)if(this.items[e]._dirty)return!0;return!1}Update(e){!this._dirty&&this.autoRebuild&&this.AreItemsDirty()&&(this._dirty=!0),this._dirty&&this.Rebuild()}Unload(e){e||this.emit("unloaded")}Rebuild(){this.emit("rebuilt")}GetBatches(e,t,r){}Render(){}},w.Item=null,w.global={vec3_0:S.vec3.create(),vec3_1:S.vec3.create(),vec3_2:S.vec3.create(),vec4_0:S.vec4.create(),vec4_1:S.vec4.create(),mat4_0:S.mat4.create()},E=j((g=_).prototype,"autoRebuild",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),y=j(g.prototype,"display",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),T=j(g.prototype,"items",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),j(g.prototype,"GetBatches",[m],Object.getOwnPropertyDescriptor(g.prototype,"GetBatches"),g.prototype),j(g.prototype,"Render",[p],Object.getOwnPropertyDescriptor(g.prototype,"Render"),g.prototype),v=g))||v)||v)},"./eve/item/EvePlaneSet.js":function(e,t,r){"use strict";r.r(t),r.d(t,"EvePlaneSetItem",(function(){return re})),r.d(t,"EvePlaneSet",(function(){return ie}));var i,n,a,o,l,s,u,c,f,d,h,b,m,p,v,g,E,y,T,w,_,S,R,j,O,A,z,P,C,D,I,x,L,M,F,G,k,N,B,U,V,H,q,W,Y,X,K=r("./global/index.js"),Q=r("./core/index.js"),Z=r("./eve/item/EveObjectSet.js"),$=r("./core/mesh/index.js");function J(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function ee(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}class te extends Q.Tw2RenderBatch{constructor(...e){super(...e),this.planeSet=null}Commit(e){this.planeSet.Render(e)}}var re=(i=K.meta.type("EvePlaneSetItem",!0),n=K.meta.black.string,a=K.meta.black.color,o=K.meta.black.vector4,l=K.meta.black.vector4,s=K.meta.black.vector4,u=K.meta.black.vector4,c=K.meta.black.uint,f=K.meta.black.vector3,d=K.meta.black.quaternion,h=K.meta.black.vector3,b=K.meta.uint,m=K.meta.todo("Identify if this is required anywhere apart from the EVESOF, or if it can be deprecated"),p=K.meta.uint,v=K.meta.todo("Identify if this is required anywhere apart from the EVESOF, or if it can be deprecated"),i((D=class e extends Z.EveObjectSetItem{constructor(...e){super(...e),J(this,"name",y,this),J(this,"color",T,this),J(this,"layer1Scroll",w,this),J(this,"layer1Transform",_,this),J(this,"layer2Scroll",S,this),J(this,"layer2Transform",R,this),J(this,"maskAtlasID",j,this),J(this,"position",O,this),J(this,"rotation",A,this),J(this,"scaling",z,this),J(this,"boneIndex",P,this),J(this,"groupIndex",C,this),this._localTransform=K.mat4.create()}get maskMapAtlasIndex(){return this.maskAtlasID}set maskMapAtlasIndex(e){this.maskAtlasID=e}OnValueChanged(){K.mat4.fromRotationTranslationScale(this._localTransform,this.rotation,this.translation,this.scaling),this._dirty=!0}static from(t){var r=new e;return t&&(K.util.assignIfExists(r,t,["name","display","boneIndex","groupIndex","position","scaling","rotation","color","layer1Transform","layer2Transform","layer1Scroll","layer2Scroll","maskAtlasID"]),void 0!==t.maskMapAtlasIndex&&(r.maskAtlasID=t.maskMapAtlasIndex)),r}},y=ee((E=D).prototype,"name",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),T=ee(E.prototype,"color",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return K.vec4.create()}}),w=ee(E.prototype,"layer1Scroll",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return K.vec4.create()}}),_=ee(E.prototype,"layer1Transform",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return K.vec4.create()}}),S=ee(E.prototype,"layer2Scroll",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return K.vec4.create()}}),R=ee(E.prototype,"layer2Transform",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return K.vec4.create()}}),j=ee(E.prototype,"maskAtlasID",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),O=ee(E.prototype,"position",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return K.vec3.create()}}),A=ee(E.prototype,"rotation",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return K.quat.create()}}),z=ee(E.prototype,"scaling",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return K.vec3.fromValues(1,1,1)}}),P=ee(E.prototype,"boneIndex",[b,m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),C=ee(E.prototype,"groupIndex",[p,v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return-1}}),g=E))||g),ie=(I=K.meta.type("EvePlaneSet",!0),x=K.meta.black.string,L=K.meta.black.object,M=K.meta.notImplemented,F=K.meta.black.boolean,G=K.meta.notImplemented,k=K.meta.black.byte,N=K.meta.black.listOf("EvePlaneSetItem"),I((X=Y=class e extends Z.EveObjectSet{constructor(...t){super(...t),J(this,"name",V,this),J(this,"effect",H,this),J(this,"hideOnLowQuality",q,this),J(this,"pickBufferID",W,this),this._time=0,this._vertexBuffer=null,this._indexBuffer=null,this._decl=Q.Tw2VertexDeclaration.from(e.vertexDeclarations)}get planes(){return this.items}set planes(e){this.items=e}GetResources(e=[]){return this.effect&&this.effect.GetResources(e),e}Update(e,t){this._time+=e,super.Update(e)}Unload(e){this._vertexBuffer&&(K.device.gl.deleteBuffer(this._vertexBuffer),this._vertexBuffer=null),this._indexBuffer&&(K.device.gl.deleteBuffer(this._indexBuffer),this._indexBuffer=null),super.Unload(e)}Rebuild(){this.Unload(!0),this.RebuildItems(),this._dirty=!1;var t=this._visibleItems.length;if(t){e.global.mat4_0;for(var r=new Float32Array(4*t*35),i=0;i<t;++i){var n=this._visibleItems[i],a=4*i*35;r[a+35-3]=0,r[a+35+35-3]=1,r[a+70+35-3]=2,r[a+105+35-3]=3;for(var o=K.mat4.fromRotationTranslationScale(n._localTransform,n.rotation,n.position,n.scaling),l=0;l<4;++l){var s=a+35*l;r[s]=o[0],r[s+1]=o[4],r[s+2]=o[8],r[s+3]=o[12],r[s+4]=o[1],r[s+5]=o[5],r[s+6]=o[9],r[s+7]=o[13],r[s+8]=o[2],r[s+9]=o[6],r[s+10]=o[10],r[s+11]=o[14],r[s+12]=n.color[0],r[s+13]=n.color[1],r[s+14]=n.color[2],r[s+15]=n.color[3],r[s+16]=n.layer1Transform[0],r[s+17]=n.layer1Transform[1],r[s+18]=n.layer1Transform[2],r[s+19]=n.layer1Transform[3],r[s+20]=n.layer2Transform[0],r[s+21]=n.layer2Transform[1],r[s+22]=n.layer2Transform[2],r[s+23]=n.layer2Transform[3],r[s+24]=n.layer1Scroll[0],r[s+25]=n.layer1Scroll[1],r[s+26]=n.layer1Scroll[2],r[s+27]=n.layer1Scroll[3],r[s+28]=n.layer2Scroll[0],r[s+29]=n.layer2Scroll[1],r[s+30]=n.layer2Scroll[2],r[s+31]=n.layer2Scroll[3],r[s+33]=n.boneIndex,r[s+34]=n.maskAtlasID}}this._vertexBuffer=K.device.gl.createBuffer(),K.device.gl.bindBuffer(K.device.gl.ARRAY_BUFFER,this._vertexBuffer),K.device.gl.bufferData(K.device.gl.ARRAY_BUFFER,r,K.device.gl.STATIC_DRAW),K.device.gl.bindBuffer(K.device.gl.ARRAY_BUFFER,null);for(var u=new Uint16Array(6*t),c=0;c<t;++c){var f=6*c,d=4*c;u[f]=d,u[f+1]=d+2,u[f+2]=d+1,u[f+3]=d,u[f+4]=d+3,u[f+5]=d+2}this._indexBuffer=K.device.gl.createBuffer(),K.device.gl.bindBuffer(K.device.gl.ELEMENT_ARRAY_BUFFER,this._indexBuffer),K.device.gl.bufferData(K.device.gl.ELEMENT_ARRAY_BUFFER,u,K.device.gl.STATIC_DRAW),K.device.gl.bindBuffer(K.device.gl.ELEMENT_ARRAY_BUFFER,null),this._indexBuffer.count=6*t,super.Rebuild()}else super.Rebuild()}GetBatches(e,t,r){if(this.display&&e===K.device.RM_ADDITIVE&&this._indexBuffer&&this._vertexBuffer&&this._visibleItems.length){var i=new te;i.renderMode=K.device.RM_ADDITIVE,i.planeSet=this,i.perObjectData=r,t.Commit(i)}}Render(e){if(!(this.effect&&this.effect.IsGood()&&this._vertexBuffer&&this._indexBuffer))return!1;var t=K.device,r=t.gl;t.SetStandardStates(t.RM_ADDITIVE),r.bindBuffer(r.ARRAY_BUFFER,this._vertexBuffer),r.bindBuffer(r.ELEMENT_ARRAY_BUFFER,this._indexBuffer);for(var i=0;i<this.effect.GetPassCount(e);++i){if(this.effect.ApplyPass(e,i),!this._decl.SetDeclaration(t,this.effect.GetPassInput(e,i),140))return!1;t.ApplyShadowState(),r.drawElements(r.TRIANGLES,this._indexBuffer.count,r.UNSIGNED_SHORT,0)}return!0}static from(t,r){var i=new e;if(t&&(K.util.assignIfExists(i,t,["name","display","hideOnLowQuality"]),t.effect&&(i.effect=$.Tw2Effect.from(t.effect)),t.items))for(var n=0;n<t.items.length;n++)i.CreateItem(t.items[n]);return r&&r.skipUpdate||i.Initialize(),i}},Y.Item=re,Y.vertexDeclarations=[{usage:"TEXCOORD",usageIndex:0,elements:4},{usage:"TEXCOORD",usageIndex:1,elements:4},{usage:"TEXCOORD",usageIndex:2,elements:4},{usage:"COLOR",usageIndex:0,elements:4},{usage:"TEXCOORD",usageIndex:3,elements:4},{usage:"TEXCOORD",usageIndex:4,elements:4},{usage:"TEXCOORD",usageIndex:5,elements:4},{usage:"TEXCOORD",usageIndex:6,elements:4},{usage:"TEXCOORD",usageIndex:7,elements:3}],V=ee((U=X).prototype,"name",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),H=ee(U.prototype,"effect",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),q=ee(U.prototype,"hideOnLowQuality",[M,F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),W=ee(U.prototype,"pickBufferID",[G,k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),ee(U.prototype,"planes",[N],Object.getOwnPropertyDescriptor(U.prototype,"planes"),U.prototype),B=U))||B)},"./eve/item/EveSpaceObjectDecal.js":function(e,t,r){"use strict";r.r(t),r.d(t,"EveSpaceObjectDecal",(function(){return F}));var i,n,a,o,l,s,u,c,f,d,h,b,m,p,v,g,E,y,T,w,_,S,R,j,O,A,z,P,C,D=r("./global/index.js"),I=r("./core/index.js"),x=r("./core/mesh/index.js");function L(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function M(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var F=(i=D.meta.type("EveSpaceObjectDecal",!0),n=D.meta.black.string,a=D.meta.black.objectOf("Tw2Effect"),o=D.meta.boolean,l=D.meta.uint,s=D.meta.todo("Identify if deprecated, this may only be needed if created a SOF object from a decal"),u=D.meta.black.indexBuffer,c=D.meta.uint,f=D.meta.todo("Identify if deprecated, Doesn't seem to be on the new SOF anywhere but it is required, maybe default to 0?"),d=D.meta.boolean,h=D.meta.objectOf("Tw2Effect"),b=D.meta.black.vector3,m=D.meta.black.quaternion,p=D.meta.black.vector3,i((C=P=class e extends D.Tw2BaseClass{constructor(...t){super(...t),L(this,"name",E,this),L(this,"decalEffect",y,this),L(this,"display",T,this),L(this,"groupIndex",w,this),L(this,"indexBuffer",_,this),L(this,"parentBoneIndex",S,this),L(this,"pickable",R,this),L(this,"pickEffect",j,this),L(this,"position",O,this),L(this,"rotation",A,this),L(this,"scaling",z,this),this._dirty=!0,this._indexBuffer=null,this._localTransform=D.mat4.create(),this._localTransformInverse=D.mat4.create(),this._parentGeometry=null,this._perObjectData=I.Tw2PerObjectData.from(e.perObjectData)}Initialize(){this.Rebuild(),this.UpdateValues()}GetResources(e=[]){return this.decalEffect&&this.decalEffect.GetResources(e),this.pickEffect&&this.pickEffect.GetResources(e),e}OnValueChanged(){D.mat4.fromRotationTranslationScale(this._localTransform,this.rotation,this.position,this.scaling),D.mat4.invert(this._localTransformInverse,this._localTransform)}SetParentGeometry(e){this._parentGeometry=e}Unload(e){this._indexBuffer&&(D.device.gl.deleteBuffer(this._indexBuffer),this._indexBuffer=null),e||this.emit("unloaded")}Rebuild(){if(this.Unload(!0),this.indexBuffer){var e=D.device.gl,t=new Uint16Array(this.indexBuffer);this._indexBuffer=e.createBuffer(),e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,this._indexBuffer),e.bufferData(e.ELEMENT_ARRAY_BUFFER,t,e.STATIC_DRAW)}this._dirty=!1,this.emit("rebuilt")}GetBatches(e,t,r,i){var n;switch(e){case D.device.RM_DECAL:n=this.decalEffect;break;case D.device.RM_PICKABLE:n=this.pickable?this.pickEffect:null}if(this._dirty&&this.Rebuild(),this.display&&n&&this._parentGeometry&&this._parentGeometry.meshes[0]&&this._indexBuffer&&n.IsGood()&&this._parentGeometry.IsGood()){var a=new I.Tw2ForwardingRenderBatch;if(this._perObjectData.vs.Set("worldMatrix",r.vs.Get("WorldMat")),this.parentBoneIndex>=0){var o=r.vs.Get("JointMat"),l=12*this.parentBoneIndex;if(o[l]||o[l+4]||o[l+8]){var s=this._perObjectData.vs.Get("parentBoneMatrix");s[0]=o[l],s[1]=o[l+4],s[2]=o[l+8],s[3]=0,s[4]=o[l+1],s[5]=o[l+5],s[6]=o[l+9],s[7]=0,s[8]=o[l+2],s[9]=o[l+6],s[10]=o[l+10],s[11]=0,s[12]=o[l+3],s[13]=o[l+7],s[14]=o[l+11],s[15]=1,D.mat4.transpose(s,s)}}D.mat4.invert(this._perObjectData.vs.Get("invWorldMatrix"),this._perObjectData.vs.Get("worldMatrix")),D.mat4.transpose(this._perObjectData.vs.Get("decalMatrix"),this._localTransform),D.mat4.transpose(this._perObjectData.vs.Get("invDecalMatrix"),this._localTransformInverse),this._perObjectData.ps.Get("displayData")[0]=i||0,this._perObjectData.ps.Set("shipData",r.ps.data),a.perObjectData=this._perObjectData,a.geometryProvider=this,a.renderMode=e,a.effect=n,t.Commit(a)}}Render(e,t){var r=this._parentGeometry.meshes[0],i=r.indexes,n=r.areas[0].start,a=r.areas[0].count,o=r.indexType;D.tw2.SetVariableValue("u_DecalMatrix",this._localTransform),D.tw2.SetVariableValue("u_InvDecalMatrix",this._localTransformInverse),r.indexes=this._indexBuffer,r.areas[0].start=0,r.areas[0].count=this.indexBuffer.length,r.indexType=D.device.gl.UNSIGNED_SHORT,this._parentGeometry.RenderAreas(0,0,1,e.effect,t),r.indexes=i,r.areas[0].start=n,r.areas[0].count=a,r.indexType=o}static from(t,r){var i=new e;if(t){D.util.assignIfExists(i,t,["name","display","pickable","position","rotation","scaling","groupIndex","parentBoneIndex"]),t.indexBuffer&&(i.indexBuffer=new Uint16Array(t.indexBuffer)),t.pickEffect&&(i.pickEffect=x.Tw2Effect.from(t.pickEffect));var n=t.decalEffect||t.effect;n&&(i.decalEffect=x.Tw2Effect.from(n))}return r&&r.skipUpdate||i.Initialize(),i}},P.perObjectData={vs:[["worldMatrix",16],["invWorldMatrix",16],["decalMatrix",16],["invDecalMatrix",16],["parentBoneMatrix",D.mat4.identity([])]],ps:[["displayData",4],["shipData",12]]},E=M((g=C).prototype,"name",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),y=M(g.prototype,"decalEffect",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),T=M(g.prototype,"display",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),w=M(g.prototype,"groupIndex",[l,s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return-1}}),_=M(g.prototype,"indexBuffer",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),S=M(g.prototype,"parentBoneIndex",[c,f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return-1}}),R=M(g.prototype,"pickable",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),j=M(g.prototype,"pickEffect",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),O=M(g.prototype,"position",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return D.vec3.create()}}),A=M(g.prototype,"rotation",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return D.quat.create()}}),z=M(g.prototype,"scaling",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return D.vec3.fromValues(1,1,1)}}),v=g))||v)},"./eve/item/EveSpotlightSet.js":function(e,t,r){"use strict";r.r(t),r.d(t,"EveSpotlightSetItem",(function(){return re})),r.d(t,"EveSpotlightSet",(function(){return ie}));var i,n,a,o,l,s,u,c,f,d,h,b,m,p,v,g,E,y,T,w,_,S,R,j,O,A,z,P,C,D,I,x,L,M,F,G,k,N,B,U,V,H,q,W,Y,X=r("./global/index.js"),K=r("./core/index.js"),Q=r("./eve/item/EveObjectSet.js"),Z=r("./global/util/index.js"),$=r("./core/mesh/index.js");function J(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function ee(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}class te extends K.Tw2RenderBatch{constructor(...e){super(...e),this.spotlightSet=null}Commit(e){this.spotlightSet.RenderCones(e),this.spotlightSet.RenderGlow(e)}}var re=(i=X.meta.type("EveSpotlightSetItem",!0),n=X.meta.black.string,a=X.meta.float,o=X.meta.uint,l=X.meta.black.color,s=X.meta.float,u=X.meta.boolean,c=X.meta.black.color,f=X.meta.float,d=X.meta.uint,h=X.meta.todo("Identify if deprecated, only needed if creating a SOF object from the spotlight"),b=X.meta.black.color,m=X.meta.float,p=X.meta.black.color,v=X.meta.black.matrix4,i((I=class extends Q.EveObjectSetItem{constructor(...e){super(...e),J(this,"name",y,this),J(this,"boosterGainInfluence",T,this),J(this,"boneIndex",w,this),J(this,"coneColor",_,this),J(this,"coneIntensity",S,this),J(this,"display",R,this),J(this,"flareColor",j,this),J(this,"flareIntensity",O,this),J(this,"groupIndex",A,this),J(this,"spriteColor",z,this),J(this,"spriteIntensity",P,this),J(this,"spriteScale",C,this),J(this,"transform",D,this)}static from(e={}){var t=new this;return X.util.assignIfExists(t,e,["name","display","boosterGainInfluence","boneIndex","groupIndex","coneIntensity","spriteIntensity","flareIntensity","transform","coneColor","spriteColor","flareColor","spriteScale"]),t}},y=ee((E=I).prototype,"name",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),T=ee(E.prototype,"boosterGainInfluence",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),w=ee(E.prototype,"boneIndex",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),_=ee(E.prototype,"coneColor",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return X.vec4.create()}}),S=ee(E.prototype,"coneIntensity",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),R=ee(E.prototype,"display",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),j=ee(E.prototype,"flareColor",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return X.vec4.create()}}),O=ee(E.prototype,"flareIntensity",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),A=ee(E.prototype,"groupIndex",[d,h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return-1}}),z=ee(E.prototype,"spriteColor",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return X.vec4.create()}}),P=ee(E.prototype,"spriteIntensity",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),C=ee(E.prototype,"spriteScale",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return X.vec3.fromValues(1,1,1)}}),D=ee(E.prototype,"transform",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return X.mat4.create()}}),g=E))||g),ie=(x=X.meta.type("EveSpotlightSet",!0),L=X.meta.black.string,M=X.meta.black.objectOf("Tw2Effect"),F=X.meta.black.objectOf("Tw2Effect"),G=X.meta.black.float,k=X.meta.black.listOf("EveSpotlightSetItem"),x((Y=W=class e extends Q.EveObjectSet{constructor(...t){super(...t),J(this,"name",U,this),J(this,"coneEffect",V,this),J(this,"glowEffect",H,this),J(this,"intensity",q,this),this._coneVertexBuffer=null,this._decl=K.Tw2VertexDeclaration.from(e.vertexDeclarations),this._indexBuffer=null,this._spriteVertexBuffer=null}get spotlightItems(){return this.items}set spotlightItems(e){this.items=e}GetResources(e=[]){return this.coneEffect&&this.coneEffect.GetResources(e),this.glowEffect&&this.glowEffect.GetResources(e),e}Unload(e){this._coneVertexBuffer&&(X.device.gl.deleteBuffer(this._coneVertexBuffer),this._coneVertexBuffer=null),this._spriteVertexBuffer&&(X.device.gl.deleteBuffer(this._spriteVertexBuffer),this._spriteVertexBuffer=null),this._indexBuffer&&(X.device.gl.deleteBuffer(this._indexBuffer),this._indexBuffer=null),super.Unload(e)}Rebuild(){this.Unload(!0),this.RebuildItems(),this._dirty=!1;var e=this._visibleItems.length;if(e){for(var t=X.device,r=[1,0,2,3],i=new Float32Array(22*(4*e*4)),n=0;n<e;++n)for(var a=this._visibleItems[n],o=0;o<4;++o)for(var l=0;l<4;++l){var s=22*(4*n*4+4*o+l);i[s]=a.coneColor[0]*a.coneIntensity*this.intensity,i[s+1]=a.coneColor[1]*a.coneIntensity*this.intensity,i[s+2]=a.coneColor[2]*a.coneIntensity*this.intensity,i[s+3]=a.coneColor[3],i[s+4]=a.transform[0],i[s+5]=a.transform[4],i[s+6]=a.transform[8],i[s+7]=a.transform[12],i[s+8]=a.transform[1],i[s+9]=a.transform[5],i[s+10]=a.transform[9],i[s+11]=a.transform[13],i[s+12]=a.transform[2],i[s+13]=a.transform[6],i[s+14]=a.transform[10],i[s+15]=a.transform[14],i[s+16]=1,i[s+17]=1,i[s+18]=1,i[s+19]=4*o+r[l],i[s+20]=a.boneIndex,i[s+21]=a.boosterGainInfluence?255:0}this._coneVertexBuffer=t.gl.createBuffer(),t.gl.bindBuffer(t.gl.ARRAY_BUFFER,this._coneVertexBuffer),t.gl.bufferData(t.gl.ARRAY_BUFFER,i,t.gl.STATIC_DRAW),this._coneVertexBuffer.count=4*e*6;for(var u=new Float32Array(22*(2*e*4)),c=[1,0,2,3],f=0;f<e;++f)for(var d=this._visibleItems[f],h=0;h<2;++h)for(var b=0;b<4;++b){var m=22*(2*f*4+4*h+b);h%2==0?(u[m]=d.spriteColor[0]*d.spriteIntensity*this.intensity,u[m+1]=d.spriteColor[1]*d.spriteIntensity*this.intensity,u[m+2]=d.spriteColor[2]*d.spriteIntensity*this.intensity,u[m+3]=d.spriteColor[3],u[m+16]=d.spriteScale[0],u[m+17]=1,u[m+18]=1):(u[m]=d.flareColor[0]*d.flareIntensity*this.intensity,u[m+1]=d.flareColor[1]*d.flareIntensity*this.intensity,u[m+2]=d.flareColor[2]*d.flareIntensity*this.intensity,u[m+3]=d.flareColor[3],u[m+16]=1,u[m+17]=d.spriteScale[1],u[m+18]=d.spriteScale[2]),u[m+4]=d.transform[0],u[m+5]=d.transform[4],u[m+6]=d.transform[8],u[m+7]=d.transform[12],u[m+8]=d.transform[1],u[m+9]=d.transform[5],u[m+10]=d.transform[9],u[m+11]=d.transform[13],u[m+12]=d.transform[2],u[m+13]=d.transform[6],u[m+14]=d.transform[10],u[m+15]=d.transform[14],u[m+19]=4*h+c[b],u[m+20]=d.boneIndex,u[m+21]=d.boosterGainInfluence?255:0}this._spriteVertexBuffer=t.gl.createBuffer(),t.gl.bindBuffer(t.gl.ARRAY_BUFFER,this._spriteVertexBuffer),t.gl.bufferData(t.gl.ARRAY_BUFFER,u,t.gl.STATIC_DRAW),this._spriteVertexBuffer.count=2*e*6;for(var p=new Uint16Array(4*e*6),v=0;v<4*e;++v){var g=6*v,E=4*v;p[g]=E,p[g+1]=E+1,p[g+2]=E+2,p[g+3]=E+2,p[g+4]=E+3,p[g+5]=E}this._indexBuffer=t.gl.createBuffer(),t.gl.bindBuffer(t.gl.ELEMENT_ARRAY_BUFFER,this._indexBuffer),t.gl.bufferData(t.gl.ELEMENT_ARRAY_BUFFER,p,t.gl.STATIC_DRAW),t.gl.bindBuffer(t.gl.ELEMENT_ARRAY_BUFFER,null),this._indexBuffer.count=e,super.Rebuild()}else super.Rebuild()}GetBatches(e,t,r){if(this.display&&e===X.device.RM_ADDITIVE&&this._indexBuffer&&this._indexBuffer.count){var i=new te;i.renderMode=X.device.RM_ADDITIVE,i.spotlightSet=this,i.perObjectData=r,t.Commit(i)}}RenderCones(t){return e.Render(this,this.coneEffect,t,this._coneVertexBuffer)}RenderGlow(t){return e.Render(this,this.glowEffect,t,this._spriteVertexBuffer)}static Render(e,t,r,i){if(!(t&&t.IsGood()&&i&&e._indexBuffer))return!1;var n=X.device,a=n.gl;n.SetStandardStates(n.RM_ADDITIVE),a.bindBuffer(a.ARRAY_BUFFER,i),a.bindBuffer(a.ELEMENT_ARRAY_BUFFER,e._indexBuffer);for(var o=0;o<t.GetPassCount(r);++o){if(t.ApplyPass(r,o),!e._decl.SetDeclaration(n,t.GetPassInput(r,o),88))return!1;n.ApplyShadowState(),n.gl.drawElements(a.TRIANGLES,i.count,a.UNSIGNED_SHORT,0)}return!0}static from(t,r){var i=new e;if(t&&(Object(Z.assignIfExists)(i,t,["name","display","intensity"]),t.coneEffect&&(Object(Z.isFunction)(t.coneEffect)?i.coneEffect=t.coneEffect:i.coneEffect=$.Tw2Effect.from(t.coneEffect)),t.glowEffect&&(Object(Z.isFunction)(t.glowEffect)?i.glowEffect=t.glowEffect:i.glowEffect=$.Tw2Effect.from(t.glowEffect)),t.items))for(var n=0;n<t.items.length;n++)i.CreateItem(t.items[n]);return r&&r.skipUpdate||i.Initialize(),i}},W.Item=re,W.vertexDeclarations=[{usage:"COLOR",usageIndex:0,elements:4},{usage:"TEXCOORD",usageIndex:0,elements:4},{usage:"TEXCOORD",usageIndex:1,elements:4},{usage:"TEXCOORD",usageIndex:2,elements:4},{usage:"TEXCOORD",usageIndex:3,elements:3},{usage:"TEXCOORD",usageIndex:4,elements:3}],U=ee((B=Y).prototype,"name",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),V=ee(B.prototype,"coneEffect",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),H=ee(B.prototype,"glowEffect",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),q=ee(B.prototype,"intensity",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),ee(B.prototype,"spotlightItems",[k],Object.getOwnPropertyDescriptor(B.prototype,"spotlightItems"),B.prototype),N=B))||N)},"./eve/item/EveSpriteSet.js":function(e,t,r){"use strict";r.r(t),r.d(t,"EveSpriteSetItem",(function(){return re})),r.d(t,"EveSpriteSet",(function(){return ie}));var i,n,a,o,l,s,u,c,f,d,h,b,m,p,v,g,E,y,T,w,_,S,R,j,O,A,z,P,C,D,I,x,L,M,F,G,k,N,B,U,V,H,q,W,Y,X=r("./global/index.js"),K=r("./core/index.js"),Q=r("./eve/item/EveObjectSet.js"),Z=r("./global/util/index.js"),$=r("./core/mesh/index.js");function J(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function ee(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}class te extends K.Tw2RenderBatch{constructor(...e){super(...e),this.boosterGlow=!1,this.spriteSet=null,this.world=null,this.boosterGain=0,this.warpIntensity=0}Commit(e){this.boosterGlow?this.spriteSet.RenderBoosterGlow(e,this.world,this.boosterGain,this.warpIntensity):this.spriteSet.Render(e,this.world,this.perObjectData)}}var re=(i=X.meta.type("EveSpriteSetItem",!0),n=X.meta.black.string,a=X.meta.black.float,o=X.meta.black.float,l=X.meta.black.uint,s=X.meta.black.color,u=X.meta.black.float,c=X.meta.black.float,f=X.meta.black.float,d=X.meta.black.vector3,h=X.meta.black.color,b=X.meta.uint,m=X.meta.string,p=X.meta.todo("Remove this, and reference the name using the group index"),i((C=class extends Q.EveObjectSetItem{constructor(...e){super(...e),J(this,"name",E,this),J(this,"blinkPhase",y,this),J(this,"blinkRate",T,this),J(this,"boneIndex",w,this),J(this,"color",_,this),J(this,"falloff",S,this),J(this,"maxScale",R,this),J(this,"minScale",j,this),J(this,"position",O,this),J(this,"warpColor",A,this),J(this,"groupIndex",z,this),J(this,"groupName",P,this)}static from(e){var t=new this;return e&&X.util.assignIfExists(t,e,["name","display","blinkRate","blinkPhase","minScale","maxScale","falloff","boneIndex","groupIndex","position","color","warpColor","groupName"]),t}},E=ee((g=C).prototype,"name",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),y=ee(g.prototype,"blinkPhase",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),T=ee(g.prototype,"blinkRate",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),w=ee(g.prototype,"boneIndex",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),_=ee(g.prototype,"color",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return X.vec4.create()}}),S=ee(g.prototype,"falloff",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),R=ee(g.prototype,"maxScale",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),j=ee(g.prototype,"minScale",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),O=ee(g.prototype,"position",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return X.vec3.create()}}),A=ee(g.prototype,"warpColor",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return X.vec4.create()}}),z=ee(g.prototype,"groupIndex",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return-1}}),P=ee(g.prototype,"groupName",[m,p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),v=g))||v),ie=(D=X.meta.type("EveSpriteSet",!0),I=X.meta.black.string,x=X.meta.black.objectOf("Tw2Effect"),L=X.meta.black.float,M=X.meta.black.boolean,F=X.meta.boolean,G=X.meta.black.listOf("EveSpriteSetItem"),D((Y=W=class e extends Q.EveObjectSet{constructor(...e){super(...e),J(this,"name",B,this),J(this,"effect",U,this),J(this,"intensity",V,this),J(this,"skinned",H,this),J(this,"useQuads",q,this),this._time=0,this._vertexBuffer=null,this._indexBuffer=null,this._instanceBuffer=null,this._decl=null,this._vdecl=K.Tw2VertexDeclaration.from([{usage:"TEXCOORD",usageType:5,elements:1}]),this._worldSpriteScale=1}get sprites(){return this.items}set sprites(e){this.items=e}Initialize(){this.UseQuads(!!this.useQuads),this.Rebuild()}GetResources(e=[]){return this.effect&&this.effect.GetResources(e),e}UseQuads(t){this.useQuads=t,this._decl=K.Tw2VertexDeclaration.from(t?e.quadVertexDeclarations:e.vertexDeclarations),this._dirty=!0}Update(e,t){this._time+=e,void 0!==this._worldSpriteScale&&this._worldSpriteScale!==t&&(this._worldSpriteScale=t,this._dirty=!0),super.Update(e)}Unload(e){var t=X.device.gl;this._vertexBuffer&&(t.deleteBuffer(this._vertexBuffer),this._vertexBuffer=null),this._indexBuffer&&(t.deleteBuffer(this._indexBuffer),this._indexBuffer=null),this._instanceBuffer&&(t.deleteBuffer(this._instanceBuffer),this._instanceBuffer=null),super.Unload(e)}Rebuild(){this.RebuildItems(),this._dirty=!1;var e=this._visibleItems.length;if(e){var t=X.device.gl;if(this.useQuads)return this._vertexBuffer=t.createBuffer(),t.bindBuffer(t.ARRAY_BUFFER,this._vertexBuffer),t.bufferData(t.ARRAY_BUFFER,new Float32Array([0,1,2,2,3,0]),t.STATIC_DRAW),t.bindBuffer(t.ARRAY_BUFFER,null),void(this._instanceBuffer=t.createBuffer());for(var r=new Float32Array(4*e*13),i=0;i<e;++i){var n=this._visibleItems[i],a=4*i*13;r[a]=0,r[a+13]=1,r[a+26]=2,r[a+39]=3;for(var o=0;o<4;++o){var l=a+13*o;r[l+1]=n.boneIndex,r[l+2]=n.position[0],r[l+3]=n.position[1],r[l+4]=n.position[2],r[l+5]=n.color[0],r[l+6]=n.color[1],r[l+7]=n.color[2],r[l+8]=n.blinkPhase,r[l+9]=n.blinkRate,r[l+10]=n.minScale*this._worldSpriteScale,r[l+11]=n.maxScale*this._worldSpriteScale,r[l+12]=n.falloff}}this._vertexBuffer=t.createBuffer(),t.bindBuffer(t.ARRAY_BUFFER,this._vertexBuffer),t.bufferData(t.ARRAY_BUFFER,r,t.STATIC_DRAW),t.bindBuffer(t.ARRAY_BUFFER,null);for(var s=new Uint16Array(6*e),u=0;u<e;++u){var c=6*u,f=4*u;s[c]=f,s[c+1]=f+2,s[c+2]=f+1,s[c+3]=f,s[c+4]=f+3,s[c+5]=f+2}this._indexBuffer=t.createBuffer(),t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,this._indexBuffer),t.bufferData(t.ELEMENT_ARRAY_BUFFER,s,t.STATIC_DRAW),t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,null),this._indexBuffer.count=6*e,super.Rebuild()}else super.Rebuild()}GetBatches(e,t,r,i){if(this.display&&e===X.device.RM_ADDITIVE&&this._vertexBuffer&&this._visibleItems.length){var n=new te;n.world=i,n.renderMode=X.device.RM_ADDITIVE,n.spriteSet=this,n.perObjectData=r,t.Commit(n)}}GetBoosterGlowBatches(e,t,r,i,n,a){if(this.display&&e===X.device.RM_ADDITIVE&&this._vertexBuffer&&this._visibleItems.length){var o=new te;o.boosterGlow=!0,o.world=i,o.boosterGain=n,o.warpIntensity=a,o.renderMode=X.device.RM_ADDITIVE,o.spriteSet=this,o.perObjectData=r,t.Commit(o)}}Render(e,t,r){if(this.useQuads)return this.RenderQuads(e,t,r);if(!(this.effect&&this.effect.IsGood()&&this._indexBuffer&&this._vertexBuffer))return!1;var i=X.device,n=i.gl;i.SetStandardStates(i.RM_ADDITIVE),n.bindBuffer(n.ARRAY_BUFFER,this._vertexBuffer),n.bindBuffer(n.ELEMENT_ARRAY_BUFFER,this._indexBuffer);for(var a=0;a<this.effect.GetPassCount(e);++a){if(this.effect.ApplyPass(e,a),!this._decl.SetDeclaration(i,this.effect.GetPassInput(e,a),52))return!1;i.ApplyShadowState(),n.drawElements(n.TRIANGLES,this._indexBuffer.count,n.UNSIGNED_SHORT,0)}return!0}RenderBoosterGlow(e,t,r,i){if(!(this.effect&&this.effect.IsGood()&&this._instanceBuffer&&this._vertexBuffer))return!1;var n=X.device,a=n.gl,o=Q.EveObjectSet.global.vec3_0,l=this._visibleItems.length,s=new Float32Array(17*l);n.SetStandardStates(n.RM_ADDITIVE);for(var u=0,c=0;c<l;++c){var f=this._visibleItems[c];X.vec3.transformMat4(o,f.position,t),s[u++]=o[0],s[u++]=o[1],s[u++]=o[2],s[u++]=t[8],s[u++]=f.blinkPhase,s[u++]=t[9],s[u++]=f.minScale*this._worldSpriteScale,s[u++]=f.maxScale*this._worldSpriteScale,s[u++]=t[10],s[u++]=f.color[0],s[u++]=f.color[1],s[u++]=f.color[2],s[u++]=r,s[u++]=f.warpColor[0],s[u++]=f.warpColor[1],s[u++]=f.warpColor[2],s[u++]=i}a.bindBuffer(a.ARRAY_BUFFER,this._instanceBuffer),a.bufferData(a.ARRAY_BUFFER,s,a.DYNAMIC_DRAW);for(var d=0;d<this.effect.GetPassCount(e);++d){this.effect.ApplyPass(e,d);var h=this.effect.GetPassInput(e,d);a.bindBuffer(a.ARRAY_BUFFER,this._vertexBuffer),this._vdecl.SetPartialDeclaration(n,h,4),a.bindBuffer(a.ARRAY_BUFFER,this._instanceBuffer);var b=this._decl.SetPartialDeclaration(n,h,68,0,1);n.ApplyShadowState(),a.drawArraysInstanced(a.TRIANGLES,0,6,l),this._decl.ResetInstanceDivisors(n,b)}return!0}RenderQuads(e,t,r){if(!(this.effect&&this.effect.IsGood()&&this._instanceBuffer&&this._vertexBuffer))return!1;var i=X.device,n=i.gl,a=this._visibleItems.length,o=new Float32Array(17*a),l=Q.EveObjectSet.global.vec3_0,s=r.vs.Get("JointMat");i.SetStandardStates(i.RM_ADDITIVE);for(var u=0,c=0;c<a;++c){var f=this._visibleItems[c];if(this.skinned){var d=12*f.boneIndex;l[0]=s[d]*f.position[0]+s[d+1]*f.position[1]+s[d+2]*f.position[2]+s[d+3],l[1]=s[d+4]*f.position[0]+s[d+5]*f.position[1]+s[d+6]*f.position[2]+s[d+7],l[2]=s[d+8]*f.position[0]+s[d+9]*f.position[1]+s[d+10]*f.position[2]+s[d+11],X.vec3.transformMat4(l,l,t)}else X.vec3.transformMat4(l,f.position,t);o[u++]=l[0],o[u++]=l[1],o[u++]=l[2],o[u++]=1,o[u++]=f.blinkPhase,o[u++]=f.blinkRate,o[u++]=f.minScale*this._worldSpriteScale,o[u++]=f.maxScale*this._worldSpriteScale,o[u++]=f.falloff,o[u++]=f.color[0],o[u++]=f.color[1],o[u++]=f.color[2],o[u++]=1,o[u++]=f.warpColor[0],o[u++]=f.warpColor[1],o[u++]=f.warpColor[2],o[u++]=1}n.bindBuffer(n.ARRAY_BUFFER,this._instanceBuffer),n.bufferData(n.ARRAY_BUFFER,o,n.DYNAMIC_DRAW);for(var h=0;h<this.effect.GetPassCount(e);++h){this.effect.ApplyPass(e,h);var b=this.effect.GetPassInput(e,h);n.bindBuffer(n.ARRAY_BUFFER,this._vertexBuffer),this._vdecl.SetPartialDeclaration(i,b,4),n.bindBuffer(n.ARRAY_BUFFER,this._instanceBuffer);var m=this._decl.SetPartialDeclaration(i,b,68,0,1);i.ApplyShadowState(),n.drawArraysInstanced(n.TRIANGLES,0,6,a),this._decl.ResetInstanceDivisors(i,m)}return!0}static from(t,r){var i=new e;if(t&&(Object(Z.assignIfExists)(i,t,["name","intensity","skinned","useQuads"]),t.effect&&(i.effect=$.Tw2Effect.from(t.effect)),t.items))for(var n=0;n<t.items.length;n++)i.CreateItem(t.items[n]);return r&&r.skipUpdate||i.Initialize(),i}},W.Item=re,W.vertexDeclarations=[{usage:"TEXCOORD",usageIndex:5,elements:2},{usage:"POSITION",usageIndex:0,elements:3},{usage:"COLOR",usageIndex:0,elements:3},{usage:"TEXCOORD",usageIndex:0,elements:1},{usage:"TEXCOORD",usageIndex:1,elements:1},{usage:"TEXCOORD",usageIndex:2,elements:1},{usage:"TEXCOORD",usageIndex:3,elements:1},{usage:"TEXCOORD",usageIndex:4,elements:1}],W.quadVertexDeclarations=[{usage:"POSITION",usageIndex:0,elements:3},{usage:"TEXCOORD",usageIndex:0,elements:4},{usage:"TEXCOORD",usageIndex:1,elements:2},{usage:"COLOR",usageIndex:0,elements:4},{usage:"COLOR",usageIndex:1,elements:4}],B=ee((N=Y).prototype,"name",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),U=ee(N.prototype,"effect",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),V=ee(N.prototype,"intensity",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),H=ee(N.prototype,"skinned",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),q=ee(N.prototype,"useQuads",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ee(N.prototype,"sprites",[G],Object.getOwnPropertyDescriptor(N.prototype,"sprites"),N.prototype),k=N))||k)},"./eve/item/EveTurretSet.js":function(e,t,r){"use strict";r.r(t),r.d(t,"EveTurretSetItem",(function(){return Ye})),r.d(t,"EveTurretSet",(function(){return Xe}));var i,n,a,o,l,s,u,c,f,d,h,b,m,p,v,g,E,y,T,w,_,S,R,j,O,A,z,P,C,D,I,x,L,M,F,G,k,N,B,U,V,H,q,W,Y,X,K,Q,Z,$,J,ee,te,re,ie,ne,ae,oe,le,se,ue,ce,fe,de,he,be,me,pe,ve,ge,Ee,ye,Te,we,_e,Se,Re,je,Oe,Ae,ze,Pe,Ce,De,Ie,xe,Le,Me,Fe,Ge,ke,Ne=r("./global/index.js"),Be=r("./core/index.js"),Ue=r("./eve/item/EveObjectSet.js");function Ve(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function He(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var qe,We,Ye=(i=Ne.meta.type("EveTurretSetItem"),n=Ne.meta.string,a=Ne.meta.boolean,o=Ne.meta.boolean,l=Ne.meta.vector3,s=Ne.meta.quaternion,i((p=class extends Ue.EveObjectSetItem{constructor(...e){super(...e),Ve(this,"locatorName",f,this),Ve(this,"updateFromLocator",d,this),Ve(this,"canFireWhenHidden",h,this),Ve(this,"position",b,this),Ve(this,"rotation",m,this),this._bone=null,this._localTransform=Ne.mat4.create(),this._localRotation=Ne.quat.create()}OnValueChanged(){this._dirty=!0,this.UpdateTransforms()}UpdateTransforms(){Ne.mat4.fromRotationTranslation(this._localTransform,this.rotation,this.position),this._bone?(Ne.mat4.multiply(this._localTransform,this._bone.offsetTransform,this._localTransform),Ne.mat4.getRotation(this._localRotation,this._localTransform)):Ne.quat.copy(this._localRotation,this.rotation)}static from(e={}){var t=new this;return Ne.util.assignIfExists(t,e,["name","display","locatorName","updateFromLocator","position","rotation","canFireWhenHidden"]),t.UpdateValues(),t}},f=He((c=p).prototype,"locatorName",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),d=He(c.prototype,"updateFromLocator",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),h=He(c.prototype,"canFireWhenHidden",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),b=He(c.prototype,"position",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Ne.vec3.create()}}),m=He(c.prototype,"rotation",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Ne.quat.create()}}),u=c))||u),Xe=(v=Ne.meta.type("EveTurretSet",!0),g=Ne.meta.stage(1),E=Ne.meta.black.string,y=Ne.meta.notImplemented,T=Ne.meta.black.float,w=Ne.meta.black.vector4,_=Ne.meta.notImplemented,S=Ne.meta.black.boolean,R=Ne.meta.notImplemented,j=Ne.meta.black.uint,O=Ne.meta.black.path,A=Ne.meta.black.path,z=Ne.meta.notImplemented,P=Ne.meta.black.float,C=Ne.meta.notImplemented,D=Ne.meta.black.boolean,I=Ne.meta.black.string,x=Ne.meta.notImplemented,L=Ne.meta.black.uint,M=Ne.meta.notImplemented,F=Ne.meta.black.boolean,G=Ne.meta.notImplemented,k=Ne.meta.black.float,N=Ne.meta.notImplemented,B=Ne.meta.black.float,U=Ne.meta.notImplemented,V=Ne.meta.black.float,H=Ne.meta.notImplemented,q=Ne.meta.black.float,W=Ne.meta.notImplemented,Y=Ne.meta.black.float,X=Ne.meta.notImplemented,K=Ne.meta.black.float,Q=Ne.meta.notImplemented,Z=Ne.meta.black.float,$=Ne.meta.black.objectOf("Tw2Effect"),J=Ne.meta.notImplemented,ee=Ne.meta.black.boolean,te=Ne.meta.notImplemented,re=Ne.meta.black.boolean,ie=Ne.meta.notImplemented,ne=Ne.meta.black.boolean,ae=Ne.meta.object,oe=Ne.meta.objectOf("Tw2GeometryResource"),le=Ne.meta.todo("Make private"),se=Ne.meta.plain,ue=Ne.meta.todo("Update parent class and replace with direct value"),v(ce=g((ke=Ge=class e extends Ue.EveObjectSet{constructor(...t){super(...t),Ve(this,"name",de,this),Ve(this,"bottomClipHeight",he,this),Ve(this,"boundingSphere",be,this),Ve(this,"chooseRandomLocator",me,this),Ve(this,"cyclingFireGroupCount",pe,this),Ve(this,"firingEffectResPath",ve,this),Ve(this,"geometryResPath",ge,this),Ve(this,"impactSize",Ee,this),Ve(this,"laserMissBehaviour",ye,this),Ve(this,"locatorName",Te,this),Ve(this,"maxCyclingFirePos",we,this),Ve(this,"projectileMissBehaviour",_e,this),Ve(this,"sysBoneHeight",Se,this),Ve(this,"sysBonePitch01Factor",Re,this),Ve(this,"sysBonePitch02Factor",je,this),Ve(this,"sysBonePitchFactor",Oe,this),Ve(this,"sysBonePitchMax",Ae,this),Ve(this,"sysBonePitchMin",ze,this),Ve(this,"sysBonePitchOffset",Pe,this),Ve(this,"turretEffect",Ce,this),Ve(this,"updatePitchPose",De,this),Ve(this,"useDynamicBounds",Ie,this),Ve(this,"useRandomFiringDelay",xe,this),Ve(this,"firingEffect",Le,this),Ve(this,"geometryResource",Me,this),Ve(this,"visible",Fe,this),this._activeAnimation=new Be.Tw2AnimationController,this._activeTurret=-1,this._currentCyclingFiresPos=0,this._fireCallback=null,this._fireCallbackPending=!1,this._hasCyclingFiringPos=!1,this._inactiveAnimation=new Be.Tw2AnimationController,this._locatorDirty=!0,this._parentTransform=Ne.mat4.create(),this._perObjectDataActive=Be.Tw2PerObjectData.from(e.perObjectData),this._perObjectDataInactive=Be.Tw2PerObjectData.from(e.perObjectData),this._state=e.State.IDLE,this._targetPosition=Ne.vec3.create(),this._recheckTimeLeft=0}get turrets(){return this.items}set turrets(e){this.items=e}Initialize(){this.turretEffect&&""!==this.geometryResPath&&(this.geometryResource=Ne.resMan.GetResource(this.geometryResPath,e=>this.OnResPrepared(e)),this._activeAnimation.SetGeometryResource(this.geometryResource),this._inactiveAnimation.SetGeometryResource(this.geometryResource)),""!==this.firingEffectResPath&&Ne.resMan.GetObject(this.firingEffectResPath,e=>this.firingEffect=e),this.Rebuild()}InitializeFiringEffect(){if(this.firingEffect&&this.geometryResource&&this.geometryResource.models.length)for(var t=this.geometryResource.models[0],r=0;r<this.firingEffect.GetPerMuzzleEffectCount();++r)this.firingEffect.SetMuzzleBoneID(r,t.FindBoneByName(e.positionBoneSkeletonNames[r]))}GetResources(e=[]){return this.turretEffect&&this.turretEffect.GetResources(e),this.firingEffect&&this.firingEffect.GetResources(e),this.geometryResource&&!e.includes(this.geometryResource)&&e.push(this.geometryResource),e}OnTurretFired(e){this._fireCallback=e}SetTargetPosition(e){Ne.vec3.copy(this._targetPosition,e)}GetClosestTurret(){for(var t=-1,r=-2,i=e.global,n=i.vec3_0,a=i.vec4_0,o=i.vec4_1,l=0;l<this.items.length;++l){var s=this.items[l];if(s.display||s.canFireWhenHidden){o[0]=s._localTransform[12],o[1]=s._localTransform[13],o[2]=s._localTransform[14],o[3]=1,Ne.vec4.transformMat4(o,o,this._parentTransform),Ne.vec3.subtract(n,this._targetPosition,o),Ne.vec3.normalize(n,n),Ne.vec4.set(a,0,1,0,0),Ne.vec4.transformMat4(a,a,s._localTransform),Ne.vec4.transformMat4(a,a,this._parentTransform);var u=Ne.vec3.dot(a,n);u>r&&(t=this.items.indexOf(s),r=u)}}return t}EnterStateDeactive(){this._state!==e.State.INACTIVE&&this._state!==e.State.PACKING&&(this.turretEffect?(this._activeAnimation.StopAllAnimations(),this._inactiveAnimation.StopAllAnimations(),this._activeAnimation.PlayAnimation("Pack",!1,()=>{this._state=e.State.INACTIVE,this._activeAnimation.PlayAnimation("Inactive",!0)}),this._inactiveAnimation.PlayAnimation("Pack",!1,()=>{this._state=e.State.INACTIVE,this._inactiveAnimation.PlayAnimation("Inactive",!0)}),this._state=e.State.PACKING):this._state=e.State.INACTIVE,this._activeTurret=-1,this.DoStopFiring())}EnterStateIdle(){this._state!==e.State.IDLE&&this._state!==e.State.UNPACKING&&(this.turretEffect?(this._activeAnimation.StopAllAnimations(),this._inactiveAnimation.StopAllAnimations(),this._state===e.State.FIRING?(this._activeAnimation.PlayAnimation("Active",!0),this._inactiveAnimation.PlayAnimation("Active",!0)):(this._activeAnimation.PlayAnimation("Deploy",!1,()=>{this._state=e.State.IDLE,this._activeAnimation.PlayAnimation("Active",!0)}),this._inactiveAnimation.PlayAnimation("Deploy",!1,()=>{this._state=e.State.IDLE,this._inactiveAnimation.PlayAnimation("Active",!0)})),this._state=e.State.UNPACKING):this._state=e.State.IDLE,this._activeTurret=-1,this.DoStopFiring())}EnterStateFiring(){if(!this.turretEffect||this._state===e.State.FIRING)return this.DoStartFiring(),void(this.turretEffect&&this._activeAnimation.PlayAnimation("Fire",!1,()=>{this._activeAnimation.PlayAnimation("Active",!0)}));this._activeAnimation.StopAllAnimations(),this._inactiveAnimation.StopAllAnimations(),this._state===e.State.INACTIVE?(this._activeAnimation.PlayAnimation("Deploy",!1,()=>{this.DoStartFiring(),this._activeAnimation.PlayAnimation("Fire",!1,()=>{this._activeAnimation.PlayAnimation("Active",!0)})}),this._inactiveAnimation.PlayAnimation("Deploy",!1,()=>{this._inactiveAnimation.PlayAnimation("Active",!0)}),this._state=e.State.UNPACKING):(this.DoStartFiring(),this._activeAnimation.PlayAnimation("Fire",!1,()=>{this._activeAnimation.PlayAnimation("Active",!0)}),this._inactiveAnimation.PlayAnimation("Active",!0))}OnResPrepared(t){this.geometryResource=t;for(var r=Be.Tw2VertexElement.from({usage:"TEXCOORD",usageIndex:1,elements:2}),i=this.geometryResource.meshes,n=this._activeAnimation,a=this._inactiveAnimation,o=0;o<i.length;++o)i[o].declaration.elements.push(r),i[o].declaration.RebuildHash();switch(this._state){case e.State.INACTIVE:n.PlayAnimation("Inactive",!0),a.PlayAnimation("Inactive",!0);break;case e.State.IDLE:n.PlayAnimation("Active",!0),a.PlayAnimation("Active",!0);break;case e.State.FIRING:n.PlayAnimation("Fire",!1,()=>n.PlayAnimation("Active",!0)),a.PlayAnimation("Active",!0);break;case e.State.PACKING:this.EnterStateIdle();break;case e.State.UNPACKING:this.EnterStateDeactive()}}FindItemByLocatorName(e){for(var t=0;t<this.items.length;t++)if(this.items[t].locatorName===e)return this.items[t];return null}UpdateItemsFromLocators(t){for(var r=e.global,i=Array.from(this.items),n=r.mat4_0,a=0;a<t.length;a++){var{name:o,transform:l,bone:s=null}=t[a],u=this.FindItemByLocatorName(o);u?i.splice(i.indexOf(u),1):u=this.CreateItem({name:o,locatorName:o,updateFromLocator:!0}),u.updateFromLocator&&(u._bone=s,Ne.mat4.copy(n,l),Ne.vec3.normalize(n.subarray(0,3),n.subarray(0,3)),Ne.vec3.normalize(n.subarray(4,7),n.subarray(4,7)),Ne.vec3.normalize(n.subarray(8,11),n.subarray(8,11)),Ne.mat4.getRotation(u.rotation,n),Ne.mat4.getTranslation(u.position,n),u.UpdateValues())}for(var c=0;c<i.length;c++)i[c].locatorName&&(this.RemoveItem(i[c]),c--);this.RebuildItemsFromLocators(),this._dirty&&this.Rebuild()}RebuildItemsFromLocators(){this._locatorDirty=!0}UpdateViewDependentData(e){Ne.mat4.copy(this._parentTransform,e),this.firingEffect&&this.firingEffect.UpdateViewDependentData(e)}Rebuild(){this.RebuildItems(),this._dirty=!1,super.Rebuild()}Update(t){if(super.Update(t),this.turretEffect&&(this._activeAnimation.Update(t),this._inactiveAnimation.Update(t)),this.firingEffect&&this._visibleItems.length){if(-1!==this._activeTurret){this.firingEffect.isLoopFiring&&this._state===e.State.FIRING&&(this._recheckTimeLeft-=t,this._recheckTimeLeft<=0&&this.DoStartFiring());var r=this.items[this._activeTurret];if(this._activeAnimation.models.length)for(var i=this._activeAnimation.models[0].bonesByName,n=0;n<this.firingEffect.GetPerMuzzleEffectCount();++n){var a=i[e.positionBoneSkeletonNames[n]].worldTransform,o=this.firingEffect.GetMuzzleTransform(n);Ne.mat4.multiply(o,r._localTransform,a),Ne.mat4.multiply(o,this._parentTransform,o)}else for(var l=0;l<this.firingEffect.GetPerMuzzleEffectCount();++l)Ne.mat4.multiply(this.firingEffect.GetMuzzleTransform(l),this._parentTransform,r._localTransform);if(this._fireCallbackPending){if(this._fireCallback){for(var s=[],u=0;u<this.firingEffect.GetPerMuzzleEffectCount();++u)s.push(this.firingEffect.GetMuzzleTransform(u));this._fireCallback(this,s,r)}this._fireCallbackPending=!1}}this.firingEffect.SetEndPosition(this._targetPosition),this.firingEffect.Update(t)}}GetBatches(t,r,i,n){if(this.turretEffect&&this.geometryResource&&this.display&&this._visibleItems.length){if(t===Ne.device.RM_OPAQUE&&this.visible.turrets){var a=this._inactiveAnimation.GetBoneMatrices(0);if(0!==a.length){this.UpdatePerObjectData(this._perObjectDataInactive.vs,a),this._perObjectDataInactive.ps=i.ps;var o=new Be.Tw2ForwardingRenderBatch;if(o.renderMode=t,o.renderActive=!1,o.perObjectData=this._perObjectDataInactive,o.geometryProvider=this,r.Commit(o),this._state===e.State.FIRING){var l=this._activeAnimation.GetBoneMatrices(0);if(0!==l.length){this.UpdatePerObjectData(this._perObjectDataActive.vs,l,!0),this._perObjectDataActive.ps=i.ps;var s=new Be.Tw2ForwardingRenderBatch;s.renderActive=!0,s.perObjectData=this._perObjectDataActive,s.geometryProvider=this,r.Commit(s)}}}}this.GetFiringEffectBatches(t,r,i,n)}}GetFiringEffectBatches(e,t,r,i){this.firingEffect&&this.display&&this._visibleItems.length&&this.visible.firingEffects&&!i&&this.firingEffect.GetBatches(e,t,r)}Render(t,r){if(!this.turretEffect||!this.turretEffect.IsGood()||!this._visibleItems.length)return!1;for(var i=0,n=function(e){Ne.device.gl.disableVertexAttribArray(e.location),Ne.device.gl.vertexAttrib2f(e.location,i,i)},a=0;a<this.geometryResource.meshes.length;++a){this.geometryResource.meshes[a].declaration.FindUsage(Be.Tw2VertexElement.Type.TEXCOORD,1).customSetter=n}for(var o=0;i<this.items.length;++i)if(this.items[i].display){var l=this._state===e.State.FIRING&&i===this._activeTurret;t.renderActive===l&&(this.geometryResource.RenderAreas(0,0,1,this.turretEffect,r),o++)}return!!o}UpdatePerObjectData(t,r,i){Ne.mat4.transpose(t.Get("shipMatrix"),this._parentTransform);var n=r.length/12;t.Get("turretSetData")[0]=n,t.Get("baseCutoffData")[0]=this.bottomClipHeight;for(var a=t.Get("turretTranslation"),o=t.Get("turretRotation"),l=t.Get("turretPoseTransAndRot"),s=0;s<this._visibleItems.length;++s){for(var u=this._visibleItems[s],c=0;c<n;++c)l[2*(s*n+c)*4]=r[12*c+3],l[2*(s*n+c)*4+1]=r[12*c+7],l[2*(s*n+c)*4+2]=r[12*c+11],l[2*(s*n+c)*4+3]=1,e.mat3x4toquat(r,c,l,2*(s*n+c)+1);u._bone&&!i&&u.UpdateTransforms(),a[4*s]=u._localTransform[12],a[4*s+1]=u._localTransform[13],a[4*s+2]=u._localTransform[14],a[4*s+3]=1,o[4*s]=u.rotation[0],o[4*s+1]=u.rotation[1],o[4*s+2]=u.rotation[2],o[4*s+3]=u.rotation[3]}}DoStartFiring(){this._hasCyclingFiringPos&&(this._currentCyclingFiresPos=1-this._currentCyclingFiresPos),this.firingEffect&&this.firingEffect.PrepareFiring(0,this._hasCyclingFiringPos?this._currentCyclingFiresPos:-1),this._activeTurret=this.GetClosestTurret(),this._state=e.State.FIRING,this._recheckTimeLeft=2,this._fireCallback&&(this._fireCallbackPending=!0)}DoStopFiring(){this.firingEffect&&this.firingEffect.StopFiring()}},Ge.Item=Ye,Ge.State={INACTIVE:0,IDLE:1,FIRING:2,PACKING:2,UNPACKING:4},Ge.worldNames=["turretWorld0","turretWorld1","turretWorld2"],Ge.positionBoneSkeletonNames=["Pos_Fire01","Pos_Fire02","Pos_Fire03","Pos_Fire04","Pos_Fire05","Pos_Fire06","Pos_Fire07","Pos_Fire08"],Ge.perObjectData={vs:[["baseCutoffData",4],["turretSetData",4],["shipMatrix",16],["turretTranslation",96],["turretRotation",96],["turretPoseTransAndRot",576]]},Ge.mat3x4toquat=function(e,t,r,i){qe||(qe=Ne.mat4.create(),We=Ne.quat.create()),t*=12,i*=4,qe[0]=e[t],qe[1]=e[t+4],qe[2]=e[t+8],qe[3]=0,qe[4]=e[t+1],qe[5]=e[t+5],qe[6]=e[t+9],qe[7]=0,qe[8]=e[t+2],qe[9]=e[t+6],qe[10]=e[t+10],qe[11]=0,qe[12]=e[t+3],qe[13]=e[t+7],qe[14]=e[t+11],qe[15]=1,Ne.mat4.getRotation(We,qe),r[i]=We[0],r[i+1]=We[1],r[i+2]=We[2],r[i+3]=We[3]},de=He((fe=ke).prototype,"name",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),he=He(fe.prototype,"bottomClipHeight",[y,T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),be=He(fe.prototype,"boundingSphere",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Ne.vec4.create()}}),me=He(fe.prototype,"chooseRandomLocator",[_,S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),pe=He(fe.prototype,"cyclingFireGroupCount",[R,j],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),ve=He(fe.prototype,"firingEffectResPath",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),ge=He(fe.prototype,"geometryResPath",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),Ee=He(fe.prototype,"impactSize",[z,P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),ye=He(fe.prototype,"laserMissBehaviour",[C,D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Te=He(fe.prototype,"locatorName",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),we=He(fe.prototype,"maxCyclingFirePos",[x,L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),_e=He(fe.prototype,"projectileMissBehaviour",[M,F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Se=He(fe.prototype,"sysBoneHeight",[G,k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Re=He(fe.prototype,"sysBonePitch01Factor",[N,B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),je=He(fe.prototype,"sysBonePitch02Factor",[U,V],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Oe=He(fe.prototype,"sysBonePitchFactor",[H,q],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Ae=He(fe.prototype,"sysBonePitchMax",[W,Y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),ze=He(fe.prototype,"sysBonePitchMin",[X,K],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Pe=He(fe.prototype,"sysBonePitchOffset",[Q,Z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Ce=He(fe.prototype,"turretEffect",[$],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),De=He(fe.prototype,"updatePitchPose",[J,ee],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Ie=He(fe.prototype,"useDynamicBounds",[te,re],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),xe=He(fe.prototype,"useRandomFiringDelay",[ie,ne],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Le=He(fe.prototype,"firingEffect",[ae],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Me=He(fe.prototype,"geometryResource",[oe,le],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Fe=He(fe.prototype,"visible",[se],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{turrets:!0,firingEffects:!0}}}),He(fe.prototype,"turrets",[ue],Object.getOwnPropertyDescriptor(fe.prototype,"turrets"),fe.prototype),ce=fe))||ce)||ce)},"./eve/item/index.js":function(e,t,r){"use strict";r.r(t);var i=r("./eve/item/EveBoosterSet.js");r.d(t,"EveBoosterBatch",(function(){return i.EveBoosterBatch})),r.d(t,"EveBoosterSetItem",(function(){return i.EveBoosterSetItem})),r.d(t,"EveBoosterSet",(function(){return i.EveBoosterSet}));var n=r("./eve/item/EveCurveLineSet.js");r.d(t,"EveCurveLineSetItem",(function(){return n.EveCurveLineSetItem})),r.d(t,"EveCurveLineSet",(function(){return n.EveCurveLineSet}));var a=r("./eve/item/EveCustomMask.js");r.d(t,"EveCustomMask",(function(){return a.EveCustomMask}));var o=r("./eve/item/EveLocator2.js");r.d(t,"EveLocator2",(function(){return o.EveLocator2})),r.d(t,"EveLocator",(function(){return o.EveLocator}));var l=r("./eve/item/EveObjectSet.js");r.d(t,"EveObjectSetItem",(function(){return l.EveObjectSetItem})),r.d(t,"EveObjectSet",(function(){return l.EveObjectSet}));var s=r("./eve/item/EvePlaneSet.js");r.d(t,"EvePlaneSetItem",(function(){return s.EvePlaneSetItem})),r.d(t,"EvePlaneSet",(function(){return s.EvePlaneSet}));var u=r("./eve/item/EveSpaceObjectDecal.js");r.d(t,"EveSpaceObjectDecal",(function(){return u.EveSpaceObjectDecal}));var c=r("./eve/item/EveSpotlightSet.js");r.d(t,"EveSpotlightSetItem",(function(){return c.EveSpotlightSetItem})),r.d(t,"EveSpotlightSet",(function(){return c.EveSpotlightSet}));var f=r("./eve/item/EveSpriteSet.js");r.d(t,"EveSpriteSetItem",(function(){return f.EveSpriteSetItem})),r.d(t,"EveSpriteSet",(function(){return f.EveSpriteSet}));var d=r("./eve/item/EveTurretSet.js");r.d(t,"EveTurretSetItem",(function(){return d.EveTurretSetItem})),r.d(t,"EveTurretSet",(function(){return d.EveTurretSet}))},"./eve/object/EveEffectRoot.js":function(e,t,r){"use strict";r.r(t),r.d(t,"EveEffectRoot",(function(){return L}));var i,n,a,o,l,s,u,c,f,d,h,b,m,p,v,g,E,y,T,w,_,S,R,j,O,A,z=r("./global/index.js"),P=r("./core/index.js"),C=r("./eve/object/EveObject.js"),D=r("./eve/object/EveSpaceObject.js");function I(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function x(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var L=(i=z.meta.type("EveEffectRoot",!0),n=z.meta.todo("Implement LOD"),a=z.meta.listOf("Tw2CurveSet"),o=z.meta.listOf("EveMeshOverlayEffect"),l=z.meta.float,s=z.meta.vector3,u=z.meta.quaternion,c=z.meta.vector3,f=z.meta.matrix4,d=z.meta.isPrivate,h=z.meta.vector3,b=z.meta.isPrivate,m=z.meta.float,p=z.meta.isPrivate,i(v=n((A=class extends C.EveObject{constructor(...e){super(...e),I(this,"curveSets",E,this),I(this,"effectChildren",y,this),I(this,"duration",T,this),I(this,"scaling",w,this),I(this,"rotation",_,this),I(this,"translation",S,this),I(this,"localTransform",R,this),I(this,"boundingSphereCenter",j,this),I(this,"boundingSphereRadius",O,this),this._worldTransform=z.mat4.create(),this._perObjectData=P.Tw2PerObjectData.from(D.EveSpaceObject.perObjectData)}SetTransform(e){z.mat4.getRotation(this.rotation,e),z.mat4.getScaling(this.scaling,e),z.mat4.getTranslation(this.translation,e)}GetResources(e=[]){for(var t=0;t<this.effectChildren.length;++t)this.effectChildren[t].GetResources(e);return e}Start(){for(var e=0;e<this.curveSets.length;++e)this.curveSets[e].Play()}Stop(){for(var e=0;e<this.curveSets.length;++e)this.curveSets[e].Stop()}UpdateViewDependentData(e){z.mat4.fromRotationTranslationScale(this.localTransform,this.rotation,this.translation,this.scaling),e?z.mat4.multiply(this._worldTransform,e,this.localTransform):z.mat4.copy(this._worldTransform,this.localTransform)}Update(e){for(var t=0;t<this.curveSets.length;++t)this.curveSets[t].Update(e);for(var r=0;r<this.effectChildren.length;++r)this.effectChildren[r].Update(e,this._worldTransform)}GetBatches(e,t){if(this.display)for(var r=0;r<this.effectChildren.length;++r)this.effectChildren[r].GetBatches(e,t,this._perObjectData)}},E=x((g=A).prototype,"curveSets",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),y=x(g.prototype,"effectChildren",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),T=x(g.prototype,"duration",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),w=x(g.prototype,"scaling",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return z.vec3.fromValues(1,1,1)}}),_=x(g.prototype,"rotation",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return z.quat.create()}}),S=x(g.prototype,"translation",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return z.vec3.create()}}),R=x(g.prototype,"localTransform",[f,d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return z.mat4.create()}}),j=x(g.prototype,"boundingSphereCenter",[h,b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return z.vec3.create()}}),O=x(g.prototype,"boundingSphereRadius",[m,p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),v=g))||v)||v)},"./eve/object/EveMissile.js":function(e,t,r){"use strict";r.r(t),r.d(t,"EveMissileWarhead",(function(){return be})),r.d(t,"EveMissile",(function(){return me}));var i,n,a,o,l,s,u,c,f,d,h,b,m,p,v,g,E,y,T,w,_,S,R,j,O,A,z,P,C,D,I,x,L,M,F,G,k,N,B,U,V,H,q,W,Y,X,K,Q,Z,$,J,ee,te,re,ie,ne,ae,oe,le,se,ue=r("./global/index.js"),ce=r("./core/index.js"),fe=r("./eve/object/EveObject.js");function de(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function he(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var be=(i=ue.meta.type("EveMissileWarhead",!0),n=ue.meta.stage(2),a=ue.meta.notImplemented,o=ue.meta.black.float,l=ue.meta.black.float,s=ue.meta.notImplemented,u=ue.meta.black.float,c=ue.meta.black.float,f=ue.meta.black.float,d=ue.meta.black.objectOf("Tw2Mesh"),h=ue.meta.black.listOf("Tw2ParticleEmitter"),b=ue.meta.notImplemented,m=ue.meta.black.float,p=ue.meta.notImplemented,v=ue.meta.black.float,g=ue.meta.black.objectOf("EveSpriteSet"),E=ue.meta.black.float,y=ue.meta.notImplemented,T=ue.meta.black.float,w=ue.meta.notImplemented,_=ue.meta.black.float,i(S=n((N=k=class e extends fe.EveObject{constructor(...t){super(...t),de(this,"acceleration",j,this),de(this,"durationEjectPhase",O,this),de(this,"impactDuration",A,this),de(this,"impactSize",z,this),de(this,"maxExplosionDistance",P,this),de(this,"mesh",C,this),de(this,"particleEmitters",D,this),de(this,"pathOffsetNoiseScale",I,this),de(this,"pathOffsetNoiseSpeed",x,this),de(this,"spriteSet",L,this),de(this,"startEjectVelocity",M,this),de(this,"warheadLength",F,this),de(this,"warheadRadius",G,this),this._perObjectData=ce.Tw2PerObjectData.from(e.perObjectData),this._state=e.State.READY,this._time=0,this._transform=ue.mat4.create(),this._velocity=ue.vec3.create()}Initialize(){this.spriteSet&&this.spriteSet.UseQuads(!0)}GetResources(e=[]){return this.mesh&&this.mesh.GetResources(e),this.spriteSet&&this.spriteSet.GetResources(e),e}Launch(t){ue.mat4.copy(this._transform,t),this._velocity[0]=t[8]*this.startEjectVelocity,this._velocity[1]=t[9]*this.startEjectVelocity,this._velocity[2]=t[10]*this.startEjectVelocity,this._time=0,this._state=e.State.IN_FLIGHT}UpdateViewDependentData(){this.display&&this._state!==e.State.DEAD&&(ue.mat4.transpose(this._perObjectData.vs.Get("WorldMat"),this._transform),ue.mat4.transpose(this._perObjectData.vs.Get("WorldMatLast"),this._transform))}Update(t,r,i){if(this._state===e.State.IN_FLIGHT){var n=fe.EveObject.global,a=ue.mat4.getTranslation(n.vec3_0,this._transform),o=n.vec3_1,l=n.vec3_2,s=n.vec3_3;this._time+=t,this._time>this.durationEjectPhase?(ue.vec3.subtract(a,this._velocity,r),ue.vec3.lerp(a,a,r,1-Math.exp(.9999*-t)),ue.mat4.setTranslation(this._transform,a),ue.vec3.subtract(o,i,a),ue.vec3.length(o)<this.maxExplosionDistance&&(console.log(a,o),this._state=e.State.DEAD)):(ue.vec3.scale(o,this._velocity,t),this._transform[12]+=o[0],this._transform[13]+=o[1],this._transform[14]+=o[2]);var u=ue.vec3.normalize(o,this._velocity);Math.abs(u[0])<.99?ue.vec3.cross(l,u,[1,0,0]):ue.vec3.cross(l,u,[0,1,0]),ue.vec3.normalize(l,l),ue.vec3.cross(s,l,u),this._transform[0]=l[0],this._transform[1]=l[1],this._transform[2]=l[2],this._transform[4]=s[0],this._transform[5]=s[1],this._transform[6]=s[2],this._transform[8]=u[0],this._transform[9]=u[1],this._transform[10]=u[2]}this.spriteSet&&this.spriteSet.Update(t)}GetBatches(t,r){this.display&&this.mesh&&this._state!==e.State.DEAD&&(this.mesh&&this.mesh.GetBatches(t,r,this._perObjectData),this.spriteSet&&this.spriteSet.GetBatches(t,r,this._perObjectData,this._transform))}},k.perObjectData={vs:[["WorldMat",16],["WorldMatLast",16],["Shipdata",[0,1,0,-10]],["Clipdata1",4],["JointMat",696]],ps:[["Shipdata",[0,1,0,1]],["Clipdata1",4],["Clipdata2",4]]},k.State={READY:0,IN_FLIGHT:1,DEAD:2},j=he((R=N).prototype,"acceleration",[a,o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),O=he(R.prototype,"durationEjectPhase",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),A=he(R.prototype,"impactDuration",[s,u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.6}}),z=he(R.prototype,"impactSize",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),P=he(R.prototype,"maxExplosionDistance",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 40}}),C=he(R.prototype,"mesh",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),D=he(R.prototype,"particleEmitters",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),I=he(R.prototype,"pathOffsetNoiseScale",[b,m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),x=he(R.prototype,"pathOffsetNoiseSpeed",[p,v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),L=he(R.prototype,"spriteSet",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),M=he(R.prototype,"startEjectVelocity",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),F=he(R.prototype,"warheadLength",[y,T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),G=he(R.prototype,"warheadRadius",[w,_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),S=R))||S)||S),me=(B=ue.meta.type("EveMissile",!0),U=ue.meta.stage(2),V=ue.meta.black.vector3,H=ue.meta.isPrivate,q=ue.meta.notImplemented,W=ue.meta.black.float,Y=ue.meta.isPrivate,X=ue.meta.notImplemented,K=ue.meta.black.objectOf("Tr2TranslationAdapter"),Q=ue.meta.black.listOf("EveMissileWarhead"),Z=ue.meta.listOf("Tw2CurveSet"),$=ue.meta.todo("Is this deprecated?"),J=ue.meta.float,B(ee=U((se=class extends fe.EveObject{constructor(...e){super(...e),de(this,"boundingSphereCenter",re,this),de(this,"boundingSphereRadius",ie,this),de(this,"modelTranslationCurve",ne,this),de(this,"warheads",ae,this),de(this,"curveSets",oe,this),de(this,"speed",le,this),this._position=ue.vec3.create(),this._target=ue.vec3.create(),this._warheadExplosionCallback=null,this._missileFinishedCallback=null}OnWarheadExplosion(e){this._warheadExplosionCallback=e}OnMissileFinished(e){this._missileFinishedCallback=e}Launch(e,t,r){if(ue.vec3.copy(this._position,e),ue.vec3.copy(this._target,r),this.warheads.length>t.length)this.warheads.splice(t.length);else for(;this.warheads.length<t.length;)this.warheads.push(this.constructor.CloneWarhead(this.warheads[0]));for(var i=0;i<this.warheads.length;++i)this.warheads[0].Launch(t[i])}GetResources(e=[]){for(var t=0;t<this.warheads.length;++t)this.warheads[t].GetResources(e);return e}UpdateViewDependentData(){for(var e=0;e<this.warheads.length;++e)this.warheads[e].UpdateViewDependentData()}Update(e){var t=ue.vec3.subtract(fe.EveObject.global.vec3_0,this._target,this._position),r=ue.vec3.length(t);r>.1&&(ue.vec3.normalize(t,t),ue.vec3.scale(t,t,Math.min(e*this.speed,r)),ue.vec3.add(this._position,this._position,t));for(var i=0;i<this.curveSets.length;++i)this.curveSets[i].Update(e);for(var n=!1,a=0;a<this.warheads.length;++a){var o=this.warheads[a]._state;this.warheads[a].Update(e,this._position,this._target),o!==be.State.DEAD&&this.warheads[a]._state===be.State.DEAD&&(this._warheadExplosionCallback&&this._warheadExplosionCallback(this.warheads[a]),n=!0)}if(n&&this._missileFinishedCallback){for(var l=0;l<this.warheads.length;++l)if(this.warheads[l]._state!==be.State.DEAD)return;this._missileFinishedCallback(this)}}GetBatches(e,t){if(this.display)for(var r=0;r<this.warheads.length;++r)this.warheads[r].GetBatches(e,t)}static CloneWarhead(e){var t=new be;return t.mesh=e.mesh,t.spriteSet=e.spriteSet,t}},re=he((te=se).prototype,"boundingSphereCenter",[V,H],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return ue.vec3.create()}}),ie=he(te.prototype,"boundingSphereRadius",[q,W,Y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),ne=he(te.prototype,"modelTranslationCurve",[X,K],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ae=he(te.prototype,"warheads",[Q],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),oe=he(te.prototype,"curveSets",[Z,$],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),le=he(te.prototype,"speed",[J],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),ee=te))||ee)||ee)},"./eve/object/EveObject.js":function(e,t,r){"use strict";r.r(t),r.d(t,"EveObject",(function(){return E}));var i,n,a,o,l,s,u,c,f,d,h,b,m,p=r("./global/index.js");function v(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function g(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var E=(i=p.meta.abstract,n=p.meta.type("EveObject"),a=p.meta.string,o=p.meta.boolean,l=p.meta.abstract,s=p.meta.abstract,u=p.meta.abstract,i(c=n((m=b=class extends p.Tw2BaseClass{constructor(...e){super(...e),v(this,"name",d,this),v(this,"display",h,this)}GetResources(e=[]){}Update(e){}GetBatches(e,t){}},b.global={vec3_0:p.vec3.create(),vec3_1:p.vec3.create(),vec3_2:p.vec3.create(),vec3_3:p.vec3.create(),vec3_4:p.vec3.create(),vec3_5:p.vec3.create(),vec3_6:p.vec3.create(),vec3_7:p.vec3.create(),mat4_0:p.mat4.create(),mat4_1:p.mat4.create(),mat4_2:p.mat4.create(),mat4_ID:p.mat4.create()},d=g((f=m).prototype,"name",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),h=g(f.prototype,"display",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),g(f.prototype,"GetResources",[l],Object.getOwnPropertyDescriptor(f.prototype,"GetResources"),f.prototype),g(f.prototype,"Update",[s],Object.getOwnPropertyDescriptor(f.prototype,"Update"),f.prototype),g(f.prototype,"GetBatches",[u],Object.getOwnPropertyDescriptor(f.prototype,"GetBatches"),f.prototype),c=f))||c)||c)},"./eve/object/EvePlanet.js":function(e,t,r){"use strict";r.r(t),r.d(t,"EvePlanet",(function(){return P}));var i,n,a,o,l,s,u,c,f,d,h,b,m,p,v,g,E,y,T,w,_,S=r("./global/index.js"),R=r("./core/index.js"),j=r("./eve/object/EveTransform.js"),O=r("./eve/object/EveObject.js");function A(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function z(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var P=(i=S.meta.type("EvePlanet"),n=S.meta.objectOf("EveTransform"),a=S.meta.objectOf("Tw2Effect"),o=S.meta.objectOf("Tw2RenderTarget"),l=S.meta.objectOf("EveTransform"),s=S.meta.uint,u=S.meta.isPrivate,c=S.meta.path,f=S.meta.isPrivate,d=S.meta.path,h=S.meta.isPrivate,i((_=class e extends O.EveObject{constructor(...e){super(...e),A(this,"highDetail",p,this),A(this,"effectHeight",v,this),A(this,"heightMap",g,this),A(this,"zOnlyModel",E,this),A(this,"itemID",y,this),A(this,"heightMapResPath1",T,this),A(this,"heightMapResPath2",w,this),this._heightDirty=!1,this._lockedResources=[],this._watchedResources=[],this._lod=3,this._useLOD=!0,this._atmosphere=null,this._planet=null}Create(t={},r){var{name:i="",itemID:n=0,resPath:a,atmospherePath:o,heightMap1:l,heightMap2:s}=t;this.name=i,this.itemID=n,this.heightMapResPath1=l,this.heightMapResPath2=s,this.highDetail.children=[],this._heightDirty=!0;var u=1;function c(){--u<1&&r&&r()}a&&u++,o&&u++,a&&S.resMan.GetObject(a,t=>{this._planet=t,e.MeshLoaded(this,t),c()}),o&&S.resMan.GetObject(o,e=>{this._atmosphere=e,this.highDetail.children.push(e),c()}),S.resMan.GetObject("res:/dx9/model/worldobject/planet/planetzonly.red",e=>{this.zOnlyModel=e,c()})}ResetLod(){this._lod=3}UpdateLod(e){var{scaling:t,translation:r}=this.highDetail;this._lod=this._useLOD&&e.IsSphereVisible(r,t[0])?3:0}UseLOD(e){this._useLOD=e}SetTransform(e){this.highDetail.SetTransform(e)}GetResources(e=[]){return this.highDetail&&this.highDetail.GetResources(e),this.effectHeight&&this.effectHeight.GetResources(e),e}GetPlanetResources(e,t,r){if(!t.includes(e))if(t.push(e),e&&e.constructor.__isResource)r.push(e);else for(var i in e)e.hasOwnProperty(i)&&S.util.isObjectLike(e[i])&&this.GetPlanetResources(e[i],t,r)}UpdateViewDependentData(e){this.highDetail.UpdateViewDependentData(e),this.zOnlyModel&&(this.zOnlyModel.translation=this.highDetail.translation,this.zOnlyModel.scaling=this.highDetail.scaling,this.zOnlyModel.UpdateViewDependentData(e))}Update(e){this.display&&this._useLOD&&this.highDetail.Update(e)}CreateHeightMap(){this.heightMap.Set(),S.device.SetStandardStates(S.device.RM_FULLSCREEN),S.device.gl.clearColor(0,0,0,0),S.device.gl.clear(S.device.gl.COLOR_BUFFER_BIT),S.device.RenderFullScreenQuad(this.effectHeight),this.heightMap.Unset()}GetBatches(e,t){if(this.display&&this._heightDirty&&this._watchedResources.length&&""!==this.heightMapResPath1){for(var r=0;r<this._watchedResources.length;++r)if(this._watchedResources[r]&&!this._watchedResources[r].IsGood())return;this._watchedResources=[],this.CreateHeightMap(),this._heightDirty=!1;for(var i=0;i<this._lockedResources.length;++i)this._lockedResources[i]&&this._lockedResources[i].doNotPurge--;var n=this.highDetail.children[0].mesh,a=null;n.transparentAreas.length?a=n.transparentAreas[0].effect:n.opaqueAreas.length&&(a=n.opaqueAreas[0].effect),a&&(a.parameters.HeightMap.textureRes=this.heightMap.texture)}this.display&&this._lod&&this.highDetail.GetBatches(e,t)}GetZOnlyBatches(e,t){this.display&&this._lod&&this.zOnlyModel&&this.zOnlyModel.GetBatches(e,t)}static MeshLoaded(e,t){e.highDetail.children.unshift(t),e._lockedResources.splice(0),e.GetPlanetResources(e.highDetail,[],e._lockedResources);var r,i=e.highDetail.children[0].mesh,n=null;for(var a in r=(r=i.transparentAreas.length?(n=i.transparentAreas[0].effect).effectFilePath:i.opaqueAreas.length?(n=i.opaqueAreas[0].effect).effectFilePath:"res:/Graphics/Effect/Managed/Space/Planet/EarthlikePlanet.fx").replace(".fx","BlitHeight.fx"),e._watchedResources.splice(0),n.parameters)n.parameters.hasOwnProperty(a)&&(e.effectHeight.parameters[a]=n.parameters[a],"textureRes"in n.parameters[a]&&e._watchedResources.push(n.parameters[a].textureRes));for(var o=0;o<e.highDetail.children[0].children.length;++o)if(i=e.highDetail.children[0].children[o].mesh){if(n=null,i.transparentAreas.length)n=i.transparentAreas[0].effect;else{if(!i.opaqueAreas.length)continue;n=i.opaqueAreas[0].effect}for(var l in n.parameters)n.parameters.hasOwnProperty(l)&&(e.effectHeight.parameters[l]=n.parameters[l],"textureRes"in n.parameters[l]&&e._watchedResources.push(n.parameters[l].textureRes))}var s=new R.Tw2TextureParameter("NormalHeight1",e.heightMapResPath1);s.Initialize(),e._watchedResources.push(s.textureRes),e._lockedResources.push(s.textureRes),e.effectHeight.parameters.NormalHeight1=s;var u=new R.Tw2TextureParameter("NormalHeight2",e.heightMapResPath2);u.Initialize(),e._watchedResources.push(u.textureRes),e._lockedResources.push(u.textureRes),e.effectHeight.parameters.NormalHeight2=u,e.effectHeight.parameters.Random=new R.Tw2FloatParameter("Random",e.itemID%100),e.effectHeight.parameters.TargetTextureHeight=new R.Tw2FloatParameter("TargetTextureHeight",1024),e.effectHeight.effectFilePath=r,e.effectHeight.Initialize(),e._heightDirty=!0,e.heightMap.Create(2048,1024,!1),e._watchedResources.push(e.effectHeight.effectRes);for(var c=0;c<e._lockedResources.length;++c)e._lockedResources[c]&&(e._lockedResources[c].doNotPurge++,e._lockedResources[c].IsPurged()&&e._lockedResources[c].Reload())}},p=z((m=_).prototype,"highDetail",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new j.EveTransform}}),v=z(m.prototype,"effectHeight",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new R.Tw2Effect}}),g=z(m.prototype,"heightMap",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new R.Tw2RenderTarget}}),E=z(m.prototype,"zOnlyModel",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),y=z(m.prototype,"itemID",[s,u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),T=z(m.prototype,"heightMapResPath1",[c,f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),w=z(m.prototype,"heightMapResPath2",[d,h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),b=m))||b)},"./eve/object/EveShip.js":function(e,t,r){"use strict";r.r(t),r.d(t,"EveShip",(function(){return v}));var i,n,a,o,l,s,u,c,f,d,h=r("./global/index.js"),b=r("./eve/object/EveSpaceObject.js");function m(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function p(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var v=(i=h.meta.type("EveShip"),n=h.meta.objectOf("EveBoosterSet"),a=h.meta.listOf("EveTurretSet"),o=h.meta.float,i((d=class extends b.EveSpaceObject{constructor(...e){super(...e),m(this,"boosters",u,this),m(this,"turretSets",c,this),m(this,"boosterGain",f,this)}Initialize(){super.Initialize(),this.boosters&&this.RebuildBoosterSet()}GetResources(e=[]){super.GetResources(e);for(var t=0;t<this.turretSets.length;t++)this.turretSets[t].GetResources(e);return this.boosters&&this.boosters.GetResources(e),e}RebuildBoosterSet(){this.boosters&&this.boosters.UpdateItemsFromLocators(this.FindLocatorsByPrefix("locator_booster"))}RebuildTurretPositions(){for(var e=0;e<this.turretSets.length;e++)this.RebuildTurretSet(e)}RebuildTurretSet(e){if(h.util.isNumber(e)||(e=this.turretSets.indexOf(e)),void 0!==this.turretSets[e]){for(var t=this.turretSets[e],r=t.locatorName,i=this.GetLocatorCount(r),n=[],a=0;a<i;++a){var o=r+String.fromCharCode("a".charCodeAt(0)+a),l=this.FindLocatorByName(o);l&&(l.FindBone(this.animation),n.push(l))}t.UpdateItemsFromLocators(n)}}UpdateViewDependentData(e,t){super.UpdateViewDependentData(e,t);for(var r=0;r<this.turretSets.length;++r)this.turretSets[r].UpdateViewDependentData(this._worldTransform)}Update(e){super.Update(e),this.boosters&&(this.boosters._locatorDirty&&this.RebuildBoosterSet(),this.boosters.Update(e,this._worldTransform,this._worldSpriteScale));for(var t=0;t<this.turretSets.length;++t)this.turretSets[t]._locatorDirty&&this.RebuildTurretSet(t),this.turretSets[t].Update(e)}GetBatches(e,t){if(this.display&&(super.GetBatches(e,t),this._perObjectData.vs.Get("Shipdata")[0]=this.boosterGain,this._perObjectData.ps.Get("Shipdata")[0]=this.boosterGain,this.boosters&&this.visible.boosters&&this.boosters.GetBatches(e,t,this._perObjectData),this.visible.turretSets))if(this.lod>1)for(var r=0;r<this.turretSets.length;++r)this.turretSets[r].GetBatches(e,t,this._perObjectData,this.visible.firingEffects);else if(this.visible.firingEffects)for(var i=0;i<this.turretSets.length;++i)this.turretSets[i].firingEffect&&this.turretSets[i].firingEffect.GetBatches(e,t,this._perObjectData)}},u=p((s=d).prototype,"boosters",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),c=p(s.prototype,"turretSets",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),f=p(s.prototype,"boosterGain",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),l=s))||l)},"./eve/object/EveSpaceObject.js":function(e,t,r){"use strict";r.r(t),r.d(t,"EveSpaceObject",(function(){return se})),r.d(t,"EveStation",(function(){return se}));var i,n,a,o,l,s,u,c,f,d,h,b,m,p,v,g,E,y,T,w,_,S,R,j,O,A,z,P,C,D,I,x,L,M,F,G,k,N,B,U,V,H,q,W,Y,X,K,Q,Z,$,J,ee,te,re,ie=r("./global/index.js"),ne=r("./core/index.js"),ae=r("./eve/object/EveObject.js");function oe(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function le(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var se=(i=ie.meta.type("EveSpaceObject"),n=ie.meta.objectOf("Tw2AnimationController"),a=ie.meta.vector3,o=ie.meta.isPrivate,l=ie.meta.float,s=ie.meta.isPrivate,u=ie.meta.listOf("EveObject"),c=ie.meta.listOf("Tw2CurveSet"),f=ie.meta.listOf("EveCustomMask"),d=ie.meta.listOf("EveSpaceObjectDecal"),h=ie.meta.listOf("EveChild"),b=ie.meta.float,m=ie.meta.listOf("EveCurveLineSet"),p=ie.meta.listOf("EveLocator"),v=ie.meta.uint,g=ie.meta.isPrivate,E=ie.meta.objectOf("Tw2Mesh"),y=ie.meta.listOf("EveMeshOverlayEffect"),T=ie.meta.listOf("EvePlaneSet"),w=ie.meta.vector3,_=ie.meta.isPrivate,S=ie.meta.vector3,R=ie.meta.isPrivate,j=ie.meta.listOf("EveSpotlightSet"),O=ie.meta.listOf("EveSpriteSet"),A=ie.meta.matrix4,z=ie.meta.listOf("EveTurretSet"),P=ie.meta.plain,i((re=te=class e extends ae.EveObject{constructor(...t){super(...t),oe(this,"animation",I,this),oe(this,"boundingSphereCenter",x,this),oe(this,"boundingSphereRadius",L,this),oe(this,"children",M,this),oe(this,"curveSets",F,this),oe(this,"customMasks",G,this),oe(this,"decals",k,this),oe(this,"effectChildren",N,this),oe(this,"killCount",B,this),oe(this,"lineSets",U,this),oe(this,"locators",V,this),oe(this,"lod",H,this),oe(this,"mesh",q,this),oe(this,"overlayEffects",W,this),oe(this,"planeSets",Y,this),oe(this,"shapeEllipsoidRadius",X,this),oe(this,"shapeEllipsoidCenter",K,this),oe(this,"spotlightSets",Q,this),oe(this,"spriteSets",Z,this),oe(this,"transform",$,this),oe(this,"turretSets",J,this),oe(this,"visible",ee,this),this._worldSpriteScale=1,this._worldTransform=ie.mat4.create(),this._perObjectData=ne.Tw2PerObjectData.from(e.perObjectData)}Initialize(){if(this.mesh){this.animation.SetGeometryResource(this.mesh.geometryResource);for(var e=0;e<this.decals.length;++e)this.decals[e].SetParentGeometry(this.mesh.geometryResource)}}SetTransform(e,t){t?ie.mat4.multiply(this.transform,e,t):ie.mat4.copy(this.transform,e)}GetResources(e=[]){return this.mesh&&this.mesh.GetResources(e),this.animation&&this.animation.GetResources(e),ie.util.perArrayChild(this.spriteSets,"GetResources",e),ie.util.perArrayChild(this.turretSets,"GetResources",e),ie.util.perArrayChild(this.decals,"GetResources",e),ie.util.perArrayChild(this.spotlightSets,"GetResources",e),ie.util.perArrayChild(this.planeSets,"GetResources",e),ie.util.perArrayChild(this.lineSets,"GetResources",e),ie.util.perArrayChild(this.overlayEffects,"GetResources",e),ie.util.perArrayChild(this.effectChildren,"GetResources",e),ie.util.perArrayChild(this.children,"GetResources",e),e}ResetLod(){this.lod=3}UpdateLod(t){if(this._useLOD){var r=ie.vec3.transformMat4(e.global.vec3_0,this.boundingSphereCenter,this._worldTransform);if(t.IsSphereVisible(r,this.boundingSphereRadius)){var i=t.GetPixelSizeAcross(r,this.boundingSphereRadius);i<=e.LOD_THRESHOLD_NONE?this.lod=0:i<=e.LOD_THRESHOLD_LOW?this.lod=1:i<=e.LOD_THRESHOLD_MEDIUM?this.lod=2:this.lod=3}else this.lod=0}else this.lod=3;this.mesh&&"SetQuality"in this.mesh&&this.mesh.SetQuality(3-this.lod)}UseLOD(e){this._useLOD=e}FindTurretPrefixes(e=[]){function t(t){if(!t)return!1;var r=t[0].substring(0,t[0].length-1);return e.includes(r)||e.push(r),!0}for(var r=0;r<this.locators.length;r++){var i=this.locators[r].name;t(/^locator_turret_([0-9]+)[a-z]$/i.exec(i))||t(/^locator_xl_([0-9]+)[a-z]$/i.exec(i))}return e.sort(),e}GetLocatorCount(e){return this.FindLocatorsByPrefix(e).length}FindLocatorJointByName(e){var t=this.FindLocatorBoneByName(e);return t?t.worldTransform:null}FindLocatorTransformByName(e){var t=this.FindLocatorByName(e);return t?t.transform:null}HasLocatorPrefix(e){for(var t=0;t<this.locators.length;t++)if(0===this.locators[t].name.indexOf(e))return!0;return!1}FindLocatorBoneByName(e){return this.animation.FindBoneForMesh(e,0)}FindLocatorByName(e){for(var t=0;t<this.locators.length;t++)if(this.locators[t].name===e)return this.locators[t];return null}FindLocatorsByPrefix(e,t=[]){for(var r=0;r<this.locators.length;r++)0===this.locators[r].name.indexOf(e)&&t.push(this.locators[r]);return t}UpdateViewDependentData(e,t){e?ie.mat4.multiply(this._worldTransform,e,this.transform):ie.mat4.copy(this._worldTransform,this.transform),this._worldSpriteScale=ie.mat4.maxScaleOnAxis(this._worldTransform);for(var r=0;r<this.children.length;++r)this.children[r].UpdateViewDependentData(this._worldTransform);ie.mat4.transpose(this._perObjectData.vs.Get("WorldMat"),this._worldTransform),ie.mat4.transpose(this._perObjectData.vs.Get("WorldMatLast"),this._worldTransform);var i=this._perObjectData.vs.Get("EllipsoidCenter"),n=this._perObjectData.vs.Get("EllipsoidRadii");if(this.shapeEllipsoidRadius[0]>0)i[0]=this.shapeEllipsoidCenter[0],i[1]=this.shapeEllipsoidCenter[1],i[2]=this.shapeEllipsoidCenter[2],n[0]=this.shapeEllipsoidRadius[0],n[1]=this.shapeEllipsoidRadius[1],n[2]=this.shapeEllipsoidRadius[2];else if(this.mesh&&this.mesh.IsGood()){var{maxBounds:a,minBounds:o}=this.mesh.geometryResource;ie.vec3.subtract(i,a,o),ie.vec3.scale(i,i,.8660254035),ie.vec3.add(n,a,o),ie.vec3.scale(n,n,.5)}for(var l=0;l<this.customMasks.length;++l)this.customMasks[l].UpdatePerObjectData(this._worldTransform,this._perObjectData,l,this.visible.customMasks);this.animation.animations.length&&this._perObjectData.vs.Set("JointMat",this.animation.GetBoneMatrices(0));for(var s=0;s<this.lineSets.length;++s)this.lineSets[s].UpdateViewDependentData(this._worldTransform)}Update(e){if(this.lod>0){for(var t=0;t<this.spriteSets.length;++t)this.spriteSets[t].Update(e,this._worldSpriteScale);for(var r=0;r<this.planeSets.length;r++)this.planeSets[r].Update(e);for(var i=0;i<this.spotlightSets.length;i++)this.spotlightSets[i].Update(e);for(var n=0;n<this.children.length;++n)this.children[n].Update(e);for(var a=0;a<this.effectChildren.length;++a)this.effectChildren[a].Update(e,this._worldTransform,this.lod);for(var o=0;o<this.curveSets.length;++o)this.curveSets[o].Update(e);for(var l=0;l<this.overlayEffects.length;++l)this.overlayEffects[l].Update(e);for(var s=0;s<this.lineSets.length;s++)this.lineSets[s].Update(e);this.animation.Update(e)}}GetBatches(e,t){if(this.display){var r=this.visible;if(r.mesh&&this.mesh&&this.lod>0&&this.mesh.GetBatches(e,t,this._perObjectData),this.lod>1){if(r.spriteSets)for(var i=0;i<this.spriteSets.length;i++)this.spriteSets[i].GetBatches(e,t,this._perObjectData,this._worldTransform);if(r.spotlightSets)for(var n=0;n<this.spotlightSets.length;n++)this.spotlightSets[n].GetBatches(e,t,this._perObjectData);if(r.planeSets)for(var a=0;a<this.planeSets.length;a++)this.planeSets[a].GetBatches(e,t,this._perObjectData);if(r.decals)for(var o=0;o<this.decals.length;o++)this.decals[o].GetBatches(e,t,this._perObjectData,r.killmarks?this.killCount:0);if(r.lineSets)for(var l=0;l<this.lineSets.length;l++)this.lineSets[l].GetBatches(e,t);if(r.overlayEffects&&this.mesh&&this.mesh.IsGood())for(var s=0;s<this.overlayEffects.length;s++)this.overlayEffects[s].GetBatches(e,t,this._perObjectData,this.mesh)}if(r.children)for(var u=0;u<this.children.length;u++)this.children[u].GetBatches(e,t,this._perObjectData);if(r.effectChildren)for(var c=0;c<this.effectChildren.length;c++)this.effectChildren[c]._parentLod=this.lod,this.effectChildren[c].GetBatches(e,t,this._perObjectData)}}RenderDebugInfo(e){this.animation.RenderDebugInfo(e)}},te.LOD_THRESHOLD_NONE=100,te.LOD_THRESHOLD_LOW=200,te.LOD_THRESHOLD_MEDIUM=500,te.perObjectData={vs:[["WorldMat",16],["WorldMatLast",16],["Shipdata",[0,1,0,-10]],["Clipdata1",4],["EllipsoidRadii",4],["EllipsoidCenter",4],["CustomMaskMatrix0",ie.mat4.identity([])],["CustomMaskMatrix1",ie.mat4.identity([])],["CustomMaskData0",[1,0,0,0]],["CustomMaskData1",[1,0,0,0]],["JointMat",696]],ps:[["Shipdata",[0,1,0,1]],["Clipdata1",4],["Clipdata2",4],["ShLighting",28],["CustomMaskMaterialID0",4],["CustomMaskMaterialID1",4],["CustomMaskTarget0",4],["CustomMaskTarget1",4]]},I=le((D=re).prototype,"animation",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new ne.Tw2AnimationController}}),x=le(D.prototype,"boundingSphereCenter",[a,o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return ie.vec3.create()}}),L=le(D.prototype,"boundingSphereRadius",[l,s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),M=le(D.prototype,"children",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),F=le(D.prototype,"curveSets",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),G=le(D.prototype,"customMasks",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),k=le(D.prototype,"decals",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),N=le(D.prototype,"effectChildren",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),B=le(D.prototype,"killCount",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),U=le(D.prototype,"lineSets",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),V=le(D.prototype,"locators",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),H=le(D.prototype,"lod",[v,g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 3}}),q=le(D.prototype,"mesh",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),W=le(D.prototype,"overlayEffects",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Y=le(D.prototype,"planeSets",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),X=le(D.prototype,"shapeEllipsoidRadius",[w,_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return ie.vec3.create()}}),K=le(D.prototype,"shapeEllipsoidCenter",[S,R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return ie.vec3.create()}}),Q=le(D.prototype,"spotlightSets",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Z=le(D.prototype,"spriteSets",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),$=le(D.prototype,"transform",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return ie.mat4.create()}}),J=le(D.prototype,"turretSets",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),ee=le(D.prototype,"visible",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{mesh:!0,children:!0,effectChildren:!0,planeSets:!0,spotlightSets:!0,decals:!0,spriteSets:!0,overlayEffects:!0,lineSets:!0,killmarks:!0,customMasks:!0,turretSets:!0,boosters:!0}}}),C=D))||C)},"./eve/object/EveTransform.js":function(e,t,r){"use strict";r.r(t),r.d(t,"EveTransform",(function(){return pe}));var i,n,a,o,l,s,u,c,f,d,h,b,m,p,v,g,E,y,T,w,_,S,R,j,O,A,z,P,C,D,I,x,L,M,F,G,k,N,B,U,V,H,q,W,Y,X,K,Q,Z,$,J,ee,te,re,ie,ne,ae,oe,le,se,ue,ce=r("./global/index.js"),fe=r("./core/index.js"),de=r("./eve/object/EveObject.js");function he(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function be(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var me={NONE:0,BILLBOARD:1,TRANSLATE_WITH_CAMERA:2,LOOK_AT_CAMERA:3,SIMPLE_HALO:4,EVE_CAMERA_ROTATION_ALIGNED:100,EVE_BOOSTER:101,EVE_SIMPLE_HALO:102,EVE_CAMERA_ROTATION:103},pe=(i=ce.meta.type("EveTransform",!0),n=ce.meta.black.string,a=ce.meta.black.listOf("EveObject"),o=ce.meta.black.listOf("Tw2CurveSet"),l=ce.meta.black.boolean,s=ce.meta.notImplemented,u=ce.meta.black.float,c=ce.meta.notImplemented,f=ce.meta.black.float,d=ce.meta.notImplemented,h=ce.meta.black.boolean,b=ce.meta.black.objectOf(["Tw2Mesh","Tr2MeshLOD","Tw2InstancedMesh"]),m=ce.meta.black.uint,p=ce.meta.enumerable(me),v=ce.meta.black.listOf("Tr2ObserverLocal"),g=ce.meta.notImplemented,E=ce.meta.black.vector3,y=ce.meta.notImplemented,T=ce.meta.black.vector3,w=ce.meta.black.listOf("EveParticleEmitter"),_=ce.meta.black.listOf("EveParticleSystem"),S=ce.meta.black.quaternion,R=ce.meta.black.vector3,j=ce.meta.notImplemented,O=ce.meta.black.float,A=ce.meta.black.vector3,z=ce.meta.black.boolean,P=ce.meta.notImplemented,C=ce.meta.black.boolean,D=ce.meta.notImplemented,I=ce.meta.black.boolean,x=ce.meta.notImplemented,L=ce.meta.black.float,M=ce.meta.plain,i((ue=se=class e extends de.EveObject{constructor(...t){super(...t),he(this,"name",k,this),he(this,"children",N,this),he(this,"curveSets",B,this),he(this,"display",U,this),he(this,"distanceBasedScaleArg1",V,this),he(this,"distanceBasedScaleArg2",H,this),he(this,"hideOnLowQuality",q,this),he(this,"mesh",W,this),he(this,"modifier",Y,this),he(this,"observers",X,this),he(this,"overrideBoundsMax",K,this),he(this,"overrideBoundsMin",Q,this),he(this,"particleEmitters",Z,this),he(this,"particleSystems",$,this),he(this,"rotation",J,this),he(this,"scaling",ee,this),he(this,"sortValueMultiplier",te,this),he(this,"translation",re,this),he(this,"update",ie,this),he(this,"useDistanceBasedScale",ne,this),he(this,"useLodLevel",ae,this),he(this,"visibilityThreshold",oe,this),he(this,"visible",le,this),this._localTransform=ce.mat4.create(),this._worldTransform=ce.mat4.create(),this._perObjectData=fe.Tw2PerObjectData.from(e.perObjectData)}Initialize(){ce.mat4.fromRotationTranslationScale(this._localTransform,this.rotation,this.translation,this.scaling)}SetTransform(e){ce.mat4.getRotation(this.rotation,e),ce.mat4.getScaling(this.scaling,e),ce.mat4.getTranslation(this.translation,e)}GetResources(e=[]){this.mesh&&this.mesh.GetResources(e);for(var t=0;t<this.children.length;t++)this.children[t].GetResources(e);return e}UpdateViewDependentData(t){var r=ce.device,i=de.EveObject.global,n=i.vec3_0,a=i.vec3_1,o=i.vec3_2,l=r.viewInverse,s=this._localTransform,u=this._worldTransform;switch(t||(t=i.mat4_ID),ce.quat.normalize(this.rotation,this.rotation),ce.mat4.fromRotationTranslationScale(s,this.rotation,this.translation,this.scaling),ce.mat4.getScaling(a,t),this.modifier){case e.Modifier.BILLBOARD:case e.Modifier.SIMPLE_HALO:var c=i.vec3_3;if(ce.mat4.multiply(u,t,s),ce.vec3.multiply(n,this.scaling,a),this.modifier===e.Modifier.SIMPLE_HALO){ce.vec3.subtract(o,r.GetEyePosition(o),u.subarray(12)),ce.vec3.normalize(c,u.subarray(8)),ce.vec3.normalize(o,o);var f=ce.vec3.dot(o,c);f<0&&(f=0),ce.vec3.scale(n,n,f*f)}u[0]=l[0]*n[0],u[1]=l[1]*n[0],u[2]=l[2]*n[0],u[4]=l[4]*n[1],u[5]=l[5]*n[1],u[6]=l[6]*n[1],u[8]=l[8]*n[2],u[9]=l[9]*n[2],u[10]=l[10]*n[2];break;case e.Modifier.EVE_CAMERA_ROTATION:var d=i.vec3_3;ce.vec3.transformMat4(d,this.translation,t),ce.mat4.fromRotationTranslationScale(s,this.rotation,d,this.scaling),ce.mat4.multiply(u,l,s),u[12]=s[12],u[13]=s[13],u[14]=s[14];break;case e.Modifier.EVE_CAMERA_ROTATION_ALIGNED:case e.Modifier.EVE_SIMPLE_HALO:var h=i.vec3_3,b=i.vec3_4,m=i.vec3_5,p=i.vec3_6,v=i.vec3_7,g=i.mat4_0,E=i.mat4_1,y=i.mat4_2;if(ce.mat4.translate(u,t,this.translation),ce.mat4.transpose(g,t),r.GetEyePosition(o),o[0]-=u[12],o[1]-=u[13],o[2]-=u[14],ce.vec3.copy(h,o),ce.vec3.transformMat4(h,h,g),ce.vec3.divide(h,h,a),ce.vec3.normalize(h,h),ce.vec3.set(b,r.view[0],r.view[4],r.view[8]),ce.vec3.transformMat4(b,b,g),ce.vec3.normalize(b,b),ce.vec3.cross(m,h,b),ce.vec3.normalize(m,m),ce.vec3.cross(b,m,h),E[0]=b[0],E[1]=b[1],E[2]=b[2],E[4]=m[0],E[5]=m[1],E[6]=m[2],E[8]=h[0],E[9]=h[1],E[10]=h[2],E[15]=1,ce.mat4.fromQuat(y,this.rotation),ce.mat4.multiply(E,E,y),this.modifier===e.Modifier.EVE_SIMPLE_HALO){ce.vec3.normalize(p,u.subarray(8)),ce.vec3.normalize(v,o);var T=-ce.vec3.dot(v,p);T<0&&(T=0),ce.mat4.multiply(u,u,E),ce.mat4.scale(u,u,[this.scaling[0]*T,this.scaling[1]*T,this.scaling[2]*T])}else ce.mat4.scale(u,u,this.scaling),ce.mat4.multiply(u,u,E);break;case e.Modifier.LOOK_AT_CAMERA:var w=i.mat4_0;ce.mat4.multiply(u,t,s),ce.mat4.lookAt(w,l.subarray(12),u.subarray(12),[0,1,0]),ce.mat4.transpose(w,w),ce.vec3.multiply(n,this.scaling,a),u[0]=w[0]*n[0],u[1]=w[1]*n[0],u[2]=w[2]*n[0],u[4]=w[4]*n[1],u[5]=w[5]*n[1],u[6]=w[6]*n[1],u[8]=w[8]*n[2],u[9]=w[9]*n[2],u[10]=w[10]*n[2];break;default:ce.mat4.multiply(u,t,s)}for(var _=0;_<this.children.length;++_)this.children[_].UpdateViewDependentData(u)}Update(e){for(var t=0;t<this.children.length;++t)this.children[t].Update(e);for(var r=0;r<this.particleEmitters.length;++r)this.particleEmitters[r].Update(e);for(var i=0;i<this.particleSystems.length;++i)this.particleSystems[i].Update(e);for(var n=0;n<this.curveSets.length;++n)this.curveSets[n].Update(e)}GetBatches(e,t,r){if(this.display&&(this.visible.mesh&&this.mesh&&(ce.mat4.transpose(this._perObjectData.ffe.Get("World"),this._worldTransform),ce.mat4.invert(this._perObjectData.ffe.Get("WorldInverseTranspose"),this._worldTransform),r&&(this._perObjectData.vs=r.vs,this._perObjectData.ps=r.ps),this.mesh.GetBatches(e,t,this._perObjectData)),this.visible.children))for(var i=0;i<this.children.length;++i)this.children[i].GetBatches(e,t,r)}static Multiply3x3(e,t,r){r||(r=t);var i=t[0],n=t[1];return t=t[2],r[0]=e[0]*i+e[4]*n+e[8]*t,r[1]=e[1]*i+e[5]*n+e[9]*t,r[2]=e[2]*i+e[6]*n+e[10]*t,r}},se.perObjectData={ffe:[["World",16],["WorldInverseTranspose",16]]},se.Modifier=me,k=be((G=ue).prototype,"name",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),N=be(G.prototype,"children",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),B=be(G.prototype,"curveSets",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),U=be(G.prototype,"display",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),V=be(G.prototype,"distanceBasedScaleArg1",[s,u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.2}}),H=be(G.prototype,"distanceBasedScaleArg2",[c,f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.63}}),q=be(G.prototype,"hideOnLowQuality",[d,h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),W=be(G.prototype,"mesh",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Y=be(G.prototype,"modifier",[m,p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return pe.Modifier.NONE}}),X=be(G.prototype,"observers",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),K=be(G.prototype,"overrideBoundsMax",[g,E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return ce.vec3.create()}}),Q=be(G.prototype,"overrideBoundsMin",[y,T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return ce.vec3.create()}}),Z=be(G.prototype,"particleEmitters",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),$=be(G.prototype,"particleSystems",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),J=be(G.prototype,"rotation",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return ce.quat.create()}}),ee=be(G.prototype,"scaling",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return ce.vec3.fromValues(1,1,1)}}),te=be(G.prototype,"sortValueMultiplier",[j,O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),re=be(G.prototype,"translation",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return ce.vec3.create()}}),ie=be(G.prototype,"update",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),ne=be(G.prototype,"useDistanceBasedScale",[P,C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),ae=be(G.prototype,"useLodLevel",[D,I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),oe=be(G.prototype,"visibilityThreshold",[x,L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),le=be(G.prototype,"visible",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{mesh:!0,children:!0}}}),F=G))||F)},"./eve/object/index.js":function(e,t,r){"use strict";r.r(t);var i=r("./eve/object/EveMissile.js");r.d(t,"EveMissileWarhead",(function(){return i.EveMissileWarhead})),r.d(t,"EveMissile",(function(){return i.EveMissile}));var n=r("./eve/object/EveTransform.js");r.d(t,"EveTransform",(function(){return n.EveTransform}));var a=r("./eve/object/EveEffectRoot.js");r.d(t,"EveEffectRoot",(function(){return a.EveEffectRoot}));var o=r("./eve/object/EvePlanet.js");r.d(t,"EvePlanet",(function(){return o.EvePlanet}));var l=r("./eve/object/EveShip.js");r.d(t,"EveShip",(function(){return l.EveShip}));var s=r("./eve/object/EveSpaceObject.js");r.d(t,"EveSpaceObject",(function(){return s.EveSpaceObject})),r.d(t,"EveStation",(function(){return s.EveStation}))},"./global/Tw2Library.js":function(e,t,r){"use strict";r.r(t),r.d(t,"tw2",(function(){return E})),r.d(t,"resMan",(function(){return y})),r.d(t,"device",(function(){return T}));var i,n=r("./global/meta/index.js"),a=r("./global/class/index.js"),o=r("./global/engine/index.js"),l=r("./global/math/index.js"),s=r("./global/util/index.js"),u=r("./global/engine/Tw2Constant.js"),c=r("./core/reader/Tw2BlackPropertyReaders.js"),f=r("./core/Tw2Error.js");function d(e,t,r,i,n,a,o){try{var l=e[a](o),s=l.value}catch(e){return void r(e)}l.done?t(s):Promise.resolve(s).then(i,n)}function h(e){return function(){var t=this,r=arguments;return new Promise((function(i,n){var a=e.apply(t,r);function o(e){d(a,i,n,o,l,"next",e)}function l(e){d(a,i,n,o,l,"throw",e)}o(void 0)}))}}function b(e,t){if(!e._store[t])throw new f.ErrStoreInvalid({store:t})}function m(e,t,r,i){b(e,t);var n=e._store[t];return n.has(r)||i&&i.isClassName&&Object(s.isTr2OrTri)(r)&&n.has(Object(s.toTw2)(r))}function p(e,t,r,i){b(e,t);var n=e._store[t];if(n.has(r))return e._store[t].get(r);if(i&&i.isClassName&&Object(s.isTr2OrTri)(r)){var a=Object(s.toTw2)(r);if(n.has(a)){var o=n.get(a);return e.emit("store.substituted",t,a,o,r),o}}throw e.emit("store.missing",t,r),new f.ErrStoreValueMissing({store:t,key:r})}function v(e,t,r,i,n){if(b(e,t),!i)throw new f.ErrStoreValueInvalid({store:t,key:r});if(n){if(n.reserved&&n.reserved.includes(r))throw new f.ErrStoreKeyReserved({store:t,key:r});if(n.isValue&&!n.isValue(i))throw new f.ErrStoreValueInvalid({store:t,key:r});n.onBeforeSet&&(i=n.onBeforeSet(i))}return e._store[t].set(r,i),e.emit("store.set",t,r,i).msg("debug",{name:"Store",message:"".concat(t," registered: ").concat(r)}),i}function g(e,t,r){var i="Set"+t.charAt(0).toUpperCase()+t.substring(1);if(!e[i])throw new Error("Invalid store value setter '".concat(i,"'"));r=Object(s.toArray)(r);for(var n=0;n<r.length;n++)for(var a in r[n])r[n].hasOwnProperty(a)&&e[i](a,r[n][a])}var E=new(Object(n.singleton)(i=class e extends a.Tw2EventEmitter{get gl(){return this.device.gl}get now(){return this.device.now}get frame(){return this.device.frameCounter}get canvas(){return this.device.canvas}get dt(){return this.device.dt}get width(){return this.device.viewportWidth}get height(){return this.device.viewportHeight}get aspect(){return this.device.viewportAspect}constructor(){var e;super(),this.math=l,this.util=s,this.consts=u,this.logger=new o.Tw2Logger(this),this.resMan=new o.Tw2ResMan(this),this.device=new o.Tw2Device(this),this._store={black:new Map,variable:new Map,extension:new Map,class:new Map,path:new Map,dynamicPath:new Map,type:new Map},this._debug=!1,Object.defineProperty(this,"eveSof",{get:()=>{if(!e){var t=this.GetClass("EveSOF");e=new t(this)}return e}}),a.Tw2EventEmitter.defaultLogger=this}SetDebug(e){this._debug!==e&&(this._debug=e,this._store.class.forEach(t=>{"DEBUG_ENABLED"in t&&(t.DEBUG_ENABLED=e)}),this.logger.Debug(e),this.emit("debug_mode",e),this.Log("warn","Debugging ".concat(e?"enabled":"disabled")))}SetLibrary(e){"tw2"in e&&Reflect.defineProperty(e,"tw2",{value:this,writable:!1,configurable:!1})}Initialize(e={}){if(this.Register(e),this.device.CreateDevice(e.canvas,e.glParams),e.render){this.on("tick",e.render);var t=()=>{this.RequestAnimationFrame(t),this.StartFrame(),this.EndFrame()};this.RequestAnimationFrame(t)}}StartFrame(){this.device.StartFrame(),this.resMan.Tick(this.device)}EndFrame(){this.emit("tick",this.device.dt),this.device.EndFrame()}RequestAnimationFrame(e){return this.device.RequestAnimationFrame(e)}CancelAnimationFrame(e){return this.device.CancelAnimationFrame(e)}Log(e,t,r="Library"){return this.logger.Log(e,t,r)}Register(e={}){e.uuid&&Object(s.enableUUID)(e.uuid),e.logger&&this.logger.Register(e.logger),e.debug&&this.SetDebug(!0),e.resMan&&this.resMan.Register(e.resMan),e.device&&this.device.Register(e.device);var{store:t}=e;if(t)for(var r in t.type&&g(this,"type",t.type),t)t.hasOwnProperty(r)&&"type"!==r&&g(this,r,t[r])}GetFullURL(e){return this.resMan.BuildUrl(e)}SetStandardStates(e){return this.device.SetStandardStates(e),this}GLColorMask(e){return this.device.gl.colorMask(e[0],e[1],e[2],e[3]),this}GLClearColor(e){return this.device.gl.clearColor(e[0],e[1],e[2],e[3]),this}GLClearDepth(e){return this.device.gl.clearDepth(e),this}GLViewport(e){return this.device.gl.viewport(e[0],e[1],e[2],e[3]),this}GLClear(e){return this.device.gl.clear(e),this}SetProjectionMatrix(e){return this.device.SetProjection(e),this}SetViewMatrix(e){return this.device.SetView(e),this}GetDeviceExtension(e){return this.device.GetExtension(e)}GetResource(e,t,r){return this.resMan.GetResource(e,t,r)}FetchResource(e){var t=this;return h((function*(){return t.resMan.FetchResource(e)}))()}FetchObject(e,t){var r=this;return h((function*(){var i;if(i=Object(s.isDNA)(e)?yield r.eveSof.FetchObject(e):yield r.resMan.FetchObject(e),!r.IsClass(i,t))throw new Error("Unexpected constructor");return i}))()}FetchBuildClass(e){var t=this;return h((function*(){return Object(s.isDNA)(e)?yield t.eveSof.FetchHullBuildClass(e):2}))()}IsClass(e,t){if(!t)return!0;var r;t=Object(s.toArray)(t);for(var i=0;i<t.length;i++){var n=t[i],a=!1;if(Object(s.isString)(n)&&("!"===n.charAt(0)&&(a=!0,n=n.substring(1)),n="Array"===n?Array:"Object"===n?Object:this.GetClass(n)),e instanceof n){r=!a;break}}return r}CreateVariable(e,t,r){if(Object(s.isPlain)(t)&&(r=t.Type||t.type,t=t.value),Object(s.isFunction)(r))return new r(e,t);if(Object(s.isString)(r)&&(r=this.GetType(r)),r||(r=this.GetTypeByValue(t)),Object(s.isFunction)(r))return new r(e,t);throw new Error("Could not identify variable type")}HasVariable(e){return m(this,"variable",e)}GetVariable(e){return p(this,"variable",e)}GetVariableValue(e,t){var r=this.GetVariable(e);if(r.GetValue)return r.GetValue(t);throw new Error("Variable missing 'GetValue' method")}SetVariable(e,t){return Object(s.isObjectObject)(t)||(t=this.CreateVariable(e,t)),v(this,"variable",e,t)}SetVariableValue(e,t,r){var i=this.GetVariable(e);if(i.SetValue)return i.SetValue(t,r);throw new Error("Variable missing 'SetValue' method")}HasExtension(e){return m(this,"extension",e)}GetExtension(e){return p(this,"extension",e)}SetExtension(e,t){return v(this,"extension",e,t,{isValue:s.isFunction})}HasBlack(e){return m(this,"black",e,{isClassName:!0})}GetBlack(e){return p(this,"black",e,{isClassName:!0})}SetBlack(e,t){return Object(s.isFunction)(t)&&(t=t(c)),v(this,"black",e,t,{isValue:s.isArray,onBeforeSet:e=>new Map(e)})}HasClass(e){return m(this,"class",e,{isClassName:!0})}GetClass(e){return p(this,"class",e,{isClassName:!0})}SetClass(t,r){var i=v(this,"class",t,r,{isValue:s.isFunction});return e.prototype[t]=i,"DEBUG_ENABLED"in i&&(i.DEBUG_ENABLED=this._debug),i.black&&this.SetBlack(t,i.black),i}HasPath(e){return m(this,"path",e)}GetPath(e){return p(this,"path",e)}SetPath(e,t){return Object(s.isString)(t)&&"/"!==t.charAt(t.length-1)&&(t+="/"),v(this,"path",e,t,{isValue:s.isString,onBeforeSet:e=>e.toLowerCase()})}HasDynamicPath(e){return m(this,"dynamicPath",e)}GetDynamicPath(e){return p(this,"dynamicPath",e)}SetDynamicPath(e,t){return v(this,"dynamicPath",e,t,{isValue(e){if(!Object(s.isArray)(e))return!1;for(var t=0;t<e.length;t++)if(!Object(s.isString)(e[t]))return!1;return!0},onBeforeSet(e){e.forEach(e=>e.toLowerCase())}})}HasType(e){return m(this,"type",e)}GetType(e){return p(this,"type",e)}GetTypeByValue(e){var t=this._store.type;for(var[r,i]of t)if("isValue"in i&&i.isValue(e))return i;throw new Error("Could not identify a type from the given value")}SetType(e,t){return v(this,"type",e,t,s.isFunction)}})||i),y=E.resMan,T=E.device},"./global/class/Tw2BaseClass.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tw2BaseClass",(function(){return f}));var i,n,a,o,l=r("./global/meta/index.js"),s=r("./global/util/index.js"),u=r("./global/class/Tw2EventEmitter.js");function c(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var f=Object(l.abstract)((o=a=class e extends u.Tw2EventEmitter{constructor(){super(),e.defineID(this)}Copy(e,t){return this.constructor.copy(this,e,t)}Clone(e){return this.constructor.clone(this,e)}Set(e,t){return this.constructor.set(this,e,t)}Get(e,t){return this.constructor.get(this,e,t)}OnValueChanged(e){}UpdateValues(e){this.OnValueChanged(e),e&&e.skipEvents||this.emit("modified",this,e)}OnModified(e,t,r){this.on("modified",e,t,r)}OffModified(e){this.off("modified",e)}OnDestroy(e){}Destroy(e){this.OnDestroy(e),e&&e.skipEvents||this.emit("destroy",this,e),this.del("*")}Traverse(e,t,r="",i=new Set){if(!i.has(this)){i.add(this);var n=e(this,t,r);return n||function(e,t,r=""){var{list:i,type:n}=function(e){if(e.constructor.hasOwnProperty("__keys")&&null!==e.constructor.__keys)return e.constructor.__keys;var t=e.constructor.__keys={};function r(e,r){t[e]||(t[e]=[]),t[e].includes(r)||t[e].push(r)}for(var i in e)if(e.hasOwnProperty(i)){if("_"===i.charAt(0))continue;var n=e[i];Object(s.isPrimary)(n)?r("primary",i):Object(s.isArray)(n)?n.length&&Object(s.isPrimary)(n[0])?r("array",i):r("list",i):Object(s.isTyped)(n)?r("typed",i):Object(s.isPlain)(n)?r("plain",i):(null===n||Object(s.isObjectObject)(n))&&r("type",i)}return e.constructor.__keys}(e);if(i)for(var a=0;a<i.length;a++)for(var o=i[a],l=e[o],u=0;u<l.length;u++){var c=l[u];if(Object(s.isObjectObject)(c)){var f="".concat(r,"/").concat(o,"/").concat(u),d=t(c,e,f);if(d)return d}}if(n)for(var h=0;h<n.length;h++){var b=n[h],m=e[b];if(Object(s.isObjectObject)(m)){var p="".concat(r,"/").concat(b),v=t(m,e,p);if(v)return v}}}(this,(function(t,r,n){var a;if(Object(s.isFunction)(t.Traverse)?a=t.Traverse(e,r,n,i):i.has(t)||(i.add(t),a=e(t,r,n)),a)return a}),r)}}static copy(e,t,r={}){r.verb="copy";var i=this.get(t,{},{skipIDs:!0});return this.set(e,i,r)}static clone(e,t={}){var r=this.get(e,{},{skipIDs:!0});return this.from(r,t)}static from(e,t={}){if(e&&e instanceof this)return e;var r=new this,i="Initialize"in r;return e&&Object.keys(e)&&this.set(r,e,{skipUpdate:i,verb:"create"}),i&&!t.skipUpdate&&r.Initialize(),r}static set(e,t,r={}){}static get(e,t={},r={}){}static defineID(e){Reflect.defineProperty(e,"_id",{value:Object(s.generateID)(),writable:!1,configurable:!0})}},a.black=null,a.__category=null,a.__keys=null,c(n=o,"set",[l.abstract],Object.getOwnPropertyDescriptor(n,"set"),n),c(n,"get",[l.abstract],Object.getOwnPropertyDescriptor(n,"get"),n),i=n))||i},"./global/class/Tw2EventEmitter.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tw2EventEmitter",(function(){return a}));var i=r("./global/util/index.js"),n=new WeakMap;class a{emit(e,...t){var r=n.get(this);return r?((e=e.toLowerCase())in r&&(r[e].forEach((i,n)=>{n.call(i.context,...t),i.once&&r[e].delete(n)}),0===r[e].size&&Reflect.deleteProperty(r,e)),this):this}add(e){if(!e)return this;for(var t in e)if(e.hasOwnProperty(t)){var r=e[t],n=t,a=void 0,o=void 0;if(-1!==t.indexOf(".once")&&t.lastIndexOf(".once")===t.length-5&&(n=t.substring(0,t.length-5),o=!0),Object(i.isArray)(r)&&((r=r[0])[1]&&(a=r[1]),Object(i.isBoolean)(r[2])&&!Object(i.isBoolean)(o)&&(o=r[2])),!Object(i.isFunction)(r))throw new Error("Invalid listener");this.on(n,r,a,o)}return this}on(e,t,r,i=!1){var a=n.get(this);return a||(a={},n.set(this,a)),a[e=e.toLowerCase()]||(a[e]=new Map),!a[e].has(t)&&this.constructor.onListener&&this.constructor.onListener(e,t,r)&&i?this:(a[e].set(t,{context:r,once:i}),this)}once(e,t,r){return this.on(e,t,r,!0)}off(e,t){var r=n.get(this);if(!r)return this;if("*"===e){for(var i in r)r.hasOwnProperty(i)&&(r[i].delete(t),0===r[i].size&&Reflect.deleteProperty(r,i));return this}return(e=e.toLowerCase())in r&&(r[e].delete(t),0===r[e].size&&Reflect.deleteProperty(r,e)),this}bind(e,t,r){function i(...i){r&&r.call(e,...i),e.emit(t,...i)}return i._target=e,this.on(t,i)}unbind(e,t){var r=this;if(!e)return this;var i=n.get(this);if(!i){if("*"===t){var a=function(t){i.hasOwnProperty(t)&&i[t].forEach((i,n)=>{n._target===e&&r.off(t,n)})};for(var o in i)a(o);return this}return(t=t.toLowerCase())in i&&i[t].forEach((r,i)=>{i._target===e&&this.off(t,i)}),this}}has(e,t){var r=n.get(this);if(!r)return!1;if("*"===e){for(var i in r)if(r.hasOwnProperty(i)&&r[i].has(t))return!0;return!1}return!!(t&&e in r)&&("*"===t?!!r[e].size:r[e].has(t))}del(e){var t=n.get(this);if(!t)return this;if("*"===e){for(var r in this.emit("kill"),t)t.hasOwnProperty(r)&&(t[r].clear(),Reflect.deleteProperty(t,r));return n.delete(this),this}return(e=e.toLowerCase())in t&&(t[e].clear(),Reflect.deleteProperty(t,e)),this}msg(e,t){return this.constructor.defaultLogger?this.constructor.defaultLogger.Log(e,t,this.constructor.__category):t}}a.onListener=null,a.defaultLogger=null,a.__category=null},"./global/class/Tw2Notifications.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tw2Notifications",(function(){return n}));var i=r("./global/util/index.js");class n{RegisterNotification(e){this.HasNotification(e)||this.constructor.onNotification&&this.constructor.onNotification(this,e)||(this._notifications=this._notifications||new Set,this._notifications.add(e))}UpdateNotifications(e,t){this._notifications&&(this._notifications.forEach(r=>{var n=!1;Object(i.isFunction)(r)?n=r(this,t,e):e&&e in r&&(n=r[e](this,t)),n&&this.UnregisterNotification(r)}),0===this._notifications.size&&this.ClearNotifications())}HasNotification(e){return!!this._notifications&&this._notifications.has(e)}UnregisterNotification(e){this._notifications&&this._notifications.delete(e)}ClearNotifications(){this._notifications&&(this._notifications.clear(),Reflect.deleteProperty(this,"_notifications"))}}n.onNotification=null},"./global/class/Tw2Schema.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tw2Schema",(function(){return i}));class i{}},"./global/class/index.js":function(e,t,r){"use strict";r.r(t);var i=r("./global/class/Tw2BaseClass.js");r.d(t,"Tw2BaseClass",(function(){return i.Tw2BaseClass}));var n=r("./global/class/Tw2EventEmitter.js");r.d(t,"Tw2EventEmitter",(function(){return n.Tw2EventEmitter}));var a=r("./global/class/Tw2Notifications.js");r.d(t,"Tw2Notifications",(function(){return a.Tw2Notifications}));var o=r("./global/class/Tw2Schema.js");r.d(t,"Tw2Schema",(function(){return o.Tw2Schema}))},"./global/engine/Tw2Constant.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Type",(function(){return i})),r.d(t,"TypeCategory",(function(){return n})),r.d(t,"TypeTypeCategory",(function(){return a})),r.d(t,"TypeLength",(function(){return o})),r.d(t,"GL_COLOR_BUFFER_BIT",(function(){return l})),r.d(t,"GL_DEPTH_BUFFER_BIT",(function(){return s})),r.d(t,"GL_STENCIL_BUFFER_BIT",(function(){return u})),r.d(t,"GL_TEXTURE_2D",(function(){return c})),r.d(t,"GL_TEXTURE_CUBE_MAP",(function(){return f})),r.d(t,"GL_TEXTURE_3D",(function(){return d})),r.d(t,"GL_TEXTURE_MAG_FILTER",(function(){return h})),r.d(t,"GL_TEXTURE_MIN_FILTER",(function(){return b})),r.d(t,"GL_TEXTURE_WRAP_S",(function(){return m})),r.d(t,"GL_TEXTURE_WRAP_T",(function(){return p})),r.d(t,"GL_BYTE",(function(){return v})),r.d(t,"GL_UNSIGNED_BYTE",(function(){return g})),r.d(t,"GL_SHORT",(function(){return E})),r.d(t,"GL_UNSIGNED_SHORT",(function(){return y})),r.d(t,"GL_INT",(function(){return T})),r.d(t,"GL_UNSIGNED_INT",(function(){return w})),r.d(t,"GL_FLOAT",(function(){return _})),r.d(t,"GL_HALF_FLOAT_OES",(function(){return S})),r.d(t,"GL_HALF_FLOAT",(function(){return R})),r.d(t,"GL_DEPTH_COMPONENT16",(function(){return j})),r.d(t,"GL_DEPTH_COMPONENT24",(function(){return O})),r.d(t,"GL_DEPTH_COMPONENT32F",(function(){return A})),r.d(t,"GL_FLOAT_VEC2",(function(){return z})),r.d(t,"GL_FLOAT_VEC3",(function(){return P})),r.d(t,"GL_FLOAT_VEC4",(function(){return C})),r.d(t,"GL_INT_VEC2",(function(){return D})),r.d(t,"GL_INT_VEC3",(function(){return I})),r.d(t,"GL_INT_VEC4",(function(){return x})),r.d(t,"GL_BOOL",(function(){return L})),r.d(t,"GL_BOOL_VEC2",(function(){return M})),r.d(t,"GL_BOOL_VEC3",(function(){return F})),r.d(t,"GL_BOOL_VEC4",(function(){return G})),r.d(t,"GL_FLOAT_MAT2",(function(){return k})),r.d(t,"GL_FLOAT_MAT3",(function(){return N})),r.d(t,"GL_FLOAT_MAT4",(function(){return B})),r.d(t,"GL_TYPE_LENGTH",(function(){return U})),r.d(t,"GL_SAMPLER_2D",(function(){return V})),r.d(t,"GL_SAMPLER_3D",(function(){return H})),r.d(t,"GL_SAMPLER_CUBE",(function(){return q})),r.d(t,"GL_DEPTH_COMPONENT",(function(){return W})),r.d(t,"GL_ALPHA",(function(){return Y})),r.d(t,"GL_RGB",(function(){return X})),r.d(t,"GL_RGBA",(function(){return K})),r.d(t,"GL_LUMINANCE",(function(){return Q})),r.d(t,"GL_LUMINANCE_ALPHA",(function(){return Z})),r.d(t,"GL_DEPTH_STENCIL",(function(){return $})),r.d(t,"GL_UNSIGNED_INT_24_8_WEBGL",(function(){return J})),r.d(t,"GL_R8",(function(){return ee})),r.d(t,"GL_R16F",(function(){return te})),r.d(t,"GL_R32F",(function(){return re})),r.d(t,"GL_R8UI",(function(){return ie})),r.d(t,"GL_RG8",(function(){return ne})),r.d(t,"GL_RG16F",(function(){return ae})),r.d(t,"GL_RG32F",(function(){return oe})),r.d(t,"GL_RGB8",(function(){return le})),r.d(t,"GL_SRGB8",(function(){return se})),r.d(t,"GL_RGB565",(function(){return ue})),r.d(t,"GL_R11F_G11F_B10F",(function(){return ce})),r.d(t,"GL_RGB9_E5",(function(){return fe})),r.d(t,"GL_RGB16F",(function(){return de})),r.d(t,"GL_RGB32F",(function(){return he})),r.d(t,"GL_RGB8UI",(function(){return be})),r.d(t,"GL_RGBA8",(function(){return me})),r.d(t,"GL_RGB5_A1",(function(){return pe})),r.d(t,"GL_RGBA16F",(function(){return ve})),r.d(t,"GL_RGBA32F",(function(){return ge})),r.d(t,"GL_RGBA8UI",(function(){return Ee})),r.d(t,"GL_RGBA16I",(function(){return ye})),r.d(t,"GL_RGBA16UI",(function(){return Te})),r.d(t,"GL_RGBA32I",(function(){return we})),r.d(t,"GL_RGBA32UI",(function(){return _e})),r.d(t,"GL_NEAREST",(function(){return Se})),r.d(t,"GL_LINEAR",(function(){return Re})),r.d(t,"GL_NEAREST_MIPMAP_NEAREST",(function(){return je})),r.d(t,"GL_LINEAR_MIPMAP_NEAREST",(function(){return Oe})),r.d(t,"GL_NEAREST_MIPMAP_LINEAR",(function(){return Ae})),r.d(t,"GL_LINEAR_MIPMAP_LINEAR",(function(){return ze})),r.d(t,"GL_REPEAT",(function(){return Pe})),r.d(t,"GL_CLAMP_TO_EDGE",(function(){return Ce})),r.d(t,"GL_MIRRORED_REPEAT",(function(){return De})),r.d(t,"GL_ZERO",(function(){return Ie})),r.d(t,"GL_ONE",(function(){return xe})),r.d(t,"GL_SRC_COLOR",(function(){return Le})),r.d(t,"GL_ONE_MINUS_SRC_COLOR",(function(){return Me})),r.d(t,"GL_SRC_ALPHA",(function(){return Fe})),r.d(t,"GL_ONE_MINUS_SRC_ALPHA",(function(){return Ge})),r.d(t,"GL_DST_ALPHA",(function(){return ke})),r.d(t,"GL_ONE_MINUS_DST_ALPHA",(function(){return Ne})),r.d(t,"GL_DST_COLOR",(function(){return Be})),r.d(t,"GL_ONE_MINUS_DST_COLOR",(function(){return Ue})),r.d(t,"GL_SRC_ALPHA_SATURATE",(function(){return Ve})),r.d(t,"GL_CONSTANT_COLOR",(function(){return He})),r.d(t,"GL_ONE_MINUS_CONSTANT_COLOR",(function(){return qe})),r.d(t,"GL_CONSTANT_ALPHA",(function(){return We})),r.d(t,"GL_ONE_MINUS_CONSTANT_ALPHA",(function(){return Ye})),r.d(t,"GL_VERTEX_SHADER",(function(){return Xe})),r.d(t,"GL_FRAGMENT_SHADER",(function(){return Ke})),r.d(t,"GL_FRONT",(function(){return Qe})),r.d(t,"GL_BACK",(function(){return Ze})),r.d(t,"GL_FRONT_AND_BACK",(function(){return $e})),r.d(t,"GL_NEVER",(function(){return Je})),r.d(t,"GL_LESS",(function(){return et})),r.d(t,"GL_EQUAL",(function(){return tt})),r.d(t,"GL_LEQUAL",(function(){return rt})),r.d(t,"GL_GREATER",(function(){return it})),r.d(t,"GL_NOTEQUAL",(function(){return nt})),r.d(t,"GL_GEQUAL",(function(){return at})),r.d(t,"GL_ALWAYS",(function(){return ot})),r.d(t,"GL_KEEP",(function(){return lt})),r.d(t,"GL_REPLACE",(function(){return st})),r.d(t,"GL_INCR",(function(){return ut})),r.d(t,"GL_DECR",(function(){return ct})),r.d(t,"GL_INCR_WRAP",(function(){return ft})),r.d(t,"GL_DECR_WRAP",(function(){return dt})),r.d(t,"GL_INVERT",(function(){return ht})),r.d(t,"GL_STREAM_DRAW",(function(){return bt})),r.d(t,"GL_STATIC_DRAW",(function(){return mt})),r.d(t,"GL_DYNAMIC_DRAW",(function(){return pt})),r.d(t,"GL_ARRAY_BUFFER",(function(){return vt})),r.d(t,"GL_ELEMENT_ARRAY_BUFFER",(function(){return gt})),r.d(t,"GL_POINTS",(function(){return Et})),r.d(t,"GL_LINES",(function(){return yt})),r.d(t,"GL_LINE_LOOP",(function(){return Tt})),r.d(t,"GL_LINE_STRIP",(function(){return wt})),r.d(t,"GL_TRIANGLES",(function(){return _t})),r.d(t,"GL_TRIANGLE_STRIP",(function(){return St})),r.d(t,"GL_TRIANGLE_FAN",(function(){return Rt})),r.d(t,"GL_CW",(function(){return jt})),r.d(t,"GL_CCW",(function(){return Ot})),r.d(t,"GL_CULL_FACE",(function(){return At})),r.d(t,"GL_DEPTH_TEST",(function(){return zt})),r.d(t,"GL_BLEND",(function(){return Pt})),r.d(t,"RM_ANY",(function(){return Ct})),r.d(t,"RM_OPAQUE",(function(){return Dt})),r.d(t,"RM_DECAL",(function(){return It})),r.d(t,"RM_TRANSPARENT",(function(){return xt})),r.d(t,"RM_ADDITIVE",(function(){return Lt})),r.d(t,"RM_DEPTH",(function(){return Mt})),r.d(t,"RM_FULLSCREEN",(function(){return Ft})),r.d(t,"RM_PICKABLE",(function(){return Gt})),r.d(t,"RM_DISTORTION",(function(){return kt})),r.d(t,"RS_ZENABLE",(function(){return Nt})),r.d(t,"RS_FILLMODE",(function(){return Bt})),r.d(t,"RS_SHADEMODE",(function(){return Ut})),r.d(t,"RS_ZWRITEENABLE",(function(){return Vt})),r.d(t,"RS_ALPHATESTENABLE",(function(){return Ht})),r.d(t,"RS_LASTPIXEL",(function(){return qt})),r.d(t,"RS_SRCBLEND",(function(){return Wt})),r.d(t,"RS_DESTBLEND",(function(){return Yt})),r.d(t,"RS_CULLMODE",(function(){return Xt})),r.d(t,"RS_ZFUNC",(function(){return Kt})),r.d(t,"RS_ALPHAREF",(function(){return Qt})),r.d(t,"RS_ALPHAFUNC",(function(){return Zt})),r.d(t,"RS_DITHERENABLE",(function(){return $t})),r.d(t,"RS_ALPHABLENDENABLE",(function(){return Jt})),r.d(t,"RS_FOGENABLE",(function(){return er})),r.d(t,"RS_SPECULARENABLE",(function(){return tr})),r.d(t,"RS_FOGCOLOR",(function(){return rr})),r.d(t,"RS_FOGTABLEMODE",(function(){return ir})),r.d(t,"RS_FOGSTART",(function(){return nr})),r.d(t,"RS_FOGEND",(function(){return ar})),r.d(t,"RS_FOGDENSITY",(function(){return or})),r.d(t,"RS_RANGEFOGENABLE",(function(){return lr})),r.d(t,"RS_STENCILENABLE",(function(){return sr})),r.d(t,"RS_STENCILFAIL",(function(){return ur})),r.d(t,"RS_STENCILZFAIL",(function(){return cr})),r.d(t,"RS_STENCILPASS",(function(){return fr})),r.d(t,"RS_STENCILFUNC",(function(){return dr})),r.d(t,"RS_STENCILREF",(function(){return hr})),r.d(t,"RS_STENCILMASK",(function(){return br})),r.d(t,"RS_STENCILWRITEMASK",(function(){return mr})),r.d(t,"RS_TEXTUREFACTOR",(function(){return pr})),r.d(t,"RS_WRAP0",(function(){return vr})),r.d(t,"RS_WRAP1",(function(){return gr})),r.d(t,"RS_WRAP2",(function(){return Er})),r.d(t,"RS_WRAP3",(function(){return yr})),r.d(t,"RS_WRAP4",(function(){return Tr})),r.d(t,"RS_WRAP5",(function(){return wr})),r.d(t,"RS_WRAP6",(function(){return _r})),r.d(t,"RS_WRAP7",(function(){return Sr})),r.d(t,"RS_CLIPPING",(function(){return Rr})),r.d(t,"RS_LIGHTING",(function(){return jr})),r.d(t,"RS_AMBIENT",(function(){return Or})),r.d(t,"RS_FOGVERTEXMODE",(function(){return Ar})),r.d(t,"RS_COLORVERTEX",(function(){return zr})),r.d(t,"RS_LOCALVIEWER",(function(){return Pr})),r.d(t,"RS_NORMALIZENORMALS",(function(){return Cr})),r.d(t,"RS_DIFFUSEMATERIALSOURCE",(function(){return Dr})),r.d(t,"RS_SPECULARMATERIALSOURCE",(function(){return Ir})),r.d(t,"RS_AMBIENTMATERIALSOURCE",(function(){return xr})),r.d(t,"RS_EMISSIVEMATERIALSOURCE",(function(){return Lr})),r.d(t,"RS_VERTEXBLEND",(function(){return Mr})),r.d(t,"RS_CLIPPLANEENABLE",(function(){return Fr})),r.d(t,"RS_POINTSIZE",(function(){return Gr})),r.d(t,"RS_POINTSIZE_MIN",(function(){return kr})),r.d(t,"RS_POINTSPRITEENABLE",(function(){return Nr})),r.d(t,"RS_POINTSCALEENABLE",(function(){return Br})),r.d(t,"RS_POINTSCALE_A",(function(){return Ur})),r.d(t,"RS_POINTSCALE_B",(function(){return Vr})),r.d(t,"RS_POINTSCALE_C",(function(){return Hr})),r.d(t,"RS_MULTISAMPLEANTIALIAS",(function(){return qr})),r.d(t,"RS_MULTISAMPLEMASK",(function(){return Wr})),r.d(t,"RS_PATCHEDGESTYLE",(function(){return Yr})),r.d(t,"RS_DEBUGMONITORTOKEN",(function(){return Xr})),r.d(t,"RS_POINTSIZE_MAX",(function(){return Kr})),r.d(t,"RS_INDEXEDVERTEXBLENDENABLE",(function(){return Qr})),r.d(t,"RS_COLORWRITEENABLE",(function(){return Zr})),r.d(t,"RS_TWEENFACTOR",(function(){return $r})),r.d(t,"RS_BLENDOP",(function(){return Jr})),r.d(t,"RS_POSITIONDEGREE",(function(){return ei})),r.d(t,"RS_NORMALDEGREE",(function(){return ti})),r.d(t,"RS_SCISSORTESTENABLE",(function(){return ri})),r.d(t,"RS_SLOPESCALEDEPTHBIAS",(function(){return ii})),r.d(t,"RS_ANTIALIASEDLINEENABLE",(function(){return ni})),r.d(t,"RS_TWOSIDEDSTENCILMODE",(function(){return ai})),r.d(t,"RS_CCW_STENCILFAIL",(function(){return oi})),r.d(t,"RS_CCW_STENCILZFAIL",(function(){return li})),r.d(t,"RS_CCW_STENCILPASS",(function(){return si})),r.d(t,"RS_CCW_STENCILFUNC",(function(){return ui})),r.d(t,"RS_COLORWRITEENABLE1",(function(){return ci})),r.d(t,"RS_COLORWRITEENABLE2",(function(){return fi})),r.d(t,"RS_COLORWRITEENABLE3",(function(){return di})),r.d(t,"RS_BLENDFACTOR",(function(){return hi})),r.d(t,"RS_SRGBWRITEENABLE",(function(){return bi})),r.d(t,"RS_DEPTHBIAS",(function(){return mi})),r.d(t,"RS_SEPARATEALPHABLENDENABLE",(function(){return pi})),r.d(t,"RS_SRCBLENDALPHA",(function(){return vi})),r.d(t,"RS_DESTBLENDALPHA",(function(){return gi})),r.d(t,"RS_BLENDOPALPHA",(function(){return Ei})),r.d(t,"CULL_NONE",(function(){return yi})),r.d(t,"CULL_CW",(function(){return Ti})),r.d(t,"CULL_CCW",(function(){return wi})),r.d(t,"CMP_NEVER",(function(){return _i})),r.d(t,"CMP_LESS",(function(){return Si})),r.d(t,"CMP_EQUAL",(function(){return Ri})),r.d(t,"CMP_LEQUAL",(function(){return ji})),r.d(t,"CMP_GREATER",(function(){return Oi})),r.d(t,"CMP_NOTEQUAL",(function(){return Ai})),r.d(t,"CMP_GREATEREQUAL",(function(){return zi})),r.d(t,"CMP_ALWAYS",(function(){return Pi})),r.d(t,"BLEND_ZERO",(function(){return Ci})),r.d(t,"BLEND_ONE",(function(){return Di})),r.d(t,"BLEND_SRCCOLOR",(function(){return Ii})),r.d(t,"BLEND_INVSRCCOLOR",(function(){return xi})),r.d(t,"BLEND_SRCALPHA",(function(){return Li})),r.d(t,"BLEND_INVSRCALPHA",(function(){return Mi})),r.d(t,"BLEND_DESTALPHA",(function(){return Fi})),r.d(t,"BLEND_INVDESTALPHA",(function(){return Gi})),r.d(t,"BLEND_DESTCOLOR",(function(){return ki})),r.d(t,"BLEND_INVDESTCOLOR",(function(){return Ni})),r.d(t,"BLEND_SRCALPHASAT",(function(){return Bi})),r.d(t,"BLEND_BOTHSRCALPHA",(function(){return Ui})),r.d(t,"BLEND_BOTHINVSRCALPHA",(function(){return Vi})),r.d(t,"BLEND_BLENDFACTOR",(function(){return Hi})),r.d(t,"BLEND_INVBLENDFACTOR",(function(){return qi})),r.d(t,"BLENDOP_ADD",(function(){return Wi})),r.d(t,"BLENDOP_SUBTRACT",(function(){return Yi})),r.d(t,"BLENDOP_REVSUBTRACT",(function(){return Xi})),r.d(t,"BLENDOP_MIN",(function(){return Ki})),r.d(t,"BLENDOP_MAX",(function(){return Qi})),r.d(t,"TF_ALPHA",(function(){return Zi})),r.d(t,"TF_LUMINANCE",(function(){return $i})),r.d(t,"TF_LUMINANCE_ALPHA",(function(){return Ji})),r.d(t,"TF_RGB",(function(){return en})),r.d(t,"TF_RGBA",(function(){return tn})),r.d(t,"TF_RED",(function(){return rn})),r.d(t,"TF_R",(function(){return nn})),r.d(t,"TF_RG",(function(){return an})),r.d(t,"TF_RED_INTEGER",(function(){return on})),r.d(t,"TF_R_INTEGER",(function(){return ln})),r.d(t,"TF_RG_INTEGER",(function(){return sn})),r.d(t,"TF_RGB_INTEGER",(function(){return un})),r.d(t,"TF_RGBA_INTEGER",(function(){return cn})),r.d(t,"TT_UNSIGNED_BYTE",(function(){return fn})),r.d(t,"TT_UNSIGNED_INT",(function(){return dn})),r.d(t,"TT_FLOAT",(function(){return hn})),r.d(t,"TT_HALF_FLOAT",(function(){return bn})),r.d(t,"TT_BYTE",(function(){return mn})),r.d(t,"TT_SHORT",(function(){return pn})),r.d(t,"TT_UNSIGNED_SHORT",(function(){return vn})),r.d(t,"TT_INT",(function(){return gn})),r.d(t,"TT_UNSIGNED_INTEGER",(function(){return En})),r.d(t,"TT_UNSIGNED_SHORT_4_4_4_4",(function(){return yn})),r.d(t,"TT_UNSIGNED_SHORT_5_5_5_1",(function(){return Tn})),r.d(t,"TT_UNSIGNED_SHORT_5_6_5",(function(){return wn})),r.d(t,"TT_UNSIGNED_INT_2_10_10_10_REV",(function(){return _n})),r.d(t,"TT_UNSIGNED_INT_24_8",(function(){return Sn})),r.d(t,"TT_UNSIGNED_INT_10F_11F_11F_REV",(function(){return Rn})),r.d(t,"TT_UNSIGNED_INT_5_9_9_9_REV",(function(){return jn})),r.d(t,"TT_FLOAT_32_UNSIGNED_INT_24_8_REV",(function(){return On})),r.d(t,"WrapModes",(function(){return An})),r.d(t,"BlendTable",(function(){return zn})),r.d(t,"FilterMode",(function(){return Pn})),r.d(t,"MipFilterMode",(function(){return Cn})),r.d(t,"DDS_MAGIC",(function(){return Dn})),r.d(t,"DDSD_CAPS",(function(){return In})),r.d(t,"DDSD_HEIGHT",(function(){return xn})),r.d(t,"DDSD_WIDTH",(function(){return Ln})),r.d(t,"DDSD_PITCH",(function(){return Mn})),r.d(t,"DDSD_PIXELFORMAT",(function(){return Fn})),r.d(t,"DDSD_MIPMAPCOUNT",(function(){return Gn})),r.d(t,"DDSD_LINEARSIZE",(function(){return kn})),r.d(t,"DDSD_DEPTH",(function(){return Nn})),r.d(t,"DDSCAPS_COMPLEX",(function(){return Bn})),r.d(t,"DDSCAPS_MIPMAP",(function(){return Un})),r.d(t,"DDSCAPS_TEXTURE",(function(){return Vn})),r.d(t,"DDSCAPS2_CUBEMAP",(function(){return Hn})),r.d(t,"DDSCAPS2_CUBEMAP_POSITIVEX",(function(){return qn})),r.d(t,"DDSCAPS2_CUBEMAP_NEGATIVEX",(function(){return Wn})),r.d(t,"DDSCAPS2_CUBEMAP_POSITIVEY",(function(){return Yn})),r.d(t,"DDSCAPS2_CUBEMAP_NEGATIVEY",(function(){return Xn})),r.d(t,"DDSCAPS2_CUBEMAP_POSITIVEZ",(function(){return Kn})),r.d(t,"DDSCAPS2_CUBEMAP_NEGATIVEZ",(function(){return Qn})),r.d(t,"DDSCAPS2_VOLUME",(function(){return Zn})),r.d(t,"DDPF_ALPHAPIXELS",(function(){return $n})),r.d(t,"DDPF_ALPHA",(function(){return Jn})),r.d(t,"DDPF_FOURCC",(function(){return ea})),r.d(t,"DDPF_RGB",(function(){return ta})),r.d(t,"DDPF_YUV",(function(){return ra})),r.d(t,"DDPF_LUMINANCE",(function(){return ia})),r.d(t,"DDS_HEADER_LENGTH_INT",(function(){return na})),r.d(t,"DDS_HEADER_OFFSET_MAGIC",(function(){return aa})),r.d(t,"DDS_HEADER_OFFSET_SIZE",(function(){return oa})),r.d(t,"DDS_HEADER_OFFSET_FLAGS",(function(){return la})),r.d(t,"DDS_HEADER_OFFSET_HEIGHT",(function(){return sa})),r.d(t,"DDS_HEADER_OFFSET_WIDTH",(function(){return ua})),r.d(t,"DDS_HEADER_OFFSET_MIPMAP_COUNT",(function(){return ca})),r.d(t,"DDS_HEADER_OFFSET_PF_FLAGS",(function(){return fa})),r.d(t,"DDS_HEADER_OFFSET_PF_FOURCC",(function(){return da})),r.d(t,"DDS_HEADER_OFFSET_RGB_BPP",(function(){return ha})),r.d(t,"DDS_HEADER_OFFSET_R_MASK",(function(){return ba})),r.d(t,"DDS_HEADER_OFFSET_G_MASK",(function(){return ma})),r.d(t,"DDS_HEADER_OFFSET_B_MASK",(function(){return pa})),r.d(t,"DDS_HEADER_OFFSET_A_MASK",(function(){return va})),r.d(t,"DDS_HEADER_OFFSET_CAPS1",(function(){return ga})),r.d(t,"DDS_HEADER_OFFSET_CAPS2",(function(){return Ea})),r.d(t,"DDS_HEADER_OFFSET_CAPS3",(function(){return ya})),r.d(t,"DDS_HEADER_OFFSET_CAPS4",(function(){return Ta})),r.d(t,"DDS_HEADER_OFFSET_DXGI_FORMAT",(function(){return wa})),r.d(t,"FOURCC_DXT1",(function(){return _a})),r.d(t,"FOURCC_DXT5",(function(){return Sa})),r.d(t,"FOURCC_DXT3",(function(){return Ra})),r.d(t,"FOURCC_DXT10",(function(){return ja})),r.d(t,"FOURCC_D3DFMT_R16G16B16A16F",(function(){return Oa})),r.d(t,"FOURCC_D3DFMT_R32G32B32A32F",(function(){return Aa})),r.d(t,"DXGI_FORMAT_R16G16B16A16_FLOAT",(function(){return za})),r.d(t,"DXGI_FORMAT_B8G8R8X8_UNORM",(function(){return Pa})),r.d(t,"VendorRequestAnimationFrame",(function(){return Ca})),r.d(t,"VendorCancelAnimationFrame",(function(){return Da})),r.d(t,"VendorRequestFullScreen",(function(){return Ia})),r.d(t,"VendorExitFullScreen",(function(){return xa})),r.d(t,"VendorGetFullScreenElement",(function(){return La})),r.d(t,"VendorWebglPrefixes",(function(){return Ma}));var i={UNKNOWN:0,BOOLEAN:1,STRING:10,PATH:11,EXPRESSION:12,BYTE:20,UINT:21,USHORT:22,FLOAT:23,OBJECT:30,RAW:31,PLAIN:32,LIST:33,ARRAY:34,VECTOR:50,VECTOR2:52,VECTOR3:53,VECTOR4:54,COLOR:58,QUATERNION:59,MATRIX3:60,MATRIX4:61,INDEX_BUFFER:62,ENUM:70},n={UNKNOWN:0,BOOLEAN:1,STRING:2,NUMBER:3,OBJECT:4,PLAIN:5,LIST:6,ARRAY:7,TYPED:8},a={[i.UNKNOWN]:n.UNKNOWN,[i.BOOLEAN]:n.BOOLEAN,[i.STRING]:n.STRING,[i.PATH]:n.STRING,[i.EXPRESSION]:n.STRING,[i.BYTE]:n.NUMBER,[i.UINT]:n.NUMBER,[i.USHORT]:n.NUMBER,[i.FLOAT]:n.NUMBER,[i.ENUM]:n.NUMBER,[i.OBJECT]:n.OBJECT,[i.RAW]:n.OBJECT,[i.LIST]:n.LIST,[i.PLAIN]:n.PLAIN,[i.ARRAY]:n.ARRAY,[i.VECTOR]:n.TYPED,[i.VECTOR2]:n.TYPED,[i.VECTOR3]:n.TYPED,[i.VECTOR4]:n.TYPED,[i.COLOR]:n.TYPED,[i.QUATERNION]:n.TYPED,[i.MATRIX3]:n.TYPED,[i.MATRIX4]:n.TYPED,[i.INDEX_BUFFER]:n.TYPED,[i.ENUM]:n.NUMBER},o={[i.VECTOR2]:2,[i.VECTOR3]:3,[i.VECTOR4]:4,[i.COLOR]:4,[i.QUATERNION]:4,[i.MATRIX3]:9,[i.MATRIX4]:16},l=16384,s=256,u=1024,c=3553,f=34067,d=32879,h=10240,b=10241,m=10242,p=10243,v=5120,g=5121,E=5122,y=5123,T=5124,w=5125,_=5126,S=36193,R=5131,j=33189,O=33190,A=36012,z=35664,P=35665,C=35666,D=35667,I=35668,x=35669,L=35670,M=35671,F=35672,G=35673,k=35674,N=35675,B=35676,U={[_]:1,[T]:1,[v]:1,[L]:1,[z]:2,[D]:2,[M]:2,[P]:3,[I]:3,[F]:3,[C]:4,[x]:4,[G]:4,[N]:9,[B]:16},V=35678,H=35679,q=35680,W=6402,Y=6406,X=6407,K=6408,Q=6409,Z=6410,$=34041,J=34042,ee=33321,te=33325,re=33326,ie=33330,ne=33323,ae=33327,oe=33328,le=32849,se=35905,ue=36194,ce=35898,fe=35901,de=34843,he=34837,be=36221,me=32856,pe=32855,ve=34842,ge=34836,Ee=36220,ye=36232,Te=36214,we=36226,_e=36208,Se=9728,Re=9729,je=9984,Oe=9985,Ae=9986,ze=9987,Pe=10497,Ce=33071,De=33648,Ie=0,xe=1,Le=768,Me=769,Fe=770,Ge=771,ke=772,Ne=773,Be=774,Ue=775,Ve=776,He=32769,qe=32770,We=32771,Ye=32772,Xe=35633,Ke=35632,Qe=1028,Ze=1029,$e=1032,Je=512,et=513,tt=514,rt=515,it=516,nt=517,at=518,ot=519,lt=7680,st=7681,ut=7682,ct=7683,ft=34055,dt=34056,ht=5386,bt=35040,mt=35044,pt=35048,vt=34962,gt=34963,Et=0,yt=1,Tt=2,wt=3,_t=4,St=5,Rt=6,jt=2304,Ot=2305,At=2884,zt=2929,Pt=3042,Ct=-1,Dt=0,It=1,xt=2,Lt=3,Mt=4,Ft=5,Gt=6,kt=7,Nt=7,Bt=8,Ut=9,Vt=14,Ht=15,qt=16,Wt=19,Yt=20,Xt=22,Kt=23,Qt=24,Zt=25,$t=26,Jt=27,er=28,tr=29,rr=34,ir=35,nr=36,ar=37,or=38,lr=48,sr=52,ur=53,cr=54,fr=55,dr=56,hr=57,br=58,mr=59,pr=60,vr=128,gr=129,Er=130,yr=131,Tr=132,wr=133,_r=134,Sr=135,Rr=136,jr=137,Or=139,Ar=140,zr=141,Pr=142,Cr=143,Dr=145,Ir=146,xr=147,Lr=148,Mr=151,Fr=152,Gr=154,kr=155,Nr=156,Br=157,Ur=158,Vr=159,Hr=160,qr=161,Wr=162,Yr=163,Xr=165,Kr=166,Qr=167,Zr=168,$r=170,Jr=171,ei=172,ti=173,ri=174,ii=175,ni=176,ai=185,oi=186,li=187,si=188,ui=189,ci=190,fi=191,di=192,hi=193,bi=194,mi=195,pi=206,vi=207,gi=208,Ei=209,yi=1,Ti=2,wi=3,_i=1,Si=2,Ri=3,ji=4,Oi=5,Ai=6,zi=7,Pi=8,Ci=1,Di=2,Ii=3,xi=4,Li=5,Mi=6,Fi=7,Gi=8,ki=9,Ni=10,Bi=11,Ui=12,Vi=13,Hi=14,qi=15,Wi=1,Yi=2,Xi=3,Ki=4,Qi=5,Zi=0,$i=1,Ji=2,en=4,tn=5,rn=6,nn=6,an=7,on=8,ln=8,sn=9,un=10,cn=11,fn=0,dn=0,hn=1,bn=2,mn=3,pn=4,vn=5,gn=6,En=7,yn=8,Tn=9,wn=10,_n=11,Sn=12,Rn=13,jn=14,On=15,An=[0,Pe,De,Ce,Ce,Ce],zn=[-1,Ie,xe,Le,Me,Fe,Ge,ke,Ne,Be,Ue,Ve,-1,-1,He,qe],Pn={[Se]:1,[Re]:2},Cn={[Se]:0,[Re]:0,[je]:1,[Oe]:1,[Ae]:2,[ze]:2},Dn=542327876,In=1,xn=2,Ln=4,Mn=8,Fn=4096,Gn=131072,kn=524288,Nn=8388608,Bn=8,Un=4194304,Vn=4096,Hn=512,qn=1024,Wn=2048,Yn=4096,Xn=8192,Kn=16384,Qn=32768,Zn=2097152,$n=1,Jn=2,ea=4,ta=64,ra=512,ia=131072,na=31,aa=0,oa=1,la=2,sa=3,ua=4,ca=7,fa=20,da=21,ha=22,ba=23,ma=24,pa=25,va=26,ga=27,Ea=28,ya=29,Ta=30,wa=32,_a=827611204,Sa=894720068,Ra=861165636,ja=827611204,Oa=113,Aa=116,za=10,Pa=88,Ca=["requestAnimationFrame","webkitRequestAnimationFrame","mozRequestAnimationFrame","oRequestAnimationFrame","msRequestAnimationFrame"],Da=["cancelAnimationFrame","webkitRequestAnimationFrame","mozRequestAnimationFrame","oRequestAnimationFrame","msRequestAnimationFrame"],Ia=["requestFullscreen","webkitRequestFullscreen","mozRequestFullScreen","msRequestFullscreen"],xa=["exitFullscreen","webkitExitFullscreen","mozCancelFullScreen","msExitFullscreen"],La=["fullscreenElement","webkitFullscreenElement","mozFullScreenElement","msFullscreenElement"],Ma=["","MOZ_","WEBKIT_","WEBGL_"]},"./global/engine/Tw2Device.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tw2Device",(function(){return h}));var i,n,a=r("./global/math/index.js"),o=r("./global/util/index.js"),l=r("./core/mesh/Tw2Effect.js"),s=r("./core/vertex/Tw2VertexDeclaration.js"),u=r("./global/class/Tw2EventEmitter.js"),c=r("./global/engine/Tw2Constant.js"),f=r("./core/index.js");function d(e,t,r,i,n,a,o){try{var l=e[a](o),s=l.value}catch(e){return void r(e)}l.done?t(s):Promise.resolve(s).then(i,n)}class h extends u.Tw2EventEmitter{get glVersion(){return this.gl?this.gl instanceof WebGLRenderingContext?1:2:0}get canvas(){return this.gl?this.gl.canvas:null}constructor(e){super(),this.name="Device",this.gl=null,this.xr=null,this.tw2=null,this.dt=0,this.frameCounter=0,this.startTime=null,this.currentTime=null,this.previousTime=null,this.eyePosition=a.vec3.create(),this.targetResolution=a.vec4.create(),this.world=a.mat4.create(),this.view=a.mat4.create(),this.viewInverse=a.mat4.create(),this.viewTranspose=a.mat4.create(),this.projection=a.mat4.create(),this.projectionInverse=a.mat4.create(),this.projectionTranspose=a.mat4.create(),this.viewProjection=a.mat4.create(),this.viewProjectionTranspose=a.mat4.create(),this.viewportWidth=0,this.viewportHeight=0,this.viewportAspect=0,this.viewportPixelRatio="devicePixelRatio"in window?window.devicePixelRatio:1,this.effectDir="/effect.gles2/",this.mipLevelSkipCount=0,this.shaderModel="hi",this.enableAnisotropicFiltering=!0,this.enableAntialiasing=!0,this.enableWebgl2=!0,this.enableWebxr=!0,this.alphaBlendBackBuffer=!0,this.antialiasing=!0,this.msaaSamples=0,this.wrapModes=[],this.shadowHandles=null,this.perObjectData=null,this.onResize=null,this._extensions={},this._alphaBlendState=null,this._alphaTestState=null,this._depthOffsetState=null,this._shadowStateBuffer=null,this._quadBuffer=null,this._quadDecl=null,this._cameraQuadBuffer=null,this._currentRenderMode=c.RM_ANY,this._fallbackCube=null,this._fallbackTexture=null,this._blitEffect=null,this._Date=Date,e.SetLibrary(this),this.startTime=this.now,this.currentTime=this.startTime}Register(e){if(e){if(this.gl)throw new Error("Setting device options after gl creation is not yet supported");"performanceClock"in e&&(e.performance&&"performance"in window?this._Date=performance:this._Date=Date),"textureQuality"in e&&(this.mipLevelSkipCount=e.textureQuality),"shaderQuality"in e&&(this.shaderModel=e.shaderQuality),"anisotropicFilter"in e&&(this.enableAnisotropicFiltering=e.anisotropicFilter),"antialiasing"in e&&(this.enableAntialiasing=e.antialiasing),"webgl2"in e&&(this.enableWebgl2=e.webgl2),"webxr"in e&&(this.enableWebxr=e.webxr)}}CreateDevice(e,t={}){this.gl=null,this.effectDir="/effect.gles2/",t.alpha=Object(o.get)(t,"alpha",!0),t.webgl2=this.enableWebgl2,t.xrCompatible=this.enableWebxr,t.antialiasing=!!this.enableAntialiasing&&Object(o.get)(t,"antialiasing",!0);var r=this.gl=h.CreateContext(t,e);this.msg("debug","Webgl".concat(this.glVersion," context created"));var i=()=>!1,n=()=>!0;if(1===this.glVersion){this.GetExtension("OES_standard_derivatives"),this.GetExtension("OES_element_index_uint"),this.GetExtension("OES_texture_float"),this.GetExtension("EXT_shader_texture_lod");var a=this.GetExtension("ANGLE_instanced_arrays");r.drawElementsInstanced=a?a.drawElementsInstancedANGLE.bind(a):i,r.drawArraysInstanced=a?a.drawArraysInstancedANGLE.bind(a):i,r.vertexAttribDivisor=a?a.vertexAttribDivisorANGLE.bind(a):i,r.hasInstancedArrays=a?n:i}else r.hasInstancedArrays=n;var l=this.GetExtension("EXT_texture_filter_anisotropic");if(l&&(l.maxAnisotropy=r.getParameter(l.MAX_TEXTURE_MAX_ANISOTROPY_EXT)),this.GetExtension("CCP_shader_binary")){var u=r.getParameter(this.gl.RENDERER).match(/Mali-(\w+).*/);u&&(this.effectDir="/effect.gles2.mali"+u[1]+"/")}this.alphaBlendBackBuffer=t.alpha,this.msaaSamples=this.gl.getParameter(this.gl.SAMPLES),this.antialiasing=this.msaaSamples>1,this.Resize();this._quadBuffer=r.createBuffer(),r.bindBuffer(r.ARRAY_BUFFER,this._quadBuffer),r.bufferData(r.ARRAY_BUFFER,new Float32Array([1,1,0,1,1,1,-1,1,0,1,0,1,1,-1,0,1,1,0,-1,-1,0,1,0,0]),r.STATIC_DRAW),this._cameraQuadBuffer=r.createBuffer(),this._quadDecl=s.Tw2VertexDeclaration.from([{usage:"POSITION",usageIndex:0,elements:4},{usage:"TEXCOORD",usageIndex:0,elements:2}]),this.wrapModes=Array.from(c.WrapModes),this._alphaBlendState={dirty:!1,states:{[c.RS_SRCBLEND]:c.BLEND_SRCALPHA,[c.RS_DESTBLEND]:c.BLEND_INVSRCALPHA,[c.RS_BLENDOP]:c.BLENDOP_ADD,[c.RS_SEPARATEALPHABLENDENABLE]:0,[c.RS_BLENDOPALPHA]:c.BLENDOP_ADD,[c.RS_SRCBLENDALPHA]:c.BLEND_SRCALPHA,[c.RS_DESTBLENDALPHA]:c.BLEND_INVSRCALPHA}},this._alphaTestState={dirty:!1,states:{[c.RS_ALPHATESTENABLE]:0,[c.RS_ALPHAREF]:-1,[c.RS_ALPHAFUNC]:c.CMP_GREATER,[c.RS_CLIPPING]:0,[c.RS_CLIPPLANEENABLE]:0}},this._depthOffsetState={dirty:!1,states:{[c.RS_SLOPESCALEDEPTHBIAS]:0,[c.RS_DEPTHBIAS]:0}},this._shadowStateBuffer=new Float32Array(24)}Resize(){this.onResize?this.onResize(this.canvas):(this.canvas.width=this.canvas.offsetWidth*this.viewportPixelRatio,this.canvas.height=this.canvas.offsetHeight*this.viewportPixelRatio),this.viewportWidth=this.canvas.clientWidth,this.viewportHeight=this.canvas.clientHeight,this.viewportAspect=this.viewportWidth/this.viewportHeight,this.tw2.SetVariableValue("ViewportSize",[this.viewportWidth,this.viewportHeight,this.viewportWidth,this.viewportHeight]),this.emit("resized",{width:this.viewportWidth,height:this.viewportHeight,aspect:this.viewportAspect,canvas:this.canvas})}get now(){return this._Date.now()}StartFrame(){this.canvas.clientWidth===this.viewportWidth&&this.canvas.clientHeight===this.viewportHeight||this.Resize();var e=null===this.previousTime?0:this.previousTime,t=this.now;this.currentTime=.001*(t-this.startTime),this.dt=null===this.previousTime?0:.001*(t-this.previousTime),this.previousTime=t,this.tw2.SetVariableValue("Time",[this.currentTime,this.currentTime-Math.floor(this.currentTime),this.frameCounter,e]),this.frameCounter++}EndFrame(){}SetWorld(e){a.mat4.copy(this.world,e)}SetView(e){a.mat4.copy(this.view,e),a.mat4.invert(this.viewInverse,this.view),a.mat4.transpose(this.viewTranspose,this.view),a.mat4.getTranslation(this.eyePosition,this.viewInverse),this.UpdateViewProjection()}SetProjection(e,t){a.mat4.copy(this.projection,e),a.mat4.transpose(this.projectionTranspose,this.projection),a.mat4.invert(this.projectionInverse,this.projection),this.GetTargetResolution(this.targetResolution),t&&this.UpdateViewProjection()}UpdateViewProjection(){a.mat4.multiply(this.viewProjection,this.projection,this.view),a.mat4.transpose(this.viewProjectionTranspose,this.viewProjection),this.tw2.SetVariableValue("ViewProjectionMat",this.viewProjection)}GetTargetResolution(e=a.vec4.create()){var t=this.projection[0]?this.projection[5]/this.projection[0]:0,r=1;t>1.6&&(r=t/1.6);var i=2*Math.atan(r/this.projection[5]);return e[0]=this.viewportWidth,e[1]=this.viewportHeight,e[2]=i,e[3]=i*t,e}GetEyePosition(e=a.vec3.create()){return a.vec3.copy(e,this.eyePosition)}IsAlphaTestEnabled(){return this._alphaTestState.states[c.RS_ALPHATESTENABLE]}IsFrameBufferComplete(e){return this.gl.checkFramebufferStatus(e)===this.gl.FRAMEBUFFER_COMPLETE}GetExtension(e){if(!(e in this._extensions)){for(var t,r=0;r<c.VendorWebglPrefixes.length&&!(t=this.gl.getExtension(c.VendorWebglPrefixes[r]+e));r++)t=null;this._extensions[e]=t}return this._extensions[e]}GetFallbackTexture(){return this._fallbackTexture||(this._fallbackTexture=this.CreateSolidTexture()),this._fallbackTexture}GetFallbackCubeMap(){return this._fallbackCube||(this._fallbackCube=this.CreateSolidCube()),this._fallbackCube}CreateSolidTexture(e=[0,0,0,0]){var t=this.gl,r=this.gl.createTexture();return t.bindTexture(t.TEXTURE_2D,r),t.texImage2D(t.TEXTURE_2D,0,t.RGBA,1,1,0,t.RGBA,t.UNSIGNED_BYTE,new Uint8Array(e)),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,t.NEAREST),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t.NEAREST),t.bindTexture(t.TEXTURE_2D,null),r}CreateSolidCube(e=[0,0,0,0]){var t=this.gl,r=this.gl.createTexture();t.bindTexture(t.TEXTURE_CUBE_MAP,r);for(var i=0;i<6;++i)t.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+i,0,t.RGBA,1,1,0,t.RGBA,t.UNSIGNED_BYTE,new Uint8Array(e));return t.texParameteri(t.TEXTURE_CUBE_MAP,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_CUBE_MAP,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_CUBE_MAP,t.TEXTURE_MAG_FILTER,t.NEAREST),t.texParameteri(t.TEXTURE_CUBE_MAP,t.TEXTURE_MIN_FILTER,t.NEAREST),t.bindTexture(t.TEXTURE_CUBE_MAP,null),r}RenderFullScreenQuad(e,t="Main"){if(!e||!e.IsGood())return!1;var r=this.gl;r.bindBuffer(r.ARRAY_BUFFER,this._quadBuffer);for(var i=0;i<e.GetPassCount(t);++i){if(e.ApplyPass(t,i),!this._quadDecl.SetDeclaration(this,e.GetPassInput(t,i),24))return!1;this.ApplyShadowState(),r.drawArrays(r.TRIANGLE_STRIP,0,4)}return!0}RenderTexture(e){return null===this._blitEffect&&(this._blitEffect=l.Tw2Effect.from({effectFilePath:"res:/graphics/effect/managed/space/system/blit.fx",textures:{BlitSource:""}})),this._blitEffect.parameters.BlitSource.SetTextureRes(e),this.RenderFullScreenQuad(this._blitEffect)}RenderCameraSpaceQuad(e,t="Main"){if(!e||!e.IsGood())return!1;for(var r=new Float32Array([1,1,0,1,1,1,-1,1,0,1,0,1,1,-1,0,1,1,0,-1,-1,0,1,0,0]),i=this.projectionInverse,n=0;n<4;++n){var o=r.subarray(6*n,6*n+4);a.vec4.transformMat4(o,o,i),a.vec3.scale(o,o,1/o[3]),o[3]=1}var l=this.gl;l.bindBuffer(l.ARRAY_BUFFER,this._cameraQuadBuffer),l.bufferData(l.ARRAY_BUFFER,r,l.STATIC_DRAW);for(var s=0;s<e.GetPassCount(t);++s){if(e.ApplyPass(t,s),!this._quadDecl.SetDeclaration(this,e.GetPassInput(t,s),24))return!1;this.ApplyShadowState(),l.drawArrays(l.TRIANGLE_STRIP,0,4)}return!0}SetRenderState(e,t){var r=this.gl;switch(this._currentRenderMode=c.RM_ANY,e){case c.RS_ZENABLE:return void(t?r.enable(r.DEPTH_TEST):r.disable(r.DEPTH_TEST));case c.RS_ZWRITEENABLE:return void r.depthMask(!!t);case c.RS_ALPHATESTENABLE:case c.RS_ALPHAREF:case c.RS_ALPHAFUNC:case c.RS_CLIPPING:case c.RS_CLIPPLANEENABLE:return void(this._alphaTestState[e]!==t&&(this._alphaTestState.states[e]=t,this._alphaTestState.dirty=!0));case c.RS_SRCBLEND:case c.RS_DESTBLEND:case c.RS_BLENDOP:case c.RS_SEPARATEALPHABLENDENABLE:case c.RS_BLENDOPALPHA:case c.RS_SRCBLENDALPHA:case c.RS_DESTBLENDALPHA:return void(this._alphaBlendState[e]!==t&&(this._alphaBlendState.states[e]=t,this._alphaBlendState.dirty=!0));case c.RS_CULLMODE:switch(t){case c.CULL_NONE:return void r.disable(r.CULL_FACE);case c.CULL_CW:return r.enable(r.CULL_FACE),void r.cullFace(r.FRONT);case c.CULL_CCW:return r.enable(r.CULL_FACE),void r.cullFace(r.BACK)}return;case c.RS_ZFUNC:return void r.depthFunc(512+t-1);case c.RS_ALPHABLENDENABLE:return void(t?r.enable(r.BLEND):r.disable(r.BLEND));case c.RS_COLORWRITEENABLE:return void r.colorMask(0!=(1&t),0!=(2&t),0!=(4&t),0!=(8&t));case c.RS_SCISSORTESTENABLE:return void(t?r.enable(r.SCISSOR_TEST):r.disable(r.SCISSOR_TEST));case c.RS_SLOPESCALEDEPTHBIAS:case c.RS_DEPTHBIAS:return t=a.num.dwordToFloat(t),void(this._depthOffsetState[e]!==t&&(this._depthOffsetState.states[e]=t,this._depthOffsetState.dirty=!0))}}ApplyShadowState(){var e,t,r,i=this.gl;if(this._alphaBlendState.dirty){var n=i.FUNC_ADD;this._alphaBlendState.states[c.RS_BLENDOP]===c.BLENDOP_SUBTRACT?n=i.FUNC_SUBTRACT:this._alphaBlendState.states[c.RS_BLENDOP]===c.BLENDOP_REVSUBTRACT&&(n=i.FUNC_REVERSE_SUBTRACT);var a=c.BlendTable[this._alphaBlendState.states[c.RS_SRCBLEND]],o=c.BlendTable[this._alphaBlendState.states[c.RS_DESTBLEND]];if(this._alphaBlendState.states[c.RS_SEPARATEALPHABLENDENABLE]){var l=i.FUNC_ADD;this._alphaBlendState.states[c.RS_BLENDOP]===c.BLENDOP_SUBTRACT?l=i.FUNC_SUBTRACT:this._alphaBlendState.states[c.RS_BLENDOP]===c.BLENDOP_REVSUBTRACT&&(l=i.FUNC_REVERSE_SUBTRACT);var s=c.BlendTable[this._alphaBlendState.states[c.RS_SRCBLENDALPHA]],u=c.BlendTable[this._alphaBlendState.states[c.RS_DESTBLENDALPHA]];i.blendEquationSeparate(n,l),i.blendFuncSeparate(a,o,s,u)}else i.blendEquation(n),i.blendFunc(a,o);this._alphaBlendState.dirty=!1}if(this._depthOffsetState.dirty&&(i.polygonOffset(this._depthOffsetState.states[c.RS_SLOPESCALEDEPTHBIAS],this._depthOffsetState.states[c.RS_DEPTHBIAS]),this._depthOffsetState.dirty=!1),this.shadowHandles&&this._alphaTestState.states[c.RS_ALPHATESTENABLE]){switch(this._alphaTestState.states[c.RS_ALPHAFUNC]){case c.CMP_NEVER:e=0,t=1,r=-256;break;case c.CMP_LESS:e=0,t=-1,r=this._alphaTestState.states[c.RS_ALPHAREF]-1;break;case c.CMP_EQUAL:e=1,t=0,r=this._alphaTestState.states[c.RS_ALPHAREF];break;case c.CMP_LEQUAL:e=0,t=-1,r=this._alphaTestState.states[c.RS_ALPHAREF];break;case c.CMP_GREATER:e=0,t=1,r=-this._alphaTestState.states[c.RS_ALPHAREF]-1;break;case c.CMP_GREATEREQUAL:e=0,t=1,r=-this._alphaTestState.states[c.RS_ALPHAREF];break;default:e=0,t=0,r=1}i.uniform4f(this.shadowHandles.shadowStateInt,t,r,e,0)}}SetStandardStates(e){if(this._currentRenderMode!==e){switch(this.gl.frontFace(this.gl.CW),e){case c.RM_OPAQUE:case c.RM_PICKABLE:this.SetRenderState(c.RS_ZENABLE,!0),this.SetRenderState(c.RS_ZWRITEENABLE,!0),this.SetRenderState(c.RS_ZFUNC,c.CMP_LEQUAL),this.SetRenderState(c.RS_CULLMODE,c.CULL_CW),this.SetRenderState(c.RS_ALPHABLENDENABLE,!1),this.SetRenderState(c.RS_ALPHATESTENABLE,!1),this.SetRenderState(c.RS_SEPARATEALPHABLENDENABLE,!1),this.SetRenderState(c.RS_SLOPESCALEDEPTHBIAS,0),this.SetRenderState(c.RS_DEPTHBIAS,0),this.SetRenderState(c.RS_COLORWRITEENABLE,15);break;case c.RM_DECAL:this.SetRenderState(c.RS_ALPHABLENDENABLE,!1),this.SetRenderState(c.RS_ALPHATESTENABLE,!0),this.SetRenderState(c.RS_ALPHAFUNC,c.CMP_GREATER),this.SetRenderState(c.RS_ALPHAREF,127),this.SetRenderState(c.RS_ZENABLE,!0),this.SetRenderState(c.RS_ZWRITEENABLE,!0),this.SetRenderState(c.RS_ZFUNC,c.CMP_LEQUAL),this.SetRenderState(c.RS_CULLMODE,c.CULL_CW),this.SetRenderState(c.RS_BLENDOP,c.BLENDOP_ADD),this.SetRenderState(c.RS_SLOPESCALEDEPTHBIAS,0),this.SetRenderState(c.RS_DEPTHBIAS,0),this.SetRenderState(c.RS_SEPARATEALPHABLENDENABLE,!1),this.SetRenderState(c.RS_COLORWRITEENABLE,15);break;case c.RM_TRANSPARENT:this.SetRenderState(c.RS_CULLMODE,c.CULL_CW),this.SetRenderState(c.RS_ALPHABLENDENABLE,!0),this.SetRenderState(c.RS_SRCBLEND,c.BLEND_SRCALPHA),this.SetRenderState(c.RS_DESTBLEND,c.BLEND_INVSRCALPHA),this.SetRenderState(c.RS_BLENDOP,c.BLENDOP_ADD),this.SetRenderState(c.RS_ZENABLE,!0),this.SetRenderState(c.RS_ZWRITEENABLE,!1),this.SetRenderState(c.RS_ZFUNC,c.CMP_LEQUAL),this.SetRenderState(c.RS_ALPHATESTENABLE,!1),this.SetRenderState(c.RS_SLOPESCALEDEPTHBIAS,0),this.SetRenderState(c.RS_DEPTHBIAS,0),this.SetRenderState(c.RS_SEPARATEALPHABLENDENABLE,!1),this.SetRenderState(c.RS_COLORWRITEENABLE,15);break;case c.RM_ADDITIVE:this.SetRenderState(c.RS_CULLMODE,c.CULL_NONE),this.SetRenderState(c.RS_ALPHABLENDENABLE,!0),this.SetRenderState(c.RS_SRCBLEND,c.BLEND_ONE),this.SetRenderState(c.RS_DESTBLEND,c.BLEND_ONE),this.SetRenderState(c.RS_BLENDOP,c.BLENDOP_ADD),this.SetRenderState(c.RS_ZENABLE,!0),this.SetRenderState(c.RS_ZWRITEENABLE,!1),this.SetRenderState(c.RS_ZFUNC,c.CMP_LEQUAL),this.SetRenderState(c.RS_ALPHATESTENABLE,!1),this.SetRenderState(c.RS_SLOPESCALEDEPTHBIAS,0),this.SetRenderState(c.RS_DEPTHBIAS,0),this.SetRenderState(c.RS_SEPARATEALPHABLENDENABLE,!1),this.SetRenderState(c.RS_COLORWRITEENABLE,15);break;case c.RM_FULLSCREEN:this.SetRenderState(c.RS_ALPHABLENDENABLE,!1),this.SetRenderState(c.RS_ALPHATESTENABLE,!1),this.SetRenderState(c.RS_CULLMODE,c.CULL_NONE),this.SetRenderState(c.RS_ZENABLE,!1),this.SetRenderState(c.RS_ZWRITEENABLE,!1),this.SetRenderState(c.RS_ZFUNC,c.CMP_ALWAYS),this.SetRenderState(c.RS_SLOPESCALEDEPTHBIAS,0),this.SetRenderState(c.RS_DEPTHBIAS,0),this.SetRenderState(c.RS_SEPARATEALPHABLENDENABLE,!1),this.SetRenderState(c.RS_COLORWRITEENABLE,15);break;case c.RM_DISTORTION:case c.RM_DEPTH:default:return}this._currentRenderMode=e}}RequestAnimationFrame(e){return this.xr?this.xr.RequestAnimationFrame(e):this.constructor.RequestAnimationFrame(e)}CancelAnimationFrame(e){return this.xr?this.xr.CancelAnimationFrame(e):this.constructor.CancelAnimationFrame(e)}static CreateContext(e={},t){Object(o.isString)(t)&&(t=document.getElementById(t)),t||(t=document.createElement("canvas"));var r=e.webgl2?["webgl2"]:["webgl","experimental-webgl"],i=null;for(var n of r)if(i=t.getContext(n,e))break;if(!i)throw new f.ErrWebglContext({version:e.webgl2?2:1});return i}static FindXRDevice(e){return(t=function*(){if(!navigator.xr)throw new f.ErrWebxrNotSupported;var t;try{t=yield navigator.xr.requestDevice()}catch(e){if("NotFoundError"===e.name||"NotFoundError"===e.message)throw new f.ErrWebxrDeviceNotFound({err:e.message});throw new f.ErrWebxrRequestFailed({err:e.message})}if(e)try{yield t.supportsSession(e)}catch(e){throw new f.ErrWebxrSessionNotSupported({err:e.message})}return t},function(){var e=this,r=arguments;return new Promise((function(i,n){var a=t.apply(e,r);function o(e){d(a,i,n,o,l,"next",e)}function l(e){d(a,i,n,o,l,"throw",e)}o(void 0)}))})();var t}}h.RequestAnimationFrame=(i=Object(o.get)(window,c.VendorRequestAnimationFrame),e=>i(e)),h.CancelAnimationFrame=(n=Object(o.get)(window,c.VendorCancelAnimationFrame),e=>n(e)),h.__category="Device",h.prototype.RM_ANY=c.RM_ANY,h.prototype.RM_OPAQUE=c.RM_OPAQUE,h.prototype.RM_DECAL=c.RM_DECAL,h.prototype.RM_TRANSPARENT=c.RM_TRANSPARENT,h.prototype.RM_ADDITIVE=c.RM_ADDITIVE,h.prototype.RM_DEPTH=c.RM_DEPTH,h.prototype.RM_DISTORTION=c.RM_DISTORTION,h.prototype.RM_FULLSCREEN=c.RM_FULLSCREEN,h.prototype.RM_PICKABLE=c.RM_PICKABLE},"./global/engine/Tw2Logger.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tw2Logger",(function(){return a}));var i=r("./global/class/Tw2EventEmitter.js"),n=r("./global/util/index.js");class a extends i.Tw2EventEmitter{constructor(e){super(),this.name="",this.display=!0,this.visible={log:!1,info:!1,debug:!1,warn:!1,error:!0},this.history=100,this.throttle=20,this._logs=[],this._throttled=null,this._debugMode=!1,e.SetLibrary(this)}Debug(e){this._debugMode=e}Register(e){e&&(Object(n.assignIfExists)(this,e,["name","display","history","throttle"]),Object(n.assignIfExists)(this.visible,e.visible,["log","info","debug","warn","error"]))}Log(e="log",t,r){if(t?Object(n.isString)(t)?t={message:t}:Object(n.isError)(t)&&(t={message:t.message,err:t}):t={message:""},t._logged)return t;if(t.type=e.toLowerCase(),t.name=t.name||r||a.constructor.category,t.message=t.message?t.message.charAt(0).toUpperCase()+t.message.substring(1):"",a.LogType[t.type.toUpperCase()]||(t.type="log"),this.display&&this.visible[t.type]||(t.hide=!0),!this.throttle||this._debugMode)this._throttled=null;else if(!t.hide){this._throttled||(this._throttled={}),this._throttled[t.type]||(this._throttled[t.type]=[]);var i=this._throttled[t.type];i.includes(t.message)?t.hide=!0:(i.unshift(t.message),i.splice(this.throttle))}if(!t.hide||this._debugMode){var o="";t.path&&!t.message.includes(t.path)&&(o+="'".concat(t.path,"' ")),t.time&&(o+="in ".concat(t.time.toFixed(3)," secs ")),t.detail&&(o+="(".concat(t.detail,") "));var l="".concat(this.name," ").concat(t.name,":");t.err||t.data?(console.group(l,t.message,o),t.err&&console.error(t.err.stack||t.err.toString()),t.data&&console.debug(JSON.stringify(t.data,null,4)),console.groupEnd()):console[t.type](l,t.message,o)}var s=this._debugMode?1e3:this.history;return s?(this._logs.unshift(t),this._logs.splice(s)):this._logs=[],t._logged=!0,this.emit(t.type,t),t}}a.LogType={ERROR:"error",WARNING:"warn",WARN:"warn",INFO:"info",LOG:"log",DEBUG:"debug"},a.__category="Logger"},"./global/engine/Tw2MotherLode.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tw2MotherLode",(function(){return i}));class i{constructor(){this._loadedObjects={},this._errors={}}AddError(e,t){return this._errors[e]=this._errors[e]||[],t.message.includes(e)||(t.message="".concat(t.message,' "').concat(e,'"')),this._errors[e].includes(t)||(t.path=e,this._errors[e].unshift(t)),t}GetErrors(e){return e&&e in this._errors?Array.from(this._errors[e]):[]}GetLastError(e){return e&&e in this._errors?this._errors[e][0]:void 0}HasErrors(e){return e&&e in this._errors}Find(e){return e in this._loadedObjects?this._loadedObjects[e]:null}Add(e,t){this._loadedObjects[e]=t}Has(e){return!!this._loadedObjects[e]}Remove(e){this._loadedObjects[e]&&Reflect.deleteProperty(this._loadedObjects,e)}Clear(e){for(var t in this._loadedObjects)this._loadedObjects.hasOwnProperty(t)&&(e&&e(this._loadedObjects[t]),this.Remove(t))}UnloadAndClear(e,t){this.Clear(r=>{r.Unload(t),e&&e(r)})}PurgeInactive(e,t,r){for(var i in this._loadedObjects)if(this._loadedObjects.hasOwnProperty(i)){var n=this._loadedObjects[i];if(n.doNotPurge)continue;if(n.IsPurged()){this.Remove(i);continue}var a=void 0;n.HasErrors()?a="errored":n.IsUnloaded()?a="unloaded":(n.IsLoaded()||n.IsPrepared())&&(e-n.activeFrame)%t>=r&&n.Unload({hide:!0,detail:"inactivity"})&&(a="inactivity"),a&&(n.OnPurged({detail:a}),this.Remove(i))}}}},"./global/engine/Tw2ResMan.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tw2ResMan",(function(){return c}));var i=r("./global/engine/Tw2MotherLode.js"),n=r("./core/resource/Tw2LoadingObject.js"),a=r("./global/class/Tw2EventEmitter.js"),o=r("./core/index.js"),l=r("./global/util/index.js");function s(e,t,r,i,n,a,o){try{var l=e[a](o),s=l.value}catch(e){return void r(e)}l.done?t(s):Promise.resolve(s).then(i,n)}function u(e){return function(){var t=this,r=arguments;return new Promise((function(i,n){var a=e.apply(t,r);function o(e){s(a,i,n,o,l,"next",e)}function l(e){s(a,i,n,o,l,"throw",e)}o(void 0)}))}}class c extends a.Tw2EventEmitter{get pendingLoads(){return this._pendingLoads.length}constructor(e){super(),this.motherLode=new i.Tw2MotherLode,this.systemMirror=!1,this.maxPrepareTime=.05,this.autoPurgeResources=!0,this.activeFrame=0,this.purgeTime=30,this._prepareBudget=0,this._prepareQueue=[],this._purgeTime=0,this._purgeFrame=0,this._purgeFrameLimit=1e3,this._pendingLoads=[],this._noLoadFrames=0,this.tw2=null,e.SetLibrary(this)}Register(e){e&&Object(l.assignIfExists)(this,e,["systemMirror","maxPrepareTime","autoPurgeResources","purgeTime"])}OnPathError(e,t=new o.Tw2Error({path:e})){e=c.NormalizePath(e);var r=this.motherLode.Find(e);return r?r.OnError(t):(this.OnPathEvent(e,"error",t),t)}OnPathEvent(e,t,r={}){var i=this.motherLode.Find(e),n=Object(l.isError)(r)?r:void 0;n&&(this.motherLode.AddError(e,n),r={err:n,message:n.message}),r.path=e,r.message=r.message||t,this.emit(t,e,i,n).msg(c.LogType[t.toUpperCase()],r)}IsLoading(){return this._noLoadFrames<2}Clear(e){this.motherLode.Clear(e)}UnloadAndClear(e,t){this.motherLode.UnloadAndClear(e,t)}Tick(e){0===this._prepareQueue.length&&0===this._pendingLoads.length?this._noLoadFrames<2&&this._noLoadFrames++:this._noLoadFrames=0,this._prepareBudget=this.maxPrepareTime;for(var t=e.now;this._prepareQueue.length;){var r=this._prepareQueue[0][0],i=this._prepareQueue[0][1],n=this._prepareQueue[0][2];this._prepareQueue.shift();try{if(r.Prepare(i,n),this._prepareBudget-=.001*(e.now-t),this._prepareBudget<0)break}catch(e){this._prepareBudget=0,r.OnError(e)}}return this._purgeTime+=e.dt,this._purgeTime>1&&(this.activeFrame+=1,this._purgeTime-=Math.floor(this._purgeTime),this._purgeFrame+=1,this._purgeFrame>=5&&this.autoPurgeResources&&this.motherLode.PurgeInactive(this._purgeFrame,this._purgeFrameLimit,this.purgeTime)),!0}Queue(e,t,r){this._prepareQueue.push([e,t,r])}GetResource(e,t,r){var i;if(e=c.NormalizePath(e),i=this.motherLode.Find(e))return i.RegisterCallbacks(t,r),i;try{i=new(this.GetResourceConstructor(e))}catch(t){return this.OnPathError(e,t),r&&r(t),null}return i.path=e,i.RegisterCallbacks(t,r),this.LoadResource(i)}FetchResource(e){var t=this;return u((function*(){return new Promise((r,i)=>{t.GetResource(e,r,i)})}))()}GetObject(e,t,r){e=c.NormalizePath(e);var i=this.motherLode.Find(e);i?i.AddObject(t,r):((i=new n.Tw2LoadingObject).path=e,i.AddObject(t,r),this.LoadResource(i))}FetchObject(e){var t=this;return u((function*(){return new Promise((r,i)=>{t.GetObject(e,r,i)})}))()}LoadResource(e,t){if(this.motherLode.Add(e.path,e),e.HasErrors())return e;try{var r=this.BuildUrl(e.path);if(e.OnRequested(t),e.DoCustomLoad&&e.DoCustomLoad(r,Object(l.getPathExtension)(r)))return e;e.HasErrors()||this.Fetch(r,e.requestResponseType).then(t=>{e.OnLoaded(),this.Queue(e,t)}).catch(t=>{e.OnError(t)})}catch(t){e.OnError(t)}return e}AddPendingLoad(e){this._pendingLoads.push(e)}RemovePendingLoad(e){var t=this._pendingLoads.indexOf(e);-1!==t&&this._pendingLoads.splice(t,1)}Fetch(e,t){var r=this;return u((function*(){return r.AddPendingLoad(e),fetch(e).then(e=>{if(!e.ok)throw e;if(Object(l.isFunction)(t))return t(e);switch(t){case"arraybuffer":return e.arrayBuffer();case"text":return e.text();case"json":return e.json();case"blob":return e.blob();default:throw new Error("Invalid fetch type: "+t)}}).then(t=>(r.RemovePendingLoad(e),t)).catch(t=>{if(r.RemovePendingLoad(e),t.text)return t.text().then(e=>{var r,{status:i,statusText:n}=t;try{n=(r=JSON.parse(e)).message||r.msg||r.error||r.err,Object(l.isBoolean)(n)&&(n=void 0)}catch(e){n="Failed to fetch resource"}throw new o.ErrHTTPStatus({status:i,statusText:n,json:r})});throw t})}))()}GetResourceConstructor(e){if(0===(e=c.NormalizePath(e)).indexOf("dynamic:/"))throw new o.ErrFeatureNotImplemented({feature:"Dynamic resources"});var t=Object(l.getPathExtension)(e);if(null===t)throw new o.ErrResourceExtensionUndefined({path:e});var r=this.tw2.GetExtension(t);if(!r)throw new o.ErrResourceExtensionUnregistered({path:e,extension:t});return r}BuildUrl(e){var t=e.indexOf(":/");if(-1===t)throw new o.ErrResourcePrefixUndefined({path:e});var r=e.substr(0,t);if("http"===r||"https"===r)return e;var i=this.tw2.GetPath(r);if(!i)throw new o.ErrResourcePrefixUnregistered({path:e,prefix:r});return i+e.substr(t+2)}static NormalizePath(e){return e=(e=e.toLowerCase()).replace("\\","/")}}c.LogType={ERROR:"error",PURGED:"info",UNLOADED:"info",REQUESTED:"info",RELOADING:"info",LOADED:"info",PREPARED:"log",WARNING:"warn",DEBUG:"debug"},c.__category="Resource Manager"},"./global/engine/index.js":function(e,t,r){"use strict";r.r(t);var i=r("./global/engine/Tw2Device.js");r.d(t,"Tw2Device",(function(){return i.Tw2Device}));var n=r("./global/engine/Tw2ResMan.js");r.d(t,"Tw2ResMan",(function(){return n.Tw2ResMan}));var a=r("./global/engine/Tw2Logger.js");r.d(t,"Tw2Logger",(function(){return a.Tw2Logger}));var o=r("./global/engine/Tw2Constant.js");r.d(t,"Type",(function(){return o.Type})),r.d(t,"TypeCategory",(function(){return o.TypeCategory})),r.d(t,"TypeTypeCategory",(function(){return o.TypeTypeCategory})),r.d(t,"TypeLength",(function(){return o.TypeLength})),r.d(t,"GL_COLOR_BUFFER_BIT",(function(){return o.GL_COLOR_BUFFER_BIT})),r.d(t,"GL_DEPTH_BUFFER_BIT",(function(){return o.GL_DEPTH_BUFFER_BIT})),r.d(t,"GL_STENCIL_BUFFER_BIT",(function(){return o.GL_STENCIL_BUFFER_BIT})),r.d(t,"GL_TEXTURE_2D",(function(){return o.GL_TEXTURE_2D})),r.d(t,"GL_TEXTURE_CUBE_MAP",(function(){return o.GL_TEXTURE_CUBE_MAP})),r.d(t,"GL_TEXTURE_3D",(function(){return o.GL_TEXTURE_3D})),r.d(t,"GL_TEXTURE_MAG_FILTER",(function(){return o.GL_TEXTURE_MAG_FILTER})),r.d(t,"GL_TEXTURE_MIN_FILTER",(function(){return o.GL_TEXTURE_MIN_FILTER})),r.d(t,"GL_TEXTURE_WRAP_S",(function(){return o.GL_TEXTURE_WRAP_S})),r.d(t,"GL_TEXTURE_WRAP_T",(function(){return o.GL_TEXTURE_WRAP_T})),r.d(t,"GL_BYTE",(function(){return o.GL_BYTE})),r.d(t,"GL_UNSIGNED_BYTE",(function(){return o.GL_UNSIGNED_BYTE})),r.d(t,"GL_SHORT",(function(){return o.GL_SHORT})),r.d(t,"GL_UNSIGNED_SHORT",(function(){return o.GL_UNSIGNED_SHORT})),r.d(t,"GL_INT",(function(){return o.GL_INT})),r.d(t,"GL_UNSIGNED_INT",(function(){return o.GL_UNSIGNED_INT})),r.d(t,"GL_FLOAT",(function(){return o.GL_FLOAT})),r.d(t,"GL_HALF_FLOAT_OES",(function(){return o.GL_HALF_FLOAT_OES})),r.d(t,"GL_HALF_FLOAT",(function(){return o.GL_HALF_FLOAT})),r.d(t,"GL_DEPTH_COMPONENT16",(function(){return o.GL_DEPTH_COMPONENT16})),r.d(t,"GL_DEPTH_COMPONENT24",(function(){return o.GL_DEPTH_COMPONENT24})),r.d(t,"GL_DEPTH_COMPONENT32F",(function(){return o.GL_DEPTH_COMPONENT32F})),r.d(t,"GL_FLOAT_VEC2",(function(){return o.GL_FLOAT_VEC2})),r.d(t,"GL_FLOAT_VEC3",(function(){return o.GL_FLOAT_VEC3})),r.d(t,"GL_FLOAT_VEC4",(function(){return o.GL_FLOAT_VEC4})),r.d(t,"GL_INT_VEC2",(function(){return o.GL_INT_VEC2})),r.d(t,"GL_INT_VEC3",(function(){return o.GL_INT_VEC3})),r.d(t,"GL_INT_VEC4",(function(){return o.GL_INT_VEC4})),r.d(t,"GL_BOOL",(function(){return o.GL_BOOL})),r.d(t,"GL_BOOL_VEC2",(function(){return o.GL_BOOL_VEC2})),r.d(t,"GL_BOOL_VEC3",(function(){return o.GL_BOOL_VEC3})),r.d(t,"GL_BOOL_VEC4",(function(){return o.GL_BOOL_VEC4})),r.d(t,"GL_FLOAT_MAT2",(function(){return o.GL_FLOAT_MAT2})),r.d(t,"GL_FLOAT_MAT3",(function(){return o.GL_FLOAT_MAT3})),r.d(t,"GL_FLOAT_MAT4",(function(){return o.GL_FLOAT_MAT4})),r.d(t,"GL_TYPE_LENGTH",(function(){return o.GL_TYPE_LENGTH})),r.d(t,"GL_SAMPLER_2D",(function(){return o.GL_SAMPLER_2D})),r.d(t,"GL_SAMPLER_3D",(function(){return o.GL_SAMPLER_3D})),r.d(t,"GL_SAMPLER_CUBE",(function(){return o.GL_SAMPLER_CUBE})),r.d(t,"GL_DEPTH_COMPONENT",(function(){return o.GL_DEPTH_COMPONENT})),r.d(t,"GL_ALPHA",(function(){return o.GL_ALPHA})),r.d(t,"GL_RGB",(function(){return o.GL_RGB})),r.d(t,"GL_RGBA",(function(){return o.GL_RGBA})),r.d(t,"GL_LUMINANCE",(function(){return o.GL_LUMINANCE})),r.d(t,"GL_LUMINANCE_ALPHA",(function(){return o.GL_LUMINANCE_ALPHA})),r.d(t,"GL_DEPTH_STENCIL",(function(){return o.GL_DEPTH_STENCIL})),r.d(t,"GL_UNSIGNED_INT_24_8_WEBGL",(function(){return o.GL_UNSIGNED_INT_24_8_WEBGL})),r.d(t,"GL_R8",(function(){return o.GL_R8})),r.d(t,"GL_R16F",(function(){return o.GL_R16F})),r.d(t,"GL_R32F",(function(){return o.GL_R32F})),r.d(t,"GL_R8UI",(function(){return o.GL_R8UI})),r.d(t,"GL_RG8",(function(){return o.GL_RG8})),r.d(t,"GL_RG16F",(function(){return o.GL_RG16F})),r.d(t,"GL_RG32F",(function(){return o.GL_RG32F})),r.d(t,"GL_RGB8",(function(){return o.GL_RGB8})),r.d(t,"GL_SRGB8",(function(){return o.GL_SRGB8})),r.d(t,"GL_RGB565",(function(){return o.GL_RGB565})),r.d(t,"GL_R11F_G11F_B10F",(function(){return o.GL_R11F_G11F_B10F})),r.d(t,"GL_RGB9_E5",(function(){return o.GL_RGB9_E5})),r.d(t,"GL_RGB16F",(function(){return o.GL_RGB16F})),r.d(t,"GL_RGB32F",(function(){return o.GL_RGB32F})),r.d(t,"GL_RGB8UI",(function(){return o.GL_RGB8UI})),r.d(t,"GL_RGBA8",(function(){return o.GL_RGBA8})),r.d(t,"GL_RGB5_A1",(function(){return o.GL_RGB5_A1})),r.d(t,"GL_RGBA16F",(function(){return o.GL_RGBA16F})),r.d(t,"GL_RGBA32F",(function(){return o.GL_RGBA32F})),r.d(t,"GL_RGBA8UI",(function(){return o.GL_RGBA8UI})),r.d(t,"GL_RGBA16I",(function(){return o.GL_RGBA16I})),r.d(t,"GL_RGBA16UI",(function(){return o.GL_RGBA16UI})),r.d(t,"GL_RGBA32I",(function(){return o.GL_RGBA32I})),r.d(t,"GL_RGBA32UI",(function(){return o.GL_RGBA32UI})),r.d(t,"GL_NEAREST",(function(){return o.GL_NEAREST})),r.d(t,"GL_LINEAR",(function(){return o.GL_LINEAR})),r.d(t,"GL_NEAREST_MIPMAP_NEAREST",(function(){return o.GL_NEAREST_MIPMAP_NEAREST})),r.d(t,"GL_LINEAR_MIPMAP_NEAREST",(function(){return o.GL_LINEAR_MIPMAP_NEAREST})),r.d(t,"GL_NEAREST_MIPMAP_LINEAR",(function(){return o.GL_NEAREST_MIPMAP_LINEAR})),r.d(t,"GL_LINEAR_MIPMAP_LINEAR",(function(){return o.GL_LINEAR_MIPMAP_LINEAR})),r.d(t,"GL_REPEAT",(function(){return o.GL_REPEAT})),r.d(t,"GL_CLAMP_TO_EDGE",(function(){return o.GL_CLAMP_TO_EDGE})),r.d(t,"GL_MIRRORED_REPEAT",(function(){return o.GL_MIRRORED_REPEAT})),r.d(t,"GL_ZERO",(function(){return o.GL_ZERO})),r.d(t,"GL_ONE",(function(){return o.GL_ONE})),r.d(t,"GL_SRC_COLOR",(function(){return o.GL_SRC_COLOR})),r.d(t,"GL_ONE_MINUS_SRC_COLOR",(function(){return o.GL_ONE_MINUS_SRC_COLOR})),r.d(t,"GL_SRC_ALPHA",(function(){return o.GL_SRC_ALPHA})),r.d(t,"GL_ONE_MINUS_SRC_ALPHA",(function(){return o.GL_ONE_MINUS_SRC_ALPHA})),r.d(t,"GL_DST_ALPHA",(function(){return o.GL_DST_ALPHA})),r.d(t,"GL_ONE_MINUS_DST_ALPHA",(function(){return o.GL_ONE_MINUS_DST_ALPHA})),r.d(t,"GL_DST_COLOR",(function(){return o.GL_DST_COLOR})),r.d(t,"GL_ONE_MINUS_DST_COLOR",(function(){return o.GL_ONE_MINUS_DST_COLOR})),r.d(t,"GL_SRC_ALPHA_SATURATE",(function(){return o.GL_SRC_ALPHA_SATURATE})),r.d(t,"GL_CONSTANT_COLOR",(function(){return o.GL_CONSTANT_COLOR})),r.d(t,"GL_ONE_MINUS_CONSTANT_COLOR",(function(){return o.GL_ONE_MINUS_CONSTANT_COLOR})),r.d(t,"GL_CONSTANT_ALPHA",(function(){return o.GL_CONSTANT_ALPHA})),r.d(t,"GL_ONE_MINUS_CONSTANT_ALPHA",(function(){return o.GL_ONE_MINUS_CONSTANT_ALPHA})),r.d(t,"GL_VERTEX_SHADER",(function(){return o.GL_VERTEX_SHADER})),r.d(t,"GL_FRAGMENT_SHADER",(function(){return o.GL_FRAGMENT_SHADER})),r.d(t,"GL_FRONT",(function(){return o.GL_FRONT})),r.d(t,"GL_BACK",(function(){return o.GL_BACK})),r.d(t,"GL_FRONT_AND_BACK",(function(){return o.GL_FRONT_AND_BACK})),r.d(t,"GL_NEVER",(function(){return o.GL_NEVER})),r.d(t,"GL_LESS",(function(){return o.GL_LESS})),r.d(t,"GL_EQUAL",(function(){return o.GL_EQUAL})),r.d(t,"GL_LEQUAL",(function(){return o.GL_LEQUAL})),r.d(t,"GL_GREATER",(function(){return o.GL_GREATER})),r.d(t,"GL_NOTEQUAL",(function(){return o.GL_NOTEQUAL})),r.d(t,"GL_GEQUAL",(function(){return o.GL_GEQUAL})),r.d(t,"GL_ALWAYS",(function(){return o.GL_ALWAYS})),r.d(t,"GL_KEEP",(function(){return o.GL_KEEP})),r.d(t,"GL_REPLACE",(function(){return o.GL_REPLACE})),r.d(t,"GL_INCR",(function(){return o.GL_INCR})),r.d(t,"GL_DECR",(function(){return o.GL_DECR})),r.d(t,"GL_INCR_WRAP",(function(){return o.GL_INCR_WRAP})),r.d(t,"GL_DECR_WRAP",(function(){return o.GL_DECR_WRAP})),r.d(t,"GL_INVERT",(function(){return o.GL_INVERT})),r.d(t,"GL_STREAM_DRAW",(function(){return o.GL_STREAM_DRAW})),r.d(t,"GL_STATIC_DRAW",(function(){return o.GL_STATIC_DRAW})),r.d(t,"GL_DYNAMIC_DRAW",(function(){return o.GL_DYNAMIC_DRAW})),r.d(t,"GL_ARRAY_BUFFER",(function(){return o.GL_ARRAY_BUFFER})),r.d(t,"GL_ELEMENT_ARRAY_BUFFER",(function(){return o.GL_ELEMENT_ARRAY_BUFFER})),r.d(t,"GL_POINTS",(function(){return o.GL_POINTS})),r.d(t,"GL_LINES",(function(){return o.GL_LINES})),r.d(t,"GL_LINE_LOOP",(function(){return o.GL_LINE_LOOP})),r.d(t,"GL_LINE_STRIP",(function(){return o.GL_LINE_STRIP})),r.d(t,"GL_TRIANGLES",(function(){return o.GL_TRIANGLES})),r.d(t,"GL_TRIANGLE_STRIP",(function(){return o.GL_TRIANGLE_STRIP})),r.d(t,"GL_TRIANGLE_FAN",(function(){return o.GL_TRIANGLE_FAN})),r.d(t,"GL_CW",(function(){return o.GL_CW})),r.d(t,"GL_CCW",(function(){return o.GL_CCW})),r.d(t,"GL_CULL_FACE",(function(){return o.GL_CULL_FACE})),r.d(t,"GL_DEPTH_TEST",(function(){return o.GL_DEPTH_TEST})),r.d(t,"GL_BLEND",(function(){return o.GL_BLEND})),r.d(t,"RM_ANY",(function(){return o.RM_ANY})),r.d(t,"RM_OPAQUE",(function(){return o.RM_OPAQUE})),r.d(t,"RM_DECAL",(function(){return o.RM_DECAL})),r.d(t,"RM_TRANSPARENT",(function(){return o.RM_TRANSPARENT})),r.d(t,"RM_ADDITIVE",(function(){return o.RM_ADDITIVE})),r.d(t,"RM_DEPTH",(function(){return o.RM_DEPTH})),r.d(t,"RM_FULLSCREEN",(function(){return o.RM_FULLSCREEN})),r.d(t,"RM_PICKABLE",(function(){return o.RM_PICKABLE})),r.d(t,"RM_DISTORTION",(function(){return o.RM_DISTORTION})),r.d(t,"RS_ZENABLE",(function(){return o.RS_ZENABLE})),r.d(t,"RS_FILLMODE",(function(){return o.RS_FILLMODE})),r.d(t,"RS_SHADEMODE",(function(){return o.RS_SHADEMODE})),r.d(t,"RS_ZWRITEENABLE",(function(){return o.RS_ZWRITEENABLE})),r.d(t,"RS_ALPHATESTENABLE",(function(){return o.RS_ALPHATESTENABLE})),r.d(t,"RS_LASTPIXEL",(function(){return o.RS_LASTPIXEL})),r.d(t,"RS_SRCBLEND",(function(){return o.RS_SRCBLEND})),r.d(t,"RS_DESTBLEND",(function(){return o.RS_DESTBLEND})),r.d(t,"RS_CULLMODE",(function(){return o.RS_CULLMODE})),r.d(t,"RS_ZFUNC",(function(){return o.RS_ZFUNC})),r.d(t,"RS_ALPHAREF",(function(){return o.RS_ALPHAREF})),r.d(t,"RS_ALPHAFUNC",(function(){return o.RS_ALPHAFUNC})),r.d(t,"RS_DITHERENABLE",(function(){return o.RS_DITHERENABLE})),r.d(t,"RS_ALPHABLENDENABLE",(function(){return o.RS_ALPHABLENDENABLE})),r.d(t,"RS_FOGENABLE",(function(){return o.RS_FOGENABLE})),r.d(t,"RS_SPECULARENABLE",(function(){return o.RS_SPECULARENABLE})),r.d(t,"RS_FOGCOLOR",(function(){return o.RS_FOGCOLOR})),r.d(t,"RS_FOGTABLEMODE",(function(){return o.RS_FOGTABLEMODE})),r.d(t,"RS_FOGSTART",(function(){return o.RS_FOGSTART})),r.d(t,"RS_FOGEND",(function(){return o.RS_FOGEND})),r.d(t,"RS_FOGDENSITY",(function(){return o.RS_FOGDENSITY})),r.d(t,"RS_RANGEFOGENABLE",(function(){return o.RS_RANGEFOGENABLE})),r.d(t,"RS_STENCILENABLE",(function(){return o.RS_STENCILENABLE})),r.d(t,"RS_STENCILFAIL",(function(){return o.RS_STENCILFAIL})),r.d(t,"RS_STENCILZFAIL",(function(){return o.RS_STENCILZFAIL})),r.d(t,"RS_STENCILPASS",(function(){return o.RS_STENCILPASS})),r.d(t,"RS_STENCILFUNC",(function(){return o.RS_STENCILFUNC})),r.d(t,"RS_STENCILREF",(function(){return o.RS_STENCILREF})),r.d(t,"RS_STENCILMASK",(function(){return o.RS_STENCILMASK})),r.d(t,"RS_STENCILWRITEMASK",(function(){return o.RS_STENCILWRITEMASK})),r.d(t,"RS_TEXTUREFACTOR",(function(){return o.RS_TEXTUREFACTOR})),r.d(t,"RS_WRAP0",(function(){return o.RS_WRAP0})),r.d(t,"RS_WRAP1",(function(){return o.RS_WRAP1})),r.d(t,"RS_WRAP2",(function(){return o.RS_WRAP2})),r.d(t,"RS_WRAP3",(function(){return o.RS_WRAP3})),r.d(t,"RS_WRAP4",(function(){return o.RS_WRAP4})),r.d(t,"RS_WRAP5",(function(){return o.RS_WRAP5})),r.d(t,"RS_WRAP6",(function(){return o.RS_WRAP6})),r.d(t,"RS_WRAP7",(function(){return o.RS_WRAP7})),r.d(t,"RS_CLIPPING",(function(){return o.RS_CLIPPING})),r.d(t,"RS_LIGHTING",(function(){return o.RS_LIGHTING})),r.d(t,"RS_AMBIENT",(function(){return o.RS_AMBIENT})),r.d(t,"RS_FOGVERTEXMODE",(function(){return o.RS_FOGVERTEXMODE})),r.d(t,"RS_COLORVERTEX",(function(){return o.RS_COLORVERTEX})),r.d(t,"RS_LOCALVIEWER",(function(){return o.RS_LOCALVIEWER})),r.d(t,"RS_NORMALIZENORMALS",(function(){return o.RS_NORMALIZENORMALS})),r.d(t,"RS_DIFFUSEMATERIALSOURCE",(function(){return o.RS_DIFFUSEMATERIALSOURCE})),r.d(t,"RS_SPECULARMATERIALSOURCE",(function(){return o.RS_SPECULARMATERIALSOURCE})),r.d(t,"RS_AMBIENTMATERIALSOURCE",(function(){return o.RS_AMBIENTMATERIALSOURCE})),r.d(t,"RS_EMISSIVEMATERIALSOURCE",(function(){return o.RS_EMISSIVEMATERIALSOURCE})),r.d(t,"RS_VERTEXBLEND",(function(){return o.RS_VERTEXBLEND})),r.d(t,"RS_CLIPPLANEENABLE",(function(){return o.RS_CLIPPLANEENABLE})),r.d(t,"RS_POINTSIZE",(function(){return o.RS_POINTSIZE})),r.d(t,"RS_POINTSIZE_MIN",(function(){return o.RS_POINTSIZE_MIN})),r.d(t,"RS_POINTSPRITEENABLE",(function(){return o.RS_POINTSPRITEENABLE})),r.d(t,"RS_POINTSCALEENABLE",(function(){return o.RS_POINTSCALEENABLE})),r.d(t,"RS_POINTSCALE_A",(function(){return o.RS_POINTSCALE_A})),r.d(t,"RS_POINTSCALE_B",(function(){return o.RS_POINTSCALE_B})),r.d(t,"RS_POINTSCALE_C",(function(){return o.RS_POINTSCALE_C})),r.d(t,"RS_MULTISAMPLEANTIALIAS",(function(){return o.RS_MULTISAMPLEANTIALIAS})),r.d(t,"RS_MULTISAMPLEMASK",(function(){return o.RS_MULTISAMPLEMASK})),r.d(t,"RS_PATCHEDGESTYLE",(function(){return o.RS_PATCHEDGESTYLE})),r.d(t,"RS_DEBUGMONITORTOKEN",(function(){return o.RS_DEBUGMONITORTOKEN})),r.d(t,"RS_POINTSIZE_MAX",(function(){return o.RS_POINTSIZE_MAX})),r.d(t,"RS_INDEXEDVERTEXBLENDENABLE",(function(){return o.RS_INDEXEDVERTEXBLENDENABLE})),r.d(t,"RS_COLORWRITEENABLE",(function(){return o.RS_COLORWRITEENABLE})),r.d(t,"RS_TWEENFACTOR",(function(){return o.RS_TWEENFACTOR})),r.d(t,"RS_BLENDOP",(function(){return o.RS_BLENDOP})),r.d(t,"RS_POSITIONDEGREE",(function(){return o.RS_POSITIONDEGREE})),r.d(t,"RS_NORMALDEGREE",(function(){return o.RS_NORMALDEGREE})),r.d(t,"RS_SCISSORTESTENABLE",(function(){return o.RS_SCISSORTESTENABLE})),r.d(t,"RS_SLOPESCALEDEPTHBIAS",(function(){return o.RS_SLOPESCALEDEPTHBIAS})),r.d(t,"RS_ANTIALIASEDLINEENABLE",(function(){return o.RS_ANTIALIASEDLINEENABLE})),r.d(t,"RS_TWOSIDEDSTENCILMODE",(function(){return o.RS_TWOSIDEDSTENCILMODE})),r.d(t,"RS_CCW_STENCILFAIL",(function(){return o.RS_CCW_STENCILFAIL})),r.d(t,"RS_CCW_STENCILZFAIL",(function(){return o.RS_CCW_STENCILZFAIL})),r.d(t,"RS_CCW_STENCILPASS",(function(){return o.RS_CCW_STENCILPASS})),r.d(t,"RS_CCW_STENCILFUNC",(function(){return o.RS_CCW_STENCILFUNC})),r.d(t,"RS_COLORWRITEENABLE1",(function(){return o.RS_COLORWRITEENABLE1})),r.d(t,"RS_COLORWRITEENABLE2",(function(){return o.RS_COLORWRITEENABLE2})),r.d(t,"RS_COLORWRITEENABLE3",(function(){return o.RS_COLORWRITEENABLE3})),r.d(t,"RS_BLENDFACTOR",(function(){return o.RS_BLENDFACTOR})),r.d(t,"RS_SRGBWRITEENABLE",(function(){return o.RS_SRGBWRITEENABLE})),r.d(t,"RS_DEPTHBIAS",(function(){return o.RS_DEPTHBIAS})),r.d(t,"RS_SEPARATEALPHABLENDENABLE",(function(){return o.RS_SEPARATEALPHABLENDENABLE})),r.d(t,"RS_SRCBLENDALPHA",(function(){return o.RS_SRCBLENDALPHA})),r.d(t,"RS_DESTBLENDALPHA",(function(){return o.RS_DESTBLENDALPHA})),r.d(t,"RS_BLENDOPALPHA",(function(){return o.RS_BLENDOPALPHA})),r.d(t,"CULL_NONE",(function(){return o.CULL_NONE})),r.d(t,"CULL_CW",(function(){return o.CULL_CW})),r.d(t,"CULL_CCW",(function(){return o.CULL_CCW})),r.d(t,"CMP_NEVER",(function(){return o.CMP_NEVER})),r.d(t,"CMP_LESS",(function(){return o.CMP_LESS})),r.d(t,"CMP_EQUAL",(function(){return o.CMP_EQUAL})),r.d(t,"CMP_LEQUAL",(function(){return o.CMP_LEQUAL})),r.d(t,"CMP_GREATER",(function(){return o.CMP_GREATER})),r.d(t,"CMP_NOTEQUAL",(function(){return o.CMP_NOTEQUAL})),r.d(t,"CMP_GREATEREQUAL",(function(){return o.CMP_GREATEREQUAL})),r.d(t,"CMP_ALWAYS",(function(){return o.CMP_ALWAYS})),r.d(t,"BLEND_ZERO",(function(){return o.BLEND_ZERO})),r.d(t,"BLEND_ONE",(function(){return o.BLEND_ONE})),r.d(t,"BLEND_SRCCOLOR",(function(){return o.BLEND_SRCCOLOR})),r.d(t,"BLEND_INVSRCCOLOR",(function(){return o.BLEND_INVSRCCOLOR})),r.d(t,"BLEND_SRCALPHA",(function(){return o.BLEND_SRCALPHA})),r.d(t,"BLEND_INVSRCALPHA",(function(){return o.BLEND_INVSRCALPHA})),r.d(t,"BLEND_DESTALPHA",(function(){return o.BLEND_DESTALPHA})),r.d(t,"BLEND_INVDESTALPHA",(function(){return o.BLEND_INVDESTALPHA})),r.d(t,"BLEND_DESTCOLOR",(function(){return o.BLEND_DESTCOLOR})),r.d(t,"BLEND_INVDESTCOLOR",(function(){return o.BLEND_INVDESTCOLOR})),r.d(t,"BLEND_SRCALPHASAT",(function(){return o.BLEND_SRCALPHASAT})),r.d(t,"BLEND_BOTHSRCALPHA",(function(){return o.BLEND_BOTHSRCALPHA})),r.d(t,"BLEND_BOTHINVSRCALPHA",(function(){return o.BLEND_BOTHINVSRCALPHA})),r.d(t,"BLEND_BLENDFACTOR",(function(){return o.BLEND_BLENDFACTOR})),r.d(t,"BLEND_INVBLENDFACTOR",(function(){return o.BLEND_INVBLENDFACTOR})),r.d(t,"BLENDOP_ADD",(function(){return o.BLENDOP_ADD})),r.d(t,"BLENDOP_SUBTRACT",(function(){return o.BLENDOP_SUBTRACT})),r.d(t,"BLENDOP_REVSUBTRACT",(function(){return o.BLENDOP_REVSUBTRACT})),r.d(t,"BLENDOP_MIN",(function(){return o.BLENDOP_MIN})),r.d(t,"BLENDOP_MAX",(function(){return o.BLENDOP_MAX})),r.d(t,"TF_ALPHA",(function(){return o.TF_ALPHA})),r.d(t,"TF_LUMINANCE",(function(){return o.TF_LUMINANCE})),r.d(t,"TF_LUMINANCE_ALPHA",(function(){return o.TF_LUMINANCE_ALPHA})),r.d(t,"TF_RGB",(function(){return o.TF_RGB})),r.d(t,"TF_RGBA",(function(){return o.TF_RGBA})),r.d(t,"TF_RED",(function(){return o.TF_RED})),r.d(t,"TF_R",(function(){return o.TF_R})),r.d(t,"TF_RG",(function(){return o.TF_RG})),r.d(t,"TF_RED_INTEGER",(function(){return o.TF_RED_INTEGER})),r.d(t,"TF_R_INTEGER",(function(){return o.TF_R_INTEGER})),r.d(t,"TF_RG_INTEGER",(function(){return o.TF_RG_INTEGER})),r.d(t,"TF_RGB_INTEGER",(function(){return o.TF_RGB_INTEGER})),r.d(t,"TF_RGBA_INTEGER",(function(){return o.TF_RGBA_INTEGER})),r.d(t,"TT_UNSIGNED_BYTE",(function(){return o.TT_UNSIGNED_BYTE})),r.d(t,"TT_UNSIGNED_INT",(function(){return o.TT_UNSIGNED_INT})),r.d(t,"TT_FLOAT",(function(){return o.TT_FLOAT})),r.d(t,"TT_HALF_FLOAT",(function(){return o.TT_HALF_FLOAT})),r.d(t,"TT_BYTE",(function(){return o.TT_BYTE})),r.d(t,"TT_SHORT",(function(){return o.TT_SHORT})),r.d(t,"TT_UNSIGNED_SHORT",(function(){return o.TT_UNSIGNED_SHORT})),r.d(t,"TT_INT",(function(){return o.TT_INT})),r.d(t,"TT_UNSIGNED_INTEGER",(function(){return o.TT_UNSIGNED_INTEGER})),r.d(t,"TT_UNSIGNED_SHORT_4_4_4_4",(function(){return o.TT_UNSIGNED_SHORT_4_4_4_4})),r.d(t,"TT_UNSIGNED_SHORT_5_5_5_1",(function(){return o.TT_UNSIGNED_SHORT_5_5_5_1})),r.d(t,"TT_UNSIGNED_SHORT_5_6_5",(function(){return o.TT_UNSIGNED_SHORT_5_6_5})),r.d(t,"TT_UNSIGNED_INT_2_10_10_10_REV",(function(){return o.TT_UNSIGNED_INT_2_10_10_10_REV})),r.d(t,"TT_UNSIGNED_INT_24_8",(function(){return o.TT_UNSIGNED_INT_24_8})),r.d(t,"TT_UNSIGNED_INT_10F_11F_11F_REV",(function(){return o.TT_UNSIGNED_INT_10F_11F_11F_REV})),r.d(t,"TT_UNSIGNED_INT_5_9_9_9_REV",(function(){return o.TT_UNSIGNED_INT_5_9_9_9_REV})),r.d(t,"TT_FLOAT_32_UNSIGNED_INT_24_8_REV",(function(){return o.TT_FLOAT_32_UNSIGNED_INT_24_8_REV})),r.d(t,"WrapModes",(function(){return o.WrapModes})),r.d(t,"BlendTable",(function(){return o.BlendTable})),r.d(t,"FilterMode",(function(){return o.FilterMode})),r.d(t,"MipFilterMode",(function(){return o.MipFilterMode})),r.d(t,"DDS_MAGIC",(function(){return o.DDS_MAGIC})),r.d(t,"DDSD_CAPS",(function(){return o.DDSD_CAPS})),r.d(t,"DDSD_HEIGHT",(function(){return o.DDSD_HEIGHT})),r.d(t,"DDSD_WIDTH",(function(){return o.DDSD_WIDTH})),r.d(t,"DDSD_PITCH",(function(){return o.DDSD_PITCH})),r.d(t,"DDSD_PIXELFORMAT",(function(){return o.DDSD_PIXELFORMAT})),r.d(t,"DDSD_MIPMAPCOUNT",(function(){return o.DDSD_MIPMAPCOUNT})),r.d(t,"DDSD_LINEARSIZE",(function(){return o.DDSD_LINEARSIZE})),r.d(t,"DDSD_DEPTH",(function(){return o.DDSD_DEPTH})),r.d(t,"DDSCAPS_COMPLEX",(function(){return o.DDSCAPS_COMPLEX})),r.d(t,"DDSCAPS_MIPMAP",(function(){return o.DDSCAPS_MIPMAP})),r.d(t,"DDSCAPS_TEXTURE",(function(){return o.DDSCAPS_TEXTURE})),r.d(t,"DDSCAPS2_CUBEMAP",(function(){return o.DDSCAPS2_CUBEMAP})),r.d(t,"DDSCAPS2_CUBEMAP_POSITIVEX",(function(){return o.DDSCAPS2_CUBEMAP_POSITIVEX})),r.d(t,"DDSCAPS2_CUBEMAP_NEGATIVEX",(function(){return o.DDSCAPS2_CUBEMAP_NEGATIVEX})),r.d(t,"DDSCAPS2_CUBEMAP_POSITIVEY",(function(){return o.DDSCAPS2_CUBEMAP_POSITIVEY})),r.d(t,"DDSCAPS2_CUBEMAP_NEGATIVEY",(function(){return o.DDSCAPS2_CUBEMAP_NEGATIVEY})),r.d(t,"DDSCAPS2_CUBEMAP_POSITIVEZ",(function(){return o.DDSCAPS2_CUBEMAP_POSITIVEZ})),r.d(t,"DDSCAPS2_CUBEMAP_NEGATIVEZ",(function(){return o.DDSCAPS2_CUBEMAP_NEGATIVEZ})),r.d(t,"DDSCAPS2_VOLUME",(function(){return o.DDSCAPS2_VOLUME})),r.d(t,"DDPF_ALPHAPIXELS",(function(){return o.DDPF_ALPHAPIXELS})),r.d(t,"DDPF_ALPHA",(function(){return o.DDPF_ALPHA})),r.d(t,"DDPF_FOURCC",(function(){return o.DDPF_FOURCC})),r.d(t,"DDPF_RGB",(function(){return o.DDPF_RGB})),r.d(t,"DDPF_YUV",(function(){return o.DDPF_YUV})),r.d(t,"DDPF_LUMINANCE",(function(){return o.DDPF_LUMINANCE})),r.d(t,"DDS_HEADER_LENGTH_INT",(function(){return o.DDS_HEADER_LENGTH_INT})),r.d(t,"DDS_HEADER_OFFSET_MAGIC",(function(){return o.DDS_HEADER_OFFSET_MAGIC})),r.d(t,"DDS_HEADER_OFFSET_SIZE",(function(){return o.DDS_HEADER_OFFSET_SIZE})),r.d(t,"DDS_HEADER_OFFSET_FLAGS",(function(){return o.DDS_HEADER_OFFSET_FLAGS})),r.d(t,"DDS_HEADER_OFFSET_HEIGHT",(function(){return o.DDS_HEADER_OFFSET_HEIGHT})),r.d(t,"DDS_HEADER_OFFSET_WIDTH",(function(){return o.DDS_HEADER_OFFSET_WIDTH})),r.d(t,"DDS_HEADER_OFFSET_MIPMAP_COUNT",(function(){return o.DDS_HEADER_OFFSET_MIPMAP_COUNT})),r.d(t,"DDS_HEADER_OFFSET_PF_FLAGS",(function(){return o.DDS_HEADER_OFFSET_PF_FLAGS})),r.d(t,"DDS_HEADER_OFFSET_PF_FOURCC",(function(){return o.DDS_HEADER_OFFSET_PF_FOURCC})),r.d(t,"DDS_HEADER_OFFSET_RGB_BPP",(function(){return o.DDS_HEADER_OFFSET_RGB_BPP})),r.d(t,"DDS_HEADER_OFFSET_R_MASK",(function(){return o.DDS_HEADER_OFFSET_R_MASK})),r.d(t,"DDS_HEADER_OFFSET_G_MASK",(function(){return o.DDS_HEADER_OFFSET_G_MASK})),r.d(t,"DDS_HEADER_OFFSET_B_MASK",(function(){return o.DDS_HEADER_OFFSET_B_MASK})),r.d(t,"DDS_HEADER_OFFSET_A_MASK",(function(){return o.DDS_HEADER_OFFSET_A_MASK})),r.d(t,"DDS_HEADER_OFFSET_CAPS1",(function(){return o.DDS_HEADER_OFFSET_CAPS1})),r.d(t,"DDS_HEADER_OFFSET_CAPS2",(function(){return o.DDS_HEADER_OFFSET_CAPS2})),r.d(t,"DDS_HEADER_OFFSET_CAPS3",(function(){return o.DDS_HEADER_OFFSET_CAPS3})),r.d(t,"DDS_HEADER_OFFSET_CAPS4",(function(){return o.DDS_HEADER_OFFSET_CAPS4})),r.d(t,"DDS_HEADER_OFFSET_DXGI_FORMAT",(function(){return o.DDS_HEADER_OFFSET_DXGI_FORMAT})),r.d(t,"FOURCC_DXT1",(function(){return o.FOURCC_DXT1})),r.d(t,"FOURCC_DXT5",(function(){return o.FOURCC_DXT5})),r.d(t,"FOURCC_DXT3",(function(){return o.FOURCC_DXT3})),r.d(t,"FOURCC_DXT10",(function(){return o.FOURCC_DXT10})),r.d(t,"FOURCC_D3DFMT_R16G16B16A16F",(function(){return o.FOURCC_D3DFMT_R16G16B16A16F})),r.d(t,"FOURCC_D3DFMT_R32G32B32A32F",(function(){return o.FOURCC_D3DFMT_R32G32B32A32F})),r.d(t,"DXGI_FORMAT_R16G16B16A16_FLOAT",(function(){return o.DXGI_FORMAT_R16G16B16A16_FLOAT})),r.d(t,"DXGI_FORMAT_B8G8R8X8_UNORM",(function(){return o.DXGI_FORMAT_B8G8R8X8_UNORM})),r.d(t,"VendorRequestAnimationFrame",(function(){return o.VendorRequestAnimationFrame})),r.d(t,"VendorCancelAnimationFrame",(function(){return o.VendorCancelAnimationFrame})),r.d(t,"VendorRequestFullScreen",(function(){return o.VendorRequestFullScreen})),r.d(t,"VendorExitFullScreen",(function(){return o.VendorExitFullScreen})),r.d(t,"VendorGetFullScreenElement",(function(){return o.VendorGetFullScreenElement})),r.d(t,"VendorWebglPrefixes",(function(){return o.VendorWebglPrefixes}))},"./global/index.js":function(e,t,r){"use strict";r.r(t);var i=r("./global/meta/index.js");r.d(t,"meta",(function(){return i}));var n=r("./global/util/index.js");r.d(t,"util",(function(){return n}));var a=r("./global/class/index.js");r.d(t,"Tw2BaseClass",(function(){return a.Tw2BaseClass})),r.d(t,"Tw2EventEmitter",(function(){return a.Tw2EventEmitter})),r.d(t,"Tw2Notifications",(function(){return a.Tw2Notifications})),r.d(t,"Tw2Schema",(function(){return a.Tw2Schema}));var o=r("./global/engine/Tw2Constant.js");r.d(t,"Type",(function(){return o.Type})),r.d(t,"TypeCategory",(function(){return o.TypeCategory})),r.d(t,"TypeTypeCategory",(function(){return o.TypeTypeCategory})),r.d(t,"TypeLength",(function(){return o.TypeLength})),r.d(t,"GL_COLOR_BUFFER_BIT",(function(){return o.GL_COLOR_BUFFER_BIT})),r.d(t,"GL_DEPTH_BUFFER_BIT",(function(){return o.GL_DEPTH_BUFFER_BIT})),r.d(t,"GL_STENCIL_BUFFER_BIT",(function(){return o.GL_STENCIL_BUFFER_BIT})),r.d(t,"GL_TEXTURE_2D",(function(){return o.GL_TEXTURE_2D})),r.d(t,"GL_TEXTURE_CUBE_MAP",(function(){return o.GL_TEXTURE_CUBE_MAP})),r.d(t,"GL_TEXTURE_3D",(function(){return o.GL_TEXTURE_3D})),r.d(t,"GL_TEXTURE_MAG_FILTER",(function(){return o.GL_TEXTURE_MAG_FILTER})),r.d(t,"GL_TEXTURE_MIN_FILTER",(function(){return o.GL_TEXTURE_MIN_FILTER})),r.d(t,"GL_TEXTURE_WRAP_S",(function(){return o.GL_TEXTURE_WRAP_S})),r.d(t,"GL_TEXTURE_WRAP_T",(function(){return o.GL_TEXTURE_WRAP_T})),r.d(t,"GL_BYTE",(function(){return o.GL_BYTE})),r.d(t,"GL_UNSIGNED_BYTE",(function(){return o.GL_UNSIGNED_BYTE})),r.d(t,"GL_SHORT",(function(){return o.GL_SHORT})),r.d(t,"GL_UNSIGNED_SHORT",(function(){return o.GL_UNSIGNED_SHORT})),r.d(t,"GL_INT",(function(){return o.GL_INT})),r.d(t,"GL_UNSIGNED_INT",(function(){return o.GL_UNSIGNED_INT})),r.d(t,"GL_FLOAT",(function(){return o.GL_FLOAT})),r.d(t,"GL_HALF_FLOAT_OES",(function(){return o.GL_HALF_FLOAT_OES})),r.d(t,"GL_HALF_FLOAT",(function(){return o.GL_HALF_FLOAT})),r.d(t,"GL_DEPTH_COMPONENT16",(function(){return o.GL_DEPTH_COMPONENT16})),r.d(t,"GL_DEPTH_COMPONENT24",(function(){return o.GL_DEPTH_COMPONENT24})),r.d(t,"GL_DEPTH_COMPONENT32F",(function(){return o.GL_DEPTH_COMPONENT32F})),r.d(t,"GL_FLOAT_VEC2",(function(){return o.GL_FLOAT_VEC2})),r.d(t,"GL_FLOAT_VEC3",(function(){return o.GL_FLOAT_VEC3})),r.d(t,"GL_FLOAT_VEC4",(function(){return o.GL_FLOAT_VEC4})),r.d(t,"GL_INT_VEC2",(function(){return o.GL_INT_VEC2})),r.d(t,"GL_INT_VEC3",(function(){return o.GL_INT_VEC3})),r.d(t,"GL_INT_VEC4",(function(){return o.GL_INT_VEC4})),r.d(t,"GL_BOOL",(function(){return o.GL_BOOL})),r.d(t,"GL_BOOL_VEC2",(function(){return o.GL_BOOL_VEC2})),r.d(t,"GL_BOOL_VEC3",(function(){return o.GL_BOOL_VEC3})),r.d(t,"GL_BOOL_VEC4",(function(){return o.GL_BOOL_VEC4})),r.d(t,"GL_FLOAT_MAT2",(function(){return o.GL_FLOAT_MAT2})),r.d(t,"GL_FLOAT_MAT3",(function(){return o.GL_FLOAT_MAT3})),r.d(t,"GL_FLOAT_MAT4",(function(){return o.GL_FLOAT_MAT4})),r.d(t,"GL_TYPE_LENGTH",(function(){return o.GL_TYPE_LENGTH})),r.d(t,"GL_SAMPLER_2D",(function(){return o.GL_SAMPLER_2D})),r.d(t,"GL_SAMPLER_3D",(function(){return o.GL_SAMPLER_3D})),r.d(t,"GL_SAMPLER_CUBE",(function(){return o.GL_SAMPLER_CUBE})),r.d(t,"GL_DEPTH_COMPONENT",(function(){return o.GL_DEPTH_COMPONENT})),r.d(t,"GL_ALPHA",(function(){return o.GL_ALPHA})),r.d(t,"GL_RGB",(function(){return o.GL_RGB})),r.d(t,"GL_RGBA",(function(){return o.GL_RGBA})),r.d(t,"GL_LUMINANCE",(function(){return o.GL_LUMINANCE})),r.d(t,"GL_LUMINANCE_ALPHA",(function(){return o.GL_LUMINANCE_ALPHA})),r.d(t,"GL_DEPTH_STENCIL",(function(){return o.GL_DEPTH_STENCIL})),r.d(t,"GL_UNSIGNED_INT_24_8_WEBGL",(function(){return o.GL_UNSIGNED_INT_24_8_WEBGL})),r.d(t,"GL_R8",(function(){return o.GL_R8})),r.d(t,"GL_R16F",(function(){return o.GL_R16F})),r.d(t,"GL_R32F",(function(){return o.GL_R32F})),r.d(t,"GL_R8UI",(function(){return o.GL_R8UI})),r.d(t,"GL_RG8",(function(){return o.GL_RG8})),r.d(t,"GL_RG16F",(function(){return o.GL_RG16F})),r.d(t,"GL_RG32F",(function(){return o.GL_RG32F})),r.d(t,"GL_RGB8",(function(){return o.GL_RGB8})),r.d(t,"GL_SRGB8",(function(){return o.GL_SRGB8})),r.d(t,"GL_RGB565",(function(){return o.GL_RGB565})),r.d(t,"GL_R11F_G11F_B10F",(function(){return o.GL_R11F_G11F_B10F})),r.d(t,"GL_RGB9_E5",(function(){return o.GL_RGB9_E5})),r.d(t,"GL_RGB16F",(function(){return o.GL_RGB16F})),r.d(t,"GL_RGB32F",(function(){return o.GL_RGB32F})),r.d(t,"GL_RGB8UI",(function(){return o.GL_RGB8UI})),r.d(t,"GL_RGBA8",(function(){return o.GL_RGBA8})),r.d(t,"GL_RGB5_A1",(function(){return o.GL_RGB5_A1})),r.d(t,"GL_RGBA16F",(function(){return o.GL_RGBA16F})),r.d(t,"GL_RGBA32F",(function(){return o.GL_RGBA32F})),r.d(t,"GL_RGBA8UI",(function(){return o.GL_RGBA8UI})),r.d(t,"GL_RGBA16I",(function(){return o.GL_RGBA16I})),r.d(t,"GL_RGBA16UI",(function(){return o.GL_RGBA16UI})),r.d(t,"GL_RGBA32I",(function(){return o.GL_RGBA32I})),r.d(t,"GL_RGBA32UI",(function(){return o.GL_RGBA32UI})),r.d(t,"GL_NEAREST",(function(){return o.GL_NEAREST})),r.d(t,"GL_LINEAR",(function(){return o.GL_LINEAR})),r.d(t,"GL_NEAREST_MIPMAP_NEAREST",(function(){return o.GL_NEAREST_MIPMAP_NEAREST})),r.d(t,"GL_LINEAR_MIPMAP_NEAREST",(function(){return o.GL_LINEAR_MIPMAP_NEAREST})),r.d(t,"GL_NEAREST_MIPMAP_LINEAR",(function(){return o.GL_NEAREST_MIPMAP_LINEAR})),r.d(t,"GL_LINEAR_MIPMAP_LINEAR",(function(){return o.GL_LINEAR_MIPMAP_LINEAR})),r.d(t,"GL_REPEAT",(function(){return o.GL_REPEAT})),r.d(t,"GL_CLAMP_TO_EDGE",(function(){return o.GL_CLAMP_TO_EDGE})),r.d(t,"GL_MIRRORED_REPEAT",(function(){return o.GL_MIRRORED_REPEAT})),r.d(t,"GL_ZERO",(function(){return o.GL_ZERO})),r.d(t,"GL_ONE",(function(){return o.GL_ONE})),r.d(t,"GL_SRC_COLOR",(function(){return o.GL_SRC_COLOR})),r.d(t,"GL_ONE_MINUS_SRC_COLOR",(function(){return o.GL_ONE_MINUS_SRC_COLOR})),r.d(t,"GL_SRC_ALPHA",(function(){return o.GL_SRC_ALPHA})),r.d(t,"GL_ONE_MINUS_SRC_ALPHA",(function(){return o.GL_ONE_MINUS_SRC_ALPHA})),r.d(t,"GL_DST_ALPHA",(function(){return o.GL_DST_ALPHA})),r.d(t,"GL_ONE_MINUS_DST_ALPHA",(function(){return o.GL_ONE_MINUS_DST_ALPHA})),r.d(t,"GL_DST_COLOR",(function(){return o.GL_DST_COLOR})),r.d(t,"GL_ONE_MINUS_DST_COLOR",(function(){return o.GL_ONE_MINUS_DST_COLOR})),r.d(t,"GL_SRC_ALPHA_SATURATE",(function(){return o.GL_SRC_ALPHA_SATURATE})),r.d(t,"GL_CONSTANT_COLOR",(function(){return o.GL_CONSTANT_COLOR})),r.d(t,"GL_ONE_MINUS_CONSTANT_COLOR",(function(){return o.GL_ONE_MINUS_CONSTANT_COLOR})),r.d(t,"GL_CONSTANT_ALPHA",(function(){return o.GL_CONSTANT_ALPHA})),r.d(t,"GL_ONE_MINUS_CONSTANT_ALPHA",(function(){return o.GL_ONE_MINUS_CONSTANT_ALPHA})),r.d(t,"GL_VERTEX_SHADER",(function(){return o.GL_VERTEX_SHADER})),r.d(t,"GL_FRAGMENT_SHADER",(function(){return o.GL_FRAGMENT_SHADER})),r.d(t,"GL_FRONT",(function(){return o.GL_FRONT})),r.d(t,"GL_BACK",(function(){return o.GL_BACK})),r.d(t,"GL_FRONT_AND_BACK",(function(){return o.GL_FRONT_AND_BACK})),r.d(t,"GL_NEVER",(function(){return o.GL_NEVER})),r.d(t,"GL_LESS",(function(){return o.GL_LESS})),r.d(t,"GL_EQUAL",(function(){return o.GL_EQUAL})),r.d(t,"GL_LEQUAL",(function(){return o.GL_LEQUAL})),r.d(t,"GL_GREATER",(function(){return o.GL_GREATER})),r.d(t,"GL_NOTEQUAL",(function(){return o.GL_NOTEQUAL})),r.d(t,"GL_GEQUAL",(function(){return o.GL_GEQUAL})),r.d(t,"GL_ALWAYS",(function(){return o.GL_ALWAYS})),r.d(t,"GL_KEEP",(function(){return o.GL_KEEP})),r.d(t,"GL_REPLACE",(function(){return o.GL_REPLACE})),r.d(t,"GL_INCR",(function(){return o.GL_INCR})),r.d(t,"GL_DECR",(function(){return o.GL_DECR})),r.d(t,"GL_INCR_WRAP",(function(){return o.GL_INCR_WRAP})),r.d(t,"GL_DECR_WRAP",(function(){return o.GL_DECR_WRAP})),r.d(t,"GL_INVERT",(function(){return o.GL_INVERT})),r.d(t,"GL_STREAM_DRAW",(function(){return o.GL_STREAM_DRAW})),r.d(t,"GL_STATIC_DRAW",(function(){return o.GL_STATIC_DRAW})),r.d(t,"GL_DYNAMIC_DRAW",(function(){return o.GL_DYNAMIC_DRAW})),r.d(t,"GL_ARRAY_BUFFER",(function(){return o.GL_ARRAY_BUFFER})),r.d(t,"GL_ELEMENT_ARRAY_BUFFER",(function(){return o.GL_ELEMENT_ARRAY_BUFFER})),r.d(t,"GL_POINTS",(function(){return o.GL_POINTS})),r.d(t,"GL_LINES",(function(){return o.GL_LINES})),r.d(t,"GL_LINE_LOOP",(function(){return o.GL_LINE_LOOP})),r.d(t,"GL_LINE_STRIP",(function(){return o.GL_LINE_STRIP})),r.d(t,"GL_TRIANGLES",(function(){return o.GL_TRIANGLES})),r.d(t,"GL_TRIANGLE_STRIP",(function(){return o.GL_TRIANGLE_STRIP})),r.d(t,"GL_TRIANGLE_FAN",(function(){return o.GL_TRIANGLE_FAN})),r.d(t,"GL_CW",(function(){return o.GL_CW})),r.d(t,"GL_CCW",(function(){return o.GL_CCW})),r.d(t,"GL_CULL_FACE",(function(){return o.GL_CULL_FACE})),r.d(t,"GL_DEPTH_TEST",(function(){return o.GL_DEPTH_TEST})),r.d(t,"GL_BLEND",(function(){return o.GL_BLEND})),r.d(t,"RM_ANY",(function(){return o.RM_ANY})),r.d(t,"RM_OPAQUE",(function(){return o.RM_OPAQUE})),r.d(t,"RM_DECAL",(function(){return o.RM_DECAL})),r.d(t,"RM_TRANSPARENT",(function(){return o.RM_TRANSPARENT})),r.d(t,"RM_ADDITIVE",(function(){return o.RM_ADDITIVE})),r.d(t,"RM_DEPTH",(function(){return o.RM_DEPTH})),r.d(t,"RM_FULLSCREEN",(function(){return o.RM_FULLSCREEN})),r.d(t,"RM_PICKABLE",(function(){return o.RM_PICKABLE})),r.d(t,"RM_DISTORTION",(function(){return o.RM_DISTORTION})),r.d(t,"RS_ZENABLE",(function(){return o.RS_ZENABLE})),r.d(t,"RS_FILLMODE",(function(){return o.RS_FILLMODE})),r.d(t,"RS_SHADEMODE",(function(){return o.RS_SHADEMODE})),r.d(t,"RS_ZWRITEENABLE",(function(){return o.RS_ZWRITEENABLE})),r.d(t,"RS_ALPHATESTENABLE",(function(){return o.RS_ALPHATESTENABLE})),r.d(t,"RS_LASTPIXEL",(function(){return o.RS_LASTPIXEL})),r.d(t,"RS_SRCBLEND",(function(){return o.RS_SRCBLEND})),r.d(t,"RS_DESTBLEND",(function(){return o.RS_DESTBLEND})),r.d(t,"RS_CULLMODE",(function(){return o.RS_CULLMODE})),r.d(t,"RS_ZFUNC",(function(){return o.RS_ZFUNC})),r.d(t,"RS_ALPHAREF",(function(){return o.RS_ALPHAREF})),r.d(t,"RS_ALPHAFUNC",(function(){return o.RS_ALPHAFUNC})),r.d(t,"RS_DITHERENABLE",(function(){return o.RS_DITHERENABLE})),r.d(t,"RS_ALPHABLENDENABLE",(function(){return o.RS_ALPHABLENDENABLE})),r.d(t,"RS_FOGENABLE",(function(){return o.RS_FOGENABLE})),r.d(t,"RS_SPECULARENABLE",(function(){return o.RS_SPECULARENABLE})),r.d(t,"RS_FOGCOLOR",(function(){return o.RS_FOGCOLOR})),r.d(t,"RS_FOGTABLEMODE",(function(){return o.RS_FOGTABLEMODE})),r.d(t,"RS_FOGSTART",(function(){return o.RS_FOGSTART})),r.d(t,"RS_FOGEND",(function(){return o.RS_FOGEND})),r.d(t,"RS_FOGDENSITY",(function(){return o.RS_FOGDENSITY})),r.d(t,"RS_RANGEFOGENABLE",(function(){return o.RS_RANGEFOGENABLE})),r.d(t,"RS_STENCILENABLE",(function(){return o.RS_STENCILENABLE})),r.d(t,"RS_STENCILFAIL",(function(){return o.RS_STENCILFAIL})),r.d(t,"RS_STENCILZFAIL",(function(){return o.RS_STENCILZFAIL})),r.d(t,"RS_STENCILPASS",(function(){return o.RS_STENCILPASS})),r.d(t,"RS_STENCILFUNC",(function(){return o.RS_STENCILFUNC})),r.d(t,"RS_STENCILREF",(function(){return o.RS_STENCILREF})),r.d(t,"RS_STENCILMASK",(function(){return o.RS_STENCILMASK})),r.d(t,"RS_STENCILWRITEMASK",(function(){return o.RS_STENCILWRITEMASK})),r.d(t,"RS_TEXTUREFACTOR",(function(){return o.RS_TEXTUREFACTOR})),r.d(t,"RS_WRAP0",(function(){return o.RS_WRAP0})),r.d(t,"RS_WRAP1",(function(){return o.RS_WRAP1})),r.d(t,"RS_WRAP2",(function(){return o.RS_WRAP2})),r.d(t,"RS_WRAP3",(function(){return o.RS_WRAP3})),r.d(t,"RS_WRAP4",(function(){return o.RS_WRAP4})),r.d(t,"RS_WRAP5",(function(){return o.RS_WRAP5})),r.d(t,"RS_WRAP6",(function(){return o.RS_WRAP6})),r.d(t,"RS_WRAP7",(function(){return o.RS_WRAP7})),r.d(t,"RS_CLIPPING",(function(){return o.RS_CLIPPING})),r.d(t,"RS_LIGHTING",(function(){return o.RS_LIGHTING})),r.d(t,"RS_AMBIENT",(function(){return o.RS_AMBIENT})),r.d(t,"RS_FOGVERTEXMODE",(function(){return o.RS_FOGVERTEXMODE})),r.d(t,"RS_COLORVERTEX",(function(){return o.RS_COLORVERTEX})),r.d(t,"RS_LOCALVIEWER",(function(){return o.RS_LOCALVIEWER})),r.d(t,"RS_NORMALIZENORMALS",(function(){return o.RS_NORMALIZENORMALS})),r.d(t,"RS_DIFFUSEMATERIALSOURCE",(function(){return o.RS_DIFFUSEMATERIALSOURCE})),r.d(t,"RS_SPECULARMATERIALSOURCE",(function(){return o.RS_SPECULARMATERIALSOURCE})),r.d(t,"RS_AMBIENTMATERIALSOURCE",(function(){return o.RS_AMBIENTMATERIALSOURCE})),r.d(t,"RS_EMISSIVEMATERIALSOURCE",(function(){return o.RS_EMISSIVEMATERIALSOURCE})),r.d(t,"RS_VERTEXBLEND",(function(){return o.RS_VERTEXBLEND})),r.d(t,"RS_CLIPPLANEENABLE",(function(){return o.RS_CLIPPLANEENABLE})),r.d(t,"RS_POINTSIZE",(function(){return o.RS_POINTSIZE})),r.d(t,"RS_POINTSIZE_MIN",(function(){return o.RS_POINTSIZE_MIN})),r.d(t,"RS_POINTSPRITEENABLE",(function(){return o.RS_POINTSPRITEENABLE})),r.d(t,"RS_POINTSCALEENABLE",(function(){return o.RS_POINTSCALEENABLE})),r.d(t,"RS_POINTSCALE_A",(function(){return o.RS_POINTSCALE_A})),r.d(t,"RS_POINTSCALE_B",(function(){return o.RS_POINTSCALE_B})),r.d(t,"RS_POINTSCALE_C",(function(){return o.RS_POINTSCALE_C})),r.d(t,"RS_MULTISAMPLEANTIALIAS",(function(){return o.RS_MULTISAMPLEANTIALIAS})),r.d(t,"RS_MULTISAMPLEMASK",(function(){return o.RS_MULTISAMPLEMASK})),r.d(t,"RS_PATCHEDGESTYLE",(function(){return o.RS_PATCHEDGESTYLE})),r.d(t,"RS_DEBUGMONITORTOKEN",(function(){return o.RS_DEBUGMONITORTOKEN})),r.d(t,"RS_POINTSIZE_MAX",(function(){return o.RS_POINTSIZE_MAX})),r.d(t,"RS_INDEXEDVERTEXBLENDENABLE",(function(){return o.RS_INDEXEDVERTEXBLENDENABLE})),r.d(t,"RS_COLORWRITEENABLE",(function(){return o.RS_COLORWRITEENABLE})),r.d(t,"RS_TWEENFACTOR",(function(){return o.RS_TWEENFACTOR})),r.d(t,"RS_BLENDOP",(function(){return o.RS_BLENDOP})),r.d(t,"RS_POSITIONDEGREE",(function(){return o.RS_POSITIONDEGREE})),r.d(t,"RS_NORMALDEGREE",(function(){return o.RS_NORMALDEGREE})),r.d(t,"RS_SCISSORTESTENABLE",(function(){return o.RS_SCISSORTESTENABLE})),r.d(t,"RS_SLOPESCALEDEPTHBIAS",(function(){return o.RS_SLOPESCALEDEPTHBIAS})),r.d(t,"RS_ANTIALIASEDLINEENABLE",(function(){return o.RS_ANTIALIASEDLINEENABLE})),r.d(t,"RS_TWOSIDEDSTENCILMODE",(function(){return o.RS_TWOSIDEDSTENCILMODE})),r.d(t,"RS_CCW_STENCILFAIL",(function(){return o.RS_CCW_STENCILFAIL})),r.d(t,"RS_CCW_STENCILZFAIL",(function(){return o.RS_CCW_STENCILZFAIL})),r.d(t,"RS_CCW_STENCILPASS",(function(){return o.RS_CCW_STENCILPASS})),r.d(t,"RS_CCW_STENCILFUNC",(function(){return o.RS_CCW_STENCILFUNC})),r.d(t,"RS_COLORWRITEENABLE1",(function(){return o.RS_COLORWRITEENABLE1})),r.d(t,"RS_COLORWRITEENABLE2",(function(){return o.RS_COLORWRITEENABLE2})),r.d(t,"RS_COLORWRITEENABLE3",(function(){return o.RS_COLORWRITEENABLE3})),r.d(t,"RS_BLENDFACTOR",(function(){return o.RS_BLENDFACTOR})),r.d(t,"RS_SRGBWRITEENABLE",(function(){return o.RS_SRGBWRITEENABLE})),r.d(t,"RS_DEPTHBIAS",(function(){return o.RS_DEPTHBIAS})),r.d(t,"RS_SEPARATEALPHABLENDENABLE",(function(){return o.RS_SEPARATEALPHABLENDENABLE})),r.d(t,"RS_SRCBLENDALPHA",(function(){return o.RS_SRCBLENDALPHA})),r.d(t,"RS_DESTBLENDALPHA",(function(){return o.RS_DESTBLENDALPHA})),r.d(t,"RS_BLENDOPALPHA",(function(){return o.RS_BLENDOPALPHA})),r.d(t,"CULL_NONE",(function(){return o.CULL_NONE})),r.d(t,"CULL_CW",(function(){return o.CULL_CW})),r.d(t,"CULL_CCW",(function(){return o.CULL_CCW})),r.d(t,"CMP_NEVER",(function(){return o.CMP_NEVER})),r.d(t,"CMP_LESS",(function(){return o.CMP_LESS})),r.d(t,"CMP_EQUAL",(function(){return o.CMP_EQUAL})),r.d(t,"CMP_LEQUAL",(function(){return o.CMP_LEQUAL})),r.d(t,"CMP_GREATER",(function(){return o.CMP_GREATER})),r.d(t,"CMP_NOTEQUAL",(function(){return o.CMP_NOTEQUAL})),r.d(t,"CMP_GREATEREQUAL",(function(){return o.CMP_GREATEREQUAL})),r.d(t,"CMP_ALWAYS",(function(){return o.CMP_ALWAYS})),r.d(t,"BLEND_ZERO",(function(){return o.BLEND_ZERO})),r.d(t,"BLEND_ONE",(function(){return o.BLEND_ONE})),r.d(t,"BLEND_SRCCOLOR",(function(){return o.BLEND_SRCCOLOR})),r.d(t,"BLEND_INVSRCCOLOR",(function(){return o.BLEND_INVSRCCOLOR})),r.d(t,"BLEND_SRCALPHA",(function(){return o.BLEND_SRCALPHA})),r.d(t,"BLEND_INVSRCALPHA",(function(){return o.BLEND_INVSRCALPHA})),r.d(t,"BLEND_DESTALPHA",(function(){return o.BLEND_DESTALPHA})),r.d(t,"BLEND_INVDESTALPHA",(function(){return o.BLEND_INVDESTALPHA})),r.d(t,"BLEND_DESTCOLOR",(function(){return o.BLEND_DESTCOLOR})),r.d(t,"BLEND_INVDESTCOLOR",(function(){return o.BLEND_INVDESTCOLOR})),r.d(t,"BLEND_SRCALPHASAT",(function(){return o.BLEND_SRCALPHASAT})),r.d(t,"BLEND_BOTHSRCALPHA",(function(){return o.BLEND_BOTHSRCALPHA})),r.d(t,"BLEND_BOTHINVSRCALPHA",(function(){return o.BLEND_BOTHINVSRCALPHA})),r.d(t,"BLEND_BLENDFACTOR",(function(){return o.BLEND_BLENDFACTOR})),r.d(t,"BLEND_INVBLENDFACTOR",(function(){return o.BLEND_INVBLENDFACTOR})),r.d(t,"BLENDOP_ADD",(function(){return o.BLENDOP_ADD})),r.d(t,"BLENDOP_SUBTRACT",(function(){return o.BLENDOP_SUBTRACT})),r.d(t,"BLENDOP_REVSUBTRACT",(function(){return o.BLENDOP_REVSUBTRACT})),r.d(t,"BLENDOP_MIN",(function(){return o.BLENDOP_MIN})),r.d(t,"BLENDOP_MAX",(function(){return o.BLENDOP_MAX})),r.d(t,"TF_ALPHA",(function(){return o.TF_ALPHA})),r.d(t,"TF_LUMINANCE",(function(){return o.TF_LUMINANCE})),r.d(t,"TF_LUMINANCE_ALPHA",(function(){return o.TF_LUMINANCE_ALPHA})),r.d(t,"TF_RGB",(function(){return o.TF_RGB})),r.d(t,"TF_RGBA",(function(){return o.TF_RGBA})),r.d(t,"TF_RED",(function(){return o.TF_RED})),r.d(t,"TF_R",(function(){return o.TF_R})),r.d(t,"TF_RG",(function(){return o.TF_RG})),r.d(t,"TF_RED_INTEGER",(function(){return o.TF_RED_INTEGER})),r.d(t,"TF_R_INTEGER",(function(){return o.TF_R_INTEGER})),r.d(t,"TF_RG_INTEGER",(function(){return o.TF_RG_INTEGER})),r.d(t,"TF_RGB_INTEGER",(function(){return o.TF_RGB_INTEGER})),r.d(t,"TF_RGBA_INTEGER",(function(){return o.TF_RGBA_INTEGER})),r.d(t,"TT_UNSIGNED_BYTE",(function(){return o.TT_UNSIGNED_BYTE})),r.d(t,"TT_UNSIGNED_INT",(function(){return o.TT_UNSIGNED_INT})),r.d(t,"TT_FLOAT",(function(){return o.TT_FLOAT})),r.d(t,"TT_HALF_FLOAT",(function(){return o.TT_HALF_FLOAT})),r.d(t,"TT_BYTE",(function(){return o.TT_BYTE})),r.d(t,"TT_SHORT",(function(){return o.TT_SHORT})),r.d(t,"TT_UNSIGNED_SHORT",(function(){return o.TT_UNSIGNED_SHORT})),r.d(t,"TT_INT",(function(){return o.TT_INT})),r.d(t,"TT_UNSIGNED_INTEGER",(function(){return o.TT_UNSIGNED_INTEGER})),r.d(t,"TT_UNSIGNED_SHORT_4_4_4_4",(function(){return o.TT_UNSIGNED_SHORT_4_4_4_4})),r.d(t,"TT_UNSIGNED_SHORT_5_5_5_1",(function(){return o.TT_UNSIGNED_SHORT_5_5_5_1})),r.d(t,"TT_UNSIGNED_SHORT_5_6_5",(function(){return o.TT_UNSIGNED_SHORT_5_6_5})),r.d(t,"TT_UNSIGNED_INT_2_10_10_10_REV",(function(){return o.TT_UNSIGNED_INT_2_10_10_10_REV})),r.d(t,"TT_UNSIGNED_INT_24_8",(function(){return o.TT_UNSIGNED_INT_24_8})),r.d(t,"TT_UNSIGNED_INT_10F_11F_11F_REV",(function(){return o.TT_UNSIGNED_INT_10F_11F_11F_REV})),r.d(t,"TT_UNSIGNED_INT_5_9_9_9_REV",(function(){return o.TT_UNSIGNED_INT_5_9_9_9_REV})),r.d(t,"TT_FLOAT_32_UNSIGNED_INT_24_8_REV",(function(){return o.TT_FLOAT_32_UNSIGNED_INT_24_8_REV})),r.d(t,"WrapModes",(function(){return o.WrapModes})),r.d(t,"BlendTable",(function(){return o.BlendTable})),r.d(t,"FilterMode",(function(){return o.FilterMode})),r.d(t,"MipFilterMode",(function(){return o.MipFilterMode})),r.d(t,"DDS_MAGIC",(function(){return o.DDS_MAGIC})),r.d(t,"DDSD_CAPS",(function(){return o.DDSD_CAPS})),r.d(t,"DDSD_HEIGHT",(function(){return o.DDSD_HEIGHT})),r.d(t,"DDSD_WIDTH",(function(){return o.DDSD_WIDTH})),r.d(t,"DDSD_PITCH",(function(){return o.DDSD_PITCH})),r.d(t,"DDSD_PIXELFORMAT",(function(){return o.DDSD_PIXELFORMAT})),r.d(t,"DDSD_MIPMAPCOUNT",(function(){return o.DDSD_MIPMAPCOUNT})),r.d(t,"DDSD_LINEARSIZE",(function(){return o.DDSD_LINEARSIZE})),r.d(t,"DDSD_DEPTH",(function(){return o.DDSD_DEPTH})),r.d(t,"DDSCAPS_COMPLEX",(function(){return o.DDSCAPS_COMPLEX})),r.d(t,"DDSCAPS_MIPMAP",(function(){return o.DDSCAPS_MIPMAP})),r.d(t,"DDSCAPS_TEXTURE",(function(){return o.DDSCAPS_TEXTURE})),r.d(t,"DDSCAPS2_CUBEMAP",(function(){return o.DDSCAPS2_CUBEMAP})),r.d(t,"DDSCAPS2_CUBEMAP_POSITIVEX",(function(){return o.DDSCAPS2_CUBEMAP_POSITIVEX})),r.d(t,"DDSCAPS2_CUBEMAP_NEGATIVEX",(function(){return o.DDSCAPS2_CUBEMAP_NEGATIVEX})),r.d(t,"DDSCAPS2_CUBEMAP_POSITIVEY",(function(){return o.DDSCAPS2_CUBEMAP_POSITIVEY})),r.d(t,"DDSCAPS2_CUBEMAP_NEGATIVEY",(function(){return o.DDSCAPS2_CUBEMAP_NEGATIVEY})),r.d(t,"DDSCAPS2_CUBEMAP_POSITIVEZ",(function(){return o.DDSCAPS2_CUBEMAP_POSITIVEZ})),r.d(t,"DDSCAPS2_CUBEMAP_NEGATIVEZ",(function(){return o.DDSCAPS2_CUBEMAP_NEGATIVEZ})),r.d(t,"DDSCAPS2_VOLUME",(function(){return o.DDSCAPS2_VOLUME})),r.d(t,"DDPF_ALPHAPIXELS",(function(){return o.DDPF_ALPHAPIXELS})),r.d(t,"DDPF_ALPHA",(function(){return o.DDPF_ALPHA})),r.d(t,"DDPF_FOURCC",(function(){return o.DDPF_FOURCC})),r.d(t,"DDPF_RGB",(function(){return o.DDPF_RGB})),r.d(t,"DDPF_YUV",(function(){return o.DDPF_YUV})),r.d(t,"DDPF_LUMINANCE",(function(){return o.DDPF_LUMINANCE})),r.d(t,"DDS_HEADER_LENGTH_INT",(function(){return o.DDS_HEADER_LENGTH_INT})),r.d(t,"DDS_HEADER_OFFSET_MAGIC",(function(){return o.DDS_HEADER_OFFSET_MAGIC})),r.d(t,"DDS_HEADER_OFFSET_SIZE",(function(){return o.DDS_HEADER_OFFSET_SIZE})),r.d(t,"DDS_HEADER_OFFSET_FLAGS",(function(){return o.DDS_HEADER_OFFSET_FLAGS})),r.d(t,"DDS_HEADER_OFFSET_HEIGHT",(function(){return o.DDS_HEADER_OFFSET_HEIGHT})),r.d(t,"DDS_HEADER_OFFSET_WIDTH",(function(){return o.DDS_HEADER_OFFSET_WIDTH})),r.d(t,"DDS_HEADER_OFFSET_MIPMAP_COUNT",(function(){return o.DDS_HEADER_OFFSET_MIPMAP_COUNT})),r.d(t,"DDS_HEADER_OFFSET_PF_FLAGS",(function(){return o.DDS_HEADER_OFFSET_PF_FLAGS})),r.d(t,"DDS_HEADER_OFFSET_PF_FOURCC",(function(){return o.DDS_HEADER_OFFSET_PF_FOURCC})),r.d(t,"DDS_HEADER_OFFSET_RGB_BPP",(function(){return o.DDS_HEADER_OFFSET_RGB_BPP})),r.d(t,"DDS_HEADER_OFFSET_R_MASK",(function(){return o.DDS_HEADER_OFFSET_R_MASK})),r.d(t,"DDS_HEADER_OFFSET_G_MASK",(function(){return o.DDS_HEADER_OFFSET_G_MASK})),r.d(t,"DDS_HEADER_OFFSET_B_MASK",(function(){return o.DDS_HEADER_OFFSET_B_MASK})),r.d(t,"DDS_HEADER_OFFSET_A_MASK",(function(){return o.DDS_HEADER_OFFSET_A_MASK})),r.d(t,"DDS_HEADER_OFFSET_CAPS1",(function(){return o.DDS_HEADER_OFFSET_CAPS1})),r.d(t,"DDS_HEADER_OFFSET_CAPS2",(function(){return o.DDS_HEADER_OFFSET_CAPS2})),r.d(t,"DDS_HEADER_OFFSET_CAPS3",(function(){return o.DDS_HEADER_OFFSET_CAPS3})),r.d(t,"DDS_HEADER_OFFSET_CAPS4",(function(){return o.DDS_HEADER_OFFSET_CAPS4})),r.d(t,"DDS_HEADER_OFFSET_DXGI_FORMAT",(function(){return o.DDS_HEADER_OFFSET_DXGI_FORMAT})),r.d(t,"FOURCC_DXT1",(function(){return o.FOURCC_DXT1})),r.d(t,"FOURCC_DXT5",(function(){return o.FOURCC_DXT5})),r.d(t,"FOURCC_DXT3",(function(){return o.FOURCC_DXT3})),r.d(t,"FOURCC_DXT10",(function(){return o.FOURCC_DXT10})),r.d(t,"FOURCC_D3DFMT_R16G16B16A16F",(function(){return o.FOURCC_D3DFMT_R16G16B16A16F})),r.d(t,"FOURCC_D3DFMT_R32G32B32A32F",(function(){return o.FOURCC_D3DFMT_R32G32B32A32F})),r.d(t,"DXGI_FORMAT_R16G16B16A16_FLOAT",(function(){return o.DXGI_FORMAT_R16G16B16A16_FLOAT})),r.d(t,"DXGI_FORMAT_B8G8R8X8_UNORM",(function(){return o.DXGI_FORMAT_B8G8R8X8_UNORM})),r.d(t,"VendorRequestAnimationFrame",(function(){return o.VendorRequestAnimationFrame})),r.d(t,"VendorCancelAnimationFrame",(function(){return o.VendorCancelAnimationFrame})),r.d(t,"VendorRequestFullScreen",(function(){return o.VendorRequestFullScreen})),r.d(t,"VendorExitFullScreen",(function(){return o.VendorExitFullScreen})),r.d(t,"VendorGetFullScreenElement",(function(){return o.VendorGetFullScreenElement})),r.d(t,"VendorWebglPrefixes",(function(){return o.VendorWebglPrefixes}));var l=r("./global/math/index.js");r.d(t,"num",(function(){return l.num})),r.d(t,"vec2",(function(){return l.vec2})),r.d(t,"vec3",(function(){return l.vec3})),r.d(t,"vec4",(function(){return l.vec4})),r.d(t,"quat",(function(){return l.quat})),r.d(t,"mat3",(function(){return l.mat3})),r.d(t,"mat4",(function(){return l.mat4})),r.d(t,"noise",(function(){return l.noise})),r.d(t,"curve",(function(){return l.curve})),r.d(t,"box3",(function(){return l.box3})),r.d(t,"tri3",(function(){return l.tri3})),r.d(t,"lne3",(function(){return l.lne3})),r.d(t,"pln",(function(){return l.pln})),r.d(t,"ray3",(function(){return l.ray3})),r.d(t,"sph3",(function(){return l.sph3}));var s=r("./global/Tw2Library.js");r.d(t,"tw2",(function(){return s.tw2})),r.d(t,"resMan",(function(){return s.resMan})),r.d(t,"device",(function(){return s.device}))},"./global/math/box3.js":function(e,t,r){"use strict";r.r(t),r.d(t,"box3",(function(){return a}));var i=r("./global/math/num.js"),n=r("./global/math/vec3.js"),a=(r("./global/math/sph3.js"),r("./global/math/mat4.js"),{bounds:{}}),o=null,l=null;a.$min=function(e){return e.subarray(0,3)},a.$max=function(e){return e.subarray(3,6)},a.addPoint=function(e,t,r){return e[0]=Math.min(t[0],r[0]),e[1]=Math.min(t[1],r[1]),e[2]=Math.min(t[2],r[2]),e[3]=Math.max(t[3],r[0]),e[4]=Math.max(t[4],r[1]),e[5]=Math.max(t[5],r[2]),e},a.addPoints=function(e,t,r){for(var i=t[0],n=t[1],a=t[2],o=t[3],l=t[4],s=t[5],u=0;u<r.length;u++)i=Math.min(i,r[u][0]),n=Math.min(n,r[u][1]),a=Math.min(a,r[u][2]),o=Math.max(o,r[u][0]),l=Math.max(l,r[u][1]),s=Math.max(s,r[u][2]);return e[0]=i,e[1]=n,e[2]=a,e[3]=o,e[4]=l,e[5]=s,e},a.clone=function(e){var t=new Float32Array(6);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t},a.contains=function(e,t){return e[0]<=t[0]&&t[3]<=e[3]&&e[1]<=t[1]&&t[4]<=e[4]&&e[2]<=t[2]&&t[5]<=e[5]},a.containsBounds=function(e,t,r){return e[0]<=t[0]&&r[0]<=e[3]&&e[1]<=t[1]&&r[1]<=e[4]&&e[2]<=t[2]&&r[2]<=e[5]},a.containsPoint=function(e,t){return!(t[0]<e[0]||t[0]>e[3]||t[1]<e[1]||t[1]>e[4]||t[2]<e[2]||t[2]>e[5])},a.containsValue=function(e,t,r,i){return!(t<e[0]||t>e[3]||r<e[1]||r>e[4]||i<e[2]||i>e[5])},a.copy=function(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e},a.copyMin=n.vec3.copy,a.copyMax=function(e,t){return e[3]=t[3],e[4]=t[4],e[5]=t[5],e},a.create=function(){return a.empty(new Float32Array(6))},a.distanceToPoint=function(e,t){var r=Math.max(e[0],Math.min(e[3],t[0]))-t[0],i=Math.max(e[1],Math.min(e[4],t[1]))-t[1],n=Math.max(e[2],Math.min(e[5],t[2]))-t[2];return Math.sqrt(r*r+i*i+n*n)},a.distanceToValues=function(e,t,r,i){var n=Math.max(e[0],Math.min(e[3],t))-t,a=Math.max(e[1],Math.min(e[4],r))-r,o=Math.max(e[2],Math.min(e[5],i))-i;return Math.sqrt(n*n+a*a+o*o)},a.empty=function(e){return e[0]=0,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=0,e},a.bounds.empty=function(e,t){e[0]=0,e[1]=0,e[2]=0,t[0]=0,t[1]=0,t[2]=0},a.equals=function(e,t){var r=e[0],n=e[1],a=e[2],o=e[3],l=e[4],s=e[5],u=t[0],c=t[1],f=t[2],d=t[3],h=t[4],b=t[5];return Math.abs(r-u)<=i.num.EPSILON*Math.max(1,Math.abs(r),Math.abs(u))&&Math.abs(n-c)<=i.num.EPSILON*Math.max(1,Math.abs(n),Math.abs(c))&&Math.abs(a-f)<=i.num.EPSILON*Math.max(1,Math.abs(a),Math.abs(f))&&Math.abs(o-d)<=i.num.EPSILON*Math.max(1,Math.abs(o),Math.abs(d))&&Math.abs(l-h)<=i.num.EPSILON*Math.max(1,Math.abs(l),Math.abs(h))&&Math.abs(s-b)<=i.num.EPSILON*Math.max(1,Math.abs(s),Math.abs(b))},a.equalsBounds=function(e,t,r){var n=e[0],a=e[1],o=e[2],l=e[3],s=e[4],u=e[5],c=t[0],f=t[1],d=t[2],h=r[0],b=r[1],m=r[2];return Math.abs(n-c)<=i.num.EPSILON*Math.max(1,Math.abs(n),Math.abs(c))&&Math.abs(a-f)<=i.num.EPSILON*Math.max(1,Math.abs(a),Math.abs(f))&&Math.abs(o-d)<=i.num.EPSILON*Math.max(1,Math.abs(o),Math.abs(d))&&Math.abs(l-h)<=i.num.EPSILON*Math.max(1,Math.abs(l),Math.abs(h))&&Math.abs(s-b)<=i.num.EPSILON*Math.max(1,Math.abs(s),Math.abs(b))&&Math.abs(u-m)<=i.num.EPSILON*Math.max(1,Math.abs(u),Math.abs(m))},a.exactEquals=function(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===t[3]&&e[4]===t[4]&&e[5]===t[5]},a.exactEqualsBounds=function(e,t,r){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===r[0]&&e[4]===r[1]&&e[5]===r[2]},a.expandScalar=function(e,t,r){return e[0]=t[0]-r,e[1]=t[1]-r,e[2]=t[2]-r,e[3]=t[3]+r,e[4]=t[4]+r,e[5]=t[5]+r,e},a.expandValues=function(e,t,r,i,n){return e[0]=t[0]-r,e[1]=t[1]-i,e[2]=t[2]-n,e[3]=t[3]+r,e[4]=t[4]+i,e[5]=t[5]+n,e},a.expandVec3=function(e,t,r){return e[0]=t[0]-r[0],e[1]=t[1]-r[1],e[2]=t[2]-r[2],e[3]=t[3]+r[0],e[4]=t[4]+r[1],e[5]=t[5]+r[2],e},a.fromArray=function(e,t,r=0){return e[0]=t[r],e[1]=t[r+1],e[2]=t[r+2],e[3]=t[r+3],e[4]=t[r+4],e[5]=t[r+5],e},a.fromBounds=function(e,t,r){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=r[0],e[4]=r[1],e[5]=r[2],e},a.fromObjectBounds=function(e,t,r){if(t.minBounds)a.fromBounds(e,t.minBounds,t.maxBounds);else{if(!t._boundingBox)throw new Error("Invalid object bounds");a.copy(e,t._boundingBox)}return r&&a.transformMat4(e,e,r),e},a.fromObjectPositionRadius=function(e,t,r){if(t.boundsSpherePosition)a.fromPositionRadius(e,t.boundsSpherePosition,t.boundsSphereRadius);else{if(!t.boundingSphereCenter)throw new Error("Invalid object bounds");a.fromPositionRadius(e,t.boundingSphereCenter,t.boundingSphereRadius)}return r&&a.transformMat4(e,e,r),e},a.fromPositionSize=function(e,t,r){return e[0]=t[0]-.5*r[0],e[1]=t[1]-.5*r[1],e[2]=t[2]-.5*r[2],e[3]=t[0]+.5*r[0],e[4]=t[1]+.5*r[1],e[5]=t[2]+.5*r[2],e},a.fromPoints=function(e,t){a.empty(e);for(var r=0;r<t.length;r++)e[0]=Math.min(e[0],t[r][0]),e[1]=Math.min(e[1],t[r][1]),e[2]=Math.min(e[2],t[r][2]),e[3]=Math.max(e[3],t[r][0]),e[4]=Math.max(e[4],t[r][1]),e[5]=Math.max(e[5],t[r][2]);return e},a.fromPositionRadius=function(e,t,r){return e[0]=t[0]-r,e[1]=t[1]-r,e[2]=t[2]-r,e[3]=t[0]+r,e[4]=t[1]+r,e[5]=t[2]+r,e},a.fromSph3=function(e,t){return e[0]=t[0]-t[3],e[1]=t[1]-t[3],e[2]=t[2]-t[3],e[3]=t[0]+t[3],e[4]=t[1]+t[3],e[5]=t[2]+t[3],e},a.fromValues=function(e,t,r,i,n,o){var l=a.create();return l[0]=e,l[1]=t,l[2]=r,l[3]=i,l[4]=n,l[5]=o,l},a.getClampedPoint=function(e,t,r){return e[0]=Math.max(t[0],Math.min(t[3],r[0])),e[1]=Math.max(t[1],Math.min(t[4],r[1])),e[2]=Math.max(t[2],Math.min(t[5],r[2])),e},a.getMax=function(e,t){return e[0]=t[3],e[1]=t[4],e[2]=t[5],e},a.getMin=function(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e},a.getSize=function(e,t){return e[0]=t[3]-t[0],e[1]=t[4]-t[1],e[2]=t[5]-t[2],e},a.getPosition=function(e,t){return e[0]=.5*(t[0]+t[3]),e[1]=.5*(t[1]+t[4]),e[2]=.5*(t[2]+t[5]),e},a.radius=function(e){var t=e[3]-e[0],r=e[4]-e[1],i=e[5]-e[2];return.5*Math.sqrt(t*t+r*r+i*i)},a.intersect=function(e,t,r){return e[0]=Math.max(t[0],r[0]),e[1]=Math.max(t[1],r[1]),e[2]=Math.max(t[2],r[2]),e[3]=Math.min(t[3],r[3]),e[4]=Math.min(t[4],r[4]),e[5]=Math.min(t[5],r[5]),e},a.intersectBounds=function(e,t,r,i){return e[0]=Math.max(t[0],r[0]),e[1]=Math.max(t[1],r[1]),e[2]=Math.max(t[2],r[2]),e[3]=Math.min(t[3],i[0]),e[4]=Math.min(t[4],i[1]),e[5]=Math.min(t[5],i[2]),e},a.intersects=function(e,t){return!(t[3]<e[0]||t[0]>e[3]||t[4]<e[1]||t[1]>e[4]||t[5]<e[2]||t[2]>e[5])},a.intersectsBounds=function(e,t,r){return!(r[0]<e[0]||t[0]>e[3]||r[1]<e[1]||t[1]>e[4]||r[2]<e[2]||t[2]>e[5])},a.intersectsNormalConstant=function(e,t,r){var i,n;return t[0]>0?(i=t[0]*e[0],n=t[0]*e[3]):(i=t[0]*e[3],n=t[0]*e[0]),t[1]>0?(i=t[1]*e[1],n=t[1]*e[4]):(i=t[1]*e[4],n=t[1]*e[1]),t[2]>0?(i+=t[2]*e[2],n+=t[2]*e[5]):(i+=t[2]*e[5],n+=t[2]*e[2]),i<=r&&n>=r},a.intersectsPln=function(e,t){return a.intersectsNormalConstant(e,t,t[3])},a.intersectsPoint=function(e,t){return t[0]>=e[0]&&t[0]<=e[3]&&t[1]>=e[1]&&t[1]<=e[4]&&t[2]>=e[2]&&t[2]<=e[5]},a.intersectsValues=function(e,t,r,i){return t>=e[0]&&t<=e[3]&&r>=e[1]&&r<=e[4]&&i>=e[2]&&i<=e[5]},a.intersectsPositionRadius=function(e,t,r){var i=Math.max(e[0],Math.min(e[3],t[0]))-t[0],n=Math.max(e[1],Math.min(e[4],t[1]))-t[1],a=Math.max(e[2],Math.min(e[5],t[2]))-t[2];return i*i+n*n+a*a<=r*r},a.intersectsSph3=function(e,t){var r=Math.max(e[0],Math.min(e[3],t[0]))-t[0],i=Math.max(e[1],Math.min(e[4],t[1]))-t[1],n=Math.max(e[2],Math.min(e[5],t[2]))-t[2];return r*r+i*i+n*n<=t[3]*t[3]},a.isEmpty=function(e){return e[0]+e[1]+e[2]+e[0]+e[1]+e[2]===0||(e[3]<e[0]||e[4]<e[1]||e[5]<e[2])},a.bounds.isEmpty=function(e,t){return e[0]+e[1]+e[2]+t[0]+t[1]+t[2]===0||(t[0]<e[0]||t[1]<e[1]||t[2]<e[2])},a.set=function(e,t,r,i,n,a,o){return e[0]=t,e[1]=r,e[2]=i,e[3]=n,e[4]=a,e[5]=o,e},a.squaredDistanceToPoint=function(e,t){var r=Math.max(e[0],Math.min(e[3],t[0]))-t[0],i=Math.max(e[1],Math.min(e[4],t[1]))-t[1],n=Math.max(e[2],Math.min(e[5],t[2]))-t[2];return r*r+i*i+n*n},a.surfaceArea=function(e){var t=e[3]-e[0],r=e[4]-e[1],i=e[5]-e[2];return 2*(t*(r+i)+r*i)},a.toArray=function(e,t,r=0){return t[r]=e[0],t[r+1]=e[1],t[r+2]=e[2],t[r+3]=e[3],t[r+4]=e[4],t[r+5]=e[5],e},a.toBounds=function(e,t,r){return t[0]=e[0],t[1]=e[1],t[2]=e[2],r[0]=e[3],r[1]=e[4],r[2]=e[5],e},a.toObjectBounds=function(e,t,r){if(!(t.minBounds||t._boundingBox))throw console.dir(t),new Error("Invalid object bounds");r&&(o||(o=a.create()),e=a.transformMat4(o,e,r)),t.minBounds?a.toBounds(e,t.minBounds,t.maxBounds):a.copy(t._boundingBox,e)},a.toObjectPositionRadius=function(e,t,r){if(r&&(o||(o=a.create()),e=a.transformMat4(o,e,r)),t.boundsSpherePosition)t.boundsSphereRadius=a.toPositionRadius(e,t.boundsSpherePosition);else{if(!t.boundingSphereCenter)throw new Error("Invalid object bounds");t.boundingSphereRadius=a.toPositionRadius(e,t.boundingSphereCenter)}},a.toPoints=function(e,t=[]){var r=e[0],i=e[1],n=e[2],a=e[3],o=e[4],l=e[5],s=a+Math.abs(r),u=o+Math.abs(i),c=l+Math.abs(n);return t.push([a+0,o+0,l+0]),t.push([a-s,o+0,l+0]),t.push([a+0,o+0,l-c]),t.push([a-s,o+0,l-c]),t.push([a+0,o-u,l+0]),t.push([a-s,o-u,l+0]),t.push([a+0,o-u,l-c]),t.push([a-s,o-u,l-c]),t},a.toPositionRadius=function(e,t){var r=e[3]-e[0],i=e[4]-e[1],n=e[5]-e[2];return t[0]=.5*(e[0]+e[3]),t[1]=.5*(e[1]+e[4]),t[2]=.5*(e[2]+e[5]),.5*Math.sqrt(r*r+i*i+n*n)},a.bounds.toPositionRadius=function(e,t,r){var i=t[0]-e[0],n=t[1]-e[1],a=t[2]-e[2];return r[0]=.5*(e[0]+t[0]),r[1]=.5*(e[1]+t[1]),r[2]=.5*(e[2]+t[2]),.5*Math.sqrt(i*i+n*n+a*a)},a.translate=function(e,t,r){return e[0]=t[0]+r[0],e[1]=t[1]+r[1],e[2]=t[2]+r[2],e[3]=t[3]+r[0],e[4]=t[4]+r[1],e[5]=t[5]+r[2],e},a.transformMat4=function(e,t,r){return l||(l=[n.vec3.create(),n.vec3.create(),n.vec3.create(),n.vec3.create(),n.vec3.create(),n.vec3.create(),n.vec3.create(),n.vec3.create()]),a.isEmpty(t)?a.empty(e):(n.vec3.transformMat4(l[0],[t[0],t[1],t[2]],r),n.vec3.transformMat4(l[1],[t[0],t[1],t[5]],r),n.vec3.transformMat4(l[2],[t[0],t[4],t[2]],r),n.vec3.transformMat4(l[3],[t[0],t[4],t[5]],r),n.vec3.transformMat4(l[4],[t[3],t[1],t[2]],r),n.vec3.transformMat4(l[5],[t[3],t[1],t[5]],r),n.vec3.transformMat4(l[6],[t[3],t[4],t[2]],r),n.vec3.transformMat4(l[7],[t[3],t[4],t[5]],r),a.fromPoints(e,l))},a.union=function(e,t,r){return e[0]=Math.min(t[0],r[0]),e[1]=Math.min(t[1],r[1]),e[2]=Math.min(t[2],r[2]),e[3]=Math.max(t[3],r[3]),e[4]=Math.max(t[4],r[4]),e[5]=Math.max(t[5],r[5]),e},a.unionBounds=function(e,t,r,i){return e[0]=Math.min(t[0],r[0]),e[1]=Math.min(t[1],r[1]),e[2]=Math.min(t[2],r[2]),e[3]=Math.max(t[3],i[0]),e[4]=Math.max(t[4],i[1]),e[5]=Math.max(t[5],i[2]),e},a.bounds.union=function(e,t,r,i,n,a){e[0]=Math.min(r[0],n[0]),e[1]=Math.min(r[1],n[1]),e[2]=Math.min(r[2],n[2]),t[0]=Math.max(i[0],a[0]),t[1]=Math.max(i[1],a[1]),t[2]=Math.max(i[2],a[2])}},"./global/math/curve.js":function(e,t,r){"use strict";r.r(t),r.d(t,"curve",(function(){return i}));var i={evaluate:function(e,t,r,i,n){for(var a=e.knots.length,o=a-1,l=0,s=0;s<e.knots.length;++s)if(e.knots[s]>t){o=s;break}if(0===e.degree)for(var u=0;u<e.dimension;++u)r[u]=e.controls[o*e.dimension+u];else if(1===e.degree){var c=i?(o+a-1)%a:0===o?0:o-1,f=e.knots[o]-e.knots[c];f<0&&(f+=n),f>0&&(l=(t-e.knots[e.knots.length-1])/f);for(var d=0;d<e.dimension;++d)r[d]=e.controls[c*e.dimension+d]*(1-l)+e.controls[o*e.dimension+d]*l}else{var h=i?(o+a-2)%a:0===o?0:o-2,b=i?(o+a-1)%a:0===o?0:o-1,m=h*e.dimension,p=b*e.dimension,v=o*e.dimension,g=e.knots[h],E=e.knots[b],y=e.knots[o],T=e.knots[(o+1)%a];g>y&&(y+=n,T+=n,t+=n),E>y&&(y+=n,T+=n,t+=n),T<y&&(T+=n);var w=t-E,_=w/(y-E),S=(t-g)/(y-g),R=S+_-_*S,j=_*(w/(T-E)),O=R-j;R=1-R;for(var A=0;A<e.dimension;++A)r[A]=R*e.controls[m+A]+O*e.controls[p+A]+j*e.controls[v+A]}},ag_horner1:function(e,t,r){for(var i=e[t];--t>=0;)i=r*i+e[t];return i},ag_zeroin2:function(e,t,r,n,a,o){var l,s,u,c,f,d,h,b,m,p;for(var v=!0;v&&(l=e,c=r,u=s=t-e),Math.abs(c)<Math.abs(n)&&(e=t,t=l,l=e,r=n,n=c,c=r),v=!1,f=2.384185792e-7*Math.abs(t)+.5*a,d=.5*(l-t),Math.abs(d)>f&&0!==n;)Math.abs(u)<f||Math.abs(r)<=Math.abs(n)?u=s=d:(p=n/r,e===l?(h=2*d*p,b=1-p):(h=p*(2*d*(b=r/c)*(b-(m=n/c))-(t-e)*(m-1)),b=(b-1)*(m-1)*(p-1)),h>0?b=-b:h=-h,p=u,u=s,2*h<3*d*b-Math.abs(f*b)&&h<Math.abs(.5*p*b)?s=h/b:u=s=d),e=t,r=n,Math.abs(s)>f?t+=s:d>0?t+=f:t-=f,(n=i.ag_horner1(o.p,o.deg,t))*(c/Math.abs(c))>0&&(v=!0);return t},ag_zeroin:function(e,t,r,n){var a,o;return a=i.ag_horner1(n.p,n.deg,e),Math.abs(a)<1.192092896e-7?e:(o=i.ag_horner1(n.p,n.deg,t),Math.abs(o)<1.192092896e-7?t:i.ag_zeroin2(e,t,a,o,r,n))},polyZeroes:function(e,t,r,n,a,o,l){var s,u,c,f,d,h,b,m,p,v,g,E,y,T,w,_=new Array(22),S=new Array(22),R=new Array(22),j={p:[],deg:0};for(b=v=0,m=0,s=0;s<t+1;++s)m+=Math.abs(e[s]);if(m<=(E=(Math.abs(r)+Math.abs(a))*(t+1)*1.192092896e-7))return-1;for(y=_,T=S,w=R,s=0;s<t+1;++s)y[s]=1/m*e[s];for(;Math.abs(y[t])<E;)t--;if(f=0,0===t)return f;if(1===t)return l[0]=-y[0]/y[1],u=n?r<l[0]+E:r<l[0]-E,c=o?a>l[0]-E:a>l[0]+E,(f=u&&c?1:0)&&(n&&l[0]<r?l[0]=r:o&&l[0]>a&&(l[0]=a)),f;for(j.p=y,j.deg=t,s=1;s<=t;s++)T[s-1]=s*y[s];if(0===(d=i.polyZeroes(T,t-1,r,0,a,0,w)).length)return 0;for(s=h=0;s<=d;s++){if(f>t)return f;0===s?(p=r,g=i.ag_horner1(y,t,p),Math.abs(g)<=E&&n&&(l[f++]=r)):(p=b,g=v),s===d?(b=a,h=0):b=w[s],v=i.ag_horner1(y,t,b),h?h=0:Math.abs(v)<E?(s!==d||o)&&(l[f++]=b,h=1):(g<0&&v>0||g>0&&v<0)&&(l[f++]=i.ag_zeroin(p,b,0,j),f>1&&l[f-2]>=l[f-1]-E&&(l[f-2]=.5*(l[f-2]+l[f-1]),f--))}return f}}},"./global/math/index.js":function(e,t,r){"use strict";r.r(t);var i=r("./global/math/num.js");r.d(t,"num",(function(){return i.num}));var n=r("./global/math/vec2.js");r.d(t,"vec2",(function(){return n.vec2}));var a=r("./global/math/vec3.js");r.d(t,"vec3",(function(){return a.vec3}));var o=r("./global/math/vec4.js");r.d(t,"vec4",(function(){return o.vec4}));var l=r("./global/math/quat.js");r.d(t,"quat",(function(){return l.quat}));var s=r("./global/math/mat3.js");r.d(t,"mat3",(function(){return s.mat3}));var u=r("./global/math/mat4.js");r.d(t,"mat4",(function(){return u.mat4}));var c=r("./global/math/noise.js");r.d(t,"noise",(function(){return c.noise}));var f=r("./global/math/curve.js");r.d(t,"curve",(function(){return f.curve}));var d=r("./global/math/box3.js");r.d(t,"box3",(function(){return d.box3}));var h=r("./global/math/tri3.js");r.d(t,"tri3",(function(){return h.tri3}));var b=r("./global/math/lne3.js");r.d(t,"lne3",(function(){return b.lne3}));var m=r("./global/math/pln.js");r.d(t,"pln",(function(){return m.pln}));var p=r("./global/math/ray3.js");r.d(t,"ray3",(function(){return p.ray3}));var v=r("./global/math/sph3.js");r.d(t,"sph3",(function(){return v.sph3}))},"./global/math/lne3.js":function(e,t,r){"use strict";r.r(t),r.d(t,"lne3",(function(){return l}));var i,n,a=r("./global/math/vec3.js"),o=r("./global/math/box3.js"),l={};l.$end=o.box3.$max,l.$start=o.box3.$min,l.clone=o.box3.clone,l.closestPointToPointParameter=function(e,t,r){i||(i=a.vec3.create(),n=a.vec3.create());var o=i,l=n;o[0]=t[0]-e[0],o[1]=t[1]-e[1],o[2]=t[2]-e[2],l[0]=e[3]-e[0],l[1]=e[4]-e[1],l[2]=e[5]-e[2];var s=l[0]*l[0]+l[1]*l[1]+l[2]*l[2],u=(l[0]*o[0]+l[1]*o[1]+l[2]*o[2])/s;return r&&(u=Math.max(0,Math.min(1,u))),u},l.copy=o.box3.copy,l.copyStart=a.vec3.copy,l.copyEnd=o.box3.copyMax,l.create=o.box3.create,l.equals=o.box3.equals,l.equalsStartEnd=o.box3.equalsBounds,l.exactEquals=o.box3.equals,l.exactEqualsStartEnd=o.box3.exactEqualsBounds,l.fromArray=o.box3.fromArray,l.fromStartEnd=o.box3.fromBounds,l.get=function(e,t,r){if(r<0||r>1)throw e[0]=0,e[1]=0,e[2]=0,new Error("Normalization error");return e[0]=(t[3]-t[0])*r+t[0],e[1]=(t[4]-t[1])*r+t[1],e[2]=(t[5]-t[2])*r+t[2],e},l.getCenter=function(e,t){return e[0]=.5*(t[0]+t[3]),e[1]=.5*(t[1]+t[4]),e[2]=.5*(t[2]+t[5]),e},l.getClosestPointToPoint=function(e,t,r,i){return l.get(e,t,l.closestPointToPointParameter(t,r,i))},l.getEnd=o.box3.getMax,l.getDelta=function(e,t){return e[0]=t[3]-t[0],e[1]=t[4]-t[1],e[2]=t[5]-t[2],e},l.getStart=o.box3.getMin,l.intersectsNormalConstant=function(e,t,r){var i=t[0]*e[0]+t[1]*e[1]+t[2]*e[2]+r,n=t[0]*e[3]+t[1]*e[4]+t[2]*e[5]+r;return i<0&&n>0||n<0&&i>0},l.length=function(e){var t=e[0]-e[3],r=e[1]-e[4],i=e[2]-e[5];return Math.sqrt(t*t+r*r+i*i)},l.set=o.box3.set,l.squaredLength=function(e){var t=e[0]-e[3],r=e[1]-e[4],i=e[2]-e[5];return t*t+r*r+i*i},l.toArray=o.box3.toArray,l.toStartEnd=o.box3.toBounds,l.transformMat4=function(e,t,r){var i=t[0],n=t[1],a=t[2],o=t[3],l=t[4],s=t[5];return e[0]=r[0]*i+r[4]*n+r[8]*a+r[12],e[1]=r[1]*i+r[5]*n+r[9]*a+r[13],e[2]=r[2]*i+r[6]*n+r[10]*a+r[14],e[3]=r[0]*o+r[4]*l+r[8]*s+r[12],e[4]=r[1]*o+r[5]*l+r[9]*s+r[13],e[5]=r[2]*o+r[6]*l+r[10]*s+r[14],e},l.translate=function(e,t,r){return e[0]=t[0]+r[0],e[1]=t[1]+r[1],e[2]=t[2]+r[2],e[3]=t[3]+r[0],e[4]=t[4]+r[1],e[5]=t[5]+r[2],e}},"./global/math/mat3.js":function(e,t,r){"use strict";r.r(t);var i=r("../node_modules/gl-matrix/lib/gl-matrix.js");r.d(t,"mat3",(function(){return i.mat3})),i.mat3.fromArray=function(e,t,r=0){return e[0]=t[r],e[1]=t[r+1],e[2]=t[r+2],e[3]=t[r+3],e[4]=t[r+4],e[5]=t[r+5],e[6]=t[r+6],e[7]=t[r+7],e[8]=t[r+8],e},i.mat3.setArray=function(e,t,r=0){return e[0]=t[r],e[1]=t[r+1],e[2]=t[r+2],e[3]=t[r+3],e[4]=t[r+4],e[5]=t[r+5],e[6]=t[r+6],e[7]=t[r+7],e[8]=t[r+8],e},i.mat3.toArray=function(e,t,r=0){return t[r]=e[0],t[r+1]=e[1],t[r+2]=e[2],t[r+3]=e[3],t[r+4]=e[4],t[r+5]=e[5],t[r+6]=e[6],t[r+7]=e[7],t[r+8]=e[8],e}},"./global/math/mat4.js":function(e,t,r){"use strict";r.r(t);var i,n=r("../node_modules/gl-matrix/lib/gl-matrix.js");r.d(t,"mat4",(function(){return n.mat4})),n.mat4.arcFromForward=function(e,t){i||(i=n.vec3.create());var r=n.vec3.normalize(i,t);if(n.mat4.identity(e),r[2]<-.99999)return e;if(r[2]>.99999)return e[5]=-1,e[10]=-1,e;var a=(1+r[2])/(r[0]*r[0]+r[1]*r[1]);return e[0]=a*r[1]*r[1]-r[2],e[1]=-a*r[0]*r[1],e[2]=r[0],e[4]=e[1],e[5]=a*r[0]*r[0]-r[2],e[6]=r[1],e[8]=-r[0],e[9]=-r[1],e[10]=-r[2],e},n.mat4.copyTranslation=function(e,t){return e[12]=t[12],e[13]=t[13],e[14]=t[14],e},n.mat4.fromMat3=function(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[4]=t[3],e[5]=t[4],e[6]=t[5],e[8]=t[6],e[9]=t[7],e[10]=t[8],e[3]=e[7]=e[11]=e[12]=e[13]=e[14]=0,e[15]=1,e},n.mat4.lookAtGL=function(){var e,t,r;return function(i,a,o,l){return e||(e=n.vec3.create(),t=n.vec3.create(),r=n.vec3.create()),n.vec3.subtract(r,a,o),0===n.vec3.squaredLength(r)&&(r[2]=1),n.vec3.normalize(r,r),n.vec3.cross(e,l,r),0===n.vec3.squaredLength(e)&&(r[2]+=1e-4,n.vec3.cross(e,l,r)),n.vec3.normalize(e,e),n.vec3.cross(t,r,e),i[0]=e[0],i[1]=e[1],i[2]=e[2],i[3]=0,i[4]=t[0],i[5]=t[1],i[6]=t[2],i[7]=0,i[8]=r[0],i[9]=r[1],i[10]=r[2],i[11]=0,i[12]=0,i[13]=0,i[14]=0,i[15]=1,i}}(),n.mat4.maxScaleOnAxis=function(e){var t=e[0],r=e[4],i=e[8],n=e[1],a=e[5],o=e[9],l=e[2],s=e[6],u=e[10],c=t*t+r*r+i*i,f=n*n+a*a+o*o,d=l*l+s*s+u*u;return Math.sqrt(Math.max(c,f,d))},n.mat4.perspectiveGL=function(e,t,r,i,a){var o=Math.tan(t/360*Math.PI)*i,l=o*r;return n.mat4.frustum(e,-l,l,-o,o,i,a),e},n.mat4.projectVec3=function(e,t,r){var i=r[0],n=r[1],a=r[2],o=t[0]*i+t[4]*n+t[8]*a+t[12],l=t[1]*i+t[5]*n+t[9]*a+t[13],s=t[2]*i+t[6]*n+t[10]*a+t[14],u=t[3]*i+t[7]*n+t[11]*a+t[15];return e[0]=(o/u+1)/2,e[1]=(l/u+1)/2,e[2]=(s/u+1)/2,e},n.mat4.setTranslation=function(e,t){return e[12]=t[0],e[13]=t[1],e[14]=t[2],e},n.mat4.setTranslationFromValues=function(e,t,r,i){return e[12]=t,e[13]=r,e[14]=i,e}},"./global/math/noise.js":function(e,t,r){"use strict";r.r(t),r.d(t,"noise",(function(){return h}));var i,n,a,o,l,s,u,c,f=r("./global/math/vec3.js"),d=r("./global/math/vec4.js"),h={};h.turbulence=(i=[],n=[],a=[],o=!1,function(e,t,r,l,s,u){o||function(){for(var e=0;e<256;e++)i[e]=d.vec4.fromValues(Math.random()-.5,Math.random()-.5,Math.random()-.5,Math.random()-.5),n[e]=e;for(var t=256;--t;){var r=n[t],l=Math.floor(256*Math.random());n[t]=n[l],n[l]=r}for(var s=0;s<256;s++)n[256+s]=n[s],i[256+s]=i[s],i[512+s]=i[s];for(var u=0;u<15;++u)a[u]=f.vec3.create();o=!0}(),t+=4096,r+=4096,l+=4096,s+=4096;var c=Math.floor(t),h=Math.floor(r),b=Math.floor(l),m=Math.floor(s),p=t-c,v=r-h,g=l-b,E=s-m,y=1+(c&=255),T=1+(h&=255),w=1+(b&=255),_=1+(m&=255),S=n[c],R=n[y],j=n[S+h],O=n[R+h],A=n[S+T],z=n[R+T],P=f.vec3.lerp(a[0],i[j+b+m],i[O+b+m],p),C=f.vec3.lerp(a[1],i[A+b+m],i[z+b+m],p),D=f.vec3.lerp(a[2],i[j+w+m],i[O+w+m],p),I=f.vec3.lerp(a[3],i[j+w+m],i[O+w+m],p),x=f.vec3.lerp(a[4],P,C,v),L=f.vec3.lerp(a[5],D,I,v),M=f.vec3.lerp(a[6],x,L,g);P=f.vec3.lerp(a[7],i[j+b+_],i[O+b+_],p),C=f.vec3.lerp(a[8],i[A+b+_],i[z+b+_],p),D=f.vec3.lerp(a[9],i[j+w+_],i[O+w+_],p),I=f.vec3.lerp(a[10],i[j+w+_],i[O+w+_],p),x=f.vec3.lerp(a[11],P,C,v),L=f.vec3.lerp(a[12],D,I,v);var F=f.vec3.lerp(a[13],x,L,g),G=f.vec3.lerp(a[14],M,F,E);return e[0]+=G[0]*u,e[1]+=G[1]*u,e[2]+=G[2]*u,e}),h.perlin1=(l=!1,s=256,u=null,c=null,function(e){l||function(){u=new Array(s+s+2),c=new Array(s+s+2);var e=0,t=0,r=0;for(e=0;e<s;e++)u[e]=e,c[e]=2*Math.random()-1;for(;--e;)r=u[e],u[e]=u[t=Math.floor(Math.random()*s)],u[t]=r;for(e=0;e<s+2;e++)u[s+e]=u[e],c[s+e]=c[e];l=!0}();var t=e+4096,r=255&Math.floor(t),i=r+1&255,n=t-Math.floor(t),a=n-1,o=n*n*(3-2*n),f=n*c[u[r]];return f+o*(a*c[u[i]]-f)}),h.perlin1D=function(e,t,r,i){for(var n=0,a=e,o=1,l=0;l<i;++l)n+=h.perlin1(a)/o,o*=t,a*=r;return n}},"./global/math/num.js":function(e,t,r){"use strict";r.r(t),r.d(t,"num",(function(){return a}));var i,n,a={};a.EPSILON=1e-6,a.RAD2DEG=180/Math.PI,a.DEG2RAD=Math.PI/180,a.TWO_PI=2*Math.PI,a.PI=Math.PI,a.biCumulative=function(e,t){if(1===t){var r=1-e;return 1-r*r*r}return 2===t?3*e*e-2*e*e*e:e*e*e},a.ceil=Math.ceil,a.clamp=function(e,t,r){return Math.max(t,Math.min(r,e))},a.decimalPlaces=function(e){var t=(""+e).match(/(?:\.(\d+))?(?:[eE]([+-]?\d+))?$/);return t?Math.max(0,(t[1]?t[1].length:0)-(t[2]?+t[2]:0)):0},a.degrees=function(e){return e*a.RAD2DEG},a.degreesUnwrapped=function(e){return a.unwrapDegrees(e*a.RAD2DEG)},a.dwordToFloat=function(e){var t=(16711680&e)>>16,r=(4278190080&e)>>24,i=(r<<1&255|t>>7)-127,n=(127&t)<<16|(65280&e)>>8<<8|255&e;return 0===n&&-127===i?0:(1-2*(r>>7))*(1+n*Math.pow(2,-23))*Math.pow(2,i)},a.equals=function(e,t){return Math.abs(e-t)<=a.EPSILON*Math.max(1,Math.abs(e),Math.abs(t))},a.exactEquals=function(e,t){return e===t},a.exponentialDecay=function(e,t,r,i,n){return t*n/i+r*(e*i-t)/(i*i)*(1-Math.pow(Math.E,-i*n/r))},a.fract=function(e){return e-Math.floor(e)},a.fromHalfFloat=function(e){var t=(32768&e)>>15,r=(31744&e)>>10,i=1023&e;return 0===r?(t?-1:1)*Math.pow(2,-14)*(i/Math.pow(2,10)):31===r?i?NaN:1/0*(t?-1:1):(t?-1:1)*Math.pow(2,r-15)*(1+i/Math.pow(2,10))},a.floor=Math.floor,a.getLongWordOrder=function(e){return 0===e||255===e||-16777216===e?0:1+a.getLongWordOrder(e>>8)},a.greaterThan=function(e,t){return e>t?1:0},a.greaterThanEqual=function(e,t){return a.isEqual(e,t)||e>t?1:0},a.greaterThanExactEqual=function(e,t){return e>=t?1:0},a.isEven=function(e){return Math.abs(e)%2==0},a.isFloat=function(e){return e%1!=0},a.isFinite=Number.isFinite,a.isInt=function(e){return e%1==0},a.isNaN=Number.isNaN,a.isOdd=function(e){return Math.abs(e)%2==1},a.isPowerOfTwo=function(e){return 0==(e&e-1)&&0!==e},a.lessThan=function(e,t){return e<t?1:0},a.lessThanEqual=function(e,t){return a.isEqual(e,t)||e<t?1:0},a.lessThanExactEqual=function(e,t){return e<=t?1:0},a.log2=function(e){return Math.log(e)*Math.LOG2E},a.max=Math.max,a.min=Math.min,a.nearestPowerOfTwo=function(e){return Math.pow(2,Math.round(Math.log(e)/Math.LN2))},a.normalizeInt=function(e,t,r,i){var n=r-t,a=e-t,o=a-a/n*n+t;return void 0===i?o:Number(o.toFixed(i))},a.normalizeFloat=function(e,t,r,i){var n=r-t,a=e-t,o=a-Math.floor(a/n)*n+t;return void 0===i?o:Number(o.toFixed(i))},a.radians=function(e){return e*a.DEG2RAD},a.radiansUnwrapped=function(e){return a.unwrapRadians(e*=a.DEG2RAD)},a.randomInt=function(e,t){return e+Math.floor(Math.random()*(t-e+1))},a.randomFloat=function(e,t){return e+Math.random()*(t-e)},a.round=Math.round,a.roundToZero=function(e){return e<0?Math.ceil(e):Math.floor(e)},a.step=a.greaterThan,a.smoothStep=function(e,t,r){return e<=t?0:e>=r?1:(e=(e-t)/(r-t))*e*(3-2*e)},a.smootherStep=function(e,t,r){return e<=t?0:e>=r?1:(e=(e-t)/(r-t))*e*e*(e*(6*e-15)+10)},a.toHalfFloat=function(e){i||(i=new Float32Array(1),n=new Int32Array(i.buffer)),i[0]=e;var t=n[0],r=t>>16&32768,a=t>>12&2047,o=t>>23&255;return o<103?r:o>142?(r|=31744,r|=(255===o?0:1)&&8388607&t):o<113?r|=((a|=2048)>>114-o)+(a>>113-o&1):(r|=o-112<<10|a>>1,r+=1&a)},a.unwrapDegrees=function(e){return(e%=360)>180&&(e-=360),e<-180&&(e+=360),e},a.unwrapRadians=function(e){return(e%=a.TWO_PI)>a.PI&&(e-=a.TWO_PI),e<-a.PI&&(e+=a.TWO_PI),e}},"./global/math/pln.js":function(e,t,r){"use strict";r.r(t),r.d(t,"pln",(function(){return c}));var i,n,a=r("./global/math/num.js"),o=r("./global/math/vec3.js"),l=r("./global/math/vec4.js"),s=r("./global/math/mat3.js"),u=r("./global/math/box3.js"),c={};c.$normal=function(e){return e.subarray(0,3)},c.clone=l.vec4.clone,c.constant=function(e){return e[3]},c.copy=l.vec4.copy,c.create=l.vec4.create,c.distanceToPoint=function(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]+e[3]},c.distanceToPositionRadius=function(e,t,r){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]-r},c.distanceToSph3=function(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]-t[3]},c.distanceToValues=function(e,t,r,i){return e[0]*t+e[1]*r+e[2]*i+e[3]},c.equals=l.vec4.equals,c.equalsNormalConstant=function(e,t,r){var i=e[0],n=e[1],o=e[2],l=e[3],s=t[0],u=t[1],c=t[2],f=r;return Math.abs(i-s)<=a.num.EPSILON*Math.max(1,Math.abs(i),Math.abs(s))&&Math.abs(n-u)<=a.num.EPSILON*Math.max(1,Math.abs(n),Math.abs(u))&&Math.abs(o-c)<=a.num.EPSILON*Math.max(1,Math.abs(o),Math.abs(c))&&Math.abs(l-f)<=a.num.EPSILON*Math.max(1,Math.abs(l),Math.abs(f))},c.exactEquals=l.vec4.exactEquals,c.exactEqualsNormalConstant=function(e,t,r){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===r},c.extract=function(e,t){return t[0]=e[0],t[1]=e[1],t[2]=e[2],e[3]},c.fromNormalConstant=function(e,t,r){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=r,e},c.fromCoplanarPoints=function(e,t,r,i){var n=i[0]-r[0],a=i[1]-r[1],o=i[2]-r[2],l=t[0]-r[0],s=t[1]-r[1],u=t[2]-r[2],c=a*u-o*s,f=o*l-n*u,d=n*s-a*l,h=c*c+f*f+d*d;if(!(h>0))throw e[0]=0,e[1]=0,e[2]=0,new Error("Normalization error");return h=1/Math.sqrt(h),e[0]=c*h,e[1]=f*h,e[2]=d*h,e[3]=-(t[0]*e[0]+t[1]*e[1]+t[2]*e[2]),e},c.fromNormalAndCoplanarPoint=function(e,t,r){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=-(r[0]*t[0]+r[1]*t[1]+r[2]*t[2]),e},c.getCoplanarPoint=function(e,t){return e[0]=t[0]*-t[3],e[1]=t[1]*-t[3],e[2]=t[2]*-t[3],e},c.getIntersectLne3=function(e,t,r){var i=r[0],n=r[1],a=r[2],o=r[3],l=r[4],s=r[5];e[0]=0,e[1]=0,e[2]=0;var u=o-i,c=l-n,f=s-a,d=t[0]*u+t[1]*c+t[2]*f;if(0===d){if(t[0]*i+t[1]*n+t[2]*a+t[3]===0)return e[0]=i,e[1]=n,e[2]=a,e;throw new Error("Denominator error")}var h=(i*t[0]+n*t[1]+a*t[2]+t[3])/d;if(h<0||h>1)throw new Error("Normalization error");return e[0]=u*h+i,e[1]=c*h+n,e[2]=f*h+a,e},c.getIntersectStartEnd=function(e,t,r,n){return i||(i=u.box3.create()),u.box3.from(i,r,n),c.getIntersectLne3(e,t,i)},c.getNormal=function(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e},c.getOrthoPoint=function(e,t,r){var i=t[0]*r[0]+t[1]*r[1]+t[2]*r[2]+t[3];return o.vec3.multiplyScalar(e,t,i),e},c.getProjectedPoint=function(e,t,r){return c.getOrthoPoint(e,t,r),e[0]=-(e[0]-r[0]),e[1]=-(e[1]-r[1]),e[2]=-(e[2]-r[2]),e},c.intersectsBounds=function(){var e;return function(t,r,i){return e||(e=u.box3.create()),u.box3.from(e,r,i),u.box3.intersectsPln(e,t)}}(),c.intersectsBox3=function(e,t){return u.box3.intersectsPln(t,e)},c.intersectsLne3=function(e,t){var r=e[0]*t[0]+e[1]*t[1]+e[2]*t[2]+e[3],i=e[0]*t[3]+e[1]*t[4]+e[2]*t[5]+e[3];return r<0&&i>0||i<0&&r>0},c.intersectsPositionRadius=function(e,t,r){var i=t[0]*e[0]+t[1]*e[1]+t[2]*e[2];return Math.abs(i-e[3])<=r},c.intersectsSph3=function(e,t){var r=t[0]*e[0]+t[1]*e[1]+t[2]*e[2];return Math.abs(r-e[3])<=t[3]},c.intersectsStartEnd=function(e,t,r){var i=e[0]*t[0]+e[1]*t[1]+e[2]*t[2]+e[3],n=e[0]*r[0]+e[1]*r[1]+e[2]*r[2]+e[3];return i<0&&n>0||n<0&&i>0},c.negate=function(e,t){return e[0]=-t[0],e[1]=-t[1],e[2]=-t[2],e[3]=-1*t[3],e},c.normalize=function(e,t){var r=t[0],i=t[1],n=t[2],a=r*r+i*i+n*n;if(!(a>0))throw e[0]=0,e[1]=0,e[2]=0,new Error("Normalization error");return a=1/Math.sqrt(a),e[0]=t[0]*a,e[1]=t[1]*a,e[2]=t[2]*a,e[3]=t[3]*a,e},c.set=l.vec4.set,c.setArray=l.vec4.setArray,c.toArray=function(e,t,r=0){return t[r]=e[0],t[r+1]=e[1],t[r+2]=e[2],t[r+3]=e[3],e},c.transformMat4=function(e,t,r,i){i||n||(n=s.mat3.create()),i=i||s.mat3.normalFromMat4(n,r);var a=t[0]*-t[3],o=t[1]*-t[3],l=t[2]*-t[3],u=r[0]*a+r[4]*o+r[8]*l+r[12],c=r[1]*a+r[5]*o+r[9]*l+r[13],f=r[2]*a+r[6]*o+r[10]*l+r[14],d=t[0],h=t[1],b=t[2],m=d*i[0]+h*i[3]+b*i[6],p=d*i[1]+h*i[4]+b*i[7],v=d*i[2]+h*i[5]+b*i[8],g=m*m+p*p+v*v;if(!(g>0))throw e[0]=0,e[1]=0,e[2]=0,new Error("Normalization error");return g=1/Math.sqrt(g),e[0]=m*g,e[1]=p*g,e[2]=v*g,e[3]=-(u*e[0]+c*e[1]+f*e[2]),e},c.translate=function(e,t,r){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3]-(r[0]*t[0]+r[1]*t[1]+r[2]*t[2]),e}},"./global/math/quat.js":function(e,t,r){"use strict";r.r(t);var i=r("../node_modules/gl-matrix/lib/gl-matrix.js");r.d(t,"quat",(function(){return i.quat})),i.quat.exp=function(e,t){var r=Math.sqrt(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);return r?(e[0]=Math.sin(r)*t[0]/r,e[1]=Math.sin(r)*t[1]/r,e[2]=Math.sin(r)*t[2]/r,e[3]=Math.cos(r)):(e[0]=0,e[1]=0,e[2]=0,e[3]=1),e},i.quat.ln=function(e,t){var r=i.quat.length(t);if(r>1.0001||r<.99999)e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=0;else if(r=Math.sqrt(t[0]*t[0]+t[1]*t[1]+t[2]*t[2])){var n=Math.atan2(r,t[3])/r;e[0]=n*t[0],e[1]=n*t[1],e[2]=n*t[2],e[3]=0}else e[0]=0,e[1]=0,e[2]=0,e[3]=0;return e},i.quat.pow=function(e,t,r){return 1===r?i.quat.copy(e,t):(i.quat.ln(e,t),e[0]*=r,e[1]*=r,e[2]*=r,e[3]*=r,i.quat.exp(e,e),e)}},"./global/math/ray3.js":function(e,t,r){"use strict";r.r(t),r.d(t,"ray3",(function(){return c}));var i,n,a,o=r("./global/math/vec3.js"),l=(r("./global/math/mat4.js"),r("./global/math/pln.js"),r("./global/math/sph3.js")),s=r("./global/math/box3.js"),u=r("./global/math/tri3.js"),c={};c.$origin=s.box3.$min,c.$direction=s.box3.$max,c.clone=s.box3.clone,c.copy=s.box3.copy,c.copyOrigin=s.box3.copyMin,c.copyDirection=s.box3.copyMax,c.create=s.box3.create,c.distance=function(e,t){return Math.sqrt(c.squaredDistance(e,t))},c.distanceNormalConstant=function(e,t,r){var i=t[0]*e[3]+t[1]*e[4]+t[2]*e[5],n=e[0]*t[0]+e[1]*t[1]+e[2]*t[2]+r;if(0===i){if(0===n)return 0;throw new Error("Determinant error")}var a=-n/i;return a>=0?a:null},c.distancePln=function(e,t){var r=t[0]*e[3]+t[1]*e[4]+t[2]*e[5],i=e[0]*t[0]+e[1]*t[1]+e[2]*t[2]+t[3];if(0===r){if(0===i)return 0;throw new Error("Determinant error")}var n=-i/r;return n>=0?n:null},c.equals=s.box3.equals,c.equalsOriginDestination=s.box3.equalsBounds,c.exactEquals=s.box3.exactEquals,c.exactEqualsOriginDestination=s.box3.exactEqualsBounds,c.from=s.box3.from,c.fromArray=s.box3.fromArray,c.fromStartEnd=function(e,t,r){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=r[0]-t[0],e[4]=r[1]-t[1],e[5]=r[2]-t[2],c.normalize(e,e)},c.fromPerspective=function(e,t,r,i){var n=2*(t[0]-i[0])/i[2]-1,a=2*(t[1]-i[1])/i[3]-1,o=r[3]*n+r[7]*a+-1*r[11]+r[15],l=r[3]*n+r[7]*a+1*r[11]+r[15];if(0===o||0===l)throw new Error("Perspective Divide Error");return e[0]=(r[0]*n+r[4]*a+-1*r[8]+r[12])/o,e[1]=(r[1]*n+r[5]*a+-1*r[9]+r[13])/o,e[2]=(r[2]*n+r[6]*a+-1*r[10]+r[14])/o,e[3]=(r[0]*n+r[4]*a+1*r[8]+r[12])/l-e[0],e[4]=(r[1]*n+r[5]*a+1*r[9]+r[13])/l-e[1],e[5]=(r[2]*n+r[6]*a+1*r[10]+r[14])/l-e[2],c.normalize(e,e)},c.unproject=function(e,t,r,i){var n=[t[0],t[1],0],a=[t[0],t[1],1];o.vec3.unproject(n,n,r,i),o.vec3.unproject(a,a,r,i),c.fromStartEnd(e,n,a)},c.get=function(e,t,r){return e[0]=t[0]+t[3]*r,e[1]=t[1]+t[4]*r,e[2]=t[2]+t[5]*r,e},c.getDirection=s.box3.getMax,c.getClosestPointToPoint=function(e,t,r){var i=r[0]-t[0],n=r[1]-t[1],a=r[2]-t[2],o=i*t[3]+n*t[4]+a*t[5];return o<0?(e[0]=t[0],e[1]=t[1],e[2]=t[2]):c.get(e,t,o),e},c.getIntersectBounds=function(e,t,r,i){var n,a,o,l,s,u,f=1/t[3],d=1/t[4],h=1/t[5];return f>=0?(n=(r[0]-t[0])*f,a=(i[0]-t[0])*f):(n=(i[0]-t[0])*f,a=(r[0]-t[0])*f),d>=0?(o=(r[1]-t[1])*d,l=(i[1]-t[1])*d):(o=(i[1]-t[1])*d,l=(r[1]-t[1])*d),n>l||o>a?null:((o>n||n!=n)&&(n=o),(l<a||a!=a)&&(a=l),h>=0?(s=(r[2]-t[2])*h,u=(i[2]-t[2])*h):(s=(i[2]-t[2])*h,u=(r[2]-t[2])*h),n>u||s>a?null:((s>n||n!=n)&&(n=s),(u<a||a!=a)&&(a=u),a<0?null:c.get(e,t,n>=0?n:a)))},c.getIntersectBox3=function(e,t,r){return i||(i=o.vec3.create(),n=o.vec3.create()),s.box3.getMin(i,r),s.box3.getMax(n,r),c.getIntersectBounds(e,t,i,n)},c.getIntersectTri3=function(){var e,t,r;return function(i,n,a,l){return e||(e=o.vec3.create(),t=o.vec3.create(),r=o.vec3.create()),u.tri3.getV1(e,a),u.tri3.getV2(t,a),u.tri3.getV3(r,a),c.getIntersectVertices(i,n,e,t,r,l)}}(),c.getIntersectVertices=function(){var e,t,r,i,n,a;return function(l,s,u,f,d,h){e||(e=o.vec3.create(),t=o.vec3.create(),r=o.vec3.create(),i=o.vec3.create(),n=o.vec3.create(),a=o.vec3.create());var b,m=c.getOrigin(n,s),p=c.getDirection(a,s),v=o.vec3.subtract(e,m,u),g=o.vec3.subtract(t,f,u),E=o.vec3.subtract(r,d,u),y=o.vec3.cross(i,g,E),T=o.vec3.dot(p,y);if(T>0){if(h)return null;b=1}else{if(!(T<0))return null;b=-1,T=-T}o.vec3.cross(E,v,E);var w=b*o.vec3.dot(p,E);if(w<0)return null;o.vec3.cross(g,g,v);var _=b*o.vec3.dot(p,g);if(_<0)return null;if(w+_>T)return null;var S=-b*o.vec3.dot(v,y);return S<0?null:c.get(l,s,S/T)}}(),c.getIntersectNormalConstant=function(e,t,r,i){var n=c.distanceNormalConstant(t,r,i);return null!==n?c.get(e,t,n):null},c.getIntersectPln=function(e,t,r){var i=c.distancePln(t,r);return null!==i?c.get(e,t,i):null},c.getIntersectPositionRadius=function(e,t,r,i){return a||(a=l.sph3.create()),l.sph3.from(a,r,i),c.getIntersectSph3(e,t,a)},c.getIntersectSph3=function(e,t,r){var i=r[0]-t[0],n=r[1]-t[1],a=r[2]-t[2],o=r[3]*r[3],l=i*t[3]+n*t[4]+a*t[5],s=i*i+n*n+a*a-l*l;if(s>o)return null;var u=Math.sqrt(o-s),f=l-u,d=l+u;return f<0&&d<0?null:f<0?c.get(e,t,d):c.get(e,t,f)},c.getOrigin=s.box3.getMin,c.intersectsBox3=function(){var e;return function(t,r){return e||(e=o.vec3.create()),c.vec3_0=null!==c.getIntersectBox3(e,t,r)}}(),c.intersectsBounds=function(){var e;return function(t,r,i){return e||(e=o.vec3.create()),null!==c.getIntersectBounds(e,t,r,i)}}(),c.intersectsNormalConstant=function(e,t,r){var i=e[0]*t[0]+e[1]*t[1]+e[2]*t[2]+r;return 0===i||(t[0]*e[3]+t[1]*e[4]+t[2]*e[5])*i<0},c.intersectsPln=function(e,t){var r=e[0]*t[0]+e[1]*t[1]+e[2]*t[2]+t[3];return 0===r||(t[0]*e[3]+t[1]*e[4]+t[2]*e[5])*r<0},c.intersectsPositionRadius=function(e,t,r){return c.distance(e,t)<=r},c.intersectsSph3=function(e,t){return c.distance(e,t)<=t[3]},c.lookAt=function(e,t,r){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=r[0]-t[0],e[4]=r[1]-t[1],e[5]=r[2]-t[2],c.normalize(e,e)},c.normalize=function(e,t){e[0]=t[0],e[1]=t[1],e[2]=t[2];var r=t[3],i=t[4],n=t[5],a=r*r+i*i+n*n;if(!(a>0))throw e[1]=0,e[2]=0,e[3]=0,new Error("Normalization error");return a=1/Math.sqrt(a),e[3]=r*a,e[4]=i*a,e[5]=n*a,e},c.recast=function(e,t,r){return e[0]=t[0]+t[3]*r,e[1]=t[1]+t[4]*r,e[2]=t[2]+t[5]*r,e[3]=t[3],e[4]=t[4],e[5]=t[5],e},c.set=s.box3.set,c.SORT=function(e,t){return e.distance-t.distance},c.squaredDistance=function(){var e,t;return function(r,i){e||(e=o.vec3.create(),t=o.vec3.create()),e[0]=i[0]-r[0],e[1]=i[1]-r[1],e[2]=i[2]-r[2];var n=e[0]*r[3]+e[1]*r[4]+e[2]*r[5];return n<0?(c.getOrigin(t,r),o.vec3.squaredDistance(t,i)):(c.get(e,r,n),o.vec3.squaredDistance(e,i))}}(),c.toArray=s.box3.toArray,c.toOriginDirection=function(e,t,r){return t[0]=e[0],t[1]=e[1],t[2]=e[2],r[0]=e[3],r[1]=e[4],r[2]=e[5],e},c.transformMat4=function(e,t,r){var i=t[0],n=t[1],a=t[2],o=t[3]+t[0],l=t[4]+t[1],s=t[5]+t[2],u=r[3]*i+r[7]*n+r[11]*a+r[15]||1,f=r[3]*o+r[7]*l+r[11]*s+r[15]||1;return e[0]=(r[0]*i+r[4]*n+r[8]*a+r[12])/u,e[1]=(r[1]*i+r[5]*n+r[9]*a+r[13])/u,e[2]=(r[2]*i+r[6]*n+r[10]*a+r[14])/u,e[3]=(r[0]*o+r[4]*l+r[8]*s+r[12])/f-e[0],e[4]=(r[1]*o+r[5]*l+r[9]*s+r[13])/f-e[1],e[5]=(r[2]*o+r[6]*l+r[10]*s+r[14])/f-e[2],c.normalize(e,e)},c.translate=function(e,t,r){return e[0]=t[0]+r[0],e[1]=t[1]+r[1],e[2]=t[2]+r[2],e}},"./global/math/sph3.js":function(e,t,r){"use strict";r.r(t),r.d(t,"sph3",(function(){return u}));var i,n=r("./global/math/vec3.js"),a=r("./global/math/vec4.js"),o=r("./global/math/mat4.js"),l=r("./global/math/pln.js"),s=r("./global/math/box3.js"),u={},c=null;u.$position=l.pln.$normal,u.clone=a.vec4.clone,u.containsPoint=function(e,t){var r=t[0]-e[0],i=t[1]-e[1],n=t[2]-e[2];return r*r+i*i+n*n<=e[3]*e[3]},u.copy=a.vec4.copy,u.create=a.vec4.create,u.distance=function(e,t){var r=t[0]-e[0],i=t[1]-e[1],n=t[2]-e[2],a=t[3]+e[3];return Math.sqrt(r*r+i*i+n*n)-a},u.distanceToPoint=function(e,t){var r=t[0]-e[0],i=t[1]-e[1],n=t[2]-e[2];return Math.sqrt(r*r+i*i+n*n)-e[3]},u.empty=function(e){return e[0]=0,e[1]=0,e[2]=0,e[3]=0,e},u.equals=a.vec4.equals,u.equalsPositionRadius=l.pln.equalsNormalConstant,u.exactEquals=a.vec4.exactEquals,u.exactEqualsPositionRadius=l.pln.exactEqualsNormalConstant,u.extract=l.pln.extract,u.fromBox3=function(e,t){var r=t[3]-t[0],i=t[4]-t[1],n=t[5]-t[2];return e[0]=.5*(t[0]+t[3]),e[1]=.5*(t[1]+t[4]),e[2]=.5*(t[2]+t[5]),e[3]=.5*Math.sqrt(r*r+i*i+n*n),e},u.fromBounds=function(e,t,r){var i=r[0]-t[0],n=r[1]-t[1],a=r[2]-t[2];return e[0]=.5*(t[0]+r[0]),e[1]=.5*(t[1]+r[1]),e[2]=.5*(t[2]+r[2]),e[3]=.5*Math.sqrt(i*i+n*n+a*a),e},u.fromObjectBounds=function(e,t,r){if(t.minBounds)u.fromBounds(e,t.minBounds,t.maxBounds);else{if(!t._boundingBox)throw new Error("Invalid object bounds");u.fromBox3(e,t._boundingBox)}return r&&u.transformMat4(e,e,r),e},u.fromObjectPositionRadius=function(e,t,r){if(t.boundsSpherePosition)u.fromPositionRadius(e,t.boundsSpherePosition,t.boundsSphereRadius);else{if(!t.boundingSphereCenter)throw new Error("Invalid object bounds");u.fromPositionRadius(e,t.boundingSphereCenter,t.boundingSphereRadius)}return r&&u.transformMat4(e,e,r),e},u.fromPositionRadius=l.pln.fromNormalConstant,u.fromTranslationRadius=function(e,t,r){return e[0]=t[12],e[1]=t[13],e[2]=t[14],e[3]=r,e},u.fromMat4=function(e,t){return e[0]=t[12],e[1]=t[13],e[2]=t[14],e[3]=o.mat4.maxScaleOnAxis(t),e},u.getClampedPoint=function(e,t,r){e[0]=r[0],e[1]=r[1],e[2]=r[2];var i=t[0]-r[0],a=t[1]-r[1],o=t[2]-r[2];return i*i+a*a+o*o>t[3]*t[3]&&(e[0]=e[0]-t[0],e[1]=e[1]-t[1],e[2]=e[2]-t[2],n.vec3.normalize(e,e),e[0]=e[0]*t[3]+t[0],e[1]=e[1]*t[3]+t[1],e[2]=e[2]*t[3]+t[2]),e},u.getPointFromLongLat=function(e,t,r,i){return e[0]=t[0]+t[3]*Math.sin(i)*Math.cos(r),e[1]=t[1]+t[3]*Math.sin(i)*Math.sin(r),e[2]=t[2]+t[3]*Math.cos(i),e},u.getPosition=l.pln.getNormal,u.intersectsSph3=function(e,t){var r=t[0]-e[0],i=t[1]-e[1],n=t[2]-e[2],a=e[3]+t[3];return r*r+i*i+n*n<=a*a},u.intersectsBox3=function(e,t){return s.box3.intersectsSph3(t,e)},u.intersectsBounds=function(e,t,r){var i=Math.max(t[0],Math.min(r[0],e[0]))-e[0],n=Math.max(t[1],Math.min(r[1],e[1]))-e[1],a=Math.max(t[2],Math.min(r[2],e[2]))-e[2];return i*i+n*n+a*a<=e[3]*e[3]},u.intersectsPositionRadius=function(e,t,r){var i=t[0]-e[0],n=t[1]-e[1],a=t[2]-e[2],o=e[3]+r;return i*i+n*n+a*a<=o*o},u.intersectsPln=function(e,t){return l.pln.intersectsSph3(t,e)},u.intersectsNormalConstant=function(e,t,r){var i=e[0]*t[0]+e[1]*t[1]+e[2]*t[2];return Math.abs(i-r)<=e[3]},u.isEmpty=function(e){return e[3]<=0},u.radius=l.pln.constant,u.set=a.vec4.set,u.setArray=a.vec4.setArray,u.setPoints=function(e,t,r){i||(i=s.box3.create()),r?(e[0]=r[0],e[1]=r[1],e[2]=r[2]):(s.box3.setPoints(i,t),e[0]=.5*(i[0]+i[3]),e[1]=.5*(i[1]+i[4]),e[2]=.5*(i[2]+i[5]));for(var n=0,a=0;a<t.length;a++){var o=e[0]-t[a][0],l=e[1]-t[a][1],u=e[2]-t[a][2];n=Math.max(n,o*o+l*l+u*u)}return e[3]=Math.sqrt(n),e},u.squaredDistance=function(e,t){var r=t[0]-e[0],i=t[1]-e[1],n=t[2]-e[2],a=t[3]+e[3];return r*r+i*i+n*n-a*a},u.squaredDistanceToPoint=function(e,t){var r=t[0]-e[0],i=t[1]-e[1],n=t[2]-e[2];return r*r+i*i+n*n-e[3]},u.toArray=a.vec4.toArray,u.toObjectBounds=function(e,t,r){if(!(t.minBounds||t._boundingBox))throw new Error("Invalid object bounds");r&&(c||(c=u.create()),e=u.transformMat4(c,e,r)),t.minBounds?u.toBounds(e,t.minBounds,t.maxBounds):s.box3.fromSph3(t._boundingBox,e)},u.toObjectPositionRadius=function(e,t,r){if(r&&(c||(c=u.create()),e=u.transformMat4(c,e,r)),t.boundsSpherePosition)t.boundsSphereRadius=u.toPositionRadius(e,t.boundsSpherePosition);else{if(!t.boundingSphereCenter)throw new Error("Invalid object bounds");t.boundingSphereRadius=u.toPositionRadius(e,t.boundingSphereCenter)}},u.transformMat4=function(e,t,r){var i=t[0],n=t[1],a=t[2],o=r[0]*r[0]+r[1]*r[1]+r[2]*r[2],l=r[4]*r[4]+r[5]*r[5]+r[6]*r[6],s=r[8]*r[8]+r[9]*r[9]+r[10]*r[10];return e[0]=r[0]*i+r[4]*n+r[8]*a+r[12],e[1]=r[1]*i+r[5]*n+r[9]*a+r[13],e[2]=r[2]*i+r[6]*n+r[10]*a+r[14],e[3]=t[3]*Math.sqrt(Math.max(o,l,s)),e},u.translate=function(e,t,r){return e[0]=t[0]+r[0],e[1]=t[1]+r[1],e[2]=t[2]+r[2],e}},"./global/math/tri3.js":function(e,t,r){"use strict";r.r(t),r.d(t,"tri3",(function(){return f}));var i,n,a,o,l=r("./global/math/vec3.js"),s=r("./global/math/mat3.js"),u=r("./global/math/pln.js"),c=r("./global/math/lne3.js"),f={};f.$v1=c.lne3.$start,f.$v2=c.lne3.$end,f.$v3=function(e){return e.subarray(6,9)},f.area=function(e){var t=e[7]-e[3],r=e[8]-e[4],i=e[9]-e[5],n=e[0]-e[3],a=e[1]-e[4],o=e[2]-e[5],l=t*o-i*a,s=i*n-t*o,u=t*a-r*n;return.5*Math.sqrt(l*l+s*s+u*u)},f.create=function(){var e=new Float32Array(9);return e[0]=0,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=0,e[6]=0,e[7]=0,e[8]=0,e},f.clone=s.mat3.clone,f.contains=function(e,t){return i||(i=l.vec3.create()),f.getBaryCentricCoordinates(i,e,t),i[0]>=0&&i[1]>=0&&i[0]+i[1]<=1},f.copy=s.mat3.copy,f.fromVertices=function(e,t,r,i){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=r[0],e[4]=r[1],e[5]=r[2],e[6]=i[0],e[7]=i[1],e[8]=i[2],e},f.fromArray=s.mat3.fromArray,f.getBaryCentricCoordinates=function(e,t,r){var i=t[7]-t[0],n=t[8]-t[1],a=t[9]-t[2],o=t[3]-t[0],l=t[4]-t[1],s=t[5]-t[2],u=r[0]-t[0],c=r[1]-t[1],f=r[2]-t[2],d=i[0]*i[0]+n[1]*n[1]+a[2]*a[2],h=i[0]*o[0]+n[1]*l[1]+a[2]*s[2],b=i[0]*u[0]+n[1]*c[1]+a[2]*f[2],m=o[0]*o[0]+l[1]*l[1]+s[2]*s[2],p=o[0]*u[0]+l[1]*c[1]+s[2]*f[2],v=d*m-h*h;if(0===v)throw e[0]=-2,e[1]=-1,e[2]=-1,new Error("Denominator error");var g=1/v,E=(m*b-h*p)*g,y=(d*p-h*b)*g;return e[0]=1-E-y,e[1]=y,e[2]=E,e},f.getClosestEdgeToPoint=function(e,t,r){n||(n=l.vec3.create(),a=l.vec3.create(),o=[c.lne3.create(),c.lne3.create(),c.lne3.create()]);var i=f.getClosestPointToPoint(n,t,r);c.lne3.set(o[0],t[0],t[1],t[2],t[3],t[4],t[5]),c.lne3.set(o[1],t[3],t[4],t[5],t[6],t[7],t[8]),c.lne3.set(o[2],t[6],t[7],t[8],t[0],t[1],t[2]);for(var s=1/0,u=0;u<o.length;u++){var d=c.lne3.getClosestPointToPoint(a,o[u],i,!0),h=l.vec3.squaredDistance(d,i);h<s&&(s=h,e[0]=o[u][0],e[1]=o[u][1],e[2]=o[u][2],e[3]=o[u][3],e[4]=o[u][4],e[5]=o[u][5])}return e},f.getClosestPointToPoint=function(){var e,t,r,i,n,a,o;return function(s,d,h){if(e||(e=u.pln.create(),t=[c.lne3.create(),c.lne3.create(),c.lne3.create()],r=l.vec3.create(),i=l.vec3.create(),n=l.vec3.create(),a=l.vec3.create(),o=l.vec3.create()),f.getV1(n,d),f.getV2(a,d),f.getV3(o,d),u.pln.fromCoplanarPoints(e,n,a,o),u.pln.getProjectedPoint(r,e,h),!0===f.contains(d,r))s[0]=r[0],s[1]=r[1],s[2]=r[2];else{c.lne3.set(t[0],d[0],d[1],d[2],d[3],d[4],d[5]),c.lne3.set(t[1],d[3],d[4],d[5],d[6],d[7],d[8]),c.lne3.set(t[2],d[6],d[7],d[8],d[0],d[1],d[2]);for(var b=1/0,m=0;m<t.length;m++){c.lne3.getClosestPointToPoint(i,t[m],r,!0);var p=l.vec3.squaredDistance(r,i);p<b&&(b=p,s[0]=i[0],s[1]=i[1],s[2]=i[2])}}return s}}(),f.getClosestVertexToPoint=function(){var e,t,r;return function(i,n,a){e||(e=l.vec3.create(),t=l.vec3.create(),r=l.vec3.create()),f.getClosestPointToPoint(i,n,a);for(var o,s,u,c,d=1/0,h=[f.getV1(e,n),f.getV2(t,n),f.getV3(r,n)],b=0;b<h.length;b++)(o=l.vec3.squaredDistance(h[b],i))<d&&(d=o,s=h[b][0],u=h[b][1],c=h[b][2]);return i[0]=s,i[1]=u,i[2]=c,i}}(),f.getMidpoint=function(e,t){return e[0]=(t[0]+t[3]+t[6])*(1/3),e[1]=(t[1]+t[4]+t[7])*(1/3),e[2]=(t[2]+t[5]+t[8])*(1/3),e},f.getNormal=function(e,t){var r=t[7]-t[3],i=t[8]-t[4],n=t[9]-t[5],a=t[0]-t[3],o=t[1]-t[4],l=t[2]-t[5],s=i*l-n*o,u=n*a-r*l,c=r*o-i*a,f=s*s+u*u+c*c;if(!(f>0))throw e[0]=0,e[1]=0,e[2]=0,new Error("Normalization error");return f=1/Math.sqrt(f),e[0]=s*f,e[1]=u*f,e[2]=c*f,e},f.getV1=c.lne3.getStart,f.getV2=c.lne3.getEnd,f.getV3=function(e,t){return e[0]=t[6],e[1]=t[7],e[2]=t[8],e},f.toArray=s.mat3.toArray,f.toVertices=function(e,t,r,i){return t[0]=e[0],t[1]=e[1],t[2]=e[2],r[0]=e[0],r[1]=e[1],r[2]=e[2],i[0]=e[0],i[1]=e[1],i[2]=e[2],e}},"./global/math/vec2.js":function(e,t,r){"use strict";r.r(t);var i=r("../node_modules/gl-matrix/lib/gl-matrix.js");r.d(t,"vec2",(function(){return i.vec2})),i.vec2.addScalar=function(e,t,r){return e[0]=t[0]+r,e[1]=t[1]+r,e},i.vec2.isEmpty=function(e){return 0===e[0]&&0===e[1]},i.vec2.divideScalar=function(e,t,r){return i.vec2.multiplyScalar(e,t,1/r)},i.vec2.multiplyScalar=function(e,t,r){return e[0]=t[0]*r,e[1]=t[1]*r,e},i.vec2.setScalar=function(e,t){return e[0]=t,e[1]=t,e},i.vec2.subtractScalar=function(e,t,r){return e[0]=t[0]-r,e[1]=t[1]-r,e}},"./global/math/vec3.js":function(e,t,r){"use strict";r.r(t);var i=r("../node_modules/gl-matrix/lib/gl-matrix.js");r.d(t,"vec3",(function(){return i.vec3}));var n,a,o,l=r("./global/math/num.js");i.vec3.X_AXIS=i.vec3.fromValues(1,0,0),i.vec3.Y_AXIS=i.vec3.fromValues(0,1,0),i.vec3.Z_AXIS=i.vec3.fromValues(0,0,1),i.vec3.addScalar=function(e,t,r){return e[0]=t[0]+r,e[1]=t[1]+r,e[2]=t[2]+r,e},i.vec3.degrees=function(e,t){return e[0]=t[0]*l.num.RAD2DEG,e[1]=t[1]*l.num.RAD2DEG,e[2]=t[2]*l.num.RAD2DEG,e},i.vec3.degreesUnwrapped=function(e,t){return e[0]=l.num.unwrapDegrees(t[0]*l.num.RAD2DEG),e[1]=l.num.unwrapDegrees(t[1]*l.num.RAD2DEG),e[2]=l.num.unwrapDegrees(t[2]*l.num.RAD2DEG),e},i.vec3.direction=function(e,t,r){return i.vec3.subtract(e,t,r),i.vec3.normalize(e,e),e},i.vec3.directionFromQuat=function(e,t,r){return i.vec3.transformQuat(e,t,r)},i.vec3.directionFromMat4=function(e,t,r){return n||(n=i.quat.create()),i.mat4.getRotation(n,r),i.vec3.transformQuat(e,t,n)},i.vec3.divideScalar=function(e,t,r){return i.vec3.multiplyScalar(e,t,1/r)},i.vec3.euler={},i.vec3.euler.DEFAULT_ORDER="XYZ",i.vec3.euler.fromQuat=function(e,t,r=i.vec3.euler.DEFAULT_ORDER){return a||(a=i.mat4.create()),i.mat4.fromQuat(a,t),i.vec3.euler.fromMat4(e,a,r)},i.vec3.euler.fromMat4=function(e,t,r=i.vec3.euler.DEFAULT_ORDER){var n=t[0],a=t[4],o=t[8],s=t[1],u=t[5],c=t[9],f=t[2],d=t[6],h=t[10],b=l.num.clamp;if("XYZ"===r)e[1]=Math.asin(b(o,-1,1)),Math.abs(o)<.99999?(e[0]=Math.atan2(-c,h),e[2]=Math.atan2(-a,n)):(e[0]=Math.atan2(d,u),e[2]=0);else if("YXZ"===r)e[0]=Math.asin(-b(c,-1,1)),Math.abs(c)<.99999?(e[1]=Math.atan2(o,h),e[2]=Math.atan2(s,u)):(e[1]=Math.atan2(-f,n),e[2]=0);else if("ZXY"===r)e[0]=Math.asin(b(d,-1,1)),Math.abs(d)<.99999?(e[1]=Math.atan2(-f,h),e[2]=Math.atan2(-a,u)):(e[1]=0,e[2]=Math.atan2(s,n));else if("ZYX"===r)e[1]=Math.asin(-b(f,-1,1)),Math.abs(f)<.99999?(e[0]=Math.atan2(d,h),e[2]=Math.atan2(s,n)):(e[0]=0,e[2]=Math.atan2(-a,u));else if("YZX"===r)e[2]=Math.asin(b(s,-1,1)),Math.abs(s)<.99999?(e[0]=Math.atan2(-c,u),e[1]=Math.atan2(-f,n)):(e[0]=0,e[1]=Math.atan2(o,h));else{if("XZY"!==r)throw e[0]=0,e[1]=0,e[2]=0,new Error("Unrecognised euler order: "+r);e[2]=Math.asin(-b(a,-1,1)),Math.abs(a)<.99999?(e[0]=Math.atan2(d,u),e[1]=Math.atan2(o,n)):(e[0]=Math.atan2(-c,h),e[1]=0)}return i.vec3.unwrapRadians(e,e)},i.vec3.euler.getQuat=function(e,t,r=i.vec3.euler.DEFAULT_ORDER){var n=l.num.unwrapRadians(t[0]),a=l.num.unwrapRadians(t[1]),o=l.num.unwrapRadians(t[2]),s=Math.cos(n/2),u=Math.cos(a/2),c=Math.cos(o/2),f=Math.sin(n/2),d=Math.sin(a/2),h=Math.sin(o/2);if("XYZ"===r)e[0]=f*u*c+s*d*h,e[1]=s*d*c-f*u*h,e[2]=s*u*h+f*d*c,e[3]=s*u*c-f*d*h;else if("YXZ"===r)e[0]=f*u*c+s*d*h,e[1]=s*d*c-f*u*h,e[2]=s*u*h-f*d*c,e[3]=s*u*c+f*d*h;else if("ZXY"===r)e[0]=f*u*c-s*d*h,e[1]=s*d*c+f*u*h,e[2]=s*u*h+f*d*c,e[3]=s*u*c-f*d*h;else if("ZYX"===r)e[0]=f*u*c-s*d*h,e[1]=s*d*c+f*u*h,e[2]=s*u*h-f*d*c,e[3]=s*u*c+f*d*h;else if("YZX"===r)e[0]=f*u*c+s*d*h,e[1]=s*d*c+f*u*h,e[2]=s*u*h-f*d*c,e[3]=s*u*c-f*d*h;else{if("XZY"!==r)throw e[0]=0,e[1]=0,e[2]=0,e[3]=1,new Error("Unrecognised euler order: "+r);e[0]=f*u*c-s*d*h,e[1]=s*d*c-f*u*h,e[2]=s*u*h+f*d*c,e[3]=s*u*c+f*d*h}return e},i.vec3.exponentialDecay=function(e,t,r,i,n,a){return e[0]=l.num.exponentialDecay(t[0],r[0],i,n,a),e[1]=l.num.exponentialDecay(t[1],r[1],i,n,a),e[2]=l.num.exponentialDecay(t[2],r[2],i,n,a),e},i.vec3.fromSpherical=function(e,t,r){var i=t[0],n=t[1],a=t[2];return e[0]=a*Math.sin(i)*Math.sin(n),e[1]=a*Math.cos(n),e[2]=a*Math.cos(i)*Math.sin(n),r&&(e[0]+=r[0],e[1]+=r[1],e[2]+=r[2]),e},i.vec3.getSpherical=function(e,t){var r=0,n=0,a=i.vec3.length(t);return 0!==a&&(r=Math.acos(Math.max(t[1]/a,Math.min(-1,1))),n=Math.atan2(t[0],t[2])),e[0]=r,e[1]=n,e[2]=a,e},i.vec3.isEmpty=function(e){return 0===e[0]&&0===e[1]&&0===e[2]},i.vec3.multiplyScalar=function(e,t,r){return e[0]=t[0]*r,e[1]=t[1]*r,e[2]=t[2]*r,e},i.vec3.polarToCartesian=function(e,t,r,i){return e[0]=t*Math.cos(r)*Math.sin(i),e[1]=t*Math.sin(r),e[2]=t*Math.cos(r)*Math.cos(i),e},i.vec3.project=function(e,t,r,i){var n=t[0],a=t[1],o=t[2],l=r[0]*n+r[4]*a+r[8]*o+r[12],s=r[1]*n+r[5]*a+r[9]*o+r[13],u=r[3]*n+r[7]*a+r[11]*o+r[15],c=(l/u+1)/2,f=1-(s/u+1)/2;return e[0]=c*i[2]+i[0],e[1]=f*i[3]+i[1],e[2]=u,e},i.vec3.radians=function(e,t){return e[0]=t[0]*l.num.DEG2RAD,e[1]=t[1]*l.num.DEG2RAD,e[2]=t[2]*l.num.DEG2RAD,e},i.vec3.radiansUnwrapped=function(e,t){return e[0]=l.num.unwrapRadians(t[0]*l.num.DEG2RAD),e[1]=l.num.unwrapRadians(t[1]*l.num.DEG2RAD),e[2]=l.num.unwrapRadians(t[2]*l.num.DEG2RAD),e},i.vec3.setScalar=function(e,t){return e[0]=t,e[1]=t,e[2]=t,e},i.vec3.subtractScalar=function(e,t,r){return e[0]=t[0]-r,e[1]=t[1]-r,e[2]=t[2]-r,e},i.vec3.unproject=function(e,t,r,n){o||(o=i.vec4.create());var a=t[0],l=t[1],s=t[2];if(o[0]=2*(a-n[0])/n[2]-1,o[1]=2*(l-n[1])/n[3]-1,o[2]=2*s-1,o[3]=1,i.vec4.transformMat4(o,o,r),0===o[3])throw e[0]=0,e[1]=0,e[2]=0,new Error("Perspective divide error");return e[0]=o[0]/o[3],e[1]=o[1]/o[3],e[2]=o[2]/o[3],e},i.vec3.unwrapDegrees=function(e,t){return e[0]=l.num.unwrapDegrees(t[0]),e[1]=l.num.unwrapDegrees(t[1]),e[2]=l.num.unwrapDegrees(t[2]),e},i.vec3.unwrapRadians=function(e,t){return e[0]=l.num.unwrapRadians(t[0]),e[1]=l.num.unwrapRadians(t[1]),e[2]=l.num.unwrapRadians(t[2]),e}},"./global/math/vec4.js":function(e,t,r){"use strict";r.r(t);var i=r("../node_modules/gl-matrix/lib/gl-matrix.js");r.d(t,"vec4",(function(){return i.vec4})),i.vec4.ZERO=i.vec4.fromValues(0,0,0,0),i.vec4.addScalar=function(e,t,r){return e[0]=t[0]+r,e[1]=t[1]+r,e[2]=t[2]+r,e[3]=t[3]+r,e},i.vec4.isEmpty=function(e){return 0===e[0]&&0===e[1]&&0===e[2]&&0===e[3]},i.vec4.divideScalar=function(e,t,r){return i.vec4.multiplyScalar(e,t,1/r)},i.vec4.multiplyScalar=function(e,t,r){return e[0]=t[0]*r,e[1]=t[1]*r,e[2]=t[2]*r,e[3]=t[3]*r,e},i.vec4.setScalar=function(e,t){return e[0]=t,e[1]=t,e[2]=t,e[3]=t,e},i.vec4.subtractScalar=function(e,t,r){return e[0]=t[0]-r,e[1]=t[1]-r,e[2]=t[2]-r,e[3]=t[3]-r,e}},"./global/meta/@black.js":function(e,t,r){"use strict";r.r(t),r.d(t,"listOf",(function(){return c})),r.d(t,"objectOf",(function(){return f})),r.d(t,"plainOf",(function(){return d})),r.d(t,"rawOf",(function(){return h})),r.d(t,"list",(function(){return b})),r.d(t,"object",(function(){return m})),r.d(t,"plain",(function(){return p})),r.d(t,"unknown",(function(){return v})),r.d(t,"boolean",(function(){return g})),r.d(t,"string",(function(){return E})),r.d(t,"path",(function(){return y})),r.d(t,"expression",(function(){return T})),r.d(t,"float",(function(){return w})),r.d(t,"uint",(function(){return _})),r.d(t,"byte",(function(){return S})),r.d(t,"ushort",(function(){return R})),r.d(t,"raw",(function(){return j})),r.d(t,"array",(function(){return O})),r.d(t,"vector2",(function(){return A})),r.d(t,"vector3",(function(){return z})),r.d(t,"vector4",(function(){return P})),r.d(t,"color",(function(){return C})),r.d(t,"quaternion",(function(){return D})),r.d(t,"matrix4",(function(){return I})),r.d(t,"indexBuffer",(function(){return x})),r.d(t,"enums",(function(){return L})),r.d(t,"fromList",(function(){return M})),r.d(t,"struct",(function(){return F}));var i=r("./core/reader/Tw2BlackPropertyReaders.js"),n=r("./global/engine/Tw2Constant.js"),a=r("./global/util/type.js"),o=r("./global/meta/helpers.js"),l=r("./global/meta/meta.js");function s({target:e,property:t,descriptor:r},i,n,a){Object(o.typeHandler)({target:e,property:t,descriptor:r},i,n),Object(l.set)("black",a,e,t),Object(l.set)("black",!0,e.constructor)}function u(e,t){return Object(o.decorate)({property({target:r,property:n,descriptor:a},o){t||(t=Object(i.getReaderFromType)(e)),s({target:r,property:n,descriptor:a},e,o,t)}})}var c=u(n.Type.LIST),f=u(n.Type.OBJECT),d=u(n.Type.PLAIN),h=u(n.Type.RAW),b=u(n.Type.LIST)(),m=u(n.Type.OBJECT)(),p=u(n.Type.PLAIN)(),v=u(n.Type.UNKNOWN)(),g=u(n.Type.BOOLEAN)(),E=u(n.Type.STRING)(),y=u(n.Type.PATH)(),T=u(n.Type.EXPRESSION)(),w=u(n.Type.FLOAT)(),_=u(n.Type.UINT)(),S=u(n.Type.BYTE)(),R=u(n.Type.USHORT)(),j=u(n.Type.RAW)(),O=u(n.Type.ARRAY)(),A=u(n.Type.VECTOR2)(),z=u(n.Type.VECTOR3)(),P=u(n.Type.VECTOR4)(),C=u(n.Type.COLOR)(),D=u(n.Type.QUATERNION)(),I=u(n.Type.MATRIX4)(),x=u(n.Type.INDEX_BUFFER)(),L=u(n.Type.ENUM)(),M=Object(o.decorate)({property({target:e,property:t,descriptor:r},a,o){s({target:e,property:t,descriptor:r},n.Type.PLAIN,o,i.fromList(a))}}),F=Object(o.decorate)({property({target:e,property:t,descriptor:r},o,l){var u=i.notImplemented,c=n.Type.UNKNOWN;Object(a.isArray)(o)?Object(a.isFunction)(o[0])&&(u=i.structList(o[0]),c=n.Type.LIST):Object(a.isString)(o)?(u=i.fromList({key:o}),c=n.Type.PLAIN):Object(a.isPlain)(o)?(u=i.fromList(o),c=n.Type.PLAIN):Object(a.isFunction)(o)&&(u=i.struct(o),c=n.Type.OBJECT),s({target:e,property:t,descriptor:r},c,l,u)}})},"./global/meta/@generic.js":function(e,t,r){"use strict";r.r(t),r.d(t,"abstract",(function(){return o})),r.d(t,"singleton",(function(){return l})),r.d(t,"ccp",(function(){return s})),r.d(t,"type",(function(){return u})),r.d(t,"stage",(function(){return c})),r.d(t,"notImplemented",(function(){return f})),r.d(t,"todo",(function(){return d})),r.d(t,"desc",(function(){return h})),r.d(t,"isPrivate",(function(){return b})),r.d(t,"isNullable",(function(){return m})),r.d(t,"test",(function(){return p}));var i=r("./core/Tw2Error.js"),n=r("./global/meta/helpers.js"),a=r("./global/meta/meta.js"),o=Object(n.decorate)({class:({target:e})=>(class t extends e{constructor(){if(super(),this.constructor===t)throw new i.ErrAbstractClass({class:e.name})}}),method:({property:e,descriptor:t})=>(t.value=function(){throw new i.ErrAbstractMethod({class:this.constructor.name,method:e})},t)})(),l=Object(n.decorate)({class({target:e}){var t=0;return class extends e{constructor(...r){if(++t>1)throw new i.ErrSingletonInstantiation({class:e.name});super(...r)}}}})(),s=Object(n.decorate)({class({target:e},t){Object(a.set)("ccp",t,e)}}),u=Object(n.decorate)({class({target:e},t,r){Object(a.set)("type",t,e),r&&(!0===r&&(r=t),Object(a.set)("ccp",r,e))},property({target:e,property:t,descriptor:r},i,a){Object(n.typeHandler)({target:e,property:t,descriptor:r},i,a)}}),c=Object(n.decorate)({class({target:e},t){Object(a.set)("stage",t,e),t>3&&Object(a.set)("notImplemented",!0,e)}}),f=Object(n.decorate)({class({target:e}){Object(a.set)("notImplemented",!0,e),Object(a.set)("stage",4,e),d("Implement")(e)},handler({target:e,property:t}){Object(a.set)("notImplemented",!0,e,t);var r=Object(a.get)("stage",e.constructor)||0;Object(a.set)("stage",Math.max(r,1),e.constructor),d("Implement")(e,t)}})(),d=Object(n.decorate)({handler({target:e,property:t},r){if(t){var i="[".concat(t,"] ")+r,n=Object(a.has)("todo",e.constructor)?Object(a.get)("todo",e.constructor):[];n.includes(i)||n.push(i),n.sort(),Object(a.set)("todos",i,e.constructor)}var o=Object(a.has)("todo",e,t)?Object(a.get)("todo",e,t):[];o.includes(r)||o.push(r),o.sort(),Object(a.set)("todo",o,e,t)}}),h=Object(n.decorate)({handler({target:e,property:t},r){Object(a.set)("desc",r,e,t)}}),b=Object(n.decorate)({class:!1,handler({target:e,property:t}){Object(a.set)("isPrivate",!0,e,t)}})(),m=Object(n.decorate)({class:!1,handler({target:e,property:t}){Object(a.set)("isNullable",!0,e,t)}})(),p=Object(n.decorate)({class:!1,handler({target:e,property:t,descriptor:r},i="Test decorator"){throw console.dir(e),console.dir(t),console.dir(r),new Error(i)}})},"./global/meta/@type.js":function(e,t,r){"use strict";r.r(t),r.d(t,"listOf",(function(){return o})),r.d(t,"objectOf",(function(){return l})),r.d(t,"plainOf",(function(){return s})),r.d(t,"rawOf",(function(){return u})),r.d(t,"list",(function(){return c})),r.d(t,"object",(function(){return f})),r.d(t,"plain",(function(){return d})),r.d(t,"unknown",(function(){return h})),r.d(t,"boolean",(function(){return b})),r.d(t,"string",(function(){return m})),r.d(t,"path",(function(){return p})),r.d(t,"expression",(function(){return v})),r.d(t,"float",(function(){return g})),r.d(t,"uint",(function(){return E})),r.d(t,"ushort",(function(){return y})),r.d(t,"byte",(function(){return T})),r.d(t,"raw",(function(){return w})),r.d(t,"array",(function(){return _})),r.d(t,"vector2",(function(){return S})),r.d(t,"vector3",(function(){return R})),r.d(t,"vector4",(function(){return j})),r.d(t,"color",(function(){return O})),r.d(t,"quaternion",(function(){return A})),r.d(t,"matrix3",(function(){return z})),r.d(t,"matrix4",(function(){return P})),r.d(t,"indexBuffer",(function(){return C})),r.d(t,"vector",(function(){return D})),r.d(t,"enumerable",(function(){return I}));var i=r("./global/engine/Tw2Constant.js"),n=r("./global/meta/helpers.js");function a(e){return Object(n.decorate)({property({target:t,property:r,descriptor:i,Constructor:a},o){Object(n.typeHandler)({target:t,property:r,descriptor:i,Constructor:a},e,o)}})}var o=a(i.Type.LIST),l=a(i.Type.OBJECT),s=a(i.Type.PLAIN),u=a(i.Type.RAW),c=a(i.Type.LIST)(),f=a(i.Type.OBJECT)(),d=a(i.Type.PLAIN)(),h=a(i.Type.UNKNOWN)(),b=a(i.Type.BOOLEAN)(),m=a(i.Type.STRING)(),p=a(i.Type.PATH)(),v=a(i.Type.EXPRESSION)(),g=a(i.Type.FLOAT)(),E=a(i.Type.UINT)(),y=a(i.Type.USHORT)(),T=a(i.Type.BYTE)(),w=a(i.Type.RAW)(),_=a(i.Type.ARRAY)(),S=a(i.Type.VECTOR2)(),R=a(i.Type.VECTOR3)(),j=a(i.Type.VECTOR4)(),O=a(i.Type.COLOR)(),A=a(i.Type.QUATERNION)(),z=a(i.Type.MATRIX3)(),P=a(i.Type.MATRIX4)(),C=a(i.Type.INDEX_BUFFER)(),D=a(i.Type.VECTOR)(),I=a(i.Type.ENUM)},"./global/meta/helpers.js":function(e,t,r){"use strict";r.r(t),r.d(t,"handleDescriptor",(function(){return s})),r.d(t,"decorate",(function(){return u})),r.d(t,"typeHandler",(function(){return c}));var i=r("./global/util/index.js"),n=r("./core/Tw2Error.js"),a=r("./global/meta/index.js"),o=r("./global/engine/Tw2Constant.js"),l={class:()=>{throw new n.ErrInvalidDecoratorUsage({reason:"class"})},method:()=>{throw new n.ErrInvalidDecoratorUsage({reason:"method"})},property:()=>{throw new n.ErrInvalidDecoratorUsage({reason:"property"})}};function s(e){return!e||e.set||e.get||(void 0===e.writable&&(e.writable=!0),void 0===e.enumerable&&(e.enumerable=!0),void 0===e.configurable&&(e.configurable=!0)),e}function u(e,t){var r=function(e){if(Object(i.isFunction)(e)&&(e={handler:e}),!Object(i.isPlain)(e))throw new ReferenceError("Invalid options object");function t(e,t){return Object(i.isFunction)(t[e])?t[e]:!1===t[e]?l[e]:Object(i.isFunction)(t.handler)?t.handler:l[e]}return{class:t("class",e),method:t("method",e),property:t("property",e)}}(e);return function(...e){return function(n,a,o){o&&s(o);var l=function(e,t){return t?Object(i.isFunction)(e[t])?"method":"property":"class"}(n,a),u={target:n,property:a,descriptor:o};return void 0!==t?r[l](u,t,...e):r[l](u,...e)}}}function c({target:e,property:t,descriptor:r},n,l){Object(i.isString)(n)&&(n=o.Type[n.toUpperCase()]),void 0===n&&(n=o.Type.UNKNOWN),Object(a.set)("type",n,e,t),l&&Object(a.set)("typeOf",Object(i.toArray)(l),e,t),"_"===t.charAt(0)&&Object(a.set)("isPrivate",!0,e,t),null===r.value&&Object(a.set)("isNullable",!0,e,t);var s=e.constructor,u=Object(a.getOwn)("props",s);return u||(u=Object(a.has)("props",s)?Object(a.get)("props",s).slice(0):[],Object(a.set)("props",u,s)),u.includes(t)||(u.push(t),u.sort()),n}},"./global/meta/index.js":function(e,t,r){"use strict";r.r(t);var i=r("./global/meta/@black.js");r.d(t,"black",(function(){return i}));var n=r("./global/meta/meta.js");r.d(t,"data",(function(){return n.data})),r.d(t,"set",(function(){return n.set})),r.d(t,"has",(function(){return n.has})),r.d(t,"hasOwn",(function(){return n.hasOwn})),r.d(t,"get",(function(){return n.get})),r.d(t,"getOwn",(function(){return n.getOwn})),r.d(t,"del",(function(){return n.del})),r.d(t,"keys",(function(){return n.keys})),r.d(t,"ownKeys",(function(){return n.ownKeys})),r.d(t,"values",(function(){return n.values})),r.d(t,"ownValues",(function(){return n.ownValues}));var a=r("./global/meta/@type.js");r.d(t,"listOf",(function(){return a.listOf})),r.d(t,"objectOf",(function(){return a.objectOf})),r.d(t,"plainOf",(function(){return a.plainOf})),r.d(t,"rawOf",(function(){return a.rawOf})),r.d(t,"list",(function(){return a.list})),r.d(t,"object",(function(){return a.object})),r.d(t,"plain",(function(){return a.plain})),r.d(t,"unknown",(function(){return a.unknown})),r.d(t,"boolean",(function(){return a.boolean})),r.d(t,"string",(function(){return a.string})),r.d(t,"path",(function(){return a.path})),r.d(t,"expression",(function(){return a.expression})),r.d(t,"float",(function(){return a.float})),r.d(t,"uint",(function(){return a.uint})),r.d(t,"ushort",(function(){return a.ushort})),r.d(t,"byte",(function(){return a.byte})),r.d(t,"raw",(function(){return a.raw})),r.d(t,"array",(function(){return a.array})),r.d(t,"vector2",(function(){return a.vector2})),r.d(t,"vector3",(function(){return a.vector3})),r.d(t,"vector4",(function(){return a.vector4})),r.d(t,"color",(function(){return a.color})),r.d(t,"quaternion",(function(){return a.quaternion})),r.d(t,"matrix3",(function(){return a.matrix3})),r.d(t,"matrix4",(function(){return a.matrix4})),r.d(t,"indexBuffer",(function(){return a.indexBuffer})),r.d(t,"vector",(function(){return a.vector})),r.d(t,"enumerable",(function(){return a.enumerable}));var o=r("./global/meta/@generic.js");r.d(t,"abstract",(function(){return o.abstract})),r.d(t,"singleton",(function(){return o.singleton})),r.d(t,"ccp",(function(){return o.ccp})),r.d(t,"type",(function(){return o.type})),r.d(t,"stage",(function(){return o.stage})),r.d(t,"notImplemented",(function(){return o.notImplemented})),r.d(t,"todo",(function(){return o.todo})),r.d(t,"desc",(function(){return o.desc})),r.d(t,"isPrivate",(function(){return o.isPrivate})),r.d(t,"isNullable",(function(){return o.isNullable})),r.d(t,"test",(function(){return o.test}))},"./global/meta/meta.js":function(e,t,r){"use strict";r.r(t),r.d(t,"data",(function(){return o})),r.d(t,"set",(function(){return l})),r.d(t,"has",(function(){return s})),r.d(t,"hasOwn",(function(){return u})),r.d(t,"get",(function(){return c})),r.d(t,"getOwn",(function(){return f})),r.d(t,"del",(function(){return d})),r.d(t,"keys",(function(){return b})),r.d(t,"ownKeys",(function(){return m})),r.d(t,"values",(function(){return v})),r.d(t,"ownValues",(function(){return g}));var i=r("./global/util/index.js"),n="tw2:";function a(e){return"".concat(n).concat(e)}function o(e,t=!0){return function(r,n){if(Object(i.isPlain)(e))for(var a in e)e.hasOwnProperty(a)&&l(a,e[a],r,n);else l(e,t,r,n)}}function l(e,t,r,i){Reflect.defineMetadata(a(e),t,r,i)}function s(e,t,r){return Reflect.hasMetadata(a(e),t,r)}function u(e,t,r){return Reflect.hasOwnMetadata(a(e),t,r)}function c(e,t,r){return Reflect.getMetadata(a(e),t,r)}function f(e,t,r){return Reflect.getOwnMetadata(a(e),t,r)}function d(e,t,r){return Reflect.deleteMetadata(a(e),t,r)}function h(e){for(var t=[],r=0;r<e.length;r++)0===e[r].indexOf(n)&&t.push(e[r].replace(n,""));return t}function b(e,t){return h(Reflect.getMetadataKeys(e,t))}function m(e,t){return h(Reflect.getOwnMetadataKeys(e,t))}function p(e,t,r,i){var n=r(e,t),a={};return n.forEach(r=>{var n=i(r,e,t);void 0!==n&&(a[r]=n)}),a}function v(e,t){return p(e,t,b,c)}function g(e,t){return p(e,t,m,f)}},"./global/util/arr.js":function(e,t,r){"use strict";r.r(t),r.d(t,"addToArray",(function(){return n})),r.d(t,"findElementByPropertyValue",(function(){return a})),r.d(t,"findIndexByPropertyValue",(function(){return o})),r.d(t,"perArrayChild",(function(){return l})),r.d(t,"removeFromArray",(function(){return s})),r.d(t,"toArray",(function(){return u})),r.d(t,"toUniqueArray",(function(){return c}));var i=r("./global/util/type.js");function n(e,...t){for(var r=!1,i=0;i<t.length;i++)-1===e.indexOf(t[i])&&(e.push(t[i]),r=!0);return r}function a(e,t,r,i){return e[o(e,t,r,i)]}function o(e,t,r,i){for(var n=0;n<e.length;n++)if(t in e[n]&&e[n][t]===r)return n;if(i)throw new i({[t]:r});return-1}function l(e,t,...r){for(var i=0;i<e.length;i++)t in e[i]&&e[i][t](...r)}function s(e,...t){for(var r=!1,i=0;i<t.length;i++){var n=e.indexOf(t[i]);-1!==n&&(e.splice(n,1),r=!0)}return r}function u(e){return Object(i.isArray)(e)?e:[e]}function c(e){return Array.from(new Set(u(e)))}},"./global/util/index.js":function(e,t,r){"use strict";r.r(t),r.d(t,"getPathExtension",(function(){return s}));var i=r("./global/util/arr.js");r.d(t,"addToArray",(function(){return i.addToArray})),r.d(t,"findElementByPropertyValue",(function(){return i.findElementByPropertyValue})),r.d(t,"findIndexByPropertyValue",(function(){return i.findIndexByPropertyValue})),r.d(t,"perArrayChild",(function(){return i.perArrayChild})),r.d(t,"removeFromArray",(function(){return i.removeFromArray})),r.d(t,"toArray",(function(){return i.toArray})),r.d(t,"toUniqueArray",(function(){return i.toUniqueArray}));var n=r("./global/util/obj.js");r.d(t,"assignIfExists",(function(){return n.assignIfExists})),r.d(t,"get",(function(){return n.get})),r.d(t,"template",(function(){return n.template})),r.d(t,"isPrimaryEqual",(function(){return n.isPrimaryEqual})),r.d(t,"isVectorEqual",(function(){return n.isVectorEqual})),r.d(t,"isEqual",(function(){return n.isEqual}));var a=r("./global/util/type.js");r.d(t,"isArray",(function(){return a.isArray})),r.d(t,"isArrayLike",(function(){return a.isArrayLike})),r.d(t,"isAsyncFunction",(function(){return a.isAsyncFunction})),r.d(t,"isBoolean",(function(){return a.isBoolean})),r.d(t,"isCanvas",(function(){return a.isCanvas})),r.d(t,"isDescriptor",(function(){return a.isDescriptor})),r.d(t,"isDNA",(function(){return a.isDNA})),r.d(t,"isError",(function(){return a.isError})),r.d(t,"isNumber",(function(){return a.isNumber})),r.d(t,"isFunction",(function(){return a.isFunction})),r.d(t,"isNoU",(function(){return a.isNoU})),r.d(t,"isNull",(function(){return a.isNull})),r.d(t,"isObject",(function(){return a.isObject})),r.d(t,"isObjectLike",(function(){return a.isObjectLike})),r.d(t,"isObjectObject",(function(){return a.isObjectObject})),r.d(t,"isPlain",(function(){return a.isPlain})),r.d(t,"isPrimary",(function(){return a.isPrimary})),r.d(t,"isPromise",(function(){return a.isPromise})),r.d(t,"isString",(function(){return a.isString})),r.d(t,"isSymbol",(function(){return a.isSymbol})),r.d(t,"isSubclassOf",(function(){return a.isSubclassOf})),r.d(t,"isTag",(function(){return a.isTag})),r.d(t,"isTr2OrTri",(function(){return a.isTr2OrTri})),r.d(t,"toTw2",(function(){return a.toTw2})),r.d(t,"getTypeUpper",(function(){return a.getTypeUpper})),r.d(t,"isTyped",(function(){return a.isTyped})),r.d(t,"isUndefined",(function(){return a.isUndefined})),r.d(t,"isVector",(function(){return a.isVector})),r.d(t,"isVector2",(function(){return a.isVector2})),r.d(t,"isVector3",(function(){return a.isVector3})),r.d(t,"isVector4",(function(){return a.isVector4})),r.d(t,"isMatrix3",(function(){return a.isMatrix3})),r.d(t,"isMatrix4",(function(){return a.isMatrix4}));var o=r("./global/util/uuid.js");r.d(t,"enableUUID",(function(){return o.enableUUID})),r.d(t,"generateID",(function(){return o.generateID}));var l=r("./global/util/url.js");function s(e){var t=e.lastIndexOf(".");return-1===t?null:e.substr(t+1)}r.d(t,"getURL",(function(){return l.getURL})),r.d(t,"getURLString",(function(){return l.getURLString})),r.d(t,"getURLInteger",(function(){return l.getURLInteger})),r.d(t,"getURLFloat",(function(){return l.getURLFloat})),r.d(t,"getURLBoolean",(function(){return l.getURLBoolean}))},"./global/util/obj.js":function(e,t,r){"use strict";r.r(t),r.d(t,"assignIfExists",(function(){return o})),r.d(t,"get",(function(){return l})),r.d(t,"template",(function(){return s})),r.d(t,"isPrimaryEqual",(function(){return u})),r.d(t,"isVectorEqual",(function(){return c})),r.d(t,"isEqual",(function(){return f}));var i=r("./global/util/type.js"),n=r("./global/util/arr.js"),a=r("./global/math/index.js");function o(e,t,r){if(!t)return!1;r=Object(n.toArray)(r);for(var a=!1,o=0;o<r.length;o++){var l=r[o];if(void 0!==t[l])if(a=!0,Object(i.isArrayLike)(e[l]))if(Object(i.isTyped)(e[l]))if(e[l].length!==t[l].length){var s=e[l].constructor;e[l]=new s(t[l])}else e[l].set(t[l]);else{e[l].splice(0);for(var u=0;u<t[l].length;u++)e[l].push(t[l][u])}else if(Object(i.isTyped)(t[l])){var c=t[l].constructor;e[l]=new c(t[l])}else e[l]=t[l]}return a}function l(e,t,r){if(!Object(i.isArray)(t))return void 0!==e[t]?e[t]:r;for(var n=0;n<t.length;n++)if(void 0!==e[t[n]])return e[t[n]];return r}function s(e,t={}){for(var r=e.match(/%([^%]+)?%/g)||[],i=0;i<r.length;i++){var n=r[i],a=n.substring(1,n.length-1).split("="),o=a[0]in t?t[a[0]]:a[1];e=e.replace(n,o)}return e}function u(e,t){return e===t||!(!Object(i.isNumber)(e)||!Object(i.isNumber)(t))&&a.num.equals(e,t)}function c(e,t){if(e===t)return!0;if(e.length!==t.length)return!1;for(var r=0;r<e.length;r++)if(!a.num.equals(e[r],t[r]))return!1;return!0}function f(e,t){if(e===t)return!0;if(Object(i.isNumber)(e))return!!Object(i.isNumber)(t)&&a.num.equals(e,t);if(Object(i.isVector)(e))return!!Object(i.isVector)(t)&&c(e,t);if(!Object(i.isObjectObject)(e)||!Object(i.isObjectObject)(t))return!1;if(e.constructor!==t.constructor)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(var o=0;o<r.length;o++){var l=r[o];if(!t.hasOwnProperty(l))return!1;if(!f(e[l],t[l]))return!1}for(var s=0;s<n.length;s++)if(e.hasOwnProperty(n[s]))return!1;return!0}},"./global/util/type.js":function(e,t,r){"use strict";r.r(t),r.d(t,"isArray",(function(){return n})),r.d(t,"isArrayLike",(function(){return a})),r.d(t,"isAsyncFunction",(function(){return o})),r.d(t,"isBoolean",(function(){return l})),r.d(t,"isCanvas",(function(){return s})),r.d(t,"isDescriptor",(function(){return u})),r.d(t,"isDNA",(function(){return c})),r.d(t,"isError",(function(){return f})),r.d(t,"isNumber",(function(){return d})),r.d(t,"isFunction",(function(){return h})),r.d(t,"isNoU",(function(){return b})),r.d(t,"isNull",(function(){return m})),r.d(t,"isObject",(function(){return p})),r.d(t,"isObjectLike",(function(){return v})),r.d(t,"isObjectObject",(function(){return g})),r.d(t,"isPlain",(function(){return E})),r.d(t,"isPrimary",(function(){return y})),r.d(t,"isPromise",(function(){return T})),r.d(t,"isString",(function(){return w})),r.d(t,"isSymbol",(function(){return _})),r.d(t,"isSubclassOf",(function(){return S})),r.d(t,"isTag",(function(){return R})),r.d(t,"isTr2OrTri",(function(){return j})),r.d(t,"toTw2",(function(){return O})),r.d(t,"getTypeUpper",(function(){return A})),r.d(t,"isTyped",(function(){return z})),r.d(t,"isUndefined",(function(){return P})),r.d(t,"isVector",(function(){return C})),r.d(t,"isVector2",(function(){return D})),r.d(t,"isVector3",(function(){return I})),r.d(t,"isVector4",(function(){return x})),r.d(t,"isMatrix3",(function(){return L})),r.d(t,"isMatrix4",(function(){return M}));var i=Object.prototype.toString,n=Array.isArray;function a(e){return!!e&&(n(e)||z(e))}function o(e){return!(!h(e)||"AsyncFunction"!==e.constructor.name)}function l(e){return R(e,"[object Boolean]")}function s(e){return!!(e&&e instanceof HTMLCanvasElement)}function u(e){if(!e||!e.hasOwnProperty)return!1;for(var t=["value","initializer","get","set"],r=0,i=t.length;r<i;r++)if(e.hasOwnProperty(t[r]))return!0;return!1}function c(e){return w(e)&&e.match(/(\w|\d|[-_])+:(\w|\d|[-_])+:(\w|\d|[-_])+/)}function f(e){return!!e&&(e instanceof Error||"Error"===e.constructor.__category)}function d(e){return R(e,"[object Number]")}function h(e){return"function"==typeof e}function b(e){return null==e}function m(e){return null===e}function p(e){var t=typeof e;return null!==e&&("object"===t||"function"===t)}function v(e){return null!==e&&"object"==typeof e}function g(e){return null!==e&&R(e,"[object Object]")}function E(e){if(!p(e)||!g)return!1;if(null===Object.getPrototypeOf(e))return!0;for(var t=e;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function y(e){return l(e)||d(e)||w(e)}function T(e){return p(e)&&h(e.then)}function w(e){return R(e,"[object String]")}function _(e){return"symbol"==typeof e||R(e,"[object Symbol]")}function S(e,t){if(!h(e))return!1;for(;h(e);){if(e===t)return!0;e=Reflect.getPrototypeOf(e)}return!1}function R(e,t){return i.call(e)===t}function j(e){return e&&0===e.indexOf("Tr2")||0===e.indexOf("Tri")}function O(e){return j(e)?e.replace("Tr2","Tw2").replace("Tri","Tw2"):e}function A(e){return Object.prototype.toString.call(e).slice(8,-1).toUpperCase()}function z(e){return!!e&&!!(e.buffer instanceof ArrayBuffer&&e.BYTES_PER_ELEMENT)}function P(e){return void 0===e}function C(e){if(e){if(z(e))return!0;if(n(e)){for(var t=0;t<e.length;t++)if(!d(e[t]))return!1;return!0}}return!1}function D(e){return!!C(e)&&2===e.length}function I(e){return!!C(e)&&3===e.length}function x(e){return!!C(e)&&4===e.length}function L(e){return!!C(e)&&9===e.length}function M(e){return!!C(e)&&16===e.length}},"./global/util/url.js":function(e,t,r){"use strict";r.r(t),r.d(t,"getURL",(function(){return c})),r.d(t,"getURLString",(function(){return f})),r.d(t,"getURLInteger",(function(){return d})),r.d(t,"getURLFloat",(function(){return h})),r.d(t,"getURLBoolean",(function(){return b}));for(var i={},n=window.location.search.substring(1).split("&"),a=0;a<n.length;a++){var o=n[a].split("="),l=o[0].toLowerCase(),s=unescape(o[1]);if(l){var u=s.toLowerCase();i[l]="true"===u||"false"!==u&&s}}function c(){return Object.assign({},i)}function f(e,t){return(e=e.toLowerCase())in i?i[e]:t}function d(e,t){return(e=e.toLowerCase())in i?parseInt(i[e],10):t}function h(e,t){return(e=e.toLowerCase())in i?parseFloat(i[e]):t}function b(e,t){return(e=e.toLowerCase())in i?i[e]:t}},"./global/util/uuid.js":function(e,t,r){"use strict";r.r(t),r.d(t,"enableUUID",(function(){return o})),r.d(t,"generateID",(function(){return l}));var i=null,n=0,a=null;function o(e){if(e!==i){if(null!==i)throw new Error("Cannot change id generation type once set");if(e){a=[];for(var t=0;t<256;t++)a[t]=(t<16?"0":"")+t.toString(16).toUpperCase()}i=e}}function l(){return null===i&&(i=!1),i?(e=4294967295*Math.random()|0,t=4294967295*Math.random()|0,r=4294967295*Math.random()|0,o=4294967295*Math.random()|0,a[255&e]+a[e>>8&255]+a[e>>16&255]+a[e>>24&255]+"-"+a[255&t]+a[t>>8&255]+"-"+a[t>>16&15|64]+a[t>>24&255]+"-"+a[63&r|128]+a[r>>8&255]+"-"+a[r>>16&255]+a[r>>24&255]+a[255&o]+a[o>>8&255]+a[o>>16&255]+a[o>>24&255]):n++;var e,t,r,o}},"./index.js":function(e,t,r){"use strict";r.r(t),r.d(t,"ccpwgl_int",(function(){return a}));r("../node_modules/core-js/modules/es.symbol.description.js"),r("../node_modules/core-js/modules/es.symbol.async-iterator.js"),r("../node_modules/core-js/modules/es.array.flat.js"),r("../node_modules/core-js/modules/es.array.flat-map.js"),r("../node_modules/core-js/modules/es.array.iterator.js"),r("../node_modules/core-js/modules/es.array.reverse.js"),r("../node_modules/core-js/modules/es.array.sort.js"),r("../node_modules/core-js/modules/es.array.unscopables.flat.js"),r("../node_modules/core-js/modules/es.array.unscopables.flat-map.js"),r("../node_modules/core-js/modules/es.array-buffer.constructor.js"),r("../node_modules/core-js/modules/es.array-buffer.slice.js"),r("../node_modules/core-js/modules/es.math.hypot.js"),r("../node_modules/core-js/modules/es.number.parse-float.js"),r("../node_modules/core-js/modules/es.object.define-getter.js"),r("../node_modules/core-js/modules/es.object.define-setter.js"),r("../node_modules/core-js/modules/es.object.from-entries.js"),r("../node_modules/core-js/modules/es.object.lookup-getter.js"),r("../node_modules/core-js/modules/es.object.lookup-setter.js"),r("../node_modules/core-js/modules/es.promise.js"),r("../node_modules/core-js/modules/es.promise.finally.js"),r("../node_modules/core-js/modules/es.string.pad-end.js"),r("../node_modules/core-js/modules/es.string.pad-start.js"),r("../node_modules/core-js/modules/es.string.replace.js"),r("../node_modules/core-js/modules/es.string.trim.js"),r("../node_modules/core-js/modules/es.string.trim-end.js"),r("../node_modules/core-js/modules/es.string.trim-start.js"),r("../node_modules/core-js/modules/es.typed-array.float32-array.js"),r("../node_modules/core-js/modules/es.typed-array.float64-array.js"),r("../node_modules/core-js/modules/es.typed-array.int8-array.js"),r("../node_modules/core-js/modules/es.typed-array.int16-array.js"),r("../node_modules/core-js/modules/es.typed-array.int32-array.js"),r("../node_modules/core-js/modules/es.typed-array.uint8-array.js"),r("../node_modules/core-js/modules/es.typed-array.uint8-clamped-array.js"),r("../node_modules/core-js/modules/es.typed-array.uint16-array.js"),r("../node_modules/core-js/modules/es.typed-array.uint32-array.js"),r("../node_modules/core-js/modules/es.typed-array.from.js"),r("../node_modules/core-js/modules/es.typed-array.of.js"),r("../node_modules/core-js/modules/web.dom-collections.for-each.js"),r("../node_modules/core-js/modules/web.dom-collections.iterator.js"),r("../node_modules/core-js/modules/web.immediate.js"),r("../node_modules/core-js/modules/web.queue-microtask.js"),r("../node_modules/core-js/modules/web.url.js"),r("../node_modules/core-js/modules/web.url.to-json.js"),r("../node_modules/core-js/modules/web.url-search-params.js"),r("../node_modules/reflect-metadata/Reflect.js");var i=r("./config.js"),n=r("./global/index.js");r.d(t,"tw2",(function(){return n.tw2})),n.tw2.Register(i.config);var a=n.tw2},"./particle/Tw2ParticleSystem.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tw2ParticleSystem",(function(){return H}));var i,n,a,o,l,s,u,c,f,d,h,b,m,p,v,g,E,y,T,w,_,S,R,j,O,A,z,P,C,D,I,x,L,M,F,G,k=r("./global/index.js"),N=r("./core/index.js"),B=r("./particle/element/index.js");function U(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function V(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var H=(i=k.meta.type("Tw2ParticleSystem","Tr2ParticleSystem"),n=k.meta.black.string,a=k.meta.black.boolean,o=k.meta.black.boolean,l=k.meta.black.listOf("Tw2ParticleConstraint"),s=k.meta.black.listOf("Tw2ParticleElementDeclaration"),u=k.meta.black.objectOf("Tw2ParticleEmitter"),c=k.meta.black.objectOf("Tw2ParticleEmitter"),f=k.meta.black.listOf("Tw2ParticleForce"),d=k.meta.black.uint,h=k.meta.black.boolean,b=k.meta.black.boolean,m=k.meta.black.boolean,p=k.meta.notImplemented,v=k.meta.black.boolean,g=k.meta.todo("This is unused, remove it?"),E=k.meta.todo("This is unused, remove it?"),i((G=F=class e extends k.Tw2BaseClass{constructor(){super(),U(this,"name",w,this),U(this,"applyAging",_,this),U(this,"applyForce",S,this),U(this,"constraints",R,this),U(this,"elements",j,this),U(this,"emitParticleDuringLifeEmitter",O,this),U(this,"emitParticleOnDeathEmitter",A,this),U(this,"forces",z,this),U(this,"maxParticleCount",P,this),U(this,"requiresSorting",C,this),U(this,"updateBoundingBox",D,this),U(this,"updateSimulation",I,this),U(this,"useSimTimeRebase",x,this),U(this,"isGlobal",L,this),U(this,"peakAliveCount",M,this),this._aabbMin=k.vec3.create(),this._aabbMax=k.vec3.create(),this._aliveCount=0,this._bufferDirty=!1,this._buffers=[null,null],this._declaration=null,this._elements=[],this._instanceStride=[null,null],this._isValid=!1,this._distancesBuffer=null,this._sortedBuffer=null,this._sortedIndexes=null,this._stdElements=[null,null,null,null],this._vb=null,this._vertexStride=[null,null],e.init()}Initialize(){this.UpdateElementDeclaration()}GetResources(e=[]){return e}UpdateElementDeclaration(){this._isValid=!1;var e=k.device.gl;if(this._vb&&(e.deleteBuffer(this._vb),this._vb=null),this._declaration=null,this._aliveCount=0,0!==this.elements.length){this._stdElements=[null,null,null,null],this._elements=[],this._instanceStride=[0,0],this._vertexStride=[0,0],this._declaration=new N.Tw2VertexDeclaration,this._buffers=[null,null];for(var t=0;t<this.elements.length;++t){var r=this.elements[t].usedByGPU?0:1,i=this.elements[t],n=B.Tw2ParticleElement.from({elementType:i.elementType,customName:i.customName,dimension:i.GetDimension(),usageIndex:i.usageIndex,usedByGPU:i.usedByGPU});if(n.startOffset=this._vertexStride[r],n.offset=n.startOffset,this.elements[t].elementType!==B.Tw2ParticleElement.Type.CUSTOM&&(this._stdElements[this.elements[t].elementType]=n),this._vertexStride[r]+=n.dimension,this._elements.push(n),0===r){var a=this.elements[t].GetDeclaration();a.offset=4*n.startOffset,this._declaration.elements.push(a)}}this._declaration.RebuildHash();for(var o=0;o<this._elements.length;++o){var l=this._elements[o].usedByGPU?0:1;this._elements[o].vertexStride=this._vertexStride[l]}this._instanceStride[0]=4*this._vertexStride[0],this._instanceStride[1]=4*this._vertexStride[1];for(var s=0;s<this._elements.length;++s){var u=this._elements[s].usedByGPU?0:1;this._elements[s].instanceStride=this._instanceStride[u]}this._buffers=[null,null],this._instanceStride[0]&&this.maxParticleCount&&(this._buffers[0]=new Float32Array(this._instanceStride[0]*this.maxParticleCount),this._vb=e.createBuffer(),e.bindBuffer(e.ARRAY_BUFFER,this._vb),e.bufferData(e.ARRAY_BUFFER,this._buffers[0].length,e.DYNAMIC_DRAW),e.bindBuffer(e.ARRAY_BUFFER,null)),this._instanceStride[1]&&(this._buffers[1]=new Float32Array(this._instanceStride[1]*this.maxParticleCount));for(var c=0;c<this._elements.length;++c){var f=this._elements[c].usedByGPU?0:1;this._elements[c].buffer=this._buffers[f]}this.requiresSorting&&(this._sortedIndexes=new Array(this.maxParticleCount),this._sortedBuffer=new Float32Array(this._instanceStride[0]*this.maxParticleCount),this._distancesBuffer=new Float32Array(this.maxParticleCount)),this._isValid=!0,this._bufferDirty=!0}}HasElement(e){return null!==this._stdElements[e]}GetElement(e){return this._stdElements[e]&&(this._stdElements[e].offset=this._stdElements[e].startOffset),this._stdElements[e]}BeginSpawnParticle(){return!this._isValid||this._aliveCount>=this.maxParticleCount?null:this._aliveCount++}EndSpawnParticle(){this._bufferDirty=!0}Update(t){if(t=Math.min(t,.1),this.applyAging&&this.HasElement(B.Tw2ParticleElement.Type.LIFETIME)){for(var r=this.GetElement(B.Tw2ParticleElement.Type.LIFETIME),i=this.emitParticleOnDeathEmitter?this.GetElement(B.Tw2ParticleElement.Type.POSITION):null,n=this.emitParticleOnDeathEmitter?this.GetElement(B.Tw2ParticleElement.Type.VELOCITY):null,a=0;a<this._aliveCount;++a)if(r.buffer[r.offset]+=t/r.buffer[r.offset+1],r.buffer[r.offset]>1){if(this.emitParticleOnDeathEmitter&&this.emitParticleOnDeathEmitter.SpawnParticles(i,n,1),this._aliveCount--,a<this._aliveCount){for(var o=0;o<2;++o)this._buffers[o]&&this._buffers[o].set(this._buffers[o].subarray(this._instanceStride[o]*this._aliveCount,this._instanceStride[o]*this._aliveCount+this._instanceStride[o]),a*this._instanceStride[o]);--a,this._bufferDirty=!0}}else r.offset+=r.instanceStride,i&&(i.offset+=i.instanceStride),n&&(n.offset+=n.instanceStride);r.dirty=!0}var l=e.global.vec3_0;if(this.updateSimulation&&this.HasElement(B.Tw2ParticleElement.Type.POSITION)&&this.HasElement(B.Tw2ParticleElement.Type.VELOCITY)){for(var s=this.applyForce&&this.forces.length,u=0;u<this.forces.length;++u)this.forces[u].Update(t);for(var c=this.GetElement(B.Tw2ParticleElement.Type.POSITION),f=this.GetElement(B.Tw2ParticleElement.Type.VELOCITY),d=s?this.GetElement(B.Tw2ParticleElement.Type.MASS):null,h=0;h<this._aliveCount;++h){if(s){for(var b=d?d.buffer[d.offset]:1,m=k.vec3.set(l,0,0,0),p=0;p<this.forces.length;++p)this.forces[p].ApplyForce(c,f,m,t,b);d&&k.vec3.scale(m,m,1/d.buffer[d.offset]),f.buffer[f.offset]+=m[0]*t,f.buffer[f.offset+1]+=m[1]*t,f.buffer[f.offset+2]+=m[2]*t}c.buffer[c.offset]+=f.buffer[f.offset]*t,c.buffer[c.offset+1]+=f.buffer[f.offset+1]*t,c.buffer[c.offset+2]+=f.buffer[f.offset+2]*t,this.emitParticleDuringLifeEmitter&&this.emitParticleDuringLifeEmitter.SpawnParticles(c,f,t),c.offset+=c.instanceStride,f.offset+=f.instanceStride,d&&(d.offset+=d.instanceStride)}c.dirty=!0,f.dirty=!0}if(this.updateSimulation&&this.constraints.length)for(var v=0;v<this.constraints.length;++v)this.constraints[v].ApplyConstraint(this._buffers,this._instanceStride,this._aliveCount,t);if(this.updateBoundingBox&&this.GetBoundingBox(this._aabbMin,this._aabbMax),this.emitParticleDuringLifeEmitter&&(!this.HasElement(B.Tw2ParticleElement.Type.POSITION)||!this.HasElement(B.Tw2ParticleElement.Type.VELOCITY))&&this.updateSimulation)for(var g=this.GetElement(B.Tw2ParticleElement.Type.POSITION),E=this.GetElement(B.Tw2ParticleElement.Type.VELOCITY),y=0;y<this._aliveCount;++y)this.emitParticleDuringLifeEmitter.SpawnParticles(g,E,1),g&&(g.offset+=g.instanceStride),E&&(E.offset+=E.instanceStride);for(var T=0;T<this._elements.length;++T){var w=this._elements[T];w.offset=w.startOffset,w.dirty&&(this._bufferDirty=!0,w.dirty=!1)}}GetBoundingBox(e,t){if(this._aliveCount&&this.HasElement(B.Tw2ParticleElement.Type.POSITION)){var r=this.GetElement(B.Tw2ParticleElement.Type.POSITION);e[0]=r.buffer[r.offset],e[1]=r.buffer[r.offset+1],e[2]=r.buffer[r.offset+2],t[0]=r.buffer[r.offset],t[1]=r.buffer[r.offset+1],t[2]=r.buffer[r.offset+2];for(var i=0;i<this._aliveCount;++i)e[0]=Math.min(e[0],r.buffer[r.offset]),e[1]=Math.min(e[1],r.buffer[r.offset+1]),e[2]=Math.min(e[2],r.buffer[r.offset+2]),t[0]=Math.max(t[0],r.buffer[r.offset]),t[1]=Math.max(t[1],r.buffer[r.offset+1]),t[2]=Math.max(t[2],r.buffer[r.offset+2]),r.offset+=r.instanceStride;return!0}return!1}_Sort(){for(var t=k.mat4.multiply(e.global.mat4_0,k.device.projection,k.device.view),r=this.GetElement(B.Tw2ParticleElement.Type.POSITION),i=this._aliveCount,n=this._distancesBuffer,a=0;a<i;++a){var o=r.offset+r.instanceStride*a,l=r.buffer[o]-t[12],s=l*l;s+=(l=r.buffer[o+1]-t[13])*l,s+=(l=r.buffer[o+2]-t[14])*l,n[a]=s}for(var u=0;u<this.maxParticleCount;++u)this._sortedIndexes[u]=u;this._sortedIndexes.sort((function(e,t){if(e>=i&&t>=i)return e<t?-1:e>t?1:0;if(e>=i)return 1;if(t>=i)return-1;var r=n[e],a=n[t];return r<a?1:r>a?-1:0}))}GetInstanceBuffer(){if(0!==this._aliveCount){var e=k.device.gl;if(this.requiresSorting&&this.HasElement(B.Tw2ParticleElement.Type.POSITION)&&this._buffers){this._Sort();for(var t=this._instanceStride[0],r=this._buffers[0],i=0;i<this._aliveCount;++i)for(var n=i*t,a=this._sortedIndexes[i]*t,o=0;o<t;++o)this._sortedBuffer[n+o]=r[o+a];e.bindBuffer(e.ARRAY_BUFFER,this._vb),e.bufferSubData(e.ARRAY_BUFFER,0,this._sortedBuffer.subarray(0,this._vertexStride[0]*this._aliveCount)),this._bufferDirty=!1}else this._bufferDirty&&(e.bindBuffer(e.ARRAY_BUFFER,this._vb),e.bufferSubData(e.ARRAY_BUFFER,0,this._buffers[0].subarray(0,this._vertexStride[0]*this._aliveCount)),this._bufferDirty=!1);return this._vb}}GetInstanceDeclaration(){return this._declaration}GetInstanceStride(){return this._instanceStride[0]}GetInstanceCount(){return this._aliveCount}static init(){B.Tw2ParticleElement.global||(e.global={vec3_0:k.vec3.create(),mat4_0:k.mat4.create()})}},F.global=null,w=V((T=G).prototype,"name",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),_=V(T.prototype,"applyAging",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),S=V(T.prototype,"applyForce",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),R=V(T.prototype,"constraints",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),j=V(T.prototype,"elements",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),O=V(T.prototype,"emitParticleDuringLifeEmitter",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),A=V(T.prototype,"emitParticleOnDeathEmitter",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),z=V(T.prototype,"forces",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),P=V(T.prototype,"maxParticleCount",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),C=V(T.prototype,"requiresSorting",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),D=V(T.prototype,"updateBoundingBox",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),I=V(T.prototype,"updateSimulation",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),x=V(T.prototype,"useSimTimeRebase",[p,v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),L=V(T.prototype,"isGlobal",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),M=V(T.prototype,"peakAliveCount",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),y=T))||y)},"./particle/element/Tw2ParticleElement.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tw2ParticleElement",(function(){return I}));var i,n,a,o,l,s,u,c,f,d,h,b,m,p,v,g,E,y,T,w,_,S,R,j,O,A,z=r("./global/index.js");function P(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function C(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var D={LIFETIME:0,POSITION:1,VELOCITY:2,MASS:3,CUSTOM:4},I=(i=z.meta.type("Tw2ParticleElement"),n=z.meta.enumerable(D),a=z.meta.string,o=z.meta.uint,l=z.meta.uint,s=z.meta.boolean,u=z.meta.uint,c=z.meta.uint,f=z.meta.uint,d=z.meta.uint,h=z.meta.boolean,b=z.meta.isPrivate,i((A=O=class e{constructor(){P(this,"elementType",v,this),P(this,"customName",g,this),P(this,"dimension",E,this),P(this,"usageIndex",y,this),P(this,"usedByGPU",T,this),this.buffer=null,P(this,"startOffset",w,this),P(this,"offset",_,this),P(this,"instanceStride",S,this),P(this,"vertexStride",R,this),P(this,"dirty",j,this)}get string(){return e.TypeMap[this.elementType]||"UNKNOWN"}static from(t){var r=new e;if(t){var i=t.elementType;r.elementType="string"==typeof i?this.Type[i.toUpperCase()]:i,r.customName=t.customName,r.dimension=t.dimension,r.usageIndex=t.usageIndex,r.usedByGPU=t.usedByGPU?1:0}return r}},O.Type=D,O.TypeMap=["LIFETIME","POSITION","VELOCITY","MASS","CUSTOM"],v=C((p=A).prototype,"elementType",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),g=C(p.prototype,"customName",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),E=C(p.prototype,"dimension",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),y=C(p.prototype,"usageIndex",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),T=C(p.prototype,"usedByGPU",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),w=C(p.prototype,"startOffset",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),_=C(p.prototype,"offset",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),S=C(p.prototype,"instanceStride",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),R=C(p.prototype,"vertexStride",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),j=C(p.prototype,"dirty",[h,b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),m=p))||m)},"./particle/element/Tw2ParticleElementDeclaration.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tw2ParticleElementDeclaration",(function(){return _}));var i,n,a,o,l,s,u,c,f,d,h,b,m,p,v,g=r("./core/index.js"),E=r("./particle/element/Tw2ParticleElement.js"),y=r("./global/index.js");function T(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function w(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var _=(i=y.meta.type("Tw2ParticleElementDeclaration","Tr2ParticleElementDeclaration"),n=y.meta.black.string,a=y.meta.black.uint,o=y.meta.black.uint,l=y.meta.enumerable(E.Tw2ParticleElement.Type),s=y.meta.black.uint,u=y.meta.black.boolean,i((v=class extends y.Tw2BaseClass{constructor(...e){super(...e),T(this,"customName",d,this),T(this,"dimension",h,this),T(this,"elementType",b,this),T(this,"usageIndex",m,this),T(this,"usedByGPU",p,this)}GetDimension(){switch(this.elementType){case E.Tw2ParticleElement.Type.LIFETIME:return 2;case E.Tw2ParticleElement.Type.POSITION:case E.Tw2ParticleElement.Type.VELOCITY:return 3;case E.Tw2ParticleElement.Type.MASS:return 1}return this.dimension}GetDeclaration(){var e;switch(this.elementType){case E.Tw2ParticleElement.Type.LIFETIME:e=g.Tw2VertexElement.Type.TANGENT;break;case E.Tw2ParticleElement.Type.POSITION:e=g.Tw2VertexElement.Type.POSITION;break;case E.Tw2ParticleElement.Type.VELOCITY:e=g.Tw2VertexElement.Type.NORMAL;break;case E.Tw2ParticleElement.Type.MASS:e=g.Tw2VertexElement.Type.BINORMAL;break;default:e=g.Tw2VertexElement.Type.TEXCOORD}return g.Tw2VertexElement.from({usage:e,usageIndex:this.usageIndex,elements:this.GetDimension()})}},d=w((f=v).prototype,"customName",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),h=w(f.prototype,"dimension",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),b=w(f.prototype,"elementType",[o,l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return E.Tw2ParticleElement.Type.CUSTOM}}),m=w(f.prototype,"usageIndex",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),p=w(f.prototype,"usedByGPU",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),c=f))||c)},"./particle/element/index.js":function(e,t,r){"use strict";r.r(t);var i=r("./particle/element/Tw2ParticleElement.js");r.d(t,"Tw2ParticleElement",(function(){return i.Tw2ParticleElement}));var n=r("./particle/element/Tw2ParticleElementDeclaration.js");r.d(t,"Tw2ParticleElementDeclaration",(function(){return n.Tw2ParticleElementDeclaration}))},"./particle/emitter/Tw2DynamicEmitter.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tw2DynamicEmitter",(function(){return w}));var i,n,a,o,l,s,u,c,f,d,h,b,m,p,v,g=r("./global/index.js"),E=r("./particle/emitter/Tw2ParticleEmitter.js");function y(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function T(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var w=(i=g.meta.type("Tw2DynamicEmitter","Tr2DynamicEmitter"),n=g.meta.black.string,a=g.meta.black.listOf("Tw2ParticleAttributeGenerator"),o=g.meta.notImplemented,l=g.meta.black.uint,s=g.meta.black.objectOf("Tw2ParticleSystem"),u=g.meta.black.float,i((v=class extends E.Tw2ParticleEmitter{constructor(...e){super(...e),y(this,"name",d,this),y(this,"generators",h,this),y(this,"maxParticles",b,this),y(this,"particleSystem",m,this),y(this,"rate",p,this),this._accumulatedRate=0,this._isValid=!1}Initialize(){this.Rebind()}Update(e){this.SpawnParticles(null,null,Math.min(e,.1))}Rebind(){if(this._isValid=!1,this.particleSystem){for(var e=0;e<this.generators.length;++e)if(!this.generators[e].Bind(this.particleSystem))return;this._isValid=!0}}SpawnParticles(e,t,r){if(this._isValid){this._accumulatedRate+=this.rate*r;var i=Math.floor(this._accumulatedRate);this._accumulatedRate-=i;for(var n=0;n<i;++n){var a=this.particleSystem.BeginSpawnParticle();if(null===a)break;for(var o=0;o<this.generators.length;++o)this.generators[o].Generate(e,t,a);this.particleSystem.EndSpawnParticle()}}}static black(e){return[["name",e.string],["particleSystem",e.object],["generators",e.array],["maxParticles",e.uint],["rate",e.float]]}},d=T((f=v).prototype,"name",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),h=T(f.prototype,"generators",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),b=T(f.prototype,"maxParticles",[o,l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),m=T(f.prototype,"particleSystem",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),p=T(f.prototype,"rate",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),c=f))||c)},"./particle/emitter/Tw2ParticleEmitter.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tw2ParticleEmitter",(function(){return v}));var i,n,a,o,l,s,u,c=r("./global/index.js");var f,d,h,b,m,p,v=(i=c.meta.abstract,n=c.meta.type("Tw2ParticleEmitter"),a=c.meta.objectOf("Tw2ParticleSystem"),i(o=n((u=class extends c.Tw2BaseClass{constructor(...e){var t,r,i,n;super(...e),t=this,r="particleSystem",n=this,(i=s)&&Object.defineProperty(t,r,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}Initialize(){}GetResources(e=[]){return this.particleSystem&&this.particleSystem.GetResources(e),e}Update(e){}},f=(l=u).prototype,d="particleSystem",h=[a],b={configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}},p={},Object.keys(b).forEach((function(e){p[e]=b[e]})),p.enumerable=!!p.enumerable,p.configurable=!!p.configurable,("value"in p||p.initializer)&&(p.writable=!0),p=h.slice().reverse().reduce((function(e,t){return t(f,d,e)||e}),p),m&&void 0!==p.initializer&&(p.value=p.initializer?p.initializer.call(m):void 0,p.initializer=void 0),void 0===p.initializer&&(Object.defineProperty(f,d,p),p=null),s=p,o=l))||o)||o)},"./particle/emitter/Tw2StaticEmitter.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tw2StaticEmitter",(function(){return _}));var i,n,a,o,l,s,u,c,f,d,h,b,m,p,v,g=r("./global/index.js"),E=r("./core/index.js"),y=r("./particle/emitter/Tw2ParticleEmitter.js");function T(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function w(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var _=(i=g.meta.type("Tw2StaticEmitter","Tr2StaticEmitter"),n=g.meta.black.string,a=g.meta.black.path,o=g.meta.black.uint,l=g.meta.black.objectOf("Tw2ParticleSystem"),s=g.meta.objectOf("Tw2GeometryRes"),u=g.meta.isPrivate,i((v=class extends y.Tw2ParticleEmitter{constructor(...e){super(...e),T(this,"name",d,this),T(this,"geometryResourcePath",h,this),T(this,"meshIndex",b,this),T(this,"particleSystem",m,this),T(this,"geometryResource",p,this),this._spawned=!1}get geometryIndex(){return this.meshIndex}set geometryIndex(e){this.meshIndex=e}Initialize(){""!==this.geometryResourcePath&&(this.geometryResource=g.resMan.GetResource(this.geometryResourcePath,e=>{e.systemMirror=!0,this.OnResPrepared(e)})),this._spawned=!1}GetResources(e=[]){return this.particleSystem&&this.particleSystem.GetResources(e),this.geometryResource&&!e.includes(this.geometryResource)&&e.push(this.geometryResource),e}OnResPrepared(){this.geometryResource&&this.geometryResource.meshes.length&&(this.geometryResource.meshes[0].bufferData||(this.geometryResource.systemMirror=!0,this.geometryResource.Reload()))}Update(){var e=this.geometryResource;if(!this._spawned&&this.particleSystem&&e&&e.IsGood()&&e.meshes.length>this.meshIndex&&e.meshes[this.meshIndex].bufferData){this._spawned=!0;for(var t=e.meshes[this.meshIndex],r=this.particleSystem.elements,i=new Array(r.length),n=0;n<r.length;++n){var a=r[n].GetDeclaration(),o=t.declaration.FindUsage(a.usage,a.usageIndex-8);if(null===o)return void e.OnError(new E.ErrGeometryMeshMissingParticleElement({path:e.path,elementUsage:a.usage,elementUsageIndex:a.usageIndex}));if(o.elements<a.elements)return void e.OnError(new E.ErrGeometryMeshElementComponentsMissing({path:e.path,inputCount:o.elements,elementCount:a.elements,elementUsage:a.usage,elementUsageIndex:a.usageIndex}));i[n]=o.offset/4}for(var l=t.bufferData.length/t.declaration.stride*4,s=0;s<l;++s){var u=this.particleSystem.BeginSpawnParticle();if(null===u)break;for(var c=0;c<this.particleSystem._elements.length;++c)for(var f=this.particleSystem._elements[c],d=0;d<f.dimension;++d)f.buffer[f.instanceStride*u+f.startOffset+d]=t.bufferData[i[c]+d+s*t.declaration.stride/4];this.particleSystem.EndSpawnParticle()}}}},d=w((f=v).prototype,"name",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),h=w(f.prototype,"geometryResourcePath",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),b=w(f.prototype,"meshIndex",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),m=w(f.prototype,"particleSystem",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),p=w(f.prototype,"geometryResource",[s,u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),c=f))||c)},"./particle/emitter/index.js":function(e,t,r){"use strict";r.r(t);var i=r("./particle/emitter/Tw2StaticEmitter.js");r.d(t,"Tw2StaticEmitter",(function(){return i.Tw2StaticEmitter}));var n=r("./particle/emitter/Tw2DynamicEmitter.js");r.d(t,"Tw2DynamicEmitter",(function(){return n.Tw2DynamicEmitter}))},"./particle/force/Tw2ParticleAttractorForce.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tw2ParticleAttractorForce",(function(){return m}));var i,n,a,o,l,s,u,c,f=r("./global/index.js"),d=r("./particle/force/Tw2ParticleForce.js");function h(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function b(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var m=(i=f.meta.type("Tw2ParticleAttractorForce","Tr2ParticleAttractorForce"),n=f.meta.black.float,a=f.meta.black.vector3,i((c=class extends d.Tw2ParticleForce{constructor(...e){super(...e),h(this,"magnitude",s,this),h(this,"position",u,this)}ApplyForce(e,t,r,i,n){var a=d.Tw2ParticleForce.global.vec3_0;a[0]=this.position[0]-e.buffer[e.offset],a[1]=this.position[1]-e.buffer[e.offset+1],a[2]=this.position[2]-e.buffer[e.offset+2],f.vec3.normalize(a,a),f.vec3.scale(a,a,this.magnitude),f.vec3.add(r,r,a)}},s=b((l=c).prototype,"magnitude",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),u=b(l.prototype,"position",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return f.vec3.create()}}),o=l))||o)},"./particle/force/Tw2ParticleDirectForce.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tw2ParticleDirectForce",(function(){return v}));var i,n,a,o,l,s,u=r("./global/index.js"),c=r("./particle/force/Tw2ParticleForce.js");var f,d,h,b,m,p,v=(i=u.meta.type("Tw2ParticleDirectForce","Tr2ParticleDirectForce"),n=u.meta.black.vector3,i((s=class extends c.Tw2ParticleForce{constructor(...e){var t,r,i,n;super(...e),t=this,r="force",n=this,(i=l)&&Object.defineProperty(t,r,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}ApplyForce(e,t,r,i,n){u.vec3.add(r,r,this.force)}},f=(o=s).prototype,d="force",h=[n],b={configurable:!0,enumerable:!0,writable:!0,initializer:function(){return u.vec3.create()}},p={},Object.keys(b).forEach((function(e){p[e]=b[e]})),p.enumerable=!!p.enumerable,p.configurable=!!p.configurable,("value"in p||p.initializer)&&(p.writable=!0),p=h.slice().reverse().reduce((function(e,t){return t(f,d,e)||e}),p),m&&void 0!==p.initializer&&(p.value=p.initializer?p.initializer.call(m):void 0,p.initializer=void 0),void 0===p.initializer&&(Object.defineProperty(f,d,p),p=null),l=p,a=o))||a)},"./particle/force/Tw2ParticleDragForce.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tw2ParticleDragForce",(function(){return v}));var i,n,a,o,l,s,u=r("./global/index.js"),c=r("./particle/force/Tw2ParticleForce.js");var f,d,h,b,m,p,v=(i=u.meta.type("Tw2ParticleDragForce","Tr2ParticleDragForce"),n=u.meta.black.float,i((s=class extends c.Tw2ParticleForce{constructor(...e){var t,r,i,n;super(...e),t=this,r="drag",n=this,(i=l)&&Object.defineProperty(t,r,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}ApplyForce(e,t,r,i,n){r[0]+=t.buffer[t.offset]*-this.drag,r[1]+=t.buffer[t.offset+1]*-this.drag,r[2]+=t.buffer[t.offset+2]*-this.drag}},f=(o=s).prototype,d="drag",h=[n],b={configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.1}},p={},Object.keys(b).forEach((function(e){p[e]=b[e]})),p.enumerable=!!p.enumerable,p.configurable=!!p.configurable,("value"in p||p.initializer)&&(p.writable=!0),p=h.slice().reverse().reduce((function(e,t){return t(f,d,e)||e}),p),m&&void 0!==p.initializer&&(p.value=p.initializer?p.initializer.call(m):void 0,p.initializer=void 0),void 0===p.initializer&&(Object.defineProperty(f,d,p),p=null),l=p,a=o))||a)},"./particle/force/Tw2ParticleFluidDragForce.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tw2ParticleFluidDragForce",(function(){return v}));var i,n,a,o,l,s,u=r("./global/index.js"),c=r("./particle/force/Tw2ParticleForce.js");var f,d,h,b,m,p,v=(i=u.meta.type("Tw2ParticleFluidDragForce","Tr2ParticleFluidDragForce"),n=u.meta.black.float,i((s=class extends c.Tw2ParticleForce{constructor(...e){var t,r,i,n;super(...e),t=this,r="drag",n=this,(i=l)&&Object.defineProperty(t,r,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}ApplyForce(e,t,r,i,n){var a=c.Tw2ParticleForce.global.vec3_0,o=c.Tw2ParticleForce.global.vec3_1,l=Math.sqrt(t.buffer[t.offset]*t.buffer[t.offset]+t.buffer[t.offset+1]*t.buffer[t.offset+1]+t.buffer[t.offset+2]*t.buffer[t.offset+2]);a[0]=t.buffer[t.offset]*-l*this.drag,a[1]=t.buffer[t.offset+1]*-l*this.drag,a[2]=t.buffer[t.offset+2]*-l*this.drag,u.vec3.scale(o,a,i*n),o[0]+=t.buffer[t.offset],o[1]+=t.buffer[t.offset+1],o[2]+=t.buffer[t.offset+2],t.buffer[t.offset]*o[0]+t.buffer[t.offset+1]*o[1]+t.buffer[t.offset+2]*o[2]<0?(r[0]=-t.buffer[t.offset]/i/n,r[1]=-t.buffer[t.offset+1]/i/n,r[2]=-t.buffer[t.offset+2]/i/n):u.vec3.copy(r,a)}},f=(o=s).prototype,d="drag",h=[n],b={configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.1}},p={},Object.keys(b).forEach((function(e){p[e]=b[e]})),p.enumerable=!!p.enumerable,p.configurable=!!p.configurable,("value"in p||p.initializer)&&(p.writable=!0),p=h.slice().reverse().reduce((function(e,t){return t(f,d,e)||e}),p),m&&void 0!==p.initializer&&(p.value=p.initializer?p.initializer.call(m):void 0,p.initializer=void 0),void 0===p.initializer&&(Object.defineProperty(f,d,p),p=null),l=p,a=o))||a)},"./particle/force/Tw2ParticleForce.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tw2ParticleForce",(function(){return v}));var i,n,a,o,l,s,u,c=r("./global/index.js");var f,d,h,b,m,p,v=(i=c.meta.abstract,n=c.meta.type("Tw2ParticleForce"),a=c.meta.abstract,i(o=n((u=s=class extends c.Tw2BaseClass{ApplyForce(e,t,r,i,n){}Update(e){}},s.global={vec3_0:c.vec3.create(),vec3_1:c.vec3.create(),vec4_0:c.vec4.create()},f=(l=u).prototype,d="ApplyForce",h=[a],b=Object.getOwnPropertyDescriptor(l.prototype,"ApplyForce"),m=l.prototype,p={},Object.keys(b).forEach((function(e){p[e]=b[e]})),p.enumerable=!!p.enumerable,p.configurable=!!p.configurable,("value"in p||p.initializer)&&(p.writable=!0),p=h.slice().reverse().reduce((function(e,t){return t(f,d,e)||e}),p),m&&void 0!==p.initializer&&(p.value=p.initializer?p.initializer.call(m):void 0,p.initializer=void 0),void 0===p.initializer&&(Object.defineProperty(f,d,p),p=null),o=l))||o)||o)},"./particle/force/Tw2ParticleSpring.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tw2ParticleSpring",(function(){return m}));var i,n,a,o,l,s,u,c,f=r("./global/index.js"),d=r("./particle/force/Tw2ParticleForce.js");function h(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function b(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var m=(i=f.meta.type("Tw2ParticleSpring","Tr2ParticleSpring"),n=f.meta.black.float,a=f.meta.black.vector3,i((c=class extends d.Tw2ParticleForce{constructor(...e){super(...e),h(this,"springConstant",s,this),h(this,"position",u,this)}ApplyForce(e,t,r,i,n){r[0]+=(this.position[0]-e.buffer[e.offset])*this.springConstant,r[1]+=(this.position[1]-e.buffer[e.offset+1])*this.springConstant,r[2]+=(this.position[2]-e.buffer[e.offset+2])*this.springConstant}},s=b((l=c).prototype,"springConstant",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),u=b(l.prototype,"position",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return f.vec3.create()}}),o=l))||o)},"./particle/force/Tw2ParticleTurbulenceForce.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tw2ParticleTurbulenceForce",(function(){return E}));var i,n,a,o,l,s,u,c,f,d,h,b,m=r("./global/index.js"),p=r("./particle/force/Tw2ParticleForce.js");function v(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function g(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var E=(i=m.meta.type("Tw2ParticleTurbulenceForce","Tr2ParticleTurbulenceForce"),n=m.meta.black.vector3,a=m.meta.black.vector4,o=m.meta.black.float,l=m.meta.black.float,i((b=class extends p.Tw2ParticleForce{constructor(...e){super(...e),v(this,"amplitude",c,this),v(this,"frequency",f,this),v(this,"noiseLevel",d,this),v(this,"noiseRatio",h,this),this._time=0}ApplyForce(e,t,r,i,n){if(0!==this.noiseLevel){for(var a=e.buffer[e.offset]*this.frequency[0],o=e.buffer[e.offset+1]*this.frequency[1],l=e.buffer[e.offset+2]*this.frequency[2],s=this._time*this.frequency[3],u=0,c=.5,f=1/this.noiseRatio,d=m.vec4.set(p.Tw2ParticleForce.global.vec4_0,0,0,0,0),h=0;h<this.noiseLevel;++h)m.noise.turbulence(d,a,o,l,s,c),u+=c,a*=f,o*=f,l*=f,s*=f,c*=this.noiseRatio;r[0]+=d[0]*this.amplitude[0]*u,r[1]+=d[1]*this.amplitude[1]*u,r[2]+=d[2]*this.amplitude[2]*u}}Update(e){this._time+=e}},c=g((u=b).prototype,"amplitude",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return m.vec3.fromValues(1,1,1)}}),f=g(u.prototype,"frequency",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return m.vec4.fromValues(1,1,1,1)}}),d=g(u.prototype,"noiseLevel",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 3}}),h=g(u.prototype,"noiseRatio",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.5}}),s=u))||s)},"./particle/force/index.js":function(e,t,r){"use strict";r.r(t);var i=r("./particle/force/Tw2ParticleAttractorForce.js");r.d(t,"Tw2ParticleAttractorForce",(function(){return i.Tw2ParticleAttractorForce}));var n=r("./particle/force/Tw2ParticleDirectForce.js");r.d(t,"Tw2ParticleDirectForce",(function(){return n.Tw2ParticleDirectForce}));var a=r("./particle/force/Tw2ParticleDragForce.js");r.d(t,"Tw2ParticleDragForce",(function(){return a.Tw2ParticleDragForce}));var o=r("./particle/force/Tw2ParticleFluidDragForce.js");r.d(t,"Tw2ParticleFluidDragForce",(function(){return o.Tw2ParticleFluidDragForce}));var l=r("./particle/force/Tw2ParticleSpring.js");r.d(t,"Tw2ParticleSpring",(function(){return l.Tw2ParticleSpring}));var s=r("./particle/force/Tw2ParticleTurbulenceForce.js");r.d(t,"Tw2ParticleTurbulenceForce",(function(){return s.Tw2ParticleTurbulenceForce}))},"./particle/generators/Tw2ParticleAttributeGenerator.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tw2ParticleAttributeGenerator",(function(){return h}));var i,n,a,o,l,s,u,c,f=r("./global/index.js");function d(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var h=(i=f.meta.abstract,n=f.meta.type("Tw2ParticleAttributeGenerator"),a=f.meta.abstract,o=f.meta.abstract,i(l=n((c=u=class extends f.Tw2BaseClass{Bind(e){}Generate(e,t,r){}},u.global={vec3_0:f.vec3.create()},d((s=c).prototype,"Bind",[a],Object.getOwnPropertyDescriptor(s.prototype,"Bind"),s.prototype),d(s.prototype,"Generate",[o],Object.getOwnPropertyDescriptor(s.prototype,"Generate"),s.prototype),l=s))||l)||l)},"./particle/generators/Tw2RandomIntegerAttributeGenerator.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tw2RandomIntegerAttributeGenerator",(function(){return _}));var i,n,a,o,l,s,u,c,f,d,h,b,m,p,v,g=r("./global/index.js"),E=r("./particle/element/Tw2ParticleElement.js"),y=r("./particle/generators/Tw2ParticleAttributeGenerator.js");function T(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function w(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var _=(i=g.meta.type("Tw2RandomIntegerAttributeGenerator","Tr2RandomIntegerAttributeGenerator"),n=g.meta.black.string,a=g.meta.black.uint,o=g.meta.enumerable(E.Tw2ParticleElement.Type),l=g.meta.black.vector4,s=g.meta.black.vector4,u=g.meta.objectOf("Tw2ParticleElement"),i((v=class extends y.Tw2ParticleAttributeGenerator{constructor(...e){super(...e),T(this,"customName",d,this),T(this,"elementType",h,this),T(this,"minRange",b,this),T(this,"maxRange",m,this),T(this,"_element",p,this)}Bind(e){for(var t=0;t<e._elements.length;++t)if(e._elements[t].elementType===this.elementType&&(this.elementType!==E.Tw2ParticleElement.Type.CUSTOM||e._elements[t].customName===this.customName))return this._element=e._elements[t],!0;return!1}Generate(e,t,r){for(var i=0;i<this._element.dimension;++i)this._element.buffer[this._element.instanceStride*r+this._element.startOffset+i]=Math.floor(this.minRange[i]+Math.random()*(this.maxRange[i]-this.minRange[i])+.5)}},d=w((f=v).prototype,"customName",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),h=w(f.prototype,"elementType",[a,o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return E.Tw2ParticleElement.Type.CUSTOM}}),b=w(f.prototype,"minRange",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return g.vec4.create()}}),m=w(f.prototype,"maxRange",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return g.vec4.create()}}),p=w(f.prototype,"_element",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),c=f))||c)},"./particle/generators/Tw2RandomUniformAttributeGenerator.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tw2RandomUniformAttributeGenerator",(function(){return _}));var i,n,a,o,l,s,u,c,f,d,h,b,m,p,v,g=r("./global/index.js"),E=r("./particle/element/Tw2ParticleElement.js"),y=r("./particle/generators/Tw2ParticleAttributeGenerator.js");function T(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function w(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var _=(i=g.meta.type("Tw2RandomUniformAttributeGenerator","Tr2RandomUniformAttributeGenerator"),n=g.meta.black.string,a=g.meta.black.uint,o=g.meta.enumerable(E.Tw2ParticleElement.Type),l=g.meta.black.vector4,s=g.meta.black.vector4,u=g.meta.objectOf("Tw2ParticleElement"),i((v=class extends y.Tw2ParticleAttributeGenerator{constructor(...e){super(...e),T(this,"customName",d,this),T(this,"elementType",h,this),T(this,"minRange",b,this),T(this,"maxRange",m,this),T(this,"_element",p,this)}get elementType(){return E.Tw2ParticleElement.Type.CUSTOM}Bind(e){for(var t=0;t<e._elements.length;++t)if(e._elements[t].elementType===this.elementType&&(this.elementType!==E.Tw2ParticleElement.Type.CUSTOM||e._elements[t].customName===this.customName))return this._element=e._elements[t],!0;return!1}Generate(e,t,r){for(var i=0;i<this._element.dimension;++i)this._element.buffer[this._element.instanceStride*r+this._element.startOffset+i]=this.minRange[i]+Math.random()*(this.maxRange[i]-this.minRange[i])}},d=w((f=v).prototype,"customName",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),h=w(f.prototype,"elementType",[a,o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return E.Tw2ParticleElement.Type.CUSTOM}}),b=w(f.prototype,"minRange",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return g.vec4.create()}}),m=w(f.prototype,"maxRange",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return g.vec4.create()}}),p=w(f.prototype,"_element",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),c=f))||c)},"./particle/generators/Tw2SphereShapeAttributeGenerator.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tw2SphereShapeAttributeGenerator",(function(){return K}));var i,n,a,o,l,s,u,c,f,d,h,b,m,p,v,g,E,y,T,w,_,S,R,j,O,A,z,P,C,D,I,x,L,M,F,G,k,N,B,U,V,H=r("./global/index.js"),q=r("./particle/element/Tw2ParticleElement.js"),W=r("./particle/generators/Tw2ParticleAttributeGenerator.js");function Y(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function X(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var K=(i=H.meta.type("Tw2SphereShapeAttributeGenerator","Tr2SphereShapeAttributeGenerator"),n=H.meta.black.string,a=H.meta.black.float,o=H.meta.notImplemented,l=H.meta.black.float,s=H.meta.black.float,u=H.meta.black.float,c=H.meta.black.float,f=H.meta.black.float,d=H.meta.black.float,h=H.meta.black.float,b=H.meta.black.float,m=H.meta.black.float,p=H.meta.black.vector3,v=H.meta.black.quaternion,g=H.meta.boolean,E=H.meta.todo("Is this deprecated?"),y=H.meta.boolean,T=H.meta.todo("Is this deprecated?"),w=H.meta.objectOf("Tw2ParticleElement"),_=H.meta.objectOf("Tw2ParticleElement"),i((V=class extends W.Tw2ParticleAttributeGenerator{constructor(...e){super(...e),Y(this,"customName",j,this),Y(this,"distributionExponent",O,this),Y(this,"maxPhi",A,this),Y(this,"maxRadius",z,this),Y(this,"maxSpeed",P,this),Y(this,"maxTheta",C,this),Y(this,"minPhi",D,this),Y(this,"minRadius",I,this),Y(this,"minSpeed",x,this),Y(this,"minTheta",L,this),Y(this,"parentVelocityFactor",M,this),Y(this,"position",F,this),Y(this,"rotation",G,this),Y(this,"controlPosition",k,this),Y(this,"controlVelocity",N,this),Y(this,"_position",B,this),Y(this,"_velocity",U,this)}Bind(e){this._position=null,this._velocity=null;for(var t=0;t<e._elements.length;++t)e._elements[t].elementType===q.Tw2ParticleElement.Type.POSITION&&this.controlPosition?this._position=e._elements[t]:e._elements[t].elementType===q.Tw2ParticleElement.Type.VELOCITY&&this.controlVelocity&&(this._velocity=e._elements[t]);return!(this.controlPosition&&null===this._position||this.controlVelocity&&null===this._velocity)}Generate(e,t,r){var i=(this.minPhi+Math.random()*(this.maxPhi-this.minPhi))/180*Math.PI,n=(this.minTheta+Math.random()*(this.maxTheta-this.minTheta))/180*Math.PI,a=W.Tw2ParticleAttributeGenerator.global.vec3_0;if(a[0]=Math.sin(i)*Math.cos(n),a[1]=-Math.cos(i),a[2]=Math.sin(i)*Math.sin(n),H.vec3.transformQuat(a,a,this.rotation),this._velocity){var o=this.minSpeed+Math.random()*(this.maxSpeed-this.minSpeed),l=this._velocity.instanceStride*r+this._velocity.startOffset;this._velocity.buffer[l]=a[0]*o,this._velocity.buffer[l+1]=a[1]*o,this._velocity.buffer[l+2]=a[2]*o,t&&(this._velocity.buffer[l]+=t.buffer[t.offset]*this.parentVelocityFactor,this._velocity.buffer[l+1]+=t.buffer[t.offset+1]*this.parentVelocityFactor,this._velocity.buffer[l+2]+=t.buffer[t.offset+2]*this.parentVelocityFactor)}if(this._position){H.vec3.scale(a,a,this.minRadius+Math.random()*(this.maxRadius-this.minRadius)),H.vec3.add(a,a,this.position),e&&(a[0]+=e.buffer[e.offset],a[1]+=e.buffer[e.offset+1],a[2]+=e.buffer[e.offset+2]);var s=this._position.instanceStride*r+this._position.startOffset;this._position.buffer[s]=a[0],this._position.buffer[s+1]=a[1],this._position.buffer[s+2]=a[2]}}},j=X((R=V).prototype,"customName",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),O=X(R.prototype,"distributionExponent",[a,o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),A=X(R.prototype,"maxPhi",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 360}}),z=X(R.prototype,"maxRadius",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),P=X(R.prototype,"maxSpeed",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),C=X(R.prototype,"maxTheta",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 360}}),D=X(R.prototype,"minPhi",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),I=X(R.prototype,"minRadius",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),x=X(R.prototype,"minSpeed",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),L=X(R.prototype,"minTheta",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),M=X(R.prototype,"parentVelocityFactor",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),F=X(R.prototype,"position",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return H.vec3.create()}}),G=X(R.prototype,"rotation",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return H.quat.create()}}),k=X(R.prototype,"controlPosition",[g,E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),N=X(R.prototype,"controlVelocity",[y,T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),B=X(R.prototype,"_position",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),U=X(R.prototype,"_velocity",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),S=R))||S)},"./particle/generators/index.js":function(e,t,r){"use strict";r.r(t);var i=r("./particle/generators/Tw2RandomIntegerAttributeGenerator.js");r.d(t,"Tw2RandomIntegerAttributeGenerator",(function(){return i.Tw2RandomIntegerAttributeGenerator}));var n=r("./particle/generators/Tw2RandomUniformAttributeGenerator.js");r.d(t,"Tw2RandomUniformAttributeGenerator",(function(){return n.Tw2RandomUniformAttributeGenerator}));var a=r("./particle/generators/Tw2SphereShapeAttributeGenerator.js");r.d(t,"Tw2SphereShapeAttributeGenerator",(function(){return a.Tw2SphereShapeAttributeGenerator}))},"./particle/index.js":function(e,t,r){"use strict";r.r(t);var i=r("./particle/element/index.js");r.d(t,"Tw2ParticleElementDeclaration",(function(){return i.Tw2ParticleElementDeclaration})),r.d(t,"Tw2ParticleElement",(function(){return i.Tw2ParticleElement}));var n=r("./particle/emitter/index.js");r.d(t,"Tw2StaticEmitter",(function(){return n.Tw2StaticEmitter})),r.d(t,"Tw2DynamicEmitter",(function(){return n.Tw2DynamicEmitter}));var a=r("./particle/force/index.js");r.d(t,"Tw2ParticleAttractorForce",(function(){return a.Tw2ParticleAttractorForce})),r.d(t,"Tw2ParticleDirectForce",(function(){return a.Tw2ParticleDirectForce})),r.d(t,"Tw2ParticleDragForce",(function(){return a.Tw2ParticleDragForce})),r.d(t,"Tw2ParticleFluidDragForce",(function(){return a.Tw2ParticleFluidDragForce})),r.d(t,"Tw2ParticleSpring",(function(){return a.Tw2ParticleSpring})),r.d(t,"Tw2ParticleTurbulenceForce",(function(){return a.Tw2ParticleTurbulenceForce}));var o=r("./particle/generators/index.js");r.d(t,"Tw2RandomIntegerAttributeGenerator",(function(){return o.Tw2RandomIntegerAttributeGenerator})),r.d(t,"Tw2RandomUniformAttributeGenerator",(function(){return o.Tw2RandomUniformAttributeGenerator})),r.d(t,"Tw2SphereShapeAttributeGenerator",(function(){return o.Tw2SphereShapeAttributeGenerator}));var l=r("./particle/Tw2ParticleSystem.js");r.d(t,"Tw2ParticleSystem",(function(){return l.Tw2ParticleSystem}))},"./sof/EveSOF.js":function(e,t,r){"use strict";r.r(t),r.d(t,"EveSOF",(function(){return c}));var i=r("./global/index.js"),n=r("./global/util/index.js"),a=r("./curve/index.js"),o=r("./core/index.js"),l=r("./eve/index.js");function s(e,t,r,i,n,a,o){try{var l=e[a](o),s=l.value}catch(e){return void r(e)}l.done?t(s):Promise.resolve(s).then(i,n)}function u(e){return function(){var t=this,r=arguments;return new Promise((function(i,n){var a=e.apply(t,r);function o(e){s(a,i,n,o,l,"next",e)}function l(e){s(a,i,n,o,l,"throw",e)}o(void 0)}))}}function c(e){var t=this,r=this,s=null,c=null;function f(e){return e?Object(n.get)(s.generic,"shaderPrefixAnimated",""):Object(n.get)(s.generic,"shaderPrefix","")}function d(e,t,r,i,a){var o=null;if(Object(n.get)(i,"resPathInsert","").length&&(o=i.resPathInsert),"respathinsert"in a&&1===a.respathinsert.length){if("none"===a.respathinsert[0])return e;o=a.respathinsert[0]}if("MaterialMap"===t||"PaintMaskMap"===t||"PmdgMap"===t){var l=e.lastIndexOf("/"),s=e;if(l>=0&&(s=e.substr(0,l+1)+o+"/"+e.substr(l+1)),(l=s.lastIndexOf("_"))>=0){s=s.substr(0,l)+"_"+o+s.substr(l);var u=Object(n.get)(r,"textureOverrides",{});if(t in u&&i.name in u[t])return s}}return e}function h(e,t){for(var r=0;r<e.length;++r)if(t.substr(0,e[r].length)===e[r])return r;return null}function b(e,t,r,i){var a,o,l,u;return"mesh"in r&&null!==(o=h(a=s.generic.materialPrefixes,e))&&o<r.mesh.length&&0==(Object(n.get)(t,"blockedMaterials",0)&1<<o)&&(l=Object(n.get)(s.material,r.mesh[o],null))?(u=e.substr(a[o].length),Object(n.get)(l.parameters,u,void 0)):(o=h(a=s.generic.patternMaterialPrefixes,e),"pattern"in r&&null!==o&&1+o<r.pattern.length&&(l=Object(n.get)(s.material,r.pattern[1+o],null))?(u=e.substr(a[o].length),Object(n.get)(l.parameters,u,void 0)):null!==o&&(l=Object(n.get)(s.material,i.defaultPatternLayer1MaterialName,null))?(u=e.substr(a[o].length),Object(n.get)(l.parameters,u,void 0)):void 0)}function m(e){switch(e){case 2:return 4;case 1:return 3;default:return 1}}function p(e,t,r,i,a,l,u,c,h){for(var p,v,g,E,y=Object(n.get)(r,t,[]),T=0;T<y.length;++T){for(var w=y[T],_=new o.Tw2Effect,S=0;S<2;S++){var R=h[S];if(R){var{PatternMaskMap:j,DiffuseColor:O,FresnelColor:A,Gloss:z}=R.parameters;_.parameters[j.name]=j,_.parameters[O.name]=O,_.parameters[A.name]=A,_.parameters[z.name]=z}else console.error("Missing mask "+S)}_.effectFilePath=s.generic.areaShaderLocation+(p=c||w.shader,v=r.isSkinned,g=void 0,E=void 0,g=f(v),E=(p="/"+p).lastIndexOf("/"),p.substr(0,E+1)+g+p.substr(E+1));for(var P=Object(n.get)(Object(n.get)(s.generic.areaShaders,w.shader,{}),"parameters",[]),C=0;C<P.length;++C){var D=P[C],I=b(D,w,u,a);(I=(I=(I=(I=I||Object(n.get)(Object(n.get)(Object(n.get)(s.generic.hullAreas,w.name,{}),"parameters",{}),D))||Object(n.get)(Object(n.get)(Object(n.get)(a.hullAreas,w.name,{}),"parameters",{}),D))||Object(n.get)(Object(n.get)(Object(n.get)(i.areas,w.name,{}),"parameters",{}),D))||Object(n.get)(Object(n.get)(w,"parameters",{}),D))&&(_.parameters[D]?_.parameters[D].SetValue(I):_.parameters[D]=new o.Tw2Vector4Parameter(D,I))}var x=Object(n.get)(w,"textures",{});for(var L in x)if(x.hasOwnProperty(L)){var M=d(x[L],L,w,i,u);_.parameters[L]?_.parameters[L].SetValue(M):_.parameters[L]=new o.Tw2TextureParameter(L,M)}for(var F=0;F<l.layers.length;++F){var G=l.layers[F]?l.layers[F].textureName:"";if(G&&!_.parameters[G]){var k=new o.Tw2TextureParameter(l.layers[F].textureName);k.resourcePath=l.layers[F].textureResFilePath,k.useAllOverrides=!0,k.addressUMode=m(Object(n.get)(l.layers[F],"projectionTypeU",0)),k.addressVMode=m(Object(n.get)(l.layers[F],"projectionTypeV",0)),k.Initialize(),_.parameters[l.layers[F].textureName]=k}}var N=Object(n.get)(Object(n.get)(s.generic.areaShaders,w.shader,{}),"defaultTextures",{});for(var B in N)N.hasOwnProperty(B)&&(B in _.parameters||(_.parameters[B]=new o.Tw2TextureParameter(B,N[B])));_.Initialize();var U=new o.Tw2MeshArea;U.name=w.name,U.effect=_,U.index=Object(n.get)(w,"index",0),U.count=Object(n.get)(w,"count",1),e.push(U)}}function v(e,t=-1){if(!e)return null;var r="group".concat(t);return e[r]?e[r]:null}this.SKIP_EMPTY_ITEMS=!0;var g="res:/graphics/effect/managed/space/spaceobject/fx/spotlightcone.fx",E="res:/graphics/effect/managed/space/spaceobject/fx/skinned_spotlightcone.fx",y="res:/graphics/effect/managed/space/spaceobject/fx/spotlightglow.fx",T="res:/graphics/effect/managed/space/spaceobject/fx/skinned_spotlightglow.fx";var w="res:/graphics/effect/managed/space/spaceobject/fx/planeglow.fx",_="res:/graphics/effect/managed/space/spaceobject/fx/skinned_planeglow.fx";var S="res:/Graphics/Effect/Managed/Space/Booster/BoosterVolumetric.fx",R="res:/Graphics/Effect/Managed/Space/Booster/BoosterGlowAnimated.fx",j="res:/Texture/global/noise.dds.0.png",O="res:/Texture/Global/noise32cube_volume.dds.0.png",A="res:/Texture/Particle/whitesharp.dds.0.png";function z(t,r,o,l){function s(r){return function(s){s.constructor.__isEffectChild?t.effectChildren.push(s):t.children.push(s),i.vec3.copy(s.translation,Object(n.get)(r,"translation",[0,0,0])),i.quat.copy(s.rotation,Object(n.get)(r,"rotation",[0,0,0,1])),i.vec3.copy(s.scaling,Object(n.get)(r,"scaling",[1,1,1]));var u=Object(n.get)(r,"id",-1);-1!==u&&l[u]&&function t(r,i,n){if(Array.isArray(r.particleEmitters)){for(var o=0;o<r.particleEmitters.length;++o)if("rate"in r.particleEmitters[o]){var l=new a.Tw2ValueBinding;l.sourceObject=n,l.sourceAttribute="currentValue",l.destinationObject=r.particleEmitters[o],l.destinationAttribute="rate",l.Initialize(),i.bindings.push(l)}for(o=0;o<r.children.length;++o)t(r.children[o],i,n)}else e.Log({type:"warning",name:"Space object factory",message:"Unable to bind particle emitters: ".concat(r.constructor.name)})}(s,o,l[u])}}for(var u=Object(n.get)(r,"children",[]),c=0;c<u.length;++c){var f=u[c].redFilePath;f?e.resMan.GetObject(f,s(u[c])):e.Log({type:"warning",name:"Space object factory",message:'No resource path found for "'.concat(r.name,'" child at index ').concat(c)})}}function P(e,t,r){for(var i=-1,a=0;a<s.generic.materialPrefixes.length;++a)e.substr(0,s.generic.materialPrefixes[a].length)===s.generic.materialPrefixes[a]&&(i=a,e=e.substr(s.generic.materialPrefixes[a].length));if(-1!==i){var o=Object(n.get)(t,"materialUsageMtl"+(i+1),i);if(o>=0&&o<s.generic.materialPrefixes.length&&(e=s.generic.materialPrefixes[o]+e)in r.parameters)return r.parameters[e]}}var C,D=[0,0,0,0];function I(e,t,r,i){switch(i){case"overridable":return t||(r||D);case"half_overridable":return e.indexOf("GlowColor")>=0?r||D:t||(r||D);case"not_overridable":case"half_overridable_2":return r||D}return D}this.SetupTurretMaterial=function(e,t,r,i,n){return this.FetchTurretMaterial(e,t,r).then(i).catch(n)},this.FetchTurretMaterial=function(){var e=u((function*(e,t,r){return yield this.FetchSOF(),function(e,t,r){var n=s.faction[t],a=s.faction[r],l=null;n&&n.areas&&"hull"in n.areas&&(l=n.areas.hull);var u=null;if(a&&a.areas&&"hull"in a.areas&&(u=a.areas.hull),(l||u)&&e.turretEffect){var c=e.turretEffect.parameters;for(var f in c)if(c.hasOwnProperty(f)){if(c[f].constructor.prototype!==o.Tw2Vector4Parameter.prototype)continue;var d=null,h=null;l&&(d=P(f,n,l)),u&&(h=P(f,n,l)),i.vec4.copy(c[f].value,I(f,d,h,e.turretEffect.name))}e.turretEffect.BindParameters()}}(e,t,r),e}));return function(t,r,i){return e.apply(this,arguments)}}(),this.FetchSOF=(C=null,u((function*(){return C||(c=o.Tw2Effect.from({effectFilePath:"res:/graphics/effect/managed/space/spaceobject/fx/blinkinglightspool.fx",parameters:{MainIntensity:1,GradientMap:"res:/texture/particle/whitesharp_gradient.dds.0.png"}}),C=e.FetchObject("res:/dx9/model/spaceobjectfactory/data.red").then(e=>s=e).catch(t=>{e.Log({type:"error",name:"Space object factory",message:"Could not load data"})})),C}))),this.ExtendPatternsFrom=function(){var t=u((function*(t){if(!t)return Promise.reject(new Error("Invalid respath: undefined"));var r=yield this.FetchSOF(),i=yield e.FetchObject(t);r.pattern=r.pattern.concat(i.pattern)}));return function(e){return t.apply(this,arguments)}}(),this.ExtendMaterialsFrom=function(){var t=u((function*(t){if(!t)return Promise.reject(new Error("Invalid respath: undefined"));var r=yield this.FetchSOF(),i=yield e.FetchObject(t);i.material;t.includes(".black")?i.material.forEach(e=>{r.material[e.name]=e.Assign()}):Object.assign(r.material,i.material)}));return function(e){return t.apply(this,arguments)}}();var x=function(){var e=u((function*(e){var r=yield t.FetchSOF();if(r[e])return r[e];throw new Error("Invalid sof object (".concat(e,")"))}));return function(t){return e.apply(this,arguments)}}(),L=function(){var e=u((function*(e,t,r){var i=yield x(e);if(Object(n.isArray)(i)){for(var a=0;a<i.length;a++)if(i[t].name===e)return i[t]}else if(i[t])return i[t];if(r)throw new r({name:t});throw new Error("Invalid sof object key (".concat(e,":").concat(t,")"))}));return function(t,r,i){return e.apply(this,arguments)}}(),M=function(){var e=u((function*(e){var t=yield x(e),r={};if(Object(n.isArray)(t)){for(var i=0;i<t.length;i++)r[t[i].name]=t[i].description||"";return r}for(var a in t)t.hasOwnProperty(a)&&(r[a]=t[a].description||"");return r}));return function(t){return e.apply(this,arguments)}}(),F=function(){var e=u((function*(e,r){yield t.FetchHull(e);for(var{projections:i=[]}=r,n=0;n<i.length;n++)if(i[n].name===e){var a={};return a.name=r.name,a.layer1=r.layer1,a.layer2=r.layer2,a.transformLayer1=i[n].transformLayer1,a.transformLayer2=i[n].transformLayer2,a}}));return function(t,r){return e.apply(this,arguments)}}();this.FetchObject=function(){var e=u((function*(e){if(!Object(n.isDNA)(e))throw new Error("Invalid DNA (".concat(e,")"));for(var u=e.split(":"),d={},h=3;h<u.length;++h){var b=u[h].split("?");d[b[0]]=b[1].split(";")}var P=yield t.FetchHull(u[0]),C=yield t.FetchFaction(u[1]),D=yield t.FetchRace(u[2]);if(d.mesh)for(var I=0;I<d.mesh.length;I++)yield t.FetchMaterial(d.mesh[I]);if(d.pattern&&d.pattern.length>1)for(var x=1;x<d.pattern.length;x++)yield t.FetchMaterial(d.pattern[x]);var L=new(2===Object(n.get)(P,"buildClass",0)?l.EveSpaceObject:l.EveShip),M=function(e,t,r){var i={patterns:[],layers:[]};if("pattern"in r){for(var a={},o=0;o<s.pattern.length;++o)if(s.pattern[o].name===r.pattern[0]){a=s.pattern[o];break}i.layers.push(Object(n.get)(a,"layer1",{})),i.layers.push(Object(n.get)(a,"layer2",{}));for(var l=Object(n.get)(a,"projections",[]),u={},c=0;c<l.length;++c)if(l[c].name===e.name){u=l[c];break}i.patterns.push(Object(n.get)(u,"transformLayer1",{})),i.patterns.push(Object(n.get)(u,"transformLayer2",{}))}else{var f=Object(n.get)(t,"defaultPattern",{});i.layers.push(Object(n.get)(f,"layer1",{})),i.layers.push(Object(n.get)(f,"layer2",{}));var d=Object(n.get)(e,"defaultPattern",{});i.patterns.push(Object(n.get)(d,"transformLayer1",{})),i.patterns.push(Object(n.get)(d,"transformLayer2",{}))}return i}(P,D,d);!function(e,t={}){for(var{patterns:r=[],layers:n=[]}=t,a=0;a<2;++a){var o=r[a]||{},s=n[a]||{},{rotation:u=i.quat.create(),scaling:c=i.vec3.fromValues(1,1,1),position:f=i.vec3.create(),isMirrored:d=!1}=o,{display:h=!!n[a].textureName,materialSource:b=0,textureName:p="PatternMask".concat(a+1,"Map"),textureResFilePath:v="res:/texture/global/black.dds.0.png",projectionTypeU:g=0,projectionTypeV:E=0,isTargetMtl1:y=!0,isTargetMtl2:T=!0,isTargetMtl3:w=!0,isTargetMtl4:_=!0}=s,S=e.customMasks[a]||new l.EveCustomMask;S.name="Pattern".concat(a+1),S.display=h,i.quat.copy(S.rotation,u),i.vec3.copy(S.scaling,c),i.vec3.copy(S.translation,f),i.vec4.set(S.targetMaterials,y?1:0,T?1:0,w?1:0,_?1:0),S.materialIndex=b,S.isMirrored=!!d;var{PatternMaskMap:R,DiffuseColor:j,FresnelColor:O,Gloss:A}=S.parameters;R.name=p,R.resourcePath=v,R.useAllOverrides=!0,R.addressUMode=m(g),R.addressVMode=m(E),R.Initialize();var z="PMtl".concat(a+1);j.name="".concat(z,"DiffuseColor"),O.name="".concat(z,"FresnelColor"),A.name="".concat(z,"Gloss"),S.Initialize(),e.customMasks[a]!==S&&e.customMasks.push(S)}}(L,M),function(e,t,r,i,a,s){var u=e.mesh||new o.Tw2Mesh;u.geometryResPath=t.geometryResFilePath,e.mesh!==u?(e.boundingSphereCenter[0]=t.boundingSphere[0],e.boundingSphereCenter[1]=t.boundingSphere[1],e.boundingSphereCenter[2]=t.boundingSphere[2],e.boundingSphereRadius=t.boundingSphere[3]):u.EmptyAreas();var c=e.customMasks;c[0]=c[0]||new l.EveCustomMask,c[1]=c[1]||new l.EveCustomMask;var f=[t,r,i,s,a,void 0,c];p(Object(n.get)(u,"opaqueAreas",[]),"opaqueAreas",...f),p(Object(n.get)(u,"transparentAreas",[]),"transparentAreas",...f),p(Object(n.get)(u,"additiveAreas",[]),"additiveAreas",...f),p(Object(n.get)(u,"decalAreas",[]),"decalAreas",...f),p(Object(n.get)(u,"depthAreas",[]),"depthAreas",...f),e.mesh!==u&&("shapeEllipsoidCenter"in t&&(e.shapeEllipsoidCenter=t.shapeEllipsoidCenter),"shapeEllipsoidRadius"in t&&(e.shapeEllipsoidRadius=t.shapeEllipsoidRadius)),e.mesh=u,u.Initialize()}(L,P,C,D,d,M),function(e,t,r={}){for(var i=Object(n.get)(t,"hullDecals",[]),a=0;a<i.length;++a){var o=i[a],u=v(r.decals,o.groupIndex);if(!u||u.isVisible){var c=u&&u.shader||o.shader;if(c){var d=s.generic.decalShaderLocation+"/"+f(!1)+c,h=Object.assign({},o.parameters),b=Object.assign(Object(n.get)(Object(n.get)(s.generic.decalShaders,o.shader,{}),"defaultTextures",{}));u&&(Object.assign(h,u.parameters),Object.assign(b,u.textures)),Object.assign(b,o.textures),e.decals.push(l.EveSpaceObjectDecal.from({name:o.name,groupIndex:o.groupIndex,parentBoneIndex:o.boneIndex,indexBuffer:o.indexBuffer,position:o.position,rotation:o.rotation,scaling:o.scaling,effect:{effectFilePath:d,parameters:h,textures:b}}))}}}}(L,P,C),function(e,t,a){for(var o=Object(n.get)(t,"spriteSets",[]),s=Object(n.get)(a,"spriteSets",{}),u=0;u<o.length;++u){for(var f=o[u],d=Object(n.get)(f,"items",[]),h=[],b=0;b<d.length;b++){var m=Object.assign({blinkRate:.1,maxScale:10,minScale:1},d[b]),p=v(s,m.groupIndex);p&&(m.groupName=p.name,Object(n.assignIfExists)(m,p,"color")),(!r.SKIP_EMPTY_ITEMS||m.color&&!i.vec3.isEmpty(m.color))&&h.push(m)}r.SKIP_EMPTY_ITEMS&&!h.length||e.spriteSets.push(l.EveSpriteSet.from({name:f.name,useQuads:!0,skinned:!(!t.isSkinned||!f.skinned),effect:c,items:h}))}}(L,P,C),function(e,t,i){for(var a=Object(n.get)(t,"spotlightSets",[]),o=Object(n.get)(i,"spotlightSets",{}),s=0;s<a.length;++s){for(var u=a[s],c=Object(n.get)(u,"items",[]),f=u.skinned,d=[],h=0;h<c.length;++h){var b=Object.assign({},c[h]),m=v(o,b.groupIndex);m&&Object(n.assignIfExists)(b,m,["coneColor","spriteColor","flareColor"]),r.SKIP_EMPTY_ITEMS&&!m||d.push(b)}r.SKIP_EMPTY_ITEMS&&!d.length||e.spotlightSets.push(l.EveSpotlightSet.from({name:u.name,items:d,coneEffect:{effectFilePath:f?E:g,parameters:{TextureMap:u.coneTextureResPath,zOffset:Object(n.get)(u,"zOffset",0)}},glowEffect:{effectFilePath:f?T:y,parameters:{TextureMap:u.glowTextureResPath}}}))}}(L,P,C),function(e,t,a){for(var o=Object(n.get)(t,"planeSets",[]),s=Object(n.get)(a,"planeSets",{}),u=0;u<o.length;++u){for(var c=o[u],f=Object(n.get)(c,"items",[]),d=[],h=0;h<f.length;++h){var b=Object.assign({boneIndex:-1},f[h]),m=v(s,b.groupIndex);m&&Object(n.assignIfExists)(b,m,"color"),(!r.SKIP_EMPTY_ITEMS||b.color&&!i.vec3.isEmpty(b.color))&&d.push(b)}r.SKIP_EMPTY_ITEMS&&!d.length||e.planeSets.push(l.EvePlaneSet.from({name:c.name,items:d,effect:{effectFilePath:c.skinned?_:w,textures:{Layer1Map:c.layer1MapResPath,Layer2Map:c.layer2MapResPath,MaskMap:c.maskMapResPath,PlaneData:Object(n.get)(c,"planeData",[1,0,0,0])}}}))}}(L,P,C),function(e,t,r){if(t.booster){for(var i=[0,0,0,0],a=Object(n.get)(r,"booster",{}),o=t.booster,s=Object(n.get)(o,"items",[]),u=0;u<s.length;++u)e.locators.push(l.EveLocator2.from({name:"locator_booster_"+(u+1),transform:s[u].transform,atlasIndex0:Object(n.get)(s[u],"atlasIndex0",0),atlasIndex1:Object(n.get)(s[u],"atlasIndex1",0)}));e.boosters=l.EveBoosterSet.from({glowScale:a.glowScale,symHaloScale:a.symHaloScale,haloScaleX:a.haloScaleX,haloScaleY:a.haloScaleY,haloColor:a.haloColor,glowColor:a.glowColor,warpGlowColor:a.warpGlowColor,warpHaloColor:a.warpHalpColor,trailColor:a.trailColor,trailSize:a.trailSize,effect:{effectFilePath:S,parameters:{NoiseFunction0:Object(n.get)(a.shape0,"noiseFunction",0),NoiseSpeed0:Object(n.get)(a.shape0,"noiseSpeed",0),NoiseAmplitudeStart0:Object(n.get)(a.shape0,"noiseAmplitureStart",i),NoiseAmplitudeEnd0:Object(n.get)(a.shape0,"noiseAmplitureEnd",i),NoiseFrequency0:Object(n.get)(a.shape0,"noiseFrequency",i),Color0:Object(n.get)(a.shape0,"color",i),NoiseFunction1:Object(n.get)(a.shape1,"noiseFunction",0),NoiseSpeed1:Object(n.get)(a.shape1,"noiseSpeed",0),NoiseAmplitudeStart1:Object(n.get)(a.shape1,"noiseAmplitureStart",i),NoiseAmplitudeEnd1:Object(n.get)(a.shape1,"noiseAmplitureEnd",i),NoiseFrequency1:Object(n.get)(a.shape1,"noiseFrequency",i),Color1:Object(n.get)(a.shape1,"color",i),WarpNoiseFunction0:Object(n.get)(a.warpShape0,"noiseFunction",0),WarpNoiseSpeed0:Object(n.get)(a.warpShape0,"noiseSpeed",0),WarpNoiseAmplitudeStart0:Object(n.get)(a.warpShape0,"noiseAmplitureStart",i),WarpNoiseAmplitudeEnd0:Object(n.get)(a.warpShape0,"noiseAmplitureEnd",i),WarpNoiseFrequency0:Object(n.get)(a.warpShape0,"noiseFrequency",i),WarpColor0:Object(n.get)(a.warpShape0,"color",i),WarpNoiseFunction1:Object(n.get)(a.warpShape1,"noiseFunction",0),WarpNoiseSpeed1:Object(n.get)(a.warpShape1,"noiseSpeed",0),WarpNoiseAmplitudeStart1:Object(n.get)(a.warpShape1,"noiseAmplitureStart",i),WarpNoiseAmplitudeEnd1:Object(n.get)(a.warpShape1,"noiseAmplitureEnd",i),WarpNoiseFrequency1:Object(n.get)(a.warpShape1,"noiseFrequency",i),WarpColor1:Object(n.get)(a.warpShape1,"color",i),ShapeAtlasSize:[Object(n.get)(a,"shapeAtlasHeight",0),Object(n.get)(a,"shapeAtlasCount",0),0,0],BoosterScale:Object(n.get)(a,"scale",[1,1,1,1])},textures:{ShapeMap:a.shapeAtlasResPath,GradientMap0:a.gradient0ResPath,GradientMap1:a.gradient1ResPath,NoiseMap:O}},glows:{useQuads:!0,effect:{effectFilePath:R,textures:{DiffuseMap:A,NoiseMap:j}}}})}}(L,P,D),function(e,t){for(var r=Object(n.get)(t,"locatorTurrets",[]),i=0;i<r.length;++i)e.locators.push(l.EveLocator2.from(r[i]))}(L,P);var F=function(e,t){for(var r=[],i=null,o=Object(n.get)(t,"animations",[]),l=0;l<o.length;++l)if(-1!==Object(n.get)(o[l],"id",-1)&&-1!==Object(n.get)(o[l],"startRate",-1)){i||(i=new a.Tw2CurveSet);var s=new a.Tw2ScalarCurve2;s.keys.push(new a.Tw2ScalarKey2),s.keys.push(new a.Tw2ScalarKey2),s.keys[0].value=Object(n.get)(o[l],"startRate",-1),s.keys[1].time=1,s.keys[1].value=Object(n.get)(o[l],"endRate",-1),s.Initialize(),i.curves.push(s),e.curveSets.push(i),r[Object(n.get)(o[l],"id",-1)]=s}return i&&i.Initialize(),[i,r]}(L,P);return z(L,P,F[0],F[1]),function(e,t,r,i,a,s){for(var u=Object(n.get)(t,"instancedMeshes",[]),c=0;c<u.length;++c){var f=u[c],d=new o.Tw2InstancedMesh;d.instanceGeometryResPath=f.instanceGeometryResPath,d.geometryResPath=f.geometryResPath,d.Initialize(),p(Object(n.get)(d,"opaqueAreas",[]),"opaqueAreas",t,r,i,s,a,f.shader);var h=new l.EveChildMesh;h.mesh=d,e.effectChildren.push(h)}}(L,P,C,D,d,M),L.Initialize(),L}));return function(t){return e.apply(this,arguments)}}(),this.FetchHull=function(){var e=u((function*(e){return L("hull",e,o.ErrSOFHullNotFound)}));return function(t){return e.apply(this,arguments)}}(),this.FetchHullNames=u((function*(){return M("hull")})),this.FetchHullPattern=function(){var e=u((function*(e,r){var i=yield t.FetchPattern(r),n=F(e,i);if(n)return n;throw new Error("Invalid pattern for hull (".concat(e,":").concat(r,")"))}));return function(t,r){return e.apply(this,arguments)}}(),this.FetchHullPatternNames=function(){var e=u((function*(e){var t=yield x("pattern"),r=[];return t.forEach(t=>{for(var i=0;i<t.projections.length;i++)if(t.projections[i].name===e){r.push(t.name);break}}),r.sort(),r}));return function(t){return e.apply(this,arguments)}}(),this.FetchHullBuildClass=function(){var e=u((function*(e){var r=e.split(":")[0];return 2===(yield t.FetchHull(r)).buildClass?2:1}));return function(t){return e.apply(this,arguments)}}(),this.FetchRace=function(){var e=u((function*(e){return L("race",e,o.ErrSOFRaceNotFound)}));return function(t){return e.apply(this,arguments)}}(),this.FetchRaceNames=u((function*(){return M("race")})),this.FetchFaction=function(){var e=u((function*(e){return L("faction",e,o.ErrSOFFactionNotFound)}));return function(t){return e.apply(this,arguments)}}(),this.FetchFactionNames=u((function*(){return M("faction")})),this.FetchMaterial=function(){var e=u((function*(e){return L("material",e,o.ErrSOFMaterialNotFound)}));return function(t){return e.apply(this,arguments)}}(),this.FetchMaterialNames=u((function*(){return M("material")})),this.FetchPattern=function(){var e=u((function*(e){return L("pattern",e,o.ErrSOFPatternNotFound)}));return function(t){return e.apply(this,arguments)}}(),this.FetchPatternNames=u((function*(){return M("pattern")}))}},"./sof/EveSOFData.js":function(e,t,r){"use strict";r.r(t),r.d(t,"EveSOFData",(function(){return a}));var i=r("./global/util/index.js"),n=r("./core/index.js");class a{constructor(){this.faction=[],this.generic=null,this.hull=[],this.material=[],this.pattern=[],this.race=[]}Initialize(){this._spriteEffect=n.Tw2Effect.from({effectFilePath:"res:/graphics/effect/managed/space/spaceobject/fx/blinkinglightspool.fx",parameters:{MainIntensity:1,GradientMap:"res:/texture/particle/whitesharp_gradient.dds.0.png"}}),this._bannerEffect=this.generic.CreateEffect(this.generic.bannerShader)}GetHull(e){return Object(i.findElementByPropertyValue)(this.hull,"name",e,n.ErrSOFHullNotFound)}GetHullNames(e){return a.GetNames(this.hull,e)}HasHull(e){return!!Object(i.findElementByPropertyValue)(this.hull,"name",e)}GetHullBuildClass(e){return 2===this.GetHull(e).buildClass?2:1}GetHullPatternNames(e){this.GetHull(e);for(var t=[],r=0;r<this.pattern.length;r++)this.pattern[r].HasProjection(e)&&t.push(this.pattern[r].name);return t.sort()}HasHullPattern(e,t){var r=this.GetHull(e);return!!this.HasPattern(t)&&this.GetPattern(t).HasProjection(r.name)}GetHullPattern(e,t){this.GetHull(e);return this.GetPattern(t).GetHullPattern(e)}GetFaction(e){return Object(i.findElementByPropertyValue)(this.faction,"name",e,n.ErrSOFFactionNotFound)}GetFactionNames(e){return a.GetNames(this.faction,e)}HasFaction(e){return!!Object(i.findElementByPropertyValue)(this.faction,"name",e)}GetRace(e){return Object(i.findElementByPropertyValue)(this.race,"name",e,n.ErrSOFRaceNotFound)}GetRaceNames(e){return a.GetNames(this.race,e)}HasRace(e){return Object(i.findElementByPropertyValue)(this.race,"name",e)}GetMaterial(e){return Object(i.findElementByPropertyValue)(this.material,"name",e,n.ErrSOFMaterialNotFound)}GetMaterialNames(e){return a.GetNames(this.material,e)}HasMaterial(e){return!!Object(i.findElementByPropertyValue)(this.material,"name",e)}GetPattern(e){return Object(i.findElementByPropertyValue)(this.pattern,"name",e,n.ErrSOFPatternNotFound)}GetPatternNames(e){return a.GetNames(this.pattern,e)}HasPattern(e){return!!Object(i.findElementByPropertyValue)(this.pattern,"name",e)}static GetNames(e,t={}){for(var r=!Object(i.isArray)(t),n=0;n<e.length;n++)r?t[e[n].name]=e[n].description||"":t.push(r);return r||t.sort(),t}static black(e){return[["faction",e.array],["generic",e.object],["hull",e.array],["material",e.array],["pattern",e.array],["race",e.array]]}}},"./sof/faction/EveSOFDataFaction.js":function(e,t,r){"use strict";r.r(t),r.d(t,"EveSOFDataFaction",(function(){return B}));var i,n,a,o,l,s,u,c,f,d,h,b,m,p,v,g,E,y,T,w,_,S,R,j,O,A,z,P,C,D,I,x,L,M,F,G=r("./global/index.js");function k(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function N(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var B=(i=G.meta.type("EveSOFDataFaction",!0),n=G.meta.black.string,a=G.meta.black.objectOf("EveSOFDataArea"),o=G.meta.black.listOf("EveSOFDataFactionChild"),l=G.meta.black.objectOf("EveSOFDataFactionColorSet"),s=G.meta.black.objectOf("EveSOFDataPatternLayer"),u=G.meta.black.string,c=G.meta.black.string,f=G.meta.black.objectOf("EveSOFDataLogoSet"),d=G.meta.black.uint,h=G.meta.black.uint,b=G.meta.black.uint,m=G.meta.black.uint,p=G.meta.black.listOf("EveSOFDataFactionPlaneSet"),v=G.meta.black.string,g=G.meta.black.listOf("EveSOFDataFactionSpotlightSet"),E=G.meta.black.objectOf("EveSOFDataFactionVisibilityGroupSet"),i((w=N((T=class{constructor(){k(this,"name",w,this),k(this,"areaTypes",_,this),k(this,"children",S,this),k(this,"colorSet",R,this),k(this,"defaultPattern",j,this),k(this,"defaultPatternLayer1MaterialName",O,this),k(this,"description",A,this),k(this,"logoSet",z,this),k(this,"materialUsageMtl1",P,this),k(this,"materialUsageMtl2",C,this),k(this,"materialUsageMtl3",D,this),k(this,"materialUsageMtl4",I,this),k(this,"planeSets",x,this),k(this,"resPathInsert",L,this),k(this,"spotlightSets",M,this),k(this,"visibilityGroupSet",F,this)}}).prototype,"name",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),_=N(T.prototype,"areaTypes",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),S=N(T.prototype,"children",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),R=N(T.prototype,"colorSet",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),j=N(T.prototype,"defaultPattern",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),O=N(T.prototype,"defaultPatternLayer1MaterialName",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),A=N(T.prototype,"description",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),z=N(T.prototype,"logoSet",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),P=N(T.prototype,"materialUsageMtl1",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),C=N(T.prototype,"materialUsageMtl2",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),D=N(T.prototype,"materialUsageMtl3",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),I=N(T.prototype,"materialUsageMtl4",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),x=N(T.prototype,"planeSets",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),L=N(T.prototype,"resPathInsert",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),M=N(T.prototype,"spotlightSets",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),F=N(T.prototype,"visibilityGroupSet",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),y=T))||y)},"./sof/faction/EveSOFDataFactionChild.js":function(e,t,r){"use strict";r.r(t),r.d(t,"EveSOFDataFactionChild",(function(){return m}));var i,n,a,o,l,s,u,c,f,d=r("./global/index.js");function h(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function b(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var m=(i=d.meta.type("EveSOFDataFactionChild",!0),n=d.meta.black.string,a=d.meta.black.uint,o=d.meta.black.boolean,i((u=b((s=class{constructor(){h(this,"name",u,this),h(this,"groupIndex",c,this),h(this,"isVisible",f,this)}}).prototype,"name",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),c=b(s.prototype,"groupIndex",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return-1}}),f=b(s.prototype,"isVisible",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),l=s))||l)},"./sof/faction/EveSOFDataFactionColorSet.js":function(e,t,r){"use strict";r.r(t),r.d(t,"EveSOFDataFactionColorSet",(function(){return J}));var i,n,a,o,l,s,u,c,f,d,h,b,m,p,v,g,E,y,T,w,_,S,R,j,O,A,z,P,C,D,I,x,L,M,F,G,k,N,B,U,V,H,q,W,Y,X,K,Q=r("./global/index.js");function Z(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function $(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var J=(i=Q.meta.type("EveSOFDataFactionColorSet"),n=Q.meta.black.color,a=Q.meta.black.color,o=Q.meta.black.color,l=Q.meta.black.color,s=Q.meta.black.color,u=Q.meta.black.color,c=Q.meta.black.color,f=Q.meta.black.color,d=Q.meta.black.color,h=Q.meta.black.color,b=Q.meta.black.color,m=Q.meta.black.color,p=Q.meta.black.color,v=Q.meta.black.color,g=Q.meta.black.color,E=Q.meta.black.color,y=Q.meta.black.color,T=Q.meta.black.color,w=Q.meta.black.color,_=Q.meta.black.color,S=Q.meta.black.color,R=Q.meta.black.color,i((A=$((O=class{constructor(){Z(this,"Black",A,this),Z(this,"Blue",z,this),Z(this,"Booster",P,this),Z(this,"Cyan",C,this),Z(this,"Darkhull",D,this),Z(this,"Fire",I,this),Z(this,"Glass",x,this),Z(this,"Green",L,this),Z(this,"Hull",M,this),Z(this,"Killmark",F,this),Z(this,"Orange",G,this),Z(this,"Primary",k,this),Z(this,"PrimaryLight",N,this),Z(this,"Reactor",B,this),Z(this,"Red",U,this),Z(this,"Secondary",V,this),Z(this,"SecondaryLight",H,this),Z(this,"Tertiary",q,this),Z(this,"TertiaryLight",W,this),Z(this,"White",Y,this),Z(this,"WhiteLight",X,this),Z(this,"Yellow",K,this)}Get(e,t){for(var r in e=e.toUpperCase(),this)if(this.hasOwnProperty(r)&&r.toUpperCase()===e)return Q.vec4.copy(t,this[e]),t;return Q.vec4.set(t,0,0,0,0),null}}).prototype,"Black",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Q.vec4.create()}}),z=$(O.prototype,"Blue",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Q.vec4.create()}}),P=$(O.prototype,"Booster",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Q.vec4.create()}}),C=$(O.prototype,"Cyan",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Q.vec4.create()}}),D=$(O.prototype,"Darkhull",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Q.vec4.create()}}),I=$(O.prototype,"Fire",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Q.vec4.create()}}),x=$(O.prototype,"Glass",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Q.vec4.create()}}),L=$(O.prototype,"Green",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Q.vec4.create()}}),M=$(O.prototype,"Hull",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Q.vec4.create()}}),F=$(O.prototype,"Killmark",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Q.vec4.create()}}),G=$(O.prototype,"Orange",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Q.vec4.create()}}),k=$(O.prototype,"Primary",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Q.vec4.create()}}),N=$(O.prototype,"PrimaryLight",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Q.vec4.create()}}),B=$(O.prototype,"Reactor",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Q.vec4.create()}}),U=$(O.prototype,"Red",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Q.vec4.create()}}),V=$(O.prototype,"Secondary",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Q.vec4.create()}}),H=$(O.prototype,"SecondaryLight",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Q.vec4.create()}}),q=$(O.prototype,"Tertiary",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Q.vec4.create()}}),W=$(O.prototype,"TertiaryLight",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Q.vec4.create()}}),Y=$(O.prototype,"White",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Q.vec4.create()}}),X=$(O.prototype,"WhiteLight",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Q.vec4.create()}}),K=$(O.prototype,"Yellow",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Q.vec4.create()}}),j=O))||j)},"./sof/faction/EveSOFDataFactionPlaneSet.js":function(e,t,r){"use strict";r.r(t),r.d(t,"EveSOFDataFactionPlaneSet",(function(){return m}));var i,n,a,o,l,s,u,c,f,d=r("./global/index.js");function h(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function b(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var m=(i=d.meta.type("EveSOFDataFactionPlaneSet",!0),n=d.meta.black.string,a=d.meta.black.color,o=d.meta.black.uint,i((u=b((s=class{constructor(){h(this,"name",u,this),h(this,"color",c,this),h(this,"groupIndex",f,this)}}).prototype,"name",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),c=b(s.prototype,"color",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return d.vec4.create()}}),f=b(s.prototype,"groupIndex",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return-1}}),l=s))||l)},"./sof/faction/EveSOFDataFactionSpotlightSet.js":function(e,t,r){"use strict";r.r(t),r.d(t,"EveSOFDataFactionSpotlightSet",(function(){return E}));var i,n,a,o,l,s,u,c,f,d,h,b,m,p=r("./global/index.js");function v(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function g(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var E=(i=p.meta.type("EveSOFDataFactionSpotlightSet",!0),n=p.meta.black.string,a=p.meta.black.color,o=p.meta.black.color,l=p.meta.black.uint,s=p.meta.black.color,i((f=g((c=class{constructor(){v(this,"name",f,this),v(this,"coneColor",d,this),v(this,"flareColor",h,this),v(this,"groupIndex",b,this),v(this,"spriteColor",m,this)}}).prototype,"name",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),d=g(c.prototype,"coneColor",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return p.vec4.create()}}),h=g(c.prototype,"flareColor",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return p.vec4.create()}}),b=g(c.prototype,"groupIndex",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return-1}}),m=g(c.prototype,"spriteColor",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return p.vec4.create()}}),u=c))||u)},"./sof/faction/EveSOFDataFactionVisibilityGroupSet.js":function(e,t,r){"use strict";r.r(t),r.d(t,"EveSOFDataFactionVisibilityGroupSet",(function(){return p}));var i,n,a,o,l,s,u=r("./global/index.js");var c,f,d,h,b,m,p=(i=u.meta.type("EveSOFDataFactionVisibilityGroupSet",!0),n=u.meta.black.listOf("EveSOFDataGenericString"),i((s=class{constructor(){var e,t,r,i;e=this,t="visibilityGroups",i=this,(r=l)&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}},c=(o=s).prototype,f="visibilityGroups",d=[n],h={configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}},m={},Object.keys(h).forEach((function(e){m[e]=h[e]})),m.enumerable=!!m.enumerable,m.configurable=!!m.configurable,("value"in m||m.initializer)&&(m.writable=!0),m=d.slice().reverse().reduce((function(e,t){return t(c,f,e)||e}),m),b&&void 0!==m.initializer&&(m.value=m.initializer?m.initializer.call(b):void 0,m.initializer=void 0),void 0===m.initializer&&(Object.defineProperty(c,f,m),m=null),l=m,a=o))||a)},"./sof/faction/index.js":function(e,t,r){"use strict";r.r(t);var i=r("./sof/faction/EveSOFDataFaction.js");r.d(t,"EveSOFDataFaction",(function(){return i.EveSOFDataFaction}));var n=r("./sof/faction/EveSOFDataFactionChild.js");r.d(t,"EveSOFDataFactionChild",(function(){return n.EveSOFDataFactionChild}));var a=r("./sof/faction/EveSOFDataFactionColorSet.js");r.d(t,"EveSOFDataFactionColorSet",(function(){return a.EveSOFDataFactionColorSet}));var o=r("./sof/faction/EveSOFDataFactionPlaneSet.js");r.d(t,"EveSOFDataFactionPlaneSet",(function(){return o.EveSOFDataFactionPlaneSet}));var l=r("./sof/faction/EveSOFDataFactionSpotlightSet.js");r.d(t,"EveSOFDataFactionSpotlightSet",(function(){return l.EveSOFDataFactionSpotlightSet}));var s=r("./sof/faction/EveSOFDataFactionVisibilityGroupSet.js");r.d(t,"EveSOFDataFactionVisibilityGroupSet",(function(){return s.EveSOFDataFactionVisibilityGroupSet}))},"./sof/generic/EveSOFDataGeneric.js":function(e,t,r){"use strict";r.r(t),r.d(t,"EveSOFDataGeneric",(function(){return U})),r.d(t,"ErrSOFAreaShaderNotFound",(function(){return V})),r.d(t,"ErrSOFDecalShaderNotFound",(function(){return H})),r.d(t,"ErrSOFMaterialPrefixNotFound",(function(){return q})),r.d(t,"ErrSOFPatternMaterialPrefixNotFound",(function(){return W}));var i,n,a,o,l,s,u,c,f,d,h,b,m,p,v,g,E,y,T,w,_,S,R,j,O,A,z,P,C,D,I,x,L,M,F,G=r("./core/index.js"),k=r("./global/index.js");function N(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function B(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var U=(i=k.meta.type("EveSOFDataGeneric",!0),n=k.meta.black.path,a=k.meta.black.listOf("EveSOFDataGenericShader"),o=k.meta.black.rawOf("EveSOFDataGenericShader"),l=k.meta.black.objectOf("EveSOFDataGenericDamage"),s=k.meta.black.path,u=k.meta.black.listOf("EveSOFDataGenericDecalShader"),c=k.meta.black.objectOf("EveSOFDataAreaMaterial"),f=k.meta.black.objectOf("EveSOFDataGenericHullDamage"),d=k.meta.black.listOf("EveSOFDataGenericString"),h=k.meta.black.listOf("EveSOFDataGenericString"),b=k.meta.black.path,m=k.meta.black.path,p=k.meta.black.path,v=k.meta.black.string,g=k.meta.black.objectOf("EveSOFDataGenericSwarm"),E=k.meta.black.listOf("EveSOFDataGenericVariant"),i((w=B((T=class{constructor(){N(this,"areaShaderLocation",w,this),N(this,"areaShaders",_,this),N(this,"bannerShader",S,this),N(this,"damage",R,this),N(this,"decalShaderLocation",j,this),N(this,"decalShaders",O,this),N(this,"genericWreckMaterial",A,this),N(this,"hullDamage",z,this),N(this,"materialPrefixes",P,this),N(this,"patternMaterialPrefixes",C,this),N(this,"resPathDefaultAlliance",D,this),N(this,"resPathDefaultCeo",I,this),N(this,"resPathDefaultCorp",x,this),N(this,"shaderPrefixAnimated",L,this),N(this,"swarm",M,this),N(this,"variants",F,this)}CreateEffect(e,t,r){var i={},n={},a={},o=this.GetShaderPath(e.shader||e.effectFilePath,t);function l(e,t){t&&(k.util.isArray(t)?t.forEach(t=>t.Assign(e)):k.util.isPlain(t)&&Object.assign(e,t))}return l(i,e.defaultParameters),l(n,e.defaultTextures),r&&(l(i,r.parameters),l(n,r.textures),l(a,r.overrides)),G.Tw2Effect.from({effectFilePath:o,parameters:i,textures:n,overrides:a})}GetShaderPrefix(e){return e?this.shaderPrefixAnimated:""}GetShaderPath(e,t){var r=this.GetShaderPrefix(t);"/"!==e.charAt(0)&&(e+="/");var i=e.lastIndexOf("/");return e.substring(0,i+1)+r+e.substring(i+1)}HasAreaShader(e){return!!k.util.findElementByPropertyValue(this.areaShaders,"name",e)}GetAreaShader(e){return k.util.findElementByPropertyValue(this.areaShaders,"name",e,V)}HasDecalShader(e){return!!k.util.findElementByPropertyValue(this.decalShaders,"name",e)}GetDecalShader(e){return k.util.findElementByPropertyValue(this.decalShaders,"name",e,H)}GetMaterialPrefixes(){for(var e=[],t=0;t<this.materialPrefixes.length;t++)e.push(this.materialPrefixes[t].str);return e}GetPatternMaterialPrefixes(){for(var e=[],t=0;t<this.patternMaterialPrefixes.length;t++)e.push(this.patternMaterialPrefixes[t].str);return e}GetMaterialPrefix(e){var t=e-1;if(void 0===this.materialPrefixes[t])throw new q({index:e});return this.materialPrefixes[t].str}GetPatternMaterialPrefix(e){var t=e-1;if(void 0===this.patternMaterialPrefixes[t])throw new W({index:e});return this.patternMaterialPrefixes[t].str}}).prototype,"areaShaderLocation",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),_=B(T.prototype,"areaShaders",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),S=B(T.prototype,"bannerShader",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),R=B(T.prototype,"damage",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),j=B(T.prototype,"decalShaderLocation",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),O=B(T.prototype,"decalShaders",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),A=B(T.prototype,"genericWreckMaterial",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),z=B(T.prototype,"hullDamage",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),P=B(T.prototype,"materialPrefixes",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),C=B(T.prototype,"patternMaterialPrefixes",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),D=B(T.prototype,"resPathDefaultAlliance",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),I=B(T.prototype,"resPathDefaultCeo",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),x=B(T.prototype,"resPathDefaultCorp",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),L=B(T.prototype,"shaderPrefixAnimated",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),M=B(T.prototype,"swarm",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),F=B(T.prototype,"variants",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),y=T))||y);class V extends G.Tw2Error{constructor(e){super(e,"SOF Area shader not found: %name%")}}class H extends G.Tw2Error{constructor(e){super(e,"SOF Decal area shader not found: %name%")}}class q extends G.Tw2Error{constructor(e){super(e,"SOF Material prefix index not found: %index%")}}class W extends G.Tw2Error{constructor(e){super(e,"SOF Pattern material prefix index not found: %index%")}}},"./sof/generic/EveSOFDataGenericDamage.js":function(e,t,r){"use strict";r.r(t),r.d(t,"EveSOFDataGenericDamage",(function(){return J}));var i,n,a,o,l,s,u,c,f,d,h,b,m,p,v,g,E,y,T,w,_,S,R,j,O,A,z,P,C,D,I,x,L,M,F,G,k,N,B,U,V,H,q,W,Y,X,K,Q=r("./global/index.js");function Z(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function $(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var J=(i=Q.meta.type("EveSOFDataGenericDamage",!0),n=Q.meta.black.float,a=Q.meta.black.color,o=Q.meta.black.color,l=Q.meta.black.color,s=Q.meta.black.color,u=Q.meta.black.float,c=Q.meta.black.vector2,f=Q.meta.black.vector2,d=Q.meta.black.float,h=Q.meta.black.vector4,b=Q.meta.black.uint,m=Q.meta.black.float,p=Q.meta.black.float,v=Q.meta.black.float,g=Q.meta.black.string,E=Q.meta.black.float,y=Q.meta.black.float,T=Q.meta.black.uint,w=Q.meta.black.float,_=Q.meta.black.path,S=Q.meta.black.string,R=Q.meta.black.string,i((A=$((O=class{constructor(){Z(this,"armorParticleAngle",A,this),Z(this,"armorParticleColor0",z,this),Z(this,"armorParticleColor1",P,this),Z(this,"armorParticleColor2",C,this),Z(this,"armorParticleColor3",D,this),Z(this,"armorParticleDrag",I,this),Z(this,"armorParticleMinMaxLifeTime",x,this),Z(this,"armorParticleMinMaxSpeed",L,this),Z(this,"armorParticleRate",M,this),Z(this,"armorParticleSizes",F,this),Z(this,"armorParticleTextureIndex",G,this),Z(this,"armorParticleTurbulenceAmplitude",k,this),Z(this,"armorParticleTurbulenceFrequency",N,this),Z(this,"armorParticleVelocityStretchRotation",B,this),Z(this,"armorShader",U,this),Z(this,"flickerPerlinAlpha",V,this),Z(this,"flickerPerlinBeta",H,this),Z(this,"flickerPerlinN",q,this),Z(this,"flickerPerlinSpeed",W,this),Z(this,"shieldGeometryResFilePath",Y,this),Z(this,"shieldShaderEllipsoid",X,this),Z(this,"shieldShaderHull",K,this)}}).prototype,"armorParticleAngle",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),z=$(O.prototype,"armorParticleColor0",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Q.vec4.create()}}),P=$(O.prototype,"armorParticleColor1",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Q.vec4.create()}}),C=$(O.prototype,"armorParticleColor2",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Q.vec4.create()}}),D=$(O.prototype,"armorParticleColor3",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Q.vec4.create()}}),I=$(O.prototype,"armorParticleDrag",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),x=$(O.prototype,"armorParticleMinMaxLifeTime",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Q.vec2.create()}}),L=$(O.prototype,"armorParticleMinMaxSpeed",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Q.vec2.create()}}),M=$(O.prototype,"armorParticleRate",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),F=$(O.prototype,"armorParticleSizes",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Q.vec4.create()}}),G=$(O.prototype,"armorParticleTextureIndex",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),k=$(O.prototype,"armorParticleTurbulenceAmplitude",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),N=$(O.prototype,"armorParticleTurbulenceFrequency",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),B=$(O.prototype,"armorParticleVelocityStretchRotation",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),U=$(O.prototype,"armorShader",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),V=$(O.prototype,"flickerPerlinAlpha",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),H=$(O.prototype,"flickerPerlinBeta",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),q=$(O.prototype,"flickerPerlinN",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),W=$(O.prototype,"flickerPerlinSpeed",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Y=$(O.prototype,"shieldGeometryResFilePath",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),X=$(O.prototype,"shieldShaderEllipsoid",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),K=$(O.prototype,"shieldShaderHull",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),j=O))||j)},"./sof/generic/EveSOFDataGenericDecalShader.js":function(e,t,r){"use strict";r.r(t),r.d(t,"EveSOFDataGenericDecalShader",(function(){return v}));var i,n,a,o,l,s,u,c,f,d,h,b=r("./global/index.js");function m(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function p(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var v=(i=b.meta.type("EveSOFDataGenericDecalShader",!0),n=b.meta.black.listOf("EveSOFDataTexture"),a=b.meta.black.listOf("EveSOFDataGenericString"),o=b.meta.black.listOf("EveSOFDataGenericString"),l=b.meta.black.string,i((c=p((u=class{constructor(){m(this,"defaultTextures",c,this),m(this,"parameters",f,this),m(this,"parentTextures",d,this),m(this,"shader",h,this)}}).prototype,"defaultTextures",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),f=p(u.prototype,"parameters",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),d=p(u.prototype,"parentTextures",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),h=p(u.prototype,"shader",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),s=u))||s)},"./sof/generic/EveSOFDataGenericHullDamage.js":function(e,t,r){"use strict";r.r(t),r.d(t,"EveSOFDataGenericHullDamage",(function(){return L}));var i,n,a,o,l,s,u,c,f,d,h,b,m,p,v,g,E,y,T,w,_,S,R,j,O,A,z,P,C,D=r("./global/index.js");function I(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function x(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var L=(i=D.meta.type("EveSOFDataGenericHullDamage",!0),n=D.meta.black.float,a=D.meta.black.color,o=D.meta.black.color,l=D.meta.black.color,s=D.meta.black.float,u=D.meta.black.float,c=D.meta.black.vector2,f=D.meta.black.vector2,d=D.meta.black.float,h=D.meta.black.vector4,b=D.meta.black.uint,m=D.meta.black.float,p=D.meta.black.float,i((E=x((g=class{constructor(){I(this,"hullParticleAngle",E,this),I(this,"hullParticleColor0",y,this),I(this,"hullParticleColor1",T,this),I(this,"hullParticleColor2",w,this),I(this,"hullParticleColorMidpoint",_,this),I(this,"hullParticleDrag",S,this),I(this,"hullParticleMinMaxLifeTime",R,this),I(this,"hullParticleMinMaxSpeed",j,this),I(this,"hullParticleRate",O,this),I(this,"hullParticleSizes",A,this),I(this,"hullParticleTextureIndex",z,this),I(this,"hullParticleTurbulenceAmplitude",P,this),I(this,"hullParticleTurbulenceFrequency",C,this)}}).prototype,"hullParticleAngle",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),y=x(g.prototype,"hullParticleColor0",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return D.vec4.create()}}),T=x(g.prototype,"hullParticleColor1",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return D.vec4.create()}}),w=x(g.prototype,"hullParticleColor2",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return D.vec4.create()}}),_=x(g.prototype,"hullParticleColorMidpoint",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),S=x(g.prototype,"hullParticleDrag",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),R=x(g.prototype,"hullParticleMinMaxLifeTime",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return D.vec2.create()}}),j=x(g.prototype,"hullParticleMinMaxSpeed",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return D.vec2.create()}}),O=x(g.prototype,"hullParticleRate",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),A=x(g.prototype,"hullParticleSizes",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return D.vec4.create()}}),z=x(g.prototype,"hullParticleTextureIndex",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),P=x(g.prototype,"hullParticleTurbulenceAmplitude",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),C=x(g.prototype,"hullParticleTurbulenceFrequency",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),v=g))||v)},"./sof/generic/EveSOFDataGenericShader.js":function(e,t,r){"use strict";r.r(t),r.d(t,"EveSOFDataGenericShader",(function(){return T}));var i,n,a,o,l,s,u,c,f,d,h,b,m,p,v,g=r("./global/index.js");function E(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function y(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var T=(i=g.meta.type("EveSOFDataGenericShader",!0),n=g.meta.black.listOf("EveSOFDataParameter"),a=g.meta.black.listOf("EveSOFDataTexture"),o=g.meta.black.boolean,l=g.meta.black.listOf("EveSOFDataGenericString"),s=g.meta.black.path,u=g.meta.black.string,i((d=y((f=class{constructor(){E(this,"defaultParameters",d,this),E(this,"defaultTextures",h,this),E(this,"doGenerateDepthArea",b,this),E(this,"parameters",m,this),E(this,"shader",p,this),E(this,"transparencyTextureName",v,this)}}).prototype,"defaultParameters",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),h=y(f.prototype,"defaultTextures",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),b=y(f.prototype,"doGenerateDepthArea",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),m=y(f.prototype,"parameters",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),p=y(f.prototype,"shader",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),v=y(f.prototype,"transparencyTextureName",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),c=f))||c)},"./sof/generic/EveSOFDataGenericString.js":function(e,t,r){"use strict";r.r(t),r.d(t,"EveSOFDataGenericString",(function(){return p}));var i,n,a,o,l,s,u=r("./global/index.js");var c,f,d,h,b,m,p=(i=u.meta.type("EveSOFDataGenericString",!0),n=u.meta.black.string,i((s=class{constructor(){var e,t,r,i;e=this,t="str",i=this,(r=l)&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}},c=(o=s).prototype,f="str",d=[n],h={configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}},m={},Object.keys(h).forEach((function(e){m[e]=h[e]})),m.enumerable=!!m.enumerable,m.configurable=!!m.configurable,("value"in m||m.initializer)&&(m.writable=!0),m=d.slice().reverse().reduce((function(e,t){return t(c,f,e)||e}),m),b&&void 0!==m.initializer&&(m.value=m.initializer?m.initializer.call(b):void 0,m.initializer=void 0),void 0===m.initializer&&(Object.defineProperty(c,f,m),m=null),l=m,a=o))||a)},"./sof/generic/EveSOFDataGenericSwarm.js":function(e,t,r){"use strict";r.r(t),r.d(t,"EveSOFDataGenericSwarm",(function(){return L}));var i,n,a,o,l,s,u,c,f,d,h,b,m,p,v,g,E,y,T,w,_,S,R,j,O,A,z,P,C,D=r("./global/index.js");function I(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function x(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var L=(i=D.meta.type("EveSOFDataGenericShader",!0),n=D.meta.black.float,a=D.meta.black.float,o=D.meta.black.float,l=D.meta.black.float,s=D.meta.black.float,u=D.meta.black.float,c=D.meta.black.float,f=D.meta.black.float,d=D.meta.black.float,h=D.meta.black.float,b=D.meta.black.float,m=D.meta.black.float,p=D.meta.black.float,i((E=x((g=class{constructor(){I(this,"formationDistance",E,this),I(this,"maxDeceleration",y,this),I(this,"maxDistance0",T,this),I(this,"separationDistance",w,this),I(this,"wanderDistance",_,this),I(this,"wanderFluctuation",S,this),I(this,"wanderRadius",R,this),I(this,"weightAlign",j,this),I(this,"weightAnchor",O,this),I(this,"weightCohesion",A,this),I(this,"weightDeceleration",z,this),I(this,"weightFormation",P,this),I(this,"weightSeparation",C,this)}}).prototype,"formationDistance",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),y=x(g.prototype,"maxDeceleration",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),T=x(g.prototype,"maxDistance0",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),w=x(g.prototype,"separationDistance",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),_=x(g.prototype,"wanderDistance",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),S=x(g.prototype,"wanderFluctuation",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),R=x(g.prototype,"wanderRadius",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),j=x(g.prototype,"weightAlign",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),O=x(g.prototype,"weightAnchor",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),A=x(g.prototype,"weightCohesion",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),z=x(g.prototype,"weightDeceleration",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),P=x(g.prototype,"weightFormation",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),C=x(g.prototype,"weightSeparation",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),v=g))||v)},"./sof/generic/EveSOFDataGenericVariant.js":function(e,t,r){"use strict";r.r(t),r.d(t,"EveSOFDataGenericVariant",(function(){return m}));var i,n,a,o,l,s,u,c,f,d=r("./global/index.js");function h(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function b(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var m=(i=d.meta.type("EveSOFDataGenericVariant",!0),n=d.meta.black.string,a=d.meta.black.objectOf("EveSOFDataHullArea"),o=d.meta.black.boolean,i((u=b((s=class{constructor(){h(this,"name",u,this),h(this,"hullArea",c,this),h(this,"isTransparent",f,this)}}).prototype,"name",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),c=b(s.prototype,"hullArea",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),f=b(s.prototype,"isTransparent",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),l=s))||l)},"./sof/generic/index.js":function(e,t,r){"use strict";r.r(t);var i=r("./sof/generic/EveSOFDataGeneric.js");r.d(t,"EveSOFDataGeneric",(function(){return i.EveSOFDataGeneric})),r.d(t,"ErrSOFAreaShaderNotFound",(function(){return i.ErrSOFAreaShaderNotFound})),r.d(t,"ErrSOFDecalShaderNotFound",(function(){return i.ErrSOFDecalShaderNotFound})),r.d(t,"ErrSOFMaterialPrefixNotFound",(function(){return i.ErrSOFMaterialPrefixNotFound})),r.d(t,"ErrSOFPatternMaterialPrefixNotFound",(function(){return i.ErrSOFPatternMaterialPrefixNotFound}));var n=r("./sof/generic/EveSOFDataGenericDamage.js");r.d(t,"EveSOFDataGenericDamage",(function(){return n.EveSOFDataGenericDamage}));var a=r("./sof/generic/EveSOFDataGenericDecalShader.js");r.d(t,"EveSOFDataGenericDecalShader",(function(){return a.EveSOFDataGenericDecalShader}));var o=r("./sof/generic/EveSOFDataGenericHullDamage.js");r.d(t,"EveSOFDataGenericHullDamage",(function(){return o.EveSOFDataGenericHullDamage}));var l=r("./sof/generic/EveSOFDataGenericShader.js");r.d(t,"EveSOFDataGenericShader",(function(){return l.EveSOFDataGenericShader}));var s=r("./sof/generic/EveSOFDataGenericString.js");r.d(t,"EveSOFDataGenericString",(function(){return s.EveSOFDataGenericString}));var u=r("./sof/generic/EveSOFDataGenericSwarm.js");r.d(t,"EveSOFDataGenericSwarm",(function(){return u.EveSOFDataGenericSwarm}));var c=r("./sof/generic/EveSOFDataGenericVariant.js");r.d(t,"EveSOFDataGenericVariant",(function(){return c.EveSOFDataGenericVariant}))},"./sof/hull/EveSOFDataHull.js":function(e,t,r){"use strict";r.r(t),r.d(t,"EveSOFDataHull",(function(){return Ce}));var i,n,a,o,l,s,u,c,f,d,h,b,m,p,v,g,E,y,T,w,_,S,R,j,O,A,z,P,C,D,I,x,L,M,F,G,k,N,B,U,V,H,q,W,Y,X,K,Q,Z,$,J,ee,te,re,ie,ne,ae,oe,le,se,ue,ce,fe,de,he,be,me,pe,ve,ge,Ee,ye,Te,we,_e,Se,Re,je,Oe,Ae=r("./global/index.js");function ze(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function Pe(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var Ce=(i=Ae.meta.type("EveSOFDataHull",!0),n=Ae.meta.black.string,a=Ae.meta.black.listOf("EveSOFDataHullArea"),o=Ae.meta.black.listOf("EveSOFDataHullAnimation"),l=Ae.meta.black.vector3,s=Ae.meta.black.listOf("EveSOFDataHullBanner"),u=Ae.meta.black.objectOf("EveSOFDataHullBooster"),c=Ae.meta.black.vector4,f=Ae.meta.black.uint,d=Ae.meta.black.boolean,h=Ae.meta.black.string,b=Ae.meta.black.listOf("EveSOFDataHullChild"),m=Ae.meta.black.listOf("EveSOFDataHullController"),p=Ae.meta.black.listOf("EveSOFDataHullArea"),v=Ae.meta.black.listOf("EveSOFDataHullDecalSet"),g=Ae.meta.black.objectOf("EveSOFDataPatternPerHull"),E=Ae.meta.black.listOf("EveSOFDataHullArea"),y=Ae.meta.black.string,T=Ae.meta.black.listOf("EveSOFDataHullArea"),w=Ae.meta.black.boolean,_=Ae.meta.black.path,S=Ae.meta.black.listOf("EveSOFDataHullHazeSet"),R=Ae.meta.black.listOf("EveSOFDataHullDecalSet"),j=Ae.meta.black.uint,O=Ae.meta.black.listOf("EveSOFDataInstancedMesh"),A=Ae.meta.black.boolean,z=Ae.meta.black.listOf("EveSOFDataHullLightSet"),P=Ae.meta.black.listOf("EveSOFDataHullLocatorSet"),C=Ae.meta.black.listOf("EveSOFDataHullLocator"),D=Ae.meta.black.path,I=Ae.meta.black.listOf("EveSOFDataHullArea"),x=Ae.meta.black.listOf("EveSOFDataHullPlaneSet"),L=Ae.meta.black.vector3,M=Ae.meta.black.vector3,F=Ae.meta.black.listOf("EveSOFDataHullSoundEmitter"),G=Ae.meta.black.listOf("EveSOFDataHullSpotlightSet"),k=Ae.meta.black.listOf("EveSOFDataHullSpriteLineSet"),N=Ae.meta.black.listOf("EveSOFDataHullSpriteSet"),B=Ae.meta.black.listOf("EveSOFDataHullArea"),i((H=Pe((V=class{constructor(){ze(this,"name",H,this),ze(this,"additiveAreas",q,this),ze(this,"animations",W,this),ze(this,"audioPosition",Y,this),ze(this,"banners",X,this),ze(this,"booster",K,this),ze(this,"boundingSphere",Q,this),ze(this,"buildClass",Z,this),ze(this,"castShadow",$,this),ze(this,"category",J,this),ze(this,"children",ee,this),ze(this,"controllers",te,this),ze(this,"decalAreas",re,this),ze(this,"decalSets",ie,this),ze(this,"defaultPattern",ne,this),ze(this,"depthAreas",ae,this),ze(this,"description",oe,this),ze(this,"distortionAreas",le,this),ze(this,"enableDynamicBoundingSphere",se,this),ze(this,"geometryResFilePath",ue,this),ze(this,"hazeSets",ce,this),ze(this,"hullDecals",fe,this),ze(this,"impactEffectType",de,this),ze(this,"instancedMeshes",he,this),ze(this,"isSkinned",be,this),ze(this,"lightSets",me,this),ze(this,"locatorSets",pe,this),ze(this,"locatorTurrets",ve,this),ze(this,"modelRotationCurvePath",ge,this),ze(this,"opaqueAreas",Ee,this),ze(this,"planeSets",ye,this),ze(this,"shapeEllipsoidCenter",Te,this),ze(this,"shapeEllipsoidRadius",we,this),ze(this,"soundEmitters",_e,this),ze(this,"spotlightSets",Se,this),ze(this,"spriteLineSets",Re,this),ze(this,"spriteSets",je,this),ze(this,"transparentAreas",Oe,this)}}).prototype,"name",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),q=Pe(V.prototype,"additiveAreas",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),W=Pe(V.prototype,"animations",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Y=Pe(V.prototype,"audioPosition",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Ae.vec3.create()}}),X=Pe(V.prototype,"banners",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),K=Pe(V.prototype,"booster",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Q=Pe(V.prototype,"boundingSphere",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Ae.vec4.create()}}),Z=Pe(V.prototype,"buildClass",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),$=Pe(V.prototype,"castShadow",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),J=Pe(V.prototype,"category",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),ee=Pe(V.prototype,"children",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),te=Pe(V.prototype,"controllers",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),re=Pe(V.prototype,"decalAreas",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),ie=Pe(V.prototype,"decalSets",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),ne=Pe(V.prototype,"defaultPattern",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ae=Pe(V.prototype,"depthAreas",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),oe=Pe(V.prototype,"description",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),le=Pe(V.prototype,"distortionAreas",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),se=Pe(V.prototype,"enableDynamicBoundingSphere",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),ue=Pe(V.prototype,"geometryResFilePath",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),ce=Pe(V.prototype,"hazeSets",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),fe=Pe(V.prototype,"hullDecals",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),de=Pe(V.prototype,"impactEffectType",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),he=Pe(V.prototype,"instancedMeshes",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),be=Pe(V.prototype,"isSkinned",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),me=Pe(V.prototype,"lightSets",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),pe=Pe(V.prototype,"locatorSets",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),ve=Pe(V.prototype,"locatorTurrets",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),ge=Pe(V.prototype,"modelRotationCurvePath",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),Ee=Pe(V.prototype,"opaqueAreas",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),ye=Pe(V.prototype,"planeSets",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Te=Pe(V.prototype,"shapeEllipsoidCenter",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Ae.vec3.create()}}),we=Pe(V.prototype,"shapeEllipsoidRadius",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Ae.vec3.create()}}),_e=Pe(V.prototype,"soundEmitters",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Se=Pe(V.prototype,"spotlightSets",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Re=Pe(V.prototype,"spriteLineSets",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),je=Pe(V.prototype,"spriteSets",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Oe=Pe(V.prototype,"transparentAreas",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),U=V))||U)},"./sof/hull/EveSOFDataHullAnimation.js":function(e,t,r){"use strict";r.r(t),r.d(t,"EveSOFDataHullAnimation",(function(){return R}));var i,n,a,o,l,s,u,c,f,d,h,b,m,p,v,g,E,y,T,w=r("./global/index.js");function _(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function S(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var R=(i=w.meta.type("EveSOFDataHullAnimation",!0),n=w.meta.black.string,a=w.meta.black.float,o=w.meta.black.float,l=w.meta.black.quaternion,s=w.meta.black.uint,u=w.meta.black.float,c=w.meta.black.float,f=w.meta.black.quaternion,i((b=S((h=class{constructor(){_(this,"name",b,this),_(this,"endRate",m,this),_(this,"endRotationTime",p,this),_(this,"endRotationValue",v,this),_(this,"id",g,this),_(this,"startRate",E,this),_(this,"startRotationTime",y,this),_(this,"startRotationValue",T,this)}}).prototype,"name",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),m=S(h.prototype,"endRate",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),p=S(h.prototype,"endRotationTime",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),v=S(h.prototype,"endRotationValue",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return w.quat.create()}}),g=S(h.prototype,"id",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),E=S(h.prototype,"startRate",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),y=S(h.prototype,"startRotationTime",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),T=S(h.prototype,"startRotationValue",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return w.quat.create()}}),d=h))||d)},"./sof/hull/EveSOFDataHullArea.js":function(e,t,r){"use strict";r.r(t),r.d(t,"EveSOFDataHullArea",(function(){return R}));var i,n,a,o,l,s,u,c,f,d,h,b,m,p,v,g,E,y,T,w=r("./global/index.js");function _(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function S(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var R=(i=w.meta.type("EveSOFDataHullArea",!0),n=w.meta.black.string,a=w.meta.black.uint,o=w.meta.black.uint,l=w.meta.black.uint,s=w.meta.black.uint,u=w.meta.black.listOf("EveSOFDataParameter"),c=w.meta.black.string,f=w.meta.black.listOf("EveSOFDataTexture"),i((b=S((h=class{constructor(){_(this,"name",b,this),_(this,"areaType",m,this),_(this,"blockedMaterials",p,this),_(this,"count",v,this),_(this,"index",g,this),_(this,"parameters",E,this),_(this,"shader",y,this),_(this,"textures",T,this)}}).prototype,"name",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),m=S(h.prototype,"areaType",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),p=S(h.prototype,"blockedMaterials",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),v=S(h.prototype,"count",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),g=S(h.prototype,"index",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),E=S(h.prototype,"parameters",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),y=S(h.prototype,"shader",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),T=S(h.prototype,"textures",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),d=h))||d)},"./sof/hull/EveSOFDataHullBanner.js":function(e,t,r){"use strict";r.r(t),r.d(t,"EveSOFDataHullBanner",(function(){return z}));var i,n,a,o,l,s,u,c,f,d,h,b,m,p,v,g,E,y,T,w,_,S,R,j=r("./global/index.js");function O(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function A(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var z=(i=j.meta.type("EveSOFDataHullBanner",!0),n=j.meta.black.string,a=j.meta.black.float,o=j.meta.black.float,l=j.meta.black.float,s=j.meta.black.uint,u=j.meta.black.object,c=j.meta.black.vector3,f=j.meta.black.quaternion,d=j.meta.black.vector3,h=j.meta.black.uint,i((p=A((m=class{constructor(){O(this,"name",p,this),O(this,"angleX",v,this),O(this,"angleY",g,this),O(this,"angleZ",E,this),O(this,"boneIndex",y,this),O(this,"lightOverride",T,this),O(this,"position",w,this),O(this,"rotation",_,this),O(this,"scaling",S,this),O(this,"usage",R,this)}}).prototype,"name",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),v=A(m.prototype,"angleX",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),g=A(m.prototype,"angleY",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),E=A(m.prototype,"angleZ",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),y=A(m.prototype,"boneIndex",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return-1}}),T=A(m.prototype,"lightOverride",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),w=A(m.prototype,"position",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return j.vec3.create()}}),_=A(m.prototype,"rotation",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return j.quat.create()}}),S=A(m.prototype,"scaling",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return j.vec3.fromValues(1,1,1)}}),R=A(m.prototype,"usage",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),b=m))||b)},"./sof/hull/EveSOFDataHullBannerLight.js":function(e,t,r){"use strict";r.r(t),r.d(t,"EveSOFDataHullBannerLight",(function(){return a}));var i,n=r("./global/index.js"),a=n.meta.type("EveSOFDataHullBannerLight",!0)(i=n.meta.data("black")(i=class{})||i)||i},"./sof/hull/EveSOFDataHullBooster.js":function(e,t,r){"use strict";r.r(t),r.d(t,"EveSOFDataHullBooster",(function(){return m}));var i,n,a,o,l,s,u,c,f,d=r("./global/index.js");function h(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function b(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var m=(i=d.meta.type("EveSOFDataHullBooster",!0),n=d.meta.black.boolean,a=d.meta.black.boolean,o=d.meta.black.listOf("EveSOFDataHullBoosterItem"),i((u=b((s=class{constructor(){h(this,"alwaysOn",u,this),h(this,"hasTrails",c,this),h(this,"items",f,this)}}).prototype,"alwaysOn",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),c=b(s.prototype,"hasTrails",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),f=b(s.prototype,"items",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),l=s))||l)},"./sof/hull/EveSOFDataHullBoosterItem.js":function(e,t,r){"use strict";r.r(t),r.d(t,"EveSOFDataHullBoosterItem",(function(){return w}));var i,n,a,o,l,s,u,c,f,d,h,b,m,p,v,g,E=r("./global/index.js");function y(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function T(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var w=(i=E.meta.type("EveSOFDataHullBoosterItem",!0),n=E.meta.black.uint,a=E.meta.black.uint,o=E.meta.black.vector4,l=E.meta.black.boolean,s=E.meta.black.float,u=E.meta.todo("What should the default value be?"),c=E.meta.black.matrix4,i((h=T((d=class{constructor(){y(this,"atlasIndex0",h,this),y(this,"atlasIndex1",b,this),y(this,"functionality",m,this),y(this,"hasTrail",p,this),y(this,"lightScale",v,this),y(this,"transform",g,this)}}).prototype,"atlasIndex0",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),b=T(d.prototype,"atlasIndex1",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),m=T(d.prototype,"functionality",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return E.vec4.create()}}),p=T(d.prototype,"hasTrail",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),v=T(d.prototype,"lightScale",[s,u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),g=T(d.prototype,"transform",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return E.mat4.create()}}),f=d))||f)},"./sof/hull/EveSOFDataHullChild.js":function(e,t,r){"use strict";r.r(t),r.d(t,"EveSOFDataHullChild",(function(){return R}));var i,n,a,o,l,s,u,c,f,d,h,b,m,p,v,g,E,y,T,w=r("./global/index.js");function _(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function S(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var R=(i=w.meta.type("EveSOFDataHullChild",!0),n=w.meta.black.string,a=w.meta.black.uint,o=w.meta.black.uint,l=w.meta.black.uint,s=w.meta.black.path,u=w.meta.black.quaternion,c=w.meta.black.vector3,f=w.meta.black.vector3,i((b=S((h=class{constructor(){_(this,"name",b,this),_(this,"groupIndex",m,this),_(this,"id",p,this),_(this,"lowestLodVisible",v,this),_(this,"redFilePath",g,this),_(this,"rotation",E,this),_(this,"scaling",y,this),_(this,"translation",T,this)}}).prototype,"name",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),m=S(h.prototype,"groupIndex",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return-1}}),p=S(h.prototype,"id",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),v=S(h.prototype,"lowestLodVisible",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),g=S(h.prototype,"redFilePath",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),E=S(h.prototype,"rotation",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return w.quat.create()}}),y=S(h.prototype,"scaling",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return w.vec3.fromValues(1,1,1)}}),T=S(h.prototype,"translation",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return w.vec3.create()}}),d=h))||d)},"./sof/hull/EveSOFDataHullController.js":function(e,t,r){"use strict";r.r(t),r.d(t,"EveSOFDataHullController",(function(){return p}));var i,n,a,o,l,s,u=r("./global/index.js");var c,f,d,h,b,m,p=(i=u.meta.type("EveSOFDataHullController",!0),n=u.meta.black.path,i((s=class{constructor(){var e,t,r,i;e=this,t="path",i=this,(r=l)&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}},c=(o=s).prototype,f="path",d=[n],h={configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}},m={},Object.keys(h).forEach((function(e){m[e]=h[e]})),m.enumerable=!!m.enumerable,m.configurable=!!m.configurable,("value"in m||m.initializer)&&(m.writable=!0),m=d.slice().reverse().reduce((function(e,t){return t(c,f,e)||e}),m),b&&void 0!==m.initializer&&(m.value=m.initializer?m.initializer.call(b):void 0,m.initializer=void 0),void 0===m.initializer&&(Object.defineProperty(c,f,m),m=null),l=m,a=o))||a)},"./sof/hull/EveSOFDataHullDecalSet.js":function(e,t,r){"use strict";r.r(t),r.d(t,"EveSOFDataHullDecalSet",(function(){return m}));var i,n,a,o,l,s,u,c,f,d=r("./global/index.js");function h(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function b(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var m=(i=d.meta.type("EveSOFDataHullDecalSet",!0),n=d.meta.black.string,a=d.meta.black.listOf("EveSOFDataHullDecalSetItem"),o=d.meta.black.string,i((u=b((s=class{constructor(){h(this,"name",u,this),h(this,"items",c,this),h(this,"visibilityGroup",f,this)}}).prototype,"name",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),c=b(s.prototype,"items",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),f=b(s.prototype,"visibilityGroup",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),l=s))||l)},"./sof/hull/EveSOFDataHullDecalSetItem.js":function(e,t,r){"use strict";r.r(t),r.d(t,"EveSOFDataHullDecalSetItem",(function(){return L}));var i,n,a,o,l,s,u,c,f,d,h,b,m,p,v,g,E,y,T,w,_,S,R,j,O,A,z,P,C,D=r("./global/index.js");function I(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function x(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var L=(i=D.meta.type("EveSOFDataHullDecalSetItem",!0),n=D.meta.black.string,a=D.meta.black.uint,o=D.meta.black.indexBuffer,l=D.meta.black.uint,s=D.meta.black.uint,u=D.meta.black.uint,c=D.meta.black.listOf("EveSOFDataParameter"),f=D.meta.black.vector3,d=D.meta.black.quaternion,h=D.meta.black.vector3,b=D.meta.black.listOf("EveSOFDataTexture"),m=D.meta.black.uint,p=D.meta.black.string,i((E=x((g=class{constructor(){I(this,"name",E,this),I(this,"boneIndex",y,this),I(this,"indexBuffer",T,this),I(this,"glowColorType",w,this),I(this,"logoType",_,this),I(this,"meshIndex",S,this),I(this,"parameters",R,this),I(this,"position",j,this),I(this,"rotation",O,this),I(this,"scaling",A,this),I(this,"textures",z,this),I(this,"usage",P,this),I(this,"visibilityGroup",C,this)}}).prototype,"name",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),y=x(g.prototype,"boneIndex",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return-1}}),T=x(g.prototype,"indexBuffer",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),w=x(g.prototype,"glowColorType",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),_=x(g.prototype,"logoType",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),S=x(g.prototype,"meshIndex",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),R=x(g.prototype,"parameters",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),j=x(g.prototype,"position",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return D.vec3.create()}}),O=x(g.prototype,"rotation",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return D.quat.create()}}),A=x(g.prototype,"scaling",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return D.vec3.fromValues(1,1,1)}}),z=x(g.prototype,"textures",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),P=x(g.prototype,"usage",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),C=x(g.prototype,"visibilityGroup",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),v=g))||v)},"./sof/hull/EveSOFDataHullHazeSet.js":function(e,t,r){"use strict";r.r(t),r.d(t,"EveSOFDataHullHazeSet",(function(){return m}));var i,n,a,o,l,s,u,c,f,d=r("./global/index.js");function h(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function b(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var m=(i=d.meta.type("EveSOFDataHullHazeSet",!0),n=d.meta.black.string,a=d.meta.black.listOf("EveSOFDataHullHazeSetItem"),o=d.meta.black.string,i((u=b((s=class{constructor(){h(this,"name",u,this),h(this,"items",c,this),h(this,"visibilityGroup",f,this)}}).prototype,"name",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),c=b(s.prototype,"items",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),f=b(s.prototype,"visibilityGroup",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),l=s))||l)},"./sof/hull/EveSOFDataHullHazeSetItem.js":function(e,t,r){"use strict";r.r(t),r.d(t,"EveSOFDataHullHazeSetItem",(function(){return O}));var i,n,a,o,l,s,u,c,f,d,h,b,m,p,v,g,E,y,T,w,_,S=r("./global/index.js");function R(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function j(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var O=(i=S.meta.type("EveSOFDataHullHazeSetItem",!0),n=S.meta.black.boolean,a=S.meta.black.uint,o=S.meta.black.float,l=S.meta.black.float,s=S.meta.black.vector3,u=S.meta.black.quaternion,c=S.meta.black.vector3,f=S.meta.black.float,d=S.meta.black.float,i((m=j((b=class{constructor(){R(this,"boosterGainInfluence",m,this),R(this,"colorType",p,this),R(this,"hazeBrightness",v,this),R(this,"hazeFalloff",g,this),R(this,"position",E,this),R(this,"rotation",y,this),R(this,"scaling",T,this),R(this,"sourceBrightness",w,this),R(this,"sourceSize",_,this)}}).prototype,"boosterGainInfluence",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),p=j(b.prototype,"colorType",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),v=j(b.prototype,"hazeBrightness",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),g=j(b.prototype,"hazeFalloff",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),E=j(b.prototype,"position",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return S.vec3.create()}}),y=j(b.prototype,"rotation",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return S.quat.create()}}),T=j(b.prototype,"scaling",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return S.vec3.fromValues(1,1,1)}}),w=j(b.prototype,"sourceBrightness",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),_=j(b.prototype,"sourceSize",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),h=b))||h)},"./sof/hull/EveSOFDataHullLightSet.js":function(e,t,r){"use strict";r.r(t),r.d(t,"EveSOFDataHullLightSet",(function(){return m}));var i,n,a,o,l,s,u,c,f,d=r("./global/index.js");function h(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function b(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var m=(i=d.meta.type("EveSOFDataHullLightSet",!0),n=d.meta.black.string,a=d.meta.black.listOf("EveSOFDataHullLightSetItem"),o=d.meta.black.string,i((u=b((s=class{constructor(){h(this,"name",u,this),h(this,"items",c,this),h(this,"visibilityGroup",f,this)}}).prototype,"name",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),c=b(s.prototype,"items",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),f=b(s.prototype,"visibilityGroup",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),l=s))||l)},"./sof/hull/EveSOFDataHullLightSetItem.js":function(e,t,r){"use strict";r.r(t),r.d(t,"EveSOFDataHullLightSetItem",(function(){return R}));var i,n,a,o,l,s,u,c,f,d,h,b,m,p,v,g,E,y,T,w=r("./global/index.js");function _(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function S(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var R=(i=w.meta.type("EveSOFDataHullLightSetItem",!0),n=w.meta.black.string,a=w.meta.black.float,o=w.meta.black.float,l=w.meta.black.color,s=w.meta.black.float,u=w.meta.black.float,c=w.meta.black.vector3,f=w.meta.black.float,i((b=S((h=class{constructor(){_(this,"name",b,this),_(this,"brightness",m,this),_(this,"innerRadius",p,this),_(this,"lightColor",v,this),_(this,"noiseAmplitude",g,this),_(this,"noiseFrequency",E,this),_(this,"position",y,this),_(this,"radius",T,this)}}).prototype,"name",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),m=S(h.prototype,"brightness",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),p=S(h.prototype,"innerRadius",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),v=S(h.prototype,"lightColor",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return w.vec4.create()}}),g=S(h.prototype,"noiseAmplitude",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),E=S(h.prototype,"noiseFrequency",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),y=S(h.prototype,"position",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return w.vec3.create()}}),T=S(h.prototype,"radius",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),d=h))||d)},"./sof/hull/EveSOFDataHullLightSetSpotLight.js":function(e,t,r){"use strict";r.r(t),r.d(t,"EveSOFDataHullLightSetSpotLight",(function(){return O}));var i,n,a,o,l,s,u,c,f,d,h,b,m,p,v,g,E,y,T,w,_,S=r("./global/index.js");function R(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function j(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var O=(i=S.meta.type("EveSOFDataHullLightSetSpotLight",!0),n=S.meta.black.string,a=S.meta.black.float,o=S.meta.black.float,l=S.meta.black.float,s=S.meta.black.color,u=S.meta.black.float,c=S.meta.black.vector3,f=S.meta.black.uint,d=S.meta.black.quaternion,i((m=j((b=class{constructor(){R(this,"name",m,this),R(this,"brightness",p,this),R(this,"innerAngle",v,this),R(this,"innerRadius",g,this),R(this,"lightColor",E,this),R(this,"outerAngle",y,this),R(this,"position",T,this),R(this,"radius",w,this),R(this,"rotation",_,this)}}).prototype,"name",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),p=j(b.prototype,"brightness",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),v=j(b.prototype,"innerAngle",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),g=j(b.prototype,"innerRadius",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),E=j(b.prototype,"lightColor",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return S.vec4.create()}}),y=j(b.prototype,"outerAngle",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),T=j(b.prototype,"position",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return S.vec3.create()}}),w=j(b.prototype,"radius",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),_=j(b.prototype,"rotation",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return S.quat.create()}}),h=b))||h)},"./sof/hull/EveSOFDataHullLightSetTexturedPointLight.js":function(e,t,r){"use strict";r.r(t),r.d(t,"EveSOFDataHullLightSetTexturedPointLight",(function(){return T}));var i,n,a,o,l,s,u,c,f,d,h,b,m,p,v,g=r("./global/index.js");function E(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function y(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var T=(i=g.meta.type("EveSOFDataHullLightSetTexturedPointLight",!0),n=g.meta.black.string,a=g.meta.black.float,o=g.meta.black.float,l=g.meta.black.vector3,s=g.meta.black.float,u=g.meta.black.path,i((d=y((f=class{constructor(){E(this,"name",d,this),E(this,"brightness",h,this),E(this,"innerRadius",b,this),E(this,"position",m,this),E(this,"radius",p,this),E(this,"texturePath",v,this)}}).prototype,"name",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),h=y(f.prototype,"brightness",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),b=y(f.prototype,"innerRadius",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),m=y(f.prototype,"position",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return g.vec3.create()}}),p=y(f.prototype,"radius",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),v=y(f.prototype,"texturePath",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),c=f))||c)},"./sof/hull/EveSOFDataHullLocator.js":function(e,t,r){"use strict";r.r(t),r.d(t,"EveSOFDataHullLocator",(function(){return h}));var i,n,a,o,l,s,u,c=r("./global/index.js");function f(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function d(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var h=(i=c.meta.type("EveSOFDataHullLocator",!0),n=c.meta.black.string,a=c.meta.black.matrix4,i((s=d((l=class{constructor(){f(this,"name",s,this),f(this,"transform",u,this)}}).prototype,"name",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),u=d(l.prototype,"transform",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return c.mat4.create()}}),o=l))||o)},"./sof/hull/EveSOFDataHullLocatorSet.js":function(e,t,r){"use strict";r.r(t),r.d(t,"EveSOFDataHullLocatorSet",(function(){return h}));var i,n,a,o,l,s,u,c=r("./global/index.js");function f(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function d(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var h=(i=c.meta.type("EveSOFDataHullLocatorSet",!0),n=c.meta.black.string,a=c.meta.black.listOf("EveSOFDataTransform"),i((s=d((l=class{constructor(){f(this,"name",s,this),f(this,"locators",u,this)}}).prototype,"name",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),u=d(l.prototype,"locators",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),o=l))||o)},"./sof/hull/EveSOFDataHullPlaneSet.js":function(e,t,r){"use strict";r.r(t),r.d(t,"EveSOFDataHullPlaneSet",(function(){return R}));var i,n,a,o,l,s,u,c,f,d,h,b,m,p,v,g,E,y,T,w=r("./global/index.js");function _(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function S(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var R=(i=w.meta.type("EveSOFDataHullPlaneSet",!0),n=w.meta.black.string,a=w.meta.black.uint,o=w.meta.black.listOf("EveSOFDataHullPlaneSetItem"),l=w.meta.black.path,s=w.meta.black.path,u=w.meta.black.path,c=w.meta.black.boolean,f=w.meta.black.uint,i((b=S((h=class{constructor(){_(this,"name",b,this),_(this,"atlasSize",m,this),_(this,"items",p,this),_(this,"layer1MapResPath",v,this),_(this,"layer2MapResPath",g,this),_(this,"maskMapResPath",E,this),_(this,"skinned",y,this),_(this,"usage",T,this)}}).prototype,"name",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),m=S(h.prototype,"atlasSize",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),p=S(h.prototype,"items",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),v=S(h.prototype,"layer1MapResPath",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),g=S(h.prototype,"layer2MapResPath",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),E=S(h.prototype,"maskMapResPath",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),y=S(h.prototype,"skinned",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),T=S(h.prototype,"usage",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),d=h))||d)},"./sof/hull/EveSOFDataHullPlaneSetItem.js":function(e,t,r){"use strict";r.r(t),r.d(t,"EveSOFDataHullPlaneSetItem",(function(){return C}));var i,n,a,o,l,s,u,c,f,d,h,b,m,p,v,g,E,y,T,w,_,S,R,j,O,A=r("./global/index.js");function z(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function P(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var C=(i=A.meta.type("EveSOFDataHullPlaneSetItem",!0),n=A.meta.black.uint,a=A.meta.black.color,o=A.meta.black.uint,l=A.meta.black.vector4,s=A.meta.black.vector4,u=A.meta.black.vector4,c=A.meta.black.vector4,f=A.meta.black.uint,d=A.meta.black.vector3,h=A.meta.black.quaternion,b=A.meta.black.vector3,i((v=P((p=class{constructor(){z(this,"boneIndex",v,this),z(this,"color",g,this),z(this,"groupIndex",E,this),z(this,"layer1Scroll",y,this),z(this,"layer1Transform",T,this),z(this,"layer2Scroll",w,this),z(this,"layer2Transform",_,this),z(this,"maskMapAtlasIndex",S,this),z(this,"position",R,this),z(this,"rotation",j,this),z(this,"scaling",O,this)}}).prototype,"boneIndex",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return-1}}),g=P(p.prototype,"color",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return A.vec4.create()}}),E=P(p.prototype,"groupIndex",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return-1}}),y=P(p.prototype,"layer1Scroll",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return A.vec4.create()}}),T=P(p.prototype,"layer1Transform",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return A.vec4.create()}}),w=P(p.prototype,"layer2Scroll",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return A.vec4.create()}}),_=P(p.prototype,"layer2Transform",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return A.vec4.create()}}),S=P(p.prototype,"maskMapAtlasIndex",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),R=P(p.prototype,"position",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return A.vec3.create()}}),j=P(p.prototype,"rotation",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return A.quat.create()}}),O=P(p.prototype,"scaling",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return A.vec3.fromValues(1,1,1)}}),m=p))||m)},"./sof/hull/EveSOFDataHullSoundEmitter.js":function(e,t,r){"use strict";r.r(t),r.d(t,"EveSOFDataHullSoundEmitter",(function(){return h}));var i,n,a,o,l,s,u,c=r("./global/index.js");function f(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function d(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var h=(i=c.meta.type("EveSOFDataHullSoundEmitter",!0),n=c.meta.black.string,a=c.meta.black.string,i((s=d((l=class{constructor(){f(this,"name",s,this),f(this,"prefix",u,this)}}).prototype,"name",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),u=d(l.prototype,"prefix",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),o=l))||o)},"./sof/hull/EveSOFDataHullSpotlightSet.js":function(e,t,r){"use strict";r.r(t),r.d(t,"EveSOFDataHullSpotlightSet",(function(){return T}));var i,n,a,o,l,s,u,c,f,d,h,b,m,p,v,g=r("./global/index.js");function E(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function y(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var T=(i=g.meta.type("EveSOFDataHullSpotlightSet",!0),n=g.meta.black.string,a=g.meta.black.path,o=g.meta.black.path,l=g.meta.black.listOf("EveSOFDataHullSpotlightSetItem"),s=g.meta.black.boolean,u=g.meta.black.float,i((d=y((f=class{constructor(){E(this,"name",d,this),E(this,"coneTextureResPath",h,this),E(this,"glowTextureResPath",b,this),E(this,"items",m,this),E(this,"skinned",p,this),E(this,"zOffset",v,this)}}).prototype,"name",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),h=y(f.prototype,"coneTextureResPath",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),b=y(f.prototype,"glowTextureResPath",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),m=y(f.prototype,"items",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),p=y(f.prototype,"skinned",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),v=y(f.prototype,"zOffset",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),c=f))||c)},"./sof/hull/EveSOFDataHullSpotlightSetItem.js":function(e,t,r){"use strict";r.r(t),r.d(t,"EveSOFDataHullSpotlightSetItem",(function(){return R}));var i,n,a,o,l,s,u,c,f,d,h,b,m,p,v,g,E,y,T,w=r("./global/index.js");function _(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function S(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var R=(i=w.meta.type("EveSOFDataHullSpotlightSetItem",!0),n=w.meta.black.uint,a=w.meta.black.boolean,o=w.meta.black.float,l=w.meta.black.float,s=w.meta.black.uint,u=w.meta.black.float,c=w.meta.black.vector3,f=w.meta.black.matrix4,i((b=S((h=class{constructor(){_(this,"boneIndex",b,this),_(this,"boosterGainInfluence",m,this),_(this,"coneIntensity",p,this),_(this,"flareIntensity",v,this),_(this,"groupIndex",g,this),_(this,"spriteIntensity",E,this),_(this,"spriteScale",y,this),_(this,"transform",T,this)}}).prototype,"boneIndex",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return-1}}),m=S(h.prototype,"boosterGainInfluence",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),p=S(h.prototype,"coneIntensity",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),v=S(h.prototype,"flareIntensity",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),g=S(h.prototype,"groupIndex",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return-1}}),E=S(h.prototype,"spriteIntensity",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),y=S(h.prototype,"spriteScale",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return w.vec3.fromValues(1,1,1)}}),T=S(h.prototype,"transform",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return w.mat4.create()}}),d=h))||d)},"./sof/hull/EveSOFDataHullSpriteLineSet.js":function(e,t,r){"use strict";r.r(t),r.d(t,"EveSOFDataHullSpriteLineSet",(function(){return v}));var i,n,a,o,l,s,u,c,f,d,h,b=r("./global/index.js");function m(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function p(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var v=(i=b.meta.type("EveSOFDataHullSpriteLineSet",!0),n=b.meta.black.string,a=b.meta.black.listOf("EveSOFDataHullSpriteLineSetItem"),o=b.meta.black.boolean,l=b.meta.black.string,i((c=p((u=class{constructor(){m(this,"name",c,this),m(this,"items",f,this),m(this,"skinned",d,this),m(this,"visibilityGroup",h,this)}}).prototype,"name",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),f=p(u.prototype,"items",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),d=p(u.prototype,"skinned",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),h=p(u.prototype,"visibilityGroup",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),s=u))||s)},"./sof/hull/EveSOFDataHullSpriteLineSetItem.js":function(e,t,r){"use strict";r.r(t),r.d(t,"EveSOFDataHullSpriteLineSetItem",(function(){return k}));var i,n,a,o,l,s,u,c,f,d,h,b,m,p,v,g,E,y,T,w,_,S,R,j,O,A,z,P,C,D,I,x,L,M=r("./global/index.js");function F(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function G(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var k=(i=M.meta.type("EveSOFDataHullSpriteLineSetItem",!0),n=M.meta.black.float,a=M.meta.black.float,o=M.meta.black.float,l=M.meta.black.uint,s=M.meta.black.uint,u=M.meta.black.float,c=M.meta.black.uint,f=M.meta.black.float,d=M.meta.black.boolean,h=M.meta.black.float,b=M.meta.black.float,m=M.meta.black.vector3,p=M.meta.black.quaternion,v=M.meta.black.vector3,g=M.meta.black.float,i((T=G((y=class{constructor(){F(this,"blinkPhase",T,this),F(this,"blinkPhaseShift",w,this),F(this,"blinkRate",_,this),F(this,"boneIndex",S,this),F(this,"colorType",R,this),F(this,"falloff",j,this),F(this,"groupIndex",O,this),F(this,"intensity",A,this),F(this,"isCircle",z,this),F(this,"maxScale",P,this),F(this,"minScale",C,this),F(this,"position",D,this),F(this,"rotation",I,this),F(this,"scaling",x,this),F(this,"spacing",L,this)}}).prototype,"blinkPhase",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),w=G(y.prototype,"blinkPhaseShift",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),_=G(y.prototype,"blinkRate",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),S=G(y.prototype,"boneIndex",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return-1}}),R=G(y.prototype,"colorType",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),j=G(y.prototype,"falloff",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),O=G(y.prototype,"groupIndex",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return-1}}),A=G(y.prototype,"intensity",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),z=G(y.prototype,"isCircle",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),P=G(y.prototype,"maxScale",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),C=G(y.prototype,"minScale",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),D=G(y.prototype,"position",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return M.vec3.create()}}),I=G(y.prototype,"rotation",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return M.quat.create()}}),x=G(y.prototype,"scaling",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return M.vec3.fromValues(1,1,1)}}),L=G(y.prototype,"spacing",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),E=y))||E)},"./sof/hull/EveSOFDataHullSpriteSet.js":function(e,t,r){"use strict";r.r(t),r.d(t,"EveSOFDataHullSpriteSet",(function(){return v}));var i,n,a,o,l,s,u,c,f,d,h,b=r("./global/index.js");function m(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function p(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var v=(i=b.meta.type("EveSOFDataHullSpriteSet",!0),n=b.meta.black.string,a=b.meta.black.listOf("EveSOFDataHullSpriteSetItem"),o=b.meta.black.boolean,l=b.meta.black.string,i((c=p((u=class{constructor(){m(this,"name",c,this),m(this,"items",f,this),m(this,"skinned",d,this),m(this,"visibilityGroup",h,this)}}).prototype,"name",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),f=p(u.prototype,"items",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),d=p(u.prototype,"skinned",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),h=p(u.prototype,"visibilityGroup",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),s=u))||s)},"./sof/hull/EveSOFDataHullSpriteSetItem.js":function(e,t,r){"use strict";r.r(t),r.d(t,"EveSOFDataHullSpriteSetItem",(function(){return z}));var i,n,a,o,l,s,u,c,f,d,h,b,m,p,v,g,E,y,T,w,_,S,R,j=r("./global/index.js");function O(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function A(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var z=(i=j.meta.type("EveSOFDataHullSpriteSetItem",!0),n=j.meta.black.float,a=j.meta.black.float,o=j.meta.black.uint,l=j.meta.black.uint,s=j.meta.black.float,u=j.meta.black.uint,c=j.meta.black.float,f=j.meta.black.float,d=j.meta.black.float,h=j.meta.black.vector3,i((p=A((m=class{constructor(){O(this,"blinkPhase",p,this),O(this,"blinkRate",v,this),O(this,"boneIndex",g,this),O(this,"colorType",E,this),O(this,"falloff",y,this),O(this,"groupIndex",T,this),O(this,"intensity",w,this),O(this,"maxScale",_,this),O(this,"minScale",S,this),O(this,"position",R,this)}}).prototype,"blinkPhase",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),v=A(m.prototype,"blinkRate",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),g=A(m.prototype,"boneIndex",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return-1}}),E=A(m.prototype,"colorType",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),y=A(m.prototype,"falloff",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),T=A(m.prototype,"groupIndex",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return-1}}),w=A(m.prototype,"intensity",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),_=A(m.prototype,"maxScale",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),S=A(m.prototype,"minScale",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),R=A(m.prototype,"position",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return j.vec3.create()}}),b=m))||b)},"./sof/hull/index.js":function(e,t,r){"use strict";r.r(t);var i=r("./sof/hull/EveSOFDataHull.js");r.d(t,"EveSOFDataHull",(function(){return i.EveSOFDataHull}));var n=r("./sof/hull/EveSOFDataHullAnimation.js");r.d(t,"EveSOFDataHullAnimation",(function(){return n.EveSOFDataHullAnimation}));var a=r("./sof/hull/EveSOFDataHullArea.js");r.d(t,"EveSOFDataHullArea",(function(){return a.EveSOFDataHullArea}));var o=r("./sof/hull/EveSOFDataHullBanner.js");r.d(t,"EveSOFDataHullBanner",(function(){return o.EveSOFDataHullBanner}));var l=r("./sof/hull/EveSOFDataHullBannerLight.js");r.d(t,"EveSOFDataHullBannerLight",(function(){return l.EveSOFDataHullBannerLight}));var s=r("./sof/hull/EveSOFDataHullBooster.js");r.d(t,"EveSOFDataHullBooster",(function(){return s.EveSOFDataHullBooster}));var u=r("./sof/hull/EveSOFDataHullBoosterItem.js");r.d(t,"EveSOFDataHullBoosterItem",(function(){return u.EveSOFDataHullBoosterItem}));var c=r("./sof/hull/EveSOFDataHullChild.js");r.d(t,"EveSOFDataHullChild",(function(){return c.EveSOFDataHullChild}));var f=r("./sof/hull/EveSOFDataHullController.js");r.d(t,"EveSOFDataHullController",(function(){return f.EveSOFDataHullController}));var d=r("./sof/hull/EveSOFDataHullDecalSet.js");r.d(t,"EveSOFDataHullDecalSet",(function(){return d.EveSOFDataHullDecalSet}));var h=r("./sof/hull/EveSOFDataHullDecalSetItem.js");r.d(t,"EveSOFDataHullDecalSetItem",(function(){return h.EveSOFDataHullDecalSetItem}));var b=r("./sof/hull/EveSOFDataHullHazeSet.js");r.d(t,"EveSOFDataHullHazeSet",(function(){return b.EveSOFDataHullHazeSet}));var m=r("./sof/hull/EveSOFDataHullHazeSetItem.js");r.d(t,"EveSOFDataHullHazeSetItem",(function(){return m.EveSOFDataHullHazeSetItem}));var p=r("./sof/hull/EveSOFDataHullLightSet.js");r.d(t,"EveSOFDataHullLightSet",(function(){return p.EveSOFDataHullLightSet}));var v=r("./sof/hull/EveSOFDataHullLightSetItem.js");r.d(t,"EveSOFDataHullLightSetItem",(function(){return v.EveSOFDataHullLightSetItem}));var g=r("./sof/hull/EveSOFDataHullLightSetSpotLight.js");r.d(t,"EveSOFDataHullLightSetSpotLight",(function(){return g.EveSOFDataHullLightSetSpotLight}));var E=r("./sof/hull/EveSOFDataHullLightSetTexturedPointLight.js");r.d(t,"EveSOFDataHullLightSetTexturedPointLight",(function(){return E.EveSOFDataHullLightSetTexturedPointLight}));var y=r("./sof/hull/EveSOFDataHullLocator.js");r.d(t,"EveSOFDataHullLocator",(function(){return y.EveSOFDataHullLocator}));var T=r("./sof/hull/EveSOFDataHullLocatorSet.js");r.d(t,"EveSOFDataHullLocatorSet",(function(){return T.EveSOFDataHullLocatorSet}));var w=r("./sof/hull/EveSOFDataHullPlaneSet.js");r.d(t,"EveSOFDataHullPlaneSet",(function(){return w.EveSOFDataHullPlaneSet}));var _=r("./sof/hull/EveSOFDataHullPlaneSetItem.js");r.d(t,"EveSOFDataHullPlaneSetItem",(function(){return _.EveSOFDataHullPlaneSetItem}));var S=r("./sof/hull/EveSOFDataHullSoundEmitter.js");r.d(t,"EveSOFDataHullSoundEmitter",(function(){return S.EveSOFDataHullSoundEmitter}));var R=r("./sof/hull/EveSOFDataHullSpotlightSet.js");r.d(t,"EveSOFDataHullSpotlightSet",(function(){return R.EveSOFDataHullSpotlightSet}));var j=r("./sof/hull/EveSOFDataHullSpotlightSetItem.js");r.d(t,"EveSOFDataHullSpotlightSetItem",(function(){return j.EveSOFDataHullSpotlightSetItem}));var O=r("./sof/hull/EveSOFDataHullSpriteLineSet.js");r.d(t,"EveSOFDataHullSpriteLineSet",(function(){return O.EveSOFDataHullSpriteLineSet}));var A=r("./sof/hull/EveSOFDataHullSpriteLineSetItem.js");r.d(t,"EveSOFDataHullSpriteLineSetItem",(function(){return A.EveSOFDataHullSpriteLineSetItem}));var z=r("./sof/hull/EveSOFDataHullSpriteSet.js");r.d(t,"EveSOFDataHullSpriteSet",(function(){return z.EveSOFDataHullSpriteSet}));var P=r("./sof/hull/EveSOFDataHullSpriteSetItem.js");r.d(t,"EveSOFDataHullSpriteSetItem",(function(){return P.EveSOFDataHullSpriteSetItem}))},"./sof/index.js":function(e,t,r){"use strict";r.r(t);var i=r("./sof/faction/index.js");r.d(t,"EveSOFDataFaction",(function(){return i.EveSOFDataFaction})),r.d(t,"EveSOFDataFactionChild",(function(){return i.EveSOFDataFactionChild})),r.d(t,"EveSOFDataFactionColorSet",(function(){return i.EveSOFDataFactionColorSet})),r.d(t,"EveSOFDataFactionPlaneSet",(function(){return i.EveSOFDataFactionPlaneSet})),r.d(t,"EveSOFDataFactionSpotlightSet",(function(){return i.EveSOFDataFactionSpotlightSet})),r.d(t,"EveSOFDataFactionVisibilityGroupSet",(function(){return i.EveSOFDataFactionVisibilityGroupSet}));var n=r("./sof/generic/index.js");r.d(t,"EveSOFDataGeneric",(function(){return n.EveSOFDataGeneric})),r.d(t,"ErrSOFAreaShaderNotFound",(function(){return n.ErrSOFAreaShaderNotFound})),r.d(t,"ErrSOFDecalShaderNotFound",(function(){return n.ErrSOFDecalShaderNotFound})),r.d(t,"ErrSOFMaterialPrefixNotFound",(function(){return n.ErrSOFMaterialPrefixNotFound})),r.d(t,"ErrSOFPatternMaterialPrefixNotFound",(function(){return n.ErrSOFPatternMaterialPrefixNotFound})),r.d(t,"EveSOFDataGenericDamage",(function(){return n.EveSOFDataGenericDamage})),r.d(t,"EveSOFDataGenericDecalShader",(function(){return n.EveSOFDataGenericDecalShader})),r.d(t,"EveSOFDataGenericHullDamage",(function(){return n.EveSOFDataGenericHullDamage})),r.d(t,"EveSOFDataGenericShader",(function(){return n.EveSOFDataGenericShader})),r.d(t,"EveSOFDataGenericString",(function(){return n.EveSOFDataGenericString})),r.d(t,"EveSOFDataGenericSwarm",(function(){return n.EveSOFDataGenericSwarm})),r.d(t,"EveSOFDataGenericVariant",(function(){return n.EveSOFDataGenericVariant}));var a=r("./sof/hull/index.js");r.d(t,"EveSOFDataHull",(function(){return a.EveSOFDataHull})),r.d(t,"EveSOFDataHullAnimation",(function(){return a.EveSOFDataHullAnimation})),r.d(t,"EveSOFDataHullArea",(function(){return a.EveSOFDataHullArea})),r.d(t,"EveSOFDataHullBanner",(function(){return a.EveSOFDataHullBanner})),r.d(t,"EveSOFDataHullBannerLight",(function(){return a.EveSOFDataHullBannerLight})),r.d(t,"EveSOFDataHullBooster",(function(){return a.EveSOFDataHullBooster})),r.d(t,"EveSOFDataHullBoosterItem",(function(){return a.EveSOFDataHullBoosterItem})),r.d(t,"EveSOFDataHullChild",(function(){return a.EveSOFDataHullChild})),r.d(t,"EveSOFDataHullController",(function(){return a.EveSOFDataHullController})),r.d(t,"EveSOFDataHullDecalSet",(function(){return a.EveSOFDataHullDecalSet})),r.d(t,"EveSOFDataHullDecalSetItem",(function(){return a.EveSOFDataHullDecalSetItem})),r.d(t,"EveSOFDataHullHazeSet",(function(){return a.EveSOFDataHullHazeSet})),r.d(t,"EveSOFDataHullHazeSetItem",(function(){return a.EveSOFDataHullHazeSetItem})),r.d(t,"EveSOFDataHullLightSet",(function(){return a.EveSOFDataHullLightSet})),r.d(t,"EveSOFDataHullLightSetItem",(function(){return a.EveSOFDataHullLightSetItem})),r.d(t,"EveSOFDataHullLightSetSpotLight",(function(){return a.EveSOFDataHullLightSetSpotLight})),r.d(t,"EveSOFDataHullLightSetTexturedPointLight",(function(){return a.EveSOFDataHullLightSetTexturedPointLight})),r.d(t,"EveSOFDataHullLocator",(function(){return a.EveSOFDataHullLocator})),r.d(t,"EveSOFDataHullLocatorSet",(function(){return a.EveSOFDataHullLocatorSet})),r.d(t,"EveSOFDataHullPlaneSet",(function(){return a.EveSOFDataHullPlaneSet})),r.d(t,"EveSOFDataHullPlaneSetItem",(function(){return a.EveSOFDataHullPlaneSetItem})),r.d(t,"EveSOFDataHullSoundEmitter",(function(){return a.EveSOFDataHullSoundEmitter})),r.d(t,"EveSOFDataHullSpotlightSet",(function(){return a.EveSOFDataHullSpotlightSet})),r.d(t,"EveSOFDataHullSpotlightSetItem",(function(){return a.EveSOFDataHullSpotlightSetItem})),r.d(t,"EveSOFDataHullSpriteLineSet",(function(){return a.EveSOFDataHullSpriteLineSet})),r.d(t,"EveSOFDataHullSpriteLineSetItem",(function(){return a.EveSOFDataHullSpriteLineSetItem})),r.d(t,"EveSOFDataHullSpriteSet",(function(){return a.EveSOFDataHullSpriteSet})),r.d(t,"EveSOFDataHullSpriteSetItem",(function(){return a.EveSOFDataHullSpriteSetItem}));var o=r("./sof/pattern/index.js");r.d(t,"EveSOFDataPattern",(function(){return o.EveSOFDataPattern})),r.d(t,"ErrSOFProjectionNotFound",(function(){return o.ErrSOFProjectionNotFound})),r.d(t,"EveSOFDataPatternLayer",(function(){return o.EveSOFDataPatternLayer})),r.d(t,"EveSOFDataPatternPerHull",(function(){return o.EveSOFDataPatternPerHull})),r.d(t,"EveSOFDataPatternTransform",(function(){return o.EveSOFDataPatternTransform}));var l=r("./sof/race/index.js");r.d(t,"EveSOFDataRace",(function(){return l.EveSOFDataRace})),r.d(t,"EveSOFDataRaceDamage",(function(){return l.EveSOFDataRaceDamage}));var s=r("./sof/shared/index.js");r.d(t,"EveSOFDataArea",(function(){return s.EveSOFDataArea})),r.d(t,"EveSOFDataAreaMaterial",(function(){return s.EveSOFDataAreaMaterial})),r.d(t,"EveSOFDataBooster",(function(){return s.EveSOFDataBooster})),r.d(t,"EveSOFDataBoosterShape",(function(){return s.EveSOFDataBoosterShape})),r.d(t,"EveSOFDataInstancedMesh",(function(){return s.EveSOFDataInstancedMesh})),r.d(t,"EveSOFDataLogo",(function(){return s.EveSOFDataLogo})),r.d(t,"EveSOFDataLogoSet",(function(){return s.EveSOFDataLogoSet})),r.d(t,"EveSOFDataMaterial",(function(){return s.EveSOFDataMaterial})),r.d(t,"EveSOFDataParameter",(function(){return s.EveSOFDataParameter})),r.d(t,"EveSOFDataTexture",(function(){return s.EveSOFDataTexture})),r.d(t,"EveSOFDataTransform",(function(){return s.EveSOFDataTransform}));var u=r("./sof/EveSOFData.js");r.d(t,"EveSOFData",(function(){return u.EveSOFData}));var c=r("./sof/EveSOF.js");r.d(t,"EveSOF",(function(){return c.EveSOF}))},"./sof/pattern/EveSOFDataPattern.js":function(e,t,r){"use strict";r.r(t),r.d(t,"EveSOFDataPattern",(function(){return g})),r.d(t,"ErrSOFProjectionNotFound",(function(){return E}));var i,n,a,o,l,s,u,c,f,d,h,b=r("./global/index.js"),m=r("./core/index.js");function p(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function v(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var g=(i=b.meta.type("EveSOFDataPattern",!0),n=b.meta.black.string,a=b.meta.black.objectOf("EveSOFDataPatternLayer"),o=b.meta.black.objectOf("EveSOFDataPatternLayer"),l=b.meta.black.listOf("EveSOFDataPatternPerHull"),i((c=v((u=class{constructor(){p(this,"name",c,this),p(this,"layer1",f,this),p(this,"layer2",d,this),p(this,"projections",h,this)}GetHullPattern(e){var t=this.GetProjection(e);return{name:this.name,layer1:this.layer1,layer2:this.layer2,transformLayer1:t.transformLayer1,transformLayer2:t.transformLayer2}}HasProjection(e){return!!b.util.findElementByPropertyValue(this.projections,"name",e)}GetProjection(e){for(var t=0;t<this.projections.length;t++)if(this.projections[t].name===e)return this.projections[t];throw new E({pattern:this.name,projection:e})}}).prototype,"name",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),f=v(u.prototype,"layer1",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),d=v(u.prototype,"layer2",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),h=v(u.prototype,"projections",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),s=u))||s);class E extends m.Tw2Error{constructor(e){super(e,"SOF Pattern projection '%projection%' not found for pattern '%pattern%'")}}},"./sof/pattern/EveSOFDataPatternLayer.js":function(e,t,r){"use strict";r.r(t),r.d(t,"EveSOFDataPatternLayer",(function(){return O}));var i,n,a,o,l,s,u,c,f,d,h,b,m,p,v,g,E,y,T,w,_,S=r("./global/index.js");function R(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function j(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var O=(i=S.meta.type("EveSOFDataPatternLayer",!0),n=S.meta.black.boolean,a=S.meta.black.boolean,o=S.meta.black.boolean,l=S.meta.black.boolean,s=S.meta.black.uint,u=S.meta.black.uint,c=S.meta.black.uint,f=S.meta.black.string,d=S.meta.black.path,i((m=j((b=class{constructor(){R(this,"isTargetMtl1",m,this),R(this,"isTargetMtl2",p,this),R(this,"isTargetMtl3",v,this),R(this,"isTargetMtl4",g,this),R(this,"materialSource",E,this),R(this,"projectionTypeU",y,this),R(this,"projectionTypeV",T,this),R(this,"textureName",w,this),R(this,"textureResFilePath",_,this)}static ToAddress(e){switch(e){case 2:return 4;case 1:return 3;default:return 1}}static FromProjection(e){switch(e){case 4:return 2;case 3:return 1;default:return 0}}}).prototype,"isTargetMtl1",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),p=j(b.prototype,"isTargetMtl2",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),v=j(b.prototype,"isTargetMtl3",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),g=j(b.prototype,"isTargetMtl4",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),E=j(b.prototype,"materialSource",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),y=j(b.prototype,"projectionTypeU",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),T=j(b.prototype,"projectionTypeV",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),w=j(b.prototype,"textureName",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),_=j(b.prototype,"textureResFilePath",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),h=b))||h)},"./sof/pattern/EveSOFDataPatternPerHull.js":function(e,t,r){"use strict";r.r(t),r.d(t,"EveSOFDataPatternPerHull",(function(){return m}));var i,n,a,o,l,s,u,c,f,d=r("./global/index.js");function h(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function b(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var m=(i=d.meta.type("EveSOFDataPatternPerHull",!0),n=d.meta.black.string,a=d.meta.black.objectOf("EveSOFDataPatternTransform"),o=d.meta.black.objectOf("EveSOFDataPatternTransform"),i((u=b((s=class{constructor(){h(this,"name",u,this),h(this,"transformLayer1",c,this),h(this,"transformLayer2",f,this)}AssignTransforms(e=[]){return this.transformLayer1&&(e[0]=this.transformLayer1.Reduce()),this.transformLayer2&&(e[1]=this.transformLayer2.Reduce()),e}}).prototype,"name",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),c=b(s.prototype,"transformLayer1",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),f=b(s.prototype,"transformLayer2",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),l=s))||l)},"./sof/pattern/EveSOFDataPatternTransform.js":function(e,t,r){"use strict";r.r(t),r.d(t,"EveSOFDataPatternTransform",(function(){return v}));var i,n,a,o,l,s,u,c,f,d,h,b=r("./global/index.js");function m(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function p(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var v=(i=b.meta.type("EveSOFDataPatternTransform",!0),n=b.meta.black.boolean,a=b.meta.black.vector3,o=b.meta.black.quaternion,l=b.meta.black.vector3,i((c=p((u=class{constructor(){m(this,"isMirrored",c,this),m(this,"position",f,this),m(this,"rotation",d,this),m(this,"scaling",h,this)}}).prototype,"isMirrored",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),f=p(u.prototype,"position",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return b.vec3.create()}}),d=p(u.prototype,"rotation",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return b.quat.create()}}),h=p(u.prototype,"scaling",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return b.vec3.fromValues(1,1,1)}}),s=u))||s)},"./sof/pattern/index.js":function(e,t,r){"use strict";r.r(t);var i=r("./sof/pattern/EveSOFDataPattern.js");r.d(t,"EveSOFDataPattern",(function(){return i.EveSOFDataPattern})),r.d(t,"ErrSOFProjectionNotFound",(function(){return i.ErrSOFProjectionNotFound}));var n=r("./sof/pattern/EveSOFDataPatternLayer.js");r.d(t,"EveSOFDataPatternLayer",(function(){return n.EveSOFDataPatternLayer}));var a=r("./sof/pattern/EveSOFDataPatternPerHull.js");r.d(t,"EveSOFDataPatternPerHull",(function(){return a.EveSOFDataPatternPerHull}));var o=r("./sof/pattern/EveSOFDataPatternTransform.js");r.d(t,"EveSOFDataPatternTransform",(function(){return o.EveSOFDataPatternTransform}))},"./sof/race/EveSOFDataRace.js":function(e,t,r){"use strict";r.r(t),r.d(t,"EveSOFDataRace",(function(){return m}));var i,n,a,o,l,s,u,c,f,d=r("./global/index.js");function h(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function b(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var m=(i=d.meta.type("EveSOFDataRace",!0),n=d.meta.black.string,a=d.meta.black.objectOf("EveSOFDataBooster"),o=d.meta.black.objectOf("EveSOFDataRaceDamage"),i((u=b((s=class{constructor(){h(this,"name",u,this),h(this,"booster",c,this),h(this,"damage",f,this)}}).prototype,"name",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),c=b(s.prototype,"booster",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),f=b(s.prototype,"damage",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),l=s))||l)},"./sof/race/EveSOFDataRaceDamage.js":function(e,t,r){"use strict";r.r(t),r.d(t,"EveSOFDataRaceDamage",(function(){return v}));var i,n,a,o,l,s,u,c,f,d,h,b=r("./global/index.js");function m(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function p(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var v=(i=b.meta.type("EveSOFDataRaceDamage",!0),n=b.meta.black.listOf("EveSOFDataParameter"),a=b.meta.black.listOf("EveSOFDataTexture"),o=b.meta.black.listOf("EveSOFDataParameter"),l=b.meta.black.listOf("EveSOFDataTexture"),i((c=p((u=class{constructor(){m(this,"armorImpactParameters",c,this),m(this,"armorImpactTextures",f,this),m(this,"shieldImpactParameters",d,this),m(this,"shieldImpactTextures",h,this)}}).prototype,"armorImpactParameters",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),f=p(u.prototype,"armorImpactTextures",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),d=p(u.prototype,"shieldImpactParameters",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),h=p(u.prototype,"shieldImpactTextures",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),s=u))||s)},"./sof/race/index.js":function(e,t,r){"use strict";r.r(t);var i=r("./sof/race/EveSOFDataRace.js");r.d(t,"EveSOFDataRace",(function(){return i.EveSOFDataRace}));var n=r("./sof/race/EveSOFDataRaceDamage.js");r.d(t,"EveSOFDataRaceDamage",(function(){return n.EveSOFDataRaceDamage}))},"./sof/shared/EveSOFDataArea.js":function(e,t,r){"use strict";r.r(t),r.d(t,"EveSOFDataArea",(function(){return Z}));var i,n,a,o,l,s,u,c,f,d,h,b,m,p,v,g,E,y,T,w,_,S,R,j,O,A,z,P,C,D,I,x,L,M,F,G,k,N,B,U,V,H,q,W,Y,X=r("./global/index.js");function K(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function Q(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var Z=(i=X.meta.type("EveSOFDataArea",!0),n=X.meta.black.objectOf("EveSOFDataAreaMaterial"),a=X.meta.black.objectOf("EveSOFDataAreaMaterial"),o=X.meta.black.objectOf("EveSOFDataAreaMaterial"),l=X.meta.black.objectOf("EveSOFDataAreaMaterial"),s=X.meta.black.objectOf("EveSOFDataAreaMaterial"),u=X.meta.black.objectOf("EveSOFDataAreaMaterial"),c=X.meta.black.objectOf("EveSOFDataAreaMaterial"),f=X.meta.black.objectOf("EveSOFDataAreaMaterial"),d=X.meta.black.objectOf("EveSOFDataAreaMaterial"),h=X.meta.black.objectOf("EveSOFDataAreaMaterial"),b=X.meta.black.objectOf("EveSOFDataAreaMaterial"),m=X.meta.black.objectOf("EveSOFDataAreaMaterial"),p=X.meta.black.objectOf("EveSOFDataAreaMaterial"),v=X.meta.black.objectOf("EveSOFDataAreaMaterial"),g=X.meta.black.objectOf("EveSOFDataAreaMaterial"),E=X.meta.black.objectOf("EveSOFDataAreaMaterial"),y=X.meta.black.objectOf("EveSOFDataAreaMaterial"),T=X.meta.black.objectOf("EveSOFDataAreaMaterial"),w=X.meta.black.objectOf("EveSOFDataAreaMaterial"),_=X.meta.black.objectOf("EveSOFDataAreaMaterial"),S=X.meta.black.objectOf("EveSOFDataAreaMaterial"),i((O=Q((j=class{constructor(){K(this,"Black",O,this),K(this,"Blue",A,this),K(this,"Booster",z,this),K(this,"Cyan",P,this),K(this,"Darkhull",C,this),K(this,"Fire",D,this),K(this,"Glass",I,this),K(this,"Green",x,this),K(this,"Hull",L,this),K(this,"Killmark",M,this),K(this,"Monument",F,this),K(this,"Orange",G,this),K(this,"Primary",k,this),K(this,"Reactor",N,this),K(this,"Red",B,this),K(this,"Rock",U,this),K(this,"Sails",V,this),K(this,"Secondary",H,this),K(this,"Tertiary",q,this),K(this,"White",W,this),K(this,"Yellow",Y,this)}Get(e){return 0===e.indexOf("area_")&&(e=e.substring(5)),(e=e.charAt(0).toUpperCase()+e.substring(1).toLowerCase())in this?this[e]:null}}).prototype,"Black",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),A=Q(j.prototype,"Blue",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),z=Q(j.prototype,"Booster",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),P=Q(j.prototype,"Cyan",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),C=Q(j.prototype,"Darkhull",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),D=Q(j.prototype,"Fire",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),I=Q(j.prototype,"Glass",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),x=Q(j.prototype,"Green",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),L=Q(j.prototype,"Hull",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),M=Q(j.prototype,"Killmark",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),F=Q(j.prototype,"Monument",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),G=Q(j.prototype,"Orange",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),k=Q(j.prototype,"Primary",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),N=Q(j.prototype,"Reactor",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),B=Q(j.prototype,"Red",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),U=Q(j.prototype,"Rock",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),V=Q(j.prototype,"Sails",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),H=Q(j.prototype,"Secondary",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),q=Q(j.prototype,"Tertiary",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),W=Q(j.prototype,"White",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Y=Q(j.prototype,"Yellow",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),R=j))||R)},"./sof/shared/EveSOFDataAreaMaterial.js":function(e,t,r){"use strict";r.r(t),r.d(t,"EveSOFDataAreaMaterial",(function(){return E}));var i,n,a,o,l,s,u,c,f,d,h,b,m,p=r("./global/index.js");function v(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function g(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var E=(i=p.meta.type("EveSOFDataAreaMaterial",!0),n=p.meta.black.uint,a=p.meta.black.string,o=p.meta.black.string,l=p.meta.black.string,s=p.meta.black.string,i((f=g((c=class{constructor(){v(this,"colorType",f,this),v(this,"material1",d,this),v(this,"material2",h,this),v(this,"material3",b,this),v(this,"material4",m,this)}}).prototype,"colorType",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),d=g(c.prototype,"material1",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),h=g(c.prototype,"material2",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),b=g(c.prototype,"material3",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),m=g(c.prototype,"material4",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),u=c))||u)},"./sof/shared/EveSOFDataBooster.js":function(e,t,r){"use strict";r.r(t),r.d(t,"EveSOFDataBooster",(function(){return le}));var i,n,a,o,l,s,u,c,f,d,h,b,m,p,v,g,E,y,T,w,_,S,R,j,O,A,z,P,C,D,I,x,L,M,F,G,k,N,B,U,V,H,q,W,Y,X,K,Q,Z,$,J,ee,te,re,ie,ne=r("./global/index.js");function ae(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function oe(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var le=(i=ne.meta.type("EveSOFDataBooster",!0),n=ne.meta.black.color,a=ne.meta.black.float,o=ne.meta.black.path,l=ne.meta.black.path,s=ne.meta.black.color,u=ne.meta.black.float,c=ne.meta.black.float,f=ne.meta.black.color,d=ne.meta.black.float,h=ne.meta.black.float,b=ne.meta.black.float,m=ne.meta.black.color,p=ne.meta.black.float,v=ne.meta.black.objectOf("EveSOFDataBoosterShape"),g=ne.meta.black.objectOf("EveSOFDataBoosterShape"),E=ne.meta.black.uint,y=ne.meta.black.uint,T=ne.meta.black.path,w=ne.meta.black.uint,_=ne.meta.black.float,S=ne.meta.black.color,R=ne.meta.black.vector4,j=ne.meta.black.color,O=ne.meta.black.color,A=ne.meta.black.objectOf("EveSOFDataBoosterShape"),z=ne.meta.black.objectOf("EveSOFDataBoosterShape"),i((D=oe((C=class{constructor(){ae(this,"glowColor",D,this),ae(this,"glowScale",I,this),ae(this,"gradient0ResPath",x,this),ae(this,"gradient1ResPath",L,this),ae(this,"haloColor",M,this),ae(this,"haloScaleX",F,this),ae(this,"haloScaleY",G,this),ae(this,"lightColor",k,this),ae(this,"lightFlickerAmplitude",N,this),ae(this,"lightFlickerFrequency",B,this),ae(this,"lightRadius",U,this),ae(this,"lightWarpColor",V,this),ae(this,"lightWarpRadius",H,this),ae(this,"shape0",q,this),ae(this,"shape1",W,this),ae(this,"shapeAtlasCount",Y,this),ae(this,"shapeAtlasHeight",X,this),ae(this,"shapeAtlasResPath",K,this),ae(this,"shapeAtlasWidth",Q,this),ae(this,"symHaloScale",Z,this),ae(this,"trailColor",$,this),ae(this,"trailSize",J,this),ae(this,"warpGlowColor",ee,this),ae(this,"warpHalpColor",te,this),ae(this,"warpShape0",re,this),ae(this,"warpShape1",ie,this)}get warpHaloColor(){return this.warpHalpColor}set warpHaloColor(e){this.warpHalpColor=e}}).prototype,"glowColor",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return ne.vec4.create()}}),I=oe(C.prototype,"glowScale",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),x=oe(C.prototype,"gradient0ResPath",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),L=oe(C.prototype,"gradient1ResPath",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),M=oe(C.prototype,"haloColor",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return ne.vec4.create()}}),F=oe(C.prototype,"haloScaleX",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),G=oe(C.prototype,"haloScaleY",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),k=oe(C.prototype,"lightColor",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return ne.vec4.create()}}),N=oe(C.prototype,"lightFlickerAmplitude",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),B=oe(C.prototype,"lightFlickerFrequency",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),U=oe(C.prototype,"lightRadius",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),V=oe(C.prototype,"lightWarpColor",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return ne.vec4.create()}}),H=oe(C.prototype,"lightWarpRadius",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),q=oe(C.prototype,"shape0",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),W=oe(C.prototype,"shape1",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Y=oe(C.prototype,"shapeAtlasCount",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),X=oe(C.prototype,"shapeAtlasHeight",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),K=oe(C.prototype,"shapeAtlasResPath",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),Q=oe(C.prototype,"shapeAtlasWidth",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Z=oe(C.prototype,"symHaloScale",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),$=oe(C.prototype,"trailColor",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return ne.vec4.create()}}),J=oe(C.prototype,"trailSize",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return ne.vec4.create()}}),ee=oe(C.prototype,"warpGlowColor",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return ne.vec4.create()}}),te=oe(C.prototype,"warpHalpColor",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return ne.vec4.create()}}),re=oe(C.prototype,"warpShape0",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ie=oe(C.prototype,"warpShape1",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),P=C))||P)},"./sof/shared/EveSOFDataBoosterShape.js":function(e,t,r){"use strict";r.r(t),r.d(t,"EveSOFDataBoosterShape",(function(){return T}));var i,n,a,o,l,s,u,c,f,d,h,b,m,p,v,g=r("./global/index.js");function E(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function y(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var T=(i=g.meta.type("EveSOFDataBoosterShape"),n=g.meta.black.color,a=g.meta.black.vector4,o=g.meta.black.vector4,l=g.meta.black.vector4,s=g.meta.black.float,u=g.meta.black.float,i((d=y((f=class{constructor(){E(this,"color",d,this),E(this,"noiseAmplitureEnd",h,this),E(this,"noiseAmplitureStart",b,this),E(this,"noiseFrequency",m,this),E(this,"noiseFunction",p,this),E(this,"noiseSpeed",v,this)}}).prototype,"color",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return g.vec4.create()}}),h=y(f.prototype,"noiseAmplitureEnd",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return g.vec4.create()}}),b=y(f.prototype,"noiseAmplitureStart",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return g.vec4.create()}}),m=y(f.prototype,"noiseFrequency",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return g.vec4.create()}}),p=y(f.prototype,"noiseFunction",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),v=y(f.prototype,"noiseSpeed",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),c=f))||c)},"./sof/shared/EveSOFDataInstancedMesh.js":function(e,t,r){"use strict";r.r(t),r.d(t,"EveSOFDataInstancedMesh",(function(){return w}));var i,n,a,o,l,s,u,c,f,d,h,b,m,p,v,g=r("./global/index.js");function E(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function y(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}class T{constructor(e){this.data=e}static blackStruct(e){return new T([e.ReadF32(),e.ReadF32(),e.ReadF32(),e.ReadF32(),e.ReadF32(),e.ReadF32(),e.ReadF32(),e.ReadF32(),e.ReadF32(),e.ReadF32(),e.ReadF32()])}}var w=(i=g.meta.type("EveSOFDataInstancedMesh",!0),n=g.meta.black.string,a=g.meta.black.path,o=g.meta.black.struct([T]),l=g.meta.black.uint,s=g.meta.black.string,u=g.meta.black.listOf("EveSOFDataTexture"),i((d=y((f=class{constructor(){E(this,"name",d,this),E(this,"geometryResPath",h,this),E(this,"instances",b,this),E(this,"lowestLodVisible",m,this),E(this,"shader",p,this),E(this,"textures",v,this)}}).prototype,"name",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),h=y(f.prototype,"geometryResPath",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),b=y(f.prototype,"instances",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),m=y(f.prototype,"lowestLodVisible",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),p=y(f.prototype,"shader",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),v=y(f.prototype,"textures",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),c=f))||c)},"./sof/shared/EveSOFDataLogo.js":function(e,t,r){"use strict";r.r(t),r.d(t,"EveSOFDataLogo",(function(){return p}));var i,n,a,o,l,s,u=r("./global/index.js");var c,f,d,h,b,m,p=(i=u.meta.type("EveSOFDataLogo",!0),n=u.meta.black.listOf("EveSOFDataTexture"),i((s=class{constructor(){var e,t,r,i;e=this,t="textures",i=this,(r=l)&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}},c=(o=s).prototype,f="textures",d=[n],h={configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}},m={},Object.keys(h).forEach((function(e){m[e]=h[e]})),m.enumerable=!!m.enumerable,m.configurable=!!m.configurable,("value"in m||m.initializer)&&(m.writable=!0),m=d.slice().reverse().reduce((function(e,t){return t(c,f,e)||e}),m),b&&void 0!==m.initializer&&(m.value=m.initializer?m.initializer.call(b):void 0,m.initializer=void 0),void 0===m.initializer&&(Object.defineProperty(c,f,m),m=null),l=m,a=o))||a)},"./sof/shared/EveSOFDataLogoSet.js":function(e,t,r){"use strict";r.r(t),r.d(t,"EveSOFDataLogoSet",(function(){return E}));var i,n,a,o,l,s,u,c,f,d,h,b,m,p=r("./global/index.js");function v(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function g(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var E=(i=p.meta.type("EveSOFDataLogoSet",!0),n=p.meta.black.objectOf("EveSOFDataLogo"),a=p.meta.black.objectOf("EveSOFDataLogo"),o=p.meta.black.objectOf("EveSOFDataLogo"),l=p.meta.black.objectOf("EveSOFDataLogo"),s=p.meta.black.objectOf("EveSOFDataLogo"),i((f=g((c=class{constructor(){v(this,"Marking_01",f,this),v(this,"Marking_02",d,this),v(this,"Primary",h,this),v(this,"Secondary",b,this),v(this,"Tertiary",m,this)}}).prototype,"Marking_01",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),d=g(c.prototype,"Marking_02",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),h=g(c.prototype,"Primary",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),b=g(c.prototype,"Secondary",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),m=g(c.prototype,"Tertiary",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),u=c))||u)},"./sof/shared/EveSOFDataMaterial.js":function(e,t,r){"use strict";r.r(t),r.d(t,"EveSOFDataMaterial",(function(){return h}));var i,n,a,o,l,s,u,c=r("./global/index.js");function f(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function d(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var h=(i=c.meta.type("EveSOFDataMaterial",!0),n=c.meta.black.string,a=c.meta.black.listOf("EveSOFDataParameter"),i((s=d((l=class{constructor(){f(this,"name",s,this),f(this,"parameters",u,this)}Assign(e={},t){return e.name=this.name,e.parameters=this.AssignParameters(e.parameters,t),e}AssignParameters(e={},t){return this.parameters.forEach(r=>r.Assign(e,t)),e}}).prototype,"name",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),u=d(l.prototype,"parameters",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),o=l))||o)},"./sof/shared/EveSOFDataParameter.js":function(e,t,r){"use strict";r.r(t),r.d(t,"EveSOFDataParameter",(function(){return h}));var i,n,a,o,l,s,u,c=r("./global/index.js");function f(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function d(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var h=(i=c.meta.type("EveSOFDataParameter",!0),n=c.meta.black.string,a=c.meta.black.vector4,i((s=d((l=class{constructor(){f(this,"name",s,this),f(this,"value",u,this)}Assign(e={},t){return e[t?t+this.name:this.name]=Array.from(this.value),e}}).prototype,"name",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),u=d(l.prototype,"value",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return c.vec4.create()}}),o=l))||o)},"./sof/shared/EveSOFDataTexture.js":function(e,t,r){"use strict";r.r(t),r.d(t,"EveSOFDataTexture",(function(){return h}));var i,n,a,o,l,s,u,c=r("./global/index.js");function f(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function d(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var h=(i=c.meta.type("EveSOFDataTexture",!0),n=c.meta.black.string,a=c.meta.black.path,i((s=d((l=class{constructor(){f(this,"name",s,this),f(this,"resFilePath",u,this)}Assign(e={}){return e[this.name]=this.resFilePath,e}}).prototype,"name",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),u=d(l.prototype,"resFilePath",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),o=l))||o)},"./sof/shared/EveSOFDataTransform.js":function(e,t,r){"use strict";r.r(t),r.d(t,"EveSOFDataTransform",(function(){return v}));var i,n,a,o,l,s,u,c,f,d,h,b=r("./global/index.js");function m(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function p(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var v=(i=b.meta.type("EveSOFDataTransform",!0),n=b.meta.black.uint,a=b.meta.black.vector3,o=b.meta.black.quaternion,l=b.meta.black.vector3,i((c=p((u=class{constructor(){m(this,"boneIndex",c,this),m(this,"position",f,this),m(this,"rotation",d,this),m(this,"scaling",h,this)}}).prototype,"boneIndex",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return-1}}),f=p(u.prototype,"position",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return b.vec3.create()}}),d=p(u.prototype,"rotation",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return b.quat.create()}}),h=p(u.prototype,"scaling",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return b.vec3.fromValues(1,1,1)}}),s=u))||s)},"./sof/shared/index.js":function(e,t,r){"use strict";r.r(t);var i=r("./sof/shared/EveSOFDataArea.js");r.d(t,"EveSOFDataArea",(function(){return i.EveSOFDataArea}));var n=r("./sof/shared/EveSOFDataAreaMaterial.js");r.d(t,"EveSOFDataAreaMaterial",(function(){return n.EveSOFDataAreaMaterial}));var a=r("./sof/shared/EveSOFDataBooster.js");r.d(t,"EveSOFDataBooster",(function(){return a.EveSOFDataBooster}));var o=r("./sof/shared/EveSOFDataBoosterShape.js");r.d(t,"EveSOFDataBoosterShape",(function(){return o.EveSOFDataBoosterShape}));var l=r("./sof/shared/EveSOFDataInstancedMesh.js");r.d(t,"EveSOFDataInstancedMesh",(function(){return l.EveSOFDataInstancedMesh}));var s=r("./sof/shared/EveSOFDataLogo.js");r.d(t,"EveSOFDataLogo",(function(){return s.EveSOFDataLogo}));var u=r("./sof/shared/EveSOFDataLogoSet.js");r.d(t,"EveSOFDataLogoSet",(function(){return u.EveSOFDataLogoSet}));var c=r("./sof/shared/EveSOFDataMaterial.js");r.d(t,"EveSOFDataMaterial",(function(){return c.EveSOFDataMaterial}));var f=r("./sof/shared/EveSOFDataParameter.js");r.d(t,"EveSOFDataParameter",(function(){return f.EveSOFDataParameter}));var d=r("./sof/shared/EveSOFDataTexture.js");r.d(t,"EveSOFDataTexture",(function(){return d.EveSOFDataTexture}));var h=r("./sof/shared/EveSOFDataTransform.js");r.d(t,"EveSOFDataTransform",(function(){return h.EveSOFDataTransform}))},"./unsupported/AudEmitter.js":function(e,t,r){"use strict";r.r(t),r.d(t,"AudEmitter",(function(){return p}));var i,n,a,o,l,s,u=r("./global/index.js");var c,f,d,h,b,m,p=(i=u.meta.type("AudEmitter",!0),n=u.meta.black.string,i((s=class extends u.Tw2BaseClass{constructor(...e){var t,r,i,n;super(...e),t=this,r="name",n=this,(i=l)&&Object.defineProperty(t,r,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}},c=(o=s).prototype,f="name",d=[n],h={configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}},m={},Object.keys(h).forEach((function(e){m[e]=h[e]})),m.enumerable=!!m.enumerable,m.configurable=!!m.configurable,("value"in m||m.initializer)&&(m.writable=!0),m=d.slice().reverse().reduce((function(e,t){return t(c,f,e)||e}),m),b&&void 0!==m.initializer&&(m.value=m.initializer?m.initializer.call(b):void 0,m.initializer=void 0),void 0===m.initializer&&(Object.defineProperty(c,f,m),m=null),l=m,a=o))||a)},"./unsupported/core/Tr2DistanceTracker.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tr2DistanceTracker",(function(){return p}));var i,n,a,o,l,s,u,c,f,d,h=r("./global/index.js");function b(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function m(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var p=(i=h.meta.notImplemented,n=h.meta.type("Tr2DistanceTracker",!0),a=h.meta.black.string,o=h.meta.black.vector3,l=h.meta.black.vector3,i(s=n((c=m((u=class{constructor(){b(this,"name",c,this),b(this,"direction",f,this),b(this,"targetPosition",d,this)}}).prototype,"name",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),f=m(u.prototype,"direction",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return h.vec3.create()}}),d=m(u.prototype,"targetPosition",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return h.vec3.create()}}),s=u))||s)||s)},"./unsupported/core/TriObserverLocal.js":function(e,t,r){"use strict";r.r(t),r.d(t,"TriObserverLocal",(function(){return v}));var i,n,a,o,l,s,u,c=r("./global/index.js");var f,d,h,b,m,p,v=(i=c.meta.notImplemented,n=c.meta.type("TriObserverLocal",!0),a=c.meta.black.vector3,i(o=n((u=class extends c.Tw2BaseClass{constructor(...e){var t,r,i,n;super(...e),t=this,r="front",n=this,(i=s)&&Object.defineProperty(t,r,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}},f=(l=u).prototype,d="front",h=[a],b={configurable:!0,enumerable:!0,writable:!0,initializer:function(){return c.vec3.create()}},p={},Object.keys(b).forEach((function(e){p[e]=b[e]})),p.enumerable=!!p.enumerable,p.configurable=!!p.configurable,("value"in p||p.initializer)&&(p.writable=!0),p=h.slice().reverse().reduce((function(e,t){return t(f,d,e)||e}),p),m&&void 0!==p.initializer&&(p.value=p.initializer?p.initializer.call(m):void 0,p.initializer=void 0),void 0===p.initializer&&(Object.defineProperty(f,d,p),p=null),s=p,o=l))||o)||o)},"./unsupported/core/index.js":function(e,t,r){"use strict";r.r(t);var i=r("./unsupported/core/lighting/index.js");r.d(t,"Tr2PointLight",(function(){return i.Tr2PointLight})),r.d(t,"Tr2ShLightingManager",(function(){return i.Tr2ShLightingManager}));var n=r("./unsupported/core/mesh/index.js");r.d(t,"Tr2MeshLod",(function(){return n.Tr2MeshLod}));var a=r("./unsupported/core/parameter/index.js");r.d(t,"Tr2ExternalParameter",(function(){return a.Tr2ExternalParameter})),r.d(t,"Tr2Texture2dLodParameter",(function(){return a.Tr2Texture2dLodParameter}));var o=r("./unsupported/core/post/index.js");r.d(t,"Tr2PostProcess",(function(){return o.Tr2PostProcess}));var l=r("./unsupported/core/resource/index.js");r.d(t,"Tr2LodResource",(function(){return l.Tr2LodResource}));var s=r("./unsupported/core/value/index.js");r.d(t,"TriMatrix",(function(){return s.TriMatrix}));var u=r("./unsupported/core/Tr2DistanceTracker.js");r.d(t,"Tr2DistanceTracker",(function(){return u.Tr2DistanceTracker}));var c=r("./unsupported/core/TriObserverLocal.js");r.d(t,"TriObserverLocal",(function(){return c.TriObserverLocal}))},"./unsupported/core/lighting/Tr2PointLight.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tr2PointLight",(function(){return z}));var i,n,a,o,l,s,u,c,f,d,h,b,m,p,v,g,E,y,T,w,_,S,R,j=r("./global/index.js");function O(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function A(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var z=(i=j.meta.notImplemented,n=j.meta.type("Tr2PointLight",!0),a=j.meta.black.string,o=j.meta.black.float,l=j.meta.black.color,s=j.meta.black.float,u=j.meta.black.float,c=j.meta.black.float,f=j.meta.black.float,d=j.meta.black.vector3,h=j.meta.black.float,i(b=n((R=class extends j.Tw2BaseClass{constructor(...e){super(...e),O(this,"name",p,this),O(this,"brightness",v,this),O(this,"color",g,this),O(this,"innerRadius",E,this),O(this,"noiseAmplitude",y,this),O(this,"noiseFrequency",T,this),O(this,"noiseOctaves",w,this),O(this,"position",_,this),O(this,"radius",S,this)}},p=A((m=R).prototype,"name",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),v=A(m.prototype,"brightness",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),g=A(m.prototype,"color",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return j.vec4.create()}}),E=A(m.prototype,"innerRadius",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),y=A(m.prototype,"noiseAmplitude",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),T=A(m.prototype,"noiseFrequency",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),w=A(m.prototype,"noiseOctaves",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),_=A(m.prototype,"position",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return j.vec3.create()}}),S=A(m.prototype,"radius",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),b=m))||b)||b)},"./unsupported/core/lighting/Tr2ShLightingManager.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tr2ShLightingManager",(function(){return m}));var i,n,a,o,l,s,u,c,f,d=r("./global/index.js");function h(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function b(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var m=(i=d.meta.notImplemented,n=d.meta.type("Tr2ShLightingManager",!0),a=d.meta.black.float,o=d.meta.black.float,i(l=n((f=class extends d.Tw2BaseClass{constructor(...e){super(...e),h(this,"primaryIntensity",u,this),h(this,"secondaryIntensity",c,this)}},u=b((s=f).prototype,"primaryIntensity",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),c=b(s.prototype,"secondaryIntensity",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),l=s))||l)||l)},"./unsupported/core/lighting/index.js":function(e,t,r){"use strict";r.r(t);var i=r("./unsupported/core/lighting/Tr2PointLight.js");r.d(t,"Tr2PointLight",(function(){return i.Tr2PointLight}));var n=r("./unsupported/core/lighting/Tr2ShLightingManager.js");r.d(t,"Tr2ShLightingManager",(function(){return n.Tr2ShLightingManager}))},"./unsupported/core/mesh/Tr2MeshLod.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tr2MeshLod",(function(){return k}));var i,n,a,o,l,s,u,c,f,d,h,b,m,p,v,g,E,y,T,w,_,S,R,j,O,A,z,P,C,D,I,x,L=r("./global/index.js"),M=r("./global/engine/Tw2Constant.js");function F(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function G(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var k=(i=L.meta.notImplemented,n=L.meta.type("Tr2MeshLod",!0),a=L.meta.todo("Implement LOD"),o=L.meta.black.listOf("Tw2MeshArea"),l=L.meta.notImplemented,s=L.meta.black.listOf("Tw2GeometryRes"),u=L.meta.black.listOf("Tw2MeshArea"),c=L.meta.notImplemented,f=L.meta.black.listOf("Tw2MeshArea"),d=L.meta.notImplemented,h=L.meta.black.listOf("Tw2MeshArea"),b=L.meta.black.objectOf("Tr2LodResource"),m=L.meta.black.listOf("Tw2MeshArea"),p=L.meta.black.listOf("Tw2MeshArea"),v=L.meta.black.listOf("Tw2MeshArea"),g=L.meta.boolean,E=L.meta.plain,y=L.meta.notImplemented,i(T=n(T=a((x=class extends L.Tw2BaseClass{constructor(...e){super(...e),F(this,"additiveAreas",_,this),F(this,"associatedResources",S,this),F(this,"decalAreas",R,this),F(this,"depthAreas",j,this),F(this,"distortionAreas",O,this),F(this,"geometryRes",A,this),F(this,"opaqueAreas",z,this),F(this,"pickableAreas",P,this),F(this,"transparentAreas",C,this),F(this,"display",D,this),F(this,"visible",I,this),this._geometryResource=null}get geometryResource(){return this._geometryResource}set geometryResource(e){this._geometryResource=e}Initialize(){}OnResPrepared(e){this._geometryResource=e}IsGood(){return this._geometryResource&&this._geometryResource.IsGood()}GetResources(e=[]){for(var t=0;t<this.associatedResources;t++)e[t]&&!e.includes(this.associatedResources[t])&&e.push(this.associatedResources[t]);var r=L.util.perArrayChild;return r(this.additiveAreas,"GetResources",e),r(this.decalAreas,"GetResources",e),r(this.depthAreas,"GetResources",e),r(this.distortionAreas,"GetResources",e),r(this.opaqueAreas,"GetResources",e),r(this.pickableAreas,"GetResources",e),r(this.transparentAreas,"GetResources",e),e}GetBatches(e,t,r){if(!this.IsGood()||!this.display)return!1;var i,n=this.constructor.GetAreaBatches;switch(e){case M.RM_ADDITIVE:this.visible.additiveAreas&&(i=this.additiveAreas);break;case M.RM_DECAL:this.visible.decalAreas&&(i=this.decalAreas);break;case M.RM_DEPTH:this.visible.depthAreas&&(i=this.depthAreas);break;case M.RM_DISTORTION:this.visible.distortionAreas&&(i=this.distortionAreas);break;case M.RM_OPAQUE:this.visible.opaqueAreas&&(i=this.opaqueAreas);break;case M.RM_PICKABLE:this.visible.pickableAreas&&(i=this.pickableAreas);break;case M.RM_TRANSPARENT:this.visible.transparentAreas&&(i=this.transparentAreas)}i&&n(this,i,e,t,r)}EmptyAreas(){this.additiveAreas.splice(0),this.decalAreas.splice(0),this.depthAreas.splice(0),this.distortionAreas.splice(0),this.opaqueAreas.splice(0),this.pickableAreas.splice(0),this.transparentAreas.splice(0)}static GetAreaBatches(e,t,r,i,n){for(var a=0;a<t.length;++a){var o=t[a];if(o.effect&&o.display){var l=new o.constructor.batchType;l.renderMode=r,l.perObjectData=n,l.geometryRes=e._geometryResource,l.meshIx=0,l.start=o.index,l.count=o.count,l.effect=o.effect,i.Commit(l)}}}},_=G((w=x).prototype,"additiveAreas",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),S=G(w.prototype,"associatedResources",[l,s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),R=G(w.prototype,"decalAreas",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),j=G(w.prototype,"depthAreas",[c,f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),O=G(w.prototype,"distortionAreas",[d,h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),A=G(w.prototype,"geometryRes",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),z=G(w.prototype,"opaqueAreas",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),P=G(w.prototype,"pickableAreas",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),C=G(w.prototype,"transparentAreas",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),D=G(w.prototype,"display",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),I=G(w.prototype,"visible",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{opaqueAreas:!0,transparentAreas:!0,additiveAreas:!0,pickableAreas:!0,distortionAreas:!0,decalAreas:!0,depthAreas:!0}}}),G(w.prototype,"Initialize",[y],Object.getOwnPropertyDescriptor(w.prototype,"Initialize"),w.prototype),T=w))||T)||T)||T)},"./unsupported/core/mesh/index.js":function(e,t,r){"use strict";r.r(t);var i=r("./unsupported/core/mesh/Tr2MeshLod.js");r.d(t,"Tr2MeshLod",(function(){return i.Tr2MeshLod}))},"./unsupported/core/parameter/Tr2ExternalParameter.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tr2ExternalParameter",(function(){return g}));var i,n,a,o,l,s,u,c,f,d,h,b=r("./global/index.js"),m=r("./core/parameter/Tw2Parameter.js");function p(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function v(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var g=(i=b.meta.notImplemented,n=b.meta.type("Tr2ExternalParameter",!0),a=b.meta.black.string,o=b.meta.black.string,l=b.meta.black.object,i(s=n((h=class extends m.Tw2Parameter{constructor(...e){super(...e),p(this,"name",c,this),p(this,"destinationAttribute",f,this),p(this,"destinationObject",d,this)}},c=v((u=h).prototype,"name",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),f=v(u.prototype,"destinationAttribute",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),d=v(u.prototype,"destinationObject",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),s=u))||s)||s)},"./unsupported/core/parameter/Tr2Texture2dLodParameter.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tr2Texture2dLodParameter",(function(){return p}));var i,n,a,o,l,s,u,c,f,d=r("./global/index.js"),h=r("./core/index.js");function b(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function m(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var p=(i=d.meta.notImplemented,n=d.meta.type("Tr2Texture2dLodParameter",!0),a=d.meta.black.string,o=d.meta.black.objectOf("Tr2LodResource"),i(l=n((f=class extends h.Tw2Parameter{constructor(...e){super(...e),b(this,"name",u,this),b(this,"lodResource",c,this)}},u=m((s=f).prototype,"name",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),c=m(s.prototype,"lodResource",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),l=s))||l)||l)},"./unsupported/core/parameter/index.js":function(e,t,r){"use strict";r.r(t);var i=r("./unsupported/core/parameter/Tr2ExternalParameter.js");r.d(t,"Tr2ExternalParameter",(function(){return i.Tr2ExternalParameter}));var n=r("./unsupported/core/parameter/Tr2Texture2dLodParameter.js");r.d(t,"Tr2Texture2dLodParameter",(function(){return n.Tr2Texture2dLodParameter}))},"./unsupported/core/post/Tr2PostProcess.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tr2PostProcess",(function(){return v}));var i,n,a,o,l,s,u,c=r("./global/index.js");var f,d,h,b,m,p,v=(i=c.meta.notImplemented,n=c.meta.data("Tr2PostProcess",!0),a=c.meta.black.listOf("Tw2Effect"),i(o=n((u=class extends c.Tw2BaseClass{constructor(...e){var t,r,i,n;super(...e),t=this,r="stages",n=this,(i=s)&&Object.defineProperty(t,r,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}},f=(l=u).prototype,d="stages",h=[a],b={configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}},p={},Object.keys(b).forEach((function(e){p[e]=b[e]})),p.enumerable=!!p.enumerable,p.configurable=!!p.configurable,("value"in p||p.initializer)&&(p.writable=!0),p=h.slice().reverse().reduce((function(e,t){return t(f,d,e)||e}),p),m&&void 0!==p.initializer&&(p.value=p.initializer?p.initializer.call(m):void 0,p.initializer=void 0),void 0===p.initializer&&(Object.defineProperty(f,d,p),p=null),s=p,o=l))||o)||o)},"./unsupported/core/post/index.js":function(e,t,r){"use strict";r.r(t);var i=r("./unsupported/core/post/Tr2PostProcess.js");r.d(t,"Tr2PostProcess",(function(){return i.Tr2PostProcess}))},"./unsupported/core/resource/Tw2LodResource.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tr2LodResource",(function(){return y}));var i,n,a,o,l,s,u,c,f,d,h,b,m,p=r("./global/index.js"),v=r("./global/util/index.js");function g(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function E(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var y=(i=p.meta.notImplemented,n=p.meta.type("Tr2LodResource",!0),a=p.meta.black.string,o=p.meta.black.path,l=p.meta.black.path,s=p.meta.black.path,i(u=n((m=class e extends p.Tw2BaseClass{get highDetailRes(){return this.GetLODResource(3)}get mediumDetailRes(){return this.GetLODResource(2)}get lowDetailRes(){return this.GetLODResource(1)}constructor(e="",t){super(),g(this,"name",f,this),g(this,"highDetailResPath",d,this),g(this,"lowDetailResPath",h,this),g(this,"mediumDetailResPath",b,this),this.name=e,t&&this.SetPaths(...Object(v.toArray)(t))}SetPaths(e="",t="",r=""){var i=!1;return e!==this.highDetailResPath&&(this.highDetailResPath=e,i=!0),t!==this.mediumDetailResPath&&(this.mediumDetailResPath=t,i=!0),r!==this.lowDetailResPath&&(this.lowDetailResPath=r,i=!0),i}GetLODResource(e=3){var t,r=this.highDetailResPath,i=this.mediumDetailResPath,n=this.lowDetailResPath;return e>2?r?t=r:i?t=i:n&&(t=n):2===e?i?t=i:r?t=r:n&&(t=n):n?t=n:i?t=i:r&&(t=r),t?p.resMan.GetResource(t):null}static from(t){var r=new e;return t&&(r.name=t.name||"",r.SetPaths(t.highDetailResPath,t.mediumDetailResPath,t.lowDetailResPath)),r}},f=E((c=m).prototype,"name",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),d=E(c.prototype,"highDetailResPath",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),h=E(c.prototype,"lowDetailResPath",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),b=E(c.prototype,"mediumDetailResPath",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),u=c))||u)||u)},"./unsupported/core/resource/index.js":function(e,t,r){"use strict";r.r(t);var i=r("./unsupported/core/resource/Tw2LodResource.js");r.d(t,"Tr2LodResource",(function(){return i.Tr2LodResource}))},"./unsupported/core/value/TriMatrix.js":function(e,t,r){"use strict";r.r(t),r.d(t,"TriMatrix",(function(){return H}));var i,n,a,o,l,s,u,c,f,d,h,b,m,p,v,g,E,y,T,w,_,S,R,j,O,A,z,P,C,D,I,x,L,M,F,G,k,N,B=r("./global/index.js");function U(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function V(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var H=(i=B.meta.notImplemented,n=B.meta.type("TriMatrix",!0),a=B.meta.todo("Should this default to a identity matrix?"),o=B.meta.black.float,l=B.meta.black.float,s=B.meta.black.float,u=B.meta.black.float,c=B.meta.black.float,f=B.meta.black.float,d=B.meta.black.float,h=B.meta.black.float,b=B.meta.black.float,m=B.meta.black.float,p=B.meta.black.float,v=B.meta.black.float,g=B.meta.black.float,E=B.meta.black.float,y=B.meta.black.float,T=B.meta.black.float,i(w=n(w=a((N=class extends B.Tw2BaseClass{constructor(...e){super(...e),U(this,"_11",S,this),U(this,"_12",R,this),U(this,"_13",j,this),U(this,"_14",O,this),U(this,"_21",A,this),U(this,"_22",z,this),U(this,"_23",P,this),U(this,"_24",C,this),U(this,"_31",D,this),U(this,"_32",I,this),U(this,"_33",x,this),U(this,"_34",L,this),U(this,"_41",M,this),U(this,"_42",F,this),U(this,"_43",G,this),U(this,"_44",k,this)}},S=V((_=N).prototype,"_11",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),R=V(_.prototype,"_12",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),j=V(_.prototype,"_13",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),O=V(_.prototype,"_14",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),A=V(_.prototype,"_21",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),z=V(_.prototype,"_22",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),P=V(_.prototype,"_23",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),C=V(_.prototype,"_24",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),D=V(_.prototype,"_31",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),I=V(_.prototype,"_32",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),x=V(_.prototype,"_33",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),L=V(_.prototype,"_34",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),M=V(_.prototype,"_41",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),F=V(_.prototype,"_42",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),G=V(_.prototype,"_43",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),k=V(_.prototype,"_44",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),w=_))||w)||w)||w)},"./unsupported/core/value/index.js":function(e,t,r){"use strict";r.r(t);var i=r("./unsupported/core/value/TriMatrix.js");r.d(t,"TriMatrix",(function(){return i.TriMatrix}))},"./unsupported/curve/Tw2CurveSetRange.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tw2CurveSetRange",(function(){return E}));var i,n,a,o,l,s,u,c,f,d,h,b,m,p=r("./global/index.js");function v(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function g(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var E=(i=p.meta.notImplemented,n=p.meta.type("Tw2CurveSetRange",!0),a=p.meta.black.string,o=p.meta.black.float,l=p.meta.black.boolean,s=p.meta.black.float,i(u=n((m=class extends p.Tw2BaseClass{constructor(...e){super(...e),v(this,"name",f,this),v(this,"endTime",d,this),v(this,"looped",h,this),v(this,"startTime",b,this)}},f=g((c=m).prototype,"name",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),d=g(c.prototype,"endTime",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),h=g(c.prototype,"looped",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),b=g(c.prototype,"startTime",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),u=c))||u)||u)},"./unsupported/curve/adapter/Tr2RotationAdapter.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tr2RotationAdapter",(function(){return v}));var i,n,a,o,l,s,u,c,f,d,h=r("./unsupported/curve/adapter/Tw2CurveAdapter.js"),b=r("./global/index.js");function m(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function p(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var v=(i=b.meta.notImplemented,n=b.meta.type("Tr2RotationAdapter"),a=b.meta.black.objectOf("Tw2Curve"),o=b.meta.black.vector4,i(l=n((d=f=class extends h.Tw2CurveAdapter{constructor(...e){super(...e),m(this,"curve",u,this),m(this,"value",c,this)}GetValueAt(e,t){return this.curve&&this.curve.GetValueAt(e,this.value),b.vec4.copy(t,this.value)}},f.outputDimension=4,u=p((s=d).prototype,"curve",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),c=p(s.prototype,"value",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return b.vec4.create()}}),l=s))||l)||l)},"./unsupported/curve/adapter/Tr2TranslationAdapter.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tr2TranslationAdapter",(function(){return v}));var i,n,a,o,l,s,u,c,f,d,h=r("./global/index.js"),b=r("./unsupported/curve/adapter/Tw2CurveAdapter.js");function m(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function p(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var v=(i=h.meta.notImplemented,n=h.meta.type("Tr2TranslationAdapter",!0),a=h.meta.black.objectOf("Tw2Curve"),o=h.meta.black.vector3,i(l=n((d=f=class extends b.Tw2CurveAdapter{constructor(...e){super(...e),m(this,"curve",u,this),m(this,"value",c,this)}GetValueAt(e,t){return this.curve&&this.curve.GetValueAt(e,this.value),h.vec3.copy(t,this.value)}},f.outputDimension=3,u=p((s=d).prototype,"curve",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),c=p(s.prototype,"value",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return h.vec3.create()}}),l=s))||l)||l)},"./unsupported/curve/adapter/Tw2CurveAdapter.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tw2CurveAdapter",(function(){return E}));var i,n,a,o,l,s,u,c,f,d,h,b,m=r("./global/index.js"),p=r("./curve/index.js");function v(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function g(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var E=(i=m.meta.type("Tw2CurveAdapter"),n=m.meta.abstract,a=m.meta.string,o=m.meta.objectOf("Tw2Curve"),l=m.meta.unknown,i(s=n((b=h=class extends p.Tw2Curve{constructor(...e){super(...e),v(this,"name",c,this),v(this,"curve",f,this),v(this,"value",d,this)}Sort(){this.curve&&this.curve.Sort()}UpdateValue(e){this.GetValueAt(e,this.value)}},h.valueProperty="value",h.curveType=p.Tw2Curve.Type.ADAPTER,c=g((u=b).prototype,"name",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),f=g(u.prototype,"curve",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),d=g(u.prototype,"value",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),s=u))||s)||s)},"./unsupported/curve/adapter/index.js":function(e,t,r){"use strict";r.r(t);var i=r("./unsupported/curve/adapter/Tr2RotationAdapter.js");r.d(t,"Tr2RotationAdapter",(function(){return i.Tr2RotationAdapter}));var n=r("./unsupported/curve/adapter/Tr2TranslationAdapter.js");r.d(t,"Tr2TranslationAdapter",(function(){return n.Tr2TranslationAdapter}))},"./unsupported/curve/curve/AudEventCurve.js":function(e,t,r){"use strict";r.r(t),r.d(t,"AudEventKey",(function(){return j})),r.d(t,"AudEventCurve",(function(){return O}));var i,n,a,o,l,s,u,c,f,d,h,b,m,p,v,g,E,y,T,w=r("./global/index.js"),_=r("./curve/index.js");function S(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function R(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var j=(i=w.meta.type("AudEventKey",!0),n=w.meta.black.float,a=w.meta.black.ushort,i((c=class extends _.Tw2CurveKey{constructor(...e){super(...e),S(this,"time",s,this),S(this,"value",u,this)}},s=R((l=c).prototype,"time",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),u=R(l.prototype,"value",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),o=l))||o),O=(f=w.meta.notImplemented,d=w.meta.type("AudEventCurve",!0),h=w.meta.black.string,b=w.meta.black.listOf("AudEventKey"),m=w.meta.black.objectOf("TriObserverLocal"),f(p=d((T=class extends _.Tw2Curve{constructor(...e){super(...e),S(this,"name",g,this),S(this,"keys",E,this),S(this,"sourceTriObserver",y,this)}},g=R((v=T).prototype,"name",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),E=R(v.prototype,"keys",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),y=R(v.prototype,"sourceTriObserver",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),p=v))||p)||p)},"./unsupported/curve/curve/Tr2BoneMatrixCurve.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tr2BoneMatrixCurve",(function(){return g}));var i,n,a,o,l,s,u,c=r("./global/index.js"),f=r("./curve/index.js");var d,h,b,m,p,v,g=(i=c.meta.notImplemented,n=c.meta.type("Tr2BoneMatrixCurve",!0),a=c.meta.black.string,i(o=n((u=class extends f.Tw2Curve{constructor(...e){var t,r,i,n;super(...e),t=this,r="name",n=this,(i=s)&&Object.defineProperty(t,r,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}},d=(l=u).prototype,h="name",b=[a],m={configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}},v={},Object.keys(m).forEach((function(e){v[e]=m[e]})),v.enumerable=!!v.enumerable,v.configurable=!!v.configurable,("value"in v||v.initializer)&&(v.writable=!0),v=b.slice().reverse().reduce((function(e,t){return t(d,h,e)||e}),v),p&&void 0!==v.initializer&&(v.value=v.initializer?v.initializer.call(p):void 0,v.initializer=void 0),void 0===v.initializer&&(Object.defineProperty(d,h,v),v=null),s=v,o=l))||o)||o)},"./unsupported/curve/curve/Tr2CurveConstant.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tr2CurveConstant",(function(){return g}));var i,n,a,o,l,s,u,c,f,d,h,b=r("./global/index.js"),m=r("./curve/index.js");function p(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function v(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var g=(i=b.meta.notImplemented,n=b.meta.type("Tw2CurveConstant",!0),a=b.meta.todo("Is this a curve or a key?"),o=b.meta.black.string,l=b.meta.black.vector4,i(s=n(s=a((h=d=class extends m.Tw2Curve{constructor(...e){super(...e),p(this,"name",c,this),p(this,"value",f,this)}Sort(){}GetLength(){return 0}UpdateValue(e,t){b.vec4.copy(t,this.value)}},d.inputDimension=4,d.outputDimension=4,d.valueProperty="value",d.curveType=m.Tw2Curve.Type.CURVE_NO_KEYS,c=v((u=h).prototype,"name",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),f=v(u.prototype,"value",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return b.vec4.create()}}),s=u))||s)||s)||s)},"./unsupported/curve/curve/Tr2CurveScalar.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tw2CurveScalarKey",(function(){return H})),r.d(t,"Tr2CurveScalar",(function(){return q}));var i,n,a,o,l,s,u,c,f,d,h,b,m,p,v,g,E,y,T,w,_,S,R,j,O,A,z,P,C,D,I,x,L,M,F,G,k,N=r("./global/index.js"),B=r("./curve/index.js");function U(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function V(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var H=(i=N.meta.type("Tw2CurveScalarKey"),n=N.meta.float,a=N.meta.uint,o=N.meta.uint,l=N.meta.uint,s=N.meta.float,u=N.meta.float,i((g=class extends B.Tw2CurveKey{constructor(...e){super(...e),U(this,"endTangent",d,this),U(this,"extrapolation",h,this),U(this,"index",b,this),U(this,"interpolation",m,this),U(this,"startTangent",p,this),U(this,"value",v,this)}static blackStruct(e){var t=new this;return t.time=e.ReadF32(),t.value=e.ReadF32(),t.startTangent=e.ReadF32(),t.endTangent=e.ReadF32(),t.index=e.ReadU16(),t.interpolation=e.ReadU8(),t.extrapolation=e.ReadU8(),t}},d=V((f=g).prototype,"endTangent",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),h=V(f.prototype,"extrapolation",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),b=V(f.prototype,"index",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),m=V(f.prototype,"interpolation",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),p=V(f.prototype,"startTangent",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),v=V(f.prototype,"value",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),c=f))||c),q=(E=N.meta.notImplemented,y=N.meta.type("Tr2CurveScalar",!0),T=N.meta.black.string,w=N.meta.black.uint,_=N.meta.black.uint,S=N.meta.black.struct([H]),R=N.meta.black.float,j=N.meta.black.float,O=N.meta.float,A=N.meta.isPrivate,E(z=y((k=G=class extends B.Tw2Curve{constructor(...e){super(...e),U(this,"name",C,this),U(this,"extrapolationAfter",D,this),U(this,"extrapolationBefore",I,this),U(this,"keys",x,this),U(this,"timeOffset",L,this),U(this,"timeScale",M,this),U(this,"currentValue",F,this),this._length=0}Sort(){this._length=B.Tw2Curve.Sort3(this.keys)}GetLength(){return this._length}},G.inputDimension=1,G.outputDimension=1,G.valueProperty="currentValue",G.curveType=B.Tw2Curve.Type.CURVE3,G.Key=H,G.Interpolation={},G.Extrapolation={},C=V((P=k).prototype,"name",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),D=V(P.prototype,"extrapolationAfter",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),I=V(P.prototype,"extrapolationBefore",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),x=V(P.prototype,"keys",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),L=V(P.prototype,"timeOffset",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),M=V(P.prototype,"timeScale",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),F=V(P.prototype,"currentValue",[O,A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),z=P))||z)||z)},"./unsupported/curve/curve/Tr2ScalarExprKeyCurve.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tr2ScalarExprKey",(function(){return B})),r.d(t,"Tr2ScalarExprKeyCurve",(function(){return U}));var i,n,a,o,l,s,u,c,f,d,h,b,m,p,v,g,E,y,T,w,_,S,R,j,O,A,z,P,C,D,I,x,L,M,F=r("./global/index.js"),G=r("./curve/index.js");function k(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function N(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var B=(i=F.meta.type("Tr2ScalarExprKey",!0),n=F.meta.black.float,a=F.meta.black.float,o=F.meta.black.float,l=F.meta.black.uint,s=F.meta.black.float,u=F.meta.black.float,c=F.meta.black.float,f=F.meta.black.expression,d=F.meta.black.float,h=F.meta.isPrivate,i((R=class extends G.Tw2CurveKey{constructor(...e){super(...e),k(this,"input1",p,this),k(this,"input2",v,this),k(this,"input3",g,this),k(this,"interpolation",E,this),k(this,"left",y,this),k(this,"right",T,this),k(this,"time",w,this),k(this,"timeExpression",_,this),k(this,"value",S,this)}},p=N((m=R).prototype,"input1",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return-1}}),v=N(m.prototype,"input2",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return-1}}),g=N(m.prototype,"input3",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return-1}}),E=N(m.prototype,"interpolation",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),y=N(m.prototype,"left",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),T=N(m.prototype,"right",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),w=N(m.prototype,"time",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),_=N(m.prototype,"timeExpression",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),S=N(m.prototype,"value",[d,h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),b=m))||b),U=(j=F.meta.notImplemented,O=F.meta.type("Tr2ScalarExprKeyCurve",!0),A=F.meta.black.string,z=F.meta.black.uint,P=F.meta.black.listOf("Tr2ScalarExprKey"),j(C=O((M=class extends G.Tw2Curve{constructor(...e){super(...e),k(this,"name",I,this),k(this,"interpolation",x,this),k(this,"keys",L,this)}},I=N((D=M).prototype,"name",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),x=N(D.prototype,"interpolation",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),L=N(D.prototype,"keys",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),C=D))||C)||C)},"./unsupported/curve/curve/index.js":function(e,t,r){"use strict";r.r(t);var i=r("./unsupported/curve/curve/AudEventCurve.js");r.d(t,"AudEventKey",(function(){return i.AudEventKey})),r.d(t,"AudEventCurve",(function(){return i.AudEventCurve}));var n=r("./unsupported/curve/curve/Tr2BoneMatrixCurve.js");r.d(t,"Tr2BoneMatrixCurve",(function(){return n.Tr2BoneMatrixCurve}));var a=r("./unsupported/curve/curve/Tr2CurveConstant.js");r.d(t,"Tr2CurveConstant",(function(){return a.Tr2CurveConstant}));var o=r("./unsupported/curve/curve/Tr2CurveScalar.js");r.d(t,"Tw2CurveScalarKey",(function(){return o.Tw2CurveScalarKey})),r.d(t,"Tr2CurveScalar",(function(){return o.Tr2CurveScalar}));var l=r("./unsupported/curve/curve/Tr2ScalarExprKeyCurve.js");r.d(t,"Tr2ScalarExprKey",(function(){return l.Tr2ScalarExprKey})),r.d(t,"Tr2ScalarExprKeyCurve",(function(){return l.Tr2ScalarExprKeyCurve}))},"./unsupported/curve/expression/Tr2CurveEulerRotationExpression.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tr2CurveEulerRotationExpression",(function(){return j}));var i,n,a,o,l,s,u,c,f,d,h,b,m,p,v,g,E,y,T,w=r("./global/index.js"),_=r("./unsupported/curve/expression/Tw2CurveExpression.js");function S(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function R(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var j=(i=w.meta.notImplemented,n=w.meta.type("Tr2CurveEulerRotationExpression",!0),a=w.meta.black.string,o=w.meta.black.list,l=w.meta.black.expression,s=w.meta.black.expression,u=w.meta.black.expression,c=w.meta.black.quaternion,f=w.meta.isPrivate,i(d=n((T=y=class extends _.Tw2CurveExpression{constructor(...e){super(...e),S(this,"name",b,this),S(this,"inputs",m,this),S(this,"expressionPitch",p,this),S(this,"expressionRoll",v,this),S(this,"expressionYaw",g,this),S(this,"currentValue",E,this)}},y.inputDimension=1,y.outputDimension=4,y.valueProperty="currentValue",y.childProperties=["expressionPitch","expressionRoll","expressionYaw"],b=R((h=T).prototype,"name",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),m=R(h.prototype,"inputs",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),p=R(h.prototype,"expressionPitch",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),v=R(h.prototype,"expressionRoll",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),g=R(h.prototype,"expressionYaw",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),E=R(h.prototype,"currentValue",[c,f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return w.quat.create()}}),d=h))||d)||d)},"./unsupported/curve/expression/Tr2CurveScalarExpression.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tr2CurveScalarExpression",(function(){return C}));var i,n,a,o,l,s,u,c,f,d,h,b,m,p,v,g,E,y,T,w,_,S,R,j,O=r("./unsupported/curve/expression/Tw2CurveExpression.js"),A=r("./global/index.js");function z(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function P(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var C=(i=A.meta.notImplemented,n=A.meta.type("Tr2CurveScalarExpression",!0),a=A.meta.black.string,o=A.meta.black.list,l=A.meta.black.expression,s=A.meta.black.float,u=A.meta.todo("Figure out the default value"),c=A.meta.black.float,f=A.meta.todo("Figure out the default value"),d=A.meta.black.float,h=A.meta.todo("Figure out the default value"),b=A.meta.float,m=A.meta.isPrivate,i(p=n((j=R=class extends O.Tw2CurveExpression{constructor(...e){super(...e),z(this,"name",g,this),z(this,"inputs",E,this),z(this,"expression",y,this),z(this,"input1",T,this),z(this,"input2",w,this),z(this,"input3",_,this),z(this,"currentValue",S,this)}},R.inputDimension=1,R.outputDimension=1,R.valueProperty="currentValue",R.childProperties=["expression"],g=P((v=j).prototype,"name",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),E=P(v.prototype,"inputs",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),y=P(v.prototype,"expression",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),T=P(v.prototype,"input1",[s,u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return-1}}),w=P(v.prototype,"input2",[c,f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return-1}}),_=P(v.prototype,"input3",[d,h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return-1}}),S=P(v.prototype,"currentValue",[b,m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),p=v))||p)||p)},"./unsupported/curve/expression/Tr2CurveVector3Expression.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tr2CurveVector3Expression",(function(){return j}));var i,n,a,o,l,s,u,c,f,d,h,b,m,p,v,g,E,y,T,w=r("./global/index.js"),_=r("./unsupported/curve/expression/Tw2CurveExpression.js");function S(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function R(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var j=(i=w.meta.notImplemented,n=w.meta.type("Tr2CurveVector3Expression"),a=w.meta.black.string,o=w.meta.black.list,l=w.meta.black.expression,s=w.meta.black.expression,u=w.meta.black.expression,c=w.meta.vector3,f=w.meta.isPrivate,i(d=n((T=y=class extends _.Tw2CurveExpression{constructor(...e){super(...e),S(this,"name",b,this),S(this,"inputs",m,this),S(this,"expressionX",p,this),S(this,"expressionY",v,this),S(this,"expressionZ",g,this),S(this,"currentValue",E,this)}},y.inputDimension=1,y.outputDimension=3,y.valueProperty="currentValue",y.childProperties=["expressionX","expressionY","expressionZ"],b=R((h=T).prototype,"name",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),m=R(h.prototype,"inputs",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),p=R(h.prototype,"expressionX",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),v=R(h.prototype,"expressionY",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),g=R(h.prototype,"expressionZ",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),E=R(h.prototype,"currentValue",[c,f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return w.vec3.create()}}),d=h))||d)||d)},"./unsupported/curve/expression/Tw2CurveExpression.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tw2CurveExpression",(function(){return p}));var i,n,a,o,l,s,u,c,f,d=r("./global/index.js"),h=r("./curve/index.js");function b(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function m(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var p=(i=d.meta.type("Tw2CurveExpression"),n=d.meta.string,a=d.meta.list,i((f=c=class extends h.Tw2Curve{constructor(...e){super(...e),b(this,"name",s,this),b(this,"inputs",u,this)}UpdateValue(e){this.GetValueAt(e,this.currentValue)}},c.curveType=h.Tw2Curve.Type.EXPRESSION,s=m((l=f).prototype,"name",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),u=m(l.prototype,"inputs",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),o=l))||o)},"./unsupported/curve/expression/index.js":function(e,t,r){"use strict";r.r(t);var i=r("./unsupported/curve/expression/Tr2CurveEulerRotationExpression.js");r.d(t,"Tr2CurveEulerRotationExpression",(function(){return i.Tr2CurveEulerRotationExpression}));var n=r("./unsupported/curve/expression/Tr2CurveScalarExpression.js");r.d(t,"Tr2CurveScalarExpression",(function(){return n.Tr2CurveScalarExpression}));var a=r("./unsupported/curve/expression/Tr2CurveVector3Expression.js");r.d(t,"Tr2CurveVector3Expression",(function(){return a.Tr2CurveVector3Expression}));var o=r("./unsupported/curve/expression/Tw2CurveExpression.js");r.d(t,"Tw2CurveExpression",(function(){return o.Tw2CurveExpression}))},"./unsupported/curve/index.js":function(e,t,r){"use strict";r.r(t);var i=r("./unsupported/curve/adapter/index.js");r.d(t,"Tr2RotationAdapter",(function(){return i.Tr2RotationAdapter})),r.d(t,"Tr2TranslationAdapter",(function(){return i.Tr2TranslationAdapter}));var n=r("./unsupported/curve/curve/index.js");r.d(t,"AudEventKey",(function(){return n.AudEventKey})),r.d(t,"AudEventCurve",(function(){return n.AudEventCurve})),r.d(t,"Tr2BoneMatrixCurve",(function(){return n.Tr2BoneMatrixCurve})),r.d(t,"Tr2CurveConstant",(function(){return n.Tr2CurveConstant})),r.d(t,"Tw2CurveScalarKey",(function(){return n.Tw2CurveScalarKey})),r.d(t,"Tr2CurveScalar",(function(){return n.Tr2CurveScalar})),r.d(t,"Tr2ScalarExprKey",(function(){return n.Tr2ScalarExprKey})),r.d(t,"Tr2ScalarExprKeyCurve",(function(){return n.Tr2ScalarExprKeyCurve}));var a=r("./unsupported/curve/expression/index.js");r.d(t,"Tr2CurveEulerRotationExpression",(function(){return a.Tr2CurveEulerRotationExpression})),r.d(t,"Tr2CurveScalarExpression",(function(){return a.Tr2CurveScalarExpression})),r.d(t,"Tr2CurveVector3Expression",(function(){return a.Tr2CurveVector3Expression})),r.d(t,"Tw2CurveExpression",(function(){return a.Tw2CurveExpression}));var o=r("./unsupported/curve/Tw2CurveSetRange.js");r.d(t,"Tw2CurveSetRange",(function(){return o.Tw2CurveSetRange}))},"./unsupported/eve/animation/EveAnimation.js":function(e,t,r){"use strict";r.r(t),r.d(t,"EveAnimation",(function(){return b}));var i,n,a,o,l,s,u,c,f=r("./global/index.js");function d(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function h(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var b=(i=f.meta.notImplemented,n=f.meta.type("EveAnimation",!0),a=f.meta.black.string,o=f.meta.black.uint,i(l=n((u=h((s=class{constructor(){d(this,"name",u,this),d(this,"loops",c,this)}}).prototype,"name",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),c=h(s.prototype,"loops",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),l=s))||l)||l)},"./unsupported/eve/animation/EveAnimationCommand.js":function(e,t,r){"use strict";r.r(t),r.d(t,"EveAnimationCommand",(function(){return g}));var i,n,a,o,l,s,u,c,f=r("./global/index.js");var d,h,b,m,p,v,g=(i=f.meta.notImplemented,n=f.meta.type("EveAnimationCommand",!0),a=f.meta.black.uint,o=f.meta.todo("Identify default value"),i(l=n((c=class{constructor(){var e,t,r,i;e=this,t="command",i=this,(r=u)&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}},d=(s=c).prototype,h="command",b=[a,o],m={configurable:!0,enumerable:!0,writable:!0,initializer:function(){return-1}},v={},Object.keys(m).forEach((function(e){v[e]=m[e]})),v.enumerable=!!v.enumerable,v.configurable=!!v.configurable,("value"in v||v.initializer)&&(v.writable=!0),v=b.slice().reverse().reduce((function(e,t){return t(d,h,e)||e}),v),p&&void 0!==v.initializer&&(v.value=v.initializer?v.initializer.call(p):void 0,v.initializer=void 0),void 0===v.initializer&&(Object.defineProperty(d,h,v),v=null),u=v,l=s))||l)||l)},"./unsupported/eve/animation/EveAnimationCurve.js":function(e,t,r){"use strict";r.r(t),r.d(t,"EveAnimationCurve",(function(){return v}));var i,n,a,o,l,s,u,c=r("./global/index.js");var f,d,h,b,m,p,v=(i=c.meta.notImplemented,n=c.meta.type("EveAnimationCurve",!0),a=c.meta.black.string,i(o=n((u=class{constructor(){var e,t,r,i;e=this,t="name",i=this,(r=s)&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}},f=(l=u).prototype,d="name",h=[a],b={configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}},p={},Object.keys(b).forEach((function(e){p[e]=b[e]})),p.enumerable=!!p.enumerable,p.configurable=!!p.configurable,("value"in p||p.initializer)&&(p.writable=!0),p=h.slice().reverse().reduce((function(e,t){return t(f,d,e)||e}),p),m&&void 0!==p.initializer&&(p.value=p.initializer?p.initializer.call(m):void 0,p.initializer=void 0),void 0===p.initializer&&(Object.defineProperty(f,d,p),p=null),s=p,o=l))||o)||o)},"./unsupported/eve/animation/EveAnimationState.js":function(e,t,r){"use strict";r.r(t),r.d(t,"EveAnimationState",(function(){return _}));var i,n,a,o,l,s,u,c,f,d,h,b,m,p,v,g,E=r("./global/index.js"),y=r("./unsupported/eve/animation/EveAnimationStateTransition.js");function T(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function w(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var _=(i=E.meta.notImplemented,n=E.meta.type("EveAnimationState",!0),a=E.meta.black.string,o=E.meta.black.objectOf("EveAnimationCurve"),l=E.meta.black.listOf("EveAnimationCommand"),s=E.meta.black.listOf("EveAnimationCommand"),u=E.meta.black.listOf("EveAnimationCommand"),c=E.meta.black.struct([y.EveAnimationStateTransition],"EveAnimationStateTransition"),i(f=n((h=w((d=class{constructor(){T(this,"name",h,this),T(this,"animation",b,this),T(this,"curves",m,this),T(this,"commands",p,this),T(this,"initCommands",v,this),T(this,"transitions",g,this)}}).prototype,"name",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),b=w(d.prototype,"animation",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),m=w(d.prototype,"curves",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),p=w(d.prototype,"commands",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),v=w(d.prototype,"initCommands",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),g=w(d.prototype,"transitions",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),f=d))||f)||f)},"./unsupported/eve/animation/EveAnimationStateMachine.js":function(e,t,r){"use strict";r.r(t),r.d(t,"EveAnimationStateMachine",(function(){return w}));var i,n,a,o,l,s,u,c,f,d,h,b,m,p,v,g,E=r("./global/index.js");function y(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function T(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var w=(i=E.meta.notImplemented,n=E.meta.type("EveAnimationStateMachine",!0),a=E.meta.black.string,o=E.meta.black.boolean,l=E.meta.black.listOf("EveAnimationState"),s=E.meta.black.listOf("EveAnimationStateTransition"),u=E.meta.black.string,c=E.meta.black.string,i(f=n((h=T((d=class{constructor(){y(this,"name",h,this),y(this,"autoPlayDefault",b,this),y(this,"states",m,this),y(this,"transitions",p,this),y(this,"trackMask",v,this),y(this,"defaultAnimation",g,this)}}).prototype,"name",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),b=T(d.prototype,"autoPlayDefault",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),m=T(d.prototype,"states",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),p=T(d.prototype,"transitions",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),v=T(d.prototype,"trackMask",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),g=T(d.prototype,"defaultAnimation",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),f=d))||f)||f)},"./unsupported/eve/animation/EveAnimationStateTransition.js":function(e,t,r){"use strict";r.r(t),r.d(t,"EveAnimationStateTransition",(function(){return b}));var i,n,a,o,l,s,u,c,f=r("./global/index.js");function d(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function h(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var b=(i=f.meta.notImplemented,n=f.meta.type("EveAnimationStateTransition"),a=f.meta.string,o=f.meta.string,i(l=n((u=h((s=class e{constructor(){d(this,"state",u,this),d(this,"transition",c,this)}static blackStruct(t){var r=new e;return r.state=t.ReadStringU16(),t.ExpectU8(0,"unknown content"),t.ExpectU8(0,"unknown content"),t.ExpectU8(0,"unknown content"),t.ExpectU8(0,"unknown content"),t.ExpectU8(0,"unknown content"),t.ExpectU8(0,"unknown content"),r.transition=t.ReadStringU16(),t.ExpectU8(0,"unknown content"),t.ExpectU8(0,"unknown content"),t.ExpectU8(0,"unknown content"),t.ExpectU8(0,"unknown content"),t.ExpectU8(0,"unknown content"),t.ExpectU8(0,"unknown content"),r}}).prototype,"state",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),c=h(s.prototype,"transition",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),l=s))||l)||l)},"./unsupported/eve/animation/index.js":function(e,t,r){"use strict";r.r(t);var i=r("./unsupported/eve/animation/EveAnimation.js");r.d(t,"EveAnimation",(function(){return i.EveAnimation}));var n=r("./unsupported/eve/animation/EveAnimationCommand.js");r.d(t,"EveAnimationCommand",(function(){return n.EveAnimationCommand}));var a=r("./unsupported/eve/animation/EveAnimationCurve.js");r.d(t,"EveAnimationCurve",(function(){return a.EveAnimationCurve}));var o=r("./unsupported/eve/animation/EveAnimationState.js");r.d(t,"EveAnimationState",(function(){return o.EveAnimationState}));var l=r("./unsupported/eve/animation/EveAnimationStateMachine.js");r.d(t,"EveAnimationStateMachine",(function(){return l.EveAnimationStateMachine}))},"./unsupported/eve/child/EveChildBulletStorm.js":function(e,t,r){"use strict";r.r(t),r.d(t,"EveChildBulletStorm",(function(){return w}));var i,n,a,o,l,s,u,c,f,d,h,b,m,p,v,g=r("./eve/child/index.js"),E=r("./global/index.js");function y(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function T(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var w=(i=E.meta.notImplemented,n=E.meta.type("EveChildBulletStorm",!0),a=E.meta.black.objectOf("Tw2Effect"),o=E.meta.black.uint,l=E.meta.black.float,s=E.meta.black.string,u=E.meta.black.float,i(c=n((v=class extends g.EveChild{constructor(...e){super(...e),y(this,"effect",d,this),y(this,"multiplier",h,this),y(this,"range",b,this),y(this,"sourceLocatorSet",m,this),y(this,"speed",p,this)}GetResources(e=[]){return this.effect&&this.effect.GetResources(e),e}},d=T((f=v).prototype,"effect",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),h=T(f.prototype,"multiplier",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),b=T(f.prototype,"range",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),m=T(f.prototype,"sourceLocatorSet",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),p=T(f.prototype,"speed",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),c=f))||c)||c)},"./unsupported/eve/child/EveChildCloud.js":function(e,t,r){"use strict";r.r(t),r.d(t,"EveChildCloud",(function(){return A}));var i,n,a,o,l,s,u,c,f,d,h,b,m,p,v,g,E,y,T,w,_,S=r("./global/index.js"),R=r("./eve/child/index.js");function j(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function O(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var A=(i=S.meta.notImplemented,n=S.meta.type("EveChildCloud",!0),a=S.meta.black.string,o=S.meta.black.float,l=S.meta.black.objectOf("Tw2Effect"),s=S.meta.black.uint,u=S.meta.black.quaternion,c=S.meta.black.vector3,f=S.meta.black.float,d=S.meta.black.vector3,i(h=n((_=class extends R.EveChild{constructor(...e){super(...e),j(this,"name",m,this),j(this,"cellScreenSize",p,this),j(this,"effect",v,this),j(this,"preTesselationLevel",g,this),j(this,"rotation",E,this),j(this,"scaling",y,this),j(this,"sortingModifier",T,this),j(this,"translation",w,this)}GetResources(e=[]){return this.effect&&this.effect.GetResources(e),e}},m=O((b=_).prototype,"name",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),p=O(b.prototype,"cellScreenSize",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),v=O(b.prototype,"effect",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),g=O(b.prototype,"preTesselationLevel",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),E=O(b.prototype,"rotation",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return S.quat.create()}}),y=O(b.prototype,"scaling",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return S.vec3.fromValues(1,1,1)}}),T=O(b.prototype,"sortingModifier",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),w=O(b.prototype,"translation",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return S.vec3.create()}}),h=b))||h)||h)},"./unsupported/eve/child/EveChildExplosion.js":function(e,t,r){"use strict";r.r(t),r.d(t,"EveChildExplosion",(function(){return N}));var i,n,a,o,l,s,u,c,f,d,h,b,m,p,v,g,E,y,T,w,_,S,R,j,O,A,z,P,C,D,I,x,L,M=r("./global/index.js"),F=r("./eve/child/index.js");function G(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function k(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var N=(i=M.meta.notImplemented,n=M.meta.type("EveChildExplosion",!0),a=M.meta.black.string,o=M.meta.black.float,l=M.meta.black.objectOf("EveChildExplosion"),s=M.meta.black.float,u=M.meta.black.vector3,c=M.meta.black.float,f=M.meta.black.objectOf("EveChildExplosion"),d=M.meta.black.float,h=M.meta.black.float,b=M.meta.black.objectOf("EveChildExplosion"),m=M.meta.black.listOf("EveChildExplosion"),p=M.meta.black.matrix4,v=M.meta.black.quaternion,g=M.meta.black.vector3,i(E=n((L=class extends F.EveChild{constructor(...e){super(...e),G(this,"name",T,this),G(this,"globalDuration",w,this),G(this,"globalExplosion",_,this),G(this,"globalExplosionDelay",S,this),G(this,"globalScaling",R,this),G(this,"localDuration",j,this),G(this,"localExplosion",O,this),G(this,"localExplosionInterval",A,this),G(this,"localExplosionIntervalFactor",z,this),G(this,"localExplosionShared",P,this),G(this,"localExplosions",C,this),G(this,"localTransform",D,this),G(this,"rotation",I,this),G(this,"scaling",x,this)}GetResources(e=[]){this.localExplosion&&this.localExplosion.GetResources(e),this.localExplosionShared&&this.localExplosionShared.GetResources(e);for(var t=0;t<this.localExplosions.length;t++)this.localExplosions[t].GetResources(e);return e}},T=k((y=L).prototype,"name",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),w=k(y.prototype,"globalDuration",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),_=k(y.prototype,"globalExplosion",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),S=k(y.prototype,"globalExplosionDelay",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),R=k(y.prototype,"globalScaling",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return M.vec3.fromValues(1,1,1)}}),j=k(y.prototype,"localDuration",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),O=k(y.prototype,"localExplosion",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),A=k(y.prototype,"localExplosionInterval",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),z=k(y.prototype,"localExplosionIntervalFactor",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),P=k(y.prototype,"localExplosionShared",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),C=k(y.prototype,"localExplosions",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),D=k(y.prototype,"localTransform",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return M.mat4.create()}}),I=k(y.prototype,"rotation",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return M.quat.create()}}),x=k(y.prototype,"scaling",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return M.vec3.fromValues(1,1,1)}}),E=y))||E)||E)},"./unsupported/eve/child/EveChildInheritProperties.js":function(e,t,r){"use strict";r.r(t),r.d(t,"EveChildInheritProperties",(function(){return a}));var i,n=r("./global/index.js"),a=(0,n.meta.notImplemented)(i=n.meta.type("EveChildInheritProperties",!0)(i=n.meta.data("black")(i=class{})||i)||i)||i},"./unsupported/eve/child/EveChildLink.js":function(e,t,r){"use strict";r.r(t),r.d(t,"EveChildLink",(function(){return w}));var i,n,a,o,l,s,u,c,f,d,h,b,m,p,v,g=r("./global/index.js"),E=r("./eve/child/index.js");function y(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function T(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var w=(i=g.meta.notImplemented,n=g.meta.type("EveChildLink",!0),a=g.meta.black.string,o=g.meta.black.listOf("Tw2ValueBinding"),l=g.meta.black.listOf("Tw2Curve"),s=g.meta.black.objectOf("Tw2Mesh"),u=g.meta.black.quaternion,i(c=n((v=class extends E.EveChild{constructor(...e){super(...e),y(this,"name",d,this),y(this,"linkStrengthBindings",h,this),y(this,"linkStrengthCurves",b,this),y(this,"mesh",m,this),y(this,"rotation",p,this)}GetResources(e=[]){return this.mesh&&this.mesh.GetResources(e),e}},d=T((f=v).prototype,"name",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),h=T(f.prototype,"linkStrengthBindings",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),b=T(f.prototype,"linkStrengthCurves",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),m=T(f.prototype,"mesh",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),p=T(f.prototype,"rotation",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return g.quat.create()}}),c=f))||c)||c)},"./unsupported/eve/child/EveChildParticleSphere.js":function(e,t,r){"use strict";r.r(t),r.d(t,"EveChildParticleSphere",(function(){return M}));var i,n,a,o,l,s,u,c,f,d,h,b,m,p,v,g,E,y,T,w,_,S,R,j,O,A,z,P,C,D=r("./global/index.js"),I=r("./eve/child/index.js");function x(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function L(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var M=(i=D.meta.notImplemented,n=D.meta.type("EveChildParticleSphere",!0),a=D.meta.black.string,o=D.meta.black.listOf("Tw2ParticleAttributeGenerator"),l=D.meta.black.float,s=D.meta.black.objectOf("Tw2InstancedMesh"),u=D.meta.black.float,c=D.meta.black.objectOf("Tw2ParticleSystem"),f=D.meta.black.float,d=D.meta.black.float,h=D.meta.black.float,b=D.meta.black.float,m=D.meta.black.float,p=D.meta.black.boolean,i(v=n((C=class extends I.EveChild{constructor(...e){super(...e),x(this,"name",E,this),x(this,"generators",y,this),x(this,"maxSpeed",T,this),x(this,"mesh",w,this),x(this,"movementScale",_,this),x(this,"particleSystem",S,this),x(this,"positionShiftDecreaseSpeed",R,this),x(this,"positionShiftIncreaseSpeed",j,this),x(this,"positionShiftMax",O,this),x(this,"positionShiftMin",A,this),x(this,"radius",z,this),x(this,"useSpaceObjectData",P,this)}GetResources(e=[]){return this.mesh&&this.mesh.GetResources(e),this.particleSystem&&this.particleSystem.GetResources&&this.particleSystem.GetResources(e),e}},E=L((g=C).prototype,"name",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),y=L(g.prototype,"generators",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),T=L(g.prototype,"maxSpeed",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),w=L(g.prototype,"mesh",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_=L(g.prototype,"movementScale",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),S=L(g.prototype,"particleSystem",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),R=L(g.prototype,"positionShiftDecreaseSpeed",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),j=L(g.prototype,"positionShiftIncreaseSpeed",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),O=L(g.prototype,"positionShiftMax",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),A=L(g.prototype,"positionShiftMin",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),z=L(g.prototype,"radius",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),P=L(g.prototype,"useSpaceObjectData",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),v=g))||v)||v)},"./unsupported/eve/child/EveChildQuad.js":function(e,t,r){"use strict";r.r(t),r.d(t,"EveChildQuad",(function(){return P}));var i,n,a,o,l,s,u,c,f,d,h,b,m,p,v,g,E,y,T,w,_,S,R,j=r("./global/index.js"),O=r("./eve/child/index.js");function A(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function z(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var P=(i=j.meta.notImplemented,n=j.meta.type("EveChildQuad",!0),a=j.meta.black.string,o=j.meta.black.float,l=j.meta.black.color,s=j.meta.black.object,u=j.meta.black.matrix4,c=j.meta.black.float,f=j.meta.black.quaternion,d=j.meta.black.vector3,h=j.meta.black.vector3,i(b=n((R=class extends O.EveChild{constructor(...e){super(...e),A(this,"name",p,this),A(this,"brightness",v,this),A(this,"color",g,this),A(this,"effect",E,this),A(this,"localTransform",y,this),A(this,"minScreenSize",T,this),A(this,"rotation",w,this),A(this,"scaling",_,this),A(this,"translation",S,this)}GetResources(e=[]){return this.effect&&this.effect.GetResources(e),e}},p=z((m=R).prototype,"name",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),v=z(m.prototype,"brightness",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),g=z(m.prototype,"color",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return j.vec4.create()}}),E=z(m.prototype,"effect",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),y=z(m.prototype,"localTransform",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return j.mat4.create()}}),T=z(m.prototype,"minScreenSize",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),w=z(m.prototype,"rotation",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return j.quat.create()}}),_=z(m.prototype,"scaling",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return j.vec3.fromValues(1,1,1)}}),S=z(m.prototype,"translation",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return j.vec3.create()}}),b=m))||b)||b)},"./unsupported/eve/child/index.js":function(e,t,r){"use strict";r.r(t);var i=r("./unsupported/eve/child/modifier/index.js");r.d(t,"EveChildModifierAttachToBone",(function(){return i.EveChildModifierAttachToBone})),r.d(t,"EveChildModifierBillboard2D",(function(){return i.EveChildModifierBillboard2D})),r.d(t,"EveChildModifierBillboard3D",(function(){return i.EveChildModifierBillboard3D})),r.d(t,"EveChildModifierCameraOrientedRotationConstrained",(function(){return i.EveChildModifierCameraOrientedRotationConstrained})),r.d(t,"EveChildModifierSRT",(function(){return i.EveChildModifierSRT})),r.d(t,"EveChildModifierTranslateWithCamera",(function(){return i.EveChildModifierTranslateWithCamera}));var n=r("./unsupported/eve/child/EveChildBulletStorm.js");r.d(t,"EveChildBulletStorm",(function(){return n.EveChildBulletStorm}));var a=r("./unsupported/eve/child/EveChildCloud.js");r.d(t,"EveChildCloud",(function(){return a.EveChildCloud}));var o=r("./unsupported/eve/child/EveChildExplosion.js");r.d(t,"EveChildExplosion",(function(){return o.EveChildExplosion}));var l=r("./unsupported/eve/child/EveChildInheritProperties.js");r.d(t,"EveChildInheritProperties",(function(){return l.EveChildInheritProperties}));var s=r("./unsupported/eve/child/EveChildLink.js");r.d(t,"EveChildLink",(function(){return s.EveChildLink}));var u=r("./unsupported/eve/child/EveChildParticleSphere.js");r.d(t,"EveChildParticleSphere",(function(){return u.EveChildParticleSphere}));var c=r("./unsupported/eve/child/EveChildQuad.js");r.d(t,"EveChildQuad",(function(){return c.EveChildQuad}))},"./unsupported/eve/child/modifier/EveChildModifier.js":function(e,t,r){"use strict";r.r(t),r.d(t,"EveChildModifier",(function(){return a}));var i,n=r("./global/index.js"),a=n.meta.type("EveChildModifier")(i=class extends n.Tw2BaseClass{})||i},"./unsupported/eve/child/modifier/EveChildModifierAttachToBone.js":function(e,t,r){"use strict";r.r(t),r.d(t,"EveChildModifierAttachToBone",(function(){return g}));var i,n,a,o,l,s,u,c=r("./global/index.js"),f=r("./unsupported/eve/child/modifier/EveChildModifier.js");var d,h,b,m,p,v,g=(i=c.meta.notImplemented,n=c.meta.type("EveChildModifierAttachToBone",!0),a=c.meta.black.uint,i(o=n((u=class extends f.EveChildModifier{constructor(...e){var t,r,i,n;super(...e),t=this,r="boneIndex",n=this,(i=s)&&Object.defineProperty(t,r,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}},d=(l=u).prototype,h="boneIndex",b=[a],m={configurable:!0,enumerable:!0,writable:!0,initializer:function(){return-1}},v={},Object.keys(m).forEach((function(e){v[e]=m[e]})),v.enumerable=!!v.enumerable,v.configurable=!!v.configurable,("value"in v||v.initializer)&&(v.writable=!0),v=b.slice().reverse().reduce((function(e,t){return t(d,h,e)||e}),v),p&&void 0!==v.initializer&&(v.value=v.initializer?v.initializer.call(p):void 0,v.initializer=void 0),void 0===v.initializer&&(Object.defineProperty(d,h,v),v=null),s=v,o=l))||o)||o)},"./unsupported/eve/child/modifier/EveChildModifierBillboard2D.js":function(e,t,r){"use strict";r.r(t),r.d(t,"EveChildModifierBillboard2D",(function(){return o}));var i,n=r("./global/index.js"),a=r("./unsupported/eve/child/modifier/EveChildModifier.js"),o=(0,n.meta.notImplemented)(i=n.meta.type("EveChildModifierBillboard2D",!0)(i=n.meta.data("black")(i=class extends a.EveChildModifier{})||i)||i)||i},"./unsupported/eve/child/modifier/EveChildModifierBillboard3D.js":function(e,t,r){"use strict";r.r(t),r.d(t,"EveChildModifierBillboard3D",(function(){return o}));var i,n=r("./global/index.js"),a=r("./unsupported/eve/child/modifier/EveChildModifier.js"),o=(0,n.meta.notImplemented)(i=n.meta.type("EveChildModifierBillboard3D",!0)(i=n.meta.data("black")(i=class extends a.EveChildModifier{})||i)||i)||i},"./unsupported/eve/child/modifier/EveChildModifierCameraOrientedRotationConstrained.js":function(e,t,r){"use strict";r.r(t),r.d(t,"EveChildModifierCameraOrientedRotationConstrained",(function(){return o}));var i,n=r("./global/index.js"),a=r("./unsupported/eve/child/modifier/EveChildModifier.js"),o=(0,n.meta.notImplemented)(i=n.meta.type("EveChildModifierCameraOrientedRotationConstrained",!0)(i=n.meta.data("black")(i=class extends a.EveChildModifier{})||i)||i)||i},"./unsupported/eve/child/modifier/EveChildModifierSRT.js":function(e,t,r){"use strict";r.r(t),r.d(t,"EveChildModifierSRT",(function(){return g}));var i,n,a,o,l,s,u,c,f,d,h,b=r("./global/index.js"),m=r("./unsupported/eve/child/modifier/EveChildModifier.js");function p(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function v(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var g=(i=b.meta.notImplemented,n=b.meta.type("EveChildModifierSRT",!0),a=b.meta.black.quaternion,o=b.meta.black.vector3,l=b.meta.black.vector3,i(s=n((h=class extends m.EveChildModifier{constructor(...e){super(...e),p(this,"rotation",c,this),p(this,"scaling",f,this),p(this,"translation",d,this)}},c=v((u=h).prototype,"rotation",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return b.quat.create()}}),f=v(u.prototype,"scaling",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return b.vec3.fromValues(1,1,1)}}),d=v(u.prototype,"translation",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return b.vec3.create()}}),s=u))||s)||s)},"./unsupported/eve/child/modifier/EveChildModifierTranslateWithCamera.js":function(e,t,r){"use strict";r.r(t),r.d(t,"EveChildModifierTranslateWithCamera",(function(){return o}));var i,n=r("./global/index.js"),a=r("./unsupported/eve/child/modifier/EveChildModifier.js"),o=(0,n.meta.notImplemented)(i=n.meta.type("EveChildModifierTranslateWithCamera",!0)(i=n.meta.data("black")(i=class extends a.EveChildModifier{})||i)||i)||i},"./unsupported/eve/child/modifier/index.js":function(e,t,r){"use strict";r.r(t);var i=r("./unsupported/eve/child/modifier/EveChildModifierAttachToBone.js");r.d(t,"EveChildModifierAttachToBone",(function(){return i.EveChildModifierAttachToBone}));var n=r("./unsupported/eve/child/modifier/EveChildModifierBillboard2D.js");r.d(t,"EveChildModifierBillboard2D",(function(){return n.EveChildModifierBillboard2D}));var a=r("./unsupported/eve/child/modifier/EveChildModifierBillboard3D.js");r.d(t,"EveChildModifierBillboard3D",(function(){return a.EveChildModifierBillboard3D}));var o=r("./unsupported/eve/child/modifier/EveChildModifierCameraOrientedRotationConstrained.js");r.d(t,"EveChildModifierCameraOrientedRotationConstrained",(function(){return o.EveChildModifierCameraOrientedRotationConstrained}));var l=r("./unsupported/eve/child/modifier/EveChildModifierSRT.js");r.d(t,"EveChildModifierSRT",(function(){return l.EveChildModifierSRT}));var s=r("./unsupported/eve/child/modifier/EveChildModifierTranslateWithCamera.js");r.d(t,"EveChildModifierTranslateWithCamera",(function(){return s.EveChildModifierTranslateWithCamera}))},"./unsupported/eve/effect/EveStarfield.js":function(e,t,r){"use strict";r.r(t),r.d(t,"EveStarfield",(function(){return O}));var i,n,a,o,l,s,u,c,f,d,h,b,m,p,v,g,E,y,T,w,_,S=r("./global/index.js");function R(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function j(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var O=(i=S.meta.notImplemented,n=S.meta.type("EveStarfield",!0),a=S.meta.black.objectOf("Tw2Effect"),o=S.meta.black.float,l=S.meta.black.float,s=S.meta.black.float,u=S.meta.black.float,c=S.meta.black.float,f=S.meta.black.uint,d=S.meta.black.uint,i(h=n((_=class extends S.Tw2BaseClass{constructor(...e){super(...e),R(this,"effect",m,this),R(this,"maxDist",p,this),R(this,"maxFlashRate",v,this),R(this,"minDist",g,this),R(this,"minFlashIntensity",E,this),R(this,"minFlashRate",y,this),R(this,"numStars",T,this),R(this,"seed",w,this)}},m=j((b=_).prototype,"effect",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),p=j(b.prototype,"maxDist",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),v=j(b.prototype,"maxFlashRate",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),g=j(b.prototype,"minDist",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),E=j(b.prototype,"minFlashIntensity",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),y=j(b.prototype,"minFlashRate",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),T=j(b.prototype,"numStars",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),w=j(b.prototype,"seed",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),h=b))||h)||h)},"./unsupported/eve/effect/EveStretch2.js":function(e,t,r){"use strict";r.r(t),r.d(t,"EveStretch2",(function(){return O}));var i,n,a,o,l,s,u,c,f,d,h,b,m,p,v,g,E,y,T,w,_,S=r("./global/index.js");function R(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function j(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var O=(i=S.meta.notImplemented,n=S.meta.type("EveStretch2",!0),a=S.meta.black.string,o=S.meta.black.object,l=S.meta.black.object,s=S.meta.black.objectOf("Tw2Effect"),u=S.meta.black.objectOf("Tw2CurveSet"),c=S.meta.black.object,f=S.meta.black.object,d=S.meta.black.uint,i(h=n((_=class extends S.Tw2BaseClass{constructor(...e){super(...e),R(this,"name",m,this),R(this,"destinationEmitter",p,this),R(this,"destinationLight",v,this),R(this,"effect",g,this),R(this,"loop",E,this),R(this,"sourceEmitter",y,this),R(this,"sourceLight",T,this),R(this,"quadCount",w,this)}},m=j((b=_).prototype,"name",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),p=j(b.prototype,"destinationEmitter",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),v=j(b.prototype,"destinationLight",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),g=j(b.prototype,"effect",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),E=j(b.prototype,"loop",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),y=j(b.prototype,"sourceEmitter",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),T=j(b.prototype,"sourceLight",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),w=j(b.prototype,"quadCount",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),h=b))||h)||h)},"./unsupported/eve/effect/index.js":function(e,t,r){"use strict";r.r(t);var i=r("./unsupported/eve/effect/EveStarfield.js");r.d(t,"EveStarfield",(function(){return i.EveStarfield}));var n=r("./unsupported/eve/effect/EveStretch2.js");r.d(t,"EveStretch2",(function(){return n.EveStretch2}))},"./unsupported/eve/index.js":function(e,t,r){"use strict";r.r(t);var i=r("./unsupported/eve/animation/index.js");r.d(t,"EveAnimation",(function(){return i.EveAnimation})),r.d(t,"EveAnimationCommand",(function(){return i.EveAnimationCommand})),r.d(t,"EveAnimationCurve",(function(){return i.EveAnimationCurve})),r.d(t,"EveAnimationState",(function(){return i.EveAnimationState})),r.d(t,"EveAnimationStateMachine",(function(){return i.EveAnimationStateMachine}));var n=r("./unsupported/eve/child/index.js");r.d(t,"EveChildBulletStorm",(function(){return n.EveChildBulletStorm})),r.d(t,"EveChildCloud",(function(){return n.EveChildCloud})),r.d(t,"EveChildExplosion",(function(){return n.EveChildExplosion})),r.d(t,"EveChildInheritProperties",(function(){return n.EveChildInheritProperties})),r.d(t,"EveChildLink",(function(){return n.EveChildLink})),r.d(t,"EveChildParticleSphere",(function(){return n.EveChildParticleSphere})),r.d(t,"EveChildQuad",(function(){return n.EveChildQuad})),r.d(t,"EveChildModifierAttachToBone",(function(){return n.EveChildModifierAttachToBone})),r.d(t,"EveChildModifierBillboard2D",(function(){return n.EveChildModifierBillboard2D})),r.d(t,"EveChildModifierBillboard3D",(function(){return n.EveChildModifierBillboard3D})),r.d(t,"EveChildModifierCameraOrientedRotationConstrained",(function(){return n.EveChildModifierCameraOrientedRotationConstrained})),r.d(t,"EveChildModifierSRT",(function(){return n.EveChildModifierSRT})),r.d(t,"EveChildModifierTranslateWithCamera",(function(){return n.EveChildModifierTranslateWithCamera}));var a=r("./unsupported/eve/effect/index.js");r.d(t,"EveStarfield",(function(){return a.EveStarfield})),r.d(t,"EveStretch2",(function(){return a.EveStretch2}));var o=r("./unsupported/eve/item/index.js");r.d(t,"EveBanner",(function(){return o.EveBanner})),r.d(t,"EveBoosterSet2Batch",(function(){return o.EveBoosterSet2Batch})),r.d(t,"EveBoosterSet2Item",(function(){return o.EveBoosterSet2Item})),r.d(t,"EveBoosterSet2",(function(){return o.EveBoosterSet2})),r.d(t,"EveHazeSetBatch",(function(){return o.EveHazeSetBatch})),r.d(t,"EveHazeSetItem",(function(){return o.EveHazeSetItem})),r.d(t,"EveHazeSet",(function(){return o.EveHazeSet})),r.d(t,"EveSpriteLineSetBatch",(function(){return o.EveSpriteLineSetBatch})),r.d(t,"EveSpriteLineSetItem",(function(){return o.EveSpriteLineSetItem})),r.d(t,"EveSpriteLineSet",(function(){return o.EveSpriteLineSet})),r.d(t,"EveTrailSetRenderBatch",(function(){return o.EveTrailSetRenderBatch})),r.d(t,"EveTrailsSet",(function(){return o.EveTrailsSet}));var l=r("./unsupported/eve/object/index.js");r.d(t,"EveEffectRoot2",(function(){return l.EveEffectRoot2})),r.d(t,"EveMobile",(function(){return l.EveMobile})),r.d(t,"EveRootTransform",(function(){return l.EveRootTransform})),r.d(t,"EveShip2",(function(){return l.EveShip2})),r.d(t,"EveStation2",(function(){return l.EveStation2}));var s=r("./unsupported/eve/particle/index.js");r.d(t,"EveParticleDirectForce",(function(){return s.EveParticleDirectForce})),r.d(t,"EveParticleDragForce",(function(){return s.EveParticleDragForce}));var u=r("./unsupported/eve/pi/index.js");r.d(t,"EveConnector",(function(){return u.EveConnector})),r.d(t,"EveLocalPositionCurve",(function(){return u.EveLocalPositionCurve})),r.d(t,"EveSpherePin",(function(){return u.EveSpherePin}));var c=r("./unsupported/eve/ui/index.js");r.d(t,"EveTacticalOverlay",(function(){return c.EveTacticalOverlay})),r.d(t,"EveUiObject",(function(){return c.EveUiObject}))},"./unsupported/eve/item/EveBanner.js":function(e,t,r){"use strict";r.r(t),r.d(t,"EveBanner",(function(){return C}));var i,n,a,o,l,s,u,c,f,d,h,b,m,p,v,g,E,y,T,w,_,S,R,j,O,A=r("./global/index.js");function z(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function P(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var C=(i=A.meta.type("EveBanner",!0),n=A.meta.notImplemented,a=A.meta.string,o=A.meta.float,l=A.meta.float,s=A.meta.uint,u=A.meta.boolean,c=A.meta.vector3,f=A.meta.quaternion,d=A.meta.vector3,h=A.meta.uint,b=A.meta.matrix4,i(m=n((O=class extends A.Tw2BaseClass{constructor(...e){super(...e),z(this,"name",v,this),z(this,"angleX",g,this),z(this,"angleY",E,this),z(this,"boneIndex",y,this),z(this,"display",T,this),z(this,"position",w,this),z(this,"rotation",_,this),z(this,"scaling",S,this),z(this,"usage",R,this),z(this,"transform",j,this)}OnValueChanged(){A.mat4.fromRotationTranslationScale(this.transform,this.rotation,this.position,this.scaling)}},v=P((p=O).prototype,"name",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),g=P(p.prototype,"angleX",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),E=P(p.prototype,"angleY",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),y=P(p.prototype,"boneIndex",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),T=P(p.prototype,"display",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),w=P(p.prototype,"position",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return A.vec3.create()}}),_=P(p.prototype,"rotation",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return A.quat.create()}}),S=P(p.prototype,"scaling",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return A.vec3.fromValues(1,1,1)}}),R=P(p.prototype,"usage",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),j=P(p.prototype,"transform",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return A.mat4.create()}}),m=p))||m)||m)},"./unsupported/eve/item/EveBoosterSet2.js":function(e,t,r){"use strict";r.r(t),r.d(t,"EveBoosterSet2Batch",(function(){return J})),r.d(t,"EveBoosterSet2Item",(function(){return ee})),r.d(t,"EveBoosterSet2",(function(){return te}));var i,n,a,o,l,s,u,c,f,d,h,b,m,p,v,g,E,y,T,w,_,S,R,j,O,A,z,P,C,D,I,x,L,M,F,G,k,N,B,U,V,H,q,W,Y,X=r("./global/index.js"),K=r("./core/index.js"),Q=r("./eve/index.js");function Z(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function $(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var J=(0,X.meta.notImplemented)(i=class extends K.Tw2RenderBatch{constructor(...e){super(...e),this.boosterSet=null}Commit(e){this.boosterSet.Render(e)}})||i,ee=(0,X.meta.notImplemented)(n=X.meta.type("EveBoosterSet2Item",!0)(n=class extends Q.EveObjectSetItem{})||n)||n,te=(a=X.meta.notImplemented,o=X.meta.type("EveBoosterSet2",!0),l=X.meta.black.boolean,s=X.meta.black.float,u=X.meta.black.objectOf("Tw2Effect"),c=X.meta.black.color,f=X.meta.black.float,d=X.meta.black.objectOf("EveSpriteSet"),h=X.meta.black.color,b=X.meta.black.float,m=X.meta.black.float,p=X.meta.black.color,v=X.meta.black.float,g=X.meta.black.float,E=X.meta.black.float,y=X.meta.black.color,T=X.meta.black.float,w=X.meta.black.float,_=X.meta.black.objectOf("EveTrailsSet"),S=X.meta.black.color,R=X.meta.black.color,a(j=o((Y=class extends Q.EveObjectSet{constructor(...e){super(...e),Z(this,"alwaysOn",A,this),Z(this,"alwaysOnIntensity",z,this),Z(this,"effect",P,this),Z(this,"glowColor",C,this),Z(this,"glowScale",D,this),Z(this,"glows",I,this),Z(this,"haloColor",x,this),Z(this,"haloScaleX",L,this),Z(this,"haloScaleY",M,this),Z(this,"lightColor",F,this),Z(this,"lightFlickerAmplitude",G,this),Z(this,"lightFlickerFrequency",k,this),Z(this,"lightRadius",N,this),Z(this,"lightWarpColor",B,this),Z(this,"lightWarpRadius",U,this),Z(this,"symHaloScale",V,this),Z(this,"trails",H,this),Z(this,"warpGlowColor",q,this),Z(this,"warpHaloColor",W,this)}},A=$((O=Y).prototype,"alwaysOn",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),z=$(O.prototype,"alwaysOnIntensity",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),P=$(O.prototype,"effect",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),C=$(O.prototype,"glowColor",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return X.vec4.create()}}),D=$(O.prototype,"glowScale",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),I=$(O.prototype,"glows",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),x=$(O.prototype,"haloColor",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return X.vec4.create()}}),L=$(O.prototype,"haloScaleX",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),M=$(O.prototype,"haloScaleY",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),F=$(O.prototype,"lightColor",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return X.vec4.create()}}),G=$(O.prototype,"lightFlickerAmplitude",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),k=$(O.prototype,"lightFlickerFrequency",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),N=$(O.prototype,"lightRadius",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),B=$(O.prototype,"lightWarpColor",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return X.vec4.create()}}),U=$(O.prototype,"lightWarpRadius",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),V=$(O.prototype,"symHaloScale",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),H=$(O.prototype,"trails",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),q=$(O.prototype,"warpGlowColor",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return X.vec4.create()}}),W=$(O.prototype,"warpHaloColor",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return X.vec4.create()}}),j=O))||j)||j)},"./unsupported/eve/item/EveHazeSet.js":function(e,t,r){"use strict";r.r(t),r.d(t,"EveHazeSetBatch",(function(){return I})),r.d(t,"EveHazeSetItem",(function(){return x})),r.d(t,"EveHazeSet",(function(){return L}));var i,n,a,o,l,s,u,c,f,d,h,b,m,p,v,g,E,y,T,w,_,S,R,j,O,A=r("./global/index.js"),z=r("./core/index.js"),P=r("./eve/index.js");function C(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function D(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var I=(0,A.meta.notImplemented)(i=class extends z.Tw2RenderBatch{constructor(...e){super(...e),this.hazeSet=null}Commit(e){this.hazeSet.Render(e)}})||i,x=(n=A.meta.notImplemented,a=A.meta.type("EveHazeSetItem",!0),o=A.meta.boolean,l=A.meta.uint,s=A.meta.float,u=A.meta.float,c=A.meta.vector3,f=A.meta.quaternion,d=A.meta.vector3,h=A.meta.float,b=A.meta.float,n(m=a((j=class extends P.EveObjectSetItem{constructor(...e){super(...e),C(this,"boosterGainInfluence",v,this),C(this,"colorType",g,this),C(this,"hazeBrightness",E,this),C(this,"hazeFalloff",y,this),C(this,"position",T,this),C(this,"rotation",w,this),C(this,"scaling",_,this),C(this,"sourceBrightness",S,this),C(this,"sourceSize",R,this),this._transform=A.mat4.create()}OnValueChanged(){A.mat4.fromRotationTranslationScale(this._transform,this.rotation,this.position,this.scaling),this._dirty=!0}},v=D((p=j).prototype,"boosterGainInfluence",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),g=D(p.prototype,"colorType",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),E=D(p.prototype,"hazeBrightness",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),y=D(p.prototype,"hazeFalloff",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),T=D(p.prototype,"position",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return A.vec3.create()}}),w=D(p.prototype,"rotation",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return A.quat.create()}}),_=D(p.prototype,"scaling",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return A.vec3.fromValues(1,1,1)}}),S=D(p.prototype,"sourceBrightness",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),R=D(p.prototype,"sourceSize",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),m=p))||m)||m),L=(0,A.meta.notImplemented)(O=A.meta.type("EveHazeSet",!0)(O=class extends P.EveObjectSet{})||O)||O},"./unsupported/eve/item/EveSpriteLineSet.js":function(e,t,r){"use strict";r.r(t),r.d(t,"EveSpriteLineSetBatch",(function(){return W})),r.d(t,"EveSpriteLineSetItem",(function(){return Y})),r.d(t,"EveSpriteLineSet",(function(){return X}));var i,n,a,o,l,s,u,c,f,d,h,b,m,p,v,g,E,y,T,w,_,S,R,j,O,A,z,P,C,D,I,x,L,M,F,G,k,N,B,U=r("./global/index.js"),V=r("./eve/index.js");function H(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function q(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var W=(0,U.meta.notImplemented)(i=class{constructor(){this.spriteLineSet=null}Commit(e){this.spriteLineSet.Render(e)}})||i,Y=(n=U.meta.notImplemented,a=U.meta.type("EveSpriteLineSetItem"),o=U.meta.float,l=U.meta.float,s=U.meta.float,u=U.meta.uint,c=U.meta.uint,f=U.meta.float,d=U.meta.float,h=U.meta.boolean,b=U.meta.float,m=U.meta.float,p=U.meta.vector3,v=U.meta.quaternion,g=U.meta.vector3,E=U.meta.float,y=U.meta.boolean,T=U.meta.matrix4,n(w=a((N=class extends V.EveObjectSetItem{constructor(...e){super(...e),H(this,"blinkPhase",S,this),H(this,"blinkPhaseShift",R,this),H(this,"blinkRate",j,this),H(this,"boneIndex",O,this),H(this,"colorType",A,this),H(this,"falloff",z,this),H(this,"intensity",P,this),H(this,"isCircle",C,this),H(this,"maxScale",D,this),H(this,"minScale",I,this),H(this,"position",x,this),H(this,"rotation",L,this),H(this,"scaling",M,this),H(this,"spacing",F,this),H(this,"display",G,this),H(this,"transform",k,this),this._dirty=!0}OnValueChanged(){U.mat4.fromRotationTranslationScale(this.transform,this.rotation,this.position,this.scaling),this._dirty=!0}},S=q((_=N).prototype,"blinkPhase",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),R=q(_.prototype,"blinkPhaseShift",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),j=q(_.prototype,"blinkRate",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),O=q(_.prototype,"boneIndex",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),A=q(_.prototype,"colorType",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),z=q(_.prototype,"falloff",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),P=q(_.prototype,"intensity",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),C=q(_.prototype,"isCircle",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),D=q(_.prototype,"maxScale",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),I=q(_.prototype,"minScale",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),x=q(_.prototype,"position",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return U.vec3.create()}}),L=q(_.prototype,"rotation",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return U.quat.create()}}),M=q(_.prototype,"scaling",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return U.vec3.fromValues(1,1,1)}}),F=q(_.prototype,"spacing",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),G=q(_.prototype,"display",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),k=q(_.prototype,"transform",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return U.mat4.create()}}),w=_))||w)||w),X=(0,U.meta.notImplemented)(B=U.meta.type("EveSpriteLineSet")(B=class extends V.EveObjectSet{})||B)||B},"./unsupported/eve/item/EveTrailsSet.js":function(e,t,r){"use strict";r.r(t),r.d(t,"EveTrailSetRenderBatch",(function(){return E})),r.d(t,"EveTrailsSet",(function(){return y}));var i,n,a,o,l,s,u,c,f,d,h,b,m=r("./global/index.js"),p=r("./core/batch/index.js");function v(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function g(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var E=(0,m.meta.notImplemented)(i=class extends p.Tw2RenderBatch{constructor(...e){super(...e),this.trailsSet=null}Commit(e){this.boosters.Render(e)}})||i,y=(n=m.meta.notImplemented,a=m.meta.type("EveTrailSet",!0),o=m.meta.black.object,l=m.meta.black.path,s=m.meta.boolean,n(u=a((b=class extends m.Tw2BaseClass{constructor(...e){super(...e),v(this,"effect",f,this),v(this,"geometryResPath",d,this),v(this,"display",h,this),this._geometryRes=null}Initialize(){this.geometryResPath&&(this._geometryRes=m.resMan.GetResource(this.geometryResPath,e=>this.OnResPrepared(e)))}OnResPrepared(e){}GetResources(e=[]){return this.effect&&this.effect.GetResources(e),this._geometryRes&&!e.includes(this._geometryRes)&&e.push(this._geometryRes),e}},f=g((c=b).prototype,"effect",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),d=g(c.prototype,"geometryResPath",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),h=g(c.prototype,"display",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),u=c))||u)||u)},"./unsupported/eve/item/index.js":function(e,t,r){"use strict";r.r(t);var i=r("./unsupported/eve/item/EveBanner.js");r.d(t,"EveBanner",(function(){return i.EveBanner}));var n=r("./unsupported/eve/item/EveBoosterSet2.js");r.d(t,"EveBoosterSet2Batch",(function(){return n.EveBoosterSet2Batch})),r.d(t,"EveBoosterSet2Item",(function(){return n.EveBoosterSet2Item})),r.d(t,"EveBoosterSet2",(function(){return n.EveBoosterSet2}));var a=r("./unsupported/eve/item/EveHazeSet.js");r.d(t,"EveHazeSetBatch",(function(){return a.EveHazeSetBatch})),r.d(t,"EveHazeSetItem",(function(){return a.EveHazeSetItem})),r.d(t,"EveHazeSet",(function(){return a.EveHazeSet}));var o=r("./unsupported/eve/item/EveSpriteLineSet.js");r.d(t,"EveSpriteLineSetBatch",(function(){return o.EveSpriteLineSetBatch})),r.d(t,"EveSpriteLineSetItem",(function(){return o.EveSpriteLineSetItem})),r.d(t,"EveSpriteLineSet",(function(){return o.EveSpriteLineSet}));var l=r("./unsupported/eve/item/EveTrailsSet.js");r.d(t,"EveTrailSetRenderBatch",(function(){return l.EveTrailSetRenderBatch})),r.d(t,"EveTrailsSet",(function(){return l.EveTrailsSet}))},"./unsupported/eve/object/EveEffectRoot2.js":function(e,t,r){"use strict";r.r(t),r.d(t,"EveEffectRoot2",(function(){return N}));var i,n,a,o,l,s,u,c,f,d,h,b,m,p,v,g,E,y,T,w,_,S,R,j,O,A,z,P,C,D,I,x,L,M=r("./global/index.js"),F=r("./eve/object/EveObject.js");function G(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function k(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var N=(i=M.meta.notImplemented,n=M.meta.type("EveEffectRoot2",!0),a=M.meta.black.string,o=M.meta.black.vector3,l=M.meta.black.float,s=M.meta.black.listOf("Tw2CurveSet"),u=M.meta.black.float,c=M.meta.black.boolean,f=M.meta.black.listOf("EveChild"),d=M.meta.black.listOf("Tr2PointLight"),h=M.meta.black.listOf("TriObserverLocal"),b=M.meta.black.quaternion,m=M.meta.black.vector3,p=M.meta.black.color,v=M.meta.black.float,g=M.meta.black.vector3,i(E=n((L=class extends F.EveObject{constructor(...e){super(...e),G(this,"name",T,this),G(this,"boundingSphereCenter",w,this),G(this,"boundingSphereRadius",_,this),G(this,"curveSets",S,this),G(this,"duration",R,this),G(this,"dynamicLOD",j,this),G(this,"effectChildren",O,this),G(this,"lights",A,this),G(this,"observers",z,this),G(this,"rotation",P,this),G(this,"scaling",C,this),G(this,"secondaryLightingEmissiveColor",D,this),G(this,"secondaryLightingSphereRadius",I,this),G(this,"translation",x,this)}},T=k((y=L).prototype,"name",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),w=k(y.prototype,"boundingSphereCenter",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return M.vec3.create()}}),_=k(y.prototype,"boundingSphereRadius",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),S=k(y.prototype,"curveSets",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),R=k(y.prototype,"duration",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),j=k(y.prototype,"dynamicLOD",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),O=k(y.prototype,"effectChildren",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),A=k(y.prototype,"lights",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),z=k(y.prototype,"observers",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),P=k(y.prototype,"rotation",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return M.quat.create()}}),C=k(y.prototype,"scaling",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return M.vec3.fromValues(1,1,1)}}),D=k(y.prototype,"secondaryLightingEmissiveColor",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return M.vec4.create()}}),I=k(y.prototype,"secondaryLightingSphereRadius",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),x=k(y.prototype,"translation",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return M.vec3.create()}}),E=y))||E)||E)},"./unsupported/eve/object/EveMobile.js":function(e,t,r){"use strict";r.r(t),r.d(t,"EveMobile",(function(){return x}));var i,n,a,o,l,s,u,c,f,d,h,b,m,p,v,g,E,y,T,w,_,S,R,j,O,A,z,P=r("./global/index.js"),C=r("./eve/object/EveObject.js");function D(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function I(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var x=(i=P.meta.notImplemented,n=P.meta.type("EveMobile",!0),a=P.meta.black.string,o=P.meta.black.listOf("EveObjectSet"),l=P.meta.black.vector3,s=P.meta.black.float,u=P.meta.black.listOf("EveChild"),c=P.meta.black.listOf("EveStateController"),f=P.meta.black.listOf("Tw2CurveSet"),d=P.meta.black.listOf("EveLocatorSets"),h=P.meta.black.objectOf("Tr2MeshLod"),b=P.meta.black.listOf("TriObserverLocal"),m=P.meta.black.objectOf("Tw2Effect"),i(p=n((z=class extends C.EveObject{constructor(...e){super(...e),D(this,"name",g,this),D(this,"attachments",E,this),D(this,"boundingSphereCenter",y,this),D(this,"boundingSphereRadius",T,this),D(this,"children",w,this),D(this,"controllers",_,this),D(this,"curveSets",S,this),D(this,"locatorSets",R,this),D(this,"meshLod",j,this),D(this,"observers",O,this),D(this,"shadowEffect",A,this)}},g=I((v=z).prototype,"name",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),E=I(v.prototype,"attachments",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),y=I(v.prototype,"boundingSphereCenter",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return P.vec3.create()}}),T=I(v.prototype,"boundingSphereRadius",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),w=I(v.prototype,"children",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),_=I(v.prototype,"controllers",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),S=I(v.prototype,"curveSets",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),R=I(v.prototype,"locatorSets",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),j=I(v.prototype,"meshLod",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),O=I(v.prototype,"observers",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),A=I(v.prototype,"shadowEffect",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),p=v))||p)||p)},"./unsupported/eve/object/EveRootTransform.js":function(e,t,r){"use strict";r.r(t),r.d(t,"EveRootTransform",(function(){return N}));var i,n,a,o,l,s,u,c,f,d,h,b,m,p,v,g,E,y,T,w,_,S,R,j,O,A,z,P,C,D,I,x,L,M=r("./global/index.js"),F=r("./eve/object/EveObject.js");function G(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function k(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var N=(i=M.meta.notImplemented,n=M.meta.type("EveRootTransform",!0),a=M.meta.black.string,o=M.meta.black.float,l=M.meta.black.listOf("EveObject"),s=M.meta.black.listOf("Tw2CurveSet"),u=M.meta.black.boolean,c=M.meta.black.objectOf("Tw2Mesh"),f=M.meta.black.uint,d=M.meta.black.listOf("TriObserverLocal"),h=M.meta.black.quaternion,b=M.meta.black.objectOf("Tw2Curve"),m=M.meta.black.vector3,p=M.meta.black.float,v=M.meta.black.vector3,g=M.meta.black.objectOf("Tw2Curve"),i(E=n((L=class extends F.EveObject{constructor(...e){super(...e),G(this,"name",T,this),G(this,"boundingSphereRadius",w,this),G(this,"children",_,this),G(this,"curveSets",S,this),G(this,"display",R,this),G(this,"mesh",j,this),G(this,"modifier",O,this),G(this,"observers",A,this),G(this,"rotation",z,this),G(this,"rotationCurve",P,this),G(this,"scaling",C,this),G(this,"sortValueMultiplier",D,this),G(this,"translation",I,this),G(this,"translationCurve",x,this)}},T=k((y=L).prototype,"name",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),w=k(y.prototype,"boundingSphereRadius",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),_=k(y.prototype,"children",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),S=k(y.prototype,"curveSets",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),R=k(y.prototype,"display",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),j=k(y.prototype,"mesh",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),O=k(y.prototype,"modifier",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),A=k(y.prototype,"observers",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),z=k(y.prototype,"rotation",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return M.quat.create()}}),P=k(y.prototype,"rotationCurve",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),C=k(y.prototype,"scaling",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return M.vec3.fromValues(1,1,1)}}),D=k(y.prototype,"sortValueMultiplier",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),I=k(y.prototype,"translation",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return M.vec3.create()}}),x=k(y.prototype,"translationCurve",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),E=y))||E)||E)},"./unsupported/eve/object/EveShip2.js":function(e,t,r){"use strict";r.r(t),r.d(t,"EveShip2",(function(){return H}));var i,n,a,o,l,s,u,c,f,d,h,b,m,p,v,g,E,y,T,w,_,S,R,j,O,A,z,P,C,D,I,x,L,M,F,G,k,N=r("./global/index.js"),B=r("./eve/object/EveObject.js");function U(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function V(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var H=(i=N.meta.notImplemented,n=N.meta.type("EveShip2",!0),a=N.meta.black.listOf("EveObjectSet"),o=N.meta.black.objectOf("EveBoosterSet2"),l=N.meta.black.vector3,s=N.meta.black.float,u=N.meta.black.listOf("EveObject"),c=N.meta.black.listOf("EveCustomMask"),f=N.meta.black.listOf("EveSpaceObjectDecal"),d=N.meta.black.string,h=N.meta.black.listOf("EveLocatorSets"),b=N.meta.black.listOf("EveLocator2"),m=N.meta.black.objectOf(["Tw2Mesh","Tw2InstancedMesh","Tr2MeshLod"]),p=N.meta.black.objectOf("EveCurve"),v=N.meta.black.objectOf("Tw2Effect"),g=N.meta.black.vector3,E=N.meta.black.vector3,y=N.meta.black.objectOf("EveCurve"),i(T=n((k=class extends B.EveObject{constructor(...e){super(...e),U(this,"attachments",_,this),U(this,"boosters",S,this),U(this,"boundingSphereCenter",R,this),U(this,"boundingSphereRadius",j,this),U(this,"children",O,this),U(this,"customMasks",A,this),U(this,"decals",z,this),U(this,"dna",P,this),U(this,"locatorSets",C,this),U(this,"locators",D,this),U(this,"mesh",I,this),U(this,"rotationCurve",x,this),U(this,"shadowEffect",L,this),U(this,"shapeEllipsoidCenter",M,this),U(this,"shapeEllipsoidRadius",F,this),U(this,"translationCurve",G,this)}},_=V((w=k).prototype,"attachments",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),S=V(w.prototype,"boosters",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),R=V(w.prototype,"boundingSphereCenter",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return N.vec3.create()}}),j=V(w.prototype,"boundingSphereRadius",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),O=V(w.prototype,"children",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),A=V(w.prototype,"customMasks",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),z=V(w.prototype,"decals",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),P=V(w.prototype,"dna",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),C=V(w.prototype,"locatorSets",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),D=V(w.prototype,"locators",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),I=V(w.prototype,"mesh",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),x=V(w.prototype,"rotationCurve",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),L=V(w.prototype,"shadowEffect",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),M=V(w.prototype,"shapeEllipsoidCenter",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return N.vec3.create()}}),F=V(w.prototype,"shapeEllipsoidRadius",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return N.vec3.create()}}),G=V(w.prototype,"translationCurve",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),T=w))||T)||T)},"./unsupported/eve/object/EveStation2.js":function(e,t,r){"use strict";r.r(t),r.d(t,"EveStation2",(function(){return X}));var i,n,a,o,l,s,u,c,f,d,h,b,m,p,v,g,E,y,T,w,_,S,R,j,O,A,z,P,C,D,I,x,L,M,F,G,k,N,B,U,V,H=r("./global/index.js"),q=r("./eve/object/EveObject.js");function W(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function Y(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var X=(i=H.meta.notImplemented,n=H.meta.type("EveStation2",!0),a=H.meta.black.listOf("EveObjectSet"),o=H.meta.black.vector3,l=H.meta.black.float,s=H.meta.black.listOf("EveObject"),u=H.meta.black.listOf("EveCurveSet"),c=H.meta.black.listOf("EveSpaceObjectDecal"),f=H.meta.black.listOf("EveChild"),d=H.meta.black.listOf("TriPointLight"),h=H.meta.black.listOf("EveLocatorSets"),b=H.meta.black.listOf("EveLocator2"),m=H.meta.black.objectOf("Tw2Mesh"),p=H.meta.black.objectOf("Tr2MeshLod"),v=H.meta.black.objectOf("Tr2RotationAdapter"),g=H.meta.black.float,E=H.meta.black.listOf("TriObserverLocal"),y=H.meta.black.objectOf("Tr2RotationAdapter"),T=H.meta.black.objectOf("Tw2Effect"),w=H.meta.black.objectOf("Tr2TranslationAdapter"),i(_=n((V=class extends q.EveObject{constructor(...e){super(...e),W(this,"attachments",R,this),W(this,"boundingSphereCenter",j,this),W(this,"boundingSphereRadius",O,this),W(this,"children",A,this),W(this,"curveSets",z,this),W(this,"decals",P,this),W(this,"effectChildren",C,this),W(this,"lights",D,this),W(this,"locatorSets",I,this),W(this,"locators",x,this),W(this,"mesh",L,this),W(this,"meshLod",M,this),W(this,"modelRotationCurve",F,this),W(this,"modelScale",G,this),W(this,"observers",k,this),W(this,"rotationCurve",N,this),W(this,"shadowEffect",B,this),W(this,"translationCurve",U,this)}},R=Y((S=V).prototype,"attachments",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),j=Y(S.prototype,"boundingSphereCenter",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return H.vec3.create()}}),O=Y(S.prototype,"boundingSphereRadius",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),A=Y(S.prototype,"children",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),z=Y(S.prototype,"curveSets",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),P=Y(S.prototype,"decals",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),C=Y(S.prototype,"effectChildren",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),D=Y(S.prototype,"lights",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),I=Y(S.prototype,"locatorSets",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),x=Y(S.prototype,"locators",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),L=Y(S.prototype,"mesh",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),M=Y(S.prototype,"meshLod",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),F=Y(S.prototype,"modelRotationCurve",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),G=Y(S.prototype,"modelScale",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),k=Y(S.prototype,"observers",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),N=Y(S.prototype,"rotationCurve",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),B=Y(S.prototype,"shadowEffect",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),U=Y(S.prototype,"translationCurve",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_=S))||_)||_)},"./unsupported/eve/object/index.js":function(e,t,r){"use strict";r.r(t);var i=r("./unsupported/eve/object/EveEffectRoot2.js");r.d(t,"EveEffectRoot2",(function(){return i.EveEffectRoot2}));var n=r("./unsupported/eve/object/EveMobile.js");r.d(t,"EveMobile",(function(){return n.EveMobile}));var a=r("./unsupported/eve/object/EveRootTransform.js");r.d(t,"EveRootTransform",(function(){return a.EveRootTransform}));var o=r("./unsupported/eve/object/EveShip2.js");r.d(t,"EveShip2",(function(){return o.EveShip2}));var l=r("./unsupported/eve/object/EveStation2.js");r.d(t,"EveStation2",(function(){return l.EveStation2}))},"./unsupported/eve/particle/EveParticleDirectForce.js":function(e,t,r){"use strict";r.r(t),r.d(t,"EveParticleDirectForce",(function(){return a}));var i=r("./global/index.js"),n=r("./particle/force/Tw2ParticleForce.js");class a extends n.Tw2ParticleForce{constructor(...e){super(...e),this.force=i.vec3.create()}static black(e){return[["force",e.vector3]]}}a.__isStaging=4},"./unsupported/eve/particle/EveParticleDragForce.js":function(e,t,r){"use strict";r.r(t),r.d(t,"EveParticleDragForce",(function(){return n}));var i=r("./particle/force/Tw2ParticleForce.js");class n extends i.Tw2ParticleForce{constructor(...e){super(...e),this.drag=0}static black(e){return[["drag",e.float]]}}n.__isStaging=4},"./unsupported/eve/particle/index.js":function(e,t,r){"use strict";r.r(t);var i=r("./unsupported/eve/particle/EveParticleDirectForce.js");r.d(t,"EveParticleDirectForce",(function(){return i.EveParticleDirectForce}));var n=r("./unsupported/eve/particle/EveParticleDragForce.js");r.d(t,"EveParticleDragForce",(function(){return n.EveParticleDragForce}))},"./unsupported/eve/pi/EveConnector.js":function(e,t,r){"use strict";r.r(t),r.d(t,"EveConnector",(function(){return C}));var i,n,a,o,l,s,u,c,f,d,h,b,m,p,v,g,E,y,T,w,_,S,R,j,O,A=r("./global/index.js");function z(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function P(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var C=(i=A.meta.notImplemented,n=A.meta.type("EveConnector",!0),a=A.meta.black.color,o=A.meta.black.float,l=A.meta.black.float,s=A.meta.black.color,u=A.meta.black.object,c=A.meta.black.vector3,f=A.meta.black.boolean,d=A.meta.black.float,h=A.meta.black.object,b=A.meta.black.uint,i(m=n((O=class extends A.Tw2BaseClass{constructor(...e){super(...e),z(this,"animationColor",v,this),z(this,"animationScale",g,this),z(this,"animationSpeed",E,this),z(this,"color",y,this),z(this,"destObject",T,this),z(this,"destPosition",w,this),z(this,"isAnimated",_,this),z(this,"lineWidth",S,this),z(this,"sourceObject",R,this),z(this,"type",j,this)}},v=P((p=O).prototype,"animationColor",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return A.vec4.create()}}),g=P(p.prototype,"animationScale",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),E=P(p.prototype,"animationSpeed",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),y=P(p.prototype,"color",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return A.vec4.create()}}),T=P(p.prototype,"destObject",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),w=P(p.prototype,"destPosition",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return A.vec3.create()}}),_=P(p.prototype,"isAnimated",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),S=P(p.prototype,"lineWidth",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),R=P(p.prototype,"sourceObject",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),j=P(p.prototype,"type",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),m=p))||m)||m)},"./unsupported/eve/pi/EveLocalPositionCurve.js":function(e,t,r){"use strict";r.r(t),r.d(t,"EveLocalPositionCurve",(function(){return v}));var i,n,a,o,l,s,u,c=r("./global/index.js");var f,d,h,b,m,p,v=(i=c.meta.notImplemented,n=c.meta.type("EveLocalPositionCurve",!0),a=c.meta.black.vector3,i(o=n((u=class extends c.Tw2BaseClass{constructor(...e){var t,r,i,n;super(...e),t=this,r="value",n=this,(i=s)&&Object.defineProperty(t,r,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}},f=(l=u).prototype,d="value",h=[a],b={configurable:!0,enumerable:!0,writable:!0,initializer:function(){return c.vec3.create()}},p={},Object.keys(b).forEach((function(e){p[e]=b[e]})),p.enumerable=!!p.enumerable,p.configurable=!!p.configurable,("value"in p||p.initializer)&&(p.writable=!0),p=h.slice().reverse().reduce((function(e,t){return t(f,d,e)||e}),p),m&&void 0!==p.initializer&&(p.value=p.initializer?p.initializer.call(m):void 0,p.initializer=void 0),void 0===p.initializer&&(Object.defineProperty(f,d,p),p=null),s=p,o=l))||o)||o)},"./unsupported/eve/pi/EveSpherePin.js":function(e,t,r){"use strict";r.r(t),r.d(t,"EveSpherePin",(function(){return L}));var i,n,a,o,l,s,u,c,f,d,h,b,m,p,v,g,E,y,T,w,_,S,R,j,O,A,z,P,C,D=r("./global/index.js");function I(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function x(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var L=(i=D.meta.notImplemented,n=D.meta.type("EveSpherePin",!0),a=D.meta.black.string,o=D.meta.black.vector3,l=D.meta.black.color,s=D.meta.black.list,u=D.meta.black.boolean,c=D.meta.black.path,f=D.meta.black.color,d=D.meta.black.object,h=D.meta.black.float,b=D.meta.black.float,m=D.meta.black.float,p=D.meta.black.float,i(v=n((C=class extends D.Tw2BaseClass{constructor(...e){super(...e),I(this,"name",E,this),I(this,"centerNormal",y,this),I(this,"color",T,this),I(this,"curveSets",w,this),I(this,"enablePicking",_,this),I(this,"geometryResPath",S,this),I(this,"pinColor",R,this),I(this,"pinEffect",j,this),I(this,"pinMaxRadius",O,this),I(this,"pinRadius",A,this),I(this,"pinRotation",z,this),I(this,"sortValueMultiplier",P,this)}},E=x((g=C).prototype,"name",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),y=x(g.prototype,"centerNormal",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return D.vec3.create()}}),T=x(g.prototype,"color",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return D.vec4.create()}}),w=x(g.prototype,"curveSets",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),_=x(g.prototype,"enablePicking",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),S=x(g.prototype,"geometryResPath",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),R=x(g.prototype,"pinColor",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return D.vec4.create()}}),j=x(g.prototype,"pinEffect",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),O=x(g.prototype,"pinMaxRadius",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),A=x(g.prototype,"pinRadius",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),z=x(g.prototype,"pinRotation",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),P=x(g.prototype,"sortValueMultiplier",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),v=g))||v)||v)},"./unsupported/eve/pi/index.js":function(e,t,r){"use strict";r.r(t);var i=r("./unsupported/eve/pi/EveConnector.js");r.d(t,"EveConnector",(function(){return i.EveConnector}));var n=r("./unsupported/eve/pi/EveLocalPositionCurve.js");r.d(t,"EveLocalPositionCurve",(function(){return n.EveLocalPositionCurve}));var a=r("./unsupported/eve/pi/EveSpherePin.js");r.d(t,"EveSpherePin",(function(){return a.EveSpherePin}))},"./unsupported/eve/ui/EveTacticalOverlay.js":function(e,t,r){"use strict";r.r(t),r.d(t,"EveTacticalOverlay",(function(){return O}));var i,n,a,o,l,s,u,c,f,d,h,b,m,p,v,g,E,y,T,w,_,S=r("./global/index.js");function R(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function j(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var O=(i=S.meta.notImplemented,n=S.meta.type("EveTacticalOverlay",!0),a=S.meta.black.object,o=S.meta.black.float,l=S.meta.black.object,s=S.meta.black.float,u=S.meta.black.float,c=S.meta.black.float,f=S.meta.black.float,d=S.meta.black.object,i(h=n((_=class extends S.Tw2BaseClass{constructor(...e){super(...e),R(this,"anchorEffect",m,this),R(this,"arcSegmentMultiplier",p,this),R(this,"connectorEffect",v,this),R(this,"segmentsHigh",g,this),R(this,"segmentsLow",E,this),R(this,"segmentsMedium",y,this),R(this,"targetMaxSegments",T,this),R(this,"velocityEffect",w,this)}},m=j((b=_).prototype,"anchorEffect",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),p=j(b.prototype,"arcSegmentMultiplier",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),v=j(b.prototype,"connectorEffect",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),g=j(b.prototype,"segmentsHigh",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),E=j(b.prototype,"segmentsLow",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),y=j(b.prototype,"segmentsMedium",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),T=j(b.prototype,"targetMaxSegments",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),w=j(b.prototype,"velocityEffect",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),h=b))||h)||h)},"./unsupported/eve/ui/EveUiObject.js":function(e,t,r){"use strict";r.r(t),r.d(t,"EveUiObject",(function(){return E}));var i,n,a,o,l,s,u,c,f,d,h,b,m,p=r("./global/index.js");function v(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function g(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var E=(i=p.meta.notImplemented,n=p.meta.type("EveUiObject",!0),a=p.meta.black.string,o=p.meta.black.float,l=p.meta.black.object,s=p.meta.black.float,i(u=n((m=class extends p.Tw2BaseClass{constructor(...e){super(...e),v(this,"name",f,this),v(this,"boundingSphereRadius",d,this),v(this,"mesh",h,this),v(this,"modelScale",b,this)}},f=g((c=m).prototype,"name",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),d=g(c.prototype,"boundingSphereRadius",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),h=g(c.prototype,"mesh",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),b=g(c.prototype,"modelScale",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),u=c))||u)||u)},"./unsupported/eve/ui/index.js":function(e,t,r){"use strict";r.r(t);var i=r("./unsupported/eve/ui/EveTacticalOverlay.js");r.d(t,"EveTacticalOverlay",(function(){return i.EveTacticalOverlay}));var n=r("./unsupported/eve/ui/EveUiObject.js");r.d(t,"EveUiObject",(function(){return n.EveUiObject}))},"./unsupported/index.js":function(e,t,r){"use strict";r.r(t);var i=r("./unsupported/core/index.js");r.d(t,"Tr2DistanceTracker",(function(){return i.Tr2DistanceTracker})),r.d(t,"TriObserverLocal",(function(){return i.TriObserverLocal})),r.d(t,"Tr2PointLight",(function(){return i.Tr2PointLight})),r.d(t,"Tr2ShLightingManager",(function(){return i.Tr2ShLightingManager})),r.d(t,"Tr2MeshLod",(function(){return i.Tr2MeshLod})),r.d(t,"Tr2ExternalParameter",(function(){return i.Tr2ExternalParameter})),r.d(t,"Tr2Texture2dLodParameter",(function(){return i.Tr2Texture2dLodParameter})),r.d(t,"Tr2PostProcess",(function(){return i.Tr2PostProcess})),r.d(t,"Tr2LodResource",(function(){return i.Tr2LodResource})),r.d(t,"TriMatrix",(function(){return i.TriMatrix}));var n=r("./unsupported/curve/index.js");r.d(t,"Tw2CurveSetRange",(function(){return n.Tw2CurveSetRange})),r.d(t,"Tr2RotationAdapter",(function(){return n.Tr2RotationAdapter})),r.d(t,"Tr2TranslationAdapter",(function(){return n.Tr2TranslationAdapter})),r.d(t,"AudEventKey",(function(){return n.AudEventKey})),r.d(t,"AudEventCurve",(function(){return n.AudEventCurve})),r.d(t,"Tr2BoneMatrixCurve",(function(){return n.Tr2BoneMatrixCurve})),r.d(t,"Tr2CurveConstant",(function(){return n.Tr2CurveConstant})),r.d(t,"Tw2CurveScalarKey",(function(){return n.Tw2CurveScalarKey})),r.d(t,"Tr2CurveScalar",(function(){return n.Tr2CurveScalar})),r.d(t,"Tr2ScalarExprKey",(function(){return n.Tr2ScalarExprKey})),r.d(t,"Tr2ScalarExprKeyCurve",(function(){return n.Tr2ScalarExprKeyCurve})),r.d(t,"Tr2CurveEulerRotationExpression",(function(){return n.Tr2CurveEulerRotationExpression})),r.d(t,"Tr2CurveScalarExpression",(function(){return n.Tr2CurveScalarExpression})),r.d(t,"Tr2CurveVector3Expression",(function(){return n.Tr2CurveVector3Expression})),r.d(t,"Tw2CurveExpression",(function(){return n.Tw2CurveExpression}));var a=r("./unsupported/eve/index.js");r.d(t,"EveAnimation",(function(){return a.EveAnimation})),r.d(t,"EveAnimationCommand",(function(){return a.EveAnimationCommand})),r.d(t,"EveAnimationCurve",(function(){return a.EveAnimationCurve})),r.d(t,"EveAnimationState",(function(){return a.EveAnimationState})),r.d(t,"EveAnimationStateMachine",(function(){return a.EveAnimationStateMachine})),r.d(t,"EveChildBulletStorm",(function(){return a.EveChildBulletStorm})),r.d(t,"EveChildCloud",(function(){return a.EveChildCloud})),r.d(t,"EveChildExplosion",(function(){return a.EveChildExplosion})),r.d(t,"EveChildInheritProperties",(function(){return a.EveChildInheritProperties})),r.d(t,"EveChildLink",(function(){return a.EveChildLink})),r.d(t,"EveChildParticleSphere",(function(){return a.EveChildParticleSphere})),r.d(t,"EveChildQuad",(function(){return a.EveChildQuad})),r.d(t,"EveStarfield",(function(){return a.EveStarfield})),r.d(t,"EveStretch2",(function(){return a.EveStretch2})),r.d(t,"EveBanner",(function(){return a.EveBanner})),r.d(t,"EveBoosterSet2Batch",(function(){return a.EveBoosterSet2Batch})),r.d(t,"EveBoosterSet2Item",(function(){return a.EveBoosterSet2Item})),r.d(t,"EveBoosterSet2",(function(){return a.EveBoosterSet2})),r.d(t,"EveHazeSetBatch",(function(){return a.EveHazeSetBatch})),r.d(t,"EveHazeSetItem",(function(){return a.EveHazeSetItem})),r.d(t,"EveHazeSet",(function(){return a.EveHazeSet})),r.d(t,"EveSpriteLineSetBatch",(function(){return a.EveSpriteLineSetBatch})),r.d(t,"EveSpriteLineSetItem",(function(){return a.EveSpriteLineSetItem})),r.d(t,"EveSpriteLineSet",(function(){return a.EveSpriteLineSet})),r.d(t,"EveTrailSetRenderBatch",(function(){return a.EveTrailSetRenderBatch})),r.d(t,"EveTrailsSet",(function(){return a.EveTrailsSet})),r.d(t,"EveEffectRoot2",(function(){return a.EveEffectRoot2})),r.d(t,"EveMobile",(function(){return a.EveMobile})),r.d(t,"EveRootTransform",(function(){return a.EveRootTransform})),r.d(t,"EveShip2",(function(){return a.EveShip2})),r.d(t,"EveStation2",(function(){return a.EveStation2})),r.d(t,"EveParticleDirectForce",(function(){return a.EveParticleDirectForce})),r.d(t,"EveParticleDragForce",(function(){return a.EveParticleDragForce})),r.d(t,"EveConnector",(function(){return a.EveConnector})),r.d(t,"EveLocalPositionCurve",(function(){return a.EveLocalPositionCurve})),r.d(t,"EveSpherePin",(function(){return a.EveSpherePin})),r.d(t,"EveTacticalOverlay",(function(){return a.EveTacticalOverlay})),r.d(t,"EveUiObject",(function(){return a.EveUiObject})),r.d(t,"EveChildModifierAttachToBone",(function(){return a.EveChildModifierAttachToBone})),r.d(t,"EveChildModifierBillboard2D",(function(){return a.EveChildModifierBillboard2D})),r.d(t,"EveChildModifierBillboard3D",(function(){return a.EveChildModifierBillboard3D})),r.d(t,"EveChildModifierCameraOrientedRotationConstrained",(function(){return a.EveChildModifierCameraOrientedRotationConstrained})),r.d(t,"EveChildModifierSRT",(function(){return a.EveChildModifierSRT})),r.d(t,"EveChildModifierTranslateWithCamera",(function(){return a.EveChildModifierTranslateWithCamera}));var o=r("./unsupported/interior/index.js");r.d(t,"Tr2Model",(function(){return o.Tr2Model})),r.d(t,"Tr2IntSkinnedObject",(function(){return o.Tr2IntSkinnedObject})),r.d(t,"Tr2SkinnedModel",(function(){return o.Tr2SkinnedModel})),r.d(t,"Tr2InteriorLightSource",(function(){return o.Tr2InteriorLightSource})),r.d(t,"Tr2KelvinColor",(function(){return o.Tr2KelvinColor})),r.d(t,"Tr2InteriorPlaceable",(function(){return o.Tr2InteriorPlaceable})),r.d(t,"Tr2InteriorScene",(function(){return o.Tr2InteriorScene})),r.d(t,"WodPlaceableRes",(function(){return o.WodPlaceableRes}));var l=r("./unsupported/particle/index.js");r.d(t,"Tr2GpuParticleSystem",(function(){return l.Tr2GpuParticleSystem})),r.d(t,"Tr2PlaneConstraint",(function(){return l.Tr2PlaneConstraint})),r.d(t,"Tr2GpuSharedEmitter",(function(){return l.Tr2GpuSharedEmitter})),r.d(t,"Tr2GpuUniqueEmitter",(function(){return l.Tr2GpuUniqueEmitter})),r.d(t,"Tr2ForceSphereVolume",(function(){return l.Tr2ForceSphereVolume})),r.d(t,"Tr2ParticleVortexForce",(function(){return l.Tr2ParticleVortexForce}));var s=r("./unsupported/state/index.js");r.d(t,"Tr2StateMachine",(function(){return s.Tr2StateMachine})),r.d(t,"Tr2StateMachineState",(function(){return s.Tr2StateMachineState})),r.d(t,"Tr2StateMachineTransition",(function(){return s.Tr2StateMachineTransition})),r.d(t,"Tr2SyncToAnimation",(function(){return s.Tr2SyncToAnimation})),r.d(t,"Tr2ActionAnimateCurveSet",(function(){return s.Tr2ActionAnimateCurveSet})),r.d(t,"Tr2ActionAnimateValue",(function(){return s.Tr2ActionAnimateValue})),r.d(t,"Tr2ActionChildEffect",(function(){return s.Tr2ActionChildEffect})),r.d(t,"Tr2ActionOverlay",(function(){return s.Tr2ActionOverlay})),r.d(t,"Tr2ActionPlayCurveSet",(function(){return s.Tr2ActionPlayCurveSet})),r.d(t,"Tr2ActionPlayMeshAnimation",(function(){return s.Tr2ActionPlayMeshAnimation})),r.d(t,"Tr2ActionPlaySound",(function(){return s.Tr2ActionPlaySound})),r.d(t,"Tr2ActionResetClipSphereCenter",(function(){return s.Tr2ActionResetClipSphereCenter})),r.d(t,"Tr2ActionSetValue",(function(){return s.Tr2ActionSetValue})),r.d(t,"Tr2ActionSpawnParticles",(function(){return s.Tr2ActionSpawnParticles})),r.d(t,"Tr2Controller",(function(){return s.Tr2Controller})),r.d(t,"Tr2ControllerReference",(function(){return s.Tr2ControllerReference})),r.d(t,"Tr2ControllerFloatVariable",(function(){return s.Tr2ControllerFloatVariable}));var u=r("./unsupported/AudEmitter.js");r.d(t,"AudEmitter",(function(){return u.AudEmitter}))},"./unsupported/interior/Tr2Model.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tr2Model",(function(){return v}));var i,n,a,o,l,s,u,c=r("./global/index.js");var f,d,h,b,m,p,v=(i=c.meta.notImplemented,n=c.meta.type("Tr2Model",!0),a=c.meta.black.listOf("Tw2Mesh"),i(o=n((u=class extends c.Tw2BaseClass{constructor(...e){var t,r,i,n;super(...e),t=this,r="meshes",n=this,(i=s)&&Object.defineProperty(t,r,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}},f=(l=u).prototype,d="meshes",h=[a],b={configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}},p={},Object.keys(b).forEach((function(e){p[e]=b[e]})),p.enumerable=!!p.enumerable,p.configurable=!!p.configurable,("value"in p||p.initializer)&&(p.writable=!0),p=h.slice().reverse().reduce((function(e,t){return t(f,d,e)||e}),p),m&&void 0!==p.initializer&&(p.value=p.initializer?p.initializer.call(m):void 0,p.initializer=void 0),void 0===p.initializer&&(Object.defineProperty(f,d,p),p=null),s=p,o=l))||o)||o)},"./unsupported/interior/character/Tr2IntSkinnedObject.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tr2IntSkinnedObject",(function(){return v}));var i,n,a,o,l,s,u,c,f,d,h,b=r("./global/index.js");function m(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function p(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var v=(i=b.meta.notImplemented,n=b.meta.type("Tr2IntSkinnedObject",!0),a=b.meta.black.listOf("Tw2CurveSet"),o=b.meta.black.objectOf("TriMatrix"),l=b.meta.black.objectOf("Tr2SkinnedModel"),i(s=n((h=class extends b.Tw2BaseClass{constructor(...e){super(...e),m(this,"curveSets",c,this),m(this,"transform",f,this),m(this,"visualModel",d,this)}},c=p((u=h).prototype,"curveSets",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),f=p(u.prototype,"transform",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),d=p(u.prototype,"visualModel",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),s=u))||s)||s)},"./unsupported/interior/character/Tr2SkinnedModel.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tr2SkinnedModel",(function(){return E}));var i,n,a,o,l,s,u,c,f,d,h,b,m,p=r("./global/index.js");function v(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function g(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var E=(i=p.meta.notImplemented,n=p.meta.type("Tr2SkinnedModel",!0),a=p.meta.black.string,o=p.meta.black.path,l=p.meta.black.list,s=p.meta.black.string,i(u=n((m=class extends p.Tw2BaseClass{constructor(...e){super(...e),v(this,"name",f,this),v(this,"geometryResPath",d,this),v(this,"meshes",h,this),v(this,"skeletonName",b,this)}},f=g((c=m).prototype,"name",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),d=g(c.prototype,"geometryResPath",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),h=g(c.prototype,"meshes",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),b=g(c.prototype,"skeletonName",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),u=c))||u)||u)},"./unsupported/interior/character/index.js":function(e,t,r){"use strict";r.r(t);var i=r("./unsupported/interior/character/Tr2IntSkinnedObject.js");r.d(t,"Tr2IntSkinnedObject",(function(){return i.Tr2IntSkinnedObject}));var n=r("./unsupported/interior/character/Tr2SkinnedModel.js");r.d(t,"Tr2SkinnedModel",(function(){return n.Tr2SkinnedModel}))},"./unsupported/interior/index.js":function(e,t,r){"use strict";r.r(t);var i=r("./unsupported/interior/character/index.js");r.d(t,"Tr2IntSkinnedObject",(function(){return i.Tr2IntSkinnedObject})),r.d(t,"Tr2SkinnedModel",(function(){return i.Tr2SkinnedModel}));var n=r("./unsupported/interior/lighting/index.js");r.d(t,"Tr2InteriorLightSource",(function(){return n.Tr2InteriorLightSource})),r.d(t,"Tr2KelvinColor",(function(){return n.Tr2KelvinColor}));var a=r("./unsupported/interior/scene/index.js");r.d(t,"Tr2InteriorPlaceable",(function(){return a.Tr2InteriorPlaceable})),r.d(t,"Tr2InteriorScene",(function(){return a.Tr2InteriorScene})),r.d(t,"WodPlaceableRes",(function(){return a.WodPlaceableRes}));var o=r("./unsupported/interior/Tr2Model.js");r.d(t,"Tr2Model",(function(){return o.Tr2Model}))},"./unsupported/interior/lighting/Tr2InteriorLightSource.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tr2InteriorLightSource",(function(){return L}));var i,n,a,o,l,s,u,c,f,d,h,b,m,p,v,g,E,y,T,w,_,S,R,j,O,A,z,P,C,D=r("./global/index.js");function I(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function x(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var L=(i=D.meta.notImplemented,n=D.meta.type("Tr2InteriorLightSource",!0),a=D.meta.black.string,o=D.meta.black.color,l=D.meta.black.float,s=D.meta.black.float,u=D.meta.black.vector3,c=D.meta.black.float,f=D.meta.black.float,d=D.meta.black.float,h=D.meta.black.objectOf("Tr2KelvinColor"),b=D.meta.black.vector3,m=D.meta.black.float,p=D.meta.black.boolean,i(v=n((C=class extends D.Tw2BaseClass{constructor(...e){super(...e),I(this,"name",E,this),I(this,"color",y,this),I(this,"coneAlphaInner",T,this),I(this,"coneAlphaOuter",w,this),I(this,"coneDirection",_,this),I(this,"falloff",S,this),I(this,"importanceBias",R,this),I(this,"importanceScale",j,this),I(this,"kelvinColor",O,this),I(this,"position",A,this),I(this,"radius",z,this),I(this,"useKelvinColor",P,this)}},E=x((g=C).prototype,"name",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),y=x(g.prototype,"color",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return D.vec4.create()}}),T=x(g.prototype,"coneAlphaInner",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),w=x(g.prototype,"coneAlphaOuter",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),_=x(g.prototype,"coneDirection",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return D.vec3.create()}}),S=x(g.prototype,"falloff",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),R=x(g.prototype,"importanceBias",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),j=x(g.prototype,"importanceScale",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),O=x(g.prototype,"kelvinColor",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),A=x(g.prototype,"position",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return D.vec3.create()}}),z=x(g.prototype,"radius",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),P=x(g.prototype,"useKelvinColor",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),v=g))||v)||v)},"./unsupported/interior/lighting/Tr2KelvinColor.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tr2KelvinColor",(function(){return m}));var i,n,a,o,l,s,u,c,f,d=r("./global/index.js");function h(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function b(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var m=(i=d.meta.notImplemented,n=d.meta.type("Tr2KelvinColor",!0),a=d.meta.black.float,o=d.meta.black.float,i(l=n((f=class extends d.Tw2BaseClass{constructor(...e){super(...e),h(this,"temperature",u,this),h(this,"tint",c,this)}},u=b((s=f).prototype,"temperature",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),c=b(s.prototype,"tint",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),l=s))||l)||l)},"./unsupported/interior/lighting/index.js":function(e,t,r){"use strict";r.r(t);var i=r("./unsupported/interior/lighting/Tr2InteriorLightSource.js");r.d(t,"Tr2InteriorLightSource",(function(){return i.Tr2InteriorLightSource}));var n=r("./unsupported/interior/lighting/Tr2KelvinColor.js");r.d(t,"Tr2KelvinColor",(function(){return n.Tr2KelvinColor}))},"./unsupported/interior/scene/Tr2InteriorPlaceable.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tr2InteriorPlaceable",(function(){return m}));var i,n,a,o,l,s,u,c,f,d=r("./global/index.js");function h(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function b(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var m=(i=d.meta.notImplemented,n=d.meta.type("Tr2InteriorPlaceable",!0),a=d.meta.black.path,o=d.meta.black.objectOf("TriMatrix"),i(l=n((f=class extends d.Tw2BaseClass{constructor(...e){super(...e),h(this,"placeableResPath",u,this),h(this,"transform",c,this)}},u=b((s=f).prototype,"placeableResPath",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),c=b(s.prototype,"transform",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),l=s))||l)||l)},"./unsupported/interior/scene/Tr2InteriorScene.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tr2InteriorScene",(function(){return m}));var i,n,a,o,l,s,u,c,f,d=r("./global/index.js");function h(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function b(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var m=(i=d.meta.notImplemented,n=d.meta.type("Tr2InteriorScene",!0),a=d.meta.black.listOf("Tr2IntSkinnedObject"),o=d.meta.black.listOf("Tr2InteriorLightSource"),i(l=n((f=class extends d.Tw2BaseClass{constructor(...e){super(...e),h(this,"dynamics",u,this),h(this,"lights",c,this)}},u=b((s=f).prototype,"dynamics",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),c=b(s.prototype,"lights",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),l=s))||l)||l)},"./unsupported/interior/scene/WodPlaceableRes.js":function(e,t,r){"use strict";r.r(t),r.d(t,"WodPlaceableRes",(function(){return v}));var i,n,a,o,l,s,u,c,f,d,h,b=r("./global/index.js");function m(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function p(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var v=(i=b.meta.notImplemented,n=b.meta.type("WodPlaceableRes",!0),a=b.meta.black.float,o=b.meta.black.float,l=b.meta.black.objectOf("Tr2Model"),i(s=n((h=class extends b.Tw2BaseClass{constructor(...e){super(...e),m(this,"farFadeDistance",c,this),m(this,"nearFadeDistance",f,this),m(this,"visualModel",d,this)}},c=p((u=h).prototype,"farFadeDistance",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),f=p(u.prototype,"nearFadeDistance",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),d=p(u.prototype,"visualModel",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),s=u))||s)||s)},"./unsupported/interior/scene/index.js":function(e,t,r){"use strict";r.r(t);var i=r("./unsupported/interior/scene/Tr2InteriorPlaceable.js");r.d(t,"Tr2InteriorPlaceable",(function(){return i.Tr2InteriorPlaceable}));var n=r("./unsupported/interior/scene/Tr2InteriorScene.js");r.d(t,"Tr2InteriorScene",(function(){return n.Tr2InteriorScene}));var a=r("./unsupported/interior/scene/WodPlaceableRes.js");r.d(t,"WodPlaceableRes",(function(){return a.WodPlaceableRes}))},"./unsupported/particle/Tw2GpuParticleSystem.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tr2GpuParticleSystem",(function(){return z}));var i,n,a,o,l,s,u,c,f,d,h,b,m,p,v,g,E,y,T,w,_,S,R,j=r("./global/index.js");function O(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function A(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var z=(i=j.meta.notImplemented,n=j.meta.type("Tr2GpuParticleSystem",!0),a=j.meta.todo("Handle conflict with Tw2BaseClass.emit"),o=j.meta.black.objectOf("Tw2Effect"),l=j.meta.black.objectOf("Tw2Effect"),s=j.meta.black.objectOf("Tw2Effect"),u=j.meta.black.objectOf("Tw2Effect"),c=j.meta.black.objectOf("Tw2Effect"),f=j.meta.black.objectOf("Tw2Effect"),d=j.meta.black.objectOf("Tw2Effect"),h=j.meta.black.objectOf("Tw2Effect"),b=j.meta.black.objectOf("Tw2Effect"),i(m=n(m=a((v=A((p=class{constructor(){O(this,"clear",v,this),O(this,"emit",g,this),O(this,"render",E,this),O(this,"setDrawParameters",y,this),O(this,"setSortParameters",T,this),O(this,"sort",w,this),O(this,"sortInner",_,this),O(this,"sortStep",S,this),O(this,"update",R,this)}GetResources(e=[]){return this.clear&&this.clear.GetResources(e),this.emit&&this.emit.GetResources(e),this.render&&this.render.GetResources(e),this.setDrawParameters&&this.setDrawParameters.GetResources(e),this.setSortParameters&&this.setSortParameters.GetResources(e),this.sort&&this.sort.GetResources(e),this.sortInner&&this.sortInner.GetResources(e),this.sortStep&&this.sortStep.GetResources(e),this.update&&this.update.GetResources(e),e}}).prototype,"clear",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),g=A(p.prototype,"emit",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),E=A(p.prototype,"render",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),y=A(p.prototype,"setDrawParameters",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),T=A(p.prototype,"setSortParameters",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),w=A(p.prototype,"sort",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_=A(p.prototype,"sortInner",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),S=A(p.prototype,"sortStep",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),R=A(p.prototype,"update",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),m=p))||m)||m)||m)},"./unsupported/particle/constraint/Tr2PlaneConstraint.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tr2PlaneConstraint",(function(){return v}));var i,n,a,o,l,s,u,c,f,d,h=r("./global/index.js"),b=r("./unsupported/particle/constraint/Tw2ParticleConstraint.js");function m(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function p(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var v=(i=h.meta.abstract,n=h.meta.notImplemented,a=h.meta.ccp("Tr2PlaneConstraint"),o=h.meta.black.list,l=h.meta.black.float,i(s=n(s=a((d=class extends b.Tw2ParticleConstraint{constructor(...e){super(...e),m(this,"generators",c,this),m(this,"reflectionNoise",f,this)}},c=p((u=d).prototype,"generators",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),f=p(u.prototype,"reflectionNoise",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),s=u))||s)||s)||s)},"./unsupported/particle/constraint/Tw2ParticleConstraint.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tw2ParticleConstraint",(function(){return b}));var i,n,a,o,l=r("./global/index.js");var s,u,c,f,d,h,b=(i=l.meta.abstract,n=l.meta.abstract,i((o=class extends l.Tw2BaseClass{ApplyConstraint(e,t,r,i){}},s=o.prototype,u="ApplyConstraint",c=[n],f=Object.getOwnPropertyDescriptor(o.prototype,"ApplyConstraint"),d=o.prototype,h={},Object.keys(f).forEach((function(e){h[e]=f[e]})),h.enumerable=!!h.enumerable,h.configurable=!!h.configurable,("value"in h||h.initializer)&&(h.writable=!0),h=c.slice().reverse().reduce((function(e,t){return t(s,u,e)||e}),h),d&&void 0!==h.initializer&&(h.value=h.initializer?h.initializer.call(d):void 0,h.initializer=void 0),void 0===h.initializer&&(Object.defineProperty(s,u,h),h=null),a=o))||a)},"./unsupported/particle/constraint/index.js":function(e,t,r){"use strict";r.r(t);var i=r("./unsupported/particle/constraint/Tr2PlaneConstraint.js");r.d(t,"Tr2PlaneConstraint",(function(){return i.Tr2PlaneConstraint}))},"./unsupported/particle/emitter/Tr2GpuSharedEmitter.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tr2GpuSharedEmitter",(function(){return Se}));var i,n,a,o,l,s,u,c,f,d,h,b,m,p,v,g,E,y,T,w,_,S,R,j,O,A,z,P,C,D,I,x,L,M,F,G,k,N,B,U,V,H,q,W,Y,X,K,Q,Z,$,J,ee,te,re,ie,ne,ae,oe,le,se,ue,ce,fe,de,he,be,me,pe,ve,ge,Ee,ye=r("./global/index.js"),Te=r("./particle/emitter/Tw2ParticleEmitter.js");function we(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function _e(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var Se=(i=ye.meta.ccp("Tr2GpuSharedEmitter"),n=ye.meta.notImplemented,a=ye.meta.black.string,o=ye.meta.black.float,l=ye.meta.black.vector3,s=ye.meta.black.float,u=ye.meta.black.color,c=ye.meta.black.color,f=ye.meta.black.color,d=ye.meta.black.color,h=ye.meta.black.float,b=ye.meta.black.boolean,m=ye.meta.black.vector3,p=ye.meta.black.float,v=ye.meta.black.float,g=ye.meta.black.float,E=ye.meta.black.float,y=ye.meta.black.float,T=ye.meta.black.float,w=ye.meta.black.float,_=ye.meta.black.float,S=ye.meta.black.float,R=ye.meta.black.float,j=ye.meta.black.float,O=ye.meta.black.objectOf("Tr2GpuParticleSystem"),A=ye.meta.black.vector3,z=ye.meta.black.float,P=ye.meta.black.float,C=ye.meta.black.boolean,D=ye.meta.black.float,I=ye.meta.black.vector3,x=ye.meta.black.uint,L=ye.meta.black.float,M=ye.meta.black.float,F=ye.meta.black.float,i(G=n((Ee=class extends Te.Tw2ParticleEmitter{constructor(...e){super(...e),we(this,"name",N,this),we(this,"angle",B,this),we(this,"attractorPosition",U,this),we(this,"attractorStrength",V,this),we(this,"color0",H,this),we(this,"color1",q,this),we(this,"color2",W,this),we(this,"color3",Y,this),we(this,"colorMidpoint",X,this),we(this,"continuousEmitter",K,this),we(this,"direction",Q,this),we(this,"drag",Z,this),we(this,"emissionDensity",$,this),we(this,"gravity",J,this),we(this,"inheritVelocity",ee,this),we(this,"innerAngle",te,this),we(this,"maxDisplacement",re,this),we(this,"maxEmissionDensity",ie,this),we(this,"maxLifeTime",ne,this),we(this,"maxSpeed",ae,this),we(this,"minLifeTime",oe,this),we(this,"minSpeed",le,this),we(this,"particleSystem",se,this),we(this,"position",ue,this),we(this,"radius",ce,this),we(this,"rate",fe,this),we(this,"scaledByParent",de,this),we(this,"sizeVariance",he,this),we(this,"sizes",be,this),we(this,"textureIndex",me,this),we(this,"turbulenceAmplitude",pe,this),we(this,"turbulenceFrequency",ve,this),we(this,"velocityStretchRotation",ge,this)}},N=_e((k=Ee).prototype,"name",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),B=_e(k.prototype,"angle",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),U=_e(k.prototype,"attractorPosition",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return ye.vec3.create()}}),V=_e(k.prototype,"attractorStrength",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),H=_e(k.prototype,"color0",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return ye.vec4.create()}}),q=_e(k.prototype,"color1",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return ye.vec4.create()}}),W=_e(k.prototype,"color2",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return ye.vec4.create()}}),Y=_e(k.prototype,"color3",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return ye.vec4.create()}}),X=_e(k.prototype,"colorMidpoint",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),K=_e(k.prototype,"continuousEmitter",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Q=_e(k.prototype,"direction",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return ye.vec3.create()}}),Z=_e(k.prototype,"drag",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),$=_e(k.prototype,"emissionDensity",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),J=_e(k.prototype,"gravity",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),ee=_e(k.prototype,"inheritVelocity",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),te=_e(k.prototype,"innerAngle",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),re=_e(k.prototype,"maxDisplacement",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),ie=_e(k.prototype,"maxEmissionDensity",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),ne=_e(k.prototype,"maxLifeTime",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),ae=_e(k.prototype,"maxSpeed",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),oe=_e(k.prototype,"minLifeTime",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),le=_e(k.prototype,"minSpeed",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),se=_e(k.prototype,"particleSystem",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ue=_e(k.prototype,"position",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return ye.vec3.create()}}),ce=_e(k.prototype,"radius",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),fe=_e(k.prototype,"rate",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),de=_e(k.prototype,"scaledByParent",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),he=_e(k.prototype,"sizeVariance",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),be=_e(k.prototype,"sizes",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return ye.vec3.create()}}),me=_e(k.prototype,"textureIndex",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),pe=_e(k.prototype,"turbulenceAmplitude",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),ve=_e(k.prototype,"turbulenceFrequency",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),ge=_e(k.prototype,"velocityStretchRotation",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),G=k))||G)||G)},"./unsupported/particle/emitter/Tr2GpuUniqueEmitter.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tr2GpuUniqueEmitter",(function(){return Se}));var i,n,a,o,l,s,u,c,f,d,h,b,m,p,v,g,E,y,T,w,_,S,R,j,O,A,z,P,C,D,I,x,L,M,F,G,k,N,B,U,V,H,q,W,Y,X,K,Q,Z,$,J,ee,te,re,ie,ne,ae,oe,le,se,ue,ce,fe,de,he,be,me,pe,ve,ge,Ee,ye=r("./global/index.js"),Te=r("./particle/emitter/Tw2ParticleEmitter.js");function we(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function _e(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var Se=(i=ye.meta.ccp("Tr2GpuUniqueEmitter"),n=ye.meta.notImplemented,a=ye.meta.black.string,o=ye.meta.black.float,l=ye.meta.black.vector3,s=ye.meta.black.float,u=ye.meta.black.color,c=ye.meta.black.color,f=ye.meta.black.color,d=ye.meta.black.color,h=ye.meta.black.float,b=ye.meta.black.boolean,m=ye.meta.black.vector3,p=ye.meta.black.float,v=ye.meta.black.float,g=ye.meta.black.float,E=ye.meta.black.float,y=ye.meta.black.float,T=ye.meta.black.float,w=ye.meta.black.float,_=ye.meta.black.float,S=ye.meta.black.float,R=ye.meta.black.float,j=ye.meta.black.float,O=ye.meta.black.objectOf("Tr2GpuParticleSystem"),A=ye.meta.black.vector3,z=ye.meta.black.float,P=ye.meta.black.float,C=ye.meta.black.boolean,D=ye.meta.black.float,I=ye.meta.black.vector3,x=ye.meta.black.uint,L=ye.meta.black.float,M=ye.meta.black.float,F=ye.meta.black.float,i(G=n((Ee=class extends Te.Tw2ParticleEmitter{constructor(...e){super(...e),we(this,"name",N,this),we(this,"angle",B,this),we(this,"attractorPosition",U,this),we(this,"attractorStrength",V,this),we(this,"color0",H,this),we(this,"color1",q,this),we(this,"color2",W,this),we(this,"color3",Y,this),we(this,"colorMidpoint",X,this),we(this,"continuousEmitter",K,this),we(this,"direction",Q,this),we(this,"drag",Z,this),we(this,"emissionDensity",$,this),we(this,"gravity",J,this),we(this,"inheritVelocity",ee,this),we(this,"innerAngle",te,this),we(this,"maxDisplacement",re,this),we(this,"maxEmissionDensity",ie,this),we(this,"maxLifeTime",ne,this),we(this,"maxSpeed",ae,this),we(this,"minLifeTime",oe,this),we(this,"minSpeed",le,this),we(this,"particleSystem",se,this),we(this,"position",ue,this),we(this,"radius",ce,this),we(this,"rate",fe,this),we(this,"scaledByParent",de,this),we(this,"sizeVariance",he,this),we(this,"sizes",be,this),we(this,"textureIndex",me,this),we(this,"turbulenceAmplitude",pe,this),we(this,"turbulenceFrequency",ve,this),we(this,"velocityStretchRotation",ge,this)}},N=_e((k=Ee).prototype,"name",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),B=_e(k.prototype,"angle",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),U=_e(k.prototype,"attractorPosition",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return ye.vec3.create()}}),V=_e(k.prototype,"attractorStrength",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),H=_e(k.prototype,"color0",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return ye.vec4.create()}}),q=_e(k.prototype,"color1",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return ye.vec4.create()}}),W=_e(k.prototype,"color2",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return ye.vec4.create()}}),Y=_e(k.prototype,"color3",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return ye.vec4.create()}}),X=_e(k.prototype,"colorMidpoint",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),K=_e(k.prototype,"continuousEmitter",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Q=_e(k.prototype,"direction",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return ye.vec3.create()}}),Z=_e(k.prototype,"drag",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),$=_e(k.prototype,"emissionDensity",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),J=_e(k.prototype,"gravity",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),ee=_e(k.prototype,"inheritVelocity",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),te=_e(k.prototype,"innerAngle",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),re=_e(k.prototype,"maxDisplacement",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),ie=_e(k.prototype,"maxEmissionDensity",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),ne=_e(k.prototype,"maxLifeTime",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),ae=_e(k.prototype,"maxSpeed",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),oe=_e(k.prototype,"minLifeTime",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),le=_e(k.prototype,"minSpeed",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),se=_e(k.prototype,"particleSystem",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ue=_e(k.prototype,"position",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return ye.vec3.create()}}),ce=_e(k.prototype,"radius",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),fe=_e(k.prototype,"rate",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),de=_e(k.prototype,"scaledByParent",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),he=_e(k.prototype,"sizeVariance",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),be=_e(k.prototype,"sizes",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return ye.vec3.create()}}),me=_e(k.prototype,"textureIndex",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),pe=_e(k.prototype,"turbulenceAmplitude",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),ve=_e(k.prototype,"turbulenceFrequency",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),ge=_e(k.prototype,"velocityStretchRotation",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),G=k))||G)||G)},"./unsupported/particle/emitter/index.js":function(e,t,r){"use strict";r.r(t);var i=r("./unsupported/particle/emitter/Tr2GpuSharedEmitter.js");r.d(t,"Tr2GpuSharedEmitter",(function(){return i.Tr2GpuSharedEmitter}));var n=r("./unsupported/particle/emitter/Tr2GpuUniqueEmitter.js");r.d(t,"Tr2GpuUniqueEmitter",(function(){return n.Tr2GpuUniqueEmitter}))},"./unsupported/particle/force/Tr2ForceSphereVolume.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tr2ForceSphereVolume",(function(){return p}));var i,n,a,o,l,s,u,c,f,d=r("./global/index.js"),h=r("./particle/force/Tw2ParticleForce.js");function b(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function m(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var p=(i=d.meta.ccp("Tr2ForceSphereVolume"),n=d.meta.notImplemented,a=d.meta.black.listOf("Tw2ParticleForce"),o=d.meta.black.float,i(l=n((f=class extends h.Tw2ParticleForce{constructor(...e){super(...e),b(this,"forces",u,this),b(this,"radius",c,this)}Update(e){for(var t=0;t<this.forces.length;t++)this.forces[t].Update(e)}},u=m((s=f).prototype,"forces",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),c=m(s.prototype,"radius",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),l=s))||l)||l)},"./unsupported/particle/force/Tr2ParticleVortexForce.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tr2ParticleVortexForce",(function(){return g}));var i,n,a,o,l,s,u,c,f,d,h,b=r("./global/index.js"),m=r("./particle/force/Tw2ParticleForce.js");function p(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function v(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var g=(i=b.meta.ccp("Tr2ParticleVortexForce"),n=b.meta.notImplemented,a=b.meta.black.vector3,o=b.meta.black.float,l=b.meta.black.vector3,i(s=n((h=class extends m.Tw2ParticleForce{constructor(...e){super(...e),p(this,"axis",c,this),p(this,"magnitude",f,this),p(this,"position",d,this)}},c=v((u=h).prototype,"axis",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return b.vec3.create()}}),f=v(u.prototype,"magnitude",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),d=v(u.prototype,"position",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return b.vec3.create()}}),s=u))||s)||s)},"./unsupported/particle/force/index.js":function(e,t,r){"use strict";r.r(t);var i=r("./unsupported/particle/force/Tr2ForceSphereVolume.js");r.d(t,"Tr2ForceSphereVolume",(function(){return i.Tr2ForceSphereVolume}));var n=r("./unsupported/particle/force/Tr2ParticleVortexForce.js");r.d(t,"Tr2ParticleVortexForce",(function(){return n.Tr2ParticleVortexForce}))},"./unsupported/particle/index.js":function(e,t,r){"use strict";r.r(t);var i=r("./unsupported/particle/constraint/index.js");r.d(t,"Tr2PlaneConstraint",(function(){return i.Tr2PlaneConstraint}));var n=r("./unsupported/particle/emitter/index.js");r.d(t,"Tr2GpuSharedEmitter",(function(){return n.Tr2GpuSharedEmitter})),r.d(t,"Tr2GpuUniqueEmitter",(function(){return n.Tr2GpuUniqueEmitter}));var a=r("./unsupported/particle/force/index.js");r.d(t,"Tr2ForceSphereVolume",(function(){return a.Tr2ForceSphereVolume})),r.d(t,"Tr2ParticleVortexForce",(function(){return a.Tr2ParticleVortexForce}));var o=r("./unsupported/particle/Tw2GpuParticleSystem.js");r.d(t,"Tr2GpuParticleSystem",(function(){return o.Tr2GpuParticleSystem}))},"./unsupported/state/Tr2StateMachine.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tr2StateMachine",(function(){return v}));var i,n,a,o,l,s,u,c,f,d,h,b=r("./global/index.js");function m(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function p(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var v=(i=b.meta.notImplemented,n=b.meta.type("Tr2StateMachine",!0),a=b.meta.black.string,o=b.meta.black.uint,l=b.meta.black.listOf("Tr2StateMachineState"),i(s=n((h=class extends b.Tw2BaseClass{constructor(...e){super(...e),m(this,"name",c,this),m(this,"startState",f,this),m(this,"states",d,this)}},c=p((u=h).prototype,"name",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),f=p(u.prototype,"startState",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),d=p(u.prototype,"states",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),s=u))||s)||s)},"./unsupported/state/Tr2StateMachineState.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tr2StateMachineState",(function(){return E}));var i,n,a,o,l,s,u,c,f,d,h,b,m,p=r("./global/index.js");function v(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function g(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var E=(i=p.meta.notImplemented,n=p.meta.type("Tr2StateMachineState",!0),a=p.meta.black.string,o=p.meta.black.listOf("Tw2Action"),l=p.meta.black.object,s=p.meta.black.listOf("Tr2StateMachineTransition"),i(u=n((m=class extends p.Tw2BaseClass{constructor(...e){super(...e),v(this,"name",f,this),v(this,"actions",d,this),v(this,"finalizer",h,this),v(this,"transitions",b,this)}},f=g((c=m).prototype,"name",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),d=g(c.prototype,"actions",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),h=g(c.prototype,"finalizer",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),b=g(c.prototype,"transitions",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),u=c))||u)||u)},"./unsupported/state/Tr2StateMachineTransition.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tr2StateMachineTransition",(function(){return m}));var i,n,a,o,l,s,u,c,f,d=r("./global/index.js");function h(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function b(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var m=(i=d.meta.notImplemented,n=d.meta.type("Tr2StateMachineTransition",!0),a=d.meta.black.string,o=d.meta.black.string,i(l=n((f=class extends d.Tw2BaseClass{constructor(...e){super(...e),h(this,"name",u,this),h(this,"condition",c,this)}},u=b((s=f).prototype,"name",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),c=b(s.prototype,"condition",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),l=s))||l)||l)},"./unsupported/state/Tr2SyncToAnimation.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tr2SyncToAnimation",(function(){return a}));var i,n=r("./global/index.js"),a=(0,n.meta.notImplemented)(i=n.meta.type("Tr2SyncToAnimation",!0)(i=n.meta.data("black")(i=class extends n.Tw2BaseClass{})||i)||i)||i},"./unsupported/state/action/Tr2ActionAnimateCurveSet.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tr2ActionAnimateCurveSet",(function(){return p}));var i,n,a,o,l,s,u,c,f,d=r("./global/index.js"),h=r("./unsupported/state/action/Tw2Action.js");function b(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function m(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var p=(i=d.meta.notImplemented,n=d.meta.type("Tr2ActionAnimateCurveSet",!0),a=d.meta.black.objectOf("Tw2CurveSet"),o=d.meta.black.string,i(l=n((f=class extends h.Tw2Action{constructor(...e){super(...e),b(this,"curveSet",u,this),b(this,"value",c,this)}},u=m((s=f).prototype,"curveSet",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),c=m(s.prototype,"value",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),l=s))||l)||l)},"./unsupported/state/action/Tr2ActionAnimateValue.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tr2ActionAnimateValue",(function(){return y}));var i,n,a,o,l,s,u,c,f,d,h,b,m,p=r("./global/index.js"),v=r("./unsupported/state/action/Tw2Action.js");function g(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function E(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var y=(i=p.meta.notImplemented,n=p.meta.type("Tr2ActionAnimateValue",!0),a=p.meta.black.string,o=p.meta.black.objectOf("Tr2CurveScalarExpression"),l=p.meta.black.path,s=p.meta.black.string,i(u=n((m=class extends v.Tw2Action{constructor(...e){super(...e),g(this,"attribute",f,this),g(this,"curve",d,this),g(this,"path",h,this),g(this,"value",b,this)}},f=E((c=m).prototype,"attribute",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),d=E(c.prototype,"curve",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),h=E(c.prototype,"path",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),b=E(c.prototype,"value",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),u=c))||u)||u)},"./unsupported/state/action/Tr2ActionChildEffect.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tr2ActionChildEffect",(function(){return g}));var i,n,a,o,l,s,u,c,f,d,h,b=r("./global/index.js"),m=r("./unsupported/state/action/Tw2Action.js");function p(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function v(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var g=(i=b.meta.notImplemented,n=b.meta.type("Tr2ActionChildEffect",!0),a=b.meta.black.string,o=b.meta.black.path,l=b.meta.black.boolean,i(s=n((h=class extends m.Tw2Action{constructor(...e){super(...e),p(this,"childName",c,this),p(this,"path",f,this),p(this,"removeOnStop",d,this)}},c=v((u=h).prototype,"childName",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),f=v(u.prototype,"path",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),d=v(u.prototype,"removeOnStop",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),s=u))||s)||s)},"./unsupported/state/action/Tr2ActionOverlay.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tr2ActionOverlay",(function(){return g}));var i,n,a,o,l,s,u,c=r("./global/index.js"),f=r("./unsupported/state/action/Tw2Action.js");var d,h,b,m,p,v,g=(i=c.meta.notImplemented,n=c.meta.type("Tr2ActionOverlay",!0),a=c.meta.black.path,i(o=n((u=class extends f.Tw2Action{constructor(...e){var t,r,i,n;super(...e),t=this,r="path",n=this,(i=s)&&Object.defineProperty(t,r,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}},d=(l=u).prototype,h="path",b=[a],m={configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}},v={},Object.keys(m).forEach((function(e){v[e]=m[e]})),v.enumerable=!!v.enumerable,v.configurable=!!v.configurable,("value"in v||v.initializer)&&(v.writable=!0),v=b.slice().reverse().reduce((function(e,t){return t(d,h,e)||e}),v),p&&void 0!==v.initializer&&(v.value=v.initializer?v.initializer.call(p):void 0,v.initializer=void 0),void 0===v.initializer&&(Object.defineProperty(d,h,v),v=null),s=v,o=l))||o)||o)},"./unsupported/state/action/Tr2ActionPlayCurveSet.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tr2ActionPlayCurveSet",(function(){return g}));var i,n,a,o,l,s,u,c,f,d,h,b=r("./global/index.js"),m=r("./unsupported/state/action/Tw2Action.js");function p(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function v(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var g=(i=b.meta.notImplemented,n=b.meta.type("Tr2ActionPlayCurveSet",!0),a=b.meta.black.string,o=b.meta.black.string,l=b.meta.black.boolean,i(s=n((h=class extends m.Tw2Action{constructor(...e){super(...e),p(this,"curveSetName",c,this),p(this,"rangeName",f,this),p(this,"syncToRange",d,this)}},c=v((u=h).prototype,"curveSetName",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),f=v(u.prototype,"rangeName",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),d=v(u.prototype,"syncToRange",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),s=u))||s)||s)},"./unsupported/state/action/Tr2ActionPlayMeshAnimation.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tr2ActionPlayMeshAnimation",(function(){return g}));var i,n,a,o,l,s,u,c,f,d,h,b=r("./global/index.js"),m=r("./unsupported/state/action/Tw2Action.js");function p(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function v(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var g=(i=b.meta.notImplemented,n=b.meta.type("Tr2ActionPlayMeshAnimation",!0),a=b.meta.black.string,o=b.meta.black.uint,l=b.meta.black.string,i(s=n((h=class extends m.Tw2Action{constructor(...e){super(...e),p(this,"animation",c,this),p(this,"loops",f,this),p(this,"mask",d,this)}},c=v((u=h).prototype,"animation",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),f=v(u.prototype,"loops",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),d=v(u.prototype,"mask",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),s=u))||s)||s)},"./unsupported/state/action/Tr2ActionPlaySound.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tr2ActionPlaySound",(function(){return p}));var i,n,a,o,l,s,u,c,f,d=r("./global/index.js"),h=r("./unsupported/state/action/Tw2Action.js");function b(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function m(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var p=(i=d.meta.notImplemented,n=d.meta.type("Tr2ActionPlaySound",!0),a=d.meta.black.string,o=d.meta.black.string,i(l=n((f=class extends h.Tw2Action{constructor(...e){super(...e),b(this,"emitter",u,this),b(this,"event",c,this)}},u=m((s=f).prototype,"emitter",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),c=m(s.prototype,"event",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),l=s))||l)||l)},"./unsupported/state/action/Tr2ActionResetClipSphereCenter.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tr2ActionResetClipSphereCenter",(function(){return o}));var i,n=r("./global/index.js"),a=r("./unsupported/state/action/Tw2Action.js"),o=(0,n.meta.notImplemented)(i=n.meta.type("Tr2ActionResetClipSphereCenter",!0)(i=n.meta.data("black")(i=class extends a.Tw2Action{})||i)||i)||i},"./unsupported/state/action/Tr2ActionSetValue.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tr2ActionSetValue",(function(){return g}));var i,n,a,o,l,s,u,c,f,d,h,b=r("./global/index.js"),m=r("./unsupported/state/action/Tw2Action.js");function p(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function v(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var g=(i=b.meta.notImplemented,n=b.meta.type("Tr2ActionSetValue",!0),a=b.meta.black.string,o=b.meta.black.path,l=b.meta.black.string,i(s=n((h=class extends m.Tw2Action{constructor(...e){super(...e),p(this,"attribute",c,this),p(this,"path",f,this),p(this,"value",d,this)}},c=v((u=h).prototype,"attribute",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),f=v(u.prototype,"path",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),d=v(u.prototype,"value",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),s=u))||s)||s)},"./unsupported/state/action/Tr2ActionSpawnParticles.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tr2ActionSpawnParticles",(function(){return o}));var i,n=r("./global/index.js"),a=r("./unsupported/state/action/Tw2Action.js"),o=(0,n.meta.notImplemented)(i=n.meta.type("Tr2ActionSpawnParticles",!0)(i=n.meta.data("black")(i=class extends a.Tw2Action{})||i)||i)||i},"./unsupported/state/action/Tw2Action.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tw2Action",(function(){return a}));var i,n=r("./global/index.js"),a=n.meta.type("Tw2Action")(i=class extends n.Tw2BaseClass{})||i},"./unsupported/state/action/index.js":function(e,t,r){"use strict";r.r(t);var i=r("./unsupported/state/action/Tr2ActionAnimateCurveSet.js");r.d(t,"Tr2ActionAnimateCurveSet",(function(){return i.Tr2ActionAnimateCurveSet}));var n=r("./unsupported/state/action/Tr2ActionAnimateValue.js");r.d(t,"Tr2ActionAnimateValue",(function(){return n.Tr2ActionAnimateValue}));var a=r("./unsupported/state/action/Tr2ActionChildEffect.js");r.d(t,"Tr2ActionChildEffect",(function(){return a.Tr2ActionChildEffect}));var o=r("./unsupported/state/action/Tr2ActionOverlay.js");r.d(t,"Tr2ActionOverlay",(function(){return o.Tr2ActionOverlay}));var l=r("./unsupported/state/action/Tr2ActionPlayCurveSet.js");r.d(t,"Tr2ActionPlayCurveSet",(function(){return l.Tr2ActionPlayCurveSet}));var s=r("./unsupported/state/action/Tr2ActionPlayMeshAnimation.js");r.d(t,"Tr2ActionPlayMeshAnimation",(function(){return s.Tr2ActionPlayMeshAnimation}));var u=r("./unsupported/state/action/Tr2ActionPlaySound.js");r.d(t,"Tr2ActionPlaySound",(function(){return u.Tr2ActionPlaySound}));var c=r("./unsupported/state/action/Tr2ActionResetClipSphereCenter.js");r.d(t,"Tr2ActionResetClipSphereCenter",(function(){return c.Tr2ActionResetClipSphereCenter}));var f=r("./unsupported/state/action/Tr2ActionSetValue.js");r.d(t,"Tr2ActionSetValue",(function(){return f.Tr2ActionSetValue}));var d=r("./unsupported/state/action/Tr2ActionSpawnParticles.js");r.d(t,"Tr2ActionSpawnParticles",(function(){return d.Tr2ActionSpawnParticles}))},"./unsupported/state/controller/Tr2Controller.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tr2Controller",(function(){return E}));var i,n,a,o,l,s,u,c,f,d,h,b,m,p=r("./global/index.js");function v(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function g(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var E=(i=p.meta.notImplemented,n=p.meta.type("Tr2Controller",!0),a=p.meta.black.string,o=p.meta.black.boolean,l=p.meta.black.listOf("Tr2StateMachine"),s=p.meta.black.listOf("Tr2ControllerFloatVariable"),i(u=n((m=class extends p.Tw2BaseClass{constructor(...e){super(...e),v(this,"name",f,this),v(this,"isShared",d,this),v(this,"stateMachines",h,this),v(this,"variables",b,this)}},f=g((c=m).prototype,"name",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),d=g(c.prototype,"isShared",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),h=g(c.prototype,"stateMachines",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),b=g(c.prototype,"variables",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),u=c))||u)||u)},"./unsupported/state/controller/Tr2ControllerReference.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tr2ControllerReference",(function(){return v}));var i,n,a,o,l,s,u,c=r("./global/index.js");var f,d,h,b,m,p,v=(i=c.meta.notImplemented,n=c.meta.type("Tr2ControllerReference",!0),a=c.meta.black.path,i(o=n((u=class extends c.Tw2BaseClass{constructor(...e){var t,r,i,n;super(...e),t=this,r="path",n=this,(i=s)&&Object.defineProperty(t,r,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}},f=(l=u).prototype,d="path",h=[a],b={configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}},p={},Object.keys(b).forEach((function(e){p[e]=b[e]})),p.enumerable=!!p.enumerable,p.configurable=!!p.configurable,("value"in p||p.initializer)&&(p.writable=!0),p=h.slice().reverse().reduce((function(e,t){return t(f,d,e)||e}),p),m&&void 0!==p.initializer&&(p.value=p.initializer?p.initializer.call(m):void 0,p.initializer=void 0),void 0===p.initializer&&(Object.defineProperty(f,d,p),p=null),s=p,o=l))||o)||o)},"./unsupported/state/controller/index.js":function(e,t,r){"use strict";r.r(t);var i=r("./unsupported/state/controller/Tr2Controller.js");r.d(t,"Tr2Controller",(function(){return i.Tr2Controller}));var n=r("./unsupported/state/controller/Tr2ControllerReference.js");r.d(t,"Tr2ControllerReference",(function(){return n.Tr2ControllerReference}))},"./unsupported/state/index.js":function(e,t,r){"use strict";r.r(t);var i=r("./unsupported/state/action/index.js");r.d(t,"Tr2ActionAnimateCurveSet",(function(){return i.Tr2ActionAnimateCurveSet})),r.d(t,"Tr2ActionAnimateValue",(function(){return i.Tr2ActionAnimateValue})),r.d(t,"Tr2ActionChildEffect",(function(){return i.Tr2ActionChildEffect})),r.d(t,"Tr2ActionOverlay",(function(){return i.Tr2ActionOverlay})),r.d(t,"Tr2ActionPlayCurveSet",(function(){return i.Tr2ActionPlayCurveSet})),r.d(t,"Tr2ActionPlayMeshAnimation",(function(){return i.Tr2ActionPlayMeshAnimation})),r.d(t,"Tr2ActionPlaySound",(function(){return i.Tr2ActionPlaySound})),r.d(t,"Tr2ActionResetClipSphereCenter",(function(){return i.Tr2ActionResetClipSphereCenter})),r.d(t,"Tr2ActionSetValue",(function(){return i.Tr2ActionSetValue})),r.d(t,"Tr2ActionSpawnParticles",(function(){return i.Tr2ActionSpawnParticles}));var n=r("./unsupported/state/controller/index.js");r.d(t,"Tr2Controller",(function(){return n.Tr2Controller})),r.d(t,"Tr2ControllerReference",(function(){return n.Tr2ControllerReference}));var a=r("./unsupported/state/variable/index.js");r.d(t,"Tr2ControllerFloatVariable",(function(){return a.Tr2ControllerFloatVariable}));var o=r("./unsupported/state/Tr2StateMachine.js");r.d(t,"Tr2StateMachine",(function(){return o.Tr2StateMachine}));var l=r("./unsupported/state/Tr2StateMachineState.js");r.d(t,"Tr2StateMachineState",(function(){return l.Tr2StateMachineState}));var s=r("./unsupported/state/Tr2StateMachineTransition.js");r.d(t,"Tr2StateMachineTransition",(function(){return s.Tr2StateMachineTransition}));var u=r("./unsupported/state/Tr2SyncToAnimation.js");r.d(t,"Tr2SyncToAnimation",(function(){return u.Tr2SyncToAnimation}))},"./unsupported/state/variable/Tr2ControllerFloatVariable.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tr2ControllerFloatVariable",(function(){return g}));var i,n,a,o,l,s,u,c,f,d,h,b,m=r("./global/index.js");function p(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function v(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var g=(i=m.meta.notImplemented,n=m.meta.type("Tr2ControllerFloatVariable",!0),a=m.meta.black.string,o=m.meta.black.float,l=m.meta.black.enums,s=m.meta.black.uint,i(u=n((f=v((c=class{constructor(){p(this,"name",f,this),p(this,"defaultValue",d,this),p(this,"enumValues",h,this),p(this,"variableType",b,this)}GetEnumsAsString(){var e=[];for(var t in this.enumValues)this.enumValues.hasOwnProperty(t)&&e.push("".concat(t,"=").concat(this.enumValues[t]));return e.sort().join(",")}}).prototype,"name",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),d=v(c.prototype,"defaultValue",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),h=v(c.prototype,"enumValues",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),b=v(c.prototype,"variableType",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),u=c))||u)||u)},"./unsupported/state/variable/index.js":function(e,t,r){"use strict";r.r(t);var i=r("./unsupported/state/variable/Tr2ControllerFloatVariable.js");r.d(t,"Tr2ControllerFloatVariable",(function(){return i.Tr2ControllerFloatVariable}))}})}));