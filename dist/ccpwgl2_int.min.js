!function(e,t){if("object"==typeof exports&&"object"==typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var r=t();for(var i in r)("object"==typeof exports?exports:e)[i]=r[i]}}(window,(function(){return function(e){var t={};function r(i){if(t[i])return t[i].exports;var n=t[i]={i:i,l:!1,exports:{}};return e[i].call(n.exports,n,n.exports,r),n.l=!0,n.exports}return r.m=e,r.c=t,r.d=function(e,t,i){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(r.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)r.d(i,n,function(t){return e[t]}.bind(null,n));return i},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s="./index.js")}({"../node_modules/core-js/internals/a-function.js":function(e,t){e.exports=function(e){if("function"!=typeof e)throw TypeError(String(e)+" is not a function");return e}},"../node_modules/core-js/internals/a-possible-prototype.js":function(e,t,r){var i=r("../node_modules/core-js/internals/is-object.js");e.exports=function(e){if(!i(e)&&null!==e)throw TypeError("Can't set "+String(e)+" as a prototype");return e}},"../node_modules/core-js/internals/add-to-unscopables.js":function(e,t,r){var i=r("../node_modules/core-js/internals/well-known-symbol.js"),n=r("../node_modules/core-js/internals/object-create.js"),a=r("../node_modules/core-js/internals/object-define-property.js"),o=i("unscopables"),s=Array.prototype;null==s[o]&&a.f(s,o,{configurable:!0,value:n(null)}),e.exports=function(e){s[o][e]=!0}},"../node_modules/core-js/internals/advance-string-index.js":function(e,t,r){"use strict";var i=r("../node_modules/core-js/internals/string-multibyte.js").charAt;e.exports=function(e,t,r){return t+(r?i(e,t).length:1)}},"../node_modules/core-js/internals/an-instance.js":function(e,t){e.exports=function(e,t,r){if(!(e instanceof t))throw TypeError("Incorrect "+(r?r+" ":"")+"invocation");return e}},"../node_modules/core-js/internals/an-object.js":function(e,t,r){var i=r("../node_modules/core-js/internals/is-object.js");e.exports=function(e){if(!i(e))throw TypeError(String(e)+" is not an object");return e}},"../node_modules/core-js/internals/array-buffer-native.js":function(e,t){e.exports="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof DataView},"../node_modules/core-js/internals/array-buffer-view-core.js":function(e,t,r){"use strict";var i,n=r("../node_modules/core-js/internals/array-buffer-native.js"),a=r("../node_modules/core-js/internals/descriptors.js"),o=r("../node_modules/core-js/internals/global.js"),s=r("../node_modules/core-js/internals/is-object.js"),l=r("../node_modules/core-js/internals/has.js"),u=r("../node_modules/core-js/internals/classof.js"),c=r("../node_modules/core-js/internals/create-non-enumerable-property.js"),f=r("../node_modules/core-js/internals/redefine.js"),d=r("../node_modules/core-js/internals/object-define-property.js").f,h=r("../node_modules/core-js/internals/object-get-prototype-of.js"),m=r("../node_modules/core-js/internals/object-set-prototype-of.js"),b=r("../node_modules/core-js/internals/well-known-symbol.js"),p=r("../node_modules/core-js/internals/uid.js"),v=o.Int8Array,g=v&&v.prototype,y=o.Uint8ClampedArray,w=y&&y.prototype,E=v&&h(v),T=g&&h(g),S=Object.prototype,_=S.isPrototypeOf,j=b("toStringTag"),R=p("TYPED_ARRAY_TAG"),z=n&&!!m&&"Opera"!==u(o.opera),O=!1,P={Int8Array:1,Uint8Array:1,Uint8ClampedArray:1,Int16Array:2,Uint16Array:2,Int32Array:4,Uint32Array:4,Float32Array:4,Float64Array:8},A=function(e){return s(e)&&l(P,u(e))};for(i in P)o[i]||(z=!1);if((!z||"function"!=typeof E||E===Function.prototype)&&(E=function(){throw TypeError("Incorrect invocation")},z))for(i in P)o[i]&&m(o[i],E);if((!z||!T||T===S)&&(T=E.prototype,z))for(i in P)o[i]&&m(o[i].prototype,T);if(z&&h(w)!==T&&m(w,T),a&&!l(T,j))for(i in O=!0,d(T,j,{get:function(){return s(this)?this[R]:void 0}}),P)o[i]&&c(o[i],R,i);e.exports={NATIVE_ARRAY_BUFFER_VIEWS:z,TYPED_ARRAY_TAG:O&&R,aTypedArray:function(e){if(A(e))return e;throw TypeError("Target is not a typed array")},aTypedArrayConstructor:function(e){if(m){if(_.call(E,e))return e}else for(var t in P)if(l(P,i)){var r=o[t];if(r&&(e===r||_.call(r,e)))return e}throw TypeError("Target is not a typed array constructor")},exportTypedArrayMethod:function(e,t,r){if(a){if(r)for(var i in P){var n=o[i];n&&l(n.prototype,e)&&delete n.prototype[e]}T[e]&&!r||f(T,e,r?t:z&&g[e]||t)}},exportTypedArrayStaticMethod:function(e,t,r){var i,n;if(a){if(m){if(r)for(i in P)(n=o[i])&&l(n,e)&&delete n[e];if(E[e]&&!r)return;try{return f(E,e,r?t:z&&v[e]||t)}catch(e){}}for(i in P)!(n=o[i])||n[e]&&!r||f(n,e,t)}},isView:function(e){var t=u(e);return"DataView"===t||l(P,t)},isTypedArray:A,TypedArray:E,TypedArrayPrototype:T}},"../node_modules/core-js/internals/array-buffer.js":function(e,t,r){"use strict";var i=r("../node_modules/core-js/internals/global.js"),n=r("../node_modules/core-js/internals/descriptors.js"),a=r("../node_modules/core-js/internals/array-buffer-native.js"),o=r("../node_modules/core-js/internals/create-non-enumerable-property.js"),s=r("../node_modules/core-js/internals/redefine-all.js"),l=r("../node_modules/core-js/internals/fails.js"),u=r("../node_modules/core-js/internals/an-instance.js"),c=r("../node_modules/core-js/internals/to-integer.js"),f=r("../node_modules/core-js/internals/to-length.js"),d=r("../node_modules/core-js/internals/to-index.js"),h=r("../node_modules/core-js/internals/ieee754.js"),m=r("../node_modules/core-js/internals/object-get-prototype-of.js"),b=r("../node_modules/core-js/internals/object-set-prototype-of.js"),p=r("../node_modules/core-js/internals/object-get-own-property-names.js").f,v=r("../node_modules/core-js/internals/object-define-property.js").f,g=r("../node_modules/core-js/internals/array-fill.js"),y=r("../node_modules/core-js/internals/set-to-string-tag.js"),w=r("../node_modules/core-js/internals/internal-state.js"),E=w.get,T=w.set,S=i.ArrayBuffer,_=S,j=i.DataView,R=j&&j.prototype,z=Object.prototype,O=i.RangeError,P=h.pack,A=h.unpack,x=function(e){return[255&e]},M=function(e){return[255&e,e>>8&255]},C=function(e){return[255&e,e>>8&255,e>>16&255,e>>24&255]},D=function(e){return e[3]<<24|e[2]<<16|e[1]<<8|e[0]},I=function(e){return P(e,23,4)},L=function(e){return P(e,52,8)},F=function(e,t){v(e.prototype,t,{get:function(){return E(this)[t]}})},G=function(e,t,r,i){var n=d(r),a=E(e);if(n+t>a.byteLength)throw O("Wrong index");var o=E(a.buffer).bytes,s=n+a.byteOffset,l=o.slice(s,s+t);return i?l:l.reverse()},B=function(e,t,r,i,n,a){var o=d(r),s=E(e);if(o+t>s.byteLength)throw O("Wrong index");for(var l=E(s.buffer).bytes,u=o+s.byteOffset,c=i(+n),f=0;f<t;f++)l[u+f]=c[a?f:t-f-1]};if(a){if(!l((function(){S(1)}))||!l((function(){new S(-1)}))||l((function(){return new S,new S(1.5),new S(NaN),"ArrayBuffer"!=S.name}))){for(var N,U=(_=function(e){return u(this,_),new S(d(e))}).prototype=S.prototype,k=p(S),V=0;k.length>V;)(N=k[V++])in _||o(_,N,S[N]);U.constructor=_}b&&m(R)!==z&&b(R,z);var H=new j(new _(2)),q=R.setInt8;H.setInt8(0,2147483648),H.setInt8(1,2147483649),!H.getInt8(0)&&H.getInt8(1)||s(R,{setInt8:function(e,t){q.call(this,e,t<<24>>24)},setUint8:function(e,t){q.call(this,e,t<<24>>24)}},{unsafe:!0})}else _=function(e){u(this,_,"ArrayBuffer");var t=d(e);T(this,{bytes:g.call(new Array(t),0),byteLength:t}),n||(this.byteLength=t)},j=function(e,t,r){u(this,j,"DataView"),u(e,_,"DataView");var i=E(e).byteLength,a=c(t);if(a<0||a>i)throw O("Wrong offset");if(a+(r=void 0===r?i-a:f(r))>i)throw O("Wrong length");T(this,{buffer:e,byteLength:r,byteOffset:a}),n||(this.buffer=e,this.byteLength=r,this.byteOffset=a)},n&&(F(_,"byteLength"),F(j,"buffer"),F(j,"byteLength"),F(j,"byteOffset")),s(j.prototype,{getInt8:function(e){return G(this,1,e)[0]<<24>>24},getUint8:function(e){return G(this,1,e)[0]},getInt16:function(e){var t=G(this,2,e,arguments.length>1?arguments[1]:void 0);return(t[1]<<8|t[0])<<16>>16},getUint16:function(e){var t=G(this,2,e,arguments.length>1?arguments[1]:void 0);return t[1]<<8|t[0]},getInt32:function(e){return D(G(this,4,e,arguments.length>1?arguments[1]:void 0))},getUint32:function(e){return D(G(this,4,e,arguments.length>1?arguments[1]:void 0))>>>0},getFloat32:function(e){return A(G(this,4,e,arguments.length>1?arguments[1]:void 0),23)},getFloat64:function(e){return A(G(this,8,e,arguments.length>1?arguments[1]:void 0),52)},setInt8:function(e,t){B(this,1,e,x,t)},setUint8:function(e,t){B(this,1,e,x,t)},setInt16:function(e,t){B(this,2,e,M,t,arguments.length>2?arguments[2]:void 0)},setUint16:function(e,t){B(this,2,e,M,t,arguments.length>2?arguments[2]:void 0)},setInt32:function(e,t){B(this,4,e,C,t,arguments.length>2?arguments[2]:void 0)},setUint32:function(e,t){B(this,4,e,C,t,arguments.length>2?arguments[2]:void 0)},setFloat32:function(e,t){B(this,4,e,I,t,arguments.length>2?arguments[2]:void 0)},setFloat64:function(e,t){B(this,8,e,L,t,arguments.length>2?arguments[2]:void 0)}});y(_,"ArrayBuffer"),y(j,"DataView"),e.exports={ArrayBuffer:_,DataView:j}},"../node_modules/core-js/internals/array-fill.js":function(e,t,r){"use strict";var i=r("../node_modules/core-js/internals/to-object.js"),n=r("../node_modules/core-js/internals/to-absolute-index.js"),a=r("../node_modules/core-js/internals/to-length.js");e.exports=function(e){for(var t=i(this),r=a(t.length),o=arguments.length,s=n(o>1?arguments[1]:void 0,r),l=o>2?arguments[2]:void 0,u=void 0===l?r:n(l,r);u>s;)t[s++]=e;return t}},"../node_modules/core-js/internals/array-for-each.js":function(e,t,r){"use strict";var i=r("../node_modules/core-js/internals/array-iteration.js").forEach,n=r("../node_modules/core-js/internals/array-method-is-strict.js"),a=r("../node_modules/core-js/internals/array-method-uses-to-length.js"),o=n("forEach"),s=a("forEach");e.exports=o&&s?[].forEach:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}},"../node_modules/core-js/internals/array-from.js":function(e,t,r){"use strict";var i=r("../node_modules/core-js/internals/function-bind-context.js"),n=r("../node_modules/core-js/internals/to-object.js"),a=r("../node_modules/core-js/internals/call-with-safe-iteration-closing.js"),o=r("../node_modules/core-js/internals/is-array-iterator-method.js"),s=r("../node_modules/core-js/internals/to-length.js"),l=r("../node_modules/core-js/internals/create-property.js"),u=r("../node_modules/core-js/internals/get-iterator-method.js");e.exports=function(e){var t,r,c,f,d,h,m=n(e),b="function"==typeof this?this:Array,p=arguments.length,v=p>1?arguments[1]:void 0,g=void 0!==v,y=u(m),w=0;if(g&&(v=i(v,p>2?arguments[2]:void 0,2)),null==y||b==Array&&o(y))for(r=new b(t=s(m.length));t>w;w++)h=g?v(m[w],w):m[w],l(r,w,h);else for(d=(f=y.call(m)).next,r=new b;!(c=d.call(f)).done;w++)h=g?a(f,v,[c.value,w],!0):c.value,l(r,w,h);return r.length=w,r}},"../node_modules/core-js/internals/array-includes.js":function(e,t,r){var i=r("../node_modules/core-js/internals/to-indexed-object.js"),n=r("../node_modules/core-js/internals/to-length.js"),a=r("../node_modules/core-js/internals/to-absolute-index.js"),o=function(e){return function(t,r,o){var s,l=i(t),u=n(l.length),c=a(o,u);if(e&&r!=r){for(;u>c;)if((s=l[c++])!=s)return!0}else for(;u>c;c++)if((e||c in l)&&l[c]===r)return e||c||0;return!e&&-1}};e.exports={includes:o(!0),indexOf:o(!1)}},"../node_modules/core-js/internals/array-iteration.js":function(e,t,r){var i=r("../node_modules/core-js/internals/function-bind-context.js"),n=r("../node_modules/core-js/internals/indexed-object.js"),a=r("../node_modules/core-js/internals/to-object.js"),o=r("../node_modules/core-js/internals/to-length.js"),s=r("../node_modules/core-js/internals/array-species-create.js"),l=[].push,u=function(e){var t=1==e,r=2==e,u=3==e,c=4==e,f=6==e,d=5==e||f;return function(h,m,b,p){for(var v,g,y=a(h),w=n(y),E=i(m,b,3),T=o(w.length),S=0,_=p||s,j=t?_(h,T):r?_(h,0):void 0;T>S;S++)if((d||S in w)&&(g=E(v=w[S],S,y),e))if(t)j[S]=g;else if(g)switch(e){case 3:return!0;case 5:return v;case 6:return S;case 2:l.call(j,v)}else if(c)return!1;return f?-1:u||c?c:j}};e.exports={forEach:u(0),map:u(1),filter:u(2),some:u(3),every:u(4),find:u(5),findIndex:u(6)}},"../node_modules/core-js/internals/array-last-index-of.js":function(e,t,r){"use strict";var i=r("../node_modules/core-js/internals/to-indexed-object.js"),n=r("../node_modules/core-js/internals/to-integer.js"),a=r("../node_modules/core-js/internals/to-length.js"),o=r("../node_modules/core-js/internals/array-method-is-strict.js"),s=r("../node_modules/core-js/internals/array-method-uses-to-length.js"),l=Math.min,u=[].lastIndexOf,c=!!u&&1/[1].lastIndexOf(1,-0)<0,f=o("lastIndexOf"),d=s("indexOf",{ACCESSORS:!0,1:0}),h=c||!f||!d;e.exports=h?function(e){if(c)return u.apply(this,arguments)||0;var t=i(this),r=a(t.length),o=r-1;for(arguments.length>1&&(o=l(o,n(arguments[1]))),o<0&&(o=r+o);o>=0;o--)if(o in t&&t[o]===e)return o||0;return-1}:u},"../node_modules/core-js/internals/array-method-has-species-support.js":function(e,t,r){var i=r("../node_modules/core-js/internals/fails.js"),n=r("../node_modules/core-js/internals/well-known-symbol.js"),a=r("../node_modules/core-js/internals/engine-v8-version.js"),o=n("species");e.exports=function(e){return a>=51||!i((function(){var t=[];return(t.constructor={})[o]=function(){return{foo:1}},1!==t[e](Boolean).foo}))}},"../node_modules/core-js/internals/array-method-is-strict.js":function(e,t,r){"use strict";var i=r("../node_modules/core-js/internals/fails.js");e.exports=function(e,t){var r=[][e];return!!r&&i((function(){r.call(null,t||function(){throw 1},1)}))}},"../node_modules/core-js/internals/array-method-uses-to-length.js":function(e,t,r){var i=r("../node_modules/core-js/internals/descriptors.js"),n=r("../node_modules/core-js/internals/fails.js"),a=r("../node_modules/core-js/internals/has.js"),o=Object.defineProperty,s={},l=function(e){throw e};e.exports=function(e,t){if(a(s,e))return s[e];t||(t={});var r=[][e],u=!!a(t,"ACCESSORS")&&t.ACCESSORS,c=a(t,0)?t[0]:l,f=a(t,1)?t[1]:void 0;return s[e]=!!r&&!n((function(){if(u&&!i)return!0;var e={length:-1};u?o(e,1,{enumerable:!0,get:l}):e[1]=1,r.call(e,c,f)}))}},"../node_modules/core-js/internals/array-species-create.js":function(e,t,r){var i=r("../node_modules/core-js/internals/is-object.js"),n=r("../node_modules/core-js/internals/is-array.js"),a=r("../node_modules/core-js/internals/well-known-symbol.js")("species");e.exports=function(e,t){var r;return n(e)&&("function"!=typeof(r=e.constructor)||r!==Array&&!n(r.prototype)?i(r)&&null===(r=r[a])&&(r=void 0):r=void 0),new(void 0===r?Array:r)(0===t?0:t)}},"../node_modules/core-js/internals/call-with-safe-iteration-closing.js":function(e,t,r){var i=r("../node_modules/core-js/internals/an-object.js");e.exports=function(e,t,r,n){try{return n?t(i(r)[0],r[1]):t(r)}catch(t){var a=e.return;throw void 0!==a&&i(a.call(e)),t}}},"../node_modules/core-js/internals/check-correctness-of-iteration.js":function(e,t,r){var i=r("../node_modules/core-js/internals/well-known-symbol.js")("iterator"),n=!1;try{var a=0,o={next:function(){return{done:!!a++}},return:function(){n=!0}};o[i]=function(){return this},Array.from(o,(function(){throw 2}))}catch(e){}e.exports=function(e,t){if(!t&&!n)return!1;var r=!1;try{var a={};a[i]=function(){return{next:function(){return{done:r=!0}}}},e(a)}catch(e){}return r}},"../node_modules/core-js/internals/classof-raw.js":function(e,t){var r={}.toString;e.exports=function(e){return r.call(e).slice(8,-1)}},"../node_modules/core-js/internals/classof.js":function(e,t,r){var i=r("../node_modules/core-js/internals/to-string-tag-support.js"),n=r("../node_modules/core-js/internals/classof-raw.js"),a=r("../node_modules/core-js/internals/well-known-symbol.js")("toStringTag"),o="Arguments"==n(function(){return arguments}());e.exports=i?n:function(e){var t,r,i;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(r=function(e,t){try{return e[t]}catch(e){}}(t=Object(e),a))?r:o?n(t):"Object"==(i=n(t))&&"function"==typeof t.callee?"Arguments":i}},"../node_modules/core-js/internals/copy-constructor-properties.js":function(e,t,r){var i=r("../node_modules/core-js/internals/has.js"),n=r("../node_modules/core-js/internals/own-keys.js"),a=r("../node_modules/core-js/internals/object-get-own-property-descriptor.js"),o=r("../node_modules/core-js/internals/object-define-property.js");e.exports=function(e,t){for(var r=n(t),s=o.f,l=a.f,u=0;u<r.length;u++){var c=r[u];i(e,c)||s(e,c,l(t,c))}}},"../node_modules/core-js/internals/correct-prototype-getter.js":function(e,t,r){var i=r("../node_modules/core-js/internals/fails.js");e.exports=!i((function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype}))},"../node_modules/core-js/internals/create-iterator-constructor.js":function(e,t,r){"use strict";var i=r("../node_modules/core-js/internals/iterators-core.js").IteratorPrototype,n=r("../node_modules/core-js/internals/object-create.js"),a=r("../node_modules/core-js/internals/create-property-descriptor.js"),o=r("../node_modules/core-js/internals/set-to-string-tag.js"),s=r("../node_modules/core-js/internals/iterators.js"),l=function(){return this};e.exports=function(e,t,r){var u=t+" Iterator";return e.prototype=n(i,{next:a(1,r)}),o(e,u,!1,!0),s[u]=l,e}},"../node_modules/core-js/internals/create-non-enumerable-property.js":function(e,t,r){var i=r("../node_modules/core-js/internals/descriptors.js"),n=r("../node_modules/core-js/internals/object-define-property.js"),a=r("../node_modules/core-js/internals/create-property-descriptor.js");e.exports=i?function(e,t,r){return n.f(e,t,a(1,r))}:function(e,t,r){return e[t]=r,e}},"../node_modules/core-js/internals/create-property-descriptor.js":function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},"../node_modules/core-js/internals/create-property.js":function(e,t,r){"use strict";var i=r("../node_modules/core-js/internals/to-primitive.js"),n=r("../node_modules/core-js/internals/object-define-property.js"),a=r("../node_modules/core-js/internals/create-property-descriptor.js");e.exports=function(e,t,r){var o=i(t);o in e?n.f(e,o,a(0,r)):e[o]=r}},"../node_modules/core-js/internals/define-iterator.js":function(e,t,r){"use strict";var i=r("../node_modules/core-js/internals/export.js"),n=r("../node_modules/core-js/internals/create-iterator-constructor.js"),a=r("../node_modules/core-js/internals/object-get-prototype-of.js"),o=r("../node_modules/core-js/internals/object-set-prototype-of.js"),s=r("../node_modules/core-js/internals/set-to-string-tag.js"),l=r("../node_modules/core-js/internals/create-non-enumerable-property.js"),u=r("../node_modules/core-js/internals/redefine.js"),c=r("../node_modules/core-js/internals/well-known-symbol.js"),f=r("../node_modules/core-js/internals/is-pure.js"),d=r("../node_modules/core-js/internals/iterators.js"),h=r("../node_modules/core-js/internals/iterators-core.js"),m=h.IteratorPrototype,b=h.BUGGY_SAFARI_ITERATORS,p=c("iterator"),v=function(){return this};e.exports=function(e,t,r,c,h,g,y){n(r,t,c);var w,E,T,S=function(e){if(e===h&&O)return O;if(!b&&e in R)return R[e];switch(e){case"keys":case"values":case"entries":return function(){return new r(this,e)}}return function(){return new r(this)}},_=t+" Iterator",j=!1,R=e.prototype,z=R[p]||R["@@iterator"]||h&&R[h],O=!b&&z||S(h),P="Array"==t&&R.entries||z;if(P&&(w=a(P.call(new e)),m!==Object.prototype&&w.next&&(f||a(w)===m||(o?o(w,m):"function"!=typeof w[p]&&l(w,p,v)),s(w,_,!0,!0),f&&(d[_]=v))),"values"==h&&z&&"values"!==z.name&&(j=!0,O=function(){return z.call(this)}),f&&!y||R[p]===O||l(R,p,O),d[t]=O,h)if(E={values:S("values"),keys:g?O:S("keys"),entries:S("entries")},y)for(T in E)(b||j||!(T in R))&&u(R,T,E[T]);else i({target:t,proto:!0,forced:b||j},E);return E}},"../node_modules/core-js/internals/define-well-known-symbol.js":function(e,t,r){var i=r("../node_modules/core-js/internals/path.js"),n=r("../node_modules/core-js/internals/has.js"),a=r("../node_modules/core-js/internals/well-known-symbol-wrapped.js"),o=r("../node_modules/core-js/internals/object-define-property.js").f;e.exports=function(e){var t=i.Symbol||(i.Symbol={});n(t,e)||o(t,e,{value:a.f(e)})}},"../node_modules/core-js/internals/descriptors.js":function(e,t,r){var i=r("../node_modules/core-js/internals/fails.js");e.exports=!i((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}))},"../node_modules/core-js/internals/document-create-element.js":function(e,t,r){var i=r("../node_modules/core-js/internals/global.js"),n=r("../node_modules/core-js/internals/is-object.js"),a=i.document,o=n(a)&&n(a.createElement);e.exports=function(e){return o?a.createElement(e):{}}},"../node_modules/core-js/internals/dom-iterables.js":function(e,t){e.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},"../node_modules/core-js/internals/engine-is-ios.js":function(e,t,r){var i=r("../node_modules/core-js/internals/engine-user-agent.js");e.exports=/(iphone|ipod|ipad).*applewebkit/i.test(i)},"../node_modules/core-js/internals/engine-user-agent.js":function(e,t,r){var i=r("../node_modules/core-js/internals/get-built-in.js");e.exports=i("navigator","userAgent")||""},"../node_modules/core-js/internals/engine-v8-version.js":function(e,t,r){var i,n,a=r("../node_modules/core-js/internals/global.js"),o=r("../node_modules/core-js/internals/engine-user-agent.js"),s=a.process,l=s&&s.versions,u=l&&l.v8;u?n=(i=u.split("."))[0]+i[1]:o&&(!(i=o.match(/Edge\/(\d+)/))||i[1]>=74)&&(i=o.match(/Chrome\/(\d+)/))&&(n=i[1]),e.exports=n&&+n},"../node_modules/core-js/internals/enum-bug-keys.js":function(e,t){e.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},"../node_modules/core-js/internals/export.js":function(e,t,r){var i=r("../node_modules/core-js/internals/global.js"),n=r("../node_modules/core-js/internals/object-get-own-property-descriptor.js").f,a=r("../node_modules/core-js/internals/create-non-enumerable-property.js"),o=r("../node_modules/core-js/internals/redefine.js"),s=r("../node_modules/core-js/internals/set-global.js"),l=r("../node_modules/core-js/internals/copy-constructor-properties.js"),u=r("../node_modules/core-js/internals/is-forced.js");e.exports=function(e,t){var r,c,f,d,h,m=e.target,b=e.global,p=e.stat;if(r=b?i:p?i[m]||s(m,{}):(i[m]||{}).prototype)for(c in t){if(d=t[c],f=e.noTargetGet?(h=n(r,c))&&h.value:r[c],!u(b?c:m+(p?".":"#")+c,e.forced)&&void 0!==f){if(typeof d==typeof f)continue;l(d,f)}(e.sham||f&&f.sham)&&a(d,"sham",!0),o(r,c,d,e)}}},"../node_modules/core-js/internals/fails.js":function(e,t){e.exports=function(e){try{return!!e()}catch(e){return!0}}},"../node_modules/core-js/internals/fix-regexp-well-known-symbol-logic.js":function(e,t,r){"use strict";r("../node_modules/core-js/modules/es.regexp.exec.js");var i=r("../node_modules/core-js/internals/redefine.js"),n=r("../node_modules/core-js/internals/fails.js"),a=r("../node_modules/core-js/internals/well-known-symbol.js"),o=r("../node_modules/core-js/internals/regexp-exec.js"),s=r("../node_modules/core-js/internals/create-non-enumerable-property.js"),l=a("species"),u=!n((function(){var e=/./;return e.exec=function(){var e=[];return e.groups={a:"7"},e},"7"!=="".replace(e,"$<a>")})),c="$0"==="a".replace(/./,"$0"),f=a("replace"),d=!!/./[f]&&""===/./[f]("a","$0"),h=!n((function(){var e=/(?:)/,t=e.exec;e.exec=function(){return t.apply(this,arguments)};var r="ab".split(e);return 2!==r.length||"a"!==r[0]||"b"!==r[1]}));e.exports=function(e,t,r,f){var m=a(e),b=!n((function(){var t={};return t[m]=function(){return 7},7!=""[e](t)})),p=b&&!n((function(){var t=!1,r=/a/;return"split"===e&&((r={}).constructor={},r.constructor[l]=function(){return r},r.flags="",r[m]=/./[m]),r.exec=function(){return t=!0,null},r[m](""),!t}));if(!b||!p||"replace"===e&&(!u||!c||d)||"split"===e&&!h){var v=/./[m],g=r(m,""[e],(function(e,t,r,i,n){return t.exec===o?b&&!n?{done:!0,value:v.call(t,r,i)}:{done:!0,value:e.call(r,t,i)}:{done:!1}}),{REPLACE_KEEPS_$0:c,REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE:d}),y=g[0],w=g[1];i(String.prototype,e,y),i(RegExp.prototype,m,2==t?function(e,t){return w.call(e,this,t)}:function(e){return w.call(e,this)})}f&&s(RegExp.prototype[m],"sham",!0)}},"../node_modules/core-js/internals/flatten-into-array.js":function(e,t,r){"use strict";var i=r("../node_modules/core-js/internals/is-array.js"),n=r("../node_modules/core-js/internals/to-length.js"),a=r("../node_modules/core-js/internals/function-bind-context.js"),o=function(e,t,r,s,l,u,c,f){for(var d,h=l,m=0,b=!!c&&a(c,f,3);m<s;){if(m in r){if(d=b?b(r[m],m,t):r[m],u>0&&i(d))h=o(e,t,d,n(d.length),h,u-1)-1;else{if(h>=9007199254740991)throw TypeError("Exceed the acceptable array length");e[h]=d}h++}m++}return h};e.exports=o},"../node_modules/core-js/internals/function-bind-context.js":function(e,t,r){var i=r("../node_modules/core-js/internals/a-function.js");e.exports=function(e,t,r){if(i(e),void 0===t)return e;switch(r){case 0:return function(){return e.call(t)};case 1:return function(r){return e.call(t,r)};case 2:return function(r,i){return e.call(t,r,i)};case 3:return function(r,i,n){return e.call(t,r,i,n)}}return function(){return e.apply(t,arguments)}}},"../node_modules/core-js/internals/get-built-in.js":function(e,t,r){var i=r("../node_modules/core-js/internals/path.js"),n=r("../node_modules/core-js/internals/global.js"),a=function(e){return"function"==typeof e?e:void 0};e.exports=function(e,t){return arguments.length<2?a(i[e])||a(n[e]):i[e]&&i[e][t]||n[e]&&n[e][t]}},"../node_modules/core-js/internals/get-iterator-method.js":function(e,t,r){var i=r("../node_modules/core-js/internals/classof.js"),n=r("../node_modules/core-js/internals/iterators.js"),a=r("../node_modules/core-js/internals/well-known-symbol.js")("iterator");e.exports=function(e){if(null!=e)return e[a]||e["@@iterator"]||n[i(e)]}},"../node_modules/core-js/internals/get-iterator.js":function(e,t,r){var i=r("../node_modules/core-js/internals/an-object.js"),n=r("../node_modules/core-js/internals/get-iterator-method.js");e.exports=function(e){var t=n(e);if("function"!=typeof t)throw TypeError(String(e)+" is not iterable");return i(t.call(e))}},"../node_modules/core-js/internals/global.js":function(e,t,r){(function(t){var r=function(e){return e&&e.Math==Math&&e};e.exports=r("object"==typeof globalThis&&globalThis)||r("object"==typeof window&&window)||r("object"==typeof self&&self)||r("object"==typeof t&&t)||Function("return this")()}).call(this,r("../node_modules/webpack/buildin/global.js"))},"../node_modules/core-js/internals/has.js":function(e,t){var r={}.hasOwnProperty;e.exports=function(e,t){return r.call(e,t)}},"../node_modules/core-js/internals/hidden-keys.js":function(e,t){e.exports={}},"../node_modules/core-js/internals/host-report-errors.js":function(e,t,r){var i=r("../node_modules/core-js/internals/global.js");e.exports=function(e,t){var r=i.console;r&&r.error&&(1===arguments.length?r.error(e):r.error(e,t))}},"../node_modules/core-js/internals/html.js":function(e,t,r){var i=r("../node_modules/core-js/internals/get-built-in.js");e.exports=i("document","documentElement")},"../node_modules/core-js/internals/ie8-dom-define.js":function(e,t,r){var i=r("../node_modules/core-js/internals/descriptors.js"),n=r("../node_modules/core-js/internals/fails.js"),a=r("../node_modules/core-js/internals/document-create-element.js");e.exports=!i&&!n((function(){return 7!=Object.defineProperty(a("div"),"a",{get:function(){return 7}}).a}))},"../node_modules/core-js/internals/ieee754.js":function(e,t){var r=Math.abs,i=Math.pow,n=Math.floor,a=Math.log,o=Math.LN2;e.exports={pack:function(e,t,s){var l,u,c,f=new Array(s),d=8*s-t-1,h=(1<<d)-1,m=h>>1,b=23===t?i(2,-24)-i(2,-77):0,p=e<0||0===e&&1/e<0?1:0,v=0;for((e=r(e))!=e||e===1/0?(u=e!=e?1:0,l=h):(l=n(a(e)/o),e*(c=i(2,-l))<1&&(l--,c*=2),(e+=l+m>=1?b/c:b*i(2,1-m))*c>=2&&(l++,c/=2),l+m>=h?(u=0,l=h):l+m>=1?(u=(e*c-1)*i(2,t),l+=m):(u=e*i(2,m-1)*i(2,t),l=0));t>=8;f[v++]=255&u,u/=256,t-=8);for(l=l<<t|u,d+=t;d>0;f[v++]=255&l,l/=256,d-=8);return f[--v]|=128*p,f},unpack:function(e,t){var r,n=e.length,a=8*n-t-1,o=(1<<a)-1,s=o>>1,l=a-7,u=n-1,c=e[u--],f=127&c;for(c>>=7;l>0;f=256*f+e[u],u--,l-=8);for(r=f&(1<<-l)-1,f>>=-l,l+=t;l>0;r=256*r+e[u],u--,l-=8);if(0===f)f=1-s;else{if(f===o)return r?NaN:c?-1/0:1/0;r+=i(2,t),f-=s}return(c?-1:1)*r*i(2,f-t)}}},"../node_modules/core-js/internals/indexed-object.js":function(e,t,r){var i=r("../node_modules/core-js/internals/fails.js"),n=r("../node_modules/core-js/internals/classof-raw.js"),a="".split;e.exports=i((function(){return!Object("z").propertyIsEnumerable(0)}))?function(e){return"String"==n(e)?a.call(e,""):Object(e)}:Object},"../node_modules/core-js/internals/inherit-if-required.js":function(e,t,r){var i=r("../node_modules/core-js/internals/is-object.js"),n=r("../node_modules/core-js/internals/object-set-prototype-of.js");e.exports=function(e,t,r){var a,o;return n&&"function"==typeof(a=t.constructor)&&a!==r&&i(o=a.prototype)&&o!==r.prototype&&n(e,o),e}},"../node_modules/core-js/internals/inspect-source.js":function(e,t,r){var i=r("../node_modules/core-js/internals/shared-store.js"),n=Function.toString;"function"!=typeof i.inspectSource&&(i.inspectSource=function(e){return n.call(e)}),e.exports=i.inspectSource},"../node_modules/core-js/internals/internal-state.js":function(e,t,r){var i,n,a,o=r("../node_modules/core-js/internals/native-weak-map.js"),s=r("../node_modules/core-js/internals/global.js"),l=r("../node_modules/core-js/internals/is-object.js"),u=r("../node_modules/core-js/internals/create-non-enumerable-property.js"),c=r("../node_modules/core-js/internals/has.js"),f=r("../node_modules/core-js/internals/shared-key.js"),d=r("../node_modules/core-js/internals/hidden-keys.js"),h=s.WeakMap;if(o){var m=new h,b=m.get,p=m.has,v=m.set;i=function(e,t){return v.call(m,e,t),t},n=function(e){return b.call(m,e)||{}},a=function(e){return p.call(m,e)}}else{var g=f("state");d[g]=!0,i=function(e,t){return u(e,g,t),t},n=function(e){return c(e,g)?e[g]:{}},a=function(e){return c(e,g)}}e.exports={set:i,get:n,has:a,enforce:function(e){return a(e)?n(e):i(e,{})},getterFor:function(e){return function(t){var r;if(!l(t)||(r=n(t)).type!==e)throw TypeError("Incompatible receiver, "+e+" required");return r}}}},"../node_modules/core-js/internals/is-array-iterator-method.js":function(e,t,r){var i=r("../node_modules/core-js/internals/well-known-symbol.js"),n=r("../node_modules/core-js/internals/iterators.js"),a=i("iterator"),o=Array.prototype;e.exports=function(e){return void 0!==e&&(n.Array===e||o[a]===e)}},"../node_modules/core-js/internals/is-array.js":function(e,t,r){var i=r("../node_modules/core-js/internals/classof-raw.js");e.exports=Array.isArray||function(e){return"Array"==i(e)}},"../node_modules/core-js/internals/is-forced.js":function(e,t,r){var i=r("../node_modules/core-js/internals/fails.js"),n=/#|\.prototype\./,a=function(e,t){var r=s[o(e)];return r==u||r!=l&&("function"==typeof t?i(t):!!t)},o=a.normalize=function(e){return String(e).replace(n,".").toLowerCase()},s=a.data={},l=a.NATIVE="N",u=a.POLYFILL="P";e.exports=a},"../node_modules/core-js/internals/is-object.js":function(e,t){e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},"../node_modules/core-js/internals/is-pure.js":function(e,t){e.exports=!1},"../node_modules/core-js/internals/iterate.js":function(e,t,r){var i=r("../node_modules/core-js/internals/an-object.js"),n=r("../node_modules/core-js/internals/is-array-iterator-method.js"),a=r("../node_modules/core-js/internals/to-length.js"),o=r("../node_modules/core-js/internals/function-bind-context.js"),s=r("../node_modules/core-js/internals/get-iterator-method.js"),l=r("../node_modules/core-js/internals/call-with-safe-iteration-closing.js"),u=function(e,t){this.stopped=e,this.result=t};(e.exports=function(e,t,r,c,f){var d,h,m,b,p,v,g,y=o(t,r,c?2:1);if(f)d=e;else{if("function"!=typeof(h=s(e)))throw TypeError("Target is not iterable");if(n(h)){for(m=0,b=a(e.length);b>m;m++)if((p=c?y(i(g=e[m])[0],g[1]):y(e[m]))&&p instanceof u)return p;return new u(!1)}d=h.call(e)}for(v=d.next;!(g=v.call(d)).done;)if("object"==typeof(p=l(d,y,g.value,c))&&p&&p instanceof u)return p;return new u(!1)}).stop=function(e){return new u(!0,e)}},"../node_modules/core-js/internals/iterators-core.js":function(e,t,r){"use strict";var i,n,a,o=r("../node_modules/core-js/internals/object-get-prototype-of.js"),s=r("../node_modules/core-js/internals/create-non-enumerable-property.js"),l=r("../node_modules/core-js/internals/has.js"),u=r("../node_modules/core-js/internals/well-known-symbol.js"),c=r("../node_modules/core-js/internals/is-pure.js"),f=u("iterator"),d=!1;[].keys&&("next"in(a=[].keys())?(n=o(o(a)))!==Object.prototype&&(i=n):d=!0),null==i&&(i={}),c||l(i,f)||s(i,f,(function(){return this})),e.exports={IteratorPrototype:i,BUGGY_SAFARI_ITERATORS:d}},"../node_modules/core-js/internals/iterators.js":function(e,t){e.exports={}},"../node_modules/core-js/internals/microtask.js":function(e,t,r){var i,n,a,o,s,l,u,c,f=r("../node_modules/core-js/internals/global.js"),d=r("../node_modules/core-js/internals/object-get-own-property-descriptor.js").f,h=r("../node_modules/core-js/internals/classof-raw.js"),m=r("../node_modules/core-js/internals/task.js").set,b=r("../node_modules/core-js/internals/engine-is-ios.js"),p=f.MutationObserver||f.WebKitMutationObserver,v=f.process,g=f.Promise,y="process"==h(v),w=d(f,"queueMicrotask"),E=w&&w.value;E||(i=function(){var e,t;for(y&&(e=v.domain)&&e.exit();n;){t=n.fn,n=n.next;try{t()}catch(e){throw n?o():a=void 0,e}}a=void 0,e&&e.enter()},y?o=function(){v.nextTick(i)}:p&&!b?(s=!0,l=document.createTextNode(""),new p(i).observe(l,{characterData:!0}),o=function(){l.data=s=!s}):g&&g.resolve?(u=g.resolve(void 0),c=u.then,o=function(){c.call(u,i)}):o=function(){m.call(f,i)}),e.exports=E||function(e){var t={fn:e,next:void 0};a&&(a.next=t),n||(n=t,o()),a=t}},"../node_modules/core-js/internals/native-promise-constructor.js":function(e,t,r){var i=r("../node_modules/core-js/internals/global.js");e.exports=i.Promise},"../node_modules/core-js/internals/native-symbol.js":function(e,t,r){var i=r("../node_modules/core-js/internals/fails.js");e.exports=!!Object.getOwnPropertySymbols&&!i((function(){return!String(Symbol())}))},"../node_modules/core-js/internals/native-url.js":function(e,t,r){var i=r("../node_modules/core-js/internals/fails.js"),n=r("../node_modules/core-js/internals/well-known-symbol.js"),a=r("../node_modules/core-js/internals/is-pure.js"),o=n("iterator");e.exports=!i((function(){var e=new URL("b?a=1&b=2&c=3","http://a"),t=e.searchParams,r="";return e.pathname="c%20d",t.forEach((function(e,i){t.delete("b"),r+=i+e})),a&&!e.toJSON||!t.sort||"http://a/c%20d?a=1&c=3"!==e.href||"3"!==t.get("c")||"a=1"!==String(new URLSearchParams("?a=1"))||!t[o]||"a"!==new URL("https://a@b").username||"b"!==new URLSearchParams(new URLSearchParams("a=b")).get("a")||"xn--e1aybc"!==new URL("http://тест").host||"#%D0%B1"!==new URL("http://a#б").hash||"a1c3"!==r||"x"!==new URL("http://x",void 0).host}))},"../node_modules/core-js/internals/native-weak-map.js":function(e,t,r){var i=r("../node_modules/core-js/internals/global.js"),n=r("../node_modules/core-js/internals/inspect-source.js"),a=i.WeakMap;e.exports="function"==typeof a&&/native code/.test(n(a))},"../node_modules/core-js/internals/new-promise-capability.js":function(e,t,r){"use strict";var i=r("../node_modules/core-js/internals/a-function.js"),n=function(e){var t,r;this.promise=new e((function(e,i){if(void 0!==t||void 0!==r)throw TypeError("Bad Promise constructor");t=e,r=i})),this.resolve=i(t),this.reject=i(r)};e.exports.f=function(e){return new n(e)}},"../node_modules/core-js/internals/number-parse-float.js":function(e,t,r){var i=r("../node_modules/core-js/internals/global.js"),n=r("../node_modules/core-js/internals/string-trim.js").trim,a=r("../node_modules/core-js/internals/whitespaces.js"),o=i.parseFloat,s=1/o(a+"-0")!=-1/0;e.exports=s?function(e){var t=n(String(e)),r=o(t);return 0===r&&"-"==t.charAt(0)?-0:r}:o},"../node_modules/core-js/internals/object-assign.js":function(e,t,r){"use strict";var i=r("../node_modules/core-js/internals/descriptors.js"),n=r("../node_modules/core-js/internals/fails.js"),a=r("../node_modules/core-js/internals/object-keys.js"),o=r("../node_modules/core-js/internals/object-get-own-property-symbols.js"),s=r("../node_modules/core-js/internals/object-property-is-enumerable.js"),l=r("../node_modules/core-js/internals/to-object.js"),u=r("../node_modules/core-js/internals/indexed-object.js"),c=Object.assign,f=Object.defineProperty;e.exports=!c||n((function(){if(i&&1!==c({b:1},c(f({},"a",{enumerable:!0,get:function(){f(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var e={},t={},r=Symbol();return e[r]=7,"abcdefghijklmnopqrst".split("").forEach((function(e){t[e]=e})),7!=c({},e)[r]||"abcdefghijklmnopqrst"!=a(c({},t)).join("")}))?function(e,t){for(var r=l(e),n=arguments.length,c=1,f=o.f,d=s.f;n>c;)for(var h,m=u(arguments[c++]),b=f?a(m).concat(f(m)):a(m),p=b.length,v=0;p>v;)h=b[v++],i&&!d.call(m,h)||(r[h]=m[h]);return r}:c},"../node_modules/core-js/internals/object-create.js":function(e,t,r){var i,n=r("../node_modules/core-js/internals/an-object.js"),a=r("../node_modules/core-js/internals/object-define-properties.js"),o=r("../node_modules/core-js/internals/enum-bug-keys.js"),s=r("../node_modules/core-js/internals/hidden-keys.js"),l=r("../node_modules/core-js/internals/html.js"),u=r("../node_modules/core-js/internals/document-create-element.js"),c=r("../node_modules/core-js/internals/shared-key.js"),f=c("IE_PROTO"),d=function(){},h=function(e){return"<script>"+e+"<\/script>"},m=function(){try{i=document.domain&&new ActiveXObject("htmlfile")}catch(e){}var e,t;m=i?function(e){e.write(h("")),e.close();var t=e.parentWindow.Object;return e=null,t}(i):((t=u("iframe")).style.display="none",l.appendChild(t),t.src=String("javascript:"),(e=t.contentWindow.document).open(),e.write(h("document.F=Object")),e.close(),e.F);for(var r=o.length;r--;)delete m.prototype[o[r]];return m()};s[f]=!0,e.exports=Object.create||function(e,t){var r;return null!==e?(d.prototype=n(e),r=new d,d.prototype=null,r[f]=e):r=m(),void 0===t?r:a(r,t)}},"../node_modules/core-js/internals/object-define-properties.js":function(e,t,r){var i=r("../node_modules/core-js/internals/descriptors.js"),n=r("../node_modules/core-js/internals/object-define-property.js"),a=r("../node_modules/core-js/internals/an-object.js"),o=r("../node_modules/core-js/internals/object-keys.js");e.exports=i?Object.defineProperties:function(e,t){a(e);for(var r,i=o(t),s=i.length,l=0;s>l;)n.f(e,r=i[l++],t[r]);return e}},"../node_modules/core-js/internals/object-define-property.js":function(e,t,r){var i=r("../node_modules/core-js/internals/descriptors.js"),n=r("../node_modules/core-js/internals/ie8-dom-define.js"),a=r("../node_modules/core-js/internals/an-object.js"),o=r("../node_modules/core-js/internals/to-primitive.js"),s=Object.defineProperty;t.f=i?s:function(e,t,r){if(a(e),t=o(t,!0),a(r),n)try{return s(e,t,r)}catch(e){}if("get"in r||"set"in r)throw TypeError("Accessors not supported");return"value"in r&&(e[t]=r.value),e}},"../node_modules/core-js/internals/object-get-own-property-descriptor.js":function(e,t,r){var i=r("../node_modules/core-js/internals/descriptors.js"),n=r("../node_modules/core-js/internals/object-property-is-enumerable.js"),a=r("../node_modules/core-js/internals/create-property-descriptor.js"),o=r("../node_modules/core-js/internals/to-indexed-object.js"),s=r("../node_modules/core-js/internals/to-primitive.js"),l=r("../node_modules/core-js/internals/has.js"),u=r("../node_modules/core-js/internals/ie8-dom-define.js"),c=Object.getOwnPropertyDescriptor;t.f=i?c:function(e,t){if(e=o(e),t=s(t,!0),u)try{return c(e,t)}catch(e){}if(l(e,t))return a(!n.f.call(e,t),e[t])}},"../node_modules/core-js/internals/object-get-own-property-names.js":function(e,t,r){var i=r("../node_modules/core-js/internals/object-keys-internal.js"),n=r("../node_modules/core-js/internals/enum-bug-keys.js").concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return i(e,n)}},"../node_modules/core-js/internals/object-get-own-property-symbols.js":function(e,t){t.f=Object.getOwnPropertySymbols},"../node_modules/core-js/internals/object-get-prototype-of.js":function(e,t,r){var i=r("../node_modules/core-js/internals/has.js"),n=r("../node_modules/core-js/internals/to-object.js"),a=r("../node_modules/core-js/internals/shared-key.js"),o=r("../node_modules/core-js/internals/correct-prototype-getter.js"),s=a("IE_PROTO"),l=Object.prototype;e.exports=o?Object.getPrototypeOf:function(e){return e=n(e),i(e,s)?e[s]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?l:null}},"../node_modules/core-js/internals/object-keys-internal.js":function(e,t,r){var i=r("../node_modules/core-js/internals/has.js"),n=r("../node_modules/core-js/internals/to-indexed-object.js"),a=r("../node_modules/core-js/internals/array-includes.js").indexOf,o=r("../node_modules/core-js/internals/hidden-keys.js");e.exports=function(e,t){var r,s=n(e),l=0,u=[];for(r in s)!i(o,r)&&i(s,r)&&u.push(r);for(;t.length>l;)i(s,r=t[l++])&&(~a(u,r)||u.push(r));return u}},"../node_modules/core-js/internals/object-keys.js":function(e,t,r){var i=r("../node_modules/core-js/internals/object-keys-internal.js"),n=r("../node_modules/core-js/internals/enum-bug-keys.js");e.exports=Object.keys||function(e){return i(e,n)}},"../node_modules/core-js/internals/object-property-is-enumerable.js":function(e,t,r){"use strict";var i={}.propertyIsEnumerable,n=Object.getOwnPropertyDescriptor,a=n&&!i.call({1:2},1);t.f=a?function(e){var t=n(this,e);return!!t&&t.enumerable}:i},"../node_modules/core-js/internals/object-prototype-accessors-forced.js":function(e,t,r){"use strict";var i=r("../node_modules/core-js/internals/is-pure.js"),n=r("../node_modules/core-js/internals/global.js"),a=r("../node_modules/core-js/internals/fails.js");e.exports=i||!a((function(){var e=Math.random();__defineSetter__.call(null,e,(function(){})),delete n[e]}))},"../node_modules/core-js/internals/object-set-prototype-of.js":function(e,t,r){var i=r("../node_modules/core-js/internals/an-object.js"),n=r("../node_modules/core-js/internals/a-possible-prototype.js");e.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var e,t=!1,r={};try{(e=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set).call(r,[]),t=r instanceof Array}catch(e){}return function(r,a){return i(r),n(a),t?e.call(r,a):r.__proto__=a,r}}():void 0)},"../node_modules/core-js/internals/own-keys.js":function(e,t,r){var i=r("../node_modules/core-js/internals/get-built-in.js"),n=r("../node_modules/core-js/internals/object-get-own-property-names.js"),a=r("../node_modules/core-js/internals/object-get-own-property-symbols.js"),o=r("../node_modules/core-js/internals/an-object.js");e.exports=i("Reflect","ownKeys")||function(e){var t=n.f(o(e)),r=a.f;return r?t.concat(r(e)):t}},"../node_modules/core-js/internals/path.js":function(e,t,r){var i=r("../node_modules/core-js/internals/global.js");e.exports=i},"../node_modules/core-js/internals/perform.js":function(e,t){e.exports=function(e){try{return{error:!1,value:e()}}catch(e){return{error:!0,value:e}}}},"../node_modules/core-js/internals/promise-resolve.js":function(e,t,r){var i=r("../node_modules/core-js/internals/an-object.js"),n=r("../node_modules/core-js/internals/is-object.js"),a=r("../node_modules/core-js/internals/new-promise-capability.js");e.exports=function(e,t){if(i(e),n(t)&&t.constructor===e)return t;var r=a.f(e);return(0,r.resolve)(t),r.promise}},"../node_modules/core-js/internals/redefine-all.js":function(e,t,r){var i=r("../node_modules/core-js/internals/redefine.js");e.exports=function(e,t,r){for(var n in t)i(e,n,t[n],r);return e}},"../node_modules/core-js/internals/redefine.js":function(e,t,r){var i=r("../node_modules/core-js/internals/global.js"),n=r("../node_modules/core-js/internals/create-non-enumerable-property.js"),a=r("../node_modules/core-js/internals/has.js"),o=r("../node_modules/core-js/internals/set-global.js"),s=r("../node_modules/core-js/internals/inspect-source.js"),l=r("../node_modules/core-js/internals/internal-state.js"),u=l.get,c=l.enforce,f=String(String).split("String");(e.exports=function(e,t,r,s){var l=!!s&&!!s.unsafe,u=!!s&&!!s.enumerable,d=!!s&&!!s.noTargetGet;"function"==typeof r&&("string"!=typeof t||a(r,"name")||n(r,"name",t),c(r).source=f.join("string"==typeof t?t:"")),e!==i?(l?!d&&e[t]&&(u=!0):delete e[t],u?e[t]=r:n(e,t,r)):u?e[t]=r:o(t,r)})(Function.prototype,"toString",(function(){return"function"==typeof this&&u(this).source||s(this)}))},"../node_modules/core-js/internals/regexp-exec-abstract.js":function(e,t,r){var i=r("../node_modules/core-js/internals/classof-raw.js"),n=r("../node_modules/core-js/internals/regexp-exec.js");e.exports=function(e,t){var r=e.exec;if("function"==typeof r){var a=r.call(e,t);if("object"!=typeof a)throw TypeError("RegExp exec method returned something other than an Object or null");return a}if("RegExp"!==i(e))throw TypeError("RegExp#exec called on incompatible receiver");return n.call(e,t)}},"../node_modules/core-js/internals/regexp-exec.js":function(e,t,r){"use strict";var i,n,a=r("../node_modules/core-js/internals/regexp-flags.js"),o=r("../node_modules/core-js/internals/regexp-sticky-helpers.js"),s=RegExp.prototype.exec,l=String.prototype.replace,u=s,c=(i=/a/,n=/b*/g,s.call(i,"a"),s.call(n,"a"),0!==i.lastIndex||0!==n.lastIndex),f=o.UNSUPPORTED_Y||o.BROKEN_CARET,d=void 0!==/()??/.exec("")[1];(c||d||f)&&(u=function(e){var t,r,i,n,o=this,u=f&&o.sticky,h=a.call(o),m=o.source,b=0,p=e;return u&&(-1===(h=h.replace("y","")).indexOf("g")&&(h+="g"),p=String(e).slice(o.lastIndex),o.lastIndex>0&&(!o.multiline||o.multiline&&"\n"!==e[o.lastIndex-1])&&(m="(?: "+m+")",p=" "+p,b++),r=new RegExp("^(?:"+m+")",h)),d&&(r=new RegExp("^"+m+"$(?!\\s)",h)),c&&(t=o.lastIndex),i=s.call(u?r:o,p),u?i?(i.input=i.input.slice(b),i[0]=i[0].slice(b),i.index=o.lastIndex,o.lastIndex+=i[0].length):o.lastIndex=0:c&&i&&(o.lastIndex=o.global?i.index+i[0].length:t),d&&i&&i.length>1&&l.call(i[0],r,(function(){for(n=1;n<arguments.length-2;n++)void 0===arguments[n]&&(i[n]=void 0)})),i}),e.exports=u},"../node_modules/core-js/internals/regexp-flags.js":function(e,t,r){"use strict";var i=r("../node_modules/core-js/internals/an-object.js");e.exports=function(){var e=i(this),t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.dotAll&&(t+="s"),e.unicode&&(t+="u"),e.sticky&&(t+="y"),t}},"../node_modules/core-js/internals/regexp-sticky-helpers.js":function(e,t,r){"use strict";var i=r("../node_modules/core-js/internals/fails.js");function n(e,t){return RegExp(e,t)}t.UNSUPPORTED_Y=i((function(){var e=n("a","y");return e.lastIndex=2,null!=e.exec("abcd")})),t.BROKEN_CARET=i((function(){var e=n("^r","gy");return e.lastIndex=2,null!=e.exec("str")}))},"../node_modules/core-js/internals/require-object-coercible.js":function(e,t){e.exports=function(e){if(null==e)throw TypeError("Can't call method on "+e);return e}},"../node_modules/core-js/internals/set-global.js":function(e,t,r){var i=r("../node_modules/core-js/internals/global.js"),n=r("../node_modules/core-js/internals/create-non-enumerable-property.js");e.exports=function(e,t){try{n(i,e,t)}catch(r){i[e]=t}return t}},"../node_modules/core-js/internals/set-species.js":function(e,t,r){"use strict";var i=r("../node_modules/core-js/internals/get-built-in.js"),n=r("../node_modules/core-js/internals/object-define-property.js"),a=r("../node_modules/core-js/internals/well-known-symbol.js"),o=r("../node_modules/core-js/internals/descriptors.js"),s=a("species");e.exports=function(e){var t=i(e),r=n.f;o&&t&&!t[s]&&r(t,s,{configurable:!0,get:function(){return this}})}},"../node_modules/core-js/internals/set-to-string-tag.js":function(e,t,r){var i=r("../node_modules/core-js/internals/object-define-property.js").f,n=r("../node_modules/core-js/internals/has.js"),a=r("../node_modules/core-js/internals/well-known-symbol.js")("toStringTag");e.exports=function(e,t,r){e&&!n(e=r?e:e.prototype,a)&&i(e,a,{configurable:!0,value:t})}},"../node_modules/core-js/internals/shared-key.js":function(e,t,r){var i=r("../node_modules/core-js/internals/shared.js"),n=r("../node_modules/core-js/internals/uid.js"),a=i("keys");e.exports=function(e){return a[e]||(a[e]=n(e))}},"../node_modules/core-js/internals/shared-store.js":function(e,t,r){var i=r("../node_modules/core-js/internals/global.js"),n=r("../node_modules/core-js/internals/set-global.js"),a=i["__core-js_shared__"]||n("__core-js_shared__",{});e.exports=a},"../node_modules/core-js/internals/shared.js":function(e,t,r){var i=r("../node_modules/core-js/internals/is-pure.js"),n=r("../node_modules/core-js/internals/shared-store.js");(e.exports=function(e,t){return n[e]||(n[e]=void 0!==t?t:{})})("versions",[]).push({version:"3.6.5",mode:i?"pure":"global",copyright:"© 2020 Denis Pushkarev (zloirock.ru)"})},"../node_modules/core-js/internals/species-constructor.js":function(e,t,r){var i=r("../node_modules/core-js/internals/an-object.js"),n=r("../node_modules/core-js/internals/a-function.js"),a=r("../node_modules/core-js/internals/well-known-symbol.js")("species");e.exports=function(e,t){var r,o=i(e).constructor;return void 0===o||null==(r=i(o)[a])?t:n(r)}},"../node_modules/core-js/internals/string-multibyte.js":function(e,t,r){var i=r("../node_modules/core-js/internals/to-integer.js"),n=r("../node_modules/core-js/internals/require-object-coercible.js"),a=function(e){return function(t,r){var a,o,s=String(n(t)),l=i(r),u=s.length;return l<0||l>=u?e?"":void 0:(a=s.charCodeAt(l))<55296||a>56319||l+1===u||(o=s.charCodeAt(l+1))<56320||o>57343?e?s.charAt(l):a:e?s.slice(l,l+2):o-56320+(a-55296<<10)+65536}};e.exports={codeAt:a(!1),charAt:a(!0)}},"../node_modules/core-js/internals/string-pad-webkit-bug.js":function(e,t,r){var i=r("../node_modules/core-js/internals/engine-user-agent.js");e.exports=/Version\/10\.\d+(\.\d+)?( Mobile\/\w+)? Safari\//.test(i)},"../node_modules/core-js/internals/string-pad.js":function(e,t,r){var i=r("../node_modules/core-js/internals/to-length.js"),n=r("../node_modules/core-js/internals/string-repeat.js"),a=r("../node_modules/core-js/internals/require-object-coercible.js"),o=Math.ceil,s=function(e){return function(t,r,s){var l,u,c=String(a(t)),f=c.length,d=void 0===s?" ":String(s),h=i(r);return h<=f||""==d?c:(l=h-f,(u=n.call(d,o(l/d.length))).length>l&&(u=u.slice(0,l)),e?c+u:u+c)}};e.exports={start:s(!1),end:s(!0)}},"../node_modules/core-js/internals/string-punycode-to-ascii.js":function(e,t,r){"use strict";var i=/[^\0-\u007E]/,n=/[.\u3002\uFF0E\uFF61]/g,a="Overflow: input needs wider integers to process",o=Math.floor,s=String.fromCharCode,l=function(e){return e+22+75*(e<26)},u=function(e,t,r){var i=0;for(e=r?o(e/700):e>>1,e+=o(e/t);e>455;i+=36)e=o(e/35);return o(i+36*e/(e+38))},c=function(e){var t,r,i=[],n=(e=function(e){for(var t=[],r=0,i=e.length;r<i;){var n=e.charCodeAt(r++);if(n>=55296&&n<=56319&&r<i){var a=e.charCodeAt(r++);56320==(64512&a)?t.push(((1023&n)<<10)+(1023&a)+65536):(t.push(n),r--)}else t.push(n)}return t}(e)).length,c=128,f=0,d=72;for(t=0;t<e.length;t++)(r=e[t])<128&&i.push(s(r));var h=i.length,m=h;for(h&&i.push("-");m<n;){var b=2147483647;for(t=0;t<e.length;t++)(r=e[t])>=c&&r<b&&(b=r);var p=m+1;if(b-c>o((2147483647-f)/p))throw RangeError(a);for(f+=(b-c)*p,c=b,t=0;t<e.length;t++){if((r=e[t])<c&&++f>2147483647)throw RangeError(a);if(r==c){for(var v=f,g=36;;g+=36){var y=g<=d?1:g>=d+26?26:g-d;if(v<y)break;var w=v-y,E=36-y;i.push(s(l(y+w%E))),v=o(w/E)}i.push(s(l(v))),d=u(f,p,m==h),f=0,++m}}++f,++c}return i.join("")};e.exports=function(e){var t,r,a=[],o=e.toLowerCase().replace(n,".").split(".");for(t=0;t<o.length;t++)r=o[t],a.push(i.test(r)?"xn--"+c(r):r);return a.join(".")}},"../node_modules/core-js/internals/string-repeat.js":function(e,t,r){"use strict";var i=r("../node_modules/core-js/internals/to-integer.js"),n=r("../node_modules/core-js/internals/require-object-coercible.js");e.exports="".repeat||function(e){var t=String(n(this)),r="",a=i(e);if(a<0||a==1/0)throw RangeError("Wrong number of repetitions");for(;a>0;(a>>>=1)&&(t+=t))1&a&&(r+=t);return r}},"../node_modules/core-js/internals/string-trim-forced.js":function(e,t,r){var i=r("../node_modules/core-js/internals/fails.js"),n=r("../node_modules/core-js/internals/whitespaces.js");e.exports=function(e){return i((function(){return!!n[e]()||"​᠎"!="​᠎"[e]()||n[e].name!==e}))}},"../node_modules/core-js/internals/string-trim.js":function(e,t,r){var i=r("../node_modules/core-js/internals/require-object-coercible.js"),n="["+r("../node_modules/core-js/internals/whitespaces.js")+"]",a=RegExp("^"+n+n+"*"),o=RegExp(n+n+"*$"),s=function(e){return function(t){var r=String(i(t));return 1&e&&(r=r.replace(a,"")),2&e&&(r=r.replace(o,"")),r}};e.exports={start:s(1),end:s(2),trim:s(3)}},"../node_modules/core-js/internals/task.js":function(e,t,r){var i,n,a,o=r("../node_modules/core-js/internals/global.js"),s=r("../node_modules/core-js/internals/fails.js"),l=r("../node_modules/core-js/internals/classof-raw.js"),u=r("../node_modules/core-js/internals/function-bind-context.js"),c=r("../node_modules/core-js/internals/html.js"),f=r("../node_modules/core-js/internals/document-create-element.js"),d=r("../node_modules/core-js/internals/engine-is-ios.js"),h=o.location,m=o.setImmediate,b=o.clearImmediate,p=o.process,v=o.MessageChannel,g=o.Dispatch,y=0,w={},E=function(e){if(w.hasOwnProperty(e)){var t=w[e];delete w[e],t()}},T=function(e){return function(){E(e)}},S=function(e){E(e.data)},_=function(e){o.postMessage(e+"",h.protocol+"//"+h.host)};m&&b||(m=function(e){for(var t=[],r=1;arguments.length>r;)t.push(arguments[r++]);return w[++y]=function(){("function"==typeof e?e:Function(e)).apply(void 0,t)},i(y),y},b=function(e){delete w[e]},"process"==l(p)?i=function(e){p.nextTick(T(e))}:g&&g.now?i=function(e){g.now(T(e))}:v&&!d?(a=(n=new v).port2,n.port1.onmessage=S,i=u(a.postMessage,a,1)):!o.addEventListener||"function"!=typeof postMessage||o.importScripts||s(_)||"file:"===h.protocol?i="onreadystatechange"in f("script")?function(e){c.appendChild(f("script")).onreadystatechange=function(){c.removeChild(this),E(e)}}:function(e){setTimeout(T(e),0)}:(i=_,o.addEventListener("message",S,!1))),e.exports={set:m,clear:b}},"../node_modules/core-js/internals/to-absolute-index.js":function(e,t,r){var i=r("../node_modules/core-js/internals/to-integer.js"),n=Math.max,a=Math.min;e.exports=function(e,t){var r=i(e);return r<0?n(r+t,0):a(r,t)}},"../node_modules/core-js/internals/to-index.js":function(e,t,r){var i=r("../node_modules/core-js/internals/to-integer.js"),n=r("../node_modules/core-js/internals/to-length.js");e.exports=function(e){if(void 0===e)return 0;var t=i(e),r=n(t);if(t!==r)throw RangeError("Wrong length or index");return r}},"../node_modules/core-js/internals/to-indexed-object.js":function(e,t,r){var i=r("../node_modules/core-js/internals/indexed-object.js"),n=r("../node_modules/core-js/internals/require-object-coercible.js");e.exports=function(e){return i(n(e))}},"../node_modules/core-js/internals/to-integer.js":function(e,t){var r=Math.ceil,i=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?i:r)(e)}},"../node_modules/core-js/internals/to-length.js":function(e,t,r){var i=r("../node_modules/core-js/internals/to-integer.js"),n=Math.min;e.exports=function(e){return e>0?n(i(e),9007199254740991):0}},"../node_modules/core-js/internals/to-object.js":function(e,t,r){var i=r("../node_modules/core-js/internals/require-object-coercible.js");e.exports=function(e){return Object(i(e))}},"../node_modules/core-js/internals/to-offset.js":function(e,t,r){var i=r("../node_modules/core-js/internals/to-positive-integer.js");e.exports=function(e,t){var r=i(e);if(r%t)throw RangeError("Wrong offset");return r}},"../node_modules/core-js/internals/to-positive-integer.js":function(e,t,r){var i=r("../node_modules/core-js/internals/to-integer.js");e.exports=function(e){var t=i(e);if(t<0)throw RangeError("The argument can't be less than 0");return t}},"../node_modules/core-js/internals/to-primitive.js":function(e,t,r){var i=r("../node_modules/core-js/internals/is-object.js");e.exports=function(e,t){if(!i(e))return e;var r,n;if(t&&"function"==typeof(r=e.toString)&&!i(n=r.call(e)))return n;if("function"==typeof(r=e.valueOf)&&!i(n=r.call(e)))return n;if(!t&&"function"==typeof(r=e.toString)&&!i(n=r.call(e)))return n;throw TypeError("Can't convert object to primitive value")}},"../node_modules/core-js/internals/to-string-tag-support.js":function(e,t,r){var i={};i[r("../node_modules/core-js/internals/well-known-symbol.js")("toStringTag")]="z",e.exports="[object z]"===String(i)},"../node_modules/core-js/internals/typed-array-constructor.js":function(e,t,r){"use strict";var i=r("../node_modules/core-js/internals/export.js"),n=r("../node_modules/core-js/internals/global.js"),a=r("../node_modules/core-js/internals/descriptors.js"),o=r("../node_modules/core-js/internals/typed-array-constructors-require-wrappers.js"),s=r("../node_modules/core-js/internals/array-buffer-view-core.js"),l=r("../node_modules/core-js/internals/array-buffer.js"),u=r("../node_modules/core-js/internals/an-instance.js"),c=r("../node_modules/core-js/internals/create-property-descriptor.js"),f=r("../node_modules/core-js/internals/create-non-enumerable-property.js"),d=r("../node_modules/core-js/internals/to-length.js"),h=r("../node_modules/core-js/internals/to-index.js"),m=r("../node_modules/core-js/internals/to-offset.js"),b=r("../node_modules/core-js/internals/to-primitive.js"),p=r("../node_modules/core-js/internals/has.js"),v=r("../node_modules/core-js/internals/classof.js"),g=r("../node_modules/core-js/internals/is-object.js"),y=r("../node_modules/core-js/internals/object-create.js"),w=r("../node_modules/core-js/internals/object-set-prototype-of.js"),E=r("../node_modules/core-js/internals/object-get-own-property-names.js").f,T=r("../node_modules/core-js/internals/typed-array-from.js"),S=r("../node_modules/core-js/internals/array-iteration.js").forEach,_=r("../node_modules/core-js/internals/set-species.js"),j=r("../node_modules/core-js/internals/object-define-property.js"),R=r("../node_modules/core-js/internals/object-get-own-property-descriptor.js"),z=r("../node_modules/core-js/internals/internal-state.js"),O=r("../node_modules/core-js/internals/inherit-if-required.js"),P=z.get,A=z.set,x=j.f,M=R.f,C=Math.round,D=n.RangeError,I=l.ArrayBuffer,L=l.DataView,F=s.NATIVE_ARRAY_BUFFER_VIEWS,G=s.TYPED_ARRAY_TAG,B=s.TypedArray,N=s.TypedArrayPrototype,U=s.aTypedArrayConstructor,k=s.isTypedArray,V=function(e,t){for(var r=0,i=t.length,n=new(U(e))(i);i>r;)n[r]=t[r++];return n},H=function(e,t){x(e,t,{get:function(){return P(this)[t]}})},q=function(e){var t;return e instanceof I||"ArrayBuffer"==(t=v(e))||"SharedArrayBuffer"==t},W=function(e,t){return k(e)&&"symbol"!=typeof t&&t in e&&String(+t)==String(t)},Y=function(e,t){return W(e,t=b(t,!0))?c(2,e[t]):M(e,t)},X=function(e,t,r){return!(W(e,t=b(t,!0))&&g(r)&&p(r,"value"))||p(r,"get")||p(r,"set")||r.configurable||p(r,"writable")&&!r.writable||p(r,"enumerable")&&!r.enumerable?x(e,t,r):(e[t]=r.value,e)};a?(F||(R.f=Y,j.f=X,H(N,"buffer"),H(N,"byteOffset"),H(N,"byteLength"),H(N,"length")),i({target:"Object",stat:!0,forced:!F},{getOwnPropertyDescriptor:Y,defineProperty:X}),e.exports=function(e,t,r){var a=e.match(/\d+$/)[0]/8,s=e+(r?"Clamped":"")+"Array",l="get"+e,c="set"+e,b=n[s],p=b,v=p&&p.prototype,j={},R=function(e,t){x(e,t,{get:function(){return function(e,t){var r=P(e);return r.view[l](t*a+r.byteOffset,!0)}(this,t)},set:function(e){return function(e,t,i){var n=P(e);r&&(i=(i=C(i))<0?0:i>255?255:255&i),n.view[c](t*a+n.byteOffset,i,!0)}(this,t,e)},enumerable:!0})};F?o&&(p=t((function(e,t,r,i){return u(e,p,s),O(g(t)?q(t)?void 0!==i?new b(t,m(r,a),i):void 0!==r?new b(t,m(r,a)):new b(t):k(t)?V(p,t):T.call(p,t):new b(h(t)),e,p)})),w&&w(p,B),S(E(b),(function(e){e in p||f(p,e,b[e])})),p.prototype=v):(p=t((function(e,t,r,i){u(e,p,s);var n,o,l,c=0,f=0;if(g(t)){if(!q(t))return k(t)?V(p,t):T.call(p,t);n=t,f=m(r,a);var b=t.byteLength;if(void 0===i){if(b%a)throw D("Wrong length");if((o=b-f)<0)throw D("Wrong length")}else if((o=d(i)*a)+f>b)throw D("Wrong length");l=o/a}else l=h(t),n=new I(o=l*a);for(A(e,{buffer:n,byteOffset:f,byteLength:o,length:l,view:new L(n)});c<l;)R(e,c++)})),w&&w(p,B),v=p.prototype=y(N)),v.constructor!==p&&f(v,"constructor",p),G&&f(v,G,s),j[s]=p,i({global:!0,forced:p!=b,sham:!F},j),"BYTES_PER_ELEMENT"in p||f(p,"BYTES_PER_ELEMENT",a),"BYTES_PER_ELEMENT"in v||f(v,"BYTES_PER_ELEMENT",a),_(s)}):e.exports=function(){}},"../node_modules/core-js/internals/typed-array-constructors-require-wrappers.js":function(e,t,r){var i=r("../node_modules/core-js/internals/global.js"),n=r("../node_modules/core-js/internals/fails.js"),a=r("../node_modules/core-js/internals/check-correctness-of-iteration.js"),o=r("../node_modules/core-js/internals/array-buffer-view-core.js").NATIVE_ARRAY_BUFFER_VIEWS,s=i.ArrayBuffer,l=i.Int8Array;e.exports=!o||!n((function(){l(1)}))||!n((function(){new l(-1)}))||!a((function(e){new l,new l(null),new l(1.5),new l(e)}),!0)||n((function(){return 1!==new l(new s(2),1,void 0).length}))},"../node_modules/core-js/internals/typed-array-from.js":function(e,t,r){var i=r("../node_modules/core-js/internals/to-object.js"),n=r("../node_modules/core-js/internals/to-length.js"),a=r("../node_modules/core-js/internals/get-iterator-method.js"),o=r("../node_modules/core-js/internals/is-array-iterator-method.js"),s=r("../node_modules/core-js/internals/function-bind-context.js"),l=r("../node_modules/core-js/internals/array-buffer-view-core.js").aTypedArrayConstructor;e.exports=function(e){var t,r,u,c,f,d,h=i(e),m=arguments.length,b=m>1?arguments[1]:void 0,p=void 0!==b,v=a(h);if(null!=v&&!o(v))for(d=(f=v.call(h)).next,h=[];!(c=d.call(f)).done;)h.push(c.value);for(p&&m>2&&(b=s(b,arguments[2],2)),r=n(h.length),u=new(l(this))(r),t=0;r>t;t++)u[t]=p?b(h[t],t):h[t];return u}},"../node_modules/core-js/internals/uid.js":function(e,t){var r=0,i=Math.random();e.exports=function(e){return"Symbol("+String(void 0===e?"":e)+")_"+(++r+i).toString(36)}},"../node_modules/core-js/internals/use-symbol-as-uid.js":function(e,t,r){var i=r("../node_modules/core-js/internals/native-symbol.js");e.exports=i&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},"../node_modules/core-js/internals/well-known-symbol-wrapped.js":function(e,t,r){var i=r("../node_modules/core-js/internals/well-known-symbol.js");t.f=i},"../node_modules/core-js/internals/well-known-symbol.js":function(e,t,r){var i=r("../node_modules/core-js/internals/global.js"),n=r("../node_modules/core-js/internals/shared.js"),a=r("../node_modules/core-js/internals/has.js"),o=r("../node_modules/core-js/internals/uid.js"),s=r("../node_modules/core-js/internals/native-symbol.js"),l=r("../node_modules/core-js/internals/use-symbol-as-uid.js"),u=n("wks"),c=i.Symbol,f=l?c:c&&c.withoutSetter||o;e.exports=function(e){return a(u,e)||(s&&a(c,e)?u[e]=c[e]:u[e]=f("Symbol."+e)),u[e]}},"../node_modules/core-js/internals/whitespaces.js":function(e,t){e.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},"../node_modules/core-js/modules/es.array-buffer.constructor.js":function(e,t,r){"use strict";var i=r("../node_modules/core-js/internals/export.js"),n=r("../node_modules/core-js/internals/global.js"),a=r("../node_modules/core-js/internals/array-buffer.js"),o=r("../node_modules/core-js/internals/set-species.js"),s=a.ArrayBuffer;i({global:!0,forced:n.ArrayBuffer!==s},{ArrayBuffer:s}),o("ArrayBuffer")},"../node_modules/core-js/modules/es.array-buffer.slice.js":function(e,t,r){"use strict";var i=r("../node_modules/core-js/internals/export.js"),n=r("../node_modules/core-js/internals/fails.js"),a=r("../node_modules/core-js/internals/array-buffer.js"),o=r("../node_modules/core-js/internals/an-object.js"),s=r("../node_modules/core-js/internals/to-absolute-index.js"),l=r("../node_modules/core-js/internals/to-length.js"),u=r("../node_modules/core-js/internals/species-constructor.js"),c=a.ArrayBuffer,f=a.DataView,d=c.prototype.slice;i({target:"ArrayBuffer",proto:!0,unsafe:!0,forced:n((function(){return!new c(2).slice(1,void 0).byteLength}))},{slice:function(e,t){if(void 0!==d&&void 0===t)return d.call(o(this),e);for(var r=o(this).byteLength,i=s(e,r),n=s(void 0===t?r:t,r),a=new(u(this,c))(l(n-i)),h=new f(this),m=new f(a),b=0;i<n;)m.setUint8(b++,h.getUint8(i++));return a}})},"../node_modules/core-js/modules/es.array.flat-map.js":function(e,t,r){"use strict";var i=r("../node_modules/core-js/internals/export.js"),n=r("../node_modules/core-js/internals/flatten-into-array.js"),a=r("../node_modules/core-js/internals/to-object.js"),o=r("../node_modules/core-js/internals/to-length.js"),s=r("../node_modules/core-js/internals/a-function.js"),l=r("../node_modules/core-js/internals/array-species-create.js");i({target:"Array",proto:!0},{flatMap:function(e){var t,r=a(this),i=o(r.length);return s(e),(t=l(r,0)).length=n(t,r,r,i,0,1,e,arguments.length>1?arguments[1]:void 0),t}})},"../node_modules/core-js/modules/es.array.flat.js":function(e,t,r){"use strict";var i=r("../node_modules/core-js/internals/export.js"),n=r("../node_modules/core-js/internals/flatten-into-array.js"),a=r("../node_modules/core-js/internals/to-object.js"),o=r("../node_modules/core-js/internals/to-length.js"),s=r("../node_modules/core-js/internals/to-integer.js"),l=r("../node_modules/core-js/internals/array-species-create.js");i({target:"Array",proto:!0},{flat:function(){var e=arguments.length?arguments[0]:void 0,t=a(this),r=o(t.length),i=l(t,0);return i.length=n(i,t,t,r,0,void 0===e?1:s(e)),i}})},"../node_modules/core-js/modules/es.array.index-of.js":function(e,t,r){"use strict";var i=r("../node_modules/core-js/internals/export.js"),n=r("../node_modules/core-js/internals/array-includes.js").indexOf,a=r("../node_modules/core-js/internals/array-method-is-strict.js"),o=r("../node_modules/core-js/internals/array-method-uses-to-length.js"),s=[].indexOf,l=!!s&&1/[1].indexOf(1,-0)<0,u=a("indexOf"),c=o("indexOf",{ACCESSORS:!0,1:0});i({target:"Array",proto:!0,forced:l||!u||!c},{indexOf:function(e){return l?s.apply(this,arguments)||0:n(this,e,arguments.length>1?arguments[1]:void 0)}})},"../node_modules/core-js/modules/es.array.iterator.js":function(e,t,r){"use strict";var i=r("../node_modules/core-js/internals/to-indexed-object.js"),n=r("../node_modules/core-js/internals/add-to-unscopables.js"),a=r("../node_modules/core-js/internals/iterators.js"),o=r("../node_modules/core-js/internals/internal-state.js"),s=r("../node_modules/core-js/internals/define-iterator.js"),l=o.set,u=o.getterFor("Array Iterator");e.exports=s(Array,"Array",(function(e,t){l(this,{type:"Array Iterator",target:i(e),index:0,kind:t})}),(function(){var e=u(this),t=e.target,r=e.kind,i=e.index++;return!t||i>=t.length?(e.target=void 0,{value:void 0,done:!0}):"keys"==r?{value:i,done:!1}:"values"==r?{value:t[i],done:!1}:{value:[i,t[i]],done:!1}}),"values"),a.Arguments=a.Array,n("keys"),n("values"),n("entries")},"../node_modules/core-js/modules/es.array.last-index-of.js":function(e,t,r){var i=r("../node_modules/core-js/internals/export.js"),n=r("../node_modules/core-js/internals/array-last-index-of.js");i({target:"Array",proto:!0,forced:n!==[].lastIndexOf},{lastIndexOf:n})},"../node_modules/core-js/modules/es.array.reverse.js":function(e,t,r){"use strict";var i=r("../node_modules/core-js/internals/export.js"),n=r("../node_modules/core-js/internals/is-array.js"),a=[].reverse,o=[1,2];i({target:"Array",proto:!0,forced:String(o)===String(o.reverse())},{reverse:function(){return n(this)&&(this.length=this.length),a.call(this)}})},"../node_modules/core-js/modules/es.array.slice.js":function(e,t,r){"use strict";var i=r("../node_modules/core-js/internals/export.js"),n=r("../node_modules/core-js/internals/is-object.js"),a=r("../node_modules/core-js/internals/is-array.js"),o=r("../node_modules/core-js/internals/to-absolute-index.js"),s=r("../node_modules/core-js/internals/to-length.js"),l=r("../node_modules/core-js/internals/to-indexed-object.js"),u=r("../node_modules/core-js/internals/create-property.js"),c=r("../node_modules/core-js/internals/well-known-symbol.js"),f=r("../node_modules/core-js/internals/array-method-has-species-support.js"),d=r("../node_modules/core-js/internals/array-method-uses-to-length.js"),h=f("slice"),m=d("slice",{ACCESSORS:!0,0:0,1:2}),b=c("species"),p=[].slice,v=Math.max;i({target:"Array",proto:!0,forced:!h||!m},{slice:function(e,t){var r,i,c,f=l(this),d=s(f.length),h=o(e,d),m=o(void 0===t?d:t,d);if(a(f)&&("function"!=typeof(r=f.constructor)||r!==Array&&!a(r.prototype)?n(r)&&null===(r=r[b])&&(r=void 0):r=void 0,r===Array||void 0===r))return p.call(f,h,m);for(i=new(void 0===r?Array:r)(v(m-h,0)),c=0;h<m;h++,c++)h in f&&u(i,c,f[h]);return i.length=c,i}})},"../node_modules/core-js/modules/es.array.sort.js":function(e,t,r){"use strict";var i=r("../node_modules/core-js/internals/export.js"),n=r("../node_modules/core-js/internals/a-function.js"),a=r("../node_modules/core-js/internals/to-object.js"),o=r("../node_modules/core-js/internals/fails.js"),s=r("../node_modules/core-js/internals/array-method-is-strict.js"),l=[],u=l.sort,c=o((function(){l.sort(void 0)})),f=o((function(){l.sort(null)})),d=s("sort");i({target:"Array",proto:!0,forced:c||!f||!d},{sort:function(e){return void 0===e?u.call(a(this)):u.call(a(this),n(e))}})},"../node_modules/core-js/modules/es.array.splice.js":function(e,t,r){"use strict";var i=r("../node_modules/core-js/internals/export.js"),n=r("../node_modules/core-js/internals/to-absolute-index.js"),a=r("../node_modules/core-js/internals/to-integer.js"),o=r("../node_modules/core-js/internals/to-length.js"),s=r("../node_modules/core-js/internals/to-object.js"),l=r("../node_modules/core-js/internals/array-species-create.js"),u=r("../node_modules/core-js/internals/create-property.js"),c=r("../node_modules/core-js/internals/array-method-has-species-support.js"),f=r("../node_modules/core-js/internals/array-method-uses-to-length.js"),d=c("splice"),h=f("splice",{ACCESSORS:!0,0:0,1:2}),m=Math.max,b=Math.min;i({target:"Array",proto:!0,forced:!d||!h},{splice:function(e,t){var r,i,c,f,d,h,p=s(this),v=o(p.length),g=n(e,v),y=arguments.length;if(0===y?r=i=0:1===y?(r=0,i=v-g):(r=y-2,i=b(m(a(t),0),v-g)),v+r-i>9007199254740991)throw TypeError("Maximum allowed length exceeded");for(c=l(p,i),f=0;f<i;f++)(d=g+f)in p&&u(c,f,p[d]);if(c.length=i,r<i){for(f=g;f<v-i;f++)h=f+r,(d=f+i)in p?p[h]=p[d]:delete p[h];for(f=v;f>v-i+r;f--)delete p[f-1]}else if(r>i)for(f=v-i;f>g;f--)h=f+r-1,(d=f+i-1)in p?p[h]=p[d]:delete p[h];for(f=0;f<r;f++)p[f+g]=arguments[f+2];return p.length=v-i+r,c}})},"../node_modules/core-js/modules/es.array.unscopables.flat-map.js":function(e,t,r){r("../node_modules/core-js/internals/add-to-unscopables.js")("flatMap")},"../node_modules/core-js/modules/es.array.unscopables.flat.js":function(e,t,r){r("../node_modules/core-js/internals/add-to-unscopables.js")("flat")},"../node_modules/core-js/modules/es.math.hypot.js":function(e,t,r){var i=r("../node_modules/core-js/internals/export.js"),n=Math.hypot,a=Math.abs,o=Math.sqrt;i({target:"Math",stat:!0,forced:!!n&&n(1/0,NaN)!==1/0},{hypot:function(e,t){for(var r,i,n=0,s=0,l=arguments.length,u=0;s<l;)u<(r=a(arguments[s++]))?(n=n*(i=u/r)*i+1,u=r):n+=r>0?(i=r/u)*i:r;return u===1/0?1/0:u*o(n)}})},"../node_modules/core-js/modules/es.number.parse-float.js":function(e,t,r){var i=r("../node_modules/core-js/internals/export.js"),n=r("../node_modules/core-js/internals/number-parse-float.js");i({target:"Number",stat:!0,forced:Number.parseFloat!=n},{parseFloat:n})},"../node_modules/core-js/modules/es.object.define-getter.js":function(e,t,r){"use strict";var i=r("../node_modules/core-js/internals/export.js"),n=r("../node_modules/core-js/internals/descriptors.js"),a=r("../node_modules/core-js/internals/object-prototype-accessors-forced.js"),o=r("../node_modules/core-js/internals/to-object.js"),s=r("../node_modules/core-js/internals/a-function.js"),l=r("../node_modules/core-js/internals/object-define-property.js");n&&i({target:"Object",proto:!0,forced:a},{__defineGetter__:function(e,t){l.f(o(this),e,{get:s(t),enumerable:!0,configurable:!0})}})},"../node_modules/core-js/modules/es.object.define-setter.js":function(e,t,r){"use strict";var i=r("../node_modules/core-js/internals/export.js"),n=r("../node_modules/core-js/internals/descriptors.js"),a=r("../node_modules/core-js/internals/object-prototype-accessors-forced.js"),o=r("../node_modules/core-js/internals/to-object.js"),s=r("../node_modules/core-js/internals/a-function.js"),l=r("../node_modules/core-js/internals/object-define-property.js");n&&i({target:"Object",proto:!0,forced:a},{__defineSetter__:function(e,t){l.f(o(this),e,{set:s(t),enumerable:!0,configurable:!0})}})},"../node_modules/core-js/modules/es.object.from-entries.js":function(e,t,r){var i=r("../node_modules/core-js/internals/export.js"),n=r("../node_modules/core-js/internals/iterate.js"),a=r("../node_modules/core-js/internals/create-property.js");i({target:"Object",stat:!0},{fromEntries:function(e){var t={};return n(e,(function(e,r){a(t,e,r)}),void 0,!0),t}})},"../node_modules/core-js/modules/es.object.lookup-getter.js":function(e,t,r){"use strict";var i=r("../node_modules/core-js/internals/export.js"),n=r("../node_modules/core-js/internals/descriptors.js"),a=r("../node_modules/core-js/internals/object-prototype-accessors-forced.js"),o=r("../node_modules/core-js/internals/to-object.js"),s=r("../node_modules/core-js/internals/to-primitive.js"),l=r("../node_modules/core-js/internals/object-get-prototype-of.js"),u=r("../node_modules/core-js/internals/object-get-own-property-descriptor.js").f;n&&i({target:"Object",proto:!0,forced:a},{__lookupGetter__:function(e){var t,r=o(this),i=s(e,!0);do{if(t=u(r,i))return t.get}while(r=l(r))}})},"../node_modules/core-js/modules/es.object.lookup-setter.js":function(e,t,r){"use strict";var i=r("../node_modules/core-js/internals/export.js"),n=r("../node_modules/core-js/internals/descriptors.js"),a=r("../node_modules/core-js/internals/object-prototype-accessors-forced.js"),o=r("../node_modules/core-js/internals/to-object.js"),s=r("../node_modules/core-js/internals/to-primitive.js"),l=r("../node_modules/core-js/internals/object-get-prototype-of.js"),u=r("../node_modules/core-js/internals/object-get-own-property-descriptor.js").f;n&&i({target:"Object",proto:!0,forced:a},{__lookupSetter__:function(e){var t,r=o(this),i=s(e,!0);do{if(t=u(r,i))return t.set}while(r=l(r))}})},"../node_modules/core-js/modules/es.promise.finally.js":function(e,t,r){"use strict";var i=r("../node_modules/core-js/internals/export.js"),n=r("../node_modules/core-js/internals/is-pure.js"),a=r("../node_modules/core-js/internals/native-promise-constructor.js"),o=r("../node_modules/core-js/internals/fails.js"),s=r("../node_modules/core-js/internals/get-built-in.js"),l=r("../node_modules/core-js/internals/species-constructor.js"),u=r("../node_modules/core-js/internals/promise-resolve.js"),c=r("../node_modules/core-js/internals/redefine.js");i({target:"Promise",proto:!0,real:!0,forced:!!a&&o((function(){a.prototype.finally.call({then:function(){}},(function(){}))}))},{finally:function(e){var t=l(this,s("Promise")),r="function"==typeof e;return this.then(r?function(r){return u(t,e()).then((function(){return r}))}:e,r?function(r){return u(t,e()).then((function(){throw r}))}:e)}}),n||"function"!=typeof a||a.prototype.finally||c(a.prototype,"finally",s("Promise").prototype.finally)},"../node_modules/core-js/modules/es.promise.js":function(e,t,r){"use strict";var i,n,a,o,s=r("../node_modules/core-js/internals/export.js"),l=r("../node_modules/core-js/internals/is-pure.js"),u=r("../node_modules/core-js/internals/global.js"),c=r("../node_modules/core-js/internals/get-built-in.js"),f=r("../node_modules/core-js/internals/native-promise-constructor.js"),d=r("../node_modules/core-js/internals/redefine.js"),h=r("../node_modules/core-js/internals/redefine-all.js"),m=r("../node_modules/core-js/internals/set-to-string-tag.js"),b=r("../node_modules/core-js/internals/set-species.js"),p=r("../node_modules/core-js/internals/is-object.js"),v=r("../node_modules/core-js/internals/a-function.js"),g=r("../node_modules/core-js/internals/an-instance.js"),y=r("../node_modules/core-js/internals/classof-raw.js"),w=r("../node_modules/core-js/internals/inspect-source.js"),E=r("../node_modules/core-js/internals/iterate.js"),T=r("../node_modules/core-js/internals/check-correctness-of-iteration.js"),S=r("../node_modules/core-js/internals/species-constructor.js"),_=r("../node_modules/core-js/internals/task.js").set,j=r("../node_modules/core-js/internals/microtask.js"),R=r("../node_modules/core-js/internals/promise-resolve.js"),z=r("../node_modules/core-js/internals/host-report-errors.js"),O=r("../node_modules/core-js/internals/new-promise-capability.js"),P=r("../node_modules/core-js/internals/perform.js"),A=r("../node_modules/core-js/internals/internal-state.js"),x=r("../node_modules/core-js/internals/is-forced.js"),M=r("../node_modules/core-js/internals/well-known-symbol.js"),C=r("../node_modules/core-js/internals/engine-v8-version.js"),D=M("species"),I="Promise",L=A.get,F=A.set,G=A.getterFor(I),B=f,N=u.TypeError,U=u.document,k=u.process,V=c("fetch"),H=O.f,q=H,W="process"==y(k),Y=!!(U&&U.createEvent&&u.dispatchEvent),X=x(I,(function(){if(!(w(B)!==String(B))){if(66===C)return!0;if(!W&&"function"!=typeof PromiseRejectionEvent)return!0}if(l&&!B.prototype.finally)return!0;if(C>=51&&/native code/.test(B))return!1;var e=B.resolve(1),t=function(e){e((function(){}),(function(){}))};return(e.constructor={})[D]=t,!(e.then((function(){}))instanceof t)})),K=X||!T((function(e){B.all(e).catch((function(){}))})),Q=function(e){var t;return!(!p(e)||"function"!=typeof(t=e.then))&&t},Z=function(e,t,r){if(!t.notified){t.notified=!0;var i=t.reactions;j((function(){for(var n=t.value,a=1==t.state,o=0;i.length>o;){var s,l,u,c=i[o++],f=a?c.ok:c.fail,d=c.resolve,h=c.reject,m=c.domain;try{f?(a||(2===t.rejection&&te(e,t),t.rejection=1),!0===f?s=n:(m&&m.enter(),s=f(n),m&&(m.exit(),u=!0)),s===c.promise?h(N("Promise-chain cycle")):(l=Q(s))?l.call(s,d,h):d(s)):h(n)}catch(e){m&&!u&&m.exit(),h(e)}}t.reactions=[],t.notified=!1,r&&!t.rejection&&J(e,t)}))}},$=function(e,t,r){var i,n;Y?((i=U.createEvent("Event")).promise=t,i.reason=r,i.initEvent(e,!1,!0),u.dispatchEvent(i)):i={promise:t,reason:r},(n=u["on"+e])?n(i):"unhandledrejection"===e&&z("Unhandled promise rejection",r)},J=function(e,t){_.call(u,(function(){var r,i=t.value;if(ee(t)&&(r=P((function(){W?k.emit("unhandledRejection",i,e):$("unhandledrejection",e,i)})),t.rejection=W||ee(t)?2:1,r.error))throw r.value}))},ee=function(e){return 1!==e.rejection&&!e.parent},te=function(e,t){_.call(u,(function(){W?k.emit("rejectionHandled",e):$("rejectionhandled",e,t.value)}))},re=function(e,t,r,i){return function(n){e(t,r,n,i)}},ie=function(e,t,r,i){t.done||(t.done=!0,i&&(t=i),t.value=r,t.state=2,Z(e,t,!0))},ne=function(e,t,r,i){if(!t.done){t.done=!0,i&&(t=i);try{if(e===r)throw N("Promise can't be resolved itself");var n=Q(r);n?j((function(){var i={done:!1};try{n.call(r,re(ne,e,i,t),re(ie,e,i,t))}catch(r){ie(e,i,r,t)}})):(t.value=r,t.state=1,Z(e,t,!1))}catch(r){ie(e,{done:!1},r,t)}}};X&&(B=function(e){g(this,B,I),v(e),i.call(this);var t=L(this);try{e(re(ne,this,t),re(ie,this,t))}catch(e){ie(this,t,e)}},(i=function(e){F(this,{type:I,done:!1,notified:!1,parent:!1,reactions:[],rejection:!1,state:0,value:void 0})}).prototype=h(B.prototype,{then:function(e,t){var r=G(this),i=H(S(this,B));return i.ok="function"!=typeof e||e,i.fail="function"==typeof t&&t,i.domain=W?k.domain:void 0,r.parent=!0,r.reactions.push(i),0!=r.state&&Z(this,r,!1),i.promise},catch:function(e){return this.then(void 0,e)}}),n=function(){var e=new i,t=L(e);this.promise=e,this.resolve=re(ne,e,t),this.reject=re(ie,e,t)},O.f=H=function(e){return e===B||e===a?new n(e):q(e)},l||"function"!=typeof f||(o=f.prototype.then,d(f.prototype,"then",(function(e,t){var r=this;return new B((function(e,t){o.call(r,e,t)})).then(e,t)}),{unsafe:!0}),"function"==typeof V&&s({global:!0,enumerable:!0,forced:!0},{fetch:function(e){return R(B,V.apply(u,arguments))}}))),s({global:!0,wrap:!0,forced:X},{Promise:B}),m(B,I,!1,!0),b(I),a=c(I),s({target:I,stat:!0,forced:X},{reject:function(e){var t=H(this);return t.reject.call(void 0,e),t.promise}}),s({target:I,stat:!0,forced:l||X},{resolve:function(e){return R(l&&this===a?B:this,e)}}),s({target:I,stat:!0,forced:K},{all:function(e){var t=this,r=H(t),i=r.resolve,n=r.reject,a=P((function(){var r=v(t.resolve),a=[],o=0,s=1;E(e,(function(e){var l=o++,u=!1;a.push(void 0),s++,r.call(t,e).then((function(e){u||(u=!0,a[l]=e,--s||i(a))}),n)})),--s||i(a)}));return a.error&&n(a.value),r.promise},race:function(e){var t=this,r=H(t),i=r.reject,n=P((function(){var n=v(t.resolve);E(e,(function(e){n.call(t,e).then(r.resolve,i)}))}));return n.error&&i(n.value),r.promise}})},"../node_modules/core-js/modules/es.regexp.exec.js":function(e,t,r){"use strict";var i=r("../node_modules/core-js/internals/export.js"),n=r("../node_modules/core-js/internals/regexp-exec.js");i({target:"RegExp",proto:!0,forced:/./.exec!==n},{exec:n})},"../node_modules/core-js/modules/es.string.iterator.js":function(e,t,r){"use strict";var i=r("../node_modules/core-js/internals/string-multibyte.js").charAt,n=r("../node_modules/core-js/internals/internal-state.js"),a=r("../node_modules/core-js/internals/define-iterator.js"),o=n.set,s=n.getterFor("String Iterator");a(String,"String",(function(e){o(this,{type:"String Iterator",string:String(e),index:0})}),(function(){var e,t=s(this),r=t.string,n=t.index;return n>=r.length?{value:void 0,done:!0}:(e=i(r,n),t.index+=e.length,{value:e,done:!1})}))},"../node_modules/core-js/modules/es.string.pad-end.js":function(e,t,r){"use strict";var i=r("../node_modules/core-js/internals/export.js"),n=r("../node_modules/core-js/internals/string-pad.js").end;i({target:"String",proto:!0,forced:r("../node_modules/core-js/internals/string-pad-webkit-bug.js")},{padEnd:function(e){return n(this,e,arguments.length>1?arguments[1]:void 0)}})},"../node_modules/core-js/modules/es.string.pad-start.js":function(e,t,r){"use strict";var i=r("../node_modules/core-js/internals/export.js"),n=r("../node_modules/core-js/internals/string-pad.js").start;i({target:"String",proto:!0,forced:r("../node_modules/core-js/internals/string-pad-webkit-bug.js")},{padStart:function(e){return n(this,e,arguments.length>1?arguments[1]:void 0)}})},"../node_modules/core-js/modules/es.string.replace.js":function(e,t,r){"use strict";var i=r("../node_modules/core-js/internals/fix-regexp-well-known-symbol-logic.js"),n=r("../node_modules/core-js/internals/an-object.js"),a=r("../node_modules/core-js/internals/to-object.js"),o=r("../node_modules/core-js/internals/to-length.js"),s=r("../node_modules/core-js/internals/to-integer.js"),l=r("../node_modules/core-js/internals/require-object-coercible.js"),u=r("../node_modules/core-js/internals/advance-string-index.js"),c=r("../node_modules/core-js/internals/regexp-exec-abstract.js"),f=Math.max,d=Math.min,h=Math.floor,m=/\$([$&'`]|\d\d?|<[^>]*>)/g,b=/\$([$&'`]|\d\d?)/g;i("replace",2,(function(e,t,r,i){var p=i.REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE,v=i.REPLACE_KEEPS_$0,g=p?"$":"$0";return[function(r,i){var n=l(this),a=null==r?void 0:r[e];return void 0!==a?a.call(r,n,i):t.call(String(n),r,i)},function(e,i){if(!p&&v||"string"==typeof i&&-1===i.indexOf(g)){var a=r(t,e,this,i);if(a.done)return a.value}var l=n(e),h=String(this),m="function"==typeof i;m||(i=String(i));var b=l.global;if(b){var w=l.unicode;l.lastIndex=0}for(var E=[];;){var T=c(l,h);if(null===T)break;if(E.push(T),!b)break;""===String(T[0])&&(l.lastIndex=u(h,o(l.lastIndex),w))}for(var S,_="",j=0,R=0;R<E.length;R++){T=E[R];for(var z=String(T[0]),O=f(d(s(T.index),h.length),0),P=[],A=1;A<T.length;A++)P.push(void 0===(S=T[A])?S:String(S));var x=T.groups;if(m){var M=[z].concat(P,O,h);void 0!==x&&M.push(x);var C=String(i.apply(void 0,M))}else C=y(z,h,O,P,x,i);O>=j&&(_+=h.slice(j,O)+C,j=O+z.length)}return _+h.slice(j)}];function y(e,r,i,n,o,s){var l=i+e.length,u=n.length,c=b;return void 0!==o&&(o=a(o),c=m),t.call(s,c,(function(t,a){var s;switch(a.charAt(0)){case"$":return"$";case"&":return e;case"`":return r.slice(0,i);case"'":return r.slice(l);case"<":s=o[a.slice(1,-1)];break;default:var c=+a;if(0===c)return t;if(c>u){var f=h(c/10);return 0===f?t:f<=u?void 0===n[f-1]?a.charAt(1):n[f-1]+a.charAt(1):t}s=n[c-1]}return void 0===s?"":s}))}}))},"../node_modules/core-js/modules/es.string.trim-end.js":function(e,t,r){"use strict";var i=r("../node_modules/core-js/internals/export.js"),n=r("../node_modules/core-js/internals/string-trim.js").end,a=r("../node_modules/core-js/internals/string-trim-forced.js")("trimEnd"),o=a?function(){return n(this)}:"".trimEnd;i({target:"String",proto:!0,forced:a},{trimEnd:o,trimRight:o})},"../node_modules/core-js/modules/es.string.trim-start.js":function(e,t,r){"use strict";var i=r("../node_modules/core-js/internals/export.js"),n=r("../node_modules/core-js/internals/string-trim.js").start,a=r("../node_modules/core-js/internals/string-trim-forced.js")("trimStart"),o=a?function(){return n(this)}:"".trimStart;i({target:"String",proto:!0,forced:a},{trimStart:o,trimLeft:o})},"../node_modules/core-js/modules/es.string.trim.js":function(e,t,r){"use strict";var i=r("../node_modules/core-js/internals/export.js"),n=r("../node_modules/core-js/internals/string-trim.js").trim;i({target:"String",proto:!0,forced:r("../node_modules/core-js/internals/string-trim-forced.js")("trim")},{trim:function(){return n(this)}})},"../node_modules/core-js/modules/es.symbol.async-iterator.js":function(e,t,r){r("../node_modules/core-js/internals/define-well-known-symbol.js")("asyncIterator")},"../node_modules/core-js/modules/es.symbol.description.js":function(e,t,r){"use strict";var i=r("../node_modules/core-js/internals/export.js"),n=r("../node_modules/core-js/internals/descriptors.js"),a=r("../node_modules/core-js/internals/global.js"),o=r("../node_modules/core-js/internals/has.js"),s=r("../node_modules/core-js/internals/is-object.js"),l=r("../node_modules/core-js/internals/object-define-property.js").f,u=r("../node_modules/core-js/internals/copy-constructor-properties.js"),c=a.Symbol;if(n&&"function"==typeof c&&(!("description"in c.prototype)||void 0!==c().description)){var f={},d=function(){var e=arguments.length<1||void 0===arguments[0]?void 0:String(arguments[0]),t=this instanceof d?new c(e):void 0===e?c():c(e);return""===e&&(f[t]=!0),t};u(d,c);var h=d.prototype=c.prototype;h.constructor=d;var m=h.toString,b="Symbol(test)"==String(c("test")),p=/^Symbol\((.*)\)[^)]+$/;l(h,"description",{configurable:!0,get:function(){var e=s(this)?this.valueOf():this,t=m.call(e);if(o(f,e))return"";var r=b?t.slice(7,-1):t.replace(p,"$1");return""===r?void 0:r}}),i({global:!0,forced:!0},{Symbol:d})}},"../node_modules/core-js/modules/es.typed-array.float32-array.js":function(e,t,r){r("../node_modules/core-js/internals/typed-array-constructor.js")("Float32",(function(e){return function(t,r,i){return e(this,t,r,i)}}))},"../node_modules/core-js/modules/es.typed-array.float64-array.js":function(e,t,r){r("../node_modules/core-js/internals/typed-array-constructor.js")("Float64",(function(e){return function(t,r,i){return e(this,t,r,i)}}))},"../node_modules/core-js/modules/es.typed-array.from.js":function(e,t,r){"use strict";var i=r("../node_modules/core-js/internals/typed-array-constructors-require-wrappers.js");(0,r("../node_modules/core-js/internals/array-buffer-view-core.js").exportTypedArrayStaticMethod)("from",r("../node_modules/core-js/internals/typed-array-from.js"),i)},"../node_modules/core-js/modules/es.typed-array.int16-array.js":function(e,t,r){r("../node_modules/core-js/internals/typed-array-constructor.js")("Int16",(function(e){return function(t,r,i){return e(this,t,r,i)}}))},"../node_modules/core-js/modules/es.typed-array.int32-array.js":function(e,t,r){r("../node_modules/core-js/internals/typed-array-constructor.js")("Int32",(function(e){return function(t,r,i){return e(this,t,r,i)}}))},"../node_modules/core-js/modules/es.typed-array.int8-array.js":function(e,t,r){r("../node_modules/core-js/internals/typed-array-constructor.js")("Int8",(function(e){return function(t,r,i){return e(this,t,r,i)}}))},"../node_modules/core-js/modules/es.typed-array.of.js":function(e,t,r){"use strict";var i=r("../node_modules/core-js/internals/array-buffer-view-core.js"),n=r("../node_modules/core-js/internals/typed-array-constructors-require-wrappers.js"),a=i.aTypedArrayConstructor;(0,i.exportTypedArrayStaticMethod)("of",(function(){for(var e=0,t=arguments.length,r=new(a(this))(t);t>e;)r[e]=arguments[e++];return r}),n)},"../node_modules/core-js/modules/es.typed-array.uint16-array.js":function(e,t,r){r("../node_modules/core-js/internals/typed-array-constructor.js")("Uint16",(function(e){return function(t,r,i){return e(this,t,r,i)}}))},"../node_modules/core-js/modules/es.typed-array.uint32-array.js":function(e,t,r){r("../node_modules/core-js/internals/typed-array-constructor.js")("Uint32",(function(e){return function(t,r,i){return e(this,t,r,i)}}))},"../node_modules/core-js/modules/es.typed-array.uint8-array.js":function(e,t,r){r("../node_modules/core-js/internals/typed-array-constructor.js")("Uint8",(function(e){return function(t,r,i){return e(this,t,r,i)}}))},"../node_modules/core-js/modules/es.typed-array.uint8-clamped-array.js":function(e,t,r){r("../node_modules/core-js/internals/typed-array-constructor.js")("Uint8",(function(e){return function(t,r,i){return e(this,t,r,i)}}),!0)},"../node_modules/core-js/modules/web.dom-collections.for-each.js":function(e,t,r){var i=r("../node_modules/core-js/internals/global.js"),n=r("../node_modules/core-js/internals/dom-iterables.js"),a=r("../node_modules/core-js/internals/array-for-each.js"),o=r("../node_modules/core-js/internals/create-non-enumerable-property.js");for(var s in n){var l=i[s],u=l&&l.prototype;if(u&&u.forEach!==a)try{o(u,"forEach",a)}catch(e){u.forEach=a}}},"../node_modules/core-js/modules/web.dom-collections.iterator.js":function(e,t,r){var i=r("../node_modules/core-js/internals/global.js"),n=r("../node_modules/core-js/internals/dom-iterables.js"),a=r("../node_modules/core-js/modules/es.array.iterator.js"),o=r("../node_modules/core-js/internals/create-non-enumerable-property.js"),s=r("../node_modules/core-js/internals/well-known-symbol.js"),l=s("iterator"),u=s("toStringTag"),c=a.values;for(var f in n){var d=i[f],h=d&&d.prototype;if(h){if(h[l]!==c)try{o(h,l,c)}catch(e){h[l]=c}if(h[u]||o(h,u,f),n[f])for(var m in a)if(h[m]!==a[m])try{o(h,m,a[m])}catch(e){h[m]=a[m]}}}},"../node_modules/core-js/modules/web.immediate.js":function(e,t,r){var i=r("../node_modules/core-js/internals/export.js"),n=r("../node_modules/core-js/internals/global.js"),a=r("../node_modules/core-js/internals/task.js");i({global:!0,bind:!0,enumerable:!0,forced:!n.setImmediate||!n.clearImmediate},{setImmediate:a.set,clearImmediate:a.clear})},"../node_modules/core-js/modules/web.queue-microtask.js":function(e,t,r){var i=r("../node_modules/core-js/internals/export.js"),n=r("../node_modules/core-js/internals/global.js"),a=r("../node_modules/core-js/internals/microtask.js"),o=r("../node_modules/core-js/internals/classof-raw.js"),s=n.process,l="process"==o(s);i({global:!0,enumerable:!0,noTargetGet:!0},{queueMicrotask:function(e){var t=l&&s.domain;a(t?t.bind(e):e)}})},"../node_modules/core-js/modules/web.url-search-params.js":function(e,t,r){"use strict";r("../node_modules/core-js/modules/es.array.iterator.js");var i=r("../node_modules/core-js/internals/export.js"),n=r("../node_modules/core-js/internals/get-built-in.js"),a=r("../node_modules/core-js/internals/native-url.js"),o=r("../node_modules/core-js/internals/redefine.js"),s=r("../node_modules/core-js/internals/redefine-all.js"),l=r("../node_modules/core-js/internals/set-to-string-tag.js"),u=r("../node_modules/core-js/internals/create-iterator-constructor.js"),c=r("../node_modules/core-js/internals/internal-state.js"),f=r("../node_modules/core-js/internals/an-instance.js"),d=r("../node_modules/core-js/internals/has.js"),h=r("../node_modules/core-js/internals/function-bind-context.js"),m=r("../node_modules/core-js/internals/classof.js"),b=r("../node_modules/core-js/internals/an-object.js"),p=r("../node_modules/core-js/internals/is-object.js"),v=r("../node_modules/core-js/internals/object-create.js"),g=r("../node_modules/core-js/internals/create-property-descriptor.js"),y=r("../node_modules/core-js/internals/get-iterator.js"),w=r("../node_modules/core-js/internals/get-iterator-method.js"),E=r("../node_modules/core-js/internals/well-known-symbol.js"),T=n("fetch"),S=n("Headers"),_=E("iterator"),j=c.set,R=c.getterFor("URLSearchParams"),z=c.getterFor("URLSearchParamsIterator"),O=/\+/g,P=Array(4),A=function(e){return P[e-1]||(P[e-1]=RegExp("((?:%[\\da-f]{2}){"+e+"})","gi"))},x=function(e){try{return decodeURIComponent(e)}catch(t){return e}},M=function(e){var t=e.replace(O," "),r=4;try{return decodeURIComponent(t)}catch(e){for(;r;)t=t.replace(A(r--),x);return t}},C=/[!'()~]|%20/g,D={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+"},I=function(e){return D[e]},L=function(e){return encodeURIComponent(e).replace(C,I)},F=function(e,t){if(t)for(var r,i,n=t.split("&"),a=0;a<n.length;)(r=n[a++]).length&&(i=r.split("="),e.push({key:M(i.shift()),value:M(i.join("="))}))},G=function(e){this.entries.length=0,F(this.entries,e)},B=function(e,t){if(e<t)throw TypeError("Not enough arguments")},N=u((function(e,t){j(this,{type:"URLSearchParamsIterator",iterator:y(R(e).entries),kind:t})}),"Iterator",(function(){var e=z(this),t=e.kind,r=e.iterator.next(),i=r.value;return r.done||(r.value="keys"===t?i.key:"values"===t?i.value:[i.key,i.value]),r})),U=function(){f(this,U,"URLSearchParams");var e,t,r,i,n,a,o,s,l,u=arguments.length>0?arguments[0]:void 0,c=this,h=[];if(j(c,{type:"URLSearchParams",entries:h,updateURL:function(){},updateSearchParams:G}),void 0!==u)if(p(u))if("function"==typeof(e=w(u)))for(r=(t=e.call(u)).next;!(i=r.call(t)).done;){if((o=(a=(n=y(b(i.value))).next).call(n)).done||(s=a.call(n)).done||!a.call(n).done)throw TypeError("Expected sequence with length 2");h.push({key:o.value+"",value:s.value+""})}else for(l in u)d(u,l)&&h.push({key:l,value:u[l]+""});else F(h,"string"==typeof u?"?"===u.charAt(0)?u.slice(1):u:u+"")},k=U.prototype;s(k,{append:function(e,t){B(arguments.length,2);var r=R(this);r.entries.push({key:e+"",value:t+""}),r.updateURL()},delete:function(e){B(arguments.length,1);for(var t=R(this),r=t.entries,i=e+"",n=0;n<r.length;)r[n].key===i?r.splice(n,1):n++;t.updateURL()},get:function(e){B(arguments.length,1);for(var t=R(this).entries,r=e+"",i=0;i<t.length;i++)if(t[i].key===r)return t[i].value;return null},getAll:function(e){B(arguments.length,1);for(var t=R(this).entries,r=e+"",i=[],n=0;n<t.length;n++)t[n].key===r&&i.push(t[n].value);return i},has:function(e){B(arguments.length,1);for(var t=R(this).entries,r=e+"",i=0;i<t.length;)if(t[i++].key===r)return!0;return!1},set:function(e,t){B(arguments.length,1);for(var r,i=R(this),n=i.entries,a=!1,o=e+"",s=t+"",l=0;l<n.length;l++)(r=n[l]).key===o&&(a?n.splice(l--,1):(a=!0,r.value=s));a||n.push({key:o,value:s}),i.updateURL()},sort:function(){var e,t,r,i=R(this),n=i.entries,a=n.slice();for(n.length=0,r=0;r<a.length;r++){for(e=a[r],t=0;t<r;t++)if(n[t].key>e.key){n.splice(t,0,e);break}t===r&&n.push(e)}i.updateURL()},forEach:function(e){for(var t,r=R(this).entries,i=h(e,arguments.length>1?arguments[1]:void 0,3),n=0;n<r.length;)i((t=r[n++]).value,t.key,this)},keys:function(){return new N(this,"keys")},values:function(){return new N(this,"values")},entries:function(){return new N(this,"entries")}},{enumerable:!0}),o(k,_,k.entries),o(k,"toString",(function(){for(var e,t=R(this).entries,r=[],i=0;i<t.length;)e=t[i++],r.push(L(e.key)+"="+L(e.value));return r.join("&")}),{enumerable:!0}),l(U,"URLSearchParams"),i({global:!0,forced:!a},{URLSearchParams:U}),a||"function"!=typeof T||"function"!=typeof S||i({global:!0,enumerable:!0,forced:!0},{fetch:function(e){var t,r,i,n=[e];return arguments.length>1&&(p(t=arguments[1])&&(r=t.body,"URLSearchParams"===m(r)&&((i=t.headers?new S(t.headers):new S).has("content-type")||i.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"),t=v(t,{body:g(0,String(r)),headers:g(0,i)}))),n.push(t)),T.apply(this,n)}}),e.exports={URLSearchParams:U,getState:R}},"../node_modules/core-js/modules/web.url.js":function(e,t,r){"use strict";r("../node_modules/core-js/modules/es.string.iterator.js");var i,n=r("../node_modules/core-js/internals/export.js"),a=r("../node_modules/core-js/internals/descriptors.js"),o=r("../node_modules/core-js/internals/native-url.js"),s=r("../node_modules/core-js/internals/global.js"),l=r("../node_modules/core-js/internals/object-define-properties.js"),u=r("../node_modules/core-js/internals/redefine.js"),c=r("../node_modules/core-js/internals/an-instance.js"),f=r("../node_modules/core-js/internals/has.js"),d=r("../node_modules/core-js/internals/object-assign.js"),h=r("../node_modules/core-js/internals/array-from.js"),m=r("../node_modules/core-js/internals/string-multibyte.js").codeAt,b=r("../node_modules/core-js/internals/string-punycode-to-ascii.js"),p=r("../node_modules/core-js/internals/set-to-string-tag.js"),v=r("../node_modules/core-js/modules/web.url-search-params.js"),g=r("../node_modules/core-js/internals/internal-state.js"),y=s.URL,w=v.URLSearchParams,E=v.getState,T=g.set,S=g.getterFor("URL"),_=Math.floor,j=Math.pow,R=/[A-Za-z]/,z=/[\d+-.A-Za-z]/,O=/\d/,P=/^(0x|0X)/,A=/^[0-7]+$/,x=/^\d+$/,M=/^[\dA-Fa-f]+$/,C=/[\u0000\u0009\u000A\u000D #%/:?@[\\]]/,D=/[\u0000\u0009\u000A\u000D #/:?@[\\]]/,I=/^[\u0000-\u001F ]+|[\u0000-\u001F ]+$/g,L=/[\u0009\u000A\u000D]/g,F=function(e,t){var r,i,n;if("["==t.charAt(0)){if("]"!=t.charAt(t.length-1))return"Invalid host";if(!(r=B(t.slice(1,-1))))return"Invalid host";e.host=r}else if(Y(e)){if(t=b(t),C.test(t))return"Invalid host";if(null===(r=G(t)))return"Invalid host";e.host=r}else{if(D.test(t))return"Invalid host";for(r="",i=h(t),n=0;n<i.length;n++)r+=q(i[n],U);e.host=r}},G=function(e){var t,r,i,n,a,o,s,l=e.split(".");if(l.length&&""==l[l.length-1]&&l.pop(),(t=l.length)>4)return e;for(r=[],i=0;i<t;i++){if(""==(n=l[i]))return e;if(a=10,n.length>1&&"0"==n.charAt(0)&&(a=P.test(n)?16:8,n=n.slice(8==a?1:2)),""===n)o=0;else{if(!(10==a?x:8==a?A:M).test(n))return e;o=parseInt(n,a)}r.push(o)}for(i=0;i<t;i++)if(o=r[i],i==t-1){if(o>=j(256,5-t))return null}else if(o>255)return null;for(s=r.pop(),i=0;i<r.length;i++)s+=r[i]*j(256,3-i);return s},B=function(e){var t,r,i,n,a,o,s,l=[0,0,0,0,0,0,0,0],u=0,c=null,f=0,d=function(){return e.charAt(f)};if(":"==d()){if(":"!=e.charAt(1))return;f+=2,c=++u}for(;d();){if(8==u)return;if(":"!=d()){for(t=r=0;r<4&&M.test(d());)t=16*t+parseInt(d(),16),f++,r++;if("."==d()){if(0==r)return;if(f-=r,u>6)return;for(i=0;d();){if(n=null,i>0){if(!("."==d()&&i<4))return;f++}if(!O.test(d()))return;for(;O.test(d());){if(a=parseInt(d(),10),null===n)n=a;else{if(0==n)return;n=10*n+a}if(n>255)return;f++}l[u]=256*l[u]+n,2!=++i&&4!=i||u++}if(4!=i)return;break}if(":"==d()){if(f++,!d())return}else if(d())return;l[u++]=t}else{if(null!==c)return;f++,c=++u}}if(null!==c)for(o=u-c,u=7;0!=u&&o>0;)s=l[u],l[u--]=l[c+o-1],l[c+--o]=s;else if(8!=u)return;return l},N=function(e){var t,r,i,n;if("number"==typeof e){for(t=[],r=0;r<4;r++)t.unshift(e%256),e=_(e/256);return t.join(".")}if("object"==typeof e){for(t="",i=function(e){for(var t=null,r=1,i=null,n=0,a=0;a<8;a++)0!==e[a]?(n>r&&(t=i,r=n),i=null,n=0):(null===i&&(i=a),++n);return n>r&&(t=i,r=n),t}(e),r=0;r<8;r++)n&&0===e[r]||(n&&(n=!1),i===r?(t+=r?":":"::",n=!0):(t+=e[r].toString(16),r<7&&(t+=":")));return"["+t+"]"}return e},U={},k=d({},U,{" ":1,'"':1,"<":1,">":1,"`":1}),V=d({},k,{"#":1,"?":1,"{":1,"}":1}),H=d({},V,{"/":1,":":1,";":1,"=":1,"@":1,"[":1,"\\":1,"]":1,"^":1,"|":1}),q=function(e,t){var r=m(e,0);return r>32&&r<127&&!f(t,e)?e:encodeURIComponent(e)},W={ftp:21,file:null,http:80,https:443,ws:80,wss:443},Y=function(e){return f(W,e.scheme)},X=function(e){return""!=e.username||""!=e.password},K=function(e){return!e.host||e.cannotBeABaseURL||"file"==e.scheme},Q=function(e,t){var r;return 2==e.length&&R.test(e.charAt(0))&&(":"==(r=e.charAt(1))||!t&&"|"==r)},Z=function(e){var t;return e.length>1&&Q(e.slice(0,2))&&(2==e.length||"/"===(t=e.charAt(2))||"\\"===t||"?"===t||"#"===t)},$=function(e){var t=e.path,r=t.length;!r||"file"==e.scheme&&1==r&&Q(t[0],!0)||t.pop()},J=function(e){return"."===e||"%2e"===e.toLowerCase()},ee={},te={},re={},ie={},ne={},ae={},oe={},se={},le={},ue={},ce={},fe={},de={},he={},me={},be={},pe={},ve={},ge={},ye={},we={},Ee=function(e,t,r,n){var a,o,s,l,u,c=r||ee,d=0,m="",b=!1,p=!1,v=!1;for(r||(e.scheme="",e.username="",e.password="",e.host=null,e.port=null,e.path=[],e.query=null,e.fragment=null,e.cannotBeABaseURL=!1,t=t.replace(I,"")),t=t.replace(L,""),a=h(t);d<=a.length;){switch(o=a[d],c){case ee:if(!o||!R.test(o)){if(r)return"Invalid scheme";c=re;continue}m+=o.toLowerCase(),c=te;break;case te:if(o&&(z.test(o)||"+"==o||"-"==o||"."==o))m+=o.toLowerCase();else{if(":"!=o){if(r)return"Invalid scheme";m="",c=re,d=0;continue}if(r&&(Y(e)!=f(W,m)||"file"==m&&(X(e)||null!==e.port)||"file"==e.scheme&&!e.host))return;if(e.scheme=m,r)return void(Y(e)&&W[e.scheme]==e.port&&(e.port=null));m="","file"==e.scheme?c=he:Y(e)&&n&&n.scheme==e.scheme?c=ie:Y(e)?c=se:"/"==a[d+1]?(c=ne,d++):(e.cannotBeABaseURL=!0,e.path.push(""),c=ge)}break;case re:if(!n||n.cannotBeABaseURL&&"#"!=o)return"Invalid scheme";if(n.cannotBeABaseURL&&"#"==o){e.scheme=n.scheme,e.path=n.path.slice(),e.query=n.query,e.fragment="",e.cannotBeABaseURL=!0,c=we;break}c="file"==n.scheme?he:ae;continue;case ie:if("/"!=o||"/"!=a[d+1]){c=ae;continue}c=le,d++;break;case ne:if("/"==o){c=ue;break}c=ve;continue;case ae:if(e.scheme=n.scheme,o==i)e.username=n.username,e.password=n.password,e.host=n.host,e.port=n.port,e.path=n.path.slice(),e.query=n.query;else if("/"==o||"\\"==o&&Y(e))c=oe;else if("?"==o)e.username=n.username,e.password=n.password,e.host=n.host,e.port=n.port,e.path=n.path.slice(),e.query="",c=ye;else{if("#"!=o){e.username=n.username,e.password=n.password,e.host=n.host,e.port=n.port,e.path=n.path.slice(),e.path.pop(),c=ve;continue}e.username=n.username,e.password=n.password,e.host=n.host,e.port=n.port,e.path=n.path.slice(),e.query=n.query,e.fragment="",c=we}break;case oe:if(!Y(e)||"/"!=o&&"\\"!=o){if("/"!=o){e.username=n.username,e.password=n.password,e.host=n.host,e.port=n.port,c=ve;continue}c=ue}else c=le;break;case se:if(c=le,"/"!=o||"/"!=m.charAt(d+1))continue;d++;break;case le:if("/"!=o&&"\\"!=o){c=ue;continue}break;case ue:if("@"==o){b&&(m="%40"+m),b=!0,s=h(m);for(var g=0;g<s.length;g++){var y=s[g];if(":"!=y||v){var w=q(y,H);v?e.password+=w:e.username+=w}else v=!0}m=""}else if(o==i||"/"==o||"?"==o||"#"==o||"\\"==o&&Y(e)){if(b&&""==m)return"Invalid authority";d-=h(m).length+1,m="",c=ce}else m+=o;break;case ce:case fe:if(r&&"file"==e.scheme){c=be;continue}if(":"!=o||p){if(o==i||"/"==o||"?"==o||"#"==o||"\\"==o&&Y(e)){if(Y(e)&&""==m)return"Invalid host";if(r&&""==m&&(X(e)||null!==e.port))return;if(l=F(e,m))return l;if(m="",c=pe,r)return;continue}"["==o?p=!0:"]"==o&&(p=!1),m+=o}else{if(""==m)return"Invalid host";if(l=F(e,m))return l;if(m="",c=de,r==fe)return}break;case de:if(!O.test(o)){if(o==i||"/"==o||"?"==o||"#"==o||"\\"==o&&Y(e)||r){if(""!=m){var E=parseInt(m,10);if(E>65535)return"Invalid port";e.port=Y(e)&&E===W[e.scheme]?null:E,m=""}if(r)return;c=pe;continue}return"Invalid port"}m+=o;break;case he:if(e.scheme="file","/"==o||"\\"==o)c=me;else{if(!n||"file"!=n.scheme){c=ve;continue}if(o==i)e.host=n.host,e.path=n.path.slice(),e.query=n.query;else if("?"==o)e.host=n.host,e.path=n.path.slice(),e.query="",c=ye;else{if("#"!=o){Z(a.slice(d).join(""))||(e.host=n.host,e.path=n.path.slice(),$(e)),c=ve;continue}e.host=n.host,e.path=n.path.slice(),e.query=n.query,e.fragment="",c=we}}break;case me:if("/"==o||"\\"==o){c=be;break}n&&"file"==n.scheme&&!Z(a.slice(d).join(""))&&(Q(n.path[0],!0)?e.path.push(n.path[0]):e.host=n.host),c=ve;continue;case be:if(o==i||"/"==o||"\\"==o||"?"==o||"#"==o){if(!r&&Q(m))c=ve;else if(""==m){if(e.host="",r)return;c=pe}else{if(l=F(e,m))return l;if("localhost"==e.host&&(e.host=""),r)return;m="",c=pe}continue}m+=o;break;case pe:if(Y(e)){if(c=ve,"/"!=o&&"\\"!=o)continue}else if(r||"?"!=o)if(r||"#"!=o){if(o!=i&&(c=ve,"/"!=o))continue}else e.fragment="",c=we;else e.query="",c=ye;break;case ve:if(o==i||"/"==o||"\\"==o&&Y(e)||!r&&("?"==o||"#"==o)){if(".."===(u=(u=m).toLowerCase())||"%2e."===u||".%2e"===u||"%2e%2e"===u?($(e),"/"==o||"\\"==o&&Y(e)||e.path.push("")):J(m)?"/"==o||"\\"==o&&Y(e)||e.path.push(""):("file"==e.scheme&&!e.path.length&&Q(m)&&(e.host&&(e.host=""),m=m.charAt(0)+":"),e.path.push(m)),m="","file"==e.scheme&&(o==i||"?"==o||"#"==o))for(;e.path.length>1&&""===e.path[0];)e.path.shift();"?"==o?(e.query="",c=ye):"#"==o&&(e.fragment="",c=we)}else m+=q(o,V);break;case ge:"?"==o?(e.query="",c=ye):"#"==o?(e.fragment="",c=we):o!=i&&(e.path[0]+=q(o,U));break;case ye:r||"#"!=o?o!=i&&("'"==o&&Y(e)?e.query+="%27":e.query+="#"==o?"%23":q(o,U)):(e.fragment="",c=we);break;case we:o!=i&&(e.fragment+=q(o,k))}d++}},Te=function(e){var t,r,i=c(this,Te,"URL"),n=arguments.length>1?arguments[1]:void 0,o=String(e),s=T(i,{type:"URL"});if(void 0!==n)if(n instanceof Te)t=S(n);else if(r=Ee(t={},String(n)))throw TypeError(r);if(r=Ee(s,o,null,t))throw TypeError(r);var l=s.searchParams=new w,u=E(l);u.updateSearchParams(s.query),u.updateURL=function(){s.query=String(l)||null},a||(i.href=_e.call(i),i.origin=je.call(i),i.protocol=Re.call(i),i.username=ze.call(i),i.password=Oe.call(i),i.host=Pe.call(i),i.hostname=Ae.call(i),i.port=xe.call(i),i.pathname=Me.call(i),i.search=Ce.call(i),i.searchParams=De.call(i),i.hash=Ie.call(i))},Se=Te.prototype,_e=function(){var e=S(this),t=e.scheme,r=e.username,i=e.password,n=e.host,a=e.port,o=e.path,s=e.query,l=e.fragment,u=t+":";return null!==n?(u+="//",X(e)&&(u+=r+(i?":"+i:"")+"@"),u+=N(n),null!==a&&(u+=":"+a)):"file"==t&&(u+="//"),u+=e.cannotBeABaseURL?o[0]:o.length?"/"+o.join("/"):"",null!==s&&(u+="?"+s),null!==l&&(u+="#"+l),u},je=function(){var e=S(this),t=e.scheme,r=e.port;if("blob"==t)try{return new URL(t.path[0]).origin}catch(e){return"null"}return"file"!=t&&Y(e)?t+"://"+N(e.host)+(null!==r?":"+r:""):"null"},Re=function(){return S(this).scheme+":"},ze=function(){return S(this).username},Oe=function(){return S(this).password},Pe=function(){var e=S(this),t=e.host,r=e.port;return null===t?"":null===r?N(t):N(t)+":"+r},Ae=function(){var e=S(this).host;return null===e?"":N(e)},xe=function(){var e=S(this).port;return null===e?"":String(e)},Me=function(){var e=S(this),t=e.path;return e.cannotBeABaseURL?t[0]:t.length?"/"+t.join("/"):""},Ce=function(){var e=S(this).query;return e?"?"+e:""},De=function(){return S(this).searchParams},Ie=function(){var e=S(this).fragment;return e?"#"+e:""},Le=function(e,t){return{get:e,set:t,configurable:!0,enumerable:!0}};if(a&&l(Se,{href:Le(_e,(function(e){var t=S(this),r=String(e),i=Ee(t,r);if(i)throw TypeError(i);E(t.searchParams).updateSearchParams(t.query)})),origin:Le(je),protocol:Le(Re,(function(e){var t=S(this);Ee(t,String(e)+":",ee)})),username:Le(ze,(function(e){var t=S(this),r=h(String(e));if(!K(t)){t.username="";for(var i=0;i<r.length;i++)t.username+=q(r[i],H)}})),password:Le(Oe,(function(e){var t=S(this),r=h(String(e));if(!K(t)){t.password="";for(var i=0;i<r.length;i++)t.password+=q(r[i],H)}})),host:Le(Pe,(function(e){var t=S(this);t.cannotBeABaseURL||Ee(t,String(e),ce)})),hostname:Le(Ae,(function(e){var t=S(this);t.cannotBeABaseURL||Ee(t,String(e),fe)})),port:Le(xe,(function(e){var t=S(this);K(t)||(""==(e=String(e))?t.port=null:Ee(t,e,de))})),pathname:Le(Me,(function(e){var t=S(this);t.cannotBeABaseURL||(t.path=[],Ee(t,e+"",pe))})),search:Le(Ce,(function(e){var t=S(this);""==(e=String(e))?t.query=null:("?"==e.charAt(0)&&(e=e.slice(1)),t.query="",Ee(t,e,ye)),E(t.searchParams).updateSearchParams(t.query)})),searchParams:Le(De),hash:Le(Ie,(function(e){var t=S(this);""!=(e=String(e))?("#"==e.charAt(0)&&(e=e.slice(1)),t.fragment="",Ee(t,e,we)):t.fragment=null}))}),u(Se,"toJSON",(function(){return _e.call(this)}),{enumerable:!0}),u(Se,"toString",(function(){return _e.call(this)}),{enumerable:!0}),y){var Fe=y.createObjectURL,Ge=y.revokeObjectURL;Fe&&u(Te,"createObjectURL",(function(e){return Fe.apply(y,arguments)})),Ge&&u(Te,"revokeObjectURL",(function(e){return Ge.apply(y,arguments)}))}p(Te,"URL"),n({global:!0,forced:!o,sham:!a},{URL:Te})},"../node_modules/core-js/modules/web.url.to-json.js":function(e,t,r){"use strict";r("../node_modules/core-js/internals/export.js")({target:"URL",proto:!0,enumerable:!0},{toJSON:function(){return URL.prototype.toString.call(this)}})},"../node_modules/gl-matrix/lib/gl-matrix.js":function(e,t,r){"use strict";r.r(t);var i=r("../node_modules/gl-matrix/lib/gl-matrix/common.js");r.d(t,"glMatrix",(function(){return i}));var n=r("../node_modules/gl-matrix/lib/gl-matrix/mat2.js");r.d(t,"mat2",(function(){return n}));var a=r("../node_modules/gl-matrix/lib/gl-matrix/mat2d.js");r.d(t,"mat2d",(function(){return a}));var o=r("../node_modules/gl-matrix/lib/gl-matrix/mat3.js");r.d(t,"mat3",(function(){return o}));var s=r("../node_modules/gl-matrix/lib/gl-matrix/mat4.js");r.d(t,"mat4",(function(){return s}));var l=r("../node_modules/gl-matrix/lib/gl-matrix/quat.js");r.d(t,"quat",(function(){return l}));var u=r("../node_modules/gl-matrix/lib/gl-matrix/quat2.js");r.d(t,"quat2",(function(){return u}));var c=r("../node_modules/gl-matrix/lib/gl-matrix/vec2.js");r.d(t,"vec2",(function(){return c}));var f=r("../node_modules/gl-matrix/lib/gl-matrix/vec3.js");r.d(t,"vec3",(function(){return f}));var d=r("../node_modules/gl-matrix/lib/gl-matrix/vec4.js");r.d(t,"vec4",(function(){return d}))},"../node_modules/gl-matrix/lib/gl-matrix/common.js":function(e,t,r){"use strict";r.r(t),r.d(t,"EPSILON",(function(){return i})),r.d(t,"ARRAY_TYPE",(function(){return n})),r.d(t,"RANDOM",(function(){return a})),r.d(t,"setMatrixArrayType",(function(){return o})),r.d(t,"toRadian",(function(){return l})),r.d(t,"equals",(function(){return u}));var i=1e-6,n="undefined"!=typeof Float32Array?Float32Array:Array,a=Math.random;function o(e){n=e}var s=Math.PI/180;function l(e){return e*s}function u(e,t){return Math.abs(e-t)<=i*Math.max(1,Math.abs(e),Math.abs(t))}},"../node_modules/gl-matrix/lib/gl-matrix/mat2.js":function(e,t,r){"use strict";r.r(t),r.d(t,"create",(function(){return n})),r.d(t,"clone",(function(){return a})),r.d(t,"copy",(function(){return o})),r.d(t,"identity",(function(){return s})),r.d(t,"fromValues",(function(){return l})),r.d(t,"set",(function(){return u})),r.d(t,"transpose",(function(){return c})),r.d(t,"invert",(function(){return f})),r.d(t,"adjoint",(function(){return d})),r.d(t,"determinant",(function(){return h})),r.d(t,"multiply",(function(){return m})),r.d(t,"rotate",(function(){return b})),r.d(t,"scale",(function(){return p})),r.d(t,"fromRotation",(function(){return v})),r.d(t,"fromScaling",(function(){return g})),r.d(t,"str",(function(){return y})),r.d(t,"frob",(function(){return w})),r.d(t,"LDU",(function(){return E})),r.d(t,"add",(function(){return T})),r.d(t,"subtract",(function(){return S})),r.d(t,"exactEquals",(function(){return _})),r.d(t,"equals",(function(){return j})),r.d(t,"multiplyScalar",(function(){return R})),r.d(t,"multiplyScalarAndAdd",(function(){return z})),r.d(t,"mul",(function(){return O})),r.d(t,"sub",(function(){return P}));var i=r("../node_modules/gl-matrix/lib/gl-matrix/common.js");function n(){var e=new i.ARRAY_TYPE(4);return i.ARRAY_TYPE!=Float32Array&&(e[1]=0,e[2]=0),e[0]=1,e[3]=1,e}function a(e){var t=new i.ARRAY_TYPE(4);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t}function o(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e}function s(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=1,e}function l(e,t,r,n){var a=new i.ARRAY_TYPE(4);return a[0]=e,a[1]=t,a[2]=r,a[3]=n,a}function u(e,t,r,i,n){return e[0]=t,e[1]=r,e[2]=i,e[3]=n,e}function c(e,t){if(e===t){var r=t[1];e[1]=t[2],e[2]=r}else e[0]=t[0],e[1]=t[2],e[2]=t[1],e[3]=t[3];return e}function f(e,t){var r=t[0],i=t[1],n=t[2],a=t[3],o=r*a-n*i;return o?(o=1/o,e[0]=a*o,e[1]=-i*o,e[2]=-n*o,e[3]=r*o,e):null}function d(e,t){var r=t[0];return e[0]=t[3],e[1]=-t[1],e[2]=-t[2],e[3]=r,e}function h(e){return e[0]*e[3]-e[2]*e[1]}function m(e,t,r){var i=t[0],n=t[1],a=t[2],o=t[3],s=r[0],l=r[1],u=r[2],c=r[3];return e[0]=i*s+a*l,e[1]=n*s+o*l,e[2]=i*u+a*c,e[3]=n*u+o*c,e}function b(e,t,r){var i=t[0],n=t[1],a=t[2],o=t[3],s=Math.sin(r),l=Math.cos(r);return e[0]=i*l+a*s,e[1]=n*l+o*s,e[2]=i*-s+a*l,e[3]=n*-s+o*l,e}function p(e,t,r){var i=t[0],n=t[1],a=t[2],o=t[3],s=r[0],l=r[1];return e[0]=i*s,e[1]=n*s,e[2]=a*l,e[3]=o*l,e}function v(e,t){var r=Math.sin(t),i=Math.cos(t);return e[0]=i,e[1]=r,e[2]=-r,e[3]=i,e}function g(e,t){return e[0]=t[0],e[1]=0,e[2]=0,e[3]=t[1],e}function y(e){return"mat2("+e[0]+", "+e[1]+", "+e[2]+", "+e[3]+")"}function w(e){return Math.sqrt(Math.pow(e[0],2)+Math.pow(e[1],2)+Math.pow(e[2],2)+Math.pow(e[3],2))}function E(e,t,r,i){return e[2]=i[2]/i[0],r[0]=i[0],r[1]=i[1],r[3]=i[3]-e[2]*r[1],[e,t,r]}function T(e,t,r){return e[0]=t[0]+r[0],e[1]=t[1]+r[1],e[2]=t[2]+r[2],e[3]=t[3]+r[3],e}function S(e,t,r){return e[0]=t[0]-r[0],e[1]=t[1]-r[1],e[2]=t[2]-r[2],e[3]=t[3]-r[3],e}function _(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===t[3]}function j(e,t){var r=e[0],n=e[1],a=e[2],o=e[3],s=t[0],l=t[1],u=t[2],c=t[3];return Math.abs(r-s)<=i.EPSILON*Math.max(1,Math.abs(r),Math.abs(s))&&Math.abs(n-l)<=i.EPSILON*Math.max(1,Math.abs(n),Math.abs(l))&&Math.abs(a-u)<=i.EPSILON*Math.max(1,Math.abs(a),Math.abs(u))&&Math.abs(o-c)<=i.EPSILON*Math.max(1,Math.abs(o),Math.abs(c))}function R(e,t,r){return e[0]=t[0]*r,e[1]=t[1]*r,e[2]=t[2]*r,e[3]=t[3]*r,e}function z(e,t,r,i){return e[0]=t[0]+r[0]*i,e[1]=t[1]+r[1]*i,e[2]=t[2]+r[2]*i,e[3]=t[3]+r[3]*i,e}var O=m,P=S},"../node_modules/gl-matrix/lib/gl-matrix/mat2d.js":function(e,t,r){"use strict";r.r(t),r.d(t,"create",(function(){return n})),r.d(t,"clone",(function(){return a})),r.d(t,"copy",(function(){return o})),r.d(t,"identity",(function(){return s})),r.d(t,"fromValues",(function(){return l})),r.d(t,"set",(function(){return u})),r.d(t,"invert",(function(){return c})),r.d(t,"determinant",(function(){return f})),r.d(t,"multiply",(function(){return d})),r.d(t,"rotate",(function(){return h})),r.d(t,"scale",(function(){return m})),r.d(t,"translate",(function(){return b})),r.d(t,"fromRotation",(function(){return p})),r.d(t,"fromScaling",(function(){return v})),r.d(t,"fromTranslation",(function(){return g})),r.d(t,"str",(function(){return y})),r.d(t,"frob",(function(){return w})),r.d(t,"add",(function(){return E})),r.d(t,"subtract",(function(){return T})),r.d(t,"multiplyScalar",(function(){return S})),r.d(t,"multiplyScalarAndAdd",(function(){return _})),r.d(t,"exactEquals",(function(){return j})),r.d(t,"equals",(function(){return R})),r.d(t,"mul",(function(){return z})),r.d(t,"sub",(function(){return O}));var i=r("../node_modules/gl-matrix/lib/gl-matrix/common.js");function n(){var e=new i.ARRAY_TYPE(6);return i.ARRAY_TYPE!=Float32Array&&(e[1]=0,e[2]=0,e[4]=0,e[5]=0),e[0]=1,e[3]=1,e}function a(e){var t=new i.ARRAY_TYPE(6);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t}function o(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e}function s(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=1,e[4]=0,e[5]=0,e}function l(e,t,r,n,a,o){var s=new i.ARRAY_TYPE(6);return s[0]=e,s[1]=t,s[2]=r,s[3]=n,s[4]=a,s[5]=o,s}function u(e,t,r,i,n,a,o){return e[0]=t,e[1]=r,e[2]=i,e[3]=n,e[4]=a,e[5]=o,e}function c(e,t){var r=t[0],i=t[1],n=t[2],a=t[3],o=t[4],s=t[5],l=r*a-i*n;return l?(l=1/l,e[0]=a*l,e[1]=-i*l,e[2]=-n*l,e[3]=r*l,e[4]=(n*s-a*o)*l,e[5]=(i*o-r*s)*l,e):null}function f(e){return e[0]*e[3]-e[1]*e[2]}function d(e,t,r){var i=t[0],n=t[1],a=t[2],o=t[3],s=t[4],l=t[5],u=r[0],c=r[1],f=r[2],d=r[3],h=r[4],m=r[5];return e[0]=i*u+a*c,e[1]=n*u+o*c,e[2]=i*f+a*d,e[3]=n*f+o*d,e[4]=i*h+a*m+s,e[5]=n*h+o*m+l,e}function h(e,t,r){var i=t[0],n=t[1],a=t[2],o=t[3],s=t[4],l=t[5],u=Math.sin(r),c=Math.cos(r);return e[0]=i*c+a*u,e[1]=n*c+o*u,e[2]=i*-u+a*c,e[3]=n*-u+o*c,e[4]=s,e[5]=l,e}function m(e,t,r){var i=t[0],n=t[1],a=t[2],o=t[3],s=t[4],l=t[5],u=r[0],c=r[1];return e[0]=i*u,e[1]=n*u,e[2]=a*c,e[3]=o*c,e[4]=s,e[5]=l,e}function b(e,t,r){var i=t[0],n=t[1],a=t[2],o=t[3],s=t[4],l=t[5],u=r[0],c=r[1];return e[0]=i,e[1]=n,e[2]=a,e[3]=o,e[4]=i*u+a*c+s,e[5]=n*u+o*c+l,e}function p(e,t){var r=Math.sin(t),i=Math.cos(t);return e[0]=i,e[1]=r,e[2]=-r,e[3]=i,e[4]=0,e[5]=0,e}function v(e,t){return e[0]=t[0],e[1]=0,e[2]=0,e[3]=t[1],e[4]=0,e[5]=0,e}function g(e,t){return e[0]=1,e[1]=0,e[2]=0,e[3]=1,e[4]=t[0],e[5]=t[1],e}function y(e){return"mat2d("+e[0]+", "+e[1]+", "+e[2]+", "+e[3]+", "+e[4]+", "+e[5]+")"}function w(e){return Math.sqrt(Math.pow(e[0],2)+Math.pow(e[1],2)+Math.pow(e[2],2)+Math.pow(e[3],2)+Math.pow(e[4],2)+Math.pow(e[5],2)+1)}function E(e,t,r){return e[0]=t[0]+r[0],e[1]=t[1]+r[1],e[2]=t[2]+r[2],e[3]=t[3]+r[3],e[4]=t[4]+r[4],e[5]=t[5]+r[5],e}function T(e,t,r){return e[0]=t[0]-r[0],e[1]=t[1]-r[1],e[2]=t[2]-r[2],e[3]=t[3]-r[3],e[4]=t[4]-r[4],e[5]=t[5]-r[5],e}function S(e,t,r){return e[0]=t[0]*r,e[1]=t[1]*r,e[2]=t[2]*r,e[3]=t[3]*r,e[4]=t[4]*r,e[5]=t[5]*r,e}function _(e,t,r,i){return e[0]=t[0]+r[0]*i,e[1]=t[1]+r[1]*i,e[2]=t[2]+r[2]*i,e[3]=t[3]+r[3]*i,e[4]=t[4]+r[4]*i,e[5]=t[5]+r[5]*i,e}function j(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===t[3]&&e[4]===t[4]&&e[5]===t[5]}function R(e,t){var r=e[0],n=e[1],a=e[2],o=e[3],s=e[4],l=e[5],u=t[0],c=t[1],f=t[2],d=t[3],h=t[4],m=t[5];return Math.abs(r-u)<=i.EPSILON*Math.max(1,Math.abs(r),Math.abs(u))&&Math.abs(n-c)<=i.EPSILON*Math.max(1,Math.abs(n),Math.abs(c))&&Math.abs(a-f)<=i.EPSILON*Math.max(1,Math.abs(a),Math.abs(f))&&Math.abs(o-d)<=i.EPSILON*Math.max(1,Math.abs(o),Math.abs(d))&&Math.abs(s-h)<=i.EPSILON*Math.max(1,Math.abs(s),Math.abs(h))&&Math.abs(l-m)<=i.EPSILON*Math.max(1,Math.abs(l),Math.abs(m))}var z=d,O=T},"../node_modules/gl-matrix/lib/gl-matrix/mat3.js":function(e,t,r){"use strict";r.r(t),r.d(t,"create",(function(){return n})),r.d(t,"fromMat4",(function(){return a})),r.d(t,"clone",(function(){return o})),r.d(t,"copy",(function(){return s})),r.d(t,"fromValues",(function(){return l})),r.d(t,"set",(function(){return u})),r.d(t,"identity",(function(){return c})),r.d(t,"transpose",(function(){return f})),r.d(t,"invert",(function(){return d})),r.d(t,"adjoint",(function(){return h})),r.d(t,"determinant",(function(){return m})),r.d(t,"multiply",(function(){return b})),r.d(t,"translate",(function(){return p})),r.d(t,"rotate",(function(){return v})),r.d(t,"scale",(function(){return g})),r.d(t,"fromTranslation",(function(){return y})),r.d(t,"fromRotation",(function(){return w})),r.d(t,"fromScaling",(function(){return E})),r.d(t,"fromMat2d",(function(){return T})),r.d(t,"fromQuat",(function(){return S})),r.d(t,"normalFromMat4",(function(){return _})),r.d(t,"projection",(function(){return j})),r.d(t,"str",(function(){return R})),r.d(t,"frob",(function(){return z})),r.d(t,"add",(function(){return O})),r.d(t,"subtract",(function(){return P})),r.d(t,"multiplyScalar",(function(){return A})),r.d(t,"multiplyScalarAndAdd",(function(){return x})),r.d(t,"exactEquals",(function(){return M})),r.d(t,"equals",(function(){return C})),r.d(t,"mul",(function(){return D})),r.d(t,"sub",(function(){return I}));var i=r("../node_modules/gl-matrix/lib/gl-matrix/common.js");function n(){var e=new i.ARRAY_TYPE(9);return i.ARRAY_TYPE!=Float32Array&&(e[1]=0,e[2]=0,e[3]=0,e[5]=0,e[6]=0,e[7]=0),e[0]=1,e[4]=1,e[8]=1,e}function a(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[4],e[4]=t[5],e[5]=t[6],e[6]=t[8],e[7]=t[9],e[8]=t[10],e}function o(e){var t=new i.ARRAY_TYPE(9);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t}function s(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e}function l(e,t,r,n,a,o,s,l,u){var c=new i.ARRAY_TYPE(9);return c[0]=e,c[1]=t,c[2]=r,c[3]=n,c[4]=a,c[5]=o,c[6]=s,c[7]=l,c[8]=u,c}function u(e,t,r,i,n,a,o,s,l,u){return e[0]=t,e[1]=r,e[2]=i,e[3]=n,e[4]=a,e[5]=o,e[6]=s,e[7]=l,e[8]=u,e}function c(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=1,e[5]=0,e[6]=0,e[7]=0,e[8]=1,e}function f(e,t){if(e===t){var r=t[1],i=t[2],n=t[5];e[1]=t[3],e[2]=t[6],e[3]=r,e[5]=t[7],e[6]=i,e[7]=n}else e[0]=t[0],e[1]=t[3],e[2]=t[6],e[3]=t[1],e[4]=t[4],e[5]=t[7],e[6]=t[2],e[7]=t[5],e[8]=t[8];return e}function d(e,t){var r=t[0],i=t[1],n=t[2],a=t[3],o=t[4],s=t[5],l=t[6],u=t[7],c=t[8],f=c*o-s*u,d=-c*a+s*l,h=u*a-o*l,m=r*f+i*d+n*h;return m?(m=1/m,e[0]=f*m,e[1]=(-c*i+n*u)*m,e[2]=(s*i-n*o)*m,e[3]=d*m,e[4]=(c*r-n*l)*m,e[5]=(-s*r+n*a)*m,e[6]=h*m,e[7]=(-u*r+i*l)*m,e[8]=(o*r-i*a)*m,e):null}function h(e,t){var r=t[0],i=t[1],n=t[2],a=t[3],o=t[4],s=t[5],l=t[6],u=t[7],c=t[8];return e[0]=o*c-s*u,e[1]=n*u-i*c,e[2]=i*s-n*o,e[3]=s*l-a*c,e[4]=r*c-n*l,e[5]=n*a-r*s,e[6]=a*u-o*l,e[7]=i*l-r*u,e[8]=r*o-i*a,e}function m(e){var t=e[0],r=e[1],i=e[2],n=e[3],a=e[4],o=e[5],s=e[6],l=e[7],u=e[8];return t*(u*a-o*l)+r*(-u*n+o*s)+i*(l*n-a*s)}function b(e,t,r){var i=t[0],n=t[1],a=t[2],o=t[3],s=t[4],l=t[5],u=t[6],c=t[7],f=t[8],d=r[0],h=r[1],m=r[2],b=r[3],p=r[4],v=r[5],g=r[6],y=r[7],w=r[8];return e[0]=d*i+h*o+m*u,e[1]=d*n+h*s+m*c,e[2]=d*a+h*l+m*f,e[3]=b*i+p*o+v*u,e[4]=b*n+p*s+v*c,e[5]=b*a+p*l+v*f,e[6]=g*i+y*o+w*u,e[7]=g*n+y*s+w*c,e[8]=g*a+y*l+w*f,e}function p(e,t,r){var i=t[0],n=t[1],a=t[2],o=t[3],s=t[4],l=t[5],u=t[6],c=t[7],f=t[8],d=r[0],h=r[1];return e[0]=i,e[1]=n,e[2]=a,e[3]=o,e[4]=s,e[5]=l,e[6]=d*i+h*o+u,e[7]=d*n+h*s+c,e[8]=d*a+h*l+f,e}function v(e,t,r){var i=t[0],n=t[1],a=t[2],o=t[3],s=t[4],l=t[5],u=t[6],c=t[7],f=t[8],d=Math.sin(r),h=Math.cos(r);return e[0]=h*i+d*o,e[1]=h*n+d*s,e[2]=h*a+d*l,e[3]=h*o-d*i,e[4]=h*s-d*n,e[5]=h*l-d*a,e[6]=u,e[7]=c,e[8]=f,e}function g(e,t,r){var i=r[0],n=r[1];return e[0]=i*t[0],e[1]=i*t[1],e[2]=i*t[2],e[3]=n*t[3],e[4]=n*t[4],e[5]=n*t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e}function y(e,t){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=1,e[5]=0,e[6]=t[0],e[7]=t[1],e[8]=1,e}function w(e,t){var r=Math.sin(t),i=Math.cos(t);return e[0]=i,e[1]=r,e[2]=0,e[3]=-r,e[4]=i,e[5]=0,e[6]=0,e[7]=0,e[8]=1,e}function E(e,t){return e[0]=t[0],e[1]=0,e[2]=0,e[3]=0,e[4]=t[1],e[5]=0,e[6]=0,e[7]=0,e[8]=1,e}function T(e,t){return e[0]=t[0],e[1]=t[1],e[2]=0,e[3]=t[2],e[4]=t[3],e[5]=0,e[6]=t[4],e[7]=t[5],e[8]=1,e}function S(e,t){var r=t[0],i=t[1],n=t[2],a=t[3],o=r+r,s=i+i,l=n+n,u=r*o,c=i*o,f=i*s,d=n*o,h=n*s,m=n*l,b=a*o,p=a*s,v=a*l;return e[0]=1-f-m,e[3]=c-v,e[6]=d+p,e[1]=c+v,e[4]=1-u-m,e[7]=h-b,e[2]=d-p,e[5]=h+b,e[8]=1-u-f,e}function _(e,t){var r=t[0],i=t[1],n=t[2],a=t[3],o=t[4],s=t[5],l=t[6],u=t[7],c=t[8],f=t[9],d=t[10],h=t[11],m=t[12],b=t[13],p=t[14],v=t[15],g=r*s-i*o,y=r*l-n*o,w=r*u-a*o,E=i*l-n*s,T=i*u-a*s,S=n*u-a*l,_=c*b-f*m,j=c*p-d*m,R=c*v-h*m,z=f*p-d*b,O=f*v-h*b,P=d*v-h*p,A=g*P-y*O+w*z+E*R-T*j+S*_;return A?(A=1/A,e[0]=(s*P-l*O+u*z)*A,e[1]=(l*R-o*P-u*j)*A,e[2]=(o*O-s*R+u*_)*A,e[3]=(n*O-i*P-a*z)*A,e[4]=(r*P-n*R+a*j)*A,e[5]=(i*R-r*O-a*_)*A,e[6]=(b*S-p*T+v*E)*A,e[7]=(p*w-m*S-v*y)*A,e[8]=(m*T-b*w+v*g)*A,e):null}function j(e,t,r){return e[0]=2/t,e[1]=0,e[2]=0,e[3]=0,e[4]=-2/r,e[5]=0,e[6]=-1,e[7]=1,e[8]=1,e}function R(e){return"mat3("+e[0]+", "+e[1]+", "+e[2]+", "+e[3]+", "+e[4]+", "+e[5]+", "+e[6]+", "+e[7]+", "+e[8]+")"}function z(e){return Math.sqrt(Math.pow(e[0],2)+Math.pow(e[1],2)+Math.pow(e[2],2)+Math.pow(e[3],2)+Math.pow(e[4],2)+Math.pow(e[5],2)+Math.pow(e[6],2)+Math.pow(e[7],2)+Math.pow(e[8],2))}function O(e,t,r){return e[0]=t[0]+r[0],e[1]=t[1]+r[1],e[2]=t[2]+r[2],e[3]=t[3]+r[3],e[4]=t[4]+r[4],e[5]=t[5]+r[5],e[6]=t[6]+r[6],e[7]=t[7]+r[7],e[8]=t[8]+r[8],e}function P(e,t,r){return e[0]=t[0]-r[0],e[1]=t[1]-r[1],e[2]=t[2]-r[2],e[3]=t[3]-r[3],e[4]=t[4]-r[4],e[5]=t[5]-r[5],e[6]=t[6]-r[6],e[7]=t[7]-r[7],e[8]=t[8]-r[8],e}function A(e,t,r){return e[0]=t[0]*r,e[1]=t[1]*r,e[2]=t[2]*r,e[3]=t[3]*r,e[4]=t[4]*r,e[5]=t[5]*r,e[6]=t[6]*r,e[7]=t[7]*r,e[8]=t[8]*r,e}function x(e,t,r,i){return e[0]=t[0]+r[0]*i,e[1]=t[1]+r[1]*i,e[2]=t[2]+r[2]*i,e[3]=t[3]+r[3]*i,e[4]=t[4]+r[4]*i,e[5]=t[5]+r[5]*i,e[6]=t[6]+r[6]*i,e[7]=t[7]+r[7]*i,e[8]=t[8]+r[8]*i,e}function M(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===t[3]&&e[4]===t[4]&&e[5]===t[5]&&e[6]===t[6]&&e[7]===t[7]&&e[8]===t[8]}function C(e,t){var r=e[0],n=e[1],a=e[2],o=e[3],s=e[4],l=e[5],u=e[6],c=e[7],f=e[8],d=t[0],h=t[1],m=t[2],b=t[3],p=t[4],v=t[5],g=t[6],y=t[7],w=t[8];return Math.abs(r-d)<=i.EPSILON*Math.max(1,Math.abs(r),Math.abs(d))&&Math.abs(n-h)<=i.EPSILON*Math.max(1,Math.abs(n),Math.abs(h))&&Math.abs(a-m)<=i.EPSILON*Math.max(1,Math.abs(a),Math.abs(m))&&Math.abs(o-b)<=i.EPSILON*Math.max(1,Math.abs(o),Math.abs(b))&&Math.abs(s-p)<=i.EPSILON*Math.max(1,Math.abs(s),Math.abs(p))&&Math.abs(l-v)<=i.EPSILON*Math.max(1,Math.abs(l),Math.abs(v))&&Math.abs(u-g)<=i.EPSILON*Math.max(1,Math.abs(u),Math.abs(g))&&Math.abs(c-y)<=i.EPSILON*Math.max(1,Math.abs(c),Math.abs(y))&&Math.abs(f-w)<=i.EPSILON*Math.max(1,Math.abs(f),Math.abs(w))}var D=b,I=P},"../node_modules/gl-matrix/lib/gl-matrix/mat4.js":function(e,t,r){"use strict";r.r(t),r.d(t,"create",(function(){return n})),r.d(t,"clone",(function(){return a})),r.d(t,"copy",(function(){return o})),r.d(t,"fromValues",(function(){return s})),r.d(t,"set",(function(){return l})),r.d(t,"identity",(function(){return u})),r.d(t,"transpose",(function(){return c})),r.d(t,"invert",(function(){return f})),r.d(t,"adjoint",(function(){return d})),r.d(t,"determinant",(function(){return h})),r.d(t,"multiply",(function(){return m})),r.d(t,"translate",(function(){return b})),r.d(t,"scale",(function(){return p})),r.d(t,"rotate",(function(){return v})),r.d(t,"rotateX",(function(){return g})),r.d(t,"rotateY",(function(){return y})),r.d(t,"rotateZ",(function(){return w})),r.d(t,"fromTranslation",(function(){return E})),r.d(t,"fromScaling",(function(){return T})),r.d(t,"fromRotation",(function(){return S})),r.d(t,"fromXRotation",(function(){return _})),r.d(t,"fromYRotation",(function(){return j})),r.d(t,"fromZRotation",(function(){return R})),r.d(t,"fromRotationTranslation",(function(){return z})),r.d(t,"fromQuat2",(function(){return O})),r.d(t,"getTranslation",(function(){return P})),r.d(t,"getScaling",(function(){return A})),r.d(t,"getRotation",(function(){return x})),r.d(t,"fromRotationTranslationScale",(function(){return M})),r.d(t,"fromRotationTranslationScaleOrigin",(function(){return C})),r.d(t,"fromQuat",(function(){return D})),r.d(t,"frustum",(function(){return I})),r.d(t,"perspective",(function(){return L})),r.d(t,"perspectiveFromFieldOfView",(function(){return F})),r.d(t,"ortho",(function(){return G})),r.d(t,"lookAt",(function(){return B})),r.d(t,"targetTo",(function(){return N})),r.d(t,"str",(function(){return U})),r.d(t,"frob",(function(){return k})),r.d(t,"add",(function(){return V})),r.d(t,"subtract",(function(){return H})),r.d(t,"multiplyScalar",(function(){return q})),r.d(t,"multiplyScalarAndAdd",(function(){return W})),r.d(t,"exactEquals",(function(){return Y})),r.d(t,"equals",(function(){return X})),r.d(t,"mul",(function(){return K})),r.d(t,"sub",(function(){return Q}));var i=r("../node_modules/gl-matrix/lib/gl-matrix/common.js");function n(){var e=new i.ARRAY_TYPE(16);return i.ARRAY_TYPE!=Float32Array&&(e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[11]=0,e[12]=0,e[13]=0,e[14]=0),e[0]=1,e[5]=1,e[10]=1,e[15]=1,e}function a(e){var t=new i.ARRAY_TYPE(16);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t}function o(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e}function s(e,t,r,n,a,o,s,l,u,c,f,d,h,m,b,p){var v=new i.ARRAY_TYPE(16);return v[0]=e,v[1]=t,v[2]=r,v[3]=n,v[4]=a,v[5]=o,v[6]=s,v[7]=l,v[8]=u,v[9]=c,v[10]=f,v[11]=d,v[12]=h,v[13]=m,v[14]=b,v[15]=p,v}function l(e,t,r,i,n,a,o,s,l,u,c,f,d,h,m,b,p){return e[0]=t,e[1]=r,e[2]=i,e[3]=n,e[4]=a,e[5]=o,e[6]=s,e[7]=l,e[8]=u,e[9]=c,e[10]=f,e[11]=d,e[12]=h,e[13]=m,e[14]=b,e[15]=p,e}function u(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function c(e,t){if(e===t){var r=t[1],i=t[2],n=t[3],a=t[6],o=t[7],s=t[11];e[1]=t[4],e[2]=t[8],e[3]=t[12],e[4]=r,e[6]=t[9],e[7]=t[13],e[8]=i,e[9]=a,e[11]=t[14],e[12]=n,e[13]=o,e[14]=s}else e[0]=t[0],e[1]=t[4],e[2]=t[8],e[3]=t[12],e[4]=t[1],e[5]=t[5],e[6]=t[9],e[7]=t[13],e[8]=t[2],e[9]=t[6],e[10]=t[10],e[11]=t[14],e[12]=t[3],e[13]=t[7],e[14]=t[11],e[15]=t[15];return e}function f(e,t){var r=t[0],i=t[1],n=t[2],a=t[3],o=t[4],s=t[5],l=t[6],u=t[7],c=t[8],f=t[9],d=t[10],h=t[11],m=t[12],b=t[13],p=t[14],v=t[15],g=r*s-i*o,y=r*l-n*o,w=r*u-a*o,E=i*l-n*s,T=i*u-a*s,S=n*u-a*l,_=c*b-f*m,j=c*p-d*m,R=c*v-h*m,z=f*p-d*b,O=f*v-h*b,P=d*v-h*p,A=g*P-y*O+w*z+E*R-T*j+S*_;return A?(A=1/A,e[0]=(s*P-l*O+u*z)*A,e[1]=(n*O-i*P-a*z)*A,e[2]=(b*S-p*T+v*E)*A,e[3]=(d*T-f*S-h*E)*A,e[4]=(l*R-o*P-u*j)*A,e[5]=(r*P-n*R+a*j)*A,e[6]=(p*w-m*S-v*y)*A,e[7]=(c*S-d*w+h*y)*A,e[8]=(o*O-s*R+u*_)*A,e[9]=(i*R-r*O-a*_)*A,e[10]=(m*T-b*w+v*g)*A,e[11]=(f*w-c*T-h*g)*A,e[12]=(s*j-o*z-l*_)*A,e[13]=(r*z-i*j+n*_)*A,e[14]=(b*y-m*E-p*g)*A,e[15]=(c*E-f*y+d*g)*A,e):null}function d(e,t){var r=t[0],i=t[1],n=t[2],a=t[3],o=t[4],s=t[5],l=t[6],u=t[7],c=t[8],f=t[9],d=t[10],h=t[11],m=t[12],b=t[13],p=t[14],v=t[15];return e[0]=s*(d*v-h*p)-f*(l*v-u*p)+b*(l*h-u*d),e[1]=-(i*(d*v-h*p)-f*(n*v-a*p)+b*(n*h-a*d)),e[2]=i*(l*v-u*p)-s*(n*v-a*p)+b*(n*u-a*l),e[3]=-(i*(l*h-u*d)-s*(n*h-a*d)+f*(n*u-a*l)),e[4]=-(o*(d*v-h*p)-c*(l*v-u*p)+m*(l*h-u*d)),e[5]=r*(d*v-h*p)-c*(n*v-a*p)+m*(n*h-a*d),e[6]=-(r*(l*v-u*p)-o*(n*v-a*p)+m*(n*u-a*l)),e[7]=r*(l*h-u*d)-o*(n*h-a*d)+c*(n*u-a*l),e[8]=o*(f*v-h*b)-c*(s*v-u*b)+m*(s*h-u*f),e[9]=-(r*(f*v-h*b)-c*(i*v-a*b)+m*(i*h-a*f)),e[10]=r*(s*v-u*b)-o*(i*v-a*b)+m*(i*u-a*s),e[11]=-(r*(s*h-u*f)-o*(i*h-a*f)+c*(i*u-a*s)),e[12]=-(o*(f*p-d*b)-c*(s*p-l*b)+m*(s*d-l*f)),e[13]=r*(f*p-d*b)-c*(i*p-n*b)+m*(i*d-n*f),e[14]=-(r*(s*p-l*b)-o*(i*p-n*b)+m*(i*l-n*s)),e[15]=r*(s*d-l*f)-o*(i*d-n*f)+c*(i*l-n*s),e}function h(e){var t=e[0],r=e[1],i=e[2],n=e[3],a=e[4],o=e[5],s=e[6],l=e[7],u=e[8],c=e[9],f=e[10],d=e[11],h=e[12],m=e[13],b=e[14],p=e[15];return(t*o-r*a)*(f*p-d*b)-(t*s-i*a)*(c*p-d*m)+(t*l-n*a)*(c*b-f*m)+(r*s-i*o)*(u*p-d*h)-(r*l-n*o)*(u*b-f*h)+(i*l-n*s)*(u*m-c*h)}function m(e,t,r){var i=t[0],n=t[1],a=t[2],o=t[3],s=t[4],l=t[5],u=t[6],c=t[7],f=t[8],d=t[9],h=t[10],m=t[11],b=t[12],p=t[13],v=t[14],g=t[15],y=r[0],w=r[1],E=r[2],T=r[3];return e[0]=y*i+w*s+E*f+T*b,e[1]=y*n+w*l+E*d+T*p,e[2]=y*a+w*u+E*h+T*v,e[3]=y*o+w*c+E*m+T*g,y=r[4],w=r[5],E=r[6],T=r[7],e[4]=y*i+w*s+E*f+T*b,e[5]=y*n+w*l+E*d+T*p,e[6]=y*a+w*u+E*h+T*v,e[7]=y*o+w*c+E*m+T*g,y=r[8],w=r[9],E=r[10],T=r[11],e[8]=y*i+w*s+E*f+T*b,e[9]=y*n+w*l+E*d+T*p,e[10]=y*a+w*u+E*h+T*v,e[11]=y*o+w*c+E*m+T*g,y=r[12],w=r[13],E=r[14],T=r[15],e[12]=y*i+w*s+E*f+T*b,e[13]=y*n+w*l+E*d+T*p,e[14]=y*a+w*u+E*h+T*v,e[15]=y*o+w*c+E*m+T*g,e}function b(e,t,r){var i=r[0],n=r[1],a=r[2],o=void 0,s=void 0,l=void 0,u=void 0,c=void 0,f=void 0,d=void 0,h=void 0,m=void 0,b=void 0,p=void 0,v=void 0;return t===e?(e[12]=t[0]*i+t[4]*n+t[8]*a+t[12],e[13]=t[1]*i+t[5]*n+t[9]*a+t[13],e[14]=t[2]*i+t[6]*n+t[10]*a+t[14],e[15]=t[3]*i+t[7]*n+t[11]*a+t[15]):(o=t[0],s=t[1],l=t[2],u=t[3],c=t[4],f=t[5],d=t[6],h=t[7],m=t[8],b=t[9],p=t[10],v=t[11],e[0]=o,e[1]=s,e[2]=l,e[3]=u,e[4]=c,e[5]=f,e[6]=d,e[7]=h,e[8]=m,e[9]=b,e[10]=p,e[11]=v,e[12]=o*i+c*n+m*a+t[12],e[13]=s*i+f*n+b*a+t[13],e[14]=l*i+d*n+p*a+t[14],e[15]=u*i+h*n+v*a+t[15]),e}function p(e,t,r){var i=r[0],n=r[1],a=r[2];return e[0]=t[0]*i,e[1]=t[1]*i,e[2]=t[2]*i,e[3]=t[3]*i,e[4]=t[4]*n,e[5]=t[5]*n,e[6]=t[6]*n,e[7]=t[7]*n,e[8]=t[8]*a,e[9]=t[9]*a,e[10]=t[10]*a,e[11]=t[11]*a,e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e}function v(e,t,r,n){var a,o,s,l,u,c,f,d,h,m,b,p,v,g,y,w,E,T,S,_,j,R,z,O,P=n[0],A=n[1],x=n[2],M=Math.sqrt(P*P+A*A+x*x);return M<i.EPSILON?null:(P*=M=1/M,A*=M,x*=M,a=Math.sin(r),s=1-(o=Math.cos(r)),l=t[0],u=t[1],c=t[2],f=t[3],d=t[4],h=t[5],m=t[6],b=t[7],p=t[8],v=t[9],g=t[10],y=t[11],w=P*P*s+o,E=A*P*s+x*a,T=x*P*s-A*a,S=P*A*s-x*a,_=A*A*s+o,j=x*A*s+P*a,R=P*x*s+A*a,z=A*x*s-P*a,O=x*x*s+o,e[0]=l*w+d*E+p*T,e[1]=u*w+h*E+v*T,e[2]=c*w+m*E+g*T,e[3]=f*w+b*E+y*T,e[4]=l*S+d*_+p*j,e[5]=u*S+h*_+v*j,e[6]=c*S+m*_+g*j,e[7]=f*S+b*_+y*j,e[8]=l*R+d*z+p*O,e[9]=u*R+h*z+v*O,e[10]=c*R+m*z+g*O,e[11]=f*R+b*z+y*O,t!==e&&(e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e)}function g(e,t,r){var i=Math.sin(r),n=Math.cos(r),a=t[4],o=t[5],s=t[6],l=t[7],u=t[8],c=t[9],f=t[10],d=t[11];return t!==e&&(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[4]=a*n+u*i,e[5]=o*n+c*i,e[6]=s*n+f*i,e[7]=l*n+d*i,e[8]=u*n-a*i,e[9]=c*n-o*i,e[10]=f*n-s*i,e[11]=d*n-l*i,e}function y(e,t,r){var i=Math.sin(r),n=Math.cos(r),a=t[0],o=t[1],s=t[2],l=t[3],u=t[8],c=t[9],f=t[10],d=t[11];return t!==e&&(e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[0]=a*n-u*i,e[1]=o*n-c*i,e[2]=s*n-f*i,e[3]=l*n-d*i,e[8]=a*i+u*n,e[9]=o*i+c*n,e[10]=s*i+f*n,e[11]=l*i+d*n,e}function w(e,t,r){var i=Math.sin(r),n=Math.cos(r),a=t[0],o=t[1],s=t[2],l=t[3],u=t[4],c=t[5],f=t[6],d=t[7];return t!==e&&(e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[0]=a*n+u*i,e[1]=o*n+c*i,e[2]=s*n+f*i,e[3]=l*n+d*i,e[4]=u*n-a*i,e[5]=c*n-o*i,e[6]=f*n-s*i,e[7]=d*n-l*i,e}function E(e,t){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=t[0],e[13]=t[1],e[14]=t[2],e[15]=1,e}function T(e,t){return e[0]=t[0],e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=t[1],e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=t[2],e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function S(e,t,r){var n,a,o,s=r[0],l=r[1],u=r[2],c=Math.sqrt(s*s+l*l+u*u);return c<i.EPSILON?null:(s*=c=1/c,l*=c,u*=c,n=Math.sin(t),o=1-(a=Math.cos(t)),e[0]=s*s*o+a,e[1]=l*s*o+u*n,e[2]=u*s*o-l*n,e[3]=0,e[4]=s*l*o-u*n,e[5]=l*l*o+a,e[6]=u*l*o+s*n,e[7]=0,e[8]=s*u*o+l*n,e[9]=l*u*o-s*n,e[10]=u*u*o+a,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e)}function _(e,t){var r=Math.sin(t),i=Math.cos(t);return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=i,e[6]=r,e[7]=0,e[8]=0,e[9]=-r,e[10]=i,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function j(e,t){var r=Math.sin(t),i=Math.cos(t);return e[0]=i,e[1]=0,e[2]=-r,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=r,e[9]=0,e[10]=i,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function R(e,t){var r=Math.sin(t),i=Math.cos(t);return e[0]=i,e[1]=r,e[2]=0,e[3]=0,e[4]=-r,e[5]=i,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function z(e,t,r){var i=t[0],n=t[1],a=t[2],o=t[3],s=i+i,l=n+n,u=a+a,c=i*s,f=i*l,d=i*u,h=n*l,m=n*u,b=a*u,p=o*s,v=o*l,g=o*u;return e[0]=1-(h+b),e[1]=f+g,e[2]=d-v,e[3]=0,e[4]=f-g,e[5]=1-(c+b),e[6]=m+p,e[7]=0,e[8]=d+v,e[9]=m-p,e[10]=1-(c+h),e[11]=0,e[12]=r[0],e[13]=r[1],e[14]=r[2],e[15]=1,e}function O(e,t){var r=new i.ARRAY_TYPE(3),n=-t[0],a=-t[1],o=-t[2],s=t[3],l=t[4],u=t[5],c=t[6],f=t[7],d=n*n+a*a+o*o+s*s;return d>0?(r[0]=2*(l*s+f*n+u*o-c*a)/d,r[1]=2*(u*s+f*a+c*n-l*o)/d,r[2]=2*(c*s+f*o+l*a-u*n)/d):(r[0]=2*(l*s+f*n+u*o-c*a),r[1]=2*(u*s+f*a+c*n-l*o),r[2]=2*(c*s+f*o+l*a-u*n)),z(e,t,r),e}function P(e,t){return e[0]=t[12],e[1]=t[13],e[2]=t[14],e}function A(e,t){var r=t[0],i=t[1],n=t[2],a=t[4],o=t[5],s=t[6],l=t[8],u=t[9],c=t[10];return e[0]=Math.sqrt(r*r+i*i+n*n),e[1]=Math.sqrt(a*a+o*o+s*s),e[2]=Math.sqrt(l*l+u*u+c*c),e}function x(e,t){var r=t[0]+t[5]+t[10],i=0;return r>0?(i=2*Math.sqrt(r+1),e[3]=.25*i,e[0]=(t[6]-t[9])/i,e[1]=(t[8]-t[2])/i,e[2]=(t[1]-t[4])/i):t[0]>t[5]&&t[0]>t[10]?(i=2*Math.sqrt(1+t[0]-t[5]-t[10]),e[3]=(t[6]-t[9])/i,e[0]=.25*i,e[1]=(t[1]+t[4])/i,e[2]=(t[8]+t[2])/i):t[5]>t[10]?(i=2*Math.sqrt(1+t[5]-t[0]-t[10]),e[3]=(t[8]-t[2])/i,e[0]=(t[1]+t[4])/i,e[1]=.25*i,e[2]=(t[6]+t[9])/i):(i=2*Math.sqrt(1+t[10]-t[0]-t[5]),e[3]=(t[1]-t[4])/i,e[0]=(t[8]+t[2])/i,e[1]=(t[6]+t[9])/i,e[2]=.25*i),e}function M(e,t,r,i){var n=t[0],a=t[1],o=t[2],s=t[3],l=n+n,u=a+a,c=o+o,f=n*l,d=n*u,h=n*c,m=a*u,b=a*c,p=o*c,v=s*l,g=s*u,y=s*c,w=i[0],E=i[1],T=i[2];return e[0]=(1-(m+p))*w,e[1]=(d+y)*w,e[2]=(h-g)*w,e[3]=0,e[4]=(d-y)*E,e[5]=(1-(f+p))*E,e[6]=(b+v)*E,e[7]=0,e[8]=(h+g)*T,e[9]=(b-v)*T,e[10]=(1-(f+m))*T,e[11]=0,e[12]=r[0],e[13]=r[1],e[14]=r[2],e[15]=1,e}function C(e,t,r,i,n){var a=t[0],o=t[1],s=t[2],l=t[3],u=a+a,c=o+o,f=s+s,d=a*u,h=a*c,m=a*f,b=o*c,p=o*f,v=s*f,g=l*u,y=l*c,w=l*f,E=i[0],T=i[1],S=i[2],_=n[0],j=n[1],R=n[2],z=(1-(b+v))*E,O=(h+w)*E,P=(m-y)*E,A=(h-w)*T,x=(1-(d+v))*T,M=(p+g)*T,C=(m+y)*S,D=(p-g)*S,I=(1-(d+b))*S;return e[0]=z,e[1]=O,e[2]=P,e[3]=0,e[4]=A,e[5]=x,e[6]=M,e[7]=0,e[8]=C,e[9]=D,e[10]=I,e[11]=0,e[12]=r[0]+_-(z*_+A*j+C*R),e[13]=r[1]+j-(O*_+x*j+D*R),e[14]=r[2]+R-(P*_+M*j+I*R),e[15]=1,e}function D(e,t){var r=t[0],i=t[1],n=t[2],a=t[3],o=r+r,s=i+i,l=n+n,u=r*o,c=i*o,f=i*s,d=n*o,h=n*s,m=n*l,b=a*o,p=a*s,v=a*l;return e[0]=1-f-m,e[1]=c+v,e[2]=d-p,e[3]=0,e[4]=c-v,e[5]=1-u-m,e[6]=h+b,e[7]=0,e[8]=d+p,e[9]=h-b,e[10]=1-u-f,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function I(e,t,r,i,n,a,o){var s=1/(r-t),l=1/(n-i),u=1/(a-o);return e[0]=2*a*s,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=2*a*l,e[6]=0,e[7]=0,e[8]=(r+t)*s,e[9]=(n+i)*l,e[10]=(o+a)*u,e[11]=-1,e[12]=0,e[13]=0,e[14]=o*a*2*u,e[15]=0,e}function L(e,t,r,i,n){var a=1/Math.tan(t/2),o=void 0;return e[0]=a/r,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=a,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[11]=-1,e[12]=0,e[13]=0,e[15]=0,null!=n&&n!==1/0?(o=1/(i-n),e[10]=(n+i)*o,e[14]=2*n*i*o):(e[10]=-1,e[14]=-2*i),e}function F(e,t,r,i){var n=Math.tan(t.upDegrees*Math.PI/180),a=Math.tan(t.downDegrees*Math.PI/180),o=Math.tan(t.leftDegrees*Math.PI/180),s=Math.tan(t.rightDegrees*Math.PI/180),l=2/(o+s),u=2/(n+a);return e[0]=l,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=u,e[6]=0,e[7]=0,e[8]=-(o-s)*l*.5,e[9]=(n-a)*u*.5,e[10]=i/(r-i),e[11]=-1,e[12]=0,e[13]=0,e[14]=i*r/(r-i),e[15]=0,e}function G(e,t,r,i,n,a,o){var s=1/(t-r),l=1/(i-n),u=1/(a-o);return e[0]=-2*s,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=-2*l,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=2*u,e[11]=0,e[12]=(t+r)*s,e[13]=(n+i)*l,e[14]=(o+a)*u,e[15]=1,e}function B(e,t,r,n){var a=void 0,o=void 0,s=void 0,l=void 0,c=void 0,f=void 0,d=void 0,h=void 0,m=void 0,b=void 0,p=t[0],v=t[1],g=t[2],y=n[0],w=n[1],E=n[2],T=r[0],S=r[1],_=r[2];return Math.abs(p-T)<i.EPSILON&&Math.abs(v-S)<i.EPSILON&&Math.abs(g-_)<i.EPSILON?u(e):(d=p-T,h=v-S,m=g-_,a=w*(m*=b=1/Math.sqrt(d*d+h*h+m*m))-E*(h*=b),o=E*(d*=b)-y*m,s=y*h-w*d,(b=Math.sqrt(a*a+o*o+s*s))?(a*=b=1/b,o*=b,s*=b):(a=0,o=0,s=0),l=h*s-m*o,c=m*a-d*s,f=d*o-h*a,(b=Math.sqrt(l*l+c*c+f*f))?(l*=b=1/b,c*=b,f*=b):(l=0,c=0,f=0),e[0]=a,e[1]=l,e[2]=d,e[3]=0,e[4]=o,e[5]=c,e[6]=h,e[7]=0,e[8]=s,e[9]=f,e[10]=m,e[11]=0,e[12]=-(a*p+o*v+s*g),e[13]=-(l*p+c*v+f*g),e[14]=-(d*p+h*v+m*g),e[15]=1,e)}function N(e,t,r,i){var n=t[0],a=t[1],o=t[2],s=i[0],l=i[1],u=i[2],c=n-r[0],f=a-r[1],d=o-r[2],h=c*c+f*f+d*d;h>0&&(c*=h=1/Math.sqrt(h),f*=h,d*=h);var m=l*d-u*f,b=u*c-s*d,p=s*f-l*c;return(h=m*m+b*b+p*p)>0&&(m*=h=1/Math.sqrt(h),b*=h,p*=h),e[0]=m,e[1]=b,e[2]=p,e[3]=0,e[4]=f*p-d*b,e[5]=d*m-c*p,e[6]=c*b-f*m,e[7]=0,e[8]=c,e[9]=f,e[10]=d,e[11]=0,e[12]=n,e[13]=a,e[14]=o,e[15]=1,e}function U(e){return"mat4("+e[0]+", "+e[1]+", "+e[2]+", "+e[3]+", "+e[4]+", "+e[5]+", "+e[6]+", "+e[7]+", "+e[8]+", "+e[9]+", "+e[10]+", "+e[11]+", "+e[12]+", "+e[13]+", "+e[14]+", "+e[15]+")"}function k(e){return Math.sqrt(Math.pow(e[0],2)+Math.pow(e[1],2)+Math.pow(e[2],2)+Math.pow(e[3],2)+Math.pow(e[4],2)+Math.pow(e[5],2)+Math.pow(e[6],2)+Math.pow(e[7],2)+Math.pow(e[8],2)+Math.pow(e[9],2)+Math.pow(e[10],2)+Math.pow(e[11],2)+Math.pow(e[12],2)+Math.pow(e[13],2)+Math.pow(e[14],2)+Math.pow(e[15],2))}function V(e,t,r){return e[0]=t[0]+r[0],e[1]=t[1]+r[1],e[2]=t[2]+r[2],e[3]=t[3]+r[3],e[4]=t[4]+r[4],e[5]=t[5]+r[5],e[6]=t[6]+r[6],e[7]=t[7]+r[7],e[8]=t[8]+r[8],e[9]=t[9]+r[9],e[10]=t[10]+r[10],e[11]=t[11]+r[11],e[12]=t[12]+r[12],e[13]=t[13]+r[13],e[14]=t[14]+r[14],e[15]=t[15]+r[15],e}function H(e,t,r){return e[0]=t[0]-r[0],e[1]=t[1]-r[1],e[2]=t[2]-r[2],e[3]=t[3]-r[3],e[4]=t[4]-r[4],e[5]=t[5]-r[5],e[6]=t[6]-r[6],e[7]=t[7]-r[7],e[8]=t[8]-r[8],e[9]=t[9]-r[9],e[10]=t[10]-r[10],e[11]=t[11]-r[11],e[12]=t[12]-r[12],e[13]=t[13]-r[13],e[14]=t[14]-r[14],e[15]=t[15]-r[15],e}function q(e,t,r){return e[0]=t[0]*r,e[1]=t[1]*r,e[2]=t[2]*r,e[3]=t[3]*r,e[4]=t[4]*r,e[5]=t[5]*r,e[6]=t[6]*r,e[7]=t[7]*r,e[8]=t[8]*r,e[9]=t[9]*r,e[10]=t[10]*r,e[11]=t[11]*r,e[12]=t[12]*r,e[13]=t[13]*r,e[14]=t[14]*r,e[15]=t[15]*r,e}function W(e,t,r,i){return e[0]=t[0]+r[0]*i,e[1]=t[1]+r[1]*i,e[2]=t[2]+r[2]*i,e[3]=t[3]+r[3]*i,e[4]=t[4]+r[4]*i,e[5]=t[5]+r[5]*i,e[6]=t[6]+r[6]*i,e[7]=t[7]+r[7]*i,e[8]=t[8]+r[8]*i,e[9]=t[9]+r[9]*i,e[10]=t[10]+r[10]*i,e[11]=t[11]+r[11]*i,e[12]=t[12]+r[12]*i,e[13]=t[13]+r[13]*i,e[14]=t[14]+r[14]*i,e[15]=t[15]+r[15]*i,e}function Y(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===t[3]&&e[4]===t[4]&&e[5]===t[5]&&e[6]===t[6]&&e[7]===t[7]&&e[8]===t[8]&&e[9]===t[9]&&e[10]===t[10]&&e[11]===t[11]&&e[12]===t[12]&&e[13]===t[13]&&e[14]===t[14]&&e[15]===t[15]}function X(e,t){var r=e[0],n=e[1],a=e[2],o=e[3],s=e[4],l=e[5],u=e[6],c=e[7],f=e[8],d=e[9],h=e[10],m=e[11],b=e[12],p=e[13],v=e[14],g=e[15],y=t[0],w=t[1],E=t[2],T=t[3],S=t[4],_=t[5],j=t[6],R=t[7],z=t[8],O=t[9],P=t[10],A=t[11],x=t[12],M=t[13],C=t[14],D=t[15];return Math.abs(r-y)<=i.EPSILON*Math.max(1,Math.abs(r),Math.abs(y))&&Math.abs(n-w)<=i.EPSILON*Math.max(1,Math.abs(n),Math.abs(w))&&Math.abs(a-E)<=i.EPSILON*Math.max(1,Math.abs(a),Math.abs(E))&&Math.abs(o-T)<=i.EPSILON*Math.max(1,Math.abs(o),Math.abs(T))&&Math.abs(s-S)<=i.EPSILON*Math.max(1,Math.abs(s),Math.abs(S))&&Math.abs(l-_)<=i.EPSILON*Math.max(1,Math.abs(l),Math.abs(_))&&Math.abs(u-j)<=i.EPSILON*Math.max(1,Math.abs(u),Math.abs(j))&&Math.abs(c-R)<=i.EPSILON*Math.max(1,Math.abs(c),Math.abs(R))&&Math.abs(f-z)<=i.EPSILON*Math.max(1,Math.abs(f),Math.abs(z))&&Math.abs(d-O)<=i.EPSILON*Math.max(1,Math.abs(d),Math.abs(O))&&Math.abs(h-P)<=i.EPSILON*Math.max(1,Math.abs(h),Math.abs(P))&&Math.abs(m-A)<=i.EPSILON*Math.max(1,Math.abs(m),Math.abs(A))&&Math.abs(b-x)<=i.EPSILON*Math.max(1,Math.abs(b),Math.abs(x))&&Math.abs(p-M)<=i.EPSILON*Math.max(1,Math.abs(p),Math.abs(M))&&Math.abs(v-C)<=i.EPSILON*Math.max(1,Math.abs(v),Math.abs(C))&&Math.abs(g-D)<=i.EPSILON*Math.max(1,Math.abs(g),Math.abs(D))}var K=m,Q=H},"../node_modules/gl-matrix/lib/gl-matrix/quat.js":function(e,t,r){"use strict";r.r(t),r.d(t,"create",(function(){return s})),r.d(t,"identity",(function(){return l})),r.d(t,"setAxisAngle",(function(){return u})),r.d(t,"getAxisAngle",(function(){return c})),r.d(t,"multiply",(function(){return f})),r.d(t,"rotateX",(function(){return d})),r.d(t,"rotateY",(function(){return h})),r.d(t,"rotateZ",(function(){return m})),r.d(t,"calculateW",(function(){return b})),r.d(t,"slerp",(function(){return p})),r.d(t,"random",(function(){return v})),r.d(t,"invert",(function(){return g})),r.d(t,"conjugate",(function(){return y})),r.d(t,"fromMat3",(function(){return w})),r.d(t,"fromEuler",(function(){return E})),r.d(t,"str",(function(){return T})),r.d(t,"clone",(function(){return P})),r.d(t,"fromValues",(function(){return A})),r.d(t,"copy",(function(){return x})),r.d(t,"set",(function(){return M})),r.d(t,"add",(function(){return C})),r.d(t,"mul",(function(){return D})),r.d(t,"scale",(function(){return I})),r.d(t,"dot",(function(){return L})),r.d(t,"lerp",(function(){return F})),r.d(t,"length",(function(){return G})),r.d(t,"len",(function(){return B})),r.d(t,"squaredLength",(function(){return N})),r.d(t,"sqrLen",(function(){return U})),r.d(t,"normalize",(function(){return k})),r.d(t,"exactEquals",(function(){return V})),r.d(t,"equals",(function(){return H})),r.d(t,"rotationTo",(function(){return q})),r.d(t,"sqlerp",(function(){return W})),r.d(t,"setAxes",(function(){return Y}));var i=r("../node_modules/gl-matrix/lib/gl-matrix/common.js"),n=r("../node_modules/gl-matrix/lib/gl-matrix/mat3.js"),a=r("../node_modules/gl-matrix/lib/gl-matrix/vec3.js"),o=r("../node_modules/gl-matrix/lib/gl-matrix/vec4.js");function s(){var e=new i.ARRAY_TYPE(4);return i.ARRAY_TYPE!=Float32Array&&(e[0]=0,e[1]=0,e[2]=0),e[3]=1,e}function l(e){return e[0]=0,e[1]=0,e[2]=0,e[3]=1,e}function u(e,t,r){r*=.5;var i=Math.sin(r);return e[0]=i*t[0],e[1]=i*t[1],e[2]=i*t[2],e[3]=Math.cos(r),e}function c(e,t){var r=2*Math.acos(t[3]),n=Math.sin(r/2);return n>i.EPSILON?(e[0]=t[0]/n,e[1]=t[1]/n,e[2]=t[2]/n):(e[0]=1,e[1]=0,e[2]=0),r}function f(e,t,r){var i=t[0],n=t[1],a=t[2],o=t[3],s=r[0],l=r[1],u=r[2],c=r[3];return e[0]=i*c+o*s+n*u-a*l,e[1]=n*c+o*l+a*s-i*u,e[2]=a*c+o*u+i*l-n*s,e[3]=o*c-i*s-n*l-a*u,e}function d(e,t,r){r*=.5;var i=t[0],n=t[1],a=t[2],o=t[3],s=Math.sin(r),l=Math.cos(r);return e[0]=i*l+o*s,e[1]=n*l+a*s,e[2]=a*l-n*s,e[3]=o*l-i*s,e}function h(e,t,r){r*=.5;var i=t[0],n=t[1],a=t[2],o=t[3],s=Math.sin(r),l=Math.cos(r);return e[0]=i*l-a*s,e[1]=n*l+o*s,e[2]=a*l+i*s,e[3]=o*l-n*s,e}function m(e,t,r){r*=.5;var i=t[0],n=t[1],a=t[2],o=t[3],s=Math.sin(r),l=Math.cos(r);return e[0]=i*l+n*s,e[1]=n*l-i*s,e[2]=a*l+o*s,e[3]=o*l-a*s,e}function b(e,t){var r=t[0],i=t[1],n=t[2];return e[0]=r,e[1]=i,e[2]=n,e[3]=Math.sqrt(Math.abs(1-r*r-i*i-n*n)),e}function p(e,t,r,n){var a=t[0],o=t[1],s=t[2],l=t[3],u=r[0],c=r[1],f=r[2],d=r[3],h=void 0,m=void 0,b=void 0,p=void 0,v=void 0;return(m=a*u+o*c+s*f+l*d)<0&&(m=-m,u=-u,c=-c,f=-f,d=-d),1-m>i.EPSILON?(h=Math.acos(m),b=Math.sin(h),p=Math.sin((1-n)*h)/b,v=Math.sin(n*h)/b):(p=1-n,v=n),e[0]=p*a+v*u,e[1]=p*o+v*c,e[2]=p*s+v*f,e[3]=p*l+v*d,e}function v(e){var t=i.RANDOM(),r=i.RANDOM(),n=i.RANDOM(),a=Math.sqrt(1-t),o=Math.sqrt(t);return e[0]=a*Math.sin(2*Math.PI*r),e[1]=a*Math.cos(2*Math.PI*r),e[2]=o*Math.sin(2*Math.PI*n),e[3]=o*Math.cos(2*Math.PI*n),e}function g(e,t){var r=t[0],i=t[1],n=t[2],a=t[3],o=r*r+i*i+n*n+a*a,s=o?1/o:0;return e[0]=-r*s,e[1]=-i*s,e[2]=-n*s,e[3]=a*s,e}function y(e,t){return e[0]=-t[0],e[1]=-t[1],e[2]=-t[2],e[3]=t[3],e}function w(e,t){var r=t[0]+t[4]+t[8],i=void 0;if(r>0)i=Math.sqrt(r+1),e[3]=.5*i,i=.5/i,e[0]=(t[5]-t[7])*i,e[1]=(t[6]-t[2])*i,e[2]=(t[1]-t[3])*i;else{var n=0;t[4]>t[0]&&(n=1),t[8]>t[3*n+n]&&(n=2);var a=(n+1)%3,o=(n+2)%3;i=Math.sqrt(t[3*n+n]-t[3*a+a]-t[3*o+o]+1),e[n]=.5*i,i=.5/i,e[3]=(t[3*a+o]-t[3*o+a])*i,e[a]=(t[3*a+n]+t[3*n+a])*i,e[o]=(t[3*o+n]+t[3*n+o])*i}return e}function E(e,t,r,i){var n=.5*Math.PI/180;t*=n,r*=n,i*=n;var a=Math.sin(t),o=Math.cos(t),s=Math.sin(r),l=Math.cos(r),u=Math.sin(i),c=Math.cos(i);return e[0]=a*l*c-o*s*u,e[1]=o*s*c+a*l*u,e[2]=o*l*u-a*s*c,e[3]=o*l*c+a*s*u,e}function T(e){return"quat("+e[0]+", "+e[1]+", "+e[2]+", "+e[3]+")"}var S,_,j,R,z,O,P=o.clone,A=o.fromValues,x=o.copy,M=o.set,C=o.add,D=f,I=o.scale,L=o.dot,F=o.lerp,G=o.length,B=G,N=o.squaredLength,U=N,k=o.normalize,V=o.exactEquals,H=o.equals,q=(S=a.create(),_=a.fromValues(1,0,0),j=a.fromValues(0,1,0),function(e,t,r){var i=a.dot(t,r);return i<-.999999?(a.cross(S,_,t),a.len(S)<1e-6&&a.cross(S,j,t),a.normalize(S,S),u(e,S,Math.PI),e):i>.999999?(e[0]=0,e[1]=0,e[2]=0,e[3]=1,e):(a.cross(S,t,r),e[0]=S[0],e[1]=S[1],e[2]=S[2],e[3]=1+i,k(e,e))}),W=(R=s(),z=s(),function(e,t,r,i,n,a){return p(R,t,n,a),p(z,r,i,a),p(e,R,z,2*a*(1-a)),e}),Y=(O=n.create(),function(e,t,r,i){return O[0]=r[0],O[3]=r[1],O[6]=r[2],O[1]=i[0],O[4]=i[1],O[7]=i[2],O[2]=-t[0],O[5]=-t[1],O[8]=-t[2],k(e,w(e,O))})},"../node_modules/gl-matrix/lib/gl-matrix/quat2.js":function(e,t,r){"use strict";r.r(t),r.d(t,"create",(function(){return o})),r.d(t,"clone",(function(){return s})),r.d(t,"fromValues",(function(){return l})),r.d(t,"fromRotationTranslationValues",(function(){return u})),r.d(t,"fromRotationTranslation",(function(){return c})),r.d(t,"fromTranslation",(function(){return f})),r.d(t,"fromRotation",(function(){return d})),r.d(t,"fromMat4",(function(){return h})),r.d(t,"copy",(function(){return m})),r.d(t,"identity",(function(){return b})),r.d(t,"set",(function(){return p})),r.d(t,"getReal",(function(){return v})),r.d(t,"getDual",(function(){return g})),r.d(t,"setReal",(function(){return y})),r.d(t,"setDual",(function(){return w})),r.d(t,"getTranslation",(function(){return E})),r.d(t,"translate",(function(){return T})),r.d(t,"rotateX",(function(){return S})),r.d(t,"rotateY",(function(){return _})),r.d(t,"rotateZ",(function(){return j})),r.d(t,"rotateByQuatAppend",(function(){return R})),r.d(t,"rotateByQuatPrepend",(function(){return z})),r.d(t,"rotateAroundAxis",(function(){return O})),r.d(t,"add",(function(){return P})),r.d(t,"multiply",(function(){return A})),r.d(t,"mul",(function(){return x})),r.d(t,"scale",(function(){return M})),r.d(t,"dot",(function(){return C})),r.d(t,"lerp",(function(){return D})),r.d(t,"invert",(function(){return I})),r.d(t,"conjugate",(function(){return L})),r.d(t,"length",(function(){return F})),r.d(t,"len",(function(){return G})),r.d(t,"squaredLength",(function(){return B})),r.d(t,"sqrLen",(function(){return N})),r.d(t,"normalize",(function(){return U})),r.d(t,"str",(function(){return k})),r.d(t,"exactEquals",(function(){return V})),r.d(t,"equals",(function(){return H}));var i=r("../node_modules/gl-matrix/lib/gl-matrix/common.js"),n=r("../node_modules/gl-matrix/lib/gl-matrix/quat.js"),a=r("../node_modules/gl-matrix/lib/gl-matrix/mat4.js");function o(){var e=new i.ARRAY_TYPE(8);return i.ARRAY_TYPE!=Float32Array&&(e[0]=0,e[1]=0,e[2]=0,e[4]=0,e[5]=0,e[6]=0,e[7]=0),e[3]=1,e}function s(e){var t=new i.ARRAY_TYPE(8);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t}function l(e,t,r,n,a,o,s,l){var u=new i.ARRAY_TYPE(8);return u[0]=e,u[1]=t,u[2]=r,u[3]=n,u[4]=a,u[5]=o,u[6]=s,u[7]=l,u}function u(e,t,r,n,a,o,s){var l=new i.ARRAY_TYPE(8);l[0]=e,l[1]=t,l[2]=r,l[3]=n;var u=.5*a,c=.5*o,f=.5*s;return l[4]=u*n+c*r-f*t,l[5]=c*n+f*e-u*r,l[6]=f*n+u*t-c*e,l[7]=-u*e-c*t-f*r,l}function c(e,t,r){var i=.5*r[0],n=.5*r[1],a=.5*r[2],o=t[0],s=t[1],l=t[2],u=t[3];return e[0]=o,e[1]=s,e[2]=l,e[3]=u,e[4]=i*u+n*l-a*s,e[5]=n*u+a*o-i*l,e[6]=a*u+i*s-n*o,e[7]=-i*o-n*s-a*l,e}function f(e,t){return e[0]=0,e[1]=0,e[2]=0,e[3]=1,e[4]=.5*t[0],e[5]=.5*t[1],e[6]=.5*t[2],e[7]=0,e}function d(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=0,e[5]=0,e[6]=0,e[7]=0,e}function h(e,t){var r=n.create();a.getRotation(r,t);var o=new i.ARRAY_TYPE(3);return a.getTranslation(o,t),c(e,r,o),e}function m(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e}function b(e){return e[0]=0,e[1]=0,e[2]=0,e[3]=1,e[4]=0,e[5]=0,e[6]=0,e[7]=0,e}function p(e,t,r,i,n,a,o,s,l){return e[0]=t,e[1]=r,e[2]=i,e[3]=n,e[4]=a,e[5]=o,e[6]=s,e[7]=l,e}var v=n.copy;function g(e,t){return e[0]=t[4],e[1]=t[5],e[2]=t[6],e[3]=t[7],e}var y=n.copy;function w(e,t){return e[4]=t[0],e[5]=t[1],e[6]=t[2],e[7]=t[3],e}function E(e,t){var r=t[4],i=t[5],n=t[6],a=t[7],o=-t[0],s=-t[1],l=-t[2],u=t[3];return e[0]=2*(r*u+a*o+i*l-n*s),e[1]=2*(i*u+a*s+n*o-r*l),e[2]=2*(n*u+a*l+r*s-i*o),e}function T(e,t,r){var i=t[0],n=t[1],a=t[2],o=t[3],s=.5*r[0],l=.5*r[1],u=.5*r[2],c=t[4],f=t[5],d=t[6],h=t[7];return e[0]=i,e[1]=n,e[2]=a,e[3]=o,e[4]=o*s+n*u-a*l+c,e[5]=o*l+a*s-i*u+f,e[6]=o*u+i*l-n*s+d,e[7]=-i*s-n*l-a*u+h,e}function S(e,t,r){var i=-t[0],a=-t[1],o=-t[2],s=t[3],l=t[4],u=t[5],c=t[6],f=t[7],d=l*s+f*i+u*o-c*a,h=u*s+f*a+c*i-l*o,m=c*s+f*o+l*a-u*i,b=f*s-l*i-u*a-c*o;return n.rotateX(e,t,r),i=e[0],a=e[1],o=e[2],s=e[3],e[4]=d*s+b*i+h*o-m*a,e[5]=h*s+b*a+m*i-d*o,e[6]=m*s+b*o+d*a-h*i,e[7]=b*s-d*i-h*a-m*o,e}function _(e,t,r){var i=-t[0],a=-t[1],o=-t[2],s=t[3],l=t[4],u=t[5],c=t[6],f=t[7],d=l*s+f*i+u*o-c*a,h=u*s+f*a+c*i-l*o,m=c*s+f*o+l*a-u*i,b=f*s-l*i-u*a-c*o;return n.rotateY(e,t,r),i=e[0],a=e[1],o=e[2],s=e[3],e[4]=d*s+b*i+h*o-m*a,e[5]=h*s+b*a+m*i-d*o,e[6]=m*s+b*o+d*a-h*i,e[7]=b*s-d*i-h*a-m*o,e}function j(e,t,r){var i=-t[0],a=-t[1],o=-t[2],s=t[3],l=t[4],u=t[5],c=t[6],f=t[7],d=l*s+f*i+u*o-c*a,h=u*s+f*a+c*i-l*o,m=c*s+f*o+l*a-u*i,b=f*s-l*i-u*a-c*o;return n.rotateZ(e,t,r),i=e[0],a=e[1],o=e[2],s=e[3],e[4]=d*s+b*i+h*o-m*a,e[5]=h*s+b*a+m*i-d*o,e[6]=m*s+b*o+d*a-h*i,e[7]=b*s-d*i-h*a-m*o,e}function R(e,t,r){var i=r[0],n=r[1],a=r[2],o=r[3],s=t[0],l=t[1],u=t[2],c=t[3];return e[0]=s*o+c*i+l*a-u*n,e[1]=l*o+c*n+u*i-s*a,e[2]=u*o+c*a+s*n-l*i,e[3]=c*o-s*i-l*n-u*a,s=t[4],l=t[5],u=t[6],c=t[7],e[4]=s*o+c*i+l*a-u*n,e[5]=l*o+c*n+u*i-s*a,e[6]=u*o+c*a+s*n-l*i,e[7]=c*o-s*i-l*n-u*a,e}function z(e,t,r){var i=t[0],n=t[1],a=t[2],o=t[3],s=r[0],l=r[1],u=r[2],c=r[3];return e[0]=i*c+o*s+n*u-a*l,e[1]=n*c+o*l+a*s-i*u,e[2]=a*c+o*u+i*l-n*s,e[3]=o*c-i*s-n*l-a*u,s=r[4],l=r[5],u=r[6],c=r[7],e[4]=i*c+o*s+n*u-a*l,e[5]=n*c+o*l+a*s-i*u,e[6]=a*c+o*u+i*l-n*s,e[7]=o*c-i*s-n*l-a*u,e}function O(e,t,r,n){if(Math.abs(n)<i.EPSILON)return m(e,t);var a=Math.sqrt(r[0]*r[0]+r[1]*r[1]+r[2]*r[2]);n*=.5;var o=Math.sin(n),s=o*r[0]/a,l=o*r[1]/a,u=o*r[2]/a,c=Math.cos(n),f=t[0],d=t[1],h=t[2],b=t[3];e[0]=f*c+b*s+d*u-h*l,e[1]=d*c+b*l+h*s-f*u,e[2]=h*c+b*u+f*l-d*s,e[3]=b*c-f*s-d*l-h*u;var p=t[4],v=t[5],g=t[6],y=t[7];return e[4]=p*c+y*s+v*u-g*l,e[5]=v*c+y*l+g*s-p*u,e[6]=g*c+y*u+p*l-v*s,e[7]=y*c-p*s-v*l-g*u,e}function P(e,t,r){return e[0]=t[0]+r[0],e[1]=t[1]+r[1],e[2]=t[2]+r[2],e[3]=t[3]+r[3],e[4]=t[4]+r[4],e[5]=t[5]+r[5],e[6]=t[6]+r[6],e[7]=t[7]+r[7],e}function A(e,t,r){var i=t[0],n=t[1],a=t[2],o=t[3],s=r[4],l=r[5],u=r[6],c=r[7],f=t[4],d=t[5],h=t[6],m=t[7],b=r[0],p=r[1],v=r[2],g=r[3];return e[0]=i*g+o*b+n*v-a*p,e[1]=n*g+o*p+a*b-i*v,e[2]=a*g+o*v+i*p-n*b,e[3]=o*g-i*b-n*p-a*v,e[4]=i*c+o*s+n*u-a*l+f*g+m*b+d*v-h*p,e[5]=n*c+o*l+a*s-i*u+d*g+m*p+h*b-f*v,e[6]=a*c+o*u+i*l-n*s+h*g+m*v+f*p-d*b,e[7]=o*c-i*s-n*l-a*u+m*g-f*b-d*p-h*v,e}var x=A;function M(e,t,r){return e[0]=t[0]*r,e[1]=t[1]*r,e[2]=t[2]*r,e[3]=t[3]*r,e[4]=t[4]*r,e[5]=t[5]*r,e[6]=t[6]*r,e[7]=t[7]*r,e}var C=n.dot;function D(e,t,r,i){var n=1-i;return C(t,r)<0&&(i=-i),e[0]=t[0]*n+r[0]*i,e[1]=t[1]*n+r[1]*i,e[2]=t[2]*n+r[2]*i,e[3]=t[3]*n+r[3]*i,e[4]=t[4]*n+r[4]*i,e[5]=t[5]*n+r[5]*i,e[6]=t[6]*n+r[6]*i,e[7]=t[7]*n+r[7]*i,e}function I(e,t){var r=B(t);return e[0]=-t[0]/r,e[1]=-t[1]/r,e[2]=-t[2]/r,e[3]=t[3]/r,e[4]=-t[4]/r,e[5]=-t[5]/r,e[6]=-t[6]/r,e[7]=t[7]/r,e}function L(e,t){return e[0]=-t[0],e[1]=-t[1],e[2]=-t[2],e[3]=t[3],e[4]=-t[4],e[5]=-t[5],e[6]=-t[6],e[7]=t[7],e}var F=n.length,G=F,B=n.squaredLength,N=B;function U(e,t){var r=B(t);if(r>0){r=Math.sqrt(r);var i=t[0]/r,n=t[1]/r,a=t[2]/r,o=t[3]/r,s=t[4],l=t[5],u=t[6],c=t[7],f=i*s+n*l+a*u+o*c;e[0]=i,e[1]=n,e[2]=a,e[3]=o,e[4]=(s-i*f)/r,e[5]=(l-n*f)/r,e[6]=(u-a*f)/r,e[7]=(c-o*f)/r}return e}function k(e){return"quat2("+e[0]+", "+e[1]+", "+e[2]+", "+e[3]+", "+e[4]+", "+e[5]+", "+e[6]+", "+e[7]+")"}function V(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===t[3]&&e[4]===t[4]&&e[5]===t[5]&&e[6]===t[6]&&e[7]===t[7]}function H(e,t){var r=e[0],n=e[1],a=e[2],o=e[3],s=e[4],l=e[5],u=e[6],c=e[7],f=t[0],d=t[1],h=t[2],m=t[3],b=t[4],p=t[5],v=t[6],g=t[7];return Math.abs(r-f)<=i.EPSILON*Math.max(1,Math.abs(r),Math.abs(f))&&Math.abs(n-d)<=i.EPSILON*Math.max(1,Math.abs(n),Math.abs(d))&&Math.abs(a-h)<=i.EPSILON*Math.max(1,Math.abs(a),Math.abs(h))&&Math.abs(o-m)<=i.EPSILON*Math.max(1,Math.abs(o),Math.abs(m))&&Math.abs(s-b)<=i.EPSILON*Math.max(1,Math.abs(s),Math.abs(b))&&Math.abs(l-p)<=i.EPSILON*Math.max(1,Math.abs(l),Math.abs(p))&&Math.abs(u-v)<=i.EPSILON*Math.max(1,Math.abs(u),Math.abs(v))&&Math.abs(c-g)<=i.EPSILON*Math.max(1,Math.abs(c),Math.abs(g))}},"../node_modules/gl-matrix/lib/gl-matrix/vec2.js":function(e,t,r){"use strict";r.r(t),r.d(t,"create",(function(){return n})),r.d(t,"clone",(function(){return a})),r.d(t,"fromValues",(function(){return o})),r.d(t,"copy",(function(){return s})),r.d(t,"set",(function(){return l})),r.d(t,"add",(function(){return u})),r.d(t,"subtract",(function(){return c})),r.d(t,"multiply",(function(){return f})),r.d(t,"divide",(function(){return d})),r.d(t,"ceil",(function(){return h})),r.d(t,"floor",(function(){return m})),r.d(t,"min",(function(){return b})),r.d(t,"max",(function(){return p})),r.d(t,"round",(function(){return v})),r.d(t,"scale",(function(){return g})),r.d(t,"scaleAndAdd",(function(){return y})),r.d(t,"distance",(function(){return w})),r.d(t,"squaredDistance",(function(){return E})),r.d(t,"length",(function(){return T})),r.d(t,"squaredLength",(function(){return S})),r.d(t,"negate",(function(){return _})),r.d(t,"inverse",(function(){return j})),r.d(t,"normalize",(function(){return R})),r.d(t,"dot",(function(){return z})),r.d(t,"cross",(function(){return O})),r.d(t,"lerp",(function(){return P})),r.d(t,"random",(function(){return A})),r.d(t,"transformMat2",(function(){return x})),r.d(t,"transformMat2d",(function(){return M})),r.d(t,"transformMat3",(function(){return C})),r.d(t,"transformMat4",(function(){return D})),r.d(t,"rotate",(function(){return I})),r.d(t,"angle",(function(){return L})),r.d(t,"str",(function(){return F})),r.d(t,"exactEquals",(function(){return G})),r.d(t,"equals",(function(){return B})),r.d(t,"len",(function(){return U})),r.d(t,"sub",(function(){return k})),r.d(t,"mul",(function(){return V})),r.d(t,"div",(function(){return H})),r.d(t,"dist",(function(){return q})),r.d(t,"sqrDist",(function(){return W})),r.d(t,"sqrLen",(function(){return Y})),r.d(t,"forEach",(function(){return X}));var i=r("../node_modules/gl-matrix/lib/gl-matrix/common.js");function n(){var e=new i.ARRAY_TYPE(2);return i.ARRAY_TYPE!=Float32Array&&(e[0]=0,e[1]=0),e}function a(e){var t=new i.ARRAY_TYPE(2);return t[0]=e[0],t[1]=e[1],t}function o(e,t){var r=new i.ARRAY_TYPE(2);return r[0]=e,r[1]=t,r}function s(e,t){return e[0]=t[0],e[1]=t[1],e}function l(e,t,r){return e[0]=t,e[1]=r,e}function u(e,t,r){return e[0]=t[0]+r[0],e[1]=t[1]+r[1],e}function c(e,t,r){return e[0]=t[0]-r[0],e[1]=t[1]-r[1],e}function f(e,t,r){return e[0]=t[0]*r[0],e[1]=t[1]*r[1],e}function d(e,t,r){return e[0]=t[0]/r[0],e[1]=t[1]/r[1],e}function h(e,t){return e[0]=Math.ceil(t[0]),e[1]=Math.ceil(t[1]),e}function m(e,t){return e[0]=Math.floor(t[0]),e[1]=Math.floor(t[1]),e}function b(e,t,r){return e[0]=Math.min(t[0],r[0]),e[1]=Math.min(t[1],r[1]),e}function p(e,t,r){return e[0]=Math.max(t[0],r[0]),e[1]=Math.max(t[1],r[1]),e}function v(e,t){return e[0]=Math.round(t[0]),e[1]=Math.round(t[1]),e}function g(e,t,r){return e[0]=t[0]*r,e[1]=t[1]*r,e}function y(e,t,r,i){return e[0]=t[0]+r[0]*i,e[1]=t[1]+r[1]*i,e}function w(e,t){var r=t[0]-e[0],i=t[1]-e[1];return Math.sqrt(r*r+i*i)}function E(e,t){var r=t[0]-e[0],i=t[1]-e[1];return r*r+i*i}function T(e){var t=e[0],r=e[1];return Math.sqrt(t*t+r*r)}function S(e){var t=e[0],r=e[1];return t*t+r*r}function _(e,t){return e[0]=-t[0],e[1]=-t[1],e}function j(e,t){return e[0]=1/t[0],e[1]=1/t[1],e}function R(e,t){var r=t[0],i=t[1],n=r*r+i*i;return n>0&&(n=1/Math.sqrt(n),e[0]=t[0]*n,e[1]=t[1]*n),e}function z(e,t){return e[0]*t[0]+e[1]*t[1]}function O(e,t,r){var i=t[0]*r[1]-t[1]*r[0];return e[0]=e[1]=0,e[2]=i,e}function P(e,t,r,i){var n=t[0],a=t[1];return e[0]=n+i*(r[0]-n),e[1]=a+i*(r[1]-a),e}function A(e,t){t=t||1;var r=2*i.RANDOM()*Math.PI;return e[0]=Math.cos(r)*t,e[1]=Math.sin(r)*t,e}function x(e,t,r){var i=t[0],n=t[1];return e[0]=r[0]*i+r[2]*n,e[1]=r[1]*i+r[3]*n,e}function M(e,t,r){var i=t[0],n=t[1];return e[0]=r[0]*i+r[2]*n+r[4],e[1]=r[1]*i+r[3]*n+r[5],e}function C(e,t,r){var i=t[0],n=t[1];return e[0]=r[0]*i+r[3]*n+r[6],e[1]=r[1]*i+r[4]*n+r[7],e}function D(e,t,r){var i=t[0],n=t[1];return e[0]=r[0]*i+r[4]*n+r[12],e[1]=r[1]*i+r[5]*n+r[13],e}function I(e,t,r,i){var n=t[0]-r[0],a=t[1]-r[1],o=Math.sin(i),s=Math.cos(i);return e[0]=n*s-a*o+r[0],e[1]=n*o+a*s+r[1],e}function L(e,t){var r=e[0],i=e[1],n=t[0],a=t[1],o=r*r+i*i;o>0&&(o=1/Math.sqrt(o));var s=n*n+a*a;s>0&&(s=1/Math.sqrt(s));var l=(r*n+i*a)*o*s;return l>1?0:l<-1?Math.PI:Math.acos(l)}function F(e){return"vec2("+e[0]+", "+e[1]+")"}function G(e,t){return e[0]===t[0]&&e[1]===t[1]}function B(e,t){var r=e[0],n=e[1],a=t[0],o=t[1];return Math.abs(r-a)<=i.EPSILON*Math.max(1,Math.abs(r),Math.abs(a))&&Math.abs(n-o)<=i.EPSILON*Math.max(1,Math.abs(n),Math.abs(o))}var N,U=T,k=c,V=f,H=d,q=w,W=E,Y=S,X=(N=n(),function(e,t,r,i,n,a){var o=void 0,s=void 0;for(t||(t=2),r||(r=0),s=i?Math.min(i*t+r,e.length):e.length,o=r;o<s;o+=t)N[0]=e[o],N[1]=e[o+1],n(N,N,a),e[o]=N[0],e[o+1]=N[1];return e})},"../node_modules/gl-matrix/lib/gl-matrix/vec3.js":function(e,t,r){"use strict";r.r(t),r.d(t,"create",(function(){return n})),r.d(t,"clone",(function(){return a})),r.d(t,"length",(function(){return o})),r.d(t,"fromValues",(function(){return s})),r.d(t,"copy",(function(){return l})),r.d(t,"set",(function(){return u})),r.d(t,"add",(function(){return c})),r.d(t,"subtract",(function(){return f})),r.d(t,"multiply",(function(){return d})),r.d(t,"divide",(function(){return h})),r.d(t,"ceil",(function(){return m})),r.d(t,"floor",(function(){return b})),r.d(t,"min",(function(){return p})),r.d(t,"max",(function(){return v})),r.d(t,"round",(function(){return g})),r.d(t,"scale",(function(){return y})),r.d(t,"scaleAndAdd",(function(){return w})),r.d(t,"distance",(function(){return E})),r.d(t,"squaredDistance",(function(){return T})),r.d(t,"squaredLength",(function(){return S})),r.d(t,"negate",(function(){return _})),r.d(t,"inverse",(function(){return j})),r.d(t,"normalize",(function(){return R})),r.d(t,"dot",(function(){return z})),r.d(t,"cross",(function(){return O})),r.d(t,"lerp",(function(){return P})),r.d(t,"hermite",(function(){return A})),r.d(t,"bezier",(function(){return x})),r.d(t,"random",(function(){return M})),r.d(t,"transformMat4",(function(){return C})),r.d(t,"transformMat3",(function(){return D})),r.d(t,"transformQuat",(function(){return I})),r.d(t,"rotateX",(function(){return L})),r.d(t,"rotateY",(function(){return F})),r.d(t,"rotateZ",(function(){return G})),r.d(t,"angle",(function(){return B})),r.d(t,"str",(function(){return N})),r.d(t,"exactEquals",(function(){return U})),r.d(t,"equals",(function(){return k})),r.d(t,"sub",(function(){return H})),r.d(t,"mul",(function(){return q})),r.d(t,"div",(function(){return W})),r.d(t,"dist",(function(){return Y})),r.d(t,"sqrDist",(function(){return X})),r.d(t,"len",(function(){return K})),r.d(t,"sqrLen",(function(){return Q})),r.d(t,"forEach",(function(){return Z}));var i=r("../node_modules/gl-matrix/lib/gl-matrix/common.js");function n(){var e=new i.ARRAY_TYPE(3);return i.ARRAY_TYPE!=Float32Array&&(e[0]=0,e[1]=0,e[2]=0),e}function a(e){var t=new i.ARRAY_TYPE(3);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t}function o(e){var t=e[0],r=e[1],i=e[2];return Math.sqrt(t*t+r*r+i*i)}function s(e,t,r){var n=new i.ARRAY_TYPE(3);return n[0]=e,n[1]=t,n[2]=r,n}function l(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e}function u(e,t,r,i){return e[0]=t,e[1]=r,e[2]=i,e}function c(e,t,r){return e[0]=t[0]+r[0],e[1]=t[1]+r[1],e[2]=t[2]+r[2],e}function f(e,t,r){return e[0]=t[0]-r[0],e[1]=t[1]-r[1],e[2]=t[2]-r[2],e}function d(e,t,r){return e[0]=t[0]*r[0],e[1]=t[1]*r[1],e[2]=t[2]*r[2],e}function h(e,t,r){return e[0]=t[0]/r[0],e[1]=t[1]/r[1],e[2]=t[2]/r[2],e}function m(e,t){return e[0]=Math.ceil(t[0]),e[1]=Math.ceil(t[1]),e[2]=Math.ceil(t[2]),e}function b(e,t){return e[0]=Math.floor(t[0]),e[1]=Math.floor(t[1]),e[2]=Math.floor(t[2]),e}function p(e,t,r){return e[0]=Math.min(t[0],r[0]),e[1]=Math.min(t[1],r[1]),e[2]=Math.min(t[2],r[2]),e}function v(e,t,r){return e[0]=Math.max(t[0],r[0]),e[1]=Math.max(t[1],r[1]),e[2]=Math.max(t[2],r[2]),e}function g(e,t){return e[0]=Math.round(t[0]),e[1]=Math.round(t[1]),e[2]=Math.round(t[2]),e}function y(e,t,r){return e[0]=t[0]*r,e[1]=t[1]*r,e[2]=t[2]*r,e}function w(e,t,r,i){return e[0]=t[0]+r[0]*i,e[1]=t[1]+r[1]*i,e[2]=t[2]+r[2]*i,e}function E(e,t){var r=t[0]-e[0],i=t[1]-e[1],n=t[2]-e[2];return Math.sqrt(r*r+i*i+n*n)}function T(e,t){var r=t[0]-e[0],i=t[1]-e[1],n=t[2]-e[2];return r*r+i*i+n*n}function S(e){var t=e[0],r=e[1],i=e[2];return t*t+r*r+i*i}function _(e,t){return e[0]=-t[0],e[1]=-t[1],e[2]=-t[2],e}function j(e,t){return e[0]=1/t[0],e[1]=1/t[1],e[2]=1/t[2],e}function R(e,t){var r=t[0],i=t[1],n=t[2],a=r*r+i*i+n*n;return a>0&&(a=1/Math.sqrt(a),e[0]=t[0]*a,e[1]=t[1]*a,e[2]=t[2]*a),e}function z(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]}function O(e,t,r){var i=t[0],n=t[1],a=t[2],o=r[0],s=r[1],l=r[2];return e[0]=n*l-a*s,e[1]=a*o-i*l,e[2]=i*s-n*o,e}function P(e,t,r,i){var n=t[0],a=t[1],o=t[2];return e[0]=n+i*(r[0]-n),e[1]=a+i*(r[1]-a),e[2]=o+i*(r[2]-o),e}function A(e,t,r,i,n,a){var o=a*a,s=o*(2*a-3)+1,l=o*(a-2)+a,u=o*(a-1),c=o*(3-2*a);return e[0]=t[0]*s+r[0]*l+i[0]*u+n[0]*c,e[1]=t[1]*s+r[1]*l+i[1]*u+n[1]*c,e[2]=t[2]*s+r[2]*l+i[2]*u+n[2]*c,e}function x(e,t,r,i,n,a){var o=1-a,s=o*o,l=a*a,u=s*o,c=3*a*s,f=3*l*o,d=l*a;return e[0]=t[0]*u+r[0]*c+i[0]*f+n[0]*d,e[1]=t[1]*u+r[1]*c+i[1]*f+n[1]*d,e[2]=t[2]*u+r[2]*c+i[2]*f+n[2]*d,e}function M(e,t){t=t||1;var r=2*i.RANDOM()*Math.PI,n=2*i.RANDOM()-1,a=Math.sqrt(1-n*n)*t;return e[0]=Math.cos(r)*a,e[1]=Math.sin(r)*a,e[2]=n*t,e}function C(e,t,r){var i=t[0],n=t[1],a=t[2],o=r[3]*i+r[7]*n+r[11]*a+r[15];return o=o||1,e[0]=(r[0]*i+r[4]*n+r[8]*a+r[12])/o,e[1]=(r[1]*i+r[5]*n+r[9]*a+r[13])/o,e[2]=(r[2]*i+r[6]*n+r[10]*a+r[14])/o,e}function D(e,t,r){var i=t[0],n=t[1],a=t[2];return e[0]=i*r[0]+n*r[3]+a*r[6],e[1]=i*r[1]+n*r[4]+a*r[7],e[2]=i*r[2]+n*r[5]+a*r[8],e}function I(e,t,r){var i=r[0],n=r[1],a=r[2],o=r[3],s=t[0],l=t[1],u=t[2],c=n*u-a*l,f=a*s-i*u,d=i*l-n*s,h=n*d-a*f,m=a*c-i*d,b=i*f-n*c,p=2*o;return c*=p,f*=p,d*=p,h*=2,m*=2,b*=2,e[0]=s+c+h,e[1]=l+f+m,e[2]=u+d+b,e}function L(e,t,r,i){var n=[],a=[];return n[0]=t[0]-r[0],n[1]=t[1]-r[1],n[2]=t[2]-r[2],a[0]=n[0],a[1]=n[1]*Math.cos(i)-n[2]*Math.sin(i),a[2]=n[1]*Math.sin(i)+n[2]*Math.cos(i),e[0]=a[0]+r[0],e[1]=a[1]+r[1],e[2]=a[2]+r[2],e}function F(e,t,r,i){var n=[],a=[];return n[0]=t[0]-r[0],n[1]=t[1]-r[1],n[2]=t[2]-r[2],a[0]=n[2]*Math.sin(i)+n[0]*Math.cos(i),a[1]=n[1],a[2]=n[2]*Math.cos(i)-n[0]*Math.sin(i),e[0]=a[0]+r[0],e[1]=a[1]+r[1],e[2]=a[2]+r[2],e}function G(e,t,r,i){var n=[],a=[];return n[0]=t[0]-r[0],n[1]=t[1]-r[1],n[2]=t[2]-r[2],a[0]=n[0]*Math.cos(i)-n[1]*Math.sin(i),a[1]=n[0]*Math.sin(i)+n[1]*Math.cos(i),a[2]=n[2],e[0]=a[0]+r[0],e[1]=a[1]+r[1],e[2]=a[2]+r[2],e}function B(e,t){var r=s(e[0],e[1],e[2]),i=s(t[0],t[1],t[2]);R(r,r),R(i,i);var n=z(r,i);return n>1?0:n<-1?Math.PI:Math.acos(n)}function N(e){return"vec3("+e[0]+", "+e[1]+", "+e[2]+")"}function U(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]}function k(e,t){var r=e[0],n=e[1],a=e[2],o=t[0],s=t[1],l=t[2];return Math.abs(r-o)<=i.EPSILON*Math.max(1,Math.abs(r),Math.abs(o))&&Math.abs(n-s)<=i.EPSILON*Math.max(1,Math.abs(n),Math.abs(s))&&Math.abs(a-l)<=i.EPSILON*Math.max(1,Math.abs(a),Math.abs(l))}var V,H=f,q=d,W=h,Y=E,X=T,K=o,Q=S,Z=(V=n(),function(e,t,r,i,n,a){var o=void 0,s=void 0;for(t||(t=3),r||(r=0),s=i?Math.min(i*t+r,e.length):e.length,o=r;o<s;o+=t)V[0]=e[o],V[1]=e[o+1],V[2]=e[o+2],n(V,V,a),e[o]=V[0],e[o+1]=V[1],e[o+2]=V[2];return e})},"../node_modules/gl-matrix/lib/gl-matrix/vec4.js":function(e,t,r){"use strict";r.r(t),r.d(t,"create",(function(){return n})),r.d(t,"clone",(function(){return a})),r.d(t,"fromValues",(function(){return o})),r.d(t,"copy",(function(){return s})),r.d(t,"set",(function(){return l})),r.d(t,"add",(function(){return u})),r.d(t,"subtract",(function(){return c})),r.d(t,"multiply",(function(){return f})),r.d(t,"divide",(function(){return d})),r.d(t,"ceil",(function(){return h})),r.d(t,"floor",(function(){return m})),r.d(t,"min",(function(){return b})),r.d(t,"max",(function(){return p})),r.d(t,"round",(function(){return v})),r.d(t,"scale",(function(){return g})),r.d(t,"scaleAndAdd",(function(){return y})),r.d(t,"distance",(function(){return w})),r.d(t,"squaredDistance",(function(){return E})),r.d(t,"length",(function(){return T})),r.d(t,"squaredLength",(function(){return S})),r.d(t,"negate",(function(){return _})),r.d(t,"inverse",(function(){return j})),r.d(t,"normalize",(function(){return R})),r.d(t,"dot",(function(){return z})),r.d(t,"lerp",(function(){return O})),r.d(t,"random",(function(){return P})),r.d(t,"transformMat4",(function(){return A})),r.d(t,"transformQuat",(function(){return x})),r.d(t,"str",(function(){return M})),r.d(t,"exactEquals",(function(){return C})),r.d(t,"equals",(function(){return D})),r.d(t,"sub",(function(){return L})),r.d(t,"mul",(function(){return F})),r.d(t,"div",(function(){return G})),r.d(t,"dist",(function(){return B})),r.d(t,"sqrDist",(function(){return N})),r.d(t,"len",(function(){return U})),r.d(t,"sqrLen",(function(){return k})),r.d(t,"forEach",(function(){return V}));var i=r("../node_modules/gl-matrix/lib/gl-matrix/common.js");function n(){var e=new i.ARRAY_TYPE(4);return i.ARRAY_TYPE!=Float32Array&&(e[0]=0,e[1]=0,e[2]=0,e[3]=0),e}function a(e){var t=new i.ARRAY_TYPE(4);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t}function o(e,t,r,n){var a=new i.ARRAY_TYPE(4);return a[0]=e,a[1]=t,a[2]=r,a[3]=n,a}function s(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e}function l(e,t,r,i,n){return e[0]=t,e[1]=r,e[2]=i,e[3]=n,e}function u(e,t,r){return e[0]=t[0]+r[0],e[1]=t[1]+r[1],e[2]=t[2]+r[2],e[3]=t[3]+r[3],e}function c(e,t,r){return e[0]=t[0]-r[0],e[1]=t[1]-r[1],e[2]=t[2]-r[2],e[3]=t[3]-r[3],e}function f(e,t,r){return e[0]=t[0]*r[0],e[1]=t[1]*r[1],e[2]=t[2]*r[2],e[3]=t[3]*r[3],e}function d(e,t,r){return e[0]=t[0]/r[0],e[1]=t[1]/r[1],e[2]=t[2]/r[2],e[3]=t[3]/r[3],e}function h(e,t){return e[0]=Math.ceil(t[0]),e[1]=Math.ceil(t[1]),e[2]=Math.ceil(t[2]),e[3]=Math.ceil(t[3]),e}function m(e,t){return e[0]=Math.floor(t[0]),e[1]=Math.floor(t[1]),e[2]=Math.floor(t[2]),e[3]=Math.floor(t[3]),e}function b(e,t,r){return e[0]=Math.min(t[0],r[0]),e[1]=Math.min(t[1],r[1]),e[2]=Math.min(t[2],r[2]),e[3]=Math.min(t[3],r[3]),e}function p(e,t,r){return e[0]=Math.max(t[0],r[0]),e[1]=Math.max(t[1],r[1]),e[2]=Math.max(t[2],r[2]),e[3]=Math.max(t[3],r[3]),e}function v(e,t){return e[0]=Math.round(t[0]),e[1]=Math.round(t[1]),e[2]=Math.round(t[2]),e[3]=Math.round(t[3]),e}function g(e,t,r){return e[0]=t[0]*r,e[1]=t[1]*r,e[2]=t[2]*r,e[3]=t[3]*r,e}function y(e,t,r,i){return e[0]=t[0]+r[0]*i,e[1]=t[1]+r[1]*i,e[2]=t[2]+r[2]*i,e[3]=t[3]+r[3]*i,e}function w(e,t){var r=t[0]-e[0],i=t[1]-e[1],n=t[2]-e[2],a=t[3]-e[3];return Math.sqrt(r*r+i*i+n*n+a*a)}function E(e,t){var r=t[0]-e[0],i=t[1]-e[1],n=t[2]-e[2],a=t[3]-e[3];return r*r+i*i+n*n+a*a}function T(e){var t=e[0],r=e[1],i=e[2],n=e[3];return Math.sqrt(t*t+r*r+i*i+n*n)}function S(e){var t=e[0],r=e[1],i=e[2],n=e[3];return t*t+r*r+i*i+n*n}function _(e,t){return e[0]=-t[0],e[1]=-t[1],e[2]=-t[2],e[3]=-t[3],e}function j(e,t){return e[0]=1/t[0],e[1]=1/t[1],e[2]=1/t[2],e[3]=1/t[3],e}function R(e,t){var r=t[0],i=t[1],n=t[2],a=t[3],o=r*r+i*i+n*n+a*a;return o>0&&(o=1/Math.sqrt(o),e[0]=r*o,e[1]=i*o,e[2]=n*o,e[3]=a*o),e}function z(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]+e[3]*t[3]}function O(e,t,r,i){var n=t[0],a=t[1],o=t[2],s=t[3];return e[0]=n+i*(r[0]-n),e[1]=a+i*(r[1]-a),e[2]=o+i*(r[2]-o),e[3]=s+i*(r[3]-s),e}function P(e,t){var r,n,a,o,s,l;t=t||1;do{s=(r=2*i.RANDOM()-1)*r+(n=2*i.RANDOM()-1)*n}while(s>=1);do{l=(a=2*i.RANDOM()-1)*a+(o=2*i.RANDOM()-1)*o}while(l>=1);var u=Math.sqrt((1-s)/l);return e[0]=t*r,e[1]=t*n,e[2]=t*a*u,e[3]=t*o*u,e}function A(e,t,r){var i=t[0],n=t[1],a=t[2],o=t[3];return e[0]=r[0]*i+r[4]*n+r[8]*a+r[12]*o,e[1]=r[1]*i+r[5]*n+r[9]*a+r[13]*o,e[2]=r[2]*i+r[6]*n+r[10]*a+r[14]*o,e[3]=r[3]*i+r[7]*n+r[11]*a+r[15]*o,e}function x(e,t,r){var i=t[0],n=t[1],a=t[2],o=r[0],s=r[1],l=r[2],u=r[3],c=u*i+s*a-l*n,f=u*n+l*i-o*a,d=u*a+o*n-s*i,h=-o*i-s*n-l*a;return e[0]=c*u+h*-o+f*-l-d*-s,e[1]=f*u+h*-s+d*-o-c*-l,e[2]=d*u+h*-l+c*-s-f*-o,e[3]=t[3],e}function M(e){return"vec4("+e[0]+", "+e[1]+", "+e[2]+", "+e[3]+")"}function C(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===t[3]}function D(e,t){var r=e[0],n=e[1],a=e[2],o=e[3],s=t[0],l=t[1],u=t[2],c=t[3];return Math.abs(r-s)<=i.EPSILON*Math.max(1,Math.abs(r),Math.abs(s))&&Math.abs(n-l)<=i.EPSILON*Math.max(1,Math.abs(n),Math.abs(l))&&Math.abs(a-u)<=i.EPSILON*Math.max(1,Math.abs(a),Math.abs(u))&&Math.abs(o-c)<=i.EPSILON*Math.max(1,Math.abs(o),Math.abs(c))}var I,L=c,F=f,G=d,B=w,N=E,U=T,k=S,V=(I=n(),function(e,t,r,i,n,a){var o=void 0,s=void 0;for(t||(t=4),r||(r=0),s=i?Math.min(i*t+r,e.length):e.length,o=r;o<s;o+=t)I[0]=e[o],I[1]=e[o+1],I[2]=e[o+2],I[3]=e[o+3],n(I,I,a),e[o]=I[0],e[o+1]=I[1],e[o+2]=I[2],e[o+3]=I[3];return e})},"../node_modules/process/browser.js":function(e,t){var r,i,n=e.exports={};function a(){throw new Error("setTimeout has not been defined")}function o(){throw new Error("clearTimeout has not been defined")}function s(e){if(r===setTimeout)return setTimeout(e,0);if((r===a||!r)&&setTimeout)return r=setTimeout,setTimeout(e,0);try{return r(e,0)}catch(t){try{return r.call(null,e,0)}catch(t){return r.call(this,e,0)}}}!function(){try{r="function"==typeof setTimeout?setTimeout:a}catch(e){r=a}try{i="function"==typeof clearTimeout?clearTimeout:o}catch(e){i=o}}();var l,u=[],c=!1,f=-1;function d(){c&&l&&(c=!1,l.length?u=l.concat(u):f=-1,u.length&&h())}function h(){if(!c){var e=s(d);c=!0;for(var t=u.length;t;){for(l=u,u=[];++f<t;)l&&l[f].run();f=-1,t=u.length}l=null,c=!1,function(e){if(i===clearTimeout)return clearTimeout(e);if((i===o||!i)&&clearTimeout)return i=clearTimeout,clearTimeout(e);try{i(e)}catch(t){try{return i.call(null,e)}catch(t){return i.call(this,e)}}}(e)}}function m(e,t){this.fun=e,this.array=t}function b(){}n.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];u.push(new m(e,t)),1!==u.length||c||s(h)},m.prototype.run=function(){this.fun.apply(null,this.array)},n.title="browser",n.browser=!0,n.env={},n.argv=[],n.version="",n.versions={},n.on=b,n.addListener=b,n.once=b,n.off=b,n.removeListener=b,n.removeAllListeners=b,n.emit=b,n.prependListener=b,n.prependOnceListener=b,n.listeners=function(e){return[]},n.binding=function(e){throw new Error("process.binding is not supported")},n.cwd=function(){return"/"},n.chdir=function(e){throw new Error("process.chdir is not supported")},n.umask=function(){return 0}},"../node_modules/reflect-metadata/Reflect.js":function(e,t,r){(function(e,t){var r;!function(r){!function(i){var n="object"==typeof t?t:"object"==typeof self?self:"object"==typeof this?this:Function("return this;")(),a=o(r);function o(e,t){return function(r,i){"function"!=typeof e[r]&&Object.defineProperty(e,r,{configurable:!0,writable:!0,value:i}),t&&t(r,i)}}void 0===n.Reflect?n.Reflect=r:a=o(n.Reflect,a),function(t){var r=Object.prototype.hasOwnProperty,i="function"==typeof Symbol,n=i&&void 0!==Symbol.toPrimitive?Symbol.toPrimitive:"@@toPrimitive",a=i&&void 0!==Symbol.iterator?Symbol.iterator:"@@iterator",o="function"==typeof Object.create,s={__proto__:[]}instanceof Array,l=!o&&!s,u={create:o?function(){return C(Object.create(null))}:s?function(){return C({__proto__:null})}:function(){return C({})},has:l?function(e,t){return r.call(e,t)}:function(e,t){return t in e},get:l?function(e,t){return r.call(e,t)?e[t]:void 0}:function(e,t){return e[t]}},c=Object.getPrototypeOf(Function),f="object"==typeof e&&e.env&&"true"===e.env.REFLECT_METADATA_USE_MAP_POLYFILL,d=f||"function"!=typeof Map||"function"!=typeof Map.prototype.entries?function(){var e={},t=[],r=function(){function e(e,t,r){this._index=0,this._keys=e,this._values=t,this._selector=r}return e.prototype["@@iterator"]=function(){return this},e.prototype[a]=function(){return this},e.prototype.next=function(){var e=this._index;if(e>=0&&e<this._keys.length){var r=this._selector(this._keys[e],this._values[e]);return e+1>=this._keys.length?(this._index=-1,this._keys=t,this._values=t):this._index++,{value:r,done:!1}}return{value:void 0,done:!0}},e.prototype.throw=function(e){throw this._index>=0&&(this._index=-1,this._keys=t,this._values=t),e},e.prototype.return=function(e){return this._index>=0&&(this._index=-1,this._keys=t,this._values=t),{value:e,done:!0}},e}();return function(){function t(){this._keys=[],this._values=[],this._cacheKey=e,this._cacheIndex=-2}return Object.defineProperty(t.prototype,"size",{get:function(){return this._keys.length},enumerable:!0,configurable:!0}),t.prototype.has=function(e){return this._find(e,!1)>=0},t.prototype.get=function(e){var t=this._find(e,!1);return t>=0?this._values[t]:void 0},t.prototype.set=function(e,t){var r=this._find(e,!0);return this._values[r]=t,this},t.prototype.delete=function(t){var r=this._find(t,!1);if(r>=0){for(var i=this._keys.length,n=r+1;n<i;n++)this._keys[n-1]=this._keys[n],this._values[n-1]=this._values[n];return this._keys.length--,this._values.length--,t===this._cacheKey&&(this._cacheKey=e,this._cacheIndex=-2),!0}return!1},t.prototype.clear=function(){this._keys.length=0,this._values.length=0,this._cacheKey=e,this._cacheIndex=-2},t.prototype.keys=function(){return new r(this._keys,this._values,i)},t.prototype.values=function(){return new r(this._keys,this._values,n)},t.prototype.entries=function(){return new r(this._keys,this._values,o)},t.prototype["@@iterator"]=function(){return this.entries()},t.prototype[a]=function(){return this.entries()},t.prototype._find=function(e,t){return this._cacheKey!==e&&(this._cacheIndex=this._keys.indexOf(this._cacheKey=e)),this._cacheIndex<0&&t&&(this._cacheIndex=this._keys.length,this._keys.push(e),this._values.push(void 0)),this._cacheIndex},t}();function i(e,t){return e}function n(e,t){return t}function o(e,t){return[e,t]}}():Map,h=f||"function"!=typeof Set||"function"!=typeof Set.prototype.entries?function(){function e(){this._map=new d}return Object.defineProperty(e.prototype,"size",{get:function(){return this._map.size},enumerable:!0,configurable:!0}),e.prototype.has=function(e){return this._map.has(e)},e.prototype.add=function(e){return this._map.set(e,e),this},e.prototype.delete=function(e){return this._map.delete(e)},e.prototype.clear=function(){this._map.clear()},e.prototype.keys=function(){return this._map.keys()},e.prototype.values=function(){return this._map.values()},e.prototype.entries=function(){return this._map.entries()},e.prototype["@@iterator"]=function(){return this.keys()},e.prototype[a]=function(){return this.keys()},e}():Set,m=new(f||"function"!=typeof WeakMap?function(){var e=u.create(),t=i();return function(){function e(){this._key=i()}return e.prototype.has=function(e){var t=n(e,!1);return void 0!==t&&u.has(t,this._key)},e.prototype.get=function(e){var t=n(e,!1);return void 0!==t?u.get(t,this._key):void 0},e.prototype.set=function(e,t){return n(e,!0)[this._key]=t,this},e.prototype.delete=function(e){var t=n(e,!1);return void 0!==t&&delete t[this._key]},e.prototype.clear=function(){this._key=i()},e}();function i(){var t;do{t="@@WeakMap@@"+o()}while(u.has(e,t));return e[t]=!0,t}function n(e,i){if(!r.call(e,t)){if(!i)return;Object.defineProperty(e,t,{value:u.create()})}return e[t]}function a(e,t){for(var r=0;r<t;++r)e[r]=255*Math.random()|0;return e}function o(){var e,t=(e=16,"function"==typeof Uint8Array?"undefined"!=typeof crypto?crypto.getRandomValues(new Uint8Array(e)):"undefined"!=typeof msCrypto?msCrypto.getRandomValues(new Uint8Array(e)):a(new Uint8Array(e),e):a(new Array(e),e));t[6]=79&t[6]|64,t[8]=191&t[8]|128;for(var r="",i=0;i<16;++i){var n=t[i];4!==i&&6!==i&&8!==i||(r+="-"),n<16&&(r+="0"),r+=n.toString(16).toLowerCase()}return r}}():WeakMap);function b(e,t,r){var i=m.get(e);if(E(i)){if(!r)return;i=new d,m.set(e,i)}var n=i.get(t);if(E(n)){if(!r)return;n=new d,i.set(t,n)}return n}function p(e,t,r){var i=b(t,r,!1);return!E(i)&&!!i.has(e)}function v(e,t,r){var i=b(t,r,!1);if(!E(i))return i.get(e)}function g(e,t,r,i){b(r,i,!0).set(e,t)}function y(e,t){var r=[],i=b(e,t,!1);if(E(i))return r;for(var n=function(e){var t=P(e,a);if(!z(t))throw new TypeError;var r=t.call(e);if(!S(r))throw new TypeError;return r}(i.keys()),o=0;;){var s=A(n);if(!s)return r.length=o,r;var l=s.value;try{r[o]=l}catch(e){try{x(n)}finally{throw e}}o++}}function w(e){if(null===e)return 1;switch(typeof e){case"undefined":return 0;case"boolean":return 2;case"string":return 3;case"symbol":return 4;case"number":return 5;case"object":return null===e?1:6;default:return 6}}function E(e){return void 0===e}function T(e){return null===e}function S(e){return"object"==typeof e?null!==e:"function"==typeof e}function _(e,t){switch(w(e)){case 0:case 1:case 2:case 3:case 4:case 5:return e}var r=3===t?"string":5===t?"number":"default",i=P(e,n);if(void 0!==i){var a=i.call(e,r);if(S(a))throw new TypeError;return a}return function(e,t){if("string"===t){var r=e.toString;if(z(r))if(!S(n=r.call(e)))return n;if(z(i=e.valueOf))if(!S(n=i.call(e)))return n}else{var i;if(z(i=e.valueOf))if(!S(n=i.call(e)))return n;var n,a=e.toString;if(z(a))if(!S(n=a.call(e)))return n}throw new TypeError}(e,"default"===r?"number":r)}function j(e){var t=_(e,3);return"symbol"==typeof t?t:function(e){return""+e}(t)}function R(e){return Array.isArray?Array.isArray(e):e instanceof Object?e instanceof Array:"[object Array]"===Object.prototype.toString.call(e)}function z(e){return"function"==typeof e}function O(e){return"function"==typeof e}function P(e,t){var r=e[t];if(null!=r){if(!z(r))throw new TypeError;return r}}function A(e){var t=e.next();return!t.done&&t}function x(e){var t=e.return;t&&t.call(e)}function M(e){var t=Object.getPrototypeOf(e);if("function"!=typeof e||e===c)return t;if(t!==c)return t;var r=e.prototype,i=r&&Object.getPrototypeOf(r);if(null==i||i===Object.prototype)return t;var n=i.constructor;return"function"!=typeof n||n===e?t:n}function C(e){return e.__=void 0,delete e.__,e}t("decorate",(function(e,t,r,i){if(E(r)){if(!R(e))throw new TypeError;if(!O(t))throw new TypeError;return function(e,t){for(var r=e.length-1;r>=0;--r){var i=(0,e[r])(t);if(!E(i)&&!T(i)){if(!O(i))throw new TypeError;t=i}}return t}(e,t)}if(!R(e))throw new TypeError;if(!S(t))throw new TypeError;if(!S(i)&&!E(i)&&!T(i))throw new TypeError;return T(i)&&(i=void 0),function(e,t,r,i){for(var n=e.length-1;n>=0;--n){var a=(0,e[n])(t,r,i);if(!E(a)&&!T(a)){if(!S(a))throw new TypeError;i=a}}return i}(e,t,r=j(r),i)})),t("metadata",(function(e,t){return function(r,i){if(!S(r))throw new TypeError;if(!E(i)&&!function(e){switch(w(e)){case 3:case 4:return!0;default:return!1}}(i))throw new TypeError;g(e,t,r,i)}})),t("defineMetadata",(function(e,t,r,i){if(!S(r))throw new TypeError;return E(i)||(i=j(i)),g(e,t,r,i)})),t("hasMetadata",(function(e,t,r){if(!S(t))throw new TypeError;return E(r)||(r=j(r)),function e(t,r,i){if(p(t,r,i))return!0;var n=M(r);return!T(n)&&e(t,n,i)}(e,t,r)})),t("hasOwnMetadata",(function(e,t,r){if(!S(t))throw new TypeError;return E(r)||(r=j(r)),p(e,t,r)})),t("getMetadata",(function(e,t,r){if(!S(t))throw new TypeError;return E(r)||(r=j(r)),function e(t,r,i){if(p(t,r,i))return v(t,r,i);var n=M(r);return T(n)?void 0:e(t,n,i)}(e,t,r)})),t("getOwnMetadata",(function(e,t,r){if(!S(t))throw new TypeError;return E(r)||(r=j(r)),v(e,t,r)})),t("getMetadataKeys",(function(e,t){if(!S(e))throw new TypeError;return E(t)||(t=j(t)),function e(t,r){var i=y(t,r),n=M(t);if(null===n)return i;var a=e(n,r);if(a.length<=0)return i;if(i.length<=0)return a;for(var o=new h,s=[],l=0,u=i;l<u.length;l++){var c=u[l];o.has(c)||(o.add(c),s.push(c))}for(var f=0,d=a;f<d.length;f++){c=d[f];o.has(c)||(o.add(c),s.push(c))}return s}(e,t)})),t("getOwnMetadataKeys",(function(e,t){if(!S(e))throw new TypeError;return E(t)||(t=j(t)),y(e,t)})),t("deleteMetadata",(function(e,t,r){if(!S(t))throw new TypeError;E(r)||(r=j(r));var i=b(t,r,!1);if(E(i))return!1;if(!i.delete(e))return!1;if(i.size>0)return!0;var n=m.get(t);return n.delete(r),n.size>0||m.delete(t),!0}))}(a)}()}(r||(r={}))}).call(this,r("../node_modules/process/browser.js"),r("../node_modules/webpack/buildin/global.js"))},"../node_modules/webpack/buildin/global.js":function(e,t){var r;r=function(){return this}();try{r=r||new Function("return this")()}catch(e){"object"==typeof window&&(r=window)}e.exports=r},"./config.js":function(e,t,r){"use strict";r.r(t),r.d(t,"config",(function(){return d}));var i=r("./core/index.js"),n=r("./curve/index.js"),a=r("./eve/index.js"),o=r("./particle/index.js"),s=r("./sof/index.js"),l=r("./unsupported/index.js"),u=r("./core/reader/Tw2BlackPropertyReaders.js"),c=r("./global/math/index.js");u.path.handler=function(e){var t=(e=e.toLowerCase()).lastIndexOf(".");return-1!==t&&e.substr(t+1).toLowerCase(),e in f?e=f[e]:(e=e.replace("res:","cdn:")).includes(".gr2")&&(e=e.replace("gr2","cake")),e};var f={"res:/texture/global/noise.dds":"res:/texture/global/noise.dds.0.png","res:/texture/global/spotramp.dds":"res:/texture/global/spotramp.dds.0.png","res:/texture/global/whitesharp.dds":"res:/texture/particle/whitesharp.dds.0.png","res:/texture/particle/whitesharp.dds":"res:/texture/particle/whitesharp.dds.0.png","res:/dx9/texture/decal/deck_01_cube.dds":"cdn:/dx9/texture/decal/deck_01_cube.dds.0.png"},d={debug:!1,device:{textureQuality:0,shaderQuality:"hi",antialiasing:!0,anisotropicFiltering:!0,webgl2:!0,webvr:!1,performanceClock:!0},resMan:{systemMirror:!1,autoPurgeResources:!0,purgeTime:60,maxPrepareTime:.05},logger:{name:"CCPWGL2",history:50,throttle:10,display:!0,visible:{error:!0,warning:!1,log:!1,info:!1,debug:!1}},store:{paths:{res:"https://developers.eveonline.com/ccpwgl/assetpath/1097993/",cdn:"http://localhost:3000"},extensions:{sm_hi:i.Tw2EffectRes,sm_lo:i.Tw2EffectRes,wbg:i.Tw2GeometryRes,cake:i.Tw2GeometryRes,png:i.Tw2TextureRes,dds:i.Tw2TextureRes,cube:i.Tw2TextureRes,mp4:i.Tw2VideoRes,ogg:i.Tw2VideoRes,webm:i.Tw2VideoRes,black:i.Tw2LoadingObject,red:i.Tw2LoadingObject},constructors:[i,n,a,o,s,l],variableTypes:{float:i.Tw2FloatParameter,number:i.Tw2FloatParameter,texture:i.Tw2TextureParameter,vector2:i.Tw2Vector2Parameter,vector3:i.Tw2Vector3Parameter,vector4:i.Tw2Vector4Parameter,matrix4:i.Tw2Matrix4Parameter},variables:{WorldMat:c.mat4.create(),ViewMat:c.mat4.create(),ProjectionMat:c.mat4.create(),ViewProjectionMat:c.mat4.create(),ViewportSize:c.vec4.create(),Time:c.vec4.create(),u_DecalMatrix:c.mat4.create(),u_InvDecalMatrix:c.mat4.create(),EveSpaceSceneEnvMap:"",EnvMap1:"",EnvMap2:"",EnvMap3:"",ShadowLightness:0,OccluderValue:c.vec4.fromValues(1,1,0,0),LensflareFxOccScale:c.vec4.fromValues(1,1,0,0),LensflareFxDirectionScale:c.vec4.create()}}}},"./core/Tw2Error.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tw2Error",(function(){return a})),r.d(t,"ErrFeatureNotImplemented",(function(){return o})),r.d(t,"ErrIndexBounds",(function(){return s})),r.d(t,"ErrWrapped",(function(){return l})),r.d(t,"ErrSingletonInstantiation",(function(){return u})),r.d(t,"ErrAbstractClass",(function(){return c})),r.d(t,"ErrAbstractMethod",(function(){return f}));var i=r("./global/utils/index.js"),n=Object(i.isFunction)(Error.captureStackTrace);class a extends Error{constructor(e={},t="Undefined error"){var r=t;"string"==typeof e?(r=e,e={}):e.message&&(r=e.message,delete e.message),super(),this.message=Object(i.template)(r,e),this.name=this.constructor.name,this.data=e,n?Error.captureStackTrace(this,a):this.stack=new Error(this.message).stack}emitOn(e,t="error"){return e&&e.EmitEvent&&e.EmitEvent(t,this),this}}class o extends a{constructor(e){super(e,"%feature=Feature% not implemented")}}class s extends a{constructor(e){super(e,"Array index out of bounds")}}class l extends a{constructor(e){super(e,"Invalid wrapped object(s) (%reason%)")}}class u extends a{constructor(e){super(e,"Cannot re-instantiate singleton (%class%)")}}class c extends a{constructor(e){super(e,"Abstract class cannot be directly instantiated (%class%)")}}class f extends a{constructor(e){super(e,"Abstract class method not implemented on class '%class%': (%method%)")}}},"./core/Tw2EventEmitter.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tw2EventEmitter",(function(){return a}));var i=r("./global/utils/index.js"),n=new WeakMap;class a{EmitEvent(e,...t){var r=n.get(this);return r?((e=e.toLowerCase())in r&&(r[e].forEach((i,n)=>{n.call(i.context,...t),i.once&&r[e].delete(n)}),0===r[e].size&&Reflect.deleteProperty(r,e)),this):this}AddEvents(e){if(!e)return this;for(var t in e)if(e.hasOwnProperty(t)){var r=e[t],n=t,a=void 0,o=void 0;if(-1!==t.indexOf(".once")&&t.lastIndexOf(".once")===t.length-5&&(n=t.substring(0,t.length-5),o=!0),Object(i.isArray)(r)&&(a=(r=r[0])[1]),!Object(i.isFunction)(r))throw new Error("Invalid listener");this.OnEvent(n,r,a,o)}return this}OnEvent(e,t,r,i){var a=n.get(this);if(a||(a={},n.set(this,a)),a[e=e.toLowerCase()]||(a[e]=new Map),!a[e].has(t))if(this.constructor.onListener){if(this.constructor.onListener(this,e,t,r)&&i)return this}else if(this.OnEventFirstListener&&this.OnEventFirstListener(this,e,t,r)&&i)return this;return a[e].set(t,{context:r,once:i}),this}OnceEvent(e,t,r){return this.OnEvent(e,t,r,!0)}OffEvent(e,t){var r=n.get(this);if(!r)return this;if("*"===e){for(var i in r)r.hasOwnProperty(i)&&(r[i].delete(t),0===r[i].size&&Reflect.deleteProperty(r,i));return this}return(e=e.toLowerCase())in r&&(r[e].delete(t),0===r[e].size&&Reflect.deleteProperty(r,e)),this}HasEvent(e,t){var r=n.get(this);if(!r)return!1;if("*"===e){for(var i in r)if(r.hasOwnProperty(i)&&r[i].has(t))return!0;return!1}return!(!t||!(e in r))&&("*"===t?!!r[e].size:r[e].has(t))}ClearEvent(e){var t=n.get(this);return t?"*"===e?(n.delete(this),this):((e=e.toLowerCase())in t&&(t[e].clear(),Reflect.deleteProperty(t,e)),this):this}}},"./core/Tw2Frustum.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tw2Frustum",(function(){return l}));var i,n,a,o=r("./global/utils/index.js"),s=r("./global/math/index.js"),l=o.meta.type("Tw2Frustum")((a=n=class e{constructor(){this._halfWidthProjection=1,this._planes=[s.vec4.create(),s.vec4.create(),s.vec4.create(),s.vec4.create(),s.vec4.create(),s.vec4.create()],this._viewPos=s.vec3.create(),this._viewDir=s.vec3.create()}Initialize(t,r,i,n,a){var o=e.global.mat4_0,l=n||s.mat4.invert(o,t);this._viewPos.set(l.subarray(12,14)),this._viewDir.set(l.subarray(8,10)),this._halfWidthProjection=r[0]*i*.5;var u=a||s.mat4.multiply(o,r,t),c=this._planes;c[0][0]=u[2],c[0][1]=u[6],c[0][2]=u[10],c[0][3]=u[14],c[1][0]=u[3]+u[0],c[1][1]=u[7]+u[4],c[1][2]=u[11]+u[8],c[1][3]=u[15]+u[12],c[2][0]=u[3]-u[1],c[2][1]=u[7]-u[5],c[2][2]=u[11]-u[9],c[2][3]=u[15]-u[13],c[3][0]=u[3]-u[0],c[3][1]=u[7]-u[4],c[3][2]=u[11]-u[8],c[3][3]=u[15]-u[12],c[4][0]=u[3]+u[1],c[4][1]=u[7]+u[5],c[4][2]=u[11]+u[9],c[4][3]=u[15]+u[13],c[5][0]=u[3]-u[2],c[5][1]=u[7]-u[6],c[5][2]=u[11]-u[10],c[5][3]=u[15]-u[14];for(var f=0;f<6;++f){var d=s.vec3.length(c[f]);c[f][0]/=d,c[f][1]/=d,c[f][2]/=d,c[f][3]/=d}}IsSphereVisible(e,t){for(var r=this._planes,i=0;i<6;++i)if(r[i][0]*e[0]+r[i][1]*e[1]+r[i][2]*e[2]+r[i][3]<-t)return!1;return!0}GetPixelSizeAcross(t,r){var i=s.vec3.subtract(e.global.vec3_0,this._viewPos,t),n=s.vec3.dot(this._viewDir,i);return n<1e-5&&(n=1e-5),r<1e-5?0:r/n*this._halfWidthProjection*2}},n.global={vec3_0:s.vec3.create(),mat4_0:s.mat4.create()},i=a))||i},"./core/Tw2RenderTarget.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tw2RenderTarget",(function(){return j}));var i,n,a,o,s,l,u,c,f,d,h,m,b,p,v,g,y,w=r("./global/utils/index.js"),E=r("./global/index.js"),T=r("./core/resource/Tw2TextureRes.js");function S(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function _(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var j=(i=w.meta.type("Tw2RenderTarget"),n=w.meta.string,a=w.meta.struct("Tw2TextureRes"),o=w.meta.isPrivate,s=w.meta.float,l=w.meta.isPrivate,u=w.meta.float,c=w.meta.isPrivate,f=w.meta.boolean,d=w.meta.isPrivate,i((b=_((m=class{constructor(){S(this,"name",b,this),S(this,"texture",p,this),S(this,"width",v,this),S(this,"height",g,this),S(this,"hasDepth",y,this),this._id=Object(w.generateID)(),this._frameBuffer=null,this._renderBuffer=null}IsGood(){return this._frameBuffer&&this._renderBuffer&&this.texture}Destroy(){var{gl:e}=E.device;this.texture&&(e.deleteTexture(this.texture.texture),this.texture=null),this._renderBuffer&&(e.deleteRenderbuffer(this._renderBuffer),this._renderBuffer=null),this._frameBuffer&&(e.deleteFramebuffer(this._frameBuffer),this._frameBuffer=null),this.hasDepth=!1,this.width=0,this.height=0}Create(e,t,r){var{gl:i}=E.device;this.Destroy(),this.texture=new T.Tw2TextureRes,this.texture.Attach(i.createTexture()),this._frameBuffer=i.createFramebuffer(),i.bindFramebuffer(i.FRAMEBUFFER,this._frameBuffer),i.bindTexture(i.TEXTURE_2D,this.texture.texture),i.texImage2D(i.TEXTURE_2D,0,i.RGBA,e,t,0,i.RGBA,i.UNSIGNED_BYTE,null),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_MAG_FILTER,i.LINEAR),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_MIN_FILTER,i.LINEAR),i.bindTexture(i.TEXTURE_2D,null),this._renderBuffer=null,r&&(this._renderBuffer=i.createRenderbuffer(),i.bindRenderbuffer(i.RENDERBUFFER,this._renderBuffer),i.renderbufferStorage(i.RENDERBUFFER,i.DEPTH_COMPONENT16,e,t)),i.framebufferTexture2D(i.FRAMEBUFFER,i.COLOR_ATTACHMENT0,i.TEXTURE_2D,this.texture.texture,0),r&&i.framebufferRenderbuffer(i.FRAMEBUFFER,i.DEPTH_ATTACHMENT,i.RENDERBUFFER,this._renderBuffer),i.bindRenderbuffer(i.RENDERBUFFER,null),i.bindFramebuffer(i.FRAMEBUFFER,null),this.texture.width=this.width=e,this.texture.height=this.height=t,this.hasDepth=r}Set(){var{gl:e}=E.device;e.bindFramebuffer(e.FRAMEBUFFER,this._frameBuffer),e.viewport(0,0,this.width,this.height)}Unset(){var{gl:e,viewportWidth:t,viewportHeight:r}=E.device;e.bindFramebuffer(e.FRAMEBUFFER,null),e.viewport(0,0,t,r)}}).prototype,"name",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),p=_(m.prototype,"texture",[a,o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),v=_(m.prototype,"width",[s,l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),g=_(m.prototype,"height",[u,c],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),y=_(m.prototype,"hasDepth",[f,d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),h=m))||h)},"./core/Tw2RuntimeInstanceData.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tw2RuntimeInstanceData",(function(){return l}));var i,n=r("./global/utils/index.js"),a=r("./global/index.js"),o=r("./core/vertex/index.js"),s=r("./particle/element/Tw2ParticleElementDeclaration.js"),l=n.meta.type("Tw2RuntimeInstanceData","Tr2RuntimeInstanceData")(i=class extends n.meta.Model{constructor(...e){super(...e),this._count=0,this._data=null,this._dirty=!0,this._declaration=null,this._vb=null,this._vertexStride=0}GetMaxInstanceCount(){return this._data?this._data.length:1}SetElementLayout(e){this._vb&&(a.device.gl.deleteBuffer(this._vb),this._vb=null),this._vertexStride=0,this._declaration=new o.Tw2VertexDeclaration;for(var t=0;t<e.length;++t){var r=new s.Tw2ParticleElementDeclaration;r.elementType=e[t][0],r.dimension=e[t][2],r.usageIndex=e[t][1];var i=r.GetDeclaration();i.offset=4*this._vertexStride,this._declaration.elements.push(i),this._vertexStride+=r.dimension}this._declaration.RebuildHash()}SetData(e){this._declaration&&(this._data=e,this._count=this._data.length,this._dirty=!0,this.UpdateData())}SetItemElement(e,t,r){if(this._declaration.elements[t].elements>1)for(var i=0;i<this._declaration.elements[t].elements;++i)this._data[e][t][i]=r[i];else this._data[e][t]=r;this._dirty=!0}SetItemElementRef(e,t,r){this._data[e][t]=r,this._dirty=!0}GetItemElement(e,t){return this._data[e][t]}UpdateData(){if(this._dirty&&this._declaration){for(var e=a.device.gl,t=new Float32Array(this._data.length*this._vertexStride),r=0,i=0;i<this._data.length;++i)for(var n=0;n<this._declaration.elements.length;++n)if(1===this._declaration.elements[n].elements)t[r++]=this._data[i][n];else for(var o=0;o<this._declaration.elements[n].elements;++o)t[r++]=this._data[i][n][o];this._vb||(this._vb=e.createBuffer()),e.bindBuffer(e.ARRAY_BUFFER,this._vb),e.bufferData(e.ARRAY_BUFFER,t,e.STATIC_DRAW),e.bindBuffer(e.ARRAY_BUFFER,null),this._dirty=!1}}Unload(){this._vb&&(a.device.gl.deleteBuffer(this._vb),this._vb=null)}GetInstanceBuffer(){return this._vb}GetInstanceDeclaration(){return this._declaration}GetInstanceStride(){return 4*this._vertexStride}GetInstanceCount(){return this._count}})||i},"./core/Tw2Transform.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tw2Transform",(function(){return g}));var i,n,a,o,s,l,u,c,f=r("./global/utils/index.js"),d=r("./global/math/index.js");function h(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function m(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var b=d.vec3.create(),p=d.quat.create(),v=d.mat4.create(),g=(i=f.meta.quaternion,n=f.meta.vector3,a=f.meta.vector3,c=class extends f.meta.Model{constructor(...e){super(...e),h(this,"rotation",s,this),h(this,"translation",l,this),h(this,"scaling",u,this),this._localTransform=d.mat4.create(),this._worldTransform=d.mat4.create(),this._rebuildLocal=!0,this._rebuildWorld=!0}OnWorldModified(e){return this.onWorldTransformModified=e,this}Initialize(){this.RebuildTransforms({force:!0,skipUpdate:!0})}OnValueChanged(e){e&&e.skipTransforms||this.RebuildTransforms({force:!0,skipUpdate:!0})}RebuildTransforms(e){var t=e&&e.force,r=e&&e.skipUpdate;if((t||this._rebuildLocal)&&(d.mat4.fromRotationTranslationScale(this._localTransform,this.rotation,this.translation,this.scaling),this._rebuildLocal=!1,t=!0),!t&&!this._rebuildWorld)return!1;var{_worldInverse:i,_worldInverseTranspose:n,_worldTranspose:a,_parentTransform:o}=this;o?d.mat4.multiply(this._worldTransform,o,this._localTransform):d.mat4.copy(this._worldTransform,this._localTransform),i&&d.mat4.invert(i,this._worldTransform),a&&d.mat4.transpose(a,this._worldTransform),n&&(a?d.mat4.invert(n,a):(d.mat4.invert(n,this._worldTransform),d.mat4.transpose(n,n))),this.onWorldTransformModified&&this.onWorldTransformModified(this._worldTransform),r||this.UpdateValues({skipTransforms:!0}),this._rebuildWorld=!1}SetParentTransform(e){return!e&&this._parentTransform?(this._parentTransform=null,this._rebuildWorld=!0):this._parentTransform?d.mat4.equals(e,this._parentTransform)||(d.mat4.copy(this._parentTransform,e),this._rebuildWorld=!0):(this._parentTransform=d.mat4.clone(e),this._rebuildWorld=!0),this}GetWorldTransform(e){return this.RebuildTransforms(),d.mat4.copy(e,this._worldTransform)}DecomposeWorld(e,t,r){return this.RebuildTransforms(),d.mat4.getRotation(e,this._worldTransform),d.mat4.getTranslation(t,this._worldTransform),d.mat4.getScaling(r,this._worldTransform),this}GetWorldRotation(e){return this.RebuildTransforms(),d.mat4.getRotation(e,this._worldTransform)}GetWorldDirection(e){return this.RebuildTransforms(),d.vec3.set(e,this._worldTransform[8],this._worldTransform[9],this._worldTransform[10]),d.vec3.normalize(e,e)}GetWorldEuler(e){return this.GetWorldRotation(p),d.vec3.euler.fromQuat(e,p)}GetWorldAxisAngle(e){return this.RebuildTransforms(),d.mat4.getRotation(p,this._worldTransform),d.quat.getAxisAngle(e,p)}GetWorldTranslation(e){return this.RebuildTransforms(),d.mat4.getTranslation(e,this._worldTransform)}GetWorldScaling(e){return this.RebuildTransforms(),d.mat4.getScaling(e,this._worldTransform)}GetWorldMaxScale(){return this.GetWorldScaling(b),Math.max(b[0],b[1],b[2])}GetWorldToLocal(e,t){return this.RebuildTransforms(),this._worldInverse?d.vec3.transformMat4(e,t,this._worldInverse):(d.mat4.invert(v,this._worldTransform),d.vec3.transformMat4(e,t,v))}Identity(){return d.mat4.identity(this._localTransform),d.mat4.getRotation(this.rotation,this._localTransform),d.mat4.getTranslation(this.translation,this._localTransform),d.mat4.getScaling(this.scaling,this._localTransform),this._rebuildWorld=!0,this}GetTransform(e){return this.RebuildTransforms(),d.mat4.copy(e,this._localTransform)}SetTransform(e){return d.mat4.getRotation(this.rotation,e),d.mat4.getScaling(this.scaling,e),d.mat4.getTranslation(this.translation,e),d.mat4.copy(this._localTransform,e),this._rebuildWorld=!0,this}Compose(e,t,r){return d.quat.copy(this.rotation,e),d.vec3.copy(this.translation,t),d.vec3.copy(this.scaling,r),this._rebuildLocal=!0,this}Decompose(e,t,r){return this.RebuildTransforms(),d.quat.copy(e,this.rotation),d.vec3.copy(t,this.translation),d.vec3.copy(r,this.scaling),this}GetLocalToWorld(e,t){return this.RebuildTransforms(),d.vec3.transformMat4(e,t,this._worldTransform)}GetDirection(e){return this.RebuildTransforms(),d.vec3.set(e,this._localTransform[8],this._localTransform[9],this._localTransform[10]),d.vec3.normalize(e,e)}GetRotation(e){return this.RebuildTransforms(),d.quat.copy(e,this.rotation)}GetEuler(e){return this.GetRotation(p),d.vec3.euler.fromQuat(e,p)}GetRotationMatrix(e){return d.mat4.fromRotation(e,this.rotation)}SetRotation(e){return d.quat.copy(this.rotation,e),this._rebuildLocal=!0,this}SetRotationFromValues(e,t,r,i){return d.quat.set(this.rotation,e,t,r,i),this._rebuildLocal=!0,this}SetRotationFromAxes(e,t,r){return d.quat.setAxes(this.rotation,e,t,r),this._rebuildLocal=!0,this}SetRotationFromAxisAngle(e,t){return d.quat.setAxisAngle(this.rotation,e,t),this._rebuildLocal=!0,this}SetRotationFromEuler(e){return d.vec3.euler.getQuat(this.rotation,e),this._rebuildLocal=!0,this}SetRotationFromEulerValues(e,t,r){return d.vec3.set(b,e,t,r),this.SetRotationFromEuler(b)}SetRotationFromMat4(e){return d.mat4.getRotation(p,e),this.SetRotation(p)}RotateX(e){return d.quat.rotateX(this.rotation,this.rotation,e),this._rebuildLocal=!0,this}RotateY(e){return d.quat.rotateY(this.rotation,this.rotation,e),this._rebuildLocal=!0,this}RotateZ(e){return d.quat.rotateZ(this.rotation,this.rotation,e),this._rebuildLocal=!0,this}RotateOnAxisAngle(e,t){return d.quat.setAxisAngle(p,e,t),d.quat.multiply(this.rotation,this.rotation,p),this._rebuildLocal=!0,this}GetAxisAngle(e){return d.quat.getAxisAngle(e,this.rotation)}LookAt(e,t){return this.RebuildTransforms(),d.mat4.copy(v,this._localTransform),t?d.mat4.lookAtGL(v,this.translation,e,d.vec3.Y_AXIS):d.mat4.lookAtGL(v,e,this.translation,d.vec3.Y_AXIS),d.mat4.getRotation(this.rotation,v),this._rebuildLocal=!0,this}LookAtWorld(e,t){return this.GetWorldToLocal(b,e),this.LookAt(b,t)}GetTranslation(e){return this.RebuildTransforms(),d.vec3.copy(e,this.translation)}SetTranslation(e){return d.vec3.copy(this.translation,e),this._rebuildLocal=!0,this}SetTranslationFromValues(e,t,r){return d.vec3.set(this.translation,e,t,r),this._rebuildLocal=!0,this}SetTranslationFromMat4(e){return d.mat4.getTranslation(this.translation,e),this._rebuildLocal=!0,this}TranslateOnAxis(e,t){return d.vec3.transformQuat(b,e,this.rotation),d.vec3.scaleAndAdd(this.translation,this.translation,b,t),this._rebuildLocal=!0,this}TranslateX(e){return this.TranslateOnAxis(d.vec3.X_AXIS,e)}TranslateY(e){return this.TranslateOnAxis(d.vec3.Y_AXIS,e)}TranslateZ(e){return this.TranslateOnAxis(d.vec3.Z_AXIS,e)}GetScale(e){return this.RebuildTransforms(),d.vec3.copy(e,this.scaling)}GetMaxScale(){return Math.max(this.scaling[0],this.scaling[1],this.scaling[2])}SetScale(e){return d.vec3.copy(this.scaling,e),this._rebuildLocal=!0,this}SetScaleFromValues(e,t,r){return d.vec3.set(b,e,t,r),this.SetScale(b)}SetScaleX(e){return this.SetScaleFromValues(e,this.scaling[1],this.scaling[2])}SetScaleY(e){return this.SetScaleFromValues(this.scaling[0],e,this.scaling[2])}SetScaleZ(e){return this.SetScaleFromValues(this.scaling[0],this.scaling[1],e)}SetScaleUniform(e){return this.SetScaleFromValues(e,e,e)}SetScaleFromMat4(e){return d.mat4.getScaling(this.scaling,e),this._rebuildLocal=!0,this}Scale(e){return d.vec3.multiply(this.scaling,this.scaling,e),this._rebuildLocal=!0,this}ScaleValues(e,t,r){return d.vec3.set(b,e,t,r),this.Scale(b)}ScaleMat4(e){return d.mat4.getScaling(b,e),this.Scale(b)}ScaleUniform(e){return this.ScaleValues(e,e,e)}ScaleX(e){return this.ScaleValues(e,1,1)}ScaleY(e){return this.ScaleValues(1,e,1)}ScaleZ(e){return this.ScaleValues(1,1,e)}static set(e,t,r){if(!t)return!1;var i,{transform:n,rotation:a,euler:o,scale:s,scaling:l,radius:u,translation:c,position:d}=t;if(void 0===s&&(s=l),void 0===s&&u&&(s=2*u),a||(a=o),c||(c=d),!(n||a||s||c))return!1;if(n){if(i=!0,!f.isMatrix4)throw new TypeError("Invalid transform matrix");e.SetTransform(n)}if(a)if(i=!0,Object(f.isVector3)(a))e.SetRotationFromEuler(a);else{if(!Object(f.isVector4)(a))throw new TypeError("Invalid rotation value");e.SetRotation(a)}if(void 0!==s)if(i=!0,Object(f.isNumber)(s))e.SetScaleUniform(s);else{if(!f.isVector3)throw new TypeError("Invalid scale");e.SetScale(s)}return c&&(i=!0,e.SetTranslation(c)),(i&&!r||!r.skipUpdate)&&e.UpdateValues(r),i}static get(e,t,r){return e.RebuildTransforms(r),super.get(e,t,r)}static Vector3FromObject(e){if("r"in e)return new Float32Array([e.r,e.g,e.b]);if("x"in e)return new Float32Array([e.x,e.y,e.z]);throw new Error("Invalid vector3 object")}static Vector4FromObject(e){if("r"in e)return new Float32Array([e.r,e.g,e.b,"a"in e?e.a:1]);if("x"in e)return new Float32Array([e.x,e.y,e.z,e.w]);throw new Error("Invalid vector4 object")}},s=m((o=c).prototype,"rotation",[i],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return d.quat.create()}}),l=m(o.prototype,"translation",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return d.vec3.create()}}),u=m(o.prototype,"scaling",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return d.vec3.fromValues(1,1,1)}}),o)},"./core/batch/Tw2BatchAccumulator.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tw2BatchAccumulator",(function(){return n}));var i=r("./global/index.js");class n{constructor(e=null){this.batches=[],this._sortMethod=null,this._sortMethod=e}get length(){return this.batches.length}Commit(e){this.batches.push(e)}Clear(){this.batches=[]}Render(e="Main"){this._sortMethod&&this.batches.sort(this._sortMethod);for(var t=0;t<this.batches.length;++t)this.batches[t]instanceof n?this.batches[t].Render(e):(this.batches[t].renderMode!==i.device.RM_ANY&&i.device.SetStandardStates(this.batches[t].renderMode),i.device.perObjectData=this.batches[t].perObjectData,this.batches[t].Commit(e))}}},"./core/batch/Tw2ForwardingRenderBatch.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tw2ForwardingRenderBatch",(function(){return n}));var i=r("./core/batch/Tw2RenderBatch.js");class n extends i.Tw2RenderBatch{constructor(...e){super(...e),this.geometryProvider=null}Commit(e){this.geometryProvider&&this.geometryProvider.Render(this,e)}}},"./core/batch/Tw2GeometryBatch.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tw2GeometryBatch",(function(){return n}));var i=r("./core/batch/Tw2RenderBatch.js");class n extends i.Tw2RenderBatch{constructor(...e){super(...e),this.geometryRes=null,this.meshIx=0,this.start=0,this.count=1,this.effect=null}Commit(e){this.geometryRes&&this.effect&&this.geometryRes.RenderAreas(this.meshIx,this.start,this.count,this.effect,e)}}},"./core/batch/Tw2GeometryLineBatch.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tw2GeometryLineBatch",(function(){return n}));var i=r("./core/batch/Tw2GeometryBatch.js");class n extends i.Tw2GeometryBatch{Commit(e){this.geometryRes&&this.effect&&this.geometryRes.RenderLines(this.meshIx,this.start,this.count,this.effect,e)}}},"./core/batch/Tw2InstancedMeshBatch.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tw2InstancedMeshBatch",(function(){return n}));var i=r("./core/batch/Tw2GeometryBatch.js");class n extends i.Tw2GeometryBatch{constructor(...e){super(...e),this.instanceMesh=null}Commit(e){this.instanceMesh&&this.effect&&this.instanceMesh.RenderAreas(this.meshIx,this.start,this.count,this.effect,e)}}},"./core/batch/Tw2RenderBatch.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tw2RenderBatch",(function(){return n}));var i=r("./global/constant/index.js");class n{constructor(){this.renderMode=i.RM_ANY,this.perObjectData=null}Commit(e){}}},"./core/batch/index.js":function(e,t,r){"use strict";r.r(t);var i=r("./core/batch/Tw2BatchAccumulator.js");r.d(t,"Tw2BatchAccumulator",(function(){return i.Tw2BatchAccumulator}));var n=r("./core/batch/Tw2ForwardingRenderBatch.js");r.d(t,"Tw2ForwardingRenderBatch",(function(){return n.Tw2ForwardingRenderBatch}));var a=r("./core/batch/Tw2GeometryBatch.js");r.d(t,"Tw2GeometryBatch",(function(){return a.Tw2GeometryBatch}));var o=r("./core/batch/Tw2GeometryLineBatch.js");r.d(t,"Tw2GeometryLineBatch",(function(){return o.Tw2GeometryLineBatch}));var s=r("./core/batch/Tw2RenderBatch.js");r.d(t,"Tw2RenderBatch",(function(){return s.Tw2RenderBatch}));var l=r("./core/batch/Tw2InstancedMeshBatch.js");r.d(t,"Tw2InstancedMeshBatch",(function(){return l.Tw2InstancedMeshBatch}))},"./core/data/Tw2PerObjectData.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tw2PerObjectData",(function(){return n}));var i=r("./core/data/Tw2RawData.js");class n{constructor(){this.vs=null,this.ps=null,this.ffe=null}static from(e,t){var r=new n;return e&&(e.ps&&(r.ps=i.Tw2RawData.from(e.ps,t)),e.vs&&(r.vs=i.Tw2RawData.from(e.vs,t)),e.ffe&&(r.ffe=i.Tw2RawData.from(e.ffe,t))),r}}},"./core/data/Tw2RawData.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tw2RawData",(function(){return n})),r.d(t,"ErrRawDataElementNotFound",(function(){return a}));var i=r("./core/Tw2Error.js");class n{constructor(){this.data=null,this.elements={},this._nextOffset=0}Has(e){return e in this.elements}Set(e,t){var r=this.elements[e];if(!r)throw new a({name:e});for(var i=0;i<r.size;i++)this.data[i+r.offset]=t[i]}SetIndex(e,t,r){var n=this.elements[e];if(!n)throw new a({name:e});if(t<0||t>=n.size)throw new i.ErrIndexBounds;this.data[t+n.offset]=r}Get(e){if(!this.elements[e])throw new a({name:e});return this.elements[e].array}FindElementFromIndex(e){if(e>=0&&e<this._nextOffset)for(var t in this.elements)if(this.elements.hasOwnProperty(t)){var{offset:r,size:i}=this.elements[t];if(e<r||e>r+i-1)continue;return this.elements[t]}return null}Declare(e,t){var r="number"!=typeof t,i=r?t.length:t,n=r?t:null;this.elements[e]={name:e,offset:this._nextOffset,array:null,size:i,value:n},this._nextOffset+=i}Create(){for(var e in this.data=new Float32Array(this._nextOffset),this.elements)if(this.elements.hasOwnProperty(e)){var t=this.elements[e];if(t.array=this.data.subarray(t.offset,t.offset+t.size),t.value){for(var r=0;r<t.size;r++)t.array[r]=t.value[r];Reflect.deleteProperty(t,"value")}}}static from(e,t){var r=new n;if(e){for(var i=0;i<e.length;i++)r.Declare(e[i][0],e[i][1]);t&&t.skipUpdate||r.Create()}return r}}class a extends i.Tw2Error{constructor(e){super(e,"Raw data element not found (%name%)")}}},"./core/data/index.js":function(e,t,r){"use strict";r.r(t);var i=r("./core/data/Tw2PerObjectData.js");r.d(t,"Tw2PerObjectData",(function(){return i.Tw2PerObjectData}));var n=r("./core/data/Tw2RawData.js");r.d(t,"Tw2RawData",(function(){return n.Tw2RawData})),r.d(t,"ErrRawDataElementNotFound",(function(){return n.ErrRawDataElementNotFound}))},"./core/engine/Tw2Device.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tw2Device",(function(){return h})),r.d(t,"ErrWebglContext",(function(){return m})),r.d(t,"ErrWebxrNotSupported",(function(){return b})),r.d(t,"ErrWebxrDeviceNotFound",(function(){return p})),r.d(t,"ErrWebxrRequestFailed",(function(){return v})),r.d(t,"ErrWebxrSessionNotSupported",(function(){return g}));var i,n,a=r("./global/math/index.js"),o=r("./global/utils/index.js"),s=r("./core/Tw2Error.js"),l=r("./core/Tw2EventEmitter.js"),u=r("./core/mesh/Tw2Effect.js"),c=r("./core/vertex/Tw2VertexDeclaration.js"),f=r("./global/constant/index.js");function d(e,t,r,i,n,a,o){try{var s=e[a](o),l=s.value}catch(e){return void r(e)}s.done?t(l):Promise.resolve(l).then(i,n)}class h extends l.Tw2EventEmitter{get glVersion(){return this.gl?this.gl instanceof WebGLRenderingContext?1:2:0}get canvas(){return this.gl?this.gl.canvas:null}constructor(e,t){super(),this.name="Device",this.gl=null,this.xr=null,this.store=null,this.canvas2d=null,this.dt=0,this.frameCounter=0,this.startTime=null,this.currentTime=null,this.previousTime=null,this.eyePosition=a.vec3.create(),this.targetResolution=a.vec4.create(),this.world=a.mat4.create(),this.view=a.mat4.create(),this.viewInverse=a.mat4.create(),this.viewTranspose=a.mat4.create(),this.projection=a.mat4.create(),this.projectionInverse=a.mat4.create(),this.projectionTranspose=a.mat4.create(),this.viewProjection=a.mat4.create(),this.viewProjectionTranspose=a.mat4.create(),this.viewportWidth=0,this.viewportHeight=0,this.viewportAspect=0,this.viewportPixelRatio="devicePixelRatio"in window?window.devicePixelRatio:1,this.effectDir="/effect.gles2/",this.mipLevelSkipCount=0,this.shaderModel="hi",this.enableAnisotropicFiltering=!0,this.enableAntialiasing=!0,this.enableWebgl2=!0,this.enableWebxr=!0,this.alphaBlendBackBuffer=!1,this.antialiasing=!0,this.msaaSamples=0,this.wrapModes=[],this.shadowHandles=null,this.perObjectData=null,this.onResize=null,this._extensions={},this._alphaBlendState=null,this._alphaTestState=null,this._depthOffsetState=null,this._shadowStateBuffer=null,this._quadBuffer=null,this._quadDecl=null,this._cameraQuadBuffer=null,this._currentRenderMode=f.RM_ANY,this._fallbackCube=null,this._fallbackTexture=null,this._blitEffect=null,this._Date=Date,this.store=e,this.logger=t,this.startTime=this.now,this.currentTime=this.startTime}Register(e){if(e){if(this.gl)throw new Error("Setting device options after gl creation is not yet supported");"performanceClock"in e&&(e.performance&&"performance"in window?this._Date=performance:this._Date=Date),"textureQuality"in e&&(this.mipLevelSkipCount=e.textureQuality),"shaderQuality"in e&&(this.shaderModel=e.shaderQuality),"anisotropicFilter"in e&&(this.enableAnisotropicFiltering=e.anisotropicFilter),"antialiasing"in e&&(this.enableAntialiasing=e.antialiasing),"webgl2"in e&&(this.enableWebgl2=e.webgl2),"webxr"in e&&(this.enableWebxr=e.webxr)}}CreateDevice({canvas:e,canvas2d:t,glParams:r={}}={}){this.gl=null,this.effectDir="/effect.gles2/";var i=Object.assign({},r);i.alpha=Object(o.get)(i,"alpha",!1),i.webgl2=this.enableWebgl2,i.xrCompatible=this.enableWebxr,i.antialiasing=!!this.enableAntialiasing&&Object(o.get)(i,"antialiasing",!0);var n=this.gl=h.CreateContext(i,e);this.logger.Debug({name:"Device",message:"Webgl".concat(this.glVersion," context created")});try{t&&(Object(o.isString)(t)&&(t=document.getElementById(t)),this.canvas2d={canvas:t,context:t.getContext("2d"),enabled:!0,autoResize:!0,OnResize:null,OnDraw:null})}catch(e){throw new Error("Invalid 2d canvas")}var a=()=>!1,s=()=>!0;if(1===this.glVersion){this.GetExtension("OES_standard_derivatives"),this.GetExtension("OES_element_index_uint"),this.GetExtension("OES_texture_float"),this.GetExtension("EXT_shader_texture_lod");var l=this.GetExtension("ANGLE_instanced_arrays");n.drawElementsInstanced=l?l.drawElementsInstancedANGLE.bind(l):a,n.drawArraysInstanced=l?l.drawArraysInstancedANGLE.bind(l):a,n.vertexAttribDivisor=l?l.vertexAttribDivisorANGLE.bind(l):a,n.hasInstancedArrays=l?s:a}else n.hasInstancedArrays=s;var u=this.GetExtension("EXT_texture_filter_anisotropic");if(u&&(u.maxAnisotropy=n.getParameter(u.MAX_TEXTURE_MAX_ANISOTROPY_EXT)),this.GetExtension("CCP_shader_binary")){var d=n.getParameter(this.gl.RENDERER).match(/Mali-(\w+).*/);d&&(this.effectDir="/effect.gles2.mali"+d[1]+"/")}this.alphaBlendBackBuffer=i.alpha,this.msaaSamples=this.gl.getParameter(this.gl.SAMPLES),this.antialiasing=this.msaaSamples>1,this.Resize();this._quadBuffer=n.createBuffer(),n.bindBuffer(n.ARRAY_BUFFER,this._quadBuffer),n.bufferData(n.ARRAY_BUFFER,new Float32Array([1,1,0,1,1,1,-1,1,0,1,0,1,1,-1,0,1,1,0,-1,-1,0,1,0,0]),n.STATIC_DRAW),this._cameraQuadBuffer=n.createBuffer(),this._quadDecl=c.Tw2VertexDeclaration.from([{usage:"POSITION",usageIndex:0,elements:4},{usage:"TEXCOORD",usageIndex:0,elements:2}]),this.wrapModes=Array.from(f.WrapModes),this._alphaBlendState={dirty:!1,states:{[f.RS_SRCBLEND]:f.BLEND_SRCALPHA,[f.RS_DESTBLEND]:f.BLEND_INVSRCALPHA,[f.RS_BLENDOP]:f.BLENDOP_ADD,[f.RS_SEPARATEALPHABLENDENABLE]:0,[f.RS_BLENDOPALPHA]:f.BLENDOP_ADD,[f.RS_SRCBLENDALPHA]:f.BLEND_SRCALPHA,[f.RS_DESTBLENDALPHA]:f.BLEND_INVSRCALPHA}},this._alphaTestState={dirty:!1,states:{[f.RS_ALPHATESTENABLE]:0,[f.RS_ALPHAREF]:-1,[f.RS_ALPHAFUNC]:f.CMP_GREATER,[f.RS_CLIPPING]:0,[f.RS_CLIPPLANEENABLE]:0}},this._depthOffsetState={dirty:!1,states:{[f.RS_SLOPESCALEDEPTHBIAS]:0,[f.RS_DEPTHBIAS]:0}},this._shadowStateBuffer=new Float32Array(24)}SetPixelRatio(e){this.viewportPixelRatio!==e&&(this.viewportPixelRatio=e,this.Resize())}Resize(){this.onResize?this.onResize(this.canvas):(this.canvas.width=Math.floor(this.canvas.clientWidth*this.viewportPixelRatio),this.canvas.height=Math.floor(this.canvas.clientHeight*this.viewportPixelRatio)),this.viewportWidth=this.canvas.width,this.viewportHeight=this.canvas.height,this.viewportAspect=this.viewportWidth/this.viewportHeight;var e={width:this.viewportWidth,height:this.viewportHeight,aspect:this.viewportAspect};this.canvas2d&&this.canvas2d.enabled&&(this.canvas2d.autoResize&&(this.canvas2d.canvas.width=this.viewportWidth,this.canvas2d.canvas.height=this.viewportHeight),this.canvas2d.OnResize&&this.canvas2d.OnResize(e)),this.store.variables.SetValue("ViewportSize",[this.viewportWidth,this.viewportHeight,this.viewportWidth,this.viewportHeight]),this.EmitEvent("resized",e)}get now(){return this._Date.now()}StartFrame(){this.canvas.clientWidth===this.viewportWidth&&this.canvas.clientHeight===this.viewportHeight||this.Resize();var e=null===this.previousTime?0:this.previousTime,t=this.now;this.currentTime=.001*(t-this.startTime),this.dt=null===this.previousTime?0:.001*(t-this.previousTime),this.previousTime=t,this.store.variables.SetValue("Time",[this.currentTime,this.currentTime-Math.floor(this.currentTime),this.frameCounter,e]),this.frameCounter++}EndFrame(){this.canvas2d&&this.canvas2d.enabled&&this.canvas2d.OnDraw&&this.canvas2d.OnDraw()}SetWorld(e){a.mat4.copy(this.world,e)}SetView(e){a.mat4.copy(this.view,e),a.mat4.invert(this.viewInverse,this.view),a.mat4.transpose(this.viewTranspose,this.view),a.mat4.getTranslation(this.eyePosition,this.viewInverse),this.UpdateViewProjection()}SetProjection(e,t){a.mat4.copy(this.projection,e),a.mat4.transpose(this.projectionTranspose,this.projection),a.mat4.invert(this.projectionInverse,this.projection),this.GetTargetResolution(this.targetResolution),t&&this.UpdateViewProjection()}UpdateViewProjection(){a.mat4.multiply(this.viewProjection,this.projection,this.view),a.mat4.transpose(this.viewProjectionTranspose,this.viewProjection),this.store.variables.SetValue("ViewProjectionMat",this.viewProjection)}GetTargetResolution(e=a.vec4.create()){var t=this.projection[0]?this.projection[5]/this.projection[0]:0,r=1;t>1.6&&(r=t/1.6);var i=2*Math.atan(r/this.projection[5]);return e[0]=this.viewportWidth,e[1]=this.viewportHeight,e[2]=i,e[3]=i*t,e}GetEyePosition(e=a.vec3.create()){return a.vec3.copy(e,this.eyePosition)}IsAlphaTestEnabled(){return this._alphaTestState.states[f.RS_ALPHATESTENABLE]}IsFrameBufferComplete(e){return this.gl.checkFramebufferStatus(e)===this.gl.FRAMEBUFFER_COMPLETE}GetExtension(e){if(!(e in this._extensions)){for(var t,r=0;r<f.VendorWebglPrefixes.length&&!(t=this.gl.getExtension(f.VendorWebglPrefixes[r]+e));r++)t=null;this._extensions[e]=t}return this._extensions[e]}GetFallbackTexture(){return this._fallbackTexture||(this._fallbackTexture=this.CreateSolidTexture()),this._fallbackTexture}GetFallbackCubeMap(){return this._fallbackCube||(this._fallbackCube=this.CreateSolidCube()),this._fallbackCube}CreateSolidTexture(e=[0,0,0,0]){var t=this.gl,r=this.gl.createTexture();return t.bindTexture(t.TEXTURE_2D,r),t.texImage2D(t.TEXTURE_2D,0,t.RGBA,1,1,0,t.RGBA,t.UNSIGNED_BYTE,new Uint8Array(e)),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,t.NEAREST),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t.NEAREST),t.bindTexture(t.TEXTURE_2D,null),r}CreateSolidCube(e=[0,0,0,0]){var t=this.gl,r=this.gl.createTexture();t.bindTexture(t.TEXTURE_CUBE_MAP,r);for(var i=0;i<6;++i)t.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+i,0,t.RGBA,1,1,0,t.RGBA,t.UNSIGNED_BYTE,new Uint8Array(e));return t.texParameteri(t.TEXTURE_CUBE_MAP,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_CUBE_MAP,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_CUBE_MAP,t.TEXTURE_MAG_FILTER,t.NEAREST),t.texParameteri(t.TEXTURE_CUBE_MAP,t.TEXTURE_MIN_FILTER,t.NEAREST),t.bindTexture(t.TEXTURE_CUBE_MAP,null),r}RenderFullScreenQuad(e,t="Main"){if(!e||!e.IsGood())return!1;var r=this.gl;r.bindBuffer(r.ARRAY_BUFFER,this._quadBuffer);for(var i=0;i<e.GetPassCount(t);++i){if(e.ApplyPass(t,i),!this._quadDecl.SetDeclaration(this,e.GetPassInput(t,i),24))return!1;this.ApplyShadowState(),r.drawArrays(r.TRIANGLE_STRIP,0,4)}return!0}RenderTexture(e){return null===this._blitEffect&&(this._blitEffect=u.Tw2Effect.from({effectFilePath:"res:/graphics/effect/managed/space/system/blit.fx",textures:{BlitSource:""}})),this._blitEffect.parameters.BlitSource.SetTextureRes(e),this.RenderFullScreenQuad(this._blitEffect)}RenderCameraSpaceQuad(e,t="Main"){if(!e||!e.IsGood())return!1;for(var r=new Float32Array([1,1,0,1,1,1,-1,1,0,1,0,1,1,-1,0,1,1,0,-1,-1,0,1,0,0]),i=this.projectionInverse,n=0;n<4;++n){var o=r.subarray(6*n,6*n+4);a.vec4.transformMat4(o,o,i),a.vec3.scale(o,o,1/o[3]),o[3]=1}var s=this.gl;s.bindBuffer(s.ARRAY_BUFFER,this._cameraQuadBuffer),s.bufferData(s.ARRAY_BUFFER,r,s.STATIC_DRAW);for(var l=0;l<e.GetPassCount(t);++l){if(e.ApplyPass(t,l),!this._quadDecl.SetDeclaration(this,e.GetPassInput(t,l),24))return!1;this.ApplyShadowState(),s.drawArrays(s.TRIANGLE_STRIP,0,4)}return!0}SetRenderState(e,t){var r=this.gl;switch(this._currentRenderMode=f.RM_ANY,e){case f.RS_ZENABLE:return void(t?r.enable(r.DEPTH_TEST):r.disable(r.DEPTH_TEST));case f.RS_ZWRITEENABLE:return void r.depthMask(!!t);case f.RS_ALPHATESTENABLE:case f.RS_ALPHAREF:case f.RS_ALPHAFUNC:case f.RS_CLIPPING:case f.RS_CLIPPLANEENABLE:return void(this._alphaTestState[e]!==t&&(this._alphaTestState.states[e]=t,this._alphaTestState.dirty=!0));case f.RS_SRCBLEND:case f.RS_DESTBLEND:case f.RS_BLENDOP:case f.RS_SEPARATEALPHABLENDENABLE:case f.RS_BLENDOPALPHA:case f.RS_SRCBLENDALPHA:case f.RS_DESTBLENDALPHA:return void(this._alphaBlendState[e]!==t&&(this._alphaBlendState.states[e]=t,this._alphaBlendState.dirty=!0));case f.RS_CULLMODE:switch(t){case f.CULL_NONE:return void r.disable(r.CULL_FACE);case f.CULL_CW:return r.enable(r.CULL_FACE),void r.cullFace(r.FRONT);case f.CULL_CCW:return r.enable(r.CULL_FACE),void r.cullFace(r.BACK)}return;case f.RS_ZFUNC:return void r.depthFunc(512+t-1);case f.RS_ALPHABLENDENABLE:return void(t?r.enable(r.BLEND):r.disable(r.BLEND));case f.RS_COLORWRITEENABLE:return void r.colorMask(0!=(1&t),0!=(2&t),0!=(4&t),0!=(8&t));case f.RS_SCISSORTESTENABLE:return void(t?r.enable(r.SCISSOR_TEST):r.disable(r.SCISSOR_TEST));case f.RS_SLOPESCALEDEPTHBIAS:case f.RS_DEPTHBIAS:return t=a.num.dwordToFloat(t),void(this._depthOffsetState[e]!==t&&(this._depthOffsetState.states[e]=t,this._depthOffsetState.dirty=!0))}}ApplyShadowState(){var e,t,r,i=this.gl;if(this._alphaBlendState.dirty){var n=i.FUNC_ADD;this._alphaBlendState.states[f.RS_BLENDOP]===f.BLENDOP_SUBTRACT?n=i.FUNC_SUBTRACT:this._alphaBlendState.states[f.RS_BLENDOP]===f.BLENDOP_REVSUBTRACT&&(n=i.FUNC_REVERSE_SUBTRACT);var a=f.BlendTable[this._alphaBlendState.states[f.RS_SRCBLEND]],o=f.BlendTable[this._alphaBlendState.states[f.RS_DESTBLEND]];if(this._alphaBlendState.states[f.RS_SEPARATEALPHABLENDENABLE]){var s=i.FUNC_ADD;this._alphaBlendState.states[f.RS_BLENDOP]===f.BLENDOP_SUBTRACT?s=i.FUNC_SUBTRACT:this._alphaBlendState.states[f.RS_BLENDOP]===f.BLENDOP_REVSUBTRACT&&(s=i.FUNC_REVERSE_SUBTRACT);var l=f.BlendTable[this._alphaBlendState.states[f.RS_SRCBLENDALPHA]],u=f.BlendTable[this._alphaBlendState.states[f.RS_DESTBLENDALPHA]];i.blendEquationSeparate(n,s),i.blendFuncSeparate(a,o,l,u)}else i.blendEquation(n),i.blendFunc(a,o);this._alphaBlendState.dirty=!1}if(this._depthOffsetState.dirty&&(i.polygonOffset(this._depthOffsetState.states[f.RS_SLOPESCALEDEPTHBIAS],this._depthOffsetState.states[f.RS_DEPTHBIAS]),this._depthOffsetState.dirty=!1),this.shadowHandles&&this._alphaTestState.states[f.RS_ALPHATESTENABLE]){switch(this._alphaTestState.states[f.RS_ALPHAFUNC]){case f.CMP_NEVER:e=0,t=1,r=-256;break;case f.CMP_LESS:e=0,t=-1,r=this._alphaTestState.states[f.RS_ALPHAREF]-1;break;case f.CMP_EQUAL:e=1,t=0,r=this._alphaTestState.states[f.RS_ALPHAREF];break;case f.CMP_LEQUAL:e=0,t=-1,r=this._alphaTestState.states[f.RS_ALPHAREF];break;case f.CMP_GREATER:e=0,t=1,r=-this._alphaTestState.states[f.RS_ALPHAREF]-1;break;case f.CMP_GREATEREQUAL:e=0,t=1,r=-this._alphaTestState.states[f.RS_ALPHAREF];break;default:e=0,t=0,r=1}i.uniform4f(this.shadowHandles.shadowStateInt,t,r,e,0)}}SetStandardStates(e){if(this._currentRenderMode!==e){switch(this.gl.frontFace(this.gl.CW),e){case f.RM_OPAQUE:case f.RM_PICKABLE:this.SetRenderState(f.RS_ZENABLE,!0),this.SetRenderState(f.RS_ZWRITEENABLE,!0),this.SetRenderState(f.RS_ZFUNC,f.CMP_LEQUAL),this.SetRenderState(f.RS_CULLMODE,f.CULL_CW),this.SetRenderState(f.RS_ALPHABLENDENABLE,!1),this.SetRenderState(f.RS_ALPHATESTENABLE,!1),this.SetRenderState(f.RS_SEPARATEALPHABLENDENABLE,!1),this.SetRenderState(f.RS_SLOPESCALEDEPTHBIAS,0),this.SetRenderState(f.RS_DEPTHBIAS,0),this.SetRenderState(f.RS_COLORWRITEENABLE,15);break;case f.RM_DECAL:this.SetRenderState(f.RS_ALPHABLENDENABLE,!1),this.SetRenderState(f.RS_ALPHATESTENABLE,!0),this.SetRenderState(f.RS_ALPHAFUNC,f.CMP_GREATER),this.SetRenderState(f.RS_ALPHAREF,127),this.SetRenderState(f.RS_ZENABLE,!0),this.SetRenderState(f.RS_ZWRITEENABLE,!0),this.SetRenderState(f.RS_ZFUNC,f.CMP_LEQUAL),this.SetRenderState(f.RS_CULLMODE,f.CULL_CW),this.SetRenderState(f.RS_BLENDOP,f.BLENDOP_ADD),this.SetRenderState(f.RS_SLOPESCALEDEPTHBIAS,0),this.SetRenderState(f.RS_DEPTHBIAS,0),this.SetRenderState(f.RS_SEPARATEALPHABLENDENABLE,!1),this.SetRenderState(f.RS_COLORWRITEENABLE,15);break;case f.RM_TRANSPARENT:this.SetRenderState(f.RS_CULLMODE,f.CULL_CW),this.SetRenderState(f.RS_ALPHABLENDENABLE,!0),this.SetRenderState(f.RS_SRCBLEND,f.BLEND_SRCALPHA),this.SetRenderState(f.RS_DESTBLEND,f.BLEND_INVSRCALPHA),this.SetRenderState(f.RS_BLENDOP,f.BLENDOP_ADD),this.SetRenderState(f.RS_ZENABLE,!0),this.SetRenderState(f.RS_ZWRITEENABLE,!1),this.SetRenderState(f.RS_ZFUNC,f.CMP_LEQUAL),this.SetRenderState(f.RS_ALPHATESTENABLE,!1),this.SetRenderState(f.RS_SLOPESCALEDEPTHBIAS,0),this.SetRenderState(f.RS_DEPTHBIAS,0),this.SetRenderState(f.RS_SEPARATEALPHABLENDENABLE,!1),this.SetRenderState(f.RS_COLORWRITEENABLE,15);break;case f.RM_ADDITIVE:this.SetRenderState(f.RS_CULLMODE,f.CULL_NONE),this.SetRenderState(f.RS_ALPHABLENDENABLE,!0),this.SetRenderState(f.RS_SRCBLEND,f.BLEND_ONE),this.SetRenderState(f.RS_DESTBLEND,f.BLEND_ONE),this.SetRenderState(f.RS_BLENDOP,f.BLENDOP_ADD),this.SetRenderState(f.RS_ZENABLE,!0),this.SetRenderState(f.RS_ZWRITEENABLE,!1),this.SetRenderState(f.RS_ZFUNC,f.CMP_LEQUAL),this.SetRenderState(f.RS_ALPHATESTENABLE,!1),this.SetRenderState(f.RS_SLOPESCALEDEPTHBIAS,0),this.SetRenderState(f.RS_DEPTHBIAS,0),this.SetRenderState(f.RS_SEPARATEALPHABLENDENABLE,!1),this.SetRenderState(f.RS_COLORWRITEENABLE,15);break;case f.RM_FULLSCREEN:this.SetRenderState(f.RS_ALPHABLENDENABLE,!1),this.SetRenderState(f.RS_ALPHATESTENABLE,!1),this.SetRenderState(f.RS_CULLMODE,f.CULL_NONE),this.SetRenderState(f.RS_ZENABLE,!1),this.SetRenderState(f.RS_ZWRITEENABLE,!1),this.SetRenderState(f.RS_ZFUNC,f.CMP_ALWAYS),this.SetRenderState(f.RS_SLOPESCALEDEPTHBIAS,0),this.SetRenderState(f.RS_DEPTHBIAS,0),this.SetRenderState(f.RS_SEPARATEALPHABLENDENABLE,!1),this.SetRenderState(f.RS_COLORWRITEENABLE,15);break;case f.RM_DISTORTION:case f.RM_DEPTH:default:return}this._currentRenderMode=e}}RequestAnimationFrame(e){return this.xr?this.xr.RequestAnimationFrame(e):this.constructor.RequestAnimationFrame(e)}CancelAnimationFrame(e){return this.xr?this.xr.CancelAnimationFrame(e):this.constructor.CancelAnimationFrame(e)}static CreateContext(e={},t){Object(o.isString)(t)&&(t=document.getElementById(t)),t||(t=document.createElement("canvas"));var r=e.webgl2?["webgl2"]:["webgl","experimental-webgl"],i=null;for(var n of r)if(i=t.getContext(n,e))break;if(!i)throw new m({version:e.webgl2?2:1});return i}static FindXRDevice(e){return(t=function*(){if(!navigator.xr)throw new b;var t;try{t=yield navigator.xr.requestDevice()}catch(e){if("NotFoundError"===e.name||"NotFoundError"===e.message)throw new p({err:e.message});throw new v({err:e.message})}if(e)try{yield t.supportsSession(e)}catch(e){throw new g({err:e.message})}return t},function(){var e=this,r=arguments;return new Promise((function(i,n){var a=t.apply(e,r);function o(e){d(a,i,n,o,s,"next",e)}function s(e){d(a,i,n,o,s,"throw",e)}o(void 0)}))})();var t}}h.RequestAnimationFrame=(i=Object(o.get)(window,f.VendorRequestAnimationFrame),e=>i(e)),h.CancelAnimationFrame=(n=Object(o.get)(window,f.VendorCancelAnimationFrame),e=>n(e)),h.prototype.RM_ANY=f.RM_ANY,h.prototype.RM_OPAQUE=f.RM_OPAQUE,h.prototype.RM_DECAL=f.RM_DECAL,h.prototype.RM_TRANSPARENT=f.RM_TRANSPARENT,h.prototype.RM_ADDITIVE=f.RM_ADDITIVE,h.prototype.RM_DEPTH=f.RM_DEPTH,h.prototype.RM_DISTORTION=f.RM_DISTORTION,h.prototype.RM_FULLSCREEN=f.RM_FULLSCREEN,h.prototype.RM_PICKABLE=f.RM_PICKABLE;class m extends s.Tw2Error{constructor(e){super(e,"Unable to create webgl context (%version%)")}}class b extends s.Tw2Error{constructor(e){super(e,"Webxr not supported")}}class p extends s.Tw2Error{constructor(e){super(e,"Webxr device not found")}}class v extends s.Tw2Error{constructor(e){super(e,"Webxr request failed (%err%)")}}class g extends s.Tw2Error{constructor(e){super(e,"Webxr session not supported (%err%)")}}},"./core/engine/Tw2Library.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tw2Library",(function(){return b}));var i=r("./core/Tw2EventEmitter.js"),n=r("./core/engine/Tw2ResMan.js"),a=r("./core/engine/Tw2Device.js"),o=r("./core/engine/Tw2Logger.js"),s=r("./core/reader/Tw2BlackPropertyReaders.js"),l=r("./core/Tw2Error.js"),u=r("./global/constant/index.js"),c=r("./global/math/index.js"),f=r("./global/utils/index.js");function d(e,t,r,i,n,a,o){try{var s=e[a](o),l=s.value}catch(e){return void r(e)}s.done?t(l):Promise.resolve(l).then(i,n)}function h(e){return function(){var t=this,r=arguments;return new Promise((function(i,n){var a=e.apply(t,r);function o(e){d(a,i,n,o,s,"next",e)}function s(e){d(a,i,n,o,s,"throw",e)}o(void 0)}))}}var m=0;class b extends i.Tw2EventEmitter{get gl(){return this.device.gl}get now(){return this.device.now}get frame(){return this.device.frameCounter}get canvas(){return this.device.canvas}get dt(){return this.device.dt}get width(){return this.device.viewportWidth}get height(){return this.device.viewportHeight}get aspect(){return this.device.viewportAspect}constructor(e){if(++m>1)throw new l.ErrSingletonInstantiation;var t;super(),this.math=c,this.util=f,this.logger=new o.Tw2Logger,this.consts=u,this.resMan=null,this.device=null,this.store=null,this._debugMode=!1,this.const=u,this.resMan=new n.Tw2ResMan(e,this.logger),this.device=new a.Tw2Device(e,this.logger),this.store=e,Object.defineProperty(this,"eveSof",{get:()=>{if(!t){var e=this.GetClass("EveSOF");t=new e(this)}return t}})}GetEveSOF(){return this.eveSof}SetDebugMode(e){this._debugMode=e,this.store.SetDebugMode(e),this.logger.SetDebugMode(e)}GetDebugMode(){return this._debugMode}Initialize(e={}){this.Register(e);var{render:t,glParams:r,canvas:i,canvas2d:n}=e;if(this.device.CreateDevice({canvas:i,canvas2d:n,glParams:r}),t){this.OnEvent("tick",t);var a=()=>{this.RequestAnimationFrame(a),this.StartFrame(),this.EndFrame()};this.RequestAnimationFrame(a)}}SetBlackPathHandler(e){s.path.handler=e}StartFrame(){this.device.StartFrame(),this.resMan.Tick(this.device)}EndFrame(){this.EmitEvent("tick",this.device.dt),this.device.EndFrame()}RequestAnimationFrame(e){return this.device.RequestAnimationFrame(e)}CancelAnimationFrame(e){return this.device.CancelAnimationFrame(e)}Log(e,t,r="Library"){return this.logger.Add(e,t,r)}Register(e={}){void 0!==e.debug&&this.SetDebugMode(e.debug),e.logger&&this.logger.Register(e.logger),e.resMan&&this.resMan.Register(e.resMan),e.device&&this.device.Register(e.device),e.store&&this.store.Register(e.store)}GetFullURL(e){return this.resMan.BuildUrl(e)}SetStandardStates(e){return this.device.SetStandardStates(e),this}GLColorMask(e){return this.device.gl.colorMask(e[0],e[1],e[2],e[3]),this}GLClearColor(e){return this.device.gl.clearColor(e[0],e[1],e[2],e[3]),this}GLClearDepth(e){return this.device.gl.clearDepth(e),this}GLViewport(e){return this.device.gl.viewport(e[0],e[1],e[2],e[3]),this}GLClear(e){return this.device.gl.clear(e),this}SetProjectionMatrix(e){return this.device.SetProjection(e),this}SetViewMatrix(e){return this.device.SetView(e),this}GetDeviceExtension(e){return this.device.GetExtension(e)}GetResource(e,t,r){return this.resMan.GetResource(e,t,r)}FetchResource(e){var t=this;return h((function*(){return t.resMan.FetchResource(e)}))()}FetchObject(e,t){var r=this;return h((function*(){var i;if(i=f.isDNA(e)?yield r.eveSof.FetchObject(e):yield r.resMan.FetchObject(e),!r.IsClass(i,t))throw new Error("Unexpected constructor: "+i.constructor.name);return i}))()}FetchBuildClass(e){var t=this;return h((function*(){return f.isDNA(e)?yield t.eveSof.FetchHullBuildClass(e):2}))()}IsClass(e,t){if(!t)return!0;var r;t=f.toArray(t);for(var i=0;i<t.length;i++){var n=t[i],a=!1;if(f.isString(n)&&("!"===n.charAt(0)&&(a=!0,n=n.substring(1)),n="Array"===n?Array:"Object"===n?Object:this.GetClass(n)),e instanceof n){r=!a;break}}return r}CreateVariable(e,t,r){return this.store.variables.Create(e,t,r)}HasVariable(e){return this.store.variables.Has(e)}GetVariable(e){return this.store.variables.Get(e)}GetVariableValue(e){return this.store.variables.GetValue(e)}SetVariable(e,t){return this.store.variables.Set(e,t)}SetVariableValue(e,t,r){return this.store.variables.SetValue(e,t,r)}HasExtension(e){return this.store.extensions.Has(e)}GetExtension(e){return this.store.extensions.Get(e)}SetExtension(e,t){return this.store.extensions.Set(e,t)}HasClass(e){return this.store.constructors.Has(e)}GetClass(e){return this.store.constructors.Get(e)}SetClass(e,t){return this.store.constructors.Set(e,t)}HasPath(e){return this.store.paths.Has(e)}GetPath(e){return this.store.paths.Get(e)}SetPath(e,t){return this.store.paths.Set(e,t)}HasDynamicPath(e){return this.store.dynamicPaths.Has(e)}GetDynamicPath(e){return this.store.dynamicPaths.Get(e)}SetDynamicPath(e,t){return this.store.dynamicPaths.Set(e,t)}HasType(e){return this.store.variableTypes.Has(e)}GetType(e){return this.store.variableTypes.Get(e)}GetTypeByValue(e){return this.store.variableTypes.GetByValue(e)}SetType(e,t){return this.store.variableTypes.Set(e,t)}}},"./core/engine/Tw2Logger.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tw2Logger",(function(){return a}));var i=r("./core/Tw2EventEmitter.js"),n=r("./global/utils/index.js");class a extends i.Tw2EventEmitter{constructor(...e){super(...e),this.name="",this.display=!0,this.history=100,this.throttle=20,this.visible={log:!0,info:!0,debug:!0,warn:!0,error:!0},this._logs=[],this._throttled=null,this._debugMode=!1}SetDebugMode(e){this._debugMode=!0}Register(e){e&&(Object(n.assignIfExists)(this,e,["name","display","history","throttle"]),Object(n.assignIfExists)(this.visible,e.visible,["log","info","debug","warn","error"]))}Debug(e){return this.Add("debug",e)}Info(e){return this.Add("info",e)}Warn(e){return this.Add("warn",e)}Error(e){return this.Add("error",e)}Log(e){return this.Add("log",e)}Add(e="log",t){if(t?Object(n.isString)(t)?t={message:t}:Object(n.isError)(t)&&(t={message:t.message,err:t}):t={message:""},t._logged)return t;if(t.type=e.toLowerCase(),t.name=t.name||"Logger",t.message=t.message?t.message.charAt(0).toUpperCase()+t.message.substring(1):"",a.LogType[t.type.toUpperCase()]||(t.type="log"),this.display&&this.visible[t.type]||(t.hide=!0),!this.throttle||this._debugMode)this._throttled=null;else if(!t.hide){this._throttled||(this._throttled={}),this._throttled[t.type]||(this._throttled[t.type]=[]);var r=this._throttled[t.type];r.includes(t.message)?t.hide=!0:(r.unshift(t.message),r.splice(this.throttle))}if(!t.hide||this._debugMode){var i="";t.path&&!t.message.includes(t.path)&&(i+="'".concat(t.path,"' ")),t.time&&(i+="in ".concat(t.time.toFixed(3)," secs ")),t.detail&&(i+="(".concat(t.detail,") "));var o="".concat(this.name," ").concat(t.name,":");t.err||t.data?(console.group(o,t.message,i),t.err&&console.error(t.err.stack||t.err.toString()),t.data&&console.debug(JSON.stringify(t.data,null,4)),console.groupEnd()):console[t.type](o,t.message,i)}var s=this._debugMode?1e3:this.history;return s?(this._logs.unshift(t),this._logs.splice(s)):this._logs=[],t._logged=!0,this.EmitEvent(t.type,t),t}}a.LogType={ERROR:"error",WARNING:"warn",WARN:"warn",INFO:"info",LOG:"log",DEBUG:"debug"}},"./core/engine/Tw2MotherLode.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tw2MotherLode",(function(){return i}));class i{constructor(){this._loadedObjects={},this._errors={}}AddError(e,t){return this._errors[e]=this._errors[e]||[],t.message.includes(e)||(t.message="".concat(t.message,' "').concat(e,'"')),this._errors[e].includes(t)||(t.path=e,this._errors[e].unshift(t)),t}GetErrors(e){return e&&e in this._errors?Array.from(this._errors[e]):[]}GetLastError(e){return e&&e in this._errors?this._errors[e][0]:void 0}HasErrors(e){return e&&e in this._errors}Find(e){return e in this._loadedObjects?this._loadedObjects[e]:null}Add(e,t){this._loadedObjects[e]=t}Has(e){return!!this._loadedObjects[e]}Remove(e){this._loadedObjects[e]&&Reflect.deleteProperty(this._loadedObjects,e)}Clear(e){for(var t in this._loadedObjects)this._loadedObjects.hasOwnProperty(t)&&(e&&e(this._loadedObjects[t]),this.Remove(t))}UnloadAndClear(e,t){this.Clear(r=>{r.Unload(t),e&&e(r)})}PurgeInactive(e,t,r){for(var i in this._loadedObjects)if(this._loadedObjects.hasOwnProperty(i)){var n=this._loadedObjects[i];if(n.doNotPurge)continue;if(n.IsPurged()){this.Remove(i);continue}var a=void 0;n.HasErrors()?a="errored":n.IsUnloaded()?a="unloaded":(n.IsLoaded()||n.IsPrepared())&&(e-n.activeFrame)%t>=r&&n.Unload({hide:!0,detail:"inactivity"})&&(a="inactivity"),a&&(n.OnPurged({detail:a}),this.Remove(i))}}}},"./core/engine/Tw2ResMan.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tw2ResMan",(function(){return c})),r.d(t,"ErrResourcePrefixUnregistered",(function(){return f})),r.d(t,"ErrResourcePrefixUndefined",(function(){return d})),r.d(t,"ErrResourceExtensionUnregistered",(function(){return h})),r.d(t,"ErrResourceExtensionUndefined",(function(){return m})),r.d(t,"ErrHTTPRequest",(function(){return b})),r.d(t,"ErrHTTPStatus",(function(){return p})),r.d(t,"ErrResourceFormatInvalid",(function(){return v})),r.d(t,"ErrResourceFormatUnsupported",(function(){return g}));var i=r("./core/engine/Tw2MotherLode.js"),n=r("./core/resource/Tw2LoadingObject.js"),a=r("./core/Tw2EventEmitter.js"),o=r("./core/Tw2Error.js"),s=r("./global/utils/index.js");function l(e,t,r,i,n,a,o){try{var s=e[a](o),l=s.value}catch(e){return void r(e)}s.done?t(l):Promise.resolve(l).then(i,n)}function u(e){return function(){var t=this,r=arguments;return new Promise((function(i,n){var a=e.apply(t,r);function o(e){l(a,i,n,o,s,"next",e)}function s(e){l(a,i,n,o,s,"throw",e)}o(void 0)}))}}class c extends a.Tw2EventEmitter{get pendingLoads(){return this._pendingLoads.length}constructor(e,t){super(),this.motherLode=new i.Tw2MotherLode,this.systemMirror=!1,this.maxPrepareTime=.05,this.autoPurgeResources=!0,this.activeFrame=0,this.purgeTime=30,this._prepareBudget=0,this._prepareQueue=[],this._purgeTime=0,this._purgeFrame=0,this._purgeFrameLimit=1e3,this._pendingLoads=[],this._noLoadFrames=0,this._eveSof=null,this.store=e,this.logger=t}Register(e){e&&Object(s.assignIfExists)(this,e,["systemMirror","maxPrepareTime","autoPurgeResources","purgeTime"])}OnPathError(e,t=new o.Tw2Error({path:e})){e=c.NormalizePath(e);var r=this.motherLode.Find(e);return r?r.OnError(t):(this.OnPathEvent(e,"error",t),t)}OnPathEvent(e,t,r={}){var i=this.motherLode.Find(e),n=Object(s.isError)(r)?r:void 0;n&&(this.motherLode.AddError(e,n),r={err:n,message:n.message}),r.path=e,r.message=r.message||t,r.name="Resource manager",this.EmitEvent(t,e,i,n),this.logger.Add(c.LogType[t.toUpperCase()],r)}IsLoading(){return this._noLoadFrames<2}Clear(e){this.motherLode.Clear(e)}UnloadAndClear(e,t){this.motherLode.UnloadAndClear(e,t)}Tick(e){0===this._prepareQueue.length&&0===this._pendingLoads.length?this._noLoadFrames<2&&this._noLoadFrames++:this._noLoadFrames=0,this._prepareBudget=this.maxPrepareTime;for(var t=e.now;this._prepareQueue.length;){var r=this._prepareQueue[0][0],i=this._prepareQueue[0][1],n=this._prepareQueue[0][2];this._prepareQueue.shift();try{if(r.Prepare(i,n),this._prepareBudget-=.001*(e.now-t),this._prepareBudget<0)break}catch(e){this._prepareBudget=0,r.OnError(e)}}return this._purgeTime+=e.dt,this._purgeTime>1&&(this.activeFrame+=1,this._purgeTime-=Math.floor(this._purgeTime),this._purgeFrame+=1,this._purgeFrame>=5&&this.autoPurgeResources&&this.motherLode.PurgeInactive(this._purgeFrame,this._purgeFrameLimit,this.purgeTime)),!0}Queue(e,t,r){this._prepareQueue.push([e,t,r])}GetResource(e,t,r){var i;if(e=c.NormalizePath(e),i=this.motherLode.Find(e))return i.RegisterCallbacks(t,r),i;try{i=new(this.GetResourceConstructor(e))}catch(t){return this.OnPathError(e,t),r&&r(t),null}return i.path=e,i.RegisterCallbacks(t,r),this.LoadResource(i)}FetchResource(e){var t=this;return u((function*(){return new Promise((r,i)=>{t.GetResource(e,r,i)})}))()}GetObject(e,t,r){if(Object(s.isDNA)(e)){if(!this._eveSof)throw new ReferenceError("Eve sof not provided");return this._eveSof.FetchObject(e).then(t).catch(r)}e=c.NormalizePath(e);var i=this.motherLode.Find(e);i?i.AddObject(t,r):((i=new n.Tw2LoadingObject).path=e,i.AddObject(t,r),this.LoadResource(i))}FetchObject(e){var t=this;return u((function*(){if(Object(s.isDNA)(e)){if(!t._eveSof)throw new ReferenceError("Eve sof not provided");return t._eveSof.FetchObject(e)}return new Promise((r,i)=>{t.GetObject(e,r,i)})}))()}LoadResource(e,t){if(this.motherLode.Add(e.path,e),e.HasErrors())return e;try{var r=this.BuildUrl(e.path);if(e.OnRequested(t),e.DoCustomLoad&&e.DoCustomLoad(r,Object(s.getPathExtension)(r)))return e;e.HasErrors()||this.Fetch(r,e.requestResponseType).then(t=>{e.OnLoaded(),this.Queue(e,t)}).catch(t=>{e.OnError(t)})}catch(t){e.OnError(t)}return e}AddPendingLoad(e){this._pendingLoads.push(e)}RemovePendingLoad(e){var t=this._pendingLoads.indexOf(e);-1!==t&&this._pendingLoads.splice(t,1)}Fetch(e,t){var r=this;return u((function*(){return r.AddPendingLoad(e),fetch(e).then(e=>{if(!e.ok)throw e;if(Object(s.isFunction)(t))return t(e);switch(t){case"arraybuffer":return e.arrayBuffer();case"text":return e.text();case"json":return e.json();case"blob":return e.blob();default:throw new Error("Invalid fetch type: "+t)}}).then(t=>(r.RemovePendingLoad(e),t)).catch(t=>{if(r.RemovePendingLoad(e),t.text)return t.text().then(e=>{var r,{status:i,statusText:n}=t;try{n=(r=JSON.parse(e)).message||r.msg||r.error||r.err,Object(s.isBoolean)(n)&&(n=void 0)}catch(e){n="Failed to fetch resource"}throw new p({status:i,statusText:n,json:r})});throw t})}))()}GetResourceConstructor(e){if(0===(e=c.NormalizePath(e)).indexOf("dynamic:/"))throw new o.ErrFeatureNotImplemented({feature:"Dynamic resources"});var t=Object(s.getPathExtension)(e);if(null===t)throw new m({path:e});var r=this.store.extensions.Get(t);if(!r)throw new h({path:e,extension:t});return r}BuildUrl(e){var t=e.indexOf(":/");if(-1===t)throw new d({path:e});var r=e.substr(0,t);if("http"===r||"https"===r)return e;var i=this.store.paths.Get(r);if(!i)throw new f({path:e,prefix:r});return i+e.substr(t+2)}static NormalizePath(e){return e=(e=e.toLowerCase()).replace("\\","/")}}c.LogType={ERROR:"error",PURGED:"info",UNLOADED:"info",REQUESTED:"info",RELOADING:"info",LOADED:"info",PREPARED:"log",WARNING:"warn",DEBUG:"debug"};class f extends o.Tw2Error{constructor(e){super(e,"Unregistered resource prefix (%prefix%)")}}class d extends o.Tw2Error{constructor(e){super(e,"Undefined resource prefix")}}class h extends o.Tw2Error{constructor(e){super(e,"Unregistered resource extension (%extension%)")}}class m extends o.Tw2Error{constructor(e){super(e,"Undefined resource extension")}}class b extends o.Tw2Error{constructor(e){super(e,"Communication error while requesting resource")}}class p extends o.Tw2Error{constructor(e){super(e,"%statusText=Communication status error while loading resource% (%status%)")}}class v extends o.Tw2Error{constructor(e){super(e,"Invalid resource format: %format% (%reason%)")}}class g extends o.Tw2Error{constructor(e){super(e,"Unsupported resource format: %format%")}}},"./core/engine/Tw2Store.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tw2Store",(function(){return n}));var i=r("./core/store/index.js");class n{constructor(e){this.variableTypes=new i.Tw2VariableTypeStore,this.variables=new i.Tw2VariableStore(this.variableTypes),this.paths=new i.Tw2ResourcePathStore,this.dynamicPaths=new i.Tw2ResourceDynamicPathStore,this.extensions=new i.Tw2ResourceExtensionStore,this.constructors=new i.Tw2ConstructorStore(e)}SetDebugMode(e){this.constructors.SetDebugMode(e)}Register(e){e&&(e.variableTypes&&this.variableTypes.Register(e.variableTypes),e.constructors&&this.constructors.Register(e.constructors),e.variables&&this.variables.Register(e.variables),e.paths&&this.paths.Register(e.paths),e.dynamicPaths&&this.dynamicPaths.Register(e.dynamicPaths),e.extensions&&this.extensions.Register(e.extensions))}}},"./core/engine/index.js":function(e,t,r){"use strict";r.r(t);var i=r("./core/engine/Tw2Device.js");r.d(t,"Tw2Device",(function(){return i.Tw2Device})),r.d(t,"ErrWebglContext",(function(){return i.ErrWebglContext})),r.d(t,"ErrWebxrNotSupported",(function(){return i.ErrWebxrNotSupported})),r.d(t,"ErrWebxrDeviceNotFound",(function(){return i.ErrWebxrDeviceNotFound})),r.d(t,"ErrWebxrRequestFailed",(function(){return i.ErrWebxrRequestFailed})),r.d(t,"ErrWebxrSessionNotSupported",(function(){return i.ErrWebxrSessionNotSupported}));var n=r("./core/engine/Tw2Logger.js");r.d(t,"Tw2Logger",(function(){return n.Tw2Logger}));var a=r("./core/engine/Tw2MotherLode.js");r.d(t,"Tw2MotherLode",(function(){return a.Tw2MotherLode}));var o=r("./core/engine/Tw2ResMan.js");r.d(t,"Tw2ResMan",(function(){return o.Tw2ResMan})),r.d(t,"ErrResourcePrefixUnregistered",(function(){return o.ErrResourcePrefixUnregistered})),r.d(t,"ErrResourcePrefixUndefined",(function(){return o.ErrResourcePrefixUndefined})),r.d(t,"ErrResourceExtensionUnregistered",(function(){return o.ErrResourceExtensionUnregistered})),r.d(t,"ErrResourceExtensionUndefined",(function(){return o.ErrResourceExtensionUndefined})),r.d(t,"ErrHTTPRequest",(function(){return o.ErrHTTPRequest})),r.d(t,"ErrHTTPStatus",(function(){return o.ErrHTTPStatus})),r.d(t,"ErrResourceFormatInvalid",(function(){return o.ErrResourceFormatInvalid})),r.d(t,"ErrResourceFormatUnsupported",(function(){return o.ErrResourceFormatUnsupported}));var s=r("./core/engine/Tw2Library.js");r.d(t,"Tw2Library",(function(){return s.Tw2Library}));var l=r("./core/engine/Tw2Store.js");r.d(t,"Tw2Store",(function(){return l.Tw2Store}))},"./core/geometry/Tw2BlendShapeData.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tw2BlendShapeData",(function(){return w}));var i,n,a,o,s,l,u,c,f,d,h,m,b,p=r("./global/utils/index.js"),v=r("./core/vertex/index.js");function g(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function y(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var w=(i=p.meta.type("Tw2BlendShapeData"),n=p.meta.string,a=p.meta.struct("Tw2VertexDeclaration"),o=p.meta.vector,s=p.meta.unknown,l=p.meta.unknown,i((f=y((c=class{constructor(){g(this,"name",f,this),g(this,"declaration",d,this),g(this,"buffers",h,this),g(this,"indexes",m,this),g(this,"weightProxy",b,this)}}).prototype,"name",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),d=y(c.prototype,"declaration",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new v.Tw2VertexDeclaration}}),h=y(c.prototype,"buffers",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),m=y(c.prototype,"indexes",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),b=y(c.prototype,"weightProxy",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),u=c))||u)},"./core/geometry/Tw2GeometryAnimation.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tw2GeometryAnimation",(function(){return b}));var i,n,a,o,s,l,u,c,f,d=r("./global/utils/index.js");function h(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function m(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var b=(i=d.meta.type("Tw2GeometryAnimation"),n=d.meta.string,a=d.meta.float,o=d.meta.list("Tw2GeometryTrackGroup"),i((u=m((l=class{constructor(){h(this,"name",u,this),h(this,"duration",c,this),h(this,"trackGroups",f,this)}}).prototype,"name",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),c=m(l.prototype,"duration",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),f=m(l.prototype,"trackGroups",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),s=l))||s)},"./core/geometry/Tw2GeometryBone.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tw2GeometryBone",(function(){return O}));var i,n,a,o,s,l,u,c,f,d,h,m,b,p,v,g,y,w,E,T,S,_=r("./global/utils/index.js"),j=r("./global/math/index.js");function R(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function z(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var O=(i=_.meta.type("Tw2GeometryBone"),n=_.meta.string,a=_.meta.uint,o=_.meta.vector3,s=_.meta.quaternion,l=_.meta.matrix4,u=_.meta.matrix4,c=_.meta.matrix4,f=_.meta.matrix4,i((S=T=class e{constructor(){R(this,"name",m,this),R(this,"parentIndex",b,this),R(this,"position",p,this),R(this,"orientation",v,this),R(this,"scaleShear",g,this),R(this,"localTransform",y,this),R(this,"worldTransform",w,this),R(this,"worldTransformInv",E,this)}UpdateTransform(){j.mat4.fromMat3(this.localTransform,this.scaleShear),j.quat.normalize(this.orientation,this.orientation);var t=j.mat4.fromQuat(e.global.mat4_0,this.orientation);return j.mat4.multiply(this.localTransform,this.localTransform,t),this.localTransform[12]=this.position[0],this.localTransform[13]=this.position[1],this.localTransform[14]=this.position[2],this.localTransform}},T.global={mat4_0:j.mat4.create()},m=z((h=S).prototype,"name",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),b=z(h.prototype,"parentIndex",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return-1}}),p=z(h.prototype,"position",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return j.vec3.create()}}),v=z(h.prototype,"orientation",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return j.quat.create()}}),g=z(h.prototype,"scaleShear",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return j.mat3.create()}}),y=z(h.prototype,"localTransform",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return j.mat4.create()}}),w=z(h.prototype,"worldTransform",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return j.mat4.create()}}),E=z(h.prototype,"worldTransformInv",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return j.mat4.create()}}),d=h))||d)},"./core/geometry/Tw2GeometryCurve.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tw2GeometryCurve",(function(){return v}));var i,n,a,o,s,l,u,c,f,d,h,m=r("./global/utils/index.js");function b(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function p(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var v=(i=m.meta.type("Tw2GeometryCurve"),n=m.meta.float,a=m.meta.float,o=m.meta.vector,s=m.meta.vector,i((c=p((u=class{constructor(){b(this,"dimension",c,this),b(this,"degree",f,this),b(this,"knots",d,this),b(this,"controls",h,this)}}).prototype,"dimension",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),f=p(u.prototype,"degree",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),d=p(u.prototype,"knots",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),h=p(u.prototype,"controls",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),l=u))||l)},"./core/geometry/Tw2GeometryMesh.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tw2GeometryMesh",(function(){return U}));var i,n,a,o,s,l,u,c,f,d,h,m,b,p,v,g,y,w,E,T,S,_,j,R,z,O,P,A,x,M,C,D,I,L=r("./global/utils/index.js"),F=r("./global/math/index.js"),G=r("./core/vertex/index.js");r("./core/geometry/Tw2GeometryMeshArea.js");function B(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function N(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var U=(i=L.meta.type("Tw2GeometryMesh"),n=L.meta.string,a=L.meta.struct("Tw2VertexDeclaration"),o=L.meta.list("Tw2GeometryMeshArea"),s=L.meta.vector,l=L.meta.uint,u=L.meta.struct("WebGLBuffer"),c=L.meta.struct("WebGLBuffer"),f=L.meta.vector,d=L.meta.uint,h=L.meta.vector3,m=L.meta.vector3,b=L.meta.vector3,p=L.meta.float,v=L.meta.list("Tw2GeometryBone"),g=L.meta.list("String"),i((E=N((w=class e{constructor(){B(this,"name",E,this),B(this,"declaration",T,this),B(this,"areas",S,this),B(this,"buffer",_,this),B(this,"bufferLength",j,this),B(this,"bufferData",R,this),B(this,"indexes",z,this),B(this,"indexData",O,this),B(this,"indexType",P,this),B(this,"minBounds",A,this),B(this,"maxBounds",x,this),B(this,"boundsSpherePosition",M,this),B(this,"boundsSphereRadius",C,this),B(this,"bones",D,this),B(this,"boneBindings",I,this),this._faces=0,this._vertices=0,this._areas=0}GetBoundingBox(e,t){return F.box3.fromBounds(e,this.minBounds,this.maxBounds),t&&F.box3.transformMat4(e,e,t),!0}GetBoundingSphere(e,t){return F.sph3.fromPositionRadius(e,this.boundsSpherePosition,this.boundsSphereRadius),t&&F.sph3.transformMat4(e,e,t),!0}RebuildBounds(e){var t=this.minBounds,r=this.maxBounds;F.box3.bounds.empty(t,r);for(var i=0;i<this.areas.length;i++){var n=this.areas[i];this.RebuildAreaBounds(n,this.bufferData,this.indexData,e),F.box3.bounds.union(t,r,t,r,n.minBounds,n.maxBounds)}this.boundsSphereRadius=F.box3.bounds.toPositionRadius(t,r,this.boundsSpherePosition)}RebuildAreaBounds(t,r,i,n){if(!n||!r||!i)return!1;var a=this.declaration.FindUsage(0,0);if(!a)return!1;var o=this.declaration.stride/4,s=a.offset,l=e.GetBoundsFromVertices(F.box3.create(),t.start,t.count,o,s,r,i);return F.box3.toBounds(l,t.minBounds,t.maxBounds),t.boundsSphereRadius=F.box3.toPositionRadius(l,t.boundsSpherePosition),!0}static GetFaceVertexIndices(e,t,r){if(t>=r.length/3)throw new Error("Invalid index: "+t);for(var i=0;i<3;i++)e[i]=r[3*t+i];return e}static GetVertexPosition(e,t,r,i,n){if(!Object(L.isNumber)(t)||t>n.length/r)throw new Error("Invalid vertex index: "+t);var a=t*r;return F.vec3.set(e,n[a+i],n[a+i+1],n[a+i+2])}static GetBoundsFromVertices(e,t,r,i,n,a,o){r/=3,t=t/3/o.BYTES_PER_ELEMENT;var s=[],l=F.vec3.create(),u=F.vec3.create();F.box3.empty(e);for(var c=0;c<r;c++){this.GetFaceVertexIndices(l,c+t,o);for(var f=0;f<3;f++)s.includes(l[f])||(s.push(l[f]),this.GetVertexPosition(u,l[f],i,n,a),F.box3.addPoint(e,e,u))}return e}}).prototype,"name",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),T=N(w.prototype,"declaration",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new G.Tw2VertexDeclaration}}),S=N(w.prototype,"areas",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),_=N(w.prototype,"buffer",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),j=N(w.prototype,"bufferLength",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),R=N(w.prototype,"bufferData",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),z=N(w.prototype,"indexes",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),O=N(w.prototype,"indexData",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),P=N(w.prototype,"indexType",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),A=N(w.prototype,"minBounds",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return F.vec3.fromValues(0,0,0)}}),x=N(w.prototype,"maxBounds",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return F.vec3.fromValues(0,0,0)}}),M=N(w.prototype,"boundsSpherePosition",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return F.vec3.create()}}),C=N(w.prototype,"boundsSphereRadius",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),D=N(w.prototype,"bones",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),I=N(w.prototype,"boneBindings",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),y=w))||y)},"./core/geometry/Tw2GeometryMeshArea.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tw2GeometryMeshArea",(function(){return _}));var i,n,a,o,s,l,u,c,f,d,h,m,b,p,v,g,y,w=r("./global/utils/index.js"),E=r("./global/math/index.js");function T(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function S(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var _=(i=w.meta.type("Tw2GeometryMeshArea"),n=w.meta.string,a=w.meta.uint,o=w.meta.uint,s=w.meta.vector3,l=w.meta.vector3,u=w.meta.vector3,c=w.meta.float,i((h=S((d=class{constructor(){T(this,"name",h,this),T(this,"start",m,this),T(this,"count",b,this),T(this,"minBounds",p,this),T(this,"maxBounds",v,this),T(this,"boundsSpherePosition",g,this),T(this,"boundsSphereRadius",y,this)}GetBoundingBox(e,t){return E.box3.fromBounds(e,this.minBounds,this.maxBounds),t&&E.box3.transformMat4(e,e,t),!0}GetBoundingSphere(e,t){return E.sph3.fromPositionRadius(e,this.boundsSpherePosition,this.boundsSphereRadius),t&&E.sph3.transformMat4(e,e,t),!0}}).prototype,"name",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),m=S(d.prototype,"start",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),b=S(d.prototype,"count",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),p=S(d.prototype,"minBounds",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return E.vec3.fromValues(0,0,0)}}),v=S(d.prototype,"maxBounds",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return E.vec3.fromValues(0,0,0)}}),g=S(d.prototype,"boundsSpherePosition",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return E.vec3.create()}}),y=S(d.prototype,"boundsSphereRadius",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),f=d))||f)},"./core/geometry/Tw2GeometryMeshBinding.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tw2GeometryMeshBinding",(function(){return h}));var i,n,a,o,s,l,u,c=r("./global/utils/index.js");function f(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function d(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var h=(i=c.meta.type("Tw2GeometryMeshBinding"),n=c.meta.struct("Tw2GeometryMesh"),a=c.meta.list("Tw2GeometryBone"),i((l=d((s=class{constructor(){f(this,"mesh",l,this),f(this,"bones",u,this)}}).prototype,"mesh",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),u=d(s.prototype,"bones",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),o=s))||o)},"./core/geometry/Tw2GeometryModel.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tw2GeometryModel",(function(){return b}));var i,n,a,o,s,l,u,c,f,d=r("./global/utils/index.js");function h(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function m(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var b=(i=d.meta.type("Tw2GeometryModel"),n=d.meta.string,a=d.meta.list("Tw2GeometryMeshBinding"),o=d.meta.struct("Tw2GeometrySkeleton"),i((u=m((l=class{constructor(){h(this,"name",u,this),h(this,"meshBindings",c,this),h(this,"skeleton",f,this)}FindBoneByName(e){if(!this.skeleton)return null;for(var t=0;t<this.skeleton.bones.length;++t)if(this.skeleton.bones[t].name===e)return this.skeleton.bones[t];return null}}).prototype,"name",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),c=m(l.prototype,"meshBindings",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),f=m(l.prototype,"skeleton",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),s=l))||s)},"./core/geometry/Tw2GeometrySkeleton.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tw2GeometrySkeleton",(function(){return p}));var i,n,a,o,s,l,u=r("./global/utils/index.js");var c,f,d,h,m,b,p=(i=u.meta.type("Tw2GeometrySkeleton"),n=u.meta.list("Tw2GeometryBone"),i((l=class{constructor(){var e,t,r,i;e=this,t="bones",i=this,(r=s)&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}},c=(o=l).prototype,f="bones",d=[n],h={configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}},b={},Object.keys(h).forEach((function(e){b[e]=h[e]})),b.enumerable=!!b.enumerable,b.configurable=!!b.configurable,("value"in b||b.initializer)&&(b.writable=!0),b=d.slice().reverse().reduce((function(e,t){return t(c,f,e)||e}),b),m&&void 0!==b.initializer&&(b.value=b.initializer?b.initializer.call(m):void 0,b.initializer=void 0),void 0===b.initializer&&(Object.defineProperty(c,f,b),b=null),s=b,a=o))||a)},"./core/geometry/Tw2GeometryTrackGroup.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tw2GeometryTrackGroup",(function(){return b}));var i,n,a,o,s,l,u,c,f,d=r("./global/utils/index.js");function h(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function m(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var b=(i=d.meta.type("Tw2GeometryTrackGroup"),n=d.meta.string,a=d.meta.struct("Tw2GeometryModel"),o=d.meta.list("Tw2GeometryTransformTrack"),i((u=m((l=class{constructor(){h(this,"name",u,this),h(this,"model",c,this),h(this,"transformTracks",f,this)}}).prototype,"name",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),c=m(l.prototype,"model",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),f=m(l.prototype,"transformTracks",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),s=l))||s)},"./core/geometry/Tw2GeometryTransformTrack.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tw2GeometryTransformTrack",(function(){return v}));var i,n,a,o,s,l,u,c,f,d,h,m=r("./global/utils/index.js");function b(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function p(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var v=(i=m.meta.type("Tw2GeometryTransformTrack"),n=m.meta.string,a=m.meta.struct("Tw2GeometryCurve"),o=m.meta.struct("Tw2GeometryCurve"),s=m.meta.unknown,i((c=p((u=class{constructor(){b(this,"name",c,this),b(this,"position",f,this),b(this,"orientation",d,this),b(this,"scaleShear",h,this)}}).prototype,"name",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),f=p(u.prototype,"position",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),d=p(u.prototype,"orientation",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),h=p(u.prototype,"scaleShear",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),l=u))||l)},"./core/geometry/index.js":function(e,t,r){"use strict";r.r(t);var i=r("./core/geometry/Tw2BlendShapeData.js");r.d(t,"Tw2BlendShapeData",(function(){return i.Tw2BlendShapeData}));var n=r("./core/geometry/Tw2GeometryAnimation.js");r.d(t,"Tw2GeometryAnimation",(function(){return n.Tw2GeometryAnimation}));var a=r("./core/geometry/Tw2GeometryBone.js");r.d(t,"Tw2GeometryBone",(function(){return a.Tw2GeometryBone}));var o=r("./core/geometry/Tw2GeometryCurve.js");r.d(t,"Tw2GeometryCurve",(function(){return o.Tw2GeometryCurve}));var s=r("./core/geometry/Tw2GeometryMesh.js");r.d(t,"Tw2GeometryMesh",(function(){return s.Tw2GeometryMesh}));var l=r("./core/geometry/Tw2GeometryMeshArea.js");r.d(t,"Tw2GeometryMeshArea",(function(){return l.Tw2GeometryMeshArea}));var u=r("./core/geometry/Tw2GeometryMeshBinding.js");r.d(t,"Tw2GeometryMeshBinding",(function(){return u.Tw2GeometryMeshBinding}));var c=r("./core/geometry/Tw2GeometryModel.js");r.d(t,"Tw2GeometryModel",(function(){return c.Tw2GeometryModel}));var f=r("./core/geometry/Tw2GeometrySkeleton.js");r.d(t,"Tw2GeometrySkeleton",(function(){return f.Tw2GeometrySkeleton}));var d=r("./core/geometry/Tw2GeometryTrackGroup.js");r.d(t,"Tw2GeometryTrackGroup",(function(){return d.Tw2GeometryTrackGroup}));var h=r("./core/geometry/Tw2GeometryTransformTrack.js");r.d(t,"Tw2GeometryTransformTrack",(function(){return h.Tw2GeometryTransformTrack}))},"./core/index.js":function(e,t,r){"use strict";r.r(t);var i=r("./core/batch/index.js");r.d(t,"Tw2BatchAccumulator",(function(){return i.Tw2BatchAccumulator})),r.d(t,"Tw2ForwardingRenderBatch",(function(){return i.Tw2ForwardingRenderBatch})),r.d(t,"Tw2GeometryBatch",(function(){return i.Tw2GeometryBatch})),r.d(t,"Tw2GeometryLineBatch",(function(){return i.Tw2GeometryLineBatch})),r.d(t,"Tw2RenderBatch",(function(){return i.Tw2RenderBatch})),r.d(t,"Tw2InstancedMeshBatch",(function(){return i.Tw2InstancedMeshBatch}));var n=r("./core/data/index.js");r.d(t,"Tw2PerObjectData",(function(){return n.Tw2PerObjectData})),r.d(t,"Tw2RawData",(function(){return n.Tw2RawData})),r.d(t,"ErrRawDataElementNotFound",(function(){return n.ErrRawDataElementNotFound}));var a=r("./core/geometry/index.js");r.d(t,"Tw2BlendShapeData",(function(){return a.Tw2BlendShapeData})),r.d(t,"Tw2GeometryAnimation",(function(){return a.Tw2GeometryAnimation})),r.d(t,"Tw2GeometryBone",(function(){return a.Tw2GeometryBone})),r.d(t,"Tw2GeometryCurve",(function(){return a.Tw2GeometryCurve})),r.d(t,"Tw2GeometryMesh",(function(){return a.Tw2GeometryMesh})),r.d(t,"Tw2GeometryMeshArea",(function(){return a.Tw2GeometryMeshArea})),r.d(t,"Tw2GeometryMeshBinding",(function(){return a.Tw2GeometryMeshBinding})),r.d(t,"Tw2GeometryModel",(function(){return a.Tw2GeometryModel})),r.d(t,"Tw2GeometrySkeleton",(function(){return a.Tw2GeometrySkeleton})),r.d(t,"Tw2GeometryTrackGroup",(function(){return a.Tw2GeometryTrackGroup})),r.d(t,"Tw2GeometryTransformTrack",(function(){return a.Tw2GeometryTransformTrack}));var o=r("./core/mesh/index.js");r.d(t,"Tw2Effect",(function(){return o.Tw2Effect})),r.d(t,"Tw2InstancedMesh",(function(){return o.Tw2InstancedMesh})),r.d(t,"Tw2Mesh",(function(){return o.Tw2Mesh})),r.d(t,"Tw2MeshArea",(function(){return o.Tw2MeshArea})),r.d(t,"Tw2MeshLineArea",(function(){return o.Tw2MeshLineArea}));var s=r("./core/model/index.js");r.d(t,"Tw2Animation",(function(){return s.Tw2Animation})),r.d(t,"Tw2AnimationController",(function(){return s.Tw2AnimationController})),r.d(t,"Tw2Bone",(function(){return s.Tw2Bone})),r.d(t,"Tw2BoneBinding",(function(){return s.Tw2BoneBinding})),r.d(t,"Tw2MeshBinding",(function(){return s.Tw2MeshBinding})),r.d(t,"Tw2Model",(function(){return s.Tw2Model})),r.d(t,"Tw2Track",(function(){return s.Tw2Track})),r.d(t,"Tw2TrackGroup",(function(){return s.Tw2TrackGroup}));var l=r("./core/parameter/index.js");r.d(t,"Tw2Parameter",(function(){return l.Tw2Parameter})),r.d(t,"Tw2FloatParameter",(function(){return l.Tw2FloatParameter})),r.d(t,"Tw2Matrix4Parameter",(function(){return l.Tw2Matrix4Parameter})),r.d(t,"Tw2MatrixParameter",(function(){return l.Tw2MatrixParameter})),r.d(t,"Tw2TransformParameter",(function(){return l.Tw2TransformParameter})),r.d(t,"Tw2VariableParameter",(function(){return l.Tw2VariableParameter})),r.d(t,"Tw2Vector2Parameter",(function(){return l.Tw2Vector2Parameter})),r.d(t,"Tw2Vector3Parameter",(function(){return l.Tw2Vector3Parameter})),r.d(t,"Tw2Vector4Parameter",(function(){return l.Tw2Vector4Parameter})),r.d(t,"Tw2TextureParameter",(function(){return l.Tw2TextureParameter}));var u=r("./core/post/index.js");r.d(t,"Tw2PostEffect",(function(){return u.Tw2PostEffect})),r.d(t,"Tw2PostEffectManager",(function(){return u.Tw2PostEffectManager})),r.d(t,"Tw2PostEffectStep",(function(){return u.Tw2PostEffectStep}));var c=r("./core/reader/index.js");r.d(t,"Tw2BinaryReader",(function(){return c.Tw2BinaryReader})),r.d(t,"Tw2BlackReader",(function(){return c.Tw2BlackReader})),r.d(t,"ErrBinaryFormat",(function(){return c.ErrBinaryFormat})),r.d(t,"ErrBinaryObjectTypeNotFound",(function(){return c.ErrBinaryObjectTypeNotFound})),r.d(t,"Tw2ObjectReader",(function(){return c.Tw2ObjectReader})),r.d(t,"Tw2CakeReader",(function(){return c.Tw2CakeReader}));var f=r("./core/resource/index.js");r.d(t,"Tw2EffectRes",(function(){return f.Tw2EffectRes})),r.d(t,"ErrShaderVersion",(function(){return f.ErrShaderVersion})),r.d(t,"ErrShaderHeaderSize",(function(){return f.ErrShaderHeaderSize})),r.d(t,"ErrShaderPermutationValue",(function(){return f.ErrShaderPermutationValue})),r.d(t,"Tw2GeometryRes",(function(){return f.Tw2GeometryRes})),r.d(t,"ErrGeometryMeshMissingParticleElement",(function(){return f.ErrGeometryMeshMissingParticleElement})),r.d(t,"ErrGeometryMeshElementComponentsMissing",(function(){return f.ErrGeometryMeshElementComponentsMissing})),r.d(t,"ErrGeometryMeshAreaMissing",(function(){return f.ErrGeometryMeshAreaMissing})),r.d(t,"ErrGeometryMeshBoneNameInvalid",(function(){return f.ErrGeometryMeshBoneNameInvalid})),r.d(t,"ErrGeometryMeshEffectBinding",(function(){return f.ErrGeometryMeshEffectBinding})),r.d(t,"ErrGeometryFileType",(function(){return f.ErrGeometryFileType})),r.d(t,"Tw2LoadingObject",(function(){return f.Tw2LoadingObject})),r.d(t,"Tw2Resource",(function(){return f.Tw2Resource})),r.d(t,"Tw2Shader",(function(){return f.Tw2Shader})),r.d(t,"ErrShaderCompile",(function(){return f.ErrShaderCompile})),r.d(t,"ErrShaderLink",(function(){return f.ErrShaderLink})),r.d(t,"Tw2TextureRes",(function(){return f.Tw2TextureRes})),r.d(t,"Tw2VideoRes",(function(){return f.Tw2VideoRes}));var d=r("./core/sampler/index.js");r.d(t,"Tw2SamplerState",(function(){return d.Tw2SamplerState})),r.d(t,"Tw2SamplerOverride",(function(){return d.Tw2SamplerOverride}));var h=r("./core/store/index.js");r.d(t,"Tw2GenericStore",(function(){return h.Tw2GenericStore})),r.d(t,"Tw2ConstructorStore",(function(){return h.Tw2ConstructorStore})),r.d(t,"Tw2VariableTypeStore",(function(){return h.Tw2VariableTypeStore})),r.d(t,"ErrStoreVariableTypeNotFoundByValue",(function(){return h.ErrStoreVariableTypeNotFoundByValue})),r.d(t,"Tw2VariableStore",(function(){return h.Tw2VariableStore})),r.d(t,"Tw2ResourcePathStore",(function(){return h.Tw2ResourcePathStore})),r.d(t,"ErrStorePathUndefined",(function(){return h.ErrStorePathUndefined})),r.d(t,"Tw2ResourceDynamicPathStore",(function(){return h.Tw2ResourceDynamicPathStore})),r.d(t,"Tw2ResourceExtensionStore",(function(){return h.Tw2ResourceExtensionStore}));var m=r("./core/value/index.js");r.d(t,"Tw2Float",(function(){return m.Tw2Float}));var b=r("./core/vertex/index.js");r.d(t,"Tw2VertexDeclaration",(function(){return b.Tw2VertexDeclaration})),r.d(t,"Tw2VertexElement",(function(){return b.Tw2VertexElement}));var p=r("./core/Tw2RuntimeInstanceData.js");r.d(t,"Tw2RuntimeInstanceData",(function(){return p.Tw2RuntimeInstanceData}));var v=r("./core/Tw2Frustum.js");r.d(t,"Tw2Frustum",(function(){return v.Tw2Frustum}));var g=r("./core/Tw2RenderTarget.js");r.d(t,"Tw2RenderTarget",(function(){return g.Tw2RenderTarget}));var y=r("./core/Tw2EventEmitter.js");r.d(t,"Tw2EventEmitter",(function(){return y.Tw2EventEmitter}));var w=r("./core/Tw2Transform.js");r.d(t,"Tw2Transform",(function(){return w.Tw2Transform}));var E=r("./core/Tw2Error.js");r.d(t,"Tw2Error",(function(){return E.Tw2Error})),r.d(t,"ErrFeatureNotImplemented",(function(){return E.ErrFeatureNotImplemented})),r.d(t,"ErrIndexBounds",(function(){return E.ErrIndexBounds})),r.d(t,"ErrWrapped",(function(){return E.ErrWrapped})),r.d(t,"ErrSingletonInstantiation",(function(){return E.ErrSingletonInstantiation})),r.d(t,"ErrAbstractClass",(function(){return E.ErrAbstractClass})),r.d(t,"ErrAbstractMethod",(function(){return E.ErrAbstractMethod}))},"./core/mesh/Tw2Effect.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tw2Effect",(function(){return D}));var i,n,a,o,s,l,u,c,f,d,h,m,b,p,v,g,y,w,E,T,S,_,j,R,z=r("./global/utils/index.js"),O=r("./global/index.js"),P=r("./core/parameter/Tw2TextureParameter.js"),A=r("./core/parameter/Tw2Vector4Parameter.js"),x=r("./core/reader/Tw2BlackPropertyReaders.js");function M(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function C(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var D=(i=z.meta.type("Tw2Effect"),n=z.meta.stage(1),a=z.meta.string,o=z.meta.path,s=z.meta.struct("Tw2EffectRes"),l=z.meta.isPrivate,u=z.meta.isPrivate,c=z.meta.notImplemented,f=z.meta.notImplemented,d=z.meta.struct("Tw2Shader"),h=z.meta.isPrivate,m=z.meta.boolean,i(b=n((R=j=class e extends z.meta.Model{constructor(...e){super(...e),M(this,"name",v,this),M(this,"effectFilePath",g,this),M(this,"effectRes",y,this),this.parameters={},M(this,"techniques",w,this),M(this,"samplerOverrides",E,this),M(this,"options",T,this),M(this,"shader",S,this),M(this,"autoParameter",_,this)}Initialize(){if(""!==this.effectFilePath){this.effectFilePath=this.effectFilePath.toLowerCase();var t=e.ToEffectResPath(this.effectFilePath);this.effectRes=O.resMan.GetResource(t,e=>this.OnResPrepared(e))}}FindParameter(e){return this.parameters[e]||null}OnValueChanged(e){this.BindParameters()}IsGood(){return this.KeepAlive(),null!==this.shader}KeepAlive(){for(var e=this.GetResources(),t=0;t<e.length;t++)e[t].KeepAlive()}GetResources(e=[]){for(var t in this.effectRes&&!e.includes(this.effectRes)&&e.push(this.effectRes),this.parameters)this.parameters.hasOwnProperty(t)&&"GetResources"in this.parameters[t]&&this.parameters[t].GetResources(e);return e}OnResPrepared(e){return this.effectRes=e,this.shader=e.GetShader(this.options),this.BindParameters(),this.EmitEvent("loaded",{effect:this,shader:this.shader,resource:e}),!0}UnBindParameters(){for(var e in this.techniques)if(this.techniques.hasOwnProperty(e)){for(var t=this.techniques[e],r=0;r<t.length;++r)for(var i=0;i<t[r].stages.length;++i)for(var n=0;n<t[r].stages[i].reroutedParameters.length;++n)t[r].stages[i].reroutedParameters[n].Unbind();Reflect.deleteProperty(this.techniques,e)}}BindParameters(){if(this.UnBindParameters(),!this.IsGood())return!1;var{variables:t}=O.store;for(var r in this.shader.techniques)if(this.shader.techniques.hasOwnProperty(r)){for(var i=this.shader.techniques[r],n=[],a=0;a<i.passes.length;++a){var o=[];o.stages=[];for(var s=0;s<i.passes[a].stages.length;++s){var l=i.passes[a].stages[s],u={};u.constantBuffer=new Float32Array(l.constantSize),u.reroutedParameters=[],u.parameters=[],u.textures=[],u.constantBuffer.set(l.constantValues);for(var c=0;c<l.constants.length;++c){var f=l.constants[c],{name:d,Type:h}=f;if(!e.ConstantIgnore.includes(d))if(d in this.parameters){var m=this.parameters[d];m.Bind(u.constantBuffer,f.offset,f.size)?u.reroutedParameters.push(m):u.parameters.push({parameter:m,constantBuffer:u.constantBuffer,offset:f.offset,size:f.size})}else if(t.Has(d))u.parameters.push({parameter:t.Get(d),constantBuffer:u.constantBuffer,offset:f.offset,size:f.size});else if(f.isAutoregister&&h){var b=t.Create(d,void 0,h);b&&u.parameters.push({parameter:b,constantBuffer:u.constantBuffer,offset:f.offset,size:f.size})}else if(this.autoParameter&&1===f.elements){var p=u.constantBuffer.subarray(f.offset,f.offset+f.size);0===p.length?p=void 0:1===p.length&&(p=p[0]);var v=t.Create(d,p,h);v&&(this.parameters[d]=v,v.Bind(u.constantBuffer,f.offset,f.size)?u.reroutedParameters.push(v):u.parameter.push({parameter:v,constantBuffer:u.constantBuffer,offset:f.offset,size:f.size}))}}for(var g=0;g<l.textures.length;++g){var y=l.textures[g].name,w=null;if(y in this.parameters)w=this.parameters[y];else if(t.Has(y))w=t.Get(y);else if(l.textures[g].isAutoregister)w=t.Create(y,void 0,P.Tw2TextureParameter);else{if(!this.autoParameter)continue;w=this.parameters[y]=new P.Tw2TextureParameter(y)}for(var E={parameter:w,slot:l.textures[g].registerIndex,sampler:null},T=0;T<l.samplers.length;++T)if(l.samplers[T].registerIndex===E.slot){l.samplers[T].name in this.samplerOverrides?E.sampler=this.samplerOverrides[l.samplers[T].name].GetSampler(O.device,l.samplers[T]):E.sampler=l.samplers[T];break}0===s&&(E.slot+=12),u.textures.push(E)}o.stages.push(u)}n.push(o)}this.techniques[r]=n}return O.device.effectObserver&&O.device.effectObserver.OnEffectChanged(this),this.autoParameter=!1,!0}ApplyPass(e,t){if(this.IsGood()&&e in this.techniques&&!(t>=this.techniques[e].length)){this.shader.ApplyPass(e,t);for(var r=this.techniques[e][t],i=this.shader.techniques[e].passes[t],n=O.device,a=n.gl,o=n.IsAlphaTestEnabled()&&i.shadowShaderProgram?i.shadowShaderProgram:i.shaderProgram,s=0;s<2;++s){for(var l=r.stages[s],u=0;u<l.parameters.length;++u){var c=l.parameters[u];c.parameter.Apply(c.constantBuffer,c.offset,c.size)}for(var f=0;f<l.textures.length;++f){var d=l.textures[f];d.parameter.Apply(d.slot,d.sampler,o.volumeSlices[d.sampler.registerIndex])}}var h=o.constantBufferHandles;h[0]&&a.uniform4fv(h[0],r.stages[0].constantBuffer),h[7]&&a.uniform4fv(h[7],r.stages[1].constantBuffer),n.perFrameVSData&&h[1]&&a.uniform4fv(h[1],n.perFrameVSData.data),n.perFramePSData&&h[2]&&a.uniform4fv(h[2],n.perFramePSData.data);var m=n.perObjectData;m&&(m.vs&&h[3]&&a.uniform4fv(h[3],m.vs.data),m.ps&&h[4]&&a.uniform4fv(h[4],m.ps.data),m.ffe&&h[5]&&a.uniform4fv(h[5],m.ffe.data))}}GetPassCount(e){return null!==this.shader&&e in this.techniques?this.techniques[e].length:0}GetPassInput(e,t){return null===this.shader||!(e in this.techniques)||t>=this.techniques[e].length?null:O.device.IsAlphaTestEnabled()&&this.shader.techniques[e].passes[t].shadowShaderProgram?this.shader.techniques[e].passes[t].shadowShaderProgram.input:this.shader.techniques[e].passes[t].shaderProgram.input}Render(e){for(var t=this.GetPassCount("Main"),r=0;r<t;++r)this.ApplyPass("Main",r),e(this,r)}GetTextures(e={}){for(var t in this.parameters)if(this.parameters.hasOwnProperty(t)&&this.parameters[t]instanceof P.Tw2TextureParameter){var r=this.parameters[t].GetValue();r&&(e[t]=r)}return e}SetTextures(e={},t){var r=!1;for(var i in e)if(e.hasOwnProperty(i)&&void 0!==e[i]){var n=e[i],a=this.parameters[i];P.Tw2TextureParameter.isValue(n)&&(a?a.EqualsValue(n)||(a.SetValue(n),r=!0):(this.parameters[i]=new P.Tw2TextureParameter(i,n),r=!0))}return r&&!t&&this.UpdateValues(),r}GetParameters(e={}){for(var t in this.parameters)!this.parameters.hasOwnProperty(t)||this.parameters[t]instanceof P.Tw2TextureParameter||(e[t]=this.parameters[t].GetValue());return e}SetParameters(e={},t){var r=!1;for(var i in e)if(e.hasOwnProperty(i)&&void 0!==e[i]){var n=e[i],a=this.parameters[i];if(a)a.constructor.isValue(n)&&!a.EqualsValue(n)&&this.parameters[i].SetValue(n)&&(r=!0);else{var o=O.store.variables.Create(i,n);o&&(this.parameters[i]=o,r=!0)}}return r&&!t&&this.UpdateValues(),r}SetOverrides(e={},t){var r=!1;for(var i in e)if(e.hasOwnProperty(i)&&void 0!==e[i]){var n=this.parameters[i];if(n||(n=this.parameters[i]=new P.Tw2TextureParameter(i),r=!0),n instanceof P.Tw2TextureParameter){var a=!1,o=e[i];for(var s in o)if(o.hasOwnProperty(s)&&P.Tw2TextureParameter.overrideProperties.includes(s)&&o[s]!==n[s]){a=!0;break}a&&(n.SetOverrides(e[i]),r=!0)}}return r&&!t&&this.UpdateValues(),r}GetOverrides(e={}){for(var t in this.parameters)if(this.parameters.hasOwnProperty(t)){var r=this.parameters[t];r&&r instanceof P.Tw2TextureParameter&&r.useAllOverrides&&(e[t]=this.parameters[t].GetOverrides())}return e}PopulateParameters(){return this.autoParameter=!0,this.BindParameters()}PerChild(e,t){var r=super.PerChild(e,t);if(void 0!==r)return r;var i=this.parameters;for(var n in i)if(i.hasOwnProperty(n)){var a=e({struct:i[n],parent:i,key:n,path:"/parameters/".concat(n)});if(void 0!==a)return a}}static onListener(e,t,r,i){return!("loaded"!==t||!e.shader)&&(r.call(i,{effect:e,shader:e.shader,resource:e.effectRes}),!0)}static ToEffectResPath(e){return(e=e?e.substr(0,e.lastIndexOf(".")).replace("/effect/",O.device.effectDir)+".sm_"+O.device.shaderModel:"").toLowerCase()}static FromEffectResPath(e,t="fx"){return(e=e.substr(0,e.lastIndexOf(".")).replace(O.device.effectDir,"/effect/")+"."+t).toLowerCase()}static set(t,r,i={}){if(!r)return!1;var{parameters:n,textures:a,overrides:o,options:s,effectFilePath:l=""}=r,u=Object(z.assignIfExists)(t,r,["name","display","autoParameter"]);if(n&&t.SetParameters(n,!0)&&(u=!0),o&&t.SetOverrides(o,!0)&&(u=!0),a&&t.SetTextures(a,!0)&&(u=!0),s&&(t.options=Object.assign(s),t.effectRes&&(t.shader=t.effectRes.GetShader(s)),u=!0),l&&t.effectFilePath!==l){if(t.effectFilePath=l.toLowerCase(),t.UnBindParameters(),t.shader=null,t.effectRes&&(t.effectRes.UnregisterNotification(this),t.effectRes=null),""!==t.effectFilePath){t.UpdateValues(i);var c=e.ToEffectResPath(t.effectFilePath);return O.resMan.GetResource(c,e=>t.OnResPrepared(e)),!0}u=!0}return u&&!i.skipUpdate&&t.UpdateValues(i),u}static get(e,t={}){return Object(z.assignIfExists)(t,e,["name","display","effectFilePath"]),t.parameters=e.GetParameters(),t.textures=e.GetTextures(),t.overrides=e.GetOverrides(),t.options=Object.assign(e.options),t}},j.ConstantIgnore=["PerFrameVS","PerObjectVS","PerFramePS","PerObjectPS","PerObjectPSInt"],j.blackReaders={parameters:Object(x.fromList)({key:"name"}),options:Object(x.fromList)({key:"name",value:"value",struct:class{constructor(){this.name="",this.value=""}static blackStruct(e){var t=new this;return t.name=e.ReadStringU16(),e.ExpectU16(0,"unknown content"),e.ExpectU16(0,"unknown content"),e.ExpectU16(0,"unknown content"),t.value=e.ReadStringU16(),e.ExpectU16(0,"unknown content"),e.ExpectU16(0,"unknown content"),e.ExpectU16(0,"unknown content"),t}}}),resources:Object(x.fromList)({key:"name",reroute:"parameters"}),constParameters:Object(x.fromList)({key:"name",reroute:"parameters",struct:class{static blackStruct(e){var t=new A.Tw2Vector4Parameter;return Object.defineProperty(t,"isConstant",{value:!0,writable:!1}),t.name=e.ReadStringU16(),e.ExpectU16(0,"unknown content"),e.ExpectU16(0,"unknown content"),e.ExpectU16(0,"unknown content"),t.SetValue(new Float32Array([e.ReadF32(),e.ReadF32(),e.ReadF32(),e.ReadF32()])),t}}})},v=C((p=R).prototype,"name",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),g=C(p.prototype,"effectFilePath",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),y=C(p.prototype,"effectRes",[s,l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),w=C(p.prototype,"techniques",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),E=C(p.prototype,"samplerOverrides",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),T=C(p.prototype,"options",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),S=C(p.prototype,"shader",[d,h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_=C(p.prototype,"autoParameter",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),b=p))||b)||b)},"./core/mesh/Tw2InstancedMesh.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tw2InstancedMesh",(function(){return ee}));var i,n,a,o,s,l,u,c,f,d,h,m,b,p,v,g,y,w,E,T,S,_,j,R,z,O,P,A,x,M,C,D,I,L,F,G,B,N,U,k,V,H,q,W=r("./global/utils/index.js"),Y=r("./global/index.js"),X=r("./global/math/index.js"),K=r("./core/batch/index.js"),Q=r("./core/mesh/Tw2Mesh.js"),Z=r("./global/constant/index.js");function $(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function J(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var ee=(i=W.meta.type("Tw2InstancedMesh","Tr2InstancedMesh"),n=W.meta.string,a=W.meta.boolean,o=W.meta.list("Tw2MeshArea"),s=W.meta.struct(),l=W.meta.list("Tw2MeshArea"),u=W.meta.notImplemented,c=W.meta.list("Tw2MeshArea"),f=W.meta.notImplemented,d=W.meta.list("Tw2MeshArea"),h=W.meta.path,m=W.meta.path,b=W.meta.struct(),p=W.meta.uint,v=W.meta.vector3,g=W.meta.notImplemented,y=W.meta.uint,w=W.meta.vector3,E=W.meta.list("Tw2MeshArea"),T=W.meta.list("Tw2MeshArea"),S=W.meta.list("Tw2MeshArea"),_=W.meta.plain,i((q=class e extends W.meta.Model{constructor(...e){super(...e),$(this,"name",z,this),$(this,"display",O,this),$(this,"additiveAreas",P,this),$(this,"boundsMethod",A,this),$(this,"decalAreas",x,this),$(this,"depthAreas",M,this),$(this,"distortionAreas",C,this),$(this,"geometryResPath",D,this),$(this,"instanceGeometryResPath",I,this),$(this,"instanceGeometryResource",L,this),$(this,"instanceMeshIndex",F,this),$(this,"maxBounds",G,this),$(this,"maxInstanceSize",B,this),$(this,"minBounds",N,this),$(this,"opaqueAreas",U,this),$(this,"pickableAreas",k,this),$(this,"transparentAreas",V,this),$(this,"visible",H,this),this._geometryResource=null}get geometryResource(){return this._geometryResource}set geometryResource(e){this._geometryResource=e}Initialize(){""!==this.geometryResPath&&(this._geometryResource=Y.resMan.GetResource(this.geometryResPath)),""!==this.instanceGeometryResPath&&(this.instanceGeometryResource=Y.resMan.GetResource(this.instanceGeometryResPath))}FindParameters(e,t=[]){Object(W.isString)(e)&&(e={name:e});var{name:r,areaName:i,areaType:n}=e,a=e=>{if(!n||n===e)for(var a=this[e]||[],o=0;o<a.length;o++)if(!i||a[o].name===i){var s=a[o].FindParameter(r,t);s&&!t.includes(s)&&t.push(s)}};return a("transparentAreas"),a("pickableAreas"),a("opaqueAreas"),a("distortionAreas"),a("depthAreas"),a("additiveAreas"),a("opaquePrepassAreas"),a("depthNormalAreas"),t}IsGood(){var e=this.instanceGeometryResource,t=this._geometryResource&&this._geometryResource.IsGood(),r=!!e&&(!e.IsGood||e.IsGood());return t&&r}GetGeometryRes(){return this._geometryResource}GetResources(e=[]){this._geometryResource&&!e.includes(this._geometryResource)&&e.push(this._geometryResource),this.instanceGeometryResource&&"GetResources"in this.instanceGeometryResource&&this.instanceGeometryResource.GetResources(e);var t=W.perArrayChild;return t(this.additiveAreas,"GetResources",e),t(this.decalAreas,"GetResources",e),t(this.depthAreas,"GetResources",e),t(this.distortionAreas,"GetResources",e),t(this.opaqueAreas,"GetResources",e),t(this.pickableAreas,"GetResources",e),t(this.transparentAreas,"GetResources",e),e}GetBatches(e,t,r){if(!this.IsGood()||!this.display)return!1;var i,n=this.constructor.GetAreaBatches;switch(e){case Z.RM_ADDITIVE:this.visible.additiveAreas&&(i=this.additiveAreas);break;case Z.RM_DECAL:this.visible.decalAreas&&(i=this.opaqueAreas);break;case Z.RM_DEPTH:this.visible.depthAreas&&(i=this.depthAreas);break;case Z.RM_DISTORTION:this.visible.distortionAreas&&(i=this.distortionAreas);break;case Z.RM_OPAQUE:this.visible.opaqueAreas&&(i=this.opaqueAreas);break;case Z.RM_PICKABLE:this.visible.pickableAreas&&(i=this.pickableAreas);break;case Z.RM_TRANSPARENT:this.visible.transparentAreas&&(i=this.transparentAreas)}i&&n(this,i,e,t,r)}RenderAreas(e,t,r,i,n){if(this.IsGood()){var a=this.instanceGeometryResource.GetInstanceBuffer(this.instanceMeshIndex);a&&this._geometryResource.RenderAreasInstanced(e,t,r,i,n,a,this.instanceGeometryResource.GetInstanceDeclaration(this.instanceMeshIndex),this.instanceGeometryResource.GetInstanceStride(this.instanceMeshIndex),this.instanceGeometryResource.GetInstanceCount(this.instanceMeshIndex))}}EmptyAreas(){this.additiveAreas.splice(0),this.decalAreas.splice(0),this.depthAreas.splice(0),this.distortionAreas.splice(0),this.opaqueAreas.splice(0),this.pickableAreas.splice(0),this.transparentAreas.splice(0)}static from(t,r){var i=new e;if(i.meshIndex=Object(W.get)(r,"index",0),t){Object(W.assignIfExists)(i,t,["name","display","geometryResPath","instanceGeometryResPath","instanceMeshIndex"]);var n=["additiveAreas","decalAreas","depthAreas","distortionAreas","opaqueAreas","pickableAreas","transparentAreas"];Object(W.assignIfExists)(i.visible,t.visible,n),Q.Tw2Mesh.createAreaIfExists(i,t,n)}return r&&r.skipUpdate||i.Initialize(),i}static GetAreaBatches(e,t,r,i,n){for(var a=0;a<t.length;++a){var o=t[a];if(o.effect&&o.display){var s=new K.Tw2InstancedMeshBatch;s.renderMode=r,s.perObjectData=n,s.instanceMesh=e,s.meshIx=o.meshIndex,s.start=o.index,s.count=o.count,s.effect=o.effect,i.Commit(s)}}}},z=J((R=q).prototype,"name",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),O=J(R.prototype,"display",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),P=J(R.prototype,"additiveAreas",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),A=J(R.prototype,"boundsMethod",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),x=J(R.prototype,"decalAreas",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),M=J(R.prototype,"depthAreas",[u,c],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),C=J(R.prototype,"distortionAreas",[f,d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),D=J(R.prototype,"geometryResPath",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),I=J(R.prototype,"instanceGeometryResPath",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),L=J(R.prototype,"instanceGeometryResource",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),F=J(R.prototype,"instanceMeshIndex",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),G=J(R.prototype,"maxBounds",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return X.vec3.create()}}),B=J(R.prototype,"maxInstanceSize",[g,y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),N=J(R.prototype,"minBounds",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return X.vec3.create()}}),U=J(R.prototype,"opaqueAreas",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),k=J(R.prototype,"pickableAreas",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),V=J(R.prototype,"transparentAreas",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),H=J(R.prototype,"visible",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{additiveAreas:!0,decalAreas:!0,depthAreas:!0,distortionAreas:!0,opaqueAreas:!0,pickableAreas:!0,transparentAreas:!0}}}),j=R))||j)},"./core/mesh/Tw2Mesh.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tw2Mesh",(function(){return K}));var i,n,a,o,s,l,u,c,f,d,h,m,b,p,v,g,y,w,E,T,S,_,j,R,z,O,P,A,x,M,C,D,I,L,F,G,B,N,U,k,V,H=r("./global/utils/index.js"),q=r("./global/index.js"),W=r("./global/constant/index.js");function Y(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function X(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var K=(i=H.meta.type("Tw2Mesh","Tr2Mesh"),n=H.meta.string,a=H.meta.list("Tw2MeshArea"),o=H.meta.list("Tw2MeshArea"),s=H.meta.notImplemented,l=H.meta.boolean,u=H.meta.notImplemented,c=H.meta.list("Tw2MeshArea"),f=H.meta.notImplemented,d=H.meta.list("Tw2MeshArea"),h=H.meta.boolean,m=H.meta.notImplemented,b=H.meta.list("Tw2MeshArea"),p=H.meta.path,v=H.meta.uint,g=H.meta.list("Tw2MeshArea"),y=H.meta.notImplemented,w=H.meta.list("Tw2MeshArea"),E=H.meta.list("Tw2MeshArea"),T=H.meta.list("Tw2MeshArea"),S=H.meta.plain,_=H.meta.struct("Tw2GeometryRes"),i((V=class e extends H.meta.Model{constructor(...e){super(...e),Y(this,"name",z,this),Y(this,"additiveAreas",O,this),Y(this,"decalAreas",P,this),Y(this,"deferGeometryLoad",A,this),Y(this,"depthAreas",x,this),Y(this,"depthNormalAreas",M,this),Y(this,"display",C,this),Y(this,"distortionAreas",D,this),Y(this,"geometryResPath",I,this),Y(this,"meshIndex",L,this),Y(this,"opaqueAreas",F,this),Y(this,"opaquePrepassAreas",G,this),Y(this,"pickableAreas",B,this),Y(this,"transparentAreas",N,this),Y(this,"visible",U,this),Y(this,"_geometryResource",k,this)}get geometryResource(){return this._geometryResource}set geometryResource(e){this._geometryResource=e}Initialize(){""!==this.geometryResPath&&(this._geometryResource=q.resMan.GetResource(this.geometryResPath))}FindParameters(e,t=[]){Object(H.isString)(e)&&(e={name:e});var{name:r,areaName:i,areaType:n}=e,a=e=>{if(!n||n===e)for(var a=this[e]||[],o=0;o<a.length;o++)if(!i||a[o].name===i){var s=a[o].FindParameter(r,t);s&&!t.includes(s)&&t.push(s)}};return a("transparentAreas"),a("pickableAreas"),a("opaqueAreas"),a("distortionAreas"),a("depthAreas"),a("additiveAreas"),a("opaquePrepassAreas"),a("depthNormalAreas"),t}IsGood(){return this._geometryResource&&this._geometryResource.IsGood()}GetGeometryRes(){return this._geometryResource}GetResources(e=[]){this._geometryResource&&!e.includes(this._geometryResource)&&e.push(this._geometryResource);var t=H.perArrayChild;return t(this.additiveAreas,"GetResources",e),t(this.decalAreas,"GetResources",e),t(this.depthAreas,"GetResources",e),t(this.distortionAreas,"GetResources",e),t(this.opaqueAreas,"GetResources",e),t(this.pickableAreas,"GetResources",e),t(this.transparentAreas,"GetResources",e),e}GetBatches(e,t,r){if(!this.IsGood()||!this.display)return!1;var i,n=this.constructor.GetAreaBatches;switch(e){case W.RM_ADDITIVE:this.visible.additiveAreas&&(i=this.additiveAreas);break;case W.RM_DECAL:this.visible.decalAreas&&(i=this.decalAreas);break;case W.RM_DEPTH:this.visible.depthAreas&&(i=this.depthAreas);break;case W.RM_DISTORTION:this.visible.distortionAreas&&(i=this.distortionAreas);break;case W.RM_OPAQUE:this.visible.opaqueAreas&&(i=this.opaqueAreas);break;case W.RM_PICKABLE:this.visible.pickableAreas&&(i=this.pickableAreas);break;case W.RM_TRANSPARENT:this.visible.transparentAreas&&(i=this.transparentAreas)}i&&n(this,i,e,t,r)}EmptyAreas(){this.additiveAreas.splice(0),this.decalAreas.splice(0),this.depthAreas.splice(0),this.depthNormalAreas.splice(0),this.distortionAreas.splice(0),this.opaqueAreas.splice(0),this.opaquePrepassAreas.splice(0),this.pickableAreas.splice(0),this.transparentAreas.splice(0)}static GetAreaBatches(e,t,r,i,n){for(var a=0;a<t.length;++a){var o=t[a];if(o.effect&&o.display){var s=new o.constructor.batchType;s.renderMode=r,s.perObjectData=n,s.geometryRes=e._geometryResource,s.meshIx=e.meshIndex,s.start=o.index,s.count=o.count,s.effect=o.effect,i.Commit(s)}}}static createAreaIfExists(e,t,r){r=Object(H.toArray)(r);for(var i=0;i<r.length;i++){var n=r[i];if(n in t&&n in e)for(var a=0;a<t[n].length;a++){var o=t[n][a].__type||"Tw2MeshArea",s=q.store.constructors.Get(o);e[n].push(s.from(t[n][a],{index:a}))}}}static from(t,r){var i=new e;if(i.index=Object(H.get)(r,"index",0),t){Object(H.assignIfExists)(i,t,["name","display","deferGeometryLoad","geometryResPath","meshIndex"]);var n=["additiveAreas","decalAreas","depthAreas","depthNormalAreas","distortionAreas","opaqueAreas","opaquePrepassAreas","pickableAreas","transparentAreas"];Object(H.assignIfExists)(i.visible,t.visible,n),this.createAreaIfExists(i,t,n)}return r&&r.skipUpdate||i.Initialize(),i}},z=X((R=V).prototype,"name",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),O=X(R.prototype,"additiveAreas",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),P=X(R.prototype,"decalAreas",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),A=X(R.prototype,"deferGeometryLoad",[s,l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),x=X(R.prototype,"depthAreas",[u,c],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),M=X(R.prototype,"depthNormalAreas",[f,d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),C=X(R.prototype,"display",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),D=X(R.prototype,"distortionAreas",[m,b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),I=X(R.prototype,"geometryResPath",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),L=X(R.prototype,"meshIndex",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),F=X(R.prototype,"opaqueAreas",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),G=X(R.prototype,"opaquePrepassAreas",[y,w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),B=X(R.prototype,"pickableAreas",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),N=X(R.prototype,"transparentAreas",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),U=X(R.prototype,"visible",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{additiveAreas:!0,decalAreas:!0,depthAreas:!0,depthNormalAreas:!0,distortionAreas:!0,opaqueAreas:!0,opaquePrepassAreas:!0,pickableAreas:!0,transparentAreas:!0}}}),k=X(R.prototype,"_geometryResource",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),j=R))||j)},"./core/mesh/Tw2MeshArea.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tw2MeshArea",(function(){return A}));var i,n,a,o,s,l,u,c,f,d,h,m,b,p,v,g,y,w,E,T,S,_,j=r("./core/batch/index.js"),R=r("./global/utils/index.js"),z=r("./core/mesh/Tw2Effect.js");function O(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function P(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var A=(i=R.meta.type("Tw2MeshArea","Tr2MeshArea"),n=R.meta.stage(1),a=R.meta.string,o=R.meta.boolean,s=R.meta.uint,l=R.meta.struct("Tw2Effect"),u=R.meta.uint,c=R.meta.notImplemented,f=R.meta.boolean,d=R.meta.notImplemented,h=R.meta.boolean,i(m=n((_=S=class extends R.meta.Model{constructor(...e){super(...e),O(this,"name",p,this),O(this,"display",v,this),O(this,"count",g,this),O(this,"effect",y,this),O(this,"index",w,this),O(this,"reversed",E,this),O(this,"useSHLighting",T,this)}get meshIndex(){return this.index}set meshIndex(e){this.index=e}GetResources(e=[]){return this.effect?this.effect.GetResources(e):e}FindParameter(e){return this.effect?this.effect.FindParameter(e):null}static from(e,t){var r=new this;return Object(R.assignIfExists)(r,t,"index"),e&&(Object(R.assignIfExists)(r,e,["name","display","count","index","reversed","useSHLighting"]),e.effect&&(r.effect=z.Tw2Effect.from(e.effect))),r}},S.batchType=j.Tw2GeometryBatch,p=P((b=_).prototype,"name",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),v=P(b.prototype,"display",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),g=P(b.prototype,"count",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),y=P(b.prototype,"effect",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),w=P(b.prototype,"index",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),E=P(b.prototype,"reversed",[c,f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),T=P(b.prototype,"useSHLighting",[d,h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),m=b))||m)||m)},"./core/mesh/Tw2MeshLineArea.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tw2MeshLineArea",(function(){return A}));var i,n,a,o,s,l,u,c,f,d,h,m,b,p,v,g,y,w,E,T,S,_,j=r("./global/utils/index.js"),R=r("./core/batch/index.js"),z=r("./core/mesh/Tw2MeshArea.js");function O(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function P(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var A=(i=j.meta.type("Tw2MeshLineArea"),n=j.meta.stage(1),a=j.meta.string,o=j.meta.boolean,s=j.meta.uint,l=j.meta.struct("Tw2Effect"),u=j.meta.uint,c=j.meta.notImplemented,f=j.meta.boolean,d=j.meta.notImplemented,h=j.meta.boolean,i(m=n((_=S=class extends z.Tw2MeshArea{constructor(...e){super(...e),O(this,"name",p,this),O(this,"display",v,this),O(this,"count",g,this),O(this,"effect",y,this),O(this,"index",w,this),O(this,"reversed",E,this),O(this,"useSHLighting",T,this)}},S.batchType=R.Tw2GeometryLineBatch,p=P((b=_).prototype,"name",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),v=P(b.prototype,"display",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),g=P(b.prototype,"count",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),y=P(b.prototype,"effect",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),w=P(b.prototype,"index",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),E=P(b.prototype,"reversed",[c,f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),T=P(b.prototype,"useSHLighting",[d,h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),m=b))||m)||m)},"./core/mesh/index.js":function(e,t,r){"use strict";r.r(t);var i=r("./core/mesh/Tw2Effect.js");r.d(t,"Tw2Effect",(function(){return i.Tw2Effect}));var n=r("./core/mesh/Tw2InstancedMesh.js");r.d(t,"Tw2InstancedMesh",(function(){return n.Tw2InstancedMesh}));var a=r("./core/mesh/Tw2Mesh.js");r.d(t,"Tw2Mesh",(function(){return a.Tw2Mesh}));var o=r("./core/mesh/Tw2MeshArea.js");r.d(t,"Tw2MeshArea",(function(){return o.Tw2MeshArea}));var s=r("./core/mesh/Tw2MeshLineArea.js");r.d(t,"Tw2MeshLineArea",(function(){return s.Tw2MeshLineArea}))},"./core/model/Tw2Animation.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tw2Animation",(function(){return _}));var i,n,a,o,s,l,u,c,f,d,h,m,b,p,v,g,y,w,E=r("./global/utils/index.js");function T(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function S(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var _=(i=E.meta.type("Tw2Animation"),n=E.meta.struct("Tw2GeometryAnimation"),a=E.meta.isPrivate,o=E.meta.float,s=E.meta.isPrivate,l=E.meta.float,u=E.meta.boolean,c=E.meta.list("Tw2TrackGroup"),f=E.meta.isPrivate,i((w=y=class e extends E.meta.Model{constructor(t){super(),T(this,"animationRes",m,this),T(this,"time",b,this),T(this,"timeScale",p,this),T(this,"cycle",v,this),T(this,"trackGroups",g,this),this._callback=null,this._controller=null,this._state=e.State.FINISHED,this._controller=t}get name(){return this.animationRes?this.animationRes.name:null}get duration(){return this.animationRes?this.animationRes.duration:0}get percent(){return this.animationRes?Math.min(this.time,this.duration)/this.duration:0}AddCallback(e=null){this._callback=e}UpdateCallback(){if(this._callback){var e=this._callback;e(this,this._controller)&&this._callback===e&&(this._callback=null)}}Play(t={}){var r=this.IsPaused(),{time:i=(r?this.time:0),cycle:n=this.cycle,timeScale:a=this.timeScale,callback:o,events:s,percent:l}=t;void 0!==l&&(i=this.duration*l),this.time=Math.max(Math.min(i,this.duration),0),this.timeScale=a,this.cycle=n,this._state=e.State.PLAYING,s&&this.add(s),void 0!==o&&this.AddCallback(o),r?this.EmitEvent("unpause",{animation:this,controller:this._controller}):this.EmitEvent("play",{animation:this,controller:this._controller})}Pause(){this.IsPlaying()&&(this._state=e.State.PAUSED,this.EmitEvent("pause",{animation:this,controller:this._controller}))}Stop(){this.IsFinished()||(this._state=e.State.FINISHED,this.time=this.duration,this.EmitEvent("end",{animation:this,controller:this._controller}),this.UpdateCallback())}IsGood(){return!!this.animationRes}IsPlaying(){return this._state===e.State.PLAYING||this._state===e.State.CYCLING}IsPaused(){return this._state===e.State.PAUSED}IsFinished(){return this._state===e.State.FINISHED}Update(t){return!this.IsFinished()&&(this.IsPaused()||(this.time+=t*this.timeScale,this.time>=this.duration&&(this.cycle?(this._state=e.State.CYCLING,this.time=this.time%this.duration,this.EmitEvent("cycle",{animation:this,controller:this._controller}),this.UpdateCallback()):this.Stop())),!0)}},y.State={PAUSED:0,PLAYING:1,CYCLING:2,FINISHED:3},m=S((h=w).prototype,"animationRes",[n,a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),b=S(h.prototype,"time",[o,s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),p=S(h.prototype,"timeScale",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),v=S(h.prototype,"cycle",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),g=S(h.prototype,"trackGroups",[c,f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),d=h))||d)},"./core/model/Tw2AnimationController.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tw2AnimationController",(function(){return I}));var i,n,a,o,s,l,u,c,f,d,h,m,b,p,v,g,y,w,E,T,S=r("./global/utils/index.js"),_=r("./global/math/index.js"),j=r("./core/resource/index.js"),R=r("./core/model/Tw2Animation.js"),z=r("./core/model/Tw2Bone.js"),O=r("./core/model/Tw2BoneBinding.js"),P=r("./core/model/Tw2Model.js"),A=r("./core/model/Tw2Track.js"),x=r("./core/model/Tw2TrackGroup.js"),M=r("./core/model/Tw2MeshBinding.js");function C(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function D(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var I=(i=S.meta.type("Tw2AnimationController"),n=S.meta.todo("Handle rebuilding bounds in update function"),a=S.meta.list("Tw2GeometryRes"),o=S.meta.isPrivate,s=S.meta.list("Tw2Model"),l=S.meta.isPrivate,u=S.meta.list("Tw2Animation"),c=S.meta.isPrivate,f=S.meta.list("Tw2MeshBinding"),d=S.meta.isPrivate,h=S.meta.boolean,i(m=n((T=E=class e extends S.meta.Model{constructor(e){super(),C(this,"geometryResources",p,this),C(this,"models",v,this),C(this,"animations",g,this),C(this,"meshBindings",y,this),C(this,"update",w,this),this._isLoaded=!1,this._isPlaying=!1,this._boundsDirty=!1,this._pendingCommands=[],e&&this.SetGeometryResource(e)}OnEvent(e,t,r,i){return"loaded"===e&&this.IsLoaded()&&(t.call(r,{controller:this}),i)?this:super.OnEvent(e,t,r,i)}IsGood(){for(var e=this.geometryResources.length>0,t=0;t<this.geometryResources.length;t++)this.geometryResources[t]&&this.geometryResources[t].IsGood()||(e=!1);if(!e||!this.animations.length)return!1;for(var r=0;r<this.animations.length;r++)if(!this.animations[r].IsGood())return!1;return!0}IsPlaying(){return this._isPlaying}IsLoaded(){return this._isLoaded}GetAnimationsByName(e={}){if(!this.IsLoaded())return null;for(var t=0;t<this.animations.length;t++)e[this.animations[t].name]=this.animations[t];return e}GetAnimation(e){for(var t=0;t<this.animations.length;t++)if(this.animations[t].name===e)return this.animations[t];return null}PlayAnimation(e,t){if(0!==this.animations.length){var r=this.GetAnimation(e);r&&r.Play(t)}else this._pendingCommands.push({func:this.PlayAnimation,args:[e,t]})}GetPlayingAnimations(){for(var e=[],t=0;t<this.animations.length;t++)this.animations[t].IsPlaying()&&e.push(this.animations[t].name);return e}StopAnimation(e){if(0!==this.animations.length){e=Object(S.toArray)(e);for(var t=0;t<this.animations.length;++t)e.includes(this.animations[t].name)&&this.animations[t].Stop()}else this._pendingCommands.push({func:this.StopAnimation,args:e})}StopAllAnimations(){if(0!==this.animations.length)for(var e=0;e<this.animations.length;++e)this.animations[e].Stop();else this._pendingCommands.push({func:this.StopAllAnimations,args:null})}StopAllAnimationsExcept(e){if(0!==this.animations.length){e=Object(S.toArray)(e);for(var t=0;t<this.animations.length;++t)e.includes(this.animations[t].name)||this.animations[t].Stop()}else this._pendingCommands.push({func:this.StopAllAnimationsExcept,args:e})}HasGeometryResource(e){return-1!==this.geometryResources.indexOf(e)}SetGeometryResource(e){this.models.splice(0);for(var t=0;t<this.animations.length;t++){var r=this.animations[t];this.animations.splice(t,1),t--,this.EmitEvent("removed",{animation:r,controller:this}),r.OnDestroy()}this.meshBindings.splice(0);for(var i=0;i<this.geometryResources.length;++i)this.geometryResources[i].UnregisterNotification(this);this._isLoaded=!1,this.geometryResources.splice(0),e&&(this.geometryResources.push(e),e.RegisterNotification(this))}AddGeometryResource(e){this.geometryResources.includes(e)||(this.geometryResources.push(e),e.RegisterNotification(this))}ResetBoneTransforms(){for(var t=0;t<this.models.length;++t)for(var r=0;r<this.models[t].bones.length;++r){var i=this.models[t].bones[r],n=i.boneRes;_.mat4.copy(i.localTransform,n.localTransform),-1!==n.parentIndex?_.mat4.multiply(i.worldTransform,i.localTransform,this.models[t].bones[i.boneRes.parentIndex].worldTransform):_.mat4.set(i.worldTransform,i.localTransform),_.mat4.identity(i.offsetTransform)}for(var a=_.mat4.identity(e.global.mat4_0),o=0;o<this.meshBindings.length;++o)for(var s=0;s<this.meshBindings[o].meshIndex.length;++s)for(var l=0;16*l<this.meshBindings[o].meshIndex[s].length;++l)for(var u=0;u<16;++u)this.meshBindings[o].meshIndex[s][16*l+u]=a[u]}GetBoneMatrices(t,r){if(0===this.geometryResources.length)return new Float32Array;r||(r=this.geometryResources[0]);var i=e.FindMeshBindings(this,r);return i&&void 0!==i.meshIndex[t]?i.meshIndex[t]:new Float32Array}FindBoneForMesh(e,t){var r=this.FindModelForMesh(t);if(r)for(var i=0;i<r.bones.length;i++)if(r.bones[i].boneRes.name===e)return r.bones[i];return null}FindModelForMesh(e,t){if(0===this.geometryResources.length)return null;if(t||(t=this.geometryResources[0]),!t.IsGood())return null;for(var r=t.meshes[e],i=0;i<this.models.length;++i)for(;0<this.models[i].modelRes.meshBindings.length;++i)if(this.models[i].modelRes.meshBindings[0].mesh===r)return this.models[i];return null}GetResources(e=[]){for(var t=0;t<this.geometryResources.length;t++)e.includes(this.geometryResources[t])||e.push(this.geometryResources[t]);return e}OnResPrepared(t){if(t.UnregisterNotification(this),this.geometryResources.includes(t)){for(var r=0;r<this.geometryResources.length;++r)if(!this.geometryResources[r].IsGood())return;for(var i=0;i<this.geometryResources.length;++i)e.DoRebuildCachedData(this,this.geometryResources[i])}}Update(t){var r=this._isPlaying;if(this._isPlaying=!1,this.models&&this.update){for(var i=0;i<this.geometryResources.length;++i)this.geometryResources[i].KeepAlive();for(var n=e.global,a=n.mat4_0,o=n.quat_0,s=n.vec3_0,l=n.mat3_0,u=0;u<this.animations.length;++u){var c=this.animations[u];if(c.Update(t)){this._isPlaying=!0;for(var f=c.animationRes,d=0;d<c.trackGroups.length;++d)for(var h=0;h<c.trackGroups[d].transformTracks.length;++h){var m=c.trackGroups[d].transformTracks[h];m.trackRes.position?_.curve.evaluate(m.trackRes.position,c.time,s,c.cycle,f.duration):s[0]=s[1]=s[2]=0,m.trackRes.orientation?(_.curve.evaluate(m.trackRes.orientation,c.time,o,c.cycle,f.duration),_.quat.normalize(o,o)):_.quat.identity(o),m.trackRes.scaleShear?_.curve.evaluate(m.trackRes.scaleShear,c.time,l,c.cycle,f.duration):_.mat3.identity(l),_.mat4.fromMat3(m.bone.localTransform,l),_.mat4.multiply(m.bone.localTransform,m.bone.localTransform,_.mat4.fromQuat(a,o)),m.bone.localTransform[12]=s[0],m.bone.localTransform[13]=s[1],m.bone.localTransform[14]=s[2]}}}for(var b=0;b<this.models.length;++b)for(var p=0;p<this.models[b].bones.length;++p){var v=this.models[b].bones[p];-1!==v.boneRes.parentIndex?_.mat4.multiply(v.worldTransform,this.models[b].bones[v.boneRes.parentIndex].worldTransform,v.localTransform):_.mat4.copy(v.worldTransform,v.localTransform),_.mat4.multiply(v.offsetTransform,v.worldTransform,v.boneRes.worldTransformInv);for(var g=0;g<v.bindingArrays.length;++g){var y=v.bindingArrays[g],w=v.offsetTransform;y.array[y.offset+0]=w[0],y.array[y.offset+1]=w[4],y.array[y.offset+2]=w[8],y.array[y.offset+3]=w[12],y.array[y.offset+4]=w[1],y.array[y.offset+5]=w[5],y.array[y.offset+6]=w[9],y.array[y.offset+7]=w[13],y.array[y.offset+8]=w[2],y.array[y.offset+9]=w[6],y.array[y.offset+10]=w[10],y.array[y.offset+11]=w[14]}}(this._isPlaying||this._isPlaying!==r)&&(this._boundsDirty=!0)}}RenderDebugInfo(e){for(var t=0;t<this.models.length;++t)for(var r=0;r<this.models[t].bones.length;++r){var i=this.models[t].bones[r];if(i.boneRes.parentIndex>=0){var n=this.models[t].bones[i.boneRes.parentIndex];e.AddLine([i.worldTransform[12],i.worldTransform[13],i.worldTransform[14]],[n.worldTransform[12],n.worldTransform[13],n.worldTransform[14]])}}}static AddAnimationsFromRes(e,t){for(var r=0;r<t.animations.length;++r){for(var i=null,n=void 0,a=0;a<e.animations.length;++a)if(e.animations[a].animationRes===t.animations[r]){i=e.animations[r];break}i||((i=new R.Tw2Animation(e)).animationRes=t.animations[r],e.animations.push(i),n=!0);for(var o=0;o<i.animationRes.trackGroups.length;++o){for(var s=!1,l=0;l<i.trackGroups.length;++l)if(i.trackGroups[l].trackGroupRes===i.animationRes.trackGroups[o]){s=!0;break}if(!s){for(var u=null,c=0;c<e.models.length;++c)if(e.models[c].modelRes.name===i.animationRes.trackGroups[o].name){u=e.models[c];break}if(null!==u){var f=new x.Tw2TrackGroup;f.trackGroupRes=i.animationRes.trackGroups[o];for(var d=0;d<f.trackGroupRes.transformTracks.length;++d)for(var h=0;h<u.bones.length;++h)if(u.bones[h].boneRes.name===f.trackGroupRes.transformTracks[d].name){var m=new A.Tw2Track;m.trackRes=f.trackGroupRes.transformTracks[d],m.bone=u.bones[h],f.transformTracks.push(m);break}i.trackGroups.push(f)}}}n&&e.EmitEvent("added",{controller:e,animation:i})}}static AddModel(e,t){for(var r=0;r<e.models.length;++r)if(e.models[r].modelRes.name===t.name)return null;var i=new P.Tw2Model;i.modelRes=t;var n=t.skeleton;if(null!==n)for(var a=0;a<n.bones.length;++a){var o=new z.Tw2Bone;o.boneRes=n.bones[a],i.bones.push(o),i.bonesByName[o.boneRes.name]=o}return e.models.push(i),i}static FindMeshBindings(e,t){for(var r=0;r<e.meshBindings.length;++r)if(e.meshBindings[r].resource===t)return e.meshBindings[r];return null}static DoRebuildCachedData(t,r){if(r.meshes.length)for(var i=0;i<r.models.length;++i)e.AddModel(t,r.models[i]);for(var n=0;n<t.geometryResources.length;++n)this.AddAnimationsFromRes(t,t.geometryResources[n]);if(0===r.models.length&&t.geometryResources[0].models[0]){for(var a=0;a<r.meshes.length;++a)j.Tw2GeometryRes.BindMeshToModel(r.meshes[a],t.geometryResources[0].models[0],r);r.models.push(t.geometryResources[0].models[0])}for(var o=0;o<r.models.length;++o){for(var s=null,l=0;l<t.models.length;++l)if(t.models[l].modelRes.name===r.models[o].name){s=t.models[l];break}if(null!==s)for(var u=0;u<r.models[o].meshBindings.length;++u){var c=r.meshes.indexOf(r.models[o].meshBindings[u].mesh),f=e.FindMeshBindings(t,r);null===f&&((f=new M.Tw2MeshBinding).resource=r,t.meshBindings.push(f)),f.meshIndex[c]=new Float32Array(12*r.models[o].meshBindings[u].bones.length);for(var d=0;d<r.models[o].meshBindings[u].bones.length;++d)for(var h=0;h<s.bones.length;++h)if(s.bones[h].boneRes.name===r.models[o].meshBindings[u].bones[d].name){var m=new O.Tw2BoneBinding;m.array=f.meshIndex[c],m.offset=12*d,s.bones[h].bindingArrays.push(m);break}}}if(r.meshes.length&&r.models.length&&t.ResetBoneTransforms(),t._isLoaded=!0,t.EmitEvent("loaded",{controller:t}),t.animations.length){if(t._pendingCommands.length)for(var b=0;b<t._pendingCommands.length;++b)t._pendingCommands[b].args?t._pendingCommands[b].func.apply(t,t._pendingCommands[b].args):t._pendingCommands[b].func.apply(t);t._pendingCommands.splice(0)}}},E.global={vec3_0:_.vec3.create(),quat_0:_.quat.create(),mat3_0:_.mat3.create(),mat4_0:_.mat4.create()},E.keys={primary:["update"]},p=D((b=T).prototype,"geometryResources",[a,o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),v=D(b.prototype,"models",[s,l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),g=D(b.prototype,"animations",[u,c],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),y=D(b.prototype,"meshBindings",[f,d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),w=D(b.prototype,"update",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),m=b))||m)||m)},"./core/model/Tw2Bone.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tw2Bone",(function(){return w}));var i,n,a,o,s,l,u,c,f,d,h,m,b,p=r("./global/utils/index.js"),v=r("./global/math/index.js");function g(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function y(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var w=(i=p.meta.type("Tw2Bone"),n=p.meta.struct("Tw2GeometryBone"),a=p.meta.list("Tw2BoneBinding"),o=p.meta.matrix4,s=p.meta.matrix4,l=p.meta.matrix4,i((f=y((c=class{constructor(){g(this,"boneRes",f,this),g(this,"bindingArrays",d,this),g(this,"localTransform",h,this),g(this,"worldTransform",m,this),g(this,"offsetTransform",b,this)}}).prototype,"boneRes",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),d=y(c.prototype,"bindingArrays",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),h=y(c.prototype,"localTransform",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return v.mat4.create()}}),m=y(c.prototype,"worldTransform",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return v.mat4.create()}}),b=y(c.prototype,"offsetTransform",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return v.mat4.create()}}),u=c))||u)},"./core/model/Tw2BoneBinding.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tw2BoneBinding",(function(){return h}));var i,n,a,o,s,l,u,c=r("./global/utils/index.js");function f(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function d(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var h=(i=c.meta.type("Tw2BoneBinding"),n=c.meta.vector,a=c.meta.uint,i((l=d((s=class{constructor(){f(this,"array",l,this),f(this,"offset",u,this)}}).prototype,"array",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),u=d(s.prototype,"offset",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),o=s))||o)},"./core/model/Tw2MeshBinding.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tw2MeshBinding",(function(){return h}));var i,n,a,o,s,l,u,c=r("./global/utils/index.js");function f(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function d(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var h=(i=c.meta.type("Tw2MeshBinding"),n=c.meta.list("Float32Array"),a=c.meta.struct("Tw2GeometryRes"),i((l=d((s=class{constructor(){f(this,"meshIndex",l,this),f(this,"resource",u,this)}}).prototype,"meshIndex",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),u=d(s.prototype,"resource",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),o=s))||o)},"./core/model/Tw2Model.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tw2Model",(function(){return p}));var i,n,a,o,s,l,u,c,f,d,h=r("./global/utils/index.js");function m(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function b(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var p=(i=h.meta.type("Tw2Model"),n=h.meta.struct("Tw2GeometryModel"),a=h.meta.list("Tw2Bone"),o=h.meta.plain,s=h.meta.isPrivate,i((c=b((u=class{constructor(){m(this,"modelRes",c,this),m(this,"bones",f,this),m(this,"bonesByName",d,this)}}).prototype,"modelRes",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),f=b(u.prototype,"bones",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),d=b(u.prototype,"bonesByName",[o,s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),l=u))||l)},"./core/model/Tw2Track.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tw2Track",(function(){return h}));var i,n,a,o,s,l,u,c=r("./global/utils/index.js");function f(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function d(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var h=(i=c.meta.type("Tw2Track"),n=c.meta.struct("Tw2GeometryTransformTrack"),a=c.meta.struct("Tw2Bone"),i((l=d((s=class{constructor(){f(this,"trackRes",l,this),f(this,"bone",u,this)}}).prototype,"trackRes",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),u=d(s.prototype,"bone",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),o=s))||o)},"./core/model/Tw2TrackGroup.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tw2TrackGroup",(function(){return b}));var i,n,a,o,s,l,u,c,f,d=r("./global/utils/index.js");function h(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function m(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var b=(i=d.meta.type("Tw2TrackGroup"),n=d.meta.struct("Tw2GeometryTrackGroup"),a=d.meta.struct("Tw2GeometryModel"),o=d.meta.list("Tw2Track"),i((u=m((l=class{constructor(){h(this,"trackGroupRes",u,this),h(this,"model",c,this),h(this,"transformTracks",f,this)}}).prototype,"trackGroupRes",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),c=m(l.prototype,"model",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),f=m(l.prototype,"transformTracks",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),s=l))||s)},"./core/model/index.js":function(e,t,r){"use strict";r.r(t);var i=r("./core/model/Tw2Animation.js");r.d(t,"Tw2Animation",(function(){return i.Tw2Animation}));var n=r("./core/model/Tw2AnimationController.js");r.d(t,"Tw2AnimationController",(function(){return n.Tw2AnimationController}));var a=r("./core/model/Tw2Bone.js");r.d(t,"Tw2Bone",(function(){return a.Tw2Bone}));var o=r("./core/model/Tw2BoneBinding.js");r.d(t,"Tw2BoneBinding",(function(){return o.Tw2BoneBinding}));var s=r("./core/model/Tw2MeshBinding.js");r.d(t,"Tw2MeshBinding",(function(){return s.Tw2MeshBinding}));var l=r("./core/model/Tw2Model.js");r.d(t,"Tw2Model",(function(){return l.Tw2Model}));var u=r("./core/model/Tw2Track.js");r.d(t,"Tw2Track",(function(){return u.Tw2Track}));var c=r("./core/model/Tw2TrackGroup.js");r.d(t,"Tw2TrackGroup",(function(){return c.Tw2TrackGroup}))},"./core/parameter/Tw2FloatParameter.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tw2FloatParameter",(function(){return p}));var i,n,a,o,s,l,u,c,f,d=r("./core/parameter/Tw2Parameter.js"),h=r("./global/utils/index.js");function m(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function b(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var p=(i=h.meta.type("Tw2FloatParameter","Tr2FloatParameter"),n=h.meta.string,a=h.meta.float,i((f=c=class extends d.Tw2Parameter{constructor(e="",t=1){super(),m(this,"name",l,this),m(this,"value",u,this),e&&(this.name=e),void 0!==t&&(this.value=Object(h.isArrayLike)(t)?t[0]:t)}SetValue(e,t){return!this.EqualsValue(e)&&(this.value=e,this.UpdateValues(t),!0)}GetValue(){return this.value}Apply(e,t){e[t]=this.value}Bind(e,t,r){return!this._constantBuffer&&(this._constantBuffer=e,this._offset=t,this.Apply(e,t),!0)}Unbind(){this._constantBuffer=null}EqualsValue(e){return this.value===e}static isValue(e){return Object(h.isNumber)(e)}},c.constantBufferSize=1,l=b((s=f).prototype,"name",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),u=b(s.prototype,"value",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),o=s))||o)},"./core/parameter/Tw2Matrix4Parameter.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tw2Matrix4Parameter",(function(){return v})),r.d(t,"Tw2MatrixParameter",(function(){return g}));var i,n,a,o,s,l,u,c,f,d=r("./global/utils/index.js"),h=r("./global/math/index.js"),m=r("./core/parameter/Tw2VectorParameter.js");function b(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function p(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var v=(i=d.meta.type("Tw2Matrix4Parameter","Tw2MatrixParameter"),n=d.meta.string,a=d.meta.matrix4,i((f=c=class extends m.Tw2VectorParameter{constructor(e="",t=h.mat4.create()){super(),b(this,"name",l,this),b(this,"value",u,this),e&&(this.name=e),t&&h.mat4.copy(this.value,t)}Compose(e,t,r){"value"in e&&(e=e.value),"value"in t&&(t=t.value),"value"in r&&(r=r.value),h.mat4.fromRotationTranslationScale(this.value,e,t,r),this.UpdateValues()}Decompose(e,t,r){h.mat4.getRotation("value"in e?e.value:e,this.value),h.mat4.getTranslation("value"in t?t.value:t,this.value),h.mat4.getScaling("value"in r?r.value:r,this.value),"UpdateValues"in e&&e.UpdateValues(),"UpdateValues"in t&&t.UpdateValues(),"UpdateValues"in r&&r.UpdateValues()}get x(){return this.GetIndexValue(12)}set x(e){this.SetIndexValue(12,e)}get y(){return this.GetIndexValue(13)}set y(e){this.SetIndexValue(13,e)}get z(){return this.GetIndexValue(14)}set z(e){this.SetIndexValue(14,e)}},c.constantBufferSize=16,l=p((s=f).prototype,"name",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),u=p(s.prototype,"value",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return h.mat4.create()}}),o=s))||o);function g(e,t){return console.warn("Tw2MatrixParameter is deprecated, use Tw2Matrix4Parameter instead"),new v(e,t)}},"./core/parameter/Tw2Parameter.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tw2Parameter",(function(){return m}));var i,n,a,o,s,l,u,c,f,d=r("./global/utils/index.js");function h(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var m=(i=d.meta.string,n=d.meta.abstract,a=d.meta.abstract,o=d.meta.abstract,s=d.meta.abstract,f=c=class extends d.meta.Model{constructor(...e){var t,r,i,n;super(...e),t=this,r="name",n=this,(i=u)&&Object.defineProperty(t,r,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}get size(){return this.constructor.constantBufferSize}GetValue(){}Bind(e,t,r){}Unbind(){}Apply(e,t,r){}},c.constantBufferSize=0,u=h((l=f).prototype,"name",[i],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),h(l.prototype,"GetValue",[n],Object.getOwnPropertyDescriptor(l.prototype,"GetValue"),l.prototype),h(l.prototype,"Bind",[a],Object.getOwnPropertyDescriptor(l.prototype,"Bind"),l.prototype),h(l.prototype,"Unbind",[o],Object.getOwnPropertyDescriptor(l.prototype,"Unbind"),l.prototype),h(l.prototype,"Apply",[s],Object.getOwnPropertyDescriptor(l.prototype,"Apply"),l.prototype),l)},"./core/parameter/Tw2TextureParameter.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tw2TextureParameter",(function(){return N}));var i,n,a,o,s,l,u,c,f,d,h,m,b,p,v,g,y,w,E,T,S,_,j,R,z,O,P,A,x,M,C=r("./global/utils/index.js"),D=r("./global/index.js"),I=r("./core/sampler/index.js"),L=r("./core/parameter/Tw2Parameter.js"),F=r("./core/resource/Tw2TextureRes.js");function G(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function B(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var N=(i=C.meta.type("Tw2TextureParameter","TriTextureParameter"),n=C.meta.string,a=C.meta.path,o=C.meta.uint,s=C.meta.uint,l=C.meta.uint,u=C.meta.uint,c=C.meta.uint,f=C.meta.uint,d=C.meta.boolean,h=C.meta.boolean,m=C.meta.struct("Tw2TextureRes"),b=C.meta.todo("Make private"),p=C.meta.struct("Tw2SamplerState"),i((M=x=class e extends L.Tw2Parameter{constructor(e,t){super(),G(this,"name",y,this),G(this,"resourcePath",w,this),G(this,"addressUMode",E,this),G(this,"addressVMode",T,this),G(this,"addressWMode",S,this),G(this,"filterMode",_,this),G(this,"maxAnisotropy",j,this),G(this,"mipFilterMode",R,this),G(this,"useAllOverrides",z,this),G(this,"forceMipMaps",O,this),G(this,"textureRes",P,this),G(this,"_sampler",A,this),e&&(this.name=e),t&&this.SetValue(t)}get isTextureAttached(){return this.textureRes&&this.textureRes._isAttached}Initialize(){this.UpdateValues()}SetValue(e){this.resourcePath=e,this.UpdateValues()}GetValue(){return this.isTextureAttached&&0!==this.resourcePath.indexOf("rgba:")?null:this.resourcePath}SetTextureRes(e){return this.textureRes!==e&&(this.resourcePath="",this.textureRes=e,this.textureRes&&(this.textureRes._isAttached=!0),!0)}OnValueChanged(e,t){if(this.resourcePath=this.resourcePath.toLowerCase(),""!==this.resourcePath)if(0===this.resourcePath.indexOf("rgba:/")){if(!this.textureRes||this.textureRes.path!==this.resourcePath){var r=this.resourcePath.replace("rgba:/","").split(","),i=D.device.CreateSolidTexture([parseFloat(r[0]),parseFloat(r[1]),parseFloat(r[2]),void 0!==r[3]?parseFloat(r[3]):255]);this.textureRes=new F.Tw2TextureRes,this.textureRes.path=this.resourcePath,this.textureRes.Attach(i)}}else this.textureRes=D.resMan.GetResource(this.resourcePath);else this.textureRes=null;this.UpdateOverrides()}Apply(e,t,r){this.textureRes&&(this.useAllOverrides&&this._sampler&&(this._sampler.samplerType=t.samplerType,this._sampler.isVolume=t.isVolume,this._sampler.registerIndex=t.registerIndex,t=this._sampler),D.device.gl.activeTexture(D.device.gl.TEXTURE0+e),this.textureRes.Bind(t,r))}SetOverrides(t={}){if(Object(C.assignIfExists)(this,t,e.overrideProperties))return this.UpdateValues(),!0}GetOverrides(t={}){return Object(C.assignIfExists)(t,this,e.overrideProperties),t}UpdateOverrides(){if(this.useAllOverrides){this._sampler=this._sampler||new I.Tw2SamplerState,this._sampler.forceMipMaps=this.forceMipMaps;var{wrapModes:e,gl:t}=D.device,r=this._sampler;if(1===this.filterMode){switch(this.mipFilterMode){case 0:r.minFilter=t.NEAREST;break;case 1:r.minFilter=t.NEAREST_MIPMAP_NEAREST;break;default:r.minFilter=t.NEAREST_MIPMAP_LINEAR}r.minFilterNoMips=t.NEAREST,r.magFilter=t.NEAREST}else{switch(this.mipFilterMode){case 0:r.minFilter=t.LINEAR;break;case 1:r.minFilter=t.LINEAR_MIPMAP_NEAREST;break;default:r.minFilter=t.LINEAR_MIPMAP_LINEAR}r.minFilterNoMips=t.LINEAR,r.magFilter=t.LINEAR}r.addressU=e[this.addressUMode],r.addressV=e[this.addressVMode],r.addressW=e[this.addressWMode],r.anisotropy=this.maxAnisotropy,r.ComputeHash()}else this._sampler&&(this._sampler=null)}EqualsValue(e){return e.toLowerCase()===this.GetValue()}GetResources(e=[]){return this.textureRes&&!e.includes(this.textureRes)&&e.push(this.textureRes),e}static isValue(e){return Object(C.isString)(e)}},x.overrideProperties=["useAllOverrides","addressUMode","addressVMode","addressWMode","filterMode","mipFilterMode","maxAnisotropy","forceMipMaps"],y=B((g=M).prototype,"name",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),w=B(g.prototype,"resourcePath",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),E=B(g.prototype,"addressUMode",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),T=B(g.prototype,"addressVMode",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),S=B(g.prototype,"addressWMode",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),_=B(g.prototype,"filterMode",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 2}}),j=B(g.prototype,"maxAnisotropy",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 4}}),R=B(g.prototype,"mipFilterMode",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 2}}),z=B(g.prototype,"useAllOverrides",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),O=B(g.prototype,"forceMipMaps",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),P=B(g.prototype,"textureRes",[m,b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),A=B(g.prototype,"_sampler",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),v=g))||v)},"./core/parameter/Tw2TransformParameter.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tw2TransformParameter",(function(){return j}));var i,n,a,o,s,l,u,c,f,d,h,m,b,p,v,g,y,w=r("./global/utils/index.js"),E=r("./global/math/index.js"),T=r("./core/parameter/Tw2Parameter.js");function S(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function _(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var j=(i=w.meta.type("Tw2TransformParameter","Tr2TransformParameter"),n=w.meta.vector3,a=w.meta.vector3,o=w.meta.quaternion,s=w.meta.vector3,l=w.meta.matrix4,u=w.meta.matrix4,i((y=g=class extends T.Tw2Parameter{constructor(...e){super(...e),S(this,"scaling",d,this),S(this,"rotationCenter",h,this),S(this,"rotation",m,this),S(this,"translation",b,this),S(this,"transform",p,this),S(this,"worldTransform",v,this)}Initialize(){this.UpdateValues()}SetValue(e,t){E.mat4.getRotation(this.rotation,e),E.mat4.getTranslation(this.translation,e),E.mat4.getScaling(this.scaling,e),this.UpdateValues(t)}GetValue(e){return E.mat4.copy(e,this.worldTransform)}OnValueChanged(e){E.mat4.fromRotationTranslationScaleOrigin(this.transform,this.rotation,this.translation,this.scaling,this.rotationCenter),E.mat4.transpose(this.worldTransform,this.transform)}Bind(e,t,r){return!this._constantBuffer&&r>=this.size&&(this._constantBuffer=e,this._offset=t,this.Apply(e,t,r),!0)}Apply(e,t,r){r>=this.constructor.constantBufferSize?e.set(this.worldTransform,t):e.set(this.worldTransform.subarray(0,r),t)}},g.constantBufferSize=16,d=_((f=y).prototype,"scaling",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return E.vec3.fromValues(1,1,1)}}),h=_(f.prototype,"rotationCenter",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return E.vec3.create()}}),m=_(f.prototype,"rotation",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return E.quat.create()}}),b=_(f.prototype,"translation",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return E.vec3.create()}}),p=_(f.prototype,"transform",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return E.mat4.create()}}),v=_(f.prototype,"worldTransform",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return E.mat4.create()}}),c=f))||c)},"./core/parameter/Tw2VariableParameter.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tw2VariableParameter",(function(){return p}));var i,n,a,o,s,l,u,c,f=r("./global/utils/index.js"),d=r("./global/index.js"),h=r("./core/parameter/Tw2Parameter.js");function m(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function b(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var p=(i=f.meta.type("Tw2VariableParameter","TriVariableParameter"),n=f.meta.string,a=f.meta.string,i((c=class extends h.Tw2Parameter{constructor(e,t){super(),m(this,"name",l,this),m(this,"variableName",u,this),e&&(this.name=e),t&&(this.variableName=t)}get variable(){return d.store.variables.Get(this.variableName)}get size(){return this.variable?this.variable.size:0}SetValue(e,t){return d.store.variables.SetValue(this.variableName,e,t)}GetValue(e=[]){return d.store.variables.GetValue(this.variableName)}Apply(e,t,r){this.variable&&this.variable.Apply(e,t,r)}},l=b((s=c).prototype,"name",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),u=b(s.prototype,"variableName",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),o=s))||o)},"./core/parameter/Tw2Vector2Parameter.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tw2Vector2Parameter",(function(){return v}));var i,n,a,o,s,l,u,c,f,d=r("./global/utils/index.js"),h=r("./global/math/index.js"),m=r("./core/parameter/Tw2VectorParameter.js");function b(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function p(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var v=(i=d.meta.type("Tw2Vector2Parameter"),n=d.meta.string,a=d.meta.vector2,i((f=c=class extends m.Tw2VectorParameter{constructor(e,t){super(),b(this,"name",l,this),b(this,"value",u,this),e&&(this.name=e),t&&h.vec2.copy(this.value,t)}get x(){return this.GetIndexValue(0)}set x(e){this.SetIndexValue(0,e)}get y(){return this.GetIndexValue(1)}set y(e){this.SetIndexValue(1,e)}},c.constantBufferSize=2,l=p((s=f).prototype,"name",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),u=p(s.prototype,"value",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return h.vec2.fromValues(1,1)}}),o=s))||o)},"./core/parameter/Tw2Vector3Parameter.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tw2Vector3Parameter",(function(){return v}));var i,n,a,o,s,l,u,c,f,d=r("./global/utils/index.js"),h=r("./global/math/index.js"),m=r("./core/parameter/Tw2VectorParameter.js");function b(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function p(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var v=(i=d.meta.type("Tw2Vector3Parameter"),n=d.meta.string,a=d.meta.vector3,i((f=c=class extends m.Tw2VectorParameter{constructor(e,t){super(),b(this,"name",l,this),b(this,"value",u,this),e&&(this.name=e),t&&h.vec3.copy(this.value,t)}get x(){return this.GetIndexValue(0)}set x(e){this.SetIndexValue(0,e)}get y(){return this.GetIndexValue(1)}set y(e){this.SetIndexValue(1,e)}get z(){return this.GetIndexValue(2)}set z(e){this.SetIndexValue(2,e)}},c.constantBufferSize=3,l=p((s=f).prototype,"name",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),u=p(s.prototype,"value",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return h.vec3.fromValues(1,1,1)}}),o=s))||o)},"./core/parameter/Tw2Vector4Parameter.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tw2Vector4Parameter",(function(){return v}));var i,n,a,o,s,l,u,c,f,d=r("./global/utils/index.js"),h=r("./global/math/index.js"),m=r("./core/parameter/Tw2VectorParameter.js");function b(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function p(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var v=(i=d.meta.type("Tw2Vector4Parameter","TriVector4Parameter"),n=d.meta.string,a=d.meta.vector4,i((f=c=class extends m.Tw2VectorParameter{constructor(e,t){super(),b(this,"name",l,this),b(this,"value",u,this),e&&(this.name=e),t&&h.vec4.copy(this.value,t)}get x(){return this.GetIndexValue(0)}set x(e){this.SetIndexValue(0,e)}get y(){return this.GetIndexValue(1)}set y(e){this.SetIndexValue(1,e)}get z(){return this.GetIndexValue(2)}set z(e){this.SetIndexValue(2,e)}get w(){return this.GetIndexValue(3)}set w(e){this.SetIndexValue(3,e)}},c.constantBufferSize=4,l=p((s=f).prototype,"name",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),u=p(s.prototype,"value",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return h.vec4.fromValues(1,1,1,1)}}),o=s))||o)},"./core/parameter/Tw2VectorParameter.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tw2VectorParameter",(function(){return l}));var i,n,a,o=r("./core/Tw2Error.js"),s=r("./global/utils/index.js"),l=s.meta.type("Tw2VectorParameter")((a=n=class extends s.meta.Model{get size(){return this.constructor.constantBufferSize}SetValue(e,t){return!this.EqualsValue(e)&&(this.value.set(e),this.UpdateValues(t),!0)}SetIndexValue(e,t,r){if(void 0===this.value[e])throw new o.ErrIndexBounds;this.value[e]!==t&&(this.value[e]=t,this.UpdateValues(r))}GetValue(e=[]){for(var t=this._constantBuffer?this._constantBuffer.subarray(this._offset,this._offset+this.size):this.value,r=0;r<t.length;r++)e[r]=t[r];return e}GetIndexValue(e){if(void 0!==this.value[e])return this.value[e];throw new o.ErrIndexBounds}OnValueChanged(e,t){this._constantBuffer&&this.Apply(this._constantBuffer,this._offset)}Bind(e,t,r){return!this._constantBuffer&&r>=this.size&&(this._constantBuffer=e,this._offset=t,this.Apply(e,t,r),!0)}Unbind(){this._constantBuffer=null}Apply(e,t,r){e.set(this.value,t)}EqualsValue(e){for(var t=0;t<this.size;t++)if(this.value[t]!==e[t])return!1;return!0}static isValue(e){return Object(s.isArrayLike)(e)&&e.length===this.constantBufferSize}},n.constantBufferSize=0,i=a))||i},"./core/parameter/index.js":function(e,t,r){"use strict";r.r(t);var i=r("./core/parameter/Tw2Parameter.js");r.d(t,"Tw2Parameter",(function(){return i.Tw2Parameter}));var n=r("./core/parameter/Tw2FloatParameter.js");r.d(t,"Tw2FloatParameter",(function(){return n.Tw2FloatParameter}));var a=r("./core/parameter/Tw2Matrix4Parameter.js");r.d(t,"Tw2Matrix4Parameter",(function(){return a.Tw2Matrix4Parameter})),r.d(t,"Tw2MatrixParameter",(function(){return a.Tw2MatrixParameter}));var o=r("./core/parameter/Tw2TransformParameter.js");r.d(t,"Tw2TransformParameter",(function(){return o.Tw2TransformParameter}));var s=r("./core/parameter/Tw2VariableParameter.js");r.d(t,"Tw2VariableParameter",(function(){return s.Tw2VariableParameter}));var l=r("./core/parameter/Tw2Vector2Parameter.js");r.d(t,"Tw2Vector2Parameter",(function(){return l.Tw2Vector2Parameter}));var u=r("./core/parameter/Tw2Vector3Parameter.js");r.d(t,"Tw2Vector3Parameter",(function(){return u.Tw2Vector3Parameter}));var c=r("./core/parameter/Tw2Vector4Parameter.js");r.d(t,"Tw2Vector4Parameter",(function(){return c.Tw2Vector4Parameter}));var f=r("./core/parameter/Tw2TextureParameter.js");r.d(t,"Tw2TextureParameter",(function(){return f.Tw2TextureParameter}))},"./core/post/Tw2PostEffect.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tw2PostEffect",(function(){return j}));var i,n,a,o,s,l,u,c,f,d,h,m,b,p,v=r("./global/utils/index.js"),g=r("./global/index.js"),y=r("./core/Tw2RenderTarget.js"),w=r("./core/resource/Tw2TextureRes.js"),E=r("./core/parameter/index.js"),T=r("./core/post/Tw2PostEffectStep.js");function S(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function _(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var j=(i=v.meta.type("Tw2PostEffect"),n=v.meta.boolean,a=v.meta.uint,o=v.meta.isPrivate,s=v.meta.struct("Tw2CurveSet"),l=v.meta.list("Tw2PostEffectStep"),i((p=b=class extends v.meta.Model{constructor(...e){super(...e),S(this,"display",f,this),S(this,"index",d,this),S(this,"curveSet",h,this),S(this,"steps",m,this),this._width=0,this._height=0,this._targets={},this._texture=null,this._visibleSteps=[],this._dirty=!0,this._onChildModified=e=>this.UpdateValues({controller:e})}OnValueChanged(){this._dirty=!0}IsGood(){for(var e=0,t=0;t<this.steps.length;t++)this.steps[t].IsGood()&&e++;return e===this.steps.length}KeepAlive(){for(var e=0;e<this.steps.length;e++)this.steps[e].KeepAlive()}GetResources(e=[]){for(var t=0;t<this.steps.length;t++)this.steps[t].GetResources(e);return e}CreateItem(e={}){var t=T.Tw2PostEffectStep.from(e);return this.AddItem(t),t}AddItem(e){this.steps.includes(e)||(-1===e.index&&(e.index=this.steps.length),e._onModified=this._onChildModified,this.steps.push(e),this.UpdateValues())}RemoveItem(e){var t=this.steps.indexOf(e);-1!==t&&(e._onModified=null,this.steps.splice(t,1),this.UpdateValues())}ClearItems(){for(var e=0;e<this.steps.length;e++)this.steps[e]._onModified=null;this.steps=[],this.UpdateValues()}GetTarget(e){return e&&e in this._targets?this._targets[e]:null}HasTarget(e){return!(!e||!this._targets[e])}CreateTarget(e,t=g.device.viewportWidth,r=g.device.viewportHeight){return this._targets[e]||(this._targets[e]=new y.Tw2RenderTarget,this._targets[e].name=e),this._targets[e].Create(t,r,!1),this._targets[e]}Update(e){this.curveSet&&this.curveSet.Update(e)}Render(){var e=g.device,t=e.gl,r=e.viewportWidth,i=e.viewportHeight;if(!this.IsGood()||!this.display||r<=0||i<=0)return!1;if(r!==this._width||i!==this._height||this._dirty||!this._texture){this._texture||(this._texture=new w.Tw2TextureRes,this._texture.Attach(t.createTexture())),t.bindTexture(t.TEXTURE_2D,this._texture.texture),t.texImage2D(t.TEXTURE_2D,0,t.RGBA,r,i,0,t.RGBA,t.UNSIGNED_BYTE,null),t.bindTexture(t.TEXTURE_2D,null),this._width=r,this._height=i,this._visibleSteps=[];for(var n=0;n<this.steps.length;++n){var a=this.steps[n],o=a.inputs,s=a.effect,l=s.shader,u=s.parameters;for(var c in l.HasTexture("BlitCurrent")&&!u.BlitCurrent&&(u.BlitCurrent=new E.Tw2TextureParameter("BlitCurrent","rgba:/0,0,0,255")),l.HasTexture("BlitOriginal")&&!u.BlitOriginal&&(u.BlitOriginal=new E.Tw2TextureParameter("BlitOriginal","rgba:/0,0,0,255")),a.target?a._renderTarget=this.CreateTarget(a.target,r,i):a._renderTarget=null,o)if(o.hasOwnProperty(c))if(l.HasTexture(c)){u[c]||(u[c]=new E.Tw2TextureParameter(c));var f=u[c],d=o[c];d?f.SetTextureRes(this.CreateTarget(d,r,i).texture):f.SetTextureRes(this._texture)}else console.warn("Invalid input parameter ".concat(c)),delete o[c];if("BlitCurrent"in o&&l.HasConstant("g_texelSize")){u.g_texelSize||(u.g_texelSize=new E.Tw2Vector4Parameter("g_texelSize",[1,1,1,1]));var h=u.g_texelSize,m=this.GetTarget(o.BlitCurrent);m?(h.value[0]=1/m.width,h.value[1]=1/m.width):(h.value[0]=1/r,h.value[1]=1/r),h.UpdateValues(this)}a.display&&this._visibleSteps.push(a),a._dirty=!1}this._visibleSteps.sort((e,t)=>e.index-t.index),this._dirty=!1}t.bindTexture(t.TEXTURE_2D,this._texture.texture),t.copyTexImage2D(t.TEXTURE_2D,0,e.alphaBlendBackBuffer?t.RGBA:t.RGB,0,0,r,i,0),t.bindTexture(t.TEXTURE_2D,null),e.SetStandardStates(g.device.RM_OPAQUE);for(var b=0,p=0;p<this._visibleSteps.length;++p){var v=this._visibleSteps[p];v.display&&(v._renderTarget?v._renderTarget.Set():(t.bindFramebuffer(t.FRAMEBUFFER,null),t.viewport(0,0,r,i)),e.RenderFullScreenQuad(v.effect),b++)}return!!b}static from(e={}){var t=new this;if(Object(v.assignIfExists)(t,e,["name","display","index"]),e.steps)for(var r=0;r<e.steps.length;r++)t.CreateItem(e.steps[r]);return t}},b.Item=T.Tw2PostEffectStep,f=_((c=p).prototype,"display",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),d=_(c.prototype,"index",[a,o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return-1}}),h=_(c.prototype,"curveSet",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),m=_(c.prototype,"steps",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),u=c))||u)},"./core/post/Tw2PostEffectManager.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tw2PostEffectManager",(function(){return g}));var i,n,a,o,s,l,u,c,f,d,h,m=r("./core/post/Tw2PostEffect.js"),b=r("./global/utils/index.js");function p(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function v(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var g=(i=b.meta.type("Tw2PostEffectManager"),n=b.meta.string,a=b.meta.boolean,o=b.meta.list("Tw2PostEffect"),i((h=d=class extends b.meta.Model{constructor(...e){super(...e),p(this,"name",u,this),p(this,"display",c,this),p(this,"effects",f,this),this._dirty=!0,this._onChildValueChanged=e=>this.UpdateValues({controller:e}),this._visibleEffects=[]}OnValueChanged(){this._dirty=!0}IsGood(){for(var e=0,t=0;t<this.effects.length;t++)this.effects[t].IsGood()&&e++;return e===this.effects.length}KeepAlive(){for(var e=0;e<this.effects.length;e++)this.effects[e].KeepAlive()}GetResources(e=[]){for(var t=0;t<this.effects.length;t++)this.effects[t].GetResources(e);return e}CreateItem(e={}){var t=m.Tw2PostEffect.from(e);return this.AddItem(t),t}AddItem(e){this.effects.includes(e)||(-1===e.index&&(e.index=this.effects.length),e._onModified=this._onChildValueChanged,this.effects.push(e),this.UpdateValues())}RemoveItem(e){var t=this.effects.indexOf(e);-1!==t&&(e._onModified=null,this.effects.splice(t,1),this.UpdateValues())}ClearItems(){for(var e=0;e<this.effects.length;e++)this.effects[e]._onModified=null,this.effects[e].ClearItems();this.effects=[],this.UpdateValues()}Update(e){if(this._dirty){this._visibleEffects=[];for(var t=0;t<this.effects.length;t++)this.effects[t].display&&this._visibleEffects.push(this.effects[t]);this._visibleEffects.sort((e,t)=>e.index-t.index),this._dirty=!1}for(var r=0;r<this.effects.length;r++)this.effects[r].Update(e)}Render(){if(!this.display)return this.KeepAlive(),!1;for(var e=0,t=0;t<this._visibleEffects.length;t++)this._visibleEffects[t].Render()&&e++;return!!e}},d.Item=m.Tw2PostEffect,u=v((l=h).prototype,"name",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return"Post manager"}}),c=v(l.prototype,"display",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),f=v(l.prototype,"effects",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),s=l))||s)},"./core/post/Tw2PostEffectStep.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tw2PostEffectStep",(function(){return S}));var i,n,a,o,s,l,u,c,f,d,h,m,b,p,v,g,y=r("./global/utils/index.js"),w=r("./core/mesh/Tw2Effect.js");function E(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function T(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var S=(i=y.meta.type("Tw2PostEffectStep"),n=y.meta.uint,a=y.meta.isPrivate,o=y.meta.boolean,s=y.meta.struct("Tw2Effect"),l=y.meta.string,u=y.meta.plain,c=y.meta.isPrivate,i((g=class extends y.meta.Model{constructor(...e){super(...e),E(this,"index",h,this),E(this,"display",m,this),E(this,"effect",b,this),E(this,"target",p,this),E(this,"inputs",v,this),this._renderTarget=null,this._dirty=!0}OnValueChanged(){this._dirty=!0}IsGood(){return!!this.effect&&this.effect.IsGood()}KeepAlive(){this.effect&&this.effect.KeepAlive()}GetResources(e=[]){return this.effect&&this.effect.GetResources(e),e}static from(e={}){var t=new this;return Object(y.assignIfExists)(t,e,["name","display","target","index"]),e.inputs&&Object.assign(t.inputs,e.inputs),t.effect=w.Tw2Effect.from({name:e.name,autoParameter:!0,effectFilePath:e.effectFilePath,parameters:e.parameters,textures:e.textures,overrides:e.overrides}),t}},h=T((d=g).prototype,"index",[n,a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return-1}}),m=T(d.prototype,"display",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),b=T(d.prototype,"effect",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),p=T(d.prototype,"target",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),v=T(d.prototype,"inputs",[u,c],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),f=d))||f)},"./core/post/index.js":function(e,t,r){"use strict";r.r(t);var i=r("./core/post/Tw2PostEffect.js");r.d(t,"Tw2PostEffect",(function(){return i.Tw2PostEffect}));var n=r("./core/post/Tw2PostEffectManager.js");r.d(t,"Tw2PostEffectManager",(function(){return n.Tw2PostEffectManager}));var a=r("./core/post/Tw2PostEffectStep.js");r.d(t,"Tw2PostEffectStep",(function(){return a.Tw2PostEffectStep}))},"./core/reader/Tw2BinaryReader.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tw2BinaryReader",(function(){return i}));class i{constructor(e){this.data=null,this.cursor=0,this.data=e}ReadUInt8(){return this.data[this.cursor++]}ReadInt8(){var e=this.data[this.cursor++];return e>127&&(e=e-255-1),e}ReadUInt16(){return this.data[this.cursor++]+(this.data[this.cursor++]<<8)}ReadInt16(){var e=this.data[this.cursor++]+(this.data[this.cursor++]<<8);return e>32767&&(e=e-65535-1),e}ReadUInt32(){return this.data[this.cursor++]+(this.data[this.cursor++]<<8)+(this.data[this.cursor++]<<16)+(this.data[this.cursor++]<<24>>>0)}ReadInt32(){var e=this.data[this.cursor++]+(this.data[this.cursor++]<<8)+(this.data[this.cursor++]<<16)+(this.data[this.cursor++]<<24>>>0);return e>2147483647&&(e=e-4294967295-1),e}ReadFloat16(){var e=this.data[this.cursor++],t=this.data[this.cursor++],r=(t>>2&31)-15,i=(3&t)<<8|e;return 0===i&&-15===r?0:(1-2*(t>>7))*(1+i*Math.pow(2,-10))*Math.pow(2,r)}ReadFloat32(){var e=this.data[this.cursor++],t=this.data[this.cursor++],r=this.data[this.cursor++],i=this.data[this.cursor++],n=(i<<1&255|r>>7)-127,a=(127&r)<<16|t<<8|e;return 0===a&&-127===n?0:(1-2*(i>>7))*(1+a*Math.pow(2,-23))*Math.pow(2,n)}ReadString(){for(var e=this.data[this.cursor++],t="",r=0;r<e;++r)t+=String.fromCharCode(this.data[this.cursor++]);return t}}},"./core/reader/Tw2BlackBinaryReader.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tw2BlackBinaryReader",(function(){return n})),r.d(t,"ErrBinaryReaderReadError",(function(){return a}));var i=r("./core/Tw2Error.js");class n{constructor(e,t){this.data=null,this.context=null,this.cursor=0,this.data=e,this.context=t,this.cursor=0}get length(){return this.data.byteLength-this.cursor}get stringTable(){return this.context._stringTable}get references(){return this.context._ids}AtEnd(){return 0===this.length}ReadBinaryReader(e){return new n(this.ReadDataView(e),this.context)}ReadCString(){for(var e=this.data,t=this.cursor;0!==this.ReadU8(););var r=e.byteOffset+t,i=this.cursor-t-1,a=new Uint8Array(e.buffer,r,i);return n.stringDecoder.decode(a)}ReadCWString(){for(var e=this.data,t=this.cursor;0!==this.ReadU16(););var r=e.byteOffset+t,i=this.cursor-t-2,a=new Uint8Array(e.buffer,r,i);return n.wstringDecoder.decode(a)}ReadDataView(e){if(e<0)throw new a({readError:'Argument should be positive: got "'.concat(e,'"')});if(this.length<e)throw new a({readError:"Argument is too big: remaining ".concat(this.length,', got "').concat(e,'"')});var t=this.data,r=new DataView(t.buffer,t.byteOffset+this.cursor,e);return this.cursor+=e,r}ReadF32(){var e=this.data.getFloat32(this.cursor,!0);return this.cursor+=4,e}ReadF64(){var e=this.data.getFloat64(this.cursor,!0);return this.cursor+=8,e}ReadStringU16(){var e=this.ReadU16();if(e>this.stringTable.length)throw new a({readError:'Reading string "'.concat(e,'" but only ').concat(this.stringTable.length," exist")});return this.stringTable[e]}ReadU8(){var e=this.data.getUint8(this.cursor);return this.cursor+=1,e}ReadU16(){var e=this.data.getUint16(this.cursor,!0);return this.cursor+=2,e}ReadU16Array(e){if(e<0)throw new a({readError:'Argument should be positive but got "'.concat(e,'"')});for(var t=new Uint16Array(e),r=0;r<e;r++)t[r]=this.ReadU16();return t}ReadU32(){var e=this.data.getUint32(this.cursor,!0);return this.cursor+=4,e}ReadU32Array(e){if(e<0)throw new a({readError:"Argument should be positive: got ".concat(e)});for(var t=new Uint32Array(e),r=0;r<e;r++)t[r]=this.ReadU32();return t}ExpectEnd(e){if(0!==this.length)throw new a({readError:"".concat(e,": expected 0 bytes remaining, got ").concat(this.length)})}ExpectU8(e,t){n.expect(this.ReadU8(),e,t)}ExpectU16(e,t){n.expect(this.ReadU16(),e,t)}ExpectU32(e,t){n.expect(this.ReadU32(),e,t)}static expect(e,t,r){if(e!==t)throw new a({readError:"".concat(r,": expected ").concat(t,", got ").concat(e)})}}n.stringDecoder=new TextDecoder("utf-8"),n.wstringDecoder=new TextDecoder("utf-16le");class a extends i.Tw2Error{constructor(e){super(e,"Error reading binary (%readError=undefined%)")}}},"./core/reader/Tw2BlackPropertyReaders.js":function(e,t,r){"use strict";r.r(t),r.d(t,"object",(function(){return f})),r.d(t,"rawObject",(function(){return d})),r.d(t,"array",(function(){return h})),r.d(t,"boolean",(function(){return m})),r.d(t,"string",(function(){return b})),r.d(t,"path",(function(){return p})),r.d(t,"enums",(function(){return v})),r.d(t,"float",(function(){return g})),r.d(t,"ushort",(function(){return y})),r.d(t,"uint",(function(){return w})),r.d(t,"byte",(function(){return E})),r.d(t,"vector2",(function(){return T})),r.d(t,"vector3",(function(){return S})),r.d(t,"color",(function(){return _})),r.d(t,"vector4",(function(){return j})),r.d(t,"matrix",(function(){return R})),r.d(t,"indexBuffer",(function(){return z})),r.d(t,"struct",(function(){return O})),r.d(t,"structList",(function(){return P})),r.d(t,"fromList",(function(){return A})),r.d(t,"notImplemented",(function(){return x}));var i,n=r("./global/index.js"),a=r("./global/math/index.js"),o=r("./core/Tw2Error.js"),s=r("./core/reader/Tw2BlackBinaryReader.js"),l=r("./global/utils/index.js"),u=r("./global/constant/type.js");function c(e){return i||(i={[u.PT_BOOLEAN]:m,[u.PT_PATH]:p,[u.PT_STRING]:b,[u.PT_EXPRESSION]:b,[u.PT_BYTE]:E,[u.PT_UINT]:w,[u.PT_USHORT]:y,[u.PT_FLOAT]:g,[u.PT_VECTOR2]:T,[u.PT_VECTOR3]:S,[u.PT_VECTOR4]:j,[u.PT_QUATERNION]:j,[u.PT_MATRIX4]:R,[u.PT_COLOR]:_,[u.PT_STRUCT]:f,[u.PT_STRUCT_RAW]:d,[u.PT_STRUCT_LIST]:h,[u.PT_ARRAY]:h,[u.PT_PLAIN]:d,[u.PT_INDEX_BUFFER]:z,[u.PT_ENUM]:v}),i[Number(e)]||x}function f(e,t){var r=e.context,i=void 0!==t,a=n.store.constructors.GetDebugMode();if(!i){if(0===(t=e.ReadU32()))return null;if(e.references.has(t))return e.references.get(t)}var o=e.ReadBinaryReader(e.ReadU32()),u=o.ReadStringU16(),f=r.ConstructType(u),d=f.constructor.blackReaders||{};for(i||e.references.set(t,f);!o.AtEnd();){var h=o.ReadStringU16(),m=void 0;if(d[h]?m=d[h]:Object(l.hasMetadata)("black",f,h)?m=Object(l.getMetadata)("black",f,h):Object(l.hasMetadata)("type",f,h)&&(m=c(Object(l.getMetadata)("type",f,h))),!m)throw a&&console.dir(f),new s.ErrBinaryReaderReadError({readError:'Unknown property "'.concat(h,'" for "').concat(u,'"')});if(!Object(l.isFunction)(m))throw a&&console.dir(f),new s.ErrBinaryReaderReadError({readError:'Invalid reader for property "'.concat(h,'" for "').concat(u,'"')});try{m.custom?m(o,f,h):(!(h in f)&&a&&console.log("'".concat(u,"' missing property: '").concat(h,"'")),f[h]=m(o))}catch(e){throw a&&console.dir(f),new s.ErrBinaryReaderReadError({message:"".concat(h," (").concat(f.constructor.name,") > ")+e.message})}}return o.ExpectEnd("object did not read to end"),"Initialize"in f&&f.Initialize(),f}function d(e){return f(e,null)}function h(e){for(var t=[],r=e.ReadU32(),i=0;i<r;i++)t[i]=f(e);return t}function m(e){return 0!==e.ReadU8()}function b(e){return e.ReadStringU16()}function p(e){var t=e.ReadStringU16();return p.handler?p.handler(t):t}function v(e){for(var t=e.ReadStringU16().split(","),r={},i=0;i<t.length;i++){var n=t[i].split("=");r[n[0]]=Number(n[1])}return r}function g(e){return e.ReadF32()}function y(e){return e.ReadU16()}function w(e){return e.ReadU32()}function E(e){return e.ReadU8()}function T(e){return a.vec2.fromValues(e.ReadF32(),e.ReadF32())}function S(e){return a.vec3.fromValues(e.ReadF32(),e.ReadF32(),e.ReadF32())}function _(e){return a.vec4.fromValues(e.ReadF32(),e.ReadF32(),e.ReadF32(),e.ReadF32())}function j(e){return a.vec4.fromValues(e.ReadF32(),e.ReadF32(),e.ReadF32(),e.ReadF32())}function R(e){return a.mat4.fromValues(e.ReadF32(),e.ReadF32(),e.ReadF32(),e.ReadF32(),e.ReadF32(),e.ReadF32(),e.ReadF32(),e.ReadF32(),e.ReadF32(),e.ReadF32(),e.ReadF32(),e.ReadF32(),e.ReadF32(),e.ReadF32(),e.ReadF32(),e.ReadF32())}function z(e){var t=e.ReadU32();if(4===e.ReadU16())return e.ReadU32Array(t);throw"unsupported for now"}function O(e){return function(t){return e.blackStruct(t)}}function P(e){return function(t){for(var r=t.ReadU32(),i=t.ReadU16(),n=[],a=0;a<r;a++){var o=t.ReadBinaryReader(i);n[a]=e.blackStruct(o),o.ExpectEnd("struct read to end")}return n}}function A(e){Object(l.isString)(e)&&(e={key:e});var{key:t,struct:r,reroute:i,value:n}=e,a=function(e,a,o){var s=a[i||o];if(!Object(l.isPlain)(s))throw new Error("Target is not a plain object");for(var u=r?P(r)(e):h(e),c=0;c<u.length;c++){var f=u[c],d=u[c][t];if(void 0===d)throw new Error("Array element property is undefined: ".concat(t));if(d in s&&console.warn("Property '".concat(d,"' already defined")),void 0===n)s[d]=f;else{if(!(n in f))throw new Error("Property is undefined: ".concat(n));s[d]=f[n]}}};return a.custom=!0,a}function x(e,t,r){throw new o.ErrFeatureNotImplemented({feature:"Black reader for property '".concat(r,"'")})}p.handler=null,x.custom=!0},"./core/reader/Tw2BlackReader.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tw2BlackReader",(function(){return s}));var i=r("./global/index.js"),n=r("./core/reader/Tw2BlackBinaryReader.js"),a=r("./core/reader/Tw2ObjectReader.js"),o=r("./core/reader/Tw2BlackPropertyReaders.js");class s{constructor(e){this.data=null,this._ids=null,this._comments=null,this._reader=null,this._start=0,this._stringTable=null,e&&(this.data=e instanceof ArrayBuffer?new DataView(e):e,this.Initialize())}Initialize(){if(!(this.data&&this.data instanceof DataView))throw new a.ErrBinaryFormat({formatError:"expected DataView"});var e=new n.Tw2BlackBinaryReader(this.data,this);if(2980901150!==e.ReadU32())throw new a.ErrBinaryFormat({formatError:"wrong FOURCC"});if(1!==e.ReadU32())throw new a.ErrBinaryFormat({formatError:"wrong version"});var t=e.ReadBinaryReader(e.ReadU32()),r=t.ReadU16();this._stringTable=[];for(var i=0;i<r;i++)this._stringTable[i]=t.ReadCString();t.ExpectEnd();var o=e.ReadBinaryReader(e.ReadU32()),s=o.ReadU16();this._comments=[];for(var l=0;l<s;l++)this._comments[l]=o.ReadCWString();o.ExpectEnd(),this._ids=new Map,this._reader=e,this._start=e.cursor}Construct(){return this._reader.cursor=this._start,Object(o.object)(this._reader)}ConstructType(e){if(i.store.constructors.Has(e))return new(i.store.constructors.Get(e));if(s.DEBUG_ENABLED)return{_type:e};throw new a.ErrBinaryObjectTypeNotFound({type:e})}}s.DEBUG_ENABLED=!0},"./core/reader/Tw2CakeReader.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tw2CakeReader",(function(){return o}));var i=r("./core/vertex/index.js"),n=r("./global/constant/index.js"),a=r("./global/utils/index.js");class o{constructor(e){if(this.name="",this.areas=[],this.declaration=null,this.indexData=null,this.bufferData=null,this.boneBindings=null,this.blendShapes=null,this.models=null,this.animations=null,!Object(a.isString)(e))throw new ReferenceError("Invalid format, expected string");var t=e.split("\n"),r=[],s=[],l=0;function u(){var e=t[l];if(!e)return{name:"EMPTY",value:void 0};var r=e.split(":"),i=r[0].toUpperCase(),n=r[1];if(n.includes(",")||n.includes("[")){n=(n=n.replace("[","").replace("]","")).split(",");for(var a=0;a<n.length;a++)n[a]=Number(n[a])}return{name:i,value:n}}for(;l<t.length;){var{name:c,value:f}=u();switch(c){case"EMPTY":l++;break;case"NAME":this.name=f||"",l++;break;case"AREA":var d={name:f,start:r.length*o.IndexArray.BYTES_PER_ELEMENT,count:0};for(this.areas.push(d),l++;l<t.length;){var h=u();if("FACE"!==h.name)break;if(!Object(a.isVector3)(h.value))throw new ReferenceError("Unexpected face value: "+h.value);d.count+=3,r.push(h.value[0]),r.push(h.value[1]),r.push(h.value[2]),l++}break;case"POSITION":case"NORMAL":case"TANGENT":case"BITANGENT":case"TEXCOORD0":case"TEXCOORD1":for(var m=void 0,b=0;b<s.length;b++)s[b].name===c&&(m=s[b]);if(m||(m={name:c,usageIndex:o.UsageIndex[c],usage:o.Usage[c],elements:o.Elements[c],vertices:[]},s.push(m)),!Object(a.isVector)(f)||f.length!==m.elements)throw new ReferenceError('Invalid value for declaration "'.concat(c,'": ').concat(f));m.vertices.push(f),l++;break;default:throw new ReferenceError('Unexpected value type: "'.concat(c,'"'))}}var p=0,v=0;this.declaration=new i.Tw2VertexDeclaration;for(var g=0;g<s.length;g++){var{vertices:y,usageIndex:w,usage:E,elements:T,name:S}=s[g];if(0===g)v=y.length;else if(y.length!==v)throw new ReferenceError("Unexpected vertex count: ".concat(S));this.declaration.elements.push(i.Tw2VertexElement.from({usage:E,usageIndex:w,elements:T,type:n.GL_FLOAT,offset:4*p})),p+=T}this.declaration.RebuildHash(),this.declaration.stride=4*p;var _=v*p;if(_){this.bufferData=new Float32Array(_);for(var j=0,R=0;R<v;R++)for(var z=0;z<s.length;z++)for(var O=0;O<s[z].elements;O++)this.bufferData[j++]=s[z].vertices[R][O]}this.indexData=new o.IndexArray(r)}}o.IndexArray=Uint32Array,o.UsageIndex={POSITION:0,NORMAL:0,TANGENT:0,BITANGENT:0,TEXCOORD0:0,TEXCOORD1:1},o.Elements={POSITION:3,NORMAL:3,TANGENT:4,BITANGENT:4,TEXCOORD0:2,TEXCOORD1:2},o.Usage={POSITION:i.Tw2VertexElement.Type.POSITION,NORMAL:i.Tw2VertexElement.Type.NORMAL,TANGENT:i.Tw2VertexElement.Type.TANGENT,BITANGENT:i.Tw2VertexElement.Type.BITANGENT,TEXCOORD0:i.Tw2VertexElement.Type.TEXCOORD,TEXCOORD1:i.Tw2VertexElement.Type.TEXCOORD}},"./core/reader/Tw2ObjectReader.js":function(e,t,r){"use strict";r.r(t),r.d(t,"ErrBinaryFormat",(function(){return o})),r.d(t,"ErrBinaryObjectTypeNotFound",(function(){return s})),r.d(t,"Tw2ObjectReader",(function(){return l}));var i=r("./global/index.js"),n=r("./core/reader/Tw2BinaryReader.js"),a=r("./core/Tw2Error.js");class o extends a.Tw2Error{constructor(e){super(e,"Invalid binary format (%formatError=undefined%)")}}class s extends a.Tw2Error{constructor(e){super(e,"Binary object type not found (%type%)")}}class l{constructor(e){this.xmlNode=null,this._inputStack=null,this._initializeObjects=null,this._ids={},this._reader=null,this._stringTable=null,this._start=null,e&&(this.xmlNode=e,e&&this.Initialize())}Initialize(){if(!l.IsValidXML(this.xmlNode))throw new o({formatError:"Invalid binary, expected binred"});this._reader=new n.Tw2BinaryReader(new Uint8Array(this.xmlNode)),this._reader.cursor+=6,this._stringTable=[];for(var e=this._reader.ReadUInt32(),t=0;t<e;++t){var r=this._reader.ReadUInt16();this._stringTable.push(String.fromCharCode.apply(null,this._reader.data.subarray(this._reader.cursor,this._reader.cursor+r))),this._reader.cursor+=r}this._start=this._reader.cursor}Construct(){return this._reader.cursor=this._start,l.ReadElement(this)}static IsValidXML(e){return e&&"binred"===String.fromCharCode.apply(null,new Uint8Array(e).subarray(0,6))}static ConstructObject(e){if("json"===e.type)return e;var t;if(i.store.constructors.Has(e.type))t=i.store.constructors.Get(e.type);else{if(!l.DEBUG_ENABLED)throw new s({type:e.type});t=Object}var r=new t;for(var n in e)if(e.hasOwnProperty(n)&&"type"!==n)if(e[n].constructor===Object){if(this.DEBUG_ENABLED&&(r[n]=r[n]||{}),r[n])for(var a in e[n])e[n].hasOwnProperty(a)&&(r[n][a]=e[n][a])}else r[n]=e[n];return"Initialize"in r&&r.Initialize(),r}static ReadUint(e,t){switch(48&t){case this.ElementSize.SMALL:return e._reader.ReadUInt8();case this.ElementSize.MEDIUM:return e._reader.ReadUInt16();default:return e._reader.ReadUInt32()}}static ReadElementData(e,t){var r,i,n,o,s;switch(15&t){case this.ElementRawType.NULL:return null;case this.ElementRawType.BOOL:switch(48&t){case this.ElementSize.SMALL:return 0!==e._reader.ReadUInt8();case this.ElementSize.MEDIUM:return!1;default:return!0}case this.ElementRawType.INT:switch(48&t){case this.ElementSize.SMALL:return e._reader.ReadInt8();case this.ElementSize.MEDIUM:return e._reader.ReadInt16();default:return e._reader.ReadInt32()}case this.ElementRawType.UINT:return this.ReadUint(e,t);case this.ElementRawType.FLOAT:switch(48&t){case this.ElementSize.SMALL:return e._reader.ReadFloat16();case this.ElementSize.MEDIUM:return e._reader.ReadFloat32();default:throw new a.ErrFeatureNotImplemented({feature:"Element raw type Float64"})}case this.ElementRawType.STRING:return r=this.ReadUint(e,t),e._stringTable[r];case this.ElementRawType.ARRAY:for(o=this.ReadUint(e,t),n=[],i=0;i<o;++i)n.push(this.ReadElement(e));return n;case this.ElementRawType.MAPPING:for(o=this.ReadUint(e,t),n={},i=0;i<o;++i)n[e._stringTable[this.ReadUint(e,t)]]=this.ReadElement(e);return n;case this.ElementRawType.OBJECT:for(o=this.ReadUint(e,t),n={},i=0;i<o;++i)n[e._stringTable[this.ReadUint(e,t)]]=this.ReadElement(e);return this.ConstructObject(n);case this.ElementRawType.TYPED_ARRAY:for(o=this.ReadUint(e,t),s=e._reader.ReadUInt8(),n=[],i=0;i<o;++i)n.push(this.ReadElementData(e,s));return s in this.TypedArrays&&(n=new this.TypedArrays[s](n)),n;case this.ElementRawType.TYPED_MAPPING:for(o=this.ReadUint(e,t),s=e._reader.ReadUInt8(),n={},i=0;i<o;++i)n[e._stringTable[this.ReadUint(e,t)]]=this.ReadElementData(e,s);return n}}static ReadElement(e){var t,r=e._reader.ReadUInt8();if(r===this.REFERENCE_BIT)return e._ids[e._reader.ReadUInt16()];0!=(r&this.ID_BIT)&&(t=e._reader.ReadUInt16());var i=this.ReadElementData(e,63&r);return 0!=(r&this.ID_BIT)&&(e._ids[t]=i),i}}l.DEBUG_ENABLED=!1,l.ID_BIT=64,l.REFERENCE_BIT=128,l.ElementRawType={NULL:0,BOOL:1,INT:2,UINT:3,FLOAT:4,STRING:5,ARRAY:6,MAPPING:7,OBJECT:8,TYPED_ARRAY:9,TYPED_MAPPING:10},l.ElementSize={SMALL:0,MEDIUM:16,LARGE:32},l.TypedArrays={2:Int8Array,3:Uint8Array,18:Int16Array,19:Uint16Array,34:Int32Array,35:Uint32Array,4:Float32Array,20:Float32Array,36:Float64Array};var u=l.ElementRawType,c=l.ElementSize;l.ElementTypes={NULL:u.NULL|c.SMALL,BOOL:u.BOOL|c.SMALL,FALSE:u.BOOL|c.MEDIUM,TRUE:u.BOOL|c.LARGE,INT8:u.INT|c.SMALL,UINT8:u.UINT|c.SMALL,INT16:u.INT|c.MEDIUM,UINT16:u.UINT|c.MEDIUM,INT32:u.INT|c.LARGE,UINT32:u.UINT|c.LARGE,FLOAT16:u.FLOAT|c.SMALL,FLOAT32:u.FLOAT|c.MEDIUM,FLOAT64:u.FLOAT|c.LARGE,SHORT_STRING:u.STRING|c.SMALL,MEDIUM_STRING:u.STRING|c.MEDIUM,LARGE_STRING:u.STRING|c.LARGE,SHORT_ARRAY:u.ARRAY|c.SMALL,MEDIUM_ARRAY:u.ARRAY|c.MEDIUM,LARGE_ARRAY:u.ARRAY|c.LARGE,SHORT_MAPPING:u.MAPPING|c.SMALL,MEDIUM_MAPPING:u.MAPPING|c.MEDIUM,LARGE_MAPPING:u.MAPPING|c.LARGE,SHORT_OBJECT:u.OBJECT|c.SMALL,MEDIUM_OBJECT:u.OBJECT|c.MEDIUM,LARGE_OBJECT:u.OBJECT|c.LARGE,SHORT_TYPED_ARRAY:u.TYPED_ARRAY|c.SMALL,MEDIUM_TYPED_ARRAY:u.TYPED_ARRAY|c.MEDIUM,LARGE_TYPED_ARRAY:u.TYPED_ARRAY|c.LARGE,SHORT_TYPED_MAPPING:u.TYPED_MAPPING|c.SMALL,MEDIUM_TYPED_MAPPING:u.TYPED_MAPPING|c.MEDIUM,LARGE_TYPED_MAPPING:u.TYPED_MAPPING|c.LARGE}},"./core/reader/index.js":function(e,t,r){"use strict";r.r(t);var i=r("./core/reader/Tw2BinaryReader.js");r.d(t,"Tw2BinaryReader",(function(){return i.Tw2BinaryReader}));var n=r("./core/reader/Tw2BlackReader.js");r.d(t,"Tw2BlackReader",(function(){return n.Tw2BlackReader}));var a=r("./core/reader/Tw2ObjectReader.js");r.d(t,"ErrBinaryFormat",(function(){return a.ErrBinaryFormat})),r.d(t,"ErrBinaryObjectTypeNotFound",(function(){return a.ErrBinaryObjectTypeNotFound})),r.d(t,"Tw2ObjectReader",(function(){return a.Tw2ObjectReader}));var o=r("./core/reader/Tw2CakeReader.js");r.d(t,"Tw2CakeReader",(function(){return o.Tw2CakeReader}))},"./core/resource/Tw2EffectRes.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tw2EffectRes",(function(){return u})),r.d(t,"ErrShaderVersion",(function(){return c})),r.d(t,"ErrShaderHeaderSize",(function(){return f})),r.d(t,"ErrShaderPermutationValue",(function(){return d}));var i,n=r("./global/utils/index.js"),a=r("./core/reader/index.js"),o=r("./core/resource/Tw2Resource.js"),s=r("./core/resource/Tw2Shader.js"),l=r("./core/Tw2Error.js"),u=n.meta.type("Tw2EffectRes")(i=class extends o.Tw2Resource{constructor(...e){super(...e),this.passes=[],this.annotations={},this.permutations=[],this.offsets=[],this.reader=null,this.version=0,this.stringTable="",this.shaders={},this._requestResponseType="arraybuffer"}Prepare(e){this.permutations=[],this.offsets=[],this.passes=[],this.annotations={},this.reader=null,this.version=0,this.stringTable="",this.shaders={};var t=new a.Tw2BinaryReader(new Uint8Array(e)),r="";function i(){for(var e=t.ReadUInt32(),i=e;r.charCodeAt(i);)++i;return r.substr(e,i-e)}var n=t.ReadUInt32();if(n<2||n>8)this.OnError(new c({path:this.path,version:n}));else{var o,s;if(n<5){if(0===(o=t.ReadUInt32()))return void this.OnError(new f({path:this.path}));t.ReadUInt32();var l=t.ReadUInt32();t.cursor=8+3*o*4,s=t.ReadUInt32(),this.stringTableOffset=t.cursor,r=String.fromCharCode.apply(null,t.data.subarray(t.cursor,t.cursor+s)),t.cursor=l}else{s=t.ReadUInt32(),this.stringTableOffset=t.cursor,r=String.fromCharCode.apply(null,t.data.subarray(t.cursor,t.cursor+s)),t.cursor+=s;for(var u=t.ReadUInt8(),d=0;d<u;++d){for(var h={name:i(),defaultOption:t.ReadUInt8(),description:i(),type:t.ReadUInt8(),options:{},optionCount:t.ReadUInt8()},m=0;m<h.optionCount;++m)h.options[i()]=m;this.permutations.push(h)}if(0===(o=t.ReadUInt32()))return void this.OnError(new f({path:this.path}));for(var b=0;b<o;++b)this.offsets.push({index:t.ReadUInt32(),offset:t.ReadUInt32(),size:t.ReadUInt32()});t.ReadUInt32(),t.cursor=t.ReadUInt32()}this.reader=t,this.version=n,this.stringTable=r,this.OnPrepared()}}GetShader(e){if(!this.IsGood())return null;for(var t=0,r=1,i=0;i<this.permutations.length;++i){var n=this.permutations[i],a=n.defaultOption;if(e.hasOwnProperty(n.name)){var o=e[n.name];if(!n.options.hasOwnProperty(o))return this.OnError(new d({path:this.path,permutation:n.name,valueName:o})),null;a=n.options[o]}t+=a*r,r*=n.optionCount}if(this.shaders.hasOwnProperty(t))return this.shaders[t];this.reader.cursor=this.offsets[t].offset;var l=null;try{l=new s.Tw2Shader(this.reader,this.version,this.stringTable,this.stringTableOffset,this.path)}catch(e){return this.OnError(e),null}return this.shaders[t]=l,l}})||i;class c extends l.Tw2Error{constructor(e){super(e,"Invalid version of effect file (%version%)")}}class f extends l.Tw2Error{constructor(e){super(e,"Effect file contains no compiled effects")}}class d extends l.Tw2Error{constructor(e){super(e,"Invalid shader permutation value")}}},"./core/resource/Tw2GeometryRes.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tw2GeometryRes",(function(){return m})),r.d(t,"ErrGeometryMeshMissingParticleElement",(function(){return b})),r.d(t,"ErrGeometryMeshElementComponentsMissing",(function(){return p})),r.d(t,"ErrGeometryMeshAreaMissing",(function(){return v})),r.d(t,"ErrGeometryMeshBoneNameInvalid",(function(){return g})),r.d(t,"ErrGeometryMeshEffectBinding",(function(){return y})),r.d(t,"ErrGeometryFileType",(function(){return w}));var i,n=r("./global/utils/index.js"),a=r("./global/index.js"),o=r("./global/math/index.js"),s=r("./core/reader/index.js"),l=r("./core/vertex/index.js"),u=r("./core/resource/Tw2Resource.js"),c=r("./core/Tw2Error.js"),f=r("./core/engine/index.js"),d=r("./core/reader/Tw2CakeReader.js"),h=r("./core/geometry/index.js"),m=n.meta.type("Tw2GeometryRes","TriGeometryRes")(i=class e extends u.Tw2Resource{constructor(...e){super(...e),this.meshes=[],this.minBounds=o.vec3.fromValues(0,0,0),this.maxBounds=o.vec3.fromValues(0,0,0),this.boundsSpherePosition=o.vec3.create(),this.boundsSphereRadius=0,this.models=[],this.animations=[],this.systemMirror=a.resMan.systemMirror,this._requestResponseType=null,this._extension=null}GetBoundingBox(e,t){return o.box3.fromBounds(e,this.minBounds,this.maxBounds),t&&o.box3.transformMat4(e,e,t),!0}GetBoundingSphere(e,t){return o.sph3.fromPositionRadius(e,this.boundsSpherePosition,this.boundsSphereRadius),t&&o.sph3.transformMat4(e,e,t),!0}RebuildBounds(e){var t=this.minBounds,r=this.maxBounds;o.box3.bounds.empty(t,r);for(var i=0;i<this.meshes.length;i++){var n=this.meshes[i];n.RebuildBounds(e),o.box3.bounds.union(t,r,t,r,n.minBounds,n.maxBounds)}this.boundsSphereRadius=o.box3.bounds.toPositionRadius(t,r,this.boundsSpherePosition)}GetInstanceBuffer(e){return e<this.meshes.length?this.meshes[e].buffer:void 0}GetInstanceDeclaration(e){return this.meshes[e].declaration}GetInstanceStride(e){return this.meshes[e].declaration.stride}GetInstanceCount(e){return 4*this.meshes[e].bufferLength/this.meshes[e].declaration.stride}DoCustomLoad(e,t){switch(this._extension=null,this._requestResponseType=null,t){case"wbg":this._extension=t,this._requestResponseType="arraybuffer";break;case"cake":this._extension=t,this._requestResponseType="text";break;default:throw new f.ErrResourceFormatInvalid({format:this._extension,reason:"Unexpected extension"})}}Prepare(e){switch(this.meshes.splice(0),this.models.splice(0),this.animations.splice(0),o.vec3.set(this.minBounds,0,0,0),o.vec3.set(this.maxBounds,0,0,0),o.vec3.set(this.boundsSpherePosition,0,0,0),this.boundsSphereRadius=0,this._extension){case"wbg":this.PrepareWBG(e);break;case"cake":this.PrepareCAKE(e);break;default:throw new f.ErrResourceFormatInvalid({format:this._extension,reason:"Unexpected extension"})}}PrepareCAKE(e){var t=a.device.gl,r=new d.Tw2CakeReader(e),{bufferData:i,indexData:n,declaration:o,areas:s,name:l=this.path}=r,u=new h.Tw2GeometryMesh;this.meshes[0]=u,this.models[0]=new h.Tw2GeometryModel,u.name=l,u.declaration=o,u.bufferLength=i.length,u.buffer=t.createBuffer(),t.bindBuffer(t.ARRAY_BUFFER,u.buffer),t.bufferData(t.ARRAY_BUFFER,i,t.STATIC_DRAW),u.indexes=t.createBuffer(),u.indexType=2===n.BYTES_PER_ELEMENT?t.UNSIGNED_SHORT:t.UNSIGNED_INT,t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,u.indexes),t.bufferData(t.ELEMENT_ARRAY_BUFFER,n,t.STATIC_DRAW);for(var c=0;c<s.length;++c){var{name:f,start:m,count:b}=s[c],p=new h.Tw2GeometryMeshArea;p.name=f,p.start=m,p.count=b,u.areas.push(p),u.RebuildAreaBounds(p,i,n,!0)}u._areas=s.length,u._faces=n.length/3,u._vertices=i.length/(u.declaration.stride/4),this.systemMirror&&(u.bufferData=i,u.indexData=n),this.RebuildBounds(),this.OnPrepared()}PrepareWBG(t){var r=a.device.gl,i=new s.Tw2BinaryReader(new Uint8Array(t));i.ReadUInt8();for(var n=i.ReadUInt8(),l=0;l<n;++l){var u=new h.Tw2GeometryMesh;u.name=i.ReadString();var c=e.ReadVertexBuffer(i,u.declaration,this.path);c?(u.bufferLength=c.length,u.buffer=r.createBuffer(),r.bindBuffer(r.ARRAY_BUFFER,u.buffer),r.bufferData(r.ARRAY_BUFFER,c,r.STATIC_DRAW)):u.buffer=null;var f=e.ReadIndexBuffer(i);f?(u.indexes=r.createBuffer(),u.indexType=2===f.BYTES_PER_ELEMENT?r.UNSIGNED_SHORT:r.UNSIGNED_INT,r.bindBuffer(r.ELEMENT_ARRAY_BUFFER,u.indexes),r.bufferData(r.ELEMENT_ARRAY_BUFFER,f,r.STATIC_DRAW)):u.indexes=null;for(var d=i.ReadUInt8(),m=0;m<d;++m){var b=new h.Tw2GeometryMeshArea;u.areas.push(b),b.name=i.ReadString(),b.start=i.ReadUInt32()*f.BYTES_PER_ELEMENT,b.count=3*i.ReadUInt32(),o.vec3.set(b.minBounds,i.ReadFloat32(),i.ReadFloat32(),i.ReadFloat32()),o.vec3.set(b.maxBounds,i.ReadFloat32(),i.ReadFloat32(),i.ReadFloat32()),b.boundsSphereRadius=o.box3.bounds.toPositionRadius(b.minBounds,b.maxBounds,b.boundsSpherePosition),o.box3.bounds.isEmpty(b.minBounds,b.maxBounds)&&(u.RebuildAreaBounds(b,c,f,!0)||console.log("Could not generate bounds for area: "+b.name||!1))}var p=i.ReadUInt8();u.boneBindings=[];for(var v=0;v<p;++v)u.boneBindings[v]=i.ReadString();var g=i.ReadUInt16();if((g||this.systemMirror)&&(u.bufferData=c,u.indexData=f),g){u.blendShapes=[];for(var y=0;y<g;++y)u.blendShapes[y]=new h.Tw2BlendShapeData,u.blendShapes[y].name=i.ReadString(),u.blendShapes[y].buffer=e.ReadVertexBuffer(i,u.blendShapes[y].declaration,this.path),u.blendShapes[y].indexes=e.ReadIndexBuffer(i)}u._areas=d,u._faces=f.length/3,u._vertices=c.length/(u.declaration.stride/4),this.meshes[l]=u}this.RebuildBounds();for(var w=i.ReadUInt8(),E=0;E<w;++E){var T=new h.Tw2GeometryModel;T.name=i.ReadString(),T.skeleton=new h.Tw2GeometrySkeleton;for(var S=i.ReadUInt8(),_=0;_<S;++_){var j=new h.Tw2GeometryBone;j.name=i.ReadString();var R=i.ReadUInt8();if(j.parentIndex=i.ReadUInt8(),255===j.parentIndex&&(j.parentIndex=-1),0!=(1&R)?o.vec3.set(j.position,i.ReadFloat32(),i.ReadFloat32(),i.ReadFloat32()):o.vec3.set(j.position,0,0,0),0!=(2&R)?o.quat.set(j.orientation,i.ReadFloat32(),i.ReadFloat32(),i.ReadFloat32(),i.ReadFloat32()):o.quat.identity(j.orientation),0!=(4&R))for(var z=0;z<9;++z)j.scaleShear[z]=i.ReadFloat32();else o.mat3.identity(j.scaleShear);T.skeleton.bones[_]=j}for(var O=0;O<T.skeleton.bones.length;++O)T.skeleton.bones[O].UpdateTransform(),-1!==T.skeleton.bones[O].parentIndex?o.mat4.multiply(T.skeleton.bones[O].worldTransform,T.skeleton.bones[T.skeleton.bones[O].parentIndex].worldTransform,T.skeleton.bones[O].localTransform):o.mat4.copy(T.skeleton.bones[O].worldTransform,T.skeleton.bones[O].localTransform),o.mat4.invert(T.skeleton.bones[O].worldTransformInv,T.skeleton.bones[O].worldTransform);for(var P=i.ReadUInt8(),A=0;A<P;++A){var x=i.ReadUInt8();x<this.meshes.length&&e.BindMeshToModel(this.meshes[x],T,this)}this.models[this.models.length]=T}for(var M=i.ReadUInt8(),C=0;C<M;++C){var D=new h.Tw2GeometryAnimation;D.name=i.ReadString(),D.duration=i.ReadFloat32();for(var I=i.ReadUInt8(),L=0;L<I;++L){var F=new h.Tw2GeometryTrackGroup;F.name=i.ReadString();for(var G=0;G<this.models.length;++G)if(this.models[G].name===F.name){F.model=this.models[G];break}for(var B=i.ReadUInt8(),N=0;N<B;++N){var U=new h.Tw2GeometryTransformTrack;if(U.name=i.ReadString(),U.orientation=e.ReadCurve(i),U.position=e.ReadCurve(i),U.scaleShear=e.ReadCurve(i),U.orientation)for(var k=0,V=0,H=0,q=0,W=0;W<U.orientation.controls.length;W+=4){var Y=U.orientation.controls[W],X=U.orientation.controls[W+1],K=U.orientation.controls[W+2],Q=U.orientation.controls[W+3];k*Y+V*X+H*K+q*Q<0&&(U.orientation.controls[W]=-Y,U.orientation.controls[W+1]=-X,U.orientation.controls[W+2]=-K,U.orientation.controls[W+3]=-Q),k=Y,V=X,H=K,q=Q}F.transformTracks[F.transformTracks.length]=U}D.trackGroups[D.trackGroups.length]=F}this.animations[this.animations.length]=D}this.OnPrepared()}static BindMeshToModel(e,t,r){var i=new h.Tw2GeometryMeshBinding;i.mesh=e;for(var n=0;n<i.mesh.boneBindings.length;++n){var a=i.mesh.boneBindings[n],o=t.FindBoneByName(a);if(!o)throw new g({path:r.path,mesh:i.mesh.name,bone:a,model:t.name});i.bones[i.bones.length]=o}t.meshBindings[t.meshBindings.length]=i}RenderAreasInstanced(e,t,r,i,n,o,s,l,u){if(this.KeepAlive(),!this.IsGood()||!i.IsGood()||e>=this.meshes.length)return!1;var c=a.device,f=c.gl,d=this.meshes[e],h=i.GetPassCount(n);f.bindBuffer(f.ELEMENT_ARRAY_BUFFER,d.indexes);for(var m=0;m<h;++m){i.ApplyPass(n,m);var b=i.GetPassInput(n,m);if(0!==b.elements.length){f.bindBuffer(f.ARRAY_BUFFER,d.buffer),d.declaration.SetPartialDeclaration(c,b,d.declaration.stride),f.bindBuffer(f.ARRAY_BUFFER,o);var p=s.SetPartialDeclaration(c,b,l,8,1);c.ApplyShadowState();for(var g=0;g<r;++g)if(g+t<d.areas.length){for(var y=d.areas[g+t],w=y.start,E=y.count;g+1<r;){if(!(y=d.areas[g+1+t]))return this.OnError(new v({path:this.path,areaIndex:g+1+t})),!1;if(y.start!==w+2*E)break;E+=y.count,++g}f.drawElementsInstanced(f.TRIANGLES,E,d.indexType,w,u)}s.ResetInstanceDivisors(c,p)}}return!0}RenderAreas(e,t,r,i,n){if(this.KeepAlive(),!this.IsGood()||!i.IsGood()||e>=this.meshes.length)return!1;var o=a.device,s=o.gl,l=this.meshes[e]||this.meshes[0],u=i.GetPassCount(n);s.bindBuffer(s.ARRAY_BUFFER,l.buffer),s.bindBuffer(s.ELEMENT_ARRAY_BUFFER,l.indexes);for(var c=0;c<u;++c){i.ApplyPass(n,c);var f=i.GetPassInput(n,c);if(!l.declaration.SetDeclaration(o,f,l.declaration.stride))return this.OnError(new y({path:this.path,pass:c,passInput:f,meshStride:l.declaration.stride})),!1;o.ApplyShadowState();for(var d=0;d<r;++d)if(d+t<l.areas.length){for(var h=l.areas[d+t],m=h.start,b=h.count;d+1<r;){if(!(h=l.areas[d+1+t]))return this.OnError(new v({path:this.path,areaIndex:d+1+t})),!1;if(h.start!==m+2*b)break;b+=h.count,++d}s.drawElements(s.TRIANGLES,b,l.indexType,m)}}return!0}RenderLines(e,t,r,i,n){if(this.KeepAlive(),!this.IsGood()||!i.IsGood()||e>=this.meshes.length)return!1;var o=a.device,s=o.gl,l=this.meshes[e],u=i.GetPassCount(n);s.bindBuffer(s.ARRAY_BUFFER,l.buffer),s.bindBuffer(s.ELEMENT_ARRAY_BUFFER,l.indexes);for(var c=0;c<u;++c){i.ApplyPass(n,c);var f=i.GetPassInput(n,c);if(!l.declaration.SetDeclaration(o,f,l.declaration.stride))return this.OnError(new y({path:this.path,pass:c,passInput:f,meshStride:l.declaration.stride})),!1;o.ApplyShadowState();for(var d=0;d<r;++d)if(d+t<l.areas.length){for(var h=l.areas[d+t],m=h.start,b=h.count;d+1<r;){if(!(h=l.areas[d+1+t]))return this.OnError(new v({path:this.path,areaIndex:d+1+t})),!1;if(h.start!==m+2*b)break;b+=h.count,++d}s.drawElements(s.LINES,b,l.indexType,m)}}return!0}RenderDebugInfo(e){if(!this.IsGood())return!1;for(var t=0;t<this.models.length;++t)if(this.models[t].skeleton)for(var r=0;r<this.models[t].skeleton.bones.length;++r){var i=this.models[t].skeleton.bones[r];if(i.parentIndex>=0){var n=this.models[t].skeleton.bones[i.parentIndex];e.AddLine([i.worldTransform[12],i.worldTransform[13],i.worldTransform[14]],[n.worldTransform[12],n.worldTransform[13],n.worldTransform[14]],[0,.7,0,1],[0,.7,0,1])}}}Unload(e){for(var t=0;t<this.meshes.length;++t){var r=a.device.gl;this.meshes[t].buffer&&(r.deleteBuffer(this.meshes[t].buffer),this.meshes[t].buffer=null),this.meshes[t].indexes&&(r.deleteBuffer(this.meshes[t].indexes),this.meshes[t].indexes=null)}return this.OnUnloaded(e),!0}static ReadVertexBuffer(e,t,r){for(var i=e.ReadUInt8(),n=0,o=0;o<i;++o){var s=new l.Tw2VertexElement;s.usage=e.ReadUInt8(),s.usageIndex=e.ReadUInt8(),s.fileType=e.ReadUInt8(),s.type=a.device.gl.FLOAT,s.elements=1+(s.fileType>>5),s.offset=4*n,t.elements[o]=s,n+=s.elements}t.RebuildHash(),t.stride=4*n;var u=e.ReadUInt32();if(0===u)return null;for(var c=new Float32Array(n*u),f=0,d=0;d<u;++d)for(var h=0;h<i;++h){var m=t.elements[h];switch(15&m.fileType){case 0:if(0!=(16&m.fileType))for(var b=0;b<m.elements;++b)c[f++]=e.ReadInt8()/127;else for(var p=0;p<m.elements;++p)c[f++]=e.ReadInt8();break;case 1:if(0!=(16&m.fileType))for(var v=0;v<m.elements;++v)c[f++]=e.ReadInt8()/32767;else for(var g=0;g<m.elements;++g)c[f++]=e.ReadInt16();break;case 2:for(var y=0;y<m.elements;++y)c[f++]=e.ReadInt32();break;case 3:for(var E=0;E<m.elements;++E)c[f++]=e.ReadFloat16();break;case 4:for(var T=0;T<m.elements;++T)c[f++]=e.ReadFloat32();break;case 8:if(0!=(16&m.fileType))for(var S=0;S<m.elements;++S)c[f++]=e.ReadUInt8()/255;else for(var _=0;_<m.elements;++_)c[f++]=e.ReadUInt8();break;case 9:if(0!=(16&m.fileType))for(var j=0;j<t.elements[h].elements;++j)c[f++]=e.ReadUInt8()/65535;else for(var R=0;R<m.elements;++R)c[f++]=e.ReadUInt16();break;case 10:for(var z=0;z<m.elements;++z)c[f++]=e.ReadUInt32();break;default:throw new w({path:r,key:"fileType",value:15&m.fileType})}}return c}static ReadIndexBuffer(e){var t=e.ReadUInt8(),r=e.ReadUInt32();if(0===t){for(var i=new Uint16Array(r),n=0;n<r;++n)i[n]=e.ReadUInt16();return i}for(var a=new Uint32Array(r),o=0;o<r;++o)a[o]=e.ReadUInt32();return a}static ReadCurve(e){if(0===e.ReadUInt8())return null;var t=new h.Tw2GeometryCurve;t.dimension=e.ReadUInt8(),t.degree=e.ReadUInt8();var r=e.ReadUInt32();t.knots=new Float32Array(r);for(var i=0;i<r;++i)t.knots[i]=e.ReadFloat32();var n=e.ReadUInt32();t.controls=new Float32Array(n);for(var a=0;a<n;++a)t.controls[a]=e.ReadFloat32();return t}})||i;class b extends c.Tw2Error{constructor(e){super(e,"Input geometry mesh lacks element required by particle system")}}class p extends c.Tw2Error{constructor(e){super(e,"Input geometry mesh elements do not have the required number of components")}}class v extends c.Tw2Error{constructor(e){super(e,"Geometry mesh missing expected area at index %areaIndex%")}}class g extends c.Tw2Error{constructor(e){super(e,"Geometry mesh has invalid bone name for model")}}class y extends c.Tw2Error{constructor(e){super(e,"Error binding geometry mesh to effect")}}class w extends c.Tw2Error{constructor(e){super(e,"Invalid geometry file type (%fileType%)")}}},"./core/resource/Tw2LoadingObject.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tw2LoadingObject",(function(){return l}));var i=r("./global/index.js"),n=r("./core/resource/Tw2Resource.js"),a=r("./core/reader/Tw2ObjectReader.js"),o=r("./core/reader/Tw2BlackReader.js"),s=r("./core/engine/Tw2ResMan.js");class l extends n.Tw2Resource{constructor(...e){super(...e),this.path="",this._view=null,this._inPrepare=null,this._objects=[],this._constructor=null,this._requestResponseType="arraybuffer"}AddObject(e,t){var r=this.GetLastError();r?t&&t(r):this._objects.push({onResolved:e,onRejected:t})}Prepare(e){var t=this.path.lastIndexOf(".");if(-1===t)return null;var r,i=this.path.substr(t+1);if(null===this._inPrepare){switch(this._view=e,i){case"red":try{this._constructor=new a.Tw2ObjectReader(e)}catch(t){try{this._constructor=new o.Tw2BlackReader(e)}catch(e){throw t}}break;case"black":this._constructor=new o.Tw2BlackReader(e);break;default:throw new s.ErrResourceExtensionUnregistered({extension:i})}this._inPrepare=0,r=this._constructor.Construct()}for(;this._inPrepare<this._objects.length;){var n=this._objects[this._inPrepare];try{r?(n.onResolved(r),r=null):n.onResolved(this._constructor.Construct())}catch(e){n.onRejected&&(n.onRejected(e),n.onRejected=null),this.OnWarning({err:e,message:"Error preparing child object"})}this._inPrepare++}this.OnPrepared()}OnError(e){super.OnError(e);for(var t=0;t<this._objects.length;t++)this._objects[t].onRejected&&this._objects[t].onRejected(e);return i.resMan.motherLode.Remove(this.path),this._objects.splice(0),e}OnPrepared(e){i.resMan.motherLode.Remove(this.path),this._objects.splice(0),super.OnPrepared(e)}}},"./core/resource/Tw2Notifications.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tw2Notifications",(function(){return n}));var i=r("./global/utils/index.js");class n{RegisterNotification(e){this.HasNotification(e)||this.constructor.onNotification&&this.constructor.onNotification(this,e)||(this._notifications=this._notifications||new Set,this._notifications.add(e))}UpdateNotifications(e,t){this._notifications&&(this._notifications.forEach(r=>{var n=!1;Object(i.isFunction)(r)?n=r(this,t,e):e&&e in r&&(n=r[e](this,t)),n&&this.UnregisterNotification(r)}),0===this._notifications.size&&this.ClearNotifications())}HasNotification(e){return!!this._notifications&&this._notifications.has(e)}UnregisterNotification(e){this._notifications&&this._notifications.delete(e)}ClearNotifications(){this._notifications&&(this._notifications.clear(),Reflect.deleteProperty(this,"_notifications"))}}n.onNotification=null},"./core/resource/Tw2Resource.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tw2Resource",(function(){return c}));var i,n,a,o=r("./global/index.js"),s=r("./global/utils/index.js"),l=r("./core/Tw2Error.js"),u=r("./core/resource/Tw2Notifications.js"),c=s.meta.type("Tw2Resource")((a=n=class e extends u.Tw2Notifications{constructor(...t){super(...t),this.path="",this.activeFrame=0,this.doNotPurge=0,this._state=e.State.NO_INIT,this._errors=[],this._requested=0,this._requestResponseType=null}get requestResponseType(){return this._requestResponseType}IsGood(){return this.KeepAlive(),this.IsPrepared()||this.IsLoaded()}IsRequested(){return this._state===e.State.REQUESTED}IsLoaded(){return this._state===e.State.LOADED}IsPrepared(){return this._state===e.State.PREPARED}IsUnloaded(){return this._state===e.State.UNLOADED}IsPurged(){return this._state===e.State.PURGED}HasErrors(){return this._state===e.State.ERROR}HasCompleted(){return this.HasErrors()||this.IsPurged()||this.IsPrepared()}Unload(e){return!1}Reload(e){(this.IsLoaded()||this.IsPrepared())&&this.Unload({hide:!0,detail:"reloading"}),(this.IsPurged()||this.IsUnloaded())&&o.resMan.LoadResource(this,e)}KeepAlive(){this.activeFrame=o.resMan.activeFrame,(this.IsPurged()||this.IsUnloaded())&&this.Reload({hide:!0,detail:"inuse"})}GetErrors(){return Array.from(this._errors)}GetLastError(){return this._errors[0]}OnWarning(t){o.resMan.OnPathEvent(this.path,"warning",t),this.UpdateNotifications(e.Callback.WARNING)}OnDebug(t){o.resMan.OnPathEvent(this.path,"debug",t),this.UpdateNotifications(e.Callback.DEBUG)}OnError(t=new l.Tw2Error){var r=this.IsLoaded()||this.IsPrepared();return this._errors.includes(t)||this._errors.unshift(t),this._SetState(e.State.ERROR),r&&this.Unload({hide:!0,detail:"errored"}),o.resMan.OnPathEvent(this.path,"error",t),this.UpdateNotifications(e.Callback.ERROR,t),t}OnRequested(t){var r=this._state===e.State.NO_INIT?"REQUESTED":"RELOADING";this._SetState(e.State.REQUESTED)&&(this._requested=Date.now(),o.resMan.OnPathEvent(this.path,r.toLowerCase(),t),this.UpdateNotifications(e.Callback[r]))}OnLoaded(t={}){this._SetState(e.State.LOADED)&&(t.time=.001*(Date.now()-this._requested),o.resMan.OnPathEvent(this.path,"loaded",t),this.UpdateNotifications(e.Callback.LOADED))}OnPrepared(t={}){this._SetState(e.State.PREPARED)&&(t.time=.001*(Date.now()-this._requested),o.resMan.OnPathEvent(this.path,"prepared",t),this.UpdateNotifications(e.Callback.PREPARED))}OnUnloaded(t){this._SetState(e.State.UNLOADED)&&(o.resMan.OnPathEvent(this.path,"unloaded",t),this.UpdateNotifications(e.Callback.UNLOADED))}OnPurged(t){this._SetState(e.State.PURGED),o.resMan.OnPathEvent(this.path,"purged",t),this.UpdateNotifications(e.Callback.PURGED,this.GetLastError())}_SetState(t){return this._state!==e.State.ERROR&&(this._state=t,!0)}RegisterCallbacks(e,t){if(this.KeepAlive(),e||t){this.RegisterNotification((function(r,i){return!!r.HasCompleted()&&(i?t&&t(i):e&&e(r),!0)}))}}static onNotification(t,r){var i,n;switch(t._state){case e.State.ERROR:i=e.Callback.ERROR,n=t.GetLastError();break;case e.State.REQUESTED:i=e.Callback.REQUESTED;break;case e.State.LOADED:i=e.Callback.LOADED;break;case e.State.PREPARED:i=e.Callback.PREPARED;break;case e.State.UNLOADED:i=e.Callback.UNLOADED;break;case e.State.PURGED:i=e.Callback.PURGED,n=t.GetLastError()}return Object(s.isFunction)(r)?!!r(t,n,i):!(!i||!(i in r))&&!!r[i](t,n)}},n.__isResource=!0,n.State={ERROR:-3,PURGED:-2,UNLOADED:-1,NO_INIT:0,REQUESTED:1,LOADED:2,PREPARED:3},n.Callback={ERROR:"OnResError",PURGED:"OnResPurged",UNLOADED:"OnResUnloaded",REQUESTED:"OnResRequested",LOADED:"OnResLoaded",PREPARED:"OnResPrepared",WARNING:"OnResWarning",DEBUG:"OnResDebug"},i=a))||i;c.prototype.DoCustomLoad=null},"./core/resource/Tw2Shader.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tw2Shader",(function(){return h})),r.d(t,"ErrShaderCompile",(function(){return m})),r.d(t,"ErrShaderLink",(function(){return b}));var i,n,a,o=r("./global/utils/index.js"),s=r("./global/index.js"),l=r("./global/math/index.js"),u=r("./core/vertex/index.js"),c=r("./core/sampler/index.js"),f=r("./core/resource/shaderOverrides.json"),d=r("./core/Tw2Error.js"),h=o.meta.type("Tw2Shader")((a=n=class e{FindPerObjectDataUsage(t,r="Main"){if(!e.DEBUG_ENABLED)throw new Error("Debug mode must be enabled to find per object data");var i={vs:{frame:{},object:{},parameter:{}},ps:{frame:{},object:{},parameter:{}},ffe:{object:{}}},{perFramePSData:n,perFrameVSData:a}=s.device,[o,l]=this.techniques[r].passes[0].stages,u=o.shaderCode+l.shaderCode;if(!u)throw new Error("Debug mode must be enabled when the shader was created");var c=u.split(/\r\n|\r|\n/),f={cb0:{name:"ConstantVertex",source:o,target:i.vs.parameter,isStage:!0},cb1:{name:"PerFrameVS",source:a,target:i.vs.frame},cb2:{name:"PerFramePS",source:n,target:i.ps.frame},cb3:{name:"PerObjectVS",source:t.vs,target:i.vs.object},cb4:{name:"PerObjectPS",source:t.ps,target:i.ps.object},cb5:{name:"PerObjectFFE",source:t.ffe,target:i.ffe.object},cb7:{name:"ConstantFragment",source:l,target:i.ps.parameter,isStage:!0}},d={PerFrameVS:"cb1",PerObjectVS:"cb3",PerFramePS:"cb2",PerObjectPS:"cb4",PerObjectFFE:"cb5"},h=["x","y","z","w"];function m(e,t){var{target:r}=e,i=e.source.FindElementFromIndex(t);if(i){var{name:n,offset:a,array:o}=i,s=t-a;return r[n]=r[n]||{},void(r[n][s]=o[s])}throw new Error("Error finding element in ".concat(e.name," at index: ").concat(t))}function b(e,t){for(var{target:r,source:i}=e,{constants:n,constantValues:a}=i,o=0;o<n.length;o++){var{offset:s,name:l,type:u,size:c}=n[o];if(!(t<s||t>s+c-1)){var h=t-s;return void(3===u?m(f[d[l]],h):(r[l]=r[l]||{},r[l][h]=a[s+h]))}}throw new Error("Error finding element in ".concat(e.name," at index: ").concat(t))}return c.forEach(e=>{if(e){var t=e.match(/cb[0123457]\[\d+\]\.?[xyzw]?[xyzw]?[xyzw]?[xyzw]+/g);if(t)for(var r=0;r<t.length;r++)for(var[i,n]=t[r].split("."),a=i.match(/(cb[0-7])/g)[0],o=4*parseInt(i.replace(a,"").replace("[","").replace("]","")),s=n.split("").map(e=>h.indexOf(e)),l=f[a],u=0;u<s.length;u++)l.isStage?b(l,o+s[u]):m(l,o+s[u])}}),i}constructor(t,r,i,n,a){function o(){for(var e=t.ReadUInt32(),r=e;i.charCodeAt(r);)++r;return i.substr(e,r-e)}this.techniques={},this.annotations={};var{wrapModes:f,gl:d}=s.device,h=1;r>6&&(h=t.ReadUInt8());for(var m=0;m<h;++m){var b={name:"Main",passes:[]};r>6&&(b.name=o()),this.techniques[b.name]=b;for(var p=t.ReadUInt8(),v=0;v<p;++v){for(var g={stages:[{},{}]},y=t.ReadUInt8(),w=!0,E=0;E<y;++E){var T={};T.inputDefinition=new u.Tw2VertexDeclaration,T.constants=[],T.textures=[],T.samplers=[];var S=t.ReadUInt8(),_=t.ReadUInt8();T.stageType=0===S?"vertex":"fragment";for(var j=0;j<_;++j){var R=t.ReadUInt8(),z=t.ReadUInt8(),O=t.ReadUInt8(),P=t.ReadUInt8();T.inputDefinition.elements[j]=u.Tw2VertexElement.from({usage:R,usageIndex:O,type:0,registerIndex:z,usedMask:P})}T.inputDefinition.RebuildHash();var A=void 0,x=void 0,M=void 0,C=void 0;if(r<5)A=t.ReadUInt32(),x=t.data.subarray(t.cursor,t.cursor+A),t.cursor+=A,M=t.ReadUInt32(),C=t.data.subarray(t.cursor,t.cursor+M),t.cursor+=M;else{A=t.ReadUInt32();var D=t.ReadUInt32();x=e.InspectShaderCode(i.substr(D,A),a),M=t.ReadUInt32(),D=t.ReadUInt32(),C=e.InspectShaderCode(i.substr(D,M),a),e.DEBUG_ENABLED&&(T.shaderCode=x,T.shadowShaderCode=C)}try{T.shader=e.CompileShader(S,"",x,a)}catch(e){throw console.group(),console.error(e.message),console.dir(T),console.groupEnd(),e}w?(T.shadowShader=0===M?e.CompileShader(S,"\n#define PS\n",x,a,!0):e.CompileShader(S,"",C,a,!0),null===T.shadowShader&&(w=!1)):T.shadowShader=null,r>=3&&(t.ReadUInt32(),t.ReadUInt32(),t.ReadUInt32()),T.constantSize=0;for(var I=t.ReadUInt32(),L=0;L<I;++L){var F={};if(F.name=o(),F.offset=t.ReadUInt32()/4,F.size=t.ReadUInt32()/4,F.type=t.ReadUInt8(),F.dimension=t.ReadUInt8(),F.elements=t.ReadUInt32(),F.isSRGB=t.ReadUInt8(),F.isAutoregister=t.ReadUInt8(),T.constants[L]=F,!e.ConstantIgnore.includes(F.name)){var G=F.offset+F.size;G>T.constantSize&&(T.constantSize=G)}}var B=t.ReadUInt32()/4;if(T.constantValues=new Float32Array(B),r<5)for(var N=0;N<B;++N)T.constantValues[N]=t.ReadFloat32();else{var U=t.ReadUInt32(),k=t.cursor;t.cursor=n+U;for(var V=0;V<B;++V)T.constantValues[V]=t.ReadFloat32();t.cursor=k}T.constantSize=Math.max(T.constantSize,B);for(var H=t.ReadUInt8(),q=0;q<H;++q){var W={};W.registerIndex=t.ReadUInt8(),W.name=o(),W.type=t.ReadUInt8(),W.isSRGB=t.ReadUInt8(),W.isAutoregister=t.ReadUInt8(),T.textures.push(W)}for(var Y=t.ReadUInt8(),X=0;X<Y;++X){var K=new c.Tw2SamplerState;if(K.registerIndex=t.ReadUInt8(),K.name=r>=4?o():"",K._comparison=t.ReadUInt8(),K.minFilter=t.ReadUInt8(),K.magFilter=t.ReadUInt8(),K.mipFilter=t.ReadUInt8(),K.addressU=t.ReadUInt8(),K.addressV=t.ReadUInt8(),K.addressW=t.ReadUInt8(),K.mipLODBias=t.ReadFloat32(),K._maxAnisotropy=t.ReadUInt8(),K._comparisonFunc=t.ReadUInt8(),K._borderColor=l.quat.fromValues(t.ReadFloat32(),t.ReadFloat32(),t.ReadFloat32(),t.ReadFloat32()),K._minLOD=t.ReadFloat32(),K._maxLOD=t.ReadFloat32(),r<4&&t.ReadUInt8(),1===K.minFilter){switch(K.mipFilter){case 0:K.minFilter=d.NEAREST;break;case 1:K.minFilter=d.NEAREST_MIPMAP_NEAREST;break;default:K.minFilter=d.NEAREST_MIPMAP_LINEAR}K.minFilterNoMips=d.NEAREST}else{switch(K.mipFilter){case 0:K.minFilter=d.LINEAR;break;case 1:K.minFilter=d.LINEAR_MIPMAP_NEAREST;break;default:K.minFilter=d.LINEAR_MIPMAP_LINEAR}K.minFilterNoMips=d.LINEAR}K.magFilter=1===K.magFilter?d.NEAREST:d.LINEAR,K.addressU=f[K.addressU],K.addressV=f[K.addressV],K.addressW=f[K.addressW],3!==K.minFilter&&3!==K.magFilter&&3!==K.mipFilter||(K.anisotropy=Math.max(K.maxAnisotropy,1));for(var Q=0;Q<T.textures.length;++Q)if(T.textures[Q].registerIndex===K.registerIndex){K.samplerType=4===T.textures[Q].type?d.TEXTURE_CUBE_MAP:d.TEXTURE_2D,K.isVolume=3===T.textures[Q].type;break}K.ComputeHash(),T.samplers.push(K)}r>=3&&t.ReadUInt8(),r>7&&t.ReadUInt8(),g.stages[S]=T}g.states=[];for(var Z=t.ReadUInt8(),$=0;$<Z;++$){var J=t.ReadUInt32(),ee=t.ReadUInt32();g.states.push({state:J,value:ee})}g.shaderProgram=e.CreateProgram(g.stages[0].shader,g.stages[1].shader,g,a),w?(g.shadowShaderProgram=e.CreateProgram(g.stages[0].shadowShader,g.stages[1].shadowShader,g,a,!0),null===g.shadowShaderProgram&&(g.shadowShaderProgram=g.shaderProgram)):g.shadowShaderProgram=g.shaderProgram,b.passes[v]=g}}for(var te=t.ReadUInt16(),re=0;re<te;++re){for(var ie=o(),ne={name:ie},ae=t.ReadUInt8(),oe=[],se=0;se<ae;++se){var le=o(),ue=void 0;switch(t.ReadUInt8()){case 0:ue=0!==t.ReadUInt32();break;case 1:ue=t.ReadInt32();break;case 2:ue=t.ReadFloat32();break;default:ue=o()}switch(le.toUpperCase()){case"UIWIDGET":ne.widget=ue.toUpperCase(),"LINEARCOLOR"===ne.widget&&(oe=this.constructor.LinearColor);break;case"SASUIVISIBLE":ne.display=ue;break;case"SASUIDESCRIPTION":ne.description=ue;break;case"GROUP":ne.group=ue;break;case"COMPONENT1":oe[0]=ue;break;case"COMPONENT2":oe[1]=ue;break;case"COMPONENT3":oe[2]=ue;break;case"COMPONENT4":oe[3]=ue;break;default:ne[le=le.charAt(0).toLowerCase()+le.substring(1)]=ue}}!ne.widget&&this.HasTexture(ie)&&(ne.widget="TEXTURE",ne.group=ne.group||"Texture"),oe.length&&(ne.components=oe),this.annotations[ie]=ne}}ApplyPass(e,t){var r=s.device,i=r.gl;t=this.techniques[e].passes[t];for(var n=0;n<t.states.length;++n)r.SetRenderState(t.states[n].state,t.states[n].value);r.IsAlphaTestEnabled()?(i.useProgram(t.shadowShaderProgram.program),r.shadowHandles=t.shadowShaderProgram):(i.useProgram(t.shaderProgram.program),r.shadowHandles=null)}HasConstant(e){return this.constructor.Has(this.techniques,"constants",e)}HasTexture(e){return this.constructor.Has(this.techniques,"textures",e)}HasSampler(e){return this.constructor.Has(this.techniques,"samplers",e)}static Has(e,t,r){for(var i in e)if(e.hasOwnProperty(i))for(var n=e[i],a=0;a<n.passes.length;a++)for(var o=n.passes[a],s=0;s<o.stages.length;s++)for(var l=o.stages[s],u=0;u<l[t].length;u++)if(l[t][u].name===r)return!0;return!1}static CompileShader(e,t,r,i,n){var a=s.device.gl,l=a.createShader(0===e?a.VERTEX_SHADER:a.FRAGMENT_SHADER),u=s.device.GetExtension("CCP_shader_binary");if(u)u.shaderBinary(l,r);else{var c=t+(Object(o.isString)(r)?r:String.fromCharCode.apply(null,r));c=c.substr(0,c.length-1),a.shaderSource(l,c),a.compileShader(l)}if(!a.getShaderParameter(l,a.COMPILE_STATUS)){if(!n)throw new m({path:i,shaderType:0===e?"vertex":"fragment",infoLog:a.getShaderInfoLog(l)});return null}return l}static CreateProgram(e,t,r,i,n){var a=s.device.gl,o={};if(o.program=a.createProgram(),a.attachShader(o.program,e),a.attachShader(o.program,t),a.linkProgram(o.program),!a.getProgramParameter(o.program,a.LINK_STATUS)){if(!n)throw new b({path:i,infoLog:a.getProgramInfoLog(o.program)});return null}a.useProgram(o.program),o.constantBufferHandles=[];for(var l=0;l<16;++l)o.constantBufferHandles[l]=a.getUniformLocation(o.program,"cb"+l);o.samplerHandles=[];for(var c=0;c<16;++c)o.samplerHandles[c]=a.getUniformLocation(o.program,"s"+c),a.uniform1i(o.samplerHandles[c],c);for(var f=0;f<16;++f)o.samplerHandles[f+12]=a.getUniformLocation(o.program,"vs"+f),a.uniform1i(o.samplerHandles[f+12],f+12);o.input=new u.Tw2VertexDeclaration;for(var d=0;d<r.stages[0].inputDefinition.elements.length;++d){var h="attr"+d,m=a.getAttribLocation(o.program,h);if(m>=0){var p=u.Tw2VertexElement.from({usage:r.stages[0].inputDefinition.elements[d].usage,usageIndex:r.stages[0].inputDefinition.elements[d].usageIndex,location:m,attr:h});o.input.elements.push(p)}}o.input.RebuildHash(),o.shadowStateInt=a.getUniformLocation(o.program,"ssi"),o.shadowStateFloat=a.getUniformLocation(o.program,"ssf"),o.shadowStateYFlip=a.getUniformLocation(o.program,"ssyf"),a.uniform3f(o.shadowStateYFlip,0,0,1),o.volumeSlices=[];for(var v=0;v<r.stages[1].samplers.length;++v)r.stages[1].samplers[v].isVolume&&(o.volumeSlices[r.stages[1].samplers[v].registerIndex]=a.getUniformLocation(o.program,"s"+r.stages[1].samplers[v].registerIndex+"sl"));return o}static InspectShaderCode(e,t){var r,i,n,a=t.substring(t.lastIndexOf("/")+1,t.lastIndexOf(".")).toLowerCase(),o=f[a];if(!o)return e;for(var s in o)o.hasOwnProperty(s)&&(r=e,i=s,n=o[s],e=r.replace(new RegExp(i.replace(/[.*+\-?^${}()|[\]\\]/g,"\\$&"),"g"),n));return e}},n.LinearColor=["Linear red","Linear green","Linear blue","Linear alpha"],n.ConstantIgnore=["PerFrameVS","PerObjectVS","PerFramePS","PerObjectPS"],n.DEBUG_ENABLED=!1,i=a))||i;class m extends d.Tw2Error{constructor(e){super(e,"Error compiling %shaderType% shader (%infoLog%)")}}class b extends d.Tw2Error{constructor(e){super(e,"Error linking shaders")}}},"./core/resource/Tw2TextureRes.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tw2TextureRes",(function(){return u}));var i,n=r("./global/utils/index.js"),a=r("./global/index.js"),o=r("./core/resource/Tw2Resource.js"),s=r("./core/engine/Tw2ResMan.js"),l=r("./global/constant/index.js"),u=n.meta.type("Tw2TextureRes")(i=class e extends o.Tw2Resource{constructor(...e){super(...e),this.texture=null,this.isCube=!1,this.width=0,this.height=0,this.hasMipMaps=!1,this._currentSampler=0,this._isAttached=!1,this._extension=""}Prepare(t){var r=a.device.gl,i="ccpGLFormat"in t?t.ccpGLFormat:r.RGBA;switch(this._extension){case"cube":this.texture=r.createTexture(),r.bindTexture(r.TEXTURE_CUBE_MAP,this.texture);var n=document.createElement("canvas");n.width=n.height=t.height;for(var o=n.getContext("2d"),u=0;u<6;++u)o.drawImage(t,u*n.width,0,n.width,n.height,0,0,n.width,n.height),r.texImage2D(r.TEXTURE_CUBE_MAP_POSITIVE_X+u,0,i,i,r.UNSIGNED_BYTE,n);r.generateMipmap(r.TEXTURE_CUBE_MAP),r.bindTexture(r.TEXTURE_CUBE_MAP,null),this.width=n.width,this.height=n.height,this.hasMipMaps=!0;break;case"png":this.texture=r.createTexture(),r.bindTexture(r.TEXTURE_2D,this.texture),r.texImage2D(r.TEXTURE_2D,0,i,i,r.UNSIGNED_BYTE,t),this.hasMipMaps=e.IsPowerOfTwo(t.width)&&e.IsPowerOfTwo(t.height),this.hasMipMaps&&r.generateMipmap(r.TEXTURE_2D),r.bindTexture(r.TEXTURE_2D,null),this.width=t.width,this.height=t.height;break;case"dds":if(!t.byteLength)throw new s.ErrResourceFormatInvalid({format:"DDS",reason:"file is empty"});var c=a.device.GetExtension("compressed_texture_s3tc"),f=new Int32Array(t,0,l.DDS_HEADER_LENGTH_INT),d=f[l.DDS_HEADER_OFFSET_PF_FOURCC],h=f[l.DDS_HEADER_OFFSET_MAGIC]===l.DDS_MAGIC,m=(f[l.DDS_HEADER_OFFSET_CAPS2]&l.DDSCAPS2_CUBEMAP)===l.DDSCAPS2_CUBEMAP,b=f[l.DDS_HEADER_OFFSET_PF_FOURCC];if(!c)throw new s.ErrResourceFormatUnsupported({format:"DDS",reason:"device not supported"});if(!h)throw new s.ErrResourceFormatInvalid({format:"DDS",reason:"missing magic number"});if(!d)throw new s.ErrResourceFormatInvalid({format:"DDS",reason:"missing FourCC code"});var p,v,g=f[l.DDS_HEADER_OFFSET_WIDTH],y=f[l.DDS_HEADER_OFFSET_HEIGHT],w=f[l.DDS_HEADER_OFFSET_SIZE]+4;switch(b){case l.FOURCC_DXT1:p=8,v=c.COMPRESSED_RGBA_S3TC_DXT1_EXT;break;case l.FOURCC_DXT3:p=16,v=c.COMPRESSED_RGBA_S3TC_DXT3_EXT;break;case l.FOURCC_DXT5:p=16,v=c.COMPRESSED_RGBA_S3TC_DXT5_EXT;break;default:var E=e.Int32ToFourCC(b);throw new s.ErrResourceFormatInvalid({format:"DDS",reason:"Invalid type ".concat(E)})}if(this.hasMipMaps=!1,this.isCube=m,this.width=g,this.height=y,this.isCube)throw new s.ErrResourceFormatUnsupported({format:"DDS cube maps"});this.texture=r.createTexture(),r.bindTexture(r.TEXTURE_2D,this.texture);for(var T=0;T<1;++T){var S=Math.max(4,g)/4*Math.max(4,y)/4*p,_=new Uint8Array(t,w,S);r.compressedTexImage2D(r.TEXTURE_2D,T,v,g,y,0,_),w+=S,g*=.5,y*=.5}r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MAG_FILTER,r.LINEAR),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MIN_FILTER,r.LINEAR),r.bindTexture(r.TEXTURE_2D,null);break;default:throw new s.ErrResourceFormatInvalid({format:this._extension,reason:"Unexpected extension"})}this._isAttached=!1,this.OnPrepared()}DoCustomLoad(t,r){switch(r){case"cube":this._extension=r,this.isCube=!0,t=t.substr(0,t.length-5)+".png";break;case"png":this._extension=r,this.isCube=!1;break;case"dds":return this._extension=r,a.resMan.Fetch(e.AddMipLevelSkipCount(t),"arraybuffer").then(e=>{this.OnLoaded(),a.resMan.Queue(this,e)}).catch(e=>{this.OnError(e)}),!0;default:throw new s.ErrResourceExtensionUnregistered({path:t,extension:r})}a.resMan.AddPendingLoad(t);var i=new Image;return i.crossOrigin="anonymous",i.onerror=()=>{a.resMan.RemovePendingLoad(t),this.OnError(new s.ErrHTTPRequest({path:t}))},i.onload=()=>{a.resMan.RemovePendingLoad(t),a.resMan.Queue(this,i),this.OnLoaded()},i.src=e.AddMipLevelSkipCount(t),!0}Unload(e){return this.texture&&(a.device.gl.deleteTexture(this.texture),this.texture=null),this._extension=null,this._isAttached=!1,this.OnUnloaded(e),!0}Attach(e){this.path="",this.texture=e,this._extension=null,this._isAttached=!0,this.OnLoaded({hide:!0,path:"attachment"}),this.OnPrepared({hide:!0,path:"attachment"})}Reload(e){if(!this._isAttached)return super.Reload(e)}Bind(e,t){var r=a.device,i=r.gl;this.KeepAlive();var n=e.samplerType;if(n===(this.isCube?i.TEXTURE_CUBE_MAP:i.TEXTURE_2D))if(this.texture)e.isVolume&&i.uniform1f(t,this.height/this.width),i.bindTexture(n,this.texture),e.hash!==this._currentSampler&&(e.Apply(r,this.hasMipMaps),this._currentSampler=e.hash);else{var o=n===i.TEXTURE_2D?r.GetFallbackTexture():r.GetFallbackCubeMap();i.bindTexture(n,o)}}static IsPowerOfTwo(e){return 0==(e&e-1)}static AddMipLevelSkipCount(e){var t=a.device;if(t.mipLevelSkipCount>0){var r=e.lastIndexOf(".");r>=0&&(e=e.substr(0,r-2)+"."+t.mipLevelSkipCount.toString()+e.substr(r))}return e}static Int32ToFourCC(e){return String.fromCharCode(255&e,e>>8&255,e>>16&255,e>>24&255)}static CreateImageFrom2DTexture(e,t=512,r=512,i=a.device.gl.RGBA){var n=a.device.gl,o=n.createFramebuffer();n.bindFramebuffer(n.FRAMEBUFFER,o),n.framebufferTexture2D(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0,n.TEXTURE_2D,e,0);var s=new Uint8Array(t*r*4);n.readPixels(0,0,t,r,n.RGBA,n.UNSIGNED_BYTE,s),n.deleteFramebuffer(o);var l=document.createElement("canvas");l.width=t,l.height=r;var u=l.getContext("2d"),c=u.createImageData(t,r);c.data.set(s),u.putImageData(c,0,0);var f=new Image;return f.src=l.toDataURL(),f}})||i},"./core/resource/Tw2VideoRes.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tw2VideoRes",(function(){return l}));var i,n=r("./global/utils/index.js"),a=r("./global/index.js"),o=r("./core/resource/Tw2Resource.js"),s=r("./core/engine/Tw2ResMan.js"),l=n.meta.type("Tw2VideoRes")(i=class extends o.Tw2Resource{constructor(...e){super(...e),this.texture=null,this.video=null,this.width=0,this.height=0,this.cycle=!0,this.playOnLoad=!0,this._currentSampler=0,this._currentTime=-1,this._playable=!1,this._isPlaying=!1,this._onPlaying=null,this._onPause=null,this._onEnded=null}IsGood(){return this.KeepAlive(),super.IsGood()&&this.video&&this._playable}KeepAlive(){this.activeFrame=a.resMan.activeFrame}Play(e=!1,t=null){this.cycle=e,this._onEnded=t,this.video&&this._playable?(this.video.loop=this.cycle,this.video.play()):this.playOnLoad=!0}Pause(){this.video?this.video.pause():this.playOnLoad=!1}Prepare(e){var t=a.device.gl;switch(this._extension){case"mp4":case"webm":case"ogg":this.texture=t.createTexture(),t.bindTexture(t.TEXTURE_2D,this.texture),t.texImage2D(t.TEXTURE_2D,0,t.RGBA,t.RGBA,t.UNSIGNED_BYTE,this.video),t.bindTexture(t.TEXTURE_2D,null),this.width=this.video.width,this.height=this.video.height,this.video.loop=this.cycle,this.playOnLoad&&this.video.play();break;default:throw new s.ErrResourceExtensionUnregistered({path:this.path,extension:this._extension})}this.OnPrepared()}DoCustomLoad(e,t){switch(t){case"mp4":case"webm":case"ogg":this._extension=t;break;default:throw new s.ErrResourceExtensionUnregistered({path:e,extension:t})}return a.resMan.AddPendingLoad(e),this.video=document.createElement("video"),this.video.crossOrigin="anonymous",this.video.muted=!0,this.video.onerror=()=>{a.resMan.RemovePendingLoad(e),this.video=null,this.OnError(new s.ErrHTTPRequest({path:e}))},this.video.oncanplay=()=>{this._playable=!0,this.video.oncanplay=null,a.resMan.RemovePendingLoad(e),a.resMan.Queue(this,void 0,t),this.OnLoaded()},this.video.onended=()=>{this._isPlaying=!1,this._onEnded&&this._onEnded(this)},this.video.onpause=()=>{this._isPlaying=!1,this._onPause&&this._onPause(this)},this.video.onplaying=()=>{this._isPlaying=!0,this._onPlaying&&this._onPlaying(this)},this.video.src=e,!0}Unload(e){return this.texture&&(a.device.gl.deleteTexture(this.texture),this.texture=null),this._extension=null,this._isPlaying=!1,this._playable=!1,this.playOnLoad=!0,this.video=null,this.OnUnloaded(e),!0}Bind(e){var t=a.device,r=t.gl;this.KeepAlive();var i=e.samplerType;i===r.TEXTURE_2D&&(this.texture?(this._currentTime=this.video.currentTime,r.bindTexture(r.TEXTURE_2D,this.texture),r.texImage2D(r.TEXTURE_2D,0,r.RGBA,r.RGBA,r.UNSIGNED_BYTE,this.video),r.bindTexture(r.TEXTURE_2D,null),r.bindTexture(i,this.texture),e.hash!==this._currentSampler&&(e.Apply(t,!1),this._currentSampler=e.hash)):r.bindTexture(r.TEXTURE_2D,t.GetFallbackTexture()))}})||i},"./core/resource/index.js":function(e,t,r){"use strict";r.r(t);var i=r("./core/resource/Tw2EffectRes.js");r.d(t,"Tw2EffectRes",(function(){return i.Tw2EffectRes})),r.d(t,"ErrShaderVersion",(function(){return i.ErrShaderVersion})),r.d(t,"ErrShaderHeaderSize",(function(){return i.ErrShaderHeaderSize})),r.d(t,"ErrShaderPermutationValue",(function(){return i.ErrShaderPermutationValue}));var n=r("./core/resource/Tw2GeometryRes.js");r.d(t,"Tw2GeometryRes",(function(){return n.Tw2GeometryRes})),r.d(t,"ErrGeometryMeshMissingParticleElement",(function(){return n.ErrGeometryMeshMissingParticleElement})),r.d(t,"ErrGeometryMeshElementComponentsMissing",(function(){return n.ErrGeometryMeshElementComponentsMissing})),r.d(t,"ErrGeometryMeshAreaMissing",(function(){return n.ErrGeometryMeshAreaMissing})),r.d(t,"ErrGeometryMeshBoneNameInvalid",(function(){return n.ErrGeometryMeshBoneNameInvalid})),r.d(t,"ErrGeometryMeshEffectBinding",(function(){return n.ErrGeometryMeshEffectBinding})),r.d(t,"ErrGeometryFileType",(function(){return n.ErrGeometryFileType}));var a=r("./core/resource/Tw2LoadingObject.js");r.d(t,"Tw2LoadingObject",(function(){return a.Tw2LoadingObject}));var o=r("./core/resource/Tw2Resource.js");r.d(t,"Tw2Resource",(function(){return o.Tw2Resource}));var s=r("./core/resource/Tw2Shader.js");r.d(t,"Tw2Shader",(function(){return s.Tw2Shader})),r.d(t,"ErrShaderCompile",(function(){return s.ErrShaderCompile})),r.d(t,"ErrShaderLink",(function(){return s.ErrShaderLink}));var l=r("./core/resource/Tw2TextureRes.js");r.d(t,"Tw2TextureRes",(function(){return l.Tw2TextureRes}));var u=r("./core/resource/Tw2VideoRes.js");r.d(t,"Tw2VideoRes",(function(){return u.Tw2VideoRes}))},"./core/resource/shaderOverrides.json":function(e){e.exports=JSON.parse('{"blinkinglightspool":{"r0.xy=r0.xx*c[0+a0.x].xy;":"if(a0.x==0){r0.xy=r0.xx*c[0].xy;}else if(a0.x==1){r0.xy=r0.xx*c[1].xy;}else if(a0.x==2){r0.xy=r0.xx*c[2].xy;}else if(a0.x==3){r0.xy=r0.xx*c[3].xy;}else if(a0.x==4){r0.xy=r0.xx*c[4].xy;}","texcoord=r3.zzww*c[0+a0.x].zwzz;":"if(a0.x==0){texcoord=r3.zzww*c[0].zwzz;}else if(a0.x==1){texcoord=r3.zzww*c[1].zwzz;}else if(a0.x==2){texcoord=r3.zzww*c[2].zwzz;}else if(a0.x==3){texcoord=r3.zzww*c[3].zwzz;}else if(a0.x==4){texcoord=r3.zzww*c[4].zwzz;}"},"boostervolumetric":{"for(int i=0;i<i0.x;++i){":"for(int i=0;i<12;++i){"},"fxarmorimpactv5":{"for(int i=0;i<i0.x;++i){":"for(int i=0;i<255;++i){"},"flarequad":{"r1.xyz=r0.zzw*c[0+a0.x].xyx;":"if(a0.x==0){r1.xyz=r0.zzw*c[0].xyx;}else if(a0.x==1){r1.xyz=r0.zzw*c[1].xyx;}else if(a0.x==2){r1.xyz=r0.zzw*c[2].xyx;}else if (a0.x==3){r1.xyz=r0.zzw*c[3].xyx;}else if(a0.x==4){r1.xyz=r0.zzw*c[4].xyx;}else if(a0.x==5){r1.xyz=r0.zzw*c[5].xyx;}","texcoord.xyw=r0.zzw*c[0+a0.x].zwz;":"if(a0.x==0){texcoord.xyw=r0.zzw*c[0].zwz;}else if(a0.x==1){texcoord.xyw=r0.zzw*c[1].zwz;}else if(a0.x==2){texcoord.xyw=r0.zzw*c[2].zwz;}else if(a0.x==3){texcoord.xyw=r0.zzw*c[3].zwz;}else if(a0.x==4){texcoord.xyw=r0.zzw*c[4].zwz;}else if(a0.x==5){texcoord.xyw=r0.zzw*c[5].zwz;}","r0.x=saturate(sqrt(abs(r0.x)));":"r0.x=clamp(sqrt(abs(r0.x)),0.0,1.0);"}}')},"./core/sampler/Tw2SamplerOverride.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tw2SamplerOverride",(function(){return M}));var i,n,a,o,s,l,u,c,f,d,h,m,b,p,v,g,y,w,E,T,S,_,j,R,z=r("./global/utils/index.js"),O=r("./core/sampler/Tw2SamplerState.js");function P(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function A(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var x={NONE:0,REPEAT:1,MIRRORED_REPEAT:2,CLAMP_TO_EDGE:3},M=(i=z.meta.type("Tw2SamplerOverride"),n=z.meta.string,a=z.meta.enums(x,3),o=z.meta.enums(x,3),s=z.meta.enums(x,3),l=z.meta.enums({NEAREST:0,LINEAR:1},2),u=z.meta.enums({NONE:0,MIPMAP_NEAREST:1,MIPMAP_LINEAR:2},2),c=z.meta.notImplemented,f=z.meta.uint,d=z.meta.uint,h=z.meta.uint,m=z.meta.boolean,i((v=A((p=class{constructor(){P(this,"name",v,this),P(this,"addressU",g,this),P(this,"addressV",y,this),P(this,"addressW",w,this),P(this,"filter",E,this),P(this,"mipFilter",T,this),P(this,"lodBias",S,this),P(this,"maxMipLevel",_,this),P(this,"maxAnisotropy",j,this),P(this,"forceMipMaps",R,this),this._sampler=null,this._isDirty=!0}UpdateValues(){this._isDirty=!0}GetSampler(e,t){if(this._isDirty)this._isDirty=!1;else if(this._sampler)return this._sampler;this._sampler=new O.Tw2SamplerState;var r=this._sampler;r.registerIndex=t.registerIndex,r.name=t.name,r.forceMipMaps=this.forceMipMaps;var{wrapModes:i,gl:n}=e;if(1===this.filter){switch(this.mipFilter){case 0:r.minFilter=n.NEAREST;break;case 1:r.minFilter=n.NEAREST_MIPMAP_NEAREST;break;default:r.minFilter=n.NEAREST_MIPMAP_LINEAR}r.minFilterNoMips=n.NEAREST,r.magFilter=n.NEAREST}else{switch(this.mipFilter){case 0:r.minFilter=n.LINEAR;break;case 1:r.minFilter=n.LINEAR_MIPMAP_NEAREST;break;default:r.minFilter=n.LINEAR_MIPMAP_LINEAR}r.minFilterNoMips=n.LINEAR,r.magFilter=n.LINEAR}return 3!==this.filter&&3!==this.mipFilter||(r.anisotropy=Math.max(this.maxAnisotropy,1)),r.addressU=i[this.addressU],r.addressV=i[this.addressV],r.addressW=i[this.addressW],r.samplerType=t.samplerType,r.isVolume=t.isVolume,r.ComputeHash(),r}}).prototype,"name",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),g=A(p.prototype,"addressU",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),y=A(p.prototype,"addressV",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),w=A(p.prototype,"addressW",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),E=A(p.prototype,"filter",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),T=A(p.prototype,"mipFilter",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),S=A(p.prototype,"lodBias",[c,f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),_=A(p.prototype,"maxMipLevel",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),j=A(p.prototype,"maxAnisotropy",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),R=A(p.prototype,"forceMipMaps",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),b=p))||b)},"./core/sampler/Tw2SamplerState.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tw2SamplerState",(function(){return B}));var i,n,a,o,s,l,u,c,f,d,h,m,b,p,v,g,y,w,E,T,S,_,j,R,z,O,P,A,x,M,C,D,I=r("./global/utils/index.js"),L=r("./global/constant/index.js");function F(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function G(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var B=(i=I.meta.type("Tw2SamplerState"),n=I.meta.string,a=I.meta.uint,o=I.meta.uint,s=I.meta.uint,l=I.meta.uint,u=I.meta.uint,c=I.meta.uint,f=I.meta.uint,d=I.meta.uint,h=I.meta.uint,m=I.meta.uint,b=I.meta.boolean,p=I.meta.uint,v=I.meta.isPrivate,g=I.meta.boolean,i((E=G((w=class{constructor(){F(this,"name",E,this),F(this,"registerIndex",T,this),F(this,"minFilter",S,this),F(this,"maxFilter",_,this),F(this,"magFilter",j,this),F(this,"minFilterNoMips",R,this),F(this,"addressU",z,this),F(this,"addressV",O,this),F(this,"addressW",P,this),F(this,"anisotropy",A,this),F(this,"samplerType",x,this),F(this,"isVolume",M,this),F(this,"hash",C,this),F(this,"forceMipMaps",D,this),this._borderColor=null,this._comparison=null,this._comparisonFunc=null,this._mipLODBias=null,this._minLOD=null,this._maxLOD=null}get filterMode(){return this.minFilterNoMips in L.FilterMode?L.FilterMode[this.minFilterNoMips]:2}get mipFilterMode(){return this.minFilter in L.MipFilterMode?L.MipFilterMode[this.minFilter]:2}ComputeHash(){this.hash=2166136261,this.hash*=16777619,this.hash^=this.minFilter,this.hash*=16777619,this.hash^=this.maxFilter,this.hash*=16777619,this.hash^=this.addressU,this.hash*=16777619,this.hash^=this.addressV,this.hash*=16777619,this.hash^=this.anisotropy,this.hash+=this.forceMipMaps?1:0}Apply(e,t){var r=this.samplerType,i=e.gl,n=e.GetExtension("EXT_texture_filter_anisotropic"),a=t||this.forceMipMaps;i.texParameteri(r,i.TEXTURE_WRAP_S,a?this.addressU:i.CLAMP_TO_EDGE),i.texParameteri(r,i.TEXTURE_WRAP_T,a?this.addressV:i.CLAMP_TO_EDGE),r!==i.TEXTURE_3D&&r!==i.TEXTURE_2D_ARRAY||i.texParameteri(r,i.TEXTURE_WRAP_R,a?this.addressW:i.CLAMP_TO_EDGE),i.texParameteri(r,i.TEXTURE_MIN_FILTER,t?this.minFilter:this.minFilterNoMips),i.texParameteri(r,i.TEXTURE_MAG_FILTER,this.magFilter),n&&e.enableAnisotropicFiltering&&i.texParameterf(r,n.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(this.anisotropy,n.maxAnisotropy))}}).prototype,"name",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),T=G(w.prototype,"registerIndex",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),S=G(w.prototype,"minFilter",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return L.GL_LINEAR}}),_=G(w.prototype,"maxFilter",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return L.GL_LINEAR}}),j=G(w.prototype,"magFilter",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return L.GL_LINEAR}}),R=G(w.prototype,"minFilterNoMips",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return L.GL_LINEAR}}),z=G(w.prototype,"addressU",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return L.GL_REPEAT}}),O=G(w.prototype,"addressV",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return L.GL_REPEAT}}),P=G(w.prototype,"addressW",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return L.GL_REPEAT}}),A=G(w.prototype,"anisotropy",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),x=G(w.prototype,"samplerType",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return L.GL_TEXTURE_2D}}),M=G(w.prototype,"isVolume",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),C=G(w.prototype,"hash",[p,v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),D=G(w.prototype,"forceMipMaps",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),y=w))||y)},"./core/sampler/index.js":function(e,t,r){"use strict";r.r(t);var i=r("./core/sampler/Tw2SamplerState.js");r.d(t,"Tw2SamplerState",(function(){return i.Tw2SamplerState}));var n=r("./core/sampler/Tw2SamplerOverride.js");r.d(t,"Tw2SamplerOverride",(function(){return n.Tw2SamplerOverride}))},"./core/store/Tw2ConstructorStore.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tw2ConstructorStore",(function(){return a}));var i=r("./core/store/Tw2GenericStore.js"),n=r("./global/utils/index.js");class a extends i.Tw2GenericStore{constructor(e){super();var t=i.STORE.get(this);t.Constructor=e,t.DEBUG_MODE=!1}SetDebugMode(e){var t=i.STORE.get(this);for(var[r,n]of(t.DEBUG_ENABLED=e,t.map))"DEBUG_ENABLED"in n&&(console.log("Debug mode enabled for "+r),n.DEBUG_ENABLED=e)}GetDebugMode(){return i.STORE.get(this).DEBUG_ENABLED}static isValue(e){return Object(n.isFunction)(e)}static onBefore(e,t,r){var{Constructor:n,DEBUG_MODE:a}=i.STORE.get(r);n&&(n.prototype[t]=e),"DEBUG_ENABLED"in e&&(e.DEBUG_ENABLED=a)}}a.isConstructorStore=!0,a.storeName="Constructor"},"./core/store/Tw2GenericStore.js":function(e,t,r){"use strict";r.r(t),r.d(t,"STORE",(function(){return o})),r.d(t,"Tw2GenericStore",(function(){return s})),r.d(t,"ErrStoreKeyReserved",(function(){return u})),r.d(t,"ErrStoreValueInvalid",(function(){return c})),r.d(t,"ErrStoreKeyUnregistered",(function(){return f}));var i=r("./global/utils/index.js"),n=r("./core/Tw2Error.js"),a=r("./core/Tw2EventEmitter.js"),o=new WeakMap;class s extends a.Tw2EventEmitter{constructor(){super(),o.set(this,{map:new Map})}Set(e,t){var r=this.constructor,{storeName:i}=r;if(r.isValue&&!r.isValue(t))throw new c({storeName:i,key:e});if(r.restrictedKeys&&r.restrictedKeys.includes(e))throw new u({storeName:i,key:e});if(r.onBefore){var n=r.onBefore(t,e,this);n&&(t=n)}return o.get(this).map.set(e,t),this.EmitEvent("stored",{key:e,value:t}),t}Get(e){var{isConstructorStore:t,storeName:r}=this.constructor,[i,n]=l(this,e,t);if(!n){var a=o.get(this);throw a.missing||(a.missing=[]),a.missing.includes(e)||(a.missing.push(e),this.EmitEvent("missing",{key:e})),new f({storeName:r,key:e})}return i!==e&&this.EmitEvent("substitute",{original:e,substitute:i}),n}Has(e){return!!l(this,e,this.constructor.isConstructorStore)[1]}Register(e){e=Object(i.toArray)(e);for(var t=0;t<e.length;t++)for(var r in e[t])e[t].hasOwnProperty(r)&&this.Set(r,e[t][r])}GetMissing(){var{missing:e}=o.get(this);return e?Array.from(e):[]}static isValue(e){return!0}}function l(e,t,r){var{map:n}=o.get(e);if(n.has(t))return[t,n.get(t)];if(r&&Object(i.isTr2OrTri)(t)){var a=Object(i.toTw2)(t);if(n.has(a))return[a,n.get(a)]}return[t]}s.onBefore=null,s.isConstructorStore=!1,s.restrictedKeys=null,s.storeName="Generic";class u extends n.Tw2Error{constructor(e){super(e,"'%storeName%' store key restricted (%key%)")}}class c extends n.Tw2Error{constructor(e){super(e,"'%storeName%' store value invalid (%key%)")}}class f extends n.Tw2Error{constructor(e){super(e,"'%storeName%' store key is unregistered (%key%)")}}},"./core/store/Tw2ResourceDynamicPathStore.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tw2ResourceDynamicPathStore",(function(){return o}));var i=r("./core/store/Tw2GenericStore.js"),n=r("./global/utils/index.js"),a=r("./core/store/Tw2ResourcePathStore.js");class o extends i.Tw2GenericStore{static isValue(e){return Object(n.isArray)(e)}static onBefore(e){e=Array.from(e);for(var t=0;t<e.length;t++)e[t]=a.Tw2ResourcePathStore.normalizePath(e[t]);return e}}o.storeName="Dynamic resource path"},"./core/store/Tw2ResourceExtensionStore.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tw2ResourceExtensionStore",(function(){return a}));var i=r("./core/store/Tw2GenericStore.js"),n=r("./global/utils/index.js");class a extends i.Tw2GenericStore{static isValue(e){return Object(n.isFunction)(e)}}a.isConstructorStore=!0,a.storeName="Resource extension"},"./core/store/Tw2ResourcePathStore.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tw2ResourcePathStore",(function(){return o})),r.d(t,"ErrStorePathUndefined",(function(){return s}));var i=r("./core/store/Tw2GenericStore.js"),n=r("./global/utils/index.js"),a=r("./core/Tw2Error.js");class o extends i.Tw2GenericStore{GetURL(e){var t=(e=o.normalizePath(e)).indexOf(":/");if(-1===t)throw new s({path:e});var r=e.substr(0,t);return"http"===r||"https"===r?e:this.GetPath(r)+e.substr(t+2)}static isValue(e){return Object(n.isString)(e)}static onBefore(e){return"/"!==e.charAt(e.length-1)&&(e+="/"),this.normalizePath(e)}static normalizePath(e){return e=(e=e.toLowerCase()).replace("\\","/")}}o.storeName="Resource path",o.restrictedKeys=["rgba"];class s extends a.Tw2Error{constructor(e){super(e,"Undefined resource prefix")}}},"./core/store/Tw2VariableStore.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tw2VariableStore",(function(){return a}));var i=r("./core/store/Tw2GenericStore.js"),n=r("./global/utils/index.js");class a extends i.Tw2GenericStore{constructor(e){super(),i.STORE.get(this).typeStore=e}Set(e,t){return Object(n.isPlain)(t)||(t=this.Create(e,t)),super.Set(e,t)}Create(e,t,r){if(Object(n.isPlain)(t)&&(r=t.Type||t.type,t=t.value),Object(n.isFunction)(r))return new r(e,t);var{typeStore:a}=i.STORE.get(this);return Object(n.isString)(r)&&(r=a.Get(r)),r||(r=a.GetByValue(t)),new r(e,t)}SetValue(e,t,r){return this.Get(e).SetValue(t,r)}GetValue(e){return this.Get(e).GetValue(e)}static isValue(e){return e&&Object(n.isFunction)(e.GetValue)&&Object(n.isFunction)(e.SetValue)}}a.storeName="Variable"},"./core/store/Tw2VariableTypeStore.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tw2VariableTypeStore",(function(){return o})),r.d(t,"ErrStoreVariableTypeNotFoundByValue",(function(){return s}));var i=r("./core/store/Tw2GenericStore.js"),n=r("./global/utils/index.js"),a=r("./core/Tw2Error.js");class o extends i.Tw2GenericStore{GetByValue(e){var{map:t}=i.STORE.get(this);for(var[r,n]of t)if("isValue"in n&&n.isValue(e))return n;throw new s({value:e})}static isValue(e){return Object(n.isFunction)(e)}}o.isConstructorStore=!0,o.storeName="Variable Type";class s extends a.Tw2Error{constructor(e){super(e,"Could not identify variable type from value (%value%)")}}},"./core/store/index.js":function(e,t,r){"use strict";r.r(t);var i=r("./core/store/Tw2GenericStore.js");r.d(t,"Tw2GenericStore",(function(){return i.Tw2GenericStore}));var n=r("./core/store/Tw2ConstructorStore.js");r.d(t,"Tw2ConstructorStore",(function(){return n.Tw2ConstructorStore}));var a=r("./core/store/Tw2VariableTypeStore.js");r.d(t,"Tw2VariableTypeStore",(function(){return a.Tw2VariableTypeStore})),r.d(t,"ErrStoreVariableTypeNotFoundByValue",(function(){return a.ErrStoreVariableTypeNotFoundByValue}));var o=r("./core/store/Tw2VariableStore.js");r.d(t,"Tw2VariableStore",(function(){return o.Tw2VariableStore}));var s=r("./core/store/Tw2ResourcePathStore.js");r.d(t,"Tw2ResourcePathStore",(function(){return s.Tw2ResourcePathStore})),r.d(t,"ErrStorePathUndefined",(function(){return s.ErrStorePathUndefined}));var l=r("./core/store/Tw2ResourceDynamicPathStore.js");r.d(t,"Tw2ResourceDynamicPathStore",(function(){return l.Tw2ResourceDynamicPathStore}));var u=r("./core/store/Tw2ResourceExtensionStore.js");r.d(t,"Tw2ResourceExtensionStore",(function(){return u.Tw2ResourceExtensionStore}))},"./core/value/Tw2Float.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tw2Float",(function(){return p}));var i,n,a,o,s,l,u=r("./global/utils/index.js");var c,f,d,h,m,b,p=(i=u.meta.type("Tw2Float","TriFloat"),n=u.meta.float,i((l=class extends u.meta.Model{constructor(...e){var t,r,i,n;super(...e),t=this,r="value",n=this,(i=s)&&Object.defineProperty(t,r,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}},c=(o=l).prototype,f="value",d=[n],h={configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}},b={},Object.keys(h).forEach((function(e){b[e]=h[e]})),b.enumerable=!!b.enumerable,b.configurable=!!b.configurable,("value"in b||b.initializer)&&(b.writable=!0),b=d.slice().reverse().reduce((function(e,t){return t(c,f,e)||e}),b),m&&void 0!==b.initializer&&(b.value=b.initializer?b.initializer.call(m):void 0,b.initializer=void 0),void 0===b.initializer&&(Object.defineProperty(c,f,b),b=null),s=b,a=o))||a)},"./core/value/index.js":function(e,t,r){"use strict";r.r(t);var i=r("./core/value/Tw2Float.js");r.d(t,"Tw2Float",(function(){return i.Tw2Float}))},"./core/vertex/Tw2VertexDeclaration.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tw2VertexDeclaration",(function(){return b}));var i,n,a,o,s,l,u,c,f=r("./global/utils/index.js"),d=r("./core/vertex/Tw2VertexElement.js");function h(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function m(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var b=(i=f.meta.type("Tw2VertexDeclaration"),n=f.meta.list("Tw2VertexElement"),a=f.meta.list("Tw2VertexElement"),o=f.meta.isPrivate,i((u=m((l=class e{constructor(){h(this,"elements",u,this),h(this,"elementsSorted",c,this)}UpdateValues(){this.RebuildHash()}Clear(){this.elements.splice(0,this.elements.length),this.RebuildHash()}SetStride(e){return this.stride=e,this}RebuildHash(){this.elementsSorted.splice(0,this.elementsSorted.length);for(var t=0;t<this.elements.length;++t)this.elementsSorted.push(this.elements[t]);this.elementsSorted.sort(e.CompareDeclarationElements)}FindUsage(e,t){for(var r=0;r<this.elementsSorted.length;++r){var i=this.elementsSorted[r];if(i.usage===e){if(i.usageIndex===t)return i;if(i.usageIndex>t)return null}if(i.usage>e)return null}return null}SetDeclaration(t,r,i){for(var n=t.gl,a=0,o=0;o<r.elementsSorted.length;++o){var s=r.elementsSorted[o];if(!(s.location<0))for(;;){if(a>=this.elementsSorted.length){n.disableVertexAttribArray(s.location),n.vertexAttrib4f(s.location,0,0,0,0);break}var l=this.elementsSorted[a],u=e.CompareDeclarationElements(l,s);if(u>0){n.disableVertexAttribArray(s.location),n.vertexAttrib4f(s.location,0,0,0,0);break}if(0===u){l.customSetter?l.customSetter(s):(n.enableVertexAttribArray(s.location),n.vertexAttribPointer(s.location,l.elements,l.type,!1,i,l.offset));break}a++}}return!0}SetPartialDeclaration(t,r,i,n,a){for(var o=t.gl,s=[],l=0,u=0;u<r.elementsSorted.length;++u){var c=r.elementsSorted[u];if(!(c.location<0))for(;;){var f=this.elementsSorted[l],d=e.CompareDeclarationElements(f,c,n);if(0===d){f.customSetter?f.customSetter(c):(o.enableVertexAttribArray(c.location),o.vertexAttribPointer(c.location,f.elements,f.type,!1,i,f.offset),o.vertexAttribDivisor(c.location,a),a&&s.push(c.location));break}if(d>0){a||(o.disableVertexAttribArray(c.location),o.vertexAttrib4f(c.location,0,0,0,0));break}if(++l>=this.elementsSorted.length)return a||(o.disableVertexAttribArray(c.location),o.vertexAttrib4f(c.location,0,0,0,0)),s}}return s}ResetInstanceDivisors(e,t){if(t)for(var r=0;r<t.length;++r)e.gl.vertexAttribDivisor(t[r],0)}static CompareDeclarationElements(e,t,r=0){return e.usage<t.usage?-1:e.usage>t.usage?1:e.usageIndex+r<t.usageIndex?-1:e.usageIndex+r>t.usageIndex?1:0}static from(t,r){var i=new e;if(t){for(var n=0,a=0;a<t.length;a++)t[a].offset=n,i.elements.push(d.Tw2VertexElement.from(t[a])),n+=4*t[a].elements;r&&r.skipUpdate||i.RebuildHash()}return i}}).prototype,"elements",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),c=m(l.prototype,"elementsSorted",[a,o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),s=l))||s)},"./core/vertex/Tw2VertexElement.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tw2VertexElement",(function(){return _}));var i,n,a,o,s,l,u,c,f,d,h,m,b,p,v,g,y,w=r("./global/utils/index.js"),E=r("./global/constant/index.js");function T(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function S(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var _=(i=w.meta.type("Tw2VertexElement"),n=w.meta.uint,a=w.meta.uint,o=w.meta.uint,s=w.meta.uint,l=w.meta.uint,u=w.meta.uint,i((y=g=class e{constructor(){this.customSetter=null,T(this,"elements",d,this),T(this,"location",h,this),T(this,"offset",m,this),T(this,"type",b,this),T(this,"usage",p,this),T(this,"usageIndex",v,this),this._registerIndex=null,this._usedMask=null,this._attr=null}get string(){return e.TypeMap[this.usage]||"UNKNOWN"}static from(t){var r=new e;if(t){var{usage:i,usageIndex:n}=t;r.usage=Object(w.isString)(i)?this.Type[i.toUpperCase()]:i,r.usageIndex=n;var{elements:a=null,offset:o=0,location:s=null,customSetter:l=null}=t;r.offset=o,r.elements=a,r.location=s,r.customSetter=l;var{type:u=E.GL_FLOAT}=t;if(Object(w.isString)(u)&&("GL_"!==u.substring(0,3)&&(u="GL_"+u),void 0===(u=E[u])))throw new ReferenceError("Invalid gl type: ".concat(u));r.type=u;var{registerIndex:c=null,usedMask:f=null,attr:d=null}=t;r._registerIndex=c,r._usedMask=f,r._attr=d}return r}},g.Type={POSITION:0,COLOR:1,NORMAL:2,TANGENT:3,BINORMAL:4,TEXCOORD:5,BLENDWEIGHT:6,BLENDINDICES:7},g.TypeMap=["POSITION","COLOR","NORMAL","TANGENT","BINORMAL","TEXCOORD","BLENDWEIGHT","BLENDINDICES"],d=S((f=y).prototype,"elements",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),h=S(f.prototype,"location",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),m=S(f.prototype,"offset",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),b=S(f.prototype,"type",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),p=S(f.prototype,"usage",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return-1}}),v=S(f.prototype,"usageIndex",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),c=f))||c)},"./core/vertex/index.js":function(e,t,r){"use strict";r.r(t);var i=r("./core/vertex/Tw2VertexDeclaration.js");r.d(t,"Tw2VertexDeclaration",(function(){return i.Tw2VertexDeclaration}));var n=r("./core/vertex/Tw2VertexElement.js");r.d(t,"Tw2VertexElement",(function(){return n.Tw2VertexElement}))},"./curve/Tw2CurveSet.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tw2CurveSet",(function(){return z}));var i,n,a,o,s,l,u,c,f,d,h,m,b,p,v,g,y,w,E,T,S,_=r("./global/utils/index.js");function j(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function R(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var z=(i=_.meta.type("Tw2CurveSet","TriCurveSet"),n=_.meta.string,a=_.meta.list("Tw2ValueBinding"),o=_.meta.list("Tw2Curve"),s=_.meta.boolean,l=_.meta.notImplemented,u=_.meta.list("TriCurveSetRange"),c=_.meta.float,f=_.meta.notImplemented,d=_.meta.float,i((S=class extends _.meta.Model{constructor(...e){super(...e),j(this,"name",b,this),j(this,"bindings",p,this),j(this,"curves",v,this),j(this,"playOnLoad",g,this),j(this,"ranges",y,this),j(this,"scale",w,this),j(this,"useSimTimeRebase",E,this),j(this,"scaledTime",T,this),this._isPlaying=!1}Initialize(){this.playOnLoad&&this.Play()}Play(){this._isPlaying=!0,this.scaledTime=0}PlayFrom(e=0){this._isPlaying=!0,this.scaledTime=e*this.scale}Stop(){this._isPlaying=!1}Update(e){if(this._isPlaying){this.scaledTime+=e*this.scale;for(var t=0;t<this.curves.length;++t)this.curves[t].UpdateValue(this.scaledTime);for(var r=0;r<this.bindings.length;++r)this.bindings[r].CopyValue()}}GetRangeByName(e){for(var t=0;t<this.ranges.length;t++)if(this.ranges[t].name===e)return this.ranges[t];return null}GetMaxCurveDuration(){for(var e=0,t=0;t<this.curves.length;++t)"GetLength"in this.curves[t]&&(e=Math.max(e,this.curves[t].GetLength()));return e}},b=R((m=S).prototype,"name",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),p=R(m.prototype,"bindings",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),v=R(m.prototype,"curves",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),g=R(m.prototype,"playOnLoad",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),y=R(m.prototype,"ranges",[l,u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),w=R(m.prototype,"scale",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),E=R(m.prototype,"useSimTimeRebase",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),T=R(m.prototype,"scaledTime",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),h=m))||h)},"./curve/Tw2ValueBinding.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tw2ValueBinding",(function(){return R})),r.d(t,"ErrBindingValueUndefined",(function(){return z})),r.d(t,"ErrBindingType",(function(){return O})),r.d(t,"ErrBindingReference",(function(){return P}));var i,n,a,o,s,l,u,c,f,d,h,m,b,p,v,g,y,w,E=r("./global/utils/index.js"),T=r("./global/math/index.js"),S=r("./core/index.js");function _(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function j(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var R=(i=E.meta.type("Tw2ValueBinding","TriValueBinding"),n=E.meta.string,a=E.meta.string,o=E.meta.struct(),s=E.meta.vector4,l=E.meta.float,u=E.meta.string,c=E.meta.struct(),i((w=class e extends E.meta.Model{constructor(...e){super(...e),_(this,"name",h,this),_(this,"destinationAttribute",m,this),_(this,"destinationObject",b,this),_(this,"offset",p,this),_(this,"scale",v,this),_(this,"sourceAttribute",g,this),_(this,"sourceObject",y,this),this._copyFunc=null,this._destinationElement=null,this._destinationIsArray=null,this._destinationIsRGBA=null,this._sourceElement=null,this._sourceIsArray=null,this._sourceIsRGBA=null}Initialize(){this.UpdateValues()}OnValueChanged(){if(null===this._copyFunc&&this.sourceObject&&""!==this.sourceAttribute&&this.destinationObject&&""!==this.destinationAttribute){var t=!1,r=!1,i=this.sourceAttribute.substr(-2);".x"===i||".r"===i?(t=!0,this._sourceElement=0,this.sourceAttribute=this.sourceAttribute.substr(0,this.sourceAttribute.length-2),this._sourceIsRGBA=".r"===i):".y"===i||".g"===i?(t=!0,this._sourceElement=1,this.sourceAttribute=this.sourceAttribute.substr(0,this.sourceAttribute.length-2),this._sourceIsRGBA=".g"===i):".z"===i||".b"===i?(t=!0,this._sourceElement=2,this.sourceAttribute=this.sourceAttribute.substr(0,this.sourceAttribute.length-2),this._sourceIsRGBA=".b"===i):".w"===i||".a"===i?(t=!0,this._sourceElement=3,this.sourceAttribute=this.sourceAttribute.substr(0,this.sourceAttribute.length-2),this._sourceIsRGBA=".a"===i):this.sourceObject instanceof S.Tw2Vector4Parameter&&("v1"===this.sourceAttribute?(t=!0,this._sourceElement=0,this.sourceAttribute="value"):"v2"===this.sourceAttribute?(t=!0,this._sourceElement=1,this.sourceAttribute="value"):"v3"===this.sourceAttribute?(t=!0,this._sourceElement=2,this.sourceAttribute="value"):"v4"===this.sourceAttribute&&(t=!0,this._sourceElement=3,this.sourceAttribute="value"));var n=this.destinationAttribute.substr(-2);".x"===n||".r"===n?(r=!0,this._destinationElement=0,this.destinationAttribute=this.destinationAttribute.substr(0,this.destinationAttribute.length-2),this._destinationIsRGBA=".r"===n):".y"===n||".g"===n?(r=!0,this._destinationElement=1,this.destinationAttribute=this.destinationAttribute.substr(0,this.destinationAttribute.length-2),this._destinationIsRGBA=".g"===n):".z"===n||".b"===n?(r=!0,this._destinationElement=2,this.destinationAttribute=this.destinationAttribute.substr(0,this.destinationAttribute.length-2),this._destinationIsRGBA=".b"===n):".w"===n||".a"===n?(r=!0,this._destinationElement=3,this.destinationAttribute=this.destinationAttribute.substr(0,this.destinationAttribute.length-2),this._destinationIsRGBA=".a"===n):this.destinationObject instanceof S.Tw2Vector4Parameter&&("v1"===this.destinationAttribute?(r=!0,this._destinationElement=0,this.destinationAttribute="value"):"v2"===this.destinationAttribute?(r=!0,this._destinationElement=1,this.destinationAttribute="value"):"v3"===this.destinationAttribute?(r=!0,this._destinationElement=2,this.destinationAttribute="value"):"v4"===this.destinationAttribute&&(r=!0,this._destinationElement=3,this.destinationAttribute="value"));var a=this.sourceObject[this.sourceAttribute],o=this.destinationObject[this.destinationAttribute];if(void 0===a)throw console.dir(this),new z({name:this.name,objectType:"source",property:this.sourceAttribute,object:a});if(void 0===o)throw console.dir(this),new z({name:this.name,objectType:"destination",property:this.destinationAttribute,object:this.destinationObject});var s,l=this._sourceIsArray=Object(E.isArrayLike)(a),u=this._destinationIsArray=Object(E.isArrayLike)(o),c=e;if(l===u&&typeof a==typeof o?l?t?s=r?c.CopyElementToElement:c.ReplicateElement:a.length<=o.length?s=c.CopyArray:16===a.length&&(s=c.ExtractPos):s=c.CopyValueToValue:l&&t&&Object(E.isNumber)(o)?s=c.CopyElementToValue:u&&Object(E.isNumber)(a)?s=r?c.CopyValueToElement:c.ReplicateValue:Object(E.isNumber)(a)&&Object(E.isBoolean)(o)?s=c.CopyFloatToBoolean:Object(E.isBoolean)(a)&&Object(E.isNumber)(o)&&(s=c.CopyBooleanToFloat),!s)throw new O({name:this.name});this._copyFunc=s}}CopyValue(e=this){this._copyFunc&&(this._copyFunc(this),"UpdateValues"in this.destinationObject?this.destinationObject.UpdateValues({controller:e}):"OnValueChanged"in this.destinationObject&&this.destinationObject.OnValueChanged({controller:e}))}GetDestinationTarget(){return this._copyFunc?this.constructor.GetAttribute(this.destinationObject,this.destinationAttribute,this._destinationElement,this._destinationIsRGBA):this.destinationAttribute}GetSourceTarget(){return this._copyFunc?this.constructor.GetAttribute(this.sourceObject,this.sourceAttribute,this._sourceElement,this._sourceIsRGBA):this.sourceAttribute}SetSource(e,t,r,i){var{object:n,attribute:a}=this.constructor.GetTargets(e,t,r,i);this.sourceObject=n,this.sourceAttribute=a,this._copyFunc=null}SetDestination(e,t,r,i){var{object:n,attribute:a}=this.constructor.GetTargets(e,t,r,i);this.destinationObject=n,this.destinationAttribute=a,this._copyFunc=null}static GetAttribute(e,t,r,i){if(e instanceof S.Tw2Vector4Parameter&&"value"===t)switch(r){case 0:return"v0";case 1:return"v1";case 2:return"v2";case 3:return"v4";default:return t}switch(r){case 0:return t+i?".r":".x";case 1:return t+i?".g":".y";case 2:return t+i?".b":".z";case 3:return t+i?".a":".w";default:return t}}static GetTargets(e,t,r,i){if(void 0!==r&&void 0===i&&(i=t.toUpperCase().includes("COLOR")),e instanceof S.Tw2Vector4Parameter&&"value"===t)switch(r){case 0:t="v0";break;case 1:t="v1";break;case 2:t="v2";break;case 3:t="v3"}else switch(r){case 0:t+=i?".r":".x";break;case 1:t+=i?".g":".y";break;case 2:t+=i?".b":".z";break;case 3:t+=i?".a":".w"}return{object:e,attribute:t}}static CopyValueToValue(e){e.destinationObject[e.destinationAttribute]=e.sourceObject[e.sourceAttribute]*e.scale+e.offset[0]}static CopyArray(e){for(var t=Math.min(e.destinationObject[e.destinationAttribute].length,e.sourceObject[e.sourceAttribute].length),r=0;r<t;++r)e.destinationObject[e.destinationAttribute][r]=e.sourceObject[e.sourceAttribute][r]*e.scale+e.offset[r]}static CopyElementToElement(e){e.destinationObject[e.destinationAttribute][e._destinationElement]=e.sourceObject[e.sourceAttribute][e._sourceElement]*e.scale+e.offset[0]}static ReplicateValue(e){for(var t=0;t<e.destinationObject[e.destinationAttribute].length;++t)e.destinationObject[e.destinationAttribute][t]=e.sourceObject[e.sourceAttribute]*e.scale+e.offset[t]}static ReplicateElement(e){for(var t=0;t<e.destinationObject[e.destinationAttribute].length;++t)e.destinationObject[e.destinationAttribute][t]=e.sourceObject[e.sourceAttribute][e._sourceElement]*e.scale+e.offset[t]}static ExtractPos(e){for(var t=0;t<e.destinationObject[e.destinationAttribute].length;++t)e.destinationObject[e.destinationAttribute][t]=e.sourceObject[e.sourceAttribute][t+12]*e.scale+e.offset[t]}static CopyElementToValue(e){e.destinationObject[e.destinationAttribute]=e.sourceObject[e.sourceAttribute][e._sourceElement]*e.scale+e.offset[0]}static CopyValueToElement(e){e.destinationObject[e.destinationAttribute][e._destinationElement]=e.sourceObject[e.sourceAttribute]*e.scale+e.offset[0]}static CopyFloatToBoolean(e){e.destinationObject[e.destinationAttribute]=0!==e.sourceObject[e.sourceAttribute]}static CopyBooleanToFloat(e){e.destinationObject[e.destinationAttribute]=e.sourceObject[e.sourceAttribute]?1:0}},h=j((d=w).prototype,"name",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),m=j(d.prototype,"destinationAttribute",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),b=j(d.prototype,"destinationObject",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),p=j(d.prototype,"offset",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return T.vec4.create()}}),v=j(d.prototype,"scale",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),g=j(d.prototype,"sourceAttribute",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),y=j(d.prototype,"sourceObject",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),f=d))||f);class z extends S.Tw2Error{constructor(e){super(e,"Error binding '%name=unknown%', %objectType%'s property is undefined (%property%)")}}class O extends S.Tw2Error{constructor(e){super(e,"Error binding '%name=unknown%', cannot identify binding type")}}class P extends S.Tw2Error{constructor(e){super(e,"Error binding '%name=unknown%', could not find '%object%' object reference")}}},"./curve/curve/Tw2Curve.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tw2CurveKey",(function(){return w})),r.d(t,"Tw2Curve",(function(){return E}));var i,n,a,o,s,l,u,c,f,d,h,m,b,p=r("./global/utils/index.js"),v=r("./global/math/index.js");function g(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function y(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var w=(i=p.meta.string,n=p.meta.float,l=class extends p.meta.Model{constructor(...e){super(...e),g(this,"name",o,this),g(this,"time",s,this)}},o=y((a=l).prototype,"name",[i],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),s=y(a.prototype,"time",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),a),E=(u=p.meta.string,c=p.meta.abstract,f=p.meta.abstract,b=m=class e extends p.meta.Model{constructor(...e){super(...e),g(this,"name",h,this)}Initialize(){this.Sort()}Sort(){}GetLength(){}UpdateValue(e){}static Compare(e,t){return e.time<t.time?-1:e.time>t.time?1:0}static Sort(t,r=t.keys){r&&r.length&&(r.sort(e.Compare),t.length=r[r.length-1].time)}static Sort2(t){if(t.keys&&t.keys.length){t.keys.sort(e.Compare);var r=t.keys[t.keys.length-1];if(r.time>t.length){var i=t.length,n=t.endValue,a=t.endTangent;t.length=r.time,t.endValue=r.value,t.endTangent=r.leftTangent,i>0&&(r.time=i,r.value=n,r.leftTangent=a)}}}static Sort3(e){e.sort((e,t)=>e.index<t.index?-1:e.index>t.index?1:0);for(var t=0,r=0;r<e.length;r++)e[r].index=r,r===e.length-1&&(t=e[r].time);return t}},m.inputDimension=null,m.outputDimension=null,m.valueProperty=null,m.curveType=null,m.Key=null,m.Interpolation=null,m.Extrapolation=null,m.Type={CURVE:1,CURVE2:2,CURVE3:3,CURVE_MAYA:4,CURVE_NO_KEYS:5,SEQUENCER:100,SEQUENCER2:101,EXPRESSION:200,ADAPTER:300},m.global={vec3_0:v.vec3.create(),vec4_0:v.vec4.create(),quat_0:v.quat.create(),quat_1:v.quat.create()},h=y((d=b).prototype,"name",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),y(d.prototype,"GetLength",[c],Object.getOwnPropertyDescriptor(d.prototype,"GetLength"),d.prototype),y(d.prototype,"UpdateValue",[f],Object.getOwnPropertyDescriptor(d.prototype,"UpdateValue"),d.prototype),d)},"./curve/curve/Tw2EventCurve.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tw2EventKey",(function(){return x})),r.d(t,"Tw2EventCurve",(function(){return M}));var i,n,a,o,s,l,u,c,f,d,h,m,b,p,v,g,y,w,E,T,S,_,j,R=r("./curve/curve/Tw2Curve.js"),z=r("./global/utils/index.js");function O(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function P(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var A={NONE:0,CYCLE:3},x=(i=z.meta.type("Tw2EventKey","TriEventKey"),n=z.meta.float,a=z.meta.ushort,i((c=class extends R.Tw2CurveKey{constructor(...e){super(...e),O(this,"time",l,this),O(this,"value",u,this)}},l=P((s=c).prototype,"time",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),u=P(s.prototype,"value",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),o=s))||o),M=(f=z.meta.type("Tw2EventCurve","TriEventCurve"),d=z.meta.string,h=z.meta.uint,m=z.meta.enums(A),b=z.meta.list("Tw2EventKey"),p=z.meta.ushort,v=z.meta.isPrivate,f((j=_=class e extends R.Tw2Curve{constructor(...e){super(...e),O(this,"name",w,this),O(this,"extrapolation",E,this),O(this,"keys",T,this),O(this,"value",S,this),this._time=0,this._currentKey=0,this._length=0}Sort(){this.keys.length&&(this.keys.sort(R.Tw2Curve.Compare),this._length=this.keys[this.keys.length-1].time)}GetLength(){return this._length}UpdateValue(t){if(this._length<=0)return this.value;var r=this._time;if(this._time=t,this._time<r&&(this._currentKey=0),this.extrapolation===e.Extrapolation.CYCLE){var i=this._time%this._length;i<r&&(this._currentKey=0),this._time=i}for(;this._currentKey<this.keys.length&&this._time>=this.keys[this._currentKey].time;)this.value=this.keys[this._currentKey].value,++this._currentKey}},_.dimension=1,_.outputDimension=1,_.valueProperty="value",_.curveType=R.Tw2Curve.Type.CURVE,_.Key=x,_.Extrapolation=A,w=P((y=j).prototype,"name",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),E=P(y.prototype,"extrapolation",[h,m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),T=P(y.prototype,"keys",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),S=P(y.prototype,"value",[p,v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),g=y))||g)},"./curve/curve/Tw2PerlinCurve.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tw2PerlinCurve",(function(){return A}));var i,n,a,o,s,l,u,c,f,d,h,m,b,p,v,g,y,w,E,T,S,_,j=r("./global/utils/index.js"),R=r("./global/math/index.js"),z=r("./curve/curve/Tw2Curve.js");function O(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function P(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var A=(i=j.meta.type("Tw2PerlinCurve","TriPerlinCurve"),n=j.meta.string,a=j.meta.float,o=j.meta.float,s=j.meta.uint,l=j.meta.float,u=j.meta.float,c=j.meta.float,f=j.meta.float,d=j.meta.isPrivate,i((_=S=class extends z.Tw2Curve{constructor(...e){super(...e),O(this,"name",b,this),O(this,"alpha",p,this),O(this,"beta",v,this),O(this,"N",g,this),O(this,"offset",y,this),O(this,"scale",w,this),O(this,"speed",E,this),O(this,"value",T,this)}Sort(){}GetLength(){return 0}UpdateValue(e){this.value=this.GetValueAt(e)}GetValueAt(e){return e-=this.offset,(R.noise.perlin1D(e*this.speed,this.alpha,this.beta,this.N)+1)/2*this.scale+this.offset}},S.outputDimension=1,S.valueProperty="value",S.curveType=z.Tw2Curve.Type.CURVE_NO_KEYS,b=P((m=_).prototype,"name",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),p=P(m.prototype,"alpha",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),v=P(m.prototype,"beta",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),g=P(m.prototype,"N",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),y=P(m.prototype,"offset",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),w=P(m.prototype,"scale",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),E=P(m.prototype,"speed",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),T=P(m.prototype,"value",[f,d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),h=m))||h)},"./curve/curve/index.js":function(e,t,r){"use strict";r.r(t);var i=r("./curve/curve/Tw2EventCurve.js");r.d(t,"Tw2EventKey",(function(){return i.Tw2EventKey})),r.d(t,"Tw2EventCurve",(function(){return i.Tw2EventCurve}));var n=r("./curve/curve/Tw2PerlinCurve.js");r.d(t,"Tw2PerlinCurve",(function(){return n.Tw2PerlinCurve}));var a=r("./curve/curve/Tw2Curve.js");r.d(t,"Tw2CurveKey",(function(){return a.Tw2CurveKey})),r.d(t,"Tw2Curve",(function(){return a.Tw2Curve}));var o=r("./curve/curve/legacy/index.js");r.d(t,"Tw2ColorKey",(function(){return o.Tw2ColorKey})),r.d(t,"Tw2ColorCurve",(function(){return o.Tw2ColorCurve})),r.d(t,"Tw2ColorKey2",(function(){return o.Tw2ColorKey2})),r.d(t,"Tw2ColorCurve2",(function(){return o.Tw2ColorCurve2})),r.d(t,"Tw2QuaternionKey2",(function(){return o.Tw2QuaternionKey2})),r.d(t,"Tw2QuaternionCurve",(function(){return o.Tw2QuaternionCurve})),r.d(t,"Tw2RandomConstantCurve",(function(){return o.Tw2RandomConstantCurve})),r.d(t,"Tw2Torque",(function(){return o.Tw2Torque})),r.d(t,"Tw2RigidOrientation",(function(){return o.Tw2RigidOrientation})),r.d(t,"Tw2QuaternionKey",(function(){return o.Tw2QuaternionKey})),r.d(t,"Tw2RotationCurve",(function(){return o.Tw2RotationCurve})),r.d(t,"Tw2ScalarKey",(function(){return o.Tw2ScalarKey})),r.d(t,"Tw2ScalarCurve",(function(){return o.Tw2ScalarCurve})),r.d(t,"Tw2ScalarKey2",(function(){return o.Tw2ScalarKey2})),r.d(t,"Tw2ScalarCurve2",(function(){return o.Tw2ScalarCurve2})),r.d(t,"Tw2SineCurve",(function(){return o.Tw2SineCurve})),r.d(t,"Tw2Vector2Key",(function(){return o.Tw2Vector2Key})),r.d(t,"Tw2Vector2Curve",(function(){return o.Tw2Vector2Curve})),r.d(t,"Tw2Vector3Key",(function(){return o.Tw2Vector3Key})),r.d(t,"Tw2Vector3Curve",(function(){return o.Tw2Vector3Curve})),r.d(t,"Tw2VectorKey",(function(){return o.Tw2VectorKey})),r.d(t,"Tw2VectorCurve",(function(){return o.Tw2VectorCurve}))},"./curve/curve/legacy/Tw2ColorCurve.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tw2ColorKey",(function(){return B})),r.d(t,"Tw2ColorCurve",(function(){return N}));var i,n,a,o,s,l,u,c,f,d,h,m,b,p,v,g,y,w,E,T,S,_,j,R,z,O,P,A,x,M=r("./global/utils/index.js"),C=r("./global/math/index.js"),D=r("./curve/curve/Tw2Curve.js");function I(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function L(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var F={NONE:0,CONSTANT:1,GRADIENT:2,CYCLE:3},G={NONE:0,CONSTANT:1,LINEAR:2},B=(i=M.meta.type("Tw2ColorKey"),n=M.meta.vector4,a=M.meta.vector4,o=M.meta.vector4,s=M.meta.enums(G),i((m=class extends D.Tw2CurveKey{constructor(...e){super(...e),I(this,"value",c,this),I(this,"left",f,this),I(this,"right",d,this),I(this,"interpolation",h,this)}},c=L((u=m).prototype,"value",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return C.vec4.create()}}),f=L(u.prototype,"left",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return C.vec4.create()}}),d=L(u.prototype,"right",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return C.vec4.create()}}),h=L(u.prototype,"interpolation",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),l=u))||l),N=(b=M.meta.type("Tw2ColorCurve"),p=M.meta.float,v=M.meta.vector4,g=M.meta.isPrivate,y=M.meta.enums(F),w=M.meta.list("Tw2ColorKey"),E=M.meta.float,T=M.meta.isPrivate,b((x=A=class extends D.Tw2Curve{constructor(...e){super(...e),I(this,"start",j,this),I(this,"value",R,this),I(this,"extrapolation",z,this),I(this,"keys",O,this),I(this,"length",P,this),this._currentKey=1}Sort(){D.Tw2Curve.Sort(this)}GetLength(){return this.length}UpdateValue(e){this.GetValueAt(e,this.value)}GetValueAt(e,t){if(0===this.length)return C.vec4.copy(t,this.value);var r=this.keys[0],i=this.keys[this.keys.length-1];if(e>=i.time)switch(this.extrapolation){case F.NONE:return C.vec4.copy(t,this.value);case F.CONSTANT:return C.vec4.copy(t,i.value);case F.GRADIENT:return C.vec4.scaleAndAdd(t,i.value,i.right,e-i.time);default:e%=i.time}else if(e<0||e<r.time)switch(this.extrapolation){case F.NONE:return C.vec4.copy(t,this.value);case F.GRADIENT:return C.vec4.scaleAndAdd(t,r.value,r.left,e*this.length-i.time);default:return C.vec4.copy(t,r.value)}for(var n=this.keys[this._currentKey],a=this.keys[this._currentKey-1];e>=n.time||e<a.time;)e<a.time&&(this._currentKey=0),this._currentKey++,n=this.keys[this._currentKey],a=this.keys[this._currentKey-1];var o=(e-a.time)/(n.time-a.time);switch(a.interpolation){case G.CONSTANT:return C.vec4.copy(t,a.value);default:return t[0]=a.value[0]*(1-o)+n.value[0]*o,t[1]=a.value[1]*(1-o)+n.value[1]*o,t[2]=a.value[2]*(1-o)+n.value[2]*o,t[3]=a.value[3]*(1-o)+n.value[3]*o,t}}},A.inputDimension=4,A.outputDimension=4,A.valueProperty="value",A.curveType=D.Tw2Curve.Type.CURVE,A.Key=B,A.Extrapolation=F,A.Interpolation=G,j=L((_=x).prototype,"start",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),R=L(_.prototype,"value",[v,g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return C.vec4.create()}}),z=L(_.prototype,"extrapolation",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),O=L(_.prototype,"keys",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),P=L(_.prototype,"length",[E,T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),S=_))||S)},"./curve/curve/legacy/Tw2ColorCurve2.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tw2ColorKey2",(function(){return $})),r.d(t,"Tw2ColorCurve2",(function(){return J}));var i,n,a,o,s,l,u,c,f,d,h,m,b,p,v,g,y,w,E,T,S,_,j,R,z,O,P,A,x,M,C,D,I,L,F,G,B,N,U,k,V,H,q,W=r("./global/utils/index.js"),Y=r("./global/math/index.js"),X=r("./curve/curve/Tw2Curve.js");function K(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function Q(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var Z={CONSTANT:0,LINEAR:1},$=(i=W.meta.type("Tw2ColorKey2"),n=W.meta.vector4,a=W.meta.vector4,o=W.meta.vector4,s=W.meta.enums(Z),i((m=class extends X.Tw2CurveKey{constructor(...e){super(...e),K(this,"value",c,this),K(this,"leftTangent",f,this),K(this,"rightTangent",d,this),K(this,"interpolation",h,this)}},c=Q((u=m).prototype,"value",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Y.vec4.create()}}),f=Q(u.prototype,"leftTangent",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Y.vec4.create()}}),d=Q(u.prototype,"rightTangent",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Y.vec4.create()}}),h=Q(u.prototype,"interpolation",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),l=u))||l),J=(b=W.meta.type("Tw2ColorCurve2"),p=W.meta.boolean,v=W.meta.boolean,g=W.meta.float,y=W.meta.float,w=W.meta.vector4,E=W.meta.vector4,T=W.meta.isPrivate,S=W.meta.vector4,_=W.meta.vector4,j=W.meta.vector4,R=W.meta.enums(Z),z=W.meta.list("Tw2ColorKey2"),O=W.meta.float,P=W.meta.isPrivate,b((q=H=class extends X.Tw2Curve{constructor(...e){super(...e),K(this,"cycle",M,this),K(this,"reversed",C,this),K(this,"timeOffset",D,this),K(this,"timeScale",I,this),K(this,"startValue",L,this),K(this,"currentValue",F,this),K(this,"endValue",G,this),K(this,"startTangent",B,this),K(this,"endTangent",N,this),K(this,"interpolation",U,this),K(this,"keys",k,this),K(this,"length",V,this)}Sort(){X.Tw2Curve.Sort2(this)}GetLength(){return this.length}UpdateValue(e){this.GetValueAt(e,this.currentValue)}GetValueAt(e,t){if(e=e/this.timeScale+this.timeOffset,this.length<=0||e<=0)return Y.vec4.copy(t,this.startValue);if(e>this.length){if(!this.cycle)return this.reversed?Y.vec4.copy(t,this.startValue):Y.vec4.copy(t,this.endValue);e%=this.length}if(this.reversed&&(e=this.length-e),0===this.keys.length)return this.Interpolate(e,null,null,t);var r=this.keys[0],i=this.keys[this.keys.length-1];if(e<=r.time)return this.Interpolate(e,null,r,t);if(e>=i.time)return this.Interpolate(e,i,null,t);for(var n=0;n+1<this.keys.length&&(r=this.keys[n],i=this.keys[n+1],!(r.time<=e&&i.time>e));++n);return this.Interpolate(e,r,i,t)}Interpolate(e,t,r,i){Y.vec4.copy(i,this.startValue);var n=this.startValue,a=this.endValue,o=this.interpolation,s=this.length;switch(null!==t&&(o=t.interpolation,e-=t.time),o){case Z.LINEAR:return t&&r?(n=t.value,a=r.value,s=r.time-t.time):r?(a=r.value,s=r.time):t&&(n=t.value,s=this.length-t.time),i[0]=n[0]+(a[0]-n[0])*(e/s),i[1]=n[1]+(a[1]-n[1])*(e/s),i[2]=n[2]+(a[2]-n[2])*(e/s),i[3]=n[3]+(a[3]-n[3])*(e/s),i;default:return i}}},H.inputDimension=4,H.outputDimension=4,H.valueProperty="currentValue",H.curveType=X.Tw2Curve.Type.CURVE2,H.Key=$,H.Interpolation=Z,M=Q((x=q).prototype,"cycle",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),C=Q(x.prototype,"reversed",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),D=Q(x.prototype,"timeOffset",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),I=Q(x.prototype,"timeScale",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),L=Q(x.prototype,"startValue",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Y.vec4.fromValues(0,0,0,1)}}),F=Q(x.prototype,"currentValue",[E,T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Y.vec4.fromValues(0,0,0,1)}}),G=Q(x.prototype,"endValue",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Y.vec4.fromValues(0,0,0,1)}}),B=Q(x.prototype,"startTangent",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Y.vec4.create()}}),N=Q(x.prototype,"endTangent",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Y.vec4.create()}}),U=Q(x.prototype,"interpolation",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),k=Q(x.prototype,"keys",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),V=Q(x.prototype,"length",[O,P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),A=x))||A)},"./curve/curve/legacy/Tw2QuaternionCurve.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tw2QuaternionKey2",(function(){return $})),r.d(t,"Tw2QuaternionCurve",(function(){return J}));var i,n,a,o,s,l,u,c,f,d,h,m,b,p,v,g,y,w,E,T,S,_,j,R,z,O,P,A,x,M,C,D,I,L,F,G,B,N,U,k,V,H,q,W=r("./global/utils/index.js"),Y=r("./global/math/index.js"),X=r("./curve/curve/Tw2Curve.js");function K(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function Q(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var Z={CONSTANT:0,SPHERICAL_LINEAR:4},$=(i=W.meta.type("Tw2QuaternionKey2"),n=W.meta.quaternion,a=W.meta.vector4,o=W.meta.vector4,s=W.meta.enums(Z),i((m=class extends X.Tw2CurveKey{constructor(...e){super(...e),K(this,"value",c,this),K(this,"leftTangent",f,this),K(this,"rightTangent",d,this),K(this,"interpolation",h,this)}},c=Q((u=m).prototype,"value",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Y.quat.create()}}),f=Q(u.prototype,"leftTangent",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Y.vec4.create()}}),d=Q(u.prototype,"rightTangent",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Y.vec4.create()}}),h=Q(u.prototype,"interpolation",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),l=u))||l),J=(b=W.meta.type("Tw2QuaternionCurve"),p=W.meta.boolean,v=W.meta.boolean,g=W.meta.float,y=W.meta.float,w=W.meta.quaternion,E=W.meta.quaternion,T=W.meta.isPrivate,S=W.meta.quaternion,_=W.meta.vector4,j=W.meta.vector4,R=W.meta.enums(Z),z=W.meta.list("Tw2QuaternionKey"),O=W.meta.float,P=W.meta.isPrivate,b((q=H=class extends X.Tw2Curve{constructor(...e){super(...e),K(this,"cycle",M,this),K(this,"reversed",C,this),K(this,"timeOffset",D,this),K(this,"timeScale",I,this),K(this,"startValue",L,this),K(this,"currentValue",F,this),K(this,"endValue",G,this),K(this,"startTangent",B,this),K(this,"endTangent",N,this),K(this,"interpolation",U,this),K(this,"keys",k,this),K(this,"length",V,this)}Sort(){X.Tw2Curve.Sort2(this)}GetLength(){return this.length}UpdateValue(e){this.GetValueAt(e,this.currentValue)}GetValueAt(e,t){if(e=e/this.timeScale+this.timeOffset,this.length<=0||e<=0)return t[0]=this.startValue[0],t[1]=this.startValue[1],t[2]=this.startValue[2],t;if(e>this.length){if(!this.cycle)return this.reversed?(t[0]=this.startValue[0],t[1]=this.startValue[1],t[2]=this.startValue[2],t):(t[0]=this.endValue[0],t[1]=this.endValue[1],t[2]=this.endValue[2],t);e%=this.length}if(this.reversed&&(e=this.length-e),0===this.keys.length)return this.Interpolate(e,null,null,t);var r=this.keys[0],i=this.keys[this.keys.length-1];if(e<=r.time)return this.Interpolate(e,null,r,t);if(e>=i.time)return this.Interpolate(e,i,null,t);for(var n=0;n+1<this.keys.length&&(r=this.keys[n],i=this.keys[n+1],!(r.time<=e&&i.time>e));++n);return this.Interpolate(e,r,i,t)}Interpolate(e,t,r,i){i[0]=this.startValue[0],i[1]=this.startValue[1],i[2]=this.startValue[2];var n=this.startValue,a=this.endValue,o=this.interpolation,s=this.length;switch(null!==t&&(o=t.interpolation,e-=t.time),o){case Z.SPHERICAL_LINEAR:return t&&r?(n=t.value,a=r.value,s=r.time-t.time):r?(a=r.value,s=r.time):t&&(n=t.value,s=this.length-t.time),Y.quat.slerp(i,n,a,e/s),i;default:return i}}},H.inputDimension=4,H.outputDimension=4,H.valueProperty="currentValue",H.curveType=X.Tw2Curve.Type.CURVE2,H.Key=$,H.Interpolation=Z,M=Q((x=q).prototype,"cycle",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),C=Q(x.prototype,"reversed",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),D=Q(x.prototype,"timeOffset",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),I=Q(x.prototype,"timeScale",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),L=Q(x.prototype,"startValue",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Y.quat.create()}}),F=Q(x.prototype,"currentValue",[E,T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Y.quat.create()}}),G=Q(x.prototype,"endValue",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Y.quat.create()}}),B=Q(x.prototype,"startTangent",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Y.vec4.create()}}),N=Q(x.prototype,"endTangent",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Y.vec4.create()}}),U=Q(x.prototype,"interpolation",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),k=Q(x.prototype,"keys",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),V=Q(x.prototype,"length",[O,P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),A=x))||A)},"./curve/curve/legacy/Tw2RandomConstantCurve.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tw2RandomConstantCurve",(function(){return E}));var i,n,a,o,s,l,u,c,f,d,h,m,b,p,v=r("./global/utils/index.js"),g=r("./curve/curve/Tw2Curve.js");function y(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function w(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var E=(i=v.meta.type("Tw2RandomConstantCurve"),n=v.meta.float,a=v.meta.isPrivate,o=v.meta.float,s=v.meta.float,l=v.meta.boolean,i((p=b=class extends g.Tw2Curve{constructor(...e){super(...e),y(this,"value",f,this),y(this,"min",d,this),y(this,"max",h,this),y(this,"hold",m,this)}Sort(){}GetLength(){return 0}UpdateValue(){this.value=this.GetValueAt()}GetValueAt(){return this.hold?this.value:this.min+(this.max-this.min)*Math.random()}},b.outputDimension=1,b.valueProperty="value",b.curveType=g.Tw2Curve.Type.CURVE_NO_KEYS,f=w((c=p).prototype,"value",[n,a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),d=w(c.prototype,"min",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),h=w(c.prototype,"max",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),m=w(c.prototype,"hold",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),u=c))||u)},"./curve/curve/legacy/Tw2RigidOrientation.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tw2Torque",(function(){return B})),r.d(t,"Tw2RigidOrientation",(function(){return N}));var i,n,a,o,s,l,u,c,f,d,h,m,b,p,v,g,y,w,E,T,S,_,j,R,z,O,P,A,x,M,C,D=r("./global/utils/index.js"),I=r("./global/math/index.js"),L=r("./curve/curve/Tw2Curve.js");function F(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function G(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var B=(i=D.meta.type("Tw2Torque"),n=D.meta.quaternion,a=D.meta.vector4,o=D.meta.vector4,i((d=class extends L.Tw2CurveKey{constructor(...e){super(...e),F(this,"rot0",u,this),F(this,"omega0",c,this),F(this,"torque",f,this)}},u=G((l=d).prototype,"rot0",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return I.quat.create()}}),c=G(l.prototype,"omega0",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return I.vec3.create()}}),f=G(l.prototype,"torque",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return I.vec3.create()}}),s=l))||s),N=(h=D.meta.type("Tw2RigidOrientation"),m=D.meta.string,b=D.meta.float,p=D.meta.float,v=D.meta.quaternion,g=D.meta.isPrivate,y=D.meta.float,w=D.meta.list("Tw2Torque"),E=D.meta.float,T=D.meta.isPrivate,h((C=M=class extends L.Tw2Curve{constructor(...e){super(...e),F(this,"name",j,this),F(this,"I",R,this),F(this,"drag",z,this),F(this,"value",O,this),F(this,"start",P,this),F(this,"states",A,this),F(this,"length",x,this)}Sort(){L.Tw2Curve.Sort(this,this.states)}GetLength(){return this.length}UpdateValue(e){this.GetValueAt(e,this.value)}GetValueAt(e,t){if(0===this.states.length||e<0||e<this.states[0].time)return I.quat.copy(t,this.value);var r=0;if(e>=this.states[this.states.length-1].time)r=this.states.length-1;else for(;r+1<this.states.length&&!(e>=this.states[r].time&&e<this.states[r+1].time);++r);var i=L.Tw2Curve.global.vec3_0,n=L.Tw2Curve.global.quat_0,a=this.states[r];return I.vec3.exponentialDecay(i,a.omega0,a.torque,this.I,this.drag,e-a.time),I.quat.exp(n,i),I.quat.multiply(t,this.states[r].rot0,n),t}},M.inputDimension=4,M.outputDimension=4,M.valueProperty="value",M.curveType=L.Tw2Curve.Type.CURVE,M.Key=B,j=G((_=C).prototype,"name",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),R=G(_.prototype,"I",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),z=G(_.prototype,"drag",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),O=G(_.prototype,"value",[v,g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return I.quat.create()}}),P=G(_.prototype,"start",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),A=G(_.prototype,"states",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),x=G(_.prototype,"length",[E,T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),S=_))||S)},"./curve/curve/legacy/Tw2RotationCurve.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tw2QuaternionKey",(function(){return N})),r.d(t,"Tw2RotationCurve",(function(){return U}));var i,n,a,o,s,l,u,c,f,d,h,m,b,p,v,g,y,w,E,T,S,_,j,R,z,O,P,A,x,M,C=r("./global/utils/index.js"),D=r("./global/math/index.js"),I=r("./curve/curve/Tw2Curve.js");function L(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function F(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var G={NONE:0,CONSTANT:1,GRADIENT:2,CYCLE:3},B={NONE:0,CONSTANT:1,LINEAR:2,HERMITE:3,SLERP:5,SQUAD:6},N=(i=C.meta.type("Tw2QuaternionKey"),n=C.meta.quaternion,a=C.meta.isPrivate,o=C.meta.vector4,s=C.meta.vector4,l=C.meta.enums(B),i((b=class extends I.Tw2CurveKey{constructor(...e){super(...e),L(this,"value",f,this),L(this,"left",d,this),L(this,"right",h,this),L(this,"interpolation",m,this)}},f=F((c=b).prototype,"value",[n,a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return D.quat.create()}}),d=F(c.prototype,"left",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return D.vec4.create()}}),h=F(c.prototype,"right",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return D.vec4.create()}}),m=F(c.prototype,"interpolation",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 5}}),u=c))||u),U=(p=C.meta.type("Tw2RotationCurve"),v=C.meta.float,g=C.meta.quaternion,y=C.meta.isPrivate,w=C.meta.enums(G),E=C.meta.list("Tw2QuaternionKey"),T=C.meta.float,S=C.meta.isPrivate,p((M=x=class e extends I.Tw2Curve{constructor(...e){super(...e),L(this,"start",R,this),L(this,"value",z,this),L(this,"extrapolation",O,this),L(this,"keys",P,this),L(this,"length",A,this),this._currentKey=1}Sort(){I.Tw2Curve.Sort(this)}GetLength(){return this.length}UpdateValue(e){this.GetValueAt(e,this.value)}GetValueAt(t,r){if(0===this.length)return D.quat.copy(r,this.value);var i=I.Tw2Curve.global,n=this.keys[0],a=this.keys[this.keys.length-1];if(t>=a.time)switch(this.extrapolation){case G.NONE:return D.quat.copy(r,this.value);case G.CONSTANT:return D.quat.copy(r,a.value);default:t%=a.time}else if(t<0||t<n.time)switch(this.extrapolation){case G.NONE:return D.quat.copy(r,this.value);default:return D.quat.copy(r,n.value)}for(var o=this.keys[this._currentKey],s=this.keys[this._currentKey-1];t>=o.time||t<s.time;)t<s.time&&(this._currentKey=0),this._currentKey++,o=this.keys[this._currentKey],s=this.keys[this._currentKey-1];var l=(t-s.time)/(o.time-s.time);switch(s.interpolation){case B.CONSTANT:return D.quat.copy(r,s.value);case e.Interpolation.LINEAR:return r[0]=s.value[0]*(1-l)+o.value[0]*l,r[1]=s.value[1]*(1-l)+o.value[1]*l,r[2]=s.value[2]*(1-l)+o.value[2]*l,r[3]=s.value[3]*(1-l)+o.value[3]*l,r;case B.HERMITE:for(var u=D.quat.identity(i.quat_0),c=[s.value,s.right,o.left,o.value],f=3;f>0;f--){var d=D.num.biCumulative(l,f);d>1&&D.quat.multiply(r,u,c[f]),r[0]=-c[f-1][0],r[1]=-c[f-1][1],r[2]=-c[f-1][2],r[3]=c[f-1][3],D.quat.multiply(r,r,c[f]),D.quat.pow(r,r,d),D.quat.multiply(u,u,r)}return D.quat.multiply(r,u,s.value);case e.Interpolation.SLERP:return D.quat.slerp(r,s.value,o.value,l);default:return D.quat.sqlerp(r,s.value,s.right,o.left,o.value,l)}}},x.outputDimension=4,x.inputDimension=4,x.valueProperty="value",x.curveType=I.Tw2Curve.Type.CURVE,x.Child=N,x.Extrapolation=G,x.Interpolation=B,R=F((j=M).prototype,"start",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),z=F(j.prototype,"value",[g,y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return D.quat.create()}}),O=F(j.prototype,"extrapolation",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),P=F(j.prototype,"keys",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),A=F(j.prototype,"length",[T,S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),_=j))||_)},"./curve/curve/legacy/Tw2ScalarCurve.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tw2ScalarKey",(function(){return k})),r.d(t,"Tw2ScalarCurve",(function(){return V}));var i,n,a,o,s,l,u,c,f,d,h,m,b,p,v,g,y,w,E,T,S,_,j,R,z,O,P,A,x,M,C,D,I,L=r("./global/utils/index.js"),F=r("./curve/curve/Tw2Curve.js");function G(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function B(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var N={NONE:0,CONSTANT:1,GRADIENT:2,CYCLE:3},U={NONE:0,CONSTANT:1,LINEAR:2,HERMITE:3,CATMULROM:4},k=(i=L.meta.type("Tw2ScalarKey"),n=L.meta.float,a=L.meta.float,o=L.meta.float,s=L.meta.enums(U),i((m=class extends F.Tw2CurveKey{constructor(...e){super(...e),G(this,"value",c,this),G(this,"left",f,this),G(this,"right",d,this),G(this,"interpolation",h,this)}},c=B((u=m).prototype,"value",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),f=B(u.prototype,"left",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),d=B(u.prototype,"right",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),h=B(u.prototype,"interpolation",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),l=u))||l),V=(b=L.meta.type("Tw2ScalarCurve"),p=L.meta.float,v=L.meta.float,g=L.meta.float,y=L.meta.float,w=L.meta.isPrivate,E=L.meta.enums(N),T=L.meta.list("Tw2ScalarKey"),S=L.meta.float,_=L.meta.isPrivate,b((I=D=class extends F.Tw2Curve{constructor(...e){super(...e),G(this,"start",z,this),G(this,"timeScale",O,this),G(this,"timeOffset",P,this),G(this,"value",A,this),G(this,"extrapolation",x,this),G(this,"keys",M,this),G(this,"length",C,this),this._currentKey=1}Sort(){F.Tw2Curve.Sort(this)}GetLength(){return this.length}UpdateValue(e){this.value=this.GetValueAt(e)}GetValueAt(e){if(e=e/this.timeScale-this.timeOffset,0===this.length)return this.value;var t=this.keys[0],r=this.keys[this.keys.length-1];if(e>=r.time)switch(this.extrapolation){case N.NONE:return this.value;case N.CONSTANT:return r.value;case N.GRADIENT:return r.value+(e-r.time)*r.right;default:e%=r.time}else if(e<0||e<t.time)switch(this.extrapolation){case N.NONE:return this.value;case N.GRADIENT:return t.value+(e*this.length-r.time)*t.left;default:return t.value}for(var i=this.keys[this._currentKey],n=this.keys[this._currentKey-1];e>=i.time||e<n.time;)e<n.time&&(this._currentKey=0),this._currentKey++,i=this.keys[this._currentKey],n=this.keys[this._currentKey-1];var a=(e-n.time)/(i.time-n.time);switch(n.interpolation){case U.CONSTANT:return n.value;case U.LINEAR:return n.value*(1-a)+i.value*a;case U.HERMITE:var o=-2*a*a*a+3*a*a,s=a*a*a-2*a*a+a,l=a*a*a-a*a;return(2*a*a*a-3*a*a+1)*n.value+o*i.value+s*n.right+l*i.left;default:var u=1+(Math.sqrt(n.value/i.value)-1)*Math.exp(-e/n.right);return u*u*i.value}}},D.inputDimension=1,D.outputDimension=1,D.valueProperty="value",D.curveType=F.Tw2Curve.Type.CURVE,D.Key=k,D.Extrapolation=N,D.Interpolation=U,z=B((R=I).prototype,"start",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),O=B(R.prototype,"timeScale",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),P=B(R.prototype,"timeOffset",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),A=B(R.prototype,"value",[y,w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),x=B(R.prototype,"extrapolation",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),M=B(R.prototype,"keys",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),C=B(R.prototype,"length",[S,_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),j=R))||j)},"./curve/curve/legacy/Tw2ScalarCurve2.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tw2ScalarKey2",(function(){return Z})),r.d(t,"Tw2ScalarCurve2",(function(){return $}));var i,n,a,o,s,l,u,c,f,d,h,m,b,p,v,g,y,w,E,T,S,_,j,R,z,O,P,A,x,M,C,D,I,L,F,G,B,N,U,k,V,H,q,W=r("./global/utils/index.js"),Y=r("./curve/curve/Tw2Curve.js");function X(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function K(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var Q={CONSTANT:0,LINEAR:1,HERMITE:2},Z=(i=W.meta.type("Tw2ScalarKey2"),n=W.meta.float,a=W.meta.float,o=W.meta.float,s=W.meta.enums(Q),i((m=class extends Y.Tw2CurveKey{constructor(...e){super(...e),X(this,"value",c,this),X(this,"leftTangent",f,this),X(this,"rightTangent",d,this),X(this,"interpolation",h,this)}},c=K((u=m).prototype,"value",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),f=K(u.prototype,"leftTangent",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),d=K(u.prototype,"rightTangent",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),h=K(u.prototype,"interpolation",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),l=u))||l),$=(b=W.meta.type("Tw2ScalarCurve2"),p=W.meta.boolean,v=W.meta.boolean,g=W.meta.float,y=W.meta.float,w=W.meta.float,E=W.meta.float,T=W.meta.isPrivate,S=W.meta.float,_=W.meta.float,j=W.meta.float,R=W.meta.enums(Q),z=W.meta.list("Tw2ScalarKey2"),O=W.meta.float,P=W.meta.isPrivate,b((q=H=class extends Y.Tw2Curve{constructor(...e){super(...e),X(this,"cycle",M,this),X(this,"reversed",C,this),X(this,"timeOffset",D,this),X(this,"timeScale",I,this),X(this,"startValue",L,this),X(this,"currentValue",F,this),X(this,"endValue",G,this),X(this,"startTangent",B,this),X(this,"endTangent",N,this),X(this,"interpolation",U,this),X(this,"keys",k,this),X(this,"length",V,this)}Sort(){Y.Tw2Curve.Sort2(this)}GetLength(){return this.length}UpdateValue(e){this.currentValue=this.GetValueAt(e)}GetValueAt(e){if(e=e/this.timeScale+this.timeOffset,this.length<=0||e<=0)return this.startValue;if(e>this.length){if(!this.cycle)return this.reversed?this.startValue:this.endValue;e%=this.length}if(this.reversed&&(e=this.length-e),0===this.keys.length)return this.Interpolate(e,null,null);var t=this.keys[0],r=this.keys[this.keys.length-1];if(e<=t.time)return this.Interpolate(e,null,t);if(e>=r.time)return this.Interpolate(e,r,null);for(var i=0;i+1<this.keys.length&&(t=this.keys[i],r=this.keys[i+1],!(t.time<=e&&r.time>e));++i);return this.Interpolate(e,t,r)}Interpolate(e,t,r){var i=this.startValue,n=this.endValue,a=this.interpolation,o=this.length;switch(null!==t&&(a=t.interpolation,e-=t.time),a){case Q.LINEAR:return t&&r?(i=t.value,n=r.value,o=r.time-t.time):r?(n=r.value,o=r.time):t&&(i=t.value,o=this.length-t.time),i+e/o*(n-i);case Q.HERMITE:var s=this.startTangent,l=this.endTangent;t&&r?(i=t.value,s=t.rightTangent,n=r.value,l=r.leftTangent,o=r.time-t.time):r?(n=r.value,l=r.leftTangent,o=r.time):t&&(i=t.value,s=t.rightTangent,o=this.length-t.time);var u=e/o,c=u*u,f=c*u,d=-2*f+3*c,h=f-c;return i*(1-d)+n*d+s*(u+h-c)+l*h;default:return this.startValue}}},H.inputDimension=1,H.outputDimension=1,H.valueProperty="currentValue",H.curveType=Y.Tw2Curve.Type.CURVE2,H.Key=Z,H.Interpolation=Q,M=K((x=q).prototype,"cycle",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),C=K(x.prototype,"reversed",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),D=K(x.prototype,"timeOffset",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),I=K(x.prototype,"timeScale",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),L=K(x.prototype,"startValue",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),F=K(x.prototype,"currentValue",[E,T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),G=K(x.prototype,"endValue",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),B=K(x.prototype,"startTangent",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),N=K(x.prototype,"endTangent",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),U=K(x.prototype,"interpolation",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),k=K(x.prototype,"keys",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),V=K(x.prototype,"length",[O,P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),A=x))||A)},"./curve/curve/legacy/Tw2SineCurve.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tw2SineCurve",(function(){return E}));var i,n,a,o,s,l,u,c,f,d,h,m,b,p,v=r("./global/utils/index.js"),g=r("./curve/curve/Tw2Curve.js");function y(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function w(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var E=(i=v.meta.type("Tw2SineCurve"),n=v.meta.float,a=v.meta.isPrivate,o=v.meta.float,s=v.meta.float,l=v.meta.float,i((p=b=class extends g.Tw2Curve{constructor(...e){super(...e),y(this,"value",f,this),y(this,"offset",d,this),y(this,"scale",h,this),y(this,"speed",m,this)}Sort(){}GetLength(){return 0}UpdateValue(e){this.value=this.GetValueAt(e)}GetValueAt(e){return Math.sin(e*Math.PI*2*this.speed)*this.scale+this.offset}},b.outputDimension=1,b.valueProperty="value",b.curveType=g.Tw2Curve.Type.CURVE_NO_KEYS,f=w((c=p).prototype,"value",[n,a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),d=w(c.prototype,"offset",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),h=w(c.prototype,"scale",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),m=w(c.prototype,"speed",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),u=c))||u)},"./curve/curve/legacy/Tw2Vector2Curve.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tw2Vector2Key",(function(){return $})),r.d(t,"Tw2Vector2Curve",(function(){return J}));var i,n,a,o,s,l,u,c,f,d,h,m,b,p,v,g,y,w,E,T,S,_,j,R,z,O,P,A,x,M,C,D,I,L,F,G,B,N,U,k,V,H,q,W=r("./global/utils/index.js"),Y=r("./global/math/index.js"),X=r("./curve/curve/Tw2Curve.js");function K(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function Q(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var Z={CONSTANT:0,LINEAR:1,HERMITE:2},$=(i=W.meta.type("Tw2Vector2Key"),n=W.meta.vector2,a=W.meta.vector2,o=W.meta.vector2,s=W.meta.enums(Z),i((m=class extends X.Tw2CurveKey{constructor(...e){super(...e),K(this,"value",c,this),K(this,"leftTangent",f,this),K(this,"rightTangent",d,this),K(this,"interpolation",h,this)}},c=Q((u=m).prototype,"value",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Y.vec2.create()}}),f=Q(u.prototype,"leftTangent",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Y.vec2.create()}}),d=Q(u.prototype,"rightTangent",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Y.vec2.create()}}),h=Q(u.prototype,"interpolation",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),l=u))||l),J=(b=W.meta.type("Tw2Vector2Curve"),p=W.meta.boolean,v=W.meta.boolean,g=W.meta.float,y=W.meta.float,w=W.meta.vector2,E=W.meta.vector2,T=W.meta.isPrivate,S=W.meta.vector2,_=W.meta.vector2,j=W.meta.vector2,R=W.meta.enums(Z),z=W.meta.list("Tw2Vector2Key"),O=W.meta.float,P=W.meta.isPrivate,b((q=H=class extends X.Tw2Curve{constructor(...e){super(...e),K(this,"cycle",M,this),K(this,"reversed",C,this),K(this,"timeOffset",D,this),K(this,"timeScale",I,this),K(this,"startValue",L,this),K(this,"currentValue",F,this),K(this,"endValue",G,this),K(this,"startTangent",B,this),K(this,"endTangent",N,this),K(this,"interpolation",U,this),K(this,"keys",k,this),K(this,"length",V,this)}Sort(){X.Tw2Curve.Sort2(this)}GetLength(){return this.length}UpdateValue(e){this.GetValueAt(e,this.currentValue)}GetValueAt(e,t){if(e=e/this.timeScale+this.timeOffset,this.length<=0||e<=0)return Y.vec2.copy(t,this.startValue);if(e>this.length){if(!this.cycle)return this.reversed?Y.vec2.copy(t,this.startValue):Y.vec2.copy(t,this.endValue);e%=this.length}if(this.reversed&&(e=this.length-e),0===this.keys.length)return this.Interpolate(e,null,null,t);var r=this.keys[0],i=this.keys[this.keys.length-1];if(e<=r.time)return this.Interpolate(e,null,r,t);if(e>=i.time)return this.Interpolate(e,i,null,t);for(var n=0;n+1<this.keys.length&&(r=this.keys[n],i=this.keys[n+1],!(r.time<=e&&i.time>e));++n);return this.Interpolate(e,r,i,t)}Interpolate(e,t,r,i){Y.vec2.copy(i,this.startValue);var n=this.startValue,a=this.endValue,o=this.interpolation,s=this.length;switch(null!==t&&(o=t.interpolation,e-=t.time),o){case Z.LINEAR:return t&&r?(n=t.value,a=r.value,s=r.time-t.time):r?(a=r.value,s=r.time):t&&(n=t.value,s=this.length-t.time),i[0]=n[0]+(a[0]-n[0])*(e/s),i[1]=n[1]+(a[1]-n[1])*(e/s),i;case Z.HERMITE:var l=this.startTangent,u=this.endTangent;t&&r?(n=t.value,l=t.rightTangent,a=r.value,u=r.leftTangent,s=r.time-t.time):r?(a=r.value,u=r.leftTangent,s=r.time):t&&(n=t.value,l=t.rightTangent,s=this.length-t.time);var c=e/s,f=c*c,d=f*c,h=-2*d+3*f,m=1-h,b=d-f,p=c+b-f;return i[0]=n[0]*m+a[0]*h+l[0]*p+u[0]*b,i[1]=n[1]*m+a[1]*h+l[1]*p+u[1]*b,i;default:return i}}},H.inputDimension=2,H.outputDimension=2,H.valueProperty="value",H.curveType=X.Tw2Curve.Type.CURVE2,H.Key=$,H.Interpolation=Z,M=Q((x=q).prototype,"cycle",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),C=Q(x.prototype,"reversed",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),D=Q(x.prototype,"timeOffset",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),I=Q(x.prototype,"timeScale",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),L=Q(x.prototype,"startValue",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Y.vec2.create()}}),F=Q(x.prototype,"currentValue",[E,T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Y.vec2.create()}}),G=Q(x.prototype,"endValue",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Y.vec2.create()}}),B=Q(x.prototype,"startTangent",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Y.vec2.create()}}),N=Q(x.prototype,"endTangent",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Y.vec2.create()}}),U=Q(x.prototype,"interpolation",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),k=Q(x.prototype,"keys",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),V=Q(x.prototype,"length",[O,P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),A=x))||A)},"./curve/curve/legacy/Tw2Vector3Curve.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tw2Vector3Key",(function(){return $})),r.d(t,"Tw2Vector3Curve",(function(){return J}));var i,n,a,o,s,l,u,c,f,d,h,m,b,p,v,g,y,w,E,T,S,_,j,R,z,O,P,A,x,M,C,D,I,L,F,G,B,N,U,k,V,H,q,W=r("./global/utils/index.js"),Y=r("./global/math/index.js"),X=r("./curve/curve/Tw2Curve.js");function K(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function Q(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var Z={CONSTANT:0,LINEAR:1,HERMITE:2},$=(i=W.meta.type("Tw2Vector3Key"),n=W.meta.vector3,a=W.meta.vector3,o=W.meta.vector3,s=W.meta.enums(Z),i((m=class extends X.Tw2CurveKey{constructor(...e){super(...e),K(this,"value",c,this),K(this,"leftTangent",f,this),K(this,"rightTangent",d,this),K(this,"interpolation",h,this)}},c=Q((u=m).prototype,"value",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Y.vec3.create()}}),f=Q(u.prototype,"leftTangent",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Y.vec3.create()}}),d=Q(u.prototype,"rightTangent",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Y.vec3.create()}}),h=Q(u.prototype,"interpolation",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),l=u))||l),J=(b=W.meta.type("Tw2Vector3Curve"),p=W.meta.boolean,v=W.meta.boolean,g=W.meta.float,y=W.meta.float,w=W.meta.vector3,E=W.meta.vector3,T=W.meta.isPrivate,S=W.meta.vector3,_=W.meta.vector3,j=W.meta.vector3,R=W.meta.enums(Z),z=W.meta.list("Tw2Vector3Key"),O=W.meta.float,P=W.meta.isPrivate,b((q=H=class extends X.Tw2Curve{constructor(...e){super(...e),K(this,"cycle",M,this),K(this,"reversed",C,this),K(this,"timeOffset",D,this),K(this,"timeScale",I,this),K(this,"startValue",L,this),K(this,"currentValue",F,this),K(this,"endValue",G,this),K(this,"startTangent",B,this),K(this,"endTangent",N,this),K(this,"interpolation",U,this),K(this,"keys",k,this),K(this,"length",V,this)}Sort(){X.Tw2Curve.Sort2(this)}GetLength(){return this.length}UpdateValue(e){this.GetValueAt(e,this.currentValue)}GetValueAt(e,t){if(e=e/this.timeScale+this.timeOffset,this.length<=0||e<=0)return Y.vec3.copy(t,this.startValue);if(e>this.length){if(!this.cycle)return this.reversed?Y.vec3.copy(t,this.startValue):Y.vec3.copy(t,this.endValue);e%=this.length}if(this.reversed&&(e=this.length-e),0===this.keys.length)return this.Interpolate(e,null,null,t);var r=this.keys[0],i=this.keys[this.keys.length-1];if(e<=r.time)return this.Interpolate(e,null,r,t);if(e>=i.time)return this.Interpolate(e,i,null,t);for(var n=0;n+1<this.keys.length&&(r=this.keys[n],i=this.keys[n+1],!(r.time<=e&&i.time>e));++n);return this.Interpolate(e,r,i,t)}Interpolate(e,t,r,i){Y.vec3.copy(i,this.startValue);var n=this.startValue,a=this.endValue,o=this.interpolation,s=this.length;switch(null!==t&&(o=t.interpolation,e-=t.time),o){case Z.LINEAR:return t&&r?(n=t.value,a=r.value,s=r.time-t.time):r?(a=r.value,s=r.time):t&&(n=t.value,s=this.length-t.time),i[0]=n[0]+(a[0]-n[0])*(e/s),i[1]=n[1]+(a[1]-n[1])*(e/s),i[2]=n[2]+(a[2]-n[2])*(e/s),i;case Z.HERMITE:var l=this.startTangent,u=this.endTangent;t&&r?(n=t.value,l=t.rightTangent,a=r.value,u=r.leftTangent,s=r.time-t.time):r?(a=r.value,u=r.leftTangent,s=r.time):t&&(n=t.value,l=t.rightTangent,s=this.length-t.time);var c=e/s,f=c*c,d=f*c,h=-2*d+3*f,m=1-h,b=d-f,p=c+b-f;return i[0]=n[0]*m+a[0]*h+l[0]*p+u[0]*b,i[1]=n[1]*m+a[1]*h+l[1]*p+u[1]*b,i[2]=n[2]*m+a[2]*h+l[2]*p+u[2]*b,i;default:return i}}},H.inputDimension=3,H.outputDimension=3,H.valueProperty="currentValue",H.curveType=X.Tw2Curve.Type.CURVE2,H.Key=$,H.Interpolation=Z,M=Q((x=q).prototype,"cycle",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),C=Q(x.prototype,"reversed",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),D=Q(x.prototype,"timeOffset",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),I=Q(x.prototype,"timeScale",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),L=Q(x.prototype,"startValue",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Y.vec3.create()}}),F=Q(x.prototype,"currentValue",[E,T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Y.vec3.create()}}),G=Q(x.prototype,"endValue",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Y.vec3.create()}}),B=Q(x.prototype,"startTangent",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Y.vec3.create()}}),N=Q(x.prototype,"endTangent",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Y.vec3.create()}}),U=Q(x.prototype,"interpolation",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),k=Q(x.prototype,"keys",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),V=Q(x.prototype,"length",[O,P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),A=x))||A)},"./curve/curve/legacy/Tw2VectorCurve.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tw2VectorKey",(function(){return B})),r.d(t,"Tw2VectorCurve",(function(){return N}));var i,n,a,o,s,l,u,c,f,d,h,m,b,p,v,g,y,w,E,T,S,_,j,R,z,O,P,A,x,M=r("./global/utils/index.js"),C=r("./global/math/index.js"),D=r("./curve/curve/Tw2Curve.js");function I(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function L(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var F={NONE:0,CONSTANT:1,GRADIENT:2,CYCLE:3},G={NONE:0,CONSTANT:1,LINEAR:2,HERMITE:3},B=(i=M.meta.type("Tw2VectorKey"),n=M.meta.vector3,a=M.meta.vector3,o=M.meta.vector3,s=M.meta.enums(G),i((m=class extends D.Tw2CurveKey{constructor(...e){super(...e),I(this,"value",c,this),I(this,"left",f,this),I(this,"right",d,this),I(this,"interpolation",h,this)}},c=L((u=m).prototype,"value",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return C.vec3.create()}}),f=L(u.prototype,"left",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return C.vec3.create()}}),d=L(u.prototype,"right",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return C.vec3.create()}}),h=L(u.prototype,"interpolation",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),l=u))||l),N=(b=M.meta.type("Tw2VectorCurve"),p=M.meta.float,v=M.meta.vector3,g=M.meta.isPrivate,y=M.meta.enums(F),w=M.meta.list(),E=M.meta.float,T=M.meta.isPrivate,b((x=A=class extends D.Tw2Curve{constructor(...e){super(...e),I(this,"start",j,this),I(this,"value",R,this),I(this,"extrapolation",z,this),I(this,"keys",O,this),I(this,"length",P,this),this._currentKey=1}Sort(){D.Tw2Curve.Sort(this)}GetLength(){return this.length}UpdateValue(e){this.GetValueAt(e,this.value)}GetValueAt(e,t){if(0===this.length)return C.vec3.copy(t,this.value);var r=this.keys[0],i=this.keys[this.keys.length-1];if(e>=i.time)switch(this.extrapolation){case F.NONE:return C.vec3.copy(t,this.value);case F.CONSTANT:return C.vec3.copy(t,i.value);case F.GRADIENT:return C.vec3.scaleAndAdd(t,i.value,i.right,e-i.time);default:e%=i.time}else if(e<0||e<r.time)switch(this.extrapolation){case F.NONE:return C.vec3.copy(t,this.value);case F.GRADIENT:return C.vec3.scaleAndAdd(t,r.value,r.left,e*this.length-i.time);default:return C.vec3.copy(t,r.value)}for(var n=this.keys[this._currentKey],a=this.keys[this._currentKey-1];e>=n.time||e<a.time;)e<a.time&&(this._currentKey=0),this._currentKey++,n=this.keys[this._currentKey],a=this.keys[this._currentKey-1];var o=(e-a.time)/(n.time-a.time);switch(a.interpolation){case G.CONSTANT:return C.vec3.copy(t,a.value);case G.LINEAR:return t[0]=a.value[0]*(1-o)+n.value[0]*o,t[1]=a.value[1]*(1-o)+n.value[1]*o,t[2]=a.value[2]*(1-o)+n.value[2]*o,t;case G.HERMITE:var s=2*o*o*o-3*o*o+1,l=-2*o*o*o+3*o*o,u=o*o*o-2*o*o+o,c=o*o*o-o*o;return t[0]=s*a.value[0]+l*n.value[0]+u*a.right[0]+c*n.left[0],t[1]=s*a.value[1]+l*n.value[1]+u*a.right[1]+c*n.left[1],t[2]=s*a.value[2]+l*n.value[2]+u*a.right[2]+c*n.left[2],t;default:return t}}},A.inputDimension=3,A.outputDimension=3,A.valueProperty="value",A.curveType=D.Tw2Curve.Type.CURVE,A.Key=B,A.Extrapolation=F,A.Interpolation=G,j=L((_=x).prototype,"start",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),R=L(_.prototype,"value",[v,g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return C.vec3.create()}}),z=L(_.prototype,"extrapolation",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),O=L(_.prototype,"keys",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),P=L(_.prototype,"length",[E,T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),S=_))||S)},"./curve/curve/legacy/index.js":function(e,t,r){"use strict";r.r(t);var i=r("./curve/curve/legacy/Tw2ColorCurve.js");r.d(t,"Tw2ColorKey",(function(){return i.Tw2ColorKey})),r.d(t,"Tw2ColorCurve",(function(){return i.Tw2ColorCurve}));var n=r("./curve/curve/legacy/Tw2ColorCurve2.js");r.d(t,"Tw2ColorKey2",(function(){return n.Tw2ColorKey2})),r.d(t,"Tw2ColorCurve2",(function(){return n.Tw2ColorCurve2}));var a=r("./curve/curve/legacy/Tw2QuaternionCurve.js");r.d(t,"Tw2QuaternionKey2",(function(){return a.Tw2QuaternionKey2})),r.d(t,"Tw2QuaternionCurve",(function(){return a.Tw2QuaternionCurve}));var o=r("./curve/curve/legacy/Tw2RandomConstantCurve.js");r.d(t,"Tw2RandomConstantCurve",(function(){return o.Tw2RandomConstantCurve}));var s=r("./curve/curve/legacy/Tw2RigidOrientation.js");r.d(t,"Tw2Torque",(function(){return s.Tw2Torque})),r.d(t,"Tw2RigidOrientation",(function(){return s.Tw2RigidOrientation}));var l=r("./curve/curve/legacy/Tw2RotationCurve.js");r.d(t,"Tw2QuaternionKey",(function(){return l.Tw2QuaternionKey})),r.d(t,"Tw2RotationCurve",(function(){return l.Tw2RotationCurve}));var u=r("./curve/curve/legacy/Tw2ScalarCurve.js");r.d(t,"Tw2ScalarKey",(function(){return u.Tw2ScalarKey})),r.d(t,"Tw2ScalarCurve",(function(){return u.Tw2ScalarCurve}));var c=r("./curve/curve/legacy/Tw2ScalarCurve2.js");r.d(t,"Tw2ScalarKey2",(function(){return c.Tw2ScalarKey2})),r.d(t,"Tw2ScalarCurve2",(function(){return c.Tw2ScalarCurve2}));var f=r("./curve/curve/legacy/Tw2SineCurve.js");r.d(t,"Tw2SineCurve",(function(){return f.Tw2SineCurve}));var d=r("./curve/curve/legacy/Tw2Vector2Curve.js");r.d(t,"Tw2Vector2Key",(function(){return d.Tw2Vector2Key})),r.d(t,"Tw2Vector2Curve",(function(){return d.Tw2Vector2Curve}));var h=r("./curve/curve/legacy/Tw2Vector3Curve.js");r.d(t,"Tw2Vector3Key",(function(){return h.Tw2Vector3Key})),r.d(t,"Tw2Vector3Curve",(function(){return h.Tw2Vector3Curve}));var m=r("./curve/curve/legacy/Tw2VectorCurve.js");r.d(t,"Tw2VectorKey",(function(){return m.Tw2VectorKey})),r.d(t,"Tw2VectorCurve",(function(){return m.Tw2VectorCurve}))},"./curve/index.js":function(e,t,r){"use strict";r.r(t);var i=r("./curve/Tw2CurveSet.js");r.d(t,"Tw2CurveSet",(function(){return i.Tw2CurveSet}));var n=r("./curve/Tw2ValueBinding.js");r.d(t,"Tw2ValueBinding",(function(){return n.Tw2ValueBinding})),r.d(t,"ErrBindingValueUndefined",(function(){return n.ErrBindingValueUndefined})),r.d(t,"ErrBindingType",(function(){return n.ErrBindingType})),r.d(t,"ErrBindingReference",(function(){return n.ErrBindingReference}));var a=r("./curve/curve/index.js");r.d(t,"Tw2EventKey",(function(){return a.Tw2EventKey})),r.d(t,"Tw2EventCurve",(function(){return a.Tw2EventCurve})),r.d(t,"Tw2PerlinCurve",(function(){return a.Tw2PerlinCurve})),r.d(t,"Tw2CurveKey",(function(){return a.Tw2CurveKey})),r.d(t,"Tw2Curve",(function(){return a.Tw2Curve})),r.d(t,"Tw2ColorKey",(function(){return a.Tw2ColorKey})),r.d(t,"Tw2ColorCurve",(function(){return a.Tw2ColorCurve})),r.d(t,"Tw2ColorKey2",(function(){return a.Tw2ColorKey2})),r.d(t,"Tw2ColorCurve2",(function(){return a.Tw2ColorCurve2})),r.d(t,"Tw2QuaternionKey2",(function(){return a.Tw2QuaternionKey2})),r.d(t,"Tw2QuaternionCurve",(function(){return a.Tw2QuaternionCurve})),r.d(t,"Tw2RandomConstantCurve",(function(){return a.Tw2RandomConstantCurve})),r.d(t,"Tw2Torque",(function(){return a.Tw2Torque})),r.d(t,"Tw2RigidOrientation",(function(){return a.Tw2RigidOrientation})),r.d(t,"Tw2QuaternionKey",(function(){return a.Tw2QuaternionKey})),r.d(t,"Tw2RotationCurve",(function(){return a.Tw2RotationCurve})),r.d(t,"Tw2ScalarKey",(function(){return a.Tw2ScalarKey})),r.d(t,"Tw2ScalarCurve",(function(){return a.Tw2ScalarCurve})),r.d(t,"Tw2ScalarKey2",(function(){return a.Tw2ScalarKey2})),r.d(t,"Tw2ScalarCurve2",(function(){return a.Tw2ScalarCurve2})),r.d(t,"Tw2SineCurve",(function(){return a.Tw2SineCurve})),r.d(t,"Tw2Vector2Key",(function(){return a.Tw2Vector2Key})),r.d(t,"Tw2Vector2Curve",(function(){return a.Tw2Vector2Curve})),r.d(t,"Tw2Vector3Key",(function(){return a.Tw2Vector3Key})),r.d(t,"Tw2Vector3Curve",(function(){return a.Tw2Vector3Curve})),r.d(t,"Tw2VectorKey",(function(){return a.Tw2VectorKey})),r.d(t,"Tw2VectorCurve",(function(){return a.Tw2VectorCurve}));var o=r("./curve/legacy/index.js");r.d(t,"Tw2WbgTrack",(function(){return o.Tw2WbgTrack})),r.d(t,"Tw2WbgTransformTrack",(function(){return o.Tw2WbgTransformTrack})),r.d(t,"Tw2TransformTrack",(function(){return o.Tw2TransformTrack})),r.d(t,"Tw2MayaEulerRotationCurve",(function(){return o.Tw2MayaEulerRotationCurve})),r.d(t,"Tw2MayaScalarCurve",(function(){return o.Tw2MayaScalarCurve})),r.d(t,"Tw2MayaVector3Curve",(function(){return o.Tw2MayaVector3Curve})),r.d(t,"Tw2MayaAnimationEngine",(function(){return o.Tw2MayaAnimationEngine}));var s=r("./curve/sequencer/index.js");r.d(t,"TriColorSequencer",(function(){return s.TriColorSequencer})),r.d(t,"Tw2CurveColor",(function(){return s.Tw2CurveColor})),r.d(t,"Tw2CurveEulerRotation",(function(){return s.Tw2CurveEulerRotation})),r.d(t,"Tw2CurveVector3",(function(){return s.Tw2CurveVector3})),r.d(t,"Tw2CurveSequencer",(function(){return s.Tw2CurveSequencer})),r.d(t,"Tw2ColorSequencer",(function(){return s.Tw2ColorSequencer})),r.d(t,"Tw2EulerRotation",(function(){return s.Tw2EulerRotation})),r.d(t,"Tw2QuaternionSequencer",(function(){return s.Tw2QuaternionSequencer})),r.d(t,"Tw2RGBAScalarSequencer",(function(){return s.Tw2RGBAScalarSequencer})),r.d(t,"Tw2ScalarSequencer",(function(){return s.Tw2ScalarSequencer})),r.d(t,"Tw2VectorSequencer",(function(){return s.Tw2VectorSequencer})),r.d(t,"Tw2XYZScalarSequencer",(function(){return s.Tw2XYZScalarSequencer})),r.d(t,"Tw2YPRSequencer",(function(){return s.Tw2YPRSequencer}))},"./curve/legacy/index.js":function(e,t,r){"use strict";r.r(t);var i=r("./curve/legacy/tracks/index.js");r.d(t,"Tw2WbgTrack",(function(){return i.Tw2WbgTrack})),r.d(t,"Tw2WbgTransformTrack",(function(){return i.Tw2WbgTransformTrack})),r.d(t,"Tw2TransformTrack",(function(){return i.Tw2TransformTrack}));var n=r("./curve/legacy/maya/index.js");r.d(t,"Tw2MayaEulerRotationCurve",(function(){return n.Tw2MayaEulerRotationCurve})),r.d(t,"Tw2MayaScalarCurve",(function(){return n.Tw2MayaScalarCurve})),r.d(t,"Tw2MayaVector3Curve",(function(){return n.Tw2MayaVector3Curve})),r.d(t,"Tw2MayaAnimationEngine",(function(){return n.Tw2MayaAnimationEngine}))},"./curve/legacy/maya/Tw2MayaAnimationEngine.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tw2MayaAnimationEngine",(function(){return E}));var i,n,a,o,s,l,u,c,f,d,h,m,b,p=r("./global/utils/index.js"),v=r("./global/math/index.js"),g=r("./core/index.js");function y(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function w(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var E=(i=p.meta.type("Tw2MayaAnimationEngine"),n=p.meta.list(),a=p.meta.list(),o=p.meta.list(),s=p.meta.readOnly,i((b=m=class e{constructor(){y(this,"curves",c,this),y(this,"hermiteSegments",f,this),y(this,"bezierSegments",d,this),y(this,"_id",h,this),this._currentCurveIndex=0,this._evalCache=null}Evaluate(t,r){if(this.curves.length<=t)return 0;if(this._currentCurveIndex=t,!this._evalCache){this._evalCache=new Array(this.curves.length);for(var i=0;i<this._evalCache.length;++i)this._evalCache[i]=-1}var n=this.curves[t],a=n[e.AnimCurveFields.SEGMENT_OFFSET],o=null;return r<(o=n[e.AnimCurveFields.IS_WEIGHTED]?this.bezierSegments:this.hermiteSegments)[a][e.AnimSegment.TIME]?n[e.AnimCurveFields.PRE_INFINITY]===e.INFINITY?o[a][e.AnimSegment.VALUE]:this._EvaluateInfinities(n,o,a,r,!0):r>n[e.AnimCurveFields.END_TIME]?n[e.AnimCurveFields.POST_INFINITY]===e.INFINITY?n[e.AnimCurveFields.END_VALUE]:this._EvaluateInfinities(n,o,a,r,!1):this._EvaluateImpl(n,o,a,r)}_EvaluateImpl(t,r,i,n){var a,o=!1,s=null,l=null;if(this._evalCache[this._currentCurveIndex]>=0)if(l=i+this._evalCache[this._currentCurveIndex],this._evalCache[this._currentCurveIndex]<t[e.AnimCurveFields.NUM_SEGMENTS-1]&&n>r[l][e.AnimSegment.TIME]){if(n===r[s=i+this._evalCache[this._currentCurveIndex]+1][e.AnimSegment.TIME])return this._evalCache[this._currentCurveIndex]++,r[s][e.AnimSegment.VALUE];n<r[s][e.AnimSegment.TIME]?(a=this._evalCache[this._currentCurveIndex]+1,o=!0):s=null}else if(this._evalCache[this._currentCurveIndex]>0&&n<r[l][e.AnimSegment.TIME]){var u=i+this._evalCache[this._currentCurveIndex]-1;if(n>r[u][e.AnimSegment.TIME])a=this._evalCache[this._currentCurveIndex],o=!0;else if(n===r[u][e.AnimSegment.TIME])return this._evalCache[this._currentCurveIndex]--,r[u][e.AnimSegment.VALUE]}if(!o){var c=this._Find(t,n,r,i);if(a=c[1],c[0]||0===a)return a===t[e.AnimCurveFields.NUM_SEGMENTS]?(a--,this._evalCache[this._currentCurveIndex]=a,t[e.AnimCurveFields.END_VALUE]):(this._evalCache[this._currentCurveIndex]=a,r[i+a][e.AnimSegment.VALUE]);if(a===t[e.AnimCurveFields.NUM_SEGMENTS]+1)return this._evalCache[this._currentCurveIndex]=0,t[e.AnimCurveFields.END_VALUE]}if(this._evalCache[this._currentCurveIndex]!==a-1&&(this._evalCache[this._currentCurveIndex]=a-1,l=i+this._evalCache[this._currentCurveIndex],null===s&&(s=i+a)),t[e.AnimCurveFields.IS_WEIGHTED]){var f=r[l];if(f[e.BezierSegment.IS_STEP])return f[e.BezierSegment.VALUE];if(f[e.BezierSegment.IS_STEP_NEXT])return null===s?t[e.AnimCurveFields.END_VALUE]:r[s][e.BezierSegment.VALUE];var d=t[e.AnimCurveFields.END_TIME];return this._evalCache[this._currentCurveIndex]+1<t[e.AnimCurveFields.NUM_SEGMENTS]&&(d=r[s][e.BezierSegment.TIME]),this._EvaluateBezier(f,n,d)}var h=r[l];return h[e.HermiteSegment.IS_STEP]?h[e.HermiteSegment.VALUE]:h[e.HermiteSegment.IS_STEP_NEXT]?null===s?t[e.AnimCurveFields.END_VALUE]:r[s][e.HermiteSegment.VALUE]:this._EvaluateHermite(h,n)}_EvaluateInfinities(e,t,r,i,n){throw new g.ErrFeatureNotImplemented({feature:"Maya animation engine evaluate infinities"})}_EvaluateHermite(t,r){var i=r-t[e.HermiteSegment.TIME],n=t[e.HermiteSegment.COEFF];return i*(i*(i*n[0]+n[1])+n[2])+n[3]}_EvaluateBezier(t,r,i){var n,a;if(a=(r-t[e.BezierSegment.TIME])/(i-t[e.BezierSegment.TIME]),t[e.BezierSegment.IS_LINEAR])n=a;else{var o=v.vec4.create();o[3]=t[e.BezierSegment.COEFF][3],o[2]=t[e.BezierSegment.COEFF][2],o[1]=t[e.BezierSegment.COEFF][1],o[0]=t[e.BezierSegment.COEFF][0]-a;var s=[];n=1===v.curve.polyZeroes(o,3,0,1,1,1,s)?s[0]:0}var l=t[e.BezierSegment.POLYY];return n*(n*(n*l[3]+l[2])+l[1])+l[0]}_Find(t,r,i,n){var a,o,s,l,u=0,c=0;if((a=t[e.AnimCurveFields.NUM_SEGMENTS]+1)>0){s=0,l=a-1;do{if(r<(c=(o=s+l>>1)<a-1?i[n+o][e.AnimSegment.TIME]:t[e.AnimCurveFields.END_TIME]))l=o-1;else{if(!(r>c))return[!0,u=o];s=o+1}}while(s<=l);u=s}return[!1,u]}GetNumberOfCurves(){return this.curves.length}GetLength(t){if(t<0||t>=this.curves.length)return 0;var r,i=this.curves[t];return r=i[e.AnimCurveFields.IS_WEIGHTED]?this.bezierSegments[i[e.AnimCurveFields.SEGMENT_OFFSET]]:this.hermiteSegments[i[e.AnimCurveFields.SEGMENT_OFFSET]],i[e.AnimCurveFields.END_TIME]-r[e.AnimSegment.TIME]}},m.AnimCurveFields={NUM_SEGMENTS:0,SEGMENT_OFFSET:1,END_TIME:2,END_VALUE:3,IN_TANGENT:4,OUT_TANGENT:5,PRE_INFINITY:6,POST_INFINITY:7,IS_WEIGHTED:8},m.AnimSegment={TIME:0,VALUE:1},m.HermiteSegment={TIME:0,VALUE:1,COEFF:2,IS_STEP:3,IS_STEP_NEXT:4},m.BezierSegment={TIME:0,VALUE:1,COEFF:2,POLYY:3,IS_STEP:4,IS_STEP_NEXT:5,IS_LINEAR:6},m.INFINITY=0,c=w((u=b).prototype,"curves",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),f=w(u.prototype,"hermiteSegments",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),d=w(u.prototype,"bezierSegments",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),h=w(u.prototype,"_id",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Object(p.generateID)()}}),l=u))||l)},"./curve/legacy/maya/Tw2MayaEulerRotationCurve.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tw2MayaEulerRotationCurve",(function(){return M}));var i,n,a,o,s,l,u,c,f,d,h,m,b,p,v,g,y,w,E,T,S,_,j,R,z=r("./global/utils/index.js"),O=r("./global/math/index.js"),P=r("./curve/index.js");function A(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function x(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var M=(i=z.meta.type("Tw2MayaEulerRotationCurve"),n=z.meta.float,a=z.meta.float,o=z.meta.float,s=z.meta.struct("Tw2MayaAnimationEngine"),l=z.meta.vector3,u=z.meta.isPrivate,c=z.meta.boolean,f=z.meta.quaternion,d=z.meta.isPrivate,h=z.meta.float,m=z.meta.isPrivate,i((R=j=class extends P.Tw2Curve{constructor(...e){super(...e),A(this,"xIndex",v,this),A(this,"yIndex",g,this),A(this,"zIndex",y,this),A(this,"animationEngine",w,this),A(this,"eulerValue",E,this),A(this,"updateQuaternion",T,this),A(this,"quatValue",S,this),A(this,"length",_,this)}Sort(){this.ComputeLength()}GetLength(){return this.length}UpdateValue(e){if(this.animationEngine&&(this.xIndex&&(this.eulerValue[0]=this.animationEngine.Evaluate(this.xIndex,e)),this.yIndex&&(this.yIndex===this.xIndex?this.eulerValue[1]=this.eulerValue[0]:this.eulerValue[1]=this.animationEngine.Evaluate(this.yIndex,e)),this.zIndex&&(this.zIndex===this.xIndex?this.eulerValue[2]=this.eulerValue[0]:this.eulerValue[2]=this.animationEngine.Evaluate(this.zIndex,e)),this.updateQuaternion)){var t=Math.sin(this.eulerValue[0]/2),r=Math.cos(this.eulerValue[0]/2),i=Math.sin(this.eulerValue[1]/2),n=Math.cos(this.eulerValue[1]/2),a=Math.sin(this.eulerValue[2]/2),o=Math.cos(this.eulerValue[2]/2);this.quatValue[0]=t*n*a+r*i*o,this.quatValue[1]=t*n*o-r*i*a,this.quatValue[2]=r*n*a-t*i*o,this.quatValue[3]=r*n*o+t*i*a}}ComputeLength(){this.animationEngine&&0!==this.animationEngine.GetNumberOfCurves()&&(this.length=0,this.xIndex>=0&&(this.length=this.animationEngine.GetLength(this.xIndex)),this.yIndex>=0&&(this.length=Math.max(this.length,this.animationEngine.GetLength(this.yIndex))),this.zIndex>=0&&(this.length=Math.max(this.length,this.animationEngine.GetLength(this.zIndex))))}},j.outputDimension=3,j.valueProperty="eulerValue",j.curveType=P.Tw2Curve.Type.CURVE_MAYA,v=x((p=R).prototype,"xIndex",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return-1}}),g=x(p.prototype,"yIndex",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return-1}}),y=x(p.prototype,"zIndex",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return-1}}),w=x(p.prototype,"animationEngine",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),E=x(p.prototype,"eulerValue",[l,u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return O.vec3.create()}}),T=x(p.prototype,"updateQuaternion",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),S=x(p.prototype,"quatValue",[f,d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return O.quat.create()}}),_=x(p.prototype,"length",[h,m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),b=p))||b)},"./curve/legacy/maya/Tw2MayaScalarCurve.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tw2MayaScalarCurve",(function(){return T}));var i,n,a,o,s,l,u,c,f,d,h,m,b,p,v,g=r("./global/utils/index.js"),y=r("./curve/index.js");function w(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function E(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var T=(i=g.meta.type("Tw2MayaScalarCurve"),n=g.meta.float,a=g.meta.struct("Tw2MayaAnimationEngine"),o=g.meta.float,s=g.meta.isPrivate,l=g.meta.float,u=g.meta.isPrivate,i((v=p=class extends y.Tw2Curve{constructor(...e){super(...e),w(this,"index",d,this),w(this,"animationEngine",h,this),w(this,"value",m,this),w(this,"length",b,this)}Sort(){this.ComputeLength()}GetLength(){return this.length}UpdateValue(e){this.animationEngine&&(this.value=this.animationEngine.Evaluate(this.index,e))}ComputeLength(){this.animationEngine&&0!==this.animationEngine.GetNumberOfCurves()&&this.index>=0&&(this.length=this.animationEngine.GetLength(this.index))}},p.outputDimension=1,p.valueProperty="value",p.curveType=y.Tw2Curve.Type.CURVE_MAYA,d=E((f=v).prototype,"index",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return-1}}),h=E(f.prototype,"animationEngine",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),m=E(f.prototype,"value",[o,s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),b=E(f.prototype,"length",[l,u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),c=f))||c)},"./curve/legacy/maya/Tw2MayaVector3Curve.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tw2MayaVector3Curve",(function(){return z}));var i,n,a,o,s,l,u,c,f,d,h,m,b,p,v,g,y,w,E,T=r("./global/utils/index.js"),S=r("./global/math/index.js"),_=r("./curve/index.js");function j(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function R(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var z=(i=T.meta.type("Tw2MayaVector3Curve"),n=T.meta.float,a=T.meta.float,o=T.meta.float,s=T.meta.struct("Tw2MayaAnimationEngine"),l=T.meta.vector3,u=T.meta.isPrivate,c=T.meta.float,f=T.meta.isPrivate,i((E=w=class extends _.Tw2Curve{constructor(...e){super(...e),j(this,"xIndex",m,this),j(this,"yIndex",b,this),j(this,"zIndex",p,this),j(this,"animationEngine",v,this),j(this,"value",g,this),j(this,"length",y,this)}Sort(){this.ComputeLength()}GetLength(){return this.length}UpdateValue(e){this.animationEngine&&(this.xIndex&&(this.value[0]=this.animationEngine.Evaluate(this.xIndex,e)),this.yIndex&&(this.yIndex===this.xIndex?this.value[1]=this.value[0]:this.value[1]=this.animationEngine.Evaluate(this.yIndex,e)),this.zIndex&&(this.zIndex===this.xIndex?this.value[2]=this.value[0]:this.value[2]=this.animationEngine.Evaluate(this.zIndex,e)))}ComputeLength(){this.animationEngine&&0!==this.animationEngine.GetNumberOfCurves()&&(this.length=0,this.xIndex>=0&&(this.length=this.animationEngine.GetLength(this.xIndex)),this.yIndex>=0&&(this.length=Math.max(this.length,this.animationEngine.GetLength(this.yIndex))),this.zIndex>=0&&(this.length=Math.max(this.length,this.animationEngine.GetLength(this.zIndex))))}},w.outputDimension=3,w.valueProperty="value",w.curveType=_.Tw2Curve.Type.CURVE_MAYA,m=R((h=E).prototype,"xIndex",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return-1}}),b=R(h.prototype,"yIndex",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return-1}}),p=R(h.prototype,"zIndex",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return-1}}),v=R(h.prototype,"animationEngine",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),g=R(h.prototype,"value",[l,u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return S.vec3.create()}}),y=R(h.prototype,"length",[c,f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),d=h))||d)},"./curve/legacy/maya/index.js":function(e,t,r){"use strict";r.r(t);var i=r("./curve/legacy/maya/Tw2MayaEulerRotationCurve.js");r.d(t,"Tw2MayaEulerRotationCurve",(function(){return i.Tw2MayaEulerRotationCurve}));var n=r("./curve/legacy/maya/Tw2MayaScalarCurve.js");r.d(t,"Tw2MayaScalarCurve",(function(){return n.Tw2MayaScalarCurve}));var a=r("./curve/legacy/maya/Tw2MayaVector3Curve.js");r.d(t,"Tw2MayaVector3Curve",(function(){return a.Tw2MayaVector3Curve}));var o=r("./curve/legacy/maya/Tw2MayaAnimationEngine.js");r.d(t,"Tw2MayaAnimationEngine",(function(){return o.Tw2MayaAnimationEngine}))},"./curve/legacy/tracks/Tw2TransformTrack.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tw2TransformTrack",(function(){return B}));var i,n,a,o,s,l,u,c,f,d,h,m,b,p,v,g,y,w,E,T,S,_,j,R,z,O,P,A,x,M,C,D=r("./global/utils/index.js"),I=r("./global/index.js"),L=r("./global/math/index.js");function F(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function G(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var B=(i=D.meta.type("Tw2TransformTrack"),n=D.meta.string,a=D.meta.path,o=D.meta.struct(),s=D.meta.string,l=D.meta.boolean,u=D.meta.float,c=D.meta.vector3,f=D.meta.quaternion,d=D.meta.vector3,h=D.meta.matrix4,m=D.meta.struct(),b=D.meta.struct(),p=D.meta.struct(),v=D.meta.readOnly,i((w=G((y=class{constructor(){F(this,"name",w,this),F(this,"resPath",E,this),F(this,"res",T,this),F(this,"group",S,this),F(this,"cycle",_,this),F(this,"duration",j,this),F(this,"translation",R,this),F(this,"rotation",z,this),F(this,"scale",O,this),F(this,"scaleShear",P,this),F(this,"positionCurve",A,this),F(this,"orientationCurve",x,this),F(this,"scaleCurve",M,this),F(this,"_id",C,this)}Initialize(){""!==this.resPath&&(this.res=I.resMan.GetResource(this.resPath))}GetLength(){return this.duration}UpdateValue(e){this.res&&this.res.IsGood()&&(this.positionCurve||this.FindTracks(),this.positionCurve&&(this.cycle&&(e%=this.duration),e>this.duration||e<0||(L.curve.evaluate(this.positionCurve,e,this.translation,this.cycle,this.duration),L.curve.evaluate(this.orientationCurve,e,this.rotation,this.cycle,this.duration),L.quat.normalize(this.rotation,this.rotation),L.curve.evaluate(this.scaleCurve,e,this.scaleShear,this.cycle,this.duration),L.mat4.getScaling(this.scale,this.scaleCurve))))}FindTracks(){for(var e=null,t=0;t<this.res.animations.length;++t)for(var r=0;r<this.res.animations[t].trackGroups.length;++r)if(this.res.animations[t].trackGroups[r].name===this.group){this.duration=this.res.animations[t].duration,e=this.res.animations[t].trackGroups[r];break}if(e)for(var i=0;i<e.transformTracks.length;++i)if(this.name===e.transformTracks[i].name){this.positionCurve=e.transformTracks[i].position,this.orientationCurve=e.transformTracks[i].orientation,this.scaleCurve=e.transformTracks[i].scaleShear;break}}}).prototype,"name",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),E=G(y.prototype,"resPath",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),T=G(y.prototype,"res",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),S=G(y.prototype,"group",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),_=G(y.prototype,"cycle",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),j=G(y.prototype,"duration",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),R=G(y.prototype,"translation",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return L.vec3.create()}}),z=G(y.prototype,"rotation",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return L.quat.create()}}),O=G(y.prototype,"scale",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return L.vec3.fromValues(0,0,0)}}),P=G(y.prototype,"scaleShear",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return L.mat4.create()}}),A=G(y.prototype,"positionCurve",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),x=G(y.prototype,"orientationCurve",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),M=G(y.prototype,"scaleCurve",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),C=G(y.prototype,"_id",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Object(D.generateID)()}}),g=y))||g)},"./curve/legacy/tracks/Tw2WbgTrack.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tw2WbgTrack",(function(){return o})),r.d(t,"Tw2WbgTransformTrack",(function(){return s}));var i=r("./global/utils/index.js"),n=r("./global/index.js"),a=r("./global/math/index.js");function o(){this.name="",this.geometryResPath="",this.geometryRes=null,this.group="",this.duration=0,this.cycle=!1,this._id=Object(i.generateID)(),this.Initialize=function(){this.geometryResPath&&(this.geometryRes=n.resMan.GetResource(this.geometryResPath,e=>function(e){if(e.name&&e.group&&e.geometryRes)for(var t=0;t<e.geometryRes.animations.length;++t)for(var r=e.geometryRes.animations[t],i=0;i<r.trackGroups.length;++i)r.trackGroups[i].name===e.group&&e._ApplyTracks(r.trackGroups[i],r.duration)}(this)))},this.UpdateValue=function(e){this._TracksReady()&&(this.cycle&&(e%=this.duration),e<=this.duration&&e>=0&&this._UpdateValue(e))}}function s(){this._id=Object(i.generateID)(),this.translation=a.vec3.create(),this.rotation=a.quat.create(),this.rotation[3]=1,this.scale=a.vec3.create();var e=null,t=null,r=null,n=a.mat4.create();this._TracksReady=function(){return e||t||r},this._ApplyTracks=function(i,n){for(var a=0;a<i.transformTracks.length;++a){var o=i.transformTracks[a];o.name===this.name&&(this.duration=n,e=o.position,t=o.orientation,r=o.scaleShear)}this.UpdateValue(0)},this._UpdateValue=function(i){e&&a.curve.evaluate(e,i,this.translation,this.cycle,this.duration),t&&(a.curve.evaluate(t,i,this.rotation,this.cycle,this.duration),a.quat.normalize(this.rotation,this.rotation)),r&&a.curve.evaluate(r,i,n,this.cycle,this.duration),this.scale[0]=n[0],this.scale[1]=n[5],this.scale[2]=n[10]}}Object(i.defineMetadata)("type","Tw2WbgTrack",o),s.prototype=new o,Object(i.defineMetadata)("type","Tw2WbgTransformTrack",s)},"./curve/legacy/tracks/index.js":function(e,t,r){"use strict";r.r(t);var i=r("./curve/legacy/tracks/Tw2WbgTrack.js");r.d(t,"Tw2WbgTrack",(function(){return i.Tw2WbgTrack})),r.d(t,"Tw2WbgTransformTrack",(function(){return i.Tw2WbgTransformTrack}));var n=r("./curve/legacy/tracks/Tw2TransformTrack.js");r.d(t,"Tw2TransformTrack",(function(){return n.Tw2TransformTrack}))},"./curve/sequencer/TriColorSequencer.js":function(e,t,r){"use strict";r.r(t),r.d(t,"TriColorSequencer",(function(){return T}));var i,n,a,o,s,l,u,c,f,d,h,m,b,p,v=r("./global/utils/index.js"),g=r("./global/math/index.js"),y=r("./curve/sequencer/Tw2CurveSequencer.js");function w(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function E(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var T=(i=v.meta.type("TriColorSequencer"),n=v.meta.todo("Make backwards compatible with old Tw2ColorSequencer"),a=v.meta.stage(2),o=v.meta.string,s=v.meta.list("Tr2CurveScalar"),l=v.meta.vector4,u=v.meta.isPrivate,i(c=n(c=a((p=b=class extends y.Tw2CurveSequencer{constructor(...e){super(...e),w(this,"name",d,this),w(this,"functions",h,this),w(this,"value",m,this)}Sort(){y.Tw2CurveSequencer.Sort(this)}GetLength(){return y.Tw2CurveSequencer.GetLengthFromKeys(this)}UpdateValue(e){this.GetValueAt(e,this.value)}GetValueAt(e,t){var r=y.Tw2CurveSequencer.global.vec4_0;g.vec4.set(r,0,0,0,0);for(var i=0;i<this.functions.length;i++)this.functions[i].GetValueAt(e,t),g.vec4.add(t,t,r);return t}},b.inputDimension=4,b.outputDimension=4,b.valueProperty="value",b.curveType=y.Tw2CurveSequencer.Type.SEQUENCER,b.childArray="functions",d=E((f=p).prototype,"name",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),h=E(f.prototype,"functions",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),m=E(f.prototype,"value",[l,u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return g.vec4.create()}}),c=f))||c)||c)||c)},"./curve/sequencer/Tw2CurveColor.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tw2CurveColor",(function(){return z}));var i,n,a,o,s,l,u,c,f,d,h,m,b,p,v,g,y,w,E,T=r("./global/utils/index.js"),S=r("./global/math/index.js"),_=r("./curve/sequencer/Tw2CurveSequencer.js");function j(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function R(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var z=(i=T.meta.type("Tw2CurveColor","Tr2CurveColor"),n=T.meta.stage(2),a=T.meta.string,o=T.meta.raw("Tr2CurveScalar"),s=T.meta.raw("Tr2CurveScalar"),l=T.meta.raw("Tr2CurveScalar"),u=T.meta.raw("Tr2CurveScalar"),c=T.meta.color,f=T.meta.isPrivate,i(d=n((E=w=class extends _.Tw2CurveSequencer{constructor(...e){super(...e),j(this,"name",m,this),j(this,"r",b,this),j(this,"g",p,this),j(this,"b",v,this),j(this,"a",g,this),j(this,"currentValue",y,this)}Sort(){_.Tw2CurveSequencer.Sort2(this)}GetLength(){return _.Tw2CurveSequencer.GetLengthFromProperties(this)}UpdateValue(e){this.GetValueAt(e,this.currentValue)}GetValueAt(e,t){return t[0]=this.r?this.r.GetValueAt(e):0,t[1]=this.g?this.g.GetValueAt(e):0,t[2]=this.b?this.b.GetValueAt(e):0,t[3]=this.a?this.a.GetValueAt(e):0,t}},w.inputDimension=1,w.outputDimension=4,w.valueProperty="currentValue",w.curveType=_.Tw2CurveSequencer.Type.SEQUENCER,w.childProperties=["r","g","b","a"],m=R((h=E).prototype,"name",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),b=R(h.prototype,"r",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),p=R(h.prototype,"g",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),v=R(h.prototype,"b",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),g=R(h.prototype,"a",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),y=R(h.prototype,"currentValue",[c,f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return S.vec4.create()}}),d=h))||d)||d)},"./curve/sequencer/Tw2CurveEulerRotation.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tw2CurveEulerRotation",(function(){return j}));var i,n,a,o,s,l,u,c,f,d,h,m,b,p,v,g,y,w=r("./curve/sequencer/Tw2CurveSequencer.js"),E=r("./global/utils/index.js"),T=r("./global/math/index.js");function S(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function _(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var j=(i=E.meta.type("Tw2CurveEulerRotation","Tr2CurveEulerRotation"),n=E.meta.stage(2),a=E.meta.string,o=E.meta.raw("Tr2CurveScalar"),s=E.meta.raw("Tr2CurveScalar"),l=E.meta.raw("Tr2CurveScalar"),u=E.meta.quaternion,c=E.meta.isPrivate,i(f=n((y=g=class extends w.Tw2CurveSequencer{constructor(...e){super(...e),S(this,"name",h,this),S(this,"pitch",m,this),S(this,"roll",b,this),S(this,"yaw",p,this),S(this,"currentValue",v,this)}Sort(){w.Tw2CurveSequencer.Sort2(this)}GetLength(){return w.Tw2CurveSequencer.GetLengthFromProperties(this)}UpdateValue(e){this.GetValueAt(e,this.currentValue)}GetValueAt(e,t){var r=this.yaw?this.yaw.GetValueAt(e):0,i=this.pitch?this.pitch.GetValueAt(e):0,n=this.roll?this.roll.GetValueAt(e):0,a=Math.sin(r/2),o=Math.cos(r/2),s=Math.sin(i/2),l=Math.cos(i/2),u=Math.sin(n/2),c=Math.cos(n/2);return t[0]=a*l*u+o*s*c,t[1]=a*l*c-o*s*u,t[2]=o*l*u-a*s*c,t[3]=o*l*c+a*s*u,t}},g.inputDimension=1,g.outputDimension=4,g.valueProperty="currentValue",g.curveType=w.Tw2CurveSequencer.Type.SEQUENCER2,g.childProperties=["yaw","pitch","roll"],h=_((d=y).prototype,"name",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),m=_(d.prototype,"pitch",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),b=_(d.prototype,"roll",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),p=_(d.prototype,"yaw",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),v=_(d.prototype,"currentValue",[u,c],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return T.quat.create()}}),f=d))||f)||f)},"./curve/sequencer/Tw2CurveSequencer.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tw2CurveSequencer",(function(){return l}));var i,n,a,o=r("./global/utils/index.js"),s=r("./curve/curve/Tw2Curve.js"),l=o.meta.type("Tw2CurveSequencer")((a=n=class extends s.Tw2Curve{static Sort(e,t=e.constructor.childArray){var r=e[t];if(r&&r.length)for(var i=0;i<r.length;i++)r[i]&&"Sort"in r[i]&&r[i].Sort()}static Sort2(e,t=e.constructor.childProperties){if(t)for(var r=0;r<t.length;r++){var i=e[t[r]];i&&"Sort"in i&&i.Sort()}}static GetLengthFromKeys(e,t=e.constructor.childArray){for(var r=e[t],i=0,n=0;n<r.length;++n)"GetLength"in r[n]&&(i=Math.max(i,r[n].GetLength()));return i}static GetLengthFromProperties(e,t=e.constructor.childProperties){for(var r=0,i=0;i<t.length;i++){var n=e[t[i]];n&&"GetLength"in n&&(r=Math.max(r,n.GetLength()))}return r}},n.inputDimension=null,n.outputDimension=null,n.childProperties=null,n.childArray=null,n.Operator=null,i=a))||i},"./curve/sequencer/Tw2CurveVector3.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tw2CurveVector3",(function(){return j}));var i,n,a,o,s,l,u,c,f,d,h,m,b,p,v,g,y,w=r("./curve/sequencer/Tw2CurveSequencer.js"),E=r("./global/utils/index.js"),T=r("./global/math/index.js");function S(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function _(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var j=(i=E.meta.type("Tw2CurveVector3","Tr2CurveVector3"),n=E.meta.stage(2),a=E.meta.string,o=E.meta.raw("Tr2CurveScalar"),s=E.meta.raw("Tr2CurveScalar"),l=E.meta.raw("Tr2CurveScalar"),u=E.meta.vector3,c=E.meta.isPrivate,i(f=n((y=g=class extends w.Tw2CurveSequencer{constructor(...e){super(...e),S(this,"name",h,this),S(this,"x",m,this),S(this,"y",b,this),S(this,"z",p,this),S(this,"currentValue",v,this)}Sort(){w.Tw2CurveSequencer.Sort2(this)}GetLength(){return w.Tw2CurveSequencer.GetLengthFromProperties(this)}UpdateValue(e){this.GetValueAt(e,this.currentValue)}GetValueAt(e,t){return t[0]=this.x?this.x.GetValueAt(e):0,t[1]=this.y?this.y.GetValueAt(e):0,t[2]=this.z?this.z.GetValueAt(e):0,t}},g.inputDimension=1,g.outputDimension=3,g.valueProperty="currentValue",g.curveType=w.Tw2CurveSequencer.Type.SEQUENCER2,g.childProperties=["x","y","z"],h=_((d=y).prototype,"name",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),m=_(d.prototype,"x",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),b=_(d.prototype,"y",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),p=_(d.prototype,"z",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),v=_(d.prototype,"currentValue",[u,c],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return T.vec3.create()}}),f=d))||f)||f)},"./curve/sequencer/index.js":function(e,t,r){"use strict";r.r(t);var i=r("./curve/sequencer/TriColorSequencer.js");r.d(t,"TriColorSequencer",(function(){return i.TriColorSequencer}));var n=r("./curve/sequencer/Tw2CurveColor.js");r.d(t,"Tw2CurveColor",(function(){return n.Tw2CurveColor}));var a=r("./curve/sequencer/Tw2CurveEulerRotation.js");r.d(t,"Tw2CurveEulerRotation",(function(){return a.Tw2CurveEulerRotation}));var o=r("./curve/sequencer/Tw2CurveVector3.js");r.d(t,"Tw2CurveVector3",(function(){return o.Tw2CurveVector3}));var s=r("./curve/sequencer/Tw2CurveSequencer.js");r.d(t,"Tw2CurveSequencer",(function(){return s.Tw2CurveSequencer}));var l=r("./curve/sequencer/legacy/index.js");r.d(t,"Tw2ColorSequencer",(function(){return l.Tw2ColorSequencer})),r.d(t,"Tw2EulerRotation",(function(){return l.Tw2EulerRotation})),r.d(t,"Tw2QuaternionSequencer",(function(){return l.Tw2QuaternionSequencer})),r.d(t,"Tw2RGBAScalarSequencer",(function(){return l.Tw2RGBAScalarSequencer})),r.d(t,"Tw2ScalarSequencer",(function(){return l.Tw2ScalarSequencer})),r.d(t,"Tw2VectorSequencer",(function(){return l.Tw2VectorSequencer})),r.d(t,"Tw2XYZScalarSequencer",(function(){return l.Tw2XYZScalarSequencer})),r.d(t,"Tw2YPRSequencer",(function(){return l.Tw2YPRSequencer}))},"./curve/sequencer/legacy/Tw2ColorSequencer.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tw2ColorSequencer",(function(){return _}));var i,n,a,o,s,l,u,c,f,d,h,m,b,p,v,g=r("./global/utils/index.js"),y=r("./global/math/index.js"),w=r("./curve/sequencer/Tw2CurveSequencer.js");function E(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function T(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var S={MULTIPLY:0,ADD:1},_=(i=g.meta.type("Tw2ColorSequencer"),n=g.meta.string,a=g.meta.float,o=g.meta.vector4,s=g.meta.enums(S),l=g.meta.list("Tw2Curve"),i((v=p=class e extends w.Tw2CurveSequencer{constructor(...e){super(...e),E(this,"name",f,this),E(this,"start",d,this),E(this,"value",h,this),E(this,"operator",m,this),E(this,"functions",b,this)}Sort(){w.Tw2CurveSequencer.Sort(this)}GetLength(){return w.Tw2CurveSequencer.GetLengthFromKeys(this)}UpdateValue(e){this.GetValueAt(e,this.value)}GetValueAt(t,r){var i=w.Tw2CurveSequencer.global.vec4_0;switch(this.operator){case e.Operator.MULTIPLY:y.vec4.set(r,1,1,1,1);for(var n=0;n<this.functions.length;++n)this.functions[n].GetValueAt(t,i),y.vec4.multiply(r,r,i);break;default:y.vec4.set(r,0,0,0,0);for(var a=0;a<this.functions.length;++a)this.functions[a].GetValueAt(t,i),y.vec4.add(r,r,i)}return r}},p.inputDimension=4,p.outputDimension=4,p.valueProperty="value",p.curveType=w.Tw2CurveSequencer.Type.SEQUENCER,p.childArray="functions",p.Operator=S,f=T((c=v).prototype,"name",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),d=T(c.prototype,"start",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),h=T(c.prototype,"value",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return y.vec4.create()}}),m=T(c.prototype,"operator",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),b=T(c.prototype,"functions",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),u=c))||u)},"./curve/sequencer/legacy/Tw2EulerRotation.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tw2EulerRotation",(function(){return T}));var i,n,a,o,s,l,u,c,f,d,h,m,b,p,v=r("./global/utils/index.js"),g=r("./global/math/index.js"),y=r("./curve/sequencer/Tw2CurveSequencer.js");function w(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function E(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var T=(i=v.meta.type("Tw2EulerRotation"),n=v.meta.struct("Tw2Curve"),a=v.meta.struct("Tw2Curve"),o=v.meta.struct("Tw2Curve"),s=v.meta.quaternion,l=v.meta.isPrivate,i((p=b=class extends y.Tw2CurveSequencer{constructor(...e){super(...e),w(this,"yawCurve",f,this),w(this,"pitchCurve",d,this),w(this,"rollCurve",h,this),w(this,"currentValue",m,this)}Sort(){y.Tw2CurveSequencer.Sort2(this)}GetLength(){return y.Tw2CurveSequencer.GetLengthFromProperties(this)}UpdateValue(e){this.GetValueAt(e,this.currentValue)}GetValueAt(e,t){var r=this.yawCurve?this.yawCurve.GetValueAt(e):0,i=this.pitchCurve?this.pitchCurve.GetValueAt(e):0,n=this.rollCurve?this.rollCurve.GetValueAt(e):0,a=Math.sin(r/2),o=Math.cos(r/2),s=Math.sin(i/2),l=Math.cos(i/2),u=Math.sin(n/2),c=Math.cos(n/2);return t[0]=a*l*u+o*s*c,t[1]=a*l*c-o*s*u,t[2]=o*l*u-a*s*c,t[3]=o*l*c+a*s*u,t}},b.inputDimension=1,b.outputDimension=4,b.valueProperty="currentValue",b.curveType=y.Tw2CurveSequencer.Type.SEQUENCER2,b.childProperties=["yawCurve","pitchCurve","rollCurve"],f=E((c=p).prototype,"yawCurve",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),d=E(c.prototype,"pitchCurve",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),h=E(c.prototype,"rollCurve",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),m=E(c.prototype,"currentValue",[s,l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return g.quat.create()}}),u=c))||u)},"./curve/sequencer/legacy/Tw2QuaternionSequencer.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tw2QuaternionSequencer",(function(){return w}));var i,n,a,o,s,l,u,c,f,d,h,m,b=r("./global/utils/index.js"),p=r("./global/math/index.js"),v=r("./curve/sequencer/Tw2CurveSequencer.js");function g(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function y(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var w=(i=b.meta.type("Tw2QuaternionSequencer"),n=b.meta.float,a=b.meta.quaternion,o=b.meta.isPrivate,s=b.meta.list("Tw2Curve"),i((m=h=class extends v.Tw2CurveSequencer{constructor(...e){super(...e),g(this,"start",c,this),g(this,"value",f,this),g(this,"functions",d,this)}Sort(){v.Tw2CurveSequencer.Sort(this)}GetLength(){return v.Tw2CurveSequencer.GetLengthFromKeys(this)}UpdateValue(e){this.GetValueAt(e,this.value)}GetValueAt(e,t){p.quat.identity(t);for(var r=v.Tw2CurveSequencer.global.quat_0,i=0;i<this.functions.length;++i)this.functions[i].GetValueAt(e,r),p.quat.multiply(t,t,r);return t}},h.inputDimension=4,h.outputDimension=4,h.valueProperty="value",h.curveType=v.Tw2CurveSequencer.Type.SEQUENCER,h.childArray="functions",c=y((u=m).prototype,"start",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),f=y(u.prototype,"value",[a,o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return p.quat.create()}}),d=y(u.prototype,"functions",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),l=u))||l)},"./curve/sequencer/legacy/Tw2RGBAScalarSequencer.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tw2RGBAScalarSequencer",(function(){return _}));var i,n,a,o,s,l,u,c,f,d,h,m,b,p,v,g,y=r("./global/utils/index.js"),w=r("./global/math/index.js"),E=r("./curve/sequencer/Tw2CurveSequencer.js");function T(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function S(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var _=(i=y.meta.type("Tw2RGBAScalarSequencer"),n=y.meta.vector4,a=y.meta.isPrivate,o=y.meta.struct("Tw2Curve"),s=y.meta.struct("Tw2Curve"),l=y.meta.struct("Tw2Curve"),u=y.meta.struct("Tw2Curve"),i((g=v=class extends E.Tw2CurveSequencer{constructor(...e){super(...e),T(this,"value",d,this),T(this,"RedCurve",h,this),T(this,"GreenCurve",m,this),T(this,"BlueCurve",b,this),T(this,"AlphaCurve",p,this)}Sort(){E.Tw2CurveSequencer.Sort2(this)}GetLength(){return E.Tw2CurveSequencer.GetLengthFromProperties(this)}UpdateValue(e){this.GetValueAt(e,this.value)}GetValueAt(e,t){return t[0]=this.RedCurve?this.RedCurve.GetValueAt(e):0,t[1]=this.GreenCurve?this.GreenCurve.GetValueAt(e):0,t[2]=this.BlueCurve?this.BlueCurve.GetValueAt(e):0,t[3]=this.AlphaCurve?this.AlphaCurve.GetValueAt(e):0,t}},v.inputDimension=1,v.outputDimension=4,v.valueProperty="value",v.curveType=E.Tw2CurveSequencer.Type.SEQUENCER2,v.childProperties=["RedCurve","GreenCurve","BlueCurve","AlphaCurve"],d=S((f=g).prototype,"value",[n,a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return w.vec4.create()}}),h=S(f.prototype,"RedCurve",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),m=S(f.prototype,"GreenCurve",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),b=S(f.prototype,"BlueCurve",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),p=S(f.prototype,"AlphaCurve",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),c=f))||c)},"./curve/sequencer/legacy/Tw2ScalarSequencer.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tw2ScalarSequencer",(function(){return A}));var i,n,a,o,s,l,u,c,f,d,h,m,b,p,v,g,y,w,E,T,S,_,j=r("./global/utils/index.js"),R=r("./curve/sequencer/Tw2CurveSequencer.js");function z(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function O(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var P={MULTIPLY:0,ADD:1},A=(i=j.meta.type("Tw2ScalarSequencer"),n=j.meta.float,a=j.meta.isPrivate,o=j.meta.enums(P),s=j.meta.list("Tw2Curve"),l=j.meta.float,u=j.meta.float,c=j.meta.float,f=j.meta.float,d=j.meta.boolean,i((_=S=class e extends R.Tw2CurveSequencer{constructor(...e){super(...e),z(this,"value",b,this),z(this,"operator",p,this),z(this,"functions",v,this),z(this,"inMinClamp",g,this),z(this,"inMaxClamp",y,this),z(this,"outMinClamp",w,this),z(this,"outMaxClamp",E,this),z(this,"clamping",T,this)}Sort(){R.Tw2CurveSequencer.Sort(this)}GetLength(){return R.Tw2CurveSequencer.GetLengthFromKeys(this)}UpdateValue(e){this.value=this.GetValueAt(e)}GetValueAt(t){var r;switch(this.operator){case e.Operator.MULTIPLY:r=1;for(var i=0;i<this.functions.length;++i){var n=this.functions[i].GetValueAt(t);this.clamping&&(n=Math.min(Math.max(n,this.inMinClamp),this.inMaxClamp)),r*=n}break;default:r=0;for(var a=0;a<this.functions.length;++a){var o=this.functions[a].GetValueAt(t);this.clamping&&(o=Math.min(Math.max(o,this.inMinClamp),this.inMaxClamp)),r+=o}}return this.clamping&&(r=Math.min(Math.max(r,this.outMinClamp),this.outMaxClamp)),r}},S.inputDimension=1,S.outputDimension=1,S.valueProperty="value",S.curveType=R.Tw2CurveSequencer.Type.SEQUENCER,S.childArray="functions",S.Operator=P,b=O((m=_).prototype,"value",[n,a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),p=O(m.prototype,"operator",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),v=O(m.prototype,"functions",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),g=O(m.prototype,"inMinClamp",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),y=O(m.prototype,"inMaxClamp",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),w=O(m.prototype,"outMinClamp",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),E=O(m.prototype,"outMaxClamp",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),T=O(m.prototype,"clamping",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),h=m))||h)},"./curve/sequencer/legacy/Tw2VectorSequencer.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tw2VectorSequencer",(function(){return S}));var i,n,a,o,s,l,u,c,f,d,h,m,b,p,v=r("./global/utils/index.js"),g=r("./global/math/index.js"),y=r("./curve/sequencer/Tw2CurveSequencer.js");function w(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function E(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var T={MULTIPLY:0,ADD:1},S=(i=v.meta.type("Tw2VectorSequencer"),n=v.meta.float,a=v.meta.vector3,o=v.meta.isPrivate,s=v.meta.enums(T),l=v.meta.list("Tw2Curve"),i((p=b=class e extends y.Tw2CurveSequencer{constructor(...e){super(...e),w(this,"start",f,this),w(this,"value",d,this),w(this,"operator",h,this),w(this,"functions",m,this)}Sort(){y.Tw2CurveSequencer.Sort(this)}GetLength(){return y.Tw2CurveSequencer.GetLengthFromKeys(this)}UpdateValue(e){this.GetValueAt(e,this.value)}GetValueAt(t,r){var i=y.Tw2CurveSequencer.global.vec3_0;switch(this.operator){case e.Operator.MULTIPLY:g.vec3.set(r,1,1,1);for(var n=0;n<this.functions.length;++n)this.functions[n].GetValueAt(t,i),g.vec3.multiply(r,r,i);return r;default:g.vec3.set(r,0,0,0);for(var a=0;a<this.functions.length;++a)this.functions[a].GetValueAt(t,i),g.vec3.add(r,r,i);return r}}},b.inputDimension=3,b.outputDimension=3,b.valueProperty="value",b.curveType=y.Tw2CurveSequencer.Type.SEQUENCER,b.childArray="functions",b.Operator=T,f=E((c=p).prototype,"start",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),d=E(c.prototype,"value",[a,o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return g.vec3.create()}}),h=E(c.prototype,"operator",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),m=E(c.prototype,"functions",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),u=c))||u)},"./curve/sequencer/legacy/Tw2XYZScalarSequencer.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tw2XYZScalarSequencer",(function(){return T}));var i,n,a,o,s,l,u,c,f,d,h,m,b,p,v=r("./global/utils/index.js"),g=r("./global/math/index.js"),y=r("./curve/sequencer/Tw2CurveSequencer.js");function w(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function E(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var T=(i=v.meta.type("Tw2XYZScalarSequencer"),n=v.meta.vector3,a=v.meta.isPrivate,o=v.meta.struct("Tw2Curve"),s=v.meta.struct("Tw2Curve"),l=v.meta.struct("Tw2Curve"),i((p=b=class extends y.Tw2CurveSequencer{constructor(...e){super(...e),w(this,"value",f,this),w(this,"XCurve",d,this),w(this,"YCurve",h,this),w(this,"ZCurve",m,this)}Sort(){y.Tw2CurveSequencer.Sort2(this)}GetLength(){return y.Tw2CurveSequencer.GetLengthFromProperties(this)}UpdateValue(e){this.GetValueAt(e,this.value)}GetValueAt(e,t){return t[0]=this.XCurve?this.XCurve.GetValueAt(e):0,t[1]=this.YCurve?this.YCurve.GetValueAt(e):0,t[2]=this.ZCurve?this.ZCurve.GetValueAt(e):0,t}},b.inputDimension=1,b.outputDimension=3,b.valueProperty="value",b.curveType=y.Tw2CurveSequencer.Type.SEQUENCER2,b.childProperties=["XCurve","YCurve","ZCurve"],f=E((c=p).prototype,"value",[n,a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return g.vec3.create()}}),d=E(c.prototype,"XCurve",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),h=E(c.prototype,"YCurve",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),m=E(c.prototype,"ZCurve",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),u=c))||u)},"./curve/sequencer/legacy/Tw2YPRSequencer.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tw2YPRSequencer",(function(){return j}));var i,n,a,o,s,l,u,c,f,d,h,m,b,p,v,g,y,w=r("./global/utils/index.js"),E=r("./global/math/index.js"),T=r("./curve/sequencer/Tw2CurveSequencer.js");function S(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function _(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var j=(i=w.meta.type("Tw2YPRSequencer"),n=w.meta.quaternion,a=w.meta.isPrivate,o=w.meta.vector3,s=w.meta.isPrivate,l=w.meta.struct("Tw2Curve"),u=w.meta.struct("Tw2Curve"),c=w.meta.struct("Tw2Curve"),i((y=g=class extends T.Tw2CurveSequencer{constructor(...e){super(...e),S(this,"value",h,this),S(this,"YawPitchRoll",m,this),S(this,"YawCurve",b,this),S(this,"PitchCurve",p,this),S(this,"RollCurve",v,this)}Sort(){T.Tw2CurveSequencer.Sort2(this)}GetLength(){return T.Tw2CurveSequencer.GetLengthFromProperties(this)}UpdateValue(e){this.GetValueAt(e,this.value)}GetValueAt(e,t){this.YawCurve&&(this.YawPitchRoll[0]=this.YawCurve.GetValueAt(e)),this.PitchCurve&&(this.YawPitchRoll[1]=this.PitchCurve.GetValueAt(e)),this.RollCurve&&(this.YawPitchRoll[2]=this.RollCurve.GetValueAt(e));var r=Math.sin(this.YawPitchRoll[0]/180*Math.PI/2),i=Math.cos(this.YawPitchRoll[0]/180*Math.PI/2),n=Math.sin(this.YawPitchRoll[1]/180*Math.PI/2),a=Math.cos(this.YawPitchRoll[1]/180*Math.PI/2),o=Math.sin(this.YawPitchRoll[2]/180*Math.PI/2),s=Math.cos(this.YawPitchRoll[2]/180*Math.PI/2);return t[0]=r*a*o+i*n*s,t[1]=r*a*s-i*n*o,t[2]=i*a*o-r*n*s,t[3]=i*a*s+r*n*o,t}},g.inputDimension=1,g.outputDimension=4,g.valueProperty="value",g.curveType=T.Tw2CurveSequencer.Type.SEQUENCER2,g.childProperties=["YawCurve","PitchCurve","RollCurve"],h=_((d=y).prototype,"value",[n,a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return E.quat.create()}}),m=_(d.prototype,"YawPitchRoll",[o,s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return E.vec3.create()}}),b=_(d.prototype,"YawCurve",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),p=_(d.prototype,"PitchCurve",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),v=_(d.prototype,"RollCurve",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),f=d))||f)},"./curve/sequencer/legacy/index.js":function(e,t,r){"use strict";r.r(t);var i=r("./curve/sequencer/legacy/Tw2ColorSequencer.js");r.d(t,"Tw2ColorSequencer",(function(){return i.Tw2ColorSequencer}));var n=r("./curve/sequencer/legacy/Tw2EulerRotation.js");r.d(t,"Tw2EulerRotation",(function(){return n.Tw2EulerRotation}));var a=r("./curve/sequencer/legacy/Tw2QuaternionSequencer.js");r.d(t,"Tw2QuaternionSequencer",(function(){return a.Tw2QuaternionSequencer}));var o=r("./curve/sequencer/legacy/Tw2RGBAScalarSequencer.js");r.d(t,"Tw2RGBAScalarSequencer",(function(){return o.Tw2RGBAScalarSequencer}));var s=r("./curve/sequencer/legacy/Tw2ScalarSequencer.js");r.d(t,"Tw2ScalarSequencer",(function(){return s.Tw2ScalarSequencer}));var l=r("./curve/sequencer/legacy/Tw2VectorSequencer.js");r.d(t,"Tw2VectorSequencer",(function(){return l.Tw2VectorSequencer}));var u=r("./curve/sequencer/legacy/Tw2XYZScalarSequencer.js");r.d(t,"Tw2XYZScalarSequencer",(function(){return u.Tw2XYZScalarSequencer}));var c=r("./curve/sequencer/legacy/Tw2YPRSequencer.js");r.d(t,"Tw2YPRSequencer",(function(){return c.Tw2YPRSequencer}))},"./eve/EveSpaceScene.js":function(e,t,r){"use strict";r.r(t),r.d(t,"EveSpaceScene",(function(){return rt}));var i,n,a,o,s,l,u,c,f,d,h,m,b,p,v,g,y,w,E,T,S,_,j,R,z,O,P,A,x,M,C,D,I,L,F,G,B,N,U,k,V,H,q,W,Y,X,K,Q,Z,$,J,ee,te,re,ie,ne,ae,oe,se,le,ue,ce,fe,de,he,me,be,pe,ve,ge,ye,we,Ee,Te,Se,_e,je,Re,ze,Oe,Pe,Ae,xe,Me,Ce,De,Ie,Le,Fe,Ge,Be,Ne,Ue,ke,Ve,He,qe,We,Ye,Xe,Ke,Qe=r("./global/utils/index.js"),Ze=r("./global/index.js"),$e=r("./global/math/index.js"),Je=r("./core/index.js");function et(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function tt(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var rt=(i=Qe.meta.type("EveSpaceScene"),n=Qe.meta.color,a=Qe.meta.struct("Tw2Effect"),o=Qe.meta.list("EveObject"),s=Qe.meta.boolean,l=Qe.meta.list("Tw2CurveSet"),u=Qe.meta.notImplemented,c=Qe.meta.boolean,f=Qe.meta.path,d=Qe.meta.path,h=Qe.meta.path,m=Qe.meta.quaternion,b=Qe.meta.notImplemented,p=Qe.meta.list("Tr2ExternalParameter"),v=Qe.meta.color,g=Qe.meta.float,y=Qe.meta.float,w=Qe.meta.float,E=Qe.meta.notImplemented,T=Qe.meta.path,S=Qe.meta.notImplemented,_=Qe.meta.path,j=Qe.meta.float,R=Qe.meta.list("EveObject"),z=Qe.meta.path,O=Qe.meta.notImplemented,P=Qe.meta.boolean,A=Qe.meta.notImplemented,x=Qe.meta.struct("Tr2ShLightingManager"),M=Qe.meta.notImplemented,C=Qe.meta.float,D=Qe.meta.todo("Identify ps/vs frame data"),I=Qe.meta.notImplemented,L=Qe.meta.float,F=Qe.meta.todo("Identify ps/vs frame data"),G=Qe.meta.notImplemented,B=Qe.meta.struct("EveStarField"),N=Qe.meta.color,U=Qe.meta.notImplemented,k=Qe.meta.color,V=Qe.meta.vector3,H=Qe.meta.notImplemented,q=Qe.meta.boolean,W=Qe.meta.color,Y=Qe.meta.boolean,X=Qe.meta.vector3,K=Qe.meta.uint,Q=Qe.meta.uint,Z=Qe.meta.list("EveLensflare"),$=Qe.meta.list("EvePlanet"),J=Qe.meta.list("EveCurveLineSet"),ee=Qe.meta.notImplemented,te=Qe.meta.struct("Tr2PostProcess"),re=Qe.meta.notImplemented,ie=Qe.meta.struct("Tw2Effect"),ne=Qe.meta.todo("Do shadows need their own render mode and batch accumulation?"),ae=Qe.meta.plain,i((Ke=Xe=class e extends Qe.meta.Model{constructor(){super(),et(this,"ambientColor",le,this),et(this,"backgroundEffect",ue,this),et(this,"backgroundObjects",ce,this),et(this,"backgroundRenderingEnabled",fe,this),et(this,"curveSets",de,this),et(this,"enableShadows",he,this),et(this,"envMap1ResPath",me,this),et(this,"envMap2ResPath",be,this),et(this,"envMapResPath",pe,this),et(this,"envMapRotation",ve,this),et(this,"externalParameters",ge,this),et(this,"fogColor",ye,this),et(this,"fogEnd",we,this),et(this,"fogMax",Ee,this),et(this,"fogStart",Te,this),et(this,"lowQualityNebulaMixResPath",Se,this),et(this,"lowQualityNebulaResPath",_e,this),et(this,"nebulaIntensity",je,this),et(this,"objects",Re,this),et(this,"postProcessPath",ze,this),et(this,"selfShadowOnly",Oe,this),et(this,"shLightingManager",Pe,this),et(this,"shadowFadeThreshold",Ae,this),et(this,"shadowThreshold",xe,this),et(this,"starfield",Me,this),et(this,"sunDiffuseColor",Ce,this),et(this,"sunDiffuseColorWithDynamicLights",De,this),et(this,"sunDirection",Ie,this),et(this,"useSunDiffuseColorWithDynamicLights",Le,this),et(this,"clearColor",Fe,this),et(this,"display",Ge,this),et(this,"envMapScaling",Be,this),et(this,"fogBlur",Ne,this),et(this,"fogType",Ue,this),et(this,"lensflares",ke,this),et(this,"planets",Ve,this),et(this,"lineSets",He,this),et(this,"postProcess",qe,this),et(this,"shadowEffect",We,this),et(this,"visible",Ye,this),this._localTransform=$e.mat4.create(),this._debugHelper=null,this._batches=new Je.Tw2BatchAccumulator,this._emptyTexture=null,this._frustum=new Je.Tw2Frustum,this._lodEnabled=!1,this._perFrameVS=Je.Tw2RawData.from(e.perFrameData.vs),this._perFramePS=Je.Tw2RawData.from(e.perFrameData.ps),this._envMapRes=null,this._envMap1Res=null,this._envMap2Res=null,Object.defineProperty(this.visible,"environment",{get:()=>this.backgroundRenderingEnabled,set:e=>this.backgroundRenderingEnabled=e?1:0}),Object.defineProperty(this.visible,"shadow",{get:()=>this.enableShadows,set:e=>this.enableShadows=e?1:0}),e.init()}Initialize(){if(this.SetEnvMapReflection(this.envMapPath),this.SetEnvMapDiffuse(this.envMap1ResPath),this.SetEnvMapBlur(this.envMap2ResPath),this.SetPostProcess(this.postProcessPath),this.objects.length){for(var e=0;e<this.objects.length;e++)this.backgroundObjects.push(this.objects[e]);this.objects.splice(0)}}SetTransform(e){$e.mat4.copy(this._localTransform,e)}GetTransform(e){$e.mat4.copy(e,this._localTransform)}SetEnvironmentTransform(e){$e.mat4.getRotation(this.envMapRotation,e),$e.mat4.getScaling(this.envMapScaling,e)}GetEnvironmentTransform(t){var r=$e.vec3.set(e.global.vec3_ZERO,0,0,0);$e.mat4.fromRotationTranslationScale(t,this.envMapRotation,r,this.envMapScaling)}SetPostProcess(e=""){e?(this.postProcessPath=e.toLowerCase(),Ze.resMan.GetObject(e,e=>this.postProcess=e)):(this.postProcessPath="",this.postProcess=null)}SetEnvMapReflection(e=""){e?(this.envMapResPath=e,this._envMapRes=Ze.resMan.GetResource(e)):(this.envMapPath="",this._envMapRes=null)}SetEnvMapDiffuse(e=""){e?(this.envMap1ResPath=e.toLowerCase(),this._envMap1Res=Ze.resMan.GetResource(e)):(this.envMap1ResPath="",this._envMap1Res=null)}SetEnvMapBlur(e=""){if(!e)return this.envMap2ResPath="",void(this._envMap1Res=null);this.envMap2ResPath=e.toLowerCase(),this._envMap2Res=Ze.resMan.GetResource(e)}EnableLod(e){this._lodEnabled=e,e||this.PerChildObject("ResetLod")}KeepAlive(){var e=this.GetResources();this.GetChildResources(e);for(var t=0;t<e.length;t++)e[t].KeepAlive()}GetResources(e=[]){for(var t=0;t<this.lensflares.length;t++)this.lensflares[t].GetResources(e);return this.backgroundEffect&&this.backgroundEffect.GetResources(e),this.postProcess&&this.postProcess.GetResources(e),this.starfield&&this.starfield.GetResources(e),this._envMapRes&&!e.includes(this._envMapRes)&&e.push(this._envMapRes),this._envMap1Res&&!e.includes(this._envMap1Res)&&e.push(this._envMapRes),this._envMap2Res&&!e.includes(this._envMap2Res)&&e.push(this._envMapRes),e}GetChildResources(e=[]){return this.PerChildObject("GetResources",e),e}PerChildObject(e,...t){for(var r=0;r<this.planets.length;r++)e in this.planets[r]&&this.planets[r][e](...t);for(var i=0;i<this.objects.length;i++)e in this.objects[i]&&this.objects[i][e](...t);for(var n=0;n<this.backgroundObjects.length;n++)e in this.backgroundObjects[n]&&this.backgroundObjects[n][e](...t);for(var a=0;a<this.lineSets.length;a++)e in this.lineSets[a]&&this.lineSets[a][e](...t)}GetEmptyTexture(){return this._emptyTexture||(this._emptyTexture=Ze.resMan.GetResource("res:/texture/global/black.dds.0.png")),this._emptyTexture}Update(e){for(var t=0;t<this.curveSets.length;t++)this.curveSets[t].Update(e);this.PerChildObject("Update",e)}RenderBatches(e,t,r=this._batches){for(var i=0;i<t.length;++i)"GetBatches"in t[i]&&t[i].GetBatches(e,r)}Render(t){this.ApplyPerFrameData();var r=Ze.device,i=e.global,n=this._localTransform,a=this.visible,o=$e.mat4.maxScaleOnAxis(this._localTransform);if(a.environment&&this.backgroundEffect&&(r.SetStandardStates(r.RM_FULLSCREEN),r.RenderCameraSpaceQuad(this.backgroundEffect)),a.planets&&this.planets.length){var s=$e.mat4.copy(i.mat4_0,r.projection),l=$e.mat4.copy(i.mat4_1,r.projection),u=1e11;l[10]=u/(1e4-u),l[14]=-10000.0010000001,r.SetProjection(l,!0),this.ApplyPerFrameData();for(var c=0;c<this.planets.length;++c)this.planets[c].UpdateViewDependentData&&this.planets[c].UpdateViewDependentData(n,t,o);this._batches.Clear(),r.gl.depthRange(.9,1),this.RenderBatches(r.RM_OPAQUE,this.planets),this.RenderBatches(r.RM_DECAL,this.planets),this.RenderBatches(r.RM_TRANSPARENT,this.planets),this.RenderBatches(r.RM_ADDITIVE,this.planets),this._batches.Render(),r.SetProjection(s,!0),this.ApplyPerFrameData(),r.gl.depthRange(0,.9)}if(this._lodEnabled&&(this._frustum.Initialize(r.view,r.projection,r.viewportWidth,r.viewInverse,r.viewProjection),this.PerChildObject("UpdateLod",this._frustum)),a.objects)for(var f=0;f<this.objects.length;++f)this.objects[f].UpdateViewDependentData&&this.objects[f].UpdateViewDependentData(n,t,o);if(a.backgroundObjects)for(var d=0;d<this.backgroundObjects.length;d++)this.backgroundObjects[d].UpdateViewDependentData&&this.backgroundObjects[d].UpdateViewDependentData(n,t,o);if(a.lineSets)for(var h=0;h<this.lineSets.length;h++)this.lineSets[h].UpdateViewDependentData(n,t);if(a.lensflares)for(var m=0;m<this.lensflares.length;++m)this.lensflares[m].PrepareRender();if(this._batches.Clear(),a.planets)for(var b=0;b<this.planets.length;++b)this.planets[b].GetZOnlyBatches(r.RM_OPAQUE,this._batches);if(a.objects&&(this.RenderBatches(r.RM_OPAQUE,this.objects),this.RenderBatches(r.RM_DECAL,this.objects),this.RenderBatches(r.RM_TRANSPARENT,this.objects),this.RenderBatches(r.RM_ADDITIVE,this.objects)),a.backgroundObjects&&(this.RenderBatches(r.RM_OPAQUE,this.backgroundObjects),this.RenderBatches(r.RM_DECAL,this.backgroundObjects),this.RenderBatches(r.RM_TRANSPARENT,this.backgroundObjects),this.RenderBatches(r.RM_ADDITIVE,this.backgroundObjects)),a.lineSets&&(this.RenderBatches(r.RM_TRANSPARENT,this.lineSets),this.RenderBatches(r.RM_ADDITIVE,this.lineSets)),a.lensflares)for(var p=0;p<this.lensflares.length;++p)this.lensflares[p].GetBatches(r.RM_ADDITIVE,this._batches);if(this.starfield,this.postProcess,this._batches.Render(),a.lensflares)for(var v=0;v<this.lensflares.length;++v)this.lensflares[v].UpdateOccluders();a.debug&&e.DebugRenderer&&(this._debugHelper||(this._debugHelper=new e.DebugRenderer),this.PerChildObject("RenderDebugInfo",this._debugHelper),this._debugHelper.Render())}ApplyPerFrameData(){var t=Ze.device,r=e.global,i=this._localTransform,n=r.mat4_2,a=r.vec3_0,o=this.visible;$e.mat4.fromQuat(n,this.envMapRotation),$e.mat4.scale(n,n,this.envMapScaling),$e.mat4.multiply(n,n,i),n[12]=0,n[13]=0,n[14]=0,$e.mat4.transpose(n,n),$e.vec3.transformMat4(a,this.sunDirection,i),$e.vec3.negate(a,a),$e.vec3.normalize(a,a);var s=this.fogEnd-this.fogStart;Math.abs(s)<1e-5&&(s=1e-5);var l=1/s,u=this._perFrameVS;this.visible.fog?u.Set("FogFactors",[this.fogEnd*l,l,this.fogMax,1]):u.Set("FogFactors",[0,0,0,0]),u.Set("ViewportAdjustment",[1,1,1,1]),u.Set("MiscSettings",[t.currentTime,0,t.viewportWidth,t.viewportHeight]),u.Set("SunData.DirWorld",a),u.Set("SunData.DiffuseColor",this.sunDiffuseColor),u.Set("TargetResolution",t.targetResolution),u.Set("ViewInverseTransposeMat",t.viewInverse),u.Set("ViewProjectionMat",t.viewProjectionTranspose),u.Set("ViewMat",t.viewTranspose),u.Set("ProjectionMat",t.projectionTranspose),u.Set("EnvMapRotationMat",n),t.perFrameVSData=u;var c=this._perFramePS;c.Set("ViewInverseTransposeMat",t.viewInverse),c.Set("ViewMat",t.viewTranspose),c.Set("EnvMapRotationMat",n),c.Set("SunData.DirWorld",a),c.Set("SunData.DiffuseColor",this.sunDiffuseColor),c.Set("SceneData.AmbientColor",this.ambientColor),this.visible.fog?(c.Set("SceneData.FogColor",this.fogColor),c.Set("MiscSettings",[t.currentTime,this.fogType,this.fogBlur,1])):(c.Set("SceneData.FogColor",[0,0,0,0]),c.Set("MiscSettings",[t.currentTime,0,0,1])),c.Set("FovXY",[t.targetResolution[3],t.targetResolution[2]]),c.Set("ShadowMapSettings",[1,1,0,0]),c.Set("TargetResolution",t.targetResolution),c.SetIndex("SceneData.NebulaIntensity",0,this.nebulaIntensity),c.SetIndex("ViewportSize",0,t.viewportWidth),c.SetIndex("ViewportSize",1,t.viewportHeight),c.SetIndex("ShadowCameraRange",0,1),c.SetIndex("ProjectionToView",0,-t.projection[14]),c.SetIndex("ProjectionToView",1,-t.projection[10]-1),t.perFramePSData=c;var f=this._envMapRes&&o.environmentReflection?this._envMapRes:this.GetEmptyTexture(),d=this._envMap1Res&&o.environmentDiffuse?this._envMap1Res:this.GetEmptyTexture(),h=this._envMap2Res&&o.environmentBlur?this._envMap2Res:this.GetEmptyTexture();Ze.store.variables.Get("EveSpaceSceneEnvMap").SetTextureRes(f),Ze.store.variables.Get("EnvMap1").SetTextureRes(d),Ze.store.variables.Get("EnvMap2").SetTextureRes(h)}static init(){e.global||(e.global={vec3_ZERO:$e.vec3.create(),vec3_0:$e.vec3.create(),vec4_0:$e.vec4.create(),mat4_0:$e.mat4.create(),mat4_1:$e.mat4.create(),mat4_2:$e.mat4.create()})}},Xe.perFrameData={ps:[["ViewInverseTransposeMat",16],["ViewMat",16],["EnvMapRotationMat",16],["SunData.DirWorld",4],["SunData.DiffuseColor",4],["SceneData.AmbientColor",3],["SceneData.NebulaIntensity",1],["SceneData.FogColor",4],["ViewportOffset",2],["ViewportSize",2],["TargetResolution",4],["ShadowMapSettings",4],["ShadowCameraRange",4],["ProjectionToView",2],["FovXY",2],["MiscSettings",4]],vs:[["ViewInverseTransposeMat",16],["ViewProjectionMat",16],["ViewMat",16],["ProjectionMat",16],["ShadowViewMat",16],["ShadowViewProjectionMat",16],["EnvMapRotationMat",16],["SunData.DirWorld",4],["SunData.DiffuseColor",4],["FogFactors",4],["TargetResolution",4],["ViewportAdjustment",4],["MiscSettings",4]]},Xe.global=null,Xe.DebugRenderer=window.Tw2DebugRenderer||null,le=tt((se=Ke).prototype,"ambientColor",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return $e.vec4.fromValues(.25,.25,.25,1)}}),ue=tt(se.prototype,"backgroundEffect",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ce=tt(se.prototype,"backgroundObjects",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),fe=tt(se.prototype,"backgroundRenderingEnabled",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),de=tt(se.prototype,"curveSets",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),he=tt(se.prototype,"enableShadows",[u,c],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),me=tt(se.prototype,"envMap1ResPath",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),be=tt(se.prototype,"envMap2ResPath",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),pe=tt(se.prototype,"envMapResPath",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),ve=tt(se.prototype,"envMapRotation",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return $e.quat.create()}}),ge=tt(se.prototype,"externalParameters",[b,p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),ye=tt(se.prototype,"fogColor",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return $e.vec4.fromValues(.25,.25,.25,1)}}),we=tt(se.prototype,"fogEnd",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Ee=tt(se.prototype,"fogMax",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Te=tt(se.prototype,"fogStart",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Se=tt(se.prototype,"lowQualityNebulaMixResPath",[E,T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),_e=tt(se.prototype,"lowQualityNebulaResPath",[S,_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),je=tt(se.prototype,"nebulaIntensity",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),Re=tt(se.prototype,"objects",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),ze=tt(se.prototype,"postProcessPath",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),Oe=tt(se.prototype,"selfShadowOnly",[O,P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Pe=tt(se.prototype,"shLightingManager",[A,x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ae=tt(se.prototype,"shadowFadeThreshold",[M,C,D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),xe=tt(se.prototype,"shadowThreshold",[I,L,F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Me=tt(se.prototype,"starfield",[G,B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ce=tt(se.prototype,"sunDiffuseColor",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return $e.vec4.fromValues(1,1,1,1)}}),De=tt(se.prototype,"sunDiffuseColorWithDynamicLights",[U,k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return $e.vec4.fromValues(1,1,1,1)}}),Ie=tt(se.prototype,"sunDirection",[V],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return $e.vec3.fromValues(1,-1,1)}}),Le=tt(se.prototype,"useSunDiffuseColorWithDynamicLights",[H,q],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Fe=tt(se.prototype,"clearColor",[W],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return $e.vec4.fromValues(0,0,0,1)}}),Ge=tt(se.prototype,"display",[Y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),Be=tt(se.prototype,"envMapScaling",[X],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return $e.vec3.fromValues(1,1,1)}}),Ne=tt(se.prototype,"fogBlur",[K],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Ue=tt(se.prototype,"fogType",[Q],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),ke=tt(se.prototype,"lensflares",[Z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Ve=tt(se.prototype,"planets",[$],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),He=tt(se.prototype,"lineSets",[J],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),qe=tt(se.prototype,"postProcess",[ee,te],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),We=tt(se.prototype,"shadowEffect",[re,ie,ne],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ye=tt(se.prototype,"visible",[ae],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{backgroundObjects:!0,clearColor:!0,debug:!1,environmentReflection:!0,environmentDiffuse:!0,environmentBlur:!0,fog:!0,lensflares:!0,lineSets:!0,objects:!0,planets:!0,post:!0,starField:!0}}}),oe=se))||oe)},"./eve/child/EveChild.js":function(e,t,r){"use strict";r.r(t),r.d(t,"EveChild",(function(){return d}));var i,n,a,o,s,l,u=r("./global/utils/index.js"),c=r("./global/math/index.js");function f(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var d=(i=u.meta.abstract,n=u.meta.abstract,a=u.meta.abstract,l=s=class extends u.meta.Model{get isEffectChild(){return!0}Update(e,t){}GetResources(e=[]){}GetBatches(e,t,r){}},s.global={mat4_0:c.mat4.create(),vec3_0:c.vec3.create()},s.perObjectData={ffe:[["world",16],["worldInverseTranspose",16]]},s.__isEffectChild=!0,f((o=l).prototype,"Update",[i],Object.getOwnPropertyDescriptor(o.prototype,"Update"),o.prototype),f(o.prototype,"GetResources",[n],Object.getOwnPropertyDescriptor(o.prototype,"GetResources"),o.prototype),f(o.prototype,"GetBatches",[a],Object.getOwnPropertyDescriptor(o.prototype,"GetBatches"),o.prototype),o)},"./eve/child/EveChildBillboard.js":function(e,t,r){"use strict";r.r(t),r.d(t,"EveChildBillboard",(function(){return C}));var i,n,a,o,s,l,u,c,f,d,h,m,b,p,v,g,y,w,E,T,S,_,j,R=r("./global/utils/index.js"),z=r("./global/index.js"),O=r("./global/math/index.js"),P=r("./core/index.js"),A=r("./eve/child/EveChild.js");function x(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function M(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var C=(i=R.meta.type("EveChildBillboard"),n=R.meta.todo("Deprecated?"),a=R.meta.boolean,o=R.meta.matrix4,s=R.meta.uint,l=R.meta.struct(["Tw2Mesh","Tw2InstancedMesh"]),u=R.meta.quaternion,c=R.meta.vector3,f=R.meta.vector3,d=R.meta.boolean,h=R.meta.boolean,i(m=n((j=class extends A.EveChild{constructor(...e){super(...e),x(this,"display",p,this),x(this,"localTransform",v,this),x(this,"lowestLodVisible",g,this),x(this,"mesh",y,this),x(this,"rotation",w,this),x(this,"translation",E,this),x(this,"scaling",T,this),x(this,"staticTransform",S,this),x(this,"useSRT",_,this),this._perObjectData=P.Tw2PerObjectData.from(A.EveChild.perObjectData),this._worldTransform=O.mat4.create(),this._worldTransformLast=O.mat4.create()}GetResources(e){return this.mesh&&this.mesh.GetResources(e),e}Update(e,t){this.useSRT&&(O.quat.normalize(this.rotation,this.rotation),O.mat4.fromRotationTranslationScale(this.localTransform,this.rotation,this.translation,this.scaling)),O.mat4.copy(this._worldTransformLast,this._worldTransform),O.mat4.multiply(this._worldTransform,t,this.localTransform);var r=A.EveChild.global.mat4_0,i=A.EveChild.global.vec3_0;O.mat4.lookAt(r,z.device.eyePosition,this._worldTransform.subarray(12),[0,1,0]),O.mat4.transpose(r,r),O.mat4.getScaling(i,t),O.vec3.multiply(i,i,this.scaling),this._worldTransform[0]=r[0]*i[0],this._worldTransform[1]=r[1]*i[0],this._worldTransform[2]=r[2]*i[0],this._worldTransform[4]=r[4]*i[1],this._worldTransform[5]=r[5]*i[1],this._worldTransform[6]=r[6]*i[1],this._worldTransform[8]=r[8]*i[2],this._worldTransform[9]=r[9]*i[2],this._worldTransform[10]=r[10]*i[2]}GetBatches(e,t){this.display&&this.mesh&&(O.mat4.transpose(this._perObjectData.ffe.Get("world"),this._worldTransform),O.mat4.invert(this._perObjectData.ffe.Get("worldInverseTranspose"),this._worldTransform),this.mesh.GetBatches(e,t,this._perObjectData))}},p=M((b=j).prototype,"display",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),v=M(b.prototype,"localTransform",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return O.mat4.create()}}),g=M(b.prototype,"lowestLodVisible",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 2}}),y=M(b.prototype,"mesh",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),w=M(b.prototype,"rotation",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return O.quat.create()}}),E=M(b.prototype,"translation",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return O.vec3.create()}}),T=M(b.prototype,"scaling",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return O.vec3.fromValues(1,1,1)}}),S=M(b.prototype,"staticTransform",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),_=M(b.prototype,"useSRT",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),m=b))||m)||m)},"./eve/child/EveChildContainer.js":function(e,t,r){"use strict";r.r(t),r.d(t,"EveChildContainer",(function(){return oe}));var i,n,a,o,s,l,u,c,f,d,h,m,b,p,v,g,y,w,E,T,S,_,j,R,z,O,P,A,x,M,C,D,I,L,F,G,B,N,U,k,V,H,q,W,Y,X,K,Q,Z,$,J,ee,te=r("./eve/child/EveChild.js"),re=r("./global/utils/index.js"),ie=r("./global/math/index.js");function ne(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function ae(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var oe=(i=re.meta.type("EveChildContainer",!0),n=re.meta.stage(2),a=re.meta.string,o=re.meta.notImplemented,s=re.meta.boolean,l=re.meta.uint,u=re.meta.notImplemented,c=re.meta.list("Tr2Controller"),f=re.meta.list("Tw2CurveSet"),d=re.meta.boolean,h=re.meta.notImplemented,m=re.meta.struct(),b=re.meta.notImplemented,p=re.meta.boolean,v=re.meta.notImplemented,g=re.meta.struct("EveChildInheritProperties"),y=re.meta.notImplemented,w=re.meta.list("Tr2PointLight"),E=re.meta.matrix4,T=re.meta.list("EveChild"),S=re.meta.notImplemented,_=re.meta.list("TriObserverLocal"),j=re.meta.quaternion,R=re.meta.vector3,z=re.meta.notImplemented,O=re.meta.boolean,P=re.meta.notImplemented,A=re.meta.list("EveChildModifier"),x=re.meta.vector3,M=re.meta.boolean,i(C=n((ee=class extends te.EveChild{constructor(...e){super(...e),ne(this,"name",I,this),ne(this,"alwaysOn",L,this),ne(this,"boneIndex",F,this),ne(this,"controllers",G,this),ne(this,"curveSets",B,this),ne(this,"display",N,this),ne(this,"displayFilter",U,this),ne(this,"hideOnLowQuality",k,this),ne(this,"inheritProperties",V,this),ne(this,"lights",H,this),ne(this,"localTransform",q,this),ne(this,"objects",W,this),ne(this,"observers",Y,this),ne(this,"rotation",X,this),ne(this,"scaling",K,this),ne(this,"staticTransform",Q,this),ne(this,"transformModifiers",Z,this),ne(this,"translation",$,this),ne(this,"useSRT",J,this),this._worldTransform=ie.mat4.create(),this._worldTransformLast=ie.mat4.create()}GetResources(e=[]){for(var t=0;t<this.objects.length;t++)this.objects[t].GetResources(e);return e}Update(e,t){this.useSRT&&ie.mat4.fromRotationTranslationScale(this.localTransform,this.rotation,this.translation,this.scaling),ie.mat4.copy(this._worldTransformLast,this._worldTransform),ie.mat4.multiply(this._worldTransform,t,this.localTransform);for(var r=0;r<this.curveSets.length;r++)this.curveSets[r].Update(e);for(var i=0;i<this.objects.length;i++)this.objects[i].Update(e,this._worldTransform)}GetBatches(e,t,r){if(this.display)for(var i=0;i<this.objects.length;i++)this.objects[i].GetBatches(e,t,r)}},I=ae((D=ee).prototype,"name",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),L=ae(D.prototype,"alwaysOn",[o,s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),F=ae(D.prototype,"boneIndex",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return-1}}),G=ae(D.prototype,"controllers",[u,c],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),B=ae(D.prototype,"curveSets",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),N=ae(D.prototype,"display",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),U=ae(D.prototype,"displayFilter",[h,m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),k=ae(D.prototype,"hideOnLowQuality",[b,p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),V=ae(D.prototype,"inheritProperties",[v,g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),H=ae(D.prototype,"lights",[y,w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),q=ae(D.prototype,"localTransform",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return ie.mat4.create()}}),W=ae(D.prototype,"objects",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Y=ae(D.prototype,"observers",[S,_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),X=ae(D.prototype,"rotation",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return ie.quat.create()}}),K=ae(D.prototype,"scaling",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return ie.vec3.fromValues(1,1,1)}}),Q=ae(D.prototype,"staticTransform",[z,O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Z=ae(D.prototype,"transformModifiers",[P,A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),$=ae(D.prototype,"translation",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return ie.vec3.create()}}),J=ae(D.prototype,"useSRT",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),C=D))||C)||C)},"./eve/child/EveChildMesh.js":function(e,t,r){"use strict";r.r(t),r.d(t,"EveChildMesh",(function(){return Y}));var i,n,a,o,s,l,u,c,f,d,h,m,b,p,v,g,y,w,E,T,S,_,j,R,z,O,P,A,x,M,C,D,I,L,F,G,B,N,U=r("./global/utils/index.js"),k=r("./global/math/index.js"),V=r("./core/index.js"),H=r("./eve/child/EveChild.js");function q(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function W(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var Y=(i=U.meta.type("EveChildMesh",!0),n=U.meta.desc("Mesh attachment to space object"),a=U.meta.string,o=U.meta.boolean,s=U.meta.matrix4,l=U.meta.notImplemented,u=U.meta.uint,c=U.meta.struct(["Tw2Mesh","Tw2InstancedMesh"]),f=U.meta.notImplemented,d=U.meta.float,h=U.meta.quaternion,m=U.meta.vector3,b=U.meta.notImplemented,p=U.meta.float,v=U.meta.notImplemented,g=U.meta.boolean,y=U.meta.notImplemented,w=U.meta.list("EveChildModifier"),E=U.meta.vector3,T=U.meta.boolean,S=U.meta.boolean,i(_=n((N=class extends H.EveChild{constructor(...e){super(...e),q(this,"name",R,this),q(this,"display",z,this),q(this,"localTransform",O,this),q(this,"lowestLodVisible",P,this),q(this,"mesh",A,this),q(this,"minScreenSize",x,this),q(this,"rotation",M,this),q(this,"scaling",C,this),q(this,"sortValueOffset",D,this),q(this,"staticTransform",I,this),q(this,"transformModifiers",L,this),q(this,"translation",F,this),q(this,"useSRT",G,this),q(this,"useSpaceObjectData",B,this),this._worldTransform=k.mat4.create(),this._worldTransformLast=k.mat4.create(),this._perObjectData=null}GetResources(e=[]){return this.mesh&&this.mesh.GetResources(e),e}Update(e,t){this.useSRT&&(k.quat.normalize(this.rotation,this.rotation),k.mat4.fromRotationTranslationScale(this.localTransform,this.rotation,this.translation,this.scaling)),k.mat4.copy(this._worldTransformLast,this._worldTransform),k.mat4.multiply(this._worldTransform,t,this.localTransform)}GetBatches(e,t,r){this.display&&this.mesh&&(this.useSpaceObjectData?(this._perObjectData||(this._perObjectData=new V.Tw2PerObjectData,this._perObjectData.vs=new V.Tw2RawData,this._perObjectData.vs.data=new Float32Array(r.vs.data.length),this._perObjectData.vs.data[33]=1,this._perObjectData.vs.data[35]=1,this._perObjectData.ps=new V.Tw2RawData,this._perObjectData.ps.data=new Float32Array(r.ps.data.length),this._perObjectData.ps.data[1]=1,this._perObjectData.ps.data[3]=1),this._perObjectData.vs.data.set(r.vs.data),this._perObjectData.ps.data.set(r.ps.data),k.mat4.transpose(this._perObjectData.vs.data,this._worldTransform),k.mat4.transpose(this._perObjectData.vs.data.subarray(16),this._worldTransformLast)):(this._perObjectData||(this._perObjectData=V.Tw2PerObjectData.from(H.EveChild.perObjectData)),k.mat4.transpose(this._perObjectData.ffe.Get("world"),this._worldTransform),k.mat4.invert(this._perObjectData.ffe.Get("worldInverseTranspose"),this._worldTransform)),this.mesh.GetBatches(e,t,this._perObjectData))}},R=W((j=N).prototype,"name",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),z=W(j.prototype,"display",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),O=W(j.prototype,"localTransform",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return k.mat4.create()}}),P=W(j.prototype,"lowestLodVisible",[l,u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 2}}),A=W(j.prototype,"mesh",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),x=W(j.prototype,"minScreenSize",[f,d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),M=W(j.prototype,"rotation",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return k.quat.create()}}),C=W(j.prototype,"scaling",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return k.vec3.fromValues(1,1,1)}}),D=W(j.prototype,"sortValueOffset",[b,p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),I=W(j.prototype,"staticTransform",[v,g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),L=W(j.prototype,"transformModifiers",[y,w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),F=W(j.prototype,"translation",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return k.vec3.create()}}),G=W(j.prototype,"useSRT",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),B=W(j.prototype,"useSpaceObjectData",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),_=j))||_)||_)},"./eve/child/EveChildParticleSystem.js":function(e,t,r){"use strict";r.r(t),r.d(t,"EveChildParticleSystem",(function(){return H}));var i,n,a,o,s,l,u,c,f,d,h,m,b,p,v,g,y,w,E,T,S,_,j,R,z,O,P,A,x,M,C,D,I,L,F,G=r("./global/utils/index.js"),B=r("./global/math/index.js"),N=r("./core/index.js"),U=r("./eve/child/EveChild.js");function k(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function V(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var H=(i=G.meta.type("EveChildParticleSystem",!0),n=G.meta.stage(1),a=G.meta.string,o=G.meta.boolean,s=G.meta.matrix4,l=G.meta.notImplemented,u=G.meta.float,c=G.meta.struct("Tw2InstancedMesh"),f=G.meta.notImplemented,d=G.meta.float,h=G.meta.list("Tw2ParticleEmitter"),m=G.meta.list(["Tw2ParticleSystem","Tr2GpuParticleSystem"]),b=G.meta.quaternion,p=G.meta.vector3,v=G.meta.vector3,g=G.meta.notImplemented,y=G.meta.boolean,w=G.meta.boolean,E=G.meta.todo("Deprecated?"),i(T=n((F=class extends U.EveChild{constructor(...e){super(...e),k(this,"name",_,this),k(this,"display",j,this),k(this,"localTransform",R,this),k(this,"lodSphereRadius",z,this),k(this,"mesh",O,this),k(this,"minScreenSize",P,this),k(this,"particleEmitters",A,this),k(this,"particleSystems",x,this),k(this,"rotation",M,this),k(this,"scaling",C,this),k(this,"translation",D,this),k(this,"useDynamicLod",I,this),k(this,"useSRT",L,this),this._worldTransform=B.mat4.create(),this._worldTransformLast=B.mat4.create(),this._perObjectData=N.Tw2PerObjectData.from(U.EveChild.perObjectData)}GetResources(e=[]){this.mesh&&this.mesh.GetResources(e);for(var t=0;t<this.particleEmitters.length;t++)this.particleEmitters[t].GetResources(e);for(var r=0;r<this.particleSystems.length;r++)this.particleSystems[r].GetResources(e);return e}Update(e,t){this.useSRT&&(B.quat.normalize(this.rotation,this.rotation),B.mat4.fromRotationTranslationScale(this.localTransform,this.rotation,this.translation,this.scaling)),B.mat4.copy(this._worldTransformLast,this._worldTransform),B.mat4.multiply(this._worldTransform,t,this.localTransform);for(var r=0;r<this.particleEmitters.length;++r)this.particleEmitters[r].Update(e);for(var i=0;i<this.particleSystems.length;++i)this.particleSystems[i].Update(e)}GetBatches(e,t){this.display&&this.mesh&&(B.mat4.transpose(this._perObjectData.ffe.Get("world"),this._worldTransform),B.mat4.invert(this._perObjectData.ffe.Get("worldInverseTranspose"),this._worldTransform),this.mesh.GetBatches(e,t,this._perObjectData))}},_=V((S=F).prototype,"name",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),j=V(S.prototype,"display",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),R=V(S.prototype,"localTransform",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return B.mat4.create()}}),z=V(S.prototype,"lodSphereRadius",[l,u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),O=V(S.prototype,"mesh",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),P=V(S.prototype,"minScreenSize",[f,d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),A=V(S.prototype,"particleEmitters",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),x=V(S.prototype,"particleSystems",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),M=V(S.prototype,"rotation",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return B.quat.create()}}),C=V(S.prototype,"scaling",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return B.vec3.fromValues(1,1,1)}}),D=V(S.prototype,"translation",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return B.vec3.create()}}),I=V(S.prototype,"useDynamicLod",[g,y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),L=V(S.prototype,"useSRT",[w,E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),T=S))||T)||T)},"./eve/child/index.js":function(e,t,r){"use strict";r.r(t);var i=r("./eve/child/EveChild.js");r.d(t,"EveChild",(function(){return i.EveChild}));var n=r("./eve/child/EveChildBillboard.js");r.d(t,"EveChildBillboard",(function(){return n.EveChildBillboard}));var a=r("./eve/child/EveChildContainer.js");r.d(t,"EveChildContainer",(function(){return a.EveChildContainer}));var o=r("./eve/child/EveChildMesh.js");r.d(t,"EveChildMesh",(function(){return o.EveChildMesh}));var s=r("./eve/child/EveChildParticleSystem.js");r.d(t,"EveChildParticleSystem",(function(){return s.EveChildParticleSystem}))},"./eve/effect/EveLensflare.js":function(e,t,r){"use strict";r.r(t),r.d(t,"EveLensflare",(function(){return ae}));var i,n,a,o,s,l,u,c,f,d,h,m,b,p,v,g,y,w,E,T,S,_,j,R,z,O,P,A,x,M,C,D,I,L,F,G,B,N,U,k,V,H,q,W,Y,X,K,Q,Z=r("./global/utils/index.js"),$=r("./global/index.js"),J=r("./global/constant/index.js"),ee=r("./global/math/index.js"),te=r("./core/index.js"),re=r("./eve/effect/EveOccluder.js");function ie(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function ne(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var ae=(i=Z.meta.type("EveLensflare"),n=Z.meta.string,a=Z.meta.notImplemented,o=Z.meta.list("EveOccluder"),s=Z.meta.list("Tw2ValueBinding"),l=Z.meta.list("Tw2Curve"),u=Z.meta.list("Tw2Curve"),c=Z.meta.struct("Tw2Mesh"),f=Z.meta.list("EveOccluder"),d=Z.meta.vector3,h=Z.meta.list("Tw2Curve"),m=Z.meta.list("Tw2Curve"),b=Z.meta.list("Tw2Curve"),p=Z.meta.list("Tw2Curve"),v=Z.meta.boolean,g=Z.meta.boolean,y=Z.meta.boolean,w=Z.meta.float,E=Z.meta.list("EveLensflare"),T=Z.meta.todo("Deprecated?"),S=Z.meta.float,_=Z.meta.float,j=Z.meta.list("Tw2CurveSet"),R=Z.meta.todo("Deprecated?"),i((Q=K=class e extends Z.meta.Model{constructor(){super(),ie(this,"name",P,this),ie(this,"backgroundOccluders",A,this),ie(this,"bindings",x,this),ie(this,"distanceToCenterCurves",M,this),ie(this,"distanceToEdgeCurves",C,this),ie(this,"mesh",D,this),ie(this,"occluders",I,this),ie(this,"position",L,this),ie(this,"radialAngleCurves",F,this),ie(this,"xDistanceToCenter",G,this),ie(this,"yDistanceToCenter",B,this),ie(this,"zDistanceToCenter",N,this),ie(this,"display",U,this),ie(this,"update",k,this),ie(this,"doOcclusionQueries",V,this),ie(this,"cameraFactor",H,this),ie(this,"flares",q,this),ie(this,"occlusionIntensity",W,this),ie(this,"backgroundOcclusionIntensity",Y,this),ie(this,"curveSets",X,this),this._direction=ee.vec3.create(),this._transform=ee.mat4.create(),this._backBuffer=null,e.init()}UpdateOccluders(){if(this.doOcclusionQueries){var t=$.device,r=t.gl,i=e.global;if(!i.occluderLevels[0].texture||i.occluderLevels[0].width<2*this.occluders.length)for(var n=0;n<i.occluderLevels.length;++n)i.occluderLevels[n].Create(2*this.occluders.length,1,!1);for(var a=0;a<this.flares.length;++a)"_backBuffer"in this.flares[a]&&(this.flares[a]._backBuffer.textureRes=i.occluderLevels.texture);this.occlusionIntensity=1,this.backgroundOcclusionIntensity=1,i.occluderLevels[i.occludedLevelIndex].Set(),t.SetStandardStates(t.RM_OPAQUE),r.clearColor(0,0,0,1),r.clear(r.COLOR_BUFFER_BIT),i.occluderLevels[i.occludedLevelIndex].Unset();var o=1;t.antialiasing&&(o=t.msaaSamples,r.sampleCoverage(1/o,!1));for(var s=0;s<this.occluders.length;++s)t.SetRenderState(J.RS_COLORWRITEENABLE,8),r.colorMask(!1,!1,!1,!0),r.clearColor(0,0,0,0),r.clear(r.COLOR_BUFFER_BIT),t.antialiasing&&(r.enable(r.SAMPLE_COVERAGE),r.sampleCoverage(.25,!1)),this.occluders[s].UpdateValue(this._transform,s),t.antialiasing&&r.disable(r.SAMPLE_COVERAGE),i.backBuffer.texture||i.backBuffer.Attach(r.createTexture()),r.bindTexture(r.TEXTURE_2D,i.backBuffer.texture),i.backBuffer.width===t.viewportWidth&&i.backBuffer.height===t.viewportHeight||(r.texImage2D(r.TEXTURE_2D,0,r.RGBA,t.viewportWidth,t.viewportHeight,0,r.RGBA,r.UNSIGNED_BYTE,null),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MAG_FILTER,r.LINEAR),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MIN_FILTER,r.LINEAR),i.backBuffer.width=t.viewportWidth,i.backBuffer.height=t.viewportHeight),r.copyTexImage2D(r.TEXTURE_2D,0,t.alphaBlendBackBuffer?r.RGBA:r.RGB,0,0,i.backBuffer.width,i.backBuffer.height,0),r.bindTexture(r.TEXTURE_2D,null),i.occluderLevels[i.occludedLevelIndex].Set(),re.EveOccluder.CollectSamples(i.backBuffer,s,i.occluderLevels[0].width/2,o),i.occluderLevels[i.occludedLevelIndex].Unset();t.antialiasing&&r.sampleCoverage(1,!1),i.occluderLevels[(i.occludedLevelIndex+1)%i.occluderLevels.length].Set();var l=new Uint8Array(4*i.occluderLevels[0].width);r.readPixels(0,0,2,1,r.RGBA,r.UNSIGNED_BYTE,l),i.occluderLevels[(i.occludedLevelIndex+1)%i.occluderLevels.length].Unset(),this.occlusionIntensity=1;for(var u=0;u<2*i.occluderLevels[0].width;u+=4)this.occlusionIntensity*=l[u+1]?l[u]/l[u+1]:1;this.backgroundOcclusionIntensity=this.occlusionIntensity,$.store.variables.SetValue("LensflareFxOccScale",[this.occlusionIntensity,this.occlusionIntensity,0,0]),i.occludedLevelIndex=(i.occludedLevelIndex+1)%i.occluderLevels.length}}GetBatches(t,r,i){if(this.display){var n=ee.vec4.set(e.global.vec4_0,0,0,1,0);if(ee.vec4.transformMat4(n,n,$.device.viewInverse),ee.vec3.dot(n,this._direction)<0)return;for(var a=0;a<this.flares.length;++a)this.flares[a].GetBatches(t,r,i);this.mesh&&this.mesh.GetBatches(t,r,i)}}PrepareRender(){if(this.display){var t=e.global,r=t.vec4_0,i=t.vec3_0,n=ee.mat4.identity(t.mat4_0),a=t.vec3_2,o=t.vec3_3,s=t.vec3_1,l=t.vec4_1;ee.vec3.transformMat4(i,[0,0,0],$.device.viewInverse),0===ee.vec3.length(this.position)?ee.vec3.negate(s,i):(ee.vec3.negate(s,this.position),ee.vec3.normalize(this._direction,s)),ee.vec4.transformMat4(r,[0,0,1,0],$.device.viewInverse),ee.vec3.scaleAndAdd(a,i,r,-this.cameraFactor),ee.vec3.negate(o,this._direction),ee.mat4.arcFromForward(this._transform,o),ee.mat4.setTranslation(this._transform,a),ee.mat4.scale(n,n,[this.occlusionIntensity,this.occlusionIntensity,1]);var u=this._direction;$.store.variables.SetValue("LensflareFxDirectionScale",[u[0],u[1],u[2],1]),ee.vec4.set(l,u[0],u[1],u[2],0),ee.vec4.transformMat4(l,l,$.device.view),ee.vec4.transformMat4(l,l,$.device.projection),l[0]/=l[3],l[1]/=l[3];for(var c=1-Math.min(1-Math.abs(l[0]),1-Math.abs(l[1])),f=Math.sqrt(l[0]*l[0]+l[1]*l[1]),d=Math.atan2(l[1],l[0])+Math.PI,h=0;h<this.distanceToEdgeCurves.length;++h)this.distanceToEdgeCurves[h].UpdateValue(c);for(var m=0;m<this.distanceToCenterCurves.length;++m)this.distanceToCenterCurves[m].UpdateValue(f);for(var b=0;b<this.radialAngleCurves.length;++b)this.radialAngleCurves[b].UpdateValue(d);for(var p=0;p<this.xDistanceToCenter.length;++p)this.xDistanceToCenter[p].UpdateValue(l[0]+10);for(var v=0;v<this.yDistanceToCenter.length;++v)this.yDistanceToCenter[v].UpdateValue(l[1]+10);for(var g=0;g<this.bindings.length;++g)this.bindings[g].CopyValue();for(var y=0;y<this.flares.length;++y)this.flares[y].UpdateViewDependentData(this._transform)}}static init(){if(!e.global){var t=e.global={};t.vec3_0=ee.vec3.create(),t.vec3_1=ee.vec3.create(),t.vec3_2=ee.vec3.create(),t.vec3_3=ee.vec3.create(),t.vec4_0=ee.vec4.create(),t.vec4_1=ee.vec4.create(),t.mat4_0=ee.mat4.create(),t.backBuffer=new te.Tw2TextureRes,t.backBuffer.width=0,t.backBuffer.height=0,t.backBuffer.hasMipMaps=!1,t.occludedLevelIndex=0,t.occluderLevels=[new te.Tw2RenderTarget,new te.Tw2RenderTarget,new te.Tw2RenderTarget,new te.Tw2RenderTarget]}}},K.global=null,P=ne((O=Q).prototype,"name",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),A=ne(O.prototype,"backgroundOccluders",[a,o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),x=ne(O.prototype,"bindings",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),M=ne(O.prototype,"distanceToCenterCurves",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),C=ne(O.prototype,"distanceToEdgeCurves",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),D=ne(O.prototype,"mesh",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),I=ne(O.prototype,"occluders",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),L=ne(O.prototype,"position",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return ee.vec3.create()}}),F=ne(O.prototype,"radialAngleCurves",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),G=ne(O.prototype,"xDistanceToCenter",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),B=ne(O.prototype,"yDistanceToCenter",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),N=ne(O.prototype,"zDistanceToCenter",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),U=ne(O.prototype,"display",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),k=ne(O.prototype,"update",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),V=ne(O.prototype,"doOcclusionQueries",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),H=ne(O.prototype,"cameraFactor",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 20}}),q=ne(O.prototype,"flares",[E,T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),W=ne(O.prototype,"occlusionIntensity",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),Y=ne(O.prototype,"backgroundOcclusionIntensity",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),X=ne(O.prototype,"curveSets",[j,R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),z=O))||z)},"./eve/effect/EveMeshOverlayEffect.js":function(e,t,r){"use strict";r.r(t),r.d(t,"EveMeshOverlayEffect",(function(){return D}));var i,n,a,o,s,l,u,c,f,d,h,m,b,p,v,g,y,w,E,T,S,_,j,R,z,O=r("./global/utils/index.js"),P=r("./core/index.js"),A=r("./curve/index.js"),x=r("./global/constant/index.js");function M(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function C(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var D=(i=O.meta.type("EveMeshOverlayEffect"),n=O.meta.string,a=O.meta.list("Tw2Effect"),o=O.meta.struct("Tw2CurveSet"),s=O.meta.list("Tw2Effect"),l=O.meta.boolean,u=O.meta.notImplemented,c=O.meta.list("Tw2Effect"),f=O.meta.list("Tw2Effect"),d=O.meta.list("Tw2Effect"),h=O.meta.boolean,m=O.meta.plain,i((z=class e extends O.meta.Model{constructor(...e){super(...e),M(this,"name",v,this),M(this,"additiveEffects",g,this),M(this,"curveSet",y,this),M(this,"decalEffects",w,this),M(this,"display",E,this),M(this,"distortionEffects",T,this),M(this,"opaqueEffects",S,this),M(this,"transparentEffects",_,this),M(this,"update",j,this),M(this,"visible",R,this)}Update(e){this.update&&this.curveSet&&this.curveSet.Update(e)}GetBatches(e,t,r,i){if(this.display&&i&&i.IsGood())for(var n=this.GetEffects(e),a=0;a<n.length;a++){var o=new P.Tw2GeometryBatch;o.renderMode=e,o.perObjectData=r,o.geometryRes=i.geometryResource,o.meshIx=i.meshIndex,o.start=0,o.count=i.geometryResource.meshes[i.meshIndex].areas.length,o.effect=n[a],t.Commit(o)}}GetEffects(e){if(this.display)switch(e){case x.RM_OPAQUE:if(this.visible.opaqueEffects)return this.opaqueEffects;break;case x.RM_TRANSPARENT:if(this.visible.transparentEffects)return this.transparentEffects;break;case x.RM_ADDITIVE:if(this.visible.additiveEffects)return this.additiveEffects;break;case x.RM_DECAL:if(this.visible.decalEffects)return this.decalEffects;break;case x.RM_DISTORTION:if(this.visible.distortionEffects)return this.distortionEffects}return[]}static createAreaEffects(e,t,r){r=Object(O.toArray)(r);for(var i=0;i<r.length;i++){var n=r[i];if(n in t&&n in e)for(var a=0;a<t[n].length;a++)e[n].push(P.Tw2Effect.from(t[n][a]))}}static from(t,r){var i=new e;if(t){Object(O.assignIfExists)(i,t,["name","display","update"]),t.curveSet&&(i.curveSet=A.Tw2CurveSet.from(t.curveSet));var n=["additiveEffects","distortionEffects","opaqueEffects","transparentEffects","decalEffects"];t.visible&&Object(O.assignIfExists)(i.visible,t.visible,n),this.createAreaEffects(i,t,n)}return!r||r.skipUpdate,i}},v=C((p=z).prototype,"name",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),g=C(p.prototype,"additiveEffects",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),y=C(p.prototype,"curveSet",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),w=C(p.prototype,"decalEffects",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),E=C(p.prototype,"display",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),T=C(p.prototype,"distortionEffects",[u,c],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),S=C(p.prototype,"opaqueEffects",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),_=C(p.prototype,"transparentEffects",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),j=C(p.prototype,"update",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),R=C(p.prototype,"visible",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{opaqueEffects:!0,decalEffects:!0,transparentEffects:!0,additiveEffects:!0,distortionEffects:!0}}}),b=p))||b)},"./eve/effect/EveOccluder.js":function(e,t,r){"use strict";r.r(t),r.d(t,"EveOccluder",(function(){return g}));var i,n,a,o,s,l,u,c,f,d=r("./global/utils/index.js"),h=r("./global/index.js"),m=r("./global/math/index.js"),b=r("./core/index.js");function p(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function v(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var g=(i=d.meta.type("EveOccluder"),n=d.meta.string,a=d.meta.list("EveTransform"),i((f=c=class e extends d.meta.Model{constructor(){super(),p(this,"name",l,this),p(this,"sprites",u,this),e.init()}UpdateValue(t,r){if(h.device.alphaBlendBackBuffer){var i=h.device,n=e.global,a=n.mat4_0,o=n.vec4_0;n.accumulator.Clear();for(var s=0;s<this.sprites.length;++s)this.sprites[s].UpdateViewDependentData(t),this.sprites[s].GetBatches(i.RM_DECAL,n.accumulator);h.store.variables.SetValue("OccluderValue",[(1<<2*r)/255,(2<<2*r)/255,0,0]),n.accumulator.Render(),m.mat4.multiply(a,i.viewProjection,this.sprites[0]._worldTransform),m.vec4.transformMat4(o,[0,0,0,1],a);var l=.5*(o[0]/o[3]+1),u=.5*(o[1]/o[3]+1);m.vec4.set(o,.5,.5,0,1),m.vec4.transformMat4(o,o,a);var c=.5*(o[0]/o[3]+1),f=.5*(o[1]/o[3]+1);o[0]=l,o[1]=u,o[2]=c-l,o[3]=f-u,n.effect.parameters.OccluderPosition.SetValue(o)}}static CollectSamples(e,t,r,i){var n=h.device,a=this.global,o=a.effect,s=a.vertexBuffer,l=a.decl;if(!o.effectRes||!o.effectRes.IsGood())return!1;o.parameters.BackBuffer.SetTextureRes(e),o.parameters.OccluderIndex.SetValue([t,r,i]),n.SetStandardStates(n.RM_ADDITIVE),n.gl.bindBuffer(n.gl.ARRAY_BUFFER,s);for(var u=0;u<o.GetPassCount("Main");++u){if(o.ApplyPass("Main",u),l.SetDeclaration(n,o.GetPassInput("Main",u),16))return!1;n.ApplyShadowState(),n.gl.drawArrays(n.gl.TRIANGLES,0,1530)}return!0}static init(){if(!e.global){var t=h.device,r=e.global={};r.mat4_0=m.mat4.create(),r.vec4_0=m.vec4.create(),r.accumulator=new b.Tw2BatchAccumulator,r.effect=b.Tw2Effect.from({name:"Occluder sampler",effectFilePath:"res:/graphics/effect/managed/space/specialfx/lensflares/collectsamples.fx",parameters:{OccluderPosition:[1,1,1,1],OccluderIndex:[1,1,1],BackBuffer:""}}),r.vertexBuffer=null,r.decl=b.Tw2VertexDeclaration.from([{usage:"POSITION",usageIndex:0,elements:2},{usage:"TEXCOORD",usageIndex:0,elements:2}]),r.decl.RebuildHash();for(var i=new Float32Array(6120),n=0,a=0;a<16;++a)for(var o=0;o<16;++o){var s=(a+Math.random())/16*2-1,l=(o+Math.random())/16*2-1;i[n++]=1,i[n++]=1,i[n++]=s,i[n++]=l,i[n++]=-1,i[n++]=1,i[n++]=s,i[n++]=l,i[n++]=1,i[n++]=-1,i[n++]=s,i[n++]=l,i[n++]=-1,i[n++]=1,i[n++]=s,i[n++]=l,i[n++]=1,i[n++]=-1,i[n++]=s,i[n++]=l,i[n++]=-1,i[n++]=-1,i[n++]=s,i[n++]=l}r.vertexBuffer=t.gl.createBuffer(),t.gl.bindBuffer(t.gl.ARRAY_BUFFER,r.vertexBuffer),t.gl.bufferData(t.gl.ARRAY_BUFFER,i,t.gl.STATIC_DRAW),t.gl.bindBuffer(t.gl.ARRAY_BUFFER,null)}}},c.global=null,l=v((s=f).prototype,"name",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),u=v(s.prototype,"sprites",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),o=s))||o)},"./eve/effect/EveStretch.js":function(e,t,r){"use strict";r.r(t),r.d(t,"EveStretch",(function(){return X}));var i,n,a,o,s,l,u,c,f,d,h,m,b,p,v,g,y,w,E,T,S,_,j,R,z,O,P,A,x,M,C,D,I,L,F,G,B,N,U,k,V=r("./global/utils/index.js"),H=r("./global/math/index.js"),q=r("./core/index.js");function W(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function Y(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var X=(i=V.meta.type("EveStretch"),n=V.meta.string,a=V.meta.list("Tw2CurveSet"),o=V.meta.boolean,s=V.meta.struct(),l=V.meta.struct(),u=V.meta.struct("Tw2Float"),c=V.meta.notImplemented,f=V.meta.struct("Tw2CurveSet"),d=V.meta.notImplemented,h=V.meta.struct(),m=V.meta.notImplemented,b=V.meta.struct("Tw2Curve"),p=V.meta.struct(),v=V.meta.notImplemented,g=V.meta.list("Tr2PointLight"),y=V.meta.struct(),w=V.meta.struct(),E=V.meta.boolean,T=V.meta.notImplemented,S=V.meta.boolean,i((k=U=class e extends V.meta.Model{constructor(){super(),W(this,"name",R,this),W(this,"curveSets",z,this),W(this,"display",O,this),W(this,"dest",P,this),W(this,"destObject",A,this),W(this,"length",x,this),W(this,"moveCompletion",M,this),W(this,"moveObject",C,this),W(this,"progressCurve",D,this),W(this,"source",I,this),W(this,"sourceLights",L,this),W(this,"sourceObject",F,this),W(this,"stretchObject",G,this),W(this,"update",B,this),W(this,"useCurveLod",N,this),this._destinationPosition=H.vec3.create(),this._displayDestObject=!0,this._displaySourceObject=!0,this._isNegZForward=!1,this._useTransformsForStretch=!1,this._sourcePosition=H.vec3.create(),this._sourceTransform=null,this._time=0,this._useParentMatrix=!1,e.init()}GetResources(e=[]){return this.source&&this.source.GetResources&&this.source.GetResources(e),this.dest&&this.dest.GetResources&&this.dest.GetResources(e),this.sourceObject&&this.sourceObject.GetResources&&this.sourceObject.GetResources(e),this.destObject&&this.destObject.GetResources&&this.destObject.GetResources(e),this.stretchObject&&this.stretchObject.GetResources&&this.stretchObject.GetResources(e),e}SetSourcePosition(e){this._useTransformsForStretch=!1,H.vec3.copy(this._sourcePosition,e)}SetSourcePositionFromTransform(e){this._useTransformsForStretch=!1,this._sourcePosition[0]=e[12],this._sourcePosition[1]=e[13],this._sourcePosition[2]=e[14]}SetDestinationPosition(e){H.vec3.copy(this._destinationPosition,e)}SetSourceTransform(e){this._useTransformsForStretch=!0,this._sourceTransform=e}SetIsNegZForward(e){this._isNegZForward=e}UpdateViewDependentData(t){if(this.display){var r=e.global,i=H.vec3.subtract(r.vec3_0,this._destinationPosition,this._sourcePosition),n=H.mat4.identity(r.mat4_0),a=H.vec3.set(r.vec3_1,0,0,0),o=H.vec3.set(r.vec3_2,0,0,0),s=H.mat4.identity(r.mat4_1),l=H.vec3.length(i);H.vec3.normalize(i,i),this._useTransformsForStretch?(H.mat4.rotateX(n,n,-Math.PI/2),H.mat4.multiply(n,this._sourceTransform,n)):(Math.abs(i[1])>.9?o[2]=1:o[1]=1,H.vec3.cross(a,o,i),H.vec3.normalize(a,a),H.vec3.cross(o,i,a),n[0]=a[0],n[1]=a[1],n[2]=a[2],n[4]=-i[0],n[5]=-i[1],n[6]=-i[2],n[8]=o[0],n[9]=o[1],n[10]=o[2],H.mat4.multiply(n,t,n)),this.destObject&&this._displayDestObject&&(H.mat4.setTranslation(n,this._destinationPosition),this.destObject.UpdateViewDependentData(n)),this.sourceObject&&this._displaySourceObject&&(this._useTransformsForStretch?(H.mat4.identity(n),H.mat4.rotateX(n,n,-Math.PI/2),H.mat4.multiply(n,this._sourceTransform,n)):H.mat4.setTranslation(n,this._sourcePosition),this.sourceObject.UpdateViewDependentData(n)),this.stretchObject&&(this._useTransformsForStretch?(H.mat4.identity(n),H.mat4.scale(n,n,[1,1,l]),H.mat4.multiply(n,this._sourceTransform,n)):(n[0]=a[0],n[1]=a[1],n[2]=a[2],n[4]=o[0],n[5]=o[1],n[6]=o[2],n[8]=-i[0],n[9]=-i[1],n[10]=-i[2],this._isNegZForward&&(l=-l),H.mat4.scale(s,s,[1,1,l]),H.mat4.multiply(n,n,s)),this.stretchObject.UpdateViewDependentData(n))}}Update(t){for(var r=0;r<this.curveSets.length;++r)this.curveSets[r].Update(t);this._time+=t,this.source?this.source.GetValueAt(this._time,this._sourcePosition):this._useTransformsForStretch&&(this._sourcePosition[0]=this._sourceTransform[12],this._sourcePosition[1]=this._sourceTransform[13],this._sourcePosition[2]=this._sourceTransform[14]),this.dest&&this.source.GetValueAt(this._time,this._destinationPosition);var i=H.vec3.subtract(e.global.vec3_0,this._destinationPosition,this._sourcePosition);this.length.value=H.vec3.length(i),H.vec3.normalize(i,i),this.sourceObject&&this._displaySourceObject&&this.sourceObject.Update(t),this.destObject&&this._displayDestObject&&this.destObject.Update(t),this.stretchObject&&this.stretchObject.Update(t)}GetBatches(e,t,r){this.display&&(this.sourceObject&&this._displaySourceObject&&this.sourceObject.GetBatches(e,t,r),this.destObject&&this._displayDestObject&&this.destObject.GetBatches(e,t,r),this.stretchObject&&this.stretchObject.GetBatches(e,t,r))}static init(){e.global||(e.global={vec3_0:H.vec3.create(),vec3_1:H.vec3.create(),vec3_2:H.vec3.create(),mat4_0:H.mat4.create(),mat4_1:H.mat4.create()})}},U.global=null,R=Y((j=k).prototype,"name",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),z=Y(j.prototype,"curveSets",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),O=Y(j.prototype,"display",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),P=Y(j.prototype,"dest",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),A=Y(j.prototype,"destObject",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),x=Y(j.prototype,"length",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new q.Tw2Float}}),M=Y(j.prototype,"moveCompletion",[c,f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),C=Y(j.prototype,"moveObject",[d,h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),D=Y(j.prototype,"progressCurve",[m,b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),I=Y(j.prototype,"source",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),L=Y(j.prototype,"sourceLights",[v,g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),F=Y(j.prototype,"sourceObject",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),G=Y(j.prototype,"stretchObject",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),B=Y(j.prototype,"update",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),N=Y(j.prototype,"useCurveLod",[T,S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),_=j))||_)},"./eve/effect/EveTurretFiringFX.js":function(e,t,r){"use strict";r.r(t),r.d(t,"EveTurretFiringFX",(function(){return Te}));var i,n,a,o,s,l,u,c,f,d,h,m,b,p,v,g,y,w,E,T,S,_,j,R,z,O,P,A,x,M,C,D,I,L,F,G,B,N,U,k,V,H,q,W,Y,X,K,Q,Z,$,J,ee,te,re,ie,ne,ae,oe,se,le,ue,ce,fe,de,he,me,be,pe,ve=r("./global/utils/index.js"),ge=r("./global/math/index.js");function ye(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function we(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}class Ee{constructor(){this.constantDelay=0,this.currentStartDelay=0,this.elapsedTime=0,this.muzzlePositionBone=null,this.muzzleTransform=ge.mat4.create(),this.readyToStart=!1,this.started=!1}}var Te=(i=ve.meta.type("EveTurretFiringFX"),n=ve.meta.stage(2),a=ve.meta.string,o=ve.meta.string,s=ve.meta.boolean,l=ve.meta.notImplemented,u=ve.meta.struct("TriObserverLocal"),c=ve.meta.float,f=ve.meta.float,d=ve.meta.float,h=ve.meta.float,m=ve.meta.float,b=ve.meta.todo("Deprecated?"),p=ve.meta.float,v=ve.meta.todo("Deprecated?"),g=ve.meta.float,y=ve.meta.todo("Deprecated?"),w=ve.meta.float,E=ve.meta.todo("Deprecated?"),T=ve.meta.notImplemented,S=ve.meta.float,_=ve.meta.notImplemented,j=ve.meta.float,R=ve.meta.boolean,z=ve.meta.notImplemented,O=ve.meta.float,P=ve.meta.float,A=ve.meta.notImplemented,x=ve.meta.float,M=ve.meta.float,C=ve.meta.notImplemented,D=ve.meta.boolean,I=ve.meta.notImplemented,L=ve.meta.struct("TriObserverLocal"),F=ve.meta.notImplemented,G=ve.meta.struct("Tw2CurveSet"),B=ve.meta.notImplemented,N=ve.meta.struct("Tw2CurveSet"),U=ve.meta.list(["EveStretch","EveStretch2"]),k=ve.meta.boolean,i(V=n((pe=class extends ve.meta.Model{constructor(...e){super(...e),ye(this,"name",q,this),ye(this,"boneName",W,this),ye(this,"display",Y,this),ye(this,"destinationObserver",X,this),ye(this,"firingDelay1",K,this),ye(this,"firingDelay2",Q,this),ye(this,"firingDelay3",Z,this),ye(this,"firingDelay4",$,this),ye(this,"firingDelay5",J,this),ye(this,"firingDelay6",ee,this),ye(this,"firingDelay7",te,this),ye(this,"firingDelay8",re,this),ye(this,"firingDurationOverride",ie,this),ye(this,"firingPeakTime",ne,this),ye(this,"isLoopFiring",ae,this),ye(this,"maxRadius",oe,this),ye(this,"maxScale",se,this),ye(this,"minRadius",le,this),ye(this,"minScale",ue,this),ye(this,"scaleEffectTarget",ce,this),ye(this,"sourceObserver",fe,this),ye(this,"startCurveSet",de,this),ye(this,"stopCurveSet",he,this),ye(this,"stretch",me,this),ye(this,"useMuzzleTransform",be,this),this._endPosition=ge.vec3.create(),this._firingDuration=0,this._isFiring=!1,this._perMuzzleData=[]}Initialize(){this._firingDuration=this.GetCurveDuration();for(var e=0;e<this.stretch.length;++e)this._perMuzzleData[e]=new Ee;var t=this._perMuzzleData;t.length>0&&(t[0].constantDelay=this.firingDelay1),t.length>1&&(t[1].constantDelay=this.firingDelay2),t.length>2&&(t[2].constantDelay=this.firingDelay3),t.length>3&&(t[3].constantDelay=this.firingDelay4),t.length>4&&(t[4].constantDelay=this.firingDelay5),t.length>5&&(t[5].constantDelay=this.firingDelay6),t.length>6&&(t[6].constantDelay=this.firingDelay7),t.length>7&&(t[7].constantDelay=this.firingDelay8)}GetCurveDuration(){for(var e=0,t=0;t<this.stretch.length;++t)for(var r=this.stretch[t],i=0;i<r.curveSets.length;++i)e=Math.max(e,r.curveSets[i].GetMaxCurveDuration());return e}GetPerMuzzleEffectCount(){return this.stretch.length}SetEndPosition(e){this._endPosition[0]=e[0],this._endPosition[1]=e[1],this._endPosition[2]=e[2]}SetMuzzleBoneID(e,t){this._perMuzzleData[e].muzzlePositionBone=t}GetMuzzleTransform(e){return this._perMuzzleData[e].muzzleTransform}PrepareFiring(e,t=-1){for(var r=0;r<this.stretch.length;++r)t<0||t===r?(this._perMuzzleData[r].currentStartDelay=e+this._perMuzzleData[r].constantDelay,this._perMuzzleData[r].started=!1,this._perMuzzleData[r].readyToStart=!1,this._perMuzzleData[r].elapsedTime=0):(this._perMuzzleData[r].currentStartDelay=Number.MAX_VALUE,this._perMuzzleData[r].started=!1,this._perMuzzleData[r].readyToStart=!1,this._perMuzzleData[r].elapsedTime=0);this._isFiring=!0}StartMuzzleEffect(e){for(var t=this.stretch[e],r=0;r<t.curveSets.length;++r){var i=t.curveSets[r];switch(i.name){case"play_start":case"play_loop":i.PlayFrom(-this._perMuzzleData[e].currentStartDelay);break;case"play_stop":i.Stop()}}this._perMuzzleData[e].started=!0,this._perMuzzleData[e].readyToStart=!1}StopFiring(){for(var e=0;e<this.stretch.length;++e){for(var t=this.stretch[e],r=0;r<t.curveSets.length;++r){var i=t.curveSets[r];switch(i.name){case"play_start":case"play_loop":i.Stop();break;case"play_stop":i.Play()}}this._perMuzzleData[e].started=!1,this._perMuzzleData[e].readyToStart=!1,this._perMuzzleData[e].currentStartDelay=0,this._perMuzzleData[e].elapsedTime=0}this._isFiring=!1}UpdateViewDependentData(e){for(var t=0;t<this.stretch.length;++t)this.stretch[t].UpdateViewDependentData(e)}Update(e){for(var t=0;t<this.stretch.length;++t)this._perMuzzleData[t].started&&(this._perMuzzleData[t].elapsedTime+=e),(this._perMuzzleData[t].elapsedTime<this._firingDuration||this.isLoopFiring)&&this._isFiring&&(this._perMuzzleData[t].started?(this.useMuzzleTransform?this.stretch[t].SetSourceTransform(this._perMuzzleData[t].muzzleTransform):this.stretch[t].SetSourcePositionFromTransform(this._perMuzzleData[t].muzzleTransform),this.stretch[t].SetDestinationPosition(this._endPosition),this.stretch[t].SetIsNegZForward(!0)):(this._perMuzzleData[t].readyToStart?(this.StartMuzzleEffect(t),this._perMuzzleData[t].currentStartDelay=0,this._perMuzzleData[t].elapsedTime=0):this._perMuzzleData[t].currentStartDelay-=e,this._perMuzzleData[t].currentStartDelay<=0&&(this._perMuzzleData[t].readyToStart=!0))),this.stretch[t].Update(e)}GetBatches(e,t,r){if(this.display&&this._isFiring)for(var i=0;i<this.stretch.length;++i)this._perMuzzleData[i].started&&(this._firingDuration>=this._perMuzzleData[i].elapsedTime||this.isLoopFiring)&&this.stretch[i].GetBatches(e,t,r)}},q=we((H=pe).prototype,"name",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),W=we(H.prototype,"boneName",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),Y=we(H.prototype,"display",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),X=we(H.prototype,"destinationObserver",[l,u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),K=we(H.prototype,"firingDelay1",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Q=we(H.prototype,"firingDelay2",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Z=we(H.prototype,"firingDelay3",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),$=we(H.prototype,"firingDelay4",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),J=we(H.prototype,"firingDelay5",[m,b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),ee=we(H.prototype,"firingDelay6",[p,v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),te=we(H.prototype,"firingDelay7",[g,y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),re=we(H.prototype,"firingDelay8",[w,E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),ie=we(H.prototype,"firingDurationOverride",[T,S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),ne=we(H.prototype,"firingPeakTime",[_,j],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),ae=we(H.prototype,"isLoopFiring",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),oe=we(H.prototype,"maxRadius",[z,O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),se=we(H.prototype,"maxScale",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),le=we(H.prototype,"minRadius",[A,x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),ue=we(H.prototype,"minScale",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),ce=we(H.prototype,"scaleEffectTarget",[C,D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),fe=we(H.prototype,"sourceObserver",[I,L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),de=we(H.prototype,"startCurveSet",[F,G],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),he=we(H.prototype,"stopCurveSet",[B,N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),me=we(H.prototype,"stretch",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),be=we(H.prototype,"useMuzzleTransform",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),V=H))||V)||V)},"./eve/effect/index.js":function(e,t,r){"use strict";r.r(t);var i=r("./eve/effect/EveLensflare.js");r.d(t,"EveLensflare",(function(){return i.EveLensflare}));var n=r("./eve/effect/EveMeshOverlayEffect.js");r.d(t,"EveMeshOverlayEffect",(function(){return n.EveMeshOverlayEffect}));var a=r("./eve/effect/EveOccluder.js");r.d(t,"EveOccluder",(function(){return a.EveOccluder}));var o=r("./eve/effect/EveStretch.js");r.d(t,"EveStretch",(function(){return o.EveStretch}));var s=r("./eve/effect/EveTurretFiringFX.js");r.d(t,"EveTurretFiringFX",(function(){return s.EveTurretFiringFX}))},"./eve/index.js":function(e,t,r){"use strict";r.r(t);var i=r("./eve/child/index.js");r.d(t,"EveChild",(function(){return i.EveChild})),r.d(t,"EveChildBillboard",(function(){return i.EveChildBillboard})),r.d(t,"EveChildContainer",(function(){return i.EveChildContainer})),r.d(t,"EveChildMesh",(function(){return i.EveChildMesh})),r.d(t,"EveChildParticleSystem",(function(){return i.EveChildParticleSystem}));var n=r("./eve/effect/index.js");r.d(t,"EveLensflare",(function(){return n.EveLensflare})),r.d(t,"EveMeshOverlayEffect",(function(){return n.EveMeshOverlayEffect})),r.d(t,"EveOccluder",(function(){return n.EveOccluder})),r.d(t,"EveStretch",(function(){return n.EveStretch})),r.d(t,"EveTurretFiringFX",(function(){return n.EveTurretFiringFX}));var a=r("./eve/item/index.js");r.d(t,"EveBoosterBatch",(function(){return a.EveBoosterBatch})),r.d(t,"EveBoosterSetItem",(function(){return a.EveBoosterSetItem})),r.d(t,"EveBoosterSet",(function(){return a.EveBoosterSet})),r.d(t,"EveCurveLineSetItem",(function(){return a.EveCurveLineSetItem})),r.d(t,"EveCurveLineSet",(function(){return a.EveCurveLineSet})),r.d(t,"EveCustomMask",(function(){return a.EveCustomMask})),r.d(t,"EveLocator2",(function(){return a.EveLocator2})),r.d(t,"EveLocator",(function(){return a.EveLocator})),r.d(t,"EveObjectSetItem",(function(){return a.EveObjectSetItem})),r.d(t,"EveObjectSet",(function(){return a.EveObjectSet})),r.d(t,"EvePlaneSetItem",(function(){return a.EvePlaneSetItem})),r.d(t,"EvePlaneSet",(function(){return a.EvePlaneSet})),r.d(t,"EveSpaceObjectDecal",(function(){return a.EveSpaceObjectDecal})),r.d(t,"EveSpotlightSetItem",(function(){return a.EveSpotlightSetItem})),r.d(t,"EveSpotlightSet",(function(){return a.EveSpotlightSet})),r.d(t,"EveSpriteSetItem",(function(){return a.EveSpriteSetItem})),r.d(t,"EveSpriteSet",(function(){return a.EveSpriteSet})),r.d(t,"EveTurretSetItem",(function(){return a.EveTurretSetItem})),r.d(t,"EveTurretSet",(function(){return a.EveTurretSet}));var o=r("./eve/object/index.js");r.d(t,"EveMissileWarhead",(function(){return o.EveMissileWarhead})),r.d(t,"EveMissile",(function(){return o.EveMissile})),r.d(t,"EveTransform",(function(){return o.EveTransform})),r.d(t,"EveEffectRoot",(function(){return o.EveEffectRoot})),r.d(t,"EvePlanet",(function(){return o.EvePlanet})),r.d(t,"EveShip",(function(){return o.EveShip})),r.d(t,"EveSpaceObject",(function(){return o.EveSpaceObject})),r.d(t,"EveStation",(function(){return o.EveStation}));var s=r("./eve/EveSpaceScene.js");r.d(t,"EveSpaceScene",(function(){return s.EveSpaceScene}))},"./eve/item/EveBoosterSet.js":function(e,t,r){"use strict";r.r(t),r.d(t,"EveBoosterBatch",(function(){return Se})),r.d(t,"EveBoosterSetItem",(function(){return _e})),r.d(t,"EveBoosterSet",(function(){return je}));var i,n,a,o,s,l,u,c,f,d,h,m,b,p,v,g,y,w,E,T,S,_,j,R,z,O,P,A,x,M,C,D,I,L,F,G,B,N,U,k,V,H,q,W,Y,X,K,Q,Z,$,J,ee,te,re,ie,ne,ae,oe,se,le,ue,ce,fe,de,he,me=r("./global/utils/index.js"),be=r("./global/index.js"),pe=r("./global/math/index.js"),ve=r("./core/index.js"),ge=r("./eve/item/EveObjectSet.js"),ye=r("./core/mesh/index.js"),we=r("./eve/item/EveSpriteSet.js");function Ee(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function Te(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}class Se extends ve.Tw2RenderBatch{constructor(...e){super(...e),this.boosters=null}Commit(e){this.boosters.Render(e)}}var _e=(i=me.meta.type("EveBoosterSetItem"),n=me.meta.uint,a=me.meta.uint,o=me.meta.plain,s=me.meta.string,l=me.meta.float,u=me.meta.matrix4,c=me.meta.boolean,f=me.meta.plain,d=me.meta.float,i((_=class extends ge.EveObjectSetItem{constructor(...e){super(...e),Ee(this,"atlas0",b,this),Ee(this,"atlas1",p,this),Ee(this,"customValues",v,this),Ee(this,"locatorName",g,this),Ee(this,"seed",y,this),Ee(this,"transform",w,this),Ee(this,"updateFromLocator",E,this),Ee(this,"visible",T,this),Ee(this,"wavePhase",S,this)}GetPosition(e){return pe.mat4.getTranslation(e,this.transform)}GetDirection(e){pe.vec3.set(e,this.transform[8],this.transform[9],this.transform[10]),pe.vec3.normalize(e,e);var t=this.GetScale();return t<3&&pe.vec3.scale(e,e,t/3),e}GetScale(){var e=this.transform;return Math.max(pe.vec3.length([e[0],e[1],e[2]]),pe.vec3.length([e[4],e[5],e[6]]))}},b=Te((m=_).prototype,"atlas0",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),p=Te(m.prototype,"atlas1",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),v=Te(m.prototype,"customValues",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),g=Te(m.prototype,"locatorName",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),y=Te(m.prototype,"seed",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 7*Math.random()}}),w=Te(m.prototype,"transform",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return pe.mat4.create()}}),E=Te(m.prototype,"updateFromLocator",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),T=Te(m.prototype,"visible",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{glow:!0,symHalo:!0,halo:!0,trail:!0,customValues:!0}}}),S=Te(m.prototype,"wavePhase",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Math.random()}}),h=m))||h),je=(j=me.meta.type("EveBoosterSet",!0),R=me.meta.notImplemented,z=me.meta.boolean,O=me.meta.struct("Tw2Effect"),P=me.meta.color,A=me.meta.struct("EveSpriteSet"),x=me.meta.float,M=me.meta.color,C=me.meta.float,D=me.meta.float,I=me.meta.notImplemented,L=me.meta.float,F=me.meta.float,G=me.meta.color,B=me.meta.vector4,N=me.meta.color,U=me.meta.color,k=me.meta.float,V=me.meta.float,H=me.meta.float,q=me.meta.plain,j((he=de=class e extends ge.EveObjectSet{constructor(...t){super(...t),Ee(this,"alwaysOn",X,this),Ee(this,"effect",K,this),Ee(this,"glowColor",Q,this),Ee(this,"glows",Z,this),Ee(this,"glowScale",$,this),Ee(this,"haloColor",J,this),Ee(this,"haloScaleX",ee,this),Ee(this,"haloScaleY",te,this),Ee(this,"maxVel",re,this),Ee(this,"symHaloScale",ie,this),Ee(this,"trailColor",ne,this),Ee(this,"trailSize",ae,this),Ee(this,"warpGlowColor",oe,this),Ee(this,"warpHaloColor",se,this),Ee(this,"glowDistance",le,this),Ee(this,"haloDistance",ue,this),Ee(this,"symHaloDistance",ce,this),Ee(this,"visible",fe,this),this._parentTransform=pe.mat4.create(),this._positions=null,this._decl=ve.Tw2VertexDeclaration.from(e.vertexDeclarations),this._perObjectData=ve.Tw2PerObjectData.from(e.perObjectData),this._locatorDirty=!0}GetResources(e=[]){return this.effect&&this.effect.GetResources(e),e}RebuildItems(t){var r=this.glows,i=e.global,n=i.vec3_0;r&&r.ClearItems(),this._visibleItems=[];for(var a=0;a<this.items.length;a++){var o=this.items[a];if(o.display){if(this._visibleItems.push(o),r){var s=o.customValues&&o.customValues.display?o.customValues:this,l=o.GetPosition(i.vec3_1),u=o.GetDirection(i.vec3_2),c=o.GetScale();this.visible.glows&&o.visible.glow&&r.CreateItem({name:o.name+"_glow",position:pe.vec3.subtract(n,l,pe.vec3.scale(n,u,s.glowDistance)),blinkRate:o.seed,blinkPhase:o.seed,minScale:s.glowScale*c,maxScale:s.glowScale*c,color:s.glowColor,warpColor:s.warpGlowColor}),this.visible.symHalos&&o.visible.symHalo&&r.CreateItem({name:o.name+"_symHalo",position:pe.vec3.subtract(n,l,pe.vec3.scale(n,u,s.symHaloDistance)),blinkRate:o.seed,blinkPhase:o.seed+1,minScale:s.symHaloScale*c,maxScale:s.symHaloScale*c,color:s.haloColor,warpColor:s.warpHaloColor}),this.visible.halos&&o.visible.halo&&r.CreateItem({name:o.name+"_halo",position:pe.vec3.subtract(n,l,pe.vec3.scale(n,u,s.haloDistance)),blinkRate:o.seed,blinkPhase:o.seed+1,minScale:s.haloScaleX*c,maxScale:s.haloScaleY*c,color:s.haloColor,warpColor:s.warpHaloColor})}o._dirty=!1}}this._dirty=!0}FindItemByLocatorName(e){for(var t=0;t<this.items.length;t++)if(this.items[t].locatorName&&this.items[t].locatorName===e)return this.items[t];return null}UpdateItemsFromLocators(e){for(var t=Array.from(this.items),r=0;r<e.length;r++){var{name:i,transform:n,atlasIndex0:a,atlasIndex1:o}=e[r],s=this.FindItemByLocatorName(i);s?(t.splice(t.indexOf(s),1),s.updateFromLocator&&(pe.mat4.copy(s.transform,n),s.atlas0=a,s.atlas1=o,s.UpdateValues())):this.CreateItem({name:i,locatorName:i,updateFromLocator:!0,atlas0:a,atlas1:o,transform:n})}for(var l=0;l<t.length;l++)null!==t[l].locatorName&&(this.RemoveItem(t[l]),l--);this._locatorDirty=!1,this._dirty&&this.Rebuild()}RebuildItemsFromLocators(){this._locatorDirty=!0}SetWorldSpriteScale(e){this.glows&&this.glows.SetWorldSpriteScale(e)}Update(e,t){pe.mat4.copy(this._parentTransform,t),super.Update(e),this.glows&&this.glows.Update(e)}Unload(e){this._positions&&(be.device.gl.deleteBuffer(this._positions),this._positions=null),this.glows&&this.glows.Unload(e),super.Unload(e)}Rebuild(){this.RebuildItems();var t=this._visibleItems.length;if(this._dirty=!1,t){for(var r=be.device,i=e._box,n=new Float32Array(t*i.length*6*28),a=[0,3,1,3,2,1],o=0,s=0;s<t;++s)for(var l=this._visibleItems[s],u=0;u<i.length;++u)for(var c=0;c<a.length;++c)n[o++]=i[u][a[c]][0],n[o++]=i[u][a[c]][1],n[o++]=i[u][a[c]][2],n[o++]=0,n[o++]=0,n.set(l.transform,o),o+=16,n[o++]=0,n[o++]=1,n[o++]=1,n[o++]=1,n[o++]=l.wavePhase,n[o++]=l.atlas0,n[o++]=l.atlas1;this._positions=r.gl.createBuffer(),r.gl.bindBuffer(r.gl.ARRAY_BUFFER,this._positions),r.gl.bufferData(r.gl.ARRAY_BUFFER,n,r.gl.STATIC_DRAW),r.gl.bindBuffer(r.gl.ARRAY_BUFFER,null),this._positions.count=12*t*3,this.glows&&this.glows.Rebuild(),super.Rebuild()}else super.Rebuild()}GetBatches(e,t,r){if(this.display&&e===be.device.RM_ADDITIVE&&this._positions&&this._visibleItems.length){if(this.effect){var i=new Se;pe.mat4.transpose(this._perObjectData.vs.Get("WorldMat"),this._parentTransform),this._perObjectData.vs.Set("Shipdata",r.vs.Get("Shipdata")),this._perObjectData.ps=r.ps,i.perObjectData=this._perObjectData,i.boosters=this,i.renderMode=be.device.RM_ADDITIVE,t.Commit(i)}this.glows&&this.glows.GetBoosterGlowBatches(e,t,r,this._parentTransform,r.vs.Get("Shipdata")[0],0)}}Render(e){if(!this.effect||!this.effect.IsGood()||!this._positions)return!1;var t=be.device,r=t.gl;r.bindBuffer(r.ARRAY_BUFFER,this._positions);for(var i=0;i<this.effect.GetPassCount(e);++i){if(this.effect.ApplyPass(e,i),!this._decl.SetDeclaration(t,this.effect.GetPassInput(e,i),112))return!1;t.ApplyShadowState(),r.drawArrays(r.TRIANGLES,0,this._positions.count)}return!0}static from(t,r){var i=new e;if(t&&(Object(me.assignIfExists)(i,t,["alwaysOn","glowColor","glowScale","haloColor","haloScaleX","haloScaleY","maxVel","symHaloScale","trailColor","trailSize","warpGlowColor","name","display","glowDistance","haloDistance","symHaloDistance","warpHaloColor"]),void 0!==t.warpHalpColor&&(i.warpHaloColor=t.warpHalpColor),t.visible&&Object(me.assignIfExists)(i.visible,t.visible,["glows","symHalos","halos","trails"]),t.effect&&(i.effect=ye.Tw2Effect.from(t.effect)),t.glows&&(i.glows=we.EveSpriteSet.from(t.glows)),t.items))for(var n=0;n<t.items.length;n++)i.CreateItem(t.items[n]);return r&&r.skipUpdate||i.Initialize(),i}},de.Item=_e,de.perObjectData={vs:[["WorldMat",16],["Shipdata",4]]},de.vertexDeclarations=[{usage:"POSITION",usageIndex:0,elements:3},{usage:"TEXCOORD",usageIndex:0,elements:2},{usage:"TEXCOORD",usageIndex:1,elements:4},{usage:"TEXCOORD",usageIndex:2,elements:4},{usage:"TEXCOORD",usageIndex:3,elements:4},{usage:"TEXCOORD",usageIndex:4,elements:4},{usage:"TEXCOORD",usageIndex:5,elements:4},{usage:"TEXCOORD",usageIndex:6,elements:1},{usage:"TEXCOORD",usageIndex:7,elements:2}],de._box=[[[-1,-1,0],[1,-1,0],[1,1,0],[-1,1,0]],[[-1,-1,-1],[-1,1,-1],[1,1,-1],[1,-1,-1]],[[-1,-1,0],[-1,1,0],[-1,1,-1],[-1,-1,-1]],[[1,-1,0],[1,-1,-1],[1,1,-1],[1,1,0]],[[-1,-1,0],[-1,-1,-1],[1,-1,-1],[1,-1,0]],[[-1,1,0],[1,1,0],[1,1,-1],[-1,1,-1]]],X=Te((Y=he).prototype,"alwaysOn",[R,z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),K=Te(Y.prototype,"effect",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Q=Te(Y.prototype,"glowColor",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return pe.vec4.create()}}),Z=Te(Y.prototype,"glows",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),$=Te(Y.prototype,"glowScale",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),J=Te(Y.prototype,"haloColor",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return pe.vec4.create()}}),ee=Te(Y.prototype,"haloScaleX",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),te=Te(Y.prototype,"haloScaleY",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),re=Te(Y.prototype,"maxVel",[I,L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 250}}),ie=Te(Y.prototype,"symHaloScale",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),ne=Te(Y.prototype,"trailColor",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return pe.vec4.create()}}),ae=Te(Y.prototype,"trailSize",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return pe.vec4.create()}}),oe=Te(Y.prototype,"warpGlowColor",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return pe.vec4.create()}}),se=Te(Y.prototype,"warpHaloColor",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return pe.vec4.create()}}),le=Te(Y.prototype,"glowDistance",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 2.5}}),ue=Te(Y.prototype,"haloDistance",[V],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 3.01}}),ce=Te(Y.prototype,"symHaloDistance",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 3}}),fe=Te(Y.prototype,"visible",[q],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{glows:!0,symHalos:!0,halos:!0,trails:!0}}}),W=Y))||W)},"./eve/item/EveCurveLineSet.js":function(e,t,r){"use strict";r.r(t),r.d(t,"EveCurveLineSetItem",(function(){return be})),r.d(t,"EveCurveLineSet",(function(){return pe}));var i,n,a,o,s,l,u,c,f,d,h,m,b,p,v,g,y,w,E,T,S,_,j,R,z,O,P,A,x,M,C,D,I,L,F,G,B,N,U,k,V,H,q,W,Y,X,K,Q,Z,$,J,ee,te,re,ie,ne,ae,oe,se=r("./global/index.js"),le=r("./global/utils/index.js"),ue=r("./global/math/index.js"),ce=r("./core/index.js"),fe=r("./eve/item/EveObjectSet.js");function de(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function he(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var me={INVALID:0,STRAIGHT:1,SPHERED:2,CURVED:3},be=(i=le.meta.type("EveCurveLineSetItem"),n=le.meta.float,a=le.meta.float,o=le.meta.color,s=le.meta.color,l=le.meta.vector3,u=le.meta.color,c=le.meta.float,f=le.meta.uint,d=le.meta.color,h=le.meta.vector3,m=le.meta.vector3,b=le.meta.float,p=le.meta.enums(me),v=le.meta.isPrivate,i((D=C=class e extends fe.EveObjectSetItem{constructor(...e){super(...e),de(this,"animationSpeed",w,this),de(this,"animationScale",E,this),de(this,"color1",T,this),de(this,"color2",S,this),de(this,"intermediatePosition",_,this),de(this,"multiColor",j,this),de(this,"multiColorBorder",R,this),de(this,"numOfSegments",z,this),de(this,"overlayColor",O,this),de(this,"position1",P,this),de(this,"position2",A,this),de(this,"width",x,this),de(this,"type",M,this)}ChangePositionFromRay(t,r,i=e.DEFAULT_RAY_LENGTH){ue.vec3.copy(this.position1,t),ue.vec3.scaleAndAdd(this.position2,t,r,i),this.UpdateValues()}ChangeColor(e,t){ue.vec3.copy(this.color1,e),ue.vec3.copy(this.color2,t),this.UpdateValues()}ChangeWidth(e){this.width=e,this.UpdateValues()}ChangeCartesian(e,t,r){ue.vec3.copy(this.position1,e),ue.vec3.copy(this.position2,t),ue.vec3.copy(this.intermediatePosition,r),this.UpdateValues()}ChangePositionCartesian(e,t){ue.vec3.copy(this.position1,e),ue.vec3.copy(this.position2,t),this.UpdateValues()}ChangeIntermediateCartesian(e){ue.vec3.copy(this.intermediatePosition,e),this.UpdateValues()}ChangeSpherical(e,t,r,i){ue.vec3.fromSpherical(this.position1,e,i),ue.vec3.fromSpherical(this.position2,t,i),ue.vec3.fromSpherical(this.intermediatePosition,r,i),this.UpdateValues()}ChangePositionSpherical(e,t,r){ue.vec3.fromSpherical(this.position1,e,r),ue.vec3.fromSpherical(this.position2,t,r),this.UpdateValues()}ChangeIntermediateSpherical(e,t){ue.vec3.fromSpherical(this.intermediatePosition,e,t),this.UpdateValues()}ChangeMultiColor(e,t){ue.vec4.copy(this.multiColor,e),this.multiColorBorder=t,this.UpdateValues()}ChangeAnimation(e,t,r){ue.vec4.copy(this.overlayColor,e),this.animationSpeed=t,this.animationScale=r,this.UpdateValues()}ChangeSegmentation(t){this.type!==e.Type.STRAIGHT&&(this.numOfSegments=t,this.UpdateValues())}},C.Type=me,C.DEFAULT_RAY_LENGTH=1e3,C.DEFAULT_CURVED_SEGMENTS=20,C.DEFAULT_SPHERED_SEGMENTS=20,w=he((y=D).prototype,"animationSpeed",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),E=he(y.prototype,"animationScale",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),T=he(y.prototype,"color1",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return ue.vec4.fromValues(1,1,1,1)}}),S=he(y.prototype,"color2",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return ue.vec4.fromValues(1,1,1,1)}}),_=he(y.prototype,"intermediatePosition",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return ue.vec3.create()}}),j=he(y.prototype,"multiColor",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return ue.vec4.fromValues(0,0,0,1)}}),R=he(y.prototype,"multiColorBorder",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return-1}}),z=he(y.prototype,"numOfSegments",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),O=he(y.prototype,"overlayColor",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return ue.vec4.fromValues(0,0,0,1)}}),P=he(y.prototype,"position1",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return ue.vec3.create()}}),A=he(y.prototype,"position2",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return ue.vec3.create()}}),x=he(y.prototype,"width",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),M=he(y.prototype,"type",[p,v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return me.INVALID}}),g=y))||g),pe=(I=le.meta.type("EveCurveLineSet"),L=le.meta.boolean,F=le.meta.struct("Tw2Effect"),G=le.meta.float,B=le.meta.notImplemented,N=le.meta.float,U=le.meta.boolean,k=le.meta.struct("Tw2Effect"),V=le.meta.quaternion,H=le.meta.vector3,q=le.meta.vector3,W=le.meta.matrix4,I((oe=ae=class e extends fe.EveObjectSet{constructor(){super(),de(this,"additive",K,this),de(this,"lineEffect",Q,this),de(this,"lineWidthFactor",Z,this),de(this,"depthOffset",$,this),de(this,"pickable",J,this),de(this,"pickEffect",ee,this),de(this,"rotation",te,this),de(this,"scaling",re,this),de(this,"translation",ie,this),de(this,"transform",ne,this),this._worldTransform=ue.mat4.create(),this._vertexSize=26,this._vbSize=0,this._vb=null,this._perObjectData=ce.Tw2PerObjectData.from(e.perObjectData),this._decl=ce.Tw2VertexDeclaration.from(e.vertexDeclarations).SetStride(104),e.init()}get lines(){return this.items}set lines(e){this.items=e}get lineCount(){for(var e=0,t=0;t<this.items.length;t++)this.items[t].type!==be.Type.INVALID&&(e+=this.items[t].numOfSegments);return e}Initialize(){this.UpdateValues(),this.Rebuild()}GetResources(e=[]){return this.lineEffect&&this.lineEffect.GetResources(e),e}AddStraightLineFromRay(e,t,r,i,n,a){var o=this.AddStraightLine([0,0,0],[0,0,0],i,n,a);return o.ChangePositionFromRay(e,t,r),o}AddStraightLine(e,t,r,i,n){return this.CreateItem({type:be.Type.STRAIGHT,position1:e,position2:t,color1:i,color2:n,width:r})}AddCurvedLineCrt(e,t,r,i,n,a){return this.CreateItem({type:be.Type.CURVED,position1:e,position2:t,intermediatePosition:r,color1:n,color2:a,width:i,numOfSegments:be.DEFAULT_CURVED_SEGMENTS})}AddCurvedLineSph(t,r,i,n,a,o,s){var l=e.global;return this.CreateItem({type:be.Type.CURVED,position1:ue.vec3.fromSpherical(l.vec3_0,t,i),position2:ue.vec3.fromSpherical(l.vec3_1,r,i),intermediatePosition:ue.vec3.fromSpherical(l.vec3_2,n,i),color1:o,color2:s,width:a,numOfSegments:be.DEFAULT_CURVED_SEGMENTS})}AddSpheredLineCrt(e,t,r,i,n,a){return this.CreateItem({type:be.Type.SPHERED,position1:e,position2:t,intermediatePosition:r,color1:n,color2:a,width:i,numOfSegments:be.DEFAULT_SPHERED_SEGMENTS})}AddSpheredLineSph(t,r,i,n,a,o,s){var l=e.global;return this.CreateItem({type:be.Type.SPHERED,position1:ue.vec3.fromSpherical(l.vec3_0,t,i),position2:ue.vec3.fromSpherical(l.vec3_1,r,i),intermediatePosition:ue.vec3.fromSpherical(l.vec3_2,n,i),color1:o,color2:s,width:a,numOfSegments:be.DEFAULT_SPHERED_SEGMENTS})}OnValueChanged(){ue.mat4.fromRotationTranslationScale(this.transform,this.rotation,this.translation,this.scaling),this._dirty=!0}UpdateViewDependentData(e){e?ue.mat4.multiply(this._worldTransform,e,this.transform):ue.mat4.copy(this._worldTransform,this.transform)}Unload(e){this._vb&&(se.device.gl.deleteBuffer(this._vb),this._vb=null),super.Unload(e)}Rebuild(){this.RebuildItems(),this._vbSize=this.lineCount,this._dirty=!1;var t=this._visibleItems.length;if(t){for(var r,i=e.global,n=new Float32Array(6*this._vbSize*this._vertexSize),a=i.vec3_0,o=i.vec3_1,s=i.vec3_2,l=i.vec3_3,u=i.vec3_4,c=i.vec3_5,f=i.vec3_6,d=i.mat4_0,h=i.vec3_7,m=i.vec3_8,b=i.vec3_9,p=i.vec3_10,v=i.vec4_0,g=i.vec4_1,y=0,w=0;w<t;++w){var E=this._visibleItems[w];switch(E.type){case be.Type.INVALID:break;case be.Type.STRAIGHT:e.WriteLineVerticesToBuffer(this,E.position1,E.color1,0,E.position2,E.color2,1,w,n,y),y+=6*this._vertexSize;break;case be.Type.SPHERED:ue.vec3.subtract(a,E.position1,E.intermediatePosition),ue.vec3.subtract(o,E.position2,E.intermediatePosition),ue.vec3.normalize(s,a),ue.vec3.normalize(l,o),ue.vec3.cross(u,a,o);var T=Math.acos(ue.vec3.dot(s,l))/E.numOfSegments;ue.mat4.identity(d),ue.mat4.rotate(d,d,T,u),ue.vec3.copy(h,a),ue.vec4.copy(v,E.color1);for(var S=0;S<this.lines[w].numOfSegments;++S){var _=(S+1)/E.numOfSegments;ue.vec3.transformMat4(m,h,d),g[0]=E.color1[0]*(1-_)+E.color2[0]*_,g[1]=E.color1[1]*(1-_)+E.color2[1]*_,g[2]=E.color1[2]*(1-_)+E.color2[2]*_,g[3]=E.color1[3]*(1-_)+E.color2[3]*_,ue.vec3.add(b,h,E.intermediatePosition),ue.vec3.add(p,m,E.intermediatePosition),e.WriteLineVerticesToBuffer(this,b,v,S/E.numOfSegments,p,g,_,w,n,y),y+=6*this._vertexSize,r=h,h=m,m=r,r=v,v=g,g=r}break;case be.Type.CURVED:ue.vec3.subtract(c,E.intermediatePosition,E.position1),ue.vec3.subtract(f,E.position2,E.intermediatePosition),ue.vec3.copy(b,E.position1),ue.vec3.copy(v,E.color1);for(var j=0;j<E.numOfSegments;++j){var R=(j+1)/E.numOfSegments;ue.vec3.hermite(p,E.position1,c,E.position2,f,R),g[0]=E.color1[0]*(1-R)+E.color2[0]*R,g[1]=E.color1[1]*(1-R)+E.color2[1]*R,g[2]=E.color1[2]*(1-R)+E.color2[2]*R,g[3]=E.color1[3]*(1-R)+E.color2[3]*R,e.WriteLineVerticesToBuffer(this,b,v,j/E.numOfSegments,p,g,R,w,n,y),y+=6*this._vertexSize,r=b,b=p,p=r,r=v,v=g,g=r}}}this._vb=se.device.gl.createBuffer(),se.device.gl.bindBuffer(se.device.gl.ARRAY_BUFFER,this._vb),se.device.gl.bufferData(se.device.gl.ARRAY_BUFFER,n,se.device.gl.STATIC_DRAW),se.device.gl.bindBuffer(se.device.gl.ARRAY_BUFFER,null),super.Rebuild()}else super.Rebuild()}GetBatches(t,r){if(this.display&&this._vb){var i;switch(t){case se.device.RM_TRANSPARENT:if(this.additive||!this.lineEffect)return;i=this.lineEffect;break;case se.device.RM_ADDITIVE:if(!this.additive||!this.lineEffect)return;i=this.lineEffect;break;case se.device.RM_PICKABLE:if(!this.pickable||!this.pickEffect)return;i=this.pickEffect}var n=new ce.Tw2ForwardingRenderBatch,a=ue.mat4.transpose(e.global.mat4_0,this._worldTransform);this._perObjectData.vs.Set("WorldMat",a),this._perObjectData.ps.Set("WorldMat",a),n.perObjectData=this._perObjectData,n.geometryProvider=this,n.renderMode=t,n.effect=i,r.Commit(n)}}Render(e,t){if(!e.effect||!e.effect.IsGood()||!this._vb)return!1;var r=se.device,i=r.gl;i.bindBuffer(i.ARRAY_BUFFER,this._vb);for(var n=e.effect.GetPassCount(t),a=0;a<n;++a){e.effect.ApplyPass(t,a);var o=e.effect.GetPassInput(t,a);if(!this._decl.SetDeclaration(r,o,this._decl.stride))return!1;r.ApplyShadowState(),i.drawArrays(i.TRIANGLES,0,6*this._vbSize)}return!0}static FillColorVertices(e,t,r){return t[r++]=e.multiColor[0],t[r++]=e.multiColor[1],t[r++]=e.multiColor[2],t[r++]=e.multiColor[3],t[r++]=e.overlayColor[0],t[r++]=e.overlayColor[1],t[r++]=e.overlayColor[2],t[r++]=e.overlayColor[3],r}static WriteLineVerticesToBuffer(t,r,i,n,a,o,s,l,u,c){var f=t.items[l];u[c++]=r[0],u[c++]=r[1],u[c++]=r[2],u[c++]=a[0]-r[0],u[c++]=a[1]-r[1],u[c++]=a[2]-r[2],u[c++]=-t.lineWidthFactor*f.width,u[c++]=0,u[c++]=n,u[c++]=f.multiColorBorder,u[c++]=s-n,u[c++]=f.animationSpeed,u[c++]=f.animationScale,u[c++]=l,u[c++]=i[0],u[c++]=i[1],u[c++]=i[2],u[c++]=i[3],c=e.FillColorVertices(f,u,c),u[c++]=r[0],u[c++]=r[1],u[c++]=r[2],u[c++]=a[0]-r[0],u[c++]=a[1]-r[1],u[c++]=a[2]-r[2],u[c++]=t.lineWidthFactor*f.width,u[c++]=0,u[c++]=n,u[c++]=f.multiColorBorder,u[c++]=s-n,u[c++]=f.animationSpeed,u[c++]=f.animationScale,u[c++]=l,u[c++]=i[0],u[c++]=i[1],u[c++]=i[2],u[c++]=i[3],c=e.FillColorVertices(f,u,c),u[c++]=a[0],u[c++]=a[1],u[c++]=a[2],u[c++]=r[0]-a[0],u[c++]=r[1]-a[1],u[c++]=r[2]-a[2],u[c++]=-t.lineWidthFactor*f.width,u[c++]=1,u[c++]=s,u[c++]=f.multiColorBorder,u[c++]=s-n,u[c++]=f.animationSpeed,u[c++]=f.animationScale,u[c++]=l,u[c++]=o[0],u[c++]=o[1],u[c++]=o[2],u[c++]=o[3],c=e.FillColorVertices(f,u,c),u[c++]=r[0],u[c++]=r[1],u[c++]=r[2],u[c++]=a[0]-r[0],u[c++]=a[1]-r[1],u[c++]=a[2]-r[2],u[c++]=t.lineWidthFactor*f.width,u[c++]=0,u[c++]=n,u[c++]=f.multiColorBorder,u[c++]=s-n,u[c++]=f.animationSpeed,u[c++]=f.animationScale,u[c++]=l,u[c++]=i[0],u[c++]=i[1],u[c++]=i[2],u[c++]=i[3],c=e.FillColorVertices(f,u,c),u[c++]=a[0],u[c++]=a[1],u[c++]=a[2],u[c++]=r[0]-a[0],u[c++]=r[1]-a[1],u[c++]=r[2]-a[2],u[c++]=t.lineWidthFactor*f.width,u[c++]=1,u[c++]=s,u[c++]=f.multiColorBorder,u[c++]=s-n,u[c++]=f.animationSpeed,u[c++]=f.animationScale,u[c++]=l,u[c++]=o[0],u[c++]=o[1],u[c++]=o[2],u[c++]=o[3],c=e.FillColorVertices(f,u,c),u[c++]=a[0],u[c++]=a[1],u[c++]=a[2],u[c++]=r[0]-a[0],u[c++]=r[1]-a[1],u[c++]=r[2]-a[2],u[c++]=-t.lineWidthFactor*f.width,u[c++]=1,u[c++]=s,u[c++]=f.multiColorBorder,u[c++]=s-n,u[c++]=f.animationSpeed,u[c++]=f.animationScale,u[c++]=l,u[c++]=o[0],u[c++]=o[1],u[c++]=o[2],u[c++]=o[3],e.FillColorVertices(f,u,c)}static init(){e.global||(e.global={vec3_0:ue.vec3.create(),vec3_1:ue.vec3.create(),vec3_2:ue.vec3.create(),vec3_3:ue.vec3.create(),vec3_4:ue.vec3.create(),vec3_5:ue.vec3.create(),vec3_6:ue.vec3.create(),vec3_7:ue.vec3.create(),vec3_8:ue.vec3.create(),vec3_9:ue.vec3.create(),vec3_10:ue.vec3.create(),vec4_0:ue.vec4.create(),vec4_1:ue.vec4.create(),mat4_0:ue.mat4.create()})}},ae.Item=be,ae.global=null,ae.perObjectData={vs:[["WorldMat",16]],ps:[["WorldMat",16]]},ae.vertexDeclarations=[{usage:"POSITION",usageIndex:0,elements:3},{usage:"TEXCOORD",usageIndex:0,elements:4},{usage:"TEXCOORD",usageIndex:1,elements:4},{usage:"TEXCOORD",usageIndex:2,elements:3},{usage:"COLOR",usageIndex:0,elements:4},{usage:"COLOR",usageIndex:1,elements:4},{usage:"COLOR",usageIndex:2,elements:4}],K=he((X=oe).prototype,"additive",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Q=he(X.prototype,"lineEffect",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return ce.Tw2Effect.from({effectFilePath:"res:/Graphics/Effect/Managed/Space/SpecialFX/Lines3D.fx",textures:{TexMap:"res:/texture/global/white.dds.0.png",OverlayTexMap:"res:/texture/global/white.dds.0.png"}})}}),Z=he(X.prototype,"lineWidthFactor",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),$=he(X.prototype,"depthOffset",[B,N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),J=he(X.prototype,"pickable",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),ee=he(X.prototype,"pickEffect",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),te=he(X.prototype,"rotation",[V],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return ue.quat.create()}}),re=he(X.prototype,"scaling",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return ue.vec3.fromValues(1,1,1)}}),ie=he(X.prototype,"translation",[q],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return ue.vec3.create()}}),ne=he(X.prototype,"transform",[W],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return ue.mat4.create()}}),Y=X))||Y)},"./eve/item/EveCustomMask.js":function(e,t,r){"use strict";r.r(t),r.d(t,"EveCustomMask",(function(){return C}));var i,n,a,o,s,l,u,c,f,d,h,m,b,p,v,g,y,w,E,T,S,_,j,R,z,O=r("./global/math/index.js"),P=r("./global/utils/index.js"),A=r("./core/index.js");function x(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function M(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var C=(i=P.meta.type("EveCustomMask"),n=P.meta.stage(1),a=P.meta.string,o=P.meta.boolean,s=P.meta.boolean,l=P.meta.byte,u=P.meta.vector3,c=P.meta.quaternion,f=P.meta.vector3,d=P.meta.vector4,h=P.meta.plain,m=P.meta.todo("Move to direct class properties"),b=P.meta.isPrivate,i(p=n((z=class extends A.Tw2Transform{constructor(...e){super(...e),x(this,"name",g,this),x(this,"display",y,this),x(this,"isMirrored",w,this),x(this,"materialIndex",E,this),x(this,"position",T,this),x(this,"rotation",S,this),x(this,"scaling",_,this),x(this,"targetMaterials",j,this),x(this,"parameters",R,this),this._worldInverseTranspose=O.mat4.create()}UpdatePerObjectData(e,t,r,i){this.SetParentTransform(e);var n=this.display&&i?this.targetMaterials:O.vec4.ZERO;t.ps.Set("CustomMaskTarget"+r,n),t.ps.SetIndex("CustomMaskMaterialID"+r,0,this.materialIndex),t.vs.SetIndex("CustomMaskData"+r,1,this.isMirrored?1:0),t.vs.Set("CustomMaskMatrix"+r,this._worldInverseTranspose)}static ApplyMaterials(e,t,r){var i=0===r?"PMtl1":"PMtl2",n=0===r?"PatternMask1Map":"PatternMask2Map",a=e.parameters[i+"DiffuseColor"],o=e.parameters[i+"DustDiffuseColor"],s=e.parameters[i+"FresnelColor"],l=e.parameters[i+"Gloss"],u=e.parameters[n],{DiffuseColor:c,DustDiffuseColor:f,FresnelColor:d,Gloss:h,PatternMaskMap:m}=t.parameters;if(a&&(a.SetValue(c.GetValue()),c.OnEvent("modified",()=>a.SetValue(c.GetValue()))),o&&(o.SetValue(f.GetValue()),f.OnEvent("modified",()=>o.SetValue(o.GetValue()))),s&&(s.SetValue(d.GetValue()),d.OnEvent("modified",()=>s.SetValue(d.GetValue()))),l&&(l.SetValue(h.GetValue()),h.OnEvent("modified",()=>l.SetValue(h.GetValue()))),u){var b=m.GetOverrides();u.SetOverrides(b),u.SetValue(m.GetValue()),m.OnEvent("modified",()=>{u.SetOverrides(m.GetOverrides()),u.SetValue(m.resourcePath)})}}},g=M((v=z).prototype,"name",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),y=M(v.prototype,"display",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),w=M(v.prototype,"isMirrored",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),E=M(v.prototype,"materialIndex",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),T=M(v.prototype,"position",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return O.vec3.create()}}),S=M(v.prototype,"rotation",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return O.quat.create()}}),_=M(v.prototype,"scaling",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return O.vec3.fromValues(1,1,1)}}),j=M(v.prototype,"targetMaterials",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return O.vec4.fromValues(1,1,1,1)}}),R=M(v.prototype,"parameters",[h,m,b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{PatternMaskMap:new A.Tw2TextureParameter("PatternMaskMap","res:/texture/global/black.dds.0.png"),DiffuseColor:new A.Tw2Vector4Parameter("DiffuseColor",[0,0,0,1]),DustDiffuseColor:new A.Tw2Vector4Parameter("DustDiffuseColor",[0,0,0,1]),FresnelColor:new A.Tw2Vector4Parameter("FresnelColor",[0,0,0,1]),Gloss:new A.Tw2Vector4Parameter("Gloss",[0,0,0,0])}}}),p=v))||p)||p)},"./eve/item/EveLocator2.js":function(e,t,r){"use strict";r.r(t),r.d(t,"EveLocator2",(function(){return z})),r.d(t,"EveLocator",(function(){return O}));var i,n,a,o,s,l,u,c,f,d,h,m,b,p,v,g,y,w,E,T,S=r("./global/utils/index.js"),_=r("./global/math/index.js");function j(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function R(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var z=(i=S.meta.type("EveLocator2"),n=S.meta.stage(1),a=S.meta.string,o=S.meta.matrix4,s=S.meta.uint,l=S.meta.todo("Move to EveLocator only?"),u=S.meta.uint,c=S.meta.todo("Move to EveLocator only?"),f=S.meta.struct("Tw2Bone"),d=S.meta.isPrivate,i(h=n((E=w=class e extends S.meta.Model{constructor(...e){super(...e),j(this,"name",b,this),j(this,"transform",p,this),j(this,"atlasIndex0",v,this),j(this,"atlasIndex1",g,this),j(this,"bone",y,this)}GetGlowTranslation(t,r,i){return this.GetDirection(t),r&&_.vec3.scale(t,t,r),_.vec3.subtract(t,t,this.GetTranslation(e.global.vec3_0)),i&&_.vec3.transformMat4(t,t,i),t}GetWeaponRotationTranslation(t,r,i){var n=_.mat4.copy(e.global.mat4_0,this.transform);_.vec3.normalize(n.subarray(0,3),n.subarray(0,3)),_.vec3.normalize(n.subarray(4,7),n.subarray(4,7)),_.vec3.normalize(n.subarray(8,11),n.subarray(8,11)),i&&_.mat4.multiply(n,i,n),_.mat4.getRotation(t,n),_.mat4.getTranslation(r,n)}GetTranslation(e,t){return _.mat4.getTranslation(e,this.transform),t&&_.vec3.transformMat4(e,e,t),e}GetDirection(e,t){_.vec3.set(e,this.transform[8],this.transform[9],this.transform[10]),t&&_.vec3.transformMat4(e,e,t),_.vec3.normalize(e,e);var r=this.GetScale();return r<3&&_.vec3.scale(e,e,r/3),e}GetScale(){var e=this.transform;return Math.max(_.vec3.length([e[0],e[1],e[2]]),_.vec3.length([e[4],e[5],e[6]]))}FindBone(e){return this.bone=e.FindBoneForMesh(this.name,0),this.bone}},w.global={vec3_0:_.vec3.create(),mat4_0:_.mat4.create()},w.Type={AUDIO:"locator_audio",ATTACH:"locator_attach",BOOSTER:"locator_booster",TURRET:"locator_turret",XL_TURRET:"locator_xl",CHAIN:"locator_chain",ATOMIC:"locator_atomic"},b=R((m=E).prototype,"name",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),p=R(m.prototype,"transform",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return _.mat4.create()}}),v=R(m.prototype,"atlasIndex0",[s,l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),g=R(m.prototype,"atlasIndex1",[u,c],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),y=R(m.prototype,"bone",[f,d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),h=m))||h)||h),O=S.meta.type("EveLocator")(T=class extends z{})||T},"./eve/item/EveObjectSet.js":function(e,t,r){"use strict";r.r(t),r.d(t,"EveObjectSetItem",(function(){return T})),r.d(t,"EveObjectSet",(function(){return S}));var i,n,a,o,s,l,u,c,f,d,h,m,b,p,v,g=r("./global/utils/index.js"),y=r("./global/math/index.js");function w(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function E(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var T=(i=g.meta.boolean,o=class extends g.meta.Model{constructor(...e){super(...e),w(this,"display",a,this),this._dirty=!0}OnValueChanged(){this._dirty=!0}},a=E((n=o).prototype,"display",[i],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),n),S=(s=g.meta.boolean,l=g.meta.boolean,u=g.meta.list(),c=g.meta.abstract,f=g.meta.abstract,v=p=class extends g.meta.Model{constructor(...e){super(...e),w(this,"autoRebuild",h,this),w(this,"display",m,this),w(this,"items",b,this),this._dirty=!0,this._visibleItems=[]}Initialize(){this.Rebuild()}OnValueChanged(){this._dirty=!0}OnItemModified(e,t){this.items.includes(e)?(this._dirty=!0,this.EmitEvent("item_modified",e,t)):(this.EmitEvent("item_removed",e,t),e.OffEvent("modified",this.OnItemModified))}CreateItem(e={},t,r){var i=this.constructor.Item.from(e);return this.AddItem(i,!0,!0),r||this.EmitEvent("item_created",i),t||this.UpdateValues(),i}AddItem(e,t,r){return!this.items.includes(e)&&(this.items.push(e),this._dirty=!0,e.OnEvent("modified",this.OnItemModified,this),r||this.EmitEvent("item_added",e),t||this.UpdateValues(e),!0)}RemoveItem(e,t,r){var i=this.items.indexOf(e);return-1!==i&&(this.items.splice(i,1),this._dirty=!0,e.OffEvent("modified",this.OnItemModified),r||this.EmitEvent("item_removed",e),t||this.UpdateValues(e),!0)}ClearItems(e,t){var r;t||(r=Array.from(this.items));for(var i=0;i<this.items.length;i++)this.RemoveItem(this.items[i],!0,!0),i--;t||this.EmitEvent("items_cleared",r),e||this.UpdateValues()}RebuildItems(){this._visibleItems.splice(0);for(var e=0;e<this.items.length;e++){var t=this.items[e];t.HasEvent("modified",this.OnItemModified)||(this.EmitEvent("item_added",t),t.OnEvent("modified",this.OnItemModified,this)),t.display&&this._visibleItems.push(t),t._dirty&&this.EmitEvent("item_rebuilt",t),t._dirty=!1}this._dirty=!0}AreItemsDirty(){for(var e=0;e<this.items.length;e++)if(this.items[e]._dirty)return!0;return!1}Update(e){!this._dirty&&this.autoRebuild&&this.AreItemsDirty()&&(this._dirty=!0),this._dirty&&this.Rebuild()}Unload(e){e||this.EmitEvent("unloaded")}Rebuild(){this.EmitEvent("rebuilt")}GetBatches(e,t,r){}Render(){}},p.Item=null,p.global={vec3_0:y.vec3.create(),vec3_1:y.vec3.create(),vec3_2:y.vec3.create(),vec4_0:y.vec4.create(),vec4_1:y.vec4.create(),mat4_0:y.mat4.create()},h=E((d=v).prototype,"autoRebuild",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),m=E(d.prototype,"display",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),b=E(d.prototype,"items",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),E(d.prototype,"GetBatches",[c],Object.getOwnPropertyDescriptor(d.prototype,"GetBatches"),d.prototype),E(d.prototype,"Render",[f],Object.getOwnPropertyDescriptor(d.prototype,"Render"),d.prototype),d)},"./eve/item/EvePlaneSet.js":function(e,t,r){"use strict";r.r(t),r.d(t,"EvePlaneSetItem",(function(){return ie})),r.d(t,"EvePlaneSet",(function(){return ne}));var i,n,a,o,s,l,u,c,f,d,h,m,b,p,v,g,y,w,E,T,S,_,j,R,z,O,P,A,x,M,C,D,I,L,F,G,B,N,U,k,V,H,q,W,Y,X,K=r("./global/utils/index.js"),Q=r("./global/index.js"),Z=r("./global/math/index.js"),$=r("./core/index.js"),J=r("./eve/item/EveObjectSet.js");function ee(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function te(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}class re extends $.Tw2RenderBatch{constructor(...e){super(...e),this.planeSet=null}Commit(e){this.planeSet.Render(e)}}var ie=(i=K.meta.type("EvePlaneSetItem",!0),n=K.meta.string,a=K.meta.color,o=K.meta.vector4,s=K.meta.vector4,l=K.meta.vector4,u=K.meta.vector4,c=K.meta.uint,f=K.meta.vector3,d=K.meta.quaternion,h=K.meta.vector3,m=K.meta.uint,b=K.meta.todo("Identify if this is required anywhere apart from the EVESOF, or if it can be deprecated"),p=K.meta.uint,v=K.meta.todo("Identify if this is required anywhere apart from the EVESOF, or if it can be deprecated"),i((M=class extends J.EveObjectSetItem{constructor(...e){super(...e),ee(this,"name",w,this),ee(this,"color",E,this),ee(this,"layer1Scroll",T,this),ee(this,"layer1Transform",S,this),ee(this,"layer2Scroll",_,this),ee(this,"layer2Transform",j,this),ee(this,"maskAtlasID",R,this),ee(this,"position",z,this),ee(this,"rotation",O,this),ee(this,"scaling",P,this),ee(this,"boneIndex",A,this),ee(this,"groupIndex",x,this),this._localTransform=Z.mat4.create()}get maskMapAtlasIndex(){return this.maskAtlasID}set maskMapAtlasIndex(e){this.maskAtlasID=e}OnValueChanged(){Z.mat4.fromRotationTranslationScale(this._localTransform,this.rotation,this.translation,this.scaling),this._dirty=!0}static set(e,t,r){return t&&void 0!==t.maskMapAtlasIndex&&(t.maskAtlasID=t.maskMapAtlasIndex),super.set(e,t,r)}},w=te((y=M).prototype,"name",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),E=te(y.prototype,"color",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Z.vec4.create()}}),T=te(y.prototype,"layer1Scroll",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Z.vec4.create()}}),S=te(y.prototype,"layer1Transform",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Z.vec4.create()}}),_=te(y.prototype,"layer2Scroll",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Z.vec4.create()}}),j=te(y.prototype,"layer2Transform",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Z.vec4.create()}}),R=te(y.prototype,"maskAtlasID",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),z=te(y.prototype,"position",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Z.vec3.create()}}),O=te(y.prototype,"rotation",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Z.quat.create()}}),P=te(y.prototype,"scaling",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Z.vec3.fromValues(1,1,1)}}),A=te(y.prototype,"boneIndex",[m,b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),x=te(y.prototype,"groupIndex",[p,v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return-1}}),g=y))||g),ne=(C=K.meta.type("EvePlaneSet",!0),D=K.meta.string,I=K.meta.struct(),L=K.meta.notImplemented,F=K.meta.boolean,G=K.meta.notImplemented,B=K.meta.byte,N=K.meta.list("EvePlaneSetItem"),C((X=Y=class e extends J.EveObjectSet{constructor(...t){super(...t),ee(this,"name",V,this),ee(this,"effect",H,this),ee(this,"hideOnLowQuality",q,this),ee(this,"pickBufferID",W,this),this._vertexBuffer=null,this._indexBuffer=null,this._decl=$.Tw2VertexDeclaration.from(e.vertexDeclarations)}get planes(){return this.items}set planes(e){this.items=e}GetResources(e=[]){return this.effect&&this.effect.GetResources(e),e}Unload(e){this._vertexBuffer&&(Q.device.gl.deleteBuffer(this._vertexBuffer),this._vertexBuffer=null),this._indexBuffer&&(Q.device.gl.deleteBuffer(this._indexBuffer),this._indexBuffer=null),super.Unload(e)}Rebuild(){this.Unload(!0),this.RebuildItems(),this._dirty=!1;var e=this._visibleItems.length;if(e){for(var t=new Float32Array(4*e*35),r=0;r<e;++r){var i=this._visibleItems[r],n=4*r*35;t[n+35-3]=0,t[n+35+35-3]=1,t[n+70+35-3]=2,t[n+105+35-3]=3;for(var a=Z.mat4.fromRotationTranslationScale(i._localTransform,i.rotation,i.position,i.scaling),o=0;o<4;++o){var s=n+35*o;t[s]=a[0],t[s+1]=a[4],t[s+2]=a[8],t[s+3]=a[12],t[s+4]=a[1],t[s+5]=a[5],t[s+6]=a[9],t[s+7]=a[13],t[s+8]=a[2],t[s+9]=a[6],t[s+10]=a[10],t[s+11]=a[14],t[s+12]=i.color[0],t[s+13]=i.color[1],t[s+14]=i.color[2],t[s+15]=i.color[3],t[s+16]=i.layer1Transform[0],t[s+17]=i.layer1Transform[1],t[s+18]=i.layer1Transform[2],t[s+19]=i.layer1Transform[3],t[s+20]=i.layer2Transform[0],t[s+21]=i.layer2Transform[1],t[s+22]=i.layer2Transform[2],t[s+23]=i.layer2Transform[3],t[s+24]=i.layer1Scroll[0],t[s+25]=i.layer1Scroll[1],t[s+26]=i.layer1Scroll[2],t[s+27]=i.layer1Scroll[3],t[s+28]=i.layer2Scroll[0],t[s+29]=i.layer2Scroll[1],t[s+30]=i.layer2Scroll[2],t[s+31]=i.layer2Scroll[3],t[s+33]=i.boneIndex,t[s+34]=i.maskAtlasID}}this._vertexBuffer=Q.device.gl.createBuffer(),Q.device.gl.bindBuffer(Q.device.gl.ARRAY_BUFFER,this._vertexBuffer),Q.device.gl.bufferData(Q.device.gl.ARRAY_BUFFER,t,Q.device.gl.STATIC_DRAW),Q.device.gl.bindBuffer(Q.device.gl.ARRAY_BUFFER,null);for(var l=new Uint16Array(6*e),u=0;u<e;++u){var c=6*u,f=4*u;l[c]=f,l[c+1]=f+2,l[c+2]=f+1,l[c+3]=f,l[c+4]=f+3,l[c+5]=f+2}this._indexBuffer=Q.device.gl.createBuffer(),Q.device.gl.bindBuffer(Q.device.gl.ELEMENT_ARRAY_BUFFER,this._indexBuffer),Q.device.gl.bufferData(Q.device.gl.ELEMENT_ARRAY_BUFFER,l,Q.device.gl.STATIC_DRAW),Q.device.gl.bindBuffer(Q.device.gl.ELEMENT_ARRAY_BUFFER,null),this._indexBuffer.count=6*e,super.Rebuild()}else super.Rebuild()}GetBatches(e,t,r){if(this.display&&e===Q.device.RM_ADDITIVE&&this._indexBuffer&&this._vertexBuffer&&this._visibleItems.length){var i=new re;i.renderMode=Q.device.RM_ADDITIVE,i.planeSet=this,i.perObjectData=r,t.Commit(i)}}Render(e){if(!(this.effect&&this.effect.IsGood()&&this._vertexBuffer&&this._indexBuffer))return!1;var t=Q.device,r=t.gl;t.SetStandardStates(t.RM_ADDITIVE),r.bindBuffer(r.ARRAY_BUFFER,this._vertexBuffer),r.bindBuffer(r.ELEMENT_ARRAY_BUFFER,this._indexBuffer);for(var i=0;i<this.effect.GetPassCount(e);++i){if(this.effect.ApplyPass(e,i),!this._decl.SetDeclaration(t,this.effect.GetPassInput(e,i),140))return!1;t.ApplyShadowState(),r.drawElements(r.TRIANGLES,this._indexBuffer.count,r.UNSIGNED_SHORT,0)}return!0}static from(t,r){var i=new e;if(t&&(Object(K.assignIfExists)(i,t,["name","display","hideOnLowQuality"]),t.effect&&(i.effect=$.Tw2Effect.from(t.effect)),t.items))for(var n=0;n<t.items.length;n++)i.CreateItem(t.items[n]);return r&&r.skipUpdate||i.Initialize(),i}},Y.Item=ie,Y.vertexDeclarations=[{usage:"TEXCOORD",usageIndex:0,elements:4},{usage:"TEXCOORD",usageIndex:1,elements:4},{usage:"TEXCOORD",usageIndex:2,elements:4},{usage:"COLOR",usageIndex:0,elements:4},{usage:"TEXCOORD",usageIndex:3,elements:4},{usage:"TEXCOORD",usageIndex:4,elements:4},{usage:"TEXCOORD",usageIndex:5,elements:4},{usage:"TEXCOORD",usageIndex:6,elements:4},{usage:"TEXCOORD",usageIndex:7,elements:3}],V=te((k=X).prototype,"name",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),H=te(k.prototype,"effect",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),q=te(k.prototype,"hideOnLowQuality",[L,F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),W=te(k.prototype,"pickBufferID",[G,B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),te(k.prototype,"planes",[N],Object.getOwnPropertyDescriptor(k.prototype,"planes"),k.prototype),U=k))||U)},"./eve/item/EveSpaceObjectDecal.js":function(e,t,r){"use strict";r.r(t),r.d(t,"EveSpaceObjectDecal",(function(){return G}));var i,n,a,o,s,l,u,c,f,d,h,m,b,p,v,g,y,w,E,T,S,_,j,R,z,O,P,A,x,M=r("./global/utils/index.js"),C=r("./global/index.js"),D=r("./global/math/index.js"),I=r("./core/index.js");function L(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function F(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var G=(i=M.meta.type("EveSpaceObjectDecal",!0),n=M.meta.string,a=M.meta.struct("Tw2Effect"),o=M.meta.boolean,s=M.meta.uint,l=M.meta.todo("Identify if deprecated, this may only be needed if created a SOF object from a decal"),u=M.meta.indexBuffer,c=M.meta.uint,f=M.meta.todo("Identify if deprecated, Doesn't seem to be on the new SOF anywhere but it is required, maybe default to 0?"),d=M.meta.boolean,h=M.meta.struct("Tw2Effect"),m=M.meta.vector3,b=M.meta.quaternion,p=M.meta.vector3,i((x=A=class e extends M.meta.Model{constructor(...t){super(...t),L(this,"name",y,this),L(this,"decalEffect",w,this),L(this,"display",E,this),L(this,"groupIndex",T,this),L(this,"indexBuffer",S,this),L(this,"parentBoneIndex",_,this),L(this,"pickable",j,this),L(this,"pickEffect",R,this),L(this,"position",z,this),L(this,"rotation",O,this),L(this,"scaling",P,this),this._dirty=!0,this._indexBuffer=null,this._localTransform=D.mat4.create(),this._localTransformInverse=D.mat4.create(),this._perObjectData=I.Tw2PerObjectData.from(e.perObjectData)}Initialize(){this.Rebuild(),this.UpdateValues()}GetResources(e=[]){return this.decalEffect&&this.decalEffect.GetResources(e),this.pickEffect&&this.pickEffect.GetResources(e),e}OnValueChanged(){D.mat4.fromRotationTranslationScale(this._localTransform,this.rotation,this.position,this.scaling),D.mat4.invert(this._localTransformInverse,this._localTransform)}Unload(e){this._indexBuffer&&(C.device.gl.deleteBuffer(this._indexBuffer),this._indexBuffer=null),e||this.EmitEvent("unloaded")}Rebuild(){if(this.Unload(!0),this.indexBuffer){var e=C.device.gl,t=new Uint16Array(this.indexBuffer);this._indexBuffer=e.createBuffer(),e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,this._indexBuffer),e.bufferData(e.ELEMENT_ARRAY_BUFFER,t,e.STATIC_DRAW)}this._dirty=!1,this.EmitEvent("rebuilt")}GetBatches(e,t,r,i,n=0){if(this.display&&i&&i.meshes[0]&&this._indexBuffer){var a;switch(e){case C.device.RM_DECAL:a=this.decalEffect;break;case C.device.RM_PICKABLE:a=this.pickable?this.pickEffect:null}if(this._dirty&&this.Rebuild(),a&&a.IsGood()&&i.IsGood()){var o=new I.Tw2ForwardingRenderBatch;if(this._perObjectData.vs.Set("worldMatrix",r.vs.Get("WorldMat")),this.parentBoneIndex>=0){var s=r.vs.Get("JointMat"),l=12*this.parentBoneIndex;if(s[l]||s[l+4]||s[l+8]){var u=this._perObjectData.vs.Get("parentBoneMatrix");u[0]=s[l],u[1]=s[l+4],u[2]=s[l+8],u[3]=0,u[4]=s[l+1],u[5]=s[l+5],u[6]=s[l+9],u[7]=0,u[8]=s[l+2],u[9]=s[l+6],u[10]=s[l+10],u[11]=0,u[12]=s[l+3],u[13]=s[l+7],u[14]=s[l+11],u[15]=1,D.mat4.transpose(u,u)}}D.mat4.invert(this._perObjectData.vs.Get("invWorldMatrix"),this._perObjectData.vs.Get("worldMatrix")),D.mat4.transpose(this._perObjectData.vs.Get("decalMatrix"),this._localTransform),D.mat4.transpose(this._perObjectData.vs.Get("invDecalMatrix"),this._localTransformInverse),this._perObjectData.ps.SetIndex("displayData",0,n),this._perObjectData.ps.Set("shipData",r.ps.data),o._geometryRes=i,o.perObjectData=this._perObjectData,o.geometryProvider=this,o.renderMode=e,o.effect=a,t.Commit(o)}}}Render(e,t){var r=e._geometryRes.meshes[0],i=r.indexes,n=r.areas[0].start,a=r.areas[0].count,o=r.indexType;C.store.variables.SetValue("u_DecalMatrix",this._localTransform),C.store.variables.SetValue("u_InvDecalMatrix",this._localTransformInverse),r.indexes=this._indexBuffer,r.areas[0].start=0,r.areas[0].count=this.indexBuffer.length,r.indexType=C.device.gl.UNSIGNED_SHORT,e._geometryRes.RenderAreas(0,0,1,e.effect,t),r.indexes=i,r.areas[0].start=n,r.areas[0].count=a,r.indexType=o}static from(t,r){var i=new e;if(t){Object(M.assignIfExists)(i,t,["name","display","pickable","position","rotation","scaling","groupIndex","parentBoneIndex"]),t.indexBuffer&&(i.indexBuffer=new Uint16Array(t.indexBuffer)),t.pickEffect&&(i.pickEffect=I.Tw2Effect.from(t.pickEffect));var n=t.decalEffect||t.effect;n&&(i.decalEffect=I.Tw2Effect.from(n))}return r&&r.skipUpdate||i.Initialize(),i}},A.perObjectData={vs:[["worldMatrix",16],["invWorldMatrix",16],["decalMatrix",16],["invDecalMatrix",16],["parentBoneMatrix",D.mat4.identity([])]],ps:[["displayData",[0,1,0,0]],["shipData",12]]},y=F((g=x).prototype,"name",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),w=F(g.prototype,"decalEffect",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),E=F(g.prototype,"display",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),T=F(g.prototype,"groupIndex",[s,l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return-1}}),S=F(g.prototype,"indexBuffer",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),_=F(g.prototype,"parentBoneIndex",[c,f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return-1}}),j=F(g.prototype,"pickable",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),R=F(g.prototype,"pickEffect",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),z=F(g.prototype,"position",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return D.vec3.create()}}),O=F(g.prototype,"rotation",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return D.quat.create()}}),P=F(g.prototype,"scaling",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return D.vec3.fromValues(1,1,1)}}),v=g))||v)},"./eve/item/EveSpotlightSet.js":function(e,t,r){"use strict";r.r(t),r.d(t,"EveSpotlightSetItem",(function(){return re})),r.d(t,"EveSpotlightSet",(function(){return ie}));var i,n,a,o,s,l,u,c,f,d,h,m,b,p,v,g,y,w,E,T,S,_,j,R,z,O,P,A,x,M,C,D,I,L,F,G,B,N,U,k,V,H,q,W,Y,X=r("./global/utils/index.js"),K=r("./global/index.js"),Q=r("./global/math/index.js"),Z=r("./core/index.js"),$=r("./eve/item/EveObjectSet.js");function J(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function ee(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}class te extends Z.Tw2RenderBatch{constructor(...e){super(...e),this.spotlightSet=null}Commit(e){this.spotlightSet.RenderCones(e),this.spotlightSet.RenderGlow(e)}}var re=(i=X.meta.type("EveSpotlightSetItem",!0),n=X.meta.string,a=X.meta.boolean,o=X.meta.uint,s=X.meta.color,l=X.meta.float,u=X.meta.boolean,c=X.meta.color,f=X.meta.float,d=X.meta.uint,h=X.meta.todo("Identify if deprecated, only needed if creating a SOF object from the spotlight"),m=X.meta.color,b=X.meta.float,p=X.meta.vector3,v=X.meta.matrix4,i((C=class extends $.EveObjectSetItem{constructor(...e){super(...e),J(this,"name",w,this),J(this,"boosterGainInfluence",E,this),J(this,"boneIndex",T,this),J(this,"coneColor",S,this),J(this,"coneIntensity",_,this),J(this,"display",j,this),J(this,"flareColor",R,this),J(this,"flareIntensity",z,this),J(this,"groupIndex",O,this),J(this,"spriteColor",P,this),J(this,"spriteIntensity",A,this),J(this,"spriteScale",x,this),J(this,"transform",M,this)}},w=ee((y=C).prototype,"name",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),E=ee(y.prototype,"boosterGainInfluence",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),T=ee(y.prototype,"boneIndex",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),S=ee(y.prototype,"coneColor",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Q.vec4.create()}}),_=ee(y.prototype,"coneIntensity",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),j=ee(y.prototype,"display",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),R=ee(y.prototype,"flareColor",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Q.vec4.create()}}),z=ee(y.prototype,"flareIntensity",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),O=ee(y.prototype,"groupIndex",[d,h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return-1}}),P=ee(y.prototype,"spriteColor",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Q.vec4.create()}}),A=ee(y.prototype,"spriteIntensity",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),x=ee(y.prototype,"spriteScale",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Q.vec3.fromValues(1,1,1)}}),M=ee(y.prototype,"transform",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Q.mat4.create()}}),g=y))||g),ie=(D=X.meta.type("EveSpotlightSet",!0),I=X.meta.string,L=X.meta.struct("Tw2Effect"),F=X.meta.struct("Tw2Effect"),G=X.meta.float,B=X.meta.list("EveSpotlightSetItem"),D((Y=W=class e extends $.EveObjectSet{constructor(...t){super(...t),J(this,"name",k,this),J(this,"coneEffect",V,this),J(this,"glowEffect",H,this),J(this,"intensity",q,this),this._coneVertexBuffer=null,this._decl=Z.Tw2VertexDeclaration.from(e.vertexDeclarations),this._indexBuffer=null,this._spriteVertexBuffer=null,this._worldSpriteScale=1}get spotlightItems(){return this.items}set spotlightItems(e){this.items=e}GetResources(e=[]){return this.coneEffect&&this.coneEffect.GetResources(e),this.glowEffect&&this.glowEffect.GetResources(e),e}Unload(e){this._coneVertexBuffer&&(K.device.gl.deleteBuffer(this._coneVertexBuffer),this._coneVertexBuffer=null),this._spriteVertexBuffer&&(K.device.gl.deleteBuffer(this._spriteVertexBuffer),this._spriteVertexBuffer=null),this._indexBuffer&&(K.device.gl.deleteBuffer(this._indexBuffer),this._indexBuffer=null),super.Unload(e)}SetWorldSpriteScale(e){this._worldSpriteScale!==e&&(this._worldSpriteScale=e,this._dirty=!0)}Rebuild(){this.Unload(!0),this.RebuildItems(),this._dirty=!1;var e=this._visibleItems.length;if(e){for(var t=K.device,r=[1,0,2,3],i=new Float32Array(22*(4*e*4)),n=0;n<e;++n)for(var a=this._visibleItems[n],o=0;o<4;++o)for(var s=0;s<4;++s){var l=22*(4*n*4+4*o+s);i[l]=a.coneColor[0]*a.coneIntensity*this.intensity,i[l+1]=a.coneColor[1]*a.coneIntensity*this.intensity,i[l+2]=a.coneColor[2]*a.coneIntensity*this.intensity,i[l+3]=a.coneColor[3],i[l+4]=a.transform[0],i[l+5]=a.transform[4],i[l+6]=a.transform[8],i[l+7]=a.transform[12],i[l+8]=a.transform[1],i[l+9]=a.transform[5],i[l+10]=a.transform[9],i[l+11]=a.transform[13],i[l+12]=a.transform[2],i[l+13]=a.transform[6],i[l+14]=a.transform[10],i[l+15]=a.transform[14],i[l+16]=1,i[l+17]=1,i[l+18]=1,i[l+19]=4*o+r[s],i[l+20]=a.boneIndex,i[l+21]=a.boosterGainInfluence?255:0}this._coneVertexBuffer=t.gl.createBuffer(),t.gl.bindBuffer(t.gl.ARRAY_BUFFER,this._coneVertexBuffer),t.gl.bufferData(t.gl.ARRAY_BUFFER,i,t.gl.STATIC_DRAW),this._coneVertexBuffer.count=4*e*6;for(var u=new Float32Array(22*(2*e*4)),c=[1,0,2,3],f=0;f<e;++f)for(var d=this._visibleItems[f],h=0;h<2;++h)for(var m=0;m<4;++m){var b=22*(2*f*4+4*h+m);h%2==0?(u[b]=d.spriteColor[0]*d.spriteIntensity*this.intensity,u[b+1]=d.spriteColor[1]*d.spriteIntensity*this.intensity,u[b+2]=d.spriteColor[2]*d.spriteIntensity*this.intensity,u[b+3]=d.spriteColor[3],u[b+16]=d.spriteScale[0]*this._worldSpriteScale,u[b+17]=1,u[b+18]=1):(u[b]=d.flareColor[0]*d.flareIntensity*this.intensity,u[b+1]=d.flareColor[1]*d.flareIntensity*this.intensity,u[b+2]=d.flareColor[2]*d.flareIntensity*this.intensity,u[b+3]=d.flareColor[3],u[b+16]=1,u[b+17]=d.spriteScale[1]*this._worldSpriteScale,u[b+18]=d.spriteScale[2]*this._worldSpriteScale),u[b+4]=d.transform[0],u[b+5]=d.transform[4],u[b+6]=d.transform[8],u[b+7]=d.transform[12],u[b+8]=d.transform[1],u[b+9]=d.transform[5],u[b+10]=d.transform[9],u[b+11]=d.transform[13],u[b+12]=d.transform[2],u[b+13]=d.transform[6],u[b+14]=d.transform[10],u[b+15]=d.transform[14],u[b+19]=4*h+c[m],u[b+20]=d.boneIndex,u[b+21]=d.boosterGainInfluence?255:0}this._spriteVertexBuffer=t.gl.createBuffer(),t.gl.bindBuffer(t.gl.ARRAY_BUFFER,this._spriteVertexBuffer),t.gl.bufferData(t.gl.ARRAY_BUFFER,u,t.gl.STATIC_DRAW),this._spriteVertexBuffer.count=2*e*6;for(var p=new Uint16Array(4*e*6),v=0;v<4*e;++v){var g=6*v,y=4*v;p[g]=y,p[g+1]=y+1,p[g+2]=y+2,p[g+3]=y+2,p[g+4]=y+3,p[g+5]=y}this._indexBuffer=t.gl.createBuffer(),t.gl.bindBuffer(t.gl.ELEMENT_ARRAY_BUFFER,this._indexBuffer),t.gl.bufferData(t.gl.ELEMENT_ARRAY_BUFFER,p,t.gl.STATIC_DRAW),t.gl.bindBuffer(t.gl.ELEMENT_ARRAY_BUFFER,null),this._indexBuffer.count=e,super.Rebuild()}else super.Rebuild()}GetBatches(e,t,r){if(this.display&&e===K.device.RM_ADDITIVE&&this._indexBuffer&&this._indexBuffer.count){var i=new te;i.renderMode=K.device.RM_ADDITIVE,i.spotlightSet=this,i.perObjectData=r,t.Commit(i)}}RenderCones(t){return e.Render(this,this.coneEffect,t,this._coneVertexBuffer)}RenderGlow(t){return e.Render(this,this.glowEffect,t,this._spriteVertexBuffer)}static Render(e,t,r,i){if(!(t&&t.IsGood()&&i&&e._indexBuffer))return!1;var n=K.device,a=n.gl;n.SetStandardStates(n.RM_ADDITIVE),a.bindBuffer(a.ARRAY_BUFFER,i),a.bindBuffer(a.ELEMENT_ARRAY_BUFFER,e._indexBuffer);for(var o=0;o<t.GetPassCount(r);++o){if(t.ApplyPass(r,o),!e._decl.SetDeclaration(n,t.GetPassInput(r,o),88))return!1;n.ApplyShadowState(),n.gl.drawElements(a.TRIANGLES,i.count,a.UNSIGNED_SHORT,0)}return!0}static from(t,r){var i=new e;if(t&&(Object(X.assignIfExists)(i,t,["name","display","intensity"]),t.coneEffect&&(Object(X.isFunction)(t.coneEffect)?i.coneEffect=t.coneEffect:i.coneEffect=Z.Tw2Effect.from(t.coneEffect)),t.glowEffect&&(Object(X.isFunction)(t.glowEffect)?i.glowEffect=t.glowEffect:i.glowEffect=Z.Tw2Effect.from(t.glowEffect)),t.items))for(var n=0;n<t.items.length;n++)i.CreateItem(t.items[n]);return r&&r.skipUpdate||i.Initialize(),i}},W.Item=re,W.vertexDeclarations=[{usage:"COLOR",usageIndex:0,elements:4},{usage:"TEXCOORD",usageIndex:0,elements:4},{usage:"TEXCOORD",usageIndex:1,elements:4},{usage:"TEXCOORD",usageIndex:2,elements:4},{usage:"TEXCOORD",usageIndex:3,elements:3},{usage:"TEXCOORD",usageIndex:4,elements:3}],k=ee((U=Y).prototype,"name",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),V=ee(U.prototype,"coneEffect",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),H=ee(U.prototype,"glowEffect",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),q=ee(U.prototype,"intensity",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),ee(U.prototype,"spotlightItems",[B],Object.getOwnPropertyDescriptor(U.prototype,"spotlightItems"),U.prototype),N=U))||N)},"./eve/item/EveSpriteSet.js":function(e,t,r){"use strict";r.r(t),r.d(t,"EveSpriteSetItem",(function(){return oe})),r.d(t,"EveSpriteSet",(function(){return se}));var i,n,a,o,s,l,u,c,f,d,h,m,b,p,v,g,y,w,E,T,S,_,j,R,z,O,P,A,x,M,C,D,I,L,F,G,B,N,U,k,V,H,q,W,Y,X,K,Q,Z=r("./global/utils/index.js"),$=r("./global/index.js"),J=r("./global/math/index.js"),ee=r("./core/index.js"),te=r("./eve/item/EveObjectSet.js"),re=r("./core/mesh/index.js");function ie(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function ne(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}class ae extends ee.Tw2RenderBatch{constructor(...e){super(...e),this.boosterGlow=!1,this.spriteSet=null,this.world=null,this.boosterGain=0,this.warpIntensity=0}Commit(e){this.boosterGlow?this.spriteSet.RenderBoosterGlow(e,this.world,this.boosterGain,this.warpIntensity):this.spriteSet.Render(e,this.world,this.perObjectData)}}var oe=(i=Z.meta.type("EveSpriteSetItem",!0),n=Z.meta.string,a=Z.meta.float,o=Z.meta.float,s=Z.meta.uint,l=Z.meta.color,u=Z.meta.float,c=Z.meta.float,f=Z.meta.float,d=Z.meta.vector3,h=Z.meta.color,m=Z.meta.uint,b=Z.meta.string,p=Z.meta.todo("Remove this, and reference the name using the group index"),v=Z.meta.uint,g=Z.meta.todo("Remove this after testing"),i((D=class extends te.EveObjectSetItem{constructor(...e){super(...e),ie(this,"name",E,this),ie(this,"blinkPhase",T,this),ie(this,"blinkRate",S,this),ie(this,"boneIndex",_,this),ie(this,"color",j,this),ie(this,"falloff",R,this),ie(this,"maxScale",z,this),ie(this,"minScale",O,this),ie(this,"position",P,this),ie(this,"warpColor",A,this),ie(this,"groupIndex",x,this),ie(this,"groupName",M,this),ie(this,"colorType",C,this)}},E=ne((w=D).prototype,"name",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),T=ne(w.prototype,"blinkPhase",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),S=ne(w.prototype,"blinkRate",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),_=ne(w.prototype,"boneIndex",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),j=ne(w.prototype,"color",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return J.vec4.create()}}),R=ne(w.prototype,"falloff",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),z=ne(w.prototype,"maxScale",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),O=ne(w.prototype,"minScale",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),P=ne(w.prototype,"position",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return J.vec3.create()}}),A=ne(w.prototype,"warpColor",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return J.vec4.create()}}),x=ne(w.prototype,"groupIndex",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return-1}}),M=ne(w.prototype,"groupName",[b,p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),C=ne(w.prototype,"colorType",[v,g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return-1}}),y=w))||y),se=(I=Z.meta.type("EveSpriteSet",!0),L=Z.meta.string,F=Z.meta.struct("Tw2Effect"),G=Z.meta.float,B=Z.meta.boolean,N=Z.meta.boolean,U=Z.meta.list("EveSpriteSetItem"),I((Q=K=class e extends te.EveObjectSet{constructor(...e){super(...e),ie(this,"name",H,this),ie(this,"effect",q,this),ie(this,"intensity",W,this),ie(this,"skinned",Y,this),ie(this,"useQuads",X,this),this._time=0,this._vertexBuffer=null,this._indexBuffer=null,this._instanceBuffer=null,this._decl=null,this._vdecl=ee.Tw2VertexDeclaration.from([{usage:"TEXCOORD",usageType:5,elements:1}]),this._worldSpriteScale=1}get sprites(){return this.items}set sprites(e){this.items=e}Initialize(){this.UseQuads(!!this.useQuads),this.Rebuild()}GetResources(e=[]){return this.effect&&this.effect.GetResources(e),e}UseQuads(t){this.useQuads=t,this._decl=ee.Tw2VertexDeclaration.from(t?e.quadVertexDeclarations:e.vertexDeclarations),this._dirty=!0}SetWorldSpriteScale(e){this._worldSpriteScale!==e&&(this._worldSpriteScale=e,this._dirty=!0)}Update(e){this._time+=e,super.Update(e)}Unload(e){var t=$.device.gl;this._vertexBuffer&&(t.deleteBuffer(this._vertexBuffer),this._vertexBuffer=null),this._indexBuffer&&(t.deleteBuffer(this._indexBuffer),this._indexBuffer=null),this._instanceBuffer&&(t.deleteBuffer(this._instanceBuffer),this._instanceBuffer=null),super.Unload(e)}Rebuild(){this.RebuildItems(),this._dirty=!1;var e=this._visibleItems.length;if(e){var t=$.device.gl;if(this.useQuads)return this._vertexBuffer=t.createBuffer(),t.bindBuffer(t.ARRAY_BUFFER,this._vertexBuffer),t.bufferData(t.ARRAY_BUFFER,new Float32Array([0,1,2,2,3,0]),t.STATIC_DRAW),t.bindBuffer(t.ARRAY_BUFFER,null),void(this._instanceBuffer=t.createBuffer());for(var r=new Float32Array(4*e*13),i=0;i<e;++i){var n=this._visibleItems[i],a=4*i*13;r[a]=0,r[a+13]=1,r[a+26]=2,r[a+39]=3;for(var o=0;o<4;++o){var s=a+13*o;r[s+1]=n.boneIndex,r[s+2]=n.position[0],r[s+3]=n.position[1],r[s+4]=n.position[2],r[s+5]=n.color[0],r[s+6]=n.color[1],r[s+7]=n.color[2],r[s+8]=n.blinkPhase,r[s+9]=n.blinkRate,r[s+10]=n.minScale*this._worldSpriteScale,r[s+11]=n.maxScale*this._worldSpriteScale,r[s+12]=n.falloff}}this._vertexBuffer=t.createBuffer(),t.bindBuffer(t.ARRAY_BUFFER,this._vertexBuffer),t.bufferData(t.ARRAY_BUFFER,r,t.STATIC_DRAW),t.bindBuffer(t.ARRAY_BUFFER,null);for(var l=new Uint16Array(6*e),u=0;u<e;++u){var c=6*u,f=4*u;l[c]=f,l[c+1]=f+2,l[c+2]=f+1,l[c+3]=f,l[c+4]=f+3,l[c+5]=f+2}this._indexBuffer=t.createBuffer(),t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,this._indexBuffer),t.bufferData(t.ELEMENT_ARRAY_BUFFER,l,t.STATIC_DRAW),t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,null),this._indexBuffer.count=6*e,super.Rebuild()}else super.Rebuild()}GetBatches(e,t,r,i){if(this.display&&e===$.device.RM_ADDITIVE&&this._vertexBuffer&&this._visibleItems.length){var n=new ae;n.world=i,n.renderMode=$.device.RM_ADDITIVE,n.spriteSet=this,n.perObjectData=r,t.Commit(n)}}GetBoosterGlowBatches(e,t,r,i,n,a){if(this.display&&e===$.device.RM_ADDITIVE&&this._vertexBuffer&&this._visibleItems.length){var o=new ae;o.boosterGlow=!0,o.world=i,o.boosterGain=n,o.warpIntensity=a,o.renderMode=$.device.RM_ADDITIVE,o.spriteSet=this,o.perObjectData=r,t.Commit(o)}}Render(e,t,r){if(this.useQuads)return this.RenderQuads(e,t,r);if(!(this.effect&&this.effect.IsGood()&&this._indexBuffer&&this._vertexBuffer))return!1;var i=$.device,n=i.gl;i.SetStandardStates(i.RM_ADDITIVE),n.bindBuffer(n.ARRAY_BUFFER,this._vertexBuffer),n.bindBuffer(n.ELEMENT_ARRAY_BUFFER,this._indexBuffer);for(var a=0;a<this.effect.GetPassCount(e);++a){if(this.effect.ApplyPass(e,a),!this._decl.SetDeclaration(i,this.effect.GetPassInput(e,a),52))return!1;i.ApplyShadowState(),n.drawElements(n.TRIANGLES,this._indexBuffer.count,n.UNSIGNED_SHORT,0)}return!0}RenderBoosterGlow(e,t,r,i){if(!(this.effect&&this.effect.IsGood()&&this._instanceBuffer&&this._vertexBuffer))return!1;var n=$.device,a=n.gl,o=te.EveObjectSet.global.vec3_0,s=this._visibleItems.length,l=new Float32Array(17*s);n.SetStandardStates(n.RM_ADDITIVE);for(var u=0,c=0;c<s;++c){var f=this._visibleItems[c];J.vec3.transformMat4(o,f.position,t),l[u++]=o[0],l[u++]=o[1],l[u++]=o[2],l[u++]=t[8],l[u++]=f.blinkPhase,l[u++]=t[9],l[u++]=f.minScale*this._worldSpriteScale,l[u++]=f.maxScale*this._worldSpriteScale,l[u++]=t[10],l[u++]=f.color[0],l[u++]=f.color[1],l[u++]=f.color[2],l[u++]=r,l[u++]=f.warpColor[0],l[u++]=f.warpColor[1],l[u++]=f.warpColor[2],l[u++]=i}a.bindBuffer(a.ARRAY_BUFFER,this._instanceBuffer),a.bufferData(a.ARRAY_BUFFER,l,a.DYNAMIC_DRAW);for(var d=0;d<this.effect.GetPassCount(e);++d){this.effect.ApplyPass(e,d);var h=this.effect.GetPassInput(e,d);a.bindBuffer(a.ARRAY_BUFFER,this._vertexBuffer),this._vdecl.SetPartialDeclaration(n,h,4),a.bindBuffer(a.ARRAY_BUFFER,this._instanceBuffer);var m=this._decl.SetPartialDeclaration(n,h,68,0,1);n.ApplyShadowState(),a.drawArraysInstanced(a.TRIANGLES,0,6,s),this._decl.ResetInstanceDivisors(n,m)}return!0}RenderQuads(e,t,r){if(!(this.effect&&this.effect.IsGood()&&this._instanceBuffer&&this._vertexBuffer))return!1;var i=$.device,n=i.gl,a=this._visibleItems.length,o=new Float32Array(17*a),s=te.EveObjectSet.global.vec3_0,l=r.vs.Get("JointMat");i.SetStandardStates(i.RM_ADDITIVE);for(var u=0,c=0;c<a;++c){var f=this._visibleItems[c];if(this.skinned){var d=12*f.boneIndex;s[0]=l[d]*f.position[0]+l[d+1]*f.position[1]+l[d+2]*f.position[2]+l[d+3],s[1]=l[d+4]*f.position[0]+l[d+5]*f.position[1]+l[d+6]*f.position[2]+l[d+7],s[2]=l[d+8]*f.position[0]+l[d+9]*f.position[1]+l[d+10]*f.position[2]+l[d+11],J.vec3.transformMat4(s,s,t)}else J.vec3.transformMat4(s,f.position,t);o[u++]=s[0],o[u++]=s[1],o[u++]=s[2],o[u++]=1,o[u++]=f.blinkPhase,o[u++]=f.blinkRate,o[u++]=f.minScale*this._worldSpriteScale,o[u++]=f.maxScale*this._worldSpriteScale,o[u++]=f.falloff,o[u++]=f.color[0],o[u++]=f.color[1],o[u++]=f.color[2],o[u++]=1,o[u++]=f.warpColor[0],o[u++]=f.warpColor[1],o[u++]=f.warpColor[2],o[u++]=1}n.bindBuffer(n.ARRAY_BUFFER,this._instanceBuffer),n.bufferData(n.ARRAY_BUFFER,o,n.DYNAMIC_DRAW);for(var h=0;h<this.effect.GetPassCount(e);++h){this.effect.ApplyPass(e,h);var m=this.effect.GetPassInput(e,h);n.bindBuffer(n.ARRAY_BUFFER,this._vertexBuffer),this._vdecl.SetPartialDeclaration(i,m,4),n.bindBuffer(n.ARRAY_BUFFER,this._instanceBuffer);var b=this._decl.SetPartialDeclaration(i,m,68,0,1);i.ApplyShadowState(),n.drawArraysInstanced(n.TRIANGLES,0,6,a),this._decl.ResetInstanceDivisors(i,b)}return!0}static from(t,r){var i=new e;if(t&&(Object(Z.assignIfExists)(i,t,["name","intensity","skinned","useQuads"]),t.effect&&(i.effect=re.Tw2Effect.from(t.effect)),t.items))for(var n=0;n<t.items.length;n++)i.CreateItem(t.items[n]);return r&&r.skipUpdate||i.Initialize(),i}},K.Item=oe,K.vertexDeclarations=[{usage:"TEXCOORD",usageIndex:5,elements:2},{usage:"POSITION",usageIndex:0,elements:3},{usage:"COLOR",usageIndex:0,elements:3},{usage:"TEXCOORD",usageIndex:0,elements:1},{usage:"TEXCOORD",usageIndex:1,elements:1},{usage:"TEXCOORD",usageIndex:2,elements:1},{usage:"TEXCOORD",usageIndex:3,elements:1},{usage:"TEXCOORD",usageIndex:4,elements:1}],K.quadVertexDeclarations=[{usage:"POSITION",usageIndex:0,elements:3},{usage:"TEXCOORD",usageIndex:0,elements:4},{usage:"TEXCOORD",usageIndex:1,elements:2},{usage:"COLOR",usageIndex:0,elements:4},{usage:"COLOR",usageIndex:1,elements:4}],H=ne((V=Q).prototype,"name",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),q=ne(V.prototype,"effect",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),W=ne(V.prototype,"intensity",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Y=ne(V.prototype,"skinned",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),X=ne(V.prototype,"useQuads",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ne(V.prototype,"sprites",[U],Object.getOwnPropertyDescriptor(V.prototype,"sprites"),V.prototype),k=V))||k)},"./eve/item/EveTurretSet.js":function(e,t,r){"use strict";r.r(t),r.d(t,"EveTurretSetItem",(function(){return Ke})),r.d(t,"EveTurretSet",(function(){return Qe}));var i,n,a,o,s,l,u,c,f,d,h,m,b,p,v,g,y,w,E,T,S,_,j,R,z,O,P,A,x,M,C,D,I,L,F,G,B,N,U,k,V,H,q,W,Y,X,K,Q,Z,$,J,ee,te,re,ie,ne,ae,oe,se,le,ue,ce,fe,de,he,me,be,pe,ve,ge,ye,we,Ee,Te,Se,_e,je,Re,ze,Oe,Pe,Ae,xe,Me,Ce,De,Ie,Le,Fe,Ge,Be,Ne=r("./global/utils/index.js"),Ue=r("./global/index.js"),ke=r("./global/math/index.js"),Ve=r("./core/index.js"),He=r("./eve/item/EveObjectSet.js");function qe(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function We(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var Ye,Xe,Ke=(i=Ne.meta.type("EveTurretSetItem"),n=Ne.meta.string,a=Ne.meta.boolean,o=Ne.meta.boolean,s=Ne.meta.vector3,l=Ne.meta.quaternion,i((p=class extends He.EveObjectSetItem{constructor(...e){super(...e),qe(this,"locatorName",f,this),qe(this,"updateFromLocator",d,this),qe(this,"canFireWhenHidden",h,this),qe(this,"position",m,this),qe(this,"rotation",b,this),this._bone=null,this._localTransform=ke.mat4.create(),this._localRotation=ke.quat.create()}Initialize(){this.UpdateValues()}OnValueChanged(){this._dirty=!0,this.UpdateTransforms()}UpdateTransforms(){ke.mat4.fromRotationTranslation(this._localTransform,this.rotation,this.position),this._bone?(ke.mat4.multiply(this._localTransform,this._bone.offsetTransform,this._localTransform),ke.mat4.getRotation(this._localRotation,this._localTransform)):ke.quat.copy(this._localRotation,this.rotation)}},f=We((c=p).prototype,"locatorName",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),d=We(c.prototype,"updateFromLocator",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),h=We(c.prototype,"canFireWhenHidden",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),m=We(c.prototype,"position",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return ke.vec3.create()}}),b=We(c.prototype,"rotation",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return ke.quat.create()}}),u=c))||u),Qe=(v=Ne.meta.type("EveTurretSet",!0),g=Ne.meta.stage(1),y=Ne.meta.string,w=Ne.meta.notImplemented,E=Ne.meta.float,T=Ne.meta.vector4,S=Ne.meta.notImplemented,_=Ne.meta.boolean,j=Ne.meta.notImplemented,R=Ne.meta.uint,z=Ne.meta.path,O=Ne.meta.path,P=Ne.meta.notImplemented,A=Ne.meta.float,x=Ne.meta.notImplemented,M=Ne.meta.boolean,C=Ne.meta.string,D=Ne.meta.notImplemented,I=Ne.meta.uint,L=Ne.meta.notImplemented,F=Ne.meta.boolean,G=Ne.meta.notImplemented,B=Ne.meta.float,N=Ne.meta.notImplemented,U=Ne.meta.float,k=Ne.meta.notImplemented,V=Ne.meta.float,H=Ne.meta.notImplemented,q=Ne.meta.float,W=Ne.meta.notImplemented,Y=Ne.meta.float,X=Ne.meta.notImplemented,K=Ne.meta.float,Q=Ne.meta.notImplemented,Z=Ne.meta.float,$=Ne.meta.struct("Tw2Effect"),J=Ne.meta.notImplemented,ee=Ne.meta.boolean,te=Ne.meta.notImplemented,re=Ne.meta.boolean,ie=Ne.meta.notImplemented,ne=Ne.meta.boolean,ae=Ne.meta.struct(),oe=Ne.meta.struct("Tw2GeometryResource"),se=Ne.meta.todo("Make private"),le=Ne.meta.plain,ue=Ne.meta.todo("Update parent class and replace with direct value"),v(ce=g((Be=Ge=class e extends He.EveObjectSet{constructor(...t){super(...t),qe(this,"name",de,this),qe(this,"bottomClipHeight",he,this),qe(this,"boundingSphere",me,this),qe(this,"chooseRandomLocator",be,this),qe(this,"cyclingFireGroupCount",pe,this),qe(this,"firingEffectResPath",ve,this),qe(this,"geometryResPath",ge,this),qe(this,"impactSize",ye,this),qe(this,"laserMissBehaviour",we,this),qe(this,"locatorName",Ee,this),qe(this,"maxCyclingFirePos",Te,this),qe(this,"projectileMissBehaviour",Se,this),qe(this,"sysBoneHeight",_e,this),qe(this,"sysBonePitch01Factor",je,this),qe(this,"sysBonePitch02Factor",Re,this),qe(this,"sysBonePitchFactor",ze,this),qe(this,"sysBonePitchMax",Oe,this),qe(this,"sysBonePitchMin",Pe,this),qe(this,"sysBonePitchOffset",Ae,this),qe(this,"turretEffect",xe,this),qe(this,"updatePitchPose",Me,this),qe(this,"useDynamicBounds",Ce,this),qe(this,"useRandomFiringDelay",De,this),qe(this,"firingEffect",Ie,this),qe(this,"geometryResource",Le,this),qe(this,"visible",Fe,this),this._activeAnimation=new Ve.Tw2AnimationController,this._activeTurret=-1,this._currentCyclingFiresPos=0,this._fireCallback=null,this._fireCallbackPending=!1,this._hasCyclingFiringPos=!1,this._inactiveAnimation=new Ve.Tw2AnimationController,this._locatorDirty=!0,this._parentTransform=ke.mat4.create(),this._perObjectDataActive=Ve.Tw2PerObjectData.from(e.perObjectData),this._perObjectDataInactive=Ve.Tw2PerObjectData.from(e.perObjectData),this._state=e.State.IDLE,this._targetPosition=ke.vec3.create(),this._recheckTimeLeft=0}get turrets(){return this.items}set turrets(e){this.items=e}Initialize(){this.turretEffect&&""!==this.geometryResPath&&(this.geometryResource=Ue.resMan.GetResource(this.geometryResPath,e=>this.OnResPrepared(e)),this._activeAnimation.SetGeometryResource(this.geometryResource),this._inactiveAnimation.SetGeometryResource(this.geometryResource)),""!==this.firingEffectResPath&&Ue.resMan.GetObject(this.firingEffectResPath,e=>this.firingEffect=e),this.Rebuild()}InitializeFiringEffect(){if(this.firingEffect&&this.geometryResource&&this.geometryResource.models.length)for(var t=this.geometryResource.models[0],r=0;r<this.firingEffect.GetPerMuzzleEffectCount();++r)this.firingEffect.SetMuzzleBoneID(r,t.FindBoneByName(e.positionBoneSkeletonNames[r]))}GetResources(e=[]){return this.turretEffect&&this.turretEffect.GetResources(e),this.firingEffect&&this.firingEffect.GetResources(e),this.geometryResource&&!e.includes(this.geometryResource)&&e.push(this.geometryResource),e}OnTurretFired(e){this._fireCallback=e}SetTargetPosition(e){ke.vec3.copy(this._targetPosition,e)}GetClosestTurret(){for(var t=-1,r=-2,i=e.global,n=i.vec3_0,a=i.vec4_0,o=i.vec4_1,s=0;s<this.items.length;++s){var l=this.items[s];if(l.display||l.canFireWhenHidden){o[0]=l._localTransform[12],o[1]=l._localTransform[13],o[2]=l._localTransform[14],o[3]=1,ke.vec4.transformMat4(o,o,this._parentTransform),ke.vec3.subtract(n,this._targetPosition,o),ke.vec3.normalize(n,n),ke.vec4.set(a,0,1,0,0),ke.vec4.transformMat4(a,a,l._localTransform),ke.vec4.transformMat4(a,a,this._parentTransform);var u=ke.vec3.dot(a,n);u>r&&(t=this.items.indexOf(l),r=u)}}return t}EnterStateDeactive(){this._state!==e.State.INACTIVE&&this._state!==e.State.PACKING&&(this.turretEffect?(this._activeAnimation.StopAllAnimations(),this._inactiveAnimation.StopAllAnimations(),this._activeAnimation.PlayAnimation("Pack",!1,()=>{this._state=e.State.INACTIVE,this._activeAnimation.PlayAnimation("Inactive",!0)}),this._inactiveAnimation.PlayAnimation("Pack",!1,()=>{this._state=e.State.INACTIVE,this._inactiveAnimation.PlayAnimation("Inactive",!0)}),this._state=e.State.PACKING):this._state=e.State.INACTIVE,this._activeTurret=-1,this.DoStopFiring())}EnterStateIdle(){this._state!==e.State.IDLE&&this._state!==e.State.UNPACKING&&(this.turretEffect?(this._activeAnimation.StopAllAnimations(),this._inactiveAnimation.StopAllAnimations(),this._state===e.State.FIRING?(this._activeAnimation.PlayAnimation("Active",!0),this._inactiveAnimation.PlayAnimation("Active",!0)):(this._activeAnimation.PlayAnimation("Deploy",!1,()=>{this._state=e.State.IDLE,this._activeAnimation.PlayAnimation("Active",!0)}),this._inactiveAnimation.PlayAnimation("Deploy",!1,()=>{this._state=e.State.IDLE,this._inactiveAnimation.PlayAnimation("Active",!0)})),this._state=e.State.UNPACKING):this._state=e.State.IDLE,this._activeTurret=-1,this.DoStopFiring())}EnterStateFiring(){if(!this.turretEffect||this._state===e.State.FIRING)return this.DoStartFiring(),void(this.turretEffect&&this._activeAnimation.PlayAnimation("Fire",!1,()=>{this._activeAnimation.PlayAnimation("Active",!0)}));this._activeAnimation.StopAllAnimations(),this._inactiveAnimation.StopAllAnimations(),this._state===e.State.INACTIVE?(this._activeAnimation.PlayAnimation("Deploy",!1,()=>{this.DoStartFiring(),this._activeAnimation.PlayAnimation("Fire",!1,()=>{this._activeAnimation.PlayAnimation("Active",!0)})}),this._inactiveAnimation.PlayAnimation("Deploy",!1,()=>{this._inactiveAnimation.PlayAnimation("Active",!0)}),this._state=e.State.UNPACKING):(this.DoStartFiring(),this._activeAnimation.PlayAnimation("Fire",!1,()=>{this._activeAnimation.PlayAnimation("Active",!0)}),this._inactiveAnimation.PlayAnimation("Active",!0))}OnResPrepared(t){this.geometryResource=t;for(var r=Ve.Tw2VertexElement.from({usage:"TEXCOORD",usageIndex:1,elements:2}),i=this.geometryResource.meshes,n=this._activeAnimation,a=this._inactiveAnimation,o=0;o<i.length;++o)i[o].declaration.elements.push(r),i[o].declaration.RebuildHash();switch(this._state){case e.State.INACTIVE:n.PlayAnimation("Inactive",!0),a.PlayAnimation("Inactive",!0);break;case e.State.IDLE:n.PlayAnimation("Active",!0),a.PlayAnimation("Active",!0);break;case e.State.FIRING:n.PlayAnimation("Fire",!1,()=>n.PlayAnimation("Active",!0)),a.PlayAnimation("Active",!0);break;case e.State.PACKING:this.EnterStateIdle();break;case e.State.UNPACKING:this.EnterStateDeactive()}}FindItemByLocatorName(e){for(var t=0;t<this.items.length;t++)if(this.items[t].locatorName===e)return this.items[t];return null}UpdateItemsFromLocators(t){for(var r=e.global,i=Array.from(this.items),n=r.mat4_0,a=0;a<t.length;a++){var{name:o,transform:s,bone:l=null}=t[a],u=this.FindItemByLocatorName(o);u?i.splice(i.indexOf(u),1):u=this.CreateItem({name:o,locatorName:o,updateFromLocator:!0}),u.updateFromLocator&&(u._bone=l,ke.mat4.copy(n,s),ke.vec3.normalize(n.subarray(0,3),n.subarray(0,3)),ke.vec3.normalize(n.subarray(4,7),n.subarray(4,7)),ke.vec3.normalize(n.subarray(8,11),n.subarray(8,11)),ke.mat4.getRotation(u.rotation,n),ke.mat4.getTranslation(u.position,n),u.UpdateValues())}for(var c=0;c<i.length;c++)i[c].locatorName&&(this.RemoveItem(i[c]),c--);this.RebuildItemsFromLocators(),this._dirty&&this.Rebuild()}RebuildItemsFromLocators(){this._locatorDirty=!0}UpdateViewDependentData(e){ke.mat4.copy(this._parentTransform,e),this.firingEffect&&this.firingEffect.UpdateViewDependentData(e)}Rebuild(){this.RebuildItems(),this._dirty=!1,super.Rebuild()}Update(t){if(super.Update(t),this.turretEffect&&(this._activeAnimation.Update(t),this._inactiveAnimation.Update(t)),this.firingEffect&&this._visibleItems.length){if(-1!==this._activeTurret){this.firingEffect.isLoopFiring&&this._state===e.State.FIRING&&(this._recheckTimeLeft-=t,this._recheckTimeLeft<=0&&this.DoStartFiring());var r=this.items[this._activeTurret];if(this._activeAnimation.models.length)for(var i=this._activeAnimation.models[0].bonesByName,n=0;n<this.firingEffect.GetPerMuzzleEffectCount();++n){var a=i[e.positionBoneSkeletonNames[n]].worldTransform,o=this.firingEffect.GetMuzzleTransform(n);ke.mat4.multiply(o,r._localTransform,a),ke.mat4.multiply(o,this._parentTransform,o)}else for(var s=0;s<this.firingEffect.GetPerMuzzleEffectCount();++s)ke.mat4.multiply(this.firingEffect.GetMuzzleTransform(s),this._parentTransform,r._localTransform);if(this._fireCallbackPending){if(this._fireCallback){for(var l=[],u=0;u<this.firingEffect.GetPerMuzzleEffectCount();++u)l.push(this.firingEffect.GetMuzzleTransform(u));this._fireCallback(this,l,r)}this._fireCallbackPending=!1,this.EmitEvent("fired",{turretSet:this,turret:r})}}this.firingEffect.SetEndPosition(this._targetPosition),this.firingEffect.Update(t)}}GetBatches(t,r,i,n){if(this.turretEffect&&this.geometryResource&&this.display&&this._visibleItems.length){if(t===Ue.device.RM_OPAQUE&&this.visible.turrets){var a=this._inactiveAnimation.GetBoneMatrices(0);if(0!==a.length){this.UpdatePerObjectData(this._perObjectDataInactive.vs,a),this._perObjectDataInactive.ps=i.ps;var o=new Ve.Tw2ForwardingRenderBatch;if(o.renderMode=t,o.renderActive=!1,o.perObjectData=this._perObjectDataInactive,o.geometryProvider=this,r.Commit(o),this._state===e.State.FIRING){var s=this._activeAnimation.GetBoneMatrices(0);if(0!==s.length){this.UpdatePerObjectData(this._perObjectDataActive.vs,s,!0),this._perObjectDataActive.ps=i.ps;var l=new Ve.Tw2ForwardingRenderBatch;l.renderActive=!0,l.perObjectData=this._perObjectDataActive,l.geometryProvider=this,r.Commit(l)}}}}n&&this.firingEffect&&this.visible.firingEffects&&this.firingEffect.GetBatches(t,r,i)}}GetFiringEffectBatches(e,t,r){this.firingEffect&&this.display&&this._visibleItems.length&&this.visible.firingEffects&&this.firingEffect.GetBatches(e,t,r)}Render(t,r){if(!this.turretEffect||!this.turretEffect.IsGood()||!this._visibleItems.length)return!1;for(var i=0,n=function(e){Ue.device.gl.disableVertexAttribArray(e.location),Ue.device.gl.vertexAttrib2f(e.location,i,i)},a=0;a<this.geometryResource.meshes.length;++a){this.geometryResource.meshes[a].declaration.FindUsage(Ve.Tw2VertexElement.Type.TEXCOORD,1).customSetter=n}for(var o=0;i<this.items.length;++i)if(this.items[i].display){var s=this._state===e.State.FIRING&&i===this._activeTurret;t.renderActive===s&&(this.geometryResource.RenderAreas(0,0,1,this.turretEffect,r),o++)}return!!o}UpdatePerObjectData(t,r,i){ke.mat4.transpose(t.Get("shipMatrix"),this._parentTransform);var n=r.length/12;t.Get("turretSetData")[0]=n,t.Get("baseCutoffData")[0]=this.bottomClipHeight;for(var a=t.Get("turretTranslation"),o=t.Get("turretRotation"),s=t.Get("turretPoseTransAndRot"),l=0;l<this._visibleItems.length;++l){for(var u=this._visibleItems[l],c=0;c<n;++c)s[2*(l*n+c)*4]=r[12*c+3],s[2*(l*n+c)*4+1]=r[12*c+7],s[2*(l*n+c)*4+2]=r[12*c+11],s[2*(l*n+c)*4+3]=1,e.mat3x4toquat(r,c,s,2*(l*n+c)+1);u._bone&&!i&&u.UpdateTransforms(),a[4*l]=u._localTransform[12],a[4*l+1]=u._localTransform[13],a[4*l+2]=u._localTransform[14],a[4*l+3]=1,o[4*l]=u.rotation[0],o[4*l+1]=u.rotation[1],o[4*l+2]=u.rotation[2],o[4*l+3]=u.rotation[3]}}DoStartFiring(){this._hasCyclingFiringPos&&(this._currentCyclingFiresPos=1-this._currentCyclingFiresPos),this.firingEffect&&this.firingEffect.PrepareFiring(0,this._hasCyclingFiringPos?this._currentCyclingFiresPos:-1),this._activeTurret=this.GetClosestTurret(),this._state=e.State.FIRING,this._recheckTimeLeft=2,this._fireCallbackPending=!0}DoStopFiring(){this.firingEffect&&this.firingEffect.StopFiring()}},Ge.Item=Ke,Ge.State={INACTIVE:0,IDLE:1,FIRING:2,PACKING:2,UNPACKING:4},Ge.worldNames=["turretWorld0","turretWorld1","turretWorld2"],Ge.positionBoneSkeletonNames=["Pos_Fire01","Pos_Fire02","Pos_Fire03","Pos_Fire04","Pos_Fire05","Pos_Fire06","Pos_Fire07","Pos_Fire08"],Ge.perObjectData={vs:[["baseCutoffData",4],["turretSetData",4],["shipMatrix",16],["turretTranslation",96],["turretRotation",96],["turretPoseTransAndRot",576]]},Ge.mat3x4toquat=function(e,t,r,i){Ye||(Ye=ke.mat4.create(),Xe=ke.quat.create()),t*=12,i*=4,Ye[0]=e[t],Ye[1]=e[t+4],Ye[2]=e[t+8],Ye[3]=0,Ye[4]=e[t+1],Ye[5]=e[t+5],Ye[6]=e[t+9],Ye[7]=0,Ye[8]=e[t+2],Ye[9]=e[t+6],Ye[10]=e[t+10],Ye[11]=0,Ye[12]=e[t+3],Ye[13]=e[t+7],Ye[14]=e[t+11],Ye[15]=1,ke.mat4.getRotation(Xe,Ye),r[i]=Xe[0],r[i+1]=Xe[1],r[i+2]=Xe[2],r[i+3]=Xe[3]},de=We((fe=Be).prototype,"name",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),he=We(fe.prototype,"bottomClipHeight",[w,E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),me=We(fe.prototype,"boundingSphere",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return ke.vec4.create()}}),be=We(fe.prototype,"chooseRandomLocator",[S,_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),pe=We(fe.prototype,"cyclingFireGroupCount",[j,R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),ve=We(fe.prototype,"firingEffectResPath",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),ge=We(fe.prototype,"geometryResPath",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),ye=We(fe.prototype,"impactSize",[P,A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),we=We(fe.prototype,"laserMissBehaviour",[x,M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Ee=We(fe.prototype,"locatorName",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),Te=We(fe.prototype,"maxCyclingFirePos",[D,I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Se=We(fe.prototype,"projectileMissBehaviour",[L,F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),_e=We(fe.prototype,"sysBoneHeight",[G,B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),je=We(fe.prototype,"sysBonePitch01Factor",[N,U],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Re=We(fe.prototype,"sysBonePitch02Factor",[k,V],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),ze=We(fe.prototype,"sysBonePitchFactor",[H,q],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Oe=We(fe.prototype,"sysBonePitchMax",[W,Y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Pe=We(fe.prototype,"sysBonePitchMin",[X,K],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Ae=We(fe.prototype,"sysBonePitchOffset",[Q,Z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),xe=We(fe.prototype,"turretEffect",[$],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Me=We(fe.prototype,"updatePitchPose",[J,ee],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Ce=We(fe.prototype,"useDynamicBounds",[te,re],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),De=We(fe.prototype,"useRandomFiringDelay",[ie,ne],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Ie=We(fe.prototype,"firingEffect",[ae],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Le=We(fe.prototype,"geometryResource",[oe,se],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Fe=We(fe.prototype,"visible",[le],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{turrets:!0,firingEffects:!0}}}),We(fe.prototype,"turrets",[ue],Object.getOwnPropertyDescriptor(fe.prototype,"turrets"),fe.prototype),ce=fe))||ce)||ce)},"./eve/item/index.js":function(e,t,r){"use strict";r.r(t);var i=r("./eve/item/EveBoosterSet.js");r.d(t,"EveBoosterBatch",(function(){return i.EveBoosterBatch})),r.d(t,"EveBoosterSetItem",(function(){return i.EveBoosterSetItem})),r.d(t,"EveBoosterSet",(function(){return i.EveBoosterSet}));var n=r("./eve/item/EveCurveLineSet.js");r.d(t,"EveCurveLineSetItem",(function(){return n.EveCurveLineSetItem})),r.d(t,"EveCurveLineSet",(function(){return n.EveCurveLineSet}));var a=r("./eve/item/EveCustomMask.js");r.d(t,"EveCustomMask",(function(){return a.EveCustomMask}));var o=r("./eve/item/EveLocator2.js");r.d(t,"EveLocator2",(function(){return o.EveLocator2})),r.d(t,"EveLocator",(function(){return o.EveLocator}));var s=r("./eve/item/EveObjectSet.js");r.d(t,"EveObjectSetItem",(function(){return s.EveObjectSetItem})),r.d(t,"EveObjectSet",(function(){return s.EveObjectSet}));var l=r("./eve/item/EvePlaneSet.js");r.d(t,"EvePlaneSetItem",(function(){return l.EvePlaneSetItem})),r.d(t,"EvePlaneSet",(function(){return l.EvePlaneSet}));var u=r("./eve/item/EveSpaceObjectDecal.js");r.d(t,"EveSpaceObjectDecal",(function(){return u.EveSpaceObjectDecal}));var c=r("./eve/item/EveSpotlightSet.js");r.d(t,"EveSpotlightSetItem",(function(){return c.EveSpotlightSetItem})),r.d(t,"EveSpotlightSet",(function(){return c.EveSpotlightSet}));var f=r("./eve/item/EveSpriteSet.js");r.d(t,"EveSpriteSetItem",(function(){return f.EveSpriteSetItem})),r.d(t,"EveSpriteSet",(function(){return f.EveSpriteSet}));var d=r("./eve/item/EveTurretSet.js");r.d(t,"EveTurretSetItem",(function(){return d.EveTurretSetItem})),r.d(t,"EveTurretSet",(function(){return d.EveTurretSet}))},"./eve/object/EveEffectRoot.js":function(e,t,r){"use strict";r.r(t),r.d(t,"EveEffectRoot",(function(){return L}));var i,n,a,o,s,l,u,c,f,d,h,m,b,p,v,g,y,w,E,T,S,_,j,R,z,O,P=r("./global/utils/index.js"),A=r("./global/math/index.js"),x=r("./core/index.js"),M=r("./eve/object/EveObject.js"),C=r("./eve/object/EveSpaceObject.js");function D(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function I(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var L=(i=P.meta.type("EveEffectRoot"),n=P.meta.todo("Implement LOD"),a=P.meta.list("Tw2CurveSet"),o=P.meta.list("EveMeshOverlayEffect"),s=P.meta.float,l=P.meta.vector3,u=P.meta.quaternion,c=P.meta.vector3,f=P.meta.matrix4,d=P.meta.isPrivate,h=P.meta.vector3,m=P.meta.isPrivate,b=P.meta.float,p=P.meta.isPrivate,i(v=n((O=class extends M.EveObject{constructor(...e){super(...e),D(this,"curveSets",y,this),D(this,"effectChildren",w,this),D(this,"duration",E,this),D(this,"scaling",T,this),D(this,"rotation",S,this),D(this,"translation",_,this),D(this,"localTransform",j,this),D(this,"boundingSphereCenter",R,this),D(this,"boundingSphereRadius",z,this),this._worldTransform=A.mat4.create(),this._perObjectData=x.Tw2PerObjectData.from(C.EveSpaceObject.perObjectData)}SetTransform(e){A.mat4.getRotation(this.rotation,e),A.mat4.getScaling(this.scaling,e),A.mat4.getTranslation(this.translation,e)}GetResources(e=[]){for(var t=0;t<this.effectChildren.length;++t)this.effectChildren[t].GetResources(e);return e}Start(){for(var e=0;e<this.curveSets.length;++e)this.curveSets[e].Play()}Stop(){for(var e=0;e<this.curveSets.length;++e)this.curveSets[e].Stop()}UpdateViewDependentData(e){A.mat4.fromRotationTranslationScale(this.localTransform,this.rotation,this.translation,this.scaling),e?A.mat4.multiply(this._worldTransform,e,this.localTransform):A.mat4.copy(this._worldTransform,this.localTransform)}Update(e){for(var t=0;t<this.curveSets.length;++t)this.curveSets[t].Update(e);for(var r=0;r<this.effectChildren.length;++r)this.effectChildren[r].Update(e,this._worldTransform)}GetBatches(e,t){if(this.display)for(var r=0;r<this.effectChildren.length;++r)this.effectChildren[r].GetBatches(e,t,this._perObjectData)}},y=I((g=O).prototype,"curveSets",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),w=I(g.prototype,"effectChildren",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),E=I(g.prototype,"duration",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),T=I(g.prototype,"scaling",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return A.vec3.fromValues(1,1,1)}}),S=I(g.prototype,"rotation",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return A.quat.create()}}),_=I(g.prototype,"translation",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return A.vec3.create()}}),j=I(g.prototype,"localTransform",[f,d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return A.mat4.create()}}),R=I(g.prototype,"boundingSphereCenter",[h,m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return A.vec3.create()}}),z=I(g.prototype,"boundingSphereRadius",[b,p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),v=g))||v)||v)},"./eve/object/EveMissile.js":function(e,t,r){"use strict";r.r(t),r.d(t,"EveMissileWarhead",(function(){return be})),r.d(t,"EveMissile",(function(){return pe}));var i,n,a,o,s,l,u,c,f,d,h,m,b,p,v,g,y,w,E,T,S,_,j,R,z,O,P,A,x,M,C,D,I,L,F,G,B,N,U,k,V,H,q,W,Y,X,K,Q,Z,$,J,ee,te,re,ie,ne,ae,oe,se,le,ue=r("./global/utils/index.js"),ce=r("./global/math/index.js"),fe=r("./core/index.js"),de=r("./eve/object/EveObject.js");function he(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function me(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var be=(i=ue.meta.type("EveMissileWarhead"),n=ue.meta.stage(2),a=ue.meta.notImplemented,o=ue.meta.float,s=ue.meta.float,l=ue.meta.notImplemented,u=ue.meta.float,c=ue.meta.float,f=ue.meta.float,d=ue.meta.struct("Tw2Mesh"),h=ue.meta.list("Tw2ParticleEmitter"),m=ue.meta.notImplemented,b=ue.meta.float,p=ue.meta.notImplemented,v=ue.meta.float,g=ue.meta.struct("EveSpriteSet"),y=ue.meta.float,w=ue.meta.notImplemented,E=ue.meta.float,T=ue.meta.notImplemented,S=ue.meta.float,i(_=n((N=B=class e extends de.EveObject{constructor(...t){super(...t),he(this,"acceleration",R,this),he(this,"durationEjectPhase",z,this),he(this,"impactDuration",O,this),he(this,"impactSize",P,this),he(this,"maxExplosionDistance",A,this),he(this,"mesh",x,this),he(this,"particleEmitters",M,this),he(this,"pathOffsetNoiseScale",C,this),he(this,"pathOffsetNoiseSpeed",D,this),he(this,"spriteSet",I,this),he(this,"startEjectVelocity",L,this),he(this,"warheadLength",F,this),he(this,"warheadRadius",G,this),this._perObjectData=fe.Tw2PerObjectData.from(e.perObjectData),this._state=e.State.READY,this._time=0,this._transform=ce.mat4.create(),this._velocity=ce.vec3.create()}Initialize(){this.spriteSet&&this.spriteSet.UseQuads(!0)}GetResources(e=[]){return this.mesh&&this.mesh.GetResources(e),this.spriteSet&&this.spriteSet.GetResources(e),e}Launch(t){ce.mat4.copy(this._transform,t),this._velocity[0]=t[8]*this.startEjectVelocity,this._velocity[1]=t[9]*this.startEjectVelocity,this._velocity[2]=t[10]*this.startEjectVelocity,this._time=0,this._state=e.State.IN_FLIGHT}UpdateViewDependentData(){this.display&&this._state!==e.State.DEAD&&(ce.mat4.transpose(this._perObjectData.vs.Get("WorldMat"),this._transform),ce.mat4.transpose(this._perObjectData.vs.Get("WorldMatLast"),this._transform))}Update(t,r,i){if(this._state===e.State.IN_FLIGHT){var n=de.EveObject.global,a=ce.mat4.getTranslation(n.vec3_0,this._transform),o=n.vec3_1,s=n.vec3_2,l=n.vec3_3;this._time+=t,this._time>this.durationEjectPhase?(ce.vec3.subtract(a,this._velocity,r),ce.vec3.lerp(a,a,r,1-Math.exp(.9999*-t)),ce.mat4.setTranslation(this._transform,a),ce.vec3.subtract(o,i,a),ce.vec3.length(o)<this.maxExplosionDistance&&(console.log(a,o),this._state=e.State.DEAD)):(ce.vec3.scale(o,this._velocity,t),this._transform[12]+=o[0],this._transform[13]+=o[1],this._transform[14]+=o[2]);var u=ce.vec3.normalize(o,this._velocity);Math.abs(u[0])<.99?ce.vec3.cross(s,u,[1,0,0]):ce.vec3.cross(s,u,[0,1,0]),ce.vec3.normalize(s,s),ce.vec3.cross(l,s,u),this._transform[0]=s[0],this._transform[1]=s[1],this._transform[2]=s[2],this._transform[4]=l[0],this._transform[5]=l[1],this._transform[6]=l[2],this._transform[8]=u[0],this._transform[9]=u[1],this._transform[10]=u[2]}this.spriteSet&&this.spriteSet.Update(t)}GetBatches(t,r){this.display&&this.mesh&&this._state!==e.State.DEAD&&(this.mesh&&this.mesh.GetBatches(t,r,this._perObjectData),this.spriteSet&&this.spriteSet.GetBatches(t,r,this._perObjectData,this._transform))}},B.perObjectData={vs:[["WorldMat",16],["WorldMatLast",16],["Shipdata",[0,1,0,-10]],["Clipdata1",4],["JointMat",696]],ps:[["Shipdata",[0,1,0,1]],["Clipdata1",4],["Clipdata2",4]]},B.State={READY:0,IN_FLIGHT:1,DEAD:2},R=me((j=N).prototype,"acceleration",[a,o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),z=me(j.prototype,"durationEjectPhase",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),O=me(j.prototype,"impactDuration",[l,u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.6}}),P=me(j.prototype,"impactSize",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),A=me(j.prototype,"maxExplosionDistance",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 40}}),x=me(j.prototype,"mesh",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),M=me(j.prototype,"particleEmitters",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),C=me(j.prototype,"pathOffsetNoiseScale",[m,b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),D=me(j.prototype,"pathOffsetNoiseSpeed",[p,v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),I=me(j.prototype,"spriteSet",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),L=me(j.prototype,"startEjectVelocity",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),F=me(j.prototype,"warheadLength",[w,E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),G=me(j.prototype,"warheadRadius",[T,S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),_=j))||_)||_),pe=(U=ue.meta.type("EveMissile"),k=ue.meta.stage(2),V=ue.meta.vector3,H=ue.meta.isPrivate,q=ue.meta.notImplemented,W=ue.meta.float,Y=ue.meta.isPrivate,X=ue.meta.notImplemented,K=ue.meta.struct("Tr2TranslationAdapter"),Q=ue.meta.list("EveMissileWarhead"),Z=ue.meta.list("Tw2CurveSet"),$=ue.meta.todo("Is this deprecated?"),J=ue.meta.float,U(ee=k((le=class extends de.EveObject{constructor(...e){super(...e),he(this,"boundingSphereCenter",re,this),he(this,"boundingSphereRadius",ie,this),he(this,"modelTranslationCurve",ne,this),he(this,"warheads",ae,this),he(this,"curveSets",oe,this),he(this,"speed",se,this),this._position=ce.vec3.create(),this._target=ce.vec3.create(),this._warheadExplosionCallback=null,this._missileFinishedCallback=null}OnWarheadExplosion(e){this._warheadExplosionCallback=e}OnMissileFinished(e){this._missileFinishedCallback=e}Launch(e,t,r){if(ce.vec3.copy(this._position,e),ce.vec3.copy(this._target,r),this.warheads.length>t.length)this.warheads.splice(t.length);else for(;this.warheads.length<t.length;)this.warheads.push(this.constructor.CloneWarhead(this.warheads[0]));for(var i=0;i<this.warheads.length;++i)this.warheads[0].Launch(t[i])}GetResources(e=[]){for(var t=0;t<this.warheads.length;++t)this.warheads[t].GetResources(e);return e}UpdateViewDependentData(){for(var e=0;e<this.warheads.length;++e)this.warheads[e].UpdateViewDependentData()}Update(e){var t=ce.vec3.subtract(de.EveObject.global.vec3_0,this._target,this._position),r=ce.vec3.length(t);r>.1&&(ce.vec3.normalize(t,t),ce.vec3.scale(t,t,Math.min(e*this.speed,r)),ce.vec3.add(this._position,this._position,t));for(var i=0;i<this.curveSets.length;++i)this.curveSets[i].Update(e);for(var n=!1,a=0;a<this.warheads.length;++a){var o=this.warheads[a]._state;this.warheads[a].Update(e,this._position,this._target),o!==be.State.DEAD&&this.warheads[a]._state===be.State.DEAD&&(this._warheadExplosionCallback&&this._warheadExplosionCallback(this.warheads[a]),n=!0)}if(n&&this._missileFinishedCallback){for(var s=0;s<this.warheads.length;++s)if(this.warheads[s]._state!==be.State.DEAD)return;this._missileFinishedCallback(this)}}GetBatches(e,t){if(this.display)for(var r=0;r<this.warheads.length;++r)this.warheads[r].GetBatches(e,t)}static CloneWarhead(e){var t=new be;return t.mesh=e.mesh,t.spriteSet=e.spriteSet,t}},re=me((te=le).prototype,"boundingSphereCenter",[V,H],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return ce.vec3.create()}}),ie=me(te.prototype,"boundingSphereRadius",[q,W,Y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),ne=me(te.prototype,"modelTranslationCurve",[X,K],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ae=me(te.prototype,"warheads",[Q],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),oe=me(te.prototype,"curveSets",[Z,$],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),se=me(te.prototype,"speed",[J],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),ee=te))||ee)||ee)},"./eve/object/EveObject.js":function(e,t,r){"use strict";r.r(t),r.d(t,"EveObject",(function(){return v}));var i,n,a,o,s,l,u,c,f,d,h=r("./global/utils/index.js"),m=r("./global/math/index.js");function b(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function p(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var v=(i=h.meta.string,n=h.meta.boolean,a=h.meta.abstract,o=h.meta.abstract,s=h.meta.abstract,d=f=class extends h.meta.Model{constructor(...e){super(...e),b(this,"name",u,this),b(this,"display",c,this)}GetResources(e=[]){}Update(e){}GetBatches(e,t){}},f.global={vec3_0:m.vec3.create(),vec3_1:m.vec3.create(),vec3_2:m.vec3.create(),vec3_3:m.vec3.create(),vec3_4:m.vec3.create(),vec3_5:m.vec3.create(),vec3_6:m.vec3.create(),vec3_7:m.vec3.create(),mat4_0:m.mat4.create(),mat4_1:m.mat4.create(),mat4_2:m.mat4.create(),mat4_ID:m.mat4.create()},u=p((l=d).prototype,"name",[i],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),c=p(l.prototype,"display",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),p(l.prototype,"GetResources",[a],Object.getOwnPropertyDescriptor(l.prototype,"GetResources"),l.prototype),p(l.prototype,"Update",[o],Object.getOwnPropertyDescriptor(l.prototype,"Update"),l.prototype),p(l.prototype,"GetBatches",[s],Object.getOwnPropertyDescriptor(l.prototype,"GetBatches"),l.prototype),l)},"./eve/object/EvePlanet.js":function(e,t,r){"use strict";r.r(t),r.d(t,"EvePlanet",(function(){return x}));var i,n,a,o,s,l,u,c,f,d,h,m,b,p,v,g,y,w,E,T,S,_=r("./global/utils/index.js"),j=r("./global/index.js"),R=(r("./global/math/index.js"),r("./core/index.js")),z=r("./eve/object/EveTransform.js"),O=r("./eve/object/EveObject.js");function P(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function A(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var x=(i=_.meta.type("EvePlanet"),n=_.meta.struct("EveTransform"),a=_.meta.struct("Tw2Effect"),o=_.meta.struct("Tw2RenderTarget"),s=_.meta.struct("EveTransform"),l=_.meta.uint,u=_.meta.isPrivate,c=_.meta.path,f=_.meta.isPrivate,d=_.meta.path,h=_.meta.isPrivate,i((S=class e extends O.EveObject{constructor(...e){super(...e),P(this,"highDetail",p,this),P(this,"effectHeight",v,this),P(this,"heightMap",g,this),P(this,"zOnlyModel",y,this),P(this,"itemID",w,this),P(this,"heightMapResPath1",E,this),P(this,"heightMapResPath2",T,this),this._heightDirty=!1,this._lockedResources=[],this._watchedResources=[],this._lod=3,this._useLOD=!0,this._atmosphere=null,this._planet=null}Rebuild(){this._planet&&(this._heightDirty=!0,e.MeshLoaded(this,this._planet))}Create(t={},r){var{name:i="",itemID:n=0,resPath:a,atmospherePath:o,heightMap1:s,heightMap2:l}=t;this.name=i,this.itemID=n,this.heightMapResPath1=s,this.heightMapResPath2=l,this.highDetail.children=[],this._heightDirty=!0;var u=1;function c(){--u<1&&r&&r()}a&&u++,o&&u++,a&&j.resMan.GetObject(a,t=>{t.resPath=a,this._planet=t,e.MeshLoaded(this,t),c()}),o&&j.resMan.GetObject(o,e=>{e.resPath=o,this._atmosphere=e,this.highDetail.children.push(e),c()}),j.resMan.GetObject("res:/dx9/model/worldobject/planet/planetzonly.red",e=>{this.zOnlyModel=e,c()})}ResetLod(){this._lod=3}UpdateLod(e){var{scaling:t,translation:r}=this.highDetail;this._lod=this._useLOD&&e.IsSphereVisible(r,t[0])?3:0}UseLOD(e){this._useLOD=e}SetTransform(e){this.highDetail.SetTransform(e)}GetResources(e=[]){return this.highDetail&&this.highDetail.GetResources(e),this.effectHeight&&this.effectHeight.GetResources(e),e}GetPlanetResources(e,t,r){if(!t.includes(e))if(t.push(e),e&&e.constructor.__isResource)r.push(e);else for(var i in e)e.hasOwnProperty(i)&&Object(_.isObjectLike)(e[i])&&this.GetPlanetResources(e[i],t,r)}UpdateViewDependentData(e){this.highDetail.UpdateViewDependentData(e),this.zOnlyModel&&(this.zOnlyModel.translation=this.highDetail.translation,this.zOnlyModel.scaling=this.highDetail.scaling,this.zOnlyModel.UpdateViewDependentData(e))}Update(e){this.display&&this._useLOD&&this.highDetail.Update(e)}CreateHeightMap(){this.heightMap.Set(),j.device.SetStandardStates(j.device.RM_FULLSCREEN),j.device.gl.clearColor(0,0,0,0),j.device.gl.clear(j.device.gl.COLOR_BUFFER_BIT),j.device.RenderFullScreenQuad(this.effectHeight),this.heightMap.Unset()}GetBatches(e,t){if(this.display&&this._heightDirty&&this._watchedResources.length&&""!==this.heightMapResPath1){for(var r=0;r<this._watchedResources.length;++r)if(this._watchedResources[r]&&!this._watchedResources[r].IsGood())return;this._watchedResources=[],this.CreateHeightMap(),this._heightDirty=!1;for(var i=0;i<this._lockedResources.length;++i)this._lockedResources[i]&&this._lockedResources[i].doNotPurge--;var n=this.highDetail.children[0].mesh,a=null;n.transparentAreas.length?a=n.transparentAreas[0].effect:n.opaqueAreas.length&&(a=n.opaqueAreas[0].effect),a&&(a.parameters.HeightMap.textureRes=this.heightMap.texture)}this.display&&this._lod&&this.highDetail.GetBatches(e,t)}GetZOnlyBatches(e,t){this.display&&this._lod&&this.zOnlyModel&&this.zOnlyModel.GetBatches(e,t)}static MeshLoaded(e,t){e.highDetail.children.unshift(t),e._lockedResources.splice(0),e.GetPlanetResources(e.highDetail,[],e._lockedResources);var r,i=e.highDetail.children[0].mesh,n=null;for(var a in r=(r=i.transparentAreas.length?(n=i.transparentAreas[0].effect).effectFilePath:i.opaqueAreas.length?(n=i.opaqueAreas[0].effect).effectFilePath:"res:/Graphics/Effect/Managed/Space/Planet/EarthlikePlanet.fx").replace(".fx","BlitHeight.fx"),e._watchedResources.splice(0),n.parameters)n.parameters.hasOwnProperty(a)&&(e.effectHeight.parameters[a]=n.parameters[a],"textureRes"in n.parameters[a]&&e._watchedResources.push(n.parameters[a].textureRes));for(var o=0;o<e.highDetail.children[0].children.length;++o)if(i=e.highDetail.children[0].children[o].mesh){if(n=null,i.transparentAreas.length)n=i.transparentAreas[0].effect;else{if(!i.opaqueAreas.length)continue;n=i.opaqueAreas[0].effect}for(var s in n.parameters)n.parameters.hasOwnProperty(s)&&(e.effectHeight.parameters[s]=n.parameters[s],"textureRes"in n.parameters[s]&&e._watchedResources.push(n.parameters[s].textureRes))}var l=new R.Tw2TextureParameter("NormalHeight1",e.heightMapResPath1);l.Initialize(),e._watchedResources.push(l.textureRes),e._lockedResources.push(l.textureRes),e.effectHeight.parameters.NormalHeight1=l;var u=new R.Tw2TextureParameter("NormalHeight2",e.heightMapResPath2);u.Initialize(),e._watchedResources.push(u.textureRes),e._lockedResources.push(u.textureRes),e.effectHeight.parameters.NormalHeight2=u,e.effectHeight.parameters.Random=new R.Tw2FloatParameter("Random",e.itemID%100),e.effectHeight.parameters.TargetTextureHeight=new R.Tw2FloatParameter("TargetTextureHeight",1024),e.effectHeight.effectFilePath=r,e.effectHeight.Initialize(),e._heightDirty=!0,e.heightMap.Create(2048,1024,!1),e._watchedResources.push(e.effectHeight.effectRes);for(var c=0;c<e._lockedResources.length;++c)e._lockedResources[c]&&(e._lockedResources[c].doNotPurge++,e._lockedResources[c].IsPurged()&&e._lockedResources[c].Reload())}},p=A((b=S).prototype,"highDetail",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new z.EveTransform}}),v=A(b.prototype,"effectHeight",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new R.Tw2Effect}}),g=A(b.prototype,"heightMap",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new R.Tw2RenderTarget}}),y=A(b.prototype,"zOnlyModel",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),w=A(b.prototype,"itemID",[l,u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),E=A(b.prototype,"heightMapResPath1",[c,f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),T=A(b.prototype,"heightMapResPath2",[d,h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),m=b))||m)},"./eve/object/EveShip.js":function(e,t,r){"use strict";r.r(t),r.d(t,"EveShip",(function(){return v}));var i,n,a,o,s,l,u,c,f,d,h=r("./global/utils/index.js"),m=r("./eve/object/EveSpaceObject.js");function b(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function p(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var v=(i=h.meta.type("EveShip"),n=h.meta.struct("EveBoosterSet"),a=h.meta.list("EveTurretSet"),o=h.meta.float,i((d=class extends m.EveSpaceObject{constructor(...e){super(...e),b(this,"boosters",u,this),b(this,"turretSets",c,this),b(this,"boosterGain",f,this)}Initialize(){super.Initialize(),this.boosters&&this.RebuildBoosterSet(),this.visible.boosters=!0,this.visible.firingEffect=!0}GetResources(e=[]){super.GetResources(e);for(var t=0;t<this.turretSets.length;t++)this.turretSets[t].GetResources(e);return this.boosters&&this.boosters.GetResources(e),e}RebuildBoosterSet(){this.boosters&&this.boosters.UpdateItemsFromLocators(this.FindLocatorsByPrefix("locator_booster"))}RebuildTurretPositions(){for(var e=0;e<this.turretSets.length;e++)this.RebuildTurretSet(e)}RebuildTurretSet(e){if(Object(h.isNumber)(e)||(e=this.turretSets.indexOf(e)),void 0!==this.turretSets[e]){for(var t=this.turretSets[e],r=t.locatorName,i=this.GetLocatorCount(r),n=[],a=0;a<i;++a){var o=r+String.fromCharCode("a".charCodeAt(0)+a),s=this.FindLocatorByName(o);s&&(s.FindBone(this.animation),n.push(s))}t.UpdateItemsFromLocators(n)}}UpdateViewDependentData(e,t,r){var i=this._worldSpriteScale!==r;super.UpdateViewDependentData(e,t,r),!i&&this.boosters&&this.boosters.SetWorldSpriteScale(this._worldSpriteScale);for(var n=0;n<this.turretSets.length;++n)this.turretSets[n].UpdateViewDependentData(this._worldTransform)}Update(e){super.Update(e),this.boosters&&(this.boosters._locatorDirty&&this.RebuildBoosterSet(),this.boosters.SetWorldSpriteScale(this._worldSpriteScale),this.boosters.Update(e,this._worldTransform));for(var t=0;t<this.turretSets.length;++t)this.turretSets[t]._locatorDirty&&this.RebuildTurretSet(t),this.turretSets[t].Update(e)}GetBatches(e,t){if(this.display&&(super.GetBatches(e,t),this._perObjectData.vs.Get("Shipdata")[0]=this.boosterGain,this._perObjectData.ps.Get("Shipdata")[0]=this.boosterGain,this.boosters&&this.visible.boosters&&this.boosters.GetBatches(e,t,this._perObjectData),this.visible.turretSets))if(this._lod>1)for(var r=0;r<this.turretSets.length;++r)this.turretSets[r].GetBatches(e,t,this._perObjectData,this.visible.firingEffects);else if(this.visible.firingEffects)for(var i=0;i<this.turretSets.length;++i)this.turretSets[i].GetFiringEffectBatches(e,t,this._perObjectData)}},u=p((l=d).prototype,"boosters",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),c=p(l.prototype,"turretSets",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),f=p(l.prototype,"boosterGain",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),s=l))||s)},"./eve/object/EveSpaceObject.js":function(e,t,r){"use strict";r.r(t),r.d(t,"EveSpaceObject",(function(){return se})),r.d(t,"EveStation",(function(){return se}));var i,n,a,o,s,l,u,c,f,d,h,m,b,p,v,g,y,w,E,T,S,_,j,R,z,O,P,A,x,M,C,D,I,L,F,G,B,N,U,k,V,H,q,W,Y,X,K,Q,Z,$,J,ee,te=r("./global/utils/index.js"),re=r("./global/math/index.js"),ie=r("./core/index.js"),ne=r("./eve/object/EveObject.js");function ae(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function oe(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var se=(i=te.meta.type("EveSpaceObject"),n=te.meta.struct("Tw2AnimationController"),a=te.meta.isPrivate,o=te.meta.vector3,s=te.meta.isPrivate,l=te.meta.float,u=te.meta.isPrivate,c=te.meta.list("EveObject"),f=te.meta.list("Tw2CurveSet"),d=te.meta.list("EveCustomMask"),h=te.meta.list("EveSpaceObjectDecal"),m=te.meta.list("EveChild"),b=te.meta.float,p=te.meta.list("EveCurveLineSet"),v=te.meta.list("EveLocator"),g=te.meta.struct("Tw2Mesh"),y=te.meta.list("EveMeshOverlayEffect"),w=te.meta.list("EvePlaneSet"),E=te.meta.vector3,T=te.meta.isPrivate,S=te.meta.vector3,_=te.meta.isPrivate,j=te.meta.list("EveSpotlightSet"),R=te.meta.list("EveSpriteSet"),z=te.meta.matrix4,O=te.meta.list("EveTurretSet"),P=te.meta.plain,i((ee=J=class e extends ne.EveObject{constructor(...t){super(...t),ae(this,"animation",M,this),ae(this,"boundingSphereCenter",C,this),ae(this,"boundingSphereRadius",D,this),ae(this,"children",I,this),ae(this,"curveSets",L,this),ae(this,"customMasks",F,this),ae(this,"decals",G,this),ae(this,"effectChildren",B,this),ae(this,"killCount",N,this),ae(this,"lineSets",U,this),ae(this,"locators",k,this),ae(this,"mesh",V,this),ae(this,"overlayEffects",H,this),ae(this,"planeSets",q,this),ae(this,"shapeEllipsoidRadius",W,this),ae(this,"shapeEllipsoidCenter",Y,this),ae(this,"spotlightSets",X,this),ae(this,"spriteSets",K,this),ae(this,"transform",Q,this),ae(this,"turretSets",Z,this),ae(this,"visible",$,this),this._lod=3,this._worldSpriteScale=1,this._worldTransform=re.mat4.create(),this._offsetTransform=null,this._perObjectData=ie.Tw2PerObjectData.from(e.perObjectData),this._boundingBox=null,this._boundingSphere=null,this._boundsDirty=!0}Initialize(){this.mesh&&this.animation.SetGeometryResource(this.mesh.geometryResource)}GetBoundingSphere(e,t){return this.RebuildBounds(t),re.sph3.copy(e,this._boundingSphere),this._boundsDirty}GetBoundingBox(e,t){return this.RebuildBounds(t),re.box3.copy(e,this._boundingBox),this._boundsDirty}RebuildBounds(e=this._boundsDirty){this._boundingSphere||(e=!0,this._boundingSphere=re.sph3.create(),this._boundingBox=re.sph3.create());var t=this.mesh&&this.mesh.IsGood();return e&&(t?this.mesh.geometryResource.GetBoundingBox(this._boundingBox):re.box3.empty(this._boundingBox),re.sph3.fromBox3(this._boundingSphere,this._boundingBox)),this._boundsDirty=t,t}SetTransform(e,t){t&&(this._offsetTransform?re.mat4.copy(this._offsetTransform,t):this._offsetTransform=re.mat4.clone(t)),this._offsetTransform?re.mat4.multiply(this.transform,e,this._offsetTransform):re.mat4.copy(this.transform,e)}GetResources(e=[]){this.mesh&&this.mesh.GetResources(e),this.animation&&this.animation.GetResources(e);var t=te.perArrayChild;return t(this.spriteSets,"GetResources",e),t(this.turretSets,"GetResources",e),t(this.decals,"GetResources",e),t(this.spotlightSets,"GetResources",e),t(this.planeSets,"GetResources",e),t(this.lineSets,"GetResources",e),t(this.overlayEffects,"GetResources",e),t(this.effectChildren,"GetResources",e),t(this.children,"GetResources",e),e}ResetLod(){this._lod=3}UpdateLod(e){var t=re.vec3.transformMat4(ne.EveObject.global.vec3_0,this.boundingSphereCenter,this.transform);e.IsSphereVisible(t,this.boundingSphereRadius)?e.GetPixelSizeAcross(t,this.boundingSphereRadius)<100?this._lod=1:this._lod=2:this._lod=0}FindTurretPrefixes(e=[]){function t(t){if(!t)return!1;var r=t[0].substring(0,t[0].length-1);return e.includes(r)||e.push(r),!0}for(var r=0;r<this.locators.length;r++){var i=this.locators[r].name;t(/^locator_turret_([0-9]+)[a-z]$/i.exec(i))||t(/^locator_xl_([0-9]+)[a-z]$/i.exec(i))}return e.sort(),e}GetLocatorCount(e){return this.FindLocatorsByPrefix(e).length}FindLocatorJointByName(e){var t=this.FindLocatorBoneByName(e);return t?t.worldTransform:null}FindLocatorTransformByName(e){var t=this.FindLocatorByName(e);return t?t.transform:null}HasLocatorPrefix(e){for(var t=0;t<this.locators.length;t++)if(0===this.locators[t].name.indexOf(e))return!0;return!1}FindLocatorBoneByName(e){return this.animation?this.animation.FindBoneForMesh(e,0):null}FindLocatorByName(e){for(var t=0;t<this.locators.length;t++)if(this.locators[t].name===e)return this.locators[t];return null}FindLocatorsByPrefix(e,t=[]){for(var r=0;r<this.locators.length;r++)0===this.locators[r].name.indexOf(e)&&t.push(this.locators[r]);return t}RebuildOverlays(e=[]){if(0===e.length&&0===this.overlayEffects.length)return!1;this.overlayEffects.splice(0);for(var t=0;t<e.length;t++)this.overlayEffects.push(e[t]);return!0}UpdateViewDependentData(e,t,r){re.mat4.transpose(this._perObjectData.vs.Get("WorldMatLast"),this._worldTransform),e?re.mat4.multiply(this._worldTransform,e,this.transform):re.mat4.copy(this._worldTransform,this.transform);var i=this.mesh&&this.mesh.IsGood()?this.mesh.geometryResource:null;if(i&&(this.animation.HasGeometryResource(i)||this.animation.SetGeometryResource(i),this.animation.animations.length&&this._perObjectData.vs.Set("JointMat",this.animation.GetBoneMatrices(0))),this._worldSpriteScale!==r){this._worldSpriteScale=r;for(var n=0;n<this.spriteSets.length;n++)this.spriteSets[n].SetWorldSpriteScale(r)}for(var a=0;a<this.children.length;++a)this.children[a].UpdateViewDependentData(this._worldTransform,t,r);re.mat4.transpose(this._perObjectData.vs.Get("WorldMat"),this._worldTransform);var o=this._perObjectData.vs.Get("EllipsoidCenter"),s=this._perObjectData.vs.Get("EllipsoidRadii");if(this.shapeEllipsoidRadius[0]>0)o[0]=this.shapeEllipsoidCenter[0],o[1]=this.shapeEllipsoidCenter[1],o[2]=this.shapeEllipsoidCenter[2],s[0]=this.shapeEllipsoidRadius[0],s[1]=this.shapeEllipsoidRadius[1],s[2]=this.shapeEllipsoidRadius[2];else if(i){var{maxBounds:l,minBounds:u}=i;re.vec3.subtract(o,l,u),re.vec3.scale(o,o,.8660254035),re.vec3.add(s,l,u),re.vec3.scale(s,s,.5)}for(var c=0;c<this.customMasks.length;++c)this.customMasks[c].UpdatePerObjectData(this._worldTransform,this._perObjectData,c,this.visible.customMasks);for(var f=0;f<this.lineSets.length;++f)this.lineSets[f].UpdateViewDependentData(this._worldTransform)}Update(e){if(this._lod>0){for(var t=0;t<this.spriteSets.length;++t)this.spriteSets[t].Update(e);for(var r=0;r<this.planeSets.length;r++)this.planeSets[r].Update(e);for(var i=0;i<this.spotlightSets.length;i++)this.spotlightSets[i].Update(e);for(var n=0;n<this.children.length;++n)this.children[n].Update(e);for(var a=0;a<this.effectChildren.length;++a)this.effectChildren[a].Update(e,this._worldTransform,this._lod);for(var o=0;o<this.curveSets.length;++o)this.curveSets[o].Update(e);for(var s=0;s<this.overlayEffects.length;++s)this.overlayEffects[s].Update(e);for(var l=0;l<this.lineSets.length;l++)this.lineSets[l].Update(e);this.animation&&this.animation.Update(e)}}GetBatches(e,t){if(this.display&&!(this._lod<1)){var r=this.visible,i=this.mesh&&this.mesh.IsGood()?this.mesh.geometryResource:null;if(r.mesh&&i&&this.mesh.GetBatches(e,t,this._perObjectData),this._lod>1){if(r.spriteSets)for(var n=0;n<this.spriteSets.length;n++)this.spriteSets[n].GetBatches(e,t,this._perObjectData,this._worldTransform);if(r.spotlightSets)for(var a=0;a<this.spotlightSets.length;a++)this.spotlightSets[a].GetBatches(e,t,this._perObjectData);if(r.planeSets)for(var o=0;o<this.planeSets.length;o++)this.planeSets[o].GetBatches(e,t,this._perObjectData);if(r.lineSets)for(var s=0;s<this.lineSets.length;s++)this.lineSets[s].GetBatches(e,t);if(i){if(r.decals)for(var l=0;l<this.decals.length;l++)this.decals[l].GetBatches(e,t,this._perObjectData,i,r.killmarks?this.killCount:0);if(r.overlayEffects)for(var u=0;u<this.overlayEffects.length;u++)this.overlayEffects[u].GetBatches(e,t,this._perObjectData,this.mesh)}}if(r.children)for(var c=0;c<this.children.length;c++)this.children[c].GetBatches(e,t,this._perObjectData);if(r.effectChildren)for(var f=0;f<this.effectChildren.length;f++)this.effectChildren[f].GetBatches(e,t,this._perObjectData)}}RenderDebugInfo(e){this.animation&&this.animation.RenderDebugInfo(e)}},J.perObjectData={vs:[["WorldMat",16],["WorldMatLast",16],["Shipdata",[0,1,0,-10]],["Clipdata1",4],["EllipsoidRadii",4],["EllipsoidCenter",4],["CustomMaskMatrix0",re.mat4.identity([])],["CustomMaskMatrix1",re.mat4.identity([])],["CustomMaskData0",[1,0,0,0]],["CustomMaskData1",[1,0,0,0]],["JointMat",696]],ps:[["Shipdata",[0,1,0,1]],["Clipdata1",4],["Clipdata2",4],["ShLighting",28],["CustomMaskMaterialID0",4],["CustomMaskMaterialID1",4],["CustomMaskTarget0",4],["CustomMaskTarget1",4]]},M=oe((x=ee).prototype,"animation",[n,a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new ie.Tw2AnimationController}}),C=oe(x.prototype,"boundingSphereCenter",[o,s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return re.vec3.create()}}),D=oe(x.prototype,"boundingSphereRadius",[l,u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),I=oe(x.prototype,"children",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),L=oe(x.prototype,"curveSets",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),F=oe(x.prototype,"customMasks",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),G=oe(x.prototype,"decals",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),B=oe(x.prototype,"effectChildren",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),N=oe(x.prototype,"killCount",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),U=oe(x.prototype,"lineSets",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),k=oe(x.prototype,"locators",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),V=oe(x.prototype,"mesh",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),H=oe(x.prototype,"overlayEffects",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),q=oe(x.prototype,"planeSets",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),W=oe(x.prototype,"shapeEllipsoidRadius",[E,T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return re.vec3.create()}}),Y=oe(x.prototype,"shapeEllipsoidCenter",[S,_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return re.vec3.create()}}),X=oe(x.prototype,"spotlightSets",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),K=oe(x.prototype,"spriteSets",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Q=oe(x.prototype,"transform",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return re.mat4.create()}}),Z=oe(x.prototype,"turretSets",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),$=oe(x.prototype,"visible",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{mesh:!0,children:!0,effectChildren:!0,planeSets:!0,spotlightSets:!0,decals:!0,spriteSets:!0,overlayEffects:!0,lineSets:!0,killmarks:!0,customMasks:!0,turretSets:!0,boosters:!0}}}),A=x))||A)},"./eve/object/EveTransform.js":function(e,t,r){"use strict";r.r(t),r.d(t,"EveTransform",(function(){return ge}));var i,n,a,o,s,l,u,c,f,d,h,m,b,p,v,g,y,w,E,T,S,_,j,R,z,O,P,A,x,M,C,D,I,L,F,G,B,N,U,k,V,H,q,W,Y,X,K,Q,Z,$,J,ee,te,re,ie,ne,ae,oe,se,le,ue,ce=r("./global/utils/index.js"),fe=r("./global/index.js"),de=r("./global/math/index.js"),he=r("./core/index.js"),me=r("./eve/object/EveObject.js");function be(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function pe(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var ve={NONE:0,BILLBOARD:1,TRANSLATE_WITH_CAMERA:2,LOOK_AT_CAMERA:3,SIMPLE_HALO:4,EVE_CAMERA_ROTATION_ALIGNED:100,EVE_BOOSTER:101,EVE_SIMPLE_HALO:102,EVE_CAMERA_ROTATION:103},ge=(i=ce.meta.type("EveTransform"),n=ce.meta.string,a=ce.meta.list("EveObject"),o=ce.meta.list("Tw2CurveSet"),s=ce.meta.boolean,l=ce.meta.notImplemented,u=ce.meta.float,c=ce.meta.notImplemented,f=ce.meta.float,d=ce.meta.notImplemented,h=ce.meta.boolean,m=ce.meta.struct(["Tw2Mesh","Tr2MeshLOD","Tw2InstancedMesh"]),b=ce.meta.uint,p=ce.meta.enums(ve),v=ce.meta.list("Tr2ObserverLocal"),g=ce.meta.notImplemented,y=ce.meta.vector3,w=ce.meta.notImplemented,E=ce.meta.vector3,T=ce.meta.list("EveParticleEmitter"),S=ce.meta.list("EveParticleSystem"),_=ce.meta.quaternion,j=ce.meta.vector3,R=ce.meta.notImplemented,z=ce.meta.float,O=ce.meta.vector3,P=ce.meta.boolean,A=ce.meta.notImplemented,x=ce.meta.boolean,M=ce.meta.notImplemented,C=ce.meta.boolean,D=ce.meta.notImplemented,I=ce.meta.float,L=ce.meta.plain,i((ue=le=class e extends me.EveObject{constructor(...t){super(...t),be(this,"name",B,this),be(this,"children",N,this),be(this,"curveSets",U,this),be(this,"display",k,this),be(this,"distanceBasedScaleArg1",V,this),be(this,"distanceBasedScaleArg2",H,this),be(this,"hideOnLowQuality",q,this),be(this,"mesh",W,this),be(this,"modifier",Y,this),be(this,"observers",X,this),be(this,"overrideBoundsMax",K,this),be(this,"overrideBoundsMin",Q,this),be(this,"particleEmitters",Z,this),be(this,"particleSystems",$,this),be(this,"rotation",J,this),be(this,"scaling",ee,this),be(this,"sortValueMultiplier",te,this),be(this,"translation",re,this),be(this,"update",ie,this),be(this,"useDistanceBasedScale",ne,this),be(this,"useLodLevel",ae,this),be(this,"visibilityThreshold",oe,this),be(this,"visible",se,this),this._localTransform=de.mat4.create(),this._worldTransform=de.mat4.create(),this._perObjectData=he.Tw2PerObjectData.from(e.perObjectData)}Initialize(){de.mat4.fromRotationTranslationScale(this._localTransform,this.rotation,this.translation,this.scaling)}SetTransform(e){de.mat4.getRotation(this.rotation,e),de.mat4.getScaling(this.scaling,e),de.mat4.getTranslation(this.translation,e)}GetResources(e=[]){this.mesh&&this.mesh.GetResources(e);for(var t=0;t<this.children.length;t++)this.children[t].GetResources(e);return e}UpdateViewDependentData(t){var r=fe.device,i=me.EveObject.global,n=i.vec3_0,a=i.vec3_1,o=i.vec3_2,s=r.viewInverse,l=this._localTransform,u=this._worldTransform;switch(t||(t=i.mat4_ID),de.quat.normalize(this.rotation,this.rotation),de.mat4.fromRotationTranslationScale(l,this.rotation,this.translation,this.scaling),de.mat4.getScaling(a,t),this.modifier){case e.Modifier.BILLBOARD:case e.Modifier.SIMPLE_HALO:var c=i.vec3_3;if(de.mat4.multiply(u,t,l),de.vec3.multiply(n,this.scaling,a),this.modifier===e.Modifier.SIMPLE_HALO){de.vec3.subtract(o,r.GetEyePosition(o),u.subarray(12)),de.vec3.normalize(c,u.subarray(8)),de.vec3.normalize(o,o);var f=de.vec3.dot(o,c);f<0&&(f=0),de.vec3.scale(n,n,f*f)}u[0]=s[0]*n[0],u[1]=s[1]*n[0],u[2]=s[2]*n[0],u[4]=s[4]*n[1],u[5]=s[5]*n[1],u[6]=s[6]*n[1],u[8]=s[8]*n[2],u[9]=s[9]*n[2],u[10]=s[10]*n[2];break;case e.Modifier.EVE_CAMERA_ROTATION:var d=i.vec3_3;de.vec3.transformMat4(d,this.translation,t),de.mat4.fromRotationTranslationScale(l,this.rotation,d,this.scaling),de.mat4.multiply(u,s,l),u[12]=l[12],u[13]=l[13],u[14]=l[14];break;case e.Modifier.EVE_CAMERA_ROTATION_ALIGNED:case e.Modifier.EVE_SIMPLE_HALO:var h=i.vec3_3,m=i.vec3_4,b=i.vec3_5,p=i.vec3_6,v=i.vec3_7,g=i.mat4_0,y=i.mat4_1,w=i.mat4_2;if(de.mat4.translate(u,t,this.translation),de.mat4.transpose(g,t),r.GetEyePosition(o),o[0]-=u[12],o[1]-=u[13],o[2]-=u[14],de.vec3.copy(h,o),de.vec3.transformMat4(h,h,g),de.vec3.divide(h,h,a),de.vec3.normalize(h,h),de.vec3.set(m,r.view[0],r.view[4],r.view[8]),de.vec3.transformMat4(m,m,g),de.vec3.normalize(m,m),de.vec3.cross(b,h,m),de.vec3.normalize(b,b),de.vec3.cross(m,b,h),y[0]=m[0],y[1]=m[1],y[2]=m[2],y[4]=b[0],y[5]=b[1],y[6]=b[2],y[8]=h[0],y[9]=h[1],y[10]=h[2],y[15]=1,de.mat4.fromQuat(w,this.rotation),de.mat4.multiply(y,y,w),this.modifier===e.Modifier.EVE_SIMPLE_HALO){de.vec3.normalize(p,u.subarray(8)),de.vec3.normalize(v,o);var E=-de.vec3.dot(v,p);E<0&&(E=0),de.mat4.multiply(u,u,y),de.mat4.scale(u,u,[this.scaling[0]*E,this.scaling[1]*E,this.scaling[2]*E])}else de.mat4.scale(u,u,this.scaling),de.mat4.multiply(u,u,y);break;case e.Modifier.LOOK_AT_CAMERA:var T=i.mat4_0;de.mat4.multiply(u,t,l),de.mat4.lookAt(T,s.subarray(12),u.subarray(12),[0,1,0]),de.mat4.transpose(T,T),de.vec3.multiply(n,this.scaling,a),u[0]=T[0]*n[0],u[1]=T[1]*n[0],u[2]=T[2]*n[0],u[4]=T[4]*n[1],u[5]=T[5]*n[1],u[6]=T[6]*n[1],u[8]=T[8]*n[2],u[9]=T[9]*n[2],u[10]=T[10]*n[2];break;default:de.mat4.multiply(u,t,l)}for(var S=0;S<this.children.length;++S)this.children[S].UpdateViewDependentData(u)}Update(e){for(var t=0;t<this.children.length;++t)this.children[t].Update(e);for(var r=0;r<this.particleEmitters.length;++r)this.particleEmitters[r].Update(e);for(var i=0;i<this.particleSystems.length;++i)this.particleSystems[i].Update(e);for(var n=0;n<this.curveSets.length;++n)this.curveSets[n].Update(e)}GetBatches(e,t,r){if(this.display&&(this.visible.mesh&&this.mesh&&(de.mat4.transpose(this._perObjectData.ffe.Get("World"),this._worldTransform),de.mat4.invert(this._perObjectData.ffe.Get("WorldInverseTranspose"),this._worldTransform),r&&(this._perObjectData.vs=r.vs,this._perObjectData.ps=r.ps),this.mesh.GetBatches(e,t,this._perObjectData)),this.visible.children))for(var i=0;i<this.children.length;++i)this.children[i].GetBatches(e,t,r)}static Multiply3x3(e,t,r){r||(r=t);var i=t[0],n=t[1];return t=t[2],r[0]=e[0]*i+e[4]*n+e[8]*t,r[1]=e[1]*i+e[5]*n+e[9]*t,r[2]=e[2]*i+e[6]*n+e[10]*t,r}},le.perObjectData={ffe:[["World",16],["WorldInverseTranspose",16]]},le.Modifier=ve,B=pe((G=ue).prototype,"name",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),N=pe(G.prototype,"children",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),U=pe(G.prototype,"curveSets",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),k=pe(G.prototype,"display",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),V=pe(G.prototype,"distanceBasedScaleArg1",[l,u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.2}}),H=pe(G.prototype,"distanceBasedScaleArg2",[c,f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.63}}),q=pe(G.prototype,"hideOnLowQuality",[d,h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),W=pe(G.prototype,"mesh",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Y=pe(G.prototype,"modifier",[b,p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return ge.Modifier.NONE}}),X=pe(G.prototype,"observers",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),K=pe(G.prototype,"overrideBoundsMax",[g,y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return de.vec3.create()}}),Q=pe(G.prototype,"overrideBoundsMin",[w,E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return de.vec3.create()}}),Z=pe(G.prototype,"particleEmitters",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),$=pe(G.prototype,"particleSystems",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),J=pe(G.prototype,"rotation",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return de.quat.create()}}),ee=pe(G.prototype,"scaling",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return de.vec3.fromValues(1,1,1)}}),te=pe(G.prototype,"sortValueMultiplier",[R,z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),re=pe(G.prototype,"translation",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return de.vec3.create()}}),ie=pe(G.prototype,"update",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),ne=pe(G.prototype,"useDistanceBasedScale",[A,x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),ae=pe(G.prototype,"useLodLevel",[M,C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),oe=pe(G.prototype,"visibilityThreshold",[D,I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),se=pe(G.prototype,"visible",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{mesh:!0,children:!0}}}),F=G))||F)},"./eve/object/index.js":function(e,t,r){"use strict";r.r(t);var i=r("./eve/object/EveMissile.js");r.d(t,"EveMissileWarhead",(function(){return i.EveMissileWarhead})),r.d(t,"EveMissile",(function(){return i.EveMissile}));var n=r("./eve/object/EveTransform.js");r.d(t,"EveTransform",(function(){return n.EveTransform}));var a=r("./eve/object/EveEffectRoot.js");r.d(t,"EveEffectRoot",(function(){return a.EveEffectRoot}));var o=r("./eve/object/EvePlanet.js");r.d(t,"EvePlanet",(function(){return o.EvePlanet}));var s=r("./eve/object/EveShip.js");r.d(t,"EveShip",(function(){return s.EveShip}));var l=r("./eve/object/EveSpaceObject.js");r.d(t,"EveSpaceObject",(function(){return l.EveSpaceObject})),r.d(t,"EveStation",(function(){return l.EveStation}))},"./global/constant/d3d.js":function(e,t,r){"use strict";r.r(t),r.d(t,"RM_ANY",(function(){return n})),r.d(t,"RM_OPAQUE",(function(){return a})),r.d(t,"RM_DECAL",(function(){return o})),r.d(t,"RM_TRANSPARENT",(function(){return s})),r.d(t,"RM_ADDITIVE",(function(){return l})),r.d(t,"RM_DEPTH",(function(){return u})),r.d(t,"RM_FULLSCREEN",(function(){return c})),r.d(t,"RM_PICKABLE",(function(){return f})),r.d(t,"RM_DISTORTION",(function(){return d})),r.d(t,"RS_ZENABLE",(function(){return h})),r.d(t,"RS_FILLMODE",(function(){return m})),r.d(t,"RS_SHADEMODE",(function(){return b})),r.d(t,"RS_ZWRITEENABLE",(function(){return p})),r.d(t,"RS_ALPHATESTENABLE",(function(){return v})),r.d(t,"RS_LASTPIXEL",(function(){return g})),r.d(t,"RS_SRCBLEND",(function(){return y})),r.d(t,"RS_DESTBLEND",(function(){return w})),r.d(t,"RS_CULLMODE",(function(){return E})),r.d(t,"RS_ZFUNC",(function(){return T})),r.d(t,"RS_ALPHAREF",(function(){return S})),r.d(t,"RS_ALPHAFUNC",(function(){return _})),r.d(t,"RS_DITHERENABLE",(function(){return j})),r.d(t,"RS_ALPHABLENDENABLE",(function(){return R})),r.d(t,"RS_FOGENABLE",(function(){return z})),r.d(t,"RS_SPECULARENABLE",(function(){return O})),r.d(t,"RS_FOGCOLOR",(function(){return P})),r.d(t,"RS_FOGTABLEMODE",(function(){return A})),r.d(t,"RS_FOGSTART",(function(){return x})),r.d(t,"RS_FOGEND",(function(){return M})),r.d(t,"RS_FOGDENSITY",(function(){return C})),r.d(t,"RS_RANGEFOGENABLE",(function(){return D})),r.d(t,"RS_STENCILENABLE",(function(){return I})),r.d(t,"RS_STENCILFAIL",(function(){return L})),r.d(t,"RS_STENCILZFAIL",(function(){return F})),r.d(t,"RS_STENCILPASS",(function(){return G})),r.d(t,"RS_STENCILFUNC",(function(){return B})),r.d(t,"RS_STENCILREF",(function(){return N})),r.d(t,"RS_STENCILMASK",(function(){return U})),r.d(t,"RS_STENCILWRITEMASK",(function(){return k})),r.d(t,"RS_TEXTUREFACTOR",(function(){return V})),r.d(t,"RS_WRAP0",(function(){return H})),r.d(t,"RS_WRAP1",(function(){return q})),r.d(t,"RS_WRAP2",(function(){return W})),r.d(t,"RS_WRAP3",(function(){return Y})),r.d(t,"RS_WRAP4",(function(){return X})),r.d(t,"RS_WRAP5",(function(){return K})),r.d(t,"RS_WRAP6",(function(){return Q})),r.d(t,"RS_WRAP7",(function(){return Z})),r.d(t,"RS_CLIPPING",(function(){return $})),r.d(t,"RS_LIGHTING",(function(){return J})),r.d(t,"RS_AMBIENT",(function(){return ee})),r.d(t,"RS_FOGVERTEXMODE",(function(){return te})),r.d(t,"RS_COLORVERTEX",(function(){return re})),r.d(t,"RS_LOCALVIEWER",(function(){return ie})),r.d(t,"RS_NORMALIZENORMALS",(function(){return ne})),r.d(t,"RS_DIFFUSEMATERIALSOURCE",(function(){return ae})),r.d(t,"RS_SPECULARMATERIALSOURCE",(function(){return oe})),r.d(t,"RS_AMBIENTMATERIALSOURCE",(function(){return se})),r.d(t,"RS_EMISSIVEMATERIALSOURCE",(function(){return le})),r.d(t,"RS_VERTEXBLEND",(function(){return ue})),r.d(t,"RS_CLIPPLANEENABLE",(function(){return ce})),r.d(t,"RS_POINTSIZE",(function(){return fe})),r.d(t,"RS_POINTSIZE_MIN",(function(){return de})),r.d(t,"RS_POINTSPRITEENABLE",(function(){return he})),r.d(t,"RS_POINTSCALEENABLE",(function(){return me})),r.d(t,"RS_POINTSCALE_A",(function(){return be})),r.d(t,"RS_POINTSCALE_B",(function(){return pe})),r.d(t,"RS_POINTSCALE_C",(function(){return ve})),r.d(t,"RS_MULTISAMPLEANTIALIAS",(function(){return ge})),r.d(t,"RS_MULTISAMPLEMASK",(function(){return ye})),r.d(t,"RS_PATCHEDGESTYLE",(function(){return we})),r.d(t,"RS_DEBUGMONITORTOKEN",(function(){return Ee})),r.d(t,"RS_POINTSIZE_MAX",(function(){return Te})),r.d(t,"RS_INDEXEDVERTEXBLENDENABLE",(function(){return Se})),r.d(t,"RS_COLORWRITEENABLE",(function(){return _e})),r.d(t,"RS_TWEENFACTOR",(function(){return je})),r.d(t,"RS_BLENDOP",(function(){return Re})),r.d(t,"RS_POSITIONDEGREE",(function(){return ze})),r.d(t,"RS_NORMALDEGREE",(function(){return Oe})),r.d(t,"RS_SCISSORTESTENABLE",(function(){return Pe})),r.d(t,"RS_SLOPESCALEDEPTHBIAS",(function(){return Ae})),r.d(t,"RS_ANTIALIASEDLINEENABLE",(function(){return xe})),r.d(t,"RS_TWOSIDEDSTENCILMODE",(function(){return Me})),r.d(t,"RS_CCW_STENCILFAIL",(function(){return Ce})),r.d(t,"RS_CCW_STENCILZFAIL",(function(){return De})),r.d(t,"RS_CCW_STENCILPASS",(function(){return Ie})),r.d(t,"RS_CCW_STENCILFUNC",(function(){return Le})),r.d(t,"RS_COLORWRITEENABLE1",(function(){return Fe})),r.d(t,"RS_COLORWRITEENABLE2",(function(){return Ge})),r.d(t,"RS_COLORWRITEENABLE3",(function(){return Be})),r.d(t,"RS_BLENDFACTOR",(function(){return Ne})),r.d(t,"RS_SRGBWRITEENABLE",(function(){return Ue})),r.d(t,"RS_DEPTHBIAS",(function(){return ke})),r.d(t,"RS_SEPARATEALPHABLENDENABLE",(function(){return Ve})),r.d(t,"RS_SRCBLENDALPHA",(function(){return He})),r.d(t,"RS_DESTBLENDALPHA",(function(){return qe})),r.d(t,"RS_BLENDOPALPHA",(function(){return We})),r.d(t,"CULL_NONE",(function(){return Ye})),r.d(t,"CULL_CW",(function(){return Xe})),r.d(t,"CULL_CCW",(function(){return Ke})),r.d(t,"CMP_NEVER",(function(){return Qe})),r.d(t,"CMP_LESS",(function(){return Ze})),r.d(t,"CMP_EQUAL",(function(){return $e})),r.d(t,"CMP_LEQUAL",(function(){return Je})),r.d(t,"CMP_GREATER",(function(){return et})),r.d(t,"CMP_NOTEQUAL",(function(){return tt})),r.d(t,"CMP_GREATEREQUAL",(function(){return rt})),r.d(t,"CMP_ALWAYS",(function(){return it})),r.d(t,"BLEND_ZERO",(function(){return nt})),r.d(t,"BLEND_ONE",(function(){return at})),r.d(t,"BLEND_SRCCOLOR",(function(){return ot})),r.d(t,"BLEND_INVSRCCOLOR",(function(){return st})),r.d(t,"BLEND_SRCALPHA",(function(){return lt})),r.d(t,"BLEND_INVSRCALPHA",(function(){return ut})),r.d(t,"BLEND_DESTALPHA",(function(){return ct})),r.d(t,"BLEND_INVDESTALPHA",(function(){return ft})),r.d(t,"BLEND_DESTCOLOR",(function(){return dt})),r.d(t,"BLEND_INVDESTCOLOR",(function(){return ht})),r.d(t,"BLEND_SRCALPHASAT",(function(){return mt})),r.d(t,"BLEND_BOTHSRCALPHA",(function(){return bt})),r.d(t,"BLEND_BOTHINVSRCALPHA",(function(){return pt})),r.d(t,"BLEND_BLENDFACTOR",(function(){return vt})),r.d(t,"BLEND_INVBLENDFACTOR",(function(){return gt})),r.d(t,"BLENDOP_ADD",(function(){return yt})),r.d(t,"BLENDOP_SUBTRACT",(function(){return wt})),r.d(t,"BLENDOP_REVSUBTRACT",(function(){return Et})),r.d(t,"BLENDOP_MIN",(function(){return Tt})),r.d(t,"BLENDOP_MAX",(function(){return St})),r.d(t,"WrapModes",(function(){return _t})),r.d(t,"BlendTable",(function(){return jt})),r.d(t,"FilterMode",(function(){return Rt})),r.d(t,"MipFilterMode",(function(){return zt}));var i=r("./global/constant/gl.js"),n=-1,a=0,o=1,s=2,l=3,u=4,c=5,f=6,d=7,h=7,m=8,b=9,p=14,v=15,g=16,y=19,w=20,E=22,T=23,S=24,_=25,j=26,R=27,z=28,O=29,P=34,A=35,x=36,M=37,C=38,D=48,I=52,L=53,F=54,G=55,B=56,N=57,U=58,k=59,V=60,H=128,q=129,W=130,Y=131,X=132,K=133,Q=134,Z=135,$=136,J=137,ee=139,te=140,re=141,ie=142,ne=143,ae=145,oe=146,se=147,le=148,ue=151,ce=152,fe=154,de=155,he=156,me=157,be=158,pe=159,ve=160,ge=161,ye=162,we=163,Ee=165,Te=166,Se=167,_e=168,je=170,Re=171,ze=172,Oe=173,Pe=174,Ae=175,xe=176,Me=185,Ce=186,De=187,Ie=188,Le=189,Fe=190,Ge=191,Be=192,Ne=193,Ue=194,ke=195,Ve=206,He=207,qe=208,We=209,Ye=1,Xe=2,Ke=3,Qe=1,Ze=2,$e=3,Je=4,et=5,tt=6,rt=7,it=8,nt=1,at=2,ot=3,st=4,lt=5,ut=6,ct=7,ft=8,dt=9,ht=10,mt=11,bt=12,pt=13,vt=14,gt=15,yt=1,wt=2,Et=3,Tt=4,St=5,_t=[0,i.GL_REPEAT,i.GL_MIRRORED_REPEAT,i.GL_CLAMP_TO_EDGE,i.GL_CLAMP_TO_EDGE,i.GL_CLAMP_TO_EDGE],jt=[-1,i.GL_ZERO,i.GL_ONE,i.GL_SRC_COLOR,i.GL_ONE_MINUS_SRC_COLOR,i.GL_SRC_ALPHA,i.GL_ONE_MINUS_SRC_ALPHA,i.GL_DST_ALPHA,i.GL_ONE_MINUS_DST_ALPHA,i.GL_DST_COLOR,i.GL_ONE_MINUS_DST_COLOR,i.GL_SRC_ALPHA_SATURATE,-1,-1,i.GL_CONSTANT_COLOR,i.GL_ONE_MINUS_CONSTANT_COLOR],Rt={[i.GL_NEAREST]:1,[i.GL_LINEAR]:2},zt={[i.GL_NEAREST]:0,[i.GL_LINEAR]:0,[i.GL_NEAREST_MIPMAP_NEAREST]:1,[i.GL_LINEAR_MIPMAP_NEAREST]:1,[i.GL_NEAREST_MIPMAP_LINEAR]:2,[i.GL_LINEAR_MIPMAP_LINEAR]:2}},"./global/constant/dds.js":function(e,t,r){"use strict";r.r(t),r.d(t,"DDS_MAGIC",(function(){return i})),r.d(t,"DDSD_CAPS",(function(){return n})),r.d(t,"DDSD_HEIGHT",(function(){return a})),r.d(t,"DDSD_WIDTH",(function(){return o})),r.d(t,"DDSD_PITCH",(function(){return s})),r.d(t,"DDSD_PIXELFORMAT",(function(){return l})),r.d(t,"DDSD_MIPMAPCOUNT",(function(){return u})),r.d(t,"DDSD_LINEARSIZE",(function(){return c})),r.d(t,"DDSD_DEPTH",(function(){return f})),r.d(t,"DDSCAPS_COMPLEX",(function(){return d})),r.d(t,"DDSCAPS_MIPMAP",(function(){return h})),r.d(t,"DDSCAPS_TEXTURE",(function(){return m})),r.d(t,"DDSCAPS2_CUBEMAP",(function(){return b})),r.d(t,"DDSCAPS2_CUBEMAP_POSITIVEX",(function(){return p})),r.d(t,"DDSCAPS2_CUBEMAP_NEGATIVEX",(function(){return v})),r.d(t,"DDSCAPS2_CUBEMAP_POSITIVEY",(function(){return g})),r.d(t,"DDSCAPS2_CUBEMAP_NEGATIVEY",(function(){return y})),r.d(t,"DDSCAPS2_CUBEMAP_POSITIVEZ",(function(){return w})),r.d(t,"DDSCAPS2_CUBEMAP_NEGATIVEZ",(function(){return E})),r.d(t,"DDSCAPS2_VOLUME",(function(){return T})),r.d(t,"DDPF_ALPHAPIXELS",(function(){return S})),r.d(t,"DDPF_ALPHA",(function(){return _})),r.d(t,"DDPF_FOURCC",(function(){return j})),r.d(t,"DDPF_RGB",(function(){return R})),r.d(t,"DDPF_YUV",(function(){return z})),r.d(t,"DDPF_LUMINANCE",(function(){return O})),r.d(t,"DDS_HEADER_LENGTH_INT",(function(){return P})),r.d(t,"DDS_HEADER_OFFSET_MAGIC",(function(){return A})),r.d(t,"DDS_HEADER_OFFSET_SIZE",(function(){return x})),r.d(t,"DDS_HEADER_OFFSET_FLAGS",(function(){return M})),r.d(t,"DDS_HEADER_OFFSET_HEIGHT",(function(){return C})),r.d(t,"DDS_HEADER_OFFSET_WIDTH",(function(){return D})),r.d(t,"DDS_HEADER_OFFSET_MIPMAP_COUNT",(function(){return I})),r.d(t,"DDS_HEADER_OFFSET_PF_FLAGS",(function(){return L})),r.d(t,"DDS_HEADER_OFFSET_PF_FOURCC",(function(){return F})),r.d(t,"DDS_HEADER_OFFSET_RGB_BPP",(function(){return G})),r.d(t,"DDS_HEADER_OFFSET_R_MASK",(function(){return B})),r.d(t,"DDS_HEADER_OFFSET_G_MASK",(function(){return N})),r.d(t,"DDS_HEADER_OFFSET_B_MASK",(function(){return U})),r.d(t,"DDS_HEADER_OFFSET_A_MASK",(function(){return k})),r.d(t,"DDS_HEADER_OFFSET_CAPS1",(function(){return V})),r.d(t,"DDS_HEADER_OFFSET_CAPS2",(function(){return H})),r.d(t,"DDS_HEADER_OFFSET_CAPS3",(function(){return q})),r.d(t,"DDS_HEADER_OFFSET_CAPS4",(function(){return W})),r.d(t,"DDS_HEADER_OFFSET_DXGI_FORMAT",(function(){return Y})),r.d(t,"FOURCC_DXT1",(function(){return X})),r.d(t,"FOURCC_DXT5",(function(){return K})),r.d(t,"FOURCC_DXT3",(function(){return Q})),r.d(t,"FOURCC_DXT10",(function(){return Z})),r.d(t,"FOURCC_D3DFMT_R16G16B16A16F",(function(){return $})),r.d(t,"FOURCC_D3DFMT_R32G32B32A32F",(function(){return J})),r.d(t,"DXGI_FORMAT_R16G16B16A16_FLOAT",(function(){return ee})),r.d(t,"DXGI_FORMAT_B8G8R8X8_UNORM",(function(){return te}));var i=542327876,n=1,a=2,o=4,s=8,l=4096,u=131072,c=524288,f=8388608,d=8,h=4194304,m=4096,b=512,p=1024,v=2048,g=4096,y=8192,w=16384,E=32768,T=2097152,S=1,_=2,j=4,R=64,z=512,O=131072,P=31,A=0,x=1,M=2,C=3,D=4,I=7,L=20,F=21,G=22,B=23,N=24,U=25,k=26,V=27,H=28,q=29,W=30,Y=32,X=827611204,K=894720068,Q=861165636,Z=827611204,$=113,J=116,ee=10,te=88},"./global/constant/gl.js":function(e,t,r){"use strict";r.r(t),r.d(t,"GL_COLOR_BUFFER_BIT",(function(){return i})),r.d(t,"GL_DEPTH_BUFFER_BIT",(function(){return n})),r.d(t,"GL_STENCIL_BUFFER_BIT",(function(){return a})),r.d(t,"GL_TEXTURE_2D",(function(){return o})),r.d(t,"GL_TEXTURE_CUBE_MAP",(function(){return s})),r.d(t,"GL_TEXTURE_3D",(function(){return l})),r.d(t,"GL_TEXTURE_MAG_FILTER",(function(){return u})),r.d(t,"GL_TEXTURE_MIN_FILTER",(function(){return c})),r.d(t,"GL_TEXTURE_WRAP_S",(function(){return f})),r.d(t,"GL_TEXTURE_WRAP_T",(function(){return d})),r.d(t,"GL_BYTE",(function(){return h})),r.d(t,"GL_UNSIGNED_BYTE",(function(){return m})),r.d(t,"GL_SHORT",(function(){return b})),r.d(t,"GL_UNSIGNED_SHORT",(function(){return p})),r.d(t,"GL_INT",(function(){return v})),r.d(t,"GL_UNSIGNED_INT",(function(){return g})),r.d(t,"GL_FLOAT",(function(){return y})),r.d(t,"GL_HALF_FLOAT_OES",(function(){return w})),r.d(t,"GL_HALF_FLOAT",(function(){return E})),r.d(t,"GL_DEPTH_COMPONENT16",(function(){return T})),r.d(t,"GL_DEPTH_COMPONENT24",(function(){return S})),r.d(t,"GL_DEPTH_COMPONENT32F",(function(){return _})),r.d(t,"GL_FLOAT_VEC2",(function(){return j})),r.d(t,"GL_FLOAT_VEC3",(function(){return R})),r.d(t,"GL_FLOAT_VEC4",(function(){return z})),r.d(t,"GL_INT_VEC2",(function(){return O})),r.d(t,"GL_INT_VEC3",(function(){return P})),r.d(t,"GL_INT_VEC4",(function(){return A})),r.d(t,"GL_BOOL",(function(){return x})),r.d(t,"GL_BOOL_VEC2",(function(){return M})),r.d(t,"GL_BOOL_VEC3",(function(){return C})),r.d(t,"GL_BOOL_VEC4",(function(){return D})),r.d(t,"GL_FLOAT_MAT2",(function(){return I})),r.d(t,"GL_FLOAT_MAT3",(function(){return L})),r.d(t,"GL_FLOAT_MAT4",(function(){return F})),r.d(t,"GL_TYPE_LENGTH",(function(){return G})),r.d(t,"GL_SAMPLER_2D",(function(){return B})),r.d(t,"GL_SAMPLER_3D",(function(){return N})),r.d(t,"GL_SAMPLER_CUBE",(function(){return U})),r.d(t,"GL_DEPTH_COMPONENT",(function(){return k})),r.d(t,"GL_ALPHA",(function(){return V})),r.d(t,"GL_RGB",(function(){return H})),r.d(t,"GL_RGBA",(function(){return q})),r.d(t,"GL_LUMINANCE",(function(){return W})),r.d(t,"GL_LUMINANCE_ALPHA",(function(){return Y})),r.d(t,"GL_DEPTH_STENCIL",(function(){return X})),r.d(t,"GL_UNSIGNED_INT_24_8_WEBGL",(function(){return K})),r.d(t,"GL_R8",(function(){return Q})),r.d(t,"GL_R16F",(function(){return Z})),r.d(t,"GL_R32F",(function(){return $})),r.d(t,"GL_R8UI",(function(){return J})),r.d(t,"GL_RG8",(function(){return ee})),r.d(t,"GL_RG16F",(function(){return te})),r.d(t,"GL_RG32F",(function(){return re})),r.d(t,"GL_RGB8",(function(){return ie})),r.d(t,"GL_SRGB8",(function(){return ne})),r.d(t,"GL_RGB565",(function(){return ae})),r.d(t,"GL_R11F_G11F_B10F",(function(){return oe})),r.d(t,"GL_RGB9_E5",(function(){return se})),r.d(t,"GL_RGB16F",(function(){return le})),r.d(t,"GL_RGB32F",(function(){return ue})),r.d(t,"GL_RGB8UI",(function(){return ce})),r.d(t,"GL_RGBA8",(function(){return fe})),r.d(t,"GL_RGB5_A1",(function(){return de})),r.d(t,"GL_RGBA16F",(function(){return he})),r.d(t,"GL_RGBA32F",(function(){return me})),r.d(t,"GL_RGBA8UI",(function(){return be})),r.d(t,"GL_RGBA16I",(function(){return pe})),r.d(t,"GL_RGBA16UI",(function(){return ve})),r.d(t,"GL_RGBA32I",(function(){return ge})),r.d(t,"GL_RGBA32UI",(function(){return ye})),r.d(t,"GL_NEAREST",(function(){return we})),r.d(t,"GL_LINEAR",(function(){return Ee})),r.d(t,"GL_NEAREST_MIPMAP_NEAREST",(function(){return Te})),r.d(t,"GL_LINEAR_MIPMAP_NEAREST",(function(){return Se})),r.d(t,"GL_NEAREST_MIPMAP_LINEAR",(function(){return _e})),r.d(t,"GL_LINEAR_MIPMAP_LINEAR",(function(){return je})),r.d(t,"GL_REPEAT",(function(){return Re})),r.d(t,"GL_CLAMP_TO_EDGE",(function(){return ze})),r.d(t,"GL_MIRRORED_REPEAT",(function(){return Oe})),r.d(t,"GL_ZERO",(function(){return Pe})),r.d(t,"GL_ONE",(function(){return Ae})),r.d(t,"GL_SRC_COLOR",(function(){return xe})),r.d(t,"GL_ONE_MINUS_SRC_COLOR",(function(){return Me})),r.d(t,"GL_SRC_ALPHA",(function(){return Ce})),r.d(t,"GL_ONE_MINUS_SRC_ALPHA",(function(){return De})),r.d(t,"GL_DST_ALPHA",(function(){return Ie})),r.d(t,"GL_ONE_MINUS_DST_ALPHA",(function(){return Le})),r.d(t,"GL_DST_COLOR",(function(){return Fe})),r.d(t,"GL_ONE_MINUS_DST_COLOR",(function(){return Ge})),r.d(t,"GL_SRC_ALPHA_SATURATE",(function(){return Be})),r.d(t,"GL_CONSTANT_COLOR",(function(){return Ne})),r.d(t,"GL_ONE_MINUS_CONSTANT_COLOR",(function(){return Ue})),r.d(t,"GL_CONSTANT_ALPHA",(function(){return ke})),r.d(t,"GL_ONE_MINUS_CONSTANT_ALPHA",(function(){return Ve})),r.d(t,"GL_VERTEX_SHADER",(function(){return He})),r.d(t,"GL_FRAGMENT_SHADER",(function(){return qe})),r.d(t,"GL_FRONT",(function(){return We})),r.d(t,"GL_BACK",(function(){return Ye})),r.d(t,"GL_FRONT_AND_BACK",(function(){return Xe})),r.d(t,"GL_NEVER",(function(){return Ke})),r.d(t,"GL_LESS",(function(){return Qe})),r.d(t,"GL_EQUAL",(function(){return Ze})),r.d(t,"GL_LEQUAL",(function(){return $e})),r.d(t,"GL_GREATER",(function(){return Je})),r.d(t,"GL_NOTEQUAL",(function(){return et})),r.d(t,"GL_GEQUAL",(function(){return tt})),r.d(t,"GL_ALWAYS",(function(){return rt})),r.d(t,"GL_KEEP",(function(){return it})),r.d(t,"GL_REPLACE",(function(){return nt})),r.d(t,"GL_INCR",(function(){return at})),r.d(t,"GL_DECR",(function(){return ot})),r.d(t,"GL_INCR_WRAP",(function(){return st})),r.d(t,"GL_DECR_WRAP",(function(){return lt})),r.d(t,"GL_INVERT",(function(){return ut})),r.d(t,"GL_STREAM_DRAW",(function(){return ct})),r.d(t,"GL_STATIC_DRAW",(function(){return ft})),r.d(t,"GL_DYNAMIC_DRAW",(function(){return dt})),r.d(t,"GL_ARRAY_BUFFER",(function(){return ht})),r.d(t,"GL_ELEMENT_ARRAY_BUFFER",(function(){return mt})),r.d(t,"GL_POINTS",(function(){return bt})),r.d(t,"GL_LINES",(function(){return pt})),r.d(t,"GL_LINE_LOOP",(function(){return vt})),r.d(t,"GL_LINE_STRIP",(function(){return gt})),r.d(t,"GL_TRIANGLES",(function(){return yt})),r.d(t,"GL_TRIANGLE_STRIP",(function(){return wt})),r.d(t,"GL_TRIANGLE_FAN",(function(){return Et})),r.d(t,"GL_CW",(function(){return Tt})),r.d(t,"GL_CCW",(function(){return St})),r.d(t,"GL_CULL_FACE",(function(){return _t})),r.d(t,"GL_DEPTH_TEST",(function(){return jt})),r.d(t,"GL_BLEND",(function(){return Rt}));var i=16384,n=256,a=1024,o=3553,s=34067,l=32879,u=10240,c=10241,f=10242,d=10243,h=5120,m=5121,b=5122,p=5123,v=5124,g=5125,y=5126,w=36193,E=5131,T=33189,S=33190,_=36012,j=35664,R=35665,z=35666,O=35667,P=35668,A=35669,x=35670,M=35671,C=35672,D=35673,I=35674,L=35675,F=35676,G={[y]:1,[v]:1,[h]:1,[x]:1,[j]:2,[O]:2,[M]:2,[R]:3,[P]:3,[C]:3,[z]:4,[A]:4,[D]:4,[L]:9,[F]:16},B=35678,N=35679,U=35680,k=6402,V=6406,H=6407,q=6408,W=6409,Y=6410,X=34041,K=34042,Q=33321,Z=33325,$=33326,J=33330,ee=33323,te=33327,re=33328,ie=32849,ne=35905,ae=36194,oe=35898,se=35901,le=34843,ue=34837,ce=36221,fe=32856,de=32855,he=34842,me=34836,be=36220,pe=36232,ve=36214,ge=36226,ye=36208,we=9728,Ee=9729,Te=9984,Se=9985,_e=9986,je=9987,Re=10497,ze=33071,Oe=33648,Pe=0,Ae=1,xe=768,Me=769,Ce=770,De=771,Ie=772,Le=773,Fe=774,Ge=775,Be=776,Ne=32769,Ue=32770,ke=32771,Ve=32772,He=35633,qe=35632,We=1028,Ye=1029,Xe=1032,Ke=512,Qe=513,Ze=514,$e=515,Je=516,et=517,tt=518,rt=519,it=7680,nt=7681,at=7682,ot=7683,st=34055,lt=34056,ut=5386,ct=35040,ft=35044,dt=35048,ht=34962,mt=34963,bt=0,pt=1,vt=2,gt=3,yt=4,wt=5,Et=6,Tt=2304,St=2305,_t=2884,jt=2929,Rt=3042},"./global/constant/index.js":function(e,t,r){"use strict";r.r(t);var i=r("./global/constant/d3d.js");r.d(t,"RM_ANY",(function(){return i.RM_ANY})),r.d(t,"RM_OPAQUE",(function(){return i.RM_OPAQUE})),r.d(t,"RM_DECAL",(function(){return i.RM_DECAL})),r.d(t,"RM_TRANSPARENT",(function(){return i.RM_TRANSPARENT})),r.d(t,"RM_ADDITIVE",(function(){return i.RM_ADDITIVE})),r.d(t,"RM_DEPTH",(function(){return i.RM_DEPTH})),r.d(t,"RM_FULLSCREEN",(function(){return i.RM_FULLSCREEN})),r.d(t,"RM_PICKABLE",(function(){return i.RM_PICKABLE})),r.d(t,"RM_DISTORTION",(function(){return i.RM_DISTORTION})),r.d(t,"RS_ZENABLE",(function(){return i.RS_ZENABLE})),r.d(t,"RS_FILLMODE",(function(){return i.RS_FILLMODE})),r.d(t,"RS_SHADEMODE",(function(){return i.RS_SHADEMODE})),r.d(t,"RS_ZWRITEENABLE",(function(){return i.RS_ZWRITEENABLE})),r.d(t,"RS_ALPHATESTENABLE",(function(){return i.RS_ALPHATESTENABLE})),r.d(t,"RS_LASTPIXEL",(function(){return i.RS_LASTPIXEL})),r.d(t,"RS_SRCBLEND",(function(){return i.RS_SRCBLEND})),r.d(t,"RS_DESTBLEND",(function(){return i.RS_DESTBLEND})),r.d(t,"RS_CULLMODE",(function(){return i.RS_CULLMODE})),r.d(t,"RS_ZFUNC",(function(){return i.RS_ZFUNC})),r.d(t,"RS_ALPHAREF",(function(){return i.RS_ALPHAREF})),r.d(t,"RS_ALPHAFUNC",(function(){return i.RS_ALPHAFUNC})),r.d(t,"RS_DITHERENABLE",(function(){return i.RS_DITHERENABLE})),r.d(t,"RS_ALPHABLENDENABLE",(function(){return i.RS_ALPHABLENDENABLE})),r.d(t,"RS_FOGENABLE",(function(){return i.RS_FOGENABLE})),r.d(t,"RS_SPECULARENABLE",(function(){return i.RS_SPECULARENABLE})),r.d(t,"RS_FOGCOLOR",(function(){return i.RS_FOGCOLOR})),r.d(t,"RS_FOGTABLEMODE",(function(){return i.RS_FOGTABLEMODE})),r.d(t,"RS_FOGSTART",(function(){return i.RS_FOGSTART})),r.d(t,"RS_FOGEND",(function(){return i.RS_FOGEND})),r.d(t,"RS_FOGDENSITY",(function(){return i.RS_FOGDENSITY})),r.d(t,"RS_RANGEFOGENABLE",(function(){return i.RS_RANGEFOGENABLE})),r.d(t,"RS_STENCILENABLE",(function(){return i.RS_STENCILENABLE})),r.d(t,"RS_STENCILFAIL",(function(){return i.RS_STENCILFAIL})),r.d(t,"RS_STENCILZFAIL",(function(){return i.RS_STENCILZFAIL})),r.d(t,"RS_STENCILPASS",(function(){return i.RS_STENCILPASS})),r.d(t,"RS_STENCILFUNC",(function(){return i.RS_STENCILFUNC})),r.d(t,"RS_STENCILREF",(function(){return i.RS_STENCILREF})),r.d(t,"RS_STENCILMASK",(function(){return i.RS_STENCILMASK})),r.d(t,"RS_STENCILWRITEMASK",(function(){return i.RS_STENCILWRITEMASK})),r.d(t,"RS_TEXTUREFACTOR",(function(){return i.RS_TEXTUREFACTOR})),r.d(t,"RS_WRAP0",(function(){return i.RS_WRAP0})),r.d(t,"RS_WRAP1",(function(){return i.RS_WRAP1})),r.d(t,"RS_WRAP2",(function(){return i.RS_WRAP2})),r.d(t,"RS_WRAP3",(function(){return i.RS_WRAP3})),r.d(t,"RS_WRAP4",(function(){return i.RS_WRAP4})),r.d(t,"RS_WRAP5",(function(){return i.RS_WRAP5})),r.d(t,"RS_WRAP6",(function(){return i.RS_WRAP6})),r.d(t,"RS_WRAP7",(function(){return i.RS_WRAP7})),r.d(t,"RS_CLIPPING",(function(){return i.RS_CLIPPING})),r.d(t,"RS_LIGHTING",(function(){return i.RS_LIGHTING})),r.d(t,"RS_AMBIENT",(function(){return i.RS_AMBIENT})),r.d(t,"RS_FOGVERTEXMODE",(function(){return i.RS_FOGVERTEXMODE})),r.d(t,"RS_COLORVERTEX",(function(){return i.RS_COLORVERTEX})),r.d(t,"RS_LOCALVIEWER",(function(){return i.RS_LOCALVIEWER})),r.d(t,"RS_NORMALIZENORMALS",(function(){return i.RS_NORMALIZENORMALS})),r.d(t,"RS_DIFFUSEMATERIALSOURCE",(function(){return i.RS_DIFFUSEMATERIALSOURCE})),r.d(t,"RS_SPECULARMATERIALSOURCE",(function(){return i.RS_SPECULARMATERIALSOURCE})),r.d(t,"RS_AMBIENTMATERIALSOURCE",(function(){return i.RS_AMBIENTMATERIALSOURCE})),r.d(t,"RS_EMISSIVEMATERIALSOURCE",(function(){return i.RS_EMISSIVEMATERIALSOURCE})),r.d(t,"RS_VERTEXBLEND",(function(){return i.RS_VERTEXBLEND})),r.d(t,"RS_CLIPPLANEENABLE",(function(){return i.RS_CLIPPLANEENABLE})),r.d(t,"RS_POINTSIZE",(function(){return i.RS_POINTSIZE})),r.d(t,"RS_POINTSIZE_MIN",(function(){return i.RS_POINTSIZE_MIN})),r.d(t,"RS_POINTSPRITEENABLE",(function(){return i.RS_POINTSPRITEENABLE})),r.d(t,"RS_POINTSCALEENABLE",(function(){return i.RS_POINTSCALEENABLE})),r.d(t,"RS_POINTSCALE_A",(function(){return i.RS_POINTSCALE_A})),r.d(t,"RS_POINTSCALE_B",(function(){return i.RS_POINTSCALE_B})),r.d(t,"RS_POINTSCALE_C",(function(){return i.RS_POINTSCALE_C})),r.d(t,"RS_MULTISAMPLEANTIALIAS",(function(){return i.RS_MULTISAMPLEANTIALIAS})),r.d(t,"RS_MULTISAMPLEMASK",(function(){return i.RS_MULTISAMPLEMASK})),r.d(t,"RS_PATCHEDGESTYLE",(function(){return i.RS_PATCHEDGESTYLE})),r.d(t,"RS_DEBUGMONITORTOKEN",(function(){return i.RS_DEBUGMONITORTOKEN})),r.d(t,"RS_POINTSIZE_MAX",(function(){return i.RS_POINTSIZE_MAX})),r.d(t,"RS_INDEXEDVERTEXBLENDENABLE",(function(){return i.RS_INDEXEDVERTEXBLENDENABLE})),r.d(t,"RS_COLORWRITEENABLE",(function(){return i.RS_COLORWRITEENABLE})),r.d(t,"RS_TWEENFACTOR",(function(){return i.RS_TWEENFACTOR})),r.d(t,"RS_BLENDOP",(function(){return i.RS_BLENDOP})),r.d(t,"RS_POSITIONDEGREE",(function(){return i.RS_POSITIONDEGREE})),r.d(t,"RS_NORMALDEGREE",(function(){return i.RS_NORMALDEGREE})),r.d(t,"RS_SCISSORTESTENABLE",(function(){return i.RS_SCISSORTESTENABLE})),r.d(t,"RS_SLOPESCALEDEPTHBIAS",(function(){return i.RS_SLOPESCALEDEPTHBIAS})),r.d(t,"RS_ANTIALIASEDLINEENABLE",(function(){return i.RS_ANTIALIASEDLINEENABLE})),r.d(t,"RS_TWOSIDEDSTENCILMODE",(function(){return i.RS_TWOSIDEDSTENCILMODE})),r.d(t,"RS_CCW_STENCILFAIL",(function(){return i.RS_CCW_STENCILFAIL})),r.d(t,"RS_CCW_STENCILZFAIL",(function(){return i.RS_CCW_STENCILZFAIL})),r.d(t,"RS_CCW_STENCILPASS",(function(){return i.RS_CCW_STENCILPASS})),r.d(t,"RS_CCW_STENCILFUNC",(function(){return i.RS_CCW_STENCILFUNC})),r.d(t,"RS_COLORWRITEENABLE1",(function(){return i.RS_COLORWRITEENABLE1})),r.d(t,"RS_COLORWRITEENABLE2",(function(){return i.RS_COLORWRITEENABLE2})),r.d(t,"RS_COLORWRITEENABLE3",(function(){return i.RS_COLORWRITEENABLE3})),r.d(t,"RS_BLENDFACTOR",(function(){return i.RS_BLENDFACTOR})),r.d(t,"RS_SRGBWRITEENABLE",(function(){return i.RS_SRGBWRITEENABLE})),r.d(t,"RS_DEPTHBIAS",(function(){return i.RS_DEPTHBIAS})),r.d(t,"RS_SEPARATEALPHABLENDENABLE",(function(){return i.RS_SEPARATEALPHABLENDENABLE})),r.d(t,"RS_SRCBLENDALPHA",(function(){return i.RS_SRCBLENDALPHA})),r.d(t,"RS_DESTBLENDALPHA",(function(){return i.RS_DESTBLENDALPHA})),r.d(t,"RS_BLENDOPALPHA",(function(){return i.RS_BLENDOPALPHA})),r.d(t,"CULL_NONE",(function(){return i.CULL_NONE})),r.d(t,"CULL_CW",(function(){return i.CULL_CW})),r.d(t,"CULL_CCW",(function(){return i.CULL_CCW})),r.d(t,"CMP_NEVER",(function(){return i.CMP_NEVER})),r.d(t,"CMP_LESS",(function(){return i.CMP_LESS})),r.d(t,"CMP_EQUAL",(function(){return i.CMP_EQUAL})),r.d(t,"CMP_LEQUAL",(function(){return i.CMP_LEQUAL})),r.d(t,"CMP_GREATER",(function(){return i.CMP_GREATER})),r.d(t,"CMP_NOTEQUAL",(function(){return i.CMP_NOTEQUAL})),r.d(t,"CMP_GREATEREQUAL",(function(){return i.CMP_GREATEREQUAL})),r.d(t,"CMP_ALWAYS",(function(){return i.CMP_ALWAYS})),r.d(t,"BLEND_ZERO",(function(){return i.BLEND_ZERO})),r.d(t,"BLEND_ONE",(function(){return i.BLEND_ONE})),r.d(t,"BLEND_SRCCOLOR",(function(){return i.BLEND_SRCCOLOR})),r.d(t,"BLEND_INVSRCCOLOR",(function(){return i.BLEND_INVSRCCOLOR})),r.d(t,"BLEND_SRCALPHA",(function(){return i.BLEND_SRCALPHA})),r.d(t,"BLEND_INVSRCALPHA",(function(){return i.BLEND_INVSRCALPHA})),r.d(t,"BLEND_DESTALPHA",(function(){return i.BLEND_DESTALPHA})),r.d(t,"BLEND_INVDESTALPHA",(function(){return i.BLEND_INVDESTALPHA})),r.d(t,"BLEND_DESTCOLOR",(function(){return i.BLEND_DESTCOLOR})),r.d(t,"BLEND_INVDESTCOLOR",(function(){return i.BLEND_INVDESTCOLOR})),r.d(t,"BLEND_SRCALPHASAT",(function(){return i.BLEND_SRCALPHASAT})),r.d(t,"BLEND_BOTHSRCALPHA",(function(){return i.BLEND_BOTHSRCALPHA})),r.d(t,"BLEND_BOTHINVSRCALPHA",(function(){return i.BLEND_BOTHINVSRCALPHA})),r.d(t,"BLEND_BLENDFACTOR",(function(){return i.BLEND_BLENDFACTOR})),r.d(t,"BLEND_INVBLENDFACTOR",(function(){return i.BLEND_INVBLENDFACTOR})),r.d(t,"BLENDOP_ADD",(function(){return i.BLENDOP_ADD})),r.d(t,"BLENDOP_SUBTRACT",(function(){return i.BLENDOP_SUBTRACT})),r.d(t,"BLENDOP_REVSUBTRACT",(function(){return i.BLENDOP_REVSUBTRACT})),r.d(t,"BLENDOP_MIN",(function(){return i.BLENDOP_MIN})),r.d(t,"BLENDOP_MAX",(function(){return i.BLENDOP_MAX})),r.d(t,"WrapModes",(function(){return i.WrapModes})),r.d(t,"BlendTable",(function(){return i.BlendTable})),r.d(t,"FilterMode",(function(){return i.FilterMode})),r.d(t,"MipFilterMode",(function(){return i.MipFilterMode}));var n=r("./global/constant/dds.js");r.d(t,"DDS_MAGIC",(function(){return n.DDS_MAGIC})),r.d(t,"DDSD_CAPS",(function(){return n.DDSD_CAPS})),r.d(t,"DDSD_HEIGHT",(function(){return n.DDSD_HEIGHT})),r.d(t,"DDSD_WIDTH",(function(){return n.DDSD_WIDTH})),r.d(t,"DDSD_PITCH",(function(){return n.DDSD_PITCH})),r.d(t,"DDSD_PIXELFORMAT",(function(){return n.DDSD_PIXELFORMAT})),r.d(t,"DDSD_MIPMAPCOUNT",(function(){return n.DDSD_MIPMAPCOUNT})),r.d(t,"DDSD_LINEARSIZE",(function(){return n.DDSD_LINEARSIZE})),r.d(t,"DDSD_DEPTH",(function(){return n.DDSD_DEPTH})),r.d(t,"DDSCAPS_COMPLEX",(function(){return n.DDSCAPS_COMPLEX})),r.d(t,"DDSCAPS_MIPMAP",(function(){return n.DDSCAPS_MIPMAP})),r.d(t,"DDSCAPS_TEXTURE",(function(){return n.DDSCAPS_TEXTURE})),r.d(t,"DDSCAPS2_CUBEMAP",(function(){return n.DDSCAPS2_CUBEMAP})),r.d(t,"DDSCAPS2_CUBEMAP_POSITIVEX",(function(){return n.DDSCAPS2_CUBEMAP_POSITIVEX})),r.d(t,"DDSCAPS2_CUBEMAP_NEGATIVEX",(function(){return n.DDSCAPS2_CUBEMAP_NEGATIVEX})),r.d(t,"DDSCAPS2_CUBEMAP_POSITIVEY",(function(){return n.DDSCAPS2_CUBEMAP_POSITIVEY})),r.d(t,"DDSCAPS2_CUBEMAP_NEGATIVEY",(function(){return n.DDSCAPS2_CUBEMAP_NEGATIVEY})),r.d(t,"DDSCAPS2_CUBEMAP_POSITIVEZ",(function(){return n.DDSCAPS2_CUBEMAP_POSITIVEZ})),r.d(t,"DDSCAPS2_CUBEMAP_NEGATIVEZ",(function(){return n.DDSCAPS2_CUBEMAP_NEGATIVEZ})),r.d(t,"DDSCAPS2_VOLUME",(function(){return n.DDSCAPS2_VOLUME})),r.d(t,"DDPF_ALPHAPIXELS",(function(){return n.DDPF_ALPHAPIXELS})),r.d(t,"DDPF_ALPHA",(function(){return n.DDPF_ALPHA})),r.d(t,"DDPF_FOURCC",(function(){return n.DDPF_FOURCC})),r.d(t,"DDPF_RGB",(function(){return n.DDPF_RGB})),r.d(t,"DDPF_YUV",(function(){return n.DDPF_YUV})),r.d(t,"DDPF_LUMINANCE",(function(){return n.DDPF_LUMINANCE})),r.d(t,"DDS_HEADER_LENGTH_INT",(function(){return n.DDS_HEADER_LENGTH_INT})),r.d(t,"DDS_HEADER_OFFSET_MAGIC",(function(){return n.DDS_HEADER_OFFSET_MAGIC})),r.d(t,"DDS_HEADER_OFFSET_SIZE",(function(){return n.DDS_HEADER_OFFSET_SIZE})),r.d(t,"DDS_HEADER_OFFSET_FLAGS",(function(){return n.DDS_HEADER_OFFSET_FLAGS})),r.d(t,"DDS_HEADER_OFFSET_HEIGHT",(function(){return n.DDS_HEADER_OFFSET_HEIGHT})),r.d(t,"DDS_HEADER_OFFSET_WIDTH",(function(){return n.DDS_HEADER_OFFSET_WIDTH})),r.d(t,"DDS_HEADER_OFFSET_MIPMAP_COUNT",(function(){return n.DDS_HEADER_OFFSET_MIPMAP_COUNT})),r.d(t,"DDS_HEADER_OFFSET_PF_FLAGS",(function(){return n.DDS_HEADER_OFFSET_PF_FLAGS})),r.d(t,"DDS_HEADER_OFFSET_PF_FOURCC",(function(){return n.DDS_HEADER_OFFSET_PF_FOURCC})),r.d(t,"DDS_HEADER_OFFSET_RGB_BPP",(function(){return n.DDS_HEADER_OFFSET_RGB_BPP})),r.d(t,"DDS_HEADER_OFFSET_R_MASK",(function(){return n.DDS_HEADER_OFFSET_R_MASK})),r.d(t,"DDS_HEADER_OFFSET_G_MASK",(function(){return n.DDS_HEADER_OFFSET_G_MASK})),r.d(t,"DDS_HEADER_OFFSET_B_MASK",(function(){return n.DDS_HEADER_OFFSET_B_MASK})),r.d(t,"DDS_HEADER_OFFSET_A_MASK",(function(){return n.DDS_HEADER_OFFSET_A_MASK})),r.d(t,"DDS_HEADER_OFFSET_CAPS1",(function(){return n.DDS_HEADER_OFFSET_CAPS1})),r.d(t,"DDS_HEADER_OFFSET_CAPS2",(function(){return n.DDS_HEADER_OFFSET_CAPS2})),r.d(t,"DDS_HEADER_OFFSET_CAPS3",(function(){return n.DDS_HEADER_OFFSET_CAPS3})),r.d(t,"DDS_HEADER_OFFSET_CAPS4",(function(){return n.DDS_HEADER_OFFSET_CAPS4})),r.d(t,"DDS_HEADER_OFFSET_DXGI_FORMAT",(function(){return n.DDS_HEADER_OFFSET_DXGI_FORMAT})),r.d(t,"FOURCC_DXT1",(function(){return n.FOURCC_DXT1})),r.d(t,"FOURCC_DXT5",(function(){return n.FOURCC_DXT5})),r.d(t,"FOURCC_DXT3",(function(){return n.FOURCC_DXT3})),r.d(t,"FOURCC_DXT10",(function(){return n.FOURCC_DXT10})),r.d(t,"FOURCC_D3DFMT_R16G16B16A16F",(function(){return n.FOURCC_D3DFMT_R16G16B16A16F})),r.d(t,"FOURCC_D3DFMT_R32G32B32A32F",(function(){return n.FOURCC_D3DFMT_R32G32B32A32F})),r.d(t,"DXGI_FORMAT_R16G16B16A16_FLOAT",(function(){return n.DXGI_FORMAT_R16G16B16A16_FLOAT})),r.d(t,"DXGI_FORMAT_B8G8R8X8_UNORM",(function(){return n.DXGI_FORMAT_B8G8R8X8_UNORM}));var a=r("./global/constant/gl.js");r.d(t,"GL_COLOR_BUFFER_BIT",(function(){return a.GL_COLOR_BUFFER_BIT})),r.d(t,"GL_DEPTH_BUFFER_BIT",(function(){return a.GL_DEPTH_BUFFER_BIT})),r.d(t,"GL_STENCIL_BUFFER_BIT",(function(){return a.GL_STENCIL_BUFFER_BIT})),r.d(t,"GL_TEXTURE_2D",(function(){return a.GL_TEXTURE_2D})),r.d(t,"GL_TEXTURE_CUBE_MAP",(function(){return a.GL_TEXTURE_CUBE_MAP})),r.d(t,"GL_TEXTURE_3D",(function(){return a.GL_TEXTURE_3D})),r.d(t,"GL_TEXTURE_MAG_FILTER",(function(){return a.GL_TEXTURE_MAG_FILTER})),r.d(t,"GL_TEXTURE_MIN_FILTER",(function(){return a.GL_TEXTURE_MIN_FILTER})),r.d(t,"GL_TEXTURE_WRAP_S",(function(){return a.GL_TEXTURE_WRAP_S})),r.d(t,"GL_TEXTURE_WRAP_T",(function(){return a.GL_TEXTURE_WRAP_T})),r.d(t,"GL_BYTE",(function(){return a.GL_BYTE})),r.d(t,"GL_UNSIGNED_BYTE",(function(){return a.GL_UNSIGNED_BYTE})),r.d(t,"GL_SHORT",(function(){return a.GL_SHORT})),r.d(t,"GL_UNSIGNED_SHORT",(function(){return a.GL_UNSIGNED_SHORT})),r.d(t,"GL_INT",(function(){return a.GL_INT})),r.d(t,"GL_UNSIGNED_INT",(function(){return a.GL_UNSIGNED_INT})),r.d(t,"GL_FLOAT",(function(){return a.GL_FLOAT})),r.d(t,"GL_HALF_FLOAT_OES",(function(){return a.GL_HALF_FLOAT_OES})),r.d(t,"GL_HALF_FLOAT",(function(){return a.GL_HALF_FLOAT})),r.d(t,"GL_DEPTH_COMPONENT16",(function(){return a.GL_DEPTH_COMPONENT16})),r.d(t,"GL_DEPTH_COMPONENT24",(function(){return a.GL_DEPTH_COMPONENT24})),r.d(t,"GL_DEPTH_COMPONENT32F",(function(){return a.GL_DEPTH_COMPONENT32F})),r.d(t,"GL_FLOAT_VEC2",(function(){return a.GL_FLOAT_VEC2})),r.d(t,"GL_FLOAT_VEC3",(function(){return a.GL_FLOAT_VEC3})),r.d(t,"GL_FLOAT_VEC4",(function(){return a.GL_FLOAT_VEC4})),r.d(t,"GL_INT_VEC2",(function(){return a.GL_INT_VEC2})),r.d(t,"GL_INT_VEC3",(function(){return a.GL_INT_VEC3})),r.d(t,"GL_INT_VEC4",(function(){return a.GL_INT_VEC4})),r.d(t,"GL_BOOL",(function(){return a.GL_BOOL})),r.d(t,"GL_BOOL_VEC2",(function(){return a.GL_BOOL_VEC2})),r.d(t,"GL_BOOL_VEC3",(function(){return a.GL_BOOL_VEC3})),r.d(t,"GL_BOOL_VEC4",(function(){return a.GL_BOOL_VEC4})),r.d(t,"GL_FLOAT_MAT2",(function(){return a.GL_FLOAT_MAT2})),r.d(t,"GL_FLOAT_MAT3",(function(){return a.GL_FLOAT_MAT3})),r.d(t,"GL_FLOAT_MAT4",(function(){return a.GL_FLOAT_MAT4})),r.d(t,"GL_TYPE_LENGTH",(function(){return a.GL_TYPE_LENGTH})),r.d(t,"GL_SAMPLER_2D",(function(){return a.GL_SAMPLER_2D})),r.d(t,"GL_SAMPLER_3D",(function(){return a.GL_SAMPLER_3D})),r.d(t,"GL_SAMPLER_CUBE",(function(){return a.GL_SAMPLER_CUBE})),r.d(t,"GL_DEPTH_COMPONENT",(function(){return a.GL_DEPTH_COMPONENT})),r.d(t,"GL_ALPHA",(function(){return a.GL_ALPHA})),r.d(t,"GL_RGB",(function(){return a.GL_RGB})),r.d(t,"GL_RGBA",(function(){return a.GL_RGBA})),r.d(t,"GL_LUMINANCE",(function(){return a.GL_LUMINANCE})),r.d(t,"GL_LUMINANCE_ALPHA",(function(){return a.GL_LUMINANCE_ALPHA})),r.d(t,"GL_DEPTH_STENCIL",(function(){return a.GL_DEPTH_STENCIL})),r.d(t,"GL_UNSIGNED_INT_24_8_WEBGL",(function(){return a.GL_UNSIGNED_INT_24_8_WEBGL})),r.d(t,"GL_R8",(function(){return a.GL_R8})),r.d(t,"GL_R16F",(function(){return a.GL_R16F})),r.d(t,"GL_R32F",(function(){return a.GL_R32F})),r.d(t,"GL_R8UI",(function(){return a.GL_R8UI})),r.d(t,"GL_RG8",(function(){return a.GL_RG8})),r.d(t,"GL_RG16F",(function(){return a.GL_RG16F})),r.d(t,"GL_RG32F",(function(){return a.GL_RG32F})),r.d(t,"GL_RGB8",(function(){return a.GL_RGB8})),r.d(t,"GL_SRGB8",(function(){return a.GL_SRGB8})),r.d(t,"GL_RGB565",(function(){return a.GL_RGB565})),r.d(t,"GL_R11F_G11F_B10F",(function(){return a.GL_R11F_G11F_B10F})),r.d(t,"GL_RGB9_E5",(function(){return a.GL_RGB9_E5})),r.d(t,"GL_RGB16F",(function(){return a.GL_RGB16F})),r.d(t,"GL_RGB32F",(function(){return a.GL_RGB32F})),r.d(t,"GL_RGB8UI",(function(){return a.GL_RGB8UI})),r.d(t,"GL_RGBA8",(function(){return a.GL_RGBA8})),r.d(t,"GL_RGB5_A1",(function(){return a.GL_RGB5_A1})),r.d(t,"GL_RGBA16F",(function(){return a.GL_RGBA16F})),r.d(t,"GL_RGBA32F",(function(){return a.GL_RGBA32F})),r.d(t,"GL_RGBA8UI",(function(){return a.GL_RGBA8UI})),r.d(t,"GL_RGBA16I",(function(){return a.GL_RGBA16I})),r.d(t,"GL_RGBA16UI",(function(){return a.GL_RGBA16UI})),r.d(t,"GL_RGBA32I",(function(){return a.GL_RGBA32I})),r.d(t,"GL_RGBA32UI",(function(){return a.GL_RGBA32UI})),r.d(t,"GL_NEAREST",(function(){return a.GL_NEAREST})),r.d(t,"GL_LINEAR",(function(){return a.GL_LINEAR})),r.d(t,"GL_NEAREST_MIPMAP_NEAREST",(function(){return a.GL_NEAREST_MIPMAP_NEAREST})),r.d(t,"GL_LINEAR_MIPMAP_NEAREST",(function(){return a.GL_LINEAR_MIPMAP_NEAREST})),r.d(t,"GL_NEAREST_MIPMAP_LINEAR",(function(){return a.GL_NEAREST_MIPMAP_LINEAR})),r.d(t,"GL_LINEAR_MIPMAP_LINEAR",(function(){return a.GL_LINEAR_MIPMAP_LINEAR})),r.d(t,"GL_REPEAT",(function(){return a.GL_REPEAT})),r.d(t,"GL_CLAMP_TO_EDGE",(function(){return a.GL_CLAMP_TO_EDGE})),r.d(t,"GL_MIRRORED_REPEAT",(function(){return a.GL_MIRRORED_REPEAT})),r.d(t,"GL_ZERO",(function(){return a.GL_ZERO})),r.d(t,"GL_ONE",(function(){return a.GL_ONE})),r.d(t,"GL_SRC_COLOR",(function(){return a.GL_SRC_COLOR})),r.d(t,"GL_ONE_MINUS_SRC_COLOR",(function(){return a.GL_ONE_MINUS_SRC_COLOR})),r.d(t,"GL_SRC_ALPHA",(function(){return a.GL_SRC_ALPHA})),r.d(t,"GL_ONE_MINUS_SRC_ALPHA",(function(){return a.GL_ONE_MINUS_SRC_ALPHA})),r.d(t,"GL_DST_ALPHA",(function(){return a.GL_DST_ALPHA})),r.d(t,"GL_ONE_MINUS_DST_ALPHA",(function(){return a.GL_ONE_MINUS_DST_ALPHA})),r.d(t,"GL_DST_COLOR",(function(){return a.GL_DST_COLOR})),r.d(t,"GL_ONE_MINUS_DST_COLOR",(function(){return a.GL_ONE_MINUS_DST_COLOR})),r.d(t,"GL_SRC_ALPHA_SATURATE",(function(){return a.GL_SRC_ALPHA_SATURATE})),r.d(t,"GL_CONSTANT_COLOR",(function(){return a.GL_CONSTANT_COLOR})),r.d(t,"GL_ONE_MINUS_CONSTANT_COLOR",(function(){return a.GL_ONE_MINUS_CONSTANT_COLOR})),r.d(t,"GL_CONSTANT_ALPHA",(function(){return a.GL_CONSTANT_ALPHA})),r.d(t,"GL_ONE_MINUS_CONSTANT_ALPHA",(function(){return a.GL_ONE_MINUS_CONSTANT_ALPHA})),r.d(t,"GL_VERTEX_SHADER",(function(){return a.GL_VERTEX_SHADER})),r.d(t,"GL_FRAGMENT_SHADER",(function(){return a.GL_FRAGMENT_SHADER})),r.d(t,"GL_FRONT",(function(){return a.GL_FRONT})),r.d(t,"GL_BACK",(function(){return a.GL_BACK})),r.d(t,"GL_FRONT_AND_BACK",(function(){return a.GL_FRONT_AND_BACK})),r.d(t,"GL_NEVER",(function(){return a.GL_NEVER})),r.d(t,"GL_LESS",(function(){return a.GL_LESS})),r.d(t,"GL_EQUAL",(function(){return a.GL_EQUAL})),r.d(t,"GL_LEQUAL",(function(){return a.GL_LEQUAL})),r.d(t,"GL_GREATER",(function(){return a.GL_GREATER})),r.d(t,"GL_NOTEQUAL",(function(){return a.GL_NOTEQUAL})),r.d(t,"GL_GEQUAL",(function(){return a.GL_GEQUAL})),r.d(t,"GL_ALWAYS",(function(){return a.GL_ALWAYS})),r.d(t,"GL_KEEP",(function(){return a.GL_KEEP})),r.d(t,"GL_REPLACE",(function(){return a.GL_REPLACE})),r.d(t,"GL_INCR",(function(){return a.GL_INCR})),r.d(t,"GL_DECR",(function(){return a.GL_DECR})),r.d(t,"GL_INCR_WRAP",(function(){return a.GL_INCR_WRAP})),r.d(t,"GL_DECR_WRAP",(function(){return a.GL_DECR_WRAP})),r.d(t,"GL_INVERT",(function(){return a.GL_INVERT})),r.d(t,"GL_STREAM_DRAW",(function(){return a.GL_STREAM_DRAW})),r.d(t,"GL_STATIC_DRAW",(function(){return a.GL_STATIC_DRAW})),r.d(t,"GL_DYNAMIC_DRAW",(function(){return a.GL_DYNAMIC_DRAW})),r.d(t,"GL_ARRAY_BUFFER",(function(){return a.GL_ARRAY_BUFFER})),r.d(t,"GL_ELEMENT_ARRAY_BUFFER",(function(){return a.GL_ELEMENT_ARRAY_BUFFER})),r.d(t,"GL_POINTS",(function(){return a.GL_POINTS})),r.d(t,"GL_LINES",(function(){return a.GL_LINES})),r.d(t,"GL_LINE_LOOP",(function(){return a.GL_LINE_LOOP})),r.d(t,"GL_LINE_STRIP",(function(){return a.GL_LINE_STRIP})),r.d(t,"GL_TRIANGLES",(function(){return a.GL_TRIANGLES})),r.d(t,"GL_TRIANGLE_STRIP",(function(){return a.GL_TRIANGLE_STRIP})),r.d(t,"GL_TRIANGLE_FAN",(function(){return a.GL_TRIANGLE_FAN})),r.d(t,"GL_CW",(function(){return a.GL_CW})),r.d(t,"GL_CCW",(function(){return a.GL_CCW})),r.d(t,"GL_CULL_FACE",(function(){return a.GL_CULL_FACE})),r.d(t,"GL_DEPTH_TEST",(function(){return a.GL_DEPTH_TEST})),r.d(t,"GL_BLEND",(function(){return a.GL_BLEND}));var o=r("./global/constant/web.js");r.d(t,"VendorRequestAnimationFrame",(function(){return o.VendorRequestAnimationFrame})),r.d(t,"VendorCancelAnimationFrame",(function(){return o.VendorCancelAnimationFrame})),r.d(t,"VendorRequestFullScreen",(function(){return o.VendorRequestFullScreen})),r.d(t,"VendorExitFullScreen",(function(){return o.VendorExitFullScreen})),r.d(t,"VendorGetFullScreenElement",(function(){return o.VendorGetFullScreenElement})),r.d(t,"VendorWebglPrefixes",(function(){return o.VendorWebglPrefixes}));var s=r("./global/constant/type.js");r.d(t,"PT_UNKNOWN",(function(){return s.PT_UNKNOWN})),r.d(t,"PT_BOOLEAN",(function(){return s.PT_BOOLEAN})),r.d(t,"PT_STRING",(function(){return s.PT_STRING})),r.d(t,"PT_PATH",(function(){return s.PT_PATH})),r.d(t,"PT_EXPRESSION",(function(){return s.PT_EXPRESSION})),r.d(t,"PT_BYTE",(function(){return s.PT_BYTE})),r.d(t,"PT_UINT",(function(){return s.PT_UINT})),r.d(t,"PT_USHORT",(function(){return s.PT_USHORT})),r.d(t,"PT_FLOAT",(function(){return s.PT_FLOAT})),r.d(t,"PT_STRUCT",(function(){return s.PT_STRUCT})),r.d(t,"PT_STRUCT_RAW",(function(){return s.PT_STRUCT_RAW})),r.d(t,"PT_STRUCT_LIST",(function(){return s.PT_STRUCT_LIST})),r.d(t,"PT_PLAIN",(function(){return s.PT_PLAIN})),r.d(t,"PT_ARRAY",(function(){return s.PT_ARRAY})),r.d(t,"PT_VECTOR",(function(){return s.PT_VECTOR})),r.d(t,"PT_VECTOR2",(function(){return s.PT_VECTOR2})),r.d(t,"PT_VECTOR3",(function(){return s.PT_VECTOR3})),r.d(t,"PT_VECTOR4",(function(){return s.PT_VECTOR4})),r.d(t,"PT_COLOR",(function(){return s.PT_COLOR})),r.d(t,"PT_QUATERNION",(function(){return s.PT_QUATERNION})),r.d(t,"PT_MATRIX3",(function(){return s.PT_MATRIX3})),r.d(t,"PT_MATRIX4",(function(){return s.PT_MATRIX4})),r.d(t,"PT_INDEX_BUFFER",(function(){return s.PT_INDEX_BUFFER})),r.d(t,"PT_ENUM",(function(){return s.PT_ENUM}))},"./global/constant/type.js":function(e,t,r){"use strict";r.r(t),r.d(t,"PT_UNKNOWN",(function(){return i})),r.d(t,"PT_BOOLEAN",(function(){return n})),r.d(t,"PT_STRING",(function(){return a})),r.d(t,"PT_PATH",(function(){return o})),r.d(t,"PT_EXPRESSION",(function(){return s})),r.d(t,"PT_BYTE",(function(){return l})),r.d(t,"PT_UINT",(function(){return u})),r.d(t,"PT_USHORT",(function(){return c})),r.d(t,"PT_FLOAT",(function(){return f})),r.d(t,"PT_STRUCT",(function(){return d})),r.d(t,"PT_STRUCT_RAW",(function(){return h})),r.d(t,"PT_STRUCT_LIST",(function(){return m})),r.d(t,"PT_PLAIN",(function(){return b})),r.d(t,"PT_ARRAY",(function(){return p})),r.d(t,"PT_VECTOR",(function(){return v})),r.d(t,"PT_VECTOR2",(function(){return g})),r.d(t,"PT_VECTOR3",(function(){return y})),r.d(t,"PT_VECTOR4",(function(){return w})),r.d(t,"PT_COLOR",(function(){return E})),r.d(t,"PT_QUATERNION",(function(){return T})),r.d(t,"PT_MATRIX3",(function(){return S})),r.d(t,"PT_MATRIX4",(function(){return _})),r.d(t,"PT_INDEX_BUFFER",(function(){return j})),r.d(t,"PT_ENUM",(function(){return R}));var i=0,n=1,a=10,o=11,s=12,l=20,u=21,c=22,f=23,d=30,h=31,m=32,b=33,p=34,v=50,g=51,y=52,w=53,E=60,T=61,S=70,_=71,j=72,R=80},"./global/constant/web.js":function(e,t,r){"use strict";r.r(t),r.d(t,"VendorRequestAnimationFrame",(function(){return i})),r.d(t,"VendorCancelAnimationFrame",(function(){return n})),r.d(t,"VendorRequestFullScreen",(function(){return a})),r.d(t,"VendorExitFullScreen",(function(){return o})),r.d(t,"VendorGetFullScreenElement",(function(){return s})),r.d(t,"VendorWebglPrefixes",(function(){return l}));var i=["requestAnimationFrame","webkitRequestAnimationFrame","mozRequestAnimationFrame","oRequestAnimationFrame","msRequestAnimationFrame"],n=["cancelAnimationFrame","webkitRequestAnimationFrame","mozRequestAnimationFrame","oRequestAnimationFrame","msRequestAnimationFrame"],a=["requestFullscreen","webkitRequestFullscreen","mozRequestFullScreen","msRequestFullscreen"],o=["exitFullscreen","webkitExitFullscreen","mozCancelFullScreen","msExitFullscreen"],s=["fullscreenElement","webkitFullscreenElement","mozFullScreenElement","msFullscreenElement"],l=["","MOZ_","WEBKIT_","WEBGL_"]},"./global/index.js":function(e,t,r){"use strict";r.r(t);var i=r("./global/tw2.js");r.d(t,"tw2",(function(){return i.tw2})),r.d(t,"resMan",(function(){return i.resMan})),r.d(t,"device",(function(){return i.device})),r.d(t,"store",(function(){return i.store})),r.d(t,"logger",(function(){return i.logger}))},"./global/math/box3.js":function(e,t,r){"use strict";r.r(t),r.d(t,"box3",(function(){return a}));var i=r("./global/math/num.js"),n=r("./global/math/vec3.js"),a=(r("./global/math/sph3.js"),r("./global/math/mat4.js"),{bounds:{}}),o=null;a.$min=function(e){return e.subarray(0,3)},a.$max=function(e){return e.subarray(3,6)},a.addPoint=function(e,t,r){return e[0]=Math.min(t[0],r[0]),e[1]=Math.min(t[1],r[1]),e[2]=Math.min(t[2],r[2]),e[3]=Math.max(t[3],r[0]),e[4]=Math.max(t[4],r[1]),e[5]=Math.max(t[5],r[2]),e},a.addPoints=function(e,t,r){for(var i=t[0],n=t[1],a=t[2],o=t[3],s=t[4],l=t[5],u=0;u<r.length;u++)i=Math.min(i,r[u][0]),n=Math.min(n,r[u][1]),a=Math.min(a,r[u][2]),o=Math.max(o,r[u][0]),s=Math.max(s,r[u][1]),l=Math.max(l,r[u][2]);return e[0]=i,e[1]=n,e[2]=a,e[3]=o,e[4]=s,e[5]=l,e},a.clone=function(e){var t=new Float32Array(6);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t},a.contains=function(e,t){return e[0]<=t[0]&&t[3]<=e[3]&&e[1]<=t[1]&&t[4]<=e[4]&&e[2]<=t[2]&&t[5]<=e[5]},a.containsBounds=function(e,t,r){return e[0]<=t[0]&&r[0]<=e[3]&&e[1]<=t[1]&&r[1]<=e[4]&&e[2]<=t[2]&&r[2]<=e[5]},a.containsPoint=function(e,t){return!(t[0]<e[0]||t[0]>e[3]||t[1]<e[1]||t[1]>e[4]||t[2]<e[2]||t[2]>e[5])},a.containsValue=function(e,t,r,i){return!(t<e[0]||t>e[3]||r<e[1]||r>e[4]||i<e[2]||i>e[5])},a.copy=function(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e},a.copyMin=n.vec3.copy,a.copyMax=function(e,t){return e[3]=t[3],e[4]=t[4],e[5]=t[5],e},a.create=function(){return a.empty(new Float32Array(6))},a.distanceToPoint=function(e,t){var r=Math.max(e[0],Math.min(e[3],t[0]))-t[0],i=Math.max(e[1],Math.min(e[4],t[1]))-t[1],n=Math.max(e[2],Math.min(e[5],t[2]))-t[2];return Math.sqrt(r*r+i*i+n*n)},a.distanceToValues=function(e,t,r,i){var n=Math.max(e[0],Math.min(e[3],t))-t,a=Math.max(e[1],Math.min(e[4],r))-r,o=Math.max(e[2],Math.min(e[5],i))-i;return Math.sqrt(n*n+a*a+o*o)},a.empty=function(e){return e[0]=0,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=0,e},a.bounds.empty=function(e,t){e[0]=0,e[1]=0,e[2]=0,t[0]=0,t[1]=0,t[2]=0},a.equals=function(e,t){var r=e[0],n=e[1],a=e[2],o=e[3],s=e[4],l=e[5],u=t[0],c=t[1],f=t[2],d=t[3],h=t[4],m=t[5];return Math.abs(r-u)<=i.num.EPSILON*Math.max(1,Math.abs(r),Math.abs(u))&&Math.abs(n-c)<=i.num.EPSILON*Math.max(1,Math.abs(n),Math.abs(c))&&Math.abs(a-f)<=i.num.EPSILON*Math.max(1,Math.abs(a),Math.abs(f))&&Math.abs(o-d)<=i.num.EPSILON*Math.max(1,Math.abs(o),Math.abs(d))&&Math.abs(s-h)<=i.num.EPSILON*Math.max(1,Math.abs(s),Math.abs(h))&&Math.abs(l-m)<=i.num.EPSILON*Math.max(1,Math.abs(l),Math.abs(m))},a.equalsBounds=function(e,t,r){var n=e[0],a=e[1],o=e[2],s=e[3],l=e[4],u=e[5],c=t[0],f=t[1],d=t[2],h=r[0],m=r[1],b=r[2];return Math.abs(n-c)<=i.num.EPSILON*Math.max(1,Math.abs(n),Math.abs(c))&&Math.abs(a-f)<=i.num.EPSILON*Math.max(1,Math.abs(a),Math.abs(f))&&Math.abs(o-d)<=i.num.EPSILON*Math.max(1,Math.abs(o),Math.abs(d))&&Math.abs(s-h)<=i.num.EPSILON*Math.max(1,Math.abs(s),Math.abs(h))&&Math.abs(l-m)<=i.num.EPSILON*Math.max(1,Math.abs(l),Math.abs(m))&&Math.abs(u-b)<=i.num.EPSILON*Math.max(1,Math.abs(u),Math.abs(b))},a.exactEquals=function(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===t[3]&&e[4]===t[4]&&e[5]===t[5]},a.exactEqualsBounds=function(e,t,r){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===r[0]&&e[4]===r[1]&&e[5]===r[2]},a.expandScalar=function(e,t,r){return e[0]=t[0]-r,e[1]=t[1]-r,e[2]=t[2]-r,e[3]=t[3]+r,e[4]=t[4]+r,e[5]=t[5]+r,e},a.expandValues=function(e,t,r,i,n){return e[0]=t[0]-r,e[1]=t[1]-i,e[2]=t[2]-n,e[3]=t[3]+r,e[4]=t[4]+i,e[5]=t[5]+n,e},a.expandVec3=function(e,t,r){return e[0]=t[0]-r[0],e[1]=t[1]-r[1],e[2]=t[2]-r[2],e[3]=t[3]+r[0],e[4]=t[4]+r[1],e[5]=t[5]+r[2],e},a.fromArray=function(e,t,r=0){return e[0]=t[r],e[1]=t[r+1],e[2]=t[r+2],e[3]=t[r+3],e[4]=t[r+4],e[5]=t[r+5],e},a.fromBounds=function(e,t,r){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=r[0],e[4]=r[1],e[5]=r[2],e},a.fromPositionSize=function(e,t,r){return e[0]=t[0]-.5*r[0],e[1]=t[1]-.5*r[1],e[2]=t[2]-.5*r[2],e[3]=t[0]+.5*r[0],e[4]=t[1]+.5*r[1],e[5]=t[2]+.5*r[2],e},a.fromPoints=function(e,t){a.empty(e);for(var r=0;r<t.length;r++)e[0]=Math.min(e[0],t[r][0]),e[1]=Math.min(e[1],t[r][1]),e[2]=Math.min(e[2],t[r][2]),e[3]=Math.max(e[3],t[r][0]),e[4]=Math.max(e[4],t[r][1]),e[5]=Math.max(e[5],t[r][2]);return e},a.fromPositionRadius=function(e,t,r){return e[0]=t[0]-r,e[1]=t[1]-r,e[2]=t[2]-r,e[3]=t[0]+r,e[4]=t[1]+r,e[5]=t[2]+r,e},a.fromSph3=function(e,t){return e[0]=t[0]-t[3],e[1]=t[1]-t[3],e[2]=t[2]-t[3],e[3]=t[0]+t[3],e[4]=t[1]+t[3],e[5]=t[2]+t[3],e},a.fromValues=function(e,t,r,i,n,o){var s=a.create();return s[0]=e,s[1]=t,s[2]=r,s[3]=i,s[4]=n,s[5]=o,s},a.getClampedPoint=function(e,t,r){return e[0]=Math.max(t[0],Math.min(t[3],r[0])),e[1]=Math.max(t[1],Math.min(t[4],r[1])),e[2]=Math.max(t[2],Math.min(t[5],r[2])),e},a.getMax=function(e,t){return e[0]=t[3],e[1]=t[4],e[2]=t[5],e},a.getMin=function(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e},a.getSize=function(e,t){return e[0]=t[3]-t[0],e[1]=t[4]-t[1],e[2]=t[5]-t[2],e},a.getPosition=function(e,t){return e[0]=.5*(t[0]+t[3]),e[1]=.5*(t[1]+t[4]),e[2]=.5*(t[2]+t[5]),e},a.radius=function(e){var t=e[3]-e[0],r=e[4]-e[1],i=e[5]-e[2];return.5*Math.sqrt(t*t+r*r+i*i)},a.intersect=function(e,t,r){return e[0]=Math.max(t[0],r[0]),e[1]=Math.max(t[1],r[1]),e[2]=Math.max(t[2],r[2]),e[3]=Math.min(t[3],r[3]),e[4]=Math.min(t[4],r[4]),e[5]=Math.min(t[5],r[5]),e},a.intersectBounds=function(e,t,r,i){return e[0]=Math.max(t[0],r[0]),e[1]=Math.max(t[1],r[1]),e[2]=Math.max(t[2],r[2]),e[3]=Math.min(t[3],i[0]),e[4]=Math.min(t[4],i[1]),e[5]=Math.min(t[5],i[2]),e},a.intersects=function(e,t){return!(t[3]<e[0]||t[0]>e[3]||t[4]<e[1]||t[1]>e[4]||t[5]<e[2]||t[2]>e[5])},a.intersectsBounds=function(e,t,r){return!(r[0]<e[0]||t[0]>e[3]||r[1]<e[1]||t[1]>e[4]||r[2]<e[2]||t[2]>e[5])},a.intersectsNormalConstant=function(e,t,r){var i,n;return t[0]>0?(i=t[0]*e[0],n=t[0]*e[3]):(i=t[0]*e[3],n=t[0]*e[0]),t[1]>0?(i=t[1]*e[1],n=t[1]*e[4]):(i=t[1]*e[4],n=t[1]*e[1]),t[2]>0?(i+=t[2]*e[2],n+=t[2]*e[5]):(i+=t[2]*e[5],n+=t[2]*e[2]),i<=r&&n>=r},a.intersectsPln=function(e,t){return a.intersectsNormalConstant(e,t,t[3])},a.intersectsPoint=function(e,t){return t[0]>=e[0]&&t[0]<=e[3]&&t[1]>=e[1]&&t[1]<=e[4]&&t[2]>=e[2]&&t[2]<=e[5]},a.intersectsValues=function(e,t,r,i){return t>=e[0]&&t<=e[3]&&r>=e[1]&&r<=e[4]&&i>=e[2]&&i<=e[5]},a.intersectsPositionRadius=function(e,t,r){var i=Math.max(e[0],Math.min(e[3],t[0]))-t[0],n=Math.max(e[1],Math.min(e[4],t[1]))-t[1],a=Math.max(e[2],Math.min(e[5],t[2]))-t[2];return i*i+n*n+a*a<=r*r},a.intersectsSph3=function(e,t){var r=Math.max(e[0],Math.min(e[3],t[0]))-t[0],i=Math.max(e[1],Math.min(e[4],t[1]))-t[1],n=Math.max(e[2],Math.min(e[5],t[2]))-t[2];return r*r+i*i+n*n<=t[3]*t[3]},a.isEmpty=function(e){return e[0]+e[1]+e[2]+e[0]+e[1]+e[2]===0||(e[3]<e[0]||e[4]<e[1]||e[5]<e[2])},a.bounds.isEmpty=function(e,t){return e[0]+e[1]+e[2]+t[0]+t[1]+t[2]===0||(t[0]<e[0]||t[1]<e[1]||t[2]<e[2])},a.set=function(e,t,r,i,n,a,o){return e[0]=t,e[1]=r,e[2]=i,e[3]=n,e[4]=a,e[5]=o,e},a.squaredDistanceToPoint=function(e,t){var r=Math.max(e[0],Math.min(e[3],t[0]))-t[0],i=Math.max(e[1],Math.min(e[4],t[1]))-t[1],n=Math.max(e[2],Math.min(e[5],t[2]))-t[2];return r*r+i*i+n*n},a.surfaceArea=function(e){var t=e[3]-e[0],r=e[4]-e[1],i=e[5]-e[2];return 2*(t*(r+i)+r*i)},a.toArray=function(e,t,r=0){return t[r]=e[0],t[r+1]=e[1],t[r+2]=e[2],t[r+3]=e[3],t[r+4]=e[4],t[r+5]=e[5],e},a.toBounds=function(e,t,r){return t[0]=e[0],t[1]=e[1],t[2]=e[2],r[0]=e[3],r[1]=e[4],r[2]=e[5],e},a.toPoints=function(e,t=[]){var r=e[0],i=e[1],n=e[2],a=e[3],o=e[4],s=e[5],l=a+Math.abs(r),u=o+Math.abs(i),c=s+Math.abs(n);return t.push([a+0,o+0,s+0]),t.push([a-l,o+0,s+0]),t.push([a+0,o+0,s-c]),t.push([a-l,o+0,s-c]),t.push([a+0,o-u,s+0]),t.push([a-l,o-u,s+0]),t.push([a+0,o-u,s-c]),t.push([a-l,o-u,s-c]),t},a.toPositionRadius=function(e,t){var r=e[3]-e[0],i=e[4]-e[1],n=e[5]-e[2];return t[0]=.5*(e[0]+e[3]),t[1]=.5*(e[1]+e[4]),t[2]=.5*(e[2]+e[5]),.5*Math.sqrt(r*r+i*i+n*n)},a.bounds.toPositionRadius=function(e,t,r){var i=t[0]-e[0],n=t[1]-e[1],a=t[2]-e[2];return r[0]=.5*(e[0]+t[0]),r[1]=.5*(e[1]+t[1]),r[2]=.5*(e[2]+t[2]),.5*Math.sqrt(i*i+n*n+a*a)},a.translate=function(e,t,r){return e[0]=t[0]+r[0],e[1]=t[1]+r[1],e[2]=t[2]+r[2],e[3]=t[3]+r[0],e[4]=t[4]+r[1],e[5]=t[5]+r[2],e},a.transformMat4=function(e,t,r){return o||(o=[n.vec3.create(),n.vec3.create(),n.vec3.create(),n.vec3.create(),n.vec3.create(),n.vec3.create(),n.vec3.create(),n.vec3.create()]),a.isEmpty(t)?a.empty(e):(n.vec3.transformMat4(o[0],[t[0],t[1],t[2]],r),n.vec3.transformMat4(o[1],[t[0],t[1],t[5]],r),n.vec3.transformMat4(o[2],[t[0],t[4],t[2]],r),n.vec3.transformMat4(o[3],[t[0],t[4],t[5]],r),n.vec3.transformMat4(o[4],[t[3],t[1],t[2]],r),n.vec3.transformMat4(o[5],[t[3],t[1],t[5]],r),n.vec3.transformMat4(o[6],[t[3],t[4],t[2]],r),n.vec3.transformMat4(o[7],[t[3],t[4],t[5]],r),a.fromPoints(e,o))},a.union=function(e,t,r){return e[0]=Math.min(t[0],r[0]),e[1]=Math.min(t[1],r[1]),e[2]=Math.min(t[2],r[2]),e[3]=Math.max(t[3],r[3]),e[4]=Math.max(t[4],r[4]),e[5]=Math.max(t[5],r[5]),e},a.unionBounds=function(e,t,r,i){return e[0]=Math.min(t[0],r[0]),e[1]=Math.min(t[1],r[1]),e[2]=Math.min(t[2],r[2]),e[3]=Math.max(t[3],i[0]),e[4]=Math.max(t[4],i[1]),e[5]=Math.max(t[5],i[2]),e},a.bounds.union=function(e,t,r,i,n,a){e[0]=Math.min(r[0],n[0]),e[1]=Math.min(r[1],n[1]),e[2]=Math.min(r[2],n[2]),t[0]=Math.max(i[0],a[0]),t[1]=Math.max(i[1],a[1]),t[2]=Math.max(i[2],a[2])}},"./global/math/curve.js":function(e,t,r){"use strict";r.r(t),r.d(t,"curve",(function(){return i}));var i={evaluate:function(e,t,r,i,n){for(var a=e.knots.length,o=a-1,s=0,l=0;l<e.knots.length;++l)if(e.knots[l]>t){o=l;break}if(0===e.degree)for(var u=0;u<e.dimension;++u)r[u]=e.controls[o*e.dimension+u];else if(1===e.degree){var c=i?(o+a-1)%a:0===o?0:o-1,f=e.knots[o]-e.knots[c];f<0&&(f+=n),f>0&&(s=(t-e.knots[e.knots.length-1])/f);for(var d=0;d<e.dimension;++d)r[d]=e.controls[c*e.dimension+d]*(1-s)+e.controls[o*e.dimension+d]*s}else{var h=i?(o+a-2)%a:0===o?0:o-2,m=i?(o+a-1)%a:0===o?0:o-1,b=h*e.dimension,p=m*e.dimension,v=o*e.dimension,g=e.knots[h],y=e.knots[m],w=e.knots[o],E=e.knots[(o+1)%a];g>w&&(w+=n,E+=n,t+=n),y>w&&(w+=n,E+=n,t+=n),E<w&&(E+=n);var T=t-y,S=T/(w-y),_=(t-g)/(w-g),j=_+S-S*_,R=S*(T/(E-y)),z=j-R;j=1-j;for(var O=0;O<e.dimension;++O)r[O]=j*e.controls[b+O]+z*e.controls[p+O]+R*e.controls[v+O]}},ag_horner1:function(e,t,r){for(var i=e[t];--t>=0;)i=r*i+e[t];return i},ag_zeroin2:function(e,t,r,n,a,o){var s,l,u,c,f,d,h,m,b,p;for(var v=!0;v&&(s=e,c=r,u=l=t-e),Math.abs(c)<Math.abs(n)&&(e=t,t=s,s=e,r=n,n=c,c=r),v=!1,f=2.384185792e-7*Math.abs(t)+.5*a,d=.5*(s-t),Math.abs(d)>f&&0!==n;)Math.abs(u)<f||Math.abs(r)<=Math.abs(n)?u=l=d:(p=n/r,e===s?(h=2*d*p,m=1-p):(h=p*(2*d*(m=r/c)*(m-(b=n/c))-(t-e)*(b-1)),m=(m-1)*(b-1)*(p-1)),h>0?m=-m:h=-h,p=u,u=l,2*h<3*d*m-Math.abs(f*m)&&h<Math.abs(.5*p*m)?l=h/m:u=l=d),e=t,r=n,Math.abs(l)>f?t+=l:d>0?t+=f:t-=f,(n=i.ag_horner1(o.p,o.deg,t))*(c/Math.abs(c))>0&&(v=!0);return t},ag_zeroin:function(e,t,r,n){var a,o;return a=i.ag_horner1(n.p,n.deg,e),Math.abs(a)<1.192092896e-7?e:(o=i.ag_horner1(n.p,n.deg,t),Math.abs(o)<1.192092896e-7?t:i.ag_zeroin2(e,t,a,o,r,n))},polyZeroes:function(e,t,r,n,a,o,s){var l,u,c,f,d,h,m,b,p,v,g,y,w,E,T,S=new Array(22),_=new Array(22),j=new Array(22),R={p:[],deg:0};for(m=v=0,b=0,l=0;l<t+1;++l)b+=Math.abs(e[l]);if(b<=(y=(Math.abs(r)+Math.abs(a))*(t+1)*1.192092896e-7))return-1;for(w=S,E=_,T=j,l=0;l<t+1;++l)w[l]=1/b*e[l];for(;Math.abs(w[t])<y;)t--;if(f=0,0===t)return f;if(1===t)return s[0]=-w[0]/w[1],u=n?r<s[0]+y:r<s[0]-y,c=o?a>s[0]-y:a>s[0]+y,(f=u&&c?1:0)&&(n&&s[0]<r?s[0]=r:o&&s[0]>a&&(s[0]=a)),f;for(R.p=w,R.deg=t,l=1;l<=t;l++)E[l-1]=l*w[l];if(0===(d=i.polyZeroes(E,t-1,r,0,a,0,T)).length)return 0;for(l=h=0;l<=d;l++){if(f>t)return f;0===l?(p=r,g=i.ag_horner1(w,t,p),Math.abs(g)<=y&&n&&(s[f++]=r)):(p=m,g=v),l===d?(m=a,h=0):m=T[l],v=i.ag_horner1(w,t,m),h?h=0:Math.abs(v)<y?(l!==d||o)&&(s[f++]=m,h=1):(g<0&&v>0||g>0&&v<0)&&(s[f++]=i.ag_zeroin(p,m,0,R),f>1&&s[f-2]>=s[f-1]-y&&(s[f-2]=.5*(s[f-2]+s[f-1]),f--))}return f}}},"./global/math/index.js":function(e,t,r){"use strict";r.r(t);var i=r("./global/math/num.js");r.d(t,"num",(function(){return i.num}));var n=r("./global/math/vec2.js");r.d(t,"vec2",(function(){return n.vec2}));var a=r("./global/math/vec3.js");r.d(t,"vec3",(function(){return a.vec3}));var o=r("./global/math/vec4.js");r.d(t,"vec4",(function(){return o.vec4}));var s=r("./global/math/quat.js");r.d(t,"quat",(function(){return s.quat}));var l=r("./global/math/mat3.js");r.d(t,"mat3",(function(){return l.mat3}));var u=r("./global/math/mat4.js");r.d(t,"mat4",(function(){return u.mat4}));var c=r("./global/math/noise.js");r.d(t,"noise",(function(){return c.noise}));var f=r("./global/math/curve.js");r.d(t,"curve",(function(){return f.curve}));var d=r("./global/math/box3.js");r.d(t,"box3",(function(){return d.box3}));var h=r("./global/math/tri3.js");r.d(t,"tri3",(function(){return h.tri3}));var m=r("./global/math/lne3.js");r.d(t,"lne3",(function(){return m.lne3}));var b=r("./global/math/pln.js");r.d(t,"pln",(function(){return b.pln}));var p=r("./global/math/ray3.js");r.d(t,"ray3",(function(){return p.ray3}));var v=r("./global/math/sph3.js");r.d(t,"sph3",(function(){return v.sph3}))},"./global/math/lne3.js":function(e,t,r){"use strict";r.r(t),r.d(t,"lne3",(function(){return s}));var i,n,a=r("./global/math/vec3.js"),o=r("./global/math/box3.js"),s={};s.$end=o.box3.$max,s.$start=o.box3.$min,s.clone=o.box3.clone,s.closestPointToPointParameter=function(e,t,r){i||(i=a.vec3.create(),n=a.vec3.create());var o=i,s=n;o[0]=t[0]-e[0],o[1]=t[1]-e[1],o[2]=t[2]-e[2],s[0]=e[3]-e[0],s[1]=e[4]-e[1],s[2]=e[5]-e[2];var l=s[0]*s[0]+s[1]*s[1]+s[2]*s[2],u=(s[0]*o[0]+s[1]*o[1]+s[2]*o[2])/l;return r&&(u=Math.max(0,Math.min(1,u))),u},s.copy=o.box3.copy,s.copyStart=a.vec3.copy,s.copyEnd=o.box3.copyMax,s.create=o.box3.create,s.equals=o.box3.equals,s.equalsStartEnd=o.box3.equalsBounds,s.exactEquals=o.box3.equals,s.exactEqualsStartEnd=o.box3.exactEqualsBounds,s.fromArray=o.box3.fromArray,s.fromStartEnd=o.box3.fromBounds,s.get=function(e,t,r){if(r<0||r>1)throw e[0]=0,e[1]=0,e[2]=0,new Error("Normalization error");return e[0]=(t[3]-t[0])*r+t[0],e[1]=(t[4]-t[1])*r+t[1],e[2]=(t[5]-t[2])*r+t[2],e},s.getCenter=function(e,t){return e[0]=.5*(t[0]+t[3]),e[1]=.5*(t[1]+t[4]),e[2]=.5*(t[2]+t[5]),e},s.getClosestPointToPoint=function(e,t,r,i){return s.get(e,t,s.closestPointToPointParameter(t,r,i))},s.getEnd=o.box3.getMax,s.getDelta=function(e,t){return e[0]=t[3]-t[0],e[1]=t[4]-t[1],e[2]=t[5]-t[2],e},s.getStart=o.box3.getMin,s.intersectsNormalConstant=function(e,t,r){var i=t[0]*e[0]+t[1]*e[1]+t[2]*e[2]+r,n=t[0]*e[3]+t[1]*e[4]+t[2]*e[5]+r;return i<0&&n>0||n<0&&i>0},s.length=function(e){var t=e[0]-e[3],r=e[1]-e[4],i=e[2]-e[5];return Math.sqrt(t*t+r*r+i*i)},s.set=o.box3.set,s.squaredLength=function(e){var t=e[0]-e[3],r=e[1]-e[4],i=e[2]-e[5];return t*t+r*r+i*i},s.toArray=o.box3.toArray,s.toStartEnd=o.box3.toBounds,s.transformMat4=function(e,t,r){var i=t[0],n=t[1],a=t[2],o=t[3],s=t[4],l=t[5];return e[0]=r[0]*i+r[4]*n+r[8]*a+r[12],e[1]=r[1]*i+r[5]*n+r[9]*a+r[13],e[2]=r[2]*i+r[6]*n+r[10]*a+r[14],e[3]=r[0]*o+r[4]*s+r[8]*l+r[12],e[4]=r[1]*o+r[5]*s+r[9]*l+r[13],e[5]=r[2]*o+r[6]*s+r[10]*l+r[14],e},s.translate=function(e,t,r){return e[0]=t[0]+r[0],e[1]=t[1]+r[1],e[2]=t[2]+r[2],e[3]=t[3]+r[0],e[4]=t[4]+r[1],e[5]=t[5]+r[2],e}},"./global/math/mat3.js":function(e,t,r){"use strict";r.r(t);var i=r("../node_modules/gl-matrix/lib/gl-matrix.js");r.d(t,"mat3",(function(){return i.mat3})),i.mat3.fromArray=function(e,t,r=0){return e[0]=t[r],e[1]=t[r+1],e[2]=t[r+2],e[3]=t[r+3],e[4]=t[r+4],e[5]=t[r+5],e[6]=t[r+6],e[7]=t[r+7],e[8]=t[r+8],e},i.mat3.setArray=function(e,t,r=0){return e[0]=t[r],e[1]=t[r+1],e[2]=t[r+2],e[3]=t[r+3],e[4]=t[r+4],e[5]=t[r+5],e[6]=t[r+6],e[7]=t[r+7],e[8]=t[r+8],e},i.mat3.toArray=function(e,t,r=0){return t[r]=e[0],t[r+1]=e[1],t[r+2]=e[2],t[r+3]=e[3],t[r+4]=e[4],t[r+5]=e[5],t[r+6]=e[6],t[r+7]=e[7],t[r+8]=e[8],e}},"./global/math/mat4.js":function(e,t,r){"use strict";r.r(t);var i,n=r("../node_modules/gl-matrix/lib/gl-matrix.js");r.d(t,"mat4",(function(){return n.mat4})),n.mat4.arcFromForward=function(e,t){i||(i=n.vec3.create());var r=n.vec3.normalize(i,t);if(n.mat4.identity(e),r[2]<-.99999)return e;if(r[2]>.99999)return e[5]=-1,e[10]=-1,e;var a=(1+r[2])/(r[0]*r[0]+r[1]*r[1]);return e[0]=a*r[1]*r[1]-r[2],e[1]=-a*r[0]*r[1],e[2]=r[0],e[4]=e[1],e[5]=a*r[0]*r[0]-r[2],e[6]=r[1],e[8]=-r[0],e[9]=-r[1],e[10]=-r[2],e},n.mat4.copyTranslation=function(e,t){return e[12]=t[12],e[13]=t[13],e[14]=t[14],e},n.mat4.fromMat3=function(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[4]=t[3],e[5]=t[4],e[6]=t[5],e[8]=t[6],e[9]=t[7],e[10]=t[8],e[3]=e[7]=e[11]=e[12]=e[13]=e[14]=0,e[15]=1,e},n.mat4.lookAtGL=function(){var e,t,r;return function(i,a,o,s){return e||(e=n.vec3.create(),t=n.vec3.create(),r=n.vec3.create()),n.vec3.subtract(r,a,o),0===n.vec3.squaredLength(r)&&(r[2]=1),n.vec3.normalize(r,r),n.vec3.cross(e,s,r),0===n.vec3.squaredLength(e)&&(r[2]+=1e-4,n.vec3.cross(e,s,r)),n.vec3.normalize(e,e),n.vec3.cross(t,r,e),i[0]=e[0],i[1]=e[1],i[2]=e[2],i[3]=0,i[4]=t[0],i[5]=t[1],i[6]=t[2],i[7]=0,i[8]=r[0],i[9]=r[1],i[10]=r[2],i[11]=0,i[12]=0,i[13]=0,i[14]=0,i[15]=1,i}}(),n.mat4.maxScaleOnAxis=function(e){var t=e[0],r=e[4],i=e[8],n=e[1],a=e[5],o=e[9],s=e[2],l=e[6],u=e[10],c=t*t+r*r+i*i,f=n*n+a*a+o*o,d=s*s+l*l+u*u;return Math.sqrt(Math.max(c,f,d))},n.mat4.perspectiveGL=function(e,t,r,i,a){var o=Math.tan(t/360*Math.PI)*i,s=o*r;return n.mat4.frustum(e,-s,s,-o,o,i,a),e},n.mat4.projectVec3=function(e,t,r){var i=r[0],n=r[1],a=r[2],o=t[0]*i+t[4]*n+t[8]*a+t[12],s=t[1]*i+t[5]*n+t[9]*a+t[13],l=t[2]*i+t[6]*n+t[10]*a+t[14],u=t[3]*i+t[7]*n+t[11]*a+t[15];return e[0]=(o/u+1)/2,e[1]=(s/u+1)/2,e[2]=(l/u+1)/2,e},n.mat4.setTranslation=function(e,t){return e[12]=t[0],e[13]=t[1],e[14]=t[2],e},n.mat4.setTranslationFromValues=function(e,t,r,i){return e[12]=t,e[13]=r,e[14]=i,e}},"./global/math/noise.js":function(e,t,r){"use strict";r.r(t),r.d(t,"noise",(function(){return d}));var i,n,a,o,s,l,u,c=r("./global/math/vec3.js"),f=r("./global/math/vec4.js"),d={};d.turbulence=(i=[],n=[],a=[],o=!1,function(e,t,r,s,l,u){o||function(){for(var e=0;e<256;e++)i[e]=f.vec4.fromValues(Math.random()-.5,Math.random()-.5,Math.random()-.5,Math.random()-.5),n[e]=e;for(var t=256;--t;){var r=n[t],s=Math.floor(256*Math.random());n[t]=n[s],n[s]=r}for(var l=0;l<256;l++)n[256+l]=n[l],i[256+l]=i[l],i[512+l]=i[l];for(var u=0;u<15;++u)a[u]=c.vec3.create();o=!0}(),t+=4096,r+=4096,s+=4096,l+=4096;var d=Math.floor(t),h=Math.floor(r),m=Math.floor(s),b=Math.floor(l),p=t-d,v=r-h,g=s-m,y=l-b,w=1+(d&=255),E=1+(h&=255),T=1+(m&=255),S=1+(b&=255),_=n[d],j=n[w],R=n[_+h],z=n[j+h],O=n[_+E],P=n[j+E],A=c.vec3.lerp(a[0],i[R+m+b],i[z+m+b],p),x=c.vec3.lerp(a[1],i[O+m+b],i[P+m+b],p),M=c.vec3.lerp(a[2],i[R+T+b],i[z+T+b],p),C=c.vec3.lerp(a[3],i[R+T+b],i[z+T+b],p),D=c.vec3.lerp(a[4],A,x,v),I=c.vec3.lerp(a[5],M,C,v),L=c.vec3.lerp(a[6],D,I,g);A=c.vec3.lerp(a[7],i[R+m+S],i[z+m+S],p),x=c.vec3.lerp(a[8],i[O+m+S],i[P+m+S],p),M=c.vec3.lerp(a[9],i[R+T+S],i[z+T+S],p),C=c.vec3.lerp(a[10],i[R+T+S],i[z+T+S],p),D=c.vec3.lerp(a[11],A,x,v),I=c.vec3.lerp(a[12],M,C,v);var F=c.vec3.lerp(a[13],D,I,g),G=c.vec3.lerp(a[14],L,F,y);return e[0]+=G[0]*u,e[1]+=G[1]*u,e[2]+=G[2]*u,e}),d.perlin1=(s=!1,l=null,u=null,function(e){s||function(){l=new Array(514),u=new Array(514);var e=0,t=0,r=0;for(e=0;e<256;e++)l[e]=e,u[e]=2*Math.random()-1;for(;--e;)r=l[e],l[e]=l[t=Math.floor(256*Math.random())],l[t]=r;for(e=0;e<258;e++)l[256+e]=l[e],u[256+e]=u[e];s=!0}();var t=e+4096,r=255&Math.floor(t),i=r+1&255,n=t-Math.floor(t),a=n-1,o=n*n*(3-2*n),c=n*u[l[r]];return c+o*(a*u[l[i]]-c)}),d.perlin1D=function(e,t,r,i){for(var n=0,a=e,o=1,s=0;s<i;++s)n+=d.perlin1(a)/o,o*=t,a*=r;return n}},"./global/math/num.js":function(e,t,r){"use strict";r.r(t),r.d(t,"num",(function(){return a}));var i,n,a={};a.EPSILON=1e-6,a.RAD2DEG=180/Math.PI,a.DEG2RAD=Math.PI/180,a.TWO_PI=2*Math.PI,a.PI=Math.PI,a.biCumulative=function(e,t){if(1===t){var r=1-e;return 1-r*r*r}return 2===t?3*e*e-2*e*e*e:e*e*e},a.ceil=Math.ceil,a.clamp=function(e,t,r){return Math.max(t,Math.min(r,e))},a.decimalPlaces=function(e){var t=(""+e).match(/(?:\.(\d+))?(?:[eE]([+-]?\d+))?$/);return t?Math.max(0,(t[1]?t[1].length:0)-(t[2]?+t[2]:0)):0},a.degrees=function(e){return e*a.RAD2DEG},a.degreesUnwrapped=function(e){return a.unwrapDegrees(e*a.RAD2DEG)},a.dwordToFloat=function(e){var t=(16711680&e)>>16,r=(4278190080&e)>>24,i=(r<<1&255|t>>7)-127,n=(127&t)<<16|(65280&e)>>8<<8|255&e;return 0===n&&-127===i?0:(1-2*(r>>7))*(1+n*Math.pow(2,-23))*Math.pow(2,i)},a.equals=function(e,t){return Math.abs(e-t)<=a.EPSILON*Math.max(1,Math.abs(e),Math.abs(t))},a.exactEquals=function(e,t){return e===t},a.exponentialDecay=function(e,t,r,i,n){return t*n/i+r*(e*i-t)/(i*i)*(1-Math.pow(Math.E,-i*n/r))},a.fract=function(e){return e-Math.floor(e)},a.fromHalfFloat=function(e){var t=(32768&e)>>15,r=(31744&e)>>10,i=1023&e;return 0===r?(t?-1:1)*Math.pow(2,-14)*(i/Math.pow(2,10)):31===r?i?NaN:1/0*(t?-1:1):(t?-1:1)*Math.pow(2,r-15)*(1+i/Math.pow(2,10))},a.floor=Math.floor,a.getLongWordOrder=function(e){return 0===e||255===e||-16777216===e?0:1+a.getLongWordOrder(e>>8)},a.greaterThan=function(e,t){return e>t?1:0},a.greaterThanEqual=function(e,t){return a.isEqual(e,t)||e>t?1:0},a.greaterThanExactEqual=function(e,t){return e>=t?1:0},a.isEven=function(e){return Math.abs(e)%2==0},a.isFloat=function(e){return e%1!=0},a.isFinite=Number.isFinite,a.isInt=function(e){return e%1==0},a.isNaN=Number.isNaN,a.isOdd=function(e){return Math.abs(e)%2==1},a.isPowerOfTwo=function(e){return 0==(e&e-1)&&0!==e},a.lessThan=function(e,t){return e<t?1:0},a.lessThanEqual=function(e,t){return a.isEqual(e,t)||e<t?1:0},a.lessThanExactEqual=function(e,t){return e<=t?1:0},a.log2=function(e){return Math.log(e)*Math.LOG2E},a.max=Math.max,a.min=Math.min,a.nearestPowerOfTwo=function(e){return Math.pow(2,Math.round(Math.log(e)/Math.LN2))},a.normalizeInt=function(e,t,r,i){var n=r-t,a=e-t,o=a-a/n*n+t;return void 0===i?o:Number(o.toFixed(i))},a.normalizeFloat=function(e,t,r,i){var n=r-t,a=e-t,o=a-Math.floor(a/n)*n+t;return void 0===i?o:Number(o.toFixed(i))},a.radians=function(e){return e*a.DEG2RAD},a.radiansUnwrapped=function(e){return a.unwrapRadians(e*=a.DEG2RAD)},a.randomInt=function(e,t){return e+Math.floor(Math.random()*(t-e+1))},a.randomFloat=function(e,t){return e+Math.random()*(t-e)},a.round=Math.round,a.roundToZero=function(e){return e<0?Math.ceil(e):Math.floor(e)},a.step=a.greaterThan,a.smoothStep=function(e,t,r){return e<=t?0:e>=r?1:(e=(e-t)/(r-t))*e*(3-2*e)},a.smootherStep=function(e,t,r){return e<=t?0:e>=r?1:(e=(e-t)/(r-t))*e*e*(e*(6*e-15)+10)},a.toHalfFloat=function(e){i||(i=new Float32Array(1),n=new Int32Array(i.buffer)),i[0]=e;var t=n[0],r=t>>16&32768,a=t>>12&2047,o=t>>23&255;return o<103?r:o>142?(r|=31744,r|=(255===o?0:1)&&8388607&t):o<113?r|=((a|=2048)>>114-o)+(a>>113-o&1):(r|=o-112<<10|a>>1,r+=1&a)},a.colorFromLinear=function(e){return Math.min(Math.floor(255*e),255)},a.linearFromColor=function(e){return e/255},a.hexFromLinear=function(e){return a.hexFromColor(a.colorFromLinear(e))},a.hexFromColor=function(e){return(256|e).toString(16).slice(1)},a.unwrapDegrees=function(e){return(e%=360)>180&&(e-=360),e<-180&&(e+=360),e},a.unwrapRadians=function(e){return(e%=a.TWO_PI)>a.PI&&(e-=a.TWO_PI),e<-a.PI&&(e+=a.TWO_PI),e}},"./global/math/pln.js":function(e,t,r){"use strict";r.r(t),r.d(t,"pln",(function(){return c}));var i,n,a=r("./global/math/num.js"),o=r("./global/math/vec3.js"),s=r("./global/math/vec4.js"),l=r("./global/math/mat3.js"),u=r("./global/math/box3.js"),c={};c.$normal=function(e){return e.subarray(0,3)},c.clone=s.vec4.clone,c.constant=function(e){return e[3]},c.copy=s.vec4.copy,c.create=s.vec4.create,c.distanceToPoint=function(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]+e[3]},c.distanceToPositionRadius=function(e,t,r){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]-r},c.distanceToSph3=function(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]-t[3]},c.distanceToValues=function(e,t,r,i){return e[0]*t+e[1]*r+e[2]*i+e[3]},c.equals=s.vec4.equals,c.equalsNormalConstant=function(e,t,r){var i=e[0],n=e[1],o=e[2],s=e[3],l=t[0],u=t[1],c=t[2],f=r;return Math.abs(i-l)<=a.num.EPSILON*Math.max(1,Math.abs(i),Math.abs(l))&&Math.abs(n-u)<=a.num.EPSILON*Math.max(1,Math.abs(n),Math.abs(u))&&Math.abs(o-c)<=a.num.EPSILON*Math.max(1,Math.abs(o),Math.abs(c))&&Math.abs(s-f)<=a.num.EPSILON*Math.max(1,Math.abs(s),Math.abs(f))},c.exactEquals=s.vec4.exactEquals,c.exactEqualsNormalConstant=function(e,t,r){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===r},c.extract=function(e,t){return t[0]=e[0],t[1]=e[1],t[2]=e[2],e[3]},c.fromNormalConstant=function(e,t,r){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=r,e},c.fromCoplanarPoints=function(e,t,r,i){var n=i[0]-r[0],a=i[1]-r[1],o=i[2]-r[2],s=t[0]-r[0],l=t[1]-r[1],u=t[2]-r[2],c=a*u-o*l,f=o*s-n*u,d=n*l-a*s,h=c*c+f*f+d*d;if(!(h>0))throw e[0]=0,e[1]=0,e[2]=0,new Error("Normalization error");return h=1/Math.sqrt(h),e[0]=c*h,e[1]=f*h,e[2]=d*h,e[3]=-(t[0]*e[0]+t[1]*e[1]+t[2]*e[2]),e},c.fromNormalAndCoplanarPoint=function(e,t,r){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=-(r[0]*t[0]+r[1]*t[1]+r[2]*t[2]),e},c.getCoplanarPoint=function(e,t){return e[0]=t[0]*-t[3],e[1]=t[1]*-t[3],e[2]=t[2]*-t[3],e},c.getIntersectLne3=function(e,t,r){var i=r[0],n=r[1],a=r[2],o=r[3],s=r[4],l=r[5];e[0]=0,e[1]=0,e[2]=0;var u=o-i,c=s-n,f=l-a,d=t[0]*u+t[1]*c+t[2]*f;if(0===d){if(t[0]*i+t[1]*n+t[2]*a+t[3]===0)return e[0]=i,e[1]=n,e[2]=a,e;throw new Error("Denominator error")}var h=(i*t[0]+n*t[1]+a*t[2]+t[3])/d;if(h<0||h>1)throw new Error("Normalization error");return e[0]=u*h+i,e[1]=c*h+n,e[2]=f*h+a,e},c.getIntersectStartEnd=function(e,t,r,n){return i||(i=u.box3.create()),u.box3.from(i,r,n),c.getIntersectLne3(e,t,i)},c.getNormal=function(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e},c.getOrthoPoint=function(e,t,r){var i=t[0]*r[0]+t[1]*r[1]+t[2]*r[2]+t[3];return o.vec3.multiplyScalar(e,t,i),e},c.getProjectedPoint=function(e,t,r){return c.getOrthoPoint(e,t,r),e[0]=-(e[0]-r[0]),e[1]=-(e[1]-r[1]),e[2]=-(e[2]-r[2]),e},c.intersectsBounds=function(){var e;return function(t,r,i){return e||(e=u.box3.create()),u.box3.from(e,r,i),u.box3.intersectsPln(e,t)}}(),c.intersectsBox3=function(e,t){return u.box3.intersectsPln(t,e)},c.intersectsLne3=function(e,t){var r=e[0]*t[0]+e[1]*t[1]+e[2]*t[2]+e[3],i=e[0]*t[3]+e[1]*t[4]+e[2]*t[5]+e[3];return r<0&&i>0||i<0&&r>0},c.intersectsPositionRadius=function(e,t,r){var i=t[0]*e[0]+t[1]*e[1]+t[2]*e[2];return Math.abs(i-e[3])<=r},c.intersectsSph3=function(e,t){var r=t[0]*e[0]+t[1]*e[1]+t[2]*e[2];return Math.abs(r-e[3])<=t[3]},c.intersectsStartEnd=function(e,t,r){var i=e[0]*t[0]+e[1]*t[1]+e[2]*t[2]+e[3],n=e[0]*r[0]+e[1]*r[1]+e[2]*r[2]+e[3];return i<0&&n>0||n<0&&i>0},c.negate=function(e,t){return e[0]=-t[0],e[1]=-t[1],e[2]=-t[2],e[3]=-1*t[3],e},c.normalize=function(e,t){var r=t[0],i=t[1],n=t[2],a=r*r+i*i+n*n;if(!(a>0))throw e[0]=0,e[1]=0,e[2]=0,new Error("Normalization error");return a=1/Math.sqrt(a),e[0]=t[0]*a,e[1]=t[1]*a,e[2]=t[2]*a,e[3]=t[3]*a,e},c.set=s.vec4.set,c.setArray=s.vec4.setArray,c.toArray=function(e,t,r=0){return t[r]=e[0],t[r+1]=e[1],t[r+2]=e[2],t[r+3]=e[3],e},c.transformMat4=function(e,t,r,i){i||n||(n=l.mat3.create()),i=i||l.mat3.normalFromMat4(n,r);var a=t[0]*-t[3],o=t[1]*-t[3],s=t[2]*-t[3],u=r[0]*a+r[4]*o+r[8]*s+r[12],c=r[1]*a+r[5]*o+r[9]*s+r[13],f=r[2]*a+r[6]*o+r[10]*s+r[14],d=t[0],h=t[1],m=t[2],b=d*i[0]+h*i[3]+m*i[6],p=d*i[1]+h*i[4]+m*i[7],v=d*i[2]+h*i[5]+m*i[8],g=b*b+p*p+v*v;if(!(g>0))throw e[0]=0,e[1]=0,e[2]=0,new Error("Normalization error");return g=1/Math.sqrt(g),e[0]=b*g,e[1]=p*g,e[2]=v*g,e[3]=-(u*e[0]+c*e[1]+f*e[2]),e},c.translate=function(e,t,r){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3]-(r[0]*t[0]+r[1]*t[1]+r[2]*t[2]),e}},"./global/math/quat.js":function(e,t,r){"use strict";r.r(t);var i=r("../node_modules/gl-matrix/lib/gl-matrix.js");r.d(t,"quat",(function(){return i.quat})),i.quat.exp=function(e,t){var r=Math.sqrt(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);return r?(e[0]=Math.sin(r)*t[0]/r,e[1]=Math.sin(r)*t[1]/r,e[2]=Math.sin(r)*t[2]/r,e[3]=Math.cos(r)):(e[0]=0,e[1]=0,e[2]=0,e[3]=1),e},i.quat.ln=function(e,t){var r=i.quat.length(t);if(r>1.0001||r<.99999)e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=0;else if(r=Math.sqrt(t[0]*t[0]+t[1]*t[1]+t[2]*t[2])){var n=Math.atan2(r,t[3])/r;e[0]=n*t[0],e[1]=n*t[1],e[2]=n*t[2],e[3]=0}else e[0]=0,e[1]=0,e[2]=0,e[3]=0;return e},i.quat.pow=function(e,t,r){return 1===r?i.quat.copy(e,t):(i.quat.ln(e,t),e[0]*=r,e[1]*=r,e[2]*=r,e[3]*=r,i.quat.exp(e,e),e)}},"./global/math/ray3.js":function(e,t,r){"use strict";r.r(t),r.d(t,"ray3",(function(){return c}));var i,n,a,o=r("./global/math/vec3.js"),s=(r("./global/math/mat4.js"),r("./global/math/pln.js"),r("./global/math/sph3.js")),l=r("./global/math/box3.js"),u=r("./global/math/tri3.js"),c={};c.$origin=l.box3.$min,c.$direction=l.box3.$max,c.clone=l.box3.clone,c.copy=l.box3.copy,c.copyOrigin=l.box3.copyMin,c.copyDirection=l.box3.copyMax,c.create=l.box3.create,c.distance=function(e,t){return Math.sqrt(c.squaredDistance(e,t))},c.distanceNormalConstant=function(e,t,r){var i=t[0]*e[3]+t[1]*e[4]+t[2]*e[5],n=e[0]*t[0]+e[1]*t[1]+e[2]*t[2]+r;if(0===i){if(0===n)return 0;throw new Error("Determinant error")}var a=-n/i;return a>=0?a:null},c.distancePln=function(e,t){var r=t[0]*e[3]+t[1]*e[4]+t[2]*e[5],i=e[0]*t[0]+e[1]*t[1]+e[2]*t[2]+t[3];if(0===r){if(0===i)return 0;throw new Error("Determinant error")}var n=-i/r;return n>=0?n:null},c.equals=l.box3.equals,c.equalsOriginDestination=l.box3.equalsBounds,c.exactEquals=l.box3.exactEquals,c.exactEqualsOriginDestination=l.box3.exactEqualsBounds,c.from=l.box3.from,c.fromArray=l.box3.fromArray,c.fromStartEnd=function(e,t,r){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=r[0]-t[0],e[4]=r[1]-t[1],e[5]=r[2]-t[2],c.normalize(e,e)},c.fromPerspective=function(e,t,r,i){var n=2*(t[0]-i[0])/i[2]-1,a=2*(t[1]-i[1])/i[3]-1,o=r[3]*n+r[7]*a+-1*r[11]+r[15],s=r[3]*n+r[7]*a+1*r[11]+r[15];if(0===o||0===s)throw new Error("Perspective Divide Error");return e[0]=(r[0]*n+r[4]*a+-1*r[8]+r[12])/o,e[1]=(r[1]*n+r[5]*a+-1*r[9]+r[13])/o,e[2]=(r[2]*n+r[6]*a+-1*r[10]+r[14])/o,e[3]=(r[0]*n+r[4]*a+1*r[8]+r[12])/s-e[0],e[4]=(r[1]*n+r[5]*a+1*r[9]+r[13])/s-e[1],e[5]=(r[2]*n+r[6]*a+1*r[10]+r[14])/s-e[2],c.normalize(e,e)},c.unproject=function(e,t,r,i){var n=[t[0],t[1],0],a=[t[0],t[1],1];o.vec3.unproject(n,n,r,i),o.vec3.unproject(a,a,r,i),c.fromStartEnd(e,n,a)},c.get=function(e,t,r){return e[0]=t[0]+t[3]*r,e[1]=t[1]+t[4]*r,e[2]=t[2]+t[5]*r,e},c.getDirection=l.box3.getMax,c.getClosestPointToPoint=function(e,t,r){var i=r[0]-t[0],n=r[1]-t[1],a=r[2]-t[2],o=i*t[3]+n*t[4]+a*t[5];return o<0?(e[0]=t[0],e[1]=t[1],e[2]=t[2]):c.get(e,t,o),e},c.getIntersectBounds=function(e,t,r,i){var n,a,o,s,l,u,f=1/t[3],d=1/t[4],h=1/t[5];return f>=0?(n=(r[0]-t[0])*f,a=(i[0]-t[0])*f):(n=(i[0]-t[0])*f,a=(r[0]-t[0])*f),d>=0?(o=(r[1]-t[1])*d,s=(i[1]-t[1])*d):(o=(i[1]-t[1])*d,s=(r[1]-t[1])*d),n>s||o>a?null:((o>n||n!=n)&&(n=o),(s<a||a!=a)&&(a=s),h>=0?(l=(r[2]-t[2])*h,u=(i[2]-t[2])*h):(l=(i[2]-t[2])*h,u=(r[2]-t[2])*h),n>u||l>a?null:((l>n||n!=n)&&(n=l),(u<a||a!=a)&&(a=u),a<0?null:c.get(e,t,n>=0?n:a)))},c.getIntersectBox3=function(e,t,r){return i||(i=o.vec3.create(),n=o.vec3.create()),l.box3.getMin(i,r),l.box3.getMax(n,r),c.getIntersectBounds(e,t,i,n)},c.getIntersectTri3=function(){var e,t,r;return function(i,n,a,s){return e||(e=o.vec3.create(),t=o.vec3.create(),r=o.vec3.create()),u.tri3.getV1(e,a),u.tri3.getV2(t,a),u.tri3.getV3(r,a),c.getIntersectVertices(i,n,e,t,r,s)}}(),c.getIntersectVertices=function(){var e,t,r,i,n,a;return function(s,l,u,f,d,h){e||(e=o.vec3.create(),t=o.vec3.create(),r=o.vec3.create(),i=o.vec3.create(),n=o.vec3.create(),a=o.vec3.create());var m,b=c.getOrigin(n,l),p=c.getDirection(a,l),v=o.vec3.subtract(e,b,u),g=o.vec3.subtract(t,f,u),y=o.vec3.subtract(r,d,u),w=o.vec3.cross(i,g,y),E=o.vec3.dot(p,w);if(E>0){if(h)return null;m=1}else{if(!(E<0))return null;m=-1,E=-E}o.vec3.cross(y,v,y);var T=m*o.vec3.dot(p,y);if(T<0)return null;o.vec3.cross(g,g,v);var S=m*o.vec3.dot(p,g);if(S<0)return null;if(T+S>E)return null;var _=-m*o.vec3.dot(v,w);return _<0?null:c.get(s,l,_/E)}}(),c.getIntersectNormalConstant=function(e,t,r,i){var n=c.distanceNormalConstant(t,r,i);return null!==n?c.get(e,t,n):null},c.getIntersectPln=function(e,t,r){var i=c.distancePln(t,r);return null!==i?c.get(e,t,i):null},c.getIntersectPositionRadius=function(e,t,r,i){return a||(a=s.sph3.create()),s.sph3.from(a,r,i),c.getIntersectSph3(e,t,a)},c.getIntersectSph3=function(e,t,r){var i=r[0]-t[0],n=r[1]-t[1],a=r[2]-t[2],o=r[3]*r[3],s=i*t[3]+n*t[4]+a*t[5],l=i*i+n*n+a*a-s*s;if(l>o)return null;var u=Math.sqrt(o-l),f=s-u,d=s+u;return f<0&&d<0?null:f<0?c.get(e,t,d):c.get(e,t,f)},c.getOrigin=l.box3.getMin,c.intersectsBox3=function(){var e;return function(t,r){return e||(e=o.vec3.create()),c.vec3_0=null!==c.getIntersectBox3(e,t,r)}}(),c.intersectsBounds=function(){var e;return function(t,r,i){return e||(e=o.vec3.create()),null!==c.getIntersectBounds(e,t,r,i)}}(),c.intersectsNormalConstant=function(e,t,r){var i=e[0]*t[0]+e[1]*t[1]+e[2]*t[2]+r;return 0===i||(t[0]*e[3]+t[1]*e[4]+t[2]*e[5])*i<0},c.intersectsPln=function(e,t){var r=e[0]*t[0]+e[1]*t[1]+e[2]*t[2]+t[3];return 0===r||(t[0]*e[3]+t[1]*e[4]+t[2]*e[5])*r<0},c.intersectsPositionRadius=function(e,t,r){return c.distance(e,t)<=r},c.intersectsSph3=function(e,t){return c.distance(e,t)<=t[3]},c.lookAt=function(e,t,r){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=r[0]-t[0],e[4]=r[1]-t[1],e[5]=r[2]-t[2],c.normalize(e,e)},c.normalize=function(e,t){e[0]=t[0],e[1]=t[1],e[2]=t[2];var r=t[3],i=t[4],n=t[5],a=r*r+i*i+n*n;if(!(a>0))throw e[1]=0,e[2]=0,e[3]=0,new Error("Normalization error");return a=1/Math.sqrt(a),e[3]=r*a,e[4]=i*a,e[5]=n*a,e},c.recast=function(e,t,r){return e[0]=t[0]+t[3]*r,e[1]=t[1]+t[4]*r,e[2]=t[2]+t[5]*r,e[3]=t[3],e[4]=t[4],e[5]=t[5],e},c.set=l.box3.set,c.SORT=function(e,t){return e.distance-t.distance},c.squaredDistance=function(){var e,t;return function(r,i){e||(e=o.vec3.create(),t=o.vec3.create()),e[0]=i[0]-r[0],e[1]=i[1]-r[1],e[2]=i[2]-r[2];var n=e[0]*r[3]+e[1]*r[4]+e[2]*r[5];return n<0?(c.getOrigin(t,r),o.vec3.squaredDistance(t,i)):(c.get(e,r,n),o.vec3.squaredDistance(e,i))}}(),c.toArray=l.box3.toArray,c.toOriginDirection=function(e,t,r){return t[0]=e[0],t[1]=e[1],t[2]=e[2],r[0]=e[3],r[1]=e[4],r[2]=e[5],e},c.transformMat4=function(e,t,r){var i=t[0],n=t[1],a=t[2],o=t[3]+t[0],s=t[4]+t[1],l=t[5]+t[2],u=r[3]*i+r[7]*n+r[11]*a+r[15]||1,f=r[3]*o+r[7]*s+r[11]*l+r[15]||1;return e[0]=(r[0]*i+r[4]*n+r[8]*a+r[12])/u,e[1]=(r[1]*i+r[5]*n+r[9]*a+r[13])/u,e[2]=(r[2]*i+r[6]*n+r[10]*a+r[14])/u,e[3]=(r[0]*o+r[4]*s+r[8]*l+r[12])/f-e[0],e[4]=(r[1]*o+r[5]*s+r[9]*l+r[13])/f-e[1],e[5]=(r[2]*o+r[6]*s+r[10]*l+r[14])/f-e[2],c.normalize(e,e)},c.translate=function(e,t,r){return e[0]=t[0]+r[0],e[1]=t[1]+r[1],e[2]=t[2]+r[2],e}},"./global/math/sph3.js":function(e,t,r){"use strict";r.r(t),r.d(t,"sph3",(function(){return d}));var i,n,a,o,s=r("./global/math/vec3.js"),l=r("./global/math/vec4.js"),u=r("./global/math/mat4.js"),c=r("./global/math/pln.js"),f=r("./global/math/box3.js"),d={},h=null;d.$position=c.pln.$normal,d.clone=l.vec4.clone,d.containsPoint=function(e,t){var r=t[0]-e[0],i=t[1]-e[1],n=t[2]-e[2];return r*r+i*i+n*n<=e[3]*e[3]},d.copy=l.vec4.copy,d.create=l.vec4.create,d.distance=function(e,t){var r=t[0]-e[0],i=t[1]-e[1],n=t[2]-e[2],a=t[3]+e[3];return Math.sqrt(r*r+i*i+n*n)-a},d.distanceToPoint=function(e,t){var r=t[0]-e[0],i=t[1]-e[1],n=t[2]-e[2];return Math.sqrt(r*r+i*i+n*n)-e[3]},d.empty=function(e){return e[0]=0,e[1]=0,e[2]=0,e[3]=0,e},d.equals=l.vec4.equals,d.equalsPositionRadius=c.pln.equalsNormalConstant,d.exactEquals=l.vec4.exactEquals,d.exactEqualsPositionRadius=c.pln.exactEqualsNormalConstant,d.extract=c.pln.extract,d.fromBox3=function(e,t){var r=t[3]-t[0],i=t[4]-t[1],n=t[5]-t[2];return e[0]=.5*(t[0]+t[3]),e[1]=.5*(t[1]+t[4]),e[2]=.5*(t[2]+t[5]),e[3]=.5*Math.sqrt(r*r+i*i+n*n),e},d.fromBounds=function(e,t,r){var i=r[0]-t[0],n=r[1]-t[1],a=r[2]-t[2];return e[0]=.5*(t[0]+r[0]),e[1]=.5*(t[1]+r[1]),e[2]=.5*(t[2]+r[2]),e[3]=.5*Math.sqrt(i*i+n*n+a*a),e},d.fromPositionRadius=c.pln.fromNormalConstant,d.fromTranslationRadius=function(e,t,r){return e[0]=t[12],e[1]=t[13],e[2]=t[14],e[3]=r,e},d.fromMat4=function(e,t){return e[0]=t[12],e[1]=t[13],e[2]=t[14],e[3]=u.mat4.maxScaleOnAxis(t),e},d.union=function(e,t,r){i||(i=s.vec3.create(),n=s.vec3.create(),s.vec3.create(),a=s.vec3.create());var l=d.extract(t,i),u=d.extract(r,n);s.vec3.subtract(a,n,i);var c=s.vec3.length(a);if(l>=c+u)return e===t?e:d.copy(e,t);if(u>=c+l)return e===r?e:d.clone(e,r);o||(o=s.vec3.create());var f=.5*(l+c+u);return s.vec3.scale(o,a,(-l+f)/c),s.vec3.add(o,i,o),d.fromPositionRadius(e,o,f)},d.unionPositionRadius=function(e,t,r,i){return d.union(e,t,d.fromPositionRadius(null,r,i))},d.getClampedPoint=function(e,t,r){e[0]=r[0],e[1]=r[1],e[2]=r[2];var i=t[0]-r[0],n=t[1]-r[1],a=t[2]-r[2];return i*i+n*n+a*a>t[3]*t[3]&&(e[0]=e[0]-t[0],e[1]=e[1]-t[1],e[2]=e[2]-t[2],s.vec3.normalize(e,e),e[0]=e[0]*t[3]+t[0],e[1]=e[1]*t[3]+t[1],e[2]=e[2]*t[3]+t[2]),e},d.getPointFromLongLat=function(e,t,r,i){return e[0]=t[0]+t[3]*Math.sin(i)*Math.cos(r),e[1]=t[1]+t[3]*Math.sin(i)*Math.sin(r),e[2]=t[2]+t[3]*Math.cos(i),e},d.getPosition=c.pln.getNormal,d.intersectsSph3=function(e,t){var r=t[0]-e[0],i=t[1]-e[1],n=t[2]-e[2],a=e[3]+t[3];return r*r+i*i+n*n<=a*a},d.intersectsBox3=function(e,t){return f.box3.intersectsSph3(t,e)},d.intersectsBounds=function(e,t,r){var i=Math.max(t[0],Math.min(r[0],e[0]))-e[0],n=Math.max(t[1],Math.min(r[1],e[1]))-e[1],a=Math.max(t[2],Math.min(r[2],e[2]))-e[2];return i*i+n*n+a*a<=e[3]*e[3]},d.intersectsPositionRadius=function(e,t,r){var i=t[0]-e[0],n=t[1]-e[1],a=t[2]-e[2],o=e[3]+r;return i*i+n*n+a*a<=o*o},d.intersectsPln=function(e,t){return c.pln.intersectsSph3(t,e)},d.intersectsNormalConstant=function(e,t,r){var i=e[0]*t[0]+e[1]*t[1]+e[2]*t[2];return Math.abs(i-r)<=e[3]},d.isEmpty=function(e){return e[3]<=0},d.radius=c.pln.constant,d.set=l.vec4.set,d.setArray=l.vec4.setArray,d.setPoints=function(e,t,r){h||(h=f.box3.create()),r?(e[0]=r[0],e[1]=r[1],e[2]=r[2]):(f.box3.setPoints(h,t),e[0]=.5*(h[0]+h[3]),e[1]=.5*(h[1]+h[4]),e[2]=.5*(h[2]+h[5]));for(var i=0,n=0;n<t.length;n++){var a=e[0]-t[n][0],o=e[1]-t[n][1],s=e[2]-t[n][2];i=Math.max(i,a*a+o*o+s*s)}return e[3]=Math.sqrt(i),e},d.squaredDistance=function(e,t){var r=t[0]-e[0],i=t[1]-e[1],n=t[2]-e[2],a=t[3]+e[3];return r*r+i*i+n*n-a*a},d.squaredDistanceToPoint=function(e,t){var r=t[0]-e[0],i=t[1]-e[1],n=t[2]-e[2];return r*r+i*i+n*n-e[3]},d.toArray=l.vec4.toArray,d.toBounds=function(e,t,r){h||(h=f.box3.create()),f.box3.fromSph3(h,e),f.box3.toBounds(h,t,r)},d.toPositionRadius=function(e,t){return t[0]=e[0],t[1]=e[1],t[2]=e[2],e[3]},d.transformMat4=function(e,t,r){var i=t[0],n=t[1],a=t[2],o=r[0]*r[0]+r[1]*r[1]+r[2]*r[2],s=r[4]*r[4]+r[5]*r[5]+r[6]*r[6],l=r[8]*r[8]+r[9]*r[9]+r[10]*r[10];return e[0]=r[0]*i+r[4]*n+r[8]*a+r[12],e[1]=r[1]*i+r[5]*n+r[9]*a+r[13],e[2]=r[2]*i+r[6]*n+r[10]*a+r[14],e[3]=t[3]*Math.sqrt(Math.max(o,s,l)),e},d.translate=function(e,t,r){return e[0]=t[0]+r[0],e[1]=t[1]+r[1],e[2]=t[2]+r[2],e}},"./global/math/tri3.js":function(e,t,r){"use strict";r.r(t),r.d(t,"tri3",(function(){return f}));var i,n,a,o,s=r("./global/math/vec3.js"),l=r("./global/math/mat3.js"),u=r("./global/math/pln.js"),c=r("./global/math/lne3.js"),f={};f.$v1=c.lne3.$start,f.$v2=c.lne3.$end,f.$v3=function(e){return e.subarray(6,9)},f.area=function(e){var t=e[7]-e[3],r=e[8]-e[4],i=e[9]-e[5],n=e[0]-e[3],a=e[1]-e[4],o=e[2]-e[5],s=t*o-i*a,l=i*n-t*o,u=t*a-r*n;return.5*Math.sqrt(s*s+l*l+u*u)},f.create=function(){var e=new Float32Array(9);return e[0]=0,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=0,e[6]=0,e[7]=0,e[8]=0,e},f.clone=l.mat3.clone,f.contains=function(e,t){return i||(i=s.vec3.create()),f.getBaryCentricCoordinates(i,e,t),i[0]>=0&&i[1]>=0&&i[0]+i[1]<=1},f.copy=l.mat3.copy,f.fromVertices=function(e,t,r,i){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=r[0],e[4]=r[1],e[5]=r[2],e[6]=i[0],e[7]=i[1],e[8]=i[2],e},f.fromArray=l.mat3.fromArray,f.getBaryCentricCoordinates=function(e,t,r){var i=t[7]-t[0],n=t[8]-t[1],a=t[9]-t[2],o=t[3]-t[0],s=t[4]-t[1],l=t[5]-t[2],u=r[0]-t[0],c=r[1]-t[1],f=r[2]-t[2],d=i[0]*i[0]+n[1]*n[1]+a[2]*a[2],h=i[0]*o[0]+n[1]*s[1]+a[2]*l[2],m=i[0]*u[0]+n[1]*c[1]+a[2]*f[2],b=o[0]*o[0]+s[1]*s[1]+l[2]*l[2],p=o[0]*u[0]+s[1]*c[1]+l[2]*f[2],v=d*b-h*h;if(0===v)throw e[0]=-2,e[1]=-1,e[2]=-1,new Error("Denominator error");var g=1/v,y=(b*m-h*p)*g,w=(d*p-h*m)*g;return e[0]=1-y-w,e[1]=w,e[2]=y,e},f.getClosestEdgeToPoint=function(e,t,r){n||(n=s.vec3.create(),a=s.vec3.create(),o=[c.lne3.create(),c.lne3.create(),c.lne3.create()]);var i=f.getClosestPointToPoint(n,t,r);c.lne3.set(o[0],t[0],t[1],t[2],t[3],t[4],t[5]),c.lne3.set(o[1],t[3],t[4],t[5],t[6],t[7],t[8]),c.lne3.set(o[2],t[6],t[7],t[8],t[0],t[1],t[2]);for(var l=1/0,u=0;u<o.length;u++){var d=c.lne3.getClosestPointToPoint(a,o[u],i,!0),h=s.vec3.squaredDistance(d,i);h<l&&(l=h,e[0]=o[u][0],e[1]=o[u][1],e[2]=o[u][2],e[3]=o[u][3],e[4]=o[u][4],e[5]=o[u][5])}return e},f.getClosestPointToPoint=function(){var e,t,r,i,n,a,o;return function(l,d,h){if(e||(e=u.pln.create(),t=[c.lne3.create(),c.lne3.create(),c.lne3.create()],r=s.vec3.create(),i=s.vec3.create(),n=s.vec3.create(),a=s.vec3.create(),o=s.vec3.create()),f.getV1(n,d),f.getV2(a,d),f.getV3(o,d),u.pln.fromCoplanarPoints(e,n,a,o),u.pln.getProjectedPoint(r,e,h),!0===f.contains(d,r))l[0]=r[0],l[1]=r[1],l[2]=r[2];else{c.lne3.set(t[0],d[0],d[1],d[2],d[3],d[4],d[5]),c.lne3.set(t[1],d[3],d[4],d[5],d[6],d[7],d[8]),c.lne3.set(t[2],d[6],d[7],d[8],d[0],d[1],d[2]);for(var m=1/0,b=0;b<t.length;b++){c.lne3.getClosestPointToPoint(i,t[b],r,!0);var p=s.vec3.squaredDistance(r,i);p<m&&(m=p,l[0]=i[0],l[1]=i[1],l[2]=i[2])}}return l}}(),f.getClosestVertexToPoint=function(){var e,t,r;return function(i,n,a){e||(e=s.vec3.create(),t=s.vec3.create(),r=s.vec3.create()),f.getClosestPointToPoint(i,n,a);for(var o,l,u,c,d=1/0,h=[f.getV1(e,n),f.getV2(t,n),f.getV3(r,n)],m=0;m<h.length;m++)(o=s.vec3.squaredDistance(h[m],i))<d&&(d=o,l=h[m][0],u=h[m][1],c=h[m][2]);return i[0]=l,i[1]=u,i[2]=c,i}}(),f.getMidpoint=function(e,t){return e[0]=(t[0]+t[3]+t[6])*(1/3),e[1]=(t[1]+t[4]+t[7])*(1/3),e[2]=(t[2]+t[5]+t[8])*(1/3),e},f.getNormal=function(e,t){var r=t[7]-t[3],i=t[8]-t[4],n=t[9]-t[5],a=t[0]-t[3],o=t[1]-t[4],s=t[2]-t[5],l=i*s-n*o,u=n*a-r*s,c=r*o-i*a,f=l*l+u*u+c*c;if(!(f>0))throw e[0]=0,e[1]=0,e[2]=0,new Error("Normalization error");return f=1/Math.sqrt(f),e[0]=l*f,e[1]=u*f,e[2]=c*f,e},f.getV1=c.lne3.getStart,f.getV2=c.lne3.getEnd,f.getV3=function(e,t){return e[0]=t[6],e[1]=t[7],e[2]=t[8],e},f.toArray=l.mat3.toArray,f.toVertices=function(e,t,r,i){return t[0]=e[0],t[1]=e[1],t[2]=e[2],r[0]=e[0],r[1]=e[1],r[2]=e[2],i[0]=e[0],i[1]=e[1],i[2]=e[2],e}},"./global/math/vec2.js":function(e,t,r){"use strict";r.r(t);var i=r("../node_modules/gl-matrix/lib/gl-matrix.js");r.d(t,"vec2",(function(){return i.vec2})),i.vec2.addScalar=function(e,t,r){return e[0]=t[0]+r,e[1]=t[1]+r,e},i.vec2.isEmpty=function(e){return 0===e[0]&&0===e[1]},i.vec2.divideScalar=function(e,t,r){return i.vec2.multiplyScalar(e,t,1/r)},i.vec2.multiplyScalar=function(e,t,r){return e[0]=t[0]*r,e[1]=t[1]*r,e},i.vec2.setScalar=function(e,t){return e[0]=t,e[1]=t,e},i.vec2.subtractScalar=function(e,t,r){return e[0]=t[0]-r,e[1]=t[1]-r,e}},"./global/math/vec3.js":function(e,t,r){"use strict";r.r(t);var i=r("../node_modules/gl-matrix/lib/gl-matrix.js");r.d(t,"vec3",(function(){return i.vec3}));var n,a,o,s=r("./global/math/num.js");i.vec3.X_AXIS=i.vec3.fromValues(1,0,0),i.vec3.Y_AXIS=i.vec3.fromValues(0,1,0),i.vec3.Z_AXIS=i.vec3.fromValues(0,0,1),i.vec3.addScalar=function(e,t,r){return e[0]=t[0]+r,e[1]=t[1]+r,e[2]=t[2]+r,e},i.vec3.degrees=function(e,t){return e[0]=t[0]*s.num.RAD2DEG,e[1]=t[1]*s.num.RAD2DEG,e[2]=t[2]*s.num.RAD2DEG,e},i.vec3.degreesUnwrapped=function(e,t){return e[0]=s.num.unwrapDegrees(t[0]*s.num.RAD2DEG),e[1]=s.num.unwrapDegrees(t[1]*s.num.RAD2DEG),e[2]=s.num.unwrapDegrees(t[2]*s.num.RAD2DEG),e},i.vec3.direction=function(e,t,r){return i.vec3.subtract(e,t,r),i.vec3.normalize(e,e),e},i.vec3.directionFromQuat=function(e,t,r){return i.vec3.transformQuat(e,t,r)},i.vec3.directionFromMat4=function(e,t,r){return n||(n=i.quat.create()),i.mat4.getRotation(n,r),i.vec3.transformQuat(e,t,n)},i.vec3.divideScalar=function(e,t,r){return i.vec3.multiplyScalar(e,t,1/r)},i.vec3.euler={},i.vec3.euler.DEFAULT_ORDER="XYZ",i.vec3.euler.fromQuat=function(e,t,r=i.vec3.euler.DEFAULT_ORDER){return a||(a=i.mat4.create()),i.mat4.fromQuat(a,t),i.vec3.euler.fromMat4(e,a,r)},i.vec3.euler.fromMat4=function(e,t,r=i.vec3.euler.DEFAULT_ORDER){var n=t[0],a=t[4],o=t[8],l=t[1],u=t[5],c=t[9],f=t[2],d=t[6],h=t[10],m=s.num.clamp;if("XYZ"===r)e[1]=Math.asin(m(o,-1,1)),Math.abs(o)<.99999?(e[0]=Math.atan2(-c,h),e[2]=Math.atan2(-a,n)):(e[0]=Math.atan2(d,u),e[2]=0);else if("YXZ"===r)e[0]=Math.asin(-m(c,-1,1)),Math.abs(c)<.99999?(e[1]=Math.atan2(o,h),e[2]=Math.atan2(l,u)):(e[1]=Math.atan2(-f,n),e[2]=0);else if("ZXY"===r)e[0]=Math.asin(m(d,-1,1)),Math.abs(d)<.99999?(e[1]=Math.atan2(-f,h),e[2]=Math.atan2(-a,u)):(e[1]=0,e[2]=Math.atan2(l,n));else if("ZYX"===r)e[1]=Math.asin(-m(f,-1,1)),Math.abs(f)<.99999?(e[0]=Math.atan2(d,h),e[2]=Math.atan2(l,n)):(e[0]=0,e[2]=Math.atan2(-a,u));else if("YZX"===r)e[2]=Math.asin(m(l,-1,1)),Math.abs(l)<.99999?(e[0]=Math.atan2(-c,u),e[1]=Math.atan2(-f,n)):(e[0]=0,e[1]=Math.atan2(o,h));else{if("XZY"!==r)throw e[0]=0,e[1]=0,e[2]=0,new Error("Unrecognised euler order: "+r);e[2]=Math.asin(-m(a,-1,1)),Math.abs(a)<.99999?(e[0]=Math.atan2(d,u),e[1]=Math.atan2(o,n)):(e[0]=Math.atan2(-c,h),e[1]=0)}return i.vec3.unwrapRadians(e,e)},i.vec3.euler.getQuat=function(e,t,r=i.vec3.euler.DEFAULT_ORDER){var n=s.num.unwrapRadians(t[0]),a=s.num.unwrapRadians(t[1]),o=s.num.unwrapRadians(t[2]),l=Math.cos(n/2),u=Math.cos(a/2),c=Math.cos(o/2),f=Math.sin(n/2),d=Math.sin(a/2),h=Math.sin(o/2);if("XYZ"===r)e[0]=f*u*c+l*d*h,e[1]=l*d*c-f*u*h,e[2]=l*u*h+f*d*c,e[3]=l*u*c-f*d*h;else if("YXZ"===r)e[0]=f*u*c+l*d*h,e[1]=l*d*c-f*u*h,e[2]=l*u*h-f*d*c,e[3]=l*u*c+f*d*h;else if("ZXY"===r)e[0]=f*u*c-l*d*h,e[1]=l*d*c+f*u*h,e[2]=l*u*h+f*d*c,e[3]=l*u*c-f*d*h;else if("ZYX"===r)e[0]=f*u*c-l*d*h,e[1]=l*d*c+f*u*h,e[2]=l*u*h-f*d*c,e[3]=l*u*c+f*d*h;else if("YZX"===r)e[0]=f*u*c+l*d*h,e[1]=l*d*c+f*u*h,e[2]=l*u*h-f*d*c,e[3]=l*u*c-f*d*h;else{if("XZY"!==r)throw e[0]=0,e[1]=0,e[2]=0,e[3]=1,new Error("Unrecognised euler order: "+r);e[0]=f*u*c-l*d*h,e[1]=l*d*c-f*u*h,e[2]=l*u*h+f*d*c,e[3]=l*u*c+f*d*h}return e},i.vec3.exponentialDecay=function(e,t,r,i,n,a){return e[0]=s.num.exponentialDecay(t[0],r[0],i,n,a),e[1]=s.num.exponentialDecay(t[1],r[1],i,n,a),e[2]=s.num.exponentialDecay(t[2],r[2],i,n,a),e},i.vec3.fromSpherical=function(e,t,r){var i=t[0],n=t[1],a=t[2];return e[0]=a*Math.sin(i)*Math.sin(n),e[1]=a*Math.cos(n),e[2]=a*Math.cos(i)*Math.sin(n),r&&(e[0]+=r[0],e[1]+=r[1],e[2]+=r[2]),e},i.vec3.getSpherical=function(e,t){var r=0,n=0,a=i.vec3.length(t);return 0!==a&&(r=Math.acos(Math.max(t[1]/a,Math.min(-1,1))),n=Math.atan2(t[0],t[2])),e[0]=r,e[1]=n,e[2]=a,e},i.vec3.isEmpty=function(e){return 0===e[0]&&0===e[1]&&0===e[2]},i.vec3.multiplyScalar=function(e,t,r){return e[0]=t[0]*r,e[1]=t[1]*r,e[2]=t[2]*r,e},i.vec3.polarToCartesian=function(e,t,r,i){return e[0]=t*Math.cos(r)*Math.sin(i),e[1]=t*Math.sin(r),e[2]=t*Math.cos(r)*Math.cos(i),e},i.vec3.project=function(e,t,r,i){var n=t[0],a=t[1],o=t[2],s=r[0]*n+r[4]*a+r[8]*o+r[12],l=r[1]*n+r[5]*a+r[9]*o+r[13],u=r[3]*n+r[7]*a+r[11]*o+r[15],c=(s/u+1)/2,f=1-(l/u+1)/2;return e[0]=c*i[2]+i[0],e[1]=f*i[3]+i[1],e[2]=u,e},i.vec3.radians=function(e,t){return e[0]=t[0]*s.num.DEG2RAD,e[1]=t[1]*s.num.DEG2RAD,e[2]=t[2]*s.num.DEG2RAD,e},i.vec3.radiansUnwrapped=function(e,t){return e[0]=s.num.unwrapRadians(t[0]*s.num.DEG2RAD),e[1]=s.num.unwrapRadians(t[1]*s.num.DEG2RAD),e[2]=s.num.unwrapRadians(t[2]*s.num.DEG2RAD),e},i.vec3.setScalar=function(e,t){return e[0]=t,e[1]=t,e[2]=t,e},i.vec3.subtractScalar=function(e,t,r){return e[0]=t[0]-r,e[1]=t[1]-r,e[2]=t[2]-r,e},i.vec3.unproject=function(e,t,r,n){o||(o=i.vec4.create());var a=t[0],s=t[1],l=t[2];if(o[0]=2*(a-n[0])/n[2]-1,o[1]=2*(s-n[1])/n[3]-1,o[2]=2*l-1,o[3]=1,i.vec4.transformMat4(o,o,r),0===o[3])throw e[0]=0,e[1]=0,e[2]=0,new Error("Perspective divide error");return e[0]=o[0]/o[3],e[1]=o[1]/o[3],e[2]=o[2]/o[3],e},i.vec3.unwrapDegrees=function(e,t){return e[0]=s.num.unwrapDegrees(t[0]),e[1]=s.num.unwrapDegrees(t[1]),e[2]=s.num.unwrapDegrees(t[2]),e},i.vec3.unwrapRadians=function(e,t){return e[0]=s.num.unwrapRadians(t[0]),e[1]=s.num.unwrapRadians(t[1]),e[2]=s.num.unwrapRadians(t[2]),e},i.vec3.toRGB=function(e,t){return e[0]=s.num.colorFromLinear(t[0]),e[1]=s.num.colorFromLinear(t[1]),e[2]=s.num.colorFromLinear(t[2]),e},i.vec3.toRGBA=function(e,t,r=1){return e[0]=s.num.colorFromLinear(t[0]),e[1]=s.num.colorFromLinear(t[1]),e[2]=s.num.colorFromLinear(t[2]),e[3]=s.num.colorFromLinear(r),e},i.vec3.fromRGB=function(e,t){return e[0]=t[0]/255,e[1]=t[1]/255,e[2]=t[2]/255,e},i.vec3.toHex=function(e){return"#"+s.num.hexFromLinear(e[0])+s.num.hexFromLinear(e[1])+s.num.hexFromLinear(e[2])},i.vec3.toHexA=function(e,t=1){return"#"+s.num.hexFromLinear(e[0])+s.num.hexFromLinear(e[1])+s.num.hexFromLinear(e[2])+s.num.hexFromColor(t)},i.vec3.fromHex=function(e,t){if(e[0]=0,e[1]=0,e[2]=0,4===t.length||5===t.length)e[0]=("0x"+t[1]+t[1])/255,e[1]=("0x"+t[2]+t[2])/255,e[2]=("0x"+t[3]+t[3])/255;else{if(7!==t.length&&9!==t.length)throw new TypeError("Invalid hex");e[0]=("0x"+t[1]+t[2])/255,e[1]=("0x"+t[3]+t[4])/255,e[2]=("0x"+t[5]+t[6])/255}return e}},"./global/math/vec4.js":function(e,t,r){"use strict";r.r(t);var i=r("../node_modules/gl-matrix/lib/gl-matrix.js");r.d(t,"vec4",(function(){return i.vec4}));var n=r("./global/math/num.js");i.vec4.ZERO=i.vec4.fromValues(0,0,0,0),i.vec4.addScalar=function(e,t,r){return e[0]=t[0]+r,e[1]=t[1]+r,e[2]=t[2]+r,e[3]=t[3]+r,e},i.vec4.isEmpty=function(e){return 0===e[0]&&0===e[1]&&0===e[2]&&0===e[3]},i.vec4.divideScalar=function(e,t,r){return i.vec4.multiplyScalar(e,t,1/r)},i.vec4.multiplyScalar=function(e,t,r){return e[0]=t[0]*r,e[1]=t[1]*r,e[2]=t[2]*r,e[3]=t[3]*r,e},i.vec4.setScalar=function(e,t){return e[0]=t,e[1]=t,e[2]=t,e[3]=t,e},i.vec4.subtractScalar=function(e,t,r){return e[0]=t[0]-r,e[1]=t[1]-r,e[2]=t[2]-r,e[3]=t[3]-r,e},i.vec4.toRGBA=function(e,t,r){return e[0]=n.num.colorFromLinear(t[0]),e[1]=n.num.colorFromLinear(t[1]),e[2]=n.num.colorFromLinear(t[2]),e[3]=r?n.num.colorFromLinear(t[3]):t[3],e},i.vec4.fromRGBA=function(e,t,r){return e[0]=t[0]/255,e[1]=t[1]/255,e[2]=t[2]/255,e[3]=r?n.num.linearFromColor(t[3]):t[3],e},i.vec4.fromRGB=function(e,t,r=1){return e[0]=t[0]/255,e[1]=t[1]/255,e[2]=t[2]/255,e[3]=r,e},i.vec4.toHexA=function(e){return"#"+n.num.hexFromLinear(e[0])+n.num.hexFromLinear(e[1])+n.num.hexFromLinear(e[2])+n.num.hexFromLinear(e[3])},i.vec4.toHex=function(e){return"#"+n.num.hexFromLinear(e[0])+n.num.hexFromLinear(e[1])+n.num.hexFromLinear(e[2])},i.vec4.fromHex=function(e,t,r=1){if(e[0]=0,e[1]=0,e[2]=0,e[3]=r,4===t.length||5===t.length)e[0]=("0x"+t[1]+t[1])/255,e[1]=("0x"+t[2]+t[2])/255,e[2]=("0x"+t[3]+t[3])/255,5===t.length&&(e[3]=("0x"+t[4]+t[4])/255);else{if(7!==t.length&&9!==t.length)throw new TypeError("Invalid hex");e[0]=("0x"+t[1]+t[2])/255,e[1]=("0x"+t[3]+t[4])/255,e[2]=("0x"+t[5]+t[6])/255,9===t.length&&(e[3]=("0x"+t[7]+t[8])/255)}return e}},"./global/meta/@generic.js":function(e,t,r){"use strict";r.r(t),r.d(t,"abstract",(function(){return a})),r.d(t,"singleton",(function(){return o})),r.d(t,"data",(function(){return s})),r.d(t,"readOnly",(function(){return l})),r.d(t,"isPrivate",(function(){return u})),r.d(t,"desc",(function(){return c})),r.d(t,"todo",(function(){return f})),r.d(t,"partialImplementation",(function(){return d})),r.d(t,"notImplemented",(function(){return h})),r.d(t,"stage",(function(){return m}));var i=r("./core/Tw2Error.js"),n=r("./global/utils/reflect.js"),a=Object(n.createDecorator)({noArgs:!0,ctor:({target:e})=>e,method:({target:e,property:t,descriptor:r})=>(Object(n.defineMetadata)("abstract",!0,e,t),r.value=function(){throw new i.ErrAbstractMethod({class:this.constructor.name,method:t})},r)}),o=Object(n.createDecorator)({noArgs:!0,ctor({target:e}){var t=0;return class extends e{constructor(...r){if(++t>1)throw new i.ErrSingletonInstantiation({class:e.name});super(...r)}}}}),s=Object(n.createDecorator)({handler({target:e,property:t},r){Object(n.hasMetadata)("data",e,t)&&Object.assign({},Object(n.getMetadata)("data",e,t),r),Object(n.defineMetadata)("data",r,e,t)}}),l=Object(n.createDecorator)({noArgs:!0,property:({descriptor:e})=>(e.writable=!1,e.enumerable=!1,e)}),u=Object(n.createDecorator)({noArgs:!0,property({target:e,property:t}){Object(n.defineMetadata)("isPrivate",!0,e,t)}}),c=Object(n.createDecorator)({handler({target:e,property:t},r){Object(n.defineMetadata)("desc",r,e,t)}}),f=Object(n.createDecorator)({handler({target:e,property:t},r,i=0){if(Object(n.defineMetadata)("todo",r,e,t),0!==i){var a=Object(n.getMetadata)("stage",e,t)||0;Object(n.defineMetadata)("stage",Math.max(i,a),e,t)}}}),d=Object(n.createDecorator)({noArgs:!0,handler({target:e,property:t}){Object(n.defineMetadata)("stage",2,e,t)}}),h=Object(n.createDecorator)({noArgs:!0,handler({target:e,property:t}){Object(n.defineMetadata)("stage",3,e,t)}}),m=Object(n.createDecorator)({ctor({target:e,property:t},r=0){Object(n.defineMetadata)("stage",r,e,t)}})},"./global/meta/@type.js":function(e,t,r){"use strict";r.r(t),r.d(t,"type",(function(){return l})),r.d(t,"unknown",(function(){return c})),r.d(t,"boolean",(function(){return f})),r.d(t,"string",(function(){return d})),r.d(t,"path",(function(){return h})),r.d(t,"expression",(function(){return m})),r.d(t,"float",(function(){return b})),r.d(t,"uint",(function(){return p})),r.d(t,"ushort",(function(){return v})),r.d(t,"byte",(function(){return g})),r.d(t,"array",(function(){return y})),r.d(t,"vector2",(function(){return w})),r.d(t,"vector3",(function(){return E})),r.d(t,"vector4",(function(){return T})),r.d(t,"color",(function(){return S})),r.d(t,"quaternion",(function(){return _})),r.d(t,"matrix3",(function(){return j})),r.d(t,"matrix4",(function(){return R})),r.d(t,"indexBuffer",(function(){return z})),r.d(t,"vector",(function(){return O})),r.d(t,"enums",(function(){return P})),r.d(t,"plain",(function(){return A})),r.d(t,"list",(function(){return x})),r.d(t,"fromList",(function(){return M})),r.d(t,"struct",(function(){return D})),r.d(t,"raw",(function(){return I}));var i=r("./core/reader/Tw2BlackPropertyReaders.js"),n=r("./global/utils/type.js"),a=r("./global/utils/reflect.js"),o=r("./global/constant/index.js"),s=function({target:e,property:t},r,...i){switch(void 0!==r&&Object(a.defineMetadata)("type",r,e,t),i[0]&&Object(a.defineMetadata)("typesOf",i,e,t),"_"===t.charAt(0)&&Object(a.defineMetadata)("isPrivate",!0,e,t),r){case o.PT_STRUCT_RAW:case o.PT_STRUCT:var n=Object(a.getMetadata)("structs",e.constructor);(n=n?Array.from(n):[]).includes(t)||(n.push(t),n.sort()),Object(a.defineMetadata)("structs",n,e.constructor);break;case o.PT_STRUCT_LIST:var s=Object(a.getMetadata)("structLists",e.constructor);(s=s?Array.from(s):[]).includes(t)||(s.push(t),s.sort()),Object(a.defineMetadata)("structLists",s,e.constructor)}},l=Object(a.createDecorator)({ctor({target:e},t,r=t){Object(a.defineMetadata)("type",t,e),Object(a.defineMetadata)("ccp",r,e)},parameter(e,t,r){s(e,t,r)}});function u(e,t){return Object(a.createDecorator)({noArgs:!t,property(t,...r){s(t,e,...r)}})}var c=u(o.PT_UNKNOWN),f=u(o.PT_BOOLEAN),d=u(o.PT_STRING),h=u(o.PT_PATH),m=u(o.PT_EXPRESSION),b=u(o.PT_FLOAT),p=u(o.PT_UINT),v=u(o.PT_USHORT),g=u(o.PT_BYTE),y=u(o.PT_ARRAY),w=u(o.PT_VECTOR2),E=u(o.PT_VECTOR3),T=u(o.PT_VECTOR4),S=u(o.PT_COLOR),_=u(o.PT_QUATERNION),j=u(o.PT_MATRIX3),R=u(o.PT_MATRIX4),z=u(o.PT_INDEX_BUFFER),O=u(o.PT_VECTOR),P=Object(a.createDecorator)({property({target:e,property:t},r){s({target:e,property:t},o.PT_ENUM),Object(a.defineMetadata)("isPrivate",!0,e,t),Object(a.defineMetadata)("enumerable",r,e,t)}}),A=u(o.PT_PLAIN),x=Object(a.createDecorator)({property({target:e,property:t},...r){if(Object(n.isFunction)(r[0])){var l=r.shift();Object(a.defineMetadata)("black",i.structList(l),e,t),Object(a.hasMetadata)("type",l)&&r.unshift(Object(a.getMetadata)("type",l))}s({target:e,property:t},o.PT_STRUCT_LIST,...r)}}),M=Object(a.createDecorator)({property({target:e,property:t},r,...l){if(Object(n.isString)(r)&&(r={key:r}),!Object(n.isPlain)(r))throw new Error("Invalid argument for decorator: expected plain object");Object(a.defineMetadata)("black",i.fromList(r),e,t),r.struct&&Object(a.hasMetadata)("type",r.struct)&&l.unshift(Object(a.getMetadata)("type",r.struct)),s({target:e,property:t},o.PT_PLAIN,...l)}});function C(e){return Object(a.createDecorator)({property({target:t,property:r},...o){if(Object(n.isFunction)(o[0])){var l=o.shift();Object(a.defineMetadata)("black",i.struct(l),t,r),Object(a.hasMetadata)("type",l)&&o.unshift(Object(a.getMetadata)("type",l))}s({target:t,property:r},e,...o)}})}var D=C(o.PT_STRUCT),I=C(o.PT_STRUCT_RAW)},"./global/meta/Model.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Model",(function(){return T}));var i,n,a,o=r("./global/utils/uuid.js"),s=r("./global/utils/reflect.js"),l=r("./global/utils/type.js"),u=r("./global/meta/ModelPropertyTypes.js"),c=r("./global/meta/@generic.js");function f(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function d(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?f(Object(r),!0).forEach((function(t){h(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):f(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function h(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function m(e,t){if(null==e)return{};var r,i,n=function(e,t){if(null==e)return{};var r,i,n={},a=Object.keys(e);for(i=0;i<a.length;i++)r=a[i],t.indexOf(r)>=0||(n[r]=e[r]);return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)r=a[i],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}var b,p,v,g,y,w,E=new WeakMap,T=(a=class{constructor(){var e,t,r,i;e=this,t="_id",i=this,(r=n)&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}EmitEvent(e,...t){var r=E.get(this);return r?((e=e.toLowerCase())in r&&(r[e].forEach((i,n)=>{n.call(i.context,...t),i.once&&r[e].delete(n)}),0===r[e].size&&Reflect.deleteProperty(r,e)),this):this}AddEvents(e){if(!e)return this;for(var t in e)if(e.hasOwnProperty(t)){var r=e[t],i=t,n=void 0,a=void 0;if(-1!==t.indexOf(".once")&&t.lastIndexOf(".once")===t.length-5&&(i=t.substring(0,t.length-5),a=!0),Object(l.isArray)(r)&&(n=(r=r[0])[1]),!Object(l.isFunction)(r))throw new Error("Invalid listener");this.OnEvent(i,r,n,a)}return this}OnEvent(e,t,r,i){var n=E.get(this);if(n||(n={},E.set(this,n)),n[e=e.toLowerCase()]||(n[e]=new Map),!n[e].has(t))if(this.constructor.onListener){if(this.constructor.onListener(this,e,t,r)&&i)return this}else if(this.OnEventFirstListener&&this.OnEventFirstListener(this,e,t,r)&&i)return this;return n[e].set(t,{context:r,once:i}),this}OnceEvent(e,t,r){return this.OnEvent(e,t,r,!0)}OffEvent(e,t){var r=E.get(this);if(!r)return this;if("*"===e){for(var i in r)r.hasOwnProperty(i)&&(r[i].delete(t),0===r[i].size&&Reflect.deleteProperty(r,i));return this}return(e=e.toLowerCase())in r&&(r[e].delete(t),0===r[e].size&&Reflect.deleteProperty(r,e)),this}HasEvent(e,t){var r=E.get(this);if(!r)return!1;if("*"===e){for(var i in r)if(r.hasOwnProperty(i)&&r[i].has(t))return!0;return!1}return!(!t||!(e in r))&&("*"===t?!!r[e].size:r[e].has(t))}ClearEvent(e){var t=E.get(this);return t?"*"===e?(E.delete(this),this):((e=e.toLowerCase())in t&&(t[e].clear(),Reflect.deleteProperty(t,e)),this):this}Copy(e,t){return this.constructor.copy(this,e,t)}Clone(e){return this.constructor.clone(this,e)}SetValues(e,t={}){return this.constructor.set(this,e,t)}GetValues(e,t){return this.constructor.get(this,e,t)}UpdateValues(e={}){var{skipEvents:t}=e,r=m(e,["skipEvents"]);t||this.EmitEvent("modify",this,e),this.OnValueChanged&&this.OnValueChanged(r),t||this.EmitEvent("modified",this,e)}OnModified(e,t,r){this.OnEvent("modified",e,t,r)}OffModified(e){this.OffEvent("modified",e)}Destructor(e={}){var{skipEvents:t,clearChildren:r}=e,i=m(e,["skipEvents","clearChildren"]);t||this.EmitEvent("destruct",this,i),this.OnDestruct&&this.OnDestruct(i),r&&this.Clear({skipUpdate:!0,skipEvents:!0}),t||this.EmitEvent("destructed",this,i),this.ClearEvent("*")}Clear(e={}){throw new Error("Not implemented")}PerChild(e,t){if(Object(s.hasMetadata)("structs",this.constructor))for(var r=Object(s.getMetadata)("structs",this.constructor),i=0;i<r.length;i++){var n=r[i],a=this[n];if(!Object(s.getMetadata)("isPrivate",this,n)&&(a||!t)){var o=e({parent:this,key:n,struct:a,path:"/".concat(n)});if(void 0!==o)return o}}if(Object(s.hasMetadata)("structLists",this.constructor))for(var l=Object(s.getMetadata)("structLists",this.constructor),u=0;u<l.length;u++){var c=l[u],f=this[l[u]];if(!Object(s.getMetadata)("isPrivate",this,c))for(var d=0;d<f.length;d++){var h=e({parent:this,key:c,struct:f[d],array:f,index:d,path:"/".concat(c,"/").concat(d)});if(void 0!==h)return h}}}Filter(e,t=[]){return this.Traverse(r=>{e(r)&&!t.includes(r.struct)&&t.push(r.struct)}),t}Traverse(e,t={},r=new Set){if(!r.has(this)){r.add(this),t.path=t.path||"root",t.struct=this;var i=e(t);return void 0!==i?i:this.PerChild(i=>{if(i.struct&&i.struct.Traverse){i.path=t.path+i.path;var n=i.struct.Traverse(e,i,r);if(void 0!==n)return n}})}}GetAsyncTasks(e=new Set){return e}static copy(e,t,r={}){return this.set(e,t.GetValues(),d({_clear:!0},r))}static clone(e,t){return this.from(e.GetValues(),t)}static get(e,t={},r={}){if(!Object(s.hasMetadata)("type",this))throw new ReferenceError("No meta type defined");var i=!r._ids;if(r._ids){if(r._ids.has(e)){var n={__ref:e._id};return r._ids.get(e).push(n),n}}else r._ids=new Map;for(var a in t={__type:Object(s.getMetadata)("type",e.constructor),__id:e._id},r._ids.set(e,[t]),e)if(e.hasOwnProperty(a)&&Object(s.hasMetadata)("type",e,a)&&!Object(s.getMetadata)("isPrivate",e,a)){var o=Object(s.getMetadata)("type",e,a),l=u.propTypes.get(o);if(!l)throw new TypeError("Unknown type: "+o);t[a]=l.get(e,a,r)}if(i&&!r.useObjectIds){var c=0;r._ids.forEach(e=>{if(1!==e.length)for(var t="#"+c++,r=0;r<e.length;r++)0===r?e[r].__id=t:e[r].__ref=t;else Reflect.deleteProperty(e[0],"__id")})}return t}static set(e,t,r={}){if(e.constructor!==this)throw new ReferenceError("Invalid constructor");if(!Object(s.hasMetadata)("type",this))throw new ReferenceError("Not meta type defined");if(t&&!Object(l.isObjectObject)(t))throw new ReferenceError("Invalid values, expected plain object or object");var{_clear:i,_ids:n=new Map,skipEvents:a,skipUpdate:o}=r,c=m(r,["_clear","_ids","skipEvents","skipUpdate"]);if(n.has(e))return n.get(e);if(c._ids=n,i)throw new Error("Copy feature not implemented");var f=!1;if(t)for(var d in t)if(t.hasOwnProperty(d)&&Object(s.hasMetadata)("type",e,d)&&!Object(s.getMetadata)("isPrivate",e,d)){var h=Object(s.getMetadata)("type",e,d),b=t[d],p=u.propTypes.get(h);if(!p)throw new TypeError("Unknown type: "+h);if(null===b&&p.delete){p.delete(e,d,c)&&(f=!0);continue}if(!p.is(b,e[d],c))throw new TypeError("Invalid value for property "+d);if(p.equals(b,e[d]))continue;p.set(e,d,b,c)&&(f=!0)}return f&&!o&&e.UpdateValues(c),n.set(e,f),f}static from(e,t={}){var r,{skipUpdate:i}=t,n=m(t,["skipUpdate"]);if(e&&e.__type&&Object(s.getMetadata)("type",this)!==e.__type)throw new ReferenceError("Unexpected constructor "+e.__type);return e&&e instanceof this?r=e:(r=new this,e&&r.SetValues(e,d({skipUpdate:!0},n))),!i&&r.Initialize&&r.Initialize(),r}},b=(i=a).prototype,p="_id",v=[c.readOnly],g={configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Object(o.generateID)()}},w={},Object.keys(g).forEach((function(e){w[e]=g[e]})),w.enumerable=!!w.enumerable,w.configurable=!!w.configurable,("value"in w||w.initializer)&&(w.writable=!0),w=v.slice().reverse().reduce((function(e,t){return t(b,p,e)||e}),w),y&&void 0!==w.initializer&&(w.value=w.initializer?w.initializer.call(y):void 0,w.initializer=void 0),void 0===w.initializer&&(Object.defineProperty(b,p,w),w=null),n=w,i)},"./global/meta/ModelPropertyTypes.js":function(e,t,r){"use strict";r.r(t),r.d(t,"propTypes",(function(){return o}));var i=r("./global/math/index.js"),n=r("./global/constant/type.js"),a=r("./global/utils/type.js"),o=new Map,s=(e,t)=>Array.from(e[t]),l=(e,t)=>e[t],u=(e,t,r)=>e[t]=r,c=(e,t)=>e===t,f=()=>!1,d=()=>{throw new ReferenceError("Not implemented")};function h(e){o.set(e,{is:a.isNumber,equals:i.num.equals,get:l,set:u,type:e})}function m(e){o.set(e,{is:a.isString,equals:c,get:l,set:u,type:e})}function b(e,t){o.set(e,{is:a.isVector,equals:a.isVectorEqual,get:s,set:(e,r,i)=>{e[r].length!==i.length?e[r]=t?new t(i):new e[r].constructor(i):e[r].set(i)},type:n.PT_INDEX_BUFFER})}function p(e){o.set(e,{is:a.isVector4,equals:i.vec4.equals,get:s,set:(e,t,r)=>i.vec4.copy(e[t],r),type:e})}function v(e){o.set(e,{is:(e,t)=>!!Object(a.isPlain)(e),equals:f,get(e,t,r){try{return null===e[t]?null:e[t].GetValues({},r)}catch(r){throw console.dir(e[t]),r}},set:d,type:e})}o.set(n.PT_BOOLEAN,{is:a.isBoolean,equals:c,get:l,set:u,type:n.PT_BOOLEAN}),h(n.PT_BYTE),h(n.PT_FLOAT),h(n.PT_UINT),h(n.PT_USHORT),m(n.PT_STRING),m(n.PT_EXPRESSION),m(n.PT_PATH),b(n.PT_INDEX_BUFFER,Uint16Array),b(n.PT_VECTOR,Float32Array),o.set(n.PT_MATRIX3,{is:a.isMatrix3,equals:i.mat3.equals,get:s,set:(e,t,r)=>i.mat3.copy(e[t],r),type:n.PT_MATRIX3}),o.set(n.PT_MATRIX4,{is:a.isMatrix4,equals:i.mat4.equals,get:s,set:(e,t,r)=>i.mat4.copy(e[t],r),type:n.PT_MATRIX4}),o.set(n.PT_VECTOR2,{is:a.isVector2,equals:i.vec2.equals,get:s,set:(e,t,r)=>i.vec2.copy(e[t],r),type:n.PT_VECTOR2}),o.set(n.PT_VECTOR3,{is:a.isVector3,equals:i.vec3.equals,get:s,set:(e,t,r)=>i.vec3.copy(e[t],r),type:n.PT_VECTOR3}),p(n.PT_VECTOR4),p(n.PT_COLOR),p(n.PT_QUATERNION),o.set(n.PT_PLAIN,{is:a.isPlain,equals:a.isEqual,get:(e,t)=>Object.assign({},e[t]),set:(e,t,r)=>Object.assign(e[t],r),type:n.PT_PLAIN}),v(n.PT_STRUCT),v(n.PT_STRUCT_RAW),o.set(n.PT_STRUCT_LIST,{is:(e,t)=>!!Object(a.isArray)(e),equals:f,get(e,t,r){var i=e[t].length;if(!i)return null;for(var n=[],a=0;a<i;a++)try{n.push(e[t][a].GetValues({},r))}catch(r){throw console.dir(e[t][a]),r}return n},set:d,type:n.PT_STRUCT_LIST})},"./global/meta/index.js":function(e,t,r){"use strict";r.r(t);var i=r("./global/meta/@type.js");r.d(t,"type",(function(){return i.type})),r.d(t,"unknown",(function(){return i.unknown})),r.d(t,"boolean",(function(){return i.boolean})),r.d(t,"string",(function(){return i.string})),r.d(t,"path",(function(){return i.path})),r.d(t,"expression",(function(){return i.expression})),r.d(t,"float",(function(){return i.float})),r.d(t,"uint",(function(){return i.uint})),r.d(t,"ushort",(function(){return i.ushort})),r.d(t,"byte",(function(){return i.byte})),r.d(t,"array",(function(){return i.array})),r.d(t,"vector2",(function(){return i.vector2})),r.d(t,"vector3",(function(){return i.vector3})),r.d(t,"vector4",(function(){return i.vector4})),r.d(t,"color",(function(){return i.color})),r.d(t,"quaternion",(function(){return i.quaternion})),r.d(t,"matrix3",(function(){return i.matrix3})),r.d(t,"matrix4",(function(){return i.matrix4})),r.d(t,"indexBuffer",(function(){return i.indexBuffer})),r.d(t,"vector",(function(){return i.vector})),r.d(t,"enums",(function(){return i.enums})),r.d(t,"plain",(function(){return i.plain})),r.d(t,"list",(function(){return i.list})),r.d(t,"fromList",(function(){return i.fromList})),r.d(t,"struct",(function(){return i.struct})),r.d(t,"raw",(function(){return i.raw}));var n=r("./global/meta/@generic.js");r.d(t,"abstract",(function(){return n.abstract})),r.d(t,"singleton",(function(){return n.singleton})),r.d(t,"data",(function(){return n.data})),r.d(t,"readOnly",(function(){return n.readOnly})),r.d(t,"isPrivate",(function(){return n.isPrivate})),r.d(t,"desc",(function(){return n.desc})),r.d(t,"todo",(function(){return n.todo})),r.d(t,"partialImplementation",(function(){return n.partialImplementation})),r.d(t,"notImplemented",(function(){return n.notImplemented})),r.d(t,"stage",(function(){return n.stage}));var a=r("./global/meta/Model.js");r.d(t,"Model",(function(){return a.Model}))},"./global/store.js":function(e,t,r){"use strict";r.r(t),r.d(t,"store",(function(){return a}));var i=r("./core/engine/Tw2Store.js"),n=r("./core/engine/Tw2Library.js"),a=new i.Tw2Store(n.Tw2Library)},"./global/tw2.js":function(e,t,r){"use strict";r.r(t),r.d(t,"tw2",(function(){return a})),r.d(t,"resMan",(function(){return o})),r.d(t,"device",(function(){return s})),r.d(t,"logger",(function(){return l}));var i=r("./core/engine/Tw2Library.js"),n=r("./global/store.js");r.d(t,"store",(function(){return n.store}));var a=new i.Tw2Library(n.store),o=a.resMan,s=a.device,l=a.logger},"./global/utils/arr.js":function(e,t,r){"use strict";r.r(t),r.d(t,"addToArray",(function(){return n})),r.d(t,"findElementByPropertyValue",(function(){return a})),r.d(t,"findIndexByPropertyValue",(function(){return o})),r.d(t,"perArrayChild",(function(){return s})),r.d(t,"removeFromArray",(function(){return l})),r.d(t,"toArray",(function(){return u})),r.d(t,"toUniqueArray",(function(){return c}));var i=r("./global/utils/type.js");function n(e,...t){for(var r=!1,i=0;i<t.length;i++)-1===e.indexOf(t[i])&&(e.push(t[i]),r=!0);return r}function a(e,t,r,i){return e[o(e,t,r,i)]}function o(e,t,r,i){for(var n=0;n<e.length;n++)if(t in e[n]&&e[n][t]===r)return n;if(i)throw new i({[t]:r});return-1}function s(e,t,...r){for(var i=0;i<e.length;i++)t in e[i]&&e[i][t](...r)}function l(e,...t){for(var r=!1,i=0;i<t.length;i++){var n=e.indexOf(t[i]);-1!==n&&(e.splice(n,1),r=!0)}return r}function u(e){return Object(i.isArray)(e)?e:[e]}function c(e){return Array.from(new Set(u(e)))}},"./global/utils/index.js":function(e,t,r){"use strict";r.r(t),r.d(t,"getPathExtension",(function(){return c}));var i=r("./global/utils/arr.js");r.d(t,"addToArray",(function(){return i.addToArray})),r.d(t,"findElementByPropertyValue",(function(){return i.findElementByPropertyValue})),r.d(t,"findIndexByPropertyValue",(function(){return i.findIndexByPropertyValue})),r.d(t,"perArrayChild",(function(){return i.perArrayChild})),r.d(t,"removeFromArray",(function(){return i.removeFromArray})),r.d(t,"toArray",(function(){return i.toArray})),r.d(t,"toUniqueArray",(function(){return i.toUniqueArray}));var n=r("./global/utils/obj.js");r.d(t,"assignIfExists",(function(){return n.assignIfExists})),r.d(t,"get",(function(){return n.get})),r.d(t,"template",(function(){return n.template})),r.d(t,"getKeyFromValue",(function(){return n.getKeyFromValue}));var a=r("./global/utils/type.js");r.d(t,"isArray",(function(){return a.isArray})),r.d(t,"isArrayLike",(function(){return a.isArrayLike})),r.d(t,"isAsyncFunction",(function(){return a.isAsyncFunction})),r.d(t,"isBoolean",(function(){return a.isBoolean})),r.d(t,"isCanvas",(function(){return a.isCanvas})),r.d(t,"isDescriptor",(function(){return a.isDescriptor})),r.d(t,"isDNA",(function(){return a.isDNA})),r.d(t,"isError",(function(){return a.isError})),r.d(t,"isNumber",(function(){return a.isNumber})),r.d(t,"isFunction",(function(){return a.isFunction})),r.d(t,"isNoU",(function(){return a.isNoU})),r.d(t,"isNull",(function(){return a.isNull})),r.d(t,"isObject",(function(){return a.isObject})),r.d(t,"isObjectLike",(function(){return a.isObjectLike})),r.d(t,"isObjectObject",(function(){return a.isObjectObject})),r.d(t,"isPlain",(function(){return a.isPlain})),r.d(t,"isPrimary",(function(){return a.isPrimary})),r.d(t,"isPromise",(function(){return a.isPromise})),r.d(t,"isString",(function(){return a.isString})),r.d(t,"isSymbol",(function(){return a.isSymbol})),r.d(t,"isSubclassOf",(function(){return a.isSubclassOf})),r.d(t,"isTag",(function(){return a.isTag})),r.d(t,"isTr2OrTri",(function(){return a.isTr2OrTri})),r.d(t,"toTw2",(function(){return a.toTw2})),r.d(t,"getTypeUpper",(function(){return a.getTypeUpper})),r.d(t,"isTyped",(function(){return a.isTyped})),r.d(t,"isUndefined",(function(){return a.isUndefined})),r.d(t,"isVector",(function(){return a.isVector})),r.d(t,"isVector2",(function(){return a.isVector2})),r.d(t,"isVector3",(function(){return a.isVector3})),r.d(t,"isVector4",(function(){return a.isVector4})),r.d(t,"isMatrix3",(function(){return a.isMatrix3})),r.d(t,"isMatrix4",(function(){return a.isMatrix4})),r.d(t,"isPrimaryEqual",(function(){return a.isPrimaryEqual})),r.d(t,"isVectorEqual",(function(){return a.isVectorEqual})),r.d(t,"isEqual",(function(){return a.isEqual}));var o=r("./global/utils/uuid.js");r.d(t,"enableUUID",(function(){return o.enableUUID})),r.d(t,"generateID",(function(){return o.generateID}));var s=r("./global/utils/url.js");r.d(t,"getURL",(function(){return s.getURL})),r.d(t,"getURLString",(function(){return s.getURLString})),r.d(t,"getURLInteger",(function(){return s.getURLInteger})),r.d(t,"getURLFloat",(function(){return s.getURLFloat})),r.d(t,"getURLBoolean",(function(){return s.getURLBoolean}));var l=r("./global/utils/reflect.js");r.d(t,"defineMetadata",(function(){return l.defineMetadata})),r.d(t,"hasMetadata",(function(){return l.hasMetadata})),r.d(t,"hasOwnMetadata",(function(){return l.hasOwnMetadata})),r.d(t,"getMetadata",(function(){return l.getMetadata})),r.d(t,"getOwnMetadata",(function(){return l.getOwnMetadata})),r.d(t,"deleteMetadata",(function(){return l.deleteMetadata})),r.d(t,"getMetadataKeys",(function(){return l.getMetadataKeys})),r.d(t,"getOwnMetadataKeys",(function(){return l.getOwnMetadataKeys})),r.d(t,"getMetadataValues",(function(){return l.getMetadataValues})),r.d(t,"getOwnMetadataValues",(function(){return l.getOwnMetadataValues})),r.d(t,"handleDescriptor",(function(){return l.handleDescriptor})),r.d(t,"createDecorator",(function(){return l.createDecorator}));var u=r("./global/meta/index.js");function c(e){var t=e.lastIndexOf(".");return-1===t?null:e.substr(t+1)}r.d(t,"meta",(function(){return u}))},"./global/utils/obj.js":function(e,t,r){"use strict";r.r(t),r.d(t,"assignIfExists",(function(){return n})),r.d(t,"get",(function(){return a})),r.d(t,"template",(function(){return o})),r.d(t,"getKeyFromValue",(function(){return s}));var i=r("./global/utils/type.js");r("./global/math/index.js");function n(e,t,r,n){if(!t)return!1;Object(i.isArray)(r)||(r=[r],console.warn("Attributes must now always be an array"));for(var a=!1,o=0;o<r.length;o++){var s=r[o],l=s,u=s;if(Object(i.isArray)(s)&&(l=s[1],u=s[0]),void 0!==t[l]&&(!n||void 0!==e[u])){if(Object(i.isArrayLike)(e[u]))if(Object(i.isTyped)(e[u]))if(e[u].length!==t[l].length){var c=e[u].constructor;e[u]=new c(t[l])}else e[u].set(t[l]);else{e[u].splice(0);for(var f=0;f<t[l].length;f++)e[u].push(t[l][f])}else if(Object(i.isTyped)(t[l])){var d=t[l].constructor;e[u]=new d(t[l])}else e[u]=t[l];a=!0}}return a}function a(e,t,r){if(!Object(i.isArray)(t))return void 0!==e[t]?e[t]:r;for(var n=0;n<t.length;n++)if(void 0!==e[t[n]])return e[t[n]];return r}function o(e,t={}){for(var r=e.match(/%([^%]+)?%/g)||[],i=0;i<r.length;i++){var n=r[i],a=n.substring(1,n.length-1).split("="),o=a[0]in t?t[a[0]]:a[1];e=e.replace(n,o)}return e}function s(e,t){for(var r in e)if(e.hasOwnProperty(r)&&e[r]===t)return r}},"./global/utils/reflect.js":function(e,t,r){"use strict";r.r(t),r.d(t,"defineMetadata",(function(){return l})),r.d(t,"hasMetadata",(function(){return u})),r.d(t,"hasOwnMetadata",(function(){return c})),r.d(t,"getMetadata",(function(){return f})),r.d(t,"getOwnMetadata",(function(){return d})),r.d(t,"deleteMetadata",(function(){return h})),r.d(t,"getMetadataKeys",(function(){return b})),r.d(t,"getOwnMetadataKeys",(function(){return p})),r.d(t,"getMetadataValues",(function(){return g})),r.d(t,"getOwnMetadataValues",(function(){return y})),r.d(t,"handleDescriptor",(function(){return w})),r.d(t,"createDecorator",(function(){return j}));var i=r("./global/utils/index.js");function n(e,t){if(null==e)return{};var r,i,n=function(e,t){if(null==e)return{};var r,i,n={},a=Object.keys(e);for(i=0;i<a.length;i++)r=a[i],t.indexOf(r)>=0||(n[r]=e[r]);return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)r=a[i],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function a(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function o(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function s(e){return"".concat("tw2",":").concat(e)}function l(e,t,r,i){Reflect.defineMetadata(s(e),t,r,i)}function u(e,t,r){return Reflect.hasMetadata(s(e),t,r)}function c(e,t,r){return Reflect.hasOwnMetadata(s(e),t,r)}function f(e,t,r){return Reflect.getMetadata(s(e),t,r)}function d(e,t,r){return Reflect.getOwnMetadata(s(e),t,r)}function h(e,t,r){return Reflect.deleteMetadata(s(e),t,r)}function m(e){for(var t=[],r=0;r<e.length;r++)0===e[r].indexOf("tw2")&&t.push(e[r].replace("tw2",""));return t}function b(e,t){return m(Reflect.getMetadataKeys(e,t))}function p(e,t){return m(Reflect.getOwnMetadataKeys(e,t))}function v(e,t,r,i){var n=r(e,t),a={};return n.forEach(r=>{var n=i(r,e,t);void 0!==n&&(a[r]=n)}),a}function g(e,t){return v(e,t,b,f)}function y(e,t){return v(e,t,p,d)}function w(e){return!e||e.set||e.get||(void 0===e.writable&&(e.writable=!0),void 0===e.enumerable&&(e.enumerable=!0),void 0===e.configurable&&(e.configurable=!0)),e}var E=()=>{throw new TypeError("Decorator doesn't support classes")},T=()=>{throw new TypeError("Decorator doesn't support methods")},S=()=>{throw new TypeError("Decorator doesn't support properties")};function _(e,t,...r){return function(n,s,l){l&&w(l);var u=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?a(Object(r),!0).forEach((function(t){o(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({target:n,property:s,descriptor:l},t);return s?Object(i.isFunction)(n[s])?e.method(u,...r):e.property(u,...r):e.ctor(u,...r)}}function j(e){var{handler:t,property:r,method:a,ctor:o,noArgs:s}=e,l=n(e,["handler","property","method","ctor","noArgs"]),u=function(e){var{ctor:t,method:r,property:n,handler:a}=e;function o(e,t){return Object(i.isFunction)(e)?e:!1===e?t:Object(i.isFunction)(a)?a:t}return{ctor:o(t,E),method:o(r,T),property:o(n,S)}}(e);return s?_(u,l):function(...e){return _(u,l,...e)}}},"./global/utils/type.js":function(e,t,r){"use strict";r.r(t),r.d(t,"isArray",(function(){return a})),r.d(t,"isArrayLike",(function(){return o})),r.d(t,"isAsyncFunction",(function(){return s})),r.d(t,"isBoolean",(function(){return l})),r.d(t,"isCanvas",(function(){return u})),r.d(t,"isDescriptor",(function(){return c})),r.d(t,"isDNA",(function(){return f})),r.d(t,"isError",(function(){return d})),r.d(t,"isNumber",(function(){return h})),r.d(t,"isFunction",(function(){return m})),r.d(t,"isNoU",(function(){return b})),r.d(t,"isNull",(function(){return p})),r.d(t,"isObject",(function(){return v})),r.d(t,"isObjectLike",(function(){return g})),r.d(t,"isObjectObject",(function(){return y})),r.d(t,"isPlain",(function(){return w})),r.d(t,"isPrimary",(function(){return E})),r.d(t,"isPromise",(function(){return T})),r.d(t,"isString",(function(){return S})),r.d(t,"isSymbol",(function(){return _})),r.d(t,"isSubclassOf",(function(){return j})),r.d(t,"isTag",(function(){return R})),r.d(t,"isTr2OrTri",(function(){return z})),r.d(t,"toTw2",(function(){return O})),r.d(t,"getTypeUpper",(function(){return P})),r.d(t,"isTyped",(function(){return A})),r.d(t,"isUndefined",(function(){return x})),r.d(t,"isVector",(function(){return M})),r.d(t,"isVector2",(function(){return C})),r.d(t,"isVector3",(function(){return D})),r.d(t,"isVector4",(function(){return I})),r.d(t,"isMatrix3",(function(){return L})),r.d(t,"isMatrix4",(function(){return F})),r.d(t,"isPrimaryEqual",(function(){return G})),r.d(t,"isVectorEqual",(function(){return B})),r.d(t,"isEqual",(function(){return N}));var i=r("./global/math/num.js"),n=Object.prototype.toString,a=Array.isArray;function o(e){return!!e&&(a(e)||A(e))}function s(e){return!(!m(e)||"AsyncFunction"!==e.constructor.name)}function l(e){return R(e,"[object Boolean]")}function u(e){return!!(e&&e instanceof HTMLCanvasElement)}function c(e){if(!e||!e.hasOwnProperty)return!1;for(var t=["value","initializer","get","set"],r=0,i=t.length;r<i;r++)if(e.hasOwnProperty(t[r]))return!0;return!1}function f(e){return S(e)&&e.match(/(\w|\d|[-_])+:(\w|\d|[-_])+:(\w|\d|[-_])+/)}function d(e){return!!e&&(e instanceof Error||"Error"===e.constructor.__category)}function h(e){return R(e,"[object Number]")}function m(e){return"function"==typeof e}function b(e){return null==e}function p(e){return null===e}function v(e){var t=typeof e;return null!==e&&("object"===t||"function"===t)}function g(e){return null!==e&&"object"==typeof e}function y(e){return null!==e&&R(e,"[object Object]")}function w(e){if(!v(e)||!y)return!1;if(null===Object.getPrototypeOf(e))return!0;for(var t=e;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function E(e){return l(e)||h(e)||S(e)}function T(e){return v(e)&&m(e.then)}function S(e){return R(e,"[object String]")}function _(e){return"symbol"==typeof e||R(e,"[object Symbol]")}function j(e,t){if(!m(e))return!1;for(;m(e);){if(e===t)return!0;e=Reflect.getPrototypeOf(e)}return!1}function R(e,t){return n.call(e)===t}function z(e){return e&&0===e.indexOf("Tr2")||0===e.indexOf("Tri")}function O(e){return z(e)?e.replace("Tr2","Tw2").replace("Tri","Tw2"):e}function P(e){return Object.prototype.toString.call(e).slice(8,-1).toUpperCase()}function A(e){return!!e&&!!(e.buffer instanceof ArrayBuffer&&e.BYTES_PER_ELEMENT)}function x(e){return void 0===e}function M(e,t){if(e){if(A(e))return void 0===t||e.length===t;if(a(e)){if(void 0!==t&&e.length!==t)return!1;for(var r=0;r<e.length;r++)if(!h(e[r]))return!1;return!0}}return!1}function C(e){return M(e,2)}function D(e){return M(e,3)}function I(e){return M(e,4)}function L(e){return M(e,9)}function F(e){return M(e,16)}function G(e,t){return e===t||!(!h(e)||!h(t))&&i.num.equals(e,t)}function B(e,t){if(e===t)return!0;if(e.length!==t.length)return!1;for(var r=0;r<e.length;r++)if(!i.num.equals(e[r],t[r]))return!1;return!0}function N(e,t){if(e===t)return!0;if(h(e))return!!h(t)&&i.num.equals(e,t);if(M(e))return!!M(t)&&B(e,t);if(!y(e)||!y(t))return!1;if(e.constructor!==t.constructor)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(var a=0;a<r.length;a++){var o=r[a];if(!t.hasOwnProperty(o))return!1;if(!N(e[o],t[o]))return!1}for(var s=0;s<n.length;s++)if(e.hasOwnProperty(n[s]))return!1;return!0}},"./global/utils/url.js":function(e,t,r){"use strict";r.r(t),r.d(t,"getURL",(function(){return f})),r.d(t,"getURLString",(function(){return d})),r.d(t,"getURLInteger",(function(){return h})),r.d(t,"getURLFloat",(function(){return m})),r.d(t,"getURLBoolean",(function(){return b}));for(var i=r("./global/utils/type.js"),n={},a=window.location.search.substring(1).split("&"),o=0;o<a.length;o++){var s=a[o].split("="),l=s[0],u=unescape(s[1]);if(l){var c=u.toLowerCase();switch(c){case"true":c=!0;break;case"false":c=!1;break;case"null":c=null;break;case"undefined":c=void 0;break;default:isNaN(c)||(c=Number(c))}n[l]=c}}function f(e){if(Object(i.isPlain)(e)){var t={};for(var r in e)e.hasOwnProperty(r)&&(t[r]=void 0===n[r]?e[r]:n[r]);return t}if(Object(i.isFunction)(e)){var a={};for(var o in n)if(n.hasOwnProperty(o)){var s=e(o,n[o],n);void 0!==s&&(a[o]=s)}return a}return Object.assign({},n)}function d(e,t){return(e=e.toLowerCase())in n?n[e]:t}function h(e,t){return(e=e.toLowerCase())in n?parseInt(n[e],10):t}function m(e,t){return(e=e.toLowerCase())in n?parseFloat(n[e]):t}function b(e,t){return(e=e.toLowerCase())in n?n[e]:t}},"./global/utils/uuid.js":function(e,t,r){"use strict";r.r(t),r.d(t,"enableUUID",(function(){return o})),r.d(t,"generateID",(function(){return s}));var i=null,n=0,a=null;function o(e){if(e!==i){if(null!==i)throw new Error("Cannot change id generation type once set");if(e){a=[];for(var t=0;t<256;t++)a[t]=(t<16?"0":"")+t.toString(16).toUpperCase()}i=e}}function s(){return null===i&&(i=!1),i?(e=4294967295*Math.random()|0,t=4294967295*Math.random()|0,r=4294967295*Math.random()|0,o=4294967295*Math.random()|0,a[255&e]+a[e>>8&255]+a[e>>16&255]+a[e>>24&255]+"-"+a[255&t]+a[t>>8&255]+"-"+a[t>>16&15|64]+a[t>>24&255]+"-"+a[63&r|128]+a[r>>8&255]+"-"+a[r>>16&255]+a[r>>24&255]+a[255&o]+a[o>>8&255]+a[o>>16&255]+a[o>>24&255]):n++;var e,t,r,o}},"./index.js":function(e,t,r){"use strict";r.r(t);r("../node_modules/core-js/modules/es.symbol.description.js"),r("../node_modules/core-js/modules/es.symbol.async-iterator.js"),r("../node_modules/core-js/modules/es.array.flat.js"),r("../node_modules/core-js/modules/es.array.flat-map.js"),r("../node_modules/core-js/modules/es.array.index-of.js"),r("../node_modules/core-js/modules/es.array.iterator.js"),r("../node_modules/core-js/modules/es.array.last-index-of.js"),r("../node_modules/core-js/modules/es.array.reverse.js"),r("../node_modules/core-js/modules/es.array.slice.js"),r("../node_modules/core-js/modules/es.array.sort.js"),r("../node_modules/core-js/modules/es.array.splice.js"),r("../node_modules/core-js/modules/es.array.unscopables.flat.js"),r("../node_modules/core-js/modules/es.array.unscopables.flat-map.js"),r("../node_modules/core-js/modules/es.array-buffer.constructor.js"),r("../node_modules/core-js/modules/es.array-buffer.slice.js"),r("../node_modules/core-js/modules/es.math.hypot.js"),r("../node_modules/core-js/modules/es.number.parse-float.js"),r("../node_modules/core-js/modules/es.object.define-getter.js"),r("../node_modules/core-js/modules/es.object.define-setter.js"),r("../node_modules/core-js/modules/es.object.from-entries.js"),r("../node_modules/core-js/modules/es.object.lookup-getter.js"),r("../node_modules/core-js/modules/es.object.lookup-setter.js"),r("../node_modules/core-js/modules/es.promise.js"),r("../node_modules/core-js/modules/es.promise.finally.js"),r("../node_modules/core-js/modules/es.string.pad-end.js"),r("../node_modules/core-js/modules/es.string.pad-start.js"),r("../node_modules/core-js/modules/es.string.replace.js"),r("../node_modules/core-js/modules/es.string.trim.js"),r("../node_modules/core-js/modules/es.string.trim-end.js"),r("../node_modules/core-js/modules/es.string.trim-start.js"),r("../node_modules/core-js/modules/es.typed-array.float32-array.js"),r("../node_modules/core-js/modules/es.typed-array.float64-array.js"),r("../node_modules/core-js/modules/es.typed-array.int8-array.js"),r("../node_modules/core-js/modules/es.typed-array.int16-array.js"),r("../node_modules/core-js/modules/es.typed-array.int32-array.js"),r("../node_modules/core-js/modules/es.typed-array.uint8-array.js"),r("../node_modules/core-js/modules/es.typed-array.uint8-clamped-array.js"),r("../node_modules/core-js/modules/es.typed-array.uint16-array.js"),r("../node_modules/core-js/modules/es.typed-array.uint32-array.js"),r("../node_modules/core-js/modules/es.typed-array.from.js"),r("../node_modules/core-js/modules/es.typed-array.of.js"),r("../node_modules/core-js/modules/web.dom-collections.for-each.js"),r("../node_modules/core-js/modules/web.dom-collections.iterator.js"),r("../node_modules/core-js/modules/web.immediate.js"),r("../node_modules/core-js/modules/web.queue-microtask.js"),r("../node_modules/core-js/modules/web.url.js"),r("../node_modules/core-js/modules/web.url.to-json.js"),r("../node_modules/core-js/modules/web.url-search-params.js"),r("../node_modules/reflect-metadata/Reflect.js");var i=r("./config.js"),n=r("./global/index.js");r.d(t,"tw2",(function(){return n.tw2})),r.d(t,"CCPWGL",(function(){return n.tw2})),n.tw2.Register(i.config)},"./particle/Tw2ParticleSystem.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tw2ParticleSystem",(function(){return W}));var i,n,a,o,s,l,u,c,f,d,h,m,b,p,v,g,y,w,E,T,S,_,j,R,z,O,P,A,x,M,C,D,I,L,F,G,B=r("./global/utils/index.js"),N=r("./global/index.js"),U=r("./global/math/index.js"),k=r("./core/index.js"),V=r("./particle/element/index.js");function H(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function q(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var W=(i=B.meta.type("Tw2ParticleSystem","Tr2ParticleSystem"),n=B.meta.string,a=B.meta.boolean,o=B.meta.boolean,s=B.meta.list("Tw2ParticleConstraint"),l=B.meta.list("Tw2ParticleElementDeclaration"),u=B.meta.struct("Tw2ParticleEmitter"),c=B.meta.struct("Tw2ParticleEmitter"),f=B.meta.list("Tw2ParticleForce"),d=B.meta.uint,h=B.meta.boolean,m=B.meta.boolean,b=B.meta.boolean,p=B.meta.notImplemented,v=B.meta.boolean,g=B.meta.todo("This is unused, remove it?"),y=B.meta.todo("This is unused, remove it?"),i((G=F=class e extends B.meta.Model{constructor(){super(),H(this,"name",T,this),H(this,"applyAging",S,this),H(this,"applyForce",_,this),H(this,"constraints",j,this),H(this,"elements",R,this),H(this,"emitParticleDuringLifeEmitter",z,this),H(this,"emitParticleOnDeathEmitter",O,this),H(this,"forces",P,this),H(this,"maxParticleCount",A,this),H(this,"requiresSorting",x,this),H(this,"updateBoundingBox",M,this),H(this,"updateSimulation",C,this),H(this,"useSimTimeRebase",D,this),H(this,"isGlobal",I,this),H(this,"peakAliveCount",L,this),this._aabbMin=U.vec3.create(),this._aabbMax=U.vec3.create(),this._aliveCount=0,this._bufferDirty=!1,this._buffers=[null,null],this._declaration=null,this._elements=[],this._instanceStride=[null,null],this._isValid=!1,this._distancesBuffer=null,this._sortedBuffer=null,this._sortedIndexes=null,this._stdElements=[null,null,null,null],this._vb=null,this._vertexStride=[null,null],e.init()}Initialize(){this.UpdateElementDeclaration()}GetResources(e=[]){return e}UpdateElementDeclaration(){this._isValid=!1;var e=N.device.gl;if(this._vb&&(e.deleteBuffer(this._vb),this._vb=null),this._declaration=null,this._aliveCount=0,0!==this.elements.length){this._stdElements=[null,null,null,null],this._elements=[],this._instanceStride=[0,0],this._vertexStride=[0,0],this._declaration=new k.Tw2VertexDeclaration,this._buffers=[null,null];for(var t=0;t<this.elements.length;++t){var r=this.elements[t].usedByGPU?0:1,i=this.elements[t],n=V.Tw2ParticleElement.from({elementType:i.elementType,customName:i.customName,dimension:i.GetDimension(),usageIndex:i.usageIndex,usedByGPU:i.usedByGPU});if(n.startOffset=this._vertexStride[r],n.offset=n.startOffset,this.elements[t].elementType!==V.Tw2ParticleElement.Type.CUSTOM&&(this._stdElements[this.elements[t].elementType]=n),this._vertexStride[r]+=n.dimension,this._elements.push(n),0===r){var a=this.elements[t].GetDeclaration();a.offset=4*n.startOffset,this._declaration.elements.push(a)}}this._declaration.RebuildHash();for(var o=0;o<this._elements.length;++o){var s=this._elements[o].usedByGPU?0:1;this._elements[o].vertexStride=this._vertexStride[s]}this._instanceStride[0]=4*this._vertexStride[0],this._instanceStride[1]=4*this._vertexStride[1];for(var l=0;l<this._elements.length;++l){var u=this._elements[l].usedByGPU?0:1;this._elements[l].instanceStride=this._instanceStride[u]}this._buffers=[null,null],this._instanceStride[0]&&this.maxParticleCount&&(this._buffers[0]=new Float32Array(this._instanceStride[0]*this.maxParticleCount),this._vb=e.createBuffer(),e.bindBuffer(e.ARRAY_BUFFER,this._vb),e.bufferData(e.ARRAY_BUFFER,this._buffers[0].length,e.DYNAMIC_DRAW),e.bindBuffer(e.ARRAY_BUFFER,null)),this._instanceStride[1]&&(this._buffers[1]=new Float32Array(this._instanceStride[1]*this.maxParticleCount));for(var c=0;c<this._elements.length;++c){var f=this._elements[c].usedByGPU?0:1;this._elements[c].buffer=this._buffers[f]}this.requiresSorting&&(this._sortedIndexes=new Array(this.maxParticleCount),this._sortedBuffer=new Float32Array(this._instanceStride[0]*this.maxParticleCount),this._distancesBuffer=new Float32Array(this.maxParticleCount)),this._isValid=!0,this._bufferDirty=!0}}HasElement(e){return null!==this._stdElements[e]}GetElement(e){return this._stdElements[e]&&(this._stdElements[e].offset=this._stdElements[e].startOffset),this._stdElements[e]}BeginSpawnParticle(){return!this._isValid||this._aliveCount>=this.maxParticleCount?null:this._aliveCount++}EndSpawnParticle(){this._bufferDirty=!0}Update(t){if(t=Math.min(t,.1),this.applyAging&&this.HasElement(V.Tw2ParticleElement.Type.LIFETIME)){for(var r=this.GetElement(V.Tw2ParticleElement.Type.LIFETIME),i=this.emitParticleOnDeathEmitter?this.GetElement(V.Tw2ParticleElement.Type.POSITION):null,n=this.emitParticleOnDeathEmitter?this.GetElement(V.Tw2ParticleElement.Type.VELOCITY):null,a=0;a<this._aliveCount;++a)if(r.buffer[r.offset]+=t/r.buffer[r.offset+1],r.buffer[r.offset]>1){if(this.emitParticleOnDeathEmitter&&this.emitParticleOnDeathEmitter.SpawnParticles(i,n,1),this._aliveCount--,a<this._aliveCount){for(var o=0;o<2;++o)this._buffers[o]&&this._buffers[o].set(this._buffers[o].subarray(this._instanceStride[o]*this._aliveCount,this._instanceStride[o]*this._aliveCount+this._instanceStride[o]),a*this._instanceStride[o]);--a,this._bufferDirty=!0}}else r.offset+=r.instanceStride,i&&(i.offset+=i.instanceStride),n&&(n.offset+=n.instanceStride);r.dirty=!0}var s=e.global.vec3_0;if(this.updateSimulation&&this.HasElement(V.Tw2ParticleElement.Type.POSITION)&&this.HasElement(V.Tw2ParticleElement.Type.VELOCITY)){for(var l=this.applyForce&&this.forces.length,u=0;u<this.forces.length;++u)this.forces[u].Update(t);for(var c=this.GetElement(V.Tw2ParticleElement.Type.POSITION),f=this.GetElement(V.Tw2ParticleElement.Type.VELOCITY),d=l?this.GetElement(V.Tw2ParticleElement.Type.MASS):null,h=0;h<this._aliveCount;++h){if(l){for(var m=d?d.buffer[d.offset]:1,b=U.vec3.set(s,0,0,0),p=0;p<this.forces.length;++p)this.forces[p].ApplyForce(c,f,b,t,m);d&&U.vec3.scale(b,b,1/d.buffer[d.offset]),f.buffer[f.offset]+=b[0]*t,f.buffer[f.offset+1]+=b[1]*t,f.buffer[f.offset+2]+=b[2]*t}c.buffer[c.offset]+=f.buffer[f.offset]*t,c.buffer[c.offset+1]+=f.buffer[f.offset+1]*t,c.buffer[c.offset+2]+=f.buffer[f.offset+2]*t,this.emitParticleDuringLifeEmitter&&this.emitParticleDuringLifeEmitter.SpawnParticles(c,f,t),c.offset+=c.instanceStride,f.offset+=f.instanceStride,d&&(d.offset+=d.instanceStride)}c.dirty=!0,f.dirty=!0}if(this.updateSimulation&&this.constraints.length)for(var v=0;v<this.constraints.length;++v)this.constraints[v].ApplyConstraint(this._buffers,this._instanceStride,this._aliveCount,t);if(this.updateBoundingBox&&this.GetBoundingBox(this._aabbMin,this._aabbMax),this.emitParticleDuringLifeEmitter&&(!this.HasElement(V.Tw2ParticleElement.Type.POSITION)||!this.HasElement(V.Tw2ParticleElement.Type.VELOCITY))&&this.updateSimulation)for(var g=this.GetElement(V.Tw2ParticleElement.Type.POSITION),y=this.GetElement(V.Tw2ParticleElement.Type.VELOCITY),w=0;w<this._aliveCount;++w)this.emitParticleDuringLifeEmitter.SpawnParticles(g,y,1),g&&(g.offset+=g.instanceStride),y&&(y.offset+=y.instanceStride);for(var E=0;E<this._elements.length;++E){var T=this._elements[E];T.offset=T.startOffset,T.dirty&&(this._bufferDirty=!0,T.dirty=!1)}}GetBoundingBox(e,t){if(this._aliveCount&&this.HasElement(V.Tw2ParticleElement.Type.POSITION)){var r=this.GetElement(V.Tw2ParticleElement.Type.POSITION);e[0]=r.buffer[r.offset],e[1]=r.buffer[r.offset+1],e[2]=r.buffer[r.offset+2],t[0]=r.buffer[r.offset],t[1]=r.buffer[r.offset+1],t[2]=r.buffer[r.offset+2];for(var i=0;i<this._aliveCount;++i)e[0]=Math.min(e[0],r.buffer[r.offset]),e[1]=Math.min(e[1],r.buffer[r.offset+1]),e[2]=Math.min(e[2],r.buffer[r.offset+2]),t[0]=Math.max(t[0],r.buffer[r.offset]),t[1]=Math.max(t[1],r.buffer[r.offset+1]),t[2]=Math.max(t[2],r.buffer[r.offset+2]),r.offset+=r.instanceStride;return!0}return!1}_Sort(){for(var t=U.mat4.multiply(e.global.mat4_0,N.device.projection,N.device.view),r=this.GetElement(V.Tw2ParticleElement.Type.POSITION),i=this._aliveCount,n=this._distancesBuffer,a=0;a<i;++a){var o=r.offset+r.instanceStride*a,s=r.buffer[o]-t[12],l=s*s;l+=(s=r.buffer[o+1]-t[13])*s,l+=(s=r.buffer[o+2]-t[14])*s,n[a]=l}for(var u=0;u<this.maxParticleCount;++u)this._sortedIndexes[u]=u;this._sortedIndexes.sort((function(e,t){if(e>=i&&t>=i)return e<t?-1:e>t?1:0;if(e>=i)return 1;if(t>=i)return-1;var r=n[e],a=n[t];return r<a?1:r>a?-1:0}))}GetInstanceBuffer(){if(0!==this._aliveCount){var e=N.device.gl;if(this.requiresSorting&&this.HasElement(V.Tw2ParticleElement.Type.POSITION)&&this._buffers){this._Sort();for(var t=this._instanceStride[0],r=this._buffers[0],i=0;i<this._aliveCount;++i)for(var n=i*t,a=this._sortedIndexes[i]*t,o=0;o<t;++o)this._sortedBuffer[n+o]=r[o+a];e.bindBuffer(e.ARRAY_BUFFER,this._vb),e.bufferSubData(e.ARRAY_BUFFER,0,this._sortedBuffer.subarray(0,this._vertexStride[0]*this._aliveCount)),this._bufferDirty=!1}else this._bufferDirty&&(e.bindBuffer(e.ARRAY_BUFFER,this._vb),e.bufferSubData(e.ARRAY_BUFFER,0,this._buffers[0].subarray(0,this._vertexStride[0]*this._aliveCount)),this._bufferDirty=!1);return this._vb}}GetInstanceDeclaration(){return this._declaration}GetInstanceStride(){return this._instanceStride[0]}GetInstanceCount(){return this._aliveCount}static init(){V.Tw2ParticleElement.global||(e.global={vec3_0:U.vec3.create(),mat4_0:U.mat4.create()})}},F.global=null,T=q((E=G).prototype,"name",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),S=q(E.prototype,"applyAging",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),_=q(E.prototype,"applyForce",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),j=q(E.prototype,"constraints",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),R=q(E.prototype,"elements",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),z=q(E.prototype,"emitParticleDuringLifeEmitter",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),O=q(E.prototype,"emitParticleOnDeathEmitter",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),P=q(E.prototype,"forces",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),A=q(E.prototype,"maxParticleCount",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),x=q(E.prototype,"requiresSorting",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),M=q(E.prototype,"updateBoundingBox",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),C=q(E.prototype,"updateSimulation",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),D=q(E.prototype,"useSimTimeRebase",[p,v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),I=q(E.prototype,"isGlobal",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),L=q(E.prototype,"peakAliveCount",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),w=E))||w)},"./particle/element/Tw2ParticleElement.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tw2ParticleElement",(function(){return C}));var i,n,a,o,s,l,u,c,f,d,h,m,b,p,v,g,y,w,E,T,S,_,j,R,z,O,P=r("./global/utils/index.js");function A(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function x(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var M={LIFETIME:0,POSITION:1,VELOCITY:2,MASS:3,CUSTOM:4},C=(i=P.meta.type("Tw2ParticleElement"),n=P.meta.enums(M),a=P.meta.string,o=P.meta.uint,s=P.meta.uint,l=P.meta.boolean,u=P.meta.uint,c=P.meta.uint,f=P.meta.uint,d=P.meta.uint,h=P.meta.boolean,m=P.meta.isPrivate,i((O=z=class e{constructor(){A(this,"elementType",v,this),A(this,"customName",g,this),A(this,"dimension",y,this),A(this,"usageIndex",w,this),A(this,"usedByGPU",E,this),this.buffer=null,A(this,"startOffset",T,this),A(this,"offset",S,this),A(this,"instanceStride",_,this),A(this,"vertexStride",j,this),A(this,"dirty",R,this)}get string(){return e.TypeMap[this.elementType]||"UNKNOWN"}static from(t){var r=new e;if(t){var i=t.elementType;r.elementType="string"==typeof i?this.Type[i.toUpperCase()]:i,r.customName=t.customName,r.dimension=t.dimension,r.usageIndex=t.usageIndex,r.usedByGPU=t.usedByGPU?1:0}return r}},z.Type=M,z.TypeMap=["LIFETIME","POSITION","VELOCITY","MASS","CUSTOM"],v=x((p=O).prototype,"elementType",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),g=x(p.prototype,"customName",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),y=x(p.prototype,"dimension",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),w=x(p.prototype,"usageIndex",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),E=x(p.prototype,"usedByGPU",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),T=x(p.prototype,"startOffset",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),S=x(p.prototype,"offset",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),_=x(p.prototype,"instanceStride",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),j=x(p.prototype,"vertexStride",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),R=x(p.prototype,"dirty",[h,m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),b=p))||b)},"./particle/element/Tw2ParticleElementDeclaration.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tw2ParticleElementDeclaration",(function(){return S}));var i,n,a,o,s,l,u,c,f,d,h,m,b,p,v,g=r("./core/index.js"),y=r("./particle/element/Tw2ParticleElement.js"),w=r("./global/utils/index.js");function E(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function T(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var S=(i=w.meta.type("Tw2ParticleElementDeclaration","Tr2ParticleElementDeclaration"),n=w.meta.string,a=w.meta.uint,o=w.meta.uint,s=w.meta.enums(y.Tw2ParticleElement.Type),l=w.meta.uint,u=w.meta.boolean,i((v=class extends w.meta.Model{constructor(...e){super(...e),E(this,"customName",d,this),E(this,"dimension",h,this),E(this,"elementType",m,this),E(this,"usageIndex",b,this),E(this,"usedByGPU",p,this)}GetDimension(){switch(this.elementType){case y.Tw2ParticleElement.Type.LIFETIME:return 2;case y.Tw2ParticleElement.Type.POSITION:case y.Tw2ParticleElement.Type.VELOCITY:return 3;case y.Tw2ParticleElement.Type.MASS:return 1}return this.dimension}GetDeclaration(){var e;switch(this.elementType){case y.Tw2ParticleElement.Type.LIFETIME:e=g.Tw2VertexElement.Type.TANGENT;break;case y.Tw2ParticleElement.Type.POSITION:e=g.Tw2VertexElement.Type.POSITION;break;case y.Tw2ParticleElement.Type.VELOCITY:e=g.Tw2VertexElement.Type.NORMAL;break;case y.Tw2ParticleElement.Type.MASS:e=g.Tw2VertexElement.Type.BINORMAL;break;default:e=g.Tw2VertexElement.Type.TEXCOORD}return g.Tw2VertexElement.from({usage:e,usageIndex:this.usageIndex,elements:this.GetDimension()})}},d=T((f=v).prototype,"customName",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),h=T(f.prototype,"dimension",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),m=T(f.prototype,"elementType",[o,s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return y.Tw2ParticleElement.Type.CUSTOM}}),b=T(f.prototype,"usageIndex",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),p=T(f.prototype,"usedByGPU",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),c=f))||c)},"./particle/element/index.js":function(e,t,r){"use strict";r.r(t);var i=r("./particle/element/Tw2ParticleElement.js");r.d(t,"Tw2ParticleElement",(function(){return i.Tw2ParticleElement}));var n=r("./particle/element/Tw2ParticleElementDeclaration.js");r.d(t,"Tw2ParticleElementDeclaration",(function(){return n.Tw2ParticleElementDeclaration}))},"./particle/emitter/Tw2DynamicEmitter.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tw2DynamicEmitter",(function(){return T}));var i,n,a,o,s,l,u,c,f,d,h,m,b,p,v,g=r("./global/utils/index.js"),y=r("./particle/emitter/Tw2ParticleEmitter.js");function w(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function E(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var T=(i=g.meta.type("Tw2DynamicEmitter","Tr2DynamicEmitter"),n=g.meta.string,a=g.meta.list("Tw2ParticleAttributeGenerator"),o=g.meta.notImplemented,s=g.meta.uint,l=g.meta.struct("Tw2ParticleSystem"),u=g.meta.float,i((v=class extends y.Tw2ParticleEmitter{constructor(...e){super(...e),w(this,"name",d,this),w(this,"generators",h,this),w(this,"maxParticles",m,this),w(this,"particleSystem",b,this),w(this,"rate",p,this),this._accumulatedRate=0,this._isValid=!1}Initialize(){this.Rebind()}Update(e){this.SpawnParticles(null,null,Math.min(e,.1))}Rebind(){if(this._isValid=!1,this.particleSystem){for(var e=0;e<this.generators.length;++e)if(!this.generators[e].Bind(this.particleSystem))return;this._isValid=!0}}SpawnParticles(e,t,r){if(this._isValid){this._accumulatedRate+=this.rate*r;var i=Math.floor(this._accumulatedRate);this._accumulatedRate-=i;for(var n=0;n<i;++n){var a=this.particleSystem.BeginSpawnParticle();if(null===a)break;for(var o=0;o<this.generators.length;++o)this.generators[o].Generate(e,t,a);this.particleSystem.EndSpawnParticle()}}}},d=E((f=v).prototype,"name",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),h=E(f.prototype,"generators",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),m=E(f.prototype,"maxParticles",[o,s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),b=E(f.prototype,"particleSystem",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),p=E(f.prototype,"rate",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),c=f))||c)},"./particle/emitter/Tw2ParticleEmitter.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tw2ParticleEmitter",(function(){return m}));var i,n,a,o,s=r("./global/utils/index.js");var l,u,c,f,d,h,m=(i=s.meta.struct("Tw2ParticleSystem"),o=class extends s.meta.Model{constructor(...e){var t,r,i,n;super(...e),t=this,r="particleSystem",n=this,(i=a)&&Object.defineProperty(t,r,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}Initialize(){}GetResources(e=[]){return this.particleSystem&&this.particleSystem.GetResources(e),e}Update(e){}},l=(n=o).prototype,u="particleSystem",c=[i],f={configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}},h={},Object.keys(f).forEach((function(e){h[e]=f[e]})),h.enumerable=!!h.enumerable,h.configurable=!!h.configurable,("value"in h||h.initializer)&&(h.writable=!0),h=c.slice().reverse().reduce((function(e,t){return t(l,u,e)||e}),h),d&&void 0!==h.initializer&&(h.value=h.initializer?h.initializer.call(d):void 0,h.initializer=void 0),void 0===h.initializer&&(Object.defineProperty(l,u,h),h=null),a=h,n)},"./particle/emitter/Tw2StaticEmitter.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tw2StaticEmitter",(function(){return _}));var i,n,a,o,s,l,u,c,f,d,h,m,b,p,v,g=r("./global/utils/index.js"),y=r("./global/index.js"),w=r("./core/index.js"),E=r("./particle/emitter/Tw2ParticleEmitter.js");function T(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function S(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var _=(i=g.meta.type("Tw2StaticEmitter","Tr2StaticEmitter"),n=g.meta.string,a=g.meta.path,o=g.meta.uint,s=g.meta.struct("Tw2ParticleSystem"),l=g.meta.struct("Tw2GeometryRes"),u=g.meta.isPrivate,i((v=class extends E.Tw2ParticleEmitter{constructor(...e){super(...e),T(this,"name",d,this),T(this,"geometryResourcePath",h,this),T(this,"meshIndex",m,this),T(this,"particleSystem",b,this),T(this,"geometryResource",p,this),this._spawned=!1}get geometryIndex(){return this.meshIndex}set geometryIndex(e){this.meshIndex=e}Initialize(){""!==this.geometryResourcePath&&(this.geometryResource=y.resMan.GetResource(this.geometryResourcePath,e=>{e.systemMirror=!0,this.OnResPrepared(e)})),this._spawned=!1}GetResources(e=[]){return this.particleSystem&&this.particleSystem.GetResources(e),this.geometryResource&&!e.includes(this.geometryResource)&&e.push(this.geometryResource),e}OnResPrepared(){this.geometryResource&&this.geometryResource.meshes.length&&(this.geometryResource.meshes[0].bufferData||(this.geometryResource.systemMirror=!0,this.geometryResource.Reload()))}Update(){var e=this.geometryResource;if(!this._spawned&&this.particleSystem&&e&&e.IsGood()&&e.meshes.length>this.meshIndex&&e.meshes[this.meshIndex].bufferData){this._spawned=!0;for(var t=e.meshes[this.meshIndex],r=this.particleSystem.elements,i=new Array(r.length),n=0;n<r.length;++n){var a=r[n].GetDeclaration(),o=t.declaration.FindUsage(a.usage,a.usageIndex-8);if(null===o)return void e.OnError(new w.ErrGeometryMeshMissingParticleElement({path:e.path,elementUsage:a.usage,elementUsageIndex:a.usageIndex}));if(o.elements<a.elements)return void e.OnError(new w.ErrGeometryMeshElementComponentsMissing({path:e.path,inputCount:o.elements,elementCount:a.elements,elementUsage:a.usage,elementUsageIndex:a.usageIndex}));i[n]=o.offset/4}for(var s=t.bufferData.length/t.declaration.stride*4,l=0;l<s;++l){var u=this.particleSystem.BeginSpawnParticle();if(null===u)break;for(var c=0;c<this.particleSystem._elements.length;++c)for(var f=this.particleSystem._elements[c],d=0;d<f.dimension;++d)f.buffer[f.instanceStride*u+f.startOffset+d]=t.bufferData[i[c]+d+l*t.declaration.stride/4];this.particleSystem.EndSpawnParticle()}}}},d=S((f=v).prototype,"name",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),h=S(f.prototype,"geometryResourcePath",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),m=S(f.prototype,"meshIndex",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),b=S(f.prototype,"particleSystem",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),p=S(f.prototype,"geometryResource",[l,u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),c=f))||c)},"./particle/emitter/index.js":function(e,t,r){"use strict";r.r(t);var i=r("./particle/emitter/Tw2StaticEmitter.js");r.d(t,"Tw2StaticEmitter",(function(){return i.Tw2StaticEmitter}));var n=r("./particle/emitter/Tw2DynamicEmitter.js");r.d(t,"Tw2DynamicEmitter",(function(){return n.Tw2DynamicEmitter}))},"./particle/force/Tw2ParticleAttractorForce.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tw2ParticleAttractorForce",(function(){return p}));var i,n,a,o,s,l,u,c,f=r("./global/math/index.js"),d=r("./global/utils/index.js"),h=r("./particle/force/Tw2ParticleForce.js");function m(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function b(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var p=(i=d.meta.type("Tw2ParticleAttractorForce","Tr2ParticleAttractorForce"),n=d.meta.float,a=d.meta.vector3,i((c=class extends h.Tw2ParticleForce{constructor(...e){super(...e),m(this,"magnitude",l,this),m(this,"position",u,this)}ApplyForce(e,t,r,i,n){var a=h.Tw2ParticleForce.global.vec3_0;a[0]=this.position[0]-e.buffer[e.offset],a[1]=this.position[1]-e.buffer[e.offset+1],a[2]=this.position[2]-e.buffer[e.offset+2],f.vec3.normalize(a,a),f.vec3.scale(a,a,this.magnitude),f.vec3.add(r,r,a)}},l=b((s=c).prototype,"magnitude",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),u=b(s.prototype,"position",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return f.vec3.create()}}),o=s))||o)},"./particle/force/Tw2ParticleDirectForce.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tw2ParticleDirectForce",(function(){return g}));var i,n,a,o,s,l,u=r("./global/utils/index.js"),c=r("./global/math/index.js"),f=r("./particle/force/Tw2ParticleForce.js");var d,h,m,b,p,v,g=(i=u.meta.type("Tw2ParticleDirectForce","Tr2ParticleDirectForce"),n=u.meta.vector3,i((l=class extends f.Tw2ParticleForce{constructor(...e){var t,r,i,n;super(...e),t=this,r="force",n=this,(i=s)&&Object.defineProperty(t,r,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}ApplyForce(e,t,r,i,n){c.vec3.add(r,r,this.force)}},d=(o=l).prototype,h="force",m=[n],b={configurable:!0,enumerable:!0,writable:!0,initializer:function(){return c.vec3.create()}},v={},Object.keys(b).forEach((function(e){v[e]=b[e]})),v.enumerable=!!v.enumerable,v.configurable=!!v.configurable,("value"in v||v.initializer)&&(v.writable=!0),v=m.slice().reverse().reduce((function(e,t){return t(d,h,e)||e}),v),p&&void 0!==v.initializer&&(v.value=v.initializer?v.initializer.call(p):void 0,v.initializer=void 0),void 0===v.initializer&&(Object.defineProperty(d,h,v),v=null),s=v,a=o))||a)},"./particle/force/Tw2ParticleDragForce.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tw2ParticleDragForce",(function(){return v}));var i,n,a,o,s,l,u=r("./global/utils/index.js"),c=r("./particle/force/Tw2ParticleForce.js");var f,d,h,m,b,p,v=(i=u.meta.type("Tw2ParticleDragForce","Tr2ParticleDragForce"),n=u.meta.float,i((l=class extends c.Tw2ParticleForce{constructor(...e){var t,r,i,n;super(...e),t=this,r="drag",n=this,(i=s)&&Object.defineProperty(t,r,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}ApplyForce(e,t,r,i,n){r[0]+=t.buffer[t.offset]*-this.drag,r[1]+=t.buffer[t.offset+1]*-this.drag,r[2]+=t.buffer[t.offset+2]*-this.drag}},f=(o=l).prototype,d="drag",h=[n],m={configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.1}},p={},Object.keys(m).forEach((function(e){p[e]=m[e]})),p.enumerable=!!p.enumerable,p.configurable=!!p.configurable,("value"in p||p.initializer)&&(p.writable=!0),p=h.slice().reverse().reduce((function(e,t){return t(f,d,e)||e}),p),b&&void 0!==p.initializer&&(p.value=p.initializer?p.initializer.call(b):void 0,p.initializer=void 0),void 0===p.initializer&&(Object.defineProperty(f,d,p),p=null),s=p,a=o))||a)},"./particle/force/Tw2ParticleFluidDragForce.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tw2ParticleFluidDragForce",(function(){return g}));var i,n,a,o,s,l,u=r("./global/utils/index.js"),c=r("./global/math/index.js"),f=r("./particle/force/Tw2ParticleForce.js");var d,h,m,b,p,v,g=(i=u.meta.type("Tw2ParticleFluidDragForce","Tr2ParticleFluidDragForce"),n=u.meta.float,i((l=class extends f.Tw2ParticleForce{constructor(...e){var t,r,i,n;super(...e),t=this,r="drag",n=this,(i=s)&&Object.defineProperty(t,r,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}ApplyForce(e,t,r,i,n){var a=f.Tw2ParticleForce.global.vec3_0,o=f.Tw2ParticleForce.global.vec3_1,s=Math.sqrt(t.buffer[t.offset]*t.buffer[t.offset]+t.buffer[t.offset+1]*t.buffer[t.offset+1]+t.buffer[t.offset+2]*t.buffer[t.offset+2]);a[0]=t.buffer[t.offset]*-s*this.drag,a[1]=t.buffer[t.offset+1]*-s*this.drag,a[2]=t.buffer[t.offset+2]*-s*this.drag,c.vec3.scale(o,a,i*n),o[0]+=t.buffer[t.offset],o[1]+=t.buffer[t.offset+1],o[2]+=t.buffer[t.offset+2],t.buffer[t.offset]*o[0]+t.buffer[t.offset+1]*o[1]+t.buffer[t.offset+2]*o[2]<0?(r[0]=-t.buffer[t.offset]/i/n,r[1]=-t.buffer[t.offset+1]/i/n,r[2]=-t.buffer[t.offset+2]/i/n):c.vec3.copy(r,a)}},d=(o=l).prototype,h="drag",m=[n],b={configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.1}},v={},Object.keys(b).forEach((function(e){v[e]=b[e]})),v.enumerable=!!v.enumerable,v.configurable=!!v.configurable,("value"in v||v.initializer)&&(v.writable=!0),v=m.slice().reverse().reduce((function(e,t){return t(d,h,e)||e}),v),p&&void 0!==v.initializer&&(v.value=v.initializer?v.initializer.call(p):void 0,v.initializer=void 0),void 0===v.initializer&&(Object.defineProperty(d,h,v),v=null),s=v,a=o))||a)},"./particle/force/Tw2ParticleForce.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tw2ParticleForce",(function(){return b}));var i,n,a,o,s=r("./global/utils/index.js"),l=r("./global/math/index.js");var u,c,f,d,h,m,b=(i=s.meta.abstract,o=a=class extends s.meta.Model{ApplyForce(e,t,r,i,n){}Update(e){}},a.global={vec3_0:l.vec3.create(),vec3_1:l.vec3.create(),vec4_0:l.vec4.create()},u=(n=o).prototype,c="ApplyForce",f=[i],d=Object.getOwnPropertyDescriptor(n.prototype,"ApplyForce"),h=n.prototype,m={},Object.keys(d).forEach((function(e){m[e]=d[e]})),m.enumerable=!!m.enumerable,m.configurable=!!m.configurable,("value"in m||m.initializer)&&(m.writable=!0),m=f.slice().reverse().reduce((function(e,t){return t(u,c,e)||e}),m),h&&void 0!==m.initializer&&(m.value=m.initializer?m.initializer.call(h):void 0,m.initializer=void 0),void 0===m.initializer&&(Object.defineProperty(u,c,m),m=null),n)},"./particle/force/Tw2ParticleSpring.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tw2ParticleSpring",(function(){return p}));var i,n,a,o,s,l,u,c,f=r("./global/utils/index.js"),d=r("./global/math/index.js"),h=r("./particle/force/Tw2ParticleForce.js");function m(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function b(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var p=(i=f.meta.type("Tw2ParticleSpring","Tr2ParticleSpring"),n=f.meta.float,a=f.meta.vector3,i((c=class extends h.Tw2ParticleForce{constructor(...e){super(...e),m(this,"springConstant",l,this),m(this,"position",u,this)}ApplyForce(e,t,r,i,n){r[0]+=(this.position[0]-e.buffer[e.offset])*this.springConstant,r[1]+=(this.position[1]-e.buffer[e.offset+1])*this.springConstant,r[2]+=(this.position[2]-e.buffer[e.offset+2])*this.springConstant}},l=b((s=c).prototype,"springConstant",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),u=b(s.prototype,"position",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return d.vec3.create()}}),o=s))||o)},"./particle/force/Tw2ParticleTurbulenceForce.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tw2ParticleTurbulenceForce",(function(){return w}));var i,n,a,o,s,l,u,c,f,d,h,m,b=r("./global/utils/index.js"),p=r("./global/math/index.js"),v=r("./particle/force/Tw2ParticleForce.js");function g(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function y(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var w=(i=b.meta.type("Tw2ParticleTurbulenceForce","Tr2ParticleTurbulenceForce"),n=b.meta.vector3,a=b.meta.vector4,o=b.meta.float,s=b.meta.float,i((m=class extends v.Tw2ParticleForce{constructor(...e){super(...e),g(this,"amplitude",c,this),g(this,"frequency",f,this),g(this,"noiseLevel",d,this),g(this,"noiseRatio",h,this),this._time=0}ApplyForce(e,t,r,i,n){if(0!==this.noiseLevel){for(var a=e.buffer[e.offset]*this.frequency[0],o=e.buffer[e.offset+1]*this.frequency[1],s=e.buffer[e.offset+2]*this.frequency[2],l=this._time*this.frequency[3],u=0,c=.5,f=1/this.noiseRatio,d=p.vec4.set(v.Tw2ParticleForce.global.vec4_0,0,0,0,0),h=0;h<this.noiseLevel;++h)p.noise.turbulence(d,a,o,s,l,c),u+=c,a*=f,o*=f,s*=f,l*=f,c*=this.noiseRatio;r[0]+=d[0]*this.amplitude[0]*u,r[1]+=d[1]*this.amplitude[1]*u,r[2]+=d[2]*this.amplitude[2]*u}}Update(e){this._time+=e}},c=y((u=m).prototype,"amplitude",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return p.vec3.fromValues(1,1,1)}}),f=y(u.prototype,"frequency",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return p.vec4.fromValues(1,1,1,1)}}),d=y(u.prototype,"noiseLevel",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 3}}),h=y(u.prototype,"noiseRatio",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.5}}),l=u))||l)},"./particle/force/index.js":function(e,t,r){"use strict";r.r(t);var i=r("./particle/force/Tw2ParticleAttractorForce.js");r.d(t,"Tw2ParticleAttractorForce",(function(){return i.Tw2ParticleAttractorForce}));var n=r("./particle/force/Tw2ParticleDirectForce.js");r.d(t,"Tw2ParticleDirectForce",(function(){return n.Tw2ParticleDirectForce}));var a=r("./particle/force/Tw2ParticleDragForce.js");r.d(t,"Tw2ParticleDragForce",(function(){return a.Tw2ParticleDragForce}));var o=r("./particle/force/Tw2ParticleFluidDragForce.js");r.d(t,"Tw2ParticleFluidDragForce",(function(){return o.Tw2ParticleFluidDragForce}));var s=r("./particle/force/Tw2ParticleSpring.js");r.d(t,"Tw2ParticleSpring",(function(){return s.Tw2ParticleSpring}));var l=r("./particle/force/Tw2ParticleTurbulenceForce.js");r.d(t,"Tw2ParticleTurbulenceForce",(function(){return l.Tw2ParticleTurbulenceForce}))},"./particle/generators/Tw2ParticleAttributeGenerator.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tw2ParticleAttributeGenerator",(function(){return f}));var i,n,a,o,s,l=r("./global/utils/index.js"),u=r("./global/math/index.js");function c(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var f=(i=l.meta.abstract,n=l.meta.abstract,s=o=class extends l.meta.Model{Bind(e){}Generate(e,t,r){}},o.global={vec3_0:u.vec3.create()},c((a=s).prototype,"Bind",[i],Object.getOwnPropertyDescriptor(a.prototype,"Bind"),a.prototype),c(a.prototype,"Generate",[n],Object.getOwnPropertyDescriptor(a.prototype,"Generate"),a.prototype),a)},"./particle/generators/Tw2RandomIntegerAttributeGenerator.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tw2RandomIntegerAttributeGenerator",(function(){return _}));var i,n,a,o,s,l,u,c,f,d,h,m,b,p,v,g=r("./global/utils/index.js"),y=r("./global/math/index.js"),w=r("./particle/element/Tw2ParticleElement.js"),E=r("./particle/generators/Tw2ParticleAttributeGenerator.js");function T(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function S(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var _=(i=g.meta.type("Tw2RandomIntegerAttributeGenerator","Tr2RandomIntegerAttributeGenerator"),n=g.meta.string,a=g.meta.uint,o=g.meta.enums(w.Tw2ParticleElement.Type),s=g.meta.vector4,l=g.meta.vector4,u=g.meta.struct("Tw2ParticleElement"),i((v=class extends E.Tw2ParticleAttributeGenerator{constructor(...e){super(...e),T(this,"customName",d,this),T(this,"elementType",h,this),T(this,"minRange",m,this),T(this,"maxRange",b,this),T(this,"_element",p,this)}Bind(e){for(var t=0;t<e._elements.length;++t)if(e._elements[t].elementType===this.elementType&&(this.elementType!==w.Tw2ParticleElement.Type.CUSTOM||e._elements[t].customName===this.customName))return this._element=e._elements[t],!0;return!1}Generate(e,t,r){for(var i=0;i<this._element.dimension;++i)this._element.buffer[this._element.instanceStride*r+this._element.startOffset+i]=Math.floor(this.minRange[i]+Math.random()*(this.maxRange[i]-this.minRange[i])+.5)}},d=S((f=v).prototype,"customName",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),h=S(f.prototype,"elementType",[a,o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return w.Tw2ParticleElement.Type.CUSTOM}}),m=S(f.prototype,"minRange",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return y.vec4.create()}}),b=S(f.prototype,"maxRange",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return y.vec4.create()}}),p=S(f.prototype,"_element",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),c=f))||c)},"./particle/generators/Tw2RandomUniformAttributeGenerator.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tw2RandomUniformAttributeGenerator",(function(){return _}));var i,n,a,o,s,l,u,c,f,d,h,m,b,p,v,g=r("./global/utils/index.js"),y=r("./global/math/index.js"),w=r("./particle/element/Tw2ParticleElement.js"),E=r("./particle/generators/Tw2ParticleAttributeGenerator.js");function T(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function S(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var _=(i=g.meta.type("Tw2RandomUniformAttributeGenerator","Tr2RandomUniformAttributeGenerator"),n=g.meta.string,a=g.meta.uint,o=g.meta.enums(w.Tw2ParticleElement.Type),s=g.meta.vector4,l=g.meta.vector4,u=g.meta.struct("Tw2ParticleElement"),i((v=class extends E.Tw2ParticleAttributeGenerator{constructor(...e){super(...e),T(this,"customName",d,this),T(this,"elementType",h,this),T(this,"minRange",m,this),T(this,"maxRange",b,this),T(this,"_element",p,this)}get elementType(){return w.Tw2ParticleElement.Type.CUSTOM}Bind(e){for(var t=0;t<e._elements.length;++t)if(e._elements[t].elementType===this.elementType&&(this.elementType!==w.Tw2ParticleElement.Type.CUSTOM||e._elements[t].customName===this.customName))return this._element=e._elements[t],!0;return!1}Generate(e,t,r){for(var i=0;i<this._element.dimension;++i)this._element.buffer[this._element.instanceStride*r+this._element.startOffset+i]=this.minRange[i]+Math.random()*(this.maxRange[i]-this.minRange[i])}},d=S((f=v).prototype,"customName",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),h=S(f.prototype,"elementType",[a,o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return w.Tw2ParticleElement.Type.CUSTOM}}),m=S(f.prototype,"minRange",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return y.vec4.create()}}),b=S(f.prototype,"maxRange",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return y.vec4.create()}}),p=S(f.prototype,"_element",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),c=f))||c)},"./particle/generators/Tw2SphereShapeAttributeGenerator.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tw2SphereShapeAttributeGenerator",(function(){return Q}));var i,n,a,o,s,l,u,c,f,d,h,m,b,p,v,g,y,w,E,T,S,_,j,R,z,O,P,A,x,M,C,D,I,L,F,G,B,N,U,k,V,H=r("./global/utils/index.js"),q=r("./global/math/index.js"),W=r("./particle/element/Tw2ParticleElement.js"),Y=r("./particle/generators/Tw2ParticleAttributeGenerator.js");function X(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function K(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var Q=(i=H.meta.type("Tw2SphereShapeAttributeGenerator","Tr2SphereShapeAttributeGenerator"),n=H.meta.string,a=H.meta.float,o=H.meta.notImplemented,s=H.meta.float,l=H.meta.float,u=H.meta.float,c=H.meta.float,f=H.meta.float,d=H.meta.float,h=H.meta.float,m=H.meta.float,b=H.meta.float,p=H.meta.vector3,v=H.meta.quaternion,g=H.meta.boolean,y=H.meta.todo("Is this deprecated?"),w=H.meta.boolean,E=H.meta.todo("Is this deprecated?"),T=H.meta.struct("Tw2ParticleElement"),S=H.meta.struct("Tw2ParticleElement"),i((V=class extends Y.Tw2ParticleAttributeGenerator{constructor(...e){super(...e),X(this,"customName",R,this),X(this,"distributionExponent",z,this),X(this,"maxPhi",O,this),X(this,"maxRadius",P,this),X(this,"maxSpeed",A,this),X(this,"maxTheta",x,this),X(this,"minPhi",M,this),X(this,"minRadius",C,this),X(this,"minSpeed",D,this),X(this,"minTheta",I,this),X(this,"parentVelocityFactor",L,this),X(this,"position",F,this),X(this,"rotation",G,this),X(this,"controlPosition",B,this),X(this,"controlVelocity",N,this),X(this,"_position",U,this),X(this,"_velocity",k,this)}Bind(e){this._position=null,this._velocity=null;for(var t=0;t<e._elements.length;++t)e._elements[t].elementType===W.Tw2ParticleElement.Type.POSITION&&this.controlPosition?this._position=e._elements[t]:e._elements[t].elementType===W.Tw2ParticleElement.Type.VELOCITY&&this.controlVelocity&&(this._velocity=e._elements[t]);return!(this.controlPosition&&null===this._position||this.controlVelocity&&null===this._velocity)}Generate(e,t,r){var i=(this.minPhi+Math.random()*(this.maxPhi-this.minPhi))/180*Math.PI,n=(this.minTheta+Math.random()*(this.maxTheta-this.minTheta))/180*Math.PI,a=Y.Tw2ParticleAttributeGenerator.global.vec3_0;if(a[0]=Math.sin(i)*Math.cos(n),a[1]=-Math.cos(i),a[2]=Math.sin(i)*Math.sin(n),q.vec3.transformQuat(a,a,this.rotation),this._velocity){var o=this.minSpeed+Math.random()*(this.maxSpeed-this.minSpeed),s=this._velocity.instanceStride*r+this._velocity.startOffset;this._velocity.buffer[s]=a[0]*o,this._velocity.buffer[s+1]=a[1]*o,this._velocity.buffer[s+2]=a[2]*o,t&&(this._velocity.buffer[s]+=t.buffer[t.offset]*this.parentVelocityFactor,this._velocity.buffer[s+1]+=t.buffer[t.offset+1]*this.parentVelocityFactor,this._velocity.buffer[s+2]+=t.buffer[t.offset+2]*this.parentVelocityFactor)}if(this._position){q.vec3.scale(a,a,this.minRadius+Math.random()*(this.maxRadius-this.minRadius)),q.vec3.add(a,a,this.position),e&&(a[0]+=e.buffer[e.offset],a[1]+=e.buffer[e.offset+1],a[2]+=e.buffer[e.offset+2]);var l=this._position.instanceStride*r+this._position.startOffset;this._position.buffer[l]=a[0],this._position.buffer[l+1]=a[1],this._position.buffer[l+2]=a[2]}}},R=K((j=V).prototype,"customName",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),z=K(j.prototype,"distributionExponent",[a,o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),O=K(j.prototype,"maxPhi",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 360}}),P=K(j.prototype,"maxRadius",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),A=K(j.prototype,"maxSpeed",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),x=K(j.prototype,"maxTheta",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 360}}),M=K(j.prototype,"minPhi",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),C=K(j.prototype,"minRadius",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),D=K(j.prototype,"minSpeed",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),I=K(j.prototype,"minTheta",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),L=K(j.prototype,"parentVelocityFactor",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),F=K(j.prototype,"position",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return q.vec3.create()}}),G=K(j.prototype,"rotation",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return q.quat.create()}}),B=K(j.prototype,"controlPosition",[g,y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),N=K(j.prototype,"controlVelocity",[w,E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),U=K(j.prototype,"_position",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),k=K(j.prototype,"_velocity",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_=j))||_)},"./particle/generators/index.js":function(e,t,r){"use strict";r.r(t);var i=r("./particle/generators/Tw2RandomIntegerAttributeGenerator.js");r.d(t,"Tw2RandomIntegerAttributeGenerator",(function(){return i.Tw2RandomIntegerAttributeGenerator}));var n=r("./particle/generators/Tw2RandomUniformAttributeGenerator.js");r.d(t,"Tw2RandomUniformAttributeGenerator",(function(){return n.Tw2RandomUniformAttributeGenerator}));var a=r("./particle/generators/Tw2SphereShapeAttributeGenerator.js");r.d(t,"Tw2SphereShapeAttributeGenerator",(function(){return a.Tw2SphereShapeAttributeGenerator}))},"./particle/index.js":function(e,t,r){"use strict";r.r(t);var i=r("./particle/element/index.js");r.d(t,"Tw2ParticleElement",(function(){return i.Tw2ParticleElement})),r.d(t,"Tw2ParticleElementDeclaration",(function(){return i.Tw2ParticleElementDeclaration}));var n=r("./particle/emitter/index.js");r.d(t,"Tw2StaticEmitter",(function(){return n.Tw2StaticEmitter})),r.d(t,"Tw2DynamicEmitter",(function(){return n.Tw2DynamicEmitter}));var a=r("./particle/force/index.js");r.d(t,"Tw2ParticleAttractorForce",(function(){return a.Tw2ParticleAttractorForce})),r.d(t,"Tw2ParticleDirectForce",(function(){return a.Tw2ParticleDirectForce})),r.d(t,"Tw2ParticleDragForce",(function(){return a.Tw2ParticleDragForce})),r.d(t,"Tw2ParticleFluidDragForce",(function(){return a.Tw2ParticleFluidDragForce})),r.d(t,"Tw2ParticleSpring",(function(){return a.Tw2ParticleSpring})),r.d(t,"Tw2ParticleTurbulenceForce",(function(){return a.Tw2ParticleTurbulenceForce}));var o=r("./particle/generators/index.js");r.d(t,"Tw2RandomIntegerAttributeGenerator",(function(){return o.Tw2RandomIntegerAttributeGenerator})),r.d(t,"Tw2RandomUniformAttributeGenerator",(function(){return o.Tw2RandomUniformAttributeGenerator})),r.d(t,"Tw2SphereShapeAttributeGenerator",(function(){return o.Tw2SphereShapeAttributeGenerator}));var s=r("./particle/Tw2ParticleSystem.js");r.d(t,"Tw2ParticleSystem",(function(){return s.Tw2ParticleSystem}))},"./sof/EveSOF.js":function(e,t,r){"use strict";r.r(t),r.d(t,"EveSOF",(function(){return f})),r.d(t,"ErrSOFHullNotFound",(function(){return d})),r.d(t,"ErrSOFFactionNotFound",(function(){return h})),r.d(t,"ErrSOFRaceNotFound",(function(){return m})),r.d(t,"ErrSOFMaterialNotFound",(function(){return b})),r.d(t,"ErrSOFPatternNotFound",(function(){return p}));var i=r("./global/index.js"),n=r("./global/math/index.js"),a=r("./global/utils/index.js"),o=r("./curve/index.js"),s=r("./core/index.js"),l=r("./eve/index.js");function u(e,t,r,i,n,a,o){try{var s=e[a](o),l=s.value}catch(e){return void r(e)}s.done?t(l):Promise.resolve(l).then(i,n)}function c(e){return function(){var t=this,r=arguments;return new Promise((function(i,n){var a=e.apply(t,r);function o(e){u(a,i,n,o,s,"next",e)}function s(e){u(a,i,n,o,s,"throw",e)}o(void 0)}))}}function f(){var e=this,t=this,r=null,u=null;function f(e){return e?Object(a.get)(r.generic,"shaderPrefixAnimated",""):Object(a.get)(r.generic,"shaderPrefix","")}function v(e,t,r,i,n){var o=null;if(Object(a.get)(i,"resPathInsert","").length&&(o=i.resPathInsert),"respathinsert"in n&&1===n.respathinsert.length){if("none"===n.respathinsert[0])return e;o=n.respathinsert[0]}if("MaterialMap"===t||"PaintMaskMap"===t||"PmdgMap"===t){var s=e.lastIndexOf("/"),l=e;if(s>=0&&(l=e.substr(0,s+1)+o+"/"+e.substr(s+1)),(s=l.lastIndexOf("_"))>=0){l=l.substr(0,s)+"_"+o+l.substr(s);var u=Object(a.get)(r,"textureOverrides",{});if(t in u&&i.name in u[t])return l}}return e}function g(e,t){for(var r=0;r<e.length;++r)if(t.substr(0,e[r].length)===e[r])return r;return null}function y(e,t,i,n){var o,s,l,u;return"mesh"in i&&null!==(s=g(o=r.generic.materialPrefixes,e))&&s<i.mesh.length&&0==(Object(a.get)(t,"blockedMaterials",0)&1<<s)&&(l=Object(a.get)(r.material,i.mesh[s],null))?(u=e.substr(o[s].length),Object(a.get)(l.parameters,u,void 0)):(s=g(o=r.generic.patternMaterialPrefixes,e),"pattern"in i&&null!==s&&1+s<i.pattern.length&&(l=Object(a.get)(r.material,i.pattern[1+s],null))||null!==s&&(l=Object(a.get)(r.material,n.defaultPatternLayer1MaterialName,null))?(u=e.substr(o[s].length),Object(a.get)(l.parameters,u,void 0)):void 0)}function w(e){switch(e){case 2:return 4;case 1:return 3;default:return 1}}function E(e,t,i,n,o,l,u,c,d){for(var h,m,b,p,g=Object(a.get)(i,t,[]),E=0;E<g.length;++E){var T=g[E],S=new s.Tw2Effect;if(d)for(var _=0;_<2;_++){var j=d[_];if(j){var{PatternMaskMap:R,DiffuseColor:z,FresnelColor:O,Gloss:P}=j.parameters;S.parameters[R.name]=R,S.parameters[z.name]=z,S.parameters[O.name]=O,S.parameters[P.name]=P}else console.error("Missing mask "+_)}S.effectFilePath=r.generic.areaShaderLocation+(h=c||T.shader,m=i.isSkinned,b=void 0,p=void 0,b=f(m),p=(h="/"+h).lastIndexOf("/"),h.substr(0,p+1)+b+h.substr(p+1));for(var A=Object(a.get)(Object(a.get)(r.generic.areaShaders,T.shader,{}),"parameters",[]),x=0;x<A.length;++x){var M=A[x],C=y(M,T,u,o);(C=(C=(C=(C=C||Object(a.get)(Object(a.get)(Object(a.get)(r.generic.hullAreas,T.name,{}),"parameters",{}),M))||Object(a.get)(Object(a.get)(Object(a.get)(o.hullAreas,T.name,{}),"parameters",{}),M))||Object(a.get)(Object(a.get)(Object(a.get)(n.areas,T.name,{}),"parameters",{}),M))||Object(a.get)(Object(a.get)(T,"parameters",{}),M))&&(S.parameters[M]?S.parameters[M].SetValue(C):S.parameters[M]=new s.Tw2Vector4Parameter(M,C))}var D=Object(a.get)(T,"textures",{});for(var I in D)if(D.hasOwnProperty(I)){var L=v(D[I],I,T,n,u);S.parameters[I]?S.parameters[I].SetValue(L):S.parameters[I]=new s.Tw2TextureParameter(I,L)}for(var F=0;F<l.layers.length;++F){var G=l.layers[F]?l.layers[F].textureName:"";if(G&&!S.parameters[G]){var B=new s.Tw2TextureParameter(l.layers[F].textureName);B.resourcePath=l.layers[F].textureResFilePath,B.useAllOverrides=!0,B.addressUMode=w(Object(a.get)(l.layers[F],"projectionTypeU",0)),B.addressVMode=w(Object(a.get)(l.layers[F],"projectionTypeV",0)),B.Initialize(),S.parameters[l.layers[F].textureName]=B}}var N=Object(a.get)(Object(a.get)(r.generic.areaShaders,T.shader,{}),"defaultTextures",{});for(var U in N)N.hasOwnProperty(U)&&(U in S.parameters||(S.parameters[U]=new s.Tw2TextureParameter(U,N[U])));S.Initialize();var k=new s.Tw2MeshArea;k.name=T.name,k.effect=S,k.index=Object(a.get)(T,"index",0),k.count=Object(a.get)(T,"count",1),e.push(k)}}function T(e,t=-1){if(!e)return null;var r="group".concat(t);return e[r]?e[r]:null}this.SKIP_EMPTY_ITEMS=!0;function S(e,t,r,s){function l(t){return function(l){l.constructor.__isEffectChild?e.effectChildren.push(l):e.children.push(l),n.vec3.copy(l.translation,Object(a.get)(t,"translation",[0,0,0])),n.quat.copy(l.rotation,Object(a.get)(t,"rotation",[0,0,0,1])),n.vec3.copy(l.scaling,Object(a.get)(t,"scaling",[1,1,1]));var u=Object(a.get)(t,"id",-1);-1!==u&&s[u]&&function e(t,r,n){if(Array.isArray(t.particleEmitters)){for(var a=0;a<t.particleEmitters.length;++a)if("rate"in t.particleEmitters[a]){var s=new o.Tw2ValueBinding;s.sourceObject=n,s.sourceAttribute="currentValue",s.destinationObject=t.particleEmitters[a],s.destinationAttribute="rate",s.Initialize(),r.bindings.push(s)}for(a=0;a<t.children.length;++a)e(t.children[a],r,n)}else i.logger.Warn({name:"Space object factory",message:"Unable to bind particle emitters: ".concat(t.constructor.name)})}(l,r,s[u])}}for(var u=Object(a.get)(t,"children",[]),c=0;c<u.length;++c){var f=u[c].redFilePath;f?i.resMan.GetObject(f,l(u[c])):i.logger.Warn({name:"Space object factory",message:'No resource path found for "'.concat(t.name,'" child at index ').concat(c)})}}function _(e,t,i){for(var n=-1,o=0;o<r.generic.materialPrefixes.length;++o)e.substr(0,r.generic.materialPrefixes[o].length)===r.generic.materialPrefixes[o]&&(n=o,e=e.substr(r.generic.materialPrefixes[o].length));if(-1!==n){var s=Object(a.get)(t,"materialUsageMtl"+(n+1),n);if(s>=0&&s<r.generic.materialPrefixes.length&&(e=r.generic.materialPrefixes[s]+e)in i.parameters)return i.parameters[e]}}var j,R=[0,0,0,0];function z(e,t,r,i){switch(i){case"overridable":return t||(r||R);case"half_overridable":return e.indexOf("GlowColor")>=0?r||R:t||(r||R);case"not_overridable":case"half_overridable_2":return r||R}return R}this.SetupTurretMaterial=function(e,t,r,i,n){return this.FetchTurretMaterial(e,t,r).then(i).catch(n)},this.FetchTurretMaterial=function(){var e=c((function*(e,t,i){return yield this.FetchSOF(),function(e,t,i){var a=r.faction[t],o=r.faction[i],l=null;a&&a.areas&&"hull"in a.areas&&(l=a.areas.hull);var u=null;if(o&&o.areas&&"hull"in o.areas&&(u=o.areas.hull),(l||u)&&e.turretEffect){var c=e.turretEffect.parameters;for(var f in c)if(c.hasOwnProperty(f)){if(c[f].constructor.prototype!==s.Tw2Vector4Parameter.prototype)continue;var d=null,h=null;l&&(d=_(f,a,l)),u&&(h=_(f,a,l)),n.vec4.copy(c[f].value,z(f,d,h,e.turretEffect.name))}e.turretEffect.BindParameters()}}(e,t,i),e}));return function(t,r,i){return e.apply(this,arguments)}}(),this.FetchSOF=(j=null,c((function*(){return j||(u=s.Tw2Effect.from({effectFilePath:"res:/graphics/effect/managed/space/spaceobject/fx/blinkinglightspool.fx",parameters:{MainIntensity:1,GradientMap:"res:/texture/particle/whitesharp_gradient.dds.0.png"}}),j=i.resMan.FetchObject("res:/dx9/model/spaceobjectfactory/data.red").then(e=>r=e).catch(e=>{i.logger.Error({name:"Space object factory",message:"Could not load data"})})),j})));var O=function(){var t=c((function*(t){var r=yield e.FetchSOF();if(r[t])return r[t];throw new Error("Invalid sof object (".concat(t,")"))}));return function(e){return t.apply(this,arguments)}}(),P=function(){var e=c((function*(e,t,r){var i=yield O(e);if(Object(a.isArray)(i)){for(var n=0;n<i.length;n++)if(i[t].name===e)return i[t]}else if(i[t])return i[t];if(r)throw new r({name:t});throw new Error("Invalid sof object key (".concat(e,":").concat(t,")"))}));return function(t,r,i){return e.apply(this,arguments)}}(),A=function(){var e=c((function*(e){var t=yield O(e),r={};if(Object(a.isArray)(t)){for(var i=0;i<t.length;i++)r[t[i].name]=t[i].description||"";return r}for(var n in t)t.hasOwnProperty(n)&&(r[n]=t[n].description||"");return r}));return function(t){return e.apply(this,arguments)}}(),x=function(){var t=c((function*(t,r){yield e.FetchHull(t);for(var{projections:i=[]}=r,n=0;n<i.length;n++)if(i[n].name===t){var a={};return a.name=r.name,a.layer1=r.layer1,a.layer2=r.layer2,a.transformLayer1=i[n].transformLayer1,a.transformLayer2=i[n].transformLayer2,a}}));return function(e,r){return t.apply(this,arguments)}}();this.FetchObject=function(){var i=c((function*(i){if(!Object(a.isDNA)(i))throw new Error("Invalid DNA (".concat(i,")"));for(var c=i.split(":"),d={},h=3;h<c.length;++h){var m=c[h].split("?");d[m[0]]=m[1].split(";")}var b=yield e.FetchHull(c[0]),p=yield e.FetchFaction(c[1]),v=yield e.FetchRace(c[2]);if(d.mesh)for(var g=0;g<d.mesh.length;g++)yield e.FetchMaterial(d.mesh[g]);if(d.pattern&&d.pattern.length>1)for(var y=1;y<d.pattern.length;y++)yield e.FetchMaterial(d.pattern[y]);var _=new(2===Object(a.get)(b,"buildClass",0)?l.EveSpaceObject:l.EveShip),j=function(e,t,i){var n={patterns:[],layers:[]};if("pattern"in i){for(var o={},s=0;s<r.pattern.length;++s)if(r.pattern[s].name===i.pattern[0]){o=r.pattern[s];break}n.layers.push(Object(a.get)(o,"layer1",{})),n.layers.push(Object(a.get)(o,"layer2",{}));for(var l=Object(a.get)(o,"projections",[]),u={},c=0;c<l.length;++c)if(l[c].name===e.name){u=l[c];break}n.patterns.push(Object(a.get)(u,"transformLayer1",{})),n.patterns.push(Object(a.get)(u,"transformLayer2",{}))}else{var f=Object(a.get)(t,"defaultPattern",{});n.layers.push(Object(a.get)(f,"layer1",{})),n.layers.push(Object(a.get)(f,"layer2",{}));var d=Object(a.get)(e,"defaultPattern",{});n.patterns.push(Object(a.get)(d,"transformLayer1",{})),n.patterns.push(Object(a.get)(d,"transformLayer2",{}))}return n}(b,v,d);!function(e,t={}){for(var{patterns:r=[],layers:i=[]}=t,a=0;a<2;++a){var o=r[a]||{},s=i[a]||{},{rotation:u=n.quat.create(),scaling:c=n.vec3.fromValues(1,1,1),position:f=n.vec3.create(),isMirrored:d=!1}=o,{display:h=!!i[a].textureName,materialSource:m=0,textureName:b="PatternMask".concat(a+1,"Map"),textureResFilePath:p="res:/texture/global/black.dds.0.png",projectionTypeU:v=0,projectionTypeV:g=0,isTargetMtl1:y=!0,isTargetMtl2:E=!0,isTargetMtl3:T=!0,isTargetMtl4:S=!0}=s,_=e.customMasks[a]||new l.EveCustomMask;_.name="Pattern".concat(a+1),_.display=h,n.quat.copy(_.rotation,u),n.vec3.copy(_.scaling,c),n.vec3.copy(_.translation,f),n.vec4.set(_.targetMaterials,y?1:0,E?1:0,T?1:0,S?1:0),_.materialIndex=m,_.isMirrored=!!d;var{PatternMaskMap:j,DiffuseColor:R,FresnelColor:z,Gloss:O}=_.parameters;j.name=b,j.resourcePath=p,j.useAllOverrides=!0,j.addressUMode=w(v),j.addressVMode=w(g),j.Initialize();var P="PMtl".concat(a+1);R.name="".concat(P,"DiffuseColor"),z.name="".concat(P,"FresnelColor"),O.name="".concat(P,"Gloss"),_.Initialize(),e.customMasks[a]!==_&&e.customMasks.push(_)}}(_,j),function(e,t,r,i,n,o){var u=e.mesh||new s.Tw2Mesh;u.geometryResPath=t.geometryResFilePath,e.mesh!==u?(e.boundingSphereCenter[0]=t.boundingSphere[0],e.boundingSphereCenter[1]=t.boundingSphere[1],e.boundingSphereCenter[2]=t.boundingSphere[2],e.boundingSphereRadius=t.boundingSphere[3]):u.EmptyAreas();var c=e.customMasks;c[0]=c[0]||new l.EveCustomMask,c[1]=c[1]||new l.EveCustomMask;var f=[t,r,i,o,n,void 0,c];E(Object(a.get)(u,"opaqueAreas",[]),"opaqueAreas",...f),E(Object(a.get)(u,"transparentAreas",[]),"transparentAreas",...f),E(Object(a.get)(u,"additiveAreas",[]),"additiveAreas",...f),E(Object(a.get)(u,"decalAreas",[]),"decalAreas",...f),E(Object(a.get)(u,"depthAreas",[]),"depthAreas",...f),e.mesh!==u&&("shapeEllipsoidCenter"in t&&(e.shapeEllipsoidCenter=t.shapeEllipsoidCenter),"shapeEllipsoidRadius"in t&&(e.shapeEllipsoidRadius=t.shapeEllipsoidRadius)),e.mesh=u,u.Initialize()}(_,b,p,v,d,j),function(e,t,i={}){for(var n=Object(a.get)(t,"hullDecals",[]),o=0;o<n.length;++o){var s=n[o],u=T(i.decals,s.groupIndex);if(!u||u.isVisible){var c=u&&u.shader||s.shader;if(c){var d=r.generic.decalShaderLocation+"/"+f(!1)+c,h=Object.assign({},s.parameters),m=Object.assign(Object(a.get)(Object(a.get)(r.generic.decalShaders,c,{}),"defaultTextures",{}));u&&(Object.assign(h,u.parameters),Object.assign(m,u.textures)),Object.assign(m,s.textures),e.decals.push(l.EveSpaceObjectDecal.from({name:s.name,groupIndex:s.groupIndex,parentBoneIndex:s.boneIndex,indexBuffer:s.indexBuffer,position:s.position,rotation:s.rotation,scaling:s.scaling,effect:{effectFilePath:d,parameters:h,textures:m}}))}}}}(_,b,p),function(e,r,i){for(var o=Object(a.get)(r,"spriteSets",[]),s=Object(a.get)(i,"spriteSets",{}),c=0;c<o.length;++c){for(var f=o[c],d=Object(a.get)(f,"items",[]),h=[],m=0;m<d.length;m++){var b=Object.assign({blinkRate:.1,maxScale:10,minScale:1},d[m]),p=T(s,b.groupIndex);p&&(b.groupName=p.name,Object(a.assignIfExists)(b,p,"color")),(!t.SKIP_EMPTY_ITEMS||b.color&&!n.vec3.isEmpty(b.color))&&h.push(b)}t.SKIP_EMPTY_ITEMS&&!h.length||e.spriteSets.push(l.EveSpriteSet.from({name:f.name,useQuads:!0,skinned:!(!r.isSkinned||!f.skinned),effect:u,items:h}))}}(_,b,p),function(e,r,i){for(var n=Object(a.get)(r,"spotlightSets",[]),o=Object(a.get)(i,"spotlightSets",{}),s=0;s<n.length;++s){for(var u=n[s],c=Object(a.get)(u,"items",[]),f=u.skinned,d=[],h=0;h<c.length;++h){var m=Object.assign({},c[h]),b=T(o,m.groupIndex);b&&Object(a.assignIfExists)(m,b,["coneColor","spriteColor","flareColor"]),t.SKIP_EMPTY_ITEMS&&!b||d.push(m)}t.SKIP_EMPTY_ITEMS&&!d.length||e.spotlightSets.push(l.EveSpotlightSet.from({name:u.name,items:d,coneEffect:{effectFilePath:f?"res:/graphics/effect/managed/space/spaceobject/fx/skinned_spotlightcone.fx":"res:/graphics/effect/managed/space/spaceobject/fx/spotlightcone.fx",parameters:{TextureMap:u.coneTextureResPath,zOffset:Object(a.get)(u,"zOffset",0)}},glowEffect:{effectFilePath:f?"res:/graphics/effect/managed/space/spaceobject/fx/skinned_spotlightglow.fx":"res:/graphics/effect/managed/space/spaceobject/fx/spotlightglow.fx",parameters:{TextureMap:u.glowTextureResPath}}}))}}(_,b,p),function(e,r,i){for(var o=Object(a.get)(r,"planeSets",[]),s=Object(a.get)(i,"planeSets",{}),u=0;u<o.length;++u){for(var c=o[u],f=Object(a.get)(c,"items",[]),d=[],h=0;h<f.length;++h){var m=Object.assign({boneIndex:-1},f[h]),b=T(s,m.groupIndex);b&&Object(a.assignIfExists)(m,b,"color"),(!t.SKIP_EMPTY_ITEMS||m.color&&!n.vec3.isEmpty(m.color))&&d.push(m)}t.SKIP_EMPTY_ITEMS&&!d.length||e.planeSets.push(l.EvePlaneSet.from({name:c.name,items:d,effect:{effectFilePath:c.skinned?"res:/graphics/effect/managed/space/spaceobject/fx/skinned_planeglow.fx":"res:/graphics/effect/managed/space/spaceobject/fx/planeglow.fx",parameters:{PlaneData:Object(a.get)(c,"planeData",[1,0,0,0])},textures:{Layer1Map:c.layer1MapResPath,Layer2Map:c.layer2MapResPath,MaskMap:c.maskMapResPath}}}))}}(_,b,p),function(e,t,r){if(t.booster){for(var i=[0,0,0,0],n=Object(a.get)(r,"booster",{}),o=t.booster,s=Object(a.get)(o,"items",[]),u=0;u<s.length;++u)e.locators.push(l.EveLocator2.from({name:"locator_booster_"+(u+1),transform:s[u].transform,atlasIndex0:Object(a.get)(s[u],"atlasIndex0",0),atlasIndex1:Object(a.get)(s[u],"atlasIndex1",0)}));e.boosters=l.EveBoosterSet.from({glowScale:n.glowScale,symHaloScale:n.symHaloScale,haloScaleX:n.haloScaleX,haloScaleY:n.haloScaleY,haloColor:n.haloColor,glowColor:n.glowColor,warpGlowColor:n.warpGlowColor,warpHaloColor:n.warpHalpColor,trailColor:n.trailColor,trailSize:n.trailSize,effect:{effectFilePath:"res:/Graphics/Effect/Managed/Space/Booster/BoosterVolumetric.fx",parameters:{NoiseFunction0:Object(a.get)(n.shape0,"noiseFunction",0),NoiseSpeed0:Object(a.get)(n.shape0,"noiseSpeed",0),NoiseAmplitudeStart0:Object(a.get)(n.shape0,"noiseAmplitureStart",i),NoiseAmplitudeEnd0:Object(a.get)(n.shape0,"noiseAmplitureEnd",i),NoiseFrequency0:Object(a.get)(n.shape0,"noiseFrequency",i),Color0:Object(a.get)(n.shape0,"color",i),NoiseFunction1:Object(a.get)(n.shape1,"noiseFunction",0),NoiseSpeed1:Object(a.get)(n.shape1,"noiseSpeed",0),NoiseAmplitudeStart1:Object(a.get)(n.shape1,"noiseAmplitureStart",i),NoiseAmplitudeEnd1:Object(a.get)(n.shape1,"noiseAmplitureEnd",i),NoiseFrequency1:Object(a.get)(n.shape1,"noiseFrequency",i),Color1:Object(a.get)(n.shape1,"color",i),WarpNoiseFunction0:Object(a.get)(n.warpShape0,"noiseFunction",0),WarpNoiseSpeed0:Object(a.get)(n.warpShape0,"noiseSpeed",0),WarpNoiseAmplitudeStart0:Object(a.get)(n.warpShape0,"noiseAmplitureStart",i),WarpNoiseAmplitudeEnd0:Object(a.get)(n.warpShape0,"noiseAmplitureEnd",i),WarpNoiseFrequency0:Object(a.get)(n.warpShape0,"noiseFrequency",i),WarpColor0:Object(a.get)(n.warpShape0,"color",i),WarpNoiseFunction1:Object(a.get)(n.warpShape1,"noiseFunction",0),WarpNoiseSpeed1:Object(a.get)(n.warpShape1,"noiseSpeed",0),WarpNoiseAmplitudeStart1:Object(a.get)(n.warpShape1,"noiseAmplitureStart",i),WarpNoiseAmplitudeEnd1:Object(a.get)(n.warpShape1,"noiseAmplitureEnd",i),WarpNoiseFrequency1:Object(a.get)(n.warpShape1,"noiseFrequency",i),WarpColor1:Object(a.get)(n.warpShape1,"color",i),ShapeAtlasSize:[Object(a.get)(n,"shapeAtlasHeight",0),Object(a.get)(n,"shapeAtlasCount",0),0,0],BoosterScale:Object(a.get)(n,"scale",[1,1,1,1])},textures:{ShapeMap:n.shapeAtlasResPath,GradientMap0:n.gradient0ResPath,GradientMap1:n.gradient1ResPath,NoiseMap:"res:/Texture/Global/noise32cube_volume.dds.0.png"}},glows:{useQuads:!0,effect:{effectFilePath:"res:/Graphics/Effect/Managed/Space/Booster/BoosterGlowAnimated.fx",textures:{DiffuseMap:"res:/Texture/Particle/whitesharp.dds.0.png",NoiseMap:"res:/Texture/global/noise.dds.0.png"}}}})}}(_,b,v),function(e,t){for(var r=Object(a.get)(t,"locatorTurrets",[]),i=0;i<r.length;++i)e.locators.push(l.EveLocator2.from(r[i]))}(_,b);var R=function(e,t){for(var r=[],i=null,n=Object(a.get)(t,"animations",[]),s=0;s<n.length;++s)if(-1!==Object(a.get)(n[s],"id",-1)&&-1!==Object(a.get)(n[s],"startRate",-1)){i||(i=new o.Tw2CurveSet);var l=new o.Tw2ScalarCurve2;l.keys.push(new o.Tw2ScalarKey2),l.keys.push(new o.Tw2ScalarKey2),l.keys[0].value=Object(a.get)(n[s],"startRate",-1),l.keys[1].time=1,l.keys[1].value=Object(a.get)(n[s],"endRate",-1),l.Initialize(),i.curves.push(l),e.curveSets.push(i),r[Object(a.get)(n[s],"id",-1)]=l}return i&&i.Initialize(),[i,r]}(_,b);return S(_,b,R[0],R[1]),function(e,t,r,i,n,o){for(var u=Object(a.get)(t,"instancedMeshes",[]),c=0;c<u.length;++c){var f=u[c],d=new s.Tw2InstancedMesh;d.instanceGeometryResPath=f.instanceGeometryResPath,d.geometryResPath=f.geometryResPath,d.Initialize(),E(Object(a.get)(d,"opaqueAreas",[]),"opaqueAreas",t,r,i,o,n,f.shader);var h=new l.EveChildMesh;h.mesh=d,e.effectChildren.push(h)}}(_,b,p,v,d,j),_.Initialize(),_}));return function(e){return i.apply(this,arguments)}}(),this.FetchHull=function(){var e=c((function*(e){return P("hull",e,d)}));return function(t){return e.apply(this,arguments)}}(),this.FetchHullNames=c((function*(){return A("hull")})),this.FetchHullPattern=function(){var t=c((function*(t,r){var i=yield e.FetchPattern(r),n=x(t,i);if(n)return n;throw new Error("Invalid pattern for hull (".concat(t,":").concat(r,")"))}));return function(e,r){return t.apply(this,arguments)}}(),this.FetchHullPatternNames=function(){var e=c((function*(e){var t=yield O("pattern"),r=[];return t.forEach(t=>{for(var i=0;i<t.projections.length;i++)if(t.projections[i].name===e){r.push(t.name);break}}),r.sort(),r}));return function(t){return e.apply(this,arguments)}}(),this.FetchHullBuildClass=function(){var t=c((function*(t){var r=t.split(":")[0];return 2===(yield e.FetchHull(r)).buildClass?2:1}));return function(e){return t.apply(this,arguments)}}(),this.FetchRace=function(){var e=c((function*(e){return P("race",e,m)}));return function(t){return e.apply(this,arguments)}}(),this.FetchRaceNames=c((function*(){return A("race")})),this.FetchFaction=function(){var e=c((function*(e){return P("faction",e,h)}));return function(t){return e.apply(this,arguments)}}(),this.FetchFactionNames=c((function*(){return A("faction")})),this.FetchMaterial=function(){var e=c((function*(e){return P("material",e,b)}));return function(t){return e.apply(this,arguments)}}(),this.FetchMaterialNames=c((function*(){return A("material")})),this.FetchPattern=function(){var e=c((function*(e){return P("pattern",e,p)}));return function(t){return e.apply(this,arguments)}}(),this.FetchPatternNames=c((function*(){return A("pattern")}))}class d extends s.Tw2Error{constructor(e){super(e,"SOF Hull not found (%name%)")}}class h extends s.Tw2Error{constructor(e){super(e,"SOF Faction not found (%name%)")}}class m extends s.Tw2Error{constructor(e){super(e,"SOF Race not found (%name%)")}}class b extends s.Tw2Error{constructor(e){super(e,"SOF Material not found (%name%)")}}class p extends s.Tw2Error{constructor(e){super(e,"SOF Pattern not found (%name%)")}}},"./sof/EveSOFData.js":function(e,t,r){"use strict";r.r(t),r.d(t,"EveSOFData",(function(){return A})),r.d(t,"ErrSOFDNAFormatInvalid",(function(){return x}));var i,n,a,o,s,l,u,c,f,d,h,m,b,p,v,g,y,w=r("./global/index.js"),E=r("./global/math/index.js"),T=r("./global/utils/index.js"),S=r("./core/index.js"),_=(r("./curve/Tw2ValueBinding.js"),r("./sof/EveSOF.js")),j=r("./eve/item/index.js"),R=r("./unsupported/eve/object/index.js"),z=r("./sof/pattern/index.js");function O(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function P(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var A=(i=T.meta.type("EveSOFData"),n=T.meta.list("EveSOFDataFaction"),a=T.meta.struct("EveSOFDataGeneric"),o=T.meta.list("EveSOFDataHull"),s=T.meta.list("EveSOFDataMaterial"),l=T.meta.list("EveSOFDataPattern"),u=T.meta.list("EveSOFDataRace"),i((y=g=class e{constructor(){O(this,"faction",d,this),O(this,"generic",h,this),O(this,"hull",m,this),O(this,"material",b,this),O(this,"pattern",p,this),O(this,"race",v,this),this._options={useSpotlightPool:!1,multiplier:{generalGlowColor:[10,10,10,1],generalHeatGlowColor:[100,100,100,1],boosterGlowScale:.125,boosterHaloScale:.5,boosterSymHalo:.125,boosterBrightness:.8,boosterScale:[.9,.9,.9]},effect:{sprite:null,banner:null,shadow:null},effectPath:{plane:"cdn:/graphics/effect/managed/space/spaceobject/fx/planeglow.fx",spotlightCone:"res:/graphics/effect/managed/space/spaceobject/fx/spotlightcone.fx",spotlightGlow:"res:/graphics/effect/managed/space/spaceobject/fx/spotlightglow.fx",spotlightConePool:"cdn:/graphics/effect/managed/space/spaceobject/fx/spotlightconepool.fx",spotlightGlowPool:"cdn:/graphics/effect/managed/space/spaceobject/fx/spotlightglowpool.fx",boosterVolumetric:"cdn:/graphics/effect/managed/space/booster/boostervolumetric.fx",boosterGlow:"cdn:/graphics/effect/managed/space/booster/boosterglowanimated.fx",spriteSet:"cdn:/graphics/effect/managed/space/spaceobject/fx/blinkinglightspool.fx",banner:"cdn:/graphics/effect/managed/space/spaceobject/v5/fx/banner/unpacked_fxbannerv5.fx",shadow:"cdn:/graphics/effect/managed/space/spaceobject/shadow/shadow.fx"},texturePath:{noise:"res:/Texture/global/noise.dds.0.png",noise32:"res:/Texture/Global/noise32cube_volume.dds.0.png",whiteSharp:"res:/Texture/Particle/whitesharp.dds.0.png",hologramNoise:"cdn:/texture/fx/hologram/hologram_noise.png",hologramPulse:"cdn:/texture/fx/hologram/hologram_pulse.png",hologramInterlace:"cdn:/texture/fx/hologram/hologram_interlace_p.png",bannerImage:"",bannerBorder:""},decalUsage:["decalv5.fx","decalcounterv5.fx","decalholev5.fx","decalcylindricv5.fx","decalglowcylindricv5.fx","decalglowv5.fx","decalv5.fx"]}}Initialize(e){e&&Object.assign(this._options,e);var{effect:t,effectPath:r,texturePath:i}=this._options;t.sprite||(t.sprite=S.Tw2Effect.from({name:"Shared sprite set effect",effectFilePath:r.spriteSet,parameters:{MainIntensity:1,GradientMap:i.whiteSharp}})),t.banner||(t.banner=S.Tw2Effect.from({name:"Shared banner effect",effectFilePath:r.banner,autoParameter:!0,parameters:{Layer1Transform:[1.5,1.5,0,0],Layer2Transform:[1,1,0,0],Layer1Scroll:[.1,.1,.1,.1],Layer2Scroll:[.2,.2,0,0],BaseColor:[1.388235330581665,1.4980392456054688,1.7882353067398071,1]},textures:{BorderMap:i.bannerBorder,ImageMap:i.bannerImage,Layer1Map:i.hologramNoise,Layer2Map:i.hologramPulse,MaskMap:i.hologramInterlace}})),t.shadow||(t.shadow=S.Tw2Effect.from({name:"Shared shadow effect",effectFilePath:r.shadow}))}GetHull(e){return Object(T.findElementByPropertyValue)(this.hull,"name",e,_.ErrSOFHullNotFound)}GetHullNames(t){return e.GetNames(this.hull,t)}HasHull(e){return!!Object(T.findElementByPropertyValue)(this.hull,"name",e)}GetHullBuildClass(e){return 2===this.GetHull(e).buildClass?2:1}GetHullPatternNames(e){this.GetHull(e);for(var t=[],r=0;r<this.pattern.length;r++)this.pattern[r].Has(e)&&t.push(this.pattern[r].name);return t.sort()}HasHullPattern(e,t){var r=this.GetHull(e);return!!this.HasPattern(t)&&this.GetPattern(t).Has(r.name)}GetHullPattern(e,t){this.GetHull(e);return this.GetPattern(t).Get(e)}GetFaction(e){return Object(T.findElementByPropertyValue)(this.faction,"name",e,_.ErrSOFFactionNotFound)}GetFactionNames(t){return e.GetNames(this.faction,t)}HasFaction(e){return!!Object(T.findElementByPropertyValue)(this.faction,"name",e)}GetRace(e){return Object(T.findElementByPropertyValue)(this.race,"name",e,_.ErrSOFRaceNotFound)}GetRaceNames(t){return e.GetNames(this.race,t)}HasRace(e){return!!Object(T.findElementByPropertyValue)(this.race,"name",e)}GetMaterial(e){return Object(T.findElementByPropertyValue)(this.material,"name",e,_.ErrSOFMaterialNotFound)}GetMaterialNames(t){return e.GetNames(this.material,t)}HasMaterial(e){return!!Object(T.findElementByPropertyValue)(this.material,"name",e)}GetPattern(e){return Object(T.findElementByPropertyValue)(this.pattern,"name",e,_.ErrSOFPatternNotFound)}GetPatternNames(t){return e.GetNames(this.pattern,t)}HasPattern(e){return!!Object(T.findElementByPropertyValue)(this.pattern,"name",e)}GetShaderPath(e,t){var r=this.generic.GetShaderPrefix(t),i=e.lastIndexOf("/");return e.substring(0,i+1)+r+e.substring(i+1)}ParseDNA(e){if(!Object(T.isDNA)(e))throw new x({dna:e});for(var t=(e=e.toLowerCase()).split(":"),r={},i=3;i<t.length;++i)try{var n=t[i].split("?");r[n[0].toUpperCase()]=n[1].split(";")}catch(t){throw new x({dna:e})}var a=this.GetHull(t[0]),o=this.GetFaction(t[1]),s=this.GetRace(t[2]),l={},u=null,c=r.MESH;if(c)for(var f=0;f<c.length;f++)this.generic.GetMaterialPrefix(f+1),c[f]&&"NONE"!==c[f].toUpperCase()&&(l["material".concat(f+1)]=this.GetMaterial(c[f]).name);var d=r.PATTERN;if(d){u=d[0]&&"NONE"!==d[0].toUpperCase()?this.GetHullPattern(a.name,d[0]):null;for(var h=1;h<d.length;h++)this.generic.GetPatternMaterialPrefix(h),d[h]&&"NONE"!==d[h].toUpperCase()&&(l["patternMaterial".concat(h)]=this.GetMaterial(d[h]).name)}return!u&&o.defaultPattern&&(u=this.GetHullPattern(a.name,o.defaultPattern),!l.patternMaterial1&&o.defaultPatternLayer1MaterialName&&(l.patternMaterial1=this.GetMaterial(o.defaultPatternLayer1MaterialName).name)),{hull:a,faction:o,race:s,area:l,resPathInsert:r.RESPATHINSERT||o.resPathInsert||null,pattern:u,dna:e}}Build(t){var r=this.ParseDNA(t),i=2===r.hull.buildClass?new R.EveStation2:new R.EveShip2;return i.dna=t,e.Build(this,i,r,this._options),i.Initialize&&i.Initialize(),i}Rebuild(e,t){throw new S.ErrFeatureNotImplemented({feature:"Rebuilding existing sof object"})}AssignMaterialParameters(e={},t={}){return e.material1&&this.GetMaterial(e.material1).AssignParameters(t,"Mtl1"),e.material2&&this.GetMaterial(e.material2).AssignParameters(t,"Mtl2"),e.material3&&this.GetMaterial(e.material3).AssignParameters(t,"Mtl3"),e.material4&&this.GetMaterial(e.material4).AssignParameters(t,"Mtl4"),e.patternMaterial1&&this.GetMaterial(e.patternMaterial1).AssignParameters(t,"PMtl1"),e.patternMaterial2&&this.GetMaterial(e.patternMaterial2).AssignParameters(t,"PMtl2"),t}static GetNames(e,t={}){for(var r=Object(T.isArray)(t),i=0;i<e.length;i++)r?t.push(e[i].name):t[e[i].name]=e[i].description||"";return r&&t.sort(),t}static Build(e,t,r,i){return this.SetupBounds(e,t,r,i),this.SetupCustomMasks(e,t,r,i),this.SetupMesh(e,t,r,i),this.SetupSpotlightSets(e,t,r,i),this.SetupPlaneSets(e,t,r,i),this.SetupSpriteSets(e,t,r,i),this.SetupDecals(e,t,r,i),this.SetupBoosters(e,t,r,i),this.SetupLocators(e,t,r,i),this.SetupAudio(e,t,r,i),this.SetupModelCurves(e,t,r,i),this.SetupLights(e,t,r,i),this.SetupObservers(e,t,r,i),this.SetupChildren(e,t,r,i),this.SetupInstancedMesh(e,t,r,i),this.SetupControllers(e,t,r,i),t}static SetupModelCurves(e,t,r,i){w.logger.Debug({name:"Space object factory",message:"Model curves not implemented"})}static SetupLights(e,t,r,i){w.logger.Debug({name:"Space object factory",message:"Lights not implemented"})}static SetupObservers(e,t,r,i){w.logger.Debug({name:"Space object factory",message:"Observers not implemented"})}static SetupCustomMask(e,t,r,i){r?(e.isMirrored=r.isMirrored,e.Compose(r.rotation,r.position,r.scaling).RebuildTransforms()):(e.isMirrored=!1,e.Identity().RebuildTransforms());var n,a=0,o=0;if(t?(n=Object(T.getPathExtension)(t.textureResFilePath),e.display=!0,e.materialIndex=t.materialSource,e.parameters.PatternMaskMap.SetValue(t.textureResFilePath),E.vec4.set(e.targetMaterials,t.isTargetMtl1?1:0,t.isTargetMtl2?1:0,t.isTargetMtl3?1:0,t.isTargetMtl4?1:0),a=t.projectionTypeU,o=t.projectionTypeV):(e.display=!1,e.materialIndex=0,e.parameters.PatternMaskMap.SetValue("res:/texture/global/black.dds.0.png"),E.vec4.set(e.targetMaterials,0,0,0,0)),e.parameters.PatternMaskMap.SetOverrides({addressUMode:z.EveSOFDataPatternLayer.ToAddress(a),addressVMode:z.EveSOFDataPatternLayer.ToAddress(o),forceMipMaps:"dds"===n,useAllOverrides:!0}),i){var s=i.AssignParameters({});e.parameters.DiffuseColor.SetValue(s.DiffuseColor),e.parameters.FresnelColor.SetValue(s.FresnelColor),e.parameters.DustDiffuseColor.SetValue(s.DustDiffuseColor),e.parameters.Gloss.SetValue(s.Gloss)}}static SetupCustomMasks(e,t,r,i){t.customMasks&&(t.customMasks[0]||(t.customMasks[0]=new j.EveCustomMask,t.customMasks[0].name="Pattern1"),t.customMasks[1]||(t.customMasks[1]=new j.EveCustomMask,t.customMasks[1].name="Pattern2"));var n=r.area.patternMaterial1?e.GetMaterial(r.area.patternMaterial1):null,a=r.area.patternMaterial2?e.GetMaterial(r.area.patternMaterial2):null,o=r.pattern||{};this.SetupCustomMask(t.customMasks[0],o.layer1,o.transformLayer1,n),this.SetupCustomMask(t.customMasks[1],o.layer2,o.transformLayer2,a)}static SetupBounds(e,t,r,i){var n=Object(T.get)(r.hull,"boundingSphere",[0,0,0,0]);t.boundingSphereRadius=n[3],E.vec3.copy(t.boundingSphereCenter,n),E.vec3.copy(t.shapeEllipsoidCenter,Object(T.get)(r.hull,"boundingEllipsoidCenter",[0,0,0])),E.vec3.copy(t.shapeEllipsoidRadius,Object(T.get)(r.hull,"boundingEllipsoidRadius",[0,0,0]))}static SetupMesh(t,r,i,n){r.shadowEffect=r.shadowEffect||n.effect.shadow;var{hull:a}=i,o=new S.Tw2Mesh,s=!1,l=Object(T.get)(a,"geometryResFilePath","");l in e.knownGeometryResPath?o.geometryResPath=e.knownGeometryResPath[l]:(o.geometryResPath=l,w.resMan.GetResource(l,t=>{e.knownGeometryResPath[l]=l,s&&o.Initialize()},t=>{o.geometryResPath=o.geometryResPath.replace("cdn:","res:").replace(".cake",".wbg"),e.knownGeometryResPath[l]=o.geometryResPath,s&&(o.Initialize(),r.Initialize())}));var u=s=>{var{generic:l}=this;Object(T.get)(a,s,[]).forEach(a=>{var{name:l="",index:u=0,count:c=1,shader:f="",areaType:d}=a,h=new S.Tw2MeshArea;h.name=l,h.index=u,h.count=c,o[s].push(h);var m=t.generic.GetShaderConfig(f,i.hull.isSkinned);a.Assign(m);var b=h.effect=new S.Tw2Effect;b.name=h.name+"_effect",b.effectFilePath=m.effectFilePath,b.autoParameter=!0,b.effectFilePath.includes("quadheatdetail")&&(b.effectFilePath=b.effectFilePath.replace("quadheatdetail","quaddetail"),w.logger.Debug({name:"Space object factory",message:"Patching missing shader: "+b.effectFilePath}));var p=m.parameters.GeneralHeatGlowColor||E.vec4.fromValues(1,1,1,1);p&&(E.vec4.multiply(p,i.race.booster.glowColor,n.multiplier.generalHeatGlowColor),m.parameters.GeneralHeatGlowColor=p);var v={colorType:-1};i.faction.HasAreaType(d)?i.faction.AssignAreaType(d,v):(i.faction.AssignAreaType(0,v),w.logger.Debug({name:"Space object factory",message:"Could not resolve area type: "+d})),Object.assign(v,i.area),t.AssignMaterialParameters(v,m.parameters);var g=m.parameters.GeneralGlowColor||E.vec4.fromValues(1,1,1,1);if(g){var{colorType:y}=v;i.faction.HasColorType(y)?i.faction.GetColorType(y,g):(i.faction.GetColorType(0,g),w.logger.Debug({name:"Space object factory",message:"Using primary colours, could not resolve glow color type: "+y})),E.vec4.multiply(g,g,n.multiplier.generalGlowColor),m.parameters.GeneralGlowColor=g}for(var _ in m.textures)m.textures.hasOwnProperty(_)&&"dds"===Object(T.getPathExtension)(m.textures[_])&&(m.overrides[_]={useAllOverrides:!0,forceMipMaps:!0,mipFilterMode:1});b.SetParameters(m.parameters),b.SetTextures(m.textures),b.SetOverrides(m.overrides);var R=m.textures.PmdgMap?i.resPathInsert||i.faction.resPathInsert:null;if(R){var z=i.faction.GetResPathInsert(m.textures.PmdgMap,R),{knownResPathInserts:O}=e;z in O?O[z]?b.SetTextures({PmdgMap:z}):w.logger.Error({name:"Space object factory",message:"Invalid resPathInsert: "+z}):w.resMan.FetchResource(z).then(()=>{O[z]=!0,b.SetTextures({PmdgMap:z})}).catch(e=>{O[z]=!1,w.logger.Error({name:"Space object factory",message:"Invalid resPathInsert: "+z})})}for(var P=0;P<r.customMasks.length;P++)j.EveCustomMask.ApplyMaterials(b,r.customMasks[P],P);b.Initialize()})};u("additiveAreas"),u("decalAreas"),u("depthAreas"),u("distortionAreas"),u("opaqueAreas"),u("transparentAreas"),o.Initialize(),s=!0,r.mesh=o}static SetupSpriteSets(e,t,r,i){var{isSkinned:n=!1,spriteSets:a=[]}=r.hull;a.forEach(e=>{var a=new j.EveSpriteSet;a.name=e.name,a.display=!e.visibilityGroup||r.faction.HasVisibilityGroup(e.visibilityGroup),a.useQuads=!0,a.skinned=e.skinned&&n,a.effect=i.effect.sprite,e.items.forEach(e=>{var t=E.vec4.fromValues(1,1,1,1);r.faction.HasColorType(e.colorType)?r.faction.GetColorType(e.colorType,t):(r.faction.GetColorType(0,t),w.logger.Debug({ame:"Space object factory",message:"Using primary color for spriteSet: "+e.colorType})),a.items.push(j.EveSpriteSetItem.from(Object.assign({},e,{color:t})))}),a.Initialize(),(t.attachments||t.spriteSets).push(a)})}static SetupSpotlightSets(e,t,r,i){var{isSkinned:n=!1,spotlightSets:a=[]}=r.hull;a.forEach(a=>{var o,s;if(i.useSpotlightPool)o=i.effectPath.spotlightConePool,s=i.effectPath.spotlightGlowPool;else{var l=n&&a.skinned;o=e.GetShaderPath(i.effectPath.spotlightCone,l),s=e.GetShaderPath(i.effectPath.spotlightGlow,l)}var u=j.EveSpotlightSet.from({name:a.name,items:a.items,coneEffect:{effectFilePath:o,parameters:{zOffset:a.zOffset},textures:{TextureMap:a.coneTextureResPath}},glowEffect:{effectFilePath:s,textures:{TextureMap:a.glowTextureResPath}}});u.items.forEach(e=>{var t=r.faction.FindSpotlightSetByGroupIndex(e.groupIndex);t&&(E.vec4.copy(e.coneColor,t.coneColor),E.vec4.copy(e.flareColor,t.flareColor),E.vec4.copy(e.spriteColor,t.spriteColor)),e.UpdateValues()}),u.Initialize(),(t.attachments||t.spotlightSets).push(u)})}static SetupPlaneSets(e,t,r,i){var{isSkinned:n,planeSets:a}=r.hull;a.forEach(a=>{var o=new j.EvePlaneSet;o.name=a.name,o.effect=S.Tw2Effect.from({effectFilePath:e.GetShaderPath(i.effectPath.plane,n&&a.skinned),autoParameter:!0,parameters:{PlaneData:[0,1,0,0]},textures:{Layer1Map:a.layer1MapResPath.replace(".dds",".png"),Layer2Map:a.layer2MapResPath.replace(".dds",".png"),MaskMap:a.maskMapResPath.replace(".dds",".png")}}),a.items.forEach(e=>{var t=j.EvePlaneSetItem.from(e),i=r.faction.FindPlaneSetByGroupIndex(e.groupIndex);i&&E.vec4.copy(t.color,i.color),0===t.color[0]&&0===t.color[1]&&0===t.color[2]&&0===t.color[3]&&E.vec4.set(t.color,1,1,1,1),o.items.push(t)}),o.Initialize(),(t.attachments||t.planeSets).push(o)})}static SetupDecals(e,t,r,i){var{hull:n,faction:a}=r,o=t.mesh.FindParameters("PmdgMap"),s=t.mesh.FindParameters("NoMap"),l={textures:{PmdgMap:o[0]?o[0].resourcePath:"",NoMap:s[0]?s[0].resourcePath:""}};n.decalSets.forEach(r=>{r.visibilityGroup&&!a.HasVisibilityGroup(r.visibilityGroup)||r.items.forEach(r=>{var{name:n,visibilityGroup:o,logoType:s,usage:u,glowColorType:c}=r;if(a.HasLogoType(s)){if(!o||a.HasVisibilityGroup(o)){var f=i.decalUsage[u],d=e.generic.GetShaderConfig(f,!1,l);a.GetLogoType(s).Assign(d);var{DecalGlowColor:h}=d.parameters;h&&(a.HasColorType(c)?a.GetColorType(c,h):(a.GetColorType(0,h),w.logger.Debug({name:"Space object factory",message:"Using primary color for decal glow: ".concat(n," (").concat(c,")")}))),1===u&&(d.overrides.DecalAtMap={useAllOverrides:!0,forceMipMaps:!0}),r.Assign(d),t.decals.push(j.EveSpaceObjectDecal.from(Object.assign({},r,{effect:d})))}}else w.logger.Log({name:"Space object factory",message:"Could not find logo type for decal: ".concat(n," (").concat(s,")")})})})}static SetupBoosters(e,t,r,i){var{hull:n,race:a}=r;if(n.booster&&a.booster){for(var o=a.booster,s=n.booster.items||[],l=0;l<s.length;++l){var u=E.mat4.scale(E.mat4.create(),s[l].transform,i.multiplier.boosterScale);t.locators.push(j.EveLocator2.from({name:"locator_booster_"+(l+1),transform:u,atlasIndex0:s[l].atlasIndex0,atlasIndex1:s[l].atlasIndex1}))}var{shape0:c,shape1:f,warpShape0:d,warpShape1:h}=o,{boosterGlowScale:m=1,boosterHaloScale:b=1,boosterSymHalo:p=1,boosterBrightness:v=1}=i.multiplier;t.boosters=j.EveBoosterSet.from({name:o.name,glowColor:o.glowColor,glowScale:o.glowScale*m,haloColor:o.haloColor,haloScaleX:o.haloScaleX*b,haloScaleY:o.haloScaleY*b,symHaloScale:o.symHaloScale*p,trailColor:o.trailColor,trailSize:o.trailSize,warpGlowColor:o.warpGlowColor,warpHaloColor:o.warpHalpColor,effect:{effectFilePath:i.effectPath.boosterVolumetric,autoParameter:!0,parameters:{NoiseFunction0:c.noiseFunction,NoiseSpeed0:c.noiseSpeed,NoiseAmplitudeStart0:c.noiseAmplitureStart,NoiseAmplitudeEnd0:c.noiseAmplitureEnd,NoiseFrequency0:c.noiseFrequency,Color0:E.vec3.multiplyScalar([],c.color,v),NoiseFunction1:f.noiseFunction,NoiseSpeed1:f.noiseSpeed,NoiseAmplitudeStart1:f.noiseAmplitureStart,NoiseAmplitudeEnd1:f.noiseAmplitureEnd,NoiseFrequency1:f.noiseFrequency,Color1:E.vec3.multiplyScalar([],f.color,v),WarpNoiseFunction0:d.noiseFunction,WarpNoiseSpeed0:d.noiseSpeed,WarpNoiseAmplitudeStart0:d.noiseAmplitureStart,WarpNoiseAmplitudeEnd0:d.noiseAmplitureEnd,WarpNoiseFrequency0:d.noiseFrequency,WarpColor0:d.color,WarpNoiseFunction1:h.noiseFunction,WarpNoiseSpeed1:h.noiseSpeed,WarpNoiseAmplitudeStart1:h.noiseAmplitureStart,WarpNoiseAmplitudeEnd1:h.noiseAmplitureEnd,WarpNoiseFrequency1:h.noiseFrequency,WarpColor1:h.color,ShapeAtlasSize:[o.shapeAtlasHeight,o.shapeAtlasCount,0,0],BoosterScale:o.scale},textures:{ShapeMap:o.shapeAtlasResPath,GradientMap0:o.gradient0ResPath,GradientMap1:o.gradient1ResPath,NoiseMap:i.texturePath.noise32}},glows:{useQuads:!0,effect:{effectFilePath:i.texturePath.boosterGlow,textures:{DiffuseMap:i.texturePath.whiteSharp,NoiseMap:i.texturePath.noise}}}})}}static SetupLocators(e,t,r,i){var{locatorTurrets:n=[]}=r.hull;n.forEach(e=>{t.locators.push(j.EveLocator2.from(e))}),w.logger.Debug({name:"Space object factory",message:"Locator sets not implemented"})}static SetupAudio(e,t,r,i){w.logger.Debug({name:"Space object factory",message:"Audio not implemented"})}static SetupAnimations(e,t,r,i){w.logger.Debug({name:"Space object factory",message:"Animations not implemented"})}static SetupChildren(e,t,r,i){w.logger.Debug({name:"Space object factory",message:"Child objects not implemented"})}static BindParticleEmitters(e,t,r,i){w.logger.Debug({name:"Space object factory",message:"Binding child particle emitters not implemented"})}static SetupInstancedMesh(e,t,r,i){w.logger.Debug({name:"Space object factory",message:"Instance meshes not implemented"})}static SetupControllers(e,t,r,i){w.logger.Debug({name:"Space object factory",message:"Animation controllers not implemented"})}static SetupTurretMaterial(e,t,r,i){w.logger.Debug({name:"Space  object factory",message:"Turret materials not implemented"})}},g.knownGeometryResPath={},g.knownResPathInserts={},d=P((f=y).prototype,"faction",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),h=P(f.prototype,"generic",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),m=P(f.prototype,"hull",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),b=P(f.prototype,"material",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),p=P(f.prototype,"pattern",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),v=P(f.prototype,"race",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),c=f))||c);class x extends S.Tw2Error{constructor(e){super(e,"DNA format invalid (%dnaString%)")}}},"./sof/faction/EveSOFDataFaction.js":function(e,t,r){"use strict";r.r(t),r.d(t,"EveSOFDataFaction",(function(){return V}));var i,n,a,o,s,l,u,c,f,d,h,m,b,p,v,g,y,w,E,T,S,_,j,R,z,O,P,A,x,M,C,D,I,L,F,G,B=r("./global/utils/index.js"),N=r("./sof/shared/index.js");function U(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function k(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var V=(i=B.meta.type("EveSOFDataFaction"),n=B.meta.string,a=B.meta.struct("EveSOFDataArea"),o=B.meta.list("EveSOFDataFactionChild"),s=B.meta.struct("EveSOFDataFactionColorSet"),l=B.meta.struct("EveSOFDataPatternLayer"),u=B.meta.string,c=B.meta.string,f=B.meta.struct("EveSOFDataLogoSet"),d=B.meta.uint,h=B.meta.uint,m=B.meta.uint,b=B.meta.uint,p=B.meta.list("EveSOFDataFactionPlaneSet"),v=B.meta.string,g=B.meta.list("EveSOFDataFactionSpotlightSet"),y=B.meta.struct("EveSOFDataFactionVisibilityGroupSet"),w=B.meta.todo("Check if the 'this.resPathInsert' value is always valid"),i((S=k((T=class{constructor(){U(this,"name",S,this),U(this,"areaTypes",_,this),U(this,"children",j,this),U(this,"colorSet",R,this),U(this,"defaultPattern",z,this),U(this,"defaultPatternLayer1MaterialName",O,this),U(this,"description",P,this),U(this,"logoSet",A,this),U(this,"materialUsageMtl1",x,this),U(this,"materialUsageMtl2",M,this),U(this,"materialUsageMtl3",C,this),U(this,"materialUsageMtl4",D,this),U(this,"planeSets",I,this),U(this,"resPathInsert",L,this),U(this,"spotlightSets",F,this),U(this,"visibilityGroupSet",G,this)}HasColorType(e){return this.colorSet.Has(e)}GetColorType(e,t){return this.colorSet.Get(e,t)}HasAreaType(e){return!!this.areaTypes&&this.areaTypes.Has(e)}GetAreaType(e){if(!this.areaTypes)throw new N.ErrSOFAreaTypeNotFound({type:e});return this.areaTypes.Get(e)}AssignAreaType(e,t){return this.GetAreaType(e).Assign(t)}HasLogoType(e){return!!this.logoSet&&this.logoSet.Has(e)}GetLogoType(e){if(!this.logoSet)throw new N.ErrSOFLogoSetTypeNotFound({type:e});return this.logoSet.Get(e)}HasVisibilityGroup(e){return!!this.visibilityGroupSet&&this.visibilityGroupSet.Has(e)}GetResPathInsert(e,t){if(!t||"NONE"===t.toUpperCase()){if(!this.resPathInsert)return e;t=this.resPathInsert}var r=e.lastIndexOf("/");return r>=0&&(e=e.substr(0,r+1)+t+"/"+e.substr(r+1)),(r=e.lastIndexOf("_"))>=0&&(e=e.substr(0,r)+"_"+t+e.substr(r)),e}FindPlaneSetByGroupIndex(e){for(var t=0;t<this.planeSets.length;t++)if(this.planeSets[t].groupIndex===e)return this.planeSets[t]}FindSpotlightSetByGroupIndex(e){for(var t=0;t<this.spotlightSets.length;t++)if(this.spotlightSets[t].groupIndex===e)return this.spotlightSets[t]}}).prototype,"name",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),_=k(T.prototype,"areaTypes",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),j=k(T.prototype,"children",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),R=k(T.prototype,"colorSet",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),z=k(T.prototype,"defaultPattern",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),O=k(T.prototype,"defaultPatternLayer1MaterialName",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),P=k(T.prototype,"description",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),A=k(T.prototype,"logoSet",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),x=k(T.prototype,"materialUsageMtl1",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),M=k(T.prototype,"materialUsageMtl2",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),C=k(T.prototype,"materialUsageMtl3",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),D=k(T.prototype,"materialUsageMtl4",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),I=k(T.prototype,"planeSets",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),L=k(T.prototype,"resPathInsert",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),F=k(T.prototype,"spotlightSets",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),G=k(T.prototype,"visibilityGroupSet",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),k(T.prototype,"GetResPathInsert",[w],Object.getOwnPropertyDescriptor(T.prototype,"GetResPathInsert"),T.prototype),E=T))||E)},"./sof/faction/EveSOFDataFactionChild.js":function(e,t,r){"use strict";r.r(t),r.d(t,"EveSOFDataFactionChild",(function(){return b}));var i,n,a,o,s,l,u,c,f,d=r("./global/utils/index.js");function h(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function m(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var b=(i=d.meta.type("EveSOFDataFactionChild"),n=d.meta.string,a=d.meta.uint,o=d.meta.boolean,i((u=m((l=class{constructor(){h(this,"name",u,this),h(this,"groupIndex",c,this),h(this,"isVisible",f,this)}}).prototype,"name",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),c=m(l.prototype,"groupIndex",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return-1}}),f=m(l.prototype,"isVisible",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),s=l))||s)},"./sof/faction/EveSOFDataFactionColorSet.js":function(e,t,r){"use strict";r.r(t),r.d(t,"EveSOFDataFactionColorSet",(function(){return ie})),r.d(t,"ErrSOFFactionColorSetTypeUnknown",(function(){return ne})),r.d(t,"ErrSOFFactionColorSetTypeNotFound",(function(){return ae}));var i,n,a,o,s,l,u,c,f,d,h,m,b,p,v,g,y,w,E,T,S,_,j,R,z,O,P,A,x,M,C,D,I,L,F,G,B,N,U,k,V,H,q,W,Y,X,K,Q,Z,$=r("./global/utils/index.js"),J=r("./global/math/index.js"),ee=r("./core/index.js");function te(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function re(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var ie=(i=$.meta.type("EveSOFDataFactionColorSet"),n=$.meta.color,a=$.meta.color,o=$.meta.color,s=$.meta.color,l=$.meta.color,u=$.meta.color,c=$.meta.color,f=$.meta.color,d=$.meta.color,h=$.meta.color,m=$.meta.color,b=$.meta.color,p=$.meta.color,v=$.meta.color,g=$.meta.color,y=$.meta.color,w=$.meta.color,E=$.meta.color,T=$.meta.color,S=$.meta.color,_=$.meta.color,j=$.meta.color,i((Z=Q=class e{constructor(){te(this,"Black",O,this),te(this,"Blue",P,this),te(this,"Booster",A,this),te(this,"Cyan",x,this),te(this,"Darkhull",M,this),te(this,"Fire",C,this),te(this,"Glass",D,this),te(this,"Green",I,this),te(this,"Hull",L,this),te(this,"Killmark",F,this),te(this,"Orange",G,this),te(this,"Primary",B,this),te(this,"PrimaryLight",N,this),te(this,"Reactor",U,this),te(this,"Red",k,this),te(this,"Secondary",V,this),te(this,"SecondaryLight",H,this),te(this,"Tertiary",q,this),te(this,"TertiaryLight",W,this),te(this,"White",Y,this),te(this,"WhiteLight",X,this),te(this,"Yellow",K,this)}Has(t){var r=e.Type[t];if(void 0===r)throw new ne({type:t});return!!this[r]}Get(t,r=J.vec4.create()){if(!this.Has(t))throw new ae({type:t});return J.vec4.copy(r,this[e.Type[t]])}},Q.Type=["Primary","Secondary","Tertiary","Black","White","Yellow","Orange","Red","Blue","Green","Cyan","Fire","Hull","Glass","Reactor","Darkhull","Booster","Killmark","PrimaryLight","SecondaryLight","TertiaryLight","WhiteLight"],O=re((z=Z).prototype,"Black",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return J.vec4.create()}}),P=re(z.prototype,"Blue",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return J.vec4.create()}}),A=re(z.prototype,"Booster",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return J.vec4.create()}}),x=re(z.prototype,"Cyan",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return J.vec4.create()}}),M=re(z.prototype,"Darkhull",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return J.vec4.create()}}),C=re(z.prototype,"Fire",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return J.vec4.create()}}),D=re(z.prototype,"Glass",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return J.vec4.create()}}),I=re(z.prototype,"Green",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return J.vec4.create()}}),L=re(z.prototype,"Hull",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return J.vec4.create()}}),F=re(z.prototype,"Killmark",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return J.vec4.create()}}),G=re(z.prototype,"Orange",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return J.vec4.create()}}),B=re(z.prototype,"Primary",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return J.vec4.create()}}),N=re(z.prototype,"PrimaryLight",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return J.vec4.create()}}),U=re(z.prototype,"Reactor",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return J.vec4.create()}}),k=re(z.prototype,"Red",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return J.vec4.create()}}),V=re(z.prototype,"Secondary",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return J.vec4.create()}}),H=re(z.prototype,"SecondaryLight",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return J.vec4.create()}}),q=re(z.prototype,"Tertiary",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return J.vec4.create()}}),W=re(z.prototype,"TertiaryLight",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return J.vec4.create()}}),Y=re(z.prototype,"White",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return J.vec4.create()}}),X=re(z.prototype,"WhiteLight",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return J.vec4.create()}}),K=re(z.prototype,"Yellow",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return J.vec4.create()}}),R=z))||R);class ne extends ee.Tw2Error{constructor(e){super(e,"SOF faction color set type unknown (%type%)"),this.unknownType=!0}}class ae extends ee.Tw2Error{constructor(e){super(e,"SOF faction color set type not found (%type%)")}}},"./sof/faction/EveSOFDataFactionPlaneSet.js":function(e,t,r){"use strict";r.r(t),r.d(t,"EveSOFDataFactionPlaneSet",(function(){return p}));var i,n,a,o,s,l,u,c,f,d=r("./global/utils/index.js"),h=r("./global/math/index.js");function m(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function b(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var p=(i=d.meta.type("EveSOFDataFactionPlaneSet"),n=d.meta.string,a=d.meta.color,o=d.meta.uint,i((u=b((l=class{constructor(){m(this,"name",u,this),m(this,"color",c,this),m(this,"groupIndex",f,this)}}).prototype,"name",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),c=b(l.prototype,"color",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return h.vec4.create()}}),f=b(l.prototype,"groupIndex",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return-1}}),s=l))||s)},"./sof/faction/EveSOFDataFactionSpotlightSet.js":function(e,t,r){"use strict";r.r(t),r.d(t,"EveSOFDataFactionSpotlightSet",(function(){return w}));var i,n,a,o,s,l,u,c,f,d,h,m,b,p=r("./global/utils/index.js"),v=r("./global/math/index.js");function g(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function y(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var w=(i=p.meta.type("EveSOFDataFactionSpotlightSet"),n=p.meta.string,a=p.meta.color,o=p.meta.color,s=p.meta.uint,l=p.meta.color,i((f=y((c=class{constructor(){g(this,"name",f,this),g(this,"coneColor",d,this),g(this,"flareColor",h,this),g(this,"groupIndex",m,this),g(this,"spriteColor",b,this)}}).prototype,"name",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),d=y(c.prototype,"coneColor",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return v.vec4.create()}}),h=y(c.prototype,"flareColor",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return v.vec4.create()}}),m=y(c.prototype,"groupIndex",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return-1}}),b=y(c.prototype,"spriteColor",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return v.vec4.create()}}),u=c))||u)},"./sof/faction/EveSOFDataFactionVisibilityGroupSet.js":function(e,t,r){"use strict";r.r(t),r.d(t,"EveSOFDataFactionVisibilityGroupSet",(function(){return p}));var i,n,a,o,s,l,u=r("./global/utils/index.js");var c,f,d,h,m,b,p=(i=u.meta.type("EveSOFDataFactionVisibilityGroupSet"),n=u.meta.list("EveSOFDataGenericString"),i((l=class{constructor(){var e,t,r,i;e=this,t="visibilityGroups",i=this,(r=s)&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}Has(e){e=e.toUpperCase();for(var t=0;t<this.visibilityGroups.length;t++)if(this.visibilityGroups[t].str.toUpperCase()===e)return!0;return!1}},c=(o=l).prototype,f="visibilityGroups",d=[n],h={configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}},b={},Object.keys(h).forEach((function(e){b[e]=h[e]})),b.enumerable=!!b.enumerable,b.configurable=!!b.configurable,("value"in b||b.initializer)&&(b.writable=!0),b=d.slice().reverse().reduce((function(e,t){return t(c,f,e)||e}),b),m&&void 0!==b.initializer&&(b.value=b.initializer?b.initializer.call(m):void 0,b.initializer=void 0),void 0===b.initializer&&(Object.defineProperty(c,f,b),b=null),s=b,a=o))||a)},"./sof/faction/index.js":function(e,t,r){"use strict";r.r(t);var i=r("./sof/faction/EveSOFDataFaction.js");r.d(t,"EveSOFDataFaction",(function(){return i.EveSOFDataFaction}));var n=r("./sof/faction/EveSOFDataFactionChild.js");r.d(t,"EveSOFDataFactionChild",(function(){return n.EveSOFDataFactionChild}));var a=r("./sof/faction/EveSOFDataFactionColorSet.js");r.d(t,"EveSOFDataFactionColorSet",(function(){return a.EveSOFDataFactionColorSet})),r.d(t,"ErrSOFFactionColorSetTypeUnknown",(function(){return a.ErrSOFFactionColorSetTypeUnknown})),r.d(t,"ErrSOFFactionColorSetTypeNotFound",(function(){return a.ErrSOFFactionColorSetTypeNotFound}));var o=r("./sof/faction/EveSOFDataFactionPlaneSet.js");r.d(t,"EveSOFDataFactionPlaneSet",(function(){return o.EveSOFDataFactionPlaneSet}));var s=r("./sof/faction/EveSOFDataFactionSpotlightSet.js");r.d(t,"EveSOFDataFactionSpotlightSet",(function(){return s.EveSOFDataFactionSpotlightSet}));var l=r("./sof/faction/EveSOFDataFactionVisibilityGroupSet.js");r.d(t,"EveSOFDataFactionVisibilityGroupSet",(function(){return l.EveSOFDataFactionVisibilityGroupSet}))},"./sof/generic/EveSOFDataGeneric.js":function(e,t,r){"use strict";r.r(t),r.d(t,"EveSOFDataGeneric",(function(){return H})),r.d(t,"ErrSOFAreaShaderNotFound",(function(){return q})),r.d(t,"ErrSOFDecalShaderNotFound",(function(){return W})),r.d(t,"ErrSOFMaterialPrefixNotFound",(function(){return Y})),r.d(t,"ErrSOFPatternMaterialPrefixNotFound",(function(){return X}));var i,n,a,o,s,l,u,c,f,d,h,m,b,p,v,g,y,w,E,T,S,_,j,R,z,O,P,A,x,M,C,D,I,L,F,G,B,N=r("./core/index.js"),U=r("./global/utils/index.js");function k(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function V(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var H=(i=U.meta.type("EveSOFDataGeneric"),n=U.meta.path,a=U.meta.list("EveSOFDataGenericShader"),o=U.meta.raw("EveSOFDataGenericShader"),s=U.meta.struct("EveSOFDataGenericDamage"),l=U.meta.path,u=U.meta.list("EveSOFDataGenericDecalShader"),c=U.meta.struct("EveSOFDataAreaMaterial"),f=U.meta.struct("EveSOFDataGenericHullDamage"),d=U.meta.list("EveSOFDataGenericString"),h=U.meta.list("EveSOFDataGenericString"),m=U.meta.path,b=U.meta.path,p=U.meta.path,v=U.meta.string,g=U.meta.struct("EveSOFDataGenericSwarm"),y=U.meta.list("EveSOFDataGenericVariant"),w=U.meta.list("EveSOFDataGenericString"),i((S=V((T=class{constructor(){k(this,"areaShaderLocation",S,this),k(this,"areaShaders",_,this),k(this,"bannerShader",j,this),k(this,"damage",R,this),k(this,"decalShaderLocation",z,this),k(this,"decalShaders",O,this),k(this,"genericWreckMaterial",P,this),k(this,"hullDamage",A,this),k(this,"materialPrefixes",x,this),k(this,"patternMaterialPrefixes",M,this),k(this,"resPathDefaultAlliance",C,this),k(this,"resPathDefaultCeo",D,this),k(this,"resPathDefaultCorp",I,this),k(this,"shaderPrefixAnimated",L,this),k(this,"swarm",F,this),k(this,"variants",G,this),k(this,"visibilityGroups",B,this)}Initialize(){this.bannerShader&&(this.bannerShader.shader="cdn:/graphics/effect/managed/space/spaceobject/v5/fx/banner/unpacked_fxbannerv5.fx")}GetShaderConfig(e,t,r){var i=this.HasDecalShader(e),n=i?this.GetDecalShader(e):this.GetAreaShader(e),{hasPatternMaskMaps:a=!1}=n,o=i?this.GetDecalShaderPath(e,t):this.GetAreaShaderPath(e,t);return n.Assign({effectFilePath:o,hasPatternMaskMaps:a,overrides:{}},r)}GetShaderPrefix(e){return e?this.shaderPrefixAnimated:""}GetShaderPath(e,t){var r=this.GetShaderPrefix(t);"/"!==e.charAt(0)&&(e="/"+e);var i=e.lastIndexOf("/");return e.substring(0,i+1)+r+e.substring(i+1)}GetAreaShaderPath(e,t){return this.areaShaderLocation+this.GetShaderPath(e,t)}GetDecalShaderPath(e,t){return this.decalShaderLocation+this.GetShaderPath(e,t)}HasAreaShader(e){return!!Object(U.findElementByPropertyValue)(this.areaShaders,"shader",e)}GetAreaShader(e){return Object(U.findElementByPropertyValue)(this.areaShaders,"shader",e,q)}HasDecalShader(e){return!!Object(U.findElementByPropertyValue)(this.decalShaders,"shader",e)}GetDecalShader(e){return Object(U.findElementByPropertyValue)(this.decalShaders,"shader",e,W)}GetMaterialPrefixes(){for(var e=[],t=0;t<this.materialPrefixes.length;t++)e.push(this.materialPrefixes[t].str);return e}GetPatternMaterialPrefixes(){for(var e=[],t=0;t<this.patternMaterialPrefixes.length;t++)e.push(this.patternMaterialPrefixes[t].str);return e}GetMaterialPrefix(e){var t=e-1;if(void 0===this.materialPrefixes[t])throw new Y({index:e});return this.materialPrefixes[t].str}GetPatternMaterialPrefix(e){var t=e-1;if(void 0===this.patternMaterialPrefixes[t])throw new X({index:e});return this.patternMaterialPrefixes[t].str}}).prototype,"areaShaderLocation",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),_=V(T.prototype,"areaShaders",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),j=V(T.prototype,"bannerShader",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),R=V(T.prototype,"damage",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),z=V(T.prototype,"decalShaderLocation",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),O=V(T.prototype,"decalShaders",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),P=V(T.prototype,"genericWreckMaterial",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),A=V(T.prototype,"hullDamage",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),x=V(T.prototype,"materialPrefixes",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),M=V(T.prototype,"patternMaterialPrefixes",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),C=V(T.prototype,"resPathDefaultAlliance",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),D=V(T.prototype,"resPathDefaultCeo",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),I=V(T.prototype,"resPathDefaultCorp",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),L=V(T.prototype,"shaderPrefixAnimated",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),F=V(T.prototype,"swarm",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),G=V(T.prototype,"variants",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),B=V(T.prototype,"visibilityGroups",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),E=T))||E);class q extends N.Tw2Error{constructor(e){super(e,"SOF Area shader not found (%name%)")}}class W extends N.Tw2Error{constructor(e){super(e,"SOF Decal area shader not found (%name%)")}}class Y extends N.Tw2Error{constructor(e){super(e,"SOF Material prefix index not found (%index%)")}}class X extends N.Tw2Error{constructor(e){super(e,"SOF Pattern material prefix index not found (%index%)")}}},"./sof/generic/EveSOFDataGenericDamage.js":function(e,t,r){"use strict";r.r(t),r.d(t,"EveSOFDataGenericDamage",(function(){return ee}));var i,n,a,o,s,l,u,c,f,d,h,m,b,p,v,g,y,w,E,T,S,_,j,R,z,O,P,A,x,M,C,D,I,L,F,G,B,N,U,k,V,H,q,W,Y,X,K,Q=r("./global/utils/index.js"),Z=r("./global/math/index.js");function $(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function J(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var ee=(i=Q.meta.type("EveSOFDataGenericDamage"),n=Q.meta.float,a=Q.meta.color,o=Q.meta.color,s=Q.meta.color,l=Q.meta.color,u=Q.meta.float,c=Q.meta.vector2,f=Q.meta.vector2,d=Q.meta.float,h=Q.meta.vector4,m=Q.meta.uint,b=Q.meta.float,p=Q.meta.float,v=Q.meta.float,g=Q.meta.string,y=Q.meta.float,w=Q.meta.float,E=Q.meta.uint,T=Q.meta.float,S=Q.meta.path,_=Q.meta.string,j=Q.meta.string,i((O=J((z=class{constructor(){$(this,"armorParticleAngle",O,this),$(this,"armorParticleColor0",P,this),$(this,"armorParticleColor1",A,this),$(this,"armorParticleColor2",x,this),$(this,"armorParticleColor3",M,this),$(this,"armorParticleDrag",C,this),$(this,"armorParticleMinMaxLifeTime",D,this),$(this,"armorParticleMinMaxSpeed",I,this),$(this,"armorParticleRate",L,this),$(this,"armorParticleSizes",F,this),$(this,"armorParticleTextureIndex",G,this),$(this,"armorParticleTurbulenceAmplitude",B,this),$(this,"armorParticleTurbulenceFrequency",N,this),$(this,"armorParticleVelocityStretchRotation",U,this),$(this,"armorShader",k,this),$(this,"flickerPerlinAlpha",V,this),$(this,"flickerPerlinBeta",H,this),$(this,"flickerPerlinN",q,this),$(this,"flickerPerlinSpeed",W,this),$(this,"shieldGeometryResFilePath",Y,this),$(this,"shieldShaderEllipsoid",X,this),$(this,"shieldShaderHull",K,this)}}).prototype,"armorParticleAngle",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),P=J(z.prototype,"armorParticleColor0",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Z.vec4.create()}}),A=J(z.prototype,"armorParticleColor1",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Z.vec4.create()}}),x=J(z.prototype,"armorParticleColor2",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Z.vec4.create()}}),M=J(z.prototype,"armorParticleColor3",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Z.vec4.create()}}),C=J(z.prototype,"armorParticleDrag",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),D=J(z.prototype,"armorParticleMinMaxLifeTime",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Z.vec2.create()}}),I=J(z.prototype,"armorParticleMinMaxSpeed",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Z.vec2.create()}}),L=J(z.prototype,"armorParticleRate",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),F=J(z.prototype,"armorParticleSizes",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Z.vec4.create()}}),G=J(z.prototype,"armorParticleTextureIndex",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),B=J(z.prototype,"armorParticleTurbulenceAmplitude",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),N=J(z.prototype,"armorParticleTurbulenceFrequency",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),U=J(z.prototype,"armorParticleVelocityStretchRotation",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),k=J(z.prototype,"armorShader",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),V=J(z.prototype,"flickerPerlinAlpha",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),H=J(z.prototype,"flickerPerlinBeta",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),q=J(z.prototype,"flickerPerlinN",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),W=J(z.prototype,"flickerPerlinSpeed",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Y=J(z.prototype,"shieldGeometryResFilePath",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),X=J(z.prototype,"shieldShaderEllipsoid",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),K=J(z.prototype,"shieldShaderHull",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),R=z))||R)},"./sof/generic/EveSOFDataGenericDecalShader.js":function(e,t,r){"use strict";r.r(t),r.d(t,"EveSOFDataGenericDecalShader",(function(){return v}));var i,n,a,o,s,l,u,c,f,d,h,m=r("./global/utils/index.js");function b(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function p(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var v=(i=m.meta.type("EveSOFDataGenericDecalShader"),n=m.meta.list("EveSOFDataTexture"),a=m.meta.list("EveSOFDataGenericString"),o=m.meta.list("EveSOFDataGenericString"),s=m.meta.string,i((c=p((u=class{constructor(){b(this,"defaultTextures",c,this),b(this,"parameters",f,this),b(this,"parentTextures",d,this),b(this,"shader",h,this)}Assign(e={},t={}){return e.textures=this.AssignTextures(e.textures,t.textures),e.parameters=this.AssignParameters(e.parameters,t.parameters),e}AssignParameters(e={},t){for(var r=0;r<this.parameters.length;r++){var{str:i}=this.parameters[r];t&&t[i]?e[i]=Array.from(t[i]):e[i]=[0,0,0,1]}return e}AssignTextures(e={},t){for(var r=0;r<this.defaultTextures.length;r++)this.defaultTextures[r].Assign(e);for(var i=0;i<this.parentTextures.length;i++){var{str:n}=this.parentTextures[i];t&&t[n]?e[n]=t[n]:e[n]||(e[n]="")}return e}}).prototype,"defaultTextures",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),f=p(u.prototype,"parameters",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),d=p(u.prototype,"parentTextures",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),h=p(u.prototype,"shader",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),l=u))||l)},"./sof/generic/EveSOFDataGenericHullDamage.js":function(e,t,r){"use strict";r.r(t),r.d(t,"EveSOFDataGenericHullDamage",(function(){return L}));var i,n,a,o,s,l,u,c,f,d,h,m,b,p,v,g,y,w,E,T,S,_,j,R,z,O,P,A,x,M=r("./global/utils/index.js"),C=r("./global/math/index.js");function D(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function I(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var L=(i=M.meta.type("EveSOFDataGenericHullDamage"),n=M.meta.float,a=M.meta.color,o=M.meta.color,s=M.meta.color,l=M.meta.float,u=M.meta.float,c=M.meta.vector2,f=M.meta.vector2,d=M.meta.float,h=M.meta.vector4,m=M.meta.uint,b=M.meta.float,p=M.meta.float,i((y=I((g=class{constructor(){D(this,"hullParticleAngle",y,this),D(this,"hullParticleColor0",w,this),D(this,"hullParticleColor1",E,this),D(this,"hullParticleColor2",T,this),D(this,"hullParticleColorMidpoint",S,this),D(this,"hullParticleDrag",_,this),D(this,"hullParticleMinMaxLifeTime",j,this),D(this,"hullParticleMinMaxSpeed",R,this),D(this,"hullParticleRate",z,this),D(this,"hullParticleSizes",O,this),D(this,"hullParticleTextureIndex",P,this),D(this,"hullParticleTurbulenceAmplitude",A,this),D(this,"hullParticleTurbulenceFrequency",x,this)}}).prototype,"hullParticleAngle",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),w=I(g.prototype,"hullParticleColor0",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return C.vec4.create()}}),E=I(g.prototype,"hullParticleColor1",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return C.vec4.create()}}),T=I(g.prototype,"hullParticleColor2",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return C.vec4.create()}}),S=I(g.prototype,"hullParticleColorMidpoint",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),_=I(g.prototype,"hullParticleDrag",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),j=I(g.prototype,"hullParticleMinMaxLifeTime",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return C.vec2.create()}}),R=I(g.prototype,"hullParticleMinMaxSpeed",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return C.vec2.create()}}),z=I(g.prototype,"hullParticleRate",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),O=I(g.prototype,"hullParticleSizes",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return C.vec4.create()}}),P=I(g.prototype,"hullParticleTextureIndex",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),A=I(g.prototype,"hullParticleTurbulenceAmplitude",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),x=I(g.prototype,"hullParticleTurbulenceFrequency",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),v=g))||v)},"./sof/generic/EveSOFDataGenericShader.js":function(e,t,r){"use strict";r.r(t),r.d(t,"EveSOFDataGenericShader",(function(){return j}));var i,n,a,o,s,l,u,c,f,d,h,m,b,p,v,g,y,w,E,T=r("./global/utils/index.js");function S(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function _(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var j=(i=T.meta.type("EveSOFDataGenericShader"),n=T.meta.list("EveSOFDataParameter"),a=T.meta.list("EveSOFDataTexture"),o=T.meta.notImplemented,s=T.meta.boolean,l=T.meta.list("EveSOFDataGenericString"),u=T.meta.path,c=T.meta.notImplemented,f=T.meta.string,i((E=w=class e{constructor(){S(this,"defaultParameters",m,this),S(this,"defaultTextures",b,this),S(this,"doGenerateDepthArea",p,this),S(this,"parameters",v,this),S(this,"shader",g,this),S(this,"transparencyTextureName",y,this)}get hasPatternMaskMaps(){for(var t=0;t<this.defaultTextures.length;t++)if(e.PatternMaskMaps.includes(this.defaultTextures[t].name))return!0;return!1}Assign(e={},t={}){return e.textures=this.AssignTextures(e.textures,t.textures),e.parameters=this.AssignParameters(e.parameters,t.parameters),e}AssignParameters(e={},t){for(var r=0;r<this.defaultParameters.length;r++)this.defaultParameters[r].Assign(e);for(var i=0;i<this.parameters.length;i++){var{str:n}=this.parameters[i];t&&t[n]?e[n]=Array.from(t[n]):e[n]&&(e[n]=[0,0,0,1])}return e}AssignTextures(e={},t){for(var r=0;r<this.defaultTextures.length;r++)this.defaultTextures[r].Assign(e);return Object.assign(e,t)}},w.PatternMaskMaps=["PatternMask1Map","PatternMask2Map"],m=_((h=E).prototype,"defaultParameters",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),b=_(h.prototype,"defaultTextures",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),p=_(h.prototype,"doGenerateDepthArea",[o,s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),v=_(h.prototype,"parameters",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),g=_(h.prototype,"shader",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),y=_(h.prototype,"transparencyTextureName",[c,f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),d=h))||d)},"./sof/generic/EveSOFDataGenericString.js":function(e,t,r){"use strict";r.r(t),r.d(t,"EveSOFDataGenericString",(function(){return p}));var i,n,a,o,s,l,u=r("./global/utils/index.js");var c,f,d,h,m,b,p=(i=u.meta.type("EveSOFDataGenericString"),n=u.meta.string,i((l=class{constructor(){var e,t,r,i;e=this,t="str",i=this,(r=s)&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}},c=(o=l).prototype,f="str",d=[n],h={configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}},b={},Object.keys(h).forEach((function(e){b[e]=h[e]})),b.enumerable=!!b.enumerable,b.configurable=!!b.configurable,("value"in b||b.initializer)&&(b.writable=!0),b=d.slice().reverse().reduce((function(e,t){return t(c,f,e)||e}),b),m&&void 0!==b.initializer&&(b.value=b.initializer?b.initializer.call(m):void 0,b.initializer=void 0),void 0===b.initializer&&(Object.defineProperty(c,f,b),b=null),s=b,a=o))||a)},"./sof/generic/EveSOFDataGenericSwarm.js":function(e,t,r){"use strict";r.r(t),r.d(t,"EveSOFDataGenericSwarm",(function(){return I}));var i,n,a,o,s,l,u,c,f,d,h,m,b,p,v,g,y,w,E,T,S,_,j,R,z,O,P,A,x,M=r("./global/utils/index.js");function C(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function D(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var I=(i=M.meta.type("EveSOFDataGenericShader"),n=M.meta.float,a=M.meta.float,o=M.meta.float,s=M.meta.float,l=M.meta.float,u=M.meta.float,c=M.meta.float,f=M.meta.float,d=M.meta.float,h=M.meta.float,m=M.meta.float,b=M.meta.float,p=M.meta.float,i((y=D((g=class{constructor(){C(this,"formationDistance",y,this),C(this,"maxDeceleration",w,this),C(this,"maxDistance0",E,this),C(this,"separationDistance",T,this),C(this,"wanderDistance",S,this),C(this,"wanderFluctuation",_,this),C(this,"wanderRadius",j,this),C(this,"weightAlign",R,this),C(this,"weightAnchor",z,this),C(this,"weightCohesion",O,this),C(this,"weightDeceleration",P,this),C(this,"weightFormation",A,this),C(this,"weightSeparation",x,this)}}).prototype,"formationDistance",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),w=D(g.prototype,"maxDeceleration",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),E=D(g.prototype,"maxDistance0",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),T=D(g.prototype,"separationDistance",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),S=D(g.prototype,"wanderDistance",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),_=D(g.prototype,"wanderFluctuation",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),j=D(g.prototype,"wanderRadius",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),R=D(g.prototype,"weightAlign",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),z=D(g.prototype,"weightAnchor",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),O=D(g.prototype,"weightCohesion",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),P=D(g.prototype,"weightDeceleration",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),A=D(g.prototype,"weightFormation",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),x=D(g.prototype,"weightSeparation",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),v=g))||v)},"./sof/generic/EveSOFDataGenericVariant.js":function(e,t,r){"use strict";r.r(t),r.d(t,"EveSOFDataGenericVariant",(function(){return b}));var i,n,a,o,s,l,u,c,f,d=r("./global/utils/index.js");function h(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function m(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var b=(i=d.meta.type("EveSOFDataGenericVariant"),n=d.meta.string,a=d.meta.struct("EveSOFDataHullArea"),o=d.meta.boolean,i((u=m((l=class{constructor(){h(this,"name",u,this),h(this,"hullArea",c,this),h(this,"isTransparent",f,this)}}).prototype,"name",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),c=m(l.prototype,"hullArea",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),f=m(l.prototype,"isTransparent",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),s=l))||s)},"./sof/generic/index.js":function(e,t,r){"use strict";r.r(t);var i=r("./sof/generic/EveSOFDataGeneric.js");r.d(t,"EveSOFDataGeneric",(function(){return i.EveSOFDataGeneric})),r.d(t,"ErrSOFAreaShaderNotFound",(function(){return i.ErrSOFAreaShaderNotFound})),r.d(t,"ErrSOFDecalShaderNotFound",(function(){return i.ErrSOFDecalShaderNotFound})),r.d(t,"ErrSOFMaterialPrefixNotFound",(function(){return i.ErrSOFMaterialPrefixNotFound})),r.d(t,"ErrSOFPatternMaterialPrefixNotFound",(function(){return i.ErrSOFPatternMaterialPrefixNotFound}));var n=r("./sof/generic/EveSOFDataGenericDamage.js");r.d(t,"EveSOFDataGenericDamage",(function(){return n.EveSOFDataGenericDamage}));var a=r("./sof/generic/EveSOFDataGenericDecalShader.js");r.d(t,"EveSOFDataGenericDecalShader",(function(){return a.EveSOFDataGenericDecalShader}));var o=r("./sof/generic/EveSOFDataGenericHullDamage.js");r.d(t,"EveSOFDataGenericHullDamage",(function(){return o.EveSOFDataGenericHullDamage}));var s=r("./sof/generic/EveSOFDataGenericShader.js");r.d(t,"EveSOFDataGenericShader",(function(){return s.EveSOFDataGenericShader}));var l=r("./sof/generic/EveSOFDataGenericString.js");r.d(t,"EveSOFDataGenericString",(function(){return l.EveSOFDataGenericString}));var u=r("./sof/generic/EveSOFDataGenericSwarm.js");r.d(t,"EveSOFDataGenericSwarm",(function(){return u.EveSOFDataGenericSwarm}));var c=r("./sof/generic/EveSOFDataGenericVariant.js");r.d(t,"EveSOFDataGenericVariant",(function(){return c.EveSOFDataGenericVariant}))},"./sof/hull/EveSOFDataHull.js":function(e,t,r){"use strict";r.r(t),r.d(t,"EveSOFDataHull",(function(){return Me}));var i,n,a,o,s,l,u,c,f,d,h,m,b,p,v,g,y,w,E,T,S,_,j,R,z,O,P,A,x,M,C,D,I,L,F,G,B,N,U,k,V,H,q,W,Y,X,K,Q,Z,$,J,ee,te,re,ie,ne,ae,oe,se,le,ue,ce,fe,de,he,me,be,pe,ve,ge,ye,we,Ee,Te,Se,_e,je,Re,ze,Oe=r("./global/utils/index.js"),Pe=r("./global/math/index.js");function Ae(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function xe(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var Me=(i=Oe.meta.type("EveSOFDataHull"),n=Oe.meta.string,a=Oe.meta.list("EveSOFDataHullArea"),o=Oe.meta.list("EveSOFDataHullAnimation"),s=Oe.meta.vector3,l=Oe.meta.list("EveSOFDataHullBanner"),u=Oe.meta.struct("EveSOFDataHullBooster"),c=Oe.meta.vector4,f=Oe.meta.uint,d=Oe.meta.boolean,h=Oe.meta.string,m=Oe.meta.list("EveSOFDataHullChild"),b=Oe.meta.list("EveSOFDataHullController"),p=Oe.meta.list("EveSOFDataHullArea"),v=Oe.meta.list("EveSOFDataHullDecalSet"),g=Oe.meta.struct("EveSOFDataPatternPerHull"),y=Oe.meta.list("EveSOFDataHullArea"),w=Oe.meta.string,E=Oe.meta.list("EveSOFDataHullArea"),T=Oe.meta.boolean,S=Oe.meta.path,_=Oe.meta.list("EveSOFDataHullHazeSet"),j=Oe.meta.list("EveSOFDataHullDecalSet"),R=Oe.meta.uint,z=Oe.meta.list("EveSOFDataInstancedMesh"),O=Oe.meta.boolean,P=Oe.meta.list("EveSOFDataHullLightSet"),A=Oe.meta.list("EveSOFDataHullLocatorSet"),x=Oe.meta.list("EveSOFDataHullLocator"),M=Oe.meta.path,C=Oe.meta.list("EveSOFDataHullArea"),D=Oe.meta.list("EveSOFDataHullPlaneSet"),I=Oe.meta.vector3,L=Oe.meta.vector3,F=Oe.meta.list("EveSOFDataHullSoundEmitter"),G=Oe.meta.list("EveSOFDataHullSpotlightSet"),B=Oe.meta.list("EveSOFDataHullSpriteLineSet"),N=Oe.meta.list("EveSOFDataHullSpriteSet"),U=Oe.meta.list("EveSOFDataHullArea"),i((H=xe((V=class{constructor(){Ae(this,"name",H,this),Ae(this,"additiveAreas",q,this),Ae(this,"animations",W,this),Ae(this,"audioPosition",Y,this),Ae(this,"banners",X,this),Ae(this,"booster",K,this),Ae(this,"boundingSphere",Q,this),Ae(this,"buildClass",Z,this),Ae(this,"castShadow",$,this),Ae(this,"category",J,this),Ae(this,"children",ee,this),Ae(this,"controllers",te,this),Ae(this,"decalAreas",re,this),Ae(this,"decalSets",ie,this),Ae(this,"defaultPattern",ne,this),Ae(this,"depthAreas",ae,this),Ae(this,"description",oe,this),Ae(this,"distortionAreas",se,this),Ae(this,"enableDynamicBoundingSphere",le,this),Ae(this,"geometryResFilePath",ue,this),Ae(this,"hazeSets",ce,this),Ae(this,"hullDecals",fe,this),Ae(this,"impactEffectType",de,this),Ae(this,"instancedMeshes",he,this),Ae(this,"isSkinned",me,this),Ae(this,"lightSets",be,this),Ae(this,"locatorSets",pe,this),Ae(this,"locatorTurrets",ve,this),Ae(this,"modelRotationCurvePath",ge,this),Ae(this,"opaqueAreas",ye,this),Ae(this,"planeSets",we,this),Ae(this,"shapeEllipsoidCenter",Ee,this),Ae(this,"shapeEllipsoidRadius",Te,this),Ae(this,"soundEmitters",Se,this),Ae(this,"spotlightSets",_e,this),Ae(this,"spriteLineSets",je,this),Ae(this,"spriteSets",Re,this),Ae(this,"transparentAreas",ze,this)}Initialize(){this.geometryResFilePath.includes(".cake")&&(this.isSkinned=!1)}}).prototype,"name",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),q=xe(V.prototype,"additiveAreas",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),W=xe(V.prototype,"animations",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Y=xe(V.prototype,"audioPosition",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Pe.vec3.create()}}),X=xe(V.prototype,"banners",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),K=xe(V.prototype,"booster",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Q=xe(V.prototype,"boundingSphere",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Pe.vec4.create()}}),Z=xe(V.prototype,"buildClass",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),$=xe(V.prototype,"castShadow",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),J=xe(V.prototype,"category",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),ee=xe(V.prototype,"children",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),te=xe(V.prototype,"controllers",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),re=xe(V.prototype,"decalAreas",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),ie=xe(V.prototype,"decalSets",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),ne=xe(V.prototype,"defaultPattern",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ae=xe(V.prototype,"depthAreas",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),oe=xe(V.prototype,"description",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),se=xe(V.prototype,"distortionAreas",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),le=xe(V.prototype,"enableDynamicBoundingSphere",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),ue=xe(V.prototype,"geometryResFilePath",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),ce=xe(V.prototype,"hazeSets",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),fe=xe(V.prototype,"hullDecals",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),de=xe(V.prototype,"impactEffectType",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),he=xe(V.prototype,"instancedMeshes",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),me=xe(V.prototype,"isSkinned",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),be=xe(V.prototype,"lightSets",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),pe=xe(V.prototype,"locatorSets",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),ve=xe(V.prototype,"locatorTurrets",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),ge=xe(V.prototype,"modelRotationCurvePath",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),ye=xe(V.prototype,"opaqueAreas",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),we=xe(V.prototype,"planeSets",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Ee=xe(V.prototype,"shapeEllipsoidCenter",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Pe.vec3.create()}}),Te=xe(V.prototype,"shapeEllipsoidRadius",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Pe.vec3.create()}}),Se=xe(V.prototype,"soundEmitters",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),_e=xe(V.prototype,"spotlightSets",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),je=xe(V.prototype,"spriteLineSets",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Re=xe(V.prototype,"spriteSets",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),ze=xe(V.prototype,"transparentAreas",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),k=V))||k)},"./sof/hull/EveSOFDataHullAnimation.js":function(e,t,r){"use strict";r.r(t),r.d(t,"EveSOFDataHullAnimation",(function(){return R}));var i,n,a,o,s,l,u,c,f,d,h,m,b,p,v,g,y,w,E,T=r("./global/utils/index.js"),S=r("./global/math/index.js");function _(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function j(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var R=(i=T.meta.type("EveSOFDataHullAnimation"),n=T.meta.string,a=T.meta.float,o=T.meta.float,s=T.meta.quaternion,l=T.meta.uint,u=T.meta.float,c=T.meta.float,f=T.meta.quaternion,i((m=j((h=class{constructor(){_(this,"name",m,this),_(this,"endRate",b,this),_(this,"endRotationTime",p,this),_(this,"endRotationValue",v,this),_(this,"id",g,this),_(this,"startRate",y,this),_(this,"startRotationTime",w,this),_(this,"startRotationValue",E,this)}}).prototype,"name",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),b=j(h.prototype,"endRate",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),p=j(h.prototype,"endRotationTime",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),v=j(h.prototype,"endRotationValue",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return S.quat.create()}}),g=j(h.prototype,"id",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),y=j(h.prototype,"startRate",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),w=j(h.prototype,"startRotationTime",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),E=j(h.prototype,"startRotationValue",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return S.quat.create()}}),d=h))||d)},"./sof/hull/EveSOFDataHullArea.js":function(e,t,r){"use strict";r.r(t),r.d(t,"EveSOFDataHullArea",(function(){return j}));var i,n,a,o,s,l,u,c,f,d,h,m,b,p,v,g,y,w,E,T=r("./global/utils/index.js");function S(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function _(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var j=(i=T.meta.type("EveSOFDataHullArea"),n=T.meta.string,a=T.meta.uint,o=T.meta.uint,s=T.meta.uint,l=T.meta.uint,u=T.meta.list("EveSOFDataParameter"),c=T.meta.string,f=T.meta.list("EveSOFDataTexture"),i((m=_((h=class{constructor(){S(this,"name",m,this),S(this,"areaType",b,this),S(this,"blockedMaterials",p,this),S(this,"count",v,this),S(this,"index",g,this),S(this,"parameters",y,this),S(this,"shader",w,this),S(this,"textures",E,this)}Assign(e={}){return e.textures=this.AssignTextures(e.textures),e.parameters=this.AssignParameters(e.parameters),e}AssignParameters(e={}){for(var t=0;t<this.parameters.length;t++)this.parameters[t].Assign(e);return e}AssignTextures(e={}){for(var t=0;t<this.textures.length;t++)this.textures[t].Assign(e);return e}}).prototype,"name",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),b=_(h.prototype,"areaType",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),p=_(h.prototype,"blockedMaterials",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),v=_(h.prototype,"count",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),g=_(h.prototype,"index",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),y=_(h.prototype,"parameters",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),w=_(h.prototype,"shader",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),E=_(h.prototype,"textures",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),d=h))||d)},"./sof/hull/EveSOFDataHullBanner.js":function(e,t,r){"use strict";r.r(t),r.d(t,"EveSOFDataHullBanner",(function(){return A}));var i,n,a,o,s,l,u,c,f,d,h,m,b,p,v,g,y,w,E,T,S,_,j,R=r("./global/utils/index.js"),z=r("./global/math/index.js");function O(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function P(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var A=(i=R.meta.type("EveSOFDataHullBanner"),n=R.meta.string,a=R.meta.float,o=R.meta.float,s=R.meta.float,l=R.meta.uint,u=R.meta.struct(),c=R.meta.vector3,f=R.meta.quaternion,d=R.meta.vector3,h=R.meta.uint,i((p=P((b=class{constructor(){O(this,"name",p,this),O(this,"angleX",v,this),O(this,"angleY",g,this),O(this,"angleZ",y,this),O(this,"boneIndex",w,this),O(this,"lightOverride",E,this),O(this,"position",T,this),O(this,"rotation",S,this),O(this,"scaling",_,this),O(this,"usage",j,this)}}).prototype,"name",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),v=P(b.prototype,"angleX",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),g=P(b.prototype,"angleY",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),y=P(b.prototype,"angleZ",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),w=P(b.prototype,"boneIndex",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return-1}}),E=P(b.prototype,"lightOverride",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),T=P(b.prototype,"position",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return z.vec3.create()}}),S=P(b.prototype,"rotation",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return z.quat.create()}}),_=P(b.prototype,"scaling",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return z.vec3.fromValues(1,1,1)}}),j=P(b.prototype,"usage",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),m=b))||m)},"./sof/hull/EveSOFDataHullBannerLight.js":function(e,t,r){"use strict";r.r(t),r.d(t,"EveSOFDataHullBannerLight",(function(){return a}));var i,n=r("./global/utils/index.js"),a=(0,n.meta.notImplemented)(i=n.meta.type("EveSOFDataHullBannerLight")(i=class{})||i)||i},"./sof/hull/EveSOFDataHullBooster.js":function(e,t,r){"use strict";r.r(t),r.d(t,"EveSOFDataHullBooster",(function(){return b}));var i,n,a,o,s,l,u,c,f,d=r("./global/utils/index.js");function h(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function m(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var b=(i=d.meta.type("EveSOFDataHullBooster"),n=d.meta.boolean,a=d.meta.boolean,o=d.meta.list("EveSOFDataHullBoosterItem"),i((u=m((l=class{constructor(){h(this,"alwaysOn",u,this),h(this,"hasTrails",c,this),h(this,"items",f,this)}}).prototype,"alwaysOn",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),c=m(l.prototype,"hasTrails",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),f=m(l.prototype,"items",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),s=l))||s)},"./sof/hull/EveSOFDataHullBoosterItem.js":function(e,t,r){"use strict";r.r(t),r.d(t,"EveSOFDataHullBoosterItem",(function(){return S}));var i,n,a,o,s,l,u,c,f,d,h,m,b,p,v,g,y=r("./global/utils/index.js"),w=r("./global/math/index.js");function E(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function T(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var S=(i=y.meta.type("EveSOFDataHullBoosterItem"),n=y.meta.uint,a=y.meta.uint,o=y.meta.vector4,s=y.meta.boolean,l=y.meta.float,u=y.meta.todo("What should the default value be?"),c=y.meta.matrix4,i((h=T((d=class{constructor(){E(this,"atlasIndex0",h,this),E(this,"atlasIndex1",m,this),E(this,"functionality",b,this),E(this,"hasTrail",p,this),E(this,"lightScale",v,this),E(this,"transform",g,this)}}).prototype,"atlasIndex0",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),m=T(d.prototype,"atlasIndex1",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),b=T(d.prototype,"functionality",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return w.vec4.create()}}),p=T(d.prototype,"hasTrail",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),v=T(d.prototype,"lightScale",[l,u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),g=T(d.prototype,"transform",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return w.mat4.create()}}),f=d))||f)},"./sof/hull/EveSOFDataHullChild.js":function(e,t,r){"use strict";r.r(t),r.d(t,"EveSOFDataHullChild",(function(){return R}));var i,n,a,o,s,l,u,c,f,d,h,m,b,p,v,g,y,w,E,T=r("./global/utils/index.js"),S=r("./global/math/index.js");function _(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function j(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var R=(i=T.meta.type("EveSOFDataHullChild"),n=T.meta.string,a=T.meta.uint,o=T.meta.uint,s=T.meta.uint,l=T.meta.path,u=T.meta.quaternion,c=T.meta.vector3,f=T.meta.vector3,i((m=j((h=class{constructor(){_(this,"name",m,this),_(this,"groupIndex",b,this),_(this,"id",p,this),_(this,"lowestLodVisible",v,this),_(this,"redFilePath",g,this),_(this,"rotation",y,this),_(this,"scaling",w,this),_(this,"translation",E,this)}}).prototype,"name",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),b=j(h.prototype,"groupIndex",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return-1}}),p=j(h.prototype,"id",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),v=j(h.prototype,"lowestLodVisible",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),g=j(h.prototype,"redFilePath",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),y=j(h.prototype,"rotation",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return S.quat.create()}}),w=j(h.prototype,"scaling",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return S.vec3.fromValues(1,1,1)}}),E=j(h.prototype,"translation",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return S.vec3.create()}}),d=h))||d)},"./sof/hull/EveSOFDataHullController.js":function(e,t,r){"use strict";r.r(t),r.d(t,"EveSOFDataHullController",(function(){return p}));var i,n,a,o,s,l,u=r("./global/utils/index.js");var c,f,d,h,m,b,p=(i=u.meta.type("EveSOFDataHullController"),n=u.meta.path,i((l=class{constructor(){var e,t,r,i;e=this,t="path",i=this,(r=s)&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}},c=(o=l).prototype,f="path",d=[n],h={configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}},b={},Object.keys(h).forEach((function(e){b[e]=h[e]})),b.enumerable=!!b.enumerable,b.configurable=!!b.configurable,("value"in b||b.initializer)&&(b.writable=!0),b=d.slice().reverse().reduce((function(e,t){return t(c,f,e)||e}),b),m&&void 0!==b.initializer&&(b.value=b.initializer?b.initializer.call(m):void 0,b.initializer=void 0),void 0===b.initializer&&(Object.defineProperty(c,f,b),b=null),s=b,a=o))||a)},"./sof/hull/EveSOFDataHullDecalSet.js":function(e,t,r){"use strict";r.r(t),r.d(t,"EveSOFDataHullDecalSet",(function(){return b}));var i,n,a,o,s,l,u,c,f,d=r("./global/utils/index.js");function h(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function m(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var b=(i=d.meta.type("EveSOFDataHullDecalSet"),n=d.meta.string,a=d.meta.list("EveSOFDataHullDecalSetItem"),o=d.meta.string,i((u=m((l=class{constructor(){h(this,"name",u,this),h(this,"items",c,this),h(this,"visibilityGroup",f,this)}}).prototype,"name",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),c=m(l.prototype,"items",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),f=m(l.prototype,"visibilityGroup",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),s=l))||s)},"./sof/hull/EveSOFDataHullDecalSetItem.js":function(e,t,r){"use strict";r.r(t),r.d(t,"EveSOFDataHullDecalSetItem",(function(){return L}));var i,n,a,o,s,l,u,c,f,d,h,m,b,p,v,g,y,w,E,T,S,_,j,R,z,O,P,A,x,M=r("./global/utils/index.js"),C=r("./global/math/index.js");function D(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function I(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var L=(i=M.meta.type("EveSOFDataHullDecalSetItem"),n=M.meta.string,a=M.meta.uint,o=M.meta.indexBuffer,s=M.meta.uint,l=M.meta.uint,u=M.meta.uint,c=M.meta.list("EveSOFDataParameter"),f=M.meta.vector3,d=M.meta.quaternion,h=M.meta.vector3,m=M.meta.list("EveSOFDataTexture"),b=M.meta.uint,p=M.meta.string,i((y=I((g=class{constructor(){D(this,"name",y,this),D(this,"boneIndex",w,this),D(this,"indexBuffer",E,this),D(this,"glowColorType",T,this),D(this,"logoType",S,this),D(this,"meshIndex",_,this),D(this,"parameters",j,this),D(this,"position",R,this),D(this,"rotation",z,this),D(this,"scaling",O,this),D(this,"textures",P,this),D(this,"usage",A,this),D(this,"visibilityGroup",x,this)}Assign(e={}){return e.textures=this.AssignTextures(e.textures),e.parameters=this.AssignParameters(e.parameters),e}AssignParameters(e={}){for(var t=0;t<this.parameters.length;t++)this.parameters[t].Assign(e);return e}AssignTextures(e={}){for(var t=0;t<this.textures.length;t++)this.textures[t].Assign(e);return e}}).prototype,"name",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),w=I(g.prototype,"boneIndex",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return-1}}),E=I(g.prototype,"indexBuffer",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),T=I(g.prototype,"glowColorType",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),S=I(g.prototype,"logoType",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),_=I(g.prototype,"meshIndex",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),j=I(g.prototype,"parameters",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),R=I(g.prototype,"position",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return C.vec3.create()}}),z=I(g.prototype,"rotation",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return C.quat.create()}}),O=I(g.prototype,"scaling",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return C.vec3.fromValues(1,1,1)}}),P=I(g.prototype,"textures",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),A=I(g.prototype,"usage",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),x=I(g.prototype,"visibilityGroup",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),v=g))||v)},"./sof/hull/EveSOFDataHullHazeSet.js":function(e,t,r){"use strict";r.r(t),r.d(t,"EveSOFDataHullHazeSet",(function(){return b}));var i,n,a,o,s,l,u,c,f,d=r("./global/utils/index.js");function h(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function m(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var b=(i=d.meta.type("EveSOFDataHullHazeSet"),n=d.meta.string,a=d.meta.list("EveSOFDataHullHazeSetItem"),o=d.meta.string,i((u=m((l=class{constructor(){h(this,"name",u,this),h(this,"items",c,this),h(this,"visibilityGroup",f,this)}}).prototype,"name",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),c=m(l.prototype,"items",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),f=m(l.prototype,"visibilityGroup",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),s=l))||s)},"./sof/hull/EveSOFDataHullHazeSetItem.js":function(e,t,r){"use strict";r.r(t),r.d(t,"EveSOFDataHullHazeSetItem",(function(){return O}));var i,n,a,o,s,l,u,c,f,d,h,m,b,p,v,g,y,w,E,T,S,_=r("./global/utils/index.js"),j=r("./global/math/index.js");function R(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function z(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var O=(i=_.meta.type("EveSOFDataHullHazeSetItem"),n=_.meta.boolean,a=_.meta.uint,o=_.meta.float,s=_.meta.float,l=_.meta.vector3,u=_.meta.quaternion,c=_.meta.vector3,f=_.meta.float,d=_.meta.float,i((b=z((m=class{constructor(){R(this,"boosterGainInfluence",b,this),R(this,"colorType",p,this),R(this,"hazeBrightness",v,this),R(this,"hazeFalloff",g,this),R(this,"position",y,this),R(this,"rotation",w,this),R(this,"scaling",E,this),R(this,"sourceBrightness",T,this),R(this,"sourceSize",S,this)}}).prototype,"boosterGainInfluence",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),p=z(m.prototype,"colorType",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),v=z(m.prototype,"hazeBrightness",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),g=z(m.prototype,"hazeFalloff",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),y=z(m.prototype,"position",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return j.vec3.create()}}),w=z(m.prototype,"rotation",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return j.quat.create()}}),E=z(m.prototype,"scaling",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return j.vec3.fromValues(1,1,1)}}),T=z(m.prototype,"sourceBrightness",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),S=z(m.prototype,"sourceSize",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),h=m))||h)},"./sof/hull/EveSOFDataHullLightSet.js":function(e,t,r){"use strict";r.r(t),r.d(t,"EveSOFDataHullLightSet",(function(){return E}));var i,n,a,o,s,l,u,c,f,d,h,m,b,p,v,g=r("./global/utils/index.js");function y(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function w(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var E=(i=g.meta.type("EveSOFDataHullLightSet"),n=g.meta.string,a=g.meta.uint,o=g.meta.list("EveSOFDataHullLightSetItem"),s=g.meta.float,l=g.meta.float,u=g.meta.string,i((d=w((f=class{constructor(){y(this,"name",d,this),y(this,"boneIndex",h,this),y(this,"items",m,this),y(this,"noiseAmplitude",b,this),y(this,"noiseOctaves",p,this),y(this,"visibilityGroup",v,this)}}).prototype,"name",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),h=w(f.prototype,"boneIndex",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return-1}}),m=w(f.prototype,"items",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),b=w(f.prototype,"noiseAmplitude",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),p=w(f.prototype,"noiseOctaves",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),v=w(f.prototype,"visibilityGroup",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),c=f))||c)},"./sof/hull/EveSOFDataHullLightSetItem.js":function(e,t,r){"use strict";r.r(t),r.d(t,"EveSOFDataHullLightSetItem",(function(){return A}));var i,n,a,o,s,l,u,c,f,d,h,m,b,p,v,g,y,w,E,T,S,_,j,R=r("./global/utils/index.js"),z=r("./global/math/index.js");function O(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function P(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var A=(i=R.meta.type("EveSOFDataHullLightSetItem"),n=R.meta.string,a=R.meta.uint,o=R.meta.float,s=R.meta.float,l=R.meta.color,u=R.meta.float,c=R.meta.float,f=R.meta.float,d=R.meta.vector3,h=R.meta.float,i((p=P((b=class{constructor(){O(this,"name",p,this),O(this,"boneIndex",v,this),O(this,"brightness",g,this),O(this,"innerRadius",y,this),O(this,"lightColor",w,this),O(this,"noiseAmplitude",E,this),O(this,"noiseFrequency",T,this),O(this,"noiseOctaves",S,this),O(this,"position",_,this),O(this,"radius",j,this)}}).prototype,"name",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),v=P(b.prototype,"boneIndex",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return-1}}),g=P(b.prototype,"brightness",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),y=P(b.prototype,"innerRadius",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),w=P(b.prototype,"lightColor",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return z.vec4.create()}}),E=P(b.prototype,"noiseAmplitude",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),T=P(b.prototype,"noiseFrequency",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),S=P(b.prototype,"noiseOctaves",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),_=P(b.prototype,"position",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return z.vec3.create()}}),j=P(b.prototype,"radius",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),m=b))||m)},"./sof/hull/EveSOFDataHullLightSetSpotLight.js":function(e,t,r){"use strict";r.r(t),r.d(t,"EveSOFDataHullLightSetSpotLight",(function(){return D}));var i,n,a,o,s,l,u,c,f,d,h,m,b,p,v,g,y,w,E,T,S,_,j,R,z,O,P,A=r("./global/utils/index.js"),x=r("./global/math/index.js");function M(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function C(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var D=(i=A.meta.type("EveSOFDataHullLightSetSpotLight"),n=A.meta.string,a=A.meta.uint,o=A.meta.float,s=A.meta.float,l=A.meta.float,u=A.meta.color,c=A.meta.float,f=A.meta.float,d=A.meta.float,h=A.meta.vector3,m=A.meta.uint,b=A.meta.quaternion,i((g=C((v=class{constructor(){M(this,"name",g,this),M(this,"boneIndex",y,this),M(this,"brightness",w,this),M(this,"innerAngle",E,this),M(this,"innerRadius",T,this),M(this,"lightColor",S,this),M(this,"noiseAmplitude",_,this),M(this,"noiseFrequency",j,this),M(this,"outerAngle",R,this),M(this,"position",z,this),M(this,"radius",O,this),M(this,"rotation",P,this)}}).prototype,"name",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),y=C(v.prototype,"boneIndex",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return-1}}),w=C(v.prototype,"brightness",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),E=C(v.prototype,"innerAngle",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),T=C(v.prototype,"innerRadius",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),S=C(v.prototype,"lightColor",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return x.vec4.create()}}),_=C(v.prototype,"noiseAmplitude",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),j=C(v.prototype,"noiseFrequency",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),R=C(v.prototype,"outerAngle",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),z=C(v.prototype,"position",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return x.vec3.create()}}),O=C(v.prototype,"radius",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),P=C(v.prototype,"rotation",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return x.quat.create()}}),p=v))||p)},"./sof/hull/EveSOFDataHullLightSetTexturedPointLight.js":function(e,t,r){"use strict";r.r(t),r.d(t,"EveSOFDataHullLightSetTexturedPointLight",(function(){return T}));var i,n,a,o,s,l,u,c,f,d,h,m,b,p,v,g=r("./global/utils/index.js"),y=r("./global/math/index.js");function w(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function E(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var T=(i=g.meta.type("EveSOFDataHullLightSetTexturedPointLight"),n=g.meta.string,a=g.meta.float,o=g.meta.float,s=g.meta.vector3,l=g.meta.float,u=g.meta.path,i((d=E((f=class{constructor(){w(this,"name",d,this),w(this,"brightness",h,this),w(this,"innerRadius",m,this),w(this,"position",b,this),w(this,"radius",p,this),w(this,"texturePath",v,this)}}).prototype,"name",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),h=E(f.prototype,"brightness",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),m=E(f.prototype,"innerRadius",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),b=E(f.prototype,"position",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return y.vec3.create()}}),p=E(f.prototype,"radius",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),v=E(f.prototype,"texturePath",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),c=f))||c)},"./sof/hull/EveSOFDataHullLocator.js":function(e,t,r){"use strict";r.r(t),r.d(t,"EveSOFDataHullLocator",(function(){return m}));var i,n,a,o,s,l,u,c=r("./global/utils/index.js"),f=r("./global/math/index.js");function d(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function h(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var m=(i=c.meta.type("EveSOFDataHullLocator"),n=c.meta.string,a=c.meta.matrix4,i((l=h((s=class{constructor(){d(this,"name",l,this),d(this,"transform",u,this)}}).prototype,"name",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),u=h(s.prototype,"transform",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return f.mat4.create()}}),o=s))||o)},"./sof/hull/EveSOFDataHullLocatorSet.js":function(e,t,r){"use strict";r.r(t),r.d(t,"EveSOFDataHullLocatorSet",(function(){return h}));var i,n,a,o,s,l,u,c=r("./global/utils/index.js");function f(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function d(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var h=(i=c.meta.type("EveSOFDataHullLocatorSet"),n=c.meta.string,a=c.meta.list("EveSOFDataTransform"),i((l=d((s=class{constructor(){f(this,"name",l,this),f(this,"locators",u,this)}}).prototype,"name",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),u=d(s.prototype,"locators",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),o=s))||o)},"./sof/hull/EveSOFDataHullPlaneSet.js":function(e,t,r){"use strict";r.r(t),r.d(t,"EveSOFDataHullPlaneSet",(function(){return R}));var i,n,a,o,s,l,u,c,f,d,h,m,b,p,v,g,y,w,E,T,S=r("./global/utils/index.js");function _(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function j(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var R=(i=S.meta.type("EveSOFDataHullPlaneSet"),n=S.meta.string,a=S.meta.uint,o=S.meta.list("EveSOFDataHullPlaneSetItem"),s=S.meta.path,l=S.meta.path,u=S.meta.path,c=S.meta.boolean,f=S.meta.notImplemented,d=S.meta.uint,i((b=j((m=class{constructor(){_(this,"name",b,this),_(this,"atlasSize",p,this),_(this,"items",v,this),_(this,"layer1MapResPath",g,this),_(this,"layer2MapResPath",y,this),_(this,"maskMapResPath",w,this),_(this,"skinned",E,this),_(this,"usage",T,this)}}).prototype,"name",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),p=j(m.prototype,"atlasSize",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),v=j(m.prototype,"items",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),g=j(m.prototype,"layer1MapResPath",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),y=j(m.prototype,"layer2MapResPath",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),w=j(m.prototype,"maskMapResPath",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),E=j(m.prototype,"skinned",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),T=j(m.prototype,"usage",[f,d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),h=m))||h)},"./sof/hull/EveSOFDataHullPlaneSetItem.js":function(e,t,r){"use strict";r.r(t),r.d(t,"EveSOFDataHullPlaneSetItem",(function(){return k}));var i,n,a,o,s,l,u,c,f,d,h,m,b,p,v,g,y,w,E,T,S,_,j,R,z,O,P,A,x,M,C,D,I,L,F,G=r("./global/utils/index.js"),B=r("./global/math/index.js");function N(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function U(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var k=(i=G.meta.type("EveSOFDataHullPlaneSetItem"),n=G.meta.float,a=G.meta.float,o=G.meta.uint,s=G.meta.uint,l=G.meta.color,u=G.meta.float,c=G.meta.uint,f=G.meta.vector4,d=G.meta.vector4,h=G.meta.vector4,m=G.meta.vector4,b=G.meta.uint,p=G.meta.vector3,v=G.meta.float,g=G.meta.quaternion,y=G.meta.vector3,i((T=U((E=class{constructor(){N(this,"blinkRate",T,this),N(this,"blinkPhase",S,this),N(this,"blinkMode",_,this),N(this,"boneIndex",j,this),N(this,"color",R,this),N(this,"dutyCycle",z,this),N(this,"groupIndex",O,this),N(this,"layer1Scroll",P,this),N(this,"layer1Transform",A,this),N(this,"layer2Scroll",x,this),N(this,"layer2Transform",M,this),N(this,"maskMapAtlasIndex",C,this),N(this,"position",D,this),N(this,"rate",I,this),N(this,"rotation",L,this),N(this,"scaling",F,this)}}).prototype,"blinkRate",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),S=U(E.prototype,"blinkPhase",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),_=U(E.prototype,"blinkMode",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),j=U(E.prototype,"boneIndex",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return-1}}),R=U(E.prototype,"color",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return B.vec4.create()}}),z=U(E.prototype,"dutyCycle",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),O=U(E.prototype,"groupIndex",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return-1}}),P=U(E.prototype,"layer1Scroll",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return B.vec4.create()}}),A=U(E.prototype,"layer1Transform",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return B.vec4.create()}}),x=U(E.prototype,"layer2Scroll",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return B.vec4.create()}}),M=U(E.prototype,"layer2Transform",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return B.vec4.create()}}),C=U(E.prototype,"maskMapAtlasIndex",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),D=U(E.prototype,"position",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return B.vec3.create()}}),I=U(E.prototype,"rate",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),L=U(E.prototype,"rotation",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return B.quat.create()}}),F=U(E.prototype,"scaling",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return B.vec3.fromValues(1,1,1)}}),w=E))||w)},"./sof/hull/EveSOFDataHullSoundEmitter.js":function(e,t,r){"use strict";r.r(t),r.d(t,"EveSOFDataHullSoundEmitter",(function(){return p}));var i,n,a,o,s,l,u,c,f,d=r("./global/utils/index.js"),h=r("./global/math/index.js");function m(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function b(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var p=(i=d.meta.type("EveSOFDataHullSoundEmitter"),n=d.meta.string,a=d.meta.string,o=d.meta.vector3,i((u=b((l=class{constructor(){m(this,"name",u,this),m(this,"prefix",c,this),m(this,"position",f,this)}}).prototype,"name",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),c=b(l.prototype,"prefix",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),f=b(l.prototype,"position",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return h.vec3.create()}}),s=l))||s)},"./sof/hull/EveSOFDataHullSpotlightSet.js":function(e,t,r){"use strict";r.r(t),r.d(t,"EveSOFDataHullSpotlightSet",(function(){return E}));var i,n,a,o,s,l,u,c,f,d,h,m,b,p,v,g=r("./global/utils/index.js");function y(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function w(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var E=(i=g.meta.type("EveSOFDataHullSpotlightSet"),n=g.meta.string,a=g.meta.path,o=g.meta.path,s=g.meta.list("EveSOFDataHullSpotlightSetItem"),l=g.meta.boolean,u=g.meta.float,i((d=w((f=class{constructor(){y(this,"name",d,this),y(this,"coneTextureResPath",h,this),y(this,"glowTextureResPath",m,this),y(this,"items",b,this),y(this,"skinned",p,this),y(this,"zOffset",v,this)}}).prototype,"name",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),h=w(f.prototype,"coneTextureResPath",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),m=w(f.prototype,"glowTextureResPath",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),b=w(f.prototype,"items",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),p=w(f.prototype,"skinned",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),v=w(f.prototype,"zOffset",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),c=f))||c)},"./sof/hull/EveSOFDataHullSpotlightSetItem.js":function(e,t,r){"use strict";r.r(t),r.d(t,"EveSOFDataHullSpotlightSetItem",(function(){return R}));var i,n,a,o,s,l,u,c,f,d,h,m,b,p,v,g,y,w,E,T=r("./global/utils/index.js"),S=r("./global/math/index.js");function _(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function j(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var R=(i=T.meta.type("EveSOFDataHullSpotlightSetItem"),n=T.meta.uint,a=T.meta.boolean,o=T.meta.float,s=T.meta.float,l=T.meta.uint,u=T.meta.float,c=T.meta.vector3,f=T.meta.matrix4,i((m=j((h=class{constructor(){_(this,"boneIndex",m,this),_(this,"boosterGainInfluence",b,this),_(this,"coneIntensity",p,this),_(this,"flareIntensity",v,this),_(this,"groupIndex",g,this),_(this,"spriteIntensity",y,this),_(this,"spriteScale",w,this),_(this,"transform",E,this)}}).prototype,"boneIndex",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return-1}}),b=j(h.prototype,"boosterGainInfluence",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),p=j(h.prototype,"coneIntensity",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),v=j(h.prototype,"flareIntensity",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),g=j(h.prototype,"groupIndex",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return-1}}),y=j(h.prototype,"spriteIntensity",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),w=j(h.prototype,"spriteScale",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return S.vec3.fromValues(1,1,1)}}),E=j(h.prototype,"transform",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return S.mat4.create()}}),d=h))||d)},"./sof/hull/EveSOFDataHullSpriteLineSet.js":function(e,t,r){"use strict";r.r(t),r.d(t,"EveSOFDataHullSpriteLineSet",(function(){return v}));var i,n,a,o,s,l,u,c,f,d,h,m=r("./global/utils/index.js");function b(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function p(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var v=(i=m.meta.type("EveSOFDataHullSpriteLineSet"),n=m.meta.string,a=m.meta.list("EveSOFDataHullSpriteLineSetItem"),o=m.meta.boolean,s=m.meta.string,i((c=p((u=class{constructor(){b(this,"name",c,this),b(this,"items",f,this),b(this,"skinned",d,this),b(this,"visibilityGroup",h,this)}}).prototype,"name",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),f=p(u.prototype,"items",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),d=p(u.prototype,"skinned",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),h=p(u.prototype,"visibilityGroup",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),l=u))||l)},"./sof/hull/EveSOFDataHullSpriteLineSetItem.js":function(e,t,r){"use strict";r.r(t),r.d(t,"EveSOFDataHullSpriteLineSetItem",(function(){return N}));var i,n,a,o,s,l,u,c,f,d,h,m,b,p,v,g,y,w,E,T,S,_,j,R,z,O,P,A,x,M,C,D,I,L=r("./global/utils/index.js"),F=r("./global/math/index.js");function G(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function B(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var N=(i=L.meta.type("EveSOFDataHullSpriteLineSetItem"),n=L.meta.float,a=L.meta.float,o=L.meta.float,s=L.meta.uint,l=L.meta.uint,u=L.meta.float,c=L.meta.uint,f=L.meta.float,d=L.meta.boolean,h=L.meta.float,m=L.meta.float,b=L.meta.vector3,p=L.meta.quaternion,v=L.meta.vector3,g=L.meta.float,i((E=B((w=class{constructor(){G(this,"blinkPhase",E,this),G(this,"blinkPhaseShift",T,this),G(this,"blinkRate",S,this),G(this,"boneIndex",_,this),G(this,"colorType",j,this),G(this,"falloff",R,this),G(this,"groupIndex",z,this),G(this,"intensity",O,this),G(this,"isCircle",P,this),G(this,"maxScale",A,this),G(this,"minScale",x,this),G(this,"position",M,this),G(this,"rotation",C,this),G(this,"scaling",D,this),G(this,"spacing",I,this)}}).prototype,"blinkPhase",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),T=B(w.prototype,"blinkPhaseShift",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),S=B(w.prototype,"blinkRate",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),_=B(w.prototype,"boneIndex",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return-1}}),j=B(w.prototype,"colorType",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),R=B(w.prototype,"falloff",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),z=B(w.prototype,"groupIndex",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return-1}}),O=B(w.prototype,"intensity",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),P=B(w.prototype,"isCircle",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),A=B(w.prototype,"maxScale",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),x=B(w.prototype,"minScale",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),M=B(w.prototype,"position",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return F.vec3.create()}}),C=B(w.prototype,"rotation",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return F.quat.create()}}),D=B(w.prototype,"scaling",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return F.vec3.fromValues(1,1,1)}}),I=B(w.prototype,"spacing",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),y=w))||y)},"./sof/hull/EveSOFDataHullSpriteSet.js":function(e,t,r){"use strict";r.r(t),r.d(t,"EveSOFDataHullSpriteSet",(function(){return v}));var i,n,a,o,s,l,u,c,f,d,h,m=r("./global/utils/index.js");function b(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function p(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var v=(i=m.meta.type("EveSOFDataHullSpriteSet"),n=m.meta.string,a=m.meta.list("EveSOFDataHullSpriteSetItem"),o=m.meta.boolean,s=m.meta.string,i((c=p((u=class{constructor(){b(this,"name",c,this),b(this,"items",f,this),b(this,"skinned",d,this),b(this,"visibilityGroup",h,this)}}).prototype,"name",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),f=p(u.prototype,"items",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),d=p(u.prototype,"skinned",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),h=p(u.prototype,"visibilityGroup",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),l=u))||l)},"./sof/hull/EveSOFDataHullSpriteSetItem.js":function(e,t,r){"use strict";r.r(t),r.d(t,"EveSOFDataHullSpriteSetItem",(function(){return A}));var i,n,a,o,s,l,u,c,f,d,h,m,b,p,v,g,y,w,E,T,S,_,j,R=r("./global/utils/index.js"),z=r("./global/math/index.js");function O(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function P(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var A=(i=R.meta.type("EveSOFDataHullSpriteSetItem"),n=R.meta.float,a=R.meta.float,o=R.meta.uint,s=R.meta.uint,l=R.meta.float,u=R.meta.uint,c=R.meta.float,f=R.meta.float,d=R.meta.float,h=R.meta.vector3,i((p=P((b=class{constructor(){O(this,"blinkPhase",p,this),O(this,"blinkRate",v,this),O(this,"boneIndex",g,this),O(this,"colorType",y,this),O(this,"falloff",w,this),O(this,"groupIndex",E,this),O(this,"intensity",T,this),O(this,"maxScale",S,this),O(this,"minScale",_,this),O(this,"position",j,this)}}).prototype,"blinkPhase",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),v=P(b.prototype,"blinkRate",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),g=P(b.prototype,"boneIndex",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return-1}}),y=P(b.prototype,"colorType",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),w=P(b.prototype,"falloff",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),E=P(b.prototype,"groupIndex",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return-1}}),T=P(b.prototype,"intensity",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),S=P(b.prototype,"maxScale",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),_=P(b.prototype,"minScale",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),j=P(b.prototype,"position",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return z.vec3.create()}}),m=b))||m)},"./sof/hull/index.js":function(e,t,r){"use strict";r.r(t);var i=r("./sof/hull/EveSOFDataHull.js");r.d(t,"EveSOFDataHull",(function(){return i.EveSOFDataHull}));var n=r("./sof/hull/EveSOFDataHullAnimation.js");r.d(t,"EveSOFDataHullAnimation",(function(){return n.EveSOFDataHullAnimation}));var a=r("./sof/hull/EveSOFDataHullArea.js");r.d(t,"EveSOFDataHullArea",(function(){return a.EveSOFDataHullArea}));var o=r("./sof/hull/EveSOFDataHullBanner.js");r.d(t,"EveSOFDataHullBanner",(function(){return o.EveSOFDataHullBanner}));var s=r("./sof/hull/EveSOFDataHullBannerLight.js");r.d(t,"EveSOFDataHullBannerLight",(function(){return s.EveSOFDataHullBannerLight}));var l=r("./sof/hull/EveSOFDataHullBooster.js");r.d(t,"EveSOFDataHullBooster",(function(){return l.EveSOFDataHullBooster}));var u=r("./sof/hull/EveSOFDataHullBoosterItem.js");r.d(t,"EveSOFDataHullBoosterItem",(function(){return u.EveSOFDataHullBoosterItem}));var c=r("./sof/hull/EveSOFDataHullChild.js");r.d(t,"EveSOFDataHullChild",(function(){return c.EveSOFDataHullChild}));var f=r("./sof/hull/EveSOFDataHullController.js");r.d(t,"EveSOFDataHullController",(function(){return f.EveSOFDataHullController}));var d=r("./sof/hull/EveSOFDataHullDecalSet.js");r.d(t,"EveSOFDataHullDecalSet",(function(){return d.EveSOFDataHullDecalSet}));var h=r("./sof/hull/EveSOFDataHullDecalSetItem.js");r.d(t,"EveSOFDataHullDecalSetItem",(function(){return h.EveSOFDataHullDecalSetItem}));var m=r("./sof/hull/EveSOFDataHullHazeSet.js");r.d(t,"EveSOFDataHullHazeSet",(function(){return m.EveSOFDataHullHazeSet}));var b=r("./sof/hull/EveSOFDataHullHazeSetItem.js");r.d(t,"EveSOFDataHullHazeSetItem",(function(){return b.EveSOFDataHullHazeSetItem}));var p=r("./sof/hull/EveSOFDataHullLightSet.js");r.d(t,"EveSOFDataHullLightSet",(function(){return p.EveSOFDataHullLightSet}));var v=r("./sof/hull/EveSOFDataHullLightSetItem.js");r.d(t,"EveSOFDataHullLightSetItem",(function(){return v.EveSOFDataHullLightSetItem}));var g=r("./sof/hull/EveSOFDataHullLightSetSpotLight.js");r.d(t,"EveSOFDataHullLightSetSpotLight",(function(){return g.EveSOFDataHullLightSetSpotLight}));var y=r("./sof/hull/EveSOFDataHullLightSetTexturedPointLight.js");r.d(t,"EveSOFDataHullLightSetTexturedPointLight",(function(){return y.EveSOFDataHullLightSetTexturedPointLight}));var w=r("./sof/hull/EveSOFDataHullLocator.js");r.d(t,"EveSOFDataHullLocator",(function(){return w.EveSOFDataHullLocator}));var E=r("./sof/hull/EveSOFDataHullLocatorSet.js");r.d(t,"EveSOFDataHullLocatorSet",(function(){return E.EveSOFDataHullLocatorSet}));var T=r("./sof/hull/EveSOFDataHullPlaneSet.js");r.d(t,"EveSOFDataHullPlaneSet",(function(){return T.EveSOFDataHullPlaneSet}));var S=r("./sof/hull/EveSOFDataHullPlaneSetItem.js");r.d(t,"EveSOFDataHullPlaneSetItem",(function(){return S.EveSOFDataHullPlaneSetItem}));var _=r("./sof/hull/EveSOFDataHullSoundEmitter.js");r.d(t,"EveSOFDataHullSoundEmitter",(function(){return _.EveSOFDataHullSoundEmitter}));var j=r("./sof/hull/EveSOFDataHullSpotlightSet.js");r.d(t,"EveSOFDataHullSpotlightSet",(function(){return j.EveSOFDataHullSpotlightSet}));var R=r("./sof/hull/EveSOFDataHullSpotlightSetItem.js");r.d(t,"EveSOFDataHullSpotlightSetItem",(function(){return R.EveSOFDataHullSpotlightSetItem}));var z=r("./sof/hull/EveSOFDataHullSpriteLineSet.js");r.d(t,"EveSOFDataHullSpriteLineSet",(function(){return z.EveSOFDataHullSpriteLineSet}));var O=r("./sof/hull/EveSOFDataHullSpriteLineSetItem.js");r.d(t,"EveSOFDataHullSpriteLineSetItem",(function(){return O.EveSOFDataHullSpriteLineSetItem}));var P=r("./sof/hull/EveSOFDataHullSpriteSet.js");r.d(t,"EveSOFDataHullSpriteSet",(function(){return P.EveSOFDataHullSpriteSet}));var A=r("./sof/hull/EveSOFDataHullSpriteSetItem.js");r.d(t,"EveSOFDataHullSpriteSetItem",(function(){return A.EveSOFDataHullSpriteSetItem}))},"./sof/index.js":function(e,t,r){"use strict";r.r(t);var i=r("./sof/faction/index.js");r.d(t,"EveSOFDataFaction",(function(){return i.EveSOFDataFaction})),r.d(t,"EveSOFDataFactionChild",(function(){return i.EveSOFDataFactionChild})),r.d(t,"EveSOFDataFactionColorSet",(function(){return i.EveSOFDataFactionColorSet})),r.d(t,"ErrSOFFactionColorSetTypeUnknown",(function(){return i.ErrSOFFactionColorSetTypeUnknown})),r.d(t,"ErrSOFFactionColorSetTypeNotFound",(function(){return i.ErrSOFFactionColorSetTypeNotFound})),r.d(t,"EveSOFDataFactionPlaneSet",(function(){return i.EveSOFDataFactionPlaneSet})),r.d(t,"EveSOFDataFactionSpotlightSet",(function(){return i.EveSOFDataFactionSpotlightSet})),r.d(t,"EveSOFDataFactionVisibilityGroupSet",(function(){return i.EveSOFDataFactionVisibilityGroupSet}));var n=r("./sof/generic/index.js");r.d(t,"EveSOFDataGeneric",(function(){return n.EveSOFDataGeneric})),r.d(t,"ErrSOFAreaShaderNotFound",(function(){return n.ErrSOFAreaShaderNotFound})),r.d(t,"ErrSOFDecalShaderNotFound",(function(){return n.ErrSOFDecalShaderNotFound})),r.d(t,"ErrSOFMaterialPrefixNotFound",(function(){return n.ErrSOFMaterialPrefixNotFound})),r.d(t,"ErrSOFPatternMaterialPrefixNotFound",(function(){return n.ErrSOFPatternMaterialPrefixNotFound})),r.d(t,"EveSOFDataGenericDamage",(function(){return n.EveSOFDataGenericDamage})),r.d(t,"EveSOFDataGenericDecalShader",(function(){return n.EveSOFDataGenericDecalShader})),r.d(t,"EveSOFDataGenericHullDamage",(function(){return n.EveSOFDataGenericHullDamage})),r.d(t,"EveSOFDataGenericShader",(function(){return n.EveSOFDataGenericShader})),r.d(t,"EveSOFDataGenericString",(function(){return n.EveSOFDataGenericString})),r.d(t,"EveSOFDataGenericSwarm",(function(){return n.EveSOFDataGenericSwarm})),r.d(t,"EveSOFDataGenericVariant",(function(){return n.EveSOFDataGenericVariant}));var a=r("./sof/hull/index.js");r.d(t,"EveSOFDataHull",(function(){return a.EveSOFDataHull})),r.d(t,"EveSOFDataHullAnimation",(function(){return a.EveSOFDataHullAnimation})),r.d(t,"EveSOFDataHullArea",(function(){return a.EveSOFDataHullArea})),r.d(t,"EveSOFDataHullBanner",(function(){return a.EveSOFDataHullBanner})),r.d(t,"EveSOFDataHullBannerLight",(function(){return a.EveSOFDataHullBannerLight})),r.d(t,"EveSOFDataHullBooster",(function(){return a.EveSOFDataHullBooster})),r.d(t,"EveSOFDataHullBoosterItem",(function(){return a.EveSOFDataHullBoosterItem})),r.d(t,"EveSOFDataHullChild",(function(){return a.EveSOFDataHullChild})),r.d(t,"EveSOFDataHullController",(function(){return a.EveSOFDataHullController})),r.d(t,"EveSOFDataHullDecalSet",(function(){return a.EveSOFDataHullDecalSet})),r.d(t,"EveSOFDataHullDecalSetItem",(function(){return a.EveSOFDataHullDecalSetItem})),r.d(t,"EveSOFDataHullHazeSet",(function(){return a.EveSOFDataHullHazeSet})),r.d(t,"EveSOFDataHullHazeSetItem",(function(){return a.EveSOFDataHullHazeSetItem})),r.d(t,"EveSOFDataHullLightSet",(function(){return a.EveSOFDataHullLightSet})),r.d(t,"EveSOFDataHullLightSetItem",(function(){return a.EveSOFDataHullLightSetItem})),r.d(t,"EveSOFDataHullLightSetSpotLight",(function(){return a.EveSOFDataHullLightSetSpotLight})),r.d(t,"EveSOFDataHullLightSetTexturedPointLight",(function(){return a.EveSOFDataHullLightSetTexturedPointLight})),r.d(t,"EveSOFDataHullLocator",(function(){return a.EveSOFDataHullLocator})),r.d(t,"EveSOFDataHullLocatorSet",(function(){return a.EveSOFDataHullLocatorSet})),r.d(t,"EveSOFDataHullPlaneSet",(function(){return a.EveSOFDataHullPlaneSet})),r.d(t,"EveSOFDataHullPlaneSetItem",(function(){return a.EveSOFDataHullPlaneSetItem})),r.d(t,"EveSOFDataHullSoundEmitter",(function(){return a.EveSOFDataHullSoundEmitter})),r.d(t,"EveSOFDataHullSpotlightSet",(function(){return a.EveSOFDataHullSpotlightSet})),r.d(t,"EveSOFDataHullSpotlightSetItem",(function(){return a.EveSOFDataHullSpotlightSetItem})),r.d(t,"EveSOFDataHullSpriteLineSet",(function(){return a.EveSOFDataHullSpriteLineSet})),r.d(t,"EveSOFDataHullSpriteLineSetItem",(function(){return a.EveSOFDataHullSpriteLineSetItem})),r.d(t,"EveSOFDataHullSpriteSet",(function(){return a.EveSOFDataHullSpriteSet})),r.d(t,"EveSOFDataHullSpriteSetItem",(function(){return a.EveSOFDataHullSpriteSetItem}));var o=r("./sof/pattern/index.js");r.d(t,"EveSOFDataPattern",(function(){return o.EveSOFDataPattern})),r.d(t,"ErrSOFProjectionNotFound",(function(){return o.ErrSOFProjectionNotFound})),r.d(t,"EveSOFDataPatternLayer",(function(){return o.EveSOFDataPatternLayer})),r.d(t,"EveSOFDataPatternPerHull",(function(){return o.EveSOFDataPatternPerHull})),r.d(t,"EveSOFDataPatternTransform",(function(){return o.EveSOFDataPatternTransform}));var s=r("./sof/race/index.js");r.d(t,"EveSOFDataRace",(function(){return s.EveSOFDataRace})),r.d(t,"EveSOFDataRaceDamage",(function(){return s.EveSOFDataRaceDamage}));var l=r("./sof/shared/index.js");r.d(t,"EveSOFDataArea",(function(){return l.EveSOFDataArea})),r.d(t,"ErrSOFAreaTypeUnknown",(function(){return l.ErrSOFAreaTypeUnknown})),r.d(t,"ErrSOFAreaTypeNotFound",(function(){return l.ErrSOFAreaTypeNotFound})),r.d(t,"EveSOFDataAreaMaterial",(function(){return l.EveSOFDataAreaMaterial})),r.d(t,"EveSOFDataBooster",(function(){return l.EveSOFDataBooster})),r.d(t,"EveSOFDataBoosterShape",(function(){return l.EveSOFDataBoosterShape})),r.d(t,"EveSOFDataInstancedMesh",(function(){return l.EveSOFDataInstancedMesh})),r.d(t,"EveSOFDataLogo",(function(){return l.EveSOFDataLogo})),r.d(t,"EveSOFDataLogoSet",(function(){return l.EveSOFDataLogoSet})),r.d(t,"ErrSOFLogoSetTypeUnknown",(function(){return l.ErrSOFLogoSetTypeUnknown})),r.d(t,"ErrSOFLogoSetTypeNotFound",(function(){return l.ErrSOFLogoSetTypeNotFound})),r.d(t,"EveSOFDataMaterial",(function(){return l.EveSOFDataMaterial})),r.d(t,"EveSOFDataParameter",(function(){return l.EveSOFDataParameter})),r.d(t,"EveSOFDataTexture",(function(){return l.EveSOFDataTexture})),r.d(t,"EveSOFDataTransform",(function(){return l.EveSOFDataTransform}));var u=r("./sof/EveSOFData.js");r.d(t,"EveSOFData",(function(){return u.EveSOFData})),r.d(t,"ErrSOFDNAFormatInvalid",(function(){return u.ErrSOFDNAFormatInvalid}));var c=r("./sof/EveSOF.js");r.d(t,"EveSOF",(function(){return c.EveSOF})),r.d(t,"ErrSOFHullNotFound",(function(){return c.ErrSOFHullNotFound})),r.d(t,"ErrSOFFactionNotFound",(function(){return c.ErrSOFFactionNotFound})),r.d(t,"ErrSOFRaceNotFound",(function(){return c.ErrSOFRaceNotFound})),r.d(t,"ErrSOFMaterialNotFound",(function(){return c.ErrSOFMaterialNotFound})),r.d(t,"ErrSOFPatternNotFound",(function(){return c.ErrSOFPatternNotFound}))},"./sof/pattern/EveSOFDataPattern.js":function(e,t,r){"use strict";r.r(t),r.d(t,"EveSOFDataPattern",(function(){return g})),r.d(t,"ErrSOFProjectionNotFound",(function(){return y}));var i,n,a,o,s,l,u,c,f,d,h,m=r("./global/utils/index.js"),b=r("./core/index.js");function p(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function v(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var g=(i=m.meta.type("EveSOFDataPattern"),n=m.meta.string,a=m.meta.struct("EveSOFDataPatternLayer"),o=m.meta.struct("EveSOFDataPatternLayer"),s=m.meta.list("EveSOFDataPatternPerHull"),i((c=v((u=class{constructor(){p(this,"name",c,this),p(this,"layer1",f,this),p(this,"layer2",d,this),p(this,"projections",h,this)}Has(e){return-1!==this.IndexOfProjection(e)}Get(e){var t=this.IndexOfProjection(e);if(-1===t)throw new y({pattern:this.name,projection:e});return{name:this.name,layer1:this.layer1,layer2:this.layer2,transformLayer1:this.projections[t].transformLayer1,transformLayer2:this.projections[t].transformLayer2}}IndexOfProjection(e){for(var t=0;t<this.projections.length;t++)if(this.projections[t].name.toUpperCase()===e.toUpperCase())return t;return-1}}).prototype,"name",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),f=v(u.prototype,"layer1",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),d=v(u.prototype,"layer2",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),h=v(u.prototype,"projections",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),l=u))||l);class y extends b.Tw2Error{constructor(e){super(e,"SOF pattern projection '%projection%' not found for pattern '%pattern%'")}}},"./sof/pattern/EveSOFDataPatternLayer.js":function(e,t,r){"use strict";r.r(t),r.d(t,"EveSOFDataPatternLayer",(function(){return z}));var i,n,a,o,s,l,u,c,f,d,h,m,b,p,v,g,y,w,E,T,S,_=r("./global/utils/index.js");function j(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function R(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var z=(i=_.meta.type("EveSOFDataPatternLayer"),n=_.meta.boolean,a=_.meta.boolean,o=_.meta.boolean,s=_.meta.boolean,l=_.meta.uint,u=_.meta.uint,c=_.meta.uint,f=_.meta.string,d=_.meta.path,i((b=R((m=class{constructor(){j(this,"isTargetMtl1",b,this),j(this,"isTargetMtl2",p,this),j(this,"isTargetMtl3",v,this),j(this,"isTargetMtl4",g,this),j(this,"materialSource",y,this),j(this,"projectionTypeU",w,this),j(this,"projectionTypeV",E,this),j(this,"textureName",T,this),j(this,"textureResFilePath",S,this)}static ToAddress(e){switch(e){case 2:return 4;case 1:return 3;default:return 1}}static FromProjection(e){switch(e){case 4:return 2;case 3:return 1;default:return 0}}}).prototype,"isTargetMtl1",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),p=R(m.prototype,"isTargetMtl2",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),v=R(m.prototype,"isTargetMtl3",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),g=R(m.prototype,"isTargetMtl4",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),y=R(m.prototype,"materialSource",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),w=R(m.prototype,"projectionTypeU",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),E=R(m.prototype,"projectionTypeV",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),T=R(m.prototype,"textureName",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),S=R(m.prototype,"textureResFilePath",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),h=m))||h)},"./sof/pattern/EveSOFDataPatternPerHull.js":function(e,t,r){"use strict";r.r(t),r.d(t,"EveSOFDataPatternPerHull",(function(){return b}));var i,n,a,o,s,l,u,c,f,d=r("./global/utils/index.js");function h(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function m(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var b=(i=d.meta.type("EveSOFDataPatternPerHull"),n=d.meta.string,a=d.meta.struct("EveSOFDataPatternTransform"),o=d.meta.struct("EveSOFDataPatternTransform"),i((u=m((l=class{constructor(){h(this,"name",u,this),h(this,"transformLayer1",c,this),h(this,"transformLayer2",f,this)}}).prototype,"name",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),c=m(l.prototype,"transformLayer1",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),f=m(l.prototype,"transformLayer2",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),s=l))||s)},"./sof/pattern/EveSOFDataPatternTransform.js":function(e,t,r){"use strict";r.r(t),r.d(t,"EveSOFDataPatternTransform",(function(){return g}));var i,n,a,o,s,l,u,c,f,d,h,m=r("./global/utils/index.js"),b=r("./global/math/index.js");function p(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function v(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var g=(i=m.meta.type("EveSOFDataPatternTransform"),n=m.meta.boolean,a=m.meta.vector3,o=m.meta.quaternion,s=m.meta.vector3,i((c=v((u=class{constructor(){p(this,"isMirrored",c,this),p(this,"position",f,this),p(this,"rotation",d,this),p(this,"scaling",h,this)}GetTransform(e){return b.mat4.fromRotationTranslationScale(e,this.rotation,this.position,this.scaling)}}).prototype,"isMirrored",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),f=v(u.prototype,"position",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return b.vec3.create()}}),d=v(u.prototype,"rotation",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return b.quat.create()}}),h=v(u.prototype,"scaling",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return b.vec3.fromValues(1,1,1)}}),l=u))||l)},"./sof/pattern/index.js":function(e,t,r){"use strict";r.r(t);var i=r("./sof/pattern/EveSOFDataPattern.js");r.d(t,"EveSOFDataPattern",(function(){return i.EveSOFDataPattern})),r.d(t,"ErrSOFProjectionNotFound",(function(){return i.ErrSOFProjectionNotFound}));var n=r("./sof/pattern/EveSOFDataPatternLayer.js");r.d(t,"EveSOFDataPatternLayer",(function(){return n.EveSOFDataPatternLayer}));var a=r("./sof/pattern/EveSOFDataPatternPerHull.js");r.d(t,"EveSOFDataPatternPerHull",(function(){return a.EveSOFDataPatternPerHull}));var o=r("./sof/pattern/EveSOFDataPatternTransform.js");r.d(t,"EveSOFDataPatternTransform",(function(){return o.EveSOFDataPatternTransform}))},"./sof/race/EveSOFDataRace.js":function(e,t,r){"use strict";r.r(t),r.d(t,"EveSOFDataRace",(function(){return b}));var i,n,a,o,s,l,u,c,f,d=r("./global/utils/index.js");function h(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function m(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var b=(i=d.meta.type("EveSOFDataRace"),n=d.meta.string,a=d.meta.struct("EveSOFDataBooster"),o=d.meta.struct("EveSOFDataRaceDamage"),i((u=m((l=class{constructor(){h(this,"name",u,this),h(this,"booster",c,this),h(this,"damage",f,this)}}).prototype,"name",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),c=m(l.prototype,"booster",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),f=m(l.prototype,"damage",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),s=l))||s)},"./sof/race/EveSOFDataRaceDamage.js":function(e,t,r){"use strict";r.r(t),r.d(t,"EveSOFDataRaceDamage",(function(){return v}));var i,n,a,o,s,l,u,c,f,d,h,m=r("./global/utils/index.js");function b(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function p(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var v=(i=m.meta.type("EveSOFDataRaceDamage"),n=m.meta.list("EveSOFDataParameter"),a=m.meta.list("EveSOFDataTexture"),o=m.meta.list("EveSOFDataParameter"),s=m.meta.list("EveSOFDataTexture"),i((c=p((u=class{constructor(){b(this,"armorImpactParameters",c,this),b(this,"armorImpactTextures",f,this),b(this,"shieldImpactParameters",d,this),b(this,"shieldImpactTextures",h,this)}AssignArmor(e={}){e.parameters=e.parameters||{},e.textures=e.textures||{};for(var t=0;t<this.armorImpactParameters;t++)this.armorImpactParameters[t].Assign(e.parameters);for(var r=0;r<this.armorImpactTextures;r++)this.armorImpactTextures[r].Assign(e.textures);return e}AssignShield(e={}){e.parameters=e.parameters||{},e.textures=e.textures||{};for(var t=0;t<this.shieldImpactParameters;t++)this.shieldImpactParameters[t].Assign(e.parameters);for(var r=0;r<this.shieldImpactTextures;r++)this.shieldImpactTextures[r].Assign(e.textures);return e}}).prototype,"armorImpactParameters",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),f=p(u.prototype,"armorImpactTextures",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),d=p(u.prototype,"shieldImpactParameters",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),h=p(u.prototype,"shieldImpactTextures",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),l=u))||l)},"./sof/race/index.js":function(e,t,r){"use strict";r.r(t);var i=r("./sof/race/EveSOFDataRace.js");r.d(t,"EveSOFDataRace",(function(){return i.EveSOFDataRace}));var n=r("./sof/race/EveSOFDataRaceDamage.js");r.d(t,"EveSOFDataRaceDamage",(function(){return n.EveSOFDataRaceDamage}))},"./sof/shared/EveSOFDataArea.js":function(e,t,r){"use strict";r.r(t),r.d(t,"EveSOFDataArea",(function(){return ne})),r.d(t,"ErrSOFAreaTypeUnknown",(function(){return ae})),r.d(t,"ErrSOFAreaTypeNotFound",(function(){return oe}));var i,n,a,o,s,l,u,c,f,d,h,m,b,p,v,g,y,w,E,T,S,_,j,R,z,O,P,A,x,M,C,D,I,L,F,G,B,N,U,k,V,H,q,W,Y,X,K,Q,Z,$,J,ee=r("./global/utils/index.js"),te=r("./core/index.js");function re(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function ie(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var ne=(i=ee.meta.type("EveSOFDataArea"),n=ee.meta.struct("EveSOFDataAreaMaterial"),a=ee.meta.struct("EveSOFDataAreaMaterial"),o=ee.meta.struct("EveSOFDataAreaMaterial"),s=ee.meta.struct("EveSOFDataAreaMaterial"),l=ee.meta.struct("EveSOFDataAreaMaterial"),u=ee.meta.struct("EveSOFDataAreaMaterial"),c=ee.meta.struct("EveSOFDataAreaMaterial"),f=ee.meta.struct("EveSOFDataAreaMaterial"),d=ee.meta.struct("EveSOFDataAreaMaterial"),h=ee.meta.struct("EveSOFDataAreaMaterial"),m=ee.meta.struct("EveSOFDataAreaMaterial"),b=ee.meta.struct("EveSOFDataAreaMaterial"),p=ee.meta.struct("EveSOFDataAreaMaterial"),v=ee.meta.struct("EveSOFDataAreaMaterial"),g=ee.meta.struct("EveSOFDataAreaMaterial"),y=ee.meta.struct("EveSOFDataAreaMaterial"),w=ee.meta.struct("EveSOFDataAreaMaterial"),E=ee.meta.struct("EveSOFDataAreaMaterial"),T=ee.meta.struct("EveSOFDataAreaMaterial"),S=ee.meta.struct("EveSOFDataAreaMaterial"),_=ee.meta.struct("EveSOFDataAreaMaterial"),j=ee.meta.struct("EveSOFDataAreaMaterial"),R=ee.meta.struct("EveSOFDataAreaMaterial"),i((J=$=class e{constructor(){re(this,"Black",P,this),re(this,"Blue",A,this),re(this,"Booster",x,this),re(this,"Cyan",M,this),re(this,"Darkhull",C,this),re(this,"Fire",D,this),re(this,"Glass",I,this),re(this,"Green",L,this),re(this,"Hull",F,this),re(this,"Killmark",G,this),re(this,"Monument",B,this),re(this,"Orange",N,this),re(this,"Ornament",U,this),re(this,"Primary",k,this),re(this,"Reactor",V,this),re(this,"Red",H,this),re(this,"Rock",q,this),re(this,"Sails",W,this),re(this,"SimplePrimary",Y,this),re(this,"Secondary",X,this),re(this,"Tertiary",K,this),re(this,"White",Q,this),re(this,"Yellow",Z,this)}Has(t){var r=e.Type[t];if(void 0===r)throw new ae({type:t});return!!this[r]}Get(t){if(!this.Has(t))throw new oe({type:t});return this[e.Type[t]]}},$.Type=["Primary","Glass","Sails","Reactor","Darkhull","Wreck","Rock","Monument","Primary","Primary"],P=ie((O=J).prototype,"Black",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),A=ie(O.prototype,"Blue",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),x=ie(O.prototype,"Booster",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),M=ie(O.prototype,"Cyan",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),C=ie(O.prototype,"Darkhull",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),D=ie(O.prototype,"Fire",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),I=ie(O.prototype,"Glass",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),L=ie(O.prototype,"Green",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),F=ie(O.prototype,"Hull",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),G=ie(O.prototype,"Killmark",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),B=ie(O.prototype,"Monument",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),N=ie(O.prototype,"Orange",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),U=ie(O.prototype,"Ornament",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),k=ie(O.prototype,"Primary",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),V=ie(O.prototype,"Reactor",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),H=ie(O.prototype,"Red",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),q=ie(O.prototype,"Rock",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),W=ie(O.prototype,"Sails",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Y=ie(O.prototype,"SimplePrimary",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),X=ie(O.prototype,"Secondary",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),K=ie(O.prototype,"Tertiary",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Q=ie(O.prototype,"White",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Z=ie(O.prototype,"Yellow",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),z=O))||z);class ae extends te.Tw2Error{constructor(e){super(e,"SOF area type unknown (%type%)"),this.unknownType=!0}}class oe extends te.Tw2Error{constructor(e){super(e,"SOF area type not found (%type%)")}}},"./sof/shared/EveSOFDataAreaMaterial.js":function(e,t,r){"use strict";r.r(t),r.d(t,"EveSOFDataAreaMaterial",(function(){return E}));var i,n,a,o,s,l,u,c,f,d,h,m,b,p,v,g=r("./global/utils/index.js");function y(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function w(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var E=(i=g.meta.type("EveSOFDataAreaMaterial"),n=g.meta.string,a=g.meta.uint,o=g.meta.string,s=g.meta.string,l=g.meta.string,u=g.meta.string,i((d=w((f=class{constructor(){y(this,"name",d,this),y(this,"colorType",h,this),y(this,"material1",m,this),y(this,"material2",b,this),y(this,"material3",p,this),y(this,"material4",v,this)}Assign(e={}){return e.colorType=this.colorType,this.material1&&(e.material1=this.material1),this.material2&&(e.material2=this.material2),this.material3&&(e.material3=this.material3),this.material4&&(e.material4=this.material4),e}}).prototype,"name",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),h=w(f.prototype,"colorType",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),m=w(f.prototype,"material1",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),b=w(f.prototype,"material2",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),p=w(f.prototype,"material3",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),v=w(f.prototype,"material4",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),c=f))||c)},"./sof/shared/EveSOFDataBooster.js":function(e,t,r){"use strict";r.r(t),r.d(t,"EveSOFDataBooster",(function(){return le}));var i,n,a,o,s,l,u,c,f,d,h,m,b,p,v,g,y,w,E,T,S,_,j,R,z,O,P,A,x,M,C,D,I,L,F,G,B,N,U,k,V,H,q,W,Y,X,K,Q,Z,$,J,ee,te,re,ie,ne=r("./global/utils/index.js"),ae=r("./global/math/index.js");function oe(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function se(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var le=(i=ne.meta.type("EveSOFDataBooster"),n=ne.meta.color,a=ne.meta.float,o=ne.meta.path,s=ne.meta.path,l=ne.meta.color,u=ne.meta.float,c=ne.meta.float,f=ne.meta.color,d=ne.meta.float,h=ne.meta.float,m=ne.meta.float,b=ne.meta.color,p=ne.meta.float,v=ne.meta.struct("EveSOFDataBoosterShape"),g=ne.meta.struct("EveSOFDataBoosterShape"),y=ne.meta.uint,w=ne.meta.uint,E=ne.meta.path,T=ne.meta.uint,S=ne.meta.float,_=ne.meta.color,j=ne.meta.vector4,R=ne.meta.color,z=ne.meta.color,O=ne.meta.struct("EveSOFDataBoosterShape"),P=ne.meta.struct("EveSOFDataBoosterShape"),i((M=se((x=class{constructor(){oe(this,"glowColor",M,this),oe(this,"glowScale",C,this),oe(this,"gradient0ResPath",D,this),oe(this,"gradient1ResPath",I,this),oe(this,"haloColor",L,this),oe(this,"haloScaleX",F,this),oe(this,"haloScaleY",G,this),oe(this,"lightColor",B,this),oe(this,"lightFlickerAmplitude",N,this),oe(this,"lightFlickerFrequency",U,this),oe(this,"lightRadius",k,this),oe(this,"lightWarpColor",V,this),oe(this,"lightWarpRadius",H,this),oe(this,"shape0",q,this),oe(this,"shape1",W,this),oe(this,"shapeAtlasCount",Y,this),oe(this,"shapeAtlasHeight",X,this),oe(this,"shapeAtlasResPath",K,this),oe(this,"shapeAtlasWidth",Q,this),oe(this,"symHaloScale",Z,this),oe(this,"trailColor",$,this),oe(this,"trailSize",J,this),oe(this,"warpGlowColor",ee,this),oe(this,"warpHalpColor",te,this),oe(this,"warpShape0",re,this),oe(this,"warpShape1",ie,this)}get warpHaloColor(){return this.warpHalpColor}set warpHaloColor(e){this.warpHalpColor=e}}).prototype,"glowColor",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return ae.vec4.create()}}),C=se(x.prototype,"glowScale",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),D=se(x.prototype,"gradient0ResPath",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),I=se(x.prototype,"gradient1ResPath",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),L=se(x.prototype,"haloColor",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return ae.vec4.create()}}),F=se(x.prototype,"haloScaleX",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),G=se(x.prototype,"haloScaleY",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),B=se(x.prototype,"lightColor",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return ae.vec4.create()}}),N=se(x.prototype,"lightFlickerAmplitude",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),U=se(x.prototype,"lightFlickerFrequency",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),k=se(x.prototype,"lightRadius",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),V=se(x.prototype,"lightWarpColor",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return ae.vec4.create()}}),H=se(x.prototype,"lightWarpRadius",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),q=se(x.prototype,"shape0",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),W=se(x.prototype,"shape1",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Y=se(x.prototype,"shapeAtlasCount",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),X=se(x.prototype,"shapeAtlasHeight",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),K=se(x.prototype,"shapeAtlasResPath",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),Q=se(x.prototype,"shapeAtlasWidth",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Z=se(x.prototype,"symHaloScale",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),$=se(x.prototype,"trailColor",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return ae.vec4.create()}}),J=se(x.prototype,"trailSize",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return ae.vec4.create()}}),ee=se(x.prototype,"warpGlowColor",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return ae.vec4.create()}}),te=se(x.prototype,"warpHalpColor",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return ae.vec4.create()}}),re=se(x.prototype,"warpShape0",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ie=se(x.prototype,"warpShape1",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),A=x))||A)},"./sof/shared/EveSOFDataBoosterShape.js":function(e,t,r){"use strict";r.r(t),r.d(t,"EveSOFDataBoosterShape",(function(){return T}));var i,n,a,o,s,l,u,c,f,d,h,m,b,p,v,g=r("./global/utils/index.js"),y=r("./global/math/index.js");function w(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function E(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var T=(i=g.meta.type("EveSOFDataBoosterShape"),n=g.meta.color,a=g.meta.vector4,o=g.meta.vector4,s=g.meta.vector4,l=g.meta.float,u=g.meta.float,i((d=E((f=class{constructor(){w(this,"color",d,this),w(this,"noiseAmplitureEnd",h,this),w(this,"noiseAmplitureStart",m,this),w(this,"noiseFrequency",b,this),w(this,"noiseFunction",p,this),w(this,"noiseSpeed",v,this)}get noiseAmplitudeEnd(){return this.noiseAmplitureEnd}get noiseAmplitudeStart(){return this.noiseAmplitureStart}}).prototype,"color",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return y.vec4.create()}}),h=E(f.prototype,"noiseAmplitureEnd",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return y.vec4.create()}}),m=E(f.prototype,"noiseAmplitureStart",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return y.vec4.create()}}),b=E(f.prototype,"noiseFrequency",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return y.vec4.create()}}),p=E(f.prototype,"noiseFunction",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),v=E(f.prototype,"noiseSpeed",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),c=f))||c)},"./sof/shared/EveSOFDataInstancedMesh.js":function(e,t,r){"use strict";r.r(t),r.d(t,"EveSOFDataInstancedMesh",(function(){return T}));var i,n,a,o,s,l,u,c,f,d,h,m,b,p,v,g=r("./global/utils/index.js");function y(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function w(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}class E{constructor(e){this.data=e}static blackStruct(e){return new E([e.ReadF32(),e.ReadF32(),e.ReadF32(),e.ReadF32(),e.ReadF32(),e.ReadF32(),e.ReadF32(),e.ReadF32(),e.ReadF32(),e.ReadF32(),e.ReadF32()])}}var T=(i=g.meta.type("EveSOFDataInstancedMesh"),n=g.meta.string,a=g.meta.path,o=g.meta.list(E),s=g.meta.uint,l=g.meta.string,u=g.meta.list("EveSOFDataTexture"),i((d=w((f=class{constructor(){y(this,"name",d,this),y(this,"geometryResPath",h,this),y(this,"instances",m,this),y(this,"lowestLodVisible",b,this),y(this,"shader",p,this),y(this,"textures",v,this)}}).prototype,"name",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),h=w(f.prototype,"geometryResPath",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),m=w(f.prototype,"instances",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),b=w(f.prototype,"lowestLodVisible",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),p=w(f.prototype,"shader",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),v=w(f.prototype,"textures",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),c=f))||c)},"./sof/shared/EveSOFDataLogo.js":function(e,t,r){"use strict";r.r(t),r.d(t,"EveSOFDataLogo",(function(){return p}));var i,n,a,o,s,l,u=r("./global/utils/index.js");var c,f,d,h,m,b,p=(i=u.meta.type("EveSOFDataLogo"),n=u.meta.list("EveSOFDataTexture"),i((l=class{constructor(){var e,t,r,i;e=this,t="textures",i=this,(r=s)&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}Assign(e={}){return e.textures=this.AssignTextures(e.textures),e}AssignTextures(e={}){for(var t=0;t<this.textures.length;t++)this.textures[t].Assign(e);return e}},c=(o=l).prototype,f="textures",d=[n],h={configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}},b={},Object.keys(h).forEach((function(e){b[e]=h[e]})),b.enumerable=!!b.enumerable,b.configurable=!!b.configurable,("value"in b||b.initializer)&&(b.writable=!0),b=d.slice().reverse().reduce((function(e,t){return t(c,f,e)||e}),b),m&&void 0!==b.initializer&&(b.value=b.initializer?b.initializer.call(m):void 0,b.initializer=void 0),void 0===b.initializer&&(Object.defineProperty(c,f,b),b=null),s=b,a=o))||a)},"./sof/shared/EveSOFDataLogoSet.js":function(e,t,r){"use strict";r.r(t),r.d(t,"EveSOFDataLogoSet",(function(){return T})),r.d(t,"ErrSOFLogoSetTypeUnknown",(function(){return S})),r.d(t,"ErrSOFLogoSetTypeNotFound",(function(){return _}));var i,n,a,o,s,l,u,c,f,d,h,m,b,p,v,g=r("./global/utils/index.js"),y=r("./core/index.js");function w(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function E(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var T=(i=g.meta.type("EveSOFDataLogoSet"),n=g.meta.struct("EveSOFDataLogo"),a=g.meta.struct("EveSOFDataLogo"),o=g.meta.struct("EveSOFDataLogo"),s=g.meta.struct("EveSOFDataLogo"),l=g.meta.struct("EveSOFDataLogo"),i((v=p=class e{constructor(){w(this,"Marking_01",f,this),w(this,"Marking_02",d,this),w(this,"Primary",h,this),w(this,"Secondary",m,this),w(this,"Tertiary",b,this)}Has(t){var r=e.LogoType[t];if(void 0===r)throw new S({type:t});return!!this[r]}Get(t){if(!this.Has(t))throw new _({type:t});return this[e.LogoType[t]]}},p.LogoType=["Primary","Secondary","Tertiary","Marking_01","Marking_02"],f=E((c=v).prototype,"Marking_01",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),d=E(c.prototype,"Marking_02",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),h=E(c.prototype,"Primary",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),m=E(c.prototype,"Secondary",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),b=E(c.prototype,"Tertiary",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),u=c))||u);class S extends y.Tw2Error{constructor(e){super(e,"SOF logo set type unknown (%type%)"),this.unknownType=!0}}class _ extends y.Tw2Error{constructor(e){super(e,"SOF logo set type not found (%type%)")}}},"./sof/shared/EveSOFDataMaterial.js":function(e,t,r){"use strict";r.r(t),r.d(t,"EveSOFDataMaterial",(function(){return h}));var i,n,a,o,s,l,u,c=r("./global/utils/index.js");function f(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function d(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var h=(i=c.meta.type("EveSOFDataMaterial"),n=c.meta.string,a=c.meta.list("EveSOFDataParameter"),i((l=d((s=class{constructor(){f(this,"name",l,this),f(this,"parameters",u,this)}AssignParameters(e={},t){for(var r=0;r<this.parameters.length;r++)this.parameters[r].Assign(e,t);return e}}).prototype,"name",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),u=d(s.prototype,"parameters",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),o=s))||o)},"./sof/shared/EveSOFDataParameter.js":function(e,t,r){"use strict";r.r(t),r.d(t,"EveSOFDataParameter",(function(){return m}));var i,n,a,o,s,l,u,c=r("./global/utils/index.js"),f=r("./global/math/index.js");function d(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function h(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var m=(i=c.meta.type("EveSOFDataParameter"),n=c.meta.string,a=c.meta.vector4,i((l=h((s=class{constructor(){d(this,"name",l,this),d(this,"value",u,this)}Assign(e={},t){return e[t?t+this.name:this.name]=Array.from(this.value),e}}).prototype,"name",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),u=h(s.prototype,"value",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return f.vec4.create()}}),o=s))||o)},"./sof/shared/EveSOFDataTexture.js":function(e,t,r){"use strict";r.r(t),r.d(t,"EveSOFDataTexture",(function(){return h}));var i,n,a,o,s,l,u,c=r("./global/utils/index.js");function f(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function d(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var h=(i=c.meta.type("EveSOFDataTexture"),n=c.meta.string,a=c.meta.path,i((l=d((s=class{constructor(){f(this,"name",l,this),f(this,"resFilePath",u,this)}Assign(e={}){return e[this.name]=this.resFilePath,e}}).prototype,"name",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),u=d(s.prototype,"resFilePath",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),o=s))||o)},"./sof/shared/EveSOFDataTransform.js":function(e,t,r){"use strict";r.r(t),r.d(t,"EveSOFDataTransform",(function(){return g}));var i,n,a,o,s,l,u,c,f,d,h,m=r("./global/utils/index.js"),b=r("./global/math/index.js");function p(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function v(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var g=(i=m.meta.type("EveSOFDataTransform"),n=m.meta.uint,a=m.meta.vector3,o=m.meta.quaternion,s=m.meta.vector3,i((c=v((u=class{constructor(){p(this,"boneIndex",c,this),p(this,"position",f,this),p(this,"rotation",d,this),p(this,"scaling",h,this)}GetTransform(e){return b.mat4.fromRotationTranslationScale(e,this.rotation,this.translation,this.scaling)}}).prototype,"boneIndex",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return-1}}),f=v(u.prototype,"position",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return b.vec3.create()}}),d=v(u.prototype,"rotation",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return b.quat.create()}}),h=v(u.prototype,"scaling",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return b.vec3.fromValues(1,1,1)}}),l=u))||l)},"./sof/shared/index.js":function(e,t,r){"use strict";r.r(t);var i=r("./sof/shared/EveSOFDataArea.js");r.d(t,"EveSOFDataArea",(function(){return i.EveSOFDataArea})),r.d(t,"ErrSOFAreaTypeUnknown",(function(){return i.ErrSOFAreaTypeUnknown})),r.d(t,"ErrSOFAreaTypeNotFound",(function(){return i.ErrSOFAreaTypeNotFound}));var n=r("./sof/shared/EveSOFDataAreaMaterial.js");r.d(t,"EveSOFDataAreaMaterial",(function(){return n.EveSOFDataAreaMaterial}));var a=r("./sof/shared/EveSOFDataBooster.js");r.d(t,"EveSOFDataBooster",(function(){return a.EveSOFDataBooster}));var o=r("./sof/shared/EveSOFDataBoosterShape.js");r.d(t,"EveSOFDataBoosterShape",(function(){return o.EveSOFDataBoosterShape}));var s=r("./sof/shared/EveSOFDataInstancedMesh.js");r.d(t,"EveSOFDataInstancedMesh",(function(){return s.EveSOFDataInstancedMesh}));var l=r("./sof/shared/EveSOFDataLogo.js");r.d(t,"EveSOFDataLogo",(function(){return l.EveSOFDataLogo}));var u=r("./sof/shared/EveSOFDataLogoSet.js");r.d(t,"EveSOFDataLogoSet",(function(){return u.EveSOFDataLogoSet})),r.d(t,"ErrSOFLogoSetTypeUnknown",(function(){return u.ErrSOFLogoSetTypeUnknown})),r.d(t,"ErrSOFLogoSetTypeNotFound",(function(){return u.ErrSOFLogoSetTypeNotFound}));var c=r("./sof/shared/EveSOFDataMaterial.js");r.d(t,"EveSOFDataMaterial",(function(){return c.EveSOFDataMaterial}));var f=r("./sof/shared/EveSOFDataParameter.js");r.d(t,"EveSOFDataParameter",(function(){return f.EveSOFDataParameter}));var d=r("./sof/shared/EveSOFDataTexture.js");r.d(t,"EveSOFDataTexture",(function(){return d.EveSOFDataTexture}));var h=r("./sof/shared/EveSOFDataTransform.js");r.d(t,"EveSOFDataTransform",(function(){return h.EveSOFDataTransform}))},"./unsupported/AudEmitter.js":function(e,t,r){"use strict";r.r(t),r.d(t,"AudEmitter",(function(){return p}));var i,n,a,o,s,l,u=r("./global/utils/index.js");var c,f,d,h,m,b,p=(i=u.meta.type("AudEmitter",!0),n=u.meta.string,i((l=class extends u.meta.Model{constructor(...e){var t,r,i,n;super(...e),t=this,r="name",n=this,(i=s)&&Object.defineProperty(t,r,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}},c=(o=l).prototype,f="name",d=[n],h={configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}},b={},Object.keys(h).forEach((function(e){b[e]=h[e]})),b.enumerable=!!b.enumerable,b.configurable=!!b.configurable,("value"in b||b.initializer)&&(b.writable=!0),b=d.slice().reverse().reduce((function(e,t){return t(c,f,e)||e}),b),m&&void 0!==b.initializer&&(b.value=b.initializer?b.initializer.call(m):void 0,b.initializer=void 0),void 0===b.initializer&&(Object.defineProperty(c,f,b),b=null),s=b,a=o))||a)},"./unsupported/core/Tr2DistanceTracker.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tr2DistanceTracker",(function(){return w}));var i,n,a,o,s,l,u,c,f,d,h,m,b,p=r("./global/utils/index.js"),v=r("./global/math/index.js");function g(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function y(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var w=(i=p.meta.notImplemented,n=p.meta.type("Tr2DistanceTracker"),a=p.meta.string,o=p.meta.vector3,s=p.meta.vector3,l=p.meta.float,i(u=n((b=class extends p.meta.Model{constructor(...e){super(...e),g(this,"name",f,this),g(this,"direction",d,this),g(this,"targetPosition",h,this),g(this,"value",m,this)}},f=y((c=b).prototype,"name",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),d=y(c.prototype,"direction",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return v.vec3.create()}}),h=y(c.prototype,"targetPosition",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return v.vec3.create()}}),m=y(c.prototype,"value",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),u=c))||u)||u)},"./unsupported/core/TriObserverLocal.js":function(e,t,r){"use strict";r.r(t),r.d(t,"TriObserverLocal",(function(){return g}));var i,n,a,o,s,l,u,c,f,d,h,m=r("./global/utils/index.js"),b=r("./global/math/index.js");function p(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function v(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var g=(i=m.meta.notImplemented,n=m.meta.type("TriObserverLocal"),a=m.meta.string,o=m.meta.vector3,s=m.meta.struct(),i(l=n((h=class extends m.meta.Model{constructor(...e){super(...e),p(this,"name",c,this),p(this,"front",f,this),p(this,"observer",d,this)}},c=v((u=h).prototype,"name",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),f=v(u.prototype,"front",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return b.vec3.create()}}),d=v(u.prototype,"observer",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),l=u))||l)||l)},"./unsupported/core/index.js":function(e,t,r){"use strict";r.r(t);var i=r("./unsupported/core/lighting/index.js");r.d(t,"Tr2PointLight",(function(){return i.Tr2PointLight})),r.d(t,"Tr2ShLightingManager",(function(){return i.Tr2ShLightingManager}));var n=r("./unsupported/core/mesh/index.js");r.d(t,"Tr2MeshLod",(function(){return n.Tr2MeshLod}));var a=r("./unsupported/core/parameter/index.js");r.d(t,"Tr2ExternalParameter",(function(){return a.Tr2ExternalParameter})),r.d(t,"Tr2Texture2dLodParameter",(function(){return a.Tr2Texture2dLodParameter}));var o=r("./unsupported/core/post/index.js");r.d(t,"Tr2PostProcess",(function(){return o.Tr2PostProcess}));var s=r("./unsupported/core/resource/index.js");r.d(t,"Tr2LodResource",(function(){return s.Tr2LodResource}));var l=r("./unsupported/core/value/index.js");r.d(t,"TriMatrix",(function(){return l.TriMatrix}));var u=r("./unsupported/core/Tr2DistanceTracker.js");r.d(t,"Tr2DistanceTracker",(function(){return u.Tr2DistanceTracker}));var c=r("./unsupported/core/TriObserverLocal.js");r.d(t,"TriObserverLocal",(function(){return c.TriObserverLocal}))},"./unsupported/core/lighting/Tr2PointLight.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tr2PointLight",(function(){return A}));var i,n,a,o,s,l,u,c,f,d,h,m,b,p,v,g,y,w,E,T,S,_,j,R=r("./global/utils/index.js"),z=r("./global/math/index.js");function O(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function P(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var A=(i=R.meta.notImplemented,n=R.meta.type("Tr2PointLight"),a=R.meta.string,o=R.meta.float,s=R.meta.color,l=R.meta.float,u=R.meta.float,c=R.meta.float,f=R.meta.float,d=R.meta.vector3,h=R.meta.float,i(m=n((j=class extends R.meta.Model{constructor(...e){super(...e),O(this,"name",p,this),O(this,"brightness",v,this),O(this,"color",g,this),O(this,"innerRadius",y,this),O(this,"noiseAmplitude",w,this),O(this,"noiseFrequency",E,this),O(this,"noiseOctaves",T,this),O(this,"position",S,this),O(this,"radius",_,this)}},p=P((b=j).prototype,"name",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),v=P(b.prototype,"brightness",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),g=P(b.prototype,"color",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return z.vec4.create()}}),y=P(b.prototype,"innerRadius",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),w=P(b.prototype,"noiseAmplitude",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),E=P(b.prototype,"noiseFrequency",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),T=P(b.prototype,"noiseOctaves",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),S=P(b.prototype,"position",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return z.vec3.create()}}),_=P(b.prototype,"radius",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),m=b))||m)||m)},"./unsupported/core/lighting/Tr2ShLightingManager.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tr2ShLightingManager",(function(){return b}));var i,n,a,o,s,l,u,c,f,d=r("./global/utils/index.js");function h(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function m(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var b=(i=d.meta.notImplemented,n=d.meta.type("Tr2ShLightingManager"),a=d.meta.float,o=d.meta.float,i(s=n((f=class extends d.meta.Model{constructor(...e){super(...e),h(this,"primaryIntensity",u,this),h(this,"secondaryIntensity",c,this)}},u=m((l=f).prototype,"primaryIntensity",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),c=m(l.prototype,"secondaryIntensity",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),s=l))||s)||s)},"./unsupported/core/lighting/index.js":function(e,t,r){"use strict";r.r(t);var i=r("./unsupported/core/lighting/Tr2PointLight.js");r.d(t,"Tr2PointLight",(function(){return i.Tr2PointLight}));var n=r("./unsupported/core/lighting/Tr2ShLightingManager.js");r.d(t,"Tr2ShLightingManager",(function(){return n.Tr2ShLightingManager}))},"./unsupported/core/mesh/Tr2MeshLod.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tr2MeshLod",(function(){return B}));var i,n,a,o,s,l,u,c,f,d,h,m,b,p,v,g,y,w,E,T,S,_,j,R,z,O,P,A,x,M,C,D,I=r("./global/utils/index.js"),L=r("./global/constant/index.js");function F(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function G(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var B=(i=I.meta.notImplemented,n=I.meta.type("Tr2MeshLod"),a=I.meta.todo("Implement LOD"),o=I.meta.list("Tw2MeshArea"),s=I.meta.notImplemented,l=I.meta.list("Tw2GeometryRes"),u=I.meta.list("Tw2MeshArea"),c=I.meta.notImplemented,f=I.meta.list("Tw2MeshArea"),d=I.meta.notImplemented,h=I.meta.list("Tw2MeshArea"),m=I.meta.struct("Tr2LodResource"),b=I.meta.list("Tw2MeshArea"),p=I.meta.list("Tw2MeshArea"),v=I.meta.list("Tw2MeshArea"),g=I.meta.boolean,y=I.meta.plain,w=I.meta.notImplemented,i(E=n(E=a((D=class extends I.meta.Model{constructor(...e){super(...e),F(this,"additiveAreas",S,this),F(this,"associatedResources",_,this),F(this,"decalAreas",j,this),F(this,"depthAreas",R,this),F(this,"distortionAreas",z,this),F(this,"geometryRes",O,this),F(this,"opaqueAreas",P,this),F(this,"pickableAreas",A,this),F(this,"transparentAreas",x,this),F(this,"display",M,this),F(this,"visible",C,this),this._geometryResource=null}get geometryResource(){return this._geometryResource}set geometryResource(e){this._geometryResource=e}Initialize(){}OnResPrepared(e){this._geometryResource=e}IsGood(){return this._geometryResource&&this._geometryResource.IsGood()}GetResources(e=[]){for(var t=0;t<this.associatedResources;t++)e[t]&&!e.includes(this.associatedResources[t])&&e.push(this.associatedResources[t]);var r=I.perArrayChild;return r(this.additiveAreas,"GetResources",e),r(this.decalAreas,"GetResources",e),r(this.depthAreas,"GetResources",e),r(this.distortionAreas,"GetResources",e),r(this.opaqueAreas,"GetResources",e),r(this.pickableAreas,"GetResources",e),r(this.transparentAreas,"GetResources",e),e}GetBatches(e,t,r){if(!this.IsGood()||!this.display)return!1;var i,n=this.constructor.GetAreaBatches;switch(e){case L.RM_ADDITIVE:this.visible.additiveAreas&&(i=this.additiveAreas);break;case L.RM_DECAL:this.visible.decalAreas&&(i=this.decalAreas);break;case L.RM_DEPTH:this.visible.depthAreas&&(i=this.depthAreas);break;case L.RM_DISTORTION:this.visible.distortionAreas&&(i=this.distortionAreas);break;case L.RM_OPAQUE:this.visible.opaqueAreas&&(i=this.opaqueAreas);break;case L.RM_PICKABLE:this.visible.pickableAreas&&(i=this.pickableAreas);break;case L.RM_TRANSPARENT:this.visible.transparentAreas&&(i=this.transparentAreas)}i&&n(this,i,e,t,r)}EmptyAreas(){this.additiveAreas.splice(0),this.decalAreas.splice(0),this.depthAreas.splice(0),this.distortionAreas.splice(0),this.opaqueAreas.splice(0),this.pickableAreas.splice(0),this.transparentAreas.splice(0)}static GetAreaBatches(e,t,r,i,n){for(var a=0;a<t.length;++a){var o=t[a];if(o.effect&&o.display){var s=new o.constructor.batchType;s.renderMode=r,s.perObjectData=n,s.geometryRes=e._geometryResource,s.meshIx=0,s.start=o.index,s.count=o.count,s.effect=o.effect,i.Commit(s)}}}},S=G((T=D).prototype,"additiveAreas",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),_=G(T.prototype,"associatedResources",[s,l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),j=G(T.prototype,"decalAreas",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),R=G(T.prototype,"depthAreas",[c,f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),z=G(T.prototype,"distortionAreas",[d,h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),O=G(T.prototype,"geometryRes",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),P=G(T.prototype,"opaqueAreas",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),A=G(T.prototype,"pickableAreas",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),x=G(T.prototype,"transparentAreas",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),M=G(T.prototype,"display",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),C=G(T.prototype,"visible",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{opaqueAreas:!0,transparentAreas:!0,additiveAreas:!0,pickableAreas:!0,distortionAreas:!0,decalAreas:!0,depthAreas:!0}}}),G(T.prototype,"Initialize",[w],Object.getOwnPropertyDescriptor(T.prototype,"Initialize"),T.prototype),E=T))||E)||E)||E)},"./unsupported/core/mesh/index.js":function(e,t,r){"use strict";r.r(t);var i=r("./unsupported/core/mesh/Tr2MeshLod.js");r.d(t,"Tr2MeshLod",(function(){return i.Tr2MeshLod}))},"./unsupported/core/parameter/Tr2ExternalParameter.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tr2ExternalParameter",(function(){return g}));var i,n,a,o,s,l,u,c,f,d,h,m=r("./global/utils/index.js"),b=r("./core/parameter/Tw2Parameter.js");function p(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function v(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var g=(i=m.meta.notImplemented,n=m.meta.type("Tr2ExternalParameter"),a=m.meta.string,o=m.meta.string,s=m.meta.struct(),i(l=n((h=class extends b.Tw2Parameter{constructor(...e){super(...e),p(this,"name",c,this),p(this,"destinationAttribute",f,this),p(this,"destinationObject",d,this)}},c=v((u=h).prototype,"name",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),f=v(u.prototype,"destinationAttribute",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),d=v(u.prototype,"destinationObject",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),l=u))||l)||l)},"./unsupported/core/parameter/Tr2Texture2dLodParameter.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tr2Texture2dLodParameter",(function(){return p}));var i,n,a,o,s,l,u,c,f,d=r("./global/utils/index.js"),h=r("./core/index.js");function m(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function b(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var p=(i=d.meta.notImplemented,n=d.meta.type("Tr2Texture2dLodParameter"),a=d.meta.string,o=d.meta.struct("Tr2LodResource"),i(s=n((f=class extends h.Tw2Parameter{constructor(...e){super(...e),m(this,"name",u,this),m(this,"lodResource",c,this)}},u=b((l=f).prototype,"name",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),c=b(l.prototype,"lodResource",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),s=l))||s)||s)},"./unsupported/core/parameter/index.js":function(e,t,r){"use strict";r.r(t);var i=r("./unsupported/core/parameter/Tr2ExternalParameter.js");r.d(t,"Tr2ExternalParameter",(function(){return i.Tr2ExternalParameter}));var n=r("./unsupported/core/parameter/Tr2Texture2dLodParameter.js");r.d(t,"Tr2Texture2dLodParameter",(function(){return n.Tr2Texture2dLodParameter}))},"./unsupported/core/post/Tr2PostProcess.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tr2PostProcess",(function(){return v}));var i,n,a,o,s,l,u,c=r("./global/utils/index.js");var f,d,h,m,b,p,v=(i=c.meta.notImplemented,n=c.meta.type("Tr2PostProcess"),a=c.meta.list("Tw2Effect"),i(o=n((u=class extends c.meta.Model{constructor(...e){var t,r,i,n;super(...e),t=this,r="stages",n=this,(i=l)&&Object.defineProperty(t,r,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}},f=(s=u).prototype,d="stages",h=[a],m={configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}},p={},Object.keys(m).forEach((function(e){p[e]=m[e]})),p.enumerable=!!p.enumerable,p.configurable=!!p.configurable,("value"in p||p.initializer)&&(p.writable=!0),p=h.slice().reverse().reduce((function(e,t){return t(f,d,e)||e}),p),b&&void 0!==p.initializer&&(p.value=p.initializer?p.initializer.call(b):void 0,p.initializer=void 0),void 0===p.initializer&&(Object.defineProperty(f,d,p),p=null),l=p,o=s))||o)||o)},"./unsupported/core/post/index.js":function(e,t,r){"use strict";r.r(t);var i=r("./unsupported/core/post/Tr2PostProcess.js");r.d(t,"Tr2PostProcess",(function(){return i.Tr2PostProcess}))},"./unsupported/core/resource/Tw2LodResource.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tr2LodResource",(function(){return w}));var i,n,a,o,s,l,u,c,f,d,h,m,b,p=r("./global/index.js"),v=r("./global/utils/index.js");function g(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function y(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var w=(i=v.meta.notImplemented,n=v.meta.type("Tr2LodResource"),a=v.meta.string,o=v.meta.path,s=v.meta.path,l=v.meta.path,i(u=n((b=class e extends v.meta.Model{get highDetailRes(){return this.GetLODResource(3)}get mediumDetailRes(){return this.GetLODResource(2)}get lowDetailRes(){return this.GetLODResource(1)}constructor(e="",t){super(),g(this,"name",f,this),g(this,"highDetailResPath",d,this),g(this,"lowDetailResPath",h,this),g(this,"mediumDetailResPath",m,this),this.name=e,t&&this.SetPaths(...Object(v.toArray)(t))}SetPaths(e="",t="",r=""){var i=!1;return e!==this.highDetailResPath&&(this.highDetailResPath=e,i=!0),t!==this.mediumDetailResPath&&(this.mediumDetailResPath=t,i=!0),r!==this.lowDetailResPath&&(this.lowDetailResPath=r,i=!0),i}GetLODResource(e=3){var t,r=this.highDetailResPath,i=this.mediumDetailResPath,n=this.lowDetailResPath;return e>2?r?t=r:i?t=i:n&&(t=n):2===e?i?t=i:r?t=r:n&&(t=n):n?t=n:i?t=i:r&&(t=r),t?p.resMan.GetResource(t):null}static from(t){var r=new e;return t&&(r.name=t.name||"",r.SetPaths(t.highDetailResPath,t.mediumDetailResPath,t.lowDetailResPath)),r}},f=y((c=b).prototype,"name",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),d=y(c.prototype,"highDetailResPath",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),h=y(c.prototype,"lowDetailResPath",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),m=y(c.prototype,"mediumDetailResPath",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),u=c))||u)||u)},"./unsupported/core/resource/index.js":function(e,t,r){"use strict";r.r(t);var i=r("./unsupported/core/resource/Tw2LodResource.js");r.d(t,"Tr2LodResource",(function(){return i.Tr2LodResource}))},"./unsupported/core/value/TriMatrix.js":function(e,t,r){"use strict";r.r(t),r.d(t,"TriMatrix",(function(){return H}));var i,n,a,o,s,l,u,c,f,d,h,m,b,p,v,g,y,w,E,T,S,_,j,R,z,O,P,A,x,M,C,D,I,L,F,G,B,N,U=r("./global/utils/index.js");function k(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function V(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var H=(i=U.meta.notImplemented,n=U.meta.type("TriMatrix"),a=U.meta.todo("Should this default to a identity matrix?"),o=U.meta.float,s=U.meta.float,l=U.meta.float,u=U.meta.float,c=U.meta.float,f=U.meta.float,d=U.meta.float,h=U.meta.float,m=U.meta.float,b=U.meta.float,p=U.meta.float,v=U.meta.float,g=U.meta.float,y=U.meta.float,w=U.meta.float,E=U.meta.float,i(T=n(T=a((N=class extends U.meta.Model{constructor(...e){super(...e),k(this,"_11",_,this),k(this,"_12",j,this),k(this,"_13",R,this),k(this,"_14",z,this),k(this,"_21",O,this),k(this,"_22",P,this),k(this,"_23",A,this),k(this,"_24",x,this),k(this,"_31",M,this),k(this,"_32",C,this),k(this,"_33",D,this),k(this,"_34",I,this),k(this,"_41",L,this),k(this,"_42",F,this),k(this,"_43",G,this),k(this,"_44",B,this)}},_=V((S=N).prototype,"_11",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),j=V(S.prototype,"_12",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),R=V(S.prototype,"_13",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),z=V(S.prototype,"_14",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),O=V(S.prototype,"_21",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),P=V(S.prototype,"_22",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),A=V(S.prototype,"_23",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),x=V(S.prototype,"_24",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),M=V(S.prototype,"_31",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),C=V(S.prototype,"_32",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),D=V(S.prototype,"_33",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),I=V(S.prototype,"_34",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),L=V(S.prototype,"_41",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),F=V(S.prototype,"_42",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),G=V(S.prototype,"_43",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),B=V(S.prototype,"_44",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),T=S))||T)||T)||T)},"./unsupported/core/value/index.js":function(e,t,r){"use strict";r.r(t);var i=r("./unsupported/core/value/TriMatrix.js");r.d(t,"TriMatrix",(function(){return i.TriMatrix}))},"./unsupported/curve/Tw2CurveSetRange.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tw2CurveSetRange",(function(){return y}));var i,n,a,o,s,l,u,c,f,d,h,m,b,p=r("./global/utils/index.js");function v(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function g(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var y=(i=p.meta.notImplemented,n=p.meta.type("Tw2CurveSetRange"),a=p.meta.string,o=p.meta.float,s=p.meta.boolean,l=p.meta.float,i(u=n((b=class extends p.meta.Model{constructor(...e){super(...e),v(this,"name",f,this),v(this,"endTime",d,this),v(this,"looped",h,this),v(this,"startTime",m,this)}},f=g((c=b).prototype,"name",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),d=g(c.prototype,"endTime",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),h=g(c.prototype,"looped",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),m=g(c.prototype,"startTime",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),u=c))||u)||u)},"./unsupported/curve/adapter/Tr2RotationAdapter.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tr2RotationAdapter",(function(){return u}));var i,n,a,o=r("./global/utils/index.js"),s=r("./global/math/index.js"),l=r("./unsupported/curve/adapter/Tw2CurveAdapter.js"),u=(0,o.meta.notImplemented)(i=o.meta.type("Tr2RotationAdapter")((a=n=class extends l.Tw2CurveAdapter{constructor(...e){super(...e),this.curve=null,this.value=s.vec4.create()}GetValueAt(e,t){return this.curve&&this.curve.GetValueAt(e,this.value),s.vec4.copy(t,this.value)}},n.outputDimension=4,i=a))||i)||i},"./unsupported/curve/adapter/Tr2TranslationAdapter.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tr2TranslationAdapter",(function(){return g}));var i,n,a,o,s,l,u,c,f,d,h=r("./global/utils/index.js"),m=r("./global/math/index.js"),b=r("./unsupported/curve/adapter/Tw2CurveAdapter.js");function p(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function v(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var g=(i=h.meta.notImplemented,n=h.meta.type("Tr2TranslationAdapter"),a=h.meta.struct("Tw2Curve"),o=h.meta.vector3,i(s=n((d=f=class extends b.Tw2CurveAdapter{constructor(...e){super(...e),p(this,"curve",u,this),p(this,"value",c,this)}GetValueAt(e,t){return this.curve&&this.curve.GetValueAt(e,this.value),m.vec3.copy(t,this.value)}},f.outputDimension=3,u=v((l=d).prototype,"curve",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),c=v(l.prototype,"value",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return m.vec3.create()}}),s=l))||s)||s)},"./unsupported/curve/adapter/Tw2CurveAdapter.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tw2CurveAdapter",(function(){return l}));var i,n,a,o=r("./global/utils/index.js"),s=r("./curve/index.js"),l=o.meta.type("Tw2CurveAdapter")((a=n=class extends s.Tw2Curve{constructor(...e){super(...e),this.name="",this.curve=null,this.value=null}Sort(){this.curve&&this.curve.Sort()}UpdateValue(e){this.GetValueAt(e,this.value)}},n.valueProperty="value",n.curveType=s.Tw2Curve.Type.ADAPTER,i=a))||i},"./unsupported/curve/adapter/index.js":function(e,t,r){"use strict";r.r(t);var i=r("./unsupported/curve/adapter/Tr2RotationAdapter.js");r.d(t,"Tr2RotationAdapter",(function(){return i.Tr2RotationAdapter}));var n=r("./unsupported/curve/adapter/Tr2TranslationAdapter.js");r.d(t,"Tr2TranslationAdapter",(function(){return n.Tr2TranslationAdapter}))},"./unsupported/curve/curve/AudEventCurve.js":function(e,t,r){"use strict";r.r(t),r.d(t,"AudEventKey",(function(){return R})),r.d(t,"AudEventCurve",(function(){return z}));var i,n,a,o,s,l,u,c,f,d,h,m,b,p,v,g,y,w,E,T=r("./global/utils/index.js"),S=r("./curve/index.js");function _(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function j(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var R=(i=T.meta.type("AudEventKey"),n=T.meta.float,a=T.meta.ushort,i((c=class extends S.Tw2CurveKey{constructor(...e){super(...e),_(this,"time",l,this),_(this,"value",u,this)}},l=j((s=c).prototype,"time",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),u=j(s.prototype,"value",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),o=s))||o),z=(f=T.meta.notImplemented,d=T.meta.type("AudEventCurve"),h=T.meta.string,m=T.meta.list("AudEventKey"),b=T.meta.struct("TriObserverLocal"),f(p=d((E=class extends S.Tw2Curve{constructor(...e){super(...e),_(this,"name",g,this),_(this,"keys",y,this),_(this,"sourceTriObserver",w,this)}},g=j((v=E).prototype,"name",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),y=j(v.prototype,"keys",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),w=j(v.prototype,"sourceTriObserver",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),p=v))||p)||p)},"./unsupported/curve/curve/Tr2BoneMatrixCurve.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tr2BoneMatrixCurve",(function(){return g}));var i,n,a,o,s,l,u,c=r("./global/utils/index.js"),f=r("./curve/index.js");var d,h,m,b,p,v,g=(i=c.meta.notImplemented,n=c.meta.type("Tr2BoneMatrixCurve"),a=c.meta.string,i(o=n((u=class extends f.Tw2Curve{constructor(...e){var t,r,i,n;super(...e),t=this,r="name",n=this,(i=l)&&Object.defineProperty(t,r,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}},d=(s=u).prototype,h="name",m=[a],b={configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}},v={},Object.keys(b).forEach((function(e){v[e]=b[e]})),v.enumerable=!!v.enumerable,v.configurable=!!v.configurable,("value"in v||v.initializer)&&(v.writable=!0),v=m.slice().reverse().reduce((function(e,t){return t(d,h,e)||e}),v),p&&void 0!==v.initializer&&(v.value=v.initializer?v.initializer.call(p):void 0,v.initializer=void 0),void 0===v.initializer&&(Object.defineProperty(d,h,v),v=null),l=v,o=s))||o)||o)},"./unsupported/curve/curve/Tr2CurveConstant.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tr2CurveConstant",(function(){return y}));var i,n,a,o,s,l,u,c,f,d,h,m=r("./global/utils/index.js"),b=r("./global/math/index.js"),p=r("./curve/index.js");function v(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function g(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var y=(i=m.meta.notImplemented,n=m.meta.type("Tw2CurveConstant"),a=m.meta.todo("Is this a curve or a key?"),o=m.meta.string,s=m.meta.vector4,i(l=n(l=a((h=d=class extends p.Tw2Curve{constructor(...e){super(...e),v(this,"name",c,this),v(this,"value",f,this)}Sort(){}GetLength(){return 0}UpdateValue(e,t){b.vec4.copy(t,this.value)}},d.inputDimension=4,d.outputDimension=4,d.valueProperty="value",d.curveType=p.Tw2Curve.Type.CURVE_NO_KEYS,c=g((u=h).prototype,"name",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),f=g(u.prototype,"value",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return b.vec4.create()}}),l=u))||l)||l)||l)},"./unsupported/curve/curve/Tr2CurveScalar.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tw2CurveScalarKey",(function(){return H})),r.d(t,"Tr2CurveScalar",(function(){return q}));var i,n,a,o,s,l,u,c,f,d,h,m,b,p,v,g,y,w,E,T,S,_,j,R,z,O,P,A,x,M,C,D,I,L,F,G,B,N=r("./global/utils/index.js"),U=r("./curve/index.js");function k(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function V(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var H=(i=N.meta.type("Tw2CurveScalarKey"),n=N.meta.float,a=N.meta.uint,o=N.meta.uint,s=N.meta.uint,l=N.meta.float,u=N.meta.float,i((g=class extends U.Tw2CurveKey{constructor(...e){super(...e),k(this,"endTangent",d,this),k(this,"extrapolation",h,this),k(this,"index",m,this),k(this,"interpolation",b,this),k(this,"startTangent",p,this),k(this,"value",v,this)}static blackStruct(e){var t=new this;return t.time=e.ReadF32(),t.value=e.ReadF32(),t.startTangent=e.ReadF32(),t.endTangent=e.ReadF32(),t.index=e.ReadU16(),t.interpolation=e.ReadU8(),t.extrapolation=e.ReadU8(),t}},d=V((f=g).prototype,"endTangent",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),h=V(f.prototype,"extrapolation",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),m=V(f.prototype,"index",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),b=V(f.prototype,"interpolation",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),p=V(f.prototype,"startTangent",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),v=V(f.prototype,"value",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),c=f))||c),q=(y=N.meta.notImplemented,w=N.meta.type("Tr2CurveScalar"),E=N.meta.string,T=N.meta.uint,S=N.meta.uint,_=N.meta.list(H),j=N.meta.float,R=N.meta.float,z=N.meta.float,O=N.meta.isPrivate,y(P=w((B=G=class extends U.Tw2Curve{constructor(...e){super(...e),k(this,"name",x,this),k(this,"extrapolationAfter",M,this),k(this,"extrapolationBefore",C,this),k(this,"keys",D,this),k(this,"timeOffset",I,this),k(this,"timeScale",L,this),k(this,"currentValue",F,this),this._length=0}Sort(){this._length=U.Tw2Curve.Sort3(this.keys)}GetLength(){return this._length}},G.inputDimension=1,G.outputDimension=1,G.valueProperty="currentValue",G.curveType=U.Tw2Curve.Type.CURVE3,G.Key=H,G.Interpolation={},G.Extrapolation={},x=V((A=B).prototype,"name",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),M=V(A.prototype,"extrapolationAfter",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),C=V(A.prototype,"extrapolationBefore",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),D=V(A.prototype,"keys",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),I=V(A.prototype,"timeOffset",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),L=V(A.prototype,"timeScale",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),F=V(A.prototype,"currentValue",[z,O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),P=A))||P)||P)},"./unsupported/curve/curve/Tr2ScalarExprCurve.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tr2ScalarExprCurve",(function(){return C}));var i,n,a,o,s,l,u,c,f,d,h,m,b,p,v,g,y,w,E,T,S,_,j,R,z,O,P=r("./curve/curve/index.js"),A=r("./global/utils/index.js");function x(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function M(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var C=(i=A.meta.type("Tr2ScalarExprCurve"),n=A.meta.notImplemented,a=A.meta.float,o=A.meta.float,s=A.meta.float,l=A.meta.float,u=A.meta.isPrivate,c=A.meta.float,f=A.meta.isPrivate,d=A.meta.uint,h=A.meta.uint,m=A.meta.isPrivate,b=A.meta.string,p=A.meta.expression,i(v=n((O=class extends P.Tw2Curve{constructor(...e){super(...e),x(this,"input1",y,this),x(this,"input2",w,this),x(this,"input3",E,this),x(this,"value",T,this),x(this,"currentValue",S,this),x(this,"cycle",_,this),x(this,"length",j,this),x(this,"name",R,this),x(this,"expr",z,this)}},y=M((g=O).prototype,"input1",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),w=M(g.prototype,"input2",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),E=M(g.prototype,"input3",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),T=M(g.prototype,"value",[l,u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),S=M(g.prototype,"currentValue",[c,f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),_=M(g.prototype,"cycle",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),j=M(g.prototype,"length",[h,m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),R=M(g.prototype,"name",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),z=M(g.prototype,"expr",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),v=g))||v)||v)},"./unsupported/curve/curve/Tr2ScalarExprKeyCurve.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tr2ScalarExprKey",(function(){return V})),r.d(t,"Tr2ScalarExprKeyCurve",(function(){return H}));var i,n,a,o,s,l,u,c,f,d,h,m,b,p,v,g,y,w,E,T,S,_,j,R,z,O,P,A,x,M,C,D,I,L,F,G,B=r("./global/utils/index.js"),N=r("./curve/index.js");function U(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function k(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var V=(i=B.meta.type("Tr2ScalarExprKey"),n=B.meta.float,a=B.meta.float,o=B.meta.float,s=B.meta.uint,l=B.meta.float,u=B.meta.float,c=B.meta.float,f=B.meta.expression,d=B.meta.float,h=B.meta.isPrivate,i((j=class extends N.Tw2CurveKey{constructor(...e){super(...e),U(this,"input1",p,this),U(this,"input2",v,this),U(this,"input3",g,this),U(this,"interpolation",y,this),U(this,"left",w,this),U(this,"right",E,this),U(this,"time",T,this),U(this,"timeExpression",S,this),U(this,"value",_,this)}},p=k((b=j).prototype,"input1",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return-1}}),v=k(b.prototype,"input2",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return-1}}),g=k(b.prototype,"input3",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return-1}}),y=k(b.prototype,"interpolation",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),w=k(b.prototype,"left",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),E=k(b.prototype,"right",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),T=k(b.prototype,"time",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),S=k(b.prototype,"timeExpression",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),_=k(b.prototype,"value",[d,h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),m=b))||m),H=(R=B.meta.notImplemented,z=B.meta.type("Tr2ScalarExprKeyCurve"),O=B.meta.string,P=B.meta.uint,A=B.meta.list("Tr2ScalarExprKey"),x=B.meta.float,R(M=z((G=class extends N.Tw2Curve{constructor(...e){super(...e),U(this,"name",D,this),U(this,"interpolation",I,this),U(this,"keys",L,this),U(this,"currentValue",F,this)}},D=k((C=G).prototype,"name",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),I=k(C.prototype,"interpolation",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),L=k(C.prototype,"keys",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),F=k(C.prototype,"currentValue",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),M=C))||M)||M)},"./unsupported/curve/curve/index.js":function(e,t,r){"use strict";r.r(t);var i=r("./unsupported/curve/curve/AudEventCurve.js");r.d(t,"AudEventKey",(function(){return i.AudEventKey})),r.d(t,"AudEventCurve",(function(){return i.AudEventCurve}));var n=r("./unsupported/curve/curve/Tr2BoneMatrixCurve.js");r.d(t,"Tr2BoneMatrixCurve",(function(){return n.Tr2BoneMatrixCurve}));var a=r("./unsupported/curve/curve/Tr2CurveConstant.js");r.d(t,"Tr2CurveConstant",(function(){return a.Tr2CurveConstant}));var o=r("./unsupported/curve/curve/Tr2CurveScalar.js");r.d(t,"Tw2CurveScalarKey",(function(){return o.Tw2CurveScalarKey})),r.d(t,"Tr2CurveScalar",(function(){return o.Tr2CurveScalar}));var s=r("./unsupported/curve/curve/Tr2ScalarExprKeyCurve.js");r.d(t,"Tr2ScalarExprKey",(function(){return s.Tr2ScalarExprKey})),r.d(t,"Tr2ScalarExprKeyCurve",(function(){return s.Tr2ScalarExprKeyCurve}));var l=r("./unsupported/curve/curve/Tr2ScalarExprCurve.js");r.d(t,"Tr2ScalarExprCurve",(function(){return l.Tr2ScalarExprCurve}))},"./unsupported/curve/expression/Tr2CurveEulerRotationExpression.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tr2CurveEulerRotationExpression",(function(){return z}));var i,n,a,o,s,l,u,c,f,d,h,m,b,p,v,g,y,w,E,T=r("./global/utils/index.js"),S=r("./global/math/index.js"),_=r("./unsupported/curve/expression/Tw2CurveExpression.js");function j(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function R(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var z=(i=T.meta.notImplemented,n=T.meta.type("Tr2CurveEulerRotationExpression"),a=T.meta.string,o=T.meta.list(),s=T.meta.expression,l=T.meta.expression,u=T.meta.expression,c=T.meta.quaternion,f=T.meta.isPrivate,i(d=n((E=w=class extends _.Tw2CurveExpression{constructor(...e){super(...e),j(this,"name",m,this),j(this,"inputs",b,this),j(this,"expressionPitch",p,this),j(this,"expressionRoll",v,this),j(this,"expressionYaw",g,this),j(this,"currentValue",y,this)}},w.inputDimension=1,w.outputDimension=4,w.valueProperty="currentValue",w.childProperties=["expressionPitch","expressionRoll","expressionYaw"],m=R((h=E).prototype,"name",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),b=R(h.prototype,"inputs",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),p=R(h.prototype,"expressionPitch",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),v=R(h.prototype,"expressionRoll",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),g=R(h.prototype,"expressionYaw",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),y=R(h.prototype,"currentValue",[c,f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return S.quat.create()}}),d=h))||d)||d)},"./unsupported/curve/expression/Tr2CurveScalarExpression.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tr2CurveScalarExpression",(function(){return x}));var i,n,a,o,s,l,u,c,f,d,h,m,b,p,v,g,y,w,E,T,S,_,j,R,z=r("./unsupported/curve/expression/Tw2CurveExpression.js"),O=r("./global/utils/index.js");function P(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function A(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var x=(i=O.meta.notImplemented,n=O.meta.type("Tr2CurveScalarExpression"),a=O.meta.string,o=O.meta.list(),s=O.meta.expression,l=O.meta.float,u=O.meta.todo("Figure out the default value"),c=O.meta.float,f=O.meta.todo("Figure out the default value"),d=O.meta.float,h=O.meta.todo("Figure out the default value"),m=O.meta.float,b=O.meta.isPrivate,i(p=n((R=j=class extends z.Tw2CurveExpression{constructor(...e){super(...e),P(this,"name",g,this),P(this,"inputs",y,this),P(this,"expression",w,this),P(this,"input1",E,this),P(this,"input2",T,this),P(this,"input3",S,this),P(this,"currentValue",_,this)}},j.inputDimension=1,j.outputDimension=1,j.valueProperty="currentValue",j.childProperties=["expression"],g=A((v=R).prototype,"name",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),y=A(v.prototype,"inputs",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),w=A(v.prototype,"expression",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),E=A(v.prototype,"input1",[l,u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return-1}}),T=A(v.prototype,"input2",[c,f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return-1}}),S=A(v.prototype,"input3",[d,h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return-1}}),_=A(v.prototype,"currentValue",[m,b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),p=v))||p)||p)},"./unsupported/curve/expression/Tr2CurveVector3Expression.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tr2CurveVector3Expression",(function(){return z}));var i,n,a,o,s,l,u,c,f,d,h,m,b,p,v,g,y,w,E,T=r("./global/utils/index.js"),S=r("./global/math/index.js"),_=r("./unsupported/curve/expression/Tw2CurveExpression.js");function j(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function R(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var z=(i=T.meta.notImplemented,n=T.meta.type("Tr2CurveVector3Expression"),a=T.meta.string,o=T.meta.list(),s=T.meta.expression,l=T.meta.expression,u=T.meta.expression,c=T.meta.vector3,f=T.meta.isPrivate,i(d=n((E=w=class extends _.Tw2CurveExpression{constructor(...e){super(...e),j(this,"name",m,this),j(this,"inputs",b,this),j(this,"expressionX",p,this),j(this,"expressionY",v,this),j(this,"expressionZ",g,this),j(this,"currentValue",y,this)}},w.inputDimension=1,w.outputDimension=3,w.valueProperty="currentValue",w.childProperties=["expressionX","expressionY","expressionZ"],m=R((h=E).prototype,"name",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),b=R(h.prototype,"inputs",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),p=R(h.prototype,"expressionX",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),v=R(h.prototype,"expressionY",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),g=R(h.prototype,"expressionZ",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),y=R(h.prototype,"currentValue",[c,f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return S.vec3.create()}}),d=h))||d)||d)},"./unsupported/curve/expression/Tw2CurveExpression.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tw2CurveExpression",(function(){return p}));var i,n,a,o,s,l,u,c,f,d=r("./global/utils/index.js"),h=r("./curve/index.js");function m(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function b(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var p=(i=d.meta.type("Tw2CurveExpression"),n=d.meta.string,a=d.meta.list(),i((f=c=class extends h.Tw2Curve{constructor(...e){super(...e),m(this,"name",l,this),m(this,"inputs",u,this)}UpdateValue(e){this.GetValueAt(e,this.currentValue)}},c.curveType=h.Tw2Curve.Type.EXPRESSION,l=b((s=f).prototype,"name",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),u=b(s.prototype,"inputs",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),o=s))||o)},"./unsupported/curve/expression/index.js":function(e,t,r){"use strict";r.r(t);var i=r("./unsupported/curve/expression/Tr2CurveEulerRotationExpression.js");r.d(t,"Tr2CurveEulerRotationExpression",(function(){return i.Tr2CurveEulerRotationExpression}));var n=r("./unsupported/curve/expression/Tr2CurveScalarExpression.js");r.d(t,"Tr2CurveScalarExpression",(function(){return n.Tr2CurveScalarExpression}));var a=r("./unsupported/curve/expression/Tr2CurveVector3Expression.js");r.d(t,"Tr2CurveVector3Expression",(function(){return a.Tr2CurveVector3Expression}));var o=r("./unsupported/curve/expression/Tw2CurveExpression.js");r.d(t,"Tw2CurveExpression",(function(){return o.Tw2CurveExpression}))},"./unsupported/curve/index.js":function(e,t,r){"use strict";r.r(t);var i=r("./unsupported/curve/adapter/index.js");r.d(t,"Tr2RotationAdapter",(function(){return i.Tr2RotationAdapter})),r.d(t,"Tr2TranslationAdapter",(function(){return i.Tr2TranslationAdapter}));var n=r("./unsupported/curve/curve/index.js");r.d(t,"AudEventKey",(function(){return n.AudEventKey})),r.d(t,"AudEventCurve",(function(){return n.AudEventCurve})),r.d(t,"Tr2BoneMatrixCurve",(function(){return n.Tr2BoneMatrixCurve})),r.d(t,"Tr2CurveConstant",(function(){return n.Tr2CurveConstant})),r.d(t,"Tw2CurveScalarKey",(function(){return n.Tw2CurveScalarKey})),r.d(t,"Tr2CurveScalar",(function(){return n.Tr2CurveScalar})),r.d(t,"Tr2ScalarExprKey",(function(){return n.Tr2ScalarExprKey})),r.d(t,"Tr2ScalarExprKeyCurve",(function(){return n.Tr2ScalarExprKeyCurve})),r.d(t,"Tr2ScalarExprCurve",(function(){return n.Tr2ScalarExprCurve}));var a=r("./unsupported/curve/expression/index.js");r.d(t,"Tr2CurveEulerRotationExpression",(function(){return a.Tr2CurveEulerRotationExpression})),r.d(t,"Tr2CurveScalarExpression",(function(){return a.Tr2CurveScalarExpression})),r.d(t,"Tr2CurveVector3Expression",(function(){return a.Tr2CurveVector3Expression})),r.d(t,"Tw2CurveExpression",(function(){return a.Tw2CurveExpression}));var o=r("./unsupported/curve/Tw2CurveSetRange.js");r.d(t,"Tw2CurveSetRange",(function(){return o.Tw2CurveSetRange}))},"./unsupported/eve/animation/EveAnimation.js":function(e,t,r){"use strict";r.r(t),r.d(t,"EveAnimation",(function(){return m}));var i,n,a,o,s,l,u,c,f=r("./global/utils/index.js");function d(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function h(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var m=(i=f.meta.notImplemented,n=f.meta.type("EveAnimation"),a=f.meta.string,o=f.meta.uint,i(s=n((u=h((l=class{constructor(){d(this,"name",u,this),d(this,"loops",c,this)}}).prototype,"name",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),c=h(l.prototype,"loops",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),s=l))||s)||s)},"./unsupported/eve/animation/EveAnimationCommand.js":function(e,t,r){"use strict";r.r(t),r.d(t,"EveAnimationCommand",(function(){return g}));var i,n,a,o,s,l,u,c,f=r("./global/utils/index.js");var d,h,m,b,p,v,g=(i=f.meta.notImplemented,n=f.meta.type("EveAnimationCommand"),a=f.meta.uint,o=f.meta.todo("Identify default value"),i(s=n((c=class{constructor(){var e,t,r,i;e=this,t="command",i=this,(r=u)&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}},d=(l=c).prototype,h="command",m=[a,o],b={configurable:!0,enumerable:!0,writable:!0,initializer:function(){return-1}},v={},Object.keys(b).forEach((function(e){v[e]=b[e]})),v.enumerable=!!v.enumerable,v.configurable=!!v.configurable,("value"in v||v.initializer)&&(v.writable=!0),v=m.slice().reverse().reduce((function(e,t){return t(d,h,e)||e}),v),p&&void 0!==v.initializer&&(v.value=v.initializer?v.initializer.call(p):void 0,v.initializer=void 0),void 0===v.initializer&&(Object.defineProperty(d,h,v),v=null),u=v,s=l))||s)||s)},"./unsupported/eve/animation/EveAnimationCurve.js":function(e,t,r){"use strict";r.r(t),r.d(t,"EveAnimationCurve",(function(){return v}));var i,n,a,o,s,l,u,c=r("./global/utils/index.js");var f,d,h,m,b,p,v=(i=c.meta.notImplemented,n=c.meta.type("EveAnimationCurve"),a=c.meta.string,i(o=n((u=class{constructor(){var e,t,r,i;e=this,t="name",i=this,(r=l)&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}},f=(s=u).prototype,d="name",h=[a],m={configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}},p={},Object.keys(m).forEach((function(e){p[e]=m[e]})),p.enumerable=!!p.enumerable,p.configurable=!!p.configurable,("value"in p||p.initializer)&&(p.writable=!0),p=h.slice().reverse().reduce((function(e,t){return t(f,d,e)||e}),p),b&&void 0!==p.initializer&&(p.value=p.initializer?p.initializer.call(b):void 0,p.initializer=void 0),void 0===p.initializer&&(Object.defineProperty(f,d,p),p=null),l=p,o=s))||o)||o)},"./unsupported/eve/animation/EveAnimationState.js":function(e,t,r){"use strict";r.r(t),r.d(t,"EveAnimationState",(function(){return S}));var i,n,a,o,s,l,u,c,f,d,h,m,b,p,v,g,y=r("./global/utils/index.js"),w=r("./unsupported/eve/animation/EveAnimationStateTransition.js");function E(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function T(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var S=(i=y.meta.notImplemented,n=y.meta.type("EveAnimationState"),a=y.meta.string,o=y.meta.struct("EveAnimationCurve"),s=y.meta.list("EveAnimationCommand"),l=y.meta.list("EveAnimationCommand"),u=y.meta.list("EveAnimationCommand"),c=y.meta.list(w.EveAnimationStateTransition),i(f=n((h=T((d=class{constructor(){E(this,"name",h,this),E(this,"animation",m,this),E(this,"curves",b,this),E(this,"commands",p,this),E(this,"initCommands",v,this),E(this,"transitions",g,this)}}).prototype,"name",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),m=T(d.prototype,"animation",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),b=T(d.prototype,"curves",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),p=T(d.prototype,"commands",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),v=T(d.prototype,"initCommands",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),g=T(d.prototype,"transitions",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),f=d))||f)||f)},"./unsupported/eve/animation/EveAnimationStateMachine.js":function(e,t,r){"use strict";r.r(t),r.d(t,"EveAnimationStateMachine",(function(){return T}));var i,n,a,o,s,l,u,c,f,d,h,m,b,p,v,g,y=r("./global/utils/index.js");function w(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function E(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var T=(i=y.meta.notImplemented,n=y.meta.type("EveAnimationStateMachine"),a=y.meta.string,o=y.meta.boolean,s=y.meta.list("EveAnimationState"),l=y.meta.list("EveAnimationStateTransition"),u=y.meta.string,c=y.meta.string,i(f=n((h=E((d=class{constructor(){w(this,"name",h,this),w(this,"autoPlayDefault",m,this),w(this,"states",b,this),w(this,"transitions",p,this),w(this,"trackMask",v,this),w(this,"defaultAnimation",g,this)}}).prototype,"name",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),m=E(d.prototype,"autoPlayDefault",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),b=E(d.prototype,"states",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),p=E(d.prototype,"transitions",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),v=E(d.prototype,"trackMask",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),g=E(d.prototype,"defaultAnimation",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),f=d))||f)||f)},"./unsupported/eve/animation/EveAnimationStateTransition.js":function(e,t,r){"use strict";r.r(t),r.d(t,"EveAnimationStateTransition",(function(){return m}));var i,n,a,o,s,l,u,c,f=r("./global/utils/index.js");function d(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function h(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var m=(i=f.meta.notImplemented,n=f.meta.type("EveAnimationStateTransition"),a=f.meta.string,o=f.meta.string,i(s=n((u=h((l=class e{constructor(){d(this,"state",u,this),d(this,"transition",c,this)}static blackStruct(t){var r=new e;return r.state=t.ReadStringU16(),t.ExpectU8(0,"unknown content"),t.ExpectU8(0,"unknown content"),t.ExpectU8(0,"unknown content"),t.ExpectU8(0,"unknown content"),t.ExpectU8(0,"unknown content"),t.ExpectU8(0,"unknown content"),r.transition=t.ReadStringU16(),t.ExpectU8(0,"unknown content"),t.ExpectU8(0,"unknown content"),t.ExpectU8(0,"unknown content"),t.ExpectU8(0,"unknown content"),t.ExpectU8(0,"unknown content"),t.ExpectU8(0,"unknown content"),r}}).prototype,"state",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),c=h(l.prototype,"transition",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),s=l))||s)||s)},"./unsupported/eve/animation/index.js":function(e,t,r){"use strict";r.r(t);var i=r("./unsupported/eve/animation/EveAnimation.js");r.d(t,"EveAnimation",(function(){return i.EveAnimation}));var n=r("./unsupported/eve/animation/EveAnimationCommand.js");r.d(t,"EveAnimationCommand",(function(){return n.EveAnimationCommand}));var a=r("./unsupported/eve/animation/EveAnimationCurve.js");r.d(t,"EveAnimationCurve",(function(){return a.EveAnimationCurve}));var o=r("./unsupported/eve/animation/EveAnimationState.js");r.d(t,"EveAnimationState",(function(){return o.EveAnimationState}));var s=r("./unsupported/eve/animation/EveAnimationStateMachine.js");r.d(t,"EveAnimationStateMachine",(function(){return s.EveAnimationStateMachine}))},"./unsupported/eve/child/EveChildBulletStorm.js":function(e,t,r){"use strict";r.r(t),r.d(t,"EveChildBulletStorm",(function(){return T}));var i,n,a,o,s,l,u,c,f,d,h,m,b,p,v,g=r("./eve/child/index.js"),y=r("./global/utils/index.js");function w(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function E(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var T=(i=y.meta.notImplemented,n=y.meta.type("EveChildBulletStorm"),a=y.meta.struct("Tw2Effect"),o=y.meta.uint,s=y.meta.float,l=y.meta.string,u=y.meta.float,i(c=n((v=class extends g.EveChild{constructor(...e){super(...e),w(this,"effect",d,this),w(this,"multiplier",h,this),w(this,"range",m,this),w(this,"sourceLocatorSet",b,this),w(this,"speed",p,this)}GetResources(e=[]){return this.effect&&this.effect.GetResources(e),e}},d=E((f=v).prototype,"effect",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),h=E(f.prototype,"multiplier",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),m=E(f.prototype,"range",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),b=E(f.prototype,"sourceLocatorSet",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),p=E(f.prototype,"speed",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),c=f))||c)||c)},"./unsupported/eve/child/EveChildCloud.js":function(e,t,r){"use strict";r.r(t),r.d(t,"EveChildCloud",(function(){return P}));var i,n,a,o,s,l,u,c,f,d,h,m,b,p,v,g,y,w,E,T,S,_=r("./global/utils/index.js"),j=r("./global/math/index.js"),R=r("./eve/child/index.js");function z(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function O(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var P=(i=_.meta.notImplemented,n=_.meta.type("EveChildCloud"),a=_.meta.string,o=_.meta.float,s=_.meta.struct("Tw2Effect"),l=_.meta.uint,u=_.meta.quaternion,c=_.meta.vector3,f=_.meta.float,d=_.meta.vector3,i(h=n((S=class extends R.EveChild{constructor(...e){super(...e),z(this,"name",b,this),z(this,"cellScreenSize",p,this),z(this,"effect",v,this),z(this,"preTesselationLevel",g,this),z(this,"rotation",y,this),z(this,"scaling",w,this),z(this,"sortingModifier",E,this),z(this,"translation",T,this)}GetResources(e=[]){return this.effect&&this.effect.GetResources(e),e}},b=O((m=S).prototype,"name",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),p=O(m.prototype,"cellScreenSize",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),v=O(m.prototype,"effect",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),g=O(m.prototype,"preTesselationLevel",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),y=O(m.prototype,"rotation",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return j.quat.create()}}),w=O(m.prototype,"scaling",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return j.vec3.fromValues(1,1,1)}}),E=O(m.prototype,"sortingModifier",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),T=O(m.prototype,"translation",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return j.vec3.create()}}),h=m))||h)||h)},"./unsupported/eve/child/EveChildExplosion.js":function(e,t,r){"use strict";r.r(t),r.d(t,"EveChildExplosion",(function(){return U}));var i,n,a,o,s,l,u,c,f,d,h,m,b,p,v,g,y,w,E,T,S,_,j,R,z,O,P,A,x,M,C,D,I,L=r("./global/utils/index.js"),F=r("./global/math/index.js"),G=r("./eve/child/index.js");function B(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function N(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var U=(i=L.meta.notImplemented,n=L.meta.type("EveChildExplosion"),a=L.meta.string,o=L.meta.float,s=L.meta.struct("EveChildExplosion"),l=L.meta.float,u=L.meta.vector3,c=L.meta.float,f=L.meta.struct("EveChildExplosion"),d=L.meta.float,h=L.meta.float,m=L.meta.struct("EveChildExplosion"),b=L.meta.list("EveChildExplosion"),p=L.meta.matrix4,v=L.meta.quaternion,g=L.meta.vector3,i(y=n((I=class extends G.EveChild{constructor(...e){super(...e),B(this,"name",E,this),B(this,"globalDuration",T,this),B(this,"globalExplosion",S,this),B(this,"globalExplosionDelay",_,this),B(this,"globalScaling",j,this),B(this,"localDuration",R,this),B(this,"localExplosion",z,this),B(this,"localExplosionInterval",O,this),B(this,"localExplosionIntervalFactor",P,this),B(this,"localExplosionShared",A,this),B(this,"localExplosions",x,this),B(this,"localTransform",M,this),B(this,"rotation",C,this),B(this,"scaling",D,this)}GetResources(e=[]){this.localExplosion&&this.localExplosion.GetResources(e),this.localExplosionShared&&this.localExplosionShared.GetResources(e);for(var t=0;t<this.localExplosions.length;t++)this.localExplosions[t].GetResources(e);return e}},E=N((w=I).prototype,"name",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),T=N(w.prototype,"globalDuration",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),S=N(w.prototype,"globalExplosion",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_=N(w.prototype,"globalExplosionDelay",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),j=N(w.prototype,"globalScaling",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return F.vec3.fromValues(1,1,1)}}),R=N(w.prototype,"localDuration",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),z=N(w.prototype,"localExplosion",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),O=N(w.prototype,"localExplosionInterval",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),P=N(w.prototype,"localExplosionIntervalFactor",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),A=N(w.prototype,"localExplosionShared",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),x=N(w.prototype,"localExplosions",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),M=N(w.prototype,"localTransform",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return F.mat4.create()}}),C=N(w.prototype,"rotation",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return F.quat.create()}}),D=N(w.prototype,"scaling",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return F.vec3.fromValues(1,1,1)}}),y=w))||y)||y)},"./unsupported/eve/child/EveChildInheritProperties.js":function(e,t,r){"use strict";r.r(t),r.d(t,"EveChildInheritProperties",(function(){return a}));var i,n=r("./global/utils/index.js"),a=(0,n.meta.notImplemented)(i=n.meta.type("EveChildInheritProperties")(i=class extends n.meta.Model{})||i)||i},"./unsupported/eve/child/EveChildLink.js":function(e,t,r){"use strict";r.r(t),r.d(t,"EveChildLink",(function(){return S}));var i,n,a,o,s,l,u,c,f,d,h,m,b,p,v,g=r("./global/utils/index.js"),y=r("./global/math/index.js"),w=r("./eve/child/index.js");function E(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function T(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var S=(i=g.meta.notImplemented,n=g.meta.type("EveChildLink"),a=g.meta.string,o=g.meta.list("Tw2ValueBinding"),s=g.meta.list("Tw2Curve"),l=g.meta.struct("Tw2Mesh"),u=g.meta.quaternion,i(c=n((v=class extends w.EveChild{constructor(...e){super(...e),E(this,"name",d,this),E(this,"linkStrengthBindings",h,this),E(this,"linkStrengthCurves",m,this),E(this,"mesh",b,this),E(this,"rotation",p,this)}GetResources(e=[]){return this.mesh&&this.mesh.GetResources(e),e}},d=T((f=v).prototype,"name",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),h=T(f.prototype,"linkStrengthBindings",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),m=T(f.prototype,"linkStrengthCurves",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),b=T(f.prototype,"mesh",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),p=T(f.prototype,"rotation",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return y.quat.create()}}),c=f))||c)||c)},"./unsupported/eve/child/EveChildParticleSphere.js":function(e,t,r){"use strict";r.r(t),r.d(t,"EveChildParticleSphere",(function(){return L}));var i,n,a,o,s,l,u,c,f,d,h,m,b,p,v,g,y,w,E,T,S,_,j,R,z,O,P,A,x,M=r("./global/utils/index.js"),C=r("./eve/child/index.js");function D(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function I(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var L=(i=M.meta.notImplemented,n=M.meta.type("EveChildParticleSphere"),a=M.meta.string,o=M.meta.list("Tw2ParticleAttributeGenerator"),s=M.meta.float,l=M.meta.struct("Tw2InstancedMesh"),u=M.meta.float,c=M.meta.struct("Tw2ParticleSystem"),f=M.meta.float,d=M.meta.float,h=M.meta.float,m=M.meta.float,b=M.meta.float,p=M.meta.boolean,i(v=n((x=class extends C.EveChild{constructor(...e){super(...e),D(this,"name",y,this),D(this,"generators",w,this),D(this,"maxSpeed",E,this),D(this,"mesh",T,this),D(this,"movementScale",S,this),D(this,"particleSystem",_,this),D(this,"positionShiftDecreaseSpeed",j,this),D(this,"positionShiftIncreaseSpeed",R,this),D(this,"positionShiftMax",z,this),D(this,"positionShiftMin",O,this),D(this,"radius",P,this),D(this,"useSpaceObjectData",A,this)}GetResources(e=[]){return this.mesh&&this.mesh.GetResources(e),this.particleSystem&&this.particleSystem.GetResources&&this.particleSystem.GetResources(e),e}},y=I((g=x).prototype,"name",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),w=I(g.prototype,"generators",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),E=I(g.prototype,"maxSpeed",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),T=I(g.prototype,"mesh",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),S=I(g.prototype,"movementScale",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),_=I(g.prototype,"particleSystem",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),j=I(g.prototype,"positionShiftDecreaseSpeed",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),R=I(g.prototype,"positionShiftIncreaseSpeed",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),z=I(g.prototype,"positionShiftMax",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),O=I(g.prototype,"positionShiftMin",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),P=I(g.prototype,"radius",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),A=I(g.prototype,"useSpaceObjectData",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),v=g))||v)||v)},"./unsupported/eve/child/EveChildQuad.js":function(e,t,r){"use strict";r.r(t),r.d(t,"EveChildQuad",(function(){return x}));var i,n,a,o,s,l,u,c,f,d,h,m,b,p,v,g,y,w,E,T,S,_,j,R=r("./global/utils/index.js"),z=r("./global/math/index.js"),O=r("./eve/child/index.js");function P(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function A(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var x=(i=R.meta.notImplemented,n=R.meta.type("EveChildQuad"),a=R.meta.string,o=R.meta.float,s=R.meta.color,l=R.meta.struct(),u=R.meta.matrix4,c=R.meta.float,f=R.meta.quaternion,d=R.meta.vector3,h=R.meta.vector3,i(m=n((j=class extends O.EveChild{constructor(...e){super(...e),P(this,"name",p,this),P(this,"brightness",v,this),P(this,"color",g,this),P(this,"effect",y,this),P(this,"localTransform",w,this),P(this,"minScreenSize",E,this),P(this,"rotation",T,this),P(this,"scaling",S,this),P(this,"translation",_,this)}GetResources(e=[]){return this.effect&&this.effect.GetResources(e),e}},p=A((b=j).prototype,"name",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),v=A(b.prototype,"brightness",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),g=A(b.prototype,"color",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return z.vec4.create()}}),y=A(b.prototype,"effect",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),w=A(b.prototype,"localTransform",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return z.mat4.create()}}),E=A(b.prototype,"minScreenSize",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),T=A(b.prototype,"rotation",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return z.quat.create()}}),S=A(b.prototype,"scaling",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return z.vec3.fromValues(1,1,1)}}),_=A(b.prototype,"translation",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return z.vec3.create()}}),m=b))||m)||m)},"./unsupported/eve/child/index.js":function(e,t,r){"use strict";r.r(t);var i=r("./unsupported/eve/child/modifier/index.js");r.d(t,"EveChildModifierAttachToBone",(function(){return i.EveChildModifierAttachToBone})),r.d(t,"EveChildModifierBillboard2D",(function(){return i.EveChildModifierBillboard2D})),r.d(t,"EveChildModifierBillboard3D",(function(){return i.EveChildModifierBillboard3D})),r.d(t,"EveChildModifierCameraOrientedRotationConstrained",(function(){return i.EveChildModifierCameraOrientedRotationConstrained})),r.d(t,"EveChildModifierHalo",(function(){return i.EveChildModifierHalo})),r.d(t,"EveChildModifierSRT",(function(){return i.EveChildModifierSRT})),r.d(t,"EveChildModifierTranslateWithCamera",(function(){return i.EveChildModifierTranslateWithCamera}));var n=r("./unsupported/eve/child/EveChildBulletStorm.js");r.d(t,"EveChildBulletStorm",(function(){return n.EveChildBulletStorm}));var a=r("./unsupported/eve/child/EveChildCloud.js");r.d(t,"EveChildCloud",(function(){return a.EveChildCloud}));var o=r("./unsupported/eve/child/EveChildExplosion.js");r.d(t,"EveChildExplosion",(function(){return o.EveChildExplosion}));var s=r("./unsupported/eve/child/EveChildInheritProperties.js");r.d(t,"EveChildInheritProperties",(function(){return s.EveChildInheritProperties}));var l=r("./unsupported/eve/child/EveChildLink.js");r.d(t,"EveChildLink",(function(){return l.EveChildLink}));var u=r("./unsupported/eve/child/EveChildParticleSphere.js");r.d(t,"EveChildParticleSphere",(function(){return u.EveChildParticleSphere}));var c=r("./unsupported/eve/child/EveChildQuad.js");r.d(t,"EveChildQuad",(function(){return c.EveChildQuad}))},"./unsupported/eve/child/modifier/EveChildModifier.js":function(e,t,r){"use strict";r.r(t),r.d(t,"EveChildModifier",(function(){return a}));var i,n=r("./global/utils/index.js"),a=n.meta.type("EveChildModifier")(i=class extends n.meta.Model{})||i},"./unsupported/eve/child/modifier/EveChildModifierAttachToBone.js":function(e,t,r){"use strict";r.r(t),r.d(t,"EveChildModifierAttachToBone",(function(){return g}));var i,n,a,o,s,l,u,c=r("./global/utils/index.js"),f=r("./unsupported/eve/child/modifier/EveChildModifier.js");var d,h,m,b,p,v,g=(i=c.meta.notImplemented,n=c.meta.type("EveChildModifierAttachToBone"),a=c.meta.uint,i(o=n((u=class extends f.EveChildModifier{constructor(...e){var t,r,i,n;super(...e),t=this,r="boneIndex",n=this,(i=l)&&Object.defineProperty(t,r,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}},d=(s=u).prototype,h="boneIndex",m=[a],b={configurable:!0,enumerable:!0,writable:!0,initializer:function(){return-1}},v={},Object.keys(b).forEach((function(e){v[e]=b[e]})),v.enumerable=!!v.enumerable,v.configurable=!!v.configurable,("value"in v||v.initializer)&&(v.writable=!0),v=m.slice().reverse().reduce((function(e,t){return t(d,h,e)||e}),v),p&&void 0!==v.initializer&&(v.value=v.initializer?v.initializer.call(p):void 0,v.initializer=void 0),void 0===v.initializer&&(Object.defineProperty(d,h,v),v=null),l=v,o=s))||o)||o)},"./unsupported/eve/child/modifier/EveChildModifierBillboard2D.js":function(e,t,r){"use strict";r.r(t),r.d(t,"EveChildModifierBillboard2D",(function(){return o}));var i,n=r("./global/utils/index.js"),a=r("./unsupported/eve/child/modifier/EveChildModifier.js"),o=(0,n.meta.notImplemented)(i=n.meta.type("EveChildModifierBillboard2D")(i=class extends a.EveChildModifier{})||i)||i},"./unsupported/eve/child/modifier/EveChildModifierBillboard3D.js":function(e,t,r){"use strict";r.r(t),r.d(t,"EveChildModifierBillboard3D",(function(){return o}));var i,n=r("./global/utils/index.js"),a=r("./unsupported/eve/child/modifier/EveChildModifier.js"),o=(0,n.meta.notImplemented)(i=n.meta.type("EveChildModifierBillboard3D")(i=class extends a.EveChildModifier{})||i)||i},"./unsupported/eve/child/modifier/EveChildModifierCameraOrientedRotationConstrained.js":function(e,t,r){"use strict";r.r(t),r.d(t,"EveChildModifierCameraOrientedRotationConstrained",(function(){return o}));var i,n=r("./global/utils/index.js"),a=r("./unsupported/eve/child/modifier/EveChildModifier.js"),o=(0,n.meta.notImplemented)(i=n.meta.type("EveChildModifierCameraOrientedRotationConstrained")(i=class extends a.EveChildModifier{})||i)||i},"./unsupported/eve/child/modifier/EveChildModifierHalo.js":function(e,t,r){"use strict";r.r(t),r.d(t,"EveChildModifierHalo",(function(){return o}));var i,n=r("./unsupported/eve/child/modifier/EveChildModifier.js"),a=r("./global/utils/index.js"),o=(0,a.meta.notImplemented)(i=a.meta.type("EveChildModifierHalo")(i=class extends n.EveChildModifier{})||i)||i},"./unsupported/eve/child/modifier/EveChildModifierSRT.js":function(e,t,r){"use strict";r.r(t),r.d(t,"EveChildModifierSRT",(function(){return y}));var i,n,a,o,s,l,u,c,f,d,h,m=r("./global/utils/index.js"),b=r("./global/math/index.js"),p=r("./unsupported/eve/child/modifier/EveChildModifier.js");function v(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function g(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var y=(i=m.meta.notImplemented,n=m.meta.type("EveChildModifierSRT"),a=m.meta.quaternion,o=m.meta.vector3,s=m.meta.vector3,i(l=n((h=class extends p.EveChildModifier{constructor(...e){super(...e),v(this,"rotation",c,this),v(this,"scaling",f,this),v(this,"translation",d,this)}},c=g((u=h).prototype,"rotation",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return b.quat.create()}}),f=g(u.prototype,"scaling",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return b.vec3.fromValues(1,1,1)}}),d=g(u.prototype,"translation",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return b.vec3.create()}}),l=u))||l)||l)},"./unsupported/eve/child/modifier/EveChildModifierTranslateWithCamera.js":function(e,t,r){"use strict";r.r(t),r.d(t,"EveChildModifierTranslateWithCamera",(function(){return o}));var i,n=r("./global/utils/index.js"),a=r("./unsupported/eve/child/modifier/EveChildModifier.js"),o=(0,n.meta.notImplemented)(i=n.meta.type("EveChildModifierTranslateWithCamera")(i=class extends a.EveChildModifier{})||i)||i},"./unsupported/eve/child/modifier/index.js":function(e,t,r){"use strict";r.r(t);var i=r("./unsupported/eve/child/modifier/EveChildModifierAttachToBone.js");r.d(t,"EveChildModifierAttachToBone",(function(){return i.EveChildModifierAttachToBone}));var n=r("./unsupported/eve/child/modifier/EveChildModifierBillboard2D.js");r.d(t,"EveChildModifierBillboard2D",(function(){return n.EveChildModifierBillboard2D}));var a=r("./unsupported/eve/child/modifier/EveChildModifierBillboard3D.js");r.d(t,"EveChildModifierBillboard3D",(function(){return a.EveChildModifierBillboard3D}));var o=r("./unsupported/eve/child/modifier/EveChildModifierCameraOrientedRotationConstrained.js");r.d(t,"EveChildModifierCameraOrientedRotationConstrained",(function(){return o.EveChildModifierCameraOrientedRotationConstrained}));var s=r("./unsupported/eve/child/modifier/EveChildModifierHalo.js");r.d(t,"EveChildModifierHalo",(function(){return s.EveChildModifierHalo}));var l=r("./unsupported/eve/child/modifier/EveChildModifierSRT.js");r.d(t,"EveChildModifierSRT",(function(){return l.EveChildModifierSRT}));var u=r("./unsupported/eve/child/modifier/EveChildModifierTranslateWithCamera.js");r.d(t,"EveChildModifierTranslateWithCamera",(function(){return u.EveChildModifierTranslateWithCamera}))},"./unsupported/eve/effect/EveStarfield.js":function(e,t,r){"use strict";r.r(t),r.d(t,"EveStarfield",(function(){return z}));var i,n,a,o,s,l,u,c,f,d,h,m,b,p,v,g,y,w,E,T,S,_=r("./global/utils/index.js");function j(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function R(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var z=(i=_.meta.notImplemented,n=_.meta.type("EveStarfield"),a=_.meta.struct("Tw2Effect"),o=_.meta.float,s=_.meta.float,l=_.meta.float,u=_.meta.float,c=_.meta.float,f=_.meta.uint,d=_.meta.uint,i(h=n((S=class extends _.meta.Model{constructor(...e){super(...e),j(this,"effect",b,this),j(this,"maxDist",p,this),j(this,"maxFlashRate",v,this),j(this,"minDist",g,this),j(this,"minFlashIntensity",y,this),j(this,"minFlashRate",w,this),j(this,"numStars",E,this),j(this,"seed",T,this)}},b=R((m=S).prototype,"effect",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),p=R(m.prototype,"maxDist",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),v=R(m.prototype,"maxFlashRate",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),g=R(m.prototype,"minDist",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),y=R(m.prototype,"minFlashIntensity",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),w=R(m.prototype,"minFlashRate",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),E=R(m.prototype,"numStars",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),T=R(m.prototype,"seed",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),h=m))||h)||h)},"./unsupported/eve/effect/EveStretch2.js":function(e,t,r){"use strict";r.r(t),r.d(t,"EveStretch2",(function(){return z}));var i,n,a,o,s,l,u,c,f,d,h,m,b,p,v,g,y,w,E,T,S,_=r("./global/utils/index.js");function j(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function R(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var z=(i=_.meta.notImplemented,n=_.meta.type("EveStretch2"),a=_.meta.string,o=_.meta.struct(),s=_.meta.struct(),l=_.meta.struct("Tw2Effect"),u=_.meta.struct("Tw2CurveSet"),c=_.meta.struct(),f=_.meta.struct(),d=_.meta.uint,i(h=n((S=class extends _.meta.Model{constructor(...e){super(...e),j(this,"name",b,this),j(this,"destinationEmitter",p,this),j(this,"destinationLight",v,this),j(this,"effect",g,this),j(this,"loop",y,this),j(this,"sourceEmitter",w,this),j(this,"sourceLight",E,this),j(this,"quadCount",T,this)}},b=R((m=S).prototype,"name",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),p=R(m.prototype,"destinationEmitter",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),v=R(m.prototype,"destinationLight",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),g=R(m.prototype,"effect",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),y=R(m.prototype,"loop",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),w=R(m.prototype,"sourceEmitter",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),E=R(m.prototype,"sourceLight",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),T=R(m.prototype,"quadCount",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),h=m))||h)||h)},"./unsupported/eve/effect/index.js":function(e,t,r){"use strict";r.r(t);var i=r("./unsupported/eve/effect/EveStarfield.js");r.d(t,"EveStarfield",(function(){return i.EveStarfield}));var n=r("./unsupported/eve/effect/EveStretch2.js");r.d(t,"EveStretch2",(function(){return n.EveStretch2}))},"./unsupported/eve/index.js":function(e,t,r){"use strict";r.r(t);var i=r("./unsupported/eve/animation/index.js");r.d(t,"EveAnimation",(function(){return i.EveAnimation})),r.d(t,"EveAnimationCommand",(function(){return i.EveAnimationCommand})),r.d(t,"EveAnimationCurve",(function(){return i.EveAnimationCurve})),r.d(t,"EveAnimationState",(function(){return i.EveAnimationState})),r.d(t,"EveAnimationStateMachine",(function(){return i.EveAnimationStateMachine}));var n=r("./unsupported/eve/child/index.js");r.d(t,"EveChildModifierAttachToBone",(function(){return n.EveChildModifierAttachToBone})),r.d(t,"EveChildModifierBillboard2D",(function(){return n.EveChildModifierBillboard2D})),r.d(t,"EveChildModifierBillboard3D",(function(){return n.EveChildModifierBillboard3D})),r.d(t,"EveChildModifierCameraOrientedRotationConstrained",(function(){return n.EveChildModifierCameraOrientedRotationConstrained})),r.d(t,"EveChildModifierHalo",(function(){return n.EveChildModifierHalo})),r.d(t,"EveChildModifierSRT",(function(){return n.EveChildModifierSRT})),r.d(t,"EveChildModifierTranslateWithCamera",(function(){return n.EveChildModifierTranslateWithCamera})),r.d(t,"EveChildBulletStorm",(function(){return n.EveChildBulletStorm})),r.d(t,"EveChildCloud",(function(){return n.EveChildCloud})),r.d(t,"EveChildExplosion",(function(){return n.EveChildExplosion})),r.d(t,"EveChildInheritProperties",(function(){return n.EveChildInheritProperties})),r.d(t,"EveChildLink",(function(){return n.EveChildLink})),r.d(t,"EveChildParticleSphere",(function(){return n.EveChildParticleSphere})),r.d(t,"EveChildQuad",(function(){return n.EveChildQuad}));var a=r("./unsupported/eve/effect/index.js");r.d(t,"EveStarfield",(function(){return a.EveStarfield})),r.d(t,"EveStretch2",(function(){return a.EveStretch2}));var o=r("./unsupported/eve/item/index.js");r.d(t,"EveBanner",(function(){return o.EveBanner})),r.d(t,"EveBoosterSet2Batch",(function(){return o.EveBoosterSet2Batch})),r.d(t,"EveBoosterSet2Item",(function(){return o.EveBoosterSet2Item})),r.d(t,"EveBoosterSet2",(function(){return o.EveBoosterSet2})),r.d(t,"EveHazeSetBatch",(function(){return o.EveHazeSetBatch})),r.d(t,"EveHazeSetItem",(function(){return o.EveHazeSetItem})),r.d(t,"EveHazeSet",(function(){return o.EveHazeSet})),r.d(t,"EveSpriteLineSetBatch",(function(){return o.EveSpriteLineSetBatch})),r.d(t,"EveSpriteLineSetItem",(function(){return o.EveSpriteLineSetItem})),r.d(t,"EveSpriteLineSet",(function(){return o.EveSpriteLineSet})),r.d(t,"EveTrailSetRenderBatch",(function(){return o.EveTrailSetRenderBatch})),r.d(t,"EveTrailsSet",(function(){return o.EveTrailsSet}));var s=r("./unsupported/eve/object/index.js");r.d(t,"EveEffectRoot2",(function(){return s.EveEffectRoot2})),r.d(t,"EveMobile",(function(){return s.EveMobile})),r.d(t,"EveRootTransform",(function(){return s.EveRootTransform})),r.d(t,"EveShip2",(function(){return s.EveShip2})),r.d(t,"EveStation2",(function(){return s.EveStation2}));var l=r("./unsupported/eve/particle/index.js");r.d(t,"EveParticleDirectForce",(function(){return l.EveParticleDirectForce})),r.d(t,"EveParticleDragForce",(function(){return l.EveParticleDragForce}));var u=r("./unsupported/eve/pi/index.js");r.d(t,"EveConnector",(function(){return u.EveConnector})),r.d(t,"EveLocalPositionCurve",(function(){return u.EveLocalPositionCurve})),r.d(t,"EveSpherePin",(function(){return u.EveSpherePin}));var c=r("./unsupported/eve/ui/index.js");r.d(t,"EveTacticalOverlay",(function(){return c.EveTacticalOverlay})),r.d(t,"EveUiObject",(function(){return c.EveUiObject}))},"./unsupported/eve/item/EveBanner.js":function(e,t,r){"use strict";r.r(t),r.d(t,"EveBanner",(function(){return M}));var i,n,a,o,s,l,u,c,f,d,h,m,b,p,v,g,y,w,E,T,S,_,j,R,z,O=r("./global/utils/index.js"),P=r("./global/math/index.js");function A(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function x(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var M=(i=O.meta.type("EveBanner"),n=O.meta.notImplemented,a=O.meta.string,o=O.meta.float,s=O.meta.float,l=O.meta.uint,u=O.meta.boolean,c=O.meta.vector3,f=O.meta.quaternion,d=O.meta.vector3,h=O.meta.uint,m=O.meta.matrix4,i(b=n((z=class extends O.meta.Model{constructor(...e){super(...e),A(this,"name",v,this),A(this,"angleX",g,this),A(this,"angleY",y,this),A(this,"boneIndex",w,this),A(this,"display",E,this),A(this,"position",T,this),A(this,"rotation",S,this),A(this,"scaling",_,this),A(this,"usage",j,this),A(this,"transform",R,this)}OnValueChanged(){P.mat4.fromRotationTranslationScale(this.transform,this.rotation,this.position,this.scaling)}},v=x((p=z).prototype,"name",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),g=x(p.prototype,"angleX",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),y=x(p.prototype,"angleY",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),w=x(p.prototype,"boneIndex",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),E=x(p.prototype,"display",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),T=x(p.prototype,"position",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return P.vec3.create()}}),S=x(p.prototype,"rotation",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return P.quat.create()}}),_=x(p.prototype,"scaling",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return P.vec3.fromValues(1,1,1)}}),j=x(p.prototype,"usage",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),R=x(p.prototype,"transform",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return P.mat4.create()}}),b=p))||b)||b)},"./unsupported/eve/item/EveBoosterSet2.js":function(e,t,r){"use strict";r.r(t),r.d(t,"EveBoosterSet2Batch",(function(){return ee})),r.d(t,"EveBoosterSet2Item",(function(){return te})),r.d(t,"EveBoosterSet2",(function(){return re}));var i,n,a,o,s,l,u,c,f,d,h,m,b,p,v,g,y,w,E,T,S,_,j,R,z,O,P,A,x,M,C,D,I,L,F,G,B,N,U,k,V,H,q,W,Y,X=r("./global/utils/index.js"),K=r("./global/math/index.js"),Q=r("./core/index.js"),Z=r("./eve/index.js");function $(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function J(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var ee=(0,X.meta.notImplemented)(i=class extends Q.Tw2RenderBatch{constructor(...e){super(...e),this.boosterSet=null}Commit(e){this.boosterSet.Render(e)}})||i,te=(0,X.meta.notImplemented)(n=X.meta.type("EveBoosterSet2Item")(n=class extends Z.EveObjectSetItem{})||n)||n,re=(a=X.meta.notImplemented,o=X.meta.type("EveBoosterSet2"),s=X.meta.boolean,l=X.meta.float,u=X.meta.struct("Tw2Effect"),c=X.meta.color,f=X.meta.float,d=X.meta.struct("EveSpriteSet"),h=X.meta.color,m=X.meta.float,b=X.meta.float,p=X.meta.color,v=X.meta.float,g=X.meta.float,y=X.meta.float,w=X.meta.color,E=X.meta.float,T=X.meta.float,S=X.meta.struct("EveTrailsSet"),_=X.meta.color,j=X.meta.color,a(R=o((Y=class extends Z.EveObjectSet{constructor(...e){super(...e),$(this,"alwaysOn",O,this),$(this,"alwaysOnIntensity",P,this),$(this,"effect",A,this),$(this,"glowColor",x,this),$(this,"glowScale",M,this),$(this,"glows",C,this),$(this,"haloColor",D,this),$(this,"haloScaleX",I,this),$(this,"haloScaleY",L,this),$(this,"lightColor",F,this),$(this,"lightFlickerAmplitude",G,this),$(this,"lightFlickerFrequency",B,this),$(this,"lightRadius",N,this),$(this,"lightWarpColor",U,this),$(this,"lightWarpRadius",k,this),$(this,"symHaloScale",V,this),$(this,"trails",H,this),$(this,"warpGlowColor",q,this),$(this,"warpHaloColor",W,this)}},O=J((z=Y).prototype,"alwaysOn",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),P=J(z.prototype,"alwaysOnIntensity",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),A=J(z.prototype,"effect",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),x=J(z.prototype,"glowColor",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return K.vec4.create()}}),M=J(z.prototype,"glowScale",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),C=J(z.prototype,"glows",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),D=J(z.prototype,"haloColor",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return K.vec4.create()}}),I=J(z.prototype,"haloScaleX",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),L=J(z.prototype,"haloScaleY",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),F=J(z.prototype,"lightColor",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return K.vec4.create()}}),G=J(z.prototype,"lightFlickerAmplitude",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),B=J(z.prototype,"lightFlickerFrequency",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),N=J(z.prototype,"lightRadius",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),U=J(z.prototype,"lightWarpColor",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return K.vec4.create()}}),k=J(z.prototype,"lightWarpRadius",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),V=J(z.prototype,"symHaloScale",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),H=J(z.prototype,"trails",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),q=J(z.prototype,"warpGlowColor",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return K.vec4.create()}}),W=J(z.prototype,"warpHaloColor",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return K.vec4.create()}}),R=z))||R)||R)},"./unsupported/eve/item/EveHazeSet.js":function(e,t,r){"use strict";r.r(t),r.d(t,"EveHazeSetBatch",(function(){return D})),r.d(t,"EveHazeSetItem",(function(){return I})),r.d(t,"EveHazeSet",(function(){return L}));var i,n,a,o,s,l,u,c,f,d,h,m,b,p,v,g,y,w,E,T,S,_,j,R,z,O=r("./global/utils/index.js"),P=r("./global/math/index.js"),A=r("./core/index.js"),x=r("./eve/index.js");function M(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function C(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var D=(0,O.meta.notImplemented)(i=class extends A.Tw2RenderBatch{constructor(...e){super(...e),this.hazeSet=null}Commit(e){this.hazeSet.Render(e)}})||i,I=(n=O.meta.notImplemented,a=O.meta.type("EveHazeSetItem"),o=O.meta.boolean,s=O.meta.uint,l=O.meta.float,u=O.meta.float,c=O.meta.vector3,f=O.meta.quaternion,d=O.meta.vector3,h=O.meta.float,m=O.meta.float,n(b=a((R=class extends x.EveObjectSetItem{constructor(...e){super(...e),M(this,"boosterGainInfluence",v,this),M(this,"colorType",g,this),M(this,"hazeBrightness",y,this),M(this,"hazeFalloff",w,this),M(this,"position",E,this),M(this,"rotation",T,this),M(this,"scaling",S,this),M(this,"sourceBrightness",_,this),M(this,"sourceSize",j,this),this._transform=P.mat4.create()}OnValueChanged(){P.mat4.fromRotationTranslationScale(this._transform,this.rotation,this.position,this.scaling),this._dirty=!0}},v=C((p=R).prototype,"boosterGainInfluence",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),g=C(p.prototype,"colorType",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),y=C(p.prototype,"hazeBrightness",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),w=C(p.prototype,"hazeFalloff",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),E=C(p.prototype,"position",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return P.vec3.create()}}),T=C(p.prototype,"rotation",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return P.quat.create()}}),S=C(p.prototype,"scaling",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return P.vec3.fromValues(1,1,1)}}),_=C(p.prototype,"sourceBrightness",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),j=C(p.prototype,"sourceSize",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),b=p))||b)||b),L=(0,O.meta.notImplemented)(z=O.meta.type("EveHazeSet")(z=class extends x.EveObjectSet{})||z)||z},"./unsupported/eve/item/EveSpriteLineSet.js":function(e,t,r){"use strict";r.r(t),r.d(t,"EveSpriteLineSetBatch",(function(){return Y})),r.d(t,"EveSpriteLineSetItem",(function(){return X})),r.d(t,"EveSpriteLineSet",(function(){return K}));var i,n,a,o,s,l,u,c,f,d,h,m,b,p,v,g,y,w,E,T,S,_,j,R,z,O,P,A,x,M,C,D,I,L,F,G,B,N,U,k=r("./global/utils/index.js"),V=r("./global/math/index.js"),H=r("./eve/index.js");function q(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function W(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var Y=(0,k.meta.notImplemented)(i=class{constructor(){this.spriteLineSet=null}Commit(e){this.spriteLineSet.Render(e)}})||i,X=(n=k.meta.notImplemented,a=k.meta.type("EveSpriteLineSetItem"),o=k.meta.float,s=k.meta.float,l=k.meta.float,u=k.meta.uint,c=k.meta.uint,f=k.meta.float,d=k.meta.float,h=k.meta.boolean,m=k.meta.float,b=k.meta.float,p=k.meta.vector3,v=k.meta.quaternion,g=k.meta.vector3,y=k.meta.float,w=k.meta.boolean,E=k.meta.matrix4,n(T=a((N=class extends H.EveObjectSetItem{constructor(...e){super(...e),q(this,"blinkPhase",_,this),q(this,"blinkPhaseShift",j,this),q(this,"blinkRate",R,this),q(this,"boneIndex",z,this),q(this,"colorType",O,this),q(this,"falloff",P,this),q(this,"intensity",A,this),q(this,"isCircle",x,this),q(this,"maxScale",M,this),q(this,"minScale",C,this),q(this,"position",D,this),q(this,"rotation",I,this),q(this,"scaling",L,this),q(this,"spacing",F,this),q(this,"display",G,this),q(this,"transform",B,this),this._dirty=!0}OnValueChanged(){V.mat4.fromRotationTranslationScale(this.transform,this.rotation,this.position,this.scaling),this._dirty=!0}},_=W((S=N).prototype,"blinkPhase",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),j=W(S.prototype,"blinkPhaseShift",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),R=W(S.prototype,"blinkRate",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),z=W(S.prototype,"boneIndex",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),O=W(S.prototype,"colorType",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),P=W(S.prototype,"falloff",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),A=W(S.prototype,"intensity",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),x=W(S.prototype,"isCircle",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),M=W(S.prototype,"maxScale",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),C=W(S.prototype,"minScale",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),D=W(S.prototype,"position",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return V.vec3.create()}}),I=W(S.prototype,"rotation",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return V.quat.create()}}),L=W(S.prototype,"scaling",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return V.vec3.fromValues(1,1,1)}}),F=W(S.prototype,"spacing",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),G=W(S.prototype,"display",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),B=W(S.prototype,"transform",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return V.mat4.create()}}),T=S))||T)||T),K=(0,k.meta.notImplemented)(U=k.meta.type("EveSpriteLineSet")(U=class extends H.EveObjectSet{})||U)||U},"./unsupported/eve/item/EveTrailsSet.js":function(e,t,r){"use strict";r.r(t),r.d(t,"EveTrailSetRenderBatch",(function(){return w})),r.d(t,"EveTrailsSet",(function(){return E}));var i,n,a,o,s,l,u,c,f,d,h,m,b=r("./global/utils/index.js"),p=r("./global/index.js"),v=r("./core/batch/index.js");function g(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function y(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var w=(0,b.meta.notImplemented)(i=class extends v.Tw2RenderBatch{constructor(...e){super(...e),this.trailsSet=null}Commit(e){this.boosters.Render(e)}})||i,E=(n=b.meta.notImplemented,a=b.meta.type("EveTrailSet"),o=b.meta.struct(),s=b.meta.path,l=b.meta.boolean,n(u=a((m=class extends b.meta.Model{constructor(...e){super(...e),g(this,"effect",f,this),g(this,"geometryResPath",d,this),g(this,"display",h,this),this._geometryRes=null}Initialize(){this.geometryResPath&&(this._geometryRes=p.resMan.GetResource(this.geometryResPath,e=>this.OnResPrepared(e)))}OnResPrepared(e){}GetResources(e=[]){return this.effect&&this.effect.GetResources(e),this._geometryRes&&!e.includes(this._geometryRes)&&e.push(this._geometryRes),e}},f=y((c=m).prototype,"effect",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),d=y(c.prototype,"geometryResPath",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),h=y(c.prototype,"display",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),u=c))||u)||u)},"./unsupported/eve/item/index.js":function(e,t,r){"use strict";r.r(t);var i=r("./unsupported/eve/item/EveBanner.js");r.d(t,"EveBanner",(function(){return i.EveBanner}));var n=r("./unsupported/eve/item/EveBoosterSet2.js");r.d(t,"EveBoosterSet2Batch",(function(){return n.EveBoosterSet2Batch})),r.d(t,"EveBoosterSet2Item",(function(){return n.EveBoosterSet2Item})),r.d(t,"EveBoosterSet2",(function(){return n.EveBoosterSet2}));var a=r("./unsupported/eve/item/EveHazeSet.js");r.d(t,"EveHazeSetBatch",(function(){return a.EveHazeSetBatch})),r.d(t,"EveHazeSetItem",(function(){return a.EveHazeSetItem})),r.d(t,"EveHazeSet",(function(){return a.EveHazeSet}));var o=r("./unsupported/eve/item/EveSpriteLineSet.js");r.d(t,"EveSpriteLineSetBatch",(function(){return o.EveSpriteLineSetBatch})),r.d(t,"EveSpriteLineSetItem",(function(){return o.EveSpriteLineSetItem})),r.d(t,"EveSpriteLineSet",(function(){return o.EveSpriteLineSet}));var s=r("./unsupported/eve/item/EveTrailsSet.js");r.d(t,"EveTrailSetRenderBatch",(function(){return s.EveTrailSetRenderBatch})),r.d(t,"EveTrailsSet",(function(){return s.EveTrailsSet}))},"./unsupported/eve/object/EveEffectRoot2.js":function(e,t,r){"use strict";r.r(t),r.d(t,"EveEffectRoot2",(function(){return U}));var i,n,a,o,s,l,u,c,f,d,h,m,b,p,v,g,y,w,E,T,S,_,j,R,z,O,P,A,x,M,C,D,I,L=r("./global/utils/index.js"),F=r("./global/math/index.js"),G=r("./eve/object/EveObject.js");function B(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function N(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var U=(i=L.meta.notImplemented,n=L.meta.type("EveEffectRoot2"),a=L.meta.string,o=L.meta.vector3,s=L.meta.float,l=L.meta.list("Tw2CurveSet"),u=L.meta.float,c=L.meta.boolean,f=L.meta.list("EveChild"),d=L.meta.list("Tr2PointLight"),h=L.meta.list("TriObserverLocal"),m=L.meta.quaternion,b=L.meta.vector3,p=L.meta.color,v=L.meta.float,g=L.meta.vector3,i(y=n((I=class extends G.EveObject{constructor(...e){super(...e),B(this,"name",E,this),B(this,"boundingSphereCenter",T,this),B(this,"boundingSphereRadius",S,this),B(this,"curveSets",_,this),B(this,"duration",j,this),B(this,"dynamicLOD",R,this),B(this,"effectChildren",z,this),B(this,"lights",O,this),B(this,"observers",P,this),B(this,"rotation",A,this),B(this,"scaling",x,this),B(this,"secondaryLightingEmissiveColor",M,this),B(this,"secondaryLightingSphereRadius",C,this),B(this,"translation",D,this)}},E=N((w=I).prototype,"name",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),T=N(w.prototype,"boundingSphereCenter",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return F.vec3.create()}}),S=N(w.prototype,"boundingSphereRadius",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),_=N(w.prototype,"curveSets",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),j=N(w.prototype,"duration",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),R=N(w.prototype,"dynamicLOD",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),z=N(w.prototype,"effectChildren",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),O=N(w.prototype,"lights",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),P=N(w.prototype,"observers",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),A=N(w.prototype,"rotation",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return F.quat.create()}}),x=N(w.prototype,"scaling",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return F.vec3.fromValues(1,1,1)}}),M=N(w.prototype,"secondaryLightingEmissiveColor",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return F.vec4.create()}}),C=N(w.prototype,"secondaryLightingSphereRadius",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),D=N(w.prototype,"translation",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return F.vec3.create()}}),y=w))||y)||y)},"./unsupported/eve/object/EveMobile.js":function(e,t,r){"use strict";r.r(t),r.d(t,"EveMobile",(function(){return I}));var i,n,a,o,s,l,u,c,f,d,h,m,b,p,v,g,y,w,E,T,S,_,j,R,z,O,P,A=r("./global/utils/index.js"),x=r("./global/math/index.js"),M=r("./eve/object/EveObject.js");function C(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function D(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var I=(i=A.meta.notImplemented,n=A.meta.type("EveMobile"),a=A.meta.string,o=A.meta.list("EveObjectSet"),s=A.meta.vector3,l=A.meta.float,u=A.meta.list("EveChild"),c=A.meta.list("EveStateController"),f=A.meta.list("Tw2CurveSet"),d=A.meta.list("EveLocatorSets"),h=A.meta.struct("Tr2MeshLod"),m=A.meta.list("TriObserverLocal"),b=A.meta.struct("Tw2Effect"),i(p=n((P=class extends M.EveObject{constructor(...e){super(...e),C(this,"name",g,this),C(this,"attachments",y,this),C(this,"boundingSphereCenter",w,this),C(this,"boundingSphereRadius",E,this),C(this,"children",T,this),C(this,"controllers",S,this),C(this,"curveSets",_,this),C(this,"locatorSets",j,this),C(this,"meshLod",R,this),C(this,"observers",z,this),C(this,"shadowEffect",O,this)}},g=D((v=P).prototype,"name",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),y=D(v.prototype,"attachments",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),w=D(v.prototype,"boundingSphereCenter",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return x.vec3.create()}}),E=D(v.prototype,"boundingSphereRadius",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),T=D(v.prototype,"children",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),S=D(v.prototype,"controllers",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),_=D(v.prototype,"curveSets",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),j=D(v.prototype,"locatorSets",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),R=D(v.prototype,"meshLod",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),z=D(v.prototype,"observers",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),O=D(v.prototype,"shadowEffect",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),p=v))||p)||p)},"./unsupported/eve/object/EveRootTransform.js":function(e,t,r){"use strict";r.r(t),r.d(t,"EveRootTransform",(function(){return U}));var i,n,a,o,s,l,u,c,f,d,h,m,b,p,v,g,y,w,E,T,S,_,j,R,z,O,P,A,x,M,C,D,I,L=r("./global/utils/index.js"),F=r("./global/math/index.js"),G=r("./eve/object/EveObject.js");function B(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function N(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var U=(i=L.meta.notImplemented,n=L.meta.type("EveRootTransform"),a=L.meta.string,o=L.meta.float,s=L.meta.list("EveObject"),l=L.meta.list("Tw2CurveSet"),u=L.meta.boolean,c=L.meta.struct("Tw2Mesh"),f=L.meta.uint,d=L.meta.list("TriObserverLocal"),h=L.meta.quaternion,m=L.meta.struct("Tw2Curve"),b=L.meta.vector3,p=L.meta.float,v=L.meta.vector3,g=L.meta.struct("Tw2Curve"),i(y=n((I=class extends G.EveObject{constructor(...e){super(...e),B(this,"name",E,this),B(this,"boundingSphereRadius",T,this),B(this,"children",S,this),B(this,"curveSets",_,this),B(this,"display",j,this),B(this,"mesh",R,this),B(this,"modifier",z,this),B(this,"observers",O,this),B(this,"rotation",P,this),B(this,"rotationCurve",A,this),B(this,"scaling",x,this),B(this,"sortValueMultiplier",M,this),B(this,"translation",C,this),B(this,"translationCurve",D,this)}},E=N((w=I).prototype,"name",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),T=N(w.prototype,"boundingSphereRadius",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),S=N(w.prototype,"children",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),_=N(w.prototype,"curveSets",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),j=N(w.prototype,"display",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),R=N(w.prototype,"mesh",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),z=N(w.prototype,"modifier",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),O=N(w.prototype,"observers",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),P=N(w.prototype,"rotation",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return F.quat.create()}}),A=N(w.prototype,"rotationCurve",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),x=N(w.prototype,"scaling",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return F.vec3.fromValues(1,1,1)}}),M=N(w.prototype,"sortValueMultiplier",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),C=N(w.prototype,"translation",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return F.vec3.create()}}),D=N(w.prototype,"translationCurve",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),y=w))||y)||y)},"./unsupported/eve/object/EveShip2.js":function(e,t,r){"use strict";r.r(t),r.d(t,"EveShip2",(function(){return se}));var i,n,a,o,s,l,u,c,f,d,h,m,b,p,v,g,y,w,E,T,S,_,j,R,z,O,P,A,x,M,C,D,I,L,F,G,B,N,U,k,V,H,q,W,Y,X,K,Q,Z,$=r("./global/utils/index.js"),J=r("./global/math/index.js"),ee=r("./eve/object/EveObject.js"),te=r("./core/data/index.js"),re=r("./core/model/index.js"),ie=r("./eve/item/index.js"),ne=r("./eve/effect/index.js");function ae(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function oe(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var se=(i=$.meta.type("EveShip2"),n=$.meta.struct("Tw2Animation"),a=$.meta.isPrivate,o=$.meta.list("EveObjectSet"),s=$.meta.struct("EveBoosterSet2"),l=$.meta.vector3,u=$.meta.float,c=$.meta.list("EveObject"),f=$.meta.list("EveCustomMask"),d=$.meta.list("EveSpaceObjectDecal"),h=$.meta.string,m=$.meta.list("EveLocatorSets"),b=$.meta.list("EveLocator2"),p=$.meta.struct("Tw2Mesh","Tw2InstancedMesh","Tr2MeshLod"),v=$.meta.struct("EveCurve"),g=$.meta.struct("Tw2Effect"),y=$.meta.vector3,w=$.meta.vector3,E=$.meta.struct("EveCurve"),T=$.meta.uint,S=$.meta.float,_=$.meta.list("EveChild"),j=$.meta.todo("How to handle serializing these? They are loaded from the sof"),R=$.meta.plain,i((Z=Q=class e extends ee.EveObject{constructor(...t){super(...t),ae(this,"animation",P,this),ae(this,"attachments",A,this),ae(this,"boosters",x,this),ae(this,"boundingSphereCenter",M,this),ae(this,"boundingSphereRadius",C,this),ae(this,"children",D,this),ae(this,"customMasks",I,this),ae(this,"decals",L,this),ae(this,"dna",F,this),ae(this,"locatorSets",G,this),ae(this,"locators",B,this),ae(this,"mesh",N,this),ae(this,"rotationCurve",U,this),ae(this,"shadowEffect",k,this),ae(this,"shapeEllipsoidCenter",V,this),ae(this,"shapeEllipsoidRadius",H,this),ae(this,"translationCurve",q,this),ae(this,"killCount",W,this),ae(this,"boosterGain",Y,this),ae(this,"effectChildren",X,this),ae(this,"visible",K,this),this._enableCurves=!1,this._pixelSizeAcross=0,this._lod=3,this._worldSpriteScale=1,this._localTransform=J.mat4.create(),this._worldTransform=J.mat4.create(),this._perObjectData=te.Tw2PerObjectData.from(e.perObjectData)}Initialize(){this.RebuildBoosterSet()}FindTurretSetByLocatorName(e){for(var t=0;t<this.attachments.length;t++)if(this.attachments[t]instanceof ie.EveTurretSet&&this.attachments[t].locatorName===e)return this.attachments[t]}FindTurretPrefixes(e=[]){function t(t){if(!t)return!1;var r=t[0].substring(0,t[0].length-1);return e.includes(r)||e.push(r),!0}for(var r=0;r<this.locators.length;r++){var i=this.locators[r].name;t(/^locator_turret_([0-9]+)[a-z]$/i.exec(i))||t(/^locator_xl_([0-9]+)[a-z]$/i.exec(i))}return e.sort(),e}GetLocatorCount(e){return this.FindLocatorsByPrefix(e).length}FindLocatorJointByName(e){var t=this.FindLocatorBoneByName(e);return t?t.worldTransform:null}FindLocatorTransformByName(e){var t=this.FindLocatorByName(e);return t?t.transform:null}HasLocatorPrefix(e){for(var t=0;t<this.locators.length;t++)if(0===this.locators[t].name.indexOf(e))return!0;return!1}FindLocatorBoneByName(e){return this.animation?this.animation.FindBoneForMesh(e,0):null}FindLocatorByName(e){for(var t=0;t<this.locators.length;t++)if(this.locators[t].name===e)return this.locators[t];return null}FindLocatorsByPrefix(e,t=[]){for(var r=0;r<this.locators.length;r++)0===this.locators[r].name.indexOf(e)&&t.push(this.locators[r]);return t}ResetLod(){this._lod=3}UpdateLod(e){var t=J.vec3.transformMat4(ee.EveObject.global.vec3_0,this.boundingSphereCenter,this._worldTransform);e.IsSphereVisible(t,this.boundingSphereRadius)?(this._pixelSizeAcross=e.GetPixelSizeAcross(t,this.boundingSphereRadius),this._pixelSizeAcross<100?this._lod=1:this._lod=2):(this._pixelSizeAcross=0,this._lod=0)}SetTransform(e){J.mat4.copy(this._localTransform,e)}GetTransform(e){return J.mat4.copy(e,this._localTransform)}GetResources(e=[]){return this.PerChild(t=>{"GetResources"in t.struct&&t.struct.GetResources(e)}),e}RebuildBoosterSet(){return!!this.boosters&&(this.boosters.UpdateItemsFromLocators(this.FindLocatorsByPrefix("locator_booster")),!0)}GetTurretSetByLocatorName(e){for(var t=0;t<this.attachments.length;t++)if(this.attachments[t]instanceof ie.EveTurretSet&&this.attachments[t].locatorName===e)return this.attachments[t];return null}RemoveTurretSet(e){var t=this.attachments.indexOf(e);return-1!==t&&(this.attachments.splice(t,1),!0)}AddTurretSet(e){if(!e.locatorName)throw new ReferenceError("Turret set must have a locator name");var t=this.GetTurretSetByLocatorName(e.locatorName);return t!==e&&(this.attachments.splice(this.attachments.indexOf(t),1),this.attachments.push(e),this.RebuildTurretSet(e),!0)}RebuildTurretSet(e){for(var t=e.locatorName,r=this.GetLocatorCount(t),i=[],n=0;n<r;++n){var a=t+String.fromCharCode("a".charCodeAt(0)+n),o=this.FindLocatorByName(a);o&&(o.FindBone(this.animation),i.push(o))}return e.UpdateItemsFromLocators(i),!0}RebuildOverlays(e=[]){for(var t=!1,r=0;r<this.attachments.length;r++)this.attachments[r]instanceof ne.EveMeshOverlayEffect&&(t=!0,this.attachments.splice(r,1),r--);for(var i=0;i<e.length;i++)this.attachments.push(e[i]),t=!0;return t}Update(e){if(!(this._lod<1)&&this.display){this.boosters&&(this.boosters._locatorDirty&&this.RebuildBoosterSet(),this.boosters.Update(e,this._worldTransform));for(var t=0;t<this.attachments.length;t++)this.attachments[t]instanceof ie.EveTurretSet&&this.attachments[t]._locatorDirty&&this.RebuildTurretSet(this.attachments[t]),this.attachments[t].Update(e,this);for(var r=0;r<this.children.length;r++)this.children[r].Update(e,this._worldTransform);for(var i=0;i<this.effectChildren.length;i++)this.effectChildren[i].Update(e,this._worldTransform,this._lod);this.animation&&this.animation.Update(e)}}GetBatches(e,t){if(this.display&&!(this._lod<1)){var r=this.visible,i=this.mesh&&this.mesh.IsGood()?this.mesh.geometryResource:null;r.mesh&&i&&this.mesh.GetBatches(e,t,this._perObjectData);var n=r.firingEffect;if(this._lod>1){r.boosters&&this.boosters&&(this._perObjectData.vs.Get("Shipdata")[0]=this.boosterGain,this._perObjectData.ps.Get("Shipdata")[0]=this.boosterGain,this.boosters.GetBatches(e,t,this._perObjectData));for(var a=0;a<this.attachments.length;a++){var o=this.attachments[a];switch(o.constructor){case ie.EveTurretSet:r.turretSets&&(n=!1,o.GetBatches(e,t,this._perObjectData,r.firingEffect));break;case ie.EveSpotlightSet:r.spotlightSets&&o.GetBatches(e,t,this._perObjectData,this._worldTransform);break;case ie.EvePlaneSet:r.planeSets&&o.GetBatches(e,t,this._perObjectData);break;case ie.EveSpriteSet:r.spriteSets&&o.GetBatches(e,t,this._perObjectData,this._worldTransform);break;case ie.EveCurveLineSet:r.lineSets&&o.GetBatches(e,t);break;case ne.EveMeshOverlayEffect:r.overlayEffects&&o.GetBatches(e,t,this._perObjectData,this.mesh);break;default:console.log("Attachment not supported")}}if(i&&r.decals)for(var s=r.killmarks&&this._lod>2?this.killCount:0,l=0;l<this.decals.length;l++)this.decals[l].GetBatches(e,t,this._perObjectData,i,s)}if(n)for(var u=0;u<this.attachments.length;u++)this.attachments[u]instanceof ie.EveTurretSet&&this.attachments[u].GetFiringEffectBatches(e,t,this._perObjectData);if(r.children)for(var c=0;c<this.children.length;c++)this.children[c].GetBatches(e,t,this._perObjectData);if(r.effectChildren)for(var f=0;f<this.effectChildren.length;f++)this.effectChildren[f].GetBatches(e,t,this._perObjectData)}}UpdateViewDependentData(e,t,r){if(J.mat4.transpose(this._perObjectData.vs.Get("WorldMatLast"),this._worldTransform),this._enableCurves&&this.rotationCurve||this.translationCurve){var i=ee.EveObject.global.quat_0,n=ee.EveObject.global.vec3_0,a=J.mat4.getScaling(ee.EveObject.global.vec3_0,this._localTransform);this.rotationCurve&&this.rotationCurve.GetValueAt(t,i),this.translationCurve&&this.translationCurve.GetValueAt(t,n),J.mat4.fromRotationTranslationScale(this._localTransform,i,n,a)}e?J.mat4.multiply(this._worldTransform,e,this._localTransform):J.mat4.copy(this._worldTransform,this._localTransform);var o=this.mesh&&this.mesh.IsGood()?this.mesh.geometryResource:null;if(o&&this.animation&&(this.animation.HasGeometryResource(o)||this.animation.SetGeometryResource(o),this.animation.animations.length&&this._perObjectData.vs.Set("JointMat",this.animation.GetBoneMatrices(0))),r!==this._worldSpriteScale){this._worldSpriteScale=r,this.boosters&&this.boosters.SetWorldSpriteScale(r);for(var s=0;s<this.attachments.length;s++)"SetWorldSpriteScale"in this.attachments[s]&&this.attachments[s].SetWorldSpriteScale(r)}for(var l=0;l<this.children.length;++l)this.children[l].UpdateViewDependentData(this._worldTransform);J.mat4.transpose(this._perObjectData.vs.Get("WorldMat"),this._worldTransform);var u=this._perObjectData.vs.Get("EllipsoidCenter"),c=this._perObjectData.vs.Get("EllipsoidRadii");if(this.shapeEllipsoidRadius[0]>0)u[0]=this.shapeEllipsoidCenter[0],u[1]=this.shapeEllipsoidCenter[1],u[2]=this.shapeEllipsoidCenter[2],c[0]=this.shapeEllipsoidRadius[0],c[1]=this.shapeEllipsoidRadius[1],c[2]=this.shapeEllipsoidRadius[2];else if(o){var{maxBounds:f,minBounds:d}=o;J.vec3.subtract(u,f,d),J.vec3.scale(u,u,.8660254035),J.vec3.add(c,f,d),J.vec3.scale(c,c,.5)}for(var h=0;h<this.customMasks.length;++h)this.customMasks[h].UpdatePerObjectData(this._worldTransform,this._perObjectData,h,this.visible.customMasks);for(var m=0;m<this.attachments.length;m++)"UpdateViewDependentData"in this.attachments[m]&&this.attachments[m].UpdateViewDependentData(this._worldTransform,t,r)}},Q.perObjectData={vs:[["WorldMat",16],["WorldMatLast",16],["Shipdata",[0,1,0,-10]],["Clipdata1",4],["EllipsoidRadii",4],["EllipsoidCenter",4],["Unknown0",[0,1,0,0]],["Unknown1",4],["Unknown2",4],["Unknown3",4],["CustomMaskMatrix0",J.mat4.create()],["CustomMaskMatrix1",J.mat4.create()],["CustomMaskData0",[1,0,0,0]],["CustomMaskData1",[1,0,0,0]],["JointMat",696]],ps:[["Shipdata",[0,1,0,1]],["Clipdata1",4],["Clipdata2",4],["ShLighting",28],["CustomMaskMaterialID0",4],["CustomMaskMaterialID1",4],["CustomMaskTarget0",4],["CustomMaskTarget1",4]]},P=oe((O=Z).prototype,"animation",[n,a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new re.Tw2AnimationController}}),A=oe(O.prototype,"attachments",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),x=oe(O.prototype,"boosters",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),M=oe(O.prototype,"boundingSphereCenter",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return J.vec3.create()}}),C=oe(O.prototype,"boundingSphereRadius",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),D=oe(O.prototype,"children",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),I=oe(O.prototype,"customMasks",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),L=oe(O.prototype,"decals",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),F=oe(O.prototype,"dna",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),G=oe(O.prototype,"locatorSets",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),B=oe(O.prototype,"locators",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),N=oe(O.prototype,"mesh",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),U=oe(O.prototype,"rotationCurve",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),k=oe(O.prototype,"shadowEffect",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),V=oe(O.prototype,"shapeEllipsoidCenter",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return J.vec3.create()}}),H=oe(O.prototype,"shapeEllipsoidRadius",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return J.vec3.create()}}),q=oe(O.prototype,"translationCurve",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),W=oe(O.prototype,"killCount",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Y=oe(O.prototype,"boosterGain",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),X=oe(O.prototype,"effectChildren",[_,j],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),K=oe(O.prototype,"visible",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{mesh:!0,children:!0,effectChildren:!0,planeSets:!0,spotlightSets:!0,decals:!0,spriteSets:!0,overlayEffects:!0,lineSets:!0,killmarks:!0,customMasks:!0,turretSets:!0,boosters:!0}}}),z=O))||z)},"./unsupported/eve/object/EveStation2.js":function(e,t,r){"use strict";r.r(t),r.d(t,"EveStation2",(function(){return te}));var i,n,a,o,s,l,u,c,f,d,h,m,b,p,v,g,y,w,E,T,S,_,j,R,z,O,P,A,x,M,C,D,I,L,F,G,B,N,U,k,V,H,q,W,Y,X,K=r("./global/utils/index.js"),Q=r("./global/math/index.js"),Z=(r("./eve/object/EveObject.js"),r("./core/model/index.js")),$=r("./unsupported/eve/object/EveShip2.js");function J(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function ee(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var te=(i=K.meta.notImplemented,n=K.meta.type("EveStation2"),a=K.meta.struct("Tw2Animation"),o=K.meta.isPrivate,s=K.meta.list("EveObjectSet"),l=K.meta.vector3,u=K.meta.float,c=K.meta.list("EveObject"),f=K.meta.list("EveCurveSet"),d=K.meta.list("EveSpaceObjectDecal"),h=K.meta.string,m=K.meta.list("EveChild"),b=K.meta.list("TriPointLight"),p=K.meta.list("EveLocatorSets"),v=K.meta.list("EveLocator2"),g=K.meta.struct("Tw2Mesh"),y=K.meta.struct("Tr2MeshLod"),w=K.meta.struct("Tr2RotationAdapter"),E=K.meta.float,T=K.meta.list("TriObserverLocal"),S=K.meta.struct("Tr2RotationAdapter"),_=K.meta.struct("Tw2Effect"),j=K.meta.struct("Tr2TranslationAdapter"),i(R=n((X=class extends $.EveShip2{constructor(...e){super(...e),J(this,"animations",O,this),J(this,"attachments",P,this),J(this,"boundingSphereCenter",A,this),J(this,"boundingSphereRadius",x,this),J(this,"children",M,this),J(this,"curveSets",C,this),J(this,"decals",D,this),J(this,"dna",I,this),J(this,"effectChildren",L,this),J(this,"lights",F,this),J(this,"locatorSets",G,this),J(this,"locators",B,this),J(this,"mesh",N,this),J(this,"meshLod",U,this),J(this,"modelRotationCurve",k,this),J(this,"modelScale",V,this),J(this,"observers",H,this),J(this,"rotationCurve",q,this),J(this,"shadowEffect",W,this),J(this,"translationCurve",Y,this)}},O=ee((z=X).prototype,"animations",[a,o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new Z.Tw2Animation}}),P=ee(z.prototype,"attachments",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),A=ee(z.prototype,"boundingSphereCenter",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Q.vec3.create()}}),x=ee(z.prototype,"boundingSphereRadius",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),M=ee(z.prototype,"children",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),C=ee(z.prototype,"curveSets",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),D=ee(z.prototype,"decals",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),I=ee(z.prototype,"dna",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),L=ee(z.prototype,"effectChildren",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),F=ee(z.prototype,"lights",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),G=ee(z.prototype,"locatorSets",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),B=ee(z.prototype,"locators",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),N=ee(z.prototype,"mesh",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),U=ee(z.prototype,"meshLod",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),k=ee(z.prototype,"modelRotationCurve",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),V=ee(z.prototype,"modelScale",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),H=ee(z.prototype,"observers",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),q=ee(z.prototype,"rotationCurve",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),W=ee(z.prototype,"shadowEffect",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Y=ee(z.prototype,"translationCurve",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),R=z))||R)||R)},"./unsupported/eve/object/index.js":function(e,t,r){"use strict";r.r(t);var i=r("./unsupported/eve/object/EveEffectRoot2.js");r.d(t,"EveEffectRoot2",(function(){return i.EveEffectRoot2}));var n=r("./unsupported/eve/object/EveMobile.js");r.d(t,"EveMobile",(function(){return n.EveMobile}));var a=r("./unsupported/eve/object/EveRootTransform.js");r.d(t,"EveRootTransform",(function(){return a.EveRootTransform}));var o=r("./unsupported/eve/object/EveShip2.js");r.d(t,"EveShip2",(function(){return o.EveShip2}));var s=r("./unsupported/eve/object/EveStation2.js");r.d(t,"EveStation2",(function(){return s.EveStation2}))},"./unsupported/eve/particle/EveParticleDirectForce.js":function(e,t,r){"use strict";r.r(t),r.d(t,"EveParticleDirectForce",(function(){return v}));var i,n,a,o,s,l=r("./global/utils/index.js"),u=r("./global/math/index.js"),c=r("./particle/force/Tw2ParticleForce.js");var f,d,h,m,b,p,v=(i=l.meta.vector3,s=o=class extends c.Tw2ParticleForce{constructor(...e){var t,r,i,n;super(...e),t=this,r="force",n=this,(i=a)&&Object.defineProperty(t,r,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}},o.__isStaging=4,f=(n=s).prototype,d="force",h=[i],m={configurable:!0,enumerable:!0,writable:!0,initializer:function(){return u.vec3.create()}},p={},Object.keys(m).forEach((function(e){p[e]=m[e]})),p.enumerable=!!p.enumerable,p.configurable=!!p.configurable,("value"in p||p.initializer)&&(p.writable=!0),p=h.slice().reverse().reduce((function(e,t){return t(f,d,e)||e}),p),b&&void 0!==p.initializer&&(p.value=p.initializer?p.initializer.call(b):void 0,p.initializer=void 0),void 0===p.initializer&&(Object.defineProperty(f,d,p),p=null),a=p,n)},"./unsupported/eve/particle/EveParticleDragForce.js":function(e,t,r){"use strict";r.r(t),r.d(t,"EveParticleDragForce",(function(){return b}));var i,n,a,o,s,l=r("./particle/force/Tw2ParticleForce.js");var u,c,f,d,h,m,b=(i=r("./global/utils/index.js").meta.float,s=o=class extends l.Tw2ParticleForce{constructor(...e){var t,r,i,n;super(...e),t=this,r="drag",n=this,(i=a)&&Object.defineProperty(t,r,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}},o.__isStaging=4,u=(n=s).prototype,c="drag",f=[i],d={configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}},m={},Object.keys(d).forEach((function(e){m[e]=d[e]})),m.enumerable=!!m.enumerable,m.configurable=!!m.configurable,("value"in m||m.initializer)&&(m.writable=!0),m=f.slice().reverse().reduce((function(e,t){return t(u,c,e)||e}),m),h&&void 0!==m.initializer&&(m.value=m.initializer?m.initializer.call(h):void 0,m.initializer=void 0),void 0===m.initializer&&(Object.defineProperty(u,c,m),m=null),a=m,n)},"./unsupported/eve/particle/index.js":function(e,t,r){"use strict";r.r(t);var i=r("./unsupported/eve/particle/EveParticleDirectForce.js");r.d(t,"EveParticleDirectForce",(function(){return i.EveParticleDirectForce}));var n=r("./unsupported/eve/particle/EveParticleDragForce.js");r.d(t,"EveParticleDragForce",(function(){return n.EveParticleDragForce}))},"./unsupported/eve/pi/EveConnector.js":function(e,t,r){"use strict";r.r(t),r.d(t,"EveConnector",(function(){return M}));var i,n,a,o,s,l,u,c,f,d,h,m,b,p,v,g,y,w,E,T,S,_,j,R,z,O=r("./global/utils/index.js"),P=r("./global/math/index.js");function A(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function x(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var M=(i=O.meta.notImplemented,n=O.meta.type("EveConnector"),a=O.meta.color,o=O.meta.float,s=O.meta.float,l=O.meta.color,u=O.meta.struct(),c=O.meta.vector3,f=O.meta.boolean,d=O.meta.float,h=O.meta.struct(),m=O.meta.uint,i(b=n((z=class extends O.meta.Model{constructor(...e){super(...e),A(this,"animationColor",v,this),A(this,"animationScale",g,this),A(this,"animationSpeed",y,this),A(this,"color",w,this),A(this,"destObject",E,this),A(this,"destPosition",T,this),A(this,"isAnimated",S,this),A(this,"lineWidth",_,this),A(this,"sourceObject",j,this),A(this,"type",R,this)}},v=x((p=z).prototype,"animationColor",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return P.vec4.create()}}),g=x(p.prototype,"animationScale",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),y=x(p.prototype,"animationSpeed",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),w=x(p.prototype,"color",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return P.vec4.create()}}),E=x(p.prototype,"destObject",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),T=x(p.prototype,"destPosition",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return P.vec3.create()}}),S=x(p.prototype,"isAnimated",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),_=x(p.prototype,"lineWidth",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),j=x(p.prototype,"sourceObject",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),R=x(p.prototype,"type",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),b=p))||b)||b)},"./unsupported/eve/pi/EveLocalPositionCurve.js":function(e,t,r){"use strict";r.r(t),r.d(t,"EveLocalPositionCurve",(function(){return g}));var i,n,a,o,s,l,u,c=r("./global/utils/index.js"),f=r("./global/math/index.js");var d,h,m,b,p,v,g=(i=c.meta.notImplemented,n=c.meta.type("EveLocalPositionCurve"),a=c.meta.vector3,i(o=n((u=class extends c.meta.Model{constructor(...e){var t,r,i,n;super(...e),t=this,r="value",n=this,(i=l)&&Object.defineProperty(t,r,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}},d=(s=u).prototype,h="value",m=[a],b={configurable:!0,enumerable:!0,writable:!0,initializer:function(){return f.vec3.create()}},v={},Object.keys(b).forEach((function(e){v[e]=b[e]})),v.enumerable=!!v.enumerable,v.configurable=!!v.configurable,("value"in v||v.initializer)&&(v.writable=!0),v=m.slice().reverse().reduce((function(e,t){return t(d,h,e)||e}),v),p&&void 0!==v.initializer&&(v.value=v.initializer?v.initializer.call(p):void 0,v.initializer=void 0),void 0===v.initializer&&(Object.defineProperty(d,h,v),v=null),l=v,o=s))||o)||o)},"./unsupported/eve/pi/EveSpherePin.js":function(e,t,r){"use strict";r.r(t),r.d(t,"EveSpherePin",(function(){return L}));var i,n,a,o,s,l,u,c,f,d,h,m,b,p,v,g,y,w,E,T,S,_,j,R,z,O,P,A,x,M=r("./global/utils/index.js"),C=r("./global/math/index.js");function D(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function I(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var L=(i=M.meta.notImplemented,n=M.meta.type("EveSpherePin"),a=M.meta.string,o=M.meta.vector3,s=M.meta.color,l=M.meta.list(),u=M.meta.boolean,c=M.meta.path,f=M.meta.color,d=M.meta.struct(),h=M.meta.float,m=M.meta.float,b=M.meta.float,p=M.meta.float,i(v=n((x=class extends M.meta.Model{constructor(...e){super(...e),D(this,"name",y,this),D(this,"centerNormal",w,this),D(this,"color",E,this),D(this,"curveSets",T,this),D(this,"enablePicking",S,this),D(this,"geometryResPath",_,this),D(this,"pinColor",j,this),D(this,"pinEffect",R,this),D(this,"pinMaxRadius",z,this),D(this,"pinRadius",O,this),D(this,"pinRotation",P,this),D(this,"sortValueMultiplier",A,this)}},y=I((g=x).prototype,"name",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),w=I(g.prototype,"centerNormal",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return C.vec3.create()}}),E=I(g.prototype,"color",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return C.vec4.create()}}),T=I(g.prototype,"curveSets",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),S=I(g.prototype,"enablePicking",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),_=I(g.prototype,"geometryResPath",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),j=I(g.prototype,"pinColor",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return C.vec4.create()}}),R=I(g.prototype,"pinEffect",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),z=I(g.prototype,"pinMaxRadius",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),O=I(g.prototype,"pinRadius",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),P=I(g.prototype,"pinRotation",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),A=I(g.prototype,"sortValueMultiplier",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),v=g))||v)||v)},"./unsupported/eve/pi/index.js":function(e,t,r){"use strict";r.r(t);var i=r("./unsupported/eve/pi/EveConnector.js");r.d(t,"EveConnector",(function(){return i.EveConnector}));var n=r("./unsupported/eve/pi/EveLocalPositionCurve.js");r.d(t,"EveLocalPositionCurve",(function(){return n.EveLocalPositionCurve}));var a=r("./unsupported/eve/pi/EveSpherePin.js");r.d(t,"EveSpherePin",(function(){return a.EveSpherePin}))},"./unsupported/eve/ui/EveTacticalOverlay.js":function(e,t,r){"use strict";r.r(t),r.d(t,"EveTacticalOverlay",(function(){return z}));var i,n,a,o,s,l,u,c,f,d,h,m,b,p,v,g,y,w,E,T,S,_=r("./global/utils/index.js");function j(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function R(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var z=(i=_.meta.notImplemented,n=_.meta.type("EveTacticalOverlay"),a=_.meta.struct(),o=_.meta.float,s=_.meta.struct(),l=_.meta.float,u=_.meta.float,c=_.meta.float,f=_.meta.float,d=_.meta.struct(),i(h=n((S=class extends _.meta.Model{constructor(...e){super(...e),j(this,"anchorEffect",b,this),j(this,"arcSegmentMultiplier",p,this),j(this,"connectorEffect",v,this),j(this,"segmentsHigh",g,this),j(this,"segmentsLow",y,this),j(this,"segmentsMedium",w,this),j(this,"targetMaxSegments",E,this),j(this,"velocityEffect",T,this)}},b=R((m=S).prototype,"anchorEffect",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),p=R(m.prototype,"arcSegmentMultiplier",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),v=R(m.prototype,"connectorEffect",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),g=R(m.prototype,"segmentsHigh",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),y=R(m.prototype,"segmentsLow",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),w=R(m.prototype,"segmentsMedium",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),E=R(m.prototype,"targetMaxSegments",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),T=R(m.prototype,"velocityEffect",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),h=m))||h)||h)},"./unsupported/eve/ui/EveUiObject.js":function(e,t,r){"use strict";r.r(t),r.d(t,"EveUiObject",(function(){return y}));var i,n,a,o,s,l,u,c,f,d,h,m,b,p=r("./global/utils/index.js");function v(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function g(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var y=(i=p.meta.notImplemented,n=p.meta.type("EveUiObject"),a=p.meta.string,o=p.meta.float,s=p.meta.struct(),l=p.meta.float,i(u=n((b=class extends p.meta.Model{constructor(...e){super(...e),v(this,"name",f,this),v(this,"boundingSphereRadius",d,this),v(this,"mesh",h,this),v(this,"modelScale",m,this)}},f=g((c=b).prototype,"name",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),d=g(c.prototype,"boundingSphereRadius",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),h=g(c.prototype,"mesh",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),m=g(c.prototype,"modelScale",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),u=c))||u)||u)},"./unsupported/eve/ui/index.js":function(e,t,r){"use strict";r.r(t);var i=r("./unsupported/eve/ui/EveTacticalOverlay.js");r.d(t,"EveTacticalOverlay",(function(){return i.EveTacticalOverlay}));var n=r("./unsupported/eve/ui/EveUiObject.js");r.d(t,"EveUiObject",(function(){return n.EveUiObject}))},"./unsupported/index.js":function(e,t,r){"use strict";r.r(t);var i=r("./unsupported/core/index.js");r.d(t,"Tr2PointLight",(function(){return i.Tr2PointLight})),r.d(t,"Tr2ShLightingManager",(function(){return i.Tr2ShLightingManager})),r.d(t,"Tr2MeshLod",(function(){return i.Tr2MeshLod})),r.d(t,"Tr2ExternalParameter",(function(){return i.Tr2ExternalParameter})),r.d(t,"Tr2Texture2dLodParameter",(function(){return i.Tr2Texture2dLodParameter})),r.d(t,"Tr2PostProcess",(function(){return i.Tr2PostProcess})),r.d(t,"Tr2LodResource",(function(){return i.Tr2LodResource})),r.d(t,"TriMatrix",(function(){return i.TriMatrix})),r.d(t,"Tr2DistanceTracker",(function(){return i.Tr2DistanceTracker})),r.d(t,"TriObserverLocal",(function(){return i.TriObserverLocal}));var n=r("./unsupported/curve/index.js");r.d(t,"Tr2RotationAdapter",(function(){return n.Tr2RotationAdapter})),r.d(t,"Tr2TranslationAdapter",(function(){return n.Tr2TranslationAdapter})),r.d(t,"AudEventKey",(function(){return n.AudEventKey})),r.d(t,"AudEventCurve",(function(){return n.AudEventCurve})),r.d(t,"Tr2BoneMatrixCurve",(function(){return n.Tr2BoneMatrixCurve})),r.d(t,"Tr2CurveConstant",(function(){return n.Tr2CurveConstant})),r.d(t,"Tw2CurveScalarKey",(function(){return n.Tw2CurveScalarKey})),r.d(t,"Tr2CurveScalar",(function(){return n.Tr2CurveScalar})),r.d(t,"Tr2ScalarExprKey",(function(){return n.Tr2ScalarExprKey})),r.d(t,"Tr2ScalarExprKeyCurve",(function(){return n.Tr2ScalarExprKeyCurve})),r.d(t,"Tr2ScalarExprCurve",(function(){return n.Tr2ScalarExprCurve})),r.d(t,"Tr2CurveEulerRotationExpression",(function(){return n.Tr2CurveEulerRotationExpression})),r.d(t,"Tr2CurveScalarExpression",(function(){return n.Tr2CurveScalarExpression})),r.d(t,"Tr2CurveVector3Expression",(function(){return n.Tr2CurveVector3Expression})),r.d(t,"Tw2CurveExpression",(function(){return n.Tw2CurveExpression})),r.d(t,"Tw2CurveSetRange",(function(){return n.Tw2CurveSetRange}));var a=r("./unsupported/eve/index.js");r.d(t,"EveAnimation",(function(){return a.EveAnimation})),r.d(t,"EveAnimationCommand",(function(){return a.EveAnimationCommand})),r.d(t,"EveAnimationCurve",(function(){return a.EveAnimationCurve})),r.d(t,"EveAnimationState",(function(){return a.EveAnimationState})),r.d(t,"EveAnimationStateMachine",(function(){return a.EveAnimationStateMachine})),r.d(t,"EveChildModifierAttachToBone",(function(){return a.EveChildModifierAttachToBone})),r.d(t,"EveChildModifierBillboard2D",(function(){return a.EveChildModifierBillboard2D})),r.d(t,"EveChildModifierBillboard3D",(function(){return a.EveChildModifierBillboard3D})),r.d(t,"EveChildModifierCameraOrientedRotationConstrained",(function(){return a.EveChildModifierCameraOrientedRotationConstrained})),r.d(t,"EveChildModifierHalo",(function(){return a.EveChildModifierHalo})),r.d(t,"EveChildModifierSRT",(function(){return a.EveChildModifierSRT})),r.d(t,"EveChildModifierTranslateWithCamera",(function(){return a.EveChildModifierTranslateWithCamera})),r.d(t,"EveChildBulletStorm",(function(){return a.EveChildBulletStorm})),r.d(t,"EveChildCloud",(function(){return a.EveChildCloud})),r.d(t,"EveChildExplosion",(function(){return a.EveChildExplosion})),r.d(t,"EveChildInheritProperties",(function(){return a.EveChildInheritProperties})),r.d(t,"EveChildLink",(function(){return a.EveChildLink})),r.d(t,"EveChildParticleSphere",(function(){return a.EveChildParticleSphere})),r.d(t,"EveChildQuad",(function(){return a.EveChildQuad})),r.d(t,"EveStarfield",(function(){return a.EveStarfield})),r.d(t,"EveStretch2",(function(){return a.EveStretch2})),r.d(t,"EveBanner",(function(){return a.EveBanner})),r.d(t,"EveBoosterSet2Batch",(function(){return a.EveBoosterSet2Batch})),r.d(t,"EveBoosterSet2Item",(function(){return a.EveBoosterSet2Item})),r.d(t,"EveBoosterSet2",(function(){return a.EveBoosterSet2})),r.d(t,"EveHazeSetBatch",(function(){return a.EveHazeSetBatch})),r.d(t,"EveHazeSetItem",(function(){return a.EveHazeSetItem})),r.d(t,"EveHazeSet",(function(){return a.EveHazeSet})),r.d(t,"EveSpriteLineSetBatch",(function(){return a.EveSpriteLineSetBatch})),r.d(t,"EveSpriteLineSetItem",(function(){return a.EveSpriteLineSetItem})),r.d(t,"EveSpriteLineSet",(function(){return a.EveSpriteLineSet})),r.d(t,"EveTrailSetRenderBatch",(function(){return a.EveTrailSetRenderBatch})),r.d(t,"EveTrailsSet",(function(){return a.EveTrailsSet})),r.d(t,"EveEffectRoot2",(function(){return a.EveEffectRoot2})),r.d(t,"EveMobile",(function(){return a.EveMobile})),r.d(t,"EveRootTransform",(function(){return a.EveRootTransform})),r.d(t,"EveShip2",(function(){return a.EveShip2})),r.d(t,"EveStation2",(function(){return a.EveStation2})),r.d(t,"EveParticleDirectForce",(function(){return a.EveParticleDirectForce})),r.d(t,"EveParticleDragForce",(function(){return a.EveParticleDragForce})),r.d(t,"EveConnector",(function(){return a.EveConnector})),r.d(t,"EveLocalPositionCurve",(function(){return a.EveLocalPositionCurve})),r.d(t,"EveSpherePin",(function(){return a.EveSpherePin})),r.d(t,"EveTacticalOverlay",(function(){return a.EveTacticalOverlay})),r.d(t,"EveUiObject",(function(){return a.EveUiObject}));var o=r("./unsupported/interior/index.js");r.d(t,"Tr2IntSkinnedObject",(function(){return o.Tr2IntSkinnedObject})),r.d(t,"Tr2SkinnedModel",(function(){return o.Tr2SkinnedModel})),r.d(t,"Tr2InteriorLightSource",(function(){return o.Tr2InteriorLightSource})),r.d(t,"Tr2KelvinColor",(function(){return o.Tr2KelvinColor})),r.d(t,"Tr2InteriorPlaceable",(function(){return o.Tr2InteriorPlaceable})),r.d(t,"Tr2InteriorScene",(function(){return o.Tr2InteriorScene})),r.d(t,"WodPlaceableRes",(function(){return o.WodPlaceableRes})),r.d(t,"Tr2Model",(function(){return o.Tr2Model}));var s=r("./unsupported/particle/index.js");r.d(t,"Tr2PlaneConstraint",(function(){return s.Tr2PlaneConstraint})),r.d(t,"Tr2GpuSharedEmitter",(function(){return s.Tr2GpuSharedEmitter})),r.d(t,"Tr2GpuUniqueEmitter",(function(){return s.Tr2GpuUniqueEmitter})),r.d(t,"Tr2ForceSphereVolume",(function(){return s.Tr2ForceSphereVolume})),r.d(t,"Tr2ParticleVortexForce",(function(){return s.Tr2ParticleVortexForce})),r.d(t,"Tr2GpuParticleSystem",(function(){return s.Tr2GpuParticleSystem}));var l=r("./unsupported/state/index.js");r.d(t,"Tr2ActionAnimateCurveSet",(function(){return l.Tr2ActionAnimateCurveSet})),r.d(t,"Tr2ActionAnimateValue",(function(){return l.Tr2ActionAnimateValue})),r.d(t,"Tr2ActionChildEffect",(function(){return l.Tr2ActionChildEffect})),r.d(t,"Tr2ActionOverlay",(function(){return l.Tr2ActionOverlay})),r.d(t,"Tr2ActionPlayCurveSet",(function(){return l.Tr2ActionPlayCurveSet})),r.d(t,"Tr2ActionPlayMeshAnimation",(function(){return l.Tr2ActionPlayMeshAnimation})),r.d(t,"Tr2ActionPlaySound",(function(){return l.Tr2ActionPlaySound})),r.d(t,"Tr2ActionResetClipSphereCenter",(function(){return l.Tr2ActionResetClipSphereCenter})),r.d(t,"Tr2ActionSetValue",(function(){return l.Tr2ActionSetValue})),r.d(t,"Tr2ActionSpawnParticles",(function(){return l.Tr2ActionSpawnParticles})),r.d(t,"Tr2Controller",(function(){return l.Tr2Controller})),r.d(t,"Tr2ControllerReference",(function(){return l.Tr2ControllerReference})),r.d(t,"Tr2ControllerFloatVariable",(function(){return l.Tr2ControllerFloatVariable})),r.d(t,"Tr2StateMachine",(function(){return l.Tr2StateMachine})),r.d(t,"Tr2StateMachineState",(function(){return l.Tr2StateMachineState})),r.d(t,"Tr2StateMachineTransition",(function(){return l.Tr2StateMachineTransition})),r.d(t,"Tr2SyncToAnimation",(function(){return l.Tr2SyncToAnimation}));var u=r("./unsupported/AudEmitter.js");r.d(t,"AudEmitter",(function(){return u.AudEmitter}))},"./unsupported/interior/Tr2Model.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tr2Model",(function(){return v}));var i,n,a,o,s,l,u,c=r("./global/utils/index.js");var f,d,h,m,b,p,v=(i=c.meta.notImplemented,n=c.meta.type("Tr2Model"),a=c.meta.list("Tw2Mesh"),i(o=n((u=class extends c.meta.Model{constructor(...e){var t,r,i,n;super(...e),t=this,r="meshes",n=this,(i=l)&&Object.defineProperty(t,r,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}},f=(s=u).prototype,d="meshes",h=[a],m={configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}},p={},Object.keys(m).forEach((function(e){p[e]=m[e]})),p.enumerable=!!p.enumerable,p.configurable=!!p.configurable,("value"in p||p.initializer)&&(p.writable=!0),p=h.slice().reverse().reduce((function(e,t){return t(f,d,e)||e}),p),b&&void 0!==p.initializer&&(p.value=p.initializer?p.initializer.call(b):void 0,p.initializer=void 0),void 0===p.initializer&&(Object.defineProperty(f,d,p),p=null),l=p,o=s))||o)||o)},"./unsupported/interior/character/Tr2IntSkinnedObject.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tr2IntSkinnedObject",(function(){return v}));var i,n,a,o,s,l,u,c,f,d,h,m=r("./global/utils/index.js");function b(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function p(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var v=(i=m.meta.notImplemented,n=m.meta.type("Tr2IntSkinnedObject"),a=m.meta.list("Tw2CurveSet"),o=m.meta.struct("TriMatrix"),s=m.meta.struct("Tr2SkinnedModel"),i(l=n((h=class extends m.meta.Model{constructor(...e){super(...e),b(this,"curveSets",c,this),b(this,"transform",f,this),b(this,"visualModel",d,this)}},c=p((u=h).prototype,"curveSets",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),f=p(u.prototype,"transform",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),d=p(u.prototype,"visualModel",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),l=u))||l)||l)},"./unsupported/interior/character/Tr2SkinnedModel.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tr2SkinnedModel",(function(){return y}));var i,n,a,o,s,l,u,c,f,d,h,m,b,p=r("./global/utils/index.js");function v(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function g(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var y=(i=p.meta.notImplemented,n=p.meta.type("Tr2SkinnedModel"),a=p.meta.string,o=p.meta.path,s=p.meta.list(),l=p.meta.string,i(u=n((b=class extends p.meta.Model{constructor(...e){super(...e),v(this,"name",f,this),v(this,"geometryResPath",d,this),v(this,"meshes",h,this),v(this,"skeletonName",m,this)}},f=g((c=b).prototype,"name",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),d=g(c.prototype,"geometryResPath",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),h=g(c.prototype,"meshes",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),m=g(c.prototype,"skeletonName",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),u=c))||u)||u)},"./unsupported/interior/character/index.js":function(e,t,r){"use strict";r.r(t);var i=r("./unsupported/interior/character/Tr2IntSkinnedObject.js");r.d(t,"Tr2IntSkinnedObject",(function(){return i.Tr2IntSkinnedObject}));var n=r("./unsupported/interior/character/Tr2SkinnedModel.js");r.d(t,"Tr2SkinnedModel",(function(){return n.Tr2SkinnedModel}))},"./unsupported/interior/index.js":function(e,t,r){"use strict";r.r(t);var i=r("./unsupported/interior/character/index.js");r.d(t,"Tr2IntSkinnedObject",(function(){return i.Tr2IntSkinnedObject})),r.d(t,"Tr2SkinnedModel",(function(){return i.Tr2SkinnedModel}));var n=r("./unsupported/interior/lighting/index.js");r.d(t,"Tr2InteriorLightSource",(function(){return n.Tr2InteriorLightSource})),r.d(t,"Tr2KelvinColor",(function(){return n.Tr2KelvinColor}));var a=r("./unsupported/interior/scene/index.js");r.d(t,"Tr2InteriorPlaceable",(function(){return a.Tr2InteriorPlaceable})),r.d(t,"Tr2InteriorScene",(function(){return a.Tr2InteriorScene})),r.d(t,"WodPlaceableRes",(function(){return a.WodPlaceableRes}));var o=r("./unsupported/interior/Tr2Model.js");r.d(t,"Tr2Model",(function(){return o.Tr2Model}))},"./unsupported/interior/lighting/Tr2InteriorLightSource.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tr2InteriorLightSource",(function(){return L}));var i,n,a,o,s,l,u,c,f,d,h,m,b,p,v,g,y,w,E,T,S,_,j,R,z,O,P,A,x,M=r("./global/utils/index.js"),C=r("./global/math/index.js");function D(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function I(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var L=(i=M.meta.notImplemented,n=M.meta.type("Tr2InteriorLightSource"),a=M.meta.string,o=M.meta.color,s=M.meta.float,l=M.meta.float,u=M.meta.vector3,c=M.meta.float,f=M.meta.float,d=M.meta.float,h=M.meta.struct("Tr2KelvinColor"),m=M.meta.vector3,b=M.meta.float,p=M.meta.boolean,i(v=n((x=class extends M.meta.Model{constructor(...e){super(...e),D(this,"name",y,this),D(this,"color",w,this),D(this,"coneAlphaInner",E,this),D(this,"coneAlphaOuter",T,this),D(this,"coneDirection",S,this),D(this,"falloff",_,this),D(this,"importanceBias",j,this),D(this,"importanceScale",R,this),D(this,"kelvinColor",z,this),D(this,"position",O,this),D(this,"radius",P,this),D(this,"useKelvinColor",A,this)}},y=I((g=x).prototype,"name",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),w=I(g.prototype,"color",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return C.vec4.create()}}),E=I(g.prototype,"coneAlphaInner",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),T=I(g.prototype,"coneAlphaOuter",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),S=I(g.prototype,"coneDirection",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return C.vec3.create()}}),_=I(g.prototype,"falloff",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),j=I(g.prototype,"importanceBias",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),R=I(g.prototype,"importanceScale",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),z=I(g.prototype,"kelvinColor",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),O=I(g.prototype,"position",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return C.vec3.create()}}),P=I(g.prototype,"radius",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),A=I(g.prototype,"useKelvinColor",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),v=g))||v)||v)},"./unsupported/interior/lighting/Tr2KelvinColor.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tr2KelvinColor",(function(){return b}));var i,n,a,o,s,l,u,c,f,d=r("./global/utils/index.js");function h(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function m(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var b=(i=d.meta.notImplemented,n=d.meta.type("Tr2KelvinColor"),a=d.meta.float,o=d.meta.float,i(s=n((f=class extends d.meta.Model{constructor(...e){super(...e),h(this,"temperature",u,this),h(this,"tint",c,this)}},u=m((l=f).prototype,"temperature",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),c=m(l.prototype,"tint",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),s=l))||s)||s)},"./unsupported/interior/lighting/index.js":function(e,t,r){"use strict";r.r(t);var i=r("./unsupported/interior/lighting/Tr2InteriorLightSource.js");r.d(t,"Tr2InteriorLightSource",(function(){return i.Tr2InteriorLightSource}));var n=r("./unsupported/interior/lighting/Tr2KelvinColor.js");r.d(t,"Tr2KelvinColor",(function(){return n.Tr2KelvinColor}))},"./unsupported/interior/scene/Tr2InteriorPlaceable.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tr2InteriorPlaceable",(function(){return b}));var i,n,a,o,s,l,u,c,f,d=r("./global/utils/index.js");function h(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function m(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var b=(i=d.meta.notImplemented,n=d.meta.type("Tr2InteriorPlaceable"),a=d.meta.path,o=d.meta.struct("TriMatrix"),i(s=n((f=class extends d.meta.Model{constructor(...e){super(...e),h(this,"placeableResPath",u,this),h(this,"transform",c,this)}},u=m((l=f).prototype,"placeableResPath",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),c=m(l.prototype,"transform",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),s=l))||s)||s)},"./unsupported/interior/scene/Tr2InteriorScene.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tr2InteriorScene",(function(){return b}));var i,n,a,o,s,l,u,c,f,d=r("./global/utils/index.js");function h(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function m(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var b=(i=d.meta.notImplemented,n=d.meta.type("Tr2InteriorScene"),a=d.meta.list("Tr2IntSkinnedObject"),o=d.meta.list("Tr2InteriorLightSource"),i(s=n((f=class extends d.meta.Model{constructor(...e){super(...e),h(this,"dynamics",u,this),h(this,"lights",c,this)}},u=m((l=f).prototype,"dynamics",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),c=m(l.prototype,"lights",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),s=l))||s)||s)},"./unsupported/interior/scene/WodPlaceableRes.js":function(e,t,r){"use strict";r.r(t),r.d(t,"WodPlaceableRes",(function(){return v}));var i,n,a,o,s,l,u,c,f,d,h,m=r("./global/utils/index.js");function b(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function p(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var v=(i=m.meta.notImplemented,n=m.meta.type("WodPlaceableRes"),a=m.meta.float,o=m.meta.float,s=m.meta.struct("Tr2Model"),i(l=n((h=class extends m.meta.Model{constructor(...e){super(...e),b(this,"farFadeDistance",c,this),b(this,"nearFadeDistance",f,this),b(this,"visualModel",d,this)}},c=p((u=h).prototype,"farFadeDistance",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),f=p(u.prototype,"nearFadeDistance",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),d=p(u.prototype,"visualModel",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),l=u))||l)||l)},"./unsupported/interior/scene/index.js":function(e,t,r){"use strict";r.r(t);var i=r("./unsupported/interior/scene/Tr2InteriorPlaceable.js");r.d(t,"Tr2InteriorPlaceable",(function(){return i.Tr2InteriorPlaceable}));var n=r("./unsupported/interior/scene/Tr2InteriorScene.js");r.d(t,"Tr2InteriorScene",(function(){return n.Tr2InteriorScene}));var a=r("./unsupported/interior/scene/WodPlaceableRes.js");r.d(t,"WodPlaceableRes",(function(){return a.WodPlaceableRes}))},"./unsupported/particle/Tw2GpuParticleSystem.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tr2GpuParticleSystem",(function(){return O}));var i,n,a,o,s,l,u,c,f,d,h,m,b,p,v,g,y,w,E,T,S,_,j=r("./global/utils/index.js");function R(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function z(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var O=(i=j.meta.notImplemented,n=j.meta.type("Tr2GpuParticleSystem"),a=j.meta.struct("Tw2Effect"),o=j.meta.struct("Tw2Effect"),s=j.meta.struct("Tw2Effect"),l=j.meta.struct("Tw2Effect"),u=j.meta.struct("Tw2Effect"),c=j.meta.struct("Tw2Effect"),f=j.meta.struct("Tw2Effect"),d=j.meta.struct("Tw2Effect"),h=j.meta.struct("Tw2Effect"),i(m=n((p=z((b=class{constructor(){R(this,"clear",p,this),R(this,"emit",v,this),R(this,"render",g,this),R(this,"setDrawParameters",y,this),R(this,"setSortParameters",w,this),R(this,"sort",E,this),R(this,"sortInner",T,this),R(this,"sortStep",S,this),R(this,"update",_,this)}GetResources(e=[]){return this.clear&&this.clear.GetResources(e),this.EmitEvent&&this.EmitEvent.GetResources(e),this.render&&this.render.GetResources(e),this.setDrawParameters&&this.setDrawParameters.GetResources(e),this.setSortParameters&&this.setSortParameters.GetResources(e),this.sort&&this.sort.GetResources(e),this.sortInner&&this.sortInner.GetResources(e),this.sortStep&&this.sortStep.GetResources(e),this.update&&this.update.GetResources(e),e}}).prototype,"clear",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),v=z(b.prototype,"emit",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),g=z(b.prototype,"render",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),y=z(b.prototype,"setDrawParameters",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),w=z(b.prototype,"setSortParameters",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),E=z(b.prototype,"sort",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),T=z(b.prototype,"sortInner",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),S=z(b.prototype,"sortStep",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_=z(b.prototype,"update",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),m=b))||m)||m)},"./unsupported/particle/constraint/Tr2PlaneConstraint.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tr2PlaneConstraint",(function(){return p}));var i,n,a,o,s,l,u,c,f,d=r("./global/utils/index.js"),h=r("./unsupported/particle/constraint/Tw2ParticleConstraint.js");function m(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function b(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var p=(i=d.meta.notImplemented,n=d.meta.type("Tr2PlaneConstraint"),a=d.meta.list("Tw2PartcileAttributeGenerator"),o=d.meta.float,i(s=n((f=class extends h.Tw2ParticleConstraint{constructor(...e){super(...e),m(this,"generators",u,this),m(this,"reflectionNoise",c,this)}},u=b((l=f).prototype,"generators",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),c=b(l.prototype,"reflectionNoise",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),s=l))||s)||s)},"./unsupported/particle/constraint/Tw2ParticleConstraint.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tw2ParticleConstraint",(function(){return d}));var i,n,a=r("./global/utils/index.js");var o,s,l,u,c,f,d=(i=a.meta.abstract,n=class extends a.meta.Model{ApplyConstraint(e,t,r,i){}},o=n.prototype,s="ApplyConstraint",l=[i],u=Object.getOwnPropertyDescriptor(n.prototype,"ApplyConstraint"),c=n.prototype,f={},Object.keys(u).forEach((function(e){f[e]=u[e]})),f.enumerable=!!f.enumerable,f.configurable=!!f.configurable,("value"in f||f.initializer)&&(f.writable=!0),f=l.slice().reverse().reduce((function(e,t){return t(o,s,e)||e}),f),c&&void 0!==f.initializer&&(f.value=f.initializer?f.initializer.call(c):void 0,f.initializer=void 0),void 0===f.initializer&&(Object.defineProperty(o,s,f),f=null),n)},"./unsupported/particle/constraint/index.js":function(e,t,r){"use strict";r.r(t);var i=r("./unsupported/particle/constraint/Tr2PlaneConstraint.js");r.d(t,"Tr2PlaneConstraint",(function(){return i.Tr2PlaneConstraint}))},"./unsupported/particle/emitter/Tr2GpuSharedEmitter.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tr2GpuSharedEmitter",(function(){return je}));var i,n,a,o,s,l,u,c,f,d,h,m,b,p,v,g,y,w,E,T,S,_,j,R,z,O,P,A,x,M,C,D,I,L,F,G,B,N,U,k,V,H,q,W,Y,X,K,Q,Z,$,J,ee,te,re,ie,ne,ae,oe,se,le,ue,ce,fe,de,he,me,be,pe,ve,ge,ye,we=r("./global/utils/index.js"),Ee=r("./global/math/index.js"),Te=r("./particle/emitter/Tw2ParticleEmitter.js");function Se(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function _e(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var je=(i=we.meta.type("Tr2GpuSharedEmitter"),n=we.meta.notImplemented,a=we.meta.string,o=we.meta.float,s=we.meta.vector3,l=we.meta.float,u=we.meta.color,c=we.meta.color,f=we.meta.color,d=we.meta.color,h=we.meta.float,m=we.meta.boolean,b=we.meta.vector3,p=we.meta.float,v=we.meta.float,g=we.meta.float,y=we.meta.float,w=we.meta.float,E=we.meta.float,T=we.meta.float,S=we.meta.float,_=we.meta.float,j=we.meta.float,R=we.meta.float,z=we.meta.struct("Tr2GpuParticleSystem"),O=we.meta.vector3,P=we.meta.float,A=we.meta.float,x=we.meta.boolean,M=we.meta.float,C=we.meta.vector3,D=we.meta.uint,I=we.meta.float,L=we.meta.float,F=we.meta.float,i(G=n((ye=class extends Te.Tw2ParticleEmitter{constructor(...e){super(...e),Se(this,"name",N,this),Se(this,"angle",U,this),Se(this,"attractorPosition",k,this),Se(this,"attractorStrength",V,this),Se(this,"color0",H,this),Se(this,"color1",q,this),Se(this,"color2",W,this),Se(this,"color3",Y,this),Se(this,"colorMidpoint",X,this),Se(this,"continuousEmitter",K,this),Se(this,"direction",Q,this),Se(this,"drag",Z,this),Se(this,"emissionDensity",$,this),Se(this,"gravity",J,this),Se(this,"inheritVelocity",ee,this),Se(this,"innerAngle",te,this),Se(this,"maxDisplacement",re,this),Se(this,"maxEmissionDensity",ie,this),Se(this,"maxLifeTime",ne,this),Se(this,"maxSpeed",ae,this),Se(this,"minLifeTime",oe,this),Se(this,"minSpeed",se,this),Se(this,"particleSystem",le,this),Se(this,"position",ue,this),Se(this,"radius",ce,this),Se(this,"rate",fe,this),Se(this,"scaledByParent",de,this),Se(this,"sizeVariance",he,this),Se(this,"sizes",me,this),Se(this,"textureIndex",be,this),Se(this,"turbulenceAmplitude",pe,this),Se(this,"turbulenceFrequency",ve,this),Se(this,"velocityStretchRotation",ge,this)}},N=_e((B=ye).prototype,"name",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),U=_e(B.prototype,"angle",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),k=_e(B.prototype,"attractorPosition",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Ee.vec3.create()}}),V=_e(B.prototype,"attractorStrength",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),H=_e(B.prototype,"color0",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Ee.vec4.create()}}),q=_e(B.prototype,"color1",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Ee.vec4.create()}}),W=_e(B.prototype,"color2",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Ee.vec4.create()}}),Y=_e(B.prototype,"color3",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Ee.vec4.create()}}),X=_e(B.prototype,"colorMidpoint",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),K=_e(B.prototype,"continuousEmitter",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Q=_e(B.prototype,"direction",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Ee.vec3.create()}}),Z=_e(B.prototype,"drag",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),$=_e(B.prototype,"emissionDensity",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),J=_e(B.prototype,"gravity",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),ee=_e(B.prototype,"inheritVelocity",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),te=_e(B.prototype,"innerAngle",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),re=_e(B.prototype,"maxDisplacement",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),ie=_e(B.prototype,"maxEmissionDensity",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),ne=_e(B.prototype,"maxLifeTime",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),ae=_e(B.prototype,"maxSpeed",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),oe=_e(B.prototype,"minLifeTime",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),se=_e(B.prototype,"minSpeed",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),le=_e(B.prototype,"particleSystem",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ue=_e(B.prototype,"position",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Ee.vec3.create()}}),ce=_e(B.prototype,"radius",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),fe=_e(B.prototype,"rate",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),de=_e(B.prototype,"scaledByParent",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),he=_e(B.prototype,"sizeVariance",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),me=_e(B.prototype,"sizes",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Ee.vec3.create()}}),be=_e(B.prototype,"textureIndex",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),pe=_e(B.prototype,"turbulenceAmplitude",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),ve=_e(B.prototype,"turbulenceFrequency",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),ge=_e(B.prototype,"velocityStretchRotation",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),G=B))||G)||G)},"./unsupported/particle/emitter/Tr2GpuUniqueEmitter.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tr2GpuUniqueEmitter",(function(){return je}));var i,n,a,o,s,l,u,c,f,d,h,m,b,p,v,g,y,w,E,T,S,_,j,R,z,O,P,A,x,M,C,D,I,L,F,G,B,N,U,k,V,H,q,W,Y,X,K,Q,Z,$,J,ee,te,re,ie,ne,ae,oe,se,le,ue,ce,fe,de,he,me,be,pe,ve,ge,ye,we=r("./global/utils/index.js"),Ee=r("./global/math/index.js"),Te=r("./particle/emitter/Tw2ParticleEmitter.js");function Se(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function _e(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var je=(i=we.meta.type("Tr2GpuUniqueEmitter"),n=we.meta.notImplemented,a=we.meta.string,o=we.meta.float,s=we.meta.vector3,l=we.meta.float,u=we.meta.color,c=we.meta.color,f=we.meta.color,d=we.meta.color,h=we.meta.float,m=we.meta.boolean,b=we.meta.vector3,p=we.meta.float,v=we.meta.float,g=we.meta.float,y=we.meta.float,w=we.meta.float,E=we.meta.float,T=we.meta.float,S=we.meta.float,_=we.meta.float,j=we.meta.float,R=we.meta.float,z=we.meta.struct("Tr2GpuParticleSystem"),O=we.meta.vector3,P=we.meta.float,A=we.meta.float,x=we.meta.boolean,M=we.meta.float,C=we.meta.vector3,D=we.meta.uint,I=we.meta.float,L=we.meta.float,F=we.meta.float,i(G=n((ye=class extends Te.Tw2ParticleEmitter{constructor(...e){super(...e),Se(this,"name",N,this),Se(this,"angle",U,this),Se(this,"attractorPosition",k,this),Se(this,"attractorStrength",V,this),Se(this,"color0",H,this),Se(this,"color1",q,this),Se(this,"color2",W,this),Se(this,"color3",Y,this),Se(this,"colorMidpoint",X,this),Se(this,"continuousEmitter",K,this),Se(this,"direction",Q,this),Se(this,"drag",Z,this),Se(this,"emissionDensity",$,this),Se(this,"gravity",J,this),Se(this,"inheritVelocity",ee,this),Se(this,"innerAngle",te,this),Se(this,"maxDisplacement",re,this),Se(this,"maxEmissionDensity",ie,this),Se(this,"maxLifeTime",ne,this),Se(this,"maxSpeed",ae,this),Se(this,"minLifeTime",oe,this),Se(this,"minSpeed",se,this),Se(this,"particleSystem",le,this),Se(this,"position",ue,this),Se(this,"radius",ce,this),Se(this,"rate",fe,this),Se(this,"scaledByParent",de,this),Se(this,"sizeVariance",he,this),Se(this,"sizes",me,this),Se(this,"textureIndex",be,this),Se(this,"turbulenceAmplitude",pe,this),Se(this,"turbulenceFrequency",ve,this),Se(this,"velocityStretchRotation",ge,this)}},N=_e((B=ye).prototype,"name",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),U=_e(B.prototype,"angle",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),k=_e(B.prototype,"attractorPosition",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Ee.vec3.create()}}),V=_e(B.prototype,"attractorStrength",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),H=_e(B.prototype,"color0",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Ee.vec4.create()}}),q=_e(B.prototype,"color1",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Ee.vec4.create()}}),W=_e(B.prototype,"color2",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Ee.vec4.create()}}),Y=_e(B.prototype,"color3",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Ee.vec4.create()}}),X=_e(B.prototype,"colorMidpoint",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),K=_e(B.prototype,"continuousEmitter",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Q=_e(B.prototype,"direction",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Ee.vec3.create()}}),Z=_e(B.prototype,"drag",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),$=_e(B.prototype,"emissionDensity",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),J=_e(B.prototype,"gravity",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),ee=_e(B.prototype,"inheritVelocity",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),te=_e(B.prototype,"innerAngle",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),re=_e(B.prototype,"maxDisplacement",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),ie=_e(B.prototype,"maxEmissionDensity",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),ne=_e(B.prototype,"maxLifeTime",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),ae=_e(B.prototype,"maxSpeed",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),oe=_e(B.prototype,"minLifeTime",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),se=_e(B.prototype,"minSpeed",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),le=_e(B.prototype,"particleSystem",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ue=_e(B.prototype,"position",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Ee.vec3.create()}}),ce=_e(B.prototype,"radius",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),fe=_e(B.prototype,"rate",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),de=_e(B.prototype,"scaledByParent",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),he=_e(B.prototype,"sizeVariance",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),me=_e(B.prototype,"sizes",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Ee.vec3.create()}}),be=_e(B.prototype,"textureIndex",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),pe=_e(B.prototype,"turbulenceAmplitude",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),ve=_e(B.prototype,"turbulenceFrequency",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),ge=_e(B.prototype,"velocityStretchRotation",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),G=B))||G)||G)},"./unsupported/particle/emitter/index.js":function(e,t,r){"use strict";r.r(t);var i=r("./unsupported/particle/emitter/Tr2GpuSharedEmitter.js");r.d(t,"Tr2GpuSharedEmitter",(function(){return i.Tr2GpuSharedEmitter}));var n=r("./unsupported/particle/emitter/Tr2GpuUniqueEmitter.js");r.d(t,"Tr2GpuUniqueEmitter",(function(){return n.Tr2GpuUniqueEmitter}))},"./unsupported/particle/force/Tr2ForceSphereVolume.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tr2ForceSphereVolume",(function(){return p}));var i,n,a,o,s,l,u,c,f,d=r("./global/utils/index.js"),h=r("./particle/force/Tw2ParticleForce.js");function m(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function b(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var p=(i=d.meta.type("Tr2ForceSphereVolume"),n=d.meta.notImplemented,a=d.meta.list("Tw2ParticleForce"),o=d.meta.float,i(s=n((f=class extends h.Tw2ParticleForce{constructor(...e){super(...e),m(this,"forces",u,this),m(this,"radius",c,this)}Update(e){for(var t=0;t<this.forces.length;t++)this.forces[t].Update(e)}},u=b((l=f).prototype,"forces",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),c=b(l.prototype,"radius",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),s=l))||s)||s)},"./unsupported/particle/force/Tr2ParticleVortexForce.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tr2ParticleVortexForce",(function(){return y}));var i,n,a,o,s,l,u,c,f,d,h,m=r("./global/utils/index.js"),b=r("./global/math/index.js"),p=r("./particle/force/Tw2ParticleForce.js");function v(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function g(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var y=(i=m.meta.type("Tr2ParticleVortexForce"),n=m.meta.notImplemented,a=m.meta.vector3,o=m.meta.float,s=m.meta.vector3,i(l=n((h=class extends p.Tw2ParticleForce{constructor(...e){super(...e),v(this,"axis",c,this),v(this,"magnitude",f,this),v(this,"position",d,this)}},c=g((u=h).prototype,"axis",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return b.vec3.create()}}),f=g(u.prototype,"magnitude",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),d=g(u.prototype,"position",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return b.vec3.create()}}),l=u))||l)||l)},"./unsupported/particle/force/index.js":function(e,t,r){"use strict";r.r(t);var i=r("./unsupported/particle/force/Tr2ForceSphereVolume.js");r.d(t,"Tr2ForceSphereVolume",(function(){return i.Tr2ForceSphereVolume}));var n=r("./unsupported/particle/force/Tr2ParticleVortexForce.js");r.d(t,"Tr2ParticleVortexForce",(function(){return n.Tr2ParticleVortexForce}))},"./unsupported/particle/index.js":function(e,t,r){"use strict";r.r(t);var i=r("./unsupported/particle/constraint/index.js");r.d(t,"Tr2PlaneConstraint",(function(){return i.Tr2PlaneConstraint}));var n=r("./unsupported/particle/emitter/index.js");r.d(t,"Tr2GpuSharedEmitter",(function(){return n.Tr2GpuSharedEmitter})),r.d(t,"Tr2GpuUniqueEmitter",(function(){return n.Tr2GpuUniqueEmitter}));var a=r("./unsupported/particle/force/index.js");r.d(t,"Tr2ForceSphereVolume",(function(){return a.Tr2ForceSphereVolume})),r.d(t,"Tr2ParticleVortexForce",(function(){return a.Tr2ParticleVortexForce}));var o=r("./unsupported/particle/Tw2GpuParticleSystem.js");r.d(t,"Tr2GpuParticleSystem",(function(){return o.Tr2GpuParticleSystem}))},"./unsupported/state/Tr2StateMachine.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tr2StateMachine",(function(){return v}));var i,n,a,o,s,l,u,c,f,d,h,m=r("./global/utils/index.js");function b(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function p(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var v=(i=m.meta.notImplemented,n=m.meta.type("Tr2StateMachine"),a=m.meta.string,o=m.meta.uint,s=m.meta.list("Tr2StateMachineState"),i(l=n((h=class extends m.meta.Model{constructor(...e){super(...e),b(this,"name",c,this),b(this,"startState",f,this),b(this,"states",d,this)}},c=p((u=h).prototype,"name",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),f=p(u.prototype,"startState",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),d=p(u.prototype,"states",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),l=u))||l)||l)},"./unsupported/state/Tr2StateMachineState.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tr2StateMachineState",(function(){return y}));var i,n,a,o,s,l,u,c,f,d,h,m,b,p=r("./global/utils/index.js");function v(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function g(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var y=(i=p.meta.notImplemented,n=p.meta.type("Tr2StateMachineState"),a=p.meta.string,o=p.meta.list("Tw2Action"),s=p.meta.struct(),l=p.meta.list("Tr2StateMachineTransition"),i(u=n((b=class extends p.meta.Model{constructor(...e){super(...e),v(this,"name",f,this),v(this,"actions",d,this),v(this,"finalizer",h,this),v(this,"transitions",m,this)}},f=g((c=b).prototype,"name",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),d=g(c.prototype,"actions",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),h=g(c.prototype,"finalizer",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),m=g(c.prototype,"transitions",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),u=c))||u)||u)},"./unsupported/state/Tr2StateMachineTransition.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tr2StateMachineTransition",(function(){return b}));var i,n,a,o,s,l,u,c,f,d=r("./global/utils/index.js");function h(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function m(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var b=(i=d.meta.notImplemented,n=d.meta.type("Tr2StateMachineTransition"),a=d.meta.string,o=d.meta.string,i(s=n((f=class extends d.meta.Model{constructor(...e){super(...e),h(this,"name",u,this),h(this,"condition",c,this)}},u=m((l=f).prototype,"name",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),c=m(l.prototype,"condition",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),s=l))||s)||s)},"./unsupported/state/Tr2SyncToAnimation.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tr2SyncToAnimation",(function(){return a}));var i,n=r("./global/utils/index.js"),a=(0,n.meta.notImplemented)(i=n.meta.type("Tr2SyncToAnimation")(i=class extends n.meta.Model{})||i)||i},"./unsupported/state/action/Tr2ActionAnimateCurveSet.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tr2ActionAnimateCurveSet",(function(){return p}));var i,n,a,o,s,l,u,c,f,d=r("./global/utils/index.js"),h=r("./unsupported/state/action/Tw2Action.js");function m(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function b(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var p=(i=d.meta.notImplemented,n=d.meta.type("Tr2ActionAnimateCurveSet"),a=d.meta.struct("Tw2CurveSet"),o=d.meta.string,i(s=n((f=class extends h.Tw2Action{constructor(...e){super(...e),m(this,"curveSet",u,this),m(this,"value",c,this)}},u=b((l=f).prototype,"curveSet",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),c=b(l.prototype,"value",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),s=l))||s)||s)},"./unsupported/state/action/Tr2ActionAnimateValue.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tr2ActionAnimateValue",(function(){return w}));var i,n,a,o,s,l,u,c,f,d,h,m,b,p=r("./global/utils/index.js"),v=r("./unsupported/state/action/Tw2Action.js");function g(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function y(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var w=(i=p.meta.notImplemented,n=p.meta.type("Tr2ActionAnimateValue"),a=p.meta.string,o=p.meta.struct("Tr2CurveScalarExpression"),s=p.meta.path,l=p.meta.string,i(u=n((b=class extends v.Tw2Action{constructor(...e){super(...e),g(this,"attribute",f,this),g(this,"curve",d,this),g(this,"path",h,this),g(this,"value",m,this)}},f=y((c=b).prototype,"attribute",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),d=y(c.prototype,"curve",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),h=y(c.prototype,"path",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),m=y(c.prototype,"value",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),u=c))||u)||u)},"./unsupported/state/action/Tr2ActionChildEffect.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tr2ActionChildEffect",(function(){return g}));var i,n,a,o,s,l,u,c,f,d,h,m=r("./global/utils/index.js"),b=r("./unsupported/state/action/Tw2Action.js");function p(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function v(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var g=(i=m.meta.notImplemented,n=m.meta.type("Tr2ActionChildEffect"),a=m.meta.string,o=m.meta.path,s=m.meta.boolean,i(l=n((h=class extends b.Tw2Action{constructor(...e){super(...e),p(this,"childName",c,this),p(this,"path",f,this),p(this,"removeOnStop",d,this)}},c=v((u=h).prototype,"childName",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),f=v(u.prototype,"path",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),d=v(u.prototype,"removeOnStop",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),l=u))||l)||l)},"./unsupported/state/action/Tr2ActionOverlay.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tr2ActionOverlay",(function(){return g}));var i,n,a,o,s,l,u,c=r("./global/utils/index.js"),f=r("./unsupported/state/action/Tw2Action.js");var d,h,m,b,p,v,g=(i=c.meta.notImplemented,n=c.meta.type("Tr2ActionOverlay"),a=c.meta.path,i(o=n((u=class extends f.Tw2Action{constructor(...e){var t,r,i,n;super(...e),t=this,r="path",n=this,(i=l)&&Object.defineProperty(t,r,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}},d=(s=u).prototype,h="path",m=[a],b={configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}},v={},Object.keys(b).forEach((function(e){v[e]=b[e]})),v.enumerable=!!v.enumerable,v.configurable=!!v.configurable,("value"in v||v.initializer)&&(v.writable=!0),v=m.slice().reverse().reduce((function(e,t){return t(d,h,e)||e}),v),p&&void 0!==v.initializer&&(v.value=v.initializer?v.initializer.call(p):void 0,v.initializer=void 0),void 0===v.initializer&&(Object.defineProperty(d,h,v),v=null),l=v,o=s))||o)||o)},"./unsupported/state/action/Tr2ActionPlayCurveSet.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tr2ActionPlayCurveSet",(function(){return g}));var i,n,a,o,s,l,u,c,f,d,h,m=r("./global/utils/index.js"),b=r("./unsupported/state/action/Tw2Action.js");function p(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function v(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var g=(i=m.meta.notImplemented,n=m.meta.type("Tr2ActionPlayCurveSet"),a=m.meta.string,o=m.meta.string,s=m.meta.boolean,i(l=n((h=class extends b.Tw2Action{constructor(...e){super(...e),p(this,"curveSetName",c,this),p(this,"rangeName",f,this),p(this,"syncToRange",d,this)}},c=v((u=h).prototype,"curveSetName",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),f=v(u.prototype,"rangeName",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),d=v(u.prototype,"syncToRange",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),l=u))||l)||l)},"./unsupported/state/action/Tr2ActionPlayMeshAnimation.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tr2ActionPlayMeshAnimation",(function(){return g}));var i,n,a,o,s,l,u,c,f,d,h,m=r("./global/utils/index.js"),b=r("./unsupported/state/action/Tw2Action.js");function p(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function v(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var g=(i=m.meta.notImplemented,n=m.meta.type("Tr2ActionPlayMeshAnimation"),a=m.meta.string,o=m.meta.uint,s=m.meta.string,i(l=n((h=class extends b.Tw2Action{constructor(...e){super(...e),p(this,"animation",c,this),p(this,"loops",f,this),p(this,"mask",d,this)}},c=v((u=h).prototype,"animation",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),f=v(u.prototype,"loops",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),d=v(u.prototype,"mask",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),l=u))||l)||l)},"./unsupported/state/action/Tr2ActionPlaySound.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tr2ActionPlaySound",(function(){return p}));var i,n,a,o,s,l,u,c,f,d=r("./global/utils/index.js"),h=r("./unsupported/state/action/Tw2Action.js");function m(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function b(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var p=(i=d.meta.notImplemented,n=d.meta.type("Tr2ActionPlaySound"),a=d.meta.string,o=d.meta.string,i(s=n((f=class extends h.Tw2Action{constructor(...e){super(...e),m(this,"emitter",u,this),m(this,"event",c,this)}},u=b((l=f).prototype,"emitter",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),c=b(l.prototype,"event",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),s=l))||s)||s)},"./unsupported/state/action/Tr2ActionResetClipSphereCenter.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tr2ActionResetClipSphereCenter",(function(){return o}));var i,n=r("./global/utils/index.js"),a=r("./unsupported/state/action/Tw2Action.js"),o=(0,n.meta.notImplemented)(i=n.meta.type("Tr2ActionResetClipSphereCenter")(i=class extends a.Tw2Action{})||i)||i},"./unsupported/state/action/Tr2ActionSetValue.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tr2ActionSetValue",(function(){return g}));var i,n,a,o,s,l,u,c,f,d,h,m=r("./global/utils/index.js"),b=r("./unsupported/state/action/Tw2Action.js");function p(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function v(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var g=(i=m.meta.notImplemented,n=m.meta.type("Tr2ActionSetValue"),a=m.meta.string,o=m.meta.path,s=m.meta.string,i(l=n((h=class extends b.Tw2Action{constructor(...e){super(...e),p(this,"attribute",c,this),p(this,"path",f,this),p(this,"value",d,this)}},c=v((u=h).prototype,"attribute",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),f=v(u.prototype,"path",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),d=v(u.prototype,"value",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),l=u))||l)||l)},"./unsupported/state/action/Tr2ActionSpawnParticles.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tr2ActionSpawnParticles",(function(){return o}));var i,n=r("./global/utils/index.js"),a=r("./unsupported/state/action/Tw2Action.js"),o=(0,n.meta.notImplemented)(i=n.meta.type("Tr2ActionSpawnParticles")(i=class extends a.Tw2Action{})||i)||i},"./unsupported/state/action/Tw2Action.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tw2Action",(function(){return a}));var i,n=r("./global/utils/index.js"),a=n.meta.type("Tw2Action")(i=class extends n.meta.Model{})||i},"./unsupported/state/action/index.js":function(e,t,r){"use strict";r.r(t);var i=r("./unsupported/state/action/Tr2ActionAnimateCurveSet.js");r.d(t,"Tr2ActionAnimateCurveSet",(function(){return i.Tr2ActionAnimateCurveSet}));var n=r("./unsupported/state/action/Tr2ActionAnimateValue.js");r.d(t,"Tr2ActionAnimateValue",(function(){return n.Tr2ActionAnimateValue}));var a=r("./unsupported/state/action/Tr2ActionChildEffect.js");r.d(t,"Tr2ActionChildEffect",(function(){return a.Tr2ActionChildEffect}));var o=r("./unsupported/state/action/Tr2ActionOverlay.js");r.d(t,"Tr2ActionOverlay",(function(){return o.Tr2ActionOverlay}));var s=r("./unsupported/state/action/Tr2ActionPlayCurveSet.js");r.d(t,"Tr2ActionPlayCurveSet",(function(){return s.Tr2ActionPlayCurveSet}));var l=r("./unsupported/state/action/Tr2ActionPlayMeshAnimation.js");r.d(t,"Tr2ActionPlayMeshAnimation",(function(){return l.Tr2ActionPlayMeshAnimation}));var u=r("./unsupported/state/action/Tr2ActionPlaySound.js");r.d(t,"Tr2ActionPlaySound",(function(){return u.Tr2ActionPlaySound}));var c=r("./unsupported/state/action/Tr2ActionResetClipSphereCenter.js");r.d(t,"Tr2ActionResetClipSphereCenter",(function(){return c.Tr2ActionResetClipSphereCenter}));var f=r("./unsupported/state/action/Tr2ActionSetValue.js");r.d(t,"Tr2ActionSetValue",(function(){return f.Tr2ActionSetValue}));var d=r("./unsupported/state/action/Tr2ActionSpawnParticles.js");r.d(t,"Tr2ActionSpawnParticles",(function(){return d.Tr2ActionSpawnParticles}))},"./unsupported/state/controller/Tr2Controller.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tr2Controller",(function(){return y}));var i,n,a,o,s,l,u,c,f,d,h,m,b,p=r("./global/utils/index.js");function v(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function g(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var y=(i=p.meta.notImplemented,n=p.meta.type("Tr2Controller"),a=p.meta.string,o=p.meta.boolean,s=p.meta.list("Tr2StateMachine"),l=p.meta.list("Tr2ControllerFloatVariable"),i(u=n((b=class extends p.meta.Model{constructor(...e){super(...e),v(this,"name",f,this),v(this,"isShared",d,this),v(this,"stateMachines",h,this),v(this,"variables",m,this)}},f=g((c=b).prototype,"name",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),d=g(c.prototype,"isShared",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),h=g(c.prototype,"stateMachines",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),m=g(c.prototype,"variables",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),u=c))||u)||u)},"./unsupported/state/controller/Tr2ControllerReference.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tr2ControllerReference",(function(){return v}));var i,n,a,o,s,l,u,c=r("./global/utils/index.js");var f,d,h,m,b,p,v=(i=c.meta.notImplemented,n=c.meta.type("Tr2ControllerReference"),a=c.meta.path,i(o=n((u=class extends c.meta.Model{constructor(...e){var t,r,i,n;super(...e),t=this,r="path",n=this,(i=l)&&Object.defineProperty(t,r,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}},f=(s=u).prototype,d="path",h=[a],m={configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}},p={},Object.keys(m).forEach((function(e){p[e]=m[e]})),p.enumerable=!!p.enumerable,p.configurable=!!p.configurable,("value"in p||p.initializer)&&(p.writable=!0),p=h.slice().reverse().reduce((function(e,t){return t(f,d,e)||e}),p),b&&void 0!==p.initializer&&(p.value=p.initializer?p.initializer.call(b):void 0,p.initializer=void 0),void 0===p.initializer&&(Object.defineProperty(f,d,p),p=null),l=p,o=s))||o)||o)},"./unsupported/state/controller/index.js":function(e,t,r){"use strict";r.r(t);var i=r("./unsupported/state/controller/Tr2Controller.js");r.d(t,"Tr2Controller",(function(){return i.Tr2Controller}));var n=r("./unsupported/state/controller/Tr2ControllerReference.js");r.d(t,"Tr2ControllerReference",(function(){return n.Tr2ControllerReference}))},"./unsupported/state/index.js":function(e,t,r){"use strict";r.r(t);var i=r("./unsupported/state/action/index.js");r.d(t,"Tr2ActionAnimateCurveSet",(function(){return i.Tr2ActionAnimateCurveSet})),r.d(t,"Tr2ActionAnimateValue",(function(){return i.Tr2ActionAnimateValue})),r.d(t,"Tr2ActionChildEffect",(function(){return i.Tr2ActionChildEffect})),r.d(t,"Tr2ActionOverlay",(function(){return i.Tr2ActionOverlay})),r.d(t,"Tr2ActionPlayCurveSet",(function(){return i.Tr2ActionPlayCurveSet})),r.d(t,"Tr2ActionPlayMeshAnimation",(function(){return i.Tr2ActionPlayMeshAnimation})),r.d(t,"Tr2ActionPlaySound",(function(){return i.Tr2ActionPlaySound})),r.d(t,"Tr2ActionResetClipSphereCenter",(function(){return i.Tr2ActionResetClipSphereCenter})),r.d(t,"Tr2ActionSetValue",(function(){return i.Tr2ActionSetValue})),r.d(t,"Tr2ActionSpawnParticles",(function(){return i.Tr2ActionSpawnParticles}));var n=r("./unsupported/state/controller/index.js");r.d(t,"Tr2Controller",(function(){return n.Tr2Controller})),r.d(t,"Tr2ControllerReference",(function(){return n.Tr2ControllerReference}));var a=r("./unsupported/state/variable/index.js");r.d(t,"Tr2ControllerFloatVariable",(function(){return a.Tr2ControllerFloatVariable}));var o=r("./unsupported/state/Tr2StateMachine.js");r.d(t,"Tr2StateMachine",(function(){return o.Tr2StateMachine}));var s=r("./unsupported/state/Tr2StateMachineState.js");r.d(t,"Tr2StateMachineState",(function(){return s.Tr2StateMachineState}));var l=r("./unsupported/state/Tr2StateMachineTransition.js");r.d(t,"Tr2StateMachineTransition",(function(){return l.Tr2StateMachineTransition}));var u=r("./unsupported/state/Tr2SyncToAnimation.js");r.d(t,"Tr2SyncToAnimation",(function(){return u.Tr2SyncToAnimation}))},"./unsupported/state/variable/Tr2ControllerFloatVariable.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Tr2ControllerFloatVariable",(function(){return g}));var i,n,a,o,s,l,u,c,f,d,h,m,b=r("./global/utils/index.js");function p(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function v(e,t,r,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var g=(i=b.meta.notImplemented,n=b.meta.type("Tr2ControllerFloatVariable"),a=b.meta.string,o=b.meta.float,s=b.meta.enums(),l=b.meta.uint,i(u=n((f=v((c=class{constructor(){p(this,"name",f,this),p(this,"defaultValue",d,this),p(this,"enumValues",h,this),p(this,"variableType",m,this)}GetEnumsAsString(){var e=[];for(var t in this.enumValues)this.enumValues.hasOwnProperty(t)&&e.push("".concat(t,"=").concat(this.enumValues[t]));return e.sort().join(",")}}).prototype,"name",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),d=v(c.prototype,"defaultValue",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),h=v(c.prototype,"enumValues",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),m=v(c.prototype,"variableType",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),u=c))||u)||u)},"./unsupported/state/variable/index.js":function(e,t,r){"use strict";r.r(t);var i=r("./unsupported/state/variable/Tr2ControllerFloatVariable.js");r.d(t,"Tr2ControllerFloatVariable",(function(){return i.Tr2ControllerFloatVariable}))}})}));